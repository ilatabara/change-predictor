id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fironic~master~I4cb67e6807f2853e696a893ecf311b2e032669be,openstack/ironic,master,I4cb67e6807f2853e696a893ecf311b2e032669be,Make raid clean steps configurable,ABANDONED,2015-09-18 00:25:15.000000000,2023-01-11 17:36:00.000000000,,"[{'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 10380}, {'_account_id': 12356}, {'_account_id': 14923}]","[{'number': 1, 'created': '2015-09-18 00:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7ad5260cd6c7ec15718cc92428e940b111eb124', 'message': 'Agent Inband RAID configuration available in cleaning\n\nThis patch makes inband RAID configuration using agent ramdisk\navailable as steps in the automated cleaning operation.\n\nThis was refactored from revision 21 of\nIfa640d4839b2f08410ceec57c2972e2f9dc69db3\n\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\nImplements: blueprint inband-raid-configuration\nCo-Authored-By: Ramakrishnan G <rameshg87@gmail.com>\n'}, {'number': 2, 'created': '2015-09-18 11:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a1b7c796c954f5df6b8dfccdecacbf132e1d051', 'message': 'Agent Inband RAID configuration available in cleaning\n\nThis patch makes inband RAID configuration using agent ramdisk\navailable as steps in the automated cleaning operation.\n\nThis was refactored from revision 21 of\nIfa640d4839b2f08410ceec57c2972e2f9dc69db3\n\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\nImplements: blueprint inband-raid-configuration\nCo-Authored-By: Ramakrishnan G <rameshg87@gmail.com>\n'}, {'number': 3, 'created': '2015-09-18 14:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/925a93fa7648185e67f8d0347f6cf1062021456d', 'message': 'Agent Inband RAID configuration available in cleaning\n\nThis patch makes inband RAID configuration using agent ramdisk\navailable as steps in the automated cleaning operation.\n\nThis was refactored from revision 21 of\nIfa640d4839b2f08410ceec57c2972e2f9dc69db3\n\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\nImplements: blueprint inband-raid-configuration\nCo-Authored-By: Ramakrishnan G <rameshg87@gmail.com>\n'}, {'number': 4, 'created': '2015-09-21 14:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad071284d6d5a8649aedee2de74f1ad4b8ebb9f2', 'message': 'Agent Inband RAID configuration available in cleaning\n\nThis patch makes inband RAID configuration using agent ramdisk\navailable as steps in the automated cleaning operation.\n\nThis was refactored from revision 21 of\nIfa640d4839b2f08410ceec57c2972e2f9dc69db3\n\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\nImplements: blueprint inband-raid-configuration\nCo-Authored-By: Ramakrishnan G <rameshg87@gmail.com>\n'}, {'number': 5, 'created': '2015-09-21 18:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/693aedb3b321fb6e2c3e602002de432ddc826777', 'message': 'Agent Inband RAID configuration available in cleaning\n\nThis patch makes inband RAID configuration using agent ramdisk\navailable as steps in the automated cleaning operation.\n\nThis was refactored from revision 21 of\nIfa640d4839b2f08410ceec57c2972e2f9dc69db3\n\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\nImplements: blueprint inband-raid-configuration\nCo-Authored-By: Ramakrishnan G <rameshg87@gmail.com>\n'}, {'number': 6, 'created': '2015-09-22 03:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f17304e2d7f0cd9d4ce08235c499796bdb5f48e', 'message': 'Agent Inband RAID configuration available in cleaning\n\nThis patch makes inband RAID configuration using agent ramdisk\navailable as steps in the automated cleaning operation.\n\nThis was refactored from revision 21 of\nIfa640d4839b2f08410ceec57c2972e2f9dc69db3\n\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\nImplements: blueprint inband-raid-configuration\nCo-Authored-By: Ramakrishnan G <rameshg87@gmail.com>\n'}, {'number': 7, 'created': '2015-09-24 07:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a8e543af0e2e4debe0e7c2b4e35ba00f2f91316', 'message': 'Make raid clean steps configurable\n\nThis patch makes in-band RAID clean steps configurable\nin the CONF file.  Even though claiming RAID for cleaning\nneeds other issues to be solved, making the priority of the\nthese clean step configurable helps someone who has homogenous\nhardware all of which support RAID.\n\nIt adds two new CONF variables [agent]create_raid_config_priority\nand [agent]delete_raid_config_priority which defines priorities\nfor these in-band steps.\n\nImplements: blueprint inband-raid-configuration\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\n'}, {'number': 8, 'created': '2015-09-24 13:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b66237c063fe86b4233bd95519441d715c5a9ae', 'message': 'Make raid clean steps configurable\n\nThis patch makes in-band RAID clean steps configurable\nin the CONF file.  Even though claiming RAID for cleaning\nneeds other issues to be solved, making the priority of the\nthese clean step configurable helps someone who has homogenous\nhardware all of which support RAID.\n\nIt adds two new CONF variables [agent]create_raid_config_priority\nand [agent]delete_raid_config_priority which defines priorities\nfor these in-band steps.  It also marks the feature as experimental\nin the description of CONF variables.\n\nImplements: blueprint inband-raid-configuration\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\n'}, {'number': 9, 'created': '2015-09-24 13:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c05316ae050a59fe8a9c62a26813d6b694742aac', 'message': 'Make raid clean steps configurable\n\nThis patch makes in-band RAID clean steps configurable\nin the CONF file.  Even though claiming RAID for cleaning\nneeds other issues to be solved, making the priority of the\nthese clean step configurable helps someone who has homogenous\nhardware all of which support RAID.\n\nIt adds two new CONF variables [agent]create_raid_config_priority\nand [agent]delete_raid_config_priority which defines priorities\nfor these in-band steps.  It also marks the feature as experimental\nin the description of CONF variables.\n\nImplements: blueprint inband-raid-configuration\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\n'}, {'number': 10, 'created': '2015-09-24 14:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9e54642ed3a2fa2631de36861d9b06b582ba3c5', 'message': 'Make raid clean steps configurable\n\nThis patch makes in-band RAID clean steps configurable\nin the CONF file.  Even though claiming RAID for cleaning\nneeds other issues to be solved, making the priority of the\nthese clean step configurable helps someone who has homogenous\nhardware all of which support RAID.\n\nIt adds two new CONF variables [agent]create_raid_config_priority\nand [agent]delete_raid_config_priority which defines priorities\nfor these in-band steps.  It also marks the feature as experimental\nin the description of CONF variables.\n\nImplements: blueprint inband-raid-configuration\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\n'}, {'number': 11, 'created': '2015-09-24 14:22:11.000000000', 'files': ['ironic/drivers/modules/agent.py', 'etc/ironic/ironic.conf.sample', 'ironic/tests/drivers/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/332ae181765dd8884d56edc511e826e5c33b5115', 'message': 'Make raid clean steps configurable\n\nThis patch makes in-band RAID clean steps configurable\nin the CONF file.  Even though claiming RAID for cleaning\nneeds other issues to be solved, making the priority of the\nthese clean step configurable helps someone who has homogenous\nhardware all of which support RAID.\n\nIt adds two new CONF variables [agent]create_raid_config_priority\nand [agent]delete_raid_config_priority which defines priorities\nfor these in-band steps.  It also marks the feature as experimental\nin the description of CONF variables.\n\nImplements: blueprint inband-raid-configuration\nChange-Id: I4cb67e6807f2853e696a893ecf311b2e032669be\n'}]",43,224938,332ae181765dd8884d56edc511e826e5c33b5115,58,7,11,6618,,,0,"Make raid clean steps configurable

This patch makes in-band RAID clean steps configurable
in the CONF file.  Even though claiming RAID for cleaning
needs other issues to be solved, making the priority of the
these clean step configurable helps someone who has homogenous
hardware all of which support RAID.

It adds two new CONF variables [agent]create_raid_config_priority
and [agent]delete_raid_config_priority which defines priorities
for these in-band steps.  It also marks the feature as experimental
in the description of CONF variables.

Implements: blueprint inband-raid-configuration
Change-Id: I4cb67e6807f2853e696a893ecf311b2e032669be
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/224938/9 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/tests/drivers/test_agent.py']",2,a7ad5260cd6c7ec15718cc92428e940b111eb124,bp/inband-raid-configuration," self.config(group='agent', create_raid_config_priority=1) self.config(group='agent', delete_raid_config_priority=2) self.assertEqual(1, ret[0]['priority']) self.assertEqual(2, ret[1]['priority'])"," self.assertEqual(0, ret[0]['priority']) self.assertEqual(0, ret[1]['priority'])",34,2
openstack%2Fironic~master~Icc9b0fbd7e97608a380aef902921f4394d728711,openstack/ironic,master,Icc9b0fbd7e97608a380aef902921f4394d728711,Replace rootwrap_config with root_helper config,ABANDONED,2016-06-27 14:56:10.000000000,2023-01-11 17:34:11.000000000,,"[{'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 13636}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-06-27 14:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6cf2b5d578aa4b2815dc528ed5a69a5c51fdec4', 'message': ""Replace rootwrap_config with root_helper config\n\nThe execute() command is duplicated in ironic and ironic-lib.\nThis removes ironic's execute() and changes ironic to use\nironic-lib's execute().\n\nTo do this means deprecating ironic's rootwrap_config configuration\noption (slated for removal in Ocata), and using\n[ironic-lib]root_helper config option instead. The root_helper\nconfiguration option is different from rootwrap_config but can be\nderived from rootwrap_config.\n\nChange-Id: Icc9b0fbd7e97608a380aef902921f4394d728711\nCloses-Bug: #1525795\n""}, {'number': 2, 'created': '2016-06-27 15:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34bb3fb361fc417e012543478adec27496704388', 'message': ""Replace rootwrap_config with root_helper config\n\nThe execute() command is duplicated in ironic and ironic-lib.\nThis removes ironic's execute() and changes ironic to use\nironic-lib's execute().\n\nTo do this means deprecating ironic's rootwrap_config configuration\noption (slated for removal in Ocata), and using\n[ironic-lib]root_helper config option instead. The root_helper\nconfiguration option is different from rootwrap_config but can be\nderived from rootwrap_config.\n\nChange-Id: Icc9b0fbd7e97608a380aef902921f4394d728711\nCloses-Bug: #1525795\n""}, {'number': 3, 'created': '2016-06-30 03:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11bd3e05dc39fc2114b12592de1a7b3478bf4584', 'message': ""Replace rootwrap_config with root_helper config\n\nThe execute() command is duplicated in ironic and ironic-lib.\nThis removes ironic's execute() and changes ironic to use\nironic-lib's execute().\n\nTo do this means deprecating ironic's rootwrap_config configuration\noption (slated for removal in Ocata), and using\n[ironic-lib]root_helper config option instead. A warning will be\nlogged if rootwrap_config was set to a non-default value.\nThe root_helper configuration option is different from\nrootwrap_config but can be derived from rootwrap_config.\n\nChange-Id: Icc9b0fbd7e97608a380aef902921f4394d728711\nCloses-Bug: #1525795\n""}, {'number': 4, 'created': '2016-06-30 12:30:38.000000000', 'files': ['ironic/common/service.py', 'ironic/tests/unit/common/test_utils.py', 'ironic/tests/unit/drivers/modules/amt/test_common.py', 'ironic/common/utils.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_images.py', 'devstack/lib/ironic', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/images.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/amt/common.py', 'releasenotes/notes/rootwrap_config_deprecate-7de8c44a285c3be6.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/10f97058ab73b85234b20e3c73e3f528d4ba0c00', 'message': ""Replace rootwrap_config with root_helper config\n\nThe execute() command is duplicated in ironic and ironic-lib.\nThis removes ironic's execute() and changes ironic to use\nironic-lib's execute().\n\nTo do this means deprecating ironic's rootwrap_config configuration\noption (slated for removal in Ocata), and using\n[ironic-lib]root_helper config option instead. A warning will be\nlogged if rootwrap_config was set to a non-default value.\nThe root_helper configuration option is different from\nrootwrap_config but can be derived from rootwrap_config.\n\nChange-Id: Icc9b0fbd7e97608a380aef902921f4394d728711\nCloses-Bug: #1525795\n""}]",5,334522,10f97058ab73b85234b20e3c73e3f528d4ba0c00,44,13,4,6618,,,0,"Replace rootwrap_config with root_helper config

The execute() command is duplicated in ironic and ironic-lib.
This removes ironic's execute() and changes ironic to use
ironic-lib's execute().

To do this means deprecating ironic's rootwrap_config configuration
option (slated for removal in Ocata), and using
[ironic-lib]root_helper config option instead. A warning will be
logged if rootwrap_config was set to a non-default value.
The root_helper configuration option is different from
rootwrap_config but can be derived from rootwrap_config.

Change-Id: Icc9b0fbd7e97608a380aef902921f4394d728711
Closes-Bug: #1525795
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/334522/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/common/test_utils.py', 'ironic/common/images.py', 'ironic/tests/unit/drivers/modules/amt/test_common.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/amt/common.py', 'ironic/common/utils.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",11,c6cf2b5d578aa4b2815dc528ed5a69a5c51fdec4,bug/1525795,"from ironic_lib import utils as ironic_utils @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True) @mock.patch.object(ironic_utils, 'execute', autospec=True)"," @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True)",116,277
openstack%2Fnova~master~I1cf9f05f019e29bdda0cf64440094884edf79279,openstack/nova,master,I1cf9f05f019e29bdda0cf64440094884edf79279,Allow plus sign in flavor ids,ABANDONED,2021-03-23 15:58:37.000000000,2023-01-11 17:32:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-03-23 15:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d13a662ac8f4691ce90c19bf2aeaeaaf32e9cced', 'message': 'Allow plus sign in flavor ids\n\nThe flavor id is a string that allowed the minus sign but not the\nplus sign. This fixes it so that plus signs can be used in flavor\nids.\n\nChange-Id: I1cf9f05f019e29bdda0cf64440094884edf79279\n'}, {'number': 2, 'created': '2021-03-23 16:08:54.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'releasenotes/notes/bug-1920938-flavorid-plus-af16ed1db5b54662.yaml', 'nova/api/openstack/compute/schemas/flavor_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c255af9597982c05ec02dec612a10376607b22d3', 'message': 'Allow plus sign in flavor ids\n\nThe flavor id is a string that allowed the minus sign but not the\nplus sign. This fixes it so that plus signs can be used in flavor\nids.\n\nCloses-Bug: #1920938\n\nChange-Id: I1cf9f05f019e29bdda0cf64440094884edf79279\n'}]",0,782545,c255af9597982c05ec02dec612a10376607b22d3,7,3,2,6618,,,0,"Allow plus sign in flavor ids

The flavor id is a string that allowed the minus sign but not the
plus sign. This fixes it so that plus signs can be used in flavor
ids.

Closes-Bug: #1920938

Change-Id: I1cf9f05f019e29bdda0cf64440094884edf79279
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/782545/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'releasenotes/notes/bug-1920938-flavorid-plus-af16ed1db5b54662.yaml', 'nova/api/openstack/compute/schemas/flavor_manage.py']",3,d13a662ac8f4691ce90c19bf2aeaeaaf32e9cced,bug/1920938, 'pattern': '^(?! )[a-zA-Z0-9. _+-]+(?<! )$', 'pattern': '^(?! )[a-zA-Z0-9. _-]+(?<! )$',10,1
openstack%2Fironic-specs~master~Ic2e98efabf63ad8e6570ae5cb775bbe63dab6389,openstack/ironic-specs,master,Ic2e98efabf63ad8e6570ae5cb775bbe63dab6389,move node from rebuild 'deploy failed' to 'active',ABANDONED,2020-10-23 19:27:29.000000000,2023-01-11 17:30:47.000000000,,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-23 19:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9f332a7ddb6fed19d94a5791a4d1dc2ff05573b8', 'message': ""move node from rebuild 'deploy failed' to 'active'\n\nSpec proposes an API to do a reset, and move an ironic node\nfrom a rebuild 'deploy failed' to 'active' provision state.\n\nChange-Id: Ic2e98efabf63ad8e6570ae5cb775bbe63dab6389\nStory: #2008175\nTask: #40930\n""}, {'number': 2, 'created': '2020-10-23 20:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/96a7f6262be9a82399e10b368b5e63b2cdfa55e1', 'message': ""move node from rebuild 'deploy failed' to 'active'\n\nSpec proposes an API to do a reset, and move an ironic node\nfrom a rebuild 'deploy failed' to 'active' provision state.\n\nChange-Id: Ic2e98efabf63ad8e6570ae5cb775bbe63dab6389\nStory: #2008175\nTask: #40930\n""}, {'number': 3, 'created': '2020-10-23 21:16:35.000000000', 'files': ['specs/approved/deploy-fail-to-active.rst', 'specs/not-implemented/deploy-fail-to-active.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4e7af74770dd264b3f31372085587cbe9236ed16', 'message': ""move node from rebuild 'deploy failed' to 'active'\n\nSpec proposes an API to do a reset, and move an ironic node\nfrom a rebuild 'deploy failed' to 'active' provision state.\n\nChange-Id: Ic2e98efabf63ad8e6570ae5cb775bbe63dab6389\nStory: #2008175\nTask: #40930\n""}]",12,759511,4e7af74770dd264b3f31372085587cbe9236ed16,14,3,3,6618,,,0,"move node from rebuild 'deploy failed' to 'active'

Spec proposes an API to do a reset, and move an ironic node
from a rebuild 'deploy failed' to 'active' provision state.

Change-Id: Ic2e98efabf63ad8e6570ae5cb775bbe63dab6389
Story: #2008175
Task: #40930
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/11/759511/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/deploy-fail-to-active.rst', 'specs/not-implemented/deploy-fail-to-active.rst']",2,9f332a7ddb6fed19d94a5791a4d1dc2ff05573b8,story/2008175,../approved/deploy-fail-to-active.rst,,253,0
openstack%2Fironic~master~I2aa3cbc4b9fa33ad8cf84d1a782ea1fbd14cd5b1,openstack/ironic,master,I2aa3cbc4b9fa33ad8cf84d1a782ea1fbd14cd5b1,"When pxe-booting, try to set boot device",ABANDONED,2022-11-21 16:08:42.000000000,2023-01-11 17:29:34.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 16:08:42.000000000', 'files': ['ironic/drivers/modules/pxe_base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/48c70c4d99b78dcb0660aea738c6c20be3fc767f', 'message': ""When pxe-booting, try to set boot device\n\nWhen pxe-booting, try to set the boot device. Setting the\nboot device could result in an IPMI failure -- we don't\nwant that to cause a failure in the pxe-booting process.\n\nWhen retrying a pxe boot, modify the log to indicate what\nprovision state the ironic node is in. The data gathered\ncould be useful for tweaking the option settings like the\n[pxe]boot_retry_timeout value.\n\nChange-Id: I2aa3cbc4b9fa33ad8cf84d1a782ea1fbd14cd5b1\n""}]",5,864818,48c70c4d99b78dcb0660aea738c6c20be3fc767f,7,2,1,6618,,,0,"When pxe-booting, try to set boot device

When pxe-booting, try to set the boot device. Setting the
boot device could result in an IPMI failure -- we don't
want that to cause a failure in the pxe-booting process.

When retrying a pxe boot, modify the log to indicate what
provision state the ironic node is in. The data gathered
could be useful for tweaking the option settings like the
[pxe]boot_retry_timeout value.

Change-Id: I2aa3cbc4b9fa33ad8cf84d1a782ea1fbd14cd5b1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/864818/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/pxe_base.py'],1,48c70c4d99b78dcb0660aea738c6c20be3fc767f,pxe-reboot," deploy_utils.try_set_boot_device(task, boot_devices.PXE, persistent=False) deploy_utils.try_set_boot_device(task, boot_device, persistent=True) node = task.node if (node.maintenance or node.provision_state or not _should_retry_boot(node)): LOG.info('Booting the ramdisk on node %(node)s, state %(pstate)s, is ' 'taking more than %(timeout)d sec, retrying boot', {'node': node.uuid, 'pstate': node.provision_state, deploy_utils.try_set_boot_device(task, boot_devices.PXE, persistent=False)"," manager_utils.node_set_boot_device(task, boot_devices.PXE, persistent=False) manager_utils.node_set_boot_device(task, boot_device, persistent=True) if (task.node.maintenance or task.node.provision_state or not _should_retry_boot(task.node)): LOG.info('Booting the ramdisk on node %(node)s is taking more than ' '%(timeout)d seconds, retrying boot', {'node': task.node.uuid, manager_utils.node_set_boot_device(task, boot_devices.PXE, persistent=False)",13,11
openstack%2Fneutron-tempest-plugin~master~I0bca93e9eac311978ef65c15af5ea793e2164631,openstack/neutron-tempest-plugin,master,I0bca93e9eac311978ef65c15af5ea793e2164631,Run security group scenario tests against stateless security groups too,MERGED,2022-12-15 13:17:35.000000000,2023-01-11 17:29:27.000000000,2023-01-11 17:29:27.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 13:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/15a81c477929f30a767b08a1c4a780b1c9a2a7c1', 'message': 'Run security group scenario tests against stateless security groups too\n\nWith this patch all relevant scenario tests related to Security groups will be\nrun for the default (stateful) security groups and also for stateless\nsecurity groups by passing ""stateful=False"" to the\ncreate_security_group() function.\n\nChange-Id: I0bca93e9eac311978ef65c15af5ea793e2164631\n'}, {'number': 2, 'created': '2022-12-21 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/299c604b196bd60e871b4c458f82ab1c6918d74b', 'message': 'Run security group scenario tests against stateless security groups too\n\nWith this patch all relevant scenario tests related to Security groups will be\nrun for the default (stateful) security groups and also for stateless\nsecurity groups by passing ""stateful=False"" to the\ncreate_security_group() function.\n\nChange-Id: I0bca93e9eac311978ef65c15af5ea793e2164631\n'}, {'number': 3, 'created': '2022-12-22 15:44:03.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/83979b9205612353e8cdcdff5d4ca28c83003f24', 'message': 'Run security group scenario tests against stateless security groups too\n\nWith this patch all relevant scenario tests related to Security groups will be\nrun for the default (stateful) security groups and also for stateless\nsecurity groups by passing ""stateful=False"" to the\ncreate_security_group() function.\n\nChange-Id: I0bca93e9eac311978ef65c15af5ea793e2164631\n'}]",10,867802,83979b9205612353e8cdcdff5d4ca28c83003f24,21,4,3,11975,,,0,"Run security group scenario tests against stateless security groups too

With this patch all relevant scenario tests related to Security groups will be
run for the default (stateful) security groups and also for stateless
security groups by passing ""stateful=False"" to the
create_security_group() function.

Change-Id: I0bca93e9eac311978ef65c15af5ea793e2164631
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/02/867802/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py']",3,15a81c477929f30a767b08a1c4a780b1c9a2a7c1,stateless-security-groups-testing," def create_ingress_metadata_secgroup_rule(cls, secgroup_id=None, client=None): """"""This rule is intended to permit inbound metadata traffic Allowing ingress traffic from metadata server, required only for stateless security groups. """""" if getattr(cls, 'stateless_sg'): # NOTE(slaweq): in case of stateless security groups, there is no # ""related"" or ""established"" traffic matching at all so even if # egress traffic to 169.254.169.254 is allowed by default SG, we # need to explicitly allow ingress traffic from the metadata server # to be able to receive responses in the guest vm cls.create_security_group_rule( security_group_id=secgroup_id, direction=neutron_lib_constants.INGRESS_DIRECTION, protocol=neutron_lib_constants.PROTO_NAME_TCP, remote_ip_prefix='169.254.169.254/32', description='metadata out' ) @classmethod",,390,164
openstack%2Fproject-config~master~Ic6b5f5a273d09dcd3f9cf60588d3e7fb90c4c695,openstack/project-config,master,Ic6b5f5a273d09dcd3f9cf60588d3e7fb90c4c695,Add the woodpecker charm to Openstack charms,NEW,2023-01-10 18:58:01.000000000,2023-01-11 17:03:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-10 18:58:01.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9839555e90233b177bd9d87b3193b06dea84e906', 'message': 'Add the woodpecker charm to Openstack charms\n\nThis charm deploy a testing tool that enables to execute\nactions running performance tests to evaluate a ceph cluster.\n\nChange-Id: Ic6b5f5a273d09dcd3f9cf60588d3e7fb90c4c695\n'}]",1,869751,9839555e90233b177bd9d87b3193b06dea84e906,3,1,1,33741,,,0,"Add the woodpecker charm to Openstack charms

This charm deploy a testing tool that enables to execute
actions running performance tests to evaluate a ceph cluster.

Change-Id: Ic6b5f5a273d09dcd3f9cf60588d3e7fb90c4c695
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/869751/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,9839555e90233b177bd9d87b3193b06dea84e906,, - openstack/charm-woodpecker,,7,0
openstack%2Fadjutant~stable%2Fzed~Id02633f731255e9994e1578225e32a54291797ec,openstack/adjutant,stable/zed,Id02633f731255e9994e1578225e32a54291797ec,Zed: Don't change db model post-release,NEW,2022-12-14 23:24:06.000000000,2023-01-11 16:55:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-14 23:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/1b2361908686037441e7f6ae30fafb7957dfe642', 'message': ""Zed: Don't change db model post-release\n\nstable/zed should remain with the same DB model, and not change.\n\nThis causes Django warnings, but functionality remains, and the\nwarning is fixed in Antelope.\n\nChange-Id: Id02633f731255e9994e1578225e32a54291797ec\n""}, {'number': 2, 'created': '2022-12-14 23:30:17.000000000', 'files': ['adjutant/actions/migrations/0005_alter_action_auto_approve.py', 'adjutant/actions/models.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/5123ebbb71ac6a7d0d9ce299f54ec0b8fa3c7280', 'message': ""Zed: Don't change db model post-release\n\nstable/zed should remain with the same DB model, and not change.\n\nThis causes Django warnings, but functionality remains, and the\nwarning is fixed in Antelope.\n\nChange-Id: Id02633f731255e9994e1578225e32a54291797ec\n""}]",1,867750,5123ebbb71ac6a7d0d9ce299f54ec0b8fa3c7280,4,2,2,14394,,,0,"Zed: Don't change db model post-release

stable/zed should remain with the same DB model, and not change.

This causes Django warnings, but functionality remains, and the
warning is fixed in Antelope.

Change-Id: Id02633f731255e9994e1578225e32a54291797ec
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/50/867750/2 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/actions/migrations/0005_alter_action_auto_approve.py', 'adjutant/actions/models.py']",2,1b2361908686037441e7f6ae30fafb7957dfe642,, auto_approve = models.NullBooleanField(default=None)," auto_approve = models.BooleanField(default=None, null=True)",1,19
openstack%2Fbarbican~master~Id920d274100078ad922f8686d29c0b9a8612ac7d,openstack/barbican,master,Id920d274100078ad922f8686d29c0b9a8612ac7d,Secret consumers documentation,MERGED,2022-09-09 10:24:13.000000000,2023-01-11 16:47:31.000000000,2023-01-11 16:46:22.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 35125}]","[{'number': 1, 'created': '2022-09-09 10:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9916de5f14781107f23d16cadb75679040e68649', 'message': 'Secret consumers documentation\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 2, 'created': '2022-09-09 12:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/47a44caea3478b7f2fc52888bb4f00d9a4f527e9', 'message': 'Secret consumers documentation\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 3, 'created': '2022-09-09 13:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b02a79f899ad7de9d763c9868054d6f9596e6d07', 'message': 'Secret consumers documentation\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 4, 'created': '2022-12-07 18:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/86948eed9f382954cb2de9099e6f56d14b78200d', 'message': 'Secret consumers documentation\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 5, 'created': '2022-12-22 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7c102e3e3ac6913c50578aa0e636358de8fbe984', 'message': 'Secret consumers documentation\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 6, 'created': '2023-01-02 09:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c68c481793dbaeb6c93c0eb0a7ed00606dab428b', 'message': 'Secret consumers documentation\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 7, 'created': '2023-01-02 20:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bfea4f783f7669a8c0c88b52c2289f5373f31214', 'message': 'Secret consumers documentation\n\nThis also adds the missing oslo.policy to the docs requirements,\nsince openstack-tox-docs job fails otherwise.\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 8, 'created': '2023-01-03 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/606aaadd17c6c7c1715abc8b24112681174a18bf', 'message': 'Secret consumers documentation\n\nThis also adds the missing oslo libraries to the docs\nrequirements, since openstack-tox-docs job fails otherwise.\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 9, 'created': '2023-01-03 11:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/89d2aa279486ce14b8a47bd5b6cbd909660295f9', 'message': 'Secret consumers documentation\n\nThis also adds the missing oslo libraries to the docs\nrequirements, since openstack-tox-docs job fails otherwise.\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}, {'number': 10, 'created': '2023-01-03 13:39:31.000000000', 'files': ['doc/source/api/index.rst', 'doc/source/api/reference/container_consumers.rst', 'doc/source/api/reference/secret_consumers.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f1046a605292498399de1a9959f1d4926ba09f22', 'message': 'Secret consumers documentation\n\nThis also adds the requirements.txt to the docs tox env,\nto fix the failing openstack-tox-docs CI job.\n\nChange-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d\n'}]",28,856695,f1046a605292498399de1a9959f1d4926ba09f22,49,4,10,14250,,,0,"Secret consumers documentation

This also adds the requirements.txt to the docs tox env,
to fix the failing openstack-tox-docs CI job.

Change-Id: Id920d274100078ad922f8686d29c0b9a8612ac7d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/95/856695/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/index.rst', 'doc/source/api/reference/container_consumers.rst', 'doc/source/api/reference/secret_consumers.rst']",3,9916de5f14781107f23d16cadb75679040e68649,secret-consumers,"Secret consumers API - ReferenceGET {secret_ref}/consumersLists a secret's consumers.| service | string | Filter by service type as shown in | | | | https://service-types.openstack.org/service-types.json | | | | default service is None. | +----------+---------+----------------------------------------------------------------+ GET {secret_ref}/consumers ""created"": ""2015-10-15T21:06:33.123872"", ""status"": ""ACTIVE"", ""service"": ""service1"", ""resource_type"": ""image"", ""resource_id"": ""consumer_id_1"" ""created"": ""2015-10-15T21:17:08.092408"", ""status"": ""ACTIVE"", ""service"": ""service1"", ""resource_type"": ""image"", ""resource_id"": ""consumer_id_2"" ""created"": ""2015-10-15T21:21:29.970365"", ""status"": ""ACTIVE"", ""service"": ""service2"", ""resource_type"": ""image"", ""resource_id"": ""consumer_id_1"" GET {secret_ref}/consumers?limit=1\&offset=1 ""next"": ""http://localhost:9311/v1/secrets/{secret_ref}/consumers?limit=1&offset=2"", ""created"": ""2015-10-15T21:17:08.092408"", ""status"": ""ACTIVE"", ""service"": ""service1"", ""resource_type"": ""image"", ""resource_id"": ""consumer_id_2"" ""previous"": ""http://localhost:9311/v1/secrets/{secret_ref}/consumers?limit=1&offset=0""POST {secret_ref}/consumers+--------------------+---------+---------------------------------------------------------+------------+ | Attribute Name | Type | Description | Default | +====================+=========+=========================================================+============+ | service | string | Consumer’s OpenStack service type as shown in | None | | | | https://service-types.openstack.org/service-types.json | | +--------------------+---------+---------------------------------------------------------+------------+ | resource_type | string | Name of the resource type using the secret | None | | | | e.g. “images” or “lbaas/loadbalancers” | | +--------------------+---------+---------------------------------------------------------+------------+ | resource_id | string | Unique identifier for the resource using this secret. | None | +--------------------+---------+---------------------------------------------------------+------------+ POST {secret_ref}/consumers ""service"": ""ServiceName"", ""resource_type"": ""ConsumerType"", ""resource_id"": ""ConsumerID"" ""name"": ""secret name"", ""service"": ""ServiceName"", ""resource_type"": ""ConsumerType"", ""resource_id"": ""ConsumerID"" ""secret_ref"": ""http://localhost:9311/v1/secrets/74bbd3fd-9ba8-42ee-b87e-2eecf10e47b9"", ""secret_type"": ""opaque"", ""expiration"": null, ""algorithm"": ""aes"", ""bit_length"": 256, ""mode"": ""cbc""DELETE {secret_ref}/consumers+--------------------+---------+---------------------------------------------------------+------------+ | Attribute Name | Type | Description | Default | +====================+=========+=========================================================+============+ | service | string | Consumer’s OpenStack service type as shown in | None | | | | https://service-types.openstack.org/service-types.json | | +--------------------+---------+---------------------------------------------------------+------------+ | resource_type | string | Name of the resource type using the secret | None | | | | e.g. “images” or “lbaas/loadbalancers” | | +--------------------+---------+---------------------------------------------------------+------------+ | resource_id | string | Unique identifier for the resource using this secret. | None | +--------------------+---------+---------------------------------------------------------+------------+ DELETE {secret_ref}/consumers ""service"": ""ServiceName"", ""resource_type"": ""ConsumerType"", ""resource_id"": ""ConsumerID"" ""name"": ""secret name"", ""secret_ref"": ""http://localhost:9311/v1/secrets/74bbd3fd-9ba8-42ee-b87e-2eecf10e47b9"", ""secret_type"": ""opaque"", ""expiration"": null, ""algorithm"": ""aes"", ""bit_length"": 256, ""mode"": ""cbc""","Consumers API - ReferenceGET {container_ref}/consumersLists a container's consumers. GET {container_ref}/consumers ""status"": ""ACTIVE"", ""URL"": ""consumerurl"", ""name"": ""consumername"", ""created"": ""2015-10-15T21:06:33.123872"" ""status"": ""ACTIVE"", ""URL"": ""consumerURL2"", ""name"": ""consumername2"", ""created"": ""2015-10-15T21:17:08.092408"" ""status"": ""ACTIVE"", ""URL"": ""consumerURL3"", ""name"": ""consumername3"", ""created"": ""2015-10-15T21:21:29.970365"" GET {container_ref}/consumers?limit=1\&offset=1 ""next"": ""http://localhost:9311/v1/containers/{container_ref}/consumers?limit=1&offset=2"", ""status"": ""ACTIVE"", ""URL"": ""consumerURL2"", ""name"": ""consumername2"", ""created"": ""2015-10-15T21:17:08.092408"" ""previous"": ""http://localhost:9311/v1/containers/{container_ref}/consumers?limit=1&offset=0""POST {container_ref}/consumers+----------------------------+---------+----------------------------------------------+------------+ | Attribute Name | Type | Description | Default | +============================+=========+==============================================+============+ | name | string | The name of the consumer set by the user. | None | +----------------------------+---------+----------------------------------------------+------------+ | url | string | The URL for the user or service using the | None | | | | container. | | +----------------------------+---------+----------------------------------------------+------------+ POST {container_ref}/consumers ""name"": ""ConsumerName"", ""url"": ""ConsumerURL"" ""name"": ""container name"", ""URL"": ""consumerURL"", ""name"": ""consumername"" ""container_ref"": ""http://localhost:9311/v1/containers/74bbd3fd-9ba8-42ee-b87e-2eecf10e47b9"", ""secret_refs"": [ { ""secret_ref"": ""http://localhost:9311/v1/secrets/b61613fc-be53-4696-ac01-c3a789e87973"", ""name"": ""private_key"" } ], ""type"": ""generic""DELETE {container_ref}/consumers+----------------------------+---------+----------------------------------------------+------------+ | Attribute Name | Type | Description | Default | +============================+=========+==============================================+============+ | name | string | The name of the consumer set by the user. | None | +----------------------------+---------+----------------------------------------------+------------+ | URL | string | The URL for the user or service using the | None | | | | container. | | +----------------------------+---------+----------------------------------------------+------------+ DELETE {container_ref}/consumers ""name"": ""ConsumerName"", ""URL"": ""ConsumerURL"" ""name"": ""container name"", ""container_ref"": ""http://localhost:9311/v1/containers/74bbd3fd-9ba8-42ee-b87e-2eecf10e47b9"", ""secret_refs"": [ { ""secret_ref"": ""http://localhost:9311/v1/secrets/b61613fc-be53-4696-ac01-c3a789e87973"", ""name"": ""private_key"" } ], ""type"": ""generic""",89,75
openstack%2Fopenstack-ansible~master~I1ea5343e97c2fdf890904010518f4cfd30314144,openstack/openstack-ansible,master,I1ea5343e97c2fdf890904010518f4cfd30314144,Bump pip and wheel to latest versions,MERGED,2023-01-10 13:07:20.000000000,2023-01-11 16:28:14.000000000,2023-01-11 16:26:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 13:07:20.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/164a338665d75565de4cc5e49d32ac86be4f1d13', 'message': 'Bump pip and wheel to latest versions\n\nChange-Id: I1ea5343e97c2fdf890904010518f4cfd30314144\n'}]",0,869715,164a338665d75565de4cc5e49d32ac86be4f1d13,8,3,1,25023,,,0,"Bump pip and wheel to latest versions

Change-Id: I1ea5343e97c2fdf890904010518f4cfd30314144
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/869715/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,164a338665d75565de4cc5e49d32ac86be4f1d13,,pip==22.3.1 wheel==0.38.4,pip==22.1.2 wheel==0.37.1,2,2
openstack%2Fopenstack-ansible~master~Iaf9188145997636e42a2bcdb72c921a5e7c21a69,openstack/openstack-ansible,master,Iaf9188145997636e42a2bcdb72c921a5e7c21a69,Fix comment typo in nova install playbook,MERGED,2023-01-10 11:49:34.000000000,2023-01-11 16:25:54.000000000,2023-01-11 16:24:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 11:49:34.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ddc02946dfebf6fd39540b131ac5137f711fd00', 'message': 'Fix comment typo in nova install playbook\n\nChange-Id: Iaf9188145997636e42a2bcdb72c921a5e7c21a69\n'}]",0,869686,7ddc02946dfebf6fd39540b131ac5137f711fd00,8,3,1,25023,,,0,"Fix comment typo in nova install playbook

Change-Id: Iaf9188145997636e42a2bcdb72c921a5e7c21a69
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/869686/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,7ddc02946dfebf6fd39540b131ac5137f711fd00,, # This variable contains the values of the local fact set for the nova # venv tag for all hosts in the 'nova_all' host group., # This variable contains the values of the local fact set for the cinder # venv tag for all hosts in the 'cinder_all' host group.,2,2
openstack%2Fsushy~stable%2Fzed~Iee925dd901d3b7e3407e9d2356b5d7b81d17fc55,openstack/sushy,stable/zed,Iee925dd901d3b7e3407e9d2356b5d7b81d17fc55,Fix tox4 and setuptools errors,ABANDONED,2023-01-02 14:02:16.000000000,2023-01-11 16:24:42.000000000,,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-02 14:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f36cb3a2892b876c3ad0497f30a70ecdee6811d3', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: Iee925dd901d3b7e3407e9d2356b5d7b81d17fc55\n(cherry picked from commit 22ca7f43127eaa070c403e267aeb620c40ca600d)\n'}, {'number': 2, 'created': '2023-01-11 16:24:10.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/efade674b9ddea020931f826574d0b7626f74d3d', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: Iee925dd901d3b7e3407e9d2356b5d7b81d17fc55\n(cherry picked from commit 22ca7f43127eaa070c403e267aeb620c40ca600d)\n'}]",4,868785,efade674b9ddea020931f826574d0b7626f74d3d,10,3,2,33244,,,0,"Fix tox4 and setuptools errors

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- disable setuptools autodiscovery

Change-Id: Iee925dd901d3b7e3407e9d2356b5d7b81d17fc55
(cherry picked from commit 22ca7f43127eaa070c403e267aeb620c40ca600d)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/85/868785/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,f36cb3a2892b876c3ad0497f30a70ecdee6811d3,moar-tox4-fix-stable/zed,,skipsdist = True,1,1
openstack%2Fopenstack-ansible-ceph_client~master~Ib2c755d38038b14ca3803de1bb9cbcec122eaa83,openstack/openstack-ansible-ceph_client,master,Ib2c755d38038b14ca3803de1bb9cbcec122eaa83,Define libvirt secrets from keyring files in ceph_extra_confs,MERGED,2022-12-16 12:26:50.000000000,2023-01-11 16:16:25.000000000,2023-01-11 16:15:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-16 12:26:50.000000000', 'files': ['tasks/ceph_auth_extra_compute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/e7ebbeb5da889e975ea0e6c12c8b0b3810170313', 'message': 'Define libvirt secrets from keyring files in ceph_extra_confs\n\nPreviously this required always access to the mon_host of the Ceph\ncluster to fetch the key for volume access. Now this key can be defined\nthrough Ceph keyring files.\n\nChange-Id: Ib2c755d38038b14ca3803de1bb9cbcec122eaa83\n'}]",0,867970,e7ebbeb5da889e975ea0e6c12c8b0b3810170313,8,3,1,31792,,,0,"Define libvirt secrets from keyring files in ceph_extra_confs

Previously this required always access to the mon_host of the Ceph
cluster to fetch the key for volume access. Now this key can be defined
through Ceph keyring files.

Change-Id: Ib2c755d38038b14ca3803de1bb9cbcec122eaa83
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/70/867970/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_auth_extra_compute.yml'],1,e7ebbeb5da889e975ea0e6c12c8b0b3810170313,keyring-from-files,"- name: Distribute extra key files from monitor host- name: Create extra key files from keyring files copy: src: ""{{ item.keyring_src }}"" dest: ""/tmp/{{ item.secret_uuid }}{{ item.client_name }}.key.tmp"" with_items: ""{{ ceph_extra_confs }}"" when: - item.keyring_src is defined - item.client_name is defined - item.secret_uuid is defined dest: /tmp/{{ item.secret_uuid }}{{ item.client_name }}-secret.xml command: ""virsh secret-define --file /tmp/{{ item.secret_uuid }}{{ item.client_name }}-secret.xml""- name: Set extra secret value(s) in libvirt from monitor host- name: Set extra secret value(s) in libvirt from keyring shell: ""virsh secret-set-value --secret {{ item.secret_uuid }} --base64 $(awk '/key = /{print $3}' /tmp/{{ item.secret_uuid }}{{ item.client_name }}.key.tmp)"" loop: ""{{ ceph_extra_confs }}"" loop_control: index_var: index when: - ""'client_name' in item"" - ""'keyring_src' in item"" - ""'secret_uuid' in item"" - item.secret_uuid not in libvirt_secret_value_exists.results[index].stdout_lines notify: - Restart os services path: ""/tmp/{{ item.secret_uuid }}{{ item.client_name }}-secret.xml"" state: ""absent"" with_items: ""{{ ceph_extra_confs }}"" when: - item.secret_uuid is defined - item.client_name is defined tags: - always - name: Remove libvirt key file from monitor host file: path: ""/tmp/{{ item.mon_host }}{{ item.client_name }}.key.tmp""- name: Remove libvirt key file from keyring file: path: ""/tmp/{{ item.secret_uuid }}{{ item.client_name }}.key.tmp"" - item.secret_uuid is defined","- name: Distribute extra key files dest: /tmp/{{ item.mon_host }}{{ item.client_name }}-secret.xml - item.mon_host is defined command: ""virsh secret-define --file /tmp/{{ item.mon_host }}{{ item.client_name }}-secret.xml"" - ""'mon_host' in item""- name: Set extra secret value(s) in libvirt path: ""/tmp/{{ item.mon_host }}{{ item.client_name }}-secret.xml""- name: Remove libvirt key file file: path: ""/tmp/{{ item.mon_host }}{{ item.client_name }}.key.tmp"" - item.mon_host is defined",42,10
openstack%2Fcharm-manila~stable%2Fzed~Ibd5b91d89c5930a4718a057c0ff9feaec43937ce,openstack/charm-manila,stable/zed,Ibd5b91d89c5930a4718a057c0ff9feaec43937ce,Updates for zed stable branch creation,MERGED,2022-10-14 16:06:57.000000000,2023-01-11 16:08:48.000000000,2023-01-11 16:08:48.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 16:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/704278d263a90e49ba86a2b3d8c6810505dc1447', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: Ibd5b91d89c5930a4718a057c0ff9feaec43937ce\n'}, {'number': 2, 'created': '2022-10-21 01:43:56.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/18aa3a785de35ff8e597ea465ed707cb0b04e474', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: Ibd5b91d89c5930a4718a057c0ff9feaec43937ce\n'}]",7,861431,18aa3a785de35ff8e597ea465ed707cb0b04e474,24,4,2,20870,,,0,"Updates for zed stable branch creation

- Set default branch for git review/gerrit to stable/zed
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file
- (classic charms) make sync
- (reactive: not reactive plugin): lock charm-tools < 3.1
- (reactive: with reactive plugin): lock charm snap to 3.x/stable

Change-Id: Ibd5b91d89c5930a4718a057c0ff9feaec43937ce
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/31/861431/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml']",10,704278d263a90e49ba86a2b3d8c6810505dc1447,zed-stable-updates, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: zed/edge channel: quincy/edge channel: quincy/edge channel: quincy/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: 3.9/edge channel: zed/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,320,70
openstack%2Fcharm-nova-compute-nvidia-vgpu~stable%2Fzed~Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3,openstack/charm-nova-compute-nvidia-vgpu,stable/zed,Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3,Updates for zed stable branch creation,MERGED,2022-10-14 16:08:51.000000000,2023-01-11 16:06:36.000000000,2023-01-11 16:06:36.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 16:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/89ce2b839f276fbf07bf4bc5e3d0dfce749e46f9', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3\n'}, {'number': 2, 'created': '2022-10-21 01:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/99948fe6c63f63136740bec42af58eaec42e7d75', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3\n'}, {'number': 3, 'created': '2022-10-26 18:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/9bf8c65fa84fe44b7d31e67b43dba101e6e40861', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3\n'}, {'number': 4, 'created': '2022-10-26 18:38:04.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'requirements.txt', '.gitreview', 'test-requirements.txt', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/b752379685823fc30ce24d96bf6f1926d710b934', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3\n'}]",3,861444,b752379685823fc30ce24d96bf6f1926d710b934,20,4,4,20870,,,0,"Updates for zed stable branch creation

- Set default branch for git review/gerrit to stable/zed
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file
- (classic charms) make sync
- (reactive: not reactive plugin): lock charm-tools < 3.1
- (reactive: with reactive plugin): lock charm snap to 3.x/stable

Change-Id: Iafd2e351491e02f0e09c94f2c82ff9ec8ec461d3
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/44/861444/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', '.gitreview', 'test-requirements.txt', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/jammy-zed.yaml']",5,89ce2b839f276fbf07bf4bc5e3d0dfce749e46f9,zed-stable-updates, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 3.9/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,49,47
openstack%2Fdesignate-tempest-plugin~master~Iec533c757133255f1047b2c032578327a79f13db,openstack/designate-tempest-plugin,master,Iec533c757133255f1047b2c032578327a79f13db,Removed the skip to allow test_create_blacklist,ABANDONED,2022-01-20 22:26:09.000000000,2023-01-11 15:56:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 22:26:09.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_blacklists.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/33cb118c67b630180d40a49e3647bc2597661247', 'message': 'Removed the skip to allow test_create_blacklist\n\nRemoved the skip decorator to allow test_create_blacklist to run which\ntest for invalid blacklist patterns.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/825682\nChange-Id: Iec533c757133255f1047b2c032578327a79f13db\n'}]",7,825686,33cb118c67b630180d40a49e3647bc2597661247,16,1,1,5572,,,0,"Removed the skip to allow test_create_blacklist

Removed the skip decorator to allow test_create_blacklist to run which
test for invalid blacklist patterns.

Depends-On: https://review.opendev.org/c/openstack/designate/+/825682
Change-Id: Iec533c757133255f1047b2c032578327a79f13db
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/86/825686/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_blacklists.py'],1,33cb118c67b630180d40a49e3647bc2597661247,bug/1978155,," @decorators.skip_because(bug=""1934252"")",0,1
openstack%2Fsushy-tools~master~Ie231aa8f574f882bb3879efcda2363a012e67caf,openstack/sushy-tools,master,Ie231aa8f574f882bb3879efcda2363a012e67caf,Fix tox4 error,MERGED,2022-12-28 14:12:31.000000000,2023-01-11 15:54:49.000000000,2023-01-11 15:53:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5beed4045942c0f2cb61681f8c92e8d363a09fc5', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Ie231aa8f574f882bb3879efcda2363a012e67caf\n'}, {'number': 2, 'created': '2023-01-03 08:27:01.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7c29b7b180f286a1d774bfea833fda401672e220', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nAlso move to generic openstack test template.\n\nChange-Id: Ie231aa8f574f882bb3879efcda2363a012e67caf\n'}]",4,868760,7c29b7b180f286a1d774bfea833fda401672e220,22,4,2,23851,,,0,"Fix tox4 error

Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.

Also move to generic openstack test template.

Change-Id: Ie231aa8f574f882bb3879efcda2363a012e67caf
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/60/868760/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5beed4045942c0f2cb61681f8c92e8d363a09fc5,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fpython-octaviaclient~master~Ic3868e11ec064e2a3b0bb7acc669b9acc2087f7b,openstack/python-octaviaclient,master,Ic3868e11ec064e2a3b0bb7acc669b9acc2087f7b,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-06 13:13:17.000000000,2023-01-11 15:37:52.000000000,2023-01-11 15:36:04.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-09-06 13:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/00d6edd989bf7eefdf2252e468269641387601f4', 'message': 'Add Python3 antelope unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic3868e11ec064e2a3b0bb7acc669b9acc2087f7b\n'}, {'number': 2, 'created': '2022-09-14 09:13:47.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/0221697f0ac1534dc30e0c821794db3721c4b372', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic3868e11ec064e2a3b0bb7acc669b9acc2087f7b\n'}]",3,856114,0221697f0ac1534dc30e0c821794db3721c4b372,14,6,2,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ic3868e11ec064e2a3b0bb7acc669b9acc2087f7b
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/14/856114/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,00d6edd989bf7eefdf2252e468269641387601f4,add-antelope-python-jobtemplates, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Foctavia~master~Iacc796737bad8881873da7db5273338c2cff9e68,openstack/octavia,master,Iacc796737bad8881873da7db5273338c2cff9e68,Add release note about fixing castellan,MERGED,2022-12-13 12:48:09.000000000,2023-01-11 15:32:20.000000000,2023-01-11 15:29:56.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-13 12:48:09.000000000', 'files': ['releasenotes/notes/octavia_castellan_config-995e65f129e3e983.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9c8b00bc0be634eddc2081da6f7530f91a5a58e4', 'message': 'Add release note about fixing castellan\n\nChange-Id: Iacc796737bad8881873da7db5273338c2cff9e68\n'}]",1,867361,9c8b00bc0be634eddc2081da6f7530f91a5a58e4,12,3,1,28619,,,0,"Add release note about fixing castellan

Change-Id: Iacc796737bad8881873da7db5273338c2cff9e68
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/867361/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/octavia_castellan_config-995e65f129e3e983.yaml'],1,9c8b00bc0be634eddc2081da6f7530f91a5a58e4,octavia/castellan,--- fixes: - | Usage of ``castellan_cert_manager`` as cert_manager has been significantly improved. Now you can define configuration options for castellan in octavia.conf and they will be passed properly to castellan beckend. This allows to use allowed castellan backends as for certificate storage. ,,7,0
openstack%2Foctavia~master~Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82,openstack/octavia,master,Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82,Rename Context to RequestContext,MERGED,2022-02-02 09:18:44.000000000,2023-01-11 15:31:08.000000000,2023-01-11 15:29:54.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-02 09:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9009fb13655ec0df13f2a8d0f540469a4281590e', 'message': 'Rename Context to RequestContext\n\nIf castellan is used, it requires one of the following context types to\nbe provided during init: KeystonePassword, KeystoneToken or\nRequestContext [1]\n\nAlso it makes sense to be consistent across projects and with\noslo_context regarding context class naming.\n\n[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210\n\nChange-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82\n'}, {'number': 2, 'created': '2022-02-02 10:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9a8e2bf358ae26f7aaadc52d3b05ceafb5c22454', 'message': 'Rename Context to RequestContext\n\nIf castellan is used, it requires one of the following context types to\nbe provided during init: KeystonePassword, KeystoneToken or\nRequestContext [1]\n\nAlso it makes sense to be consistent across projects and with\noslo_context regarding context class naming.\n\n[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210\n\nChange-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82\n'}, {'number': 3, 'created': '2022-09-30 07:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/469512591cde2ad221552ff65b256d9e350ee298', 'message': 'Rename Context to RequestContext\n\nIf castellan is used, it requires one of the following context types to\nbe provided during init: KeystonePassword, KeystoneToken or\nRequestContext [1]\n\nAlso it makes sense to be consistent across projects and with\noslo_context regarding context class naming.\n\n[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210\n\nChange-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82\n'}, {'number': 4, 'created': '2022-10-03 08:58:34.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/controller/worker/v2/tasks/notification_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_notification_tasks.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/common/hooks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/62e1d871cbbbeefc4919c0c12a3cfff606c53557', 'message': 'Rename Context to RequestContext\n\nIf castellan is used, it requires one of the following context types to\nbe provided during init: KeystonePassword, KeystoneToken or\nRequestContext [1]\n\nAlso it makes sense to be consistent across projects and with\noslo_context regarding context class naming.\n\n[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210\n\nChange-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82\n'}]",15,827447,62e1d871cbbbeefc4919c0c12a3cfff606c53557,26,4,4,28619,,,0,"Rename Context to RequestContext

If castellan is used, it requires one of the following context types to
be provided during init: KeystonePassword, KeystoneToken or
RequestContext [1]

Also it makes sense to be consistent across projects and with
oslo_context regarding context class naming.

[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210

Change-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/827447/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/common/hooks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py']",17,9009fb13655ec0df13f2a8d0f540469a4281590e,octavia/castellan," with mock.patch.object(octavia.common.context.RequestContext, 'project_id', with mock.patch.object(octavia.common.context.RequestContext, 'project_id', with mock.patch.object(octavia.common.context.RequestContext, 'project_id', with mock.patch.object(octavia.common.context.RequestContext, 'project_id', with mock.patch.object(octavia.common.context.RequestContext, 'project_id',"," with mock.patch.object(octavia.common.context.Context, 'project_id', with mock.patch.object(octavia.common.context.Context, 'project_id', with mock.patch.object(octavia.common.context.Context, 'project_id', with mock.patch.object(octavia.common.context.Context, 'project_id', with mock.patch.object(octavia.common.context.Context, 'project_id',",153,153
openstack%2Ftripleo-heat-templates~master~Ic361a4d9bebd03e3174260136d53f14c71062f61,openstack/tripleo-heat-templates,master,Ic361a4d9bebd03e3174260136d53f14c71062f61,Add a tag for package setup,MERGED,2022-11-07 09:48:03.000000000,2023-01-11 15:27:06.000000000,2023-01-11 15:27:06.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-07 09:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/345391136b8c546f5043de3beec624b27b14b10b', 'message': 'Add a tag for package setup\n\nWe should be able to select only for the host package updates. To do\nthis we introduce setup_packages tag.\n\nChange-Id: Ic361a4d9bebd03e3174260136d53f14c71062f61\n'}, {'number': 2, 'created': '2023-01-03 12:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c4f5e915f46544ceb088325e3847af32a56295f', 'message': 'Add a tag for package setup\n\nWe should be able to select only for the host package updates. To do\nthis we introduce setup_packages tag.\n\nChange-Id: Ic361a4d9bebd03e3174260136d53f14c71062f61\n'}, {'number': 3, 'created': '2023-01-10 13:00:37.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88522a478ccf903b2b1740f5874541df0c62ab1e', 'message': 'Add a tag for package setup\n\nWe should be able to select only for the host package updates. To do\nthis we introduce setup_packages tag.\n\nChange-Id: Ic361a4d9bebd03e3174260136d53f14c71062f61\n'}]",4,863819,88522a478ccf903b2b1740f5874541df0c62ab1e,26,8,3,11166,,,0,"Add a tag for package setup

We should be able to select only for the host package updates. To do
this we introduce setup_packages tag.

Change-Id: Ic361a4d9bebd03e3174260136d53f14c71062f61
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/863819/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,345391136b8c546f5043de3beec624b27b14b10b,ffwd3," - name: Host packages setup tags: setup_packages block: - name: Package and repo update tasks when: step|int == 0 block: - name: Run UpgradeInitCommand shell: list_join: - '' - - ""#!/bin/bash\n\n"" - ""if [[ -f /etc/resolv.conf.save ]] ; then rm /etc/resolv.conf.save; fi\n\n"" - {get_attr: [RoleParametersValue, value, 'upgrade_init_command']} - name: Run UpgradeInitCommonCommand shell: list_join: - '' - - ""#!/bin/bash\n\n"" - {get_param: UpgradeInitCommonCommand} - name: Ensure DNF modules have the right stream vars: dnf_module_list: {get_attr: [RoleParametersValue, value, 'dnf_module_list']} dnf: name: ""@{{ item.module }}:{{ item.stream }}/{{ item.profile|default('common') }}"" state: present loop: ""{{ dnf_module_list|list }}"" when: - dnf_module_list|length > 0 - item.distribution_version is defined - ansible_facts['distribution_major_version'] is version(item.distribution_version, '==') - name: Ensure TripleO prerequisite packages are installed package: name: - jq - lvm2 - openstack-selinux - os-net-config - puppet-tripleo - python3-heat-agent* - rsync state: present when: ansible_facts['distribution_major_version'] is version('8', '==') - name: Ensure TripleO prerequisite packages are installed and use role based heat variable to provide specific list of packages vars: base_tripleo_packages: {get_attr: [RoleParametersValue, value, 'base_tripleo_packages']} package: name: ""{{ base_tripleo_packages }}"" state: present when: - ansible_facts['distribution_major_version'] is version('8', '==') - base_tripleo_packages|length > 0 - name: check if libvirt is installed when: step|int == 0 command: /usr/bin/rpm -q libvirt-daemon failed_when: false register: libvirt_installed check_mode: false - name: make sure libvirt services are disabled and masked service: name: ""{{ item }}"" state: stopped enabled: false masked: true daemon_reload: true loop: - libvirtd.service - virtlogd.socket when: - step|int == 0 - libvirt_installed.rc == 0 - name: Special treatment for OpenvSwitch tripleo_ovs_upgrade: when: - step|int == 2 register: ovs_upgrade - name: Always ensure the openvswitch service is enabled and running after upgrades service: name: openvswitch enabled: true state: started when: - step|int == 2 - ovs_upgrade.changed|bool - name: Install libibverbs (https://bugs.launchpad.net/tripleo/+bug/1817743) when: step|int == 2 package: name: libibverbs state: installed - name: Check for os-net-config upgrade shell: ""yum check-upgrade | awk '/os-net-config/{print}'"" register: os_net_config_need_upgrade when: step|int == 3 - name: Check that os-net-config has configuration when: step|int == 3 stat: path: /etc/os-net-config/config.json get_attributes: false get_checksum: false get_mime: false register: stat_config_json - block: - name: Upgrade os-net-config package: name=os-net-config state=latest - name: take new os-net-config parameters into account now command: os-net-config --no-activate -c /etc/os-net-config/config.json -v --detailed-exit-codes register: os_net_config_upgrade failed_when: os_net_config_upgrade.rc not in [0,2] changed_when: os_net_config_upgrade.rc == 2 when: - step|int == 3 - os_net_config_need_upgrade.stdout - stat_config_json.stat.exists # Exclude ansible until https://github.com/ansible/ansible/issues/56636 # is available - name: Update all packages when: - step|int == 3 - not skip_package_update|bool yum: name: '*' state: latest exclude: ansible vars: skip_package_update: {get_param: SkipPackageUpdate}"," - name: Package and repo update tasks when: step|int == 0 block: - name: Run UpgradeInitCommand shell: list_join: - '' - - ""#!/bin/bash\n\n"" - ""if [[ -f /etc/resolv.conf.save ]] ; then rm /etc/resolv.conf.save; fi\n\n"" - {get_attr: [RoleParametersValue, value, 'upgrade_init_command']} - name: Run UpgradeInitCommonCommand shell: list_join: - '' - - ""#!/bin/bash\n\n"" - {get_param: UpgradeInitCommonCommand} - name: Ensure DNF modules have the right stream vars: dnf_module_list: {get_attr: [RoleParametersValue, value, 'dnf_module_list']} dnf: name: ""@{{ item.module }}:{{ item.stream }}/{{ item.profile|default('common') }}"" state: present loop: ""{{ dnf_module_list|list }}"" when: - dnf_module_list|length > 0 - item.distribution_version is defined - ansible_facts['distribution_major_version'] is version(item.distribution_version, '==') - name: Ensure TripleO prerequisite packages are installed package: name: - jq - lvm2 - openstack-selinux - os-net-config - puppet-tripleo - python3-heat-agent* - rsync state: present when: ansible_facts['distribution_major_version'] is version('8', '==') - name: Ensure TripleO prerequisite packages are installed and use role based heat variable to provide specific list of packages vars: base_tripleo_packages: {get_attr: [RoleParametersValue, value, 'base_tripleo_packages']} package: name: ""{{ base_tripleo_packages }}"" state: present when: - ansible_facts['distribution_major_version'] is version('8', '==') - base_tripleo_packages|length > 0 - name: check if libvirt is installed when: step|int == 0 command: /usr/bin/rpm -q libvirt-daemon failed_when: false register: libvirt_installed check_mode: false - name: make sure libvirt services are disabled and masked service: name: ""{{ item }}"" state: stopped enabled: false masked: true daemon_reload: true loop: - libvirtd.service - virtlogd.socket when: - step|int == 0 - libvirt_installed.rc == 0 - name: Special treatment for OpenvSwitch tripleo_ovs_upgrade: when: - step|int == 2 register: ovs_upgrade - name: Always ensure the openvswitch service is enabled and running after upgrades service: name: openvswitch enabled: true state: started when: - step|int == 2 - ovs_upgrade.changed|bool - name: Install libibverbs (https://bugs.launchpad.net/tripleo/+bug/1817743) when: step|int == 2 package: name: libibverbs state: installed - name: Check for os-net-config upgrade shell: ""yum check-upgrade | awk '/os-net-config/{print}'"" register: os_net_config_need_upgrade when: step|int == 3 - name: Check that os-net-config has configuration when: step|int == 3 stat: path: /etc/os-net-config/config.json get_attributes: false get_checksum: false get_mime: false register: stat_config_json - block: - name: Upgrade os-net-config package: name=os-net-config state=latest - name: take new os-net-config parameters into account now command: os-net-config --no-activate -c /etc/os-net-config/config.json -v --detailed-exit-codes register: os_net_config_upgrade failed_when: os_net_config_upgrade.rc not in [0,2] changed_when: os_net_config_upgrade.rc == 2 when: - step|int == 3 - os_net_config_need_upgrade.stdout - stat_config_json.stat.exists # Exclude ansible until https://github.com/ansible/ansible/issues/56636 # is available - name: Update all packages when: - step|int == 3 - not skip_package_update|bool yum: name: '*' state: latest exclude: ansible vars: skip_package_update: {get_param: SkipPackageUpdate}",122,119
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic9ed13264f4f66aa04f90621972c6262de4a98e2,openstack/tripleo-heat-templates,stable/wallaby,Ic9ed13264f4f66aa04f90621972c6262de4a98e2,Fix list_concat for Nfs mounts,MERGED,2022-12-12 03:40:32.000000000,2023-01-11 15:22:53.000000000,2023-01-11 15:22:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-12-12 03:40:32.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d313ad174103f78fa6d48894c978df06f2d3941', 'message': 'Fix list_concat for Nfs mounts\n\nWhen NovaNfsEnabled: True, we try to include var-lib-nova-instances.mount.\nThe syntax for list_concat in the template is currently incorrect which\nresults in an error while rendering the template.\n\nResolves: rhbz#2151009\nChange-Id: Ic9ed13264f4f66aa04f90621972c6262de4a98e2\n(cherry picked from commit 1217a61b77a5dee7c0417604e9ed9b4ded429b3b)\n(cherry picked from commit 50aac01e0017d173e4c7ab5f62c439951406d6f1)\n'}]",0,867156,3d313ad174103f78fa6d48894c978df06f2d3941,9,3,1,9816,,,0,"Fix list_concat for Nfs mounts

When NovaNfsEnabled: True, we try to include var-lib-nova-instances.mount.
The syntax for list_concat in the template is currently incorrect which
results in an error while rendering the template.

Resolves: rhbz#2151009
Change-Id: Ic9ed13264f4f66aa04f90621972c6262de4a98e2
(cherry picked from commit 1217a61b77a5dee7c0417604e9ed9b4ded429b3b)
(cherry picked from commit 50aac01e0017d173e4c7ab5f62c439951406d6f1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/867156/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,3d313ad174103f78fa6d48894c978df06f2d3941,nova-list-concat-fix, - - var-lib-nova-instances.mount, - var-lib-nova-instances.mount,1,1
openstack%2Ftripleo-heat-templates~stable%2Fzed~I386ce0d7459cc9750172849215440cd532fb2618,openstack/tripleo-heat-templates,stable/zed,I386ce0d7459cc9750172849215440cd532fb2618,Set gcomm_cipher to an appropriate value if FIPS is enabled,MERGED,2023-01-02 09:24:52.000000000,2023-01-11 15:07:05.000000000,2023-01-11 15:07:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-02 09:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44c0b4a921bad6e0e057231386fe9c1354fa797a', 'message': ""Set gcomm_cipher to an appropriate value if FIPS is enabled\n\nThe default cipher set via puppet-tripleo is AES128-SHA256 for mysql\nand this is not allowed in FIPS.\nThis commit overrides this value to be 'ECDHE-RSA-AES256-GCM-SHA384'\nif FIPS is enabled.\n\nDepends-on: I7f47741d4b2a5a3473d24439689cc358bf7738f0\nChange-Id: I386ce0d7459cc9750172849215440cd532fb2618\n(cherry picked from commit 070bc335b66e2cd195fc3e011705e052be4f4667)\n""}, {'number': 2, 'created': '2023-01-02 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90b43a52024d16c81fb7a3c206e45d7f87ef9967', 'message': ""Set gcomm_cipher to an appropriate value if FIPS is enabled\n\nThe default cipher set via puppet-tripleo is AES128-SHA256 for mysql\nand this is not allowed in FIPS.\nThis commit overrides this value to be 'ECDHE-RSA-AES256-GCM-SHA384'\nif FIPS is enabled.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/868781\nChange-Id: I386ce0d7459cc9750172849215440cd532fb2618\n(cherry picked from commit 070bc335b66e2cd195fc3e011705e052be4f4667)\n""}, {'number': 3, 'created': '2023-01-09 15:53:12.000000000', 'files': ['environments/fips.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/496bd4cf809f05f19c25b3b9a2456ee969e50556', 'message': ""Set gcomm_cipher to an appropriate value if FIPS is enabled\n\nThe default cipher set via puppet-tripleo is AES128-SHA256 for mysql\nand this is not allowed in FIPS.\nThis commit overrides this value to be 'ECDHE-RSA-AES256-GCM-SHA384'\nif FIPS is enabled.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/868781\nChange-Id: I386ce0d7459cc9750172849215440cd532fb2618\n(cherry picked from commit 070bc335b66e2cd195fc3e011705e052be4f4667)\n""}]",0,868780,496bd4cf809f05f19c25b3b9a2456ee969e50556,14,4,3,9914,,,0,"Set gcomm_cipher to an appropriate value if FIPS is enabled

The default cipher set via puppet-tripleo is AES128-SHA256 for mysql
and this is not allowed in FIPS.
This commit overrides this value to be 'ECDHE-RSA-AES256-GCM-SHA384'
if FIPS is enabled.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/868781
Change-Id: I386ce0d7459cc9750172849215440cd532fb2618
(cherry picked from commit 070bc335b66e2cd195fc3e011705e052be4f4667)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/868780/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/fips.yaml'],1,44c0b4a921bad6e0e057231386fe9c1354fa797a,, # Override gcomm_cipher for FIPS MysqlGaleraSSLCipher: 'ECDHE-RSA-AES256-GCM-SHA384',,3,0
openstack%2Fpuppet-tripleo~master~I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf,openstack/puppet-tripleo,master,I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf,aodh-evaluator: Require redis backend,MERGED,2022-04-21 23:28:30.000000000,2023-01-11 15:07:01.000000000,2023-01-11 15:07:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 23:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1e48871be0b2fd6d37852710704600c3f92a84e6', 'message': 'aodh-evaluator: Require redis backend\n\nThe aodh-evaluator service requires valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf\n'}, {'number': 2, 'created': '2022-04-21 23:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b1af36e0e18147fcda174112635e6a7e0c33c268', 'message': 'aodh-evaluator: Require redis backend\n\nThe aodh-evaluator service requires valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf\n'}, {'number': 3, 'created': '2022-05-24 12:35:46.000000000', 'files': ['manifests/profile/base/aodh/evaluator.pp', 'spec/classes/tripleo_profile_base_aodh_evaluator_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7a195e69ef42c61c48ea1cf27f4f1ba282c52971', 'message': 'aodh-evaluator: Require redis backend\n\nThe aodh-evaluator service requires valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf\n'}]",1,838956,7a195e69ef42c61c48ea1cf27f4f1ba282c52971,17,5,3,9816,,,0,"aodh-evaluator: Require redis backend

The aodh-evaluator service requires valid tooz backend so that tasks
are distributed properly among multiple nodes. This change ensures
redis vip and password are defined in hieradata so that coordination
backend can always be configured properly.

Change-Id: I4ff71ee1a2a38c225b0d8f70c3fc757e014abdaf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/838956/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/evaluator.pp', 'spec/classes/tripleo_profile_base_aodh_evaluator_spec.rb']",2,1e48871be0b2fd6d37852710704600c3f92a84e6,require-redis," <<-eos class { 'tripleo::profile::base::aodh': step => #{params[:step]}, oslomsg_rpc_hosts => ['localhost.localdomain'] } eos let(:params) { { :step => 3, :aodh_redis_password => 'password', :redis_vip => '127.0.0.1', } }"," ""class { 'tripleo::profile::base::aodh': step => #{params[:step]}, oslomsg_rpc_hosts => ['localhost.localdomain'] }"" let(:params) { { :step => 3 } }",15,6
openstack%2Foctavia~master~I3fda3d18cea0e22e2999481551429122619b2144,openstack/octavia,master,I3fda3d18cea0e22e2999481551429122619b2144,Add pre-commit,MERGED,2022-09-21 14:32:18.000000000,2023-01-11 14:59:05.000000000,2023-01-11 14:57:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 32029}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-09-21 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/572999b855686381521edb7bfb74cf3070ed5300', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}, {'number': 2, 'created': '2022-09-22 09:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4ee2883d860b169b7236eebf0796a867dd142638', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}, {'number': 3, 'created': '2022-09-27 15:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9c0d8be81154ad83d02ee4eedbc79a3791de406a', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}, {'number': 4, 'created': '2022-09-29 09:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c4819ffe749666ded94bc89af590bd237b09742', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}, {'number': 5, 'created': '2022-09-29 09:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9449dc217635d3b39213a41423f51430fd4bec8e', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}, {'number': 6, 'created': '2022-09-29 11:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d737033ca47b276688d11f6d0dd46eddee7ff547', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}, {'number': 7, 'created': '2022-09-29 11:19:21.000000000', 'files': ['.pre-commit-config.yaml', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e150e032e9c6942befc5a90aafe6be3a01d57938', 'message': 'Add pre-commit\n\nChange-Id: I3fda3d18cea0e22e2999481551429122619b2144\n'}]",9,858739,e150e032e9c6942befc5a90aafe6be3a01d57938,31,7,7,34429,,,0,"Add pre-commit

Change-Id: I3fda3d18cea0e22e2999481551429122619b2144
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/858739/5 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,572999b855686381521edb7bfb74cf3070ed5300,pre-commit,# See https://pre-commit.com for more information # See https://pre-commit.com/hooks.html for more hooks repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v3.2.0 hooks: - id: trailing-whitespace - id: end-of-file-fixer - id: check-merge-conflict - id: debug-statements - id: check-yaml - id: check-added-large-files - repo: https://github.com/psf/black rev: 21.12b0 hooks: - id: black - repo: https://github.com/PyCQA/flake8 rev: 5.0.4 hooks: - id: flake8 ,,20,0
openstack%2Ftripleo-ansible~master~I1aab213206d32ffae2f9fea92970a4bf13801f16,openstack/tripleo-ansible,master,I1aab213206d32ffae2f9fea92970a4bf13801f16,Do not sudo stat Ceph spec file on Ansible host,MERGED,2023-01-05 12:45:58.000000000,2023-01-11 14:57:35.000000000,2023-01-11 14:57:35.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-01-05 12:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dfc0d1a34f6f1ceabdc397b3d9f77cca05de16c0', 'message': 'Do not stat Ceph orchestrator spec file on Ansible host\n\nThe Ansible stat module fails when Ansible is run inside\na container with:\n\n""module_stderr"": ""/bin/sh: line 1: sudo: command not found\\n"",\n\nPerform the same function without calling the stat module.\n\nChange-Id: I1aab213206d32ffae2f9fea92970a4bf13801f16\n'}, {'number': 2, 'created': '2023-01-05 18:15:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c94f7e7f3fb84917021a4c2654ac6779607a84f', 'message': 'Do not sudo stat Ceph spec file on Ansible host\n\nWhen the ""Stat spec file on ansible host"" task is run\nfrom an Ansible runner container, the task fails with:\n\n""module_stderr"": ""/bin/sh: line 1: sudo: command not found\\n"",\n\nThis patch removes ""become: true"" so that the task\nno longer fails under these conditions.\n\nIt shouldn\'t be necessary to use sudo to stat this\nfile on a standard undercloud or in an Ansible runner\ncontainer. There are other tasks which use become\nand other tasks which delegate to localhost, but\nthis task in the tripleo_cephadm role which uses both.\n\nChange-Id: I1aab213206d32ffae2f9fea92970a4bf13801f16\n'}]",3,869360,6c94f7e7f3fb84917021a4c2654ac6779607a84f,23,4,2,18002,,,0,"Do not sudo stat Ceph spec file on Ansible host

When the ""Stat spec file on ansible host"" task is run
from an Ansible runner container, the task fails with:

""module_stderr"": ""/bin/sh: line 1: sudo: command not found\n"",

This patch removes ""become: true"" so that the task
no longer fails under these conditions.

It shouldn't be necessary to use sudo to stat this
file on a standard undercloud or in an Ansible runner
container. There are other tasks which use become
and other tasks which delegate to localhost, but
this task in the tripleo_cephadm role which uses both.

Change-Id: I1aab213206d32ffae2f9fea92970a4bf13801f16
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/869360/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml'],1,dfc0d1a34f6f1ceabdc397b3d9f77cca05de16c0,cephadm_no_stat,,"- name: Stat spec file on ansible host stat: path: ""{{ tripleo_cephadm_spec_ansible_host }}"" register: tripleo_cephadm_spec_stat_host delegate_to: localhost become: true when: tripleo_cephadm_spec_stat_host.stat.exists",0,8
openstack%2Fkayobe~stable%2Fyoga~I06a3e9922cf95979f3bca120cd82633046270fa3,openstack/kayobe,stable/yoga,I06a3e9922cf95979f3bca120cd82633046270fa3,Add support for Ubuntu Jammy Jellyfish (22.04) LTS,MERGED,2023-01-03 14:19:50.000000000,2023-01-11 14:40:35.000000000,2023-01-11 14:38:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-01-03 14:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f55a1db64f3602b8443ceab4c64d05dfcdd8df92', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 2, 'created': '2023-01-03 14:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a712226addab9c76e6c5cf337cc09dfe3b07ace7', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 3, 'created': '2023-01-03 18:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/26335f2b6f07b76e372b772fd24072e95cc58fc8', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 4, 'created': '2023-01-03 18:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fbb0b242a4100db3e6e6677a5f91657540ae4ff2', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 5, 'created': '2023-01-04 12:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/791496c8e5a8e096453de6e014b4963cafbb9b71', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 6, 'created': '2023-01-04 15:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9695c5e04002d747bf2d16b4aa214e7d8611c364', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 7, 'created': '2023-01-04 16:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/84eb70feffe10c6e1e5a12c5ab60cbb41891d630', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 8, 'created': '2023-01-04 18:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf778218472824cd2b3c0d669a073cca976db7cb', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 9, 'created': '2023-01-10 08:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6c8d657523a01bbb9edc012debfff7435192e132', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/869659\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 10, 'created': '2023-01-10 08:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/25f127a99764a1e6aac0cfac269cc49fe7af1a39', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 11, 'created': '2023-01-10 09:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1674d8638d6b6063ad24001faecee55ddc72cadb', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 12, 'created': '2023-01-10 09:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/da2ec545257167a41c269b3c9cf574aa27767e00', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}, {'number': 13, 'created': '2023-01-10 09:24:59.000000000', 'files': ['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'etc/kayobe/globals.yml', 'doc/source/support-matrix.rst', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'ansible/roles/apt/tasks/repos.yml', 'zuul.d/jobs.yaml', 'doc/source/installation.rst', 'releasenotes/notes/ubuntu-jammy-515047cd1ae85151.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/56cfe1491b0cdf5b1d3e42aa7b0727d151cc59f2', 'message': 'Add support for Ubuntu Jammy Jellyfish (22.04) LTS\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127\n\nChange-Id: I06a3e9922cf95979f3bca120cd82633046270fa3\n(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)\n'}]",14,869086,56cfe1491b0cdf5b1d3e42aa7b0727d151cc59f2,31,4,13,22629,,,0,"Add support for Ubuntu Jammy Jellyfish (22.04) LTS

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/869127

Change-Id: I06a3e9922cf95979f3bca120cd82633046270fa3
(cherry picked from commit ebf8cfca628e92fa198d6cb304b5cafa17f7824a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/86/869086/13 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/resources.rst', 'playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'etc/kayobe/globals.yml', 'doc/source/support-matrix.rst', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'zuul.d/nodesets.yaml', 'ansible/roles/apt/tasks/repos.yml', 'zuul.d/jobs.yaml', 'doc/source/installation.rst', 'releasenotes/notes/ubuntu-jammy-515047cd1ae85151.yaml']",11,f55a1db64f3602b8443ceab4c64d05dfcdd8df92,,"--- features: - | Adds support for Ubuntu Jammy Jellyfish (22.04) LTS as a host Operating System for seed, seed hypervisor and overcloud hosts. ",,88,7
openstack%2Fnova~master~I676ee1fd33cf053681a07448759c28f0f2ad79d1,openstack/nova,master,I676ee1fd33cf053681a07448759c28f0f2ad79d1,Add mock to avoid loading guestfs in unit test,MERGED,2022-10-27 02:25:59.000000000,2023-01-11 14:39:31.000000000,2023-01-11 14:38:01.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-27 02:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a7e5e098dca769a92e3180e14937ab3c36453ae', 'message': ""Add mock to avoid loading guestfs in unit test\n\nWe recently discovered that when the perfect conditions are present\nwhere:\n\n  * libguestfs-dev/el and guestfs python bindings are installed\n\nand\n\n  * unit tests are not being run in a venv or guestfs python bindings\n    are installed in the tox venv\n\nthe test will end up loading the guestfs module and try to call the\nreal guestfs and possibly libvirt and fail because of it.\n\nOur unit tests shouldn't be loading modules like guestfs, so this adds\nproper mocking to the test along with a poison fixture that will\nprevent future accidental imports of such modules.\n\nCloses-Bug: #1994913\n\nChange-Id: I676ee1fd33cf053681a07448759c28f0f2ad79d1\n""}, {'number': 2, 'created': '2022-10-27 19:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20429e72c2b9c5853a88da6a93f75d2d3f21cb5b', 'message': ""Add mock to avoid loading guestfs in unit test\n\nWe recently discovered that when the perfect conditions are present\nwhere:\n\n  * libguestfs-dev/el and guestfs python bindings are installed\n\nand\n\n  * unit tests are not being run in a venv or guestfs python bindings\n    are installed in the tox venv\n\nthe test will end up loading the guestfs module and try to call the\nreal guestfs and possibly libvirt and fail because of it.\n\nOur unit tests shouldn't be loading modules like guestfs, so this adds\nproper mocking to the test along with a poison fixture that will\nprevent future accidental imports of such modules.\n\nCloses-Bug: #1994913\n\nChange-Id: I676ee1fd33cf053681a07448759c28f0f2ad79d1\n""}, {'number': 3, 'created': '2022-10-28 18:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68c47504eef6794b37bedd4d056f9eb911ee9959', 'message': ""Add mock to avoid loading guestfs in unit test\n\nWe recently discovered that when the perfect conditions are present\nwhere:\n\n  * libguestfs-dev/el and guestfs python bindings are installed\n\nand\n\n  * unit tests are not being run in a venv or guestfs python bindings\n    are installed in the tox venv\n\nthe test will end up loading the guestfs module and try to call the\nreal guestfs and possibly libvirt and fail because of it.\n\nOur unit tests shouldn't be loading modules like guestfs, so this adds\nproper mocking to the test along with a poison fixture that will\nprevent future accidental imports of such modules.\n\nCloses-Bug: #1994913\n\nChange-Id: I676ee1fd33cf053681a07448759c28f0f2ad79d1\n""}, {'number': 4, 'created': '2023-01-05 01:52:33.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecb11043e9c2a798950d63b55cd08684b1d77c4a', 'message': ""Add mock to avoid loading guestfs in unit test\n\nWe recently discovered that when the perfect conditions are present\nwhere:\n\n  * libguestfs-dev/el and guestfs python bindings are installed\n\nand\n\n  * unit tests are not being run in a venv or guestfs python bindings\n    are installed in the tox venv\n\nthe test will end up loading the guestfs module and try to call the\nreal guestfs and possibly libvirt and fail because of it.\n\nOur unit tests shouldn't be loading modules like guestfs, so this adds\nproper mocking to the test along with a poison fixture that will\nprevent future accidental imports of such modules.\n\nCloses-Bug: #1994913\n\nChange-Id: I676ee1fd33cf053681a07448759c28f0f2ad79d1\n""}]",11,862769,ecb11043e9c2a798950d63b55cd08684b1d77c4a,43,4,4,4690,,,0,"Add mock to avoid loading guestfs in unit test

We recently discovered that when the perfect conditions are present
where:

  * libguestfs-dev/el and guestfs python bindings are installed

and

  * unit tests are not being run in a venv or guestfs python bindings
    are installed in the tox venv

the test will end up loading the guestfs module and try to call the
real guestfs and possibly libvirt and fail because of it.

Our unit tests shouldn't be loading modules like guestfs, so this adds
proper mocking to the test along with a poison fixture that will
prevent future accidental imports of such modules.

Closes-Bug: #1994913

Change-Id: I676ee1fd33cf053681a07448759c28f0f2ad79d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/862769/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/test.py']",3,5a7e5e098dca769a92e3180e14937ab3c36453ae,bug/1994913," # Additional module names can be added to this set if needed self.useFixture(nova_fixtures.ImportModulePoisonFixture( set(['guestfs', 'libvirt']))) ",,54,0
openstack%2Fopenstacksdk~stable%2Fyoga~Ibf4a16e544921ec914f6e23112e0fc37a12096a5,openstack/openstacksdk,stable/yoga,Ibf4a16e544921ec914f6e23112e0fc37a12096a5,Update tox.ini for tox v4 compatibility,MERGED,2023-01-04 12:18:02.000000000,2023-01-11 14:39:31.000000000,2023-01-11 14:37:56.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 12:18:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f41a20395b989de9a250ea292b0f0441c1d9657d', 'message': ""Update tox.ini for tox v4 compatibility\n\nTox v4 made a number of changes that break compatibility with old tox v3\ntox.ini files. In particular openstacksdk lists env vars for passenv on\na single line separating them with spaces. This is no longer allowed and\nproduces this error:\n\n  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'\n\nWe can fix this by listing each value on a single line which we do here.\n\nNOTE(stephenfin): Modified to include change\nIce5ef168891fe35c4447468dd0d7956ef04db090 which fixes some nits with the\noriginal change.\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/868430\nChange-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5\n(cherry picked from commit a0f969cf92691c4c8beeeedd69d9884923a92c0e)\n(cherry picked from commit 5d395a3136d31406b5f82b52c71cab900a784a13)\n""}]",1,869201,f41a20395b989de9a250ea292b0f0441c1d9657d,7,2,1,15334,,,0,"Update tox.ini for tox v4 compatibility

Tox v4 made a number of changes that break compatibility with old tox v3
tox.ini files. In particular openstacksdk lists env vars for passenv on
a single line separating them with spaces. This is no longer allowed and
produces this error:

  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'

We can fix this by listing each value on a single line which we do here.

NOTE(stephenfin): Modified to include change
Ice5ef168891fe35c4447468dd0d7956ef04db090 which fixes some nits with the
original change.

Depends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/868430
Change-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5
(cherry picked from commit a0f969cf92691c4c8beeeedd69d9884923a92c0e)
(cherry picked from commit 5d395a3136d31406b5f82b52c71cab900a784a13)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/869201/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f41a20395b989de9a250ea292b0f0441c1d9657d,tox4,passenv = OS_* OPENSTACKSDK_*setenv = OS_TEST_TIMEOUT=31536000passenv = HOME USER ANSIBLE_VAR_*,skipsdist = Truepassenv = OS_* OPENSTACKSDK_*setenv = OS_TEST_TIMEOUT=31536000passenv = HOME USER ANSIBLE_VAR_*,9,4
openstack%2Fneutron-lib~master~I6b4fac4bf6d74d15308ed740e74119d82709329f,openstack/neutron-lib,master,I6b4fac4bf6d74d15308ed740e74119d82709329f,api-ref: fix nits in BGP-Speaker api-ref,MERGED,2023-01-10 16:45:51.000000000,2023-01-11 14:28:58.000000000,2023-01-11 14:27:40.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-01-10 16:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ee82669127180bd13043bd629bed3698e9e01fab', 'message': 'api-ref: fix nits in BGP-Speaker api-ref\n\nChange-Id: I6b4fac4bf6d74d15308ed740e74119d82709329f\n'}, {'number': 2, 'created': '2023-01-10 17:11:46.000000000', 'files': ['api-ref/source/v2/bgp_speaker.inc', 'api-ref/source/v2/samples/bgp/bgp_speaker_remove_network-request.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/89820bede2d4fc25cbe992997360c452677f6fbb', 'message': 'api-ref: fix nits in BGP-Speaker api-ref\n\nChange-Id: I6b4fac4bf6d74d15308ed740e74119d82709329f\n'}]",2,869745,89820bede2d4fc25cbe992997360c452677f6fbb,13,6,2,8313,,,0,"api-ref: fix nits in BGP-Speaker api-ref

Change-Id: I6b4fac4bf6d74d15308ed740e74119d82709329f
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/45/869745/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/bgp_speaker.inc'],1,ee82669127180bd13043bd629bed3698e9e01fab,bgp_api_ref,.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/add_bgp_peer.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/remove_bgp_peer.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/add_gateway_network.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/remove_gateway_network.. rest_method:: GET /v2.0/bgp-speakers/{bgp-speaker-id}/get_advertised_routes.. rest_method:: GET /v2.0/bgp-speakers/{bgp-speaker-id}/bgp-dragents,.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/add-bgp-peer.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/remove-bgp-peer.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/add_gateway_network.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/remove_gateway_network.. rest_method:: GET /v2.0/bgp-speakers/<bgp-speaker-id>/get_advertised_routes.. rest_method:: GET /v2.0/bgp-speakers/<bgp-speaker-id>/bgp-dragents,6,6
openstack%2Fmanila-tempest-plugin~master~I75b0d2c1a07a407e7bae4fdc14928adfc46156de,openstack/manila-tempest-plugin,master,I75b0d2c1a07a407e7bae4fdc14928adfc46156de,Remove pypy from default envlist,MERGED,2023-01-06 00:18:15.000000000,2023-01-11 14:19:34.000000000,2023-01-11 14:19:34.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2023-01-06 00:18:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f47cefe169666322297df43b3a069e530f31e058', 'message': 'Remove pypy from default envlist\n\nTrivialFix\n\nChange-Id: I75b0d2c1a07a407e7bae4fdc14928adfc46156de\n'}]",2,869413,f47cefe169666322297df43b3a069e530f31e058,10,4,1,16643,,,0,"Remove pypy from default envlist

TrivialFix

Change-Id: I75b0d2c1a07a407e7bae4fdc14928adfc46156de
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/13/869413/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f47cefe169666322297df43b3a069e530f31e058,tox4,"envlist = py3,pep8","envlist = py3,pypy,pep8",1,1
openstack%2Fansible-collections-openstack~master~If33596cb758446b2587df2d38481205b6e2cc9bb,openstack/ansible-collections-openstack,master,If33596cb758446b2587df2d38481205b6e2cc9bb,Refactor loadbalancer,ABANDONED,2022-11-15 21:56:25.000000000,2023-01-11 14:15:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-15 21:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b85db94cb86021b8e0d693d6bf5e099cfc58a6f7', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}, {'number': 2, 'created': '2022-11-15 22:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b22c3d0ab905832a412f207c5c91504d23d289c9', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}, {'number': 3, 'created': '2022-11-15 22:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/36ad37b99f17fbd4fceb753aeed017b8a4e796a8', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}, {'number': 4, 'created': '2022-11-16 00:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8aa75ded88aaf77d75819fb60d1d95fefbeec95b', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}, {'number': 5, 'created': '2022-11-23 05:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f945a8036629c6b1477ed925e58e2995ce6e929c', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}, {'number': 6, 'created': '2022-11-23 05:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c0f16d700e6035da0bfbdb815eb0673de1a0af31', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}, {'number': 7, 'created': '2022-11-23 16:33:35.000000000', 'files': ['plugins/modules/loadbalancer.py', 'plugins/modules/lb_member.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ac32793e2db79bf22c9fcd82feecb346e034a230', 'message': 'Refactor loadbalancer\n\nChange-Id: If33596cb758446b2587df2d38481205b6e2cc9bb\n'}]",4,864590,ac32793e2db79bf22c9fcd82feecb346e034a230,15,1,7,34208,,,0,"Refactor loadbalancer

Change-Id: If33596cb758446b2587df2d38481205b6e2cc9bb
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/90/864590/6 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/loadbalancer.py'],1,b85db94cb86021b8e0d693d6bf5e099cfc58a6f7,," required: true argument_spec = dict( name=dict(required=True), flavor=dict(), state=dict(default='present', choices=['absent', 'present']), vip_network=dict(), vip_subnet=dict(), vip_port=dict(), vip_address=dict(), listeners=dict(type='list', default=[], elements='dict'), public_ip_address=dict(), auto_public_ip=dict(default=False, type='bool'), public_network=dict(), delete_public_ip=dict(default=False, type='bool'), ) module_kwargs = dict( supports_check_mode=True, required_if=[ ('state', 'present', ['vip_network', 'vip_subnet', 'vip_port'], False) ] ) def _get_version_data(self): max_microversion = 1 max_majorversion = 2 ver_data = self.conn.load_balancer.get_all_version_data() region = list(ver_data.keys())[0] interface_type = list(ver_data[region].keys())[0] versions = ver_data[region][interface_type]['load-balancer'] for ver in versions: if ver['status'] == 'CURRENT': curversion = ver['version'].split(""."") max_majorversion = int(curversion[0]) max_microversion = int(curversion[1]) return max_majorversion, max_microversion def _create_lb(self): flavor = self.params['flavor'] vip_network = self.params['vip_network'] vip_subnet = self.params['vip_subnet'] vip_port = self.params['vip_port'] flavor_id = None vip_network_id = None vip_subnet_id = None vip_port_id = None if flavor: _flavor = self.conn.load_balancer.find_flavor( flavor, ignore_missing=False) flavor_id = _flavor.id if vip_network: network = self.conn.network.find_network( vip_network, ignore_missing=False) vip_network_id = network.id if vip_subnet: subnet = self.conn.network.find_subnet( vip_subnet, ignore_missing=False) vip_subnet_id = subnet.id if vip_port: port = self.conn.network.find_port( vip_port, ignore_missing=False) vip_port_id = port.id kwargs = {'name': self.params['name'], 'vip_network_id': vip_network_id, 'vip_subnet_id': vip_subnet_id, 'vip_port_id': vip_port_id, 'vip_address': self.params['vip_address'], 'flavor_id': flavor_id, } kwargs = {k: v for k, v in kwargs.items() if v is not None} return self.conn.load_balancer.create_load_balancer(**kwargs) def _create_members(self, lb, pool, members): changed = False for member_def in members: member_name = member_def['name'] member = self.conn.load_balancer.find_member( member_name, pool.id) if not member: self.conn.load_balancer.wait_for_load_balancer( lb, 'ACTIVE', ['ERROR']) address = member_def['address'] subnet_id = member_def['subnet'] if subnet_id: subnet = self.conn.network.find_subnet( subnet_id, ignore_missing=False) subnet_id = subnet.id protocol_port = member_def['protocol_port'] member = self.conn.load_balancer.create_member( pool, name=member_name, address=address, protocol_port=protocol_port, subnet_id=subnet_id ) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) changed = True return changed def _create_pool(self, lb, listener, pool_def): pool_name = pool_def['name'] members = pool_def['members'] pool = self.conn.load_balancer.find_pool(name_or_id=pool_name) if not pool: self._wait_for_lb(lb, 'ACTIVE', ['ERROR']) protocol = pool_def.get('protocol', ""HTTP"") lb_algorithm = pool_def.get(""lb_algorithm"", ""ROUND_ROBIN"") pool = self.conn.load_balancer.create_pool( name=pool_name, listener_id=listener.id, protocol=protocol, lb_algorithm=lb_algorithm ) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) changed = True changed = self._create_members(lb, pool, members) or changed def _ensure_ip(self, lb): """""" Associate public ip to the load balancer VIP. If public_vip_address is provided, use that IP, otherwise, either find an available public ip or create a new one. """""" public_vip_address = self.params['public_ip_address'] allocate_fip = self.params['auto_public_ip'] public_network = self.params['public_network'] fip = None orig_public_ip = None new_public_ip = None changed = False if public_vip_address or allocate_fip: ips = self.conn.network.ips( port_id=lb.vip_port_id, fixed_ip_address=lb.vip_address ) ips = list(ips) if ips: orig_public_ip = ips[0] new_public_ip = orig_public_ip.floating_ip_address if public_vip_address and public_vip_address != orig_public_ip: fip = self.conn.network.find_ip(public_vip_address) if not fip: self.fail_json( msg='Public IP %s is unavailable' % public_vip_address ) # Release origin public ip first self.conn.network.update_ip( orig_public_ip, fixed_ip_address=None, port_id=None ) # Associate new public ip self.conn.network.update_ip( fip, fixed_ip_address=lb.vip_address, port_id=lb.vip_port_id ) new_public_ip = public_vip_address changed = True elif allocate_fip and not orig_public_ip: fip = self.conn.network.find_available_ip() if not fip: if not public_network: self.fail_json(msg=""Public network is not provided"") pub_net = self.conn.network.find_network(public_network) if not pub_net: self.fail_json( msg='Public network %s not found' % public_network ) fip = self.conn.network.create_ip( floating_network_id=pub_net.id ) self.conn.network.update_ip( fip, fixed_ip_address=lb.vip_address, port_id=lb.vip_port_id ) new_public_ip = fip.floating_ip_address return new_public_ip, changed def _create_listeners(self, lb, listeners): max_majorversion, max_microversion = self._get_version_data() changed = False for listener_def in listeners: listener_name = listener_def['name'] pool_def = listener_def['pool'] listener = self.conn.load_balancer.find_listener( name_or_id=listener_name ) if not listener: self.conn.load_balancer.wait_for_load_balancer( lb.id, 'ACTIVE', ['ERROR']) allowed_cidrs = listener_def['allowed_cidrs'] listenerargs = {'name': listener_name, 'loadbalancer_id': lb.id, 'protocol': listener_def['protocol'], 'protocol_port': listener_def['protocol_port'] } if max_microversion >= 12 and max_majorversion >= 2: listenerargs['allowed_cidrs'] = allowed_cidrs listener = self.conn.load_balancer.create_listener( **listenerargs) changed = True if pool_def: changed = self._create_pool(lb, listener, pool_def) or changed return changed def run(self): listeners = self.params['listeners'] delete_fip = self.params['delete_public_ip'] changed = False lb = self.conn.load_balancer.find_load_balancer( name_or_id=self.params['name']) if self.params['state'] == 'present': if lb and self.ansible.check_mode: self.exit_json(changed=False) if lb: self.exit_json(changed=False) if not lb: if self.ansible.check_mode: self.exit_json(changed=True) lb = self._create_lb() changed = True if not listeners and not self.params['wait']: self.exit_json( changed=changed, loadbalancer=lb.to_dict(), id=lb.id ) self.conn.load_balancer.wait_for_status( lb.id, ""ACTIVE"", [""ERROR""]) self._create_listeners(lb, self.params['listeners']) new_public_ip, ip_changed = self._ensure_ip(lb) changed = changed or ip_changed # Include public_vip_address in the result. lb = self.conn.load_balancer.get_load_balancer(lb.id) lb_dict = lb.to_dict(computed=False) lb_dict.update({""public_vip_address"": new_public_ip}) self.exit_json( changed=changed, loadbalancer=lb_dict, ) elif self.params['state'] == 'absent': changed = False public_vip_address = None if lb: if self.ansible.check_mode: self.exit_json(changed=True) if delete_fip: ips = self.conn.network.ips( port_id=lb.vip_port_id, fixed_ip_address=lb.vip_address ) ips = list(ips) if ips: public_vip_address = ips[0] # Deleting load balancer with `cascade=False` does not make # sense because the deletion will always fail if there are # sub-resources. self.conn.load_balancer.delete_load_balancer(lb, cascade=True) changed = True if self.params['wait']: self._wait_for_lb(lb, ""DELETED"", [""ERROR""]) if delete_fip and public_vip_address: self.conn.network.delete_ip(public_vip_address) changed = True elif self.ansible.check_mode: self.exit_json(changed=False) self.exit_json(changed=changed) def _wait_for_pool(self, pool, provisioning_status, operating_status, failures, interval=5): """""" Wait for pool to be in a particular provisioning and operating status. """""" if (pool.provisioning_status == provisioning_status and pool.operating_status == operating_status):"," def _wait_for_pool(self, pool, provisioning_status, operating_status, failures, interval=5): """"""Wait for pool to be in a particular provisioning and operating status."""""" if pool.provisioning_status == provisioning_status and pool.operating_status == operating_status: def _wait_for_lb(self, lb, status, failures, interval=5): """"""Wait for load balancer to be in a particular provisioning status."""""" timeout = self.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: lb = self.conn.load_balancer.find_load_balancer(lb.id) if lb: if lb.provisioning_status == status: return None if lb.provisioning_status in failures: self.fail_json( msg=""Load Balancer %s transitioned to failure state %s"" % (lb.id, lb.provisioning_status) ) else: if status == ""DELETED"": return None else: self.fail_json( msg=""Load Balancer %s transitioned to DELETED"" % lb.id ) time.sleep(interval) total_sleep += interval self.fail_json( msg=""Timeout waiting for Load Balancer %s to transition to %s"" % (lb.id, status) ) argument_spec = dict( name=dict(required=True), flavor=dict(), state=dict(default='present', choices=['absent', 'present']), vip_network=dict(), vip_subnet=dict(), vip_port=dict(), vip_address=dict(), listeners=dict(type='list', default=[], elements='dict'), public_ip_address=dict(), auto_public_ip=dict(default=False, type='bool'), public_network=dict(), delete_public_ip=dict(default=False, type='bool'), ) module_kwargs = dict(supports_check_mode=True) def run(self): flavor = self.params['flavor'] vip_network = self.params['vip_network'] vip_subnet = self.params['vip_subnet'] vip_port = self.params['vip_port'] listeners = self.params['listeners'] public_vip_address = self.params['public_ip_address'] allocate_fip = self.params['auto_public_ip'] delete_fip = self.params['delete_public_ip'] public_network = self.params['public_network'] vip_network_id = None vip_subnet_id = None vip_port_id = None flavor_id = None try: max_microversion = 1 max_majorversion = 2 changed = False lb = self.conn.load_balancer.find_load_balancer( name_or_id=self.params['name']) if self.params['state'] == 'present': if lb and self.ansible.check_mode: self.exit_json(changed=False) if lb: self.exit_json(changed=False) ver_data = self.conn.load_balancer.get_all_version_data() region = list(ver_data.keys())[0] interface_type = list(ver_data[region].keys())[0] versions = ver_data[region][interface_type]['load-balancer'] for ver in versions: if ver['status'] == 'CURRENT': curversion = ver['version'].split(""."") max_majorversion = int(curversion[0]) max_microversion = int(curversion[1]) if not lb: if self.ansible.check_mode: self.exit_json(changed=True) if not (vip_network or vip_subnet or vip_port): self.fail_json( msg=""One of vip_network, vip_subnet, or vip_port must "" ""be specified for load balancer creation"" ) if flavor: _flavor = self.conn.load_balancer.find_flavor(flavor) if not _flavor: self.fail_json( msg='flavor %s not found' % flavor ) flavor_id = _flavor.id if vip_network: network = self.conn.get_network(vip_network) if not network: self.fail_json( msg='network %s is not found' % vip_network ) vip_network_id = network.id if vip_subnet: subnet = self.conn.get_subnet(vip_subnet) if not subnet: self.fail_json( msg='subnet %s is not found' % vip_subnet ) vip_subnet_id = subnet.id if vip_port: port = self.conn.get_port(vip_port) if not port: self.fail_json( msg='port %s is not found' % vip_port ) vip_port_id = port.id lbargs = {""name"": self.params['name'], ""vip_network_id"": vip_network_id, ""vip_subnet_id"": vip_subnet_id, ""vip_port_id"": vip_port_id, ""vip_address"": self.params['vip_address'] } if flavor_id is not None: lbargs[""flavor_id""] = flavor_id lb = self.conn.load_balancer.create_load_balancer(**lbargs) changed = True if not listeners and not self.params['wait']: self.exit_json( changed=changed, loadbalancer=lb.to_dict(), id=lb.id ) self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) for listener_def in listeners: listener_name = listener_def.get(""name"") pool_def = listener_def.get(""pool"") if not listener_name: self.fail_json(msg='listener name is required') listener = self.conn.load_balancer.find_listener( name_or_id=listener_name ) if not listener: self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) protocol = listener_def.get(""protocol"", ""HTTP"") protocol_port = listener_def.get(""protocol_port"", 80) allowed_cidrs = listener_def.get(""allowed_cidrs"", []) listenerargs = {""name"": listener_name, ""loadbalancer_id"": lb.id, ""protocol"": protocol, ""protocol_port"": protocol_port } if max_microversion >= 12 and max_majorversion >= 2: listenerargs['allowed_cidrs'] = allowed_cidrs listener = self.conn.load_balancer.create_listener(**listenerargs) changed = True # Ensure pool in the listener. if pool_def: pool_name = pool_def.get(""name"") members = pool_def.get('members', []) if not pool_name: self.fail_json(msg='pool name is required') pool = self.conn.load_balancer.find_pool(name_or_id=pool_name) if not pool: self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) protocol = pool_def.get(""protocol"", ""HTTP"") lb_algorithm = pool_def.get(""lb_algorithm"", ""ROUND_ROBIN"") pool = self.conn.load_balancer.create_pool( name=pool_name, listener_id=listener.id, protocol=protocol, lb_algorithm=lb_algorithm ) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) changed = True # Ensure members in the pool for member_def in members: member_name = member_def.get(""name"") if not member_name: self.fail_json(msg='member name is required') member = self.conn.load_balancer.find_member(member_name, pool.id ) if not member: self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) address = member_def.get(""address"") if not address: self.fail_json( msg='member address for member %s is ' 'required' % member_name ) subnet_id = member_def.get(""subnet"") if subnet_id: subnet = self.conn.get_subnet(subnet_id) if not subnet: self.fail_json( msg='subnet %s for member %s is not ' 'found' % (subnet_id, member_name) ) subnet_id = subnet.id protocol_port = member_def.get(""protocol_port"", 80) member = self.conn.load_balancer.create_member( pool, name=member_name, address=address, protocol_port=protocol_port, subnet_id=subnet_id ) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) changed = True # Associate public ip to the load balancer VIP. If # public_vip_address is provided, use that IP, otherwise, either # find an available public ip or create a new one. fip = None orig_public_ip = None new_public_ip = None if public_vip_address or allocate_fip: ips = self.conn.network.ips( port_id=lb.vip_port_id, fixed_ip_address=lb.vip_address ) ips = list(ips) if ips: orig_public_ip = ips[0] new_public_ip = orig_public_ip.floating_ip_address if public_vip_address and public_vip_address != orig_public_ip: fip = self.conn.network.find_ip(public_vip_address) if not fip: self.fail_json( msg='Public IP %s is unavailable' % public_vip_address ) # Release origin public ip first self.conn.network.update_ip( orig_public_ip, fixed_ip_address=None, port_id=None ) # Associate new public ip self.conn.network.update_ip( fip, fixed_ip_address=lb.vip_address, port_id=lb.vip_port_id ) new_public_ip = public_vip_address changed = True elif allocate_fip and not orig_public_ip: fip = self.conn.network.find_available_ip() if not fip: if not public_network: self.fail_json(msg=""Public network is not provided"") pub_net = self.conn.network.find_network(public_network) if not pub_net: self.fail_json( msg='Public network %s not found' % public_network ) fip = self.conn.network.create_ip( floating_network_id=pub_net.id ) self.conn.network.update_ip( fip, fixed_ip_address=lb.vip_address, port_id=lb.vip_port_id ) new_public_ip = fip.floating_ip_address changed = True # Include public_vip_address in the result. lb = self.conn.load_balancer.find_load_balancer(name_or_id=lb.id) lb_dict = lb.to_dict() lb_dict.update({""public_vip_address"": new_public_ip}) self.exit_json( changed=changed, loadbalancer=lb_dict, id=lb.id ) elif self.params['state'] == 'absent': changed = False public_vip_address = None if lb: if self.ansible.check_mode: self.exit_json(changed=True) if delete_fip: ips = self.conn.network.ips( port_id=lb.vip_port_id, fixed_ip_address=lb.vip_address ) ips = list(ips) if ips: public_vip_address = ips[0] # Deleting load balancer with `cascade=False` does not make # sense because the deletion will always fail if there are # sub-resources. self.conn.load_balancer.delete_load_balancer(lb, cascade=True) changed = True if self.params['wait']: self._wait_for_lb(lb, ""DELETED"", [""ERROR""]) if delete_fip and public_vip_address: self.conn.network.delete_ip(public_vip_address) changed = True elif self.ansible.check_mode: self.exit_json(changed=False) self.exit_json(changed=changed) except Exception as e: self.fail_json(msg=str(e)) ",320,359
openstack%2Fopenstacksdk~stable%2Fzed~Ibf4a16e544921ec914f6e23112e0fc37a12096a5,openstack/openstacksdk,stable/zed,Ibf4a16e544921ec914f6e23112e0fc37a12096a5,Update tox.ini for tox v4 compatibility,MERGED,2023-01-04 12:17:32.000000000,2023-01-11 14:12:25.000000000,2023-01-11 14:11:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 12:17:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5d395a3136d31406b5f82b52c71cab900a784a13', 'message': ""Update tox.ini for tox v4 compatibility\n\nTox v4 made a number of changes that break compatibility with old tox v3\ntox.ini files. In particular openstacksdk lists env vars for passenv on\na single line separating them with spaces. This is no longer allowed and\nproduces this error:\n\n  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'\n\nWe can fix this by listing each value on a single line which we do here.\n\nNOTE(stephenfin): Modified to include change\nIce5ef168891fe35c4447468dd0d7956ef04db090 which fixes some nits with the\noriginal change.\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/868430\nChange-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5\n(cherry picked from commit a0f969cf92691c4c8beeeedd69d9884923a92c0e)\n""}]",1,869200,5d395a3136d31406b5f82b52c71cab900a784a13,8,2,1,15334,,,0,"Update tox.ini for tox v4 compatibility

Tox v4 made a number of changes that break compatibility with old tox v3
tox.ini files. In particular openstacksdk lists env vars for passenv on
a single line separating them with spaces. This is no longer allowed and
produces this error:

  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'

We can fix this by listing each value on a single line which we do here.

NOTE(stephenfin): Modified to include change
Ice5ef168891fe35c4447468dd0d7956ef04db090 which fixes some nits with the
original change.

Depends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/868430
Change-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5
(cherry picked from commit a0f969cf92691c4c8beeeedd69d9884923a92c0e)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/869200/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d395a3136d31406b5f82b52c71cab900a784a13,tox4,passenv = OS_* OPENSTACKSDK_*setenv = OS_TEST_TIMEOUT=31536000passenv = HOME USER ANSIBLE_VAR_*,skipsdist = Truepassenv = OS_* OPENSTACKSDK_*setenv = OS_TEST_TIMEOUT=31536000passenv = HOME USER ANSIBLE_VAR_*,9,4
openstack%2Fopenstack-ansible-os_cinder~master~Ib1571c5be67155b584c412da8336de49bc80d948,openstack/openstack-ansible-os_cinder,master,Ib1571c5be67155b584c412da8336de49bc80d948,Remove rsync requirement for cinder,MERGED,2023-01-10 14:10:06.000000000,2023-01-11 14:04:10.000000000,2023-01-11 14:03:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 14:10:06.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'tasks/cinder_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/369f01589c6d2a26f03fe5e30f2ff210dd9fb826', 'message': 'Remove rsync requirement for cinder\n\nWe used rsync to synchronize filters from rootwrap.d. However, with\nsmart-source that is not needed anymore, since /etc/cinder is simply\na symlink to the source directory of rsync. We still need os-brick\nrootwrap linkage though.\n\nChange-Id: Ib1571c5be67155b584c412da8336de49bc80d948\n'}]",0,869725,369f01589c6d2a26f03fe5e30f2ff210dd9fb826,9,3,1,28619,,,0,"Remove rsync requirement for cinder

We used rsync to synchronize filters from rootwrap.d. However, with
smart-source that is not needed anymore, since /etc/cinder is simply
a symlink to the source directory of rsync. We still need os-brick
rootwrap linkage though.

Change-Id: Ib1571c5be67155b584c412da8336de49bc80d948
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/25/869725/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'tasks/cinder_install_source.yml']",3,369f01589c6d2a26f03fe5e30f2ff210dd9fb826,osa/warn,, - name: Copy cinder rootwrap filters command: >- rsync --archive --itemize-changes --delete /openstack/venvs/cinder-{{ cinder_venv_tag }}/etc/cinder/rootwrap.d/ /etc/cinder/rootwrap.d/ args: warn: no register: _copy_rootwraps changed_when: _copy_rootwraps.stdout | length > 0 notify: - Restart cinder services - Restart uwsgi services,0,15
openstack%2Fopenstack-ansible~stable%2Fzed~Ie1735103a7c60f73230ecac12ca996d845f5336b,openstack/openstack-ansible,stable/zed,Ie1735103a7c60f73230ecac12ca996d845f5336b,Block unauthenticated Ironic API endpoints from untrusted networks,MERGED,2023-01-10 15:38:48.000000000,2023-01-11 13:48:48.000000000,2023-01-11 13:47:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-10 15:38:48.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dfb0c02f4ebad4764162b0ab5ba5ee1d09d4a37a', 'message': 'Block unauthenticated Ironic API endpoints from untrusted networks\n\nIronic and Ironic inspector have some potentially unauthenticated\nendpoints which are designed for the Ironic Python Agent to make\ncallbacks to the Ironic API during node deployment [1] [2] [3].\n\nEnsure that these endpoints are never accessible from an untrusted\nnetwork.\n\n[1] https://docs.openstack.org/api-ref/baremetal/#agent-lookup\n[2] https://docs.openstack.org/api-ref/baremetal/#agent-heartbeat\n[3] https://docs.openstack.org/api-ref/baremetal-introspection/#ramdisk-callback\n\nChange-Id: Ie1735103a7c60f73230ecac12ca996d845f5336b\n(cherry picked from commit 387044de43752eef082c360a65ef61f3195b971a)\n'}]",2,869641,dfb0c02f4ebad4764162b0ab5ba5ee1d09d4a37a,14,3,1,25023,,,0,"Block unauthenticated Ironic API endpoints from untrusted networks

Ironic and Ironic inspector have some potentially unauthenticated
endpoints which are designed for the Ironic Python Agent to make
callbacks to the Ironic API during node deployment [1] [2] [3].

Ensure that these endpoints are never accessible from an untrusted
network.

[1] https://docs.openstack.org/api-ref/baremetal/#agent-lookup
[2] https://docs.openstack.org/api-ref/baremetal/#agent-heartbeat
[3] https://docs.openstack.org/api-ref/baremetal-introspection/#ramdisk-callback

Change-Id: Ie1735103a7c60f73230ecac12ca996d845f5336b
(cherry picked from commit 387044de43752eef082c360a65ef61f3195b971a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/869641/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,dfb0c02f4ebad4764162b0ab5ba5ee1d09d4a37a,osa-ironic-tidy-stable/zed,"haproxy_ironic_allowlist_networks: ""{{ haproxy_allowlist_networks }}"" haproxy_ironic_inspector_allowlist_networks: ""{{ haproxy_allowlist_networks }}"" haproxy_backend_arguments: - ""http-request deny if { path_beg /v1/lookup } !{ src {{haproxy_ironic_allowlist_networks | join(' } !{ src ') }} }"" - ""http-request deny if { path_beg /v1/heartbeat } !{ src {{haproxy_ironic_allowlist_networks | join(' } !{ src ') }} }"" haproxy_backend_arguments: - ""http-request deny if { path_beg /v1/continue } !{ src {{haproxy_ironic_inspector_allowlist_networks | join(' } !{ src ') }} }""",,7,0
openstack%2Fkolla~master~I757482e0c9df099197d0e5f388bbc8541aa4c651,openstack/kolla,master,I757482e0c9df099197d0e5f388bbc8541aa4c651,CI: drop kolla_python_version from Ubuntu jobs,MERGED,2023-01-11 09:45:19.000000000,2023-01-11 13:41:34.000000000,2023-01-11 13:39:43.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-01-11 09:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c898dc9e634e012762c9ba29dd9618cd768e9e00', 'message': 'CI: drop kolla_python_version from Ubuntu jobs\n\nChange-Id: I757482e0c9df099197d0e5f388bbc8541aa4c651\n'}, {'number': 2, 'created': '2023-01-11 09:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6be918d6b45c27dc4c12545e73f9afadb5bc5997', 'message': 'CI: drop kolla_python_version from Ubuntu jobs\n\nChange-Id: I757482e0c9df099197d0e5f388bbc8541aa4c651\n'}, {'number': 3, 'created': '2023-01-11 10:12:26.000000000', 'files': ['.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/629b1241fc5b53bac3920e88d9a97e401a053b71', 'message': 'CI: drop kolla_python_version from Ubuntu jobs\n\nChange-Id: I757482e0c9df099197d0e5f388bbc8541aa4c651\n'}]",2,869802,629b1241fc5b53bac3920e88d9a97e401a053b71,15,3,3,22629,,,0,"CI: drop kolla_python_version from Ubuntu jobs

Change-Id: I757482e0c9df099197d0e5f388bbc8541aa4c651
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/869802/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/ubuntu.yaml'],1,c898dc9e634e012762c9ba29dd9618cd768e9e00,, - kolla-ansible-ubuntu-source-upgrade: - kolla-ansible-ubuntu-source-upgrade:," vars: kolla_python_version: ""3.10"" - kolla-ansible-ubuntu-source-upgrade: vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" - kolla-ansible-ubuntu-source-upgrade: vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10"" vars: kolla_python_version: ""3.10""",0,30
openstack%2Fopenstack-ansible~stable%2Fyoga~I064ca9e123e1617d392cf0409da91a421693a1f5,openstack/openstack-ansible,stable/yoga,I064ca9e123e1617d392cf0409da91a421693a1f5,Increase thread/process to 2 for keystone,MERGED,2023-01-10 15:46:05.000000000,2023-01-11 13:31:52.000000000,2023-01-11 13:30:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-10 15:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/402edab7287a23f9037cc0a77b2250c42cdcbb7d', 'message': 'Increase thread/process to 2 for keystone\n\nChange-Id: I064ca9e123e1617d392cf0409da91a421693a1f5\n(cherry picked from commit 078c82b03456d46641a3ec05e3d14bd3ac6d1cd5)\n'}, {'number': 2, 'created': '2023-01-10 15:47:37.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a1830a5d0917bbcd71bb2bb1c11f55c0914375e', 'message': 'Increase thread/process to 2 for keystone\n\nChange-Id: I064ca9e123e1617d392cf0409da91a421693a1f5\n(cherry picked from commit 078c82b03456d46641a3ec05e3d14bd3ac6d1cd5)\n'}]",0,869642,2a1830a5d0917bbcd71bb2bb1c11f55c0914375e,10,3,2,28619,,,0,"Increase thread/process to 2 for keystone

Change-Id: I064ca9e123e1617d392cf0409da91a421693a1f5
(cherry picked from commit 078c82b03456d46641a3ec05e3d14bd3ac6d1cd5)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/869642/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,402edab7287a23f9037cc0a77b2250c42cdcbb7d,test-threads-stable/yoga,"<<<<<<< HEAD (95424e Merge ""Unset OSA-defined variables for bootstrap"" into stabl)======= keystone_httpd_mpm_thread_child: 15 keystone_wsgi_threads: 2 keystone_wsgi_processes: 2 >>>>>>> CHANGE (078c82 Increase thread/process to 2 for keystone)",,6,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I38e2fdbbd6dab744199407504911caecdbfc140f,openstack/openstack-ansible-lxc_hosts,master,I38e2fdbbd6dab744199407504911caecdbfc140f,"Remove ""warn"" paramter from command module",MERGED,2023-01-10 08:39:23.000000000,2023-01-11 13:22:46.000000000,2023-01-11 13:21:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 08:39:23.000000000', 'files': ['tasks/lxc_cache_create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e519c6b3021757187f0df5eedbda3110b805feda', 'message': 'Remove ""warn"" paramter from command module\n\nThis is removed in ansible 2.14.\n\nChange-Id: I38e2fdbbd6dab744199407504911caecdbfc140f\n'}]",1,869658,e519c6b3021757187f0df5eedbda3110b805feda,11,3,1,25023,,,0,"Remove ""warn"" paramter from command module

This is removed in ansible 2.14.

Change-Id: I38e2fdbbd6dab744199407504911caecdbfc140f
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/58/869658/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_create.yml'],1,e519c6b3021757187f0df5eedbda3110b805feda,osa/warn,,# Ansible will print a warning since this task calls 'tar' directly and we # suppress this warning with 'warn: no'. warn: no,0,3
openstack%2Fnova~stable%2Ftrain~I27441d15cc6fa2ff7715ba15aa900961aadbf54a,openstack/nova,stable/train,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 18:05:06.000000000,2023-01-11 13:17:18.000000000,2023-01-11 13:16:10.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 18:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f968282208abb72a953083710094e49f9d21593', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nConflicts:\n    nova/tests/unit/console/test_websocketproxy.py\n\nNOTE(melwitt): The conflict is because change\nI23ac1cc79482d0fabb359486a4b934463854cae5 (Allow TLS ciphers/protocols\nto be configurable for console proxies) is not in Train.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)\n(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)\n(cherry picked from commit 77bc3f004e7fe4077ea035c659630bedef1cfea1)\n(cherry picked from commit 746d654c23d75f084b6f0c70e6c32b97eebf419c)\n""}, {'number': 2, 'created': '2022-11-30 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6bf0b1d2be3cccfd62c45ca5314df6464aeabb5', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nConflicts:\n    nova/tests/unit/console/test_websocketproxy.py\n\nNOTE(melwitt): The conflict is because change\nI23ac1cc79482d0fabb359486a4b934463854cae5 (Allow TLS ciphers/protocols\nto be configurable for console proxies) is not in Train. The difference\nfrom the cherry picked change is because the flake8 version on the\nstable/train branch does not support f-strings [1].\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2019-November/011027.html\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)\n(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)\n(cherry picked from commit 77bc3f004e7fe4077ea035c659630bedef1cfea1)\n(cherry picked from commit 746d654c23d75f084b6f0c70e6c32b97eebf419c)\n""}, {'number': 3, 'created': '2022-12-01 00:02:27.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43af75243b79e95330ecd982552d568571623e39', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nConflicts:\n    nova/tests/unit/console/test_websocketproxy.py\n\nNOTE(melwitt): The conflict is because change\nI23ac1cc79482d0fabb359486a4b934463854cae5 (Allow TLS ciphers/protocols\nto be configurable for console proxies) is not in Train. The difference\nfrom the cherry picked change is because the flake8 version on the\nstable/train branch does not support f-strings [1].\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2019-November/011027.html\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)\n(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)\n(cherry picked from commit 77bc3f004e7fe4077ea035c659630bedef1cfea1)\n(cherry picked from commit 746d654c23d75f084b6f0c70e6c32b97eebf419c)\n""}]",4,866201,43af75243b79e95330ecd982552d568571623e39,13,3,3,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Conflicts:
    nova/tests/unit/console/test_websocketproxy.py

NOTE(melwitt): The conflict is because change
I23ac1cc79482d0fabb359486a4b934463854cae5 (Allow TLS ciphers/protocols
to be configurable for console proxies) is not in Train. The difference
from the cherry picked change is because the flake8 version on the
stable/train branch does not support f-strings [1].

Related-Bug: #1927677
Closes-Bug: #1986545

[1] https://lists.openstack.org/pipermail/openstack-discuss/2019-November/011027.html

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)
(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)
(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)
(cherry picked from commit 77bc3f004e7fe4077ea035c659630bedef1cfea1)
(cherry picked from commit 746d654c23d75f084b6f0c70e6c32b97eebf419c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/866201/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,6f968282208abb72a953083710094e49f9d21593,bug/1927677," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. handler = websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data to a 'wfile' # attribute. output = io.BytesIO() handler.wfile = output # Process the mock_req again to do the capture. handler.do_GET() output.seek(0) result = output.readlines() # Verify no redirect happens and instead a 400 Bad Request is returned. self.assertIn('400 URI must not start with //', result[0].decode())",26,33
openstack%2Fironic~stable%2Fyoga~I0bfef09a5312a17be54ce5c09805f06b7c349026,openstack/ironic,stable/yoga,I0bfef09a5312a17be54ce5c09805f06b7c349026,Fix CI,ABANDONED,2023-01-03 13:38:46.000000000,2023-01-11 12:23:59.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-03 13:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/56f4be7f111c28215e66855c1a6d60ecf87965ff', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n- Increase base VM memory according to new requirements for CS9\nbased IPA\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}, {'number': 2, 'created': '2023-01-09 09:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea19ee429bdef3af79edf37bbd869c37f8bab776', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n- Increase base VM memory according to new requirements for CS9\nbased IPA\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}, {'number': 3, 'created': '2023-01-09 09:15:15.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/44055a40ead99278560e1ed6ff51eb1543f4f1a0', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- Increase base VM memory according to new requirements for CS9\nbased IPA\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}]",2,869045,44055a40ead99278560e1ed6ff51eb1543f4f1a0,11,2,3,23851,,,0,"Fix CI

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- add script to allowlist for pep8 test
- Increase base VM memory according to new requirements for CS9
based IPA

Change-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026
(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/869045/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'setup.py', 'tox.ini']",3,56f4be7f111c28215e66855c1a6d60ecf87965ff,moar-tox4-fix-stable/zed-stable/yoga, {toxinidir}/tools/run_bashate.sh {toxinidir}/tools/check-releasenotes.py,skipsdist = True,4,3
openstack%2Fironic~stable%2Fzed~I0bfef09a5312a17be54ce5c09805f06b7c349026,openstack/ironic,stable/zed,I0bfef09a5312a17be54ce5c09805f06b7c349026,Fix CI,ABANDONED,2023-01-02 15:51:29.000000000,2023-01-11 12:23:44.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-02 15:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25520f5682840ebefa9602f7faf1f58db485fa38', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n- Increase base VM memory according to new requirements for CS9\nbased IPA\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}, {'number': 2, 'created': '2023-01-04 10:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc180d9616c129c3ac2b1686ec68235775845950', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}, {'number': 3, 'created': '2023-01-09 09:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e09dde6844369f52230b4d586fe61c7d1a38bc8a', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}, {'number': 4, 'created': '2023-01-09 09:15:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/373ebec5c90cdf929579fb8d00a2a0f699b7b04f', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)\n'}]",4,868789,373ebec5c90cdf929579fb8d00a2a0f699b7b04f,19,2,4,23851,,,0,"Fix CI

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- add script to allowlist for pep8 test

Change-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026
(cherry picked from commit 6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/868789/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'setup.py', 'tox.ini']",3,25520f5682840ebefa9602f7faf1f58db485fa38,moar-tox4-fix-stable/zed, {toxinidir}/tools/run_bashate.sh {toxinidir}/tools/check-releasenotes.py,skipsdist = True,4,3
openstack%2Fovn-bgp-agent~master~Ie904b3010d44761421319080def79bc25eef9a7c,openstack/ovn-bgp-agent,master,Ie904b3010d44761421319080def79bc25eef9a7c,Make return types consistent,MERGED,2023-01-11 07:06:07.000000000,2023-01-11 12:15:10.000000000,2023-01-11 12:15:10.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-11 07:06:07.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d935128ab38e90290ec61f0642d7dbad550ccc54', 'message': 'Make return types consistent\n\nUpdate a couple of utils functions related to router_gateways\nto ensure the return value is a boolean and not ""None""\n\nChange-Id: Ie904b3010d44761421319080def79bc25eef9a7c\n'}]",0,869697,d935128ab38e90290ec61f0642d7dbad550ccc54,6,2,1,23567,,,0,"Make return types consistent

Update a couple of utils functions related to router_gateways
to ensure the return value is a boolean and not ""None""

Change-Id: Ie904b3010d44761421319080def79bc25eef9a7c
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/97/869697/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/utils/ovn.py'],1,d935128ab38e90290ec61f0642d7dbad550ccc54,, return False return False, pass pass,2,2
openstack%2Ftripleo-heat-templates~master~Ib5ea1e022e624a57374b0c2d365d68452af08085,openstack/tripleo-heat-templates,master,Ib5ea1e022e624a57374b0c2d365d68452af08085,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-11-02 16:27:46.000000000,2023-01-11 11:55:03.000000000,2023-01-11 11:55:03.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-02 16:27:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e296891dd1e64a32ef92a9439db07396bfd8ddfe', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ib5ea1e022e624a57374b0c2d365d68452af08085\n'}]",0,863398,e296891dd1e64a32ef92a9439db07396bfd8ddfe,8,4,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ib5ea1e022e624a57374b0c2d365d68452af08085
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/863398/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e296891dd1e64a32ef92a9439db07396bfd8ddfe,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fcinder~master~I4cfb7701c6e8cd9de48b8ff0b6d709c7126e7f56,openstack/cinder,master,I4cfb7701c6e8cd9de48b8ff0b6d709c7126e7f56,Hitachi: uploading test(4),ABANDONED,2023-01-11 08:11:58.000000000,2023-01-11 11:39:27.000000000,,[],"[{'number': 1, 'created': '2023-01-11 08:11:58.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_replication.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'cinder/volume/drivers/hitachi/hbsd_rest_fc.py', 'releasenotes/notes/hitachi-vsp-add-volume-replication-d8079621818cccec.yaml', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_replication_fc.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_rest_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_mirror_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'doc/source/configuration/block-storage/drivers/hitachi-vsp-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/351b3b4d340ff8606a56e2af290d848c6aea0aa2', 'message': 'Hitachi: uploading test(4)\n\nThis patch is to check whether if\n""remote unpack failed: error Missing tree"" is issued or not.\nbecause I met above error when uploading real patch.\nI\'ll ""abandon"" this patch soon.\n\nChange-Id: I4cfb7701c6e8cd9de48b8ff0b6d709c7126e7f56\n'}]",0,869699,351b3b4d340ff8606a56e2af290d848c6aea0aa2,4,0,1,33473,,,0,"Hitachi: uploading test(4)

This patch is to check whether if
""remote unpack failed: error Missing tree"" is issued or not.
because I met above error when uploading real patch.
I'll ""abandon"" this patch soon.

Change-Id: I4cfb7701c6e8cd9de48b8ff0b6d709c7126e7f56
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/869699/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hbsd_replication.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'cinder/volume/drivers/hitachi/hbsd_rest_fc.py', 'releasenotes/notes/hitachi-vsp-add-volume-replication-d8079621818cccec.yaml', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_replication_fc.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_rest_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_mirror_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'doc/source/configuration/block-storage/drivers/hitachi-vsp-driver.rst']",16,351b3b4d340ff8606a56e2af290d848c6aea0aa2,hitachi-vol-replication, cinder.volume.drivers.hitachi.hbsd_replication,,6277,501
openstack%2Fnova~stable%2Fussuri~I27441d15cc6fa2ff7715ba15aa900961aadbf54a,openstack/nova,stable/ussuri,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 17:31:15.000000000,2023-01-11 11:33:14.000000000,2023-01-11 11:31:34.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 17:31:15.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/746d654c23d75f084b6f0c70e6c32b97eebf419c', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)\n(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)\n(cherry picked from commit 77bc3f004e7fe4077ea035c659630bedef1cfea1)\n""}]",1,866196,746d654c23d75f084b6f0c70e6c32b97eebf419c,8,3,1,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Related-Bug: #1927677
Closes-Bug: #1986545

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)
(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)
(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)
(cherry picked from commit 77bc3f004e7fe4077ea035c659630bedef1cfea1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/866196/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,746d654c23d75f084b6f0c70e6c32b97eebf419c,bug/1986545," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",26,35
openstack%2Fnova~stable%2Fussuri~I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,openstack/nova,stable/ussuri,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-11-08 13:57:32.000000000,2023-01-11 11:32:13.000000000,2023-01-11 11:30:50.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-11-08 13:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c4ce97794b4094581c4308131eb8939ffb1c3fd', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nConflicts:\n\tnova/tests/functional/integrated_helpers.py\n\tnova/tests/functional/regressions/test_bug_1628606.py\n\nNOTE(auniyal): conflicts are due to the following changes that are not\nin Ussuri\n\t* Ie0852a89fc9423a92baa7c29a8806c0628cae220\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)\n(cherry picked from commit 6dda4f7ca3f25a11cd0178352ad24fe2e8b74785)\n'}, {'number': 2, 'created': '2022-11-08 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9669d7882db54a7512a18d6b0ee1b5a1ba8c584', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nConflicts:\n\tnova/tests/functional/integrated_helpers.py\n\tnova/tests/functional/regressions/test_bug_1628606.py\n\nNOTE(auniyal): conflicts are due to the following changes that are not\nin Ussuri\n\t* Ie0852a89fc9423a92baa7c29a8806c0628cae220\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)\n(cherry picked from commit 6dda4f7ca3f25a11cd0178352ad24fe2e8b74785)\n'}, {'number': 3, 'created': '2022-11-24 09:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3827806fd69b74d12a5c9bc592550bcbe433e01', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)\n(cherry picked from commit 6dda4f7ca3f25a11cd0178352ad24fe2e8b74785)\n'}, {'number': 4, 'created': '2022-11-28 12:53:19.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e955b62fa63b72816369a21af283a2b64f4af27', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)\n(cherry picked from commit 6dda4f7ca3f25a11cd0178352ad24fe2e8b74785)\n'}]",8,864006,5e955b62fa63b72816369a21af283a2b64f4af27,18,4,4,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

changes:
adds return server from _live_migrate in _integrated_helpers

NOTE(auniyal): Differences
  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)
(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)
(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)
(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)
(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)
(cherry picked from commit 6dda4f7ca3f25a11cd0178352ad24fe2e8b74785)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/864006/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",2,1c4ce97794b4094581c4308131eb8939ffb1c3fd,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock from nova.tests.unit.image import fake class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) fake.stub_out_image_service(self) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) ",,70,5
openstack%2Fopenstacksdk~master~I2c708de7dfc9f3be780e721248883e8a165b6294,openstack/openstacksdk,master,I2c708de7dfc9f3be780e721248883e8a165b6294,Add query mappings for vpnaas resources,MERGED,2022-12-29 12:36:06.000000000,2023-01-11 11:32:11.000000000,2023-01-11 11:30:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-29 12:36:06.000000000', 'files': ['openstack/network/v2/load_balancer.py', 'openstack/network/v2/vpn_ipsec_site_connection.py', 'openstack/tests/unit/network/v2/test_vpn_endpoint_group.py', 'openstack/tests/unit/network/v2/test_vpn_service.py', 'openstack/network/v2/vpn_service.py', 'openstack/tests/unit/network/v2/test_vpn_ipsecpolicy.py', 'openstack/network/v2/vpn_ike_policy.py', 'openstack/network/v2/vpn_ipsec_policy.py', 'openstack/network/v2/vpn_endpoint_group.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0ea056f3a308aa227a102fa35e532bc561e2158d', 'message': ""Add query mappings for vpnaas resources\n\nNetwork VPNaaS resources like VPN service, IPSEC site connections etc\ndidn't have explicit query mappings.\nAdding the query mappings allows to filter for e.g. project_id already\non the server instead of transferring the list of all resources and then\nfilter at the client side.\nAffected resource types:\nVpnService, VpnIPSecSiteConnection, VpnIpsecPolicy, VpnIkePolicy,\nVpnEndpointGroup, LoadBalancer\n\nChange-Id: I2c708de7dfc9f3be780e721248883e8a165b6294\n""}]",1,868867,0ea056f3a308aa227a102fa35e532bc561e2158d,12,3,1,31976,,,0,"Add query mappings for vpnaas resources

Network VPNaaS resources like VPN service, IPSEC site connections etc
didn't have explicit query mappings.
Adding the query mappings allows to filter for e.g. project_id already
on the server instead of transferring the list of all resources and then
filter at the client side.
Affected resource types:
VpnService, VpnIPSecSiteConnection, VpnIpsecPolicy, VpnIkePolicy,
VpnEndpointGroup, LoadBalancer

Change-Id: I2c708de7dfc9f3be780e721248883e8a165b6294
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/67/868867/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/load_balancer.py', 'openstack/network/v2/vpn_ipsec_site_connection.py', 'openstack/tests/unit/network/v2/test_vpn_endpoint_group.py', 'openstack/tests/unit/network/v2/test_vpn_service.py', 'openstack/network/v2/vpn_service.py', 'openstack/tests/unit/network/v2/test_vpn_ipsecpolicy.py', 'openstack/network/v2/vpn_ike_policy.py', 'openstack/network/v2/vpn_ipsec_policy.py', 'openstack/network/v2/vpn_endpoint_group.py']",9,0ea056f3a308aa227a102fa35e532bc561e2158d,vpnaas-query-mappings," _query_mapping = resource.QueryParameters( 'description', 'name', 'project_id', 'tenant_id', type='endpoint_type' ) #: Human-readable name of the resource. Default is an empty string. name = resource.Body('name')",,62,0
openstack%2Ftripleo-heat-templates~master~Ifc5b14250fd7579fc61425b2f6a01f06f07d3418,openstack/tripleo-heat-templates,master,Ifc5b14250fd7579fc61425b2f6a01f06f07d3418,Add IronicEnableNovaPowerNotifications parameter,MERGED,2022-12-22 11:19:18.000000000,2023-01-11 11:08:48.000000000,2023-01-11 11:07:27.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-12-22 11:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecf7cf23320b127d8a98ae5c09a95c4e8fef6ffb', 'message': ""Add IronicEnableNovaPowerNotifications parameter\n\nAdds the IronicEnableNovaPowerNotifications THT parameter.\nIn the undercloud environment set the parameter to `false` so\nthat the undercloud's ironic-conductor don't attempt to send\npower notifications to a non-existing nova service.\n\nCloses-Bug: #2000308\nChange-Id: Ifc5b14250fd7579fc61425b2f6a01f06f07d3418\n""}, {'number': 2, 'created': '2022-12-22 11:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e125703ed77127c2cc383c26ea7868d213dde59', 'message': ""Add IronicEnableNovaPowerNotifications parameter\n\nAdds the IronicEnableNovaPowerNotifications THT parameter.\nIn the undercloud environment set the parameter to `false` so\nthat the undercloud's ironic-conductor don't attempt to send\npower notifications to a non-existing nova service.\n\nCloses-Bug: #2000308\nChange-Id: Ifc5b14250fd7579fc61425b2f6a01f06f07d3418\n""}, {'number': 3, 'created': '2022-12-22 12:55:11.000000000', 'files': ['environments/undercloud.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/ironic_send_power_notifications-f9977e3179b68868.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9629235830bfc4eaf8b6671e4b398dcac6de6509', 'message': ""Add IronicEnableNovaPowerNotifications parameter\n\nAdds the IronicEnableNovaPowerNotifications THT parameter.\nIn the undercloud environment set the parameter to `false` so\nthat the undercloud's ironic-conductor don't attempt to send\npower notifications to a non-existing nova service.\n\nDepends-on: https://review.opendev.org/868414\nCloses-Bug: #2000308\nChange-Id: Ifc5b14250fd7579fc61425b2f6a01f06f07d3418\n""}]",5,868381,9629235830bfc4eaf8b6671e4b398dcac6de6509,16,5,3,24245,,,0,"Add IronicEnableNovaPowerNotifications parameter

Adds the IronicEnableNovaPowerNotifications THT parameter.
In the undercloud environment set the parameter to `false` so
that the undercloud's ironic-conductor don't attempt to send
power notifications to a non-existing nova service.

Depends-on: https://review.opendev.org/868414
Closes-Bug: #2000308
Change-Id: Ifc5b14250fd7579fc61425b2f6a01f06f07d3418
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/868381/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/ironic_send_power_notifications-f9977e3179b68868.yaml']",3,ecf7cf23320b127d8a98ae5c09a95c4e8fef6ffb,bug/2000308,--- features: - | Added paramter ``IronicEnableNovaPowerNotifications`` (defaults to: ``true``). The parameter controls the ``[nova]/send_power_notifications`` option in ironic.conf which is used to enable/disable the power state change callbacks to nova. fixes: - | The undercloud now disables ``[nova]/send_power_notifications`` in the ironic service. This fixes an issue where ironic-conductor on the undercloud would try to report power state changes to nova and fail because nova service is not runnint on the undercloud. See bug: `2000308 <https://bugs.launchpad.net/tripleo/+bug/2000308>`_. ,,22,0
openstack%2Fkolla~master~I8bcddbd6ebf3119f4f56d86e47377f27b8671b1a,openstack/kolla,master,I8bcddbd6ebf3119f4f56d86e47377f27b8671b1a,CI: CentOS/Rocky: revert Delorean repo url at the end,MERGED,2023-01-10 13:25:47.000000000,2023-01-11 10:41:20.000000000,2023-01-11 10:39:03.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-01-10 13:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a0d24761df207a320cf36b5c4f9510d595e2d23', 'message': 'CI: CentOS/Rocky: revert Delorean repo url at the end\n\nWe revert all repos to their normal versions. This change takes care of\nforgotten Delorean repos.\n\nChange-Id: I8bcddbd6ebf3119f4f56d86e47377f27b8671b1a\n'}, {'number': 2, 'created': '2023-01-10 13:34:09.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9e60c0b21984902272838a63f5935ea6da56cbb', 'message': 'CI: CentOS/Rocky: revert Delorean repo url at the end\n\nWe revert all repos to their normal versions. This change takes care of\nforgotten Delorean repos.\n\nChange-Id: I8bcddbd6ebf3119f4f56d86e47377f27b8671b1a\n'}]",2,869718,c9e60c0b21984902272838a63f5935ea6da56cbb,13,3,2,24072,,,0,"CI: CentOS/Rocky: revert Delorean repo url at the end

We revert all repos to their normal versions. This change takes care of
forgotten Delorean repos.

Change-Id: I8bcddbd6ebf3119f4f56d86e47377f27b8671b1a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/869718/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,7a0d24761df207a320cf36b5c4f9510d595e2d23,," fi; \ sed -i \ -e ""s|{{ nodepool_rdo_proxy }}|https://trunk.rdoproject.org|g"" \ /etc/yum.repos.d/delorean*.repo {% raw %}", fi,6,1
openstack%2Fskyline-console~master~Ic53c2eb28ad392736d0f78b23eafd13e4c5d88dd,openstack/skyline-console,master,Ic53c2eb28ad392736d0f78b23eafd13e4c5d88dd,"feature: support ip address, ports and networks in list and detail",MERGED,2023-01-11 08:28:21.000000000,2023-01-11 10:40:56.000000000,2023-01-11 10:39:17.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2023-01-11 08:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/510f962fcd44660588dd62ce9c3642ddedc3895f', 'message': 'feature: support ip address, ports and networks into list\n\n1. show ip address, ports and networks in zun containers list\n2. show ip address and subnets into zun containers detail\n\nChange-Id: Ic53c2eb28ad392736d0f78b23eafd13e4c5d88dd\n'}, {'number': 2, 'created': '2023-01-11 08:32:07.000000000', 'files': ['src/locales/zh.json', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a347c373a46204d3d3bedcd11c446a5fab8d9f8d', 'message': 'feature: support ip address, ports and networks in list and detail\n\n1. show ip address, ports and networks in zun containers list\n2. show ip address and subnets into zun containers detail\n\nChange-Id: Ic53c2eb28ad392736d0f78b23eafd13e4c5d88dd\n'}]",0,869793,a347c373a46204d3d3bedcd11c446a5fab8d9f8d,8,2,2,33689,,,0,"feature: support ip address, ports and networks in list and detail

1. show ip address, ports and networks in zun containers list
2. show ip address and subnets into zun containers detail

Change-Id: Ic53c2eb28ad392736d0f78b23eafd13e4c5d88dd
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/93/869793/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/zh.json', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/index.jsx']",5,510f962fcd44660588dd62ce9c3642ddedc3895f,fix-zun-ui,"import React from 'react'; title: t('IP Address'), isHideable: true, dataIndex: 'addrs', render: (value = []) => ( <> {value.length ? value.map((it) => { return <div key={it.addr}>{it.addr}</div>; }) : '-'} </> ), }, { title: t('Ports'), isHideable: true, dataIndex: 'ports', render: (value = []) => ( <> {value.length ? value.map((it) => { return <div key={it}>{it}</div>; }) : '-'} </> ), }, { title: t('Networks'), isHideable: true, dataIndex: 'networks', render: (value = []) => ( <> {value.length ? value.map((it) => { const link = this.getLinkRender('networkDetail', it, { id: it, }); return <div key={it}>{link}</div>; }) : '-'} </> ), }, { title: t('Container Status'), label: t('Image Driver'), name: 'image_driver', options: getOptions(imageDrivers), }, {"," title: t('Status'),",101,27
openstack%2Fkolla~master~Id2d9ded90b7c83e29782ddcf794d57f944ddccb4,openstack/kolla,master,Id2d9ded90b7c83e29782ddcf794d57f944ddccb4,Remove install_type command line argument in Antelope cycle,MERGED,2023-01-10 11:05:32.000000000,2023-01-11 10:40:09.000000000,2023-01-11 10:38:58.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-01-10 11:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/04a4e8251ab5cb26d4cd5da613dbb831bc961ea5', 'message': 'Remove install_type command line argument in Antelope cycle\n\nChange-Id: Id2d9ded90b7c83e29782ddcf794d57f944ddccb4\n'}, {'number': 2, 'created': '2023-01-10 12:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da1f842aac991344d6198d939990de501b3e557c', 'message': 'Remove install_type command line argument in Antelope cycle\n\nChange-Id: Id2d9ded90b7c83e29782ddcf794d57f944ddccb4\n'}, {'number': 3, 'created': '2023-01-10 13:43:50.000000000', 'files': ['releasenotes/notes/remove-install-type-argument-c2de6ca0468797ed.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1036d802f578933c39d4dc0a809393f6fb08f25c', 'message': 'Remove install_type command line argument in Antelope cycle\n\nChange-Id: Id2d9ded90b7c83e29782ddcf794d57f944ddccb4\n'}]",2,869679,1036d802f578933c39d4dc0a809393f6fb08f25c,15,4,3,23084,,,0,"Remove install_type command line argument in Antelope cycle

Change-Id: Id2d9ded90b7c83e29782ddcf794d57f944ddccb4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/869679/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,04a4e8251ab5cb26d4cd5da613dbb831bc961ea5,,," # NOTE(hrw): deprecate argument in Zed, remove in A-cycle cfg.StrOpt('type', short='t', default='source', choices=INSTALL_TYPE_CHOICES, dest='install_type', help=('Ignored, kept for script compatibility.')),",0,5
openstack%2Fbarbican~master~Ib8cf6b88af55d96fde7e1d4d46f6930d2e756a29,openstack/barbican,master,Ib8cf6b88af55d96fde7e1d4d46f6930d2e756a29,Fix tox4 error,MERGED,2023-01-10 19:56:04.000000000,2023-01-11 10:19:35.000000000,2023-01-11 10:18:25.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 19:56:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6814abb54fb48c94d7df0dedd8f1586d4152df15', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is due to the\nskipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ib8cf6b88af55d96fde7e1d4d46f6930d2e756a29\n'}]",0,869757,6814abb54fb48c94d7df0dedd8f1586d4152df15,7,3,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is due to the
skipsdist = True.

Fixing tox.ini for tox4 changes.

Change-Id: Ib8cf6b88af55d96fde7e1d4d46f6930d2e756a29
",git fetch https://review.opendev.org/openstack/barbican refs/changes/57/869757/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6814abb54fb48c94d7df0dedd8f1586d4152df15,tox4,,skipsdist = True,0,1
openstack%2Fcyborg~master~Ic059efa95554e854a3da177ec069f262bc83db78,openstack/cyborg,master,Ic059efa95554e854a3da177ec069f262bc83db78,add attributes delete api ut,MERGED,2023-01-10 13:24:42.000000000,2023-01-11 10:08:02.000000000,2023-01-11 10:05:28.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-10 13:24:42.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1a0a92a3017c46c605a36b7be01bb38aa0079d81', 'message': 'add attributes delete api ut\n\nChange-Id: Ic059efa95554e854a3da177ec069f262bc83db78\n'}]",1,869693,1a0a92a3017c46c605a36b7be01bb38aa0079d81,9,3,1,32020,,,0,"add attributes delete api ut

Change-Id: Ic059efa95554e854a3da177ec069f262bc83db78
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/93/869693/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/api/controllers/v2/test_attributes.py'],1,1a0a92a3017c46c605a36b7be01bb38aa0079d81,," @mock.patch('cyborg.objects.Attribute.destroy') def test_delete(self, mock_attribute_uuid): uuid = self.fake_attribute_objs[0]['uuid'] # Delete by UUID url = self.ATTRIBUTE_URL + '/%s' % uuid response = self.delete(url, headers=self.headers) self.assertEqual(HTTPStatus.NO_CONTENT, response.status_int)",,8,0
openstack%2Fcyborg~master~Ia2765d49da62733efacc0e095423e7a1bb84197d,openstack/cyborg,master,Ia2765d49da62733efacc0e095423e7a1bb84197d,fix function usage errors,MERGED,2023-01-11 05:40:51.000000000,2023-01-11 10:06:34.000000000,2023-01-11 10:05:27.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-11 05:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/12bf63dd36c249fbc88ffa7a13dedc3b6f3a9944', 'message': 'fix function usage errors\n\nWhen comparing variables, should use assertEqual\n\nRelated-Bug: #2002460\n\nChange-Id: Ia2765d49da62733efacc0e095423e7a1bb84197d\n'}, {'number': 2, 'created': '2023-01-11 08:20:50.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_arqs.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3f052b6ad4769e410a55aae2927abcac5f650889', 'message': 'fix function usage errors\n\nWhen comparing variables, should use assertEqual\n\nRelated-Bug: #2002460\n\nChange-Id: Ia2765d49da62733efacc0e095423e7a1bb84197d\n'}]",1,869696,3f052b6ad4769e410a55aae2927abcac5f650889,9,3,2,32020,,,0,"fix function usage errors

When comparing variables, should use assertEqual

Related-Bug: #2002460

Change-Id: Ia2765d49da62733efacc0e095423e7a1bb84197d
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/96/869696/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/api/controllers/v2/test_arqs.py'],1,12bf63dd36c249fbc88ffa7a13dedc3b6f3a9944,," self.assertEqual(len(out_arqs), len(self.fake_extarqs)) self.assertEqual(len(out_arqs), len(self.fake_bind_extarqs[:2])) self.assertEqual(len(out_arqs), len(self.fake_resolved_extarqs[1:])) self.assertEqual(len(out_arqs), len(self.fake_bind_extarqs[:2]))"," self.assertTrue(len(out_arqs), len(self.fake_extarqs)) self.assertTrue(len(out_arqs), len(self.fake_bind_extarqs[:2])) self.assertTrue(len(out_arqs), len(self.fake_resolved_extarqs[1:])) self.assertTrue(len(out_arqs), len(self.fake_bind_extarqs[:2]))",4,4
openstack%2Fansible-collections-openstack~master~I863d08c42b4c708444b74e3d47f0ca70a8ff94fd,openstack/ansible-collections-openstack,master,I863d08c42b4c708444b74e3d47f0ca70a8ff94fd,"Refactored project{,_info} modules",MERGED,2023-01-04 19:06:15.000000000,2023-01-11 10:03:18.000000000,2023-01-11 10:03:18.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-04 19:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bcf27024c09590cedab3c2493f097afcd29bef50', 'message': 'Refactored project{,_info} modules\n\nChange-Id: I863d08c42b4c708444b74e3d47f0ca70a8ff94fd\n'}, {'number': 2, 'created': '2023-01-04 20:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5c4003a9bd255e836320ebb57e3ad003d8fbc1ef', 'message': 'Refactored project{,_info} modules\n\nChange-Id: I863d08c42b4c708444b74e3d47f0ca70a8ff94fd\n'}, {'number': 3, 'created': '2023-01-05 13:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cff7ca0046240167f57c3572065345d4b97f78c2', 'message': 'Refactored project{,_info} modules\n\nChange-Id: I863d08c42b4c708444b74e3d47f0ca70a8ff94fd\n'}, {'number': 4, 'created': '2023-01-11 06:39:37.000000000', 'files': ['plugins/modules/project.py', 'ci/roles/router/tasks/shared_network.yml', 'plugins/modules/project_info.py', 'ci/roles/compute_flavor_access/tasks/main.yml', 'ci/roles/project_info/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/neutron_rbac_policy/tasks/main.yml', 'ci/roles/image/tasks/main.yml', 'ci/roles/project/tasks/main.yml', 'ci/roles/volume_type_access/tasks/main.yml', 'ci/roles/role_assignment/tasks/main.yml', 'ci/roles/project/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eaa26c6b9c0eea0113f19f070273e71e9b0fc487', 'message': 'Refactored project{,_info} modules\n\nChange-Id: I863d08c42b4c708444b74e3d47f0ca70a8ff94fd\n'}]",1,869254,eaa26c6b9c0eea0113f19f070273e71e9b0fc487,17,4,4,32962,,,0,"Refactored project{,_info} modules

Change-Id: I863d08c42b4c708444b74e3d47f0ca70a8ff94fd
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/54/869254/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/image/tasks/main.yml', 'plugins/modules/project.py', 'ci/roles/router/tasks/shared_network.yml', 'ci/roles/project/tasks/main.yml', 'ci/roles/volume_type_access/tasks/main.yml', 'plugins/modules/project_info.py', 'ci/roles/role_assignment/tasks/main.yml', 'ci/roles/compute_flavor_access/tasks/main.yml', 'ci/roles/project_info/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/neutron_rbac_policy/tasks/main.yml']",11,bcf27024c09590cedab3c2493f097afcd29bef50,project, domain: default is_enabled: True, domain_id: default enabled: True,433,439
openstack%2Fansible-collections-openstack~master~I1773b72f8c7eaec77f0480045c45073dc522c5cf,openstack/ansible-collections-openstack,master,I1773b72f8c7eaec77f0480045c45073dc522c5cf,Refactored compute_service_info module,MERGED,2023-01-04 10:30:09.000000000,2023-01-11 10:03:17.000000000,2023-01-11 10:03:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-04 10:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4e2c98bb0d4a7f67fbece1f282728dad328efe40', 'message': 'Refactored compute_service_info module\n\nChange-Id: I1773b72f8c7eaec77f0480045c45073dc522c5cf\n'}, {'number': 2, 'created': '2023-01-05 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2f301a02743d9826b24b0a76cac2ece515814a5c', 'message': 'Refactored compute_service_info module\n\nChange-Id: I1773b72f8c7eaec77f0480045c45073dc522c5cf\n'}, {'number': 3, 'created': '2023-01-11 06:39:07.000000000', 'files': ['ci/roles/compute_service/defaults/main.yml', 'ci/roles/compute_service/tasks/main.yml', 'ci/roles/nova_services/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/compute_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0071fdcd970e6409afbfdfd410e5c141d63e0af1', 'message': 'Refactored compute_service_info module\n\nChange-Id: I1773b72f8c7eaec77f0480045c45073dc522c5cf\n'}]",2,869167,0071fdcd970e6409afbfdfd410e5c141d63e0af1,15,3,3,32962,,,0,"Refactored compute_service_info module

Change-Id: I1773b72f8c7eaec77f0480045c45073dc522c5cf
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/67/869167/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/compute_service/defaults/main.yml', 'ci/roles/compute_service/tasks/main.yml', 'ci/roles/nova_services/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/compute_service_info.py']",5,4e2c98bb0d4a7f67fbece1f282728dad328efe40,compute-service,"DOCUMENTATION = r'''short_description: Fetch OpenStack Compute (Nova) services - Fetch OpenStack Compute (Nova) services. options: binary: description: - Filter the service list result by binary name of the service. type: str host: description: - Filter the service list result by the host name. type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstackEXAMPLES = r''' - name: Fetch all OpenStack Compute (Nova) services openstack.cloud.compute_service_info: cloud: awesomecloud - name: Fetch a subset of OpenStack Compute (Nova) services openstack.cloud.compute_service_info:RETURN = r''' compute_services: description: List of dictionaries describing Compute (Nova) services. returned: always type: list elements: dict contains: availability_zone: description: The availability zone name. type: str binary: description: The binary name of the service. type: str disabled_reason: description: The reason why the service is disabled type: str id: description: Unique UUID. type: str is_forced_down: description: If the service has been forced down or nova-compute type: bool host: description: The name of the host. type: str name: description: Service name type: str state: description: The state of the service. One of up or down. type: str status: description: The status of the service. One of enabled or disabled. type: str update_at: description: The date and time when the resource was updated type: str binary=dict(), host=dict(), kwargs = {k: self.params[k] for k in ['binary', 'host'] if self.params[k] is not None} compute_services = self.conn.compute.services(**kwargs) self.exit_json(changed=False, compute_services=[s.to_dict(computed=False) for s in compute_services])","DOCUMENTATION = '''short_description: Retrieve information about one or more OpenStack compute services - Retrieve information about nova compute services options: binary: description: - Filter by service binary type. Requires openstacksdk>=0.53. type: str host: description: - Filter by service host. Requires openstacksdk>=0.53. type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstackEXAMPLES = ''' # Gather information about compute services - openstack.cloud.compute_service_info: register: result - openstack.cloud.compute_service_info: cloud: awesomecloud register: result - debug: msg: ""{{ result.openstack_compute_services }}"" RETURN = ''' openstack_compute_services: description: has all the OpenStack information about compute services returned: always, but can be null type: complex contains: id: description: Unique UUID. returned: success type: str binary: description: The binary name of the service. returned: success type: str host: description: The name of the host. returned: success type: str disabled_reason: description: The reason why the service is disabled returned: success and OpenStack SDK >= 0.53 type: str disables_reason: description: The reason why the service is disabled returned: success and OpenStack SDK < 0.53 type: str availability_zone: description: The availability zone name. returned: success type: str is_forced_down: description: If the service has been forced down or nova-compute returned: success type: bool name: description: Service name returned: success type: str status: description: The status of the service. One of enabled or disabled. returned: success type: str state: description: The state of the service. One of up or down. returned: success type: str update_at: description: The date and time when the resource was updated returned: success type: str binary=dict(min_ver='0.53.0'), host=dict(min_ver='0.53.0'), filters = self.check_versioned(binary=self.params['binary'], host=self.params['host']) filters = {k: v for k, v in filters.items() if v is not None} services = self.conn.compute.services(**filters) services = [service.to_dict(computed=False) for service in services] self.exit_json(changed=False, openstack_compute_services=services)",104,118
openstack%2Fansible-collections-openstack~master~I571955e8f4023293cce325604de5f1689b855416,openstack/ansible-collections-openstack,master,I571955e8f4023293cce325604de5f1689b855416,Added parameter for managing rules in security_group module,MERGED,2022-11-02 10:26:38.000000000,2023-01-11 10:03:15.000000000,2023-01-11 10:03:15.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-11-02 10:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a0bb30d29e0106e9e622db22d2520bf868631403', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 2, 'created': '2022-11-02 10:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b3bb0d54039875b770f2c90dc050d1526edbb1b', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 3, 'created': '2022-11-02 11:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dc82aaad2af66063510f6f47a653b53bba36c73b', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 4, 'created': '2022-11-02 11:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/681b1972f7497444af8678074dcf0b9d939e45b1', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 5, 'created': '2022-11-02 11:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8babe185655104353d881f59a6aa8fb786ac923c', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 6, 'created': '2022-11-02 12:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/341f971e6bb8b9adcfee9da73db2746d708ea6f1', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 7, 'created': '2022-11-02 12:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6eaf32fa7d1f0f89f39254b27714b343ad151b00', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 8, 'created': '2022-11-02 14:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5feeee3de5bb0d3e7628b52e23fa590b337a2ae3', 'message': 'updated argument spec based on documentation example\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 9, 'created': '2022-11-02 14:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7f3c7f704e6a6c60e2ba66737a734afe4c5d1302', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 10, 'created': '2022-11-03 08:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/576539f23e165addd59fa59a6ad54b770c9a27ca', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 11, 'created': '2022-11-16 12:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/884e727e82580c1117bbca020e182aee160cf062', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 12, 'created': '2022-11-16 13:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fdbc736ecc8ca043e36142f7fa638c11884b0596', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 13, 'created': '2022-11-16 15:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/710923d12b7f14aa671025e4eec64b7743e0b07f', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 14, 'created': '2022-11-16 19:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/67b1b235368c4a284b9e7c62e6ed8ea5750029a1', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 15, 'created': '2022-11-17 06:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/104fc9c9064ab27472c9371225c0000835a10651', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 16, 'created': '2022-11-17 09:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/23c8c0d261008604922d39708ac417315614922d', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 17, 'created': '2022-11-17 10:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e5d983afebace5ee8475be3ef03a55a038e62ee7', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 18, 'created': '2022-11-28 13:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bace0bebdb7a437b31c0cc449ecebd0e70d5be19', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 19, 'created': '2022-11-28 14:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fc0aa9bf4483b4017c414fe6082512a86a4dd5cb', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 20, 'created': '2022-11-28 14:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eb13cd86a5c6f87b808a26650494d25552fa4a0a', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 21, 'created': '2022-11-29 11:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2e53c8cda71ec7fbeb97483e0ee67b23c76f1e42', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 22, 'created': '2022-11-29 11:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b1eef716f151d61759f7c6278daa759d64ccbbe7', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 23, 'created': '2022-11-29 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/004e39a269daa9cd1904551e53d9a41cbf164f91', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 24, 'created': '2022-11-30 10:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6556b7d01a36566806c29ba027c810eff742d753', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 25, 'created': '2022-11-30 14:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/19c57b5125f428f768016fdda65e92ea0db31df5', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 26, 'created': '2022-12-01 06:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8362998236d19de9308784dc30324ce1f365699a', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 27, 'created': '2022-12-01 06:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cfe44146e9b98ee618de84ba5d20111a4f0b65c9', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 28, 'created': '2022-12-01 10:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e9a7c449d4d4559cc4722c19f083a5061747887f', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 29, 'created': '2022-12-06 13:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6439452fea98ad6fec73d7f26d97a2ace9f06397', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 30, 'created': '2022-12-07 17:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6837528b9bba50b14d23ed7051a9adbb15349b72', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 31, 'created': '2022-12-07 17:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2b3c4a177f29a96416fd15dbde65b8fd628b2921', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 32, 'created': '2022-12-07 17:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b9c87d58e94cf87b1b5fcd4a93b5fd3c74983384', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 33, 'created': '2022-12-09 11:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a64ace21fa98f78cc2610cb44ebaa32017f19b73', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 34, 'created': '2022-12-09 13:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0ada798918672933f13c30581edb31699ace3a1c', 'message': 'Bulk creation of OpenStack SG rules\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n\nAdded examples to documentation\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 35, 'created': '2023-01-06 10:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/af67c2f4313a20d8073c0a10952f31781f1db931', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 36, 'created': '2023-01-06 10:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/47f9985b6dd2fbe8ea0d4dea6c8d6ba87e3472a2', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 37, 'created': '2023-01-06 12:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/918aec58e11a11936e4fd70554764483052d938e', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 38, 'created': '2023-01-06 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/55260a18652be8fb166097cabbbb59bb76a6f77a', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 39, 'created': '2023-01-06 12:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3ed470af6b8f9d534def34b6c94a4481bfd53fbc', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 40, 'created': '2023-01-06 14:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/afdb7251ad2b02cce5252c059ad62140aa4fd439', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 41, 'created': '2023-01-06 19:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f2cb204a14ae5f6f3a664bcb446fdcee9350f76d', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}, {'number': 42, 'created': '2023-01-11 06:38:15.000000000', 'files': ['plugins/modules/security_group_rule.py', 'plugins/modules/security_group.py', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/security_group/tasks/rules.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/124e174d27cd0befd50f3cf2bc6f89f35c4151ef', 'message': 'Added parameter for managing rules in security_group module\n\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nChange-Id: I571955e8f4023293cce325604de5f1689b855416\n'}]",53,863208,124e174d27cd0befd50f3cf2bc6f89f35c4151ef,91,4,42,35259,,,0,"Added parameter for managing rules in security_group module

Co-Authored-By: Jakob Meng <code@jakobmeng.de>

Change-Id: I571955e8f4023293cce325604de5f1689b855416
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/08/863208/36 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/security_group_rules.py'],1,a0bb30d29e0106e9e622db22d2520bf868631403,security_group_rules," description: - List of SG rules declared in the playbook/inventory - Each rule is a dictionary. suboptions: protocol: description: - IP protocols ANY TCP UDP ICMP and others, also number in range 0-255 type: str port_range_min: description: - Starting port type: int port_range_max: description: - Ending port type: int remote_ip_prefix: description: - Source IP address(es) in CIDR notation (exclusive with remote_group and remote_ip_prefix) type: str remote_ip_prefixes: description: - List of source IP address(es) in CIDR notation (exclusive with remote_group and remote_ip_prefix) type: list elements: str aliases: [prefixes] remote_group: description: - Name or ID of the Security group to link (exclusive with remote_ip_prefix/remote_ip_prefixes) type: str ether_type: description: - Must be IPv4 or IPv6, and addresses represented in CIDR must match the ingress or egress rules. Not all providers support IPv6. choices: [""IPv4"", ""IPv6""] default: IPv4 type: str aliases: [ethertype] direction: description: - The direction in which the security group rule is applied. Not all providers support egress. choices: [""egress"", ""ingress""] default: ingress type: str state: description: - Should the resource be present or absent. choices: [present, absent] default: present type: str description: required: false description: - Description of the rule. type: strsecurity_group_rule=dict( protocol=dict(), port_range_min=dict(type='int'), port_range_max=dict(type='int'), remote_ip_prefix=dict(), remote_ip_prefixes=dict(aliases=['prefixes']), remote_group=dict(), ether_type=dict(default='IPv4', choices=['IPv4', 'IPv6'], aliases=['ethertype']), direction=dict(default='ingress', choices=['egress', 'ingress']), state=dict(default='present', choices=['absent', 'present']), description=dict(), ) secgroup_rules=dict(type='list', elements='dict', options=security_group_rule), module_kwargs = dict( mutually_exclusive=[ ['remote_ip_prefix', 'remote_group'], ['remote_ip_prefixes', 'remote_group'], ['remote_ip_prefixes', 'remote_ip_prefix'] ] )"," description: List of SG rules declared in the playbook/inventory type: list elements: dict suboptions: protocol: description: - IP protocols ANY TCP UDP ICMP and others, also number in range 0-255 type: str port_range_min: description: - Starting port type: int port_range_max: description: - Ending port type: int remote_ip_prefix: description: - Source IP address(es) in CIDR notation (exclusive with remote_group and remote_ip_prefix) type: str remote_ip_prefixes: description: - List of source IP address(es) in CIDR notation (exclusive with remote_group and remote_ip_prefix) type: list elements: str aliases: [prefixes] remote_group: description: - Name or ID of the Security group to link (exclusive with remote_ip_prefix/remote_ip_prefixes) type: str ether_type: description: - Must be IPv4 or IPv6, and addresses represented in CIDR must match the ingress or egress rules. Not all providers support IPv6. choices: [""IPv4"", ""IPv6""] default: IPv4 type: str aliases: [ethertype] direction: description: - The direction in which the security group rule is applied. Not all providers support egress. choices: [""egress"", ""ingress""] default: ingress type: str state: description: - Should the resource be present or absent. choices: [present, absent] default: present type: str description: required: false description: - Description of the rule. type: str secgroup_rules=dict(type=list, security_group_rule=dict( protocol=dict(), port_range_min=dict(type='int'), port_range_max=dict(type='int'), remote_ip_prefix=dict(), remote_ip_prefixes=dict(aliases=['prefixes']), remote_group=dict(), ether_type=dict(default='IPv4', choices=['IPv4', 'IPv6'], aliases=['ethertype']), direction=dict(default='ingress', choices=['egress', 'ingress']), state=dict(default='present', choices=['absent', 'present']), description=dict(), ), ), # module_kwargs = dict( # mutually_exclusive=[ # ['remote_ip_prefix', 'remote_group'], # [''remote_ip_prefixes', ''remote_group'], # [''remote_ip_prefixes', ''remote_ip_prefix'] # ] # )",80,81
openstack%2Fansible-collections-openstack~master~Ie953bee843a43b945d24d6152766b3ae418f797c,openstack/ansible-collections-openstack,master,Ie953bee843a43b945d24d6152766b3ae418f797c,"Refactored security_group_rule{,_info} modules",MERGED,2023-01-05 12:10:57.000000000,2023-01-11 10:03:13.000000000,2023-01-11 10:03:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-05 12:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0a4bcca92d9eb449b6ad69d14361792f9f3fcb35', 'message': 'Refactored security_group_rule{,_info} modules\n\nChange-Id: Ie953bee843a43b945d24d6152766b3ae418f797c\n'}, {'number': 2, 'created': '2023-01-11 06:37:48.000000000', 'files': ['plugins/modules/security_group_rule.py', 'plugins/modules/security_group_rule_info.py', 'ci/roles/security_group_rule/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4dc6c421dbce43bb72da8f24bc89a1ecdb0f36f1', 'message': 'Refactored security_group_rule{,_info} modules\n\nChange-Id: Ie953bee843a43b945d24d6152766b3ae418f797c\n'}]",0,869355,4dc6c421dbce43bb72da8f24bc89a1ecdb0f36f1,9,3,2,32962,,,0,"Refactored security_group_rule{,_info} modules

Change-Id: Ie953bee843a43b945d24d6152766b3ae418f797c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/55/869355/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/security_group_rule.py', 'plugins/modules/security_group_rule_info.py', 'ci/roles/security_group_rule/tasks/main.yml']",3,0a4bcca92d9eb449b6ad69d14361792f9f3fcb35,security_group_rule," cloud: ""{{ cloud }}"" name: ansible_security_group state: present cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is changed cloud: ""{{ cloud }}"" cloud: ""{{ cloud }}"" id: ""{{ security_group_rule.rule.id }}"" cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 1 port_range_max: 65535 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 8000 port_range_max: 9000 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: udp remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: udp port_range_min: 1 port_range_max: 65535 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: udp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 30000 port_range_max: 30001 remote_ip_prefix: 0.0.0.0/0 direction: egress cloud: ""{{ cloud }}"" cloud: ""{{ cloud }}"" security_group: ansible_security_group cloud: ""{{ cloud }}"" security_group: ansible_security_group protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp port_range_min: 30000 port_range_max: 30001 remote_ip_prefix: 0.0.0.0/0 direction: egress - name: Delete HTTP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 - name: Delete empty UDP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: udp remote_ip_prefix: 0.0.0.0/0 - name: Delete TCP rule again with defined range openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp port_range_min: 8000 port_range_max: 9000 remote_ip_prefix: 0.0.0.0/0 - name: Delete empty TCP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp remote_ip_prefix: 0.0.0.0/0 - name: Delete -1 ICMP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: icmp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 - name: Delete empty ICMP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: icmp remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" name: ansible_security_group state: absent"," cloud: ""{{ cloud }}"" name: ansible_security_group state: present description: Created from Ansible playbook cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is changed cloud: ""{{ cloud }}"" cloud: ""{{ cloud }}"" id: ""{{ security_group_rule.rule.id }}"" cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: icmp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 1 port_range_max: 65535 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is not changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 8000 port_range_max: 9000 remote_ip_prefix: 0.0.0.0/0 that: security_group_rule is changed cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: udp remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: udp port_range_min: 1 port_range_max: 65535 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: udp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: present protocol: tcp port_range_min: 30000 port_range_max: 30001 remote_ip_prefix: 0.0.0.0/0 direction: egress cloud: ""{{ cloud }}"" cloud: ""{{ cloud }}"" security_group: ansible_security_group cloud: ""{{ cloud }}"" security_group: ansible_security_group protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 - name: Delete empty ICMP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: icmp remote_ip_prefix: 0.0.0.0/0 - name: Delete -1 ICMP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: icmp port_range_min: -1 port_range_max: -1 remote_ip_prefix: 0.0.0.0/0 - name: Delete empty TCP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp remote_ip_prefix: 0.0.0.0/0 - name: Delete empty UDP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: udp remote_ip_prefix: 0.0.0.0/0 - name: Delete HTTP rule openstack.cloud.security_group_rule: cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 cloud: ""{{ cloud }}"" security_group: ansible_security_group state: absent protocol: tcp port_range_min: 30000 port_range_max: 30001 remote_ip_prefix: 0.0.0.0/0 direction: egress cloud: ""{{ cloud }}"" name: ansible_security_group state: absent",450,470
openstack%2Fansible-collections-openstack~master~I8ae38c038e24ae53704224adb614b98e2e56a271,openstack/ansible-collections-openstack,master,I8ae38c038e24ae53704224adb614b98e2e56a271,"Refactored security_group{,_info} modules",MERGED,2022-12-14 19:56:19.000000000,2023-01-11 10:03:12.000000000,2023-01-11 10:03:12.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-14 19:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e4c9398989a95775092447aa3f5128e60d67e86a', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}, {'number': 2, 'created': '2022-12-15 07:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/084f25a516f51781443639d8f6636bd5fb1de8d7', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}, {'number': 3, 'created': '2022-12-15 09:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a025b77f74691e72f882fcd7dccb86dcf43f48fa', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}, {'number': 4, 'created': '2022-12-17 18:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a9683a9922fed36ca1058b08cb9ab86ccee620a2', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}, {'number': 5, 'created': '2023-01-02 10:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d0caa5053e4ee2677d7a4e5425d1b6bf37c64589', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}, {'number': 6, 'created': '2023-01-05 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ae5907d61787a5848c65a2cd3c93df598f4afe62', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}, {'number': 7, 'created': '2023-01-11 06:37:06.000000000', 'files': ['plugins/modules/security_group_rule.py', 'plugins/modules/security_group.py', 'ci/roles/server/tasks/main.yml', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/port/defaults/main.yml', 'ci/roles/port/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'ci/roles/security_group_rule/tasks/main.yml', 'plugins/modules/security_group_info.py', 'ci/roles/security_group_rule/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4cf684222282b27c8e9ad41d351f58fc2aaaebd9', 'message': 'Refactored security_group{,_info} modules\n\nChange-Id: I8ae38c038e24ae53704224adb614b98e2e56a271\n'}]",6,867740,4cf684222282b27c8e9ad41d351f58fc2aaaebd9,23,4,7,32962,,,0,"Refactored security_group{,_info} modules

Change-Id: I8ae38c038e24ae53704224adb614b98e2e56a271
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/40/867740/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/security_group_rule.py', 'plugins/modules/security_group.py', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'ci/roles/security_group_rule/tasks/main.yml', 'plugins/modules/security_group_info.py', 'ci/roles/security_group_rule/defaults/main.yml']",7,e4c9398989a95775092447aa3f5128e60d67e86a,security_group,,secgroup_name: shade_secgroup,366,271
openstack%2Fansible-collections-openstack~master~I209b242b43d8b79740752cd2c405705d247326c4,openstack/ansible-collections-openstack,master,I209b242b43d8b79740752cd2c405705d247326c4,"Refactored coe_cluster{,_template} modules",MERGED,2022-12-06 19:16:51.000000000,2023-01-11 10:03:10.000000000,2023-01-11 10:03:10.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-06 19:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dcaa0228c8808498b950f9aa6a51dc56c4863fc5', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 2, 'created': '2022-12-06 20:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9171e431b85f65360a7d9f97491c74786d972ec4', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 3, 'created': '2022-12-07 08:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b121549ef811f3c51086cf8ce8514988001ed87a', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 4, 'created': '2022-12-07 10:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/465134a07e1e3e8fa27a4c71ad69097c957bbeb3', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 5, 'created': '2022-12-07 11:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8ac7edb4b785cf8cca9c9092569be37ce3915984', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 6, 'created': '2022-12-07 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/53cbbb1aebbc07593c3b2af29d81291a34eedfaa', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 7, 'created': '2022-12-07 20:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f4858d5094a79232de09dd9e23dcc10b5d3fad78', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 8, 'created': '2022-12-09 08:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8a5d8a7be9002a075a8989897745da3bb550aa62', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 9, 'created': '2022-12-09 12:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ef09e14f07587446985c0d2eaed19ff9e82216b1', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 10, 'created': '2022-12-10 13:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/95e4e5e8b7f6d4ed3f0f032bc82b945b25f85d57', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 11, 'created': '2022-12-12 09:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a233440052ff18f019fff88f5be66691d77d7e65', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 12, 'created': '2022-12-12 14:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/85923c99a282f925ef5d5ad2d1d3bf10e0aa537b', 'message': '[DNM] Refactored coe_cluster{,_template} modules\n\nThis patch must be released to PyPI first: https://review.opendev.org/c/openstack/openstacksdk/+/865266\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 13, 'created': '2022-12-13 08:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/38c89ad32e308dd8a628a8232ea0d099c8894d41', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 14, 'created': '2022-12-13 19:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a6018f3f8894d4d88163ee20e548049ef4daef54', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 15, 'created': '2022-12-14 08:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ca61b0301873479c8970dfda544c807705d0bdb2', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 16, 'created': '2022-12-14 08:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3d377bc6735883156273c8dc18a091beaae1add7', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 17, 'created': '2022-12-14 09:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4479f9cef2e2d6198a79c993a45c53e5d9be4d5d', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 18, 'created': '2022-12-14 11:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/311235123196244b41f06ccd0108edffc33aaf5f', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 19, 'created': '2022-12-14 18:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bb6521e16db91ca45fd30fb97f4d24446c296d18', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 20, 'created': '2022-12-14 20:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6fbeecf3706c24ec5522f05a1343285e14e6eb19', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 21, 'created': '2022-12-15 07:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a9ef851577493e320c0b3bc6abfd4692364eaa8c', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 22, 'created': '2022-12-15 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0ca542165ae1d60dd275ba36850826ec08bccca1', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 23, 'created': '2022-12-15 10:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b79f7c9bd68f51a44a2dd4d83bf9167f2ef57682', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 24, 'created': '2022-12-15 14:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ca40458f22ca9d3030a62598ea702df3b3bbf787', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 25, 'created': '2022-12-15 19:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7bc825b58fed1a098122fbe7c6b3f90a76f95852', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 26, 'created': '2022-12-16 08:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2e11b0e837f0c2eea517e808ecba2bd15c00b38a', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 27, 'created': '2022-12-16 18:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d6a85bff170a8749e1a3b0cade2c664e5f4d766c', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 28, 'created': '2022-12-17 11:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/43246239ce6102e6ef7aae34360505a507f00576', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 29, 'created': '2022-12-17 17:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1214e61d64950e04d7e1c7cbf0fd452b3f98d434', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 30, 'created': '2022-12-18 08:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4ac1744906a26a0e83e6169ae8c2fb532ea545e3', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 31, 'created': '2022-12-18 10:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/45d7dfea465d6042c0824bc2717c29001a960629', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 32, 'created': '2022-12-18 18:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/55167f26ab5175dc6f6ad9844457f080c5eb6758', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 33, 'created': '2022-12-19 07:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b18a8adae70ce662c1817b897973fb95e74956ed', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 34, 'created': '2022-12-19 19:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d40581fb89becd4df458a70037a1885b45864f1e', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 35, 'created': '2022-12-20 14:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/351dc79b01ce2665ecf45a94d836e1cfb24dd710', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 36, 'created': '2022-12-20 19:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3da55b82287e88b6d8b9c41da77794dc7ccc6150', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 37, 'created': '2022-12-21 08:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c5a8cab90c487cda488fa629a55f1d7bbe8d3aee', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 38, 'created': '2022-12-21 20:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d737697157cf359339025e48afa148132da8508e', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 39, 'created': '2022-12-21 20:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cefda2ecefadf6dc77644d8af572c7eef7b870b6', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 40, 'created': '2022-12-22 08:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9d8cc76a68970520a8d30d1b5954a01e92a89511', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 41, 'created': '2022-12-22 12:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/52935b42419cec7dfcf21985c29d57c112763791', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 42, 'created': '2023-01-02 12:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4c830e197673620c12189a072ac961d49169d67d', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 43, 'created': '2023-01-04 10:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a198467c31eeb898ff98d3544acedecd869530ec', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 44, 'created': '2023-01-04 18:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8e33ed47ba3af1af355fb04b625e317fa08cefbe', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 45, 'created': '2023-01-05 13:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/af8e81fa857afe2acbd02b6689d4ed33c3942ced', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 46, 'created': '2023-01-05 16:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ba5656a90b03e511b122811526e7f7dccc0514bb', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 47, 'created': '2023-01-06 10:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0022c42e3f4efbba1afeeacb53ceaf52f6ffb1e9', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 48, 'created': '2023-01-06 10:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d41a02f005f54122ad8e21015ba8ce9b9f051814', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}, {'number': 49, 'created': '2023-01-10 15:16:41.000000000', 'files': ['plugins/modules/coe_cluster.py', 'ci/roles/coe_cluster/tasks/main.yml', 'ci/run-ansible-tests-collection.sh', 'ci/roles/coe_cluster/defaults/main.yml', '.zuul.yaml', 'ci/roles/coe_cluster_template/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/coe_cluster_template.py', 'ci/roles/coe_cluster_template/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/647ffef375da02a4b2d562d1f392dd25d8c86b89', 'message': 'Refactored coe_cluster{,_template} modules\n\nChange-Id: I209b242b43d8b79740752cd2c405705d247326c4\n'}]",9,866796,647ffef375da02a4b2d562d1f392dd25d8c86b89,108,3,49,32962,,,0,"Refactored coe_cluster{,_template} modules

Change-Id: I209b242b43d8b79740752cd2c405705d247326c4
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/96/866796/49 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/coe_cluster.py', 'ci/roles/coe_cluster/tasks/main.yml', 'ci/roles/coe_cluster/defaults/main.yml', '.zuul.yaml', 'ci/roles/coe_cluster_template/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/coe_cluster_template.py', 'ci/roles/coe_cluster_template/defaults/main.yml']",8,dcaa0228c8808498b950f9aa6a51dc56c4863fc5,coe,expected_fields: ,,177,102
openstack%2Fansible-collections-openstack~master~Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de,openstack/ansible-collections-openstack,master,Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de,"Refactored lb_{health_monitor,listener,member,pool} modules",MERGED,2022-12-13 19:14:44.000000000,2023-01-11 10:03:08.000000000,2023-01-11 10:03:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-13 19:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3c864f91be17c3b32a90120aafc429fdbac6dccd', 'message': '[DNM] Refactored lb_{member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 2, 'created': '2022-12-14 11:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/15516a4b5e9adedda0ad31d695a20532001c2b59', 'message': '[DNM] Refactored lb_{listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 3, 'created': '2022-12-14 18:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ec86f803f3ecb742f2932614b51865f8faf8a5e0', 'message': '[DNM] Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 4, 'created': '2022-12-14 19:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bea70ef0e85203655c4351691c099602505f8773', 'message': '[DNM] Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 5, 'created': '2022-12-14 20:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c7cee9f76de0907270bc82b91815329182858111', 'message': '[DNM] Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 6, 'created': '2022-12-15 07:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/811eb3103df718643fd230b508a5136f3d32aa0d', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 7, 'created': '2022-12-15 09:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/98c1c50c2f17d30a59240b56a2790cb15f316475', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 8, 'created': '2022-12-18 10:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a84d245e4f18e5d5bcf59c65a07fc423d8f073df', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 9, 'created': '2022-12-18 11:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c93c00c552124980c33084b8bd99de7a1f2b3585', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 10, 'created': '2022-12-18 11:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/56cf4eb719e42f861170b3a2a25d44b20fbc1e65', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 11, 'created': '2022-12-18 18:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8ba5b92c2ec50961a379559014f5d9fa8402315d', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 12, 'created': '2022-12-18 20:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5e1773a2b9d3568fff56f212423751037d4ef3ff', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 13, 'created': '2022-12-19 07:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ae0894d401595d89ad50e24ed9c228d7bf11f2c8', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 14, 'created': '2022-12-19 18:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7066f4cbdf5d0685e962b89c41eb81ece3d98842', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 15, 'created': '2022-12-20 09:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/133077fc3057628f236428acdf85eca86d7587d1', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 16, 'created': '2022-12-21 20:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2dbd676bc5c029f5e1cdeef0e97fe90a13e37924', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 17, 'created': '2023-01-02 10:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/91ff8776789eae5e81ea3f1a02800e34df1db7b3', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 18, 'created': '2023-01-02 12:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ec8625ccf7ab589799c4cf89222c1371e4064770', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 19, 'created': '2023-01-05 13:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c157426e1156614f71b0fb2109531cf64d6012c3', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}, {'number': 20, 'created': '2023-01-10 15:16:13.000000000', 'files': ['plugins/modules/lb_listener.py', 'ci/roles/loadbalancer/tasks/lb_modules.yml', 'plugins/modules/lb_health_monitor.py', 'ci/roles/loadbalancer/tasks/main.yml', 'plugins/modules/lb_pool.py', 'plugins/modules/lb_member.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/97c4531d151157e70287de7825bdfcb619b98077', 'message': 'Refactored lb_{health_monitor,listener,member,pool} modules\n\nChange-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de\n'}]",3,867560,97c4531d151157e70287de7825bdfcb619b98077,49,3,20,32962,,,0,"Refactored lb_{health_monitor,listener,member,pool} modules

Change-Id: Iffd6ffb08aae4cbd84e4cade79993d82e8c2b2de
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/60/867560/18 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/lb_pool.py', 'plugins/modules/lb_member.py']",2,3c864f91be17c3b32a90120aafc429fdbac6dccd,lb_member,"DOCUMENTATION = r'''short_description: Manage members in a OpenStack load-balancer pool - Add member to or remove member from OpenStack load-balancer pool. options: address: description: - The IP address of the member. - Required when I(state) is C(present). monitor_address: description: - IP address used to monitor this member. type: str monitor_port: description: - Port used to monitor this member. type: int name: description: - Name that has to be given to the member. required: true type: str pool: description: - The name or id of the pool that this member belongs to. required: true type: str protocol_port: description: - The protocol port number for the member. - Required when I(state) is C(present). type: int state: description: - Should the resource be C(present) or C(absent). choices: [present, absent] default: present type: str subnet_id: description: - The subnet ID the member service is accessible from. type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' RETURN = r''' member: description: Dictionary describing the load-balancer pool member. returned: On success when I(state) is C(present). type: dict contains: address: description: The IP address of the backend member server. type: str backup: description: A bool value that indicates whether the member is a backup or not. Backup members only receive traffic when all non-backup members are down. type: bool created_at: description: Timestamp when the member was created. type: str id: description: Unique UUID. type: str is_admin_state_up: description: The administrative state of the member. type: bool monitor_address: description: IP address used to monitor this member. type: str monitor_port: description: Port used to monitor this member. type: int name: description: Name given to the member. type: str operating_status: description: Operating status of the member. type: str project_id: description: The ID of the project this member is associated with. type: str protocol_port: description: The protocol port number for the member. type: int provisioning_status: description: The provisioning status of the member. type: str subnet_id: description: The subnet ID the member service is accessible from. type: str tags: description: A list of associated tags. type: list updated_at: description: Timestamp when the member was last updated. type: str weight: description: A positive integer value that indicates the relative portion of traffic that this member should receive from the pool. For example, a member with a weight of 10 receives five times as much traffic as a member with weight of 2. type: int pool: description: Dictionary describing the load-balancer pool. returned: On success when I(state) is C(present). type: dict contains: alpn_protocols: description: List of ALPN protocols. type: list created_at: description: Timestamp when the pool was created. type: str description: description: The pool description. type: str health_monitor_id: description: Health Monitor ID. type: str id: description: Unique UUID. type: str is_admin_state_up: description: The administrative state of the pool. type: bool lb_algorithm: description: The load balancing algorithm for the pool. type: str listener_id: description: The listener ID the pool belongs to. type: str listeners: description: A list of listener IDs. type: list loadbalancer_id: description: The load balancer ID the pool belongs to. This field is set when the pool does not belong to any listener in the load balancer. type: str loadbalancers: description: A list of load balancer IDs. type: list members: description: A list of member IDs. type: list name: description: Name given to the pool. type: str operating_status: description: The operating status of the pool. type: str project_id: description: The ID of the project. type: str protocol: description: The protocol for the pool. type: str provisioning_status: description: The provisioning status of the pool. type: str session_persistence: description: A JSON object specifying the session persistence for the pool. type: dict tags: description: A list of associated tags. type: list tls_ciphers: description: Stores a string of cipher strings in OpenSSL format. type: str tls_enabled: description: Use TLS for connections to backend member servers. type: bool tls_versions: description: A list of TLS protocol versions to be used in by the pool. type: list updated_at: description: Timestamp when the pool was updated. type: strEXAMPLES = r''' - name: Create member in a load-balancer pool openstack.cloud.lb_member: protocol_port: 8080 state: present - name: Delete member from a load-balancer pool openstack.cloud.lb_member: cloud: mycloud endpoint_type: admin name: test-member pool: test-pool state: absent '''class LoadBalancerMemberModule(OpenStackModule): monitor_port=dict(type='int'), name=dict(required=True), pool=dict(required=True), protocol_port=dict(type='int'), state=dict(default='present', choices=['absent', 'present']), subnet_id=dict(), module_kwargs = dict( required_if=[ ('state', 'present', ('address', 'protocol_port',)), ], supports_check_mode=True, ) state = self.params['state'] member, pool = self._find() if self.ansible.check_mode: self.exit_json(changed=self._will_change(state, member, pool)) if state == 'present' and not member: # Create member member = self._create(pool) self.exit_json(changed=True, member=member.to_dict(computed=False), pool=pool.to_dict(computed=False)) elif state == 'present' and member: # Update member update = self._build_update(member, pool) if update: member = self._update(member, pool, update) self.exit_json(changed=bool(update), member=member.to_dict(computed=False), pool=pool.to_dict(computed=False)) elif state == 'absent' and member: # Delete member self._delete(member, pool) self.exit_json(changed=True) elif state == 'absent' and not member: # Do nothing self.exit_json(changed=False) def _build_update(self, member, pool): update = {} # TODO: Implement support for updates. non_updateable_keys = [k for k in ['address', 'monitor_address', 'monitor_port', 'name', 'protocol_port', 'subnet_id'] if self.params[k] is not None and self.params[k] != member[k]] if non_updateable_keys: self.fail_json(msg='Cannot update parameters {0}' .format(non_updateable_keys)) attributes = dict((k, self.params[k]) for k in [] if self.params[k] is not None and self.params[k] != member[k]) if attributes: update['attributes'] = attributes return update def _create(self, pool): kwargs = dict((k, self.params[k]) for k in ['address', 'monitor_address', 'monitor_port', 'name', 'protocol_port', 'subnet_id'] if self.params[k] is not None) member = self.conn.load_balancer.create_member(pool.id, **kwargs) if self.params['wait']: self.sdk.resource.wait_for_status( self.conn.load_balancer, member, status='active', failures=['error'], wait=self.params['timeout'], attribute='provisioning_status') return member def _delete(self, member, pool): self.conn.load_balancer.delete_member(member.id, pool.id) def _find(self): pool_name_or_id = self.params['pool'] pool = self.conn.load_balancer.find_pool(name_or_id=pool_name_or_id, ignore_missing=False) member = self.conn.load_balancer.find_member(name, pool.id) return member, pool def _update(self, member, pool, update): attributes = update.get('attributes') if attributes: member = self.conn.load_balancer.update_member(member.id, pool.id, **attributes) if self.params['wait']: self.sdk.resource.wait_for_status( self.conn.load_balancer, member, status='active', failures=['error'], wait=self.params['timeout'], attribute='provisioning_status') return member def _will_change(self, state, member, pool): if state == 'present' and not member: return True elif state == 'present' and member: return bool(self._build_update(member, pool)) elif state == 'absent' and member: return True else: # state == 'absent' and not member: return False module = LoadBalancerMemberModule()","DOCUMENTATION = '''short_description: Add/Delete a member for a pool in load balancer from OpenStack Cloud - Add or Remove a member for a pool from the OpenStack load-balancer service. options: name: description: - Name that has to be given to the member required: true type: str state: description: - Should the resource be present or absent. choices: [present, absent] default: present type: str pool: description: - The name or id of the pool that this member belongs to. required: true type: str protocol_port: description: - The protocol port number for the member. default: 80 type: int address: description: - The IP address of the member. type: str subnet_id: description: - The subnet ID the member service is accessible from. type: str wait: description: - If the module should wait for the load balancer to be ACTIVE. type: bool default: 'yes' timeout: description: - The amount of time the module should wait for the load balancer to get into ACTIVE state. default: 180 type: int monitor_address: description: - IP address used to monitor this member type: str monitor_port: description: - Port used to monitor this member type: int requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' RETURN = ''' id: description: The member UUID. returned: On success when I(state) is 'present' sample: ""39007a7e-ee4f-4d13-8283-b4da2e037c69"" member: description: Dictionary describing the member. returned: On success when I(state) is 'present' type: complex contains: id: description: Unique UUID. type: str sample: ""39007a7e-ee4f-4d13-8283-b4da2e037c69"" name: description: Name given to the member. type: str sample: ""test"" description: description: The member description. type: str sample: ""description"" provisioning_status: description: The provisioning status of the member. type: str sample: ""ACTIVE"" operating_status: description: The operating status of the member. type: str sample: ""ONLINE"" is_admin_state_up: description: The administrative state of the member. type: bool sample: true protocol_port: description: The protocol port number for the member. type: int sample: 80 subnet_id: description: The subnet ID the member service is accessible from. type: str sample: ""489247fa-9c25-11e8-9679-00224d6b7bc1"" address: description: The IP address of the backend member server. type: str sample: ""192.168.2.10""EXAMPLES = ''' # Create a member, wait for the member to be created. - openstack.cloud.lb_member: cloud: mycloud endpoint_type: admin state: present name: test-member pool: test-pool protocol_port: 8080 # Delete a listener - openstack.cloud.lb_member: state: absent''' import timeclass LoadbalancerMemberModule(OpenStackModule): name=dict(required=True), state=dict(default='present', choices=['absent', 'present']), pool=dict(required=True), protocol_port=dict(default=80, type='int'), subnet_id=dict(), monitor_port=dict(type='int') module_kwargs = dict() def _wait_for_member_status(self, pool_id, member_id, status, failures, interval=5): timeout = self.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: member = self.conn.load_balancer.get_member(member_id, pool_id) provisioning_status = member.provisioning_status if provisioning_status == status: return member if provisioning_status in failures: self.fail_json( msg=""Member %s transitioned to failure state %s"" % (member_id, provisioning_status) ) time.sleep(interval) total_sleep += interval self.fail_json( msg=""Timeout waiting for member %s to transition to %s"" % (member_id, status) ) pool = self.params['pool'] changed = False pool_ret = self.conn.load_balancer.find_pool(name_or_id=pool) if not pool_ret: self.fail_json(msg='pool %s is not found' % pool) pool_id = pool_ret.id member = self.conn.load_balancer.find_member(name, pool_id) if self.params['state'] == 'present': if not member: member = self.conn.load_balancer.create_member( pool_ret, address=self.params['address'], name=name, protocol_port=self.params['protocol_port'], subnet_id=self.params['subnet_id'], monitor_address=self.params['monitor_address'], monitor_port=self.params['monitor_port'] ) changed = True if not self.params['wait']: self.exit_json( changed=changed, member=member.to_dict(), id=member.id) if self.params['wait']: member = self._wait_for_member_status( pool_id, member.id, ""ACTIVE"", [""ERROR""]) self.exit_json( changed=changed, member=member.to_dict(), id=member.id) elif self.params['state'] == 'absent': if member: self.conn.load_balancer.delete_member(member, pool_ret) changed = True self.exit_json(changed=changed) module = LoadbalancerMemberModule()",585,404
openstack%2Fansible-collections-openstack~master~I839365bd3485859a2351b0124eae9d09a9d0b31a,openstack/ansible-collections-openstack,master,I839365bd3485859a2351b0124eae9d09a9d0b31a,Refactored loadbalancer module breaking backward compatibility,MERGED,2022-12-13 18:41:38.000000000,2023-01-11 10:03:05.000000000,2023-01-11 10:03:05.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-13 18:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4d304b9bbd160649d8443b06277d6129df1ec127', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 2, 'created': '2022-12-14 08:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fc4ba6d0247079999692908b961dd03549894a5c', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 3, 'created': '2022-12-14 09:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/adc3cf7af528849462b54396e89699fd273a197d', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 4, 'created': '2022-12-14 10:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/029892e9601ab4d3aa4d331d85249f1541de2718', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 5, 'created': '2022-12-14 14:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/42bc0ce380316b2f494696e114230c9579b47ed3', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 6, 'created': '2022-12-14 14:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4223922f1b7074901634b8e23d133a18485ceec7', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 7, 'created': '2022-12-14 17:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f3c7cae8301534a819abf4a99ae8dba58366cbda', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 8, 'created': '2022-12-14 19:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d54146a3d222e9e3523b5b3e56bc8f457d2f60a8', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 9, 'created': '2022-12-15 07:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1656eef806c6915c86325b580967acad3ebf811b', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 10, 'created': '2022-12-15 09:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/956dbb812aa736914168924bfa71097de68f1c94', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 11, 'created': '2022-12-15 11:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d727098d9c5cab2f634d3303aa7d1edde624aee7', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 12, 'created': '2022-12-15 14:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/39577af527e21dd152b0c3fac8bb2ee30be05703', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 13, 'created': '2022-12-15 19:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0201f0fe96a6b725174c68a8eff8479537b02499', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 14, 'created': '2022-12-16 08:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/87c815ca3ebe45672455354799566e3ee846abf4', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 15, 'created': '2022-12-16 13:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4594541d36be9b30442bbde583cb4bfdc5332fb5', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 16, 'created': '2022-12-16 17:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/889fd3d308259687ebb7474be6da2f6ffc77bd59', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 17, 'created': '2022-12-16 20:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/72f8ccc3a3bec400b0fa287cdcd7fa5e2f65703b', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 18, 'created': '2022-12-17 11:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e0bfe4ed7d4dfa380fad34cdf6928c502d2a116b', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 19, 'created': '2022-12-17 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/df1117c8492201f949b78a22e3d7728756a2561e', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 20, 'created': '2022-12-18 11:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2505265888a8c42da04512b0778164151f37b1e2', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 21, 'created': '2022-12-20 19:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/af47c6dec3ada4121be7304b5d9583682c0d4852', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 22, 'created': '2022-12-21 12:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0308714b689579346fc081c8a4917deaa347f16a', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 23, 'created': '2022-12-21 12:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/700856c1af486ba7ec1c7bc95578c397f9945951', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 24, 'created': '2023-01-02 10:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/685eb380f2ac20f0d082e4040bc6c4f3618be5ab', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 25, 'created': '2023-01-02 12:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/032177f9bfae5f1d3dd4e99e2fadea2a2c431e2f', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 26, 'created': '2023-01-05 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b865ec48daa316820411ea5f3d1f0eea896d3c74', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}, {'number': 27, 'created': '2023-01-10 15:15:57.000000000', 'files': ['ci/roles/loadbalancer/defaults/main.yml', '.zuul.yaml', 'ci/roles/loadbalancer/tasks/main.yml', 'plugins/modules/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/407b50c8b2803d27cf05322f4afe2a9a8af86631', 'message': ""Refactored loadbalancer module breaking backward compatibility\n\nModule option 'listeners' has been removed because it shares\nfunctionality and a huge amount of code with\nlb_{listener,member,pool} modules.\n\nCo-Authored-By: Rafael Castillo <rcastill@redhat.com>\n\nChange-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a\n""}]",12,867558,407b50c8b2803d27cf05322f4afe2a9a8af86631,70,4,27,32962,,,0,"Refactored loadbalancer module breaking backward compatibility

Module option 'listeners' has been removed because it shares
functionality and a huge amount of code with
lb_{listener,member,pool} modules.

Co-Authored-By: Rafael Castillo <rcastill@redhat.com>

Change-Id: I839365bd3485859a2351b0124eae9d09a9d0b31a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/58/867558/22 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/loadbalancer/defaults/main.yml', 'ci/roles/loadbalancer/tasks/main.yml', 'plugins/modules/loadbalancer.py']",3,4d304b9bbd160649d8443b06277d6129df1ec127,loadbalancer,"short_description: Manage Octavia load-balancer in an OpenStack cloud - Add Octavia load-balancer to or remove it from OpenStack cloud. - Load-balancer updates are not supported for now except for changing its floating ip. options: assign_floating_ip: description: - Allocate floating ip address and associate with the VIP automatically. - Deprecated, use M(openstack.cloud.floating_ip) instead. type: bool default: false aliases: ['auto_public_ip'] delete_floating_ip: description: - When I(state) is C(present) and I(delete_floating_ip) is C(true), then any floating ip address associated with the VIP will be deleted. - When I(state) is C(absent) and I(delete_floating_ip) is C(true), then any floating ip address associated with the VIP will be deleted along with the load balancer. - Deprecated, use M(openstack.cloud.floating_ip) instead. type: bool default: false aliases: ['delete_public_ip'] flavor: description: - The flavor of the load balancer. type: str floating_ip_address: description: - Floating ip address aka public ip address associated with the VIP. - Deprecated, use M(openstack.cloud.floating_ip) instead. type: str aliases: ['public_ip_address'] floating_ip_network: description: - Name or ID of a Neutron external network where floating ip address will be created on. - Deprecated, use M(openstack.cloud.floating_ip) instead. type: str aliases: ['public_network'] vip_address: description: - IP address of the load balancer virtual IP. - One of I(vip_network), I(vip_subnet), or I(vip_port) must be specified - One of I(vip_network), I(vip_subnet), or I(vip_port) must be specified for creation. vip_subnet: description: - The name or id of the subnet for the virtual IP of the load balancer. - One of I(vip_network), I(vip_subnet), or I(vip_port) must be specified for creation.requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstackRETURN = r''' floating_ip: description: Dictionary describing the floating ip address attached to the load-balancer. type: dict returned: On success when I(state) is C(present) and I(assign_floating_ip) is C(true). contains: created_at: description: Timestamp at which the floating IP was assigned. type: str description: description: The description of a floating IP. type: str dns_domain: description: The DNS domain. type: str dns_name: description: The DNS name. type: str fixed_ip_address: description: The fixed IP address associated with a floating IP address. type: str floating_ip_address: description: The IP address of a floating IP. type: str floating_network_id: description: The id of the network associated with a floating IP. type: str id: description: Id of the floating ip. type: str name: description: Name of the floating ip. type: str port_details: description: | The details of the port that this floating IP associates with. Present if C(fip-port-details) extension is loaded. type: dict port_id: description: The port ID floating ip associated with. type: str project_id: description: The ID of the project this floating IP is associated with. type: str qos_policy_id: description: The ID of the QoS policy attached to the floating IP. type: str revision_number: description: Revision number. type: str router_id: description: The id of the router floating ip associated with. type: str status: description: | The status of a floating IP, which can be 'ACTIVE' or 'DOWN'. type: str subnet_id: description: The id of the subnet the floating ip associated with. type: str tags: description: List of tags. type: list elements: str updated_at: description: Timestamp at which the floating IP was last updated. type: str load_balancer: description: Dictionary describing the load-balancer. returned: On success when I(state) is C(present). type: dict contains: additional_vips: description: Additional VIPs. type: str availability_zone: description: Name of the target Octavia availability zone. type: str created_at: description: Timestamp when the load balancer was created. type: str description: description: The load balancer description. type: str flavor_id: description: The load balancer flavor ID. type: str id: description: Unique UUID. type: str is_admin_state_up: description: The administrative state of the load balancer. type: bool listeners: description: The associated listener IDs, if any. type: list name: description: Name given to the load balancer. type: str operating_status: description: The operating status of the load balancer. type: str pools: description: The associated pool IDs, if any. type: list project_id: description: The ID of the project this load balancer is associated with. type: str provider: description: Provider name for the load balancer. type: str provisioning_status: description: The provisioning status of the load balancer. type: str tags: description: A list of associated tags. type: str updated_at: description: Timestamp when the load balancer was last updated. type: str vip_address: description: The load balancer virtual IP address. type: str vip_network_id: description: Network ID the load balancer virtual IP port belongs in. type: str vip_port_id: description: The load balancer virtual IP port ID. type: str vip_qos_policy_id: description: VIP qos policy id. type: str vip_subnet_id: description: Subnet ID the load balancer virtual IP port belongs in. type: strEXAMPLES = r''' - name: Create a load balancer openstack.cloud.loadbalancer: cloud: devstack name: my_lb state: present vip_subnet: my_subnet - name: Create another load balancer openstack.cloud.loadbalancer: cloud: devstack name: my_lb state: present vip_address: 192.168.0.11 vip_network: my_network - name: Delete a load balancer and all its related resources openstack.cloud.loadbalancer: cloud: devstack name: my_lb state: absent - name: Delete a load balancer, its related resources and its floating ip openstack.cloud.loadbalancer: cloud: devstack delete_floating_ip: yes name: my_lb state: absent ''' assign_floating_ip=dict(default=False, type='bool', aliases=['auto_public_ip']), delete_floating_ip=dict(default=False, type='bool', aliases=['delete_public_ip']), floating_ip_address=dict(aliases=['public_ip_address']), floating_ip_network=dict(aliases=['public_network']), name=dict(required=True), vip_network=dict(), vip_port=dict(), vip_subnet=dict(), module_kwargs = dict( required_if=[ ('state', 'present', ('vip_network', 'vip_subnet', 'vip_port'), True) ], mutually_exclusive=[ ('assign_floating_ip', 'delete_floating_ip'), ], supports_check_mode=True, ) state = self.params['state'] load_balancer = self._find() if self.ansible.check_mode: self.exit_json(changed=self._will_change(state, load_balancer)) if state == 'present' and not load_balancer: # Create load_balancer load_balancer, floating_ip = self._create() self.exit_json( changed=True, load_balancer=load_balancer.to_dict(computed=False), **(dict(floating_ip=floating_ip.to_dict(computed=False)) if floating_ip is not None else dict())) elif state == 'present' and load_balancer: # Update load_balancer update = self._build_update(load_balancer) if update: load_balancer, floating_ip = self._update(load_balancer, update) self.exit_json( changed=bool(update), load_balancer=load_balancer.to_dict(computed=False), **(dict(floating_ip=floating_ip.to_dict(computed=False)) if floating_ip is not None else dict())) elif state == 'absent' and load_balancer: # Delete load_balancer self._delete(load_balancer) self.exit_json(changed=True) elif state == 'absent' and not load_balancer: # Do nothing self.exit_json(changed=False) def _build_update(self, load_balancer): update = {} # TODO: Implement support for updates. non_updateable_keys = [k for k in ['name', 'vip_address'] if self.params[k] is not None and self.params[k] != load_balancer[k]] flavor_name_or_id = self.params['flavor'] if flavor_name_or_id is not None: flavor = self.conn.load_balancer.find_flavor( flavor_name_or_id, ignore_missing=False) if load_balancer['flavor_id'] != flavor.id: non_updateable_keys.append('flavor_id') vip_network_name_or_id = self.params['vip_network'] if vip_network_name_or_id is not None: network = self.conn.network.find_network( vip_network_name_or_id, ignore_missing=False) if load_balancer['vip_network_id'] != network.id: non_updateable_keys.append('vip_network_id') vip_subnet_name_or_id = self.params['vip_subnet'] if vip_subnet_name_or_id is not None: subnet = self.conn.network.find_subnet( vip_subnet_name_or_id, ignore_missing=False) if load_balancer['vip_subnet_id'] != subnet.id: non_updateable_keys.append('vip_subnet_id') vip_port_name_or_id = self.params['vip_port'] if vip_port_name_or_id is not None: port = self.conn.network.find_port( vip_port_name_or_id, ignore_missing=False) if load_balancer['vip_port_id'] != port.id: non_updateable_keys.append('vip_port_id') if non_updateable_keys: self.fail_json(msg='Cannot update parameters {0}' .format(non_updateable_keys)) attributes = dict((k, self.params[k]) for k in [] if self.params[k] is not None and self.params[k] != load_balancer[k]) if attributes: update['attributes'] = attributes floating_ip, floating_ip_update = \ self._build_update_floating_ip(load_balancer) return {**update, **floating_ip_update} def _build_update_floating_ip(self, load_balancer): assign_floating_ip = self.params['assign_floating_ip'] delete_floating_ip = self.params['delete_floating_ip'] floating_ip_address = self.params['floating_ip_address'] if floating_ip_address is not None \ and (not assign_floating_ip or not delete_floating_ip): self.fail_json(msg=""assign_floating_ip or delete_floating_ip must"" "" be true when floating_ip_address is set"") floating_ip_network = self.params['floating_ip_network'] if floating_ip_network is not None \ and (not assign_floating_ip or not delete_floating_ip): self.fail_json(msg=""assign_floating_ip or delete_floating_ip must"" "" be true when floating_ip_network is set"") ips = list(self.conn.network.ips( port_id=load_balancer.vip_port_id, fixed_ip_address=load_balancer.vip_address)) if len(ips) > 1: self.fail_json(msg=""Only a single floating ip address"" "" per load-balancer is supported"") if delete_floating_ip or not assign_floating_ip: if not ips: return None, {} if len(ips) != 1: raise AssertionError(""A single floating ip is expected"") ip = ips[0] return ip, {'delete_floating_ip': ip} # else assign_floating_ip if not ips: return None, dict( assign_floating_ip=dict( floating_ip_address=floating_ip_address, floating_ip_network=floating_ip_network)) if len(ips) != 1: raise AssertionError(""A single floating ip is expected"") ip = ips[0] if floating_ip_network is not None: network = self.conn.network.find_network(floating_ip_network, ignore_missing=False) if ip.floating_network_id != network.id: return ip, dict( assign_floating_ip=dict( floating_ip_address=floating_ip_address, floating_ip_network=floating_ip_network), delete_floating_ip=ip) if floating_ip_address is not None \ and floating_ip_address != ip.floating_ip_address: return ip, dict( assign_floating_ip=dict( floating_ip_address=floating_ip_address, floating_ip_network=floating_ip_network), delete_floating_ip=ip) return ip, {} def _create(self): kwargs = dict((k, self.params[k]) for k in ['name', 'vip_address'] if self.params[k] is not None) flavor_name_or_id = self.params['flavor'] if flavor_name_or_id is not None: flavor = self.conn.load_balancer.find_flavor( flavor_name_or_id, ignore_missing=False) kwargs['flavor_id'] = flavor.id vip_network_name_or_id = self.params['vip_network'] if vip_network_name_or_id is not None: network = self.conn.network.find_network( vip_network_name_or_id, ignore_missing=False) kwargs['vip_network_id'] = network.id vip_subnet_name_or_id = self.params['vip_subnet'] if vip_subnet_name_or_id is not None: subnet = self.conn.network.find_subnet( vip_subnet_name_or_id, ignore_missing=False) kwargs['vip_subnet_id'] = subnet.id vip_port_name_or_id = self.params['vip_port'] if vip_port_name_or_id is not None: port = self.conn.network.find_port( vip_port_name_or_id, ignore_missing=False) kwargs['vip_port_id'] = port.id load_balancer = self.conn.load_balancer.create_load_balancer(**kwargs) if self.params['wait']: self.sdk.load_balancer.wait_for_load_balancer( load_balancer.id, wait=self.params['timeout']) floating_ip, update = self._build_update_floating_ip(load_balancer) if update: load_balancer, floating_ip = \ self._update_floating_ip(load_balancer, update) return load_balancer, floating_ip def _delete(self, load_balancer): if self.params['delete_floating_ip']: ips = list(self.conn.network.ips( port_id=load_balancer.vip_port_id, fixed_ip_address=load_balancer.vip_address)) else: ips = [] # With cascade=False the deletion of load-balancer # would always fail if there are sub-resources. self.conn.load_balancer.delete_load_balancer(load_balancer.id, cascade=True) if self.params['wait']: self.sdk.load_balancer.wait_for_load_balancer( load_balancer.id, status=['DELETED'], wait=self.params['timeout']) for ip in ips: self.conn.network.delete_ip(ip) def _find(self): name = self.params['name'] return self.conn.load_balancer.find_load_balancer(name_or_id=name) def _update(self, load_balancer, update): attributes = update.get('attributes') if attributes: load_balancer = \ self.conn.load_balancer.update_load_balancer(load_balancer.id, **attributes) load_balancer, floating_ip = \ self._update_floating_ip(load_balancer, update) return load_balancer, floating_ip def _update_floating_ip(self, load_balancer, update): floating_ip = None delete_floating_ip = update.get('delete_floating_ip') if delete_floating_ip: self.conn.network.delete_ip(delete_floating_ip.id) assign_floating_ip = update.get('assign_floating_ip') if assign_floating_ip: floating_ip_address = assign_floating_ip['floating_ip_address'] floating_ip_network = assign_floating_ip['floating_ip_network'] if floating_ip_network is not None: network = self.conn.network.find_network(floating_ip_network, ignore_missing=False) else: network = None if floating_ip_address is not None: kwargs = ({'floating_network_id': network.id} if network is not None else {}) ip = self.conn.network.find_ip(floating_ip_address, **kwargs) else: ip = None if ip: if ip['port_id'] is not None: self.fail_json( msg=""Floating ip {0} is associated to another fixed ip"" "" address {1} already"".format( ip.floating_ip_address, ip.fixed_ip_address)) # Associate floating ip floating_ip = self.conn.network.update_ip( ip.id, fixed_ip_address=load_balancer.vip_address, port_id=load_balancer.vip_port_id) elif floating_ip_address: # and not ip # Create new floating ip kwargs = ({'floating_network_id': network.id} if network is not None else {}) floating_ip = self.conn.network.create_ip( floating_ip_address=floating_ip_address, **kwargs) elif network: # List disassociated floating ips on network ips = [ip for ip in self.conn.network.ips(floating_network_id=network.id) if ip['port_id'] is None] if ips: # Associate first disassociated floating ip ip = ips[0] floating_ip = self.conn.network.update_ip( ip.id, fixed_ip_address=load_balancer.vip_address, port_id=load_balancer.vip_port_id) else: # No disassociated floating ips # Create new floating ip on network floating_ip = self.conn.network.create_ip( floating_network_id=network.id) else: # Find disassociated floating ip ip = self.conn.network.find_available_ip() if ip: # Associate disassociated floating ip floating_ip = self.conn.network.update_ip( ip.id, fixed_ip_address=load_balancer.vip_address, port_id=load_balancer.vip_port_id) else: # Create new floating ip floating_ip = self.conn.network.create_ip() return load_balancer, floating_ip def _will_change(self, state, load_balancer): if state == 'present' and not load_balancer: return True elif state == 'present' and load_balancer: return bool(self._build_update(load_balancer)) elif state == 'absent' and load_balancer: return True else: # state == 'absent' and not load_balancer: return False","short_description: Add/Delete load balancer from OpenStack Cloud - Add or Remove load balancer from the OpenStack load-balancer service(Octavia). Load balancer update is not supported for now. options: flavor: description: - The flavor of the load balancer. One of I(vip_network), I(vip_subnet), or I(vip_port) must be specified for creation. type: str vip_subnet: description: - The name or id of the subnet for the virtual IP of the load balancer. One of I(vip_network), I(vip_subnet), or I(vip_port) must be specified I(vip_network), I(vip_subnet), or I(vip_port) must be specified for creation. vip_address: description: - IP address of the load balancer virtual IP. public_ip_address: description: - Public IP address associated with the VIP. type: str auto_public_ip: description: - Allocate a public IP address and associate with the VIP automatically. type: bool default: 'no' public_network: description: - The name or ID of a Neutron external network. type: str delete_public_ip: description: - When C(state=absent) and this option is true, any public IP address associated with the VIP will be deleted along with the load balancer. type: bool default: 'no' listeners: description: - A list of listeners that attached to the load balancer. suboptions: name: description: - The listener name or ID. protocol: description: - The protocol for the listener. default: HTTP protocol_port: description: - The protocol port number for the listener. default: 80 allowed_cidrs: description: - A list of IPv4, IPv6 or mix of both CIDRs to be allowed access to the listener. The default is all allowed. When a list of CIDRs is provided, the default switches to deny all. Ignored on unsupported Octavia versions (less than 2.12) default: [] pool: description: - The pool attached to the listener. suboptions: name: description: - The pool name or ID. protocol: description: - The protocol for the pool. default: HTTP lb_algorithm: description: - The load balancing algorithm for the pool. default: ROUND_ROBIN members: description: - A list of members that added to the pool. suboptions: name: description: - The member name or ID. address: description: - The IP address of the member. protocol_port: description: - The protocol port number for the member. default: 80 subnet: description: - The name or ID of the subnet the member service is accessible from. elements: dict type: list default: [] wait: description: - If the module should wait for the load balancer to be created or deleted. type: bool default: 'yes' timeout: description: - The amount of time the module should wait. default: 180 type: int requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstackRETURN = ''' id: description: The load balancer UUID. returned: On success when C(state=present) type: str sample: ""39007a7e-ee4f-4d13-8283-b4da2e037c69"" loadbalancer: description: Dictionary describing the load balancer. returned: On success when C(state=present) type: complex contains: id: description: Unique UUID. type: str sample: ""39007a7e-ee4f-4d13-8283-b4da2e037c69"" name: description: Name given to the load balancer. type: str sample: ""lingxian_test"" vip_network_id: description: Network ID the load balancer virtual IP port belongs in. type: str sample: ""f171db43-56fd-41cf-82d7-4e91d741762e"" vip_subnet_id: description: Subnet ID the load balancer virtual IP port belongs in. type: str sample: ""c53e3c70-9d62-409a-9f71-db148e7aa853"" vip_port_id: description: The load balancer virtual IP port ID. type: str sample: ""2061395c-1c01-47ab-b925-c91b93df9c1d"" vip_address: description: The load balancer virtual IP address. type: str sample: ""192.168.2.88"" public_vip_address: description: The load balancer public VIP address. type: str sample: ""10.17.8.254"" provisioning_status: description: The provisioning status of the load balancer. type: str sample: ""ACTIVE"" operating_status: description: The operating status of the load balancer. type: str sample: ""ONLINE"" is_admin_state_up: description: The administrative state of the load balancer. type: bool sample: true listeners: description: The associated listener IDs, if any. type: list sample: [{""id"": ""7aa1b380-beec-459c-a8a7-3a4fb6d30645""}, {""id"": ""692d06b8-c4f8-4bdb-b2a3-5a263cc23ba6""}] pools: description: The associated pool IDs, if any. type: list sample: [{""id"": ""27b78d92-cee1-4646-b831-e3b90a7fa714""}, {""id"": ""befc1fb5-1992-4697-bdb9-eee330989344""}] ''' EXAMPLES = ''' # Create a load balancer by specifying the VIP subnet. - openstack.cloud.loadbalancer: auth: auth_url: https://identity.example.com username: admin password: passme project_name: admin state: present name: my_lb vip_subnet: my_subnet timeout: 150 # Create a load balancer by specifying the VIP network and the IP address. - openstack.cloud.loadbalancer: auth: auth_url: https://identity.example.com username: admin password: passme project_name: admin state: present name: my_lb vip_network: my_network vip_address: 192.168.0.11 # Create a load balancer together with its sub-resources in the 'all in one' # way. A public IP address is also allocated to the load balancer VIP. - openstack.cloud.loadbalancer: auth: auth_url: https://identity.example.com username: admin password: passme project_name: admin name: lingxian_test state: present vip_subnet: kong_subnet auto_public_ip: yes public_network: public listeners: - name: lingxian_80 protocol: TCP protocol_port: 80 pool: name: lingxian_80_pool protocol: TCP members: - name: mywebserver1 address: 192.168.2.81 protocol_port: 80 subnet: webserver_subnet - name: lingxian_8080 protocol: TCP protocol_port: 8080 pool: name: lingxian_8080-pool protocol: TCP members: - name: mywebserver2 address: 192.168.2.82 protocol_port: 8080 wait: yes timeout: 600 # Delete a load balancer(and all its related resources) - openstack.cloud.loadbalancer: auth: auth_url: https://identity.example.com username: admin password: passme project_name: admin state: absent name: my_lb # Delete a load balancer(and all its related resources) together with the # public IP address(if any) attached to it. - openstack.cloud.loadbalancer: auth: auth_url: https://identity.example.com username: admin password: passme project_name: admin state: absent name: my_lb delete_public_ip: yesimport time def _wait_for_pool(self, pool, provisioning_status, operating_status, failures, interval=5): """"""Wait for pool to be in a particular provisioning and operating status."""""" timeout = self.params['timeout'] # reuse loadbalancer timeout total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: pool = self.conn.load_balancer.find_pool(name_or_id=pool.id) if pool: if pool.provisioning_status == provisioning_status and pool.operating_status == operating_status: return None if pool.provisioning_status in failures: self.fail_json( msg=""Pool %s transitioned to failure state %s"" % (pool.id, pool.provisioning_status) ) else: if provisioning_status == ""DELETED"": return None else: self.fail_json( msg=""Pool %s transitioned to DELETED"" % pool.id ) time.sleep(interval) total_sleep += interval def _wait_for_lb(self, lb, status, failures, interval=5): """"""Wait for load balancer to be in a particular provisioning status."""""" timeout = self.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: lb = self.conn.load_balancer.find_load_balancer(lb.id) if lb: if lb.provisioning_status == status: return None if lb.provisioning_status in failures: self.fail_json( msg=""Load Balancer %s transitioned to failure state %s"" % (lb.id, lb.provisioning_status) ) else: if status == ""DELETED"": return None else: self.fail_json( msg=""Load Balancer %s transitioned to DELETED"" % lb.id ) time.sleep(interval) total_sleep += interval self.fail_json( msg=""Timeout waiting for Load Balancer %s to transition to %s"" % (lb.id, status) ) name=dict(required=True), vip_network=dict(), vip_subnet=dict(), vip_port=dict(), listeners=dict(type='list', default=[], elements='dict'), public_ip_address=dict(), auto_public_ip=dict(default=False, type='bool'), public_network=dict(), delete_public_ip=dict(default=False, type='bool'), module_kwargs = dict(supports_check_mode=True) flavor = self.params['flavor'] vip_network = self.params['vip_network'] vip_subnet = self.params['vip_subnet'] vip_port = self.params['vip_port'] listeners = self.params['listeners'] public_vip_address = self.params['public_ip_address'] allocate_fip = self.params['auto_public_ip'] delete_fip = self.params['delete_public_ip'] public_network = self.params['public_network'] vip_network_id = None vip_subnet_id = None vip_port_id = None flavor_id = None try: max_microversion = 1 max_majorversion = 2 changed = False lb = self.conn.load_balancer.find_load_balancer( name_or_id=self.params['name']) if self.params['state'] == 'present': if lb and self.ansible.check_mode: self.exit_json(changed=False) if lb: self.exit_json(changed=False) ver_data = self.conn.load_balancer.get_all_version_data() region = list(ver_data.keys())[0] interface_type = list(ver_data[region].keys())[0] versions = ver_data[region][interface_type]['load-balancer'] for ver in versions: if ver['status'] == 'CURRENT': curversion = ver['version'].split(""."") max_majorversion = int(curversion[0]) max_microversion = int(curversion[1]) if not lb: if self.ansible.check_mode: self.exit_json(changed=True) if not (vip_network or vip_subnet or vip_port): self.fail_json( msg=""One of vip_network, vip_subnet, or vip_port must "" ""be specified for load balancer creation"" ) if flavor: _flavor = self.conn.load_balancer.find_flavor(flavor) if not _flavor: self.fail_json( msg='flavor %s not found' % flavor ) flavor_id = _flavor.id if vip_network: network = self.conn.get_network(vip_network) if not network: self.fail_json( msg='network %s is not found' % vip_network ) vip_network_id = network.id if vip_subnet: subnet = self.conn.get_subnet(vip_subnet) if not subnet: self.fail_json( msg='subnet %s is not found' % vip_subnet ) vip_subnet_id = subnet.id if vip_port: port = self.conn.get_port(vip_port) if not port: self.fail_json( msg='port %s is not found' % vip_port ) vip_port_id = port.id lbargs = {""name"": self.params['name'], ""vip_network_id"": vip_network_id, ""vip_subnet_id"": vip_subnet_id, ""vip_port_id"": vip_port_id, ""vip_address"": self.params['vip_address'] } if flavor_id is not None: lbargs[""flavor_id""] = flavor_id lb = self.conn.load_balancer.create_load_balancer(**lbargs) changed = True if not listeners and not self.params['wait']: self.exit_json( changed=changed, loadbalancer=lb.to_dict(), id=lb.id ) self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) for listener_def in listeners: listener_name = listener_def.get(""name"") pool_def = listener_def.get(""pool"") if not listener_name: self.fail_json(msg='listener name is required') listener = self.conn.load_balancer.find_listener( name_or_id=listener_name ) if not listener: self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) protocol = listener_def.get(""protocol"", ""HTTP"") protocol_port = listener_def.get(""protocol_port"", 80) allowed_cidrs = listener_def.get(""allowed_cidrs"", []) listenerargs = {""name"": listener_name, ""loadbalancer_id"": lb.id, ""protocol"": protocol, ""protocol_port"": protocol_port } if max_microversion >= 12 and max_majorversion >= 2: listenerargs['allowed_cidrs'] = allowed_cidrs listener = self.conn.load_balancer.create_listener(**listenerargs) changed = True # Ensure pool in the listener. if pool_def: pool_name = pool_def.get(""name"") members = pool_def.get('members', []) if not pool_name: self.fail_json(msg='pool name is required') pool = self.conn.load_balancer.find_pool(name_or_id=pool_name) if not pool: self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) protocol = pool_def.get(""protocol"", ""HTTP"") lb_algorithm = pool_def.get(""lb_algorithm"", ""ROUND_ROBIN"") pool = self.conn.load_balancer.create_pool( name=pool_name, listener_id=listener.id, protocol=protocol, lb_algorithm=lb_algorithm ) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) changed = True # Ensure members in the pool for member_def in members: member_name = member_def.get(""name"") if not member_name: self.fail_json(msg='member name is required') member = self.conn.load_balancer.find_member(member_name, pool.id ) if not member: self._wait_for_lb(lb, ""ACTIVE"", [""ERROR""]) address = member_def.get(""address"") if not address: self.fail_json( msg='member address for member %s is ' 'required' % member_name ) subnet_id = member_def.get(""subnet"") if subnet_id: subnet = self.conn.get_subnet(subnet_id) if not subnet: self.fail_json( msg='subnet %s for member %s is not ' 'found' % (subnet_id, member_name) ) subnet_id = subnet.id protocol_port = member_def.get(""protocol_port"", 80) member = self.conn.load_balancer.create_member( pool, name=member_name, address=address, protocol_port=protocol_port, subnet_id=subnet_id ) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) changed = True # Associate public ip to the load balancer VIP. If # public_vip_address is provided, use that IP, otherwise, either # find an available public ip or create a new one. fip = None orig_public_ip = None new_public_ip = None if public_vip_address or allocate_fip: ips = self.conn.network.ips( port_id=lb.vip_port_id, fixed_ip_address=lb.vip_address ) ips = list(ips) if ips: orig_public_ip = ips[0] new_public_ip = orig_public_ip.floating_ip_address if public_vip_address and public_vip_address != orig_public_ip: fip = self.conn.network.find_ip(public_vip_address) if not fip: self.fail_json( msg='Public IP %s is unavailable' % public_vip_address ) # Release origin public ip first self.conn.network.update_ip( orig_public_ip, fixed_ip_address=None, port_id=None ) # Associate new public ip self.conn.network.update_ip( fip, fixed_ip_address=lb.vip_address, port_id=lb.vip_port_id ) new_public_ip = public_vip_address changed = True elif allocate_fip and not orig_public_ip: fip = self.conn.network.find_available_ip() if not fip: if not public_network: self.fail_json(msg=""Public network is not provided"") pub_net = self.conn.network.find_network(public_network) if not pub_net: self.fail_json( msg='Public network %s not found' % public_network ) fip = self.conn.network.create_ip( floating_network_id=pub_net.id ) self.conn.network.update_ip( fip, fixed_ip_address=lb.vip_address, port_id=lb.vip_port_id ) new_public_ip = fip.floating_ip_address changed = True # Include public_vip_address in the result. lb = self.conn.load_balancer.find_load_balancer(name_or_id=lb.id) lb_dict = lb.to_dict() lb_dict.update({""public_vip_address"": new_public_ip}) self.exit_json( changed=changed, loadbalancer=lb_dict, id=lb.id ) elif self.params['state'] == 'absent': changed = False public_vip_address = None if lb: if self.ansible.check_mode: self.exit_json(changed=True) if delete_fip: ips = self.conn.network.ips( port_id=lb.vip_port_id, fixed_ip_address=lb.vip_address ) ips = list(ips) if ips: public_vip_address = ips[0] # Deleting load balancer with `cascade=False` does not make # sense because the deletion will always fail if there are # sub-resources. self.conn.load_balancer.delete_load_balancer(lb, cascade=True) changed = True if self.params['wait']: self._wait_for_lb(lb, ""DELETED"", [""ERROR""]) if delete_fip and public_vip_address: self.conn.network.delete_ip(public_vip_address) changed = True elif self.ansible.check_mode: self.exit_json(changed=False) self.exit_json(changed=changed) except Exception as e: self.fail_json(msg=str(e))",597,602
openstack%2Fci-log-processing~master~I567574e7bc77560848f684c4d294947c3a3b61f3,openstack/ci-log-processing,master,I567574e7bc77560848f684c4d294947c3a3b61f3,DNM Add ndjson OpenSearch Dashboards objects,NEW,2023-01-11 09:28:42.000000000,2023-01-11 09:55:52.000000000,,"[{'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-01-11 09:28:42.000000000', 'files': ['opensearch-dashboards-objects/subunit-.ndjson', 'opensearch-dashboards-objects/subunit-test-results-skip.ndjson', 'opensearch-dashboards-objects/host-id-and-build-status.ndjson', 'opensearch-dashboards-objects/build-status-in-time.ndjson', 'opensearch-dashboards-objects/subunit-test-results-build-name.ndjson', 'opensearch-dashboards-objects/subunit-test-results.ndjson', 'opensearch-dashboards-objects/build-name-status.ndjson', 'opensearch-dashboards-objects/build-status.ndjson', 'opensearch-dashboards-objects/common-errors-per-build-status.ndjson', 'opensearch-dashboards-objects/performance-.ndjson', 'opensearch-dashboards-objects/all.ndjson', 'opensearch-dashboards-objects/logstash-logs-.ndjson', 'opensearch-dashboards-objects/subunit-test-results-success.ndjson', 'opensearch-dashboards-objects/subunit-test-results-fail.ndjson', 'opensearch-dashboards-objects/openstack-build-status.ndjson'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/b59316f93c14fa43a4f3bb651848963f235b1cb9', 'message': 'DNM Add ndjson OpenSearch Dashboards objects\n\nThis is a raw ndjson files exported in OpenSerach Dasbhoards.\n\nChange-Id: I567574e7bc77560848f684c4d294947c3a3b61f3\n'}]",0,869800,b59316f93c14fa43a4f3bb651848963f235b1cb9,3,3,1,20676,,,0,"DNM Add ndjson OpenSearch Dashboards objects

This is a raw ndjson files exported in OpenSerach Dasbhoards.

Change-Id: I567574e7bc77560848f684c4d294947c3a3b61f3
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/00/869800/1 && git format-patch -1 --stdout FETCH_HEAD,"['opensearch-dashboards-objects/subunit-.ndjson', 'opensearch-dashboards-objects/subunit-test-results-skip.ndjson', 'opensearch-dashboards-objects/host-id-and-build-status.ndjson', 'opensearch-dashboards-objects/build-status-in-time.ndjson', 'opensearch-dashboards-objects/subunit-test-results-build-name.ndjson', 'opensearch-dashboards-objects/subunit-test-results.ndjson', 'opensearch-dashboards-objects/build-name-status.ndjson', 'opensearch-dashboards-objects/build-status.ndjson', 'opensearch-dashboards-objects/common-errors-per-build-status.ndjson', 'opensearch-dashboards-objects/performance-.ndjson', 'opensearch-dashboards-objects/all.ndjson', 'opensearch-dashboards-objects/logstash-logs-.ndjson', 'opensearch-dashboards-objects/subunit-test-results-success.ndjson', 'opensearch-dashboards-objects/subunit-test-results-fail.ndjson', 'opensearch-dashboards-objects/openstack-build-status.ndjson']",15,b59316f93c14fa43a4f3bb651848963f235b1cb9,,"{""attributes"":{""description"":"""",""hits"":0,""kibanaSavedObjectMeta"":{""searchSourceJSON"":""{\""query\"":{\""language\"":\""kuery\"",\""query\"":\""\""},\""filter\"":[]}""},""optionsJSON"":""{\""hidePanelTitles\"":false,\""useMargins\"":true}"",""panelsJSON"":""[{\""version\"":\""1.1.0\"",\""gridData\"":{\""x\"":0,\""y\"":0,\""w\"":24,\""h\"":19,\""i\"":\""e0d6a1ea-fbcd-4363-9486-f05394bc6187\""},\""panelIndex\"":\""e0d6a1ea-fbcd-4363-9486-f05394bc6187\"",\""embeddableConfig\"":{},\""panelRefName\"":\""panel_0\""},{\""version\"":\""1.1.0\"",\""gridData\"":{\""x\"":24,\""y\"":0,\""w\"":24,\""h\"":19,\""i\"":\""b10b9ed7-b68b-45c6-8d2c-d47494fbe4d6\""},\""panelIndex\"":\""b10b9ed7-b68b-45c6-8d2c-d47494fbe4d6\"",\""embeddableConfig\"":{},\""panelRefName\"":\""panel_1\""},{\""version\"":\""1.1.0\"",\""gridData\"":{\""x\"":0,\""y\"":19,\""w\"":48,\""h\"":17,\""i\"":\""14e572d9-3b20-42e9-8a97-296f00d37494\""},\""panelIndex\"":\""14e572d9-3b20-42e9-8a97-296f00d37494\"",\""embeddableConfig\"":{},\""panelRefName\"":\""panel_2\""}]"",""timeRestore"":false,""title"":""Openstack build status"",""version"":1},""id"":""c00d5ae0-ab8a-11ec-a871-17bd3b1fcb34"",""migrationVersion"":{""dashboard"":""7.9.3""},""references"":[{""id"":""f265f480-ab89-11ec-91e6-db9fe3b6eb30"",""name"":""panel_0"",""type"":""visualization""},{""id"":""82acec10-ab8a-11ec-8d45-61a12b5378d4"",""name"":""panel_1"",""type"":""visualization""},{""id"":""c913a8d0-ab8d-11ec-bc63-0df653d5ab54"",""name"":""panel_2"",""type"":""visualization""}],""type"":""dashboard"",""updated_at"":""2022-03-24T16:17:42.713Z"",""version"":""WzU4NCwxXQ==""} {""exportedCount"":1,""missingRefCount"":0,""missingReferences"":[]}",,43,0
openstack%2Freleases~master~Ib430e684a51e097ef2799108698fa838442b3e3a,openstack/releases,master,Ib430e684a51e097ef2799108698fa838442b3e3a,[barbican-tempest-plugin] Tag wallaby-last,MERGED,2022-12-26 04:55:00.000000000,2023-01-11 09:55:39.000000000,2023-01-11 09:55:39.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-12-26 04:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eebeb82e793784fef26e18966ad0bea526c9f559', 'message': ""[barbican-tempest-plugin] Tag wallaby-last\n\nWallaby branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'wallaby-last' as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Ib430e684a51e097ef2799108698fa838442b3e3a\n""}, {'number': 2, 'created': '2023-01-09 11:49:37.000000000', 'files': ['deliverables/wallaby/barbican-tempest-plugin.yaml', 'deliverables/antelope/barbican-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd95b5fe7fa23d76ea9c0028d1bfe483621dac4b', 'message': ""[barbican-tempest-plugin] Tag wallaby-last\n\nWallaby branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'wallaby-last' as well as a new version also with same hash.\nThe new version drops python<3.8 support [4], hense doing a MAJOR\nversion bump to 2.0.0.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://zuul.opendev.org/t/openstack/build/17f1c6ff2b0449779f23edc2ac0e4b3f/log/tox/list-changes/list-changes-results.log#201-212\n\nChange-Id: Ib430e684a51e097ef2799108698fa838442b3e3a\n""}]",3,868587,dd95b5fe7fa23d76ea9c0028d1bfe483621dac4b,17,6,2,8556,,,0,"[barbican-tempest-plugin] Tag wallaby-last

Wallaby branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'wallaby-last' as well as a new version also with same hash.
The new version drops python<3.8 support [4], hense doing a MAJOR
version bump to 2.0.0.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://zuul.opendev.org/t/openstack/build/17f1c6ff2b0449779f23edc2ac0e4b3f/log/tox/list-changes/list-changes-results.log#201-212

Change-Id: Ib430e684a51e097ef2799108698fa838442b3e3a
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/868587/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/barbican-tempest-plugin.yaml', 'deliverables/antelope/barbican-tempest-plugin.yaml']",2,eebeb82e793784fef26e18966ad0bea526c9f559,wallaby-last,releases: - version: 1.8.0 projects: - repo: openstack/barbican-tempest-plugin hash: 30e50ef9c85bf008c7c3e5aeb6b009629a2013c9,,9,0
openstack%2Freleases~master~Ia5ac5672c294e3689b35cd569827e3f8f6a03b5e,openstack/releases,master,Ia5ac5672c294e3689b35cd569827e3f8f6a03b5e,Release PBR 5.11.1,MERGED,2023-01-09 12:32:36.000000000,2023-01-11 09:48:51.000000000,2023-01-11 09:48:51.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-01-09 12:32:36.000000000', 'files': ['deliverables/_independent/pbr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d443b62b6591dd7b001170794527a53158500542', 'message': 'Release PBR 5.11.1\n\nThis addresses some testing-related issues with tox v4, but more\nimportantly also fixes a latent concurrency bug which tox v4 exposes\nin PBR-using projects.\n\nChange-Id: Ia5ac5672c294e3689b35cd569827e3f8f6a03b5e\n'}]",1,869558,d443b62b6591dd7b001170794527a53158500542,10,6,1,5263,,,0,"Release PBR 5.11.1

This addresses some testing-related issues with tox v4, but more
importantly also fixes a latent concurrency bug which tox v4 exposes
in PBR-using projects.

Change-Id: Ia5ac5672c294e3689b35cd569827e3f8f6a03b5e
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/869558/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pbr.yaml'],1,d443b62b6591dd7b001170794527a53158500542,tox4, - version: 5.11.1 projects: - repo: openstack/pbr hash: 98c84b5f87b89573ea6930bc783f07f2dd5ae8fd,,4,0
openstack%2Fpython-octaviaclient~master~Ibe3065b9ac130f0339d913a38b33e15d650da884,openstack/python-octaviaclient,master,Ibe3065b9ac130f0339d913a38b33e15d650da884,Add *.orig to .gitignore,MERGED,2022-09-29 08:19:10.000000000,2023-01-11 09:47:25.000000000,2023-01-11 09:46:19.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-29 08:19:10.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/3f8cccf591bfa969a4fc57bb81d5861b7bdb81c4', 'message': 'Add *.orig to .gitignore\n\nChange-Id: Ibe3065b9ac130f0339d913a38b33e15d650da884\n'}]",1,859811,3f8cccf591bfa969a4fc57bb81d5861b7bdb81c4,9,3,1,34429,,,0,"Add *.orig to .gitignore

Change-Id: Ibe3065b9ac130f0339d913a38b33e15d650da884
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/11/859811/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,3f8cccf591bfa969a4fc57bb81d5861b7bdb81c4,gitignore-dotorig, # Git *.orig,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fzed~Ic9ed13264f4f66aa04f90621972c6262de4a98e2,openstack/tripleo-heat-templates,stable/zed,Ic9ed13264f4f66aa04f90621972c6262de4a98e2,Fix list_concat for Nfs mounts,MERGED,2022-12-12 03:36:55.000000000,2023-01-11 09:39:47.000000000,2023-01-11 09:39:47.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-12 03:36:55.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50aac01e0017d173e4c7ab5f62c439951406d6f1', 'message': 'Fix list_concat for Nfs mounts\n\nWhen NovaNfsEnabled: True, we try to include var-lib-nova-instances.mount.\nThe syntax for list_concat in the template is currently incorrect which\nresults in an error while rendering the template.\n\nResolves: rhbz#2151009\nChange-Id: Ic9ed13264f4f66aa04f90621972c6262de4a98e2\n(cherry picked from commit 1217a61b77a5dee7c0417604e9ed9b4ded429b3b)\n'}]",3,867155,50aac01e0017d173e4c7ab5f62c439951406d6f1,19,4,1,9816,,,0,"Fix list_concat for Nfs mounts

When NovaNfsEnabled: True, we try to include var-lib-nova-instances.mount.
The syntax for list_concat in the template is currently incorrect which
results in an error while rendering the template.

Resolves: rhbz#2151009
Change-Id: Ic9ed13264f4f66aa04f90621972c6262de4a98e2
(cherry picked from commit 1217a61b77a5dee7c0417604e9ed9b4ded429b3b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/867155/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,50aac01e0017d173e4c7ab5f62c439951406d6f1,nova-list-concat-fix, - - var-lib-nova-instances.mount, - var-lib-nova-instances.mount,1,1
openstack%2Fpuppet-tripleo~master~I4b861f5cd600792422d57bb5676aa72505d190b0,openstack/puppet-tripleo,master,I4b861f5cd600792422d57bb5676aa72505d190b0,ceilometer-polling: : Require redis backend,MERGED,2022-04-26 02:31:51.000000000,2023-01-11 09:39:44.000000000,2023-01-11 09:39:44.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 02:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0c4763dd85dddfc2e3a529c4dee204837e8b4780', 'message': 'ceilometer-polling: : Require redis backend\n\nThe ceilometer polling agents require valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4b861f5cd600792422d57bb5676aa72505d190b0\n'}, {'number': 2, 'created': '2022-04-26 06:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bab95e87f2ff2e84d3f870c8960042f92bd48ff9', 'message': 'ceilometer-polling: : Require redis backend\n\nThe ceilometer polling agents require valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4b861f5cd600792422d57bb5676aa72505d190b0\n'}, {'number': 3, 'created': '2022-04-26 06:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a1b4485b4910286f377ae3b6b69492b1519a589a', 'message': 'ceilometer-polling: : Require redis backend\n\nThe ceilometer polling agents require valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4b861f5cd600792422d57bb5676aa72505d190b0\n'}, {'number': 4, 'created': '2022-05-12 00:16:15.000000000', 'files': ['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6b10b80a670cd1520b29b67e781928fb95842965', 'message': 'ceilometer-polling: : Require redis backend\n\nThe ceilometer polling agents require valid tooz backend so that tasks\nare distributed properly among multiple nodes. This change ensures\nredis vip and password are defined in hieradata so that coordination\nbackend can always be configured properly.\n\nChange-Id: I4b861f5cd600792422d57bb5676aa72505d190b0\n'}]",2,839289,6b10b80a670cd1520b29b67e781928fb95842965,16,4,4,9816,,,0,"ceilometer-polling: : Require redis backend

The ceilometer polling agents require valid tooz backend so that tasks
are distributed properly among multiple nodes. This change ensures
redis vip and password are defined in hieradata so that coordination
backend can always be configured properly.

Change-Id: I4b861f5cd600792422d57bb5676aa72505d190b0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/839289/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/ceilometer/agent/polling.pp'],1,0c4763dd85dddfc2e3a529c4dee204837e8b4780,require-redis,"# Defaults to lookup('ceilometer_redis_password')# Defaults to lookup('redis_vip') $ceilometer_redis_password = lookup('ceilometer_redis_password'), $redis_vip = lookup('redis_vip'),","# Defaults to lookup('ceilometer_redis_password', undef, undef, undef)# Defaults to lookup('redis_vip', undef, undef, undef) $ceilometer_redis_password = lookup('ceilometer_redis_password', undef, undef, undef), $redis_vip = lookup('redis_vip', undef, undef, undef),",4,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3214109f4f75620abc25d48db86179a8a411ccc7,openstack/tripleo-ansible,stable/wallaby,I3214109f4f75620abc25d48db86179a8a411ccc7,Hide output which can contain password strings,MERGED,2022-12-12 03:42:05.000000000,2023-01-11 09:39:42.000000000,2023-01-11 09:39:42.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 35491}]","[{'number': 1, 'created': '2022-12-12 03:42:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f566c54c3513f24c2501bfb295b526384efc99e9', 'message': 'Hide output which can contain password strings\n\nThe change I68a89e413b7c3eecb747386998bd36314250384b introduced\nthe task to check whether the password is valid but this task dumps\na raw password string in case password authentication failed for some\nreason (eg. the user is not yet created).\n\nThis change ensures the output is hidden, unless users explicitly\nenable sensitive logs.\n\nCloses-Bug: #1998158\nChange-Id: I3214109f4f75620abc25d48db86179a8a411ccc7\n(cherry picked from commit fc758a2fbdda193b0a161bf4de36ffde5df789f6)\n(cherry picked from commit 0eb136ebdf9714139783083911a6f47de020930e)\n'}]",1,867157,f566c54c3513f24c2501bfb295b526384efc99e9,11,5,1,9816,,,0,"Hide output which can contain password strings

The change I68a89e413b7c3eecb747386998bd36314250384b introduced
the task to check whether the password is valid but this task dumps
a raw password string in case password authentication failed for some
reason (eg. the user is not yet created).

This change ensures the output is hidden, unless users explicitly
enable sensitive logs.

Closes-Bug: #1998158
Change-Id: I3214109f4f75620abc25d48db86179a8a411ccc7
(cherry picked from commit fc758a2fbdda193b0a161bf4de36ffde5df789f6)
(cherry picked from commit 0eb136ebdf9714139783083911a6f47de020930e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/867157/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'],1,f566c54c3513f24c2501bfb295b526384efc99e9,bug/1998158," # needed because the module dumps the raw output in case auth fails no_log: ""{{ tripleo_keystone_resources_hide_sensitive_logs | bool }}""",,2,0
openstack%2Fopenstacksdk~master~I3fc92219f55bb723d7675c1c0c078b9c9b8da304,openstack/openstacksdk,master,I3fc92219f55bb723d7675c1c0c078b9c9b8da304,baremetal: Add Node.inject_nmi method,MERGED,2022-12-05 11:37:02.000000000,2023-01-11 09:13:00.000000000,2023-01-11 09:11:51.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-05 11:37:02.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'releasenotes/notes/node-inject-nmi-53d12681026e0b6c.yaml', 'doc/source/user/proxies/baremetal.rst', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d0e89705033807ae77490038dabaf1a00f9996e1', 'message': 'baremetal: Add Node.inject_nmi method\n\nNoted while attempting to migrate nova from ironicclient to\nopenstacksdk.\n\nChange-Id: I3fc92219f55bb723d7675c1c0c078b9c9b8da304\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,866569,d0e89705033807ae77490038dabaf1a00f9996e1,10,3,1,15334,,,0,"baremetal: Add Node.inject_nmi method

Noted while attempting to migrate nova from ironicclient to
openstacksdk.

Change-Id: I3fc92219f55bb723d7675c1c0c078b9c9b8da304
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/69/866569/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'releasenotes/notes/node-inject-nmi-53d12681026e0b6c.yaml', 'doc/source/user/proxies/baremetal.rst', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/node.py']",6,d0e89705033807ae77490038dabaf1a00f9996e1,ironic-gaps," def inject_nmi(self, session): """"""Inject NMI. :param session: The session to use for making this request. :return: None """""" session = self._get_session(session) version = self._assert_microversion_for( session, 'commit', _common.INJECT_NMI_VERSION, ) request = self._prepare_request(requires_id=True) request.url = utils.urljoin(request.url, 'management', 'inject_nmi') body = {} response = session.put( request.url, json=body, headers=request.headers, microversion=version, retriable_status_codes=_common.RETRIABLE_STATUS_CODES, ) msg = (""Failed to inject NMI to node {node}"".format(node=self.id)) exceptions.raise_from_response(response, error_message=msg) ",,93,4
openstack%2Fcharm-ops-sunbeam~main~If1b04658171bec47cdc746d8f15424892e31907c,openstack/charm-ops-sunbeam,main,If1b04658171bec47cdc746d8f15424892e31907c,Fix service restarts,MERGED,2023-01-11 08:23:34.000000000,2023-01-11 09:03:07.000000000,2023-01-11 09:03:07.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-11 08:23:34.000000000', 'files': ['ops_sunbeam/container_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/074e6a1e1aaeb8a8f33e82525bc33d010000ebfd', 'message': 'Fix service restarts\n\nstart_all function with restart flag true stops the\nservice if service is already started. Change the logic\nto start the service if service is stopped irrespective\nof restart flag and restart the service if restart flag\nis set to true.\n\nChange-Id: If1b04658171bec47cdc746d8f15424892e31907c\n'}]",0,869791,074e6a1e1aaeb8a8f33e82525bc33d010000ebfd,6,2,1,10366,,,0,"Fix service restarts

start_all function with restart flag true stops the
service if service is already started. Change the logic
to start the service if service is stopped irrespective
of restart flag and restart the service if restart flag
is set to true.

Change-Id: If1b04658171bec47cdc746d8f15424892e31907c
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/91/869791/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/container_handlers.py'],1,074e6a1e1aaeb8a8f33e82525bc33d010000ebfd,restart-service," continue if restart: logger.debug( f""Restarting {service_name} in {self.container_name}"" ) container.restart(service_name)"," if service.is_running() and restart: logger.debug( f""Stopping {service_name} in {self.container_name}"" ) container.stop(service_name)",7,5
openstack%2Fopenstacksdk~master~Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228,openstack/openstacksdk,master,Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228,Drop _normalize class,MERGED,2022-11-18 16:32:17.000000000,2023-01-11 09:02:45.000000000,2023-01-11 09:01:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-18 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c3d5208e9ccfc4821bf6ad3bb8e864384d1bf1fb', 'message': 'Drop _normalize class\n\nFinally nothing in the SDK is needing _normalize class anymore and we\ncan get rid of it.\n\nChange-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228\n'}, {'number': 2, 'created': '2022-11-18 16:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e59861eb8b6d5a7581d396682568c52beab4f54', 'message': 'Drop _normalize class\n\nFinally nothing in the SDK is needing _normalize class anymore and we\ncan get rid of it.\n\nChange-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228\n'}, {'number': 3, 'created': '2022-11-18 16:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e6b49c0c39395531f8f22fe1bd2a9c4d5011e574', 'message': 'Drop _normalize class\n\nFinally nothing in the SDK is needing _normalize class anymore and we\ncan get rid of it.\n\nChange-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228\n'}, {'number': 4, 'created': '2022-12-05 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4705947644d06829d864382a8ce95a8ad2fdc914', 'message': 'Drop _normalize class\n\nFinally nothing in the SDK is needing _normalize class anymore and we\ncan get rid of it.\n\nChange-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228\n'}, {'number': 5, 'created': '2023-01-03 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bc5e1f122658ba22dfb49409fd5c5070b8b64ca7', 'message': 'Drop _normalize class\n\nFinally nothing in the SDK is needing _normalize class anymore and we\ncan get rid of it.\n\nChange-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228\n'}, {'number': 6, 'created': '2023-01-10 10:50:32.000000000', 'files': ['openstack/cloud/_normalize.py', 'openstack/tests/unit/cloud/test_normalize.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d6ccf29f6efd8927b663495291bf6554b2b6f52e', 'message': 'Drop _normalize class\n\nFinally nothing in the SDK is needing _normalize class anymore and we\ncan get rid of it.\n\nChange-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228\n'}]",1,865044,d6ccf29f6efd8927b663495291bf6554b2b6f52e,18,3,6,27900,,,0,"Drop _normalize class

Finally nothing in the SDK is needing _normalize class anymore and we
can get rid of it.

Change-Id: Ia0d94cd3bd6742cbf90f9e6f5d3c05648819c228
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/44/865044/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_normalize.py', 'openstack/tests/unit/cloud/test_normalize.py']",2,c3d5208e9ccfc4821bf6ad3bb8e864384d1bf1fb,sdk_r1,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.tests.unit import base RAW_SERVER_DICT = { 'HUMAN_ID': True, 'NAME_ATTR': 'name', 'OS-DCF:diskConfig': u'MANUAL', 'OS-EXT-AZ:availability_zone': u'ca-ymq-2', 'OS-EXT-STS:power_state': 1, 'OS-EXT-STS:task_state': None, 'OS-EXT-STS:vm_state': u'active', 'OS-SRV-USG:launched_at': u'2015-08-01T19:52:02.000000', 'OS-SRV-USG:terminated_at': None, 'accessIPv4': u'', 'accessIPv6': u'', 'addresses': { u'public': [{ u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:9f:46:3e', u'OS-EXT-IPS:type': u'fixed', u'addr': u'2604:e100:1:0:f816:3eff:fe9f:463e', u'version': 6 }, { u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:9f:46:3e', u'OS-EXT-IPS:type': u'fixed', u'addr': u'162.253.54.192', u'version': 4}]}, 'config_drive': u'True', 'created': u'2015-08-01T19:52:16Z', 'flavor': { u'id': u'bbcb7eb5-5c8d-498f-9d7e-307c575d3566', u'links': [{ u'href': u'https://compute-ca-ymq-1.vexxhost.net/db9/flavors/bbc', u'rel': u'bookmark'}]}, 'hostId': u'bd37', 'human_id': u'mordred-irc', 'id': u'811c5197-dba7-4d3a-a3f6-68ca5328b9a7', 'image': { u'id': u'69c99b45-cd53-49de-afdc-f24789eb8f83', u'links': [{ u'href': u'https://compute-ca-ymq-1.vexxhost.net/db9/images/69c', u'rel': u'bookmark'}]}, 'key_name': u'mordred', 'links': [{ u'href': u'https://compute-ca-ymq-1.vexxhost.net/v2/db9/servers/811', u'rel': u'self' }, { u'href': u'https://compute-ca-ymq-1.vexxhost.net/db9/servers/811', u'rel': u'bookmark'}], 'metadata': {u'group': u'irc', u'groups': u'irc,enabled'}, 'name': u'mordred-irc', 'networks': {u'public': [u'2604:e100:1:0:f816:3eff:fe9f:463e', u'162.253.54.192']}, 'os-extended-volumes:volumes_attached': [], 'progress': 0, 'request_ids': [], 'security_groups': [{u'name': u'default'}], 'locked': True, 'status': u'ACTIVE', 'tenant_id': u'db92b20496ae4fbda850a689ea9d563f', 'updated': u'2016-10-15T15:49:29Z', 'user_id': u'e9b21dc437d149858faee0898fb08e92'} RAW_GLANCE_IMAGE_DICT = { u'auto_disk_config': u'False', u'checksum': u'774f48af604ab1ec319093234c5c0019', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'container_format': u'ovf', u'created_at': u'2015-02-15T22:58:45Z', u'disk_format': u'vhd', u'file': u'/v2/images/f2868d7c-63e1-4974-a64d-8670a86df21e/file', u'id': u'f2868d7c-63e1-4974-a64d-8670a86df21e', u'image_type': u'import', u'min_disk': 20, u'min_ram': 0, u'name': u'Test Monty Ubuntu', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'os_hash_algo': u'sha512', u'os_hash_value': u'fake_hash', u'os_hidden': False, u'owner': u'610275', u'protected': False, u'schema': u'/v2/schemas/image', u'size': 323004185, u'status': u'active', u'tags': [], u'updated_at': u'2015-02-15T23:04:34Z', u'user_id': u'156284', u'virtual_size': None, u'visibility': u'private', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False'} RAW_NOVA_IMAGE_DICT = { 'HUMAN_ID': True, 'NAME_ATTR': 'name', 'OS-DCF:diskConfig': u'MANUAL', 'OS-EXT-IMG-SIZE:size': 323004185, 'created': u'2015-02-15T22:58:45Z', 'human_id': u'test-monty-ubuntu', 'id': u'f2868d7c-63e1-4974-a64d-8670a86df21e', 'links': [{ u'href': u'https://example.com/v2/610275/images/f2868d7c', u'rel': u'self' }, { u'href': u'https://example.com/610275/images/f2868d7c', u'rel': u'bookmark' }, { u'href': u'https://example.com/images/f2868d7c', u'rel': u'alternate', u'type': u'application/vnd.openstack.image'}], 'metadata': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False'}, 'minDisk': 20, 'minRam': 0, 'name': u'Test Monty Ubuntu', 'progress': 100, 'request_ids': [], 'status': u'ACTIVE', 'updated': u'2015-02-15T23:04:34Z'} RAW_FLAVOR_DICT = { 'HUMAN_ID': True, 'NAME_ATTR': 'name', 'OS-FLV-EXT-DATA:ephemeral': 80, 'OS-FLV-WITH-EXT-SPECS:extra_specs': { u'class': u'performance1', u'disk_io_index': u'40', u'number_of_data_disks': u'1', u'policy_class': u'performance_flavor', u'resize_policy_class': u'performance_flavor'}, 'disk': 40, 'ephemeral': 80, 'human_id': u'8-gb-performance', 'id': u'performance1-8', 'is_public': 'N/A', 'links': [{ u'href': u'https://example.com/v2/610275/flavors/performance1-8', u'rel': u'self' }, { u'href': u'https://example.com/610275/flavors/performance1-8', u'rel': u'bookmark'}], 'name': u'8 GB Performance', 'ram': 8192, 'request_ids': [], 'rxtx_factor': 1600.0, 'swap': u'', 'vcpus': 8} RAW_COE_CLUSTER_TEMPLATE_DICT = { ""insecure_registry"": """", ""labels"": {}, ""updated_at"": """", ""floating_ip_enabled"": True, ""fixed_subnet"": """", ""master_flavor_id"": ""ds2G"", ""uuid"": ""7d4935d3-2bdc-4fb0-9e6d-ee4ac201d7f6"", ""no_proxy"": """", ""https_proxy"": """", ""tls_disabled"": False, ""keypair_id"": """", ""public"": False, ""http_proxy"": """", ""docker_volume_size"": """", ""server_type"": ""vm"", ""external_network_id"": ""67ecffec-ba11-4698-b7a7-9b3cfd81054f"", ""cluster_distro"": ""fedora-atomic"", ""image_id"": ""Fedora-AtomicHost-29-20191126.0.x86_64"", ""volume_driver"": ""cinder"", ""registry_enabled"": False, ""docker_storage_driver"": ""overlay2"", ""apiserver_port"": """", ""name"": ""k8s-fedora-atomic-flannel"", ""created_at"": ""2020-02-27T17:16:55+00:00"", ""network_driver"": ""flannel"", ""fixed_network"": """", ""coe"": ""kubernetes"", ""flavor_id"": ""ds4G"", ""master_lb_enabled"": True, ""dns_nameserver"": """", ""hidden"": False } RAW_COE_CLUSTER_DICT = { ""status"": ""CREATE_COMPLETE"", ""health_status"": ""HEALTHY"", ""cluster_template_id"": ""697e4b1a-33de-47cf-9181-d93bdfbe6aff"", ""node_addresses"": [ ""172.24.4.58"" ], ""uuid"": ""028f8287-5c12-4dae-bbf0-7b76b4d3612d"", ""stack_id"": ""ce2e5b48-dfc9-4981-9fc5-36959ff08d12"", ""status_reason"": None, ""created_at"": ""2020-03-02T15:29:28+00:00"", ""updated_at"": ""2020-03-02T15:34:58+00:00"", ""coe_version"": ""v1.17.3"", ""labels"": { ""auto_healing_enabled"": ""true"", ""auto_scaling_enabled"": ""true"", ""autoscaler_tag"": ""v1.15.2"", ""cloud_provider_tag"": ""v1.17.0"", ""etcd_tag"": ""3.4.3"", ""heat_container_agent_tag"": ""ussuri-dev"", ""ingress_controller"": ""nginx"", ""kube_tag"": ""v1.17.3"", ""master_lb_floating_ip_enabled"": ""true"", ""monitoring_enabled"": ""true"", ""tiller_enabled"": ""true"", ""tiller_tag"": ""v2.16.3"", ""use_podman"": ""true"" }, ""faults"": """", ""keypair"": ""default"", ""api_address"": ""https://172.24.4.164:6443"", ""master_addresses"": [ ""172.24.4.70"" ], ""create_timeout"": None, ""node_count"": 1, ""discovery_url"": ""https://discovery.etcd.io/abc"", ""master_count"": 1, ""container_version"": ""1.12.6"", ""name"": ""k8s"", ""master_flavor_id"": ""ds2G"", ""flavor_id"": ""ds4G"", ""health_status_reason"": { ""api"": ""ok"", ""k8s-l36u5jjz5kvk-master-0.Ready"": ""True"", ""k8s-l36u5jjz5kvk-node-0.Ready"": ""True"", }, ""project_id"": ""4e016477e7394decaf2cc158a7d9c75f"" } def _assert_server_munch_attributes(testcase, raw, server): testcase.assertEqual(server.flavor.id, raw['flavor']['id']) testcase.assertEqual(server.image.id, raw['image']['id']) testcase.assertEqual(server.metadata.group, raw['metadata']['group']) testcase.assertEqual( server.security_groups[0].name, raw['security_groups'][0]['name']) class TestNormalize(base.TestCase): def test_normalize_coe_cluster_template(self): coe_cluster_template = RAW_COE_CLUSTER_TEMPLATE_DICT.copy() expected = { 'apiserver_port': '', 'cluster_distro': 'fedora-atomic', 'coe': 'kubernetes', 'created_at': '2020-02-27T17:16:55+00:00', 'dns_nameserver': '', 'docker_volume_size': '', 'external_network_id': '67ecffec-ba11-4698-b7a7-9b3cfd81054f', 'fixed_network': '', 'fixed_subnet': '', 'flavor_id': 'ds4G', 'floating_ip_enabled': True, 'http_proxy': '', 'https_proxy': '', 'id': '7d4935d3-2bdc-4fb0-9e6d-ee4ac201d7f6', 'image_id': 'Fedora-AtomicHost-29-20191126.0.x86_64', 'insecure_registry': '', 'is_public': False, 'is_registry_enabled': False, 'is_tls_disabled': False, 'keypair_id': '', 'labels': {}, 'location': {'cloud': '_test_cloud_', 'project': {'domain_id': None, 'domain_name': 'default', 'id': '1c36b64c840a42cd9e9b931a369337f0', 'name': 'admin'}, 'region_name': 'RegionOne', 'zone': None}, 'master_flavor_id': 'ds2G', 'name': 'k8s-fedora-atomic-flannel', 'network_driver': 'flannel', 'no_proxy': '', 'properties': {'docker_storage_driver': 'overlay2', 'hidden': False, 'master_lb_enabled': True}, 'public': False, 'registry_enabled': False, 'server_type': 'vm', 'tls_disabled': False, 'updated_at': '', 'uuid': '7d4935d3-2bdc-4fb0-9e6d-ee4ac201d7f6', 'volume_driver': 'cinder', } retval = self.cloud._normalize_cluster_template(coe_cluster_template) self.assertEqual(expected, retval) def test_normalize_coe_cluster(self): coe_cluster = RAW_COE_CLUSTER_DICT.copy() expected = { 'cluster_template_id': '697e4b1a-33de-47cf-9181-d93bdfbe6aff', 'create_timeout': None, 'id': '028f8287-5c12-4dae-bbf0-7b76b4d3612d', 'keypair': 'default', 'location': {'cloud': '_test_cloud_', 'project': {'domain_id': None, 'domain_name': 'default', 'id': '1c36b64c840a42cd9e9b931a369337f0', 'name': 'admin'}, 'region_name': 'RegionOne', 'zone': None}, 'master_count': 1, 'name': 'k8s', 'node_count': 1, 'properties': {'api_address': 'https://172.24.4.164:6443', 'coe_version': 'v1.17.3', 'container_version': '1.12.6', 'created_at': '2020-03-02T15:29:28+00:00', 'discovery_url': 'https://discovery.etcd.io/abc', 'faults': '', 'flavor_id': 'ds4G', 'health_status': 'HEALTHY', 'health_status_reason': { 'api': 'ok', 'k8s-l36u5jjz5kvk-master-0.Ready': 'True', 'k8s-l36u5jjz5kvk-node-0.Ready': 'True'}, 'labels': { 'auto_healing_enabled': 'true', 'auto_scaling_enabled': 'true', 'autoscaler_tag': 'v1.15.2', 'cloud_provider_tag': 'v1.17.0', 'etcd_tag': '3.4.3', 'heat_container_agent_tag': 'ussuri-dev', 'ingress_controller': 'nginx', 'kube_tag': 'v1.17.3', 'master_lb_floating_ip_enabled': 'true', 'monitoring_enabled': 'true', 'tiller_enabled': 'true', 'tiller_tag': 'v2.16.3', 'use_podman': 'true'}, 'master_addresses': ['172.24.4.70'], 'master_flavor_id': 'ds2G', 'node_addresses': ['172.24.4.58'], 'project_id': '4e016477e7394decaf2cc158a7d9c75f', 'status_reason': None, 'updated_at': '2020-03-02T15:34:58+00:00'}, 'stack_id': 'ce2e5b48-dfc9-4981-9fc5-36959ff08d12', 'status': 'CREATE_COMPLETE', 'uuid': '028f8287-5c12-4dae-bbf0-7b76b4d3612d', } retval = self.cloud._normalize_coe_cluster(coe_cluster) self.assertEqual(expected, retval) class TestStrictNormalize(base.TestCase): strict_cloud = True def setUp(self): super(TestStrictNormalize, self).setUp() self.assertTrue(self.cloud.strict_mode) def test_normalize_coe_cluster_template(self): coe_cluster_template = RAW_COE_CLUSTER_TEMPLATE_DICT.copy() expected = { 'apiserver_port': '', 'cluster_distro': 'fedora-atomic', 'coe': 'kubernetes', 'created_at': '2020-02-27T17:16:55+00:00', 'dns_nameserver': '', 'docker_volume_size': '', 'external_network_id': '67ecffec-ba11-4698-b7a7-9b3cfd81054f', 'fixed_network': '', 'fixed_subnet': '', 'flavor_id': 'ds4G', 'http_proxy': '', 'https_proxy': '', 'id': '7d4935d3-2bdc-4fb0-9e6d-ee4ac201d7f6', 'image_id': 'Fedora-AtomicHost-29-20191126.0.x86_64', 'insecure_registry': '', 'is_public': False, 'is_registry_enabled': False, 'is_tls_disabled': False, 'keypair_id': '', 'labels': {}, 'location': {'cloud': '_test_cloud_', 'project': {'domain_id': None, 'domain_name': 'default', 'id': '1c36b64c840a42cd9e9b931a369337f0', 'name': 'admin'}, 'region_name': 'RegionOne', 'zone': None}, 'master_flavor_id': 'ds2G', 'name': 'k8s-fedora-atomic-flannel', 'network_driver': 'flannel', 'no_proxy': '', 'properties': {'docker_storage_driver': 'overlay2', 'hidden': False, 'master_lb_enabled': True}, 'server_type': 'vm', 'updated_at': '', 'volume_driver': 'cinder', } retval = self.cloud._normalize_cluster_template(coe_cluster_template) self.assertEqual(expected, retval) def test_normalize_coe_cluster(self): coe_cluster = RAW_COE_CLUSTER_DICT.copy() expected = { 'cluster_template_id': '697e4b1a-33de-47cf-9181-d93bdfbe6aff', 'create_timeout': None, 'id': '028f8287-5c12-4dae-bbf0-7b76b4d3612d', 'keypair': 'default', 'location': {'cloud': '_test_cloud_', 'project': {'domain_id': None, 'domain_name': 'default', 'id': '1c36b64c840a42cd9e9b931a369337f0', 'name': 'admin'}, 'region_name': 'RegionOne', 'zone': None}, 'master_count': 1, 'name': 'k8s', 'node_count': 1, 'properties': {'api_address': 'https://172.24.4.164:6443', 'coe_version': 'v1.17.3', 'container_version': '1.12.6', 'created_at': '2020-03-02T15:29:28+00:00', 'discovery_url': 'https://discovery.etcd.io/abc', 'faults': '', 'flavor_id': 'ds4G', 'health_status': 'HEALTHY', 'health_status_reason': { 'api': 'ok', 'k8s-l36u5jjz5kvk-master-0.Ready': 'True', 'k8s-l36u5jjz5kvk-node-0.Ready': 'True'}, 'labels': { 'auto_healing_enabled': 'true', 'auto_scaling_enabled': 'true', 'autoscaler_tag': 'v1.15.2', 'cloud_provider_tag': 'v1.17.0', 'etcd_tag': '3.4.3', 'heat_container_agent_tag': 'ussuri-dev', 'ingress_controller': 'nginx', 'kube_tag': 'v1.17.3', 'master_lb_floating_ip_enabled': 'true', 'monitoring_enabled': 'true', 'tiller_enabled': 'true', 'tiller_tag': 'v2.16.3', 'use_podman': 'true'}, 'master_addresses': ['172.24.4.70'], 'master_flavor_id': 'ds2G', 'node_addresses': ['172.24.4.58'], 'project_id': '4e016477e7394decaf2cc158a7d9c75f', 'status_reason': None, 'updated_at': '2020-03-02T15:34:58+00:00'}, 'stack_id': 'ce2e5b48-dfc9-4981-9fc5-36959ff08d12', 'status': 'CREATE_COMPLETE', } retval = self.cloud._normalize_coe_cluster(coe_cluster) self.assertEqual(expected, retval) ",0,1117
openstack%2Fheat~master~I20e29b67d09e735e282a1f510a34a4fc690ffd34,openstack/heat,master,I20e29b67d09e735e282a1f510a34a4fc690ffd34,Add release note for honoring hidden parameter,ABANDONED,2023-01-11 08:12:15.000000000,2023-01-11 08:52:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-11 08:12:15.000000000', 'files': ['releasenotes/notes/honor-hidden-parameter-in-stack-env-show-cmd-062065545dfef82a.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/1082c5c6b3aa1f362f6d9b73dd888b8d2c851ccf', 'message': 'Add release note for honoring hidden parameter\n\nRelated-Bug: #1999665\nStory: 2010484\nTask: 47052\nChange-Id: I20e29b67d09e735e282a1f510a34a4fc690ffd34\n'}]",0,869790,1082c5c6b3aa1f362f6d9b73dd888b8d2c851ccf,3,1,1,35639,,,0,"Add release note for honoring hidden parameter

Related-Bug: #1999665
Story: 2010484
Task: 47052
Change-Id: I20e29b67d09e735e282a1f510a34a4fc690ffd34
",git fetch https://review.opendev.org/openstack/heat refs/changes/90/869790/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/honor-hidden-parameter-in-stack-env-show-cmd-062065545dfef82a.yaml'],1,1082c5c6b3aa1f362f6d9b73dd888b8d2c851ccf,bug/2010484,--- fixes: - | Honor ``hidden`` parameter in ``stack environment show`` command ,,4,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24,openstack/tripleo-ansible,stable/wallaby,Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24,Modules for retrival of overcloud role information,ABANDONED,2023-01-09 14:27:18.000000000,2023-01-11 08:43:36.000000000,,"[{'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-09 14:27:18.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_show.py', 'doc/source/modules/modules-tripleo-overcloud_role_show.rst', 'doc/source/modules/modules-tripleo_overcloud_role_list.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09da5daf9517f269996e99b4eed42ce0e28747a4', 'message': 'Modules for retrival of overcloud role information\n\nCommit combines:\n\n1. Adding modules for retrieval of overcloud role info\n\n   Signed-off-by: Jiri Podivin <jpodivin@redhat.com>\n   Change-Id: I4c1090f6d335509051c63f1a1788abd1606cfa4f\n\n2. Fixing wrong argument dictionary key and removing superfluous char\n\n    Signed-off-by: Jiri Podivin <jpodivin@redhat.com>\n    Change-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd\n\n(cherry picked from commit 0e6c1b2650f53b99b592714220a1022873dd5094)\n(cherry picked from commit 7cda4fb839c319a7d3dcc8d4c15cb07a7ceb209d)\nChange-Id: Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24\n(cherry picked from commit bc6ee635c8c0cdbda5deea33ceeaba4c949acf6a)\n'}]",1,869568,09da5daf9517f269996e99b4eed42ce0e28747a4,7,6,1,32926,,,0,"Modules for retrival of overcloud role information

Commit combines:

1. Adding modules for retrieval of overcloud role info

   Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
   Change-Id: I4c1090f6d335509051c63f1a1788abd1606cfa4f

2. Fixing wrong argument dictionary key and removing superfluous char

    Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
    Change-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd

(cherry picked from commit 0e6c1b2650f53b99b592714220a1022873dd5094)
(cherry picked from commit 7cda4fb839c319a7d3dcc8d4c15cb07a7ceb209d)
Change-Id: Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24
(cherry picked from commit bc6ee635c8c0cdbda5deea33ceeaba4c949acf6a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/869568/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_show.py', 'doc/source/modules/modules-tripleo-overcloud_role_show.rst', 'doc/source/modules/modules-tripleo_overcloud_role_list.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_list.py']",4,09da5daf9517f269996e99b4eed42ce0e28747a4,,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2022 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import yaml from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from tripleo_common.utils import roles as rolesutils ROLES_PATH_DEFAULT = ""/usr/share/openstack-tripleo-heat-templates/roles"" ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = f''' --- module: tripleo_overcloud_role_list short_description: Retrieve list of overcloud roles version_added: ""4.2"" description: - ""Retrieve list of overcloud roles"" options: roles_path: description: - Path to the tripleo heat templates roles directory default: {ROLES_PATH_DEFAULT} author: - Jiri Podivin <jpodivin@redhat.com> ''' RETURN = ''' role_list: description: Overcloud roles list returned: always type: list elements: string sample: [ ""BlockStorage"", ""CellController"", ""CephAll"", ""NetworkerSriov"", ""NovaManager"", ""Novacontrol"", ""ObjectStorage"", ""Standalone"", ""Telemetry"", ""Undercloud"" ] ''' EXAMPLES = ''' - name: Get Overcloud roles list tripleo_overcloud_role_list: register: overcloud_role_list - name: Write data to output file copy: content: ""{{ overcloud_role_list.role_list | to_yaml }}"" dest: /path/exported-overcloud_role_list.yaml ''' def run_module(): result = dict( success=False, changed=False, error="""", role_list=list() ) argument_spec = openstack_full_argument_spec( **yaml.safe_load(DOCUMENTATION)['options'] ) module = AnsibleModule( argument_spec, supports_check_mode=True, **openstack_module_kwargs() ) try: roles_path = module.params['roles_path'] result['role_list'] = rolesutils.get_roles_list_from_directory(roles_path) result['changed'] = bool(result['role_list']) module.exit_json(**result) except Exception as err: result['error'] = str(err) result['msg'] = (""Error getting role list: {error}"".format(error=err)) module.fail_json(**result) def main(): run_module() if __name__ == '__main__': main() ",,337,0
openstack%2Ftripleo-ansible~stable%2Fzed~Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24,openstack/tripleo-ansible,stable/zed,Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24,Modules for retrival of overcloud role information,ABANDONED,2023-01-09 14:26:56.000000000,2023-01-11 08:43:17.000000000,,"[{'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-09 14:26:56.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_show.py', 'doc/source/modules/modules-tripleo-overcloud_role_show.rst', 'doc/source/modules/modules-tripleo_overcloud_role_list.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc6ee635c8c0cdbda5deea33ceeaba4c949acf6a', 'message': 'Modules for retrival of overcloud role information\n\nCommit combines:\n\n1. Adding modules for retrieval of overcloud role info\n\n   Signed-off-by: Jiri Podivin <jpodivin@redhat.com>\n   Change-Id: I4c1090f6d335509051c63f1a1788abd1606cfa4f\n\n2. Fixing wrong argument dictionary key and removing superfluous char\n\n    Signed-off-by: Jiri Podivin <jpodivin@redhat.com>\n    Change-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd\n\n(cherry picked from commit 0e6c1b2650f53b99b592714220a1022873dd5094)\n(cherry picked from commit 7cda4fb839c319a7d3dcc8d4c15cb07a7ceb209d)\nChange-Id: Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24\n'}]",1,869566,bc6ee635c8c0cdbda5deea33ceeaba4c949acf6a,6,6,1,32926,,,0,"Modules for retrival of overcloud role information

Commit combines:

1. Adding modules for retrieval of overcloud role info

   Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
   Change-Id: I4c1090f6d335509051c63f1a1788abd1606cfa4f

2. Fixing wrong argument dictionary key and removing superfluous char

    Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
    Change-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd

(cherry picked from commit 0e6c1b2650f53b99b592714220a1022873dd5094)
(cherry picked from commit 7cda4fb839c319a7d3dcc8d4c15cb07a7ceb209d)
Change-Id: Ie9d3fbfce0af8e6f86d0960dc11e6cf9e41a8b24
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/869566/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_show.py', 'doc/source/modules/modules-tripleo-overcloud_role_show.rst', 'doc/source/modules/modules-tripleo_overcloud_role_list.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_list.py']",4,bc6ee635c8c0cdbda5deea33ceeaba4c949acf6a,,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2022 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import yaml from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from tripleo_common.utils import roles as rolesutils ROLES_PATH_DEFAULT = ""/usr/share/openstack-tripleo-heat-templates/roles"" ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = f''' --- module: tripleo_overcloud_role_list short_description: Retrieve list of overcloud roles version_added: ""4.2"" description: - ""Retrieve list of overcloud roles"" options: roles_path: description: - Path to the tripleo heat templates roles directory default: {ROLES_PATH_DEFAULT} author: - Jiri Podivin <jpodivin@redhat.com> ''' RETURN = ''' role_list: description: Overcloud roles list returned: always type: list elements: string sample: [ ""BlockStorage"", ""CellController"", ""CephAll"", ""NetworkerSriov"", ""NovaManager"", ""Novacontrol"", ""ObjectStorage"", ""Standalone"", ""Telemetry"", ""Undercloud"" ] ''' EXAMPLES = ''' - name: Get Overcloud roles list tripleo_overcloud_role_list: register: overcloud_role_list - name: Write data to output file copy: content: ""{{ overcloud_role_list.role_list | to_yaml }}"" dest: /path/exported-overcloud_role_list.yaml ''' def run_module(): result = dict( success=False, changed=False, error="""", role_list=list() ) argument_spec = openstack_full_argument_spec( **yaml.safe_load(DOCUMENTATION)['options'] ) module = AnsibleModule( argument_spec, supports_check_mode=True, **openstack_module_kwargs() ) try: roles_path = module.params['roles_path'] result['role_list'] = rolesutils.get_roles_list_from_directory(roles_path) result['changed'] = bool(result['role_list']) module.exit_json(**result) except Exception as err: result['error'] = str(err) result['msg'] = (""Error getting role list: {error}"".format(error=err)) module.fail_json(**result) def main(): run_module() if __name__ == '__main__': main() ",,337,0
openstack%2Ftripleo-repos~master~I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259,openstack/tripleo-repos,master,I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259,Added osp18 option for releases in get hash,MERGED,2022-12-01 10:22:59.000000000,2023-01-11 08:17:54.000000000,2023-01-11 08:17:54.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 10:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f6c2c8ab4197613d0dd5479f1f391a49f087ab2e', 'message': 'Added osp18 option for releases in get hash\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}, {'number': 2, 'created': '2023-01-05 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/3eac2d53bf70b4c9917ab275d316737ba117343e', 'message': 'Added osp18 option for releases in get hash\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}, {'number': 3, 'created': '2023-01-05 10:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/92e2a597cc1e90561a39172a86fe76e826873fc9', 'message': 'Added osp18 option for releases in get hash\n\nAdds pyaml requirement for doc generation\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}, {'number': 4, 'created': '2023-01-05 11:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/9a5d89ef7784b48973bafb69812cd7cd65be5a42', 'message': 'Added osp18 option for releases in get hash\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}, {'number': 5, 'created': '2023-01-05 13:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/bfb41dc8204e4327155a9c7eafb994f267f1741e', 'message': 'Added osp18 option for releases in get hash\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}, {'number': 6, 'created': '2023-01-06 08:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/acbffaeb5bdb5dcdbabc091e35bff285fce15529', 'message': 'Added osp18 option for releases in get hash\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}, {'number': 7, 'created': '2023-01-10 10:50:08.000000000', 'files': ['plugins/module_utils/tripleo_repos/get_hash/config.yaml', 'plugins/module_utils/tripleo_repos/get_hash/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c73cb0f636cbb9cd620a894cb0b33704bee40d68', 'message': 'Added osp18 option for releases in get hash\n\nChange-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259\n'}]",4,866316,c73cb0f636cbb9cd620a894cb0b33704bee40d68,22,3,7,20182,,,0,"Added osp18 option for releases in get hash

Change-Id: I2ffe3d220e0876cafd0fe16c4f3b806b7c1b5259
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/16/866316/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/module_utils/tripleo_repos/get_hash/config.yaml', 'plugins/module_utils/tripleo_repos/get_hash/constants.py']",2,f6c2c8ab4197613d0dd5479f1f391a49f087ab2e,add-18-rhel-9," ""osp17-1"", ""osp18"""," ""osp17-1""",3,1
openstack%2Fcharm-trilio-dm-api~stable%2F4.2~I27c330e27cca227710d673f35e549f7b4df5bcd1,openstack/charm-trilio-dm-api,stable/4.2,I27c330e27cca227710d673f35e549f7b4df5bcd1,Added Jammy+Yoga support for stable/4.2 release,ABANDONED,2022-12-12 12:34:13.000000000,2023-01-11 08:17:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 12:34:13.000000000', 'files': ['src/config.yaml', 'charmcraft.yaml', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/fd6914cd3fce2575a4d6dc33e811b629bfc295e1', 'message': 'Added Jammy+Yoga support for stable/4.2 release\n\nChange-Id: I27c330e27cca227710d673f35e549f7b4df5bcd1\nSigned-off-by: Abhijeet Patra <abhijeet.patra@trilio.io>\n'}]",0,866528,fd6914cd3fce2575a4d6dc33e811b629bfc295e1,4,2,1,29080,,,0,"Added Jammy+Yoga support for stable/4.2 release

Change-Id: I27c330e27cca227710d673f35e549f7b4df5bcd1
Signed-off-by: Abhijeet Patra <abhijeet.patra@trilio.io>
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/28/866528/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'charmcraft.yaml', 'src/metadata.yaml']",3,fd6914cd3fce2575a4d6dc33e811b629bfc295e1,yoga_jammy_stable/4.2,- jammy,,34,1
openstack%2Fcharm-trilio-dm-api~stable%2F4.2~If7dc9ed69704747012d2438fe94052aee9067ecc,openstack/charm-trilio-dm-api,stable/4.2,If7dc9ed69704747012d2438fe94052aee9067ecc,Removed py35 support and added py310 in tox Fixed installation of cffi pkg for py3.10,ABANDONED,2023-01-06 14:31:57.000000000,2023-01-11 08:16:54.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 14:31:57.000000000', 'files': ['pip.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/60ff335ef877886256be8041bb91977ec9146c47', 'message': 'Removed py35 support and added py310 in tox\nFixed installation of cffi pkg for py3.10\n\nChange-Id: If7dc9ed69704747012d2438fe94052aee9067ecc\n'}]",0,869296,60ff335ef877886256be8041bb91977ec9146c47,4,2,1,29080,,,0,"Removed py35 support and added py310 in tox
Fixed installation of cffi pkg for py3.10

Change-Id: If7dc9ed69704747012d2438fe94052aee9067ecc
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/96/869296/1 && git format-patch -1 --stdout FETCH_HEAD,"['pip.sh', 'tox.ini']",2,60ff335ef877886256be8041bb91977ec9146c47,yoga_jammy_stable/4.2,[testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,6,6
openstack%2Fcharm-trilio-dm-api~stable%2F4.2~I7cc7e14258a069527647cb61d622035365c86b81,openstack/charm-trilio-dm-api,stable/4.2,I7cc7e14258a069527647cb61d622035365c86b81,fixed pass_env issue,ABANDONED,2023-01-06 14:45:58.000000000,2023-01-11 08:16:42.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 14:45:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/ae6c5b693cdbffb085dd74cbc8dbc26308c5012c', 'message': 'fixed pass_env issue\n\nChange-Id: I7cc7e14258a069527647cb61d622035365c86b81\n'}]",2,869297,ae6c5b693cdbffb085dd74cbc8dbc26308c5012c,7,2,1,29080,,,0,"fixed pass_env issue

Change-Id: I7cc7e14258a069527647cb61d622035365c86b81
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/97/869297/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ae6c5b693cdbffb085dd74cbc8dbc26308c5012c,yoga_jammy_stable/4.2,"passenv = no_proxy,http_proxy,https_proxy,JUJU_REPOSITORY",passenv = no_proxy http_proxy https_proxy JUJU_REPOSITORY,1,1
openstack%2Fcharm-trilio-dm-api~stable%2F4.2~I008ec5882b6ceeb9fcbaa5a9dd22f8b98ff36095,openstack/charm-trilio-dm-api,stable/4.2,I008ec5882b6ceeb9fcbaa5a9dd22f8b98ff36095,added pip.sh in allowlist_externals fixed charmcraft pack issue for 22.04,ABANDONED,2023-01-06 15:12:23.000000000,2023-01-11 08:16:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 15:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/1c68151b810d19092eaf1f1b1592b5c8f3dc0866', 'message': 'added pip.sh in allowlist_externals\n\nChange-Id: I008ec5882b6ceeb9fcbaa5a9dd22f8b98ff36095\n'}, {'number': 2, 'created': '2023-01-09 08:35:37.000000000', 'files': ['pip.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/f7562dabb7f09513db0977ac2b3082ffc6524123', 'message': 'added pip.sh in allowlist_externals\nfixed charmcraft pack issue for 22.04\n\nChange-Id: I008ec5882b6ceeb9fcbaa5a9dd22f8b98ff36095\n'}]",2,869298,f7562dabb7f09513db0977ac2b3082ffc6524123,8,2,2,29080,,,0,"added pip.sh in allowlist_externals
fixed charmcraft pack issue for 22.04

Change-Id: I008ec5882b6ceeb9fcbaa5a9dd22f8b98ff36095
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/98/869298/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1c68151b810d19092eaf1f1b1592b5c8f3dc0866,yoga_jammy_stable/4.2, {toxinidir}/pip.sh,,1,0
openstack%2Foctavia-lib~master~Ib185a743937df501e346b9a6e79be590a3dae355,openstack/octavia-lib,master,Ib185a743937df501e346b9a6e79be590a3dae355,Add *.orig to .gitignore,MERGED,2022-09-29 08:16:11.000000000,2023-01-11 07:55:05.000000000,2023-01-11 07:54:07.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-29 08:16:11.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/f8f8ec86ef64a2314ba981fa10c596dbb7fb7840', 'message': 'Add *.orig to .gitignore\n\nChange-Id: Ib185a743937df501e346b9a6e79be590a3dae355\n'}]",2,859788,f8f8ec86ef64a2314ba981fa10c596dbb7fb7840,13,3,1,34429,,,0,"Add *.orig to .gitignore

Change-Id: Ib185a743937df501e346b9a6e79be590a3dae355
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/88/859788/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,f8f8ec86ef64a2314ba981fa10c596dbb7fb7840,gitignore-dotorig, # Git *.orig,,3,0
openstack%2Foctavia-lib~master~Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8,openstack/octavia-lib,master,Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8,Fix tox4 error,MERGED,2022-12-31 08:03:28.000000000,2023-01-11 07:30:47.000000000,2023-01-11 07:29:48.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-31 08:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/59f8c1a93771a4e9eb9ab7ccbf5719d39bbf8b5c', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nOther failure is due to the skipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8\n'}, {'number': 2, 'created': '2022-12-31 08:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ffdfceefad7ea53bce538611ea4b058de7b81278', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nOther failure is due to the skipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8\n'}, {'number': 3, 'created': '2023-01-10 15:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/773d35956f34e47ca25ea0c9226ba8f2d96b1eeb', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nOther failure is due to the skipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8\n'}, {'number': 4, 'created': '2023-01-10 15:25:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/daaef2951b5eb03314582bf94a91b1c3dc097c8f', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nOther failure is due to the skipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8\n'}]",4,868955,daaef2951b5eb03314582bf94a91b1c3dc097c8f,21,3,4,32921,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Other failure is due to the skipsdist = True.

Fixing tox.ini for tox4 changes.

Change-Id: Ib1e58d792ff12d3c3b72a001e04fa9b8c62d1ef8
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/55/868955/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59f8c1a93771a4e9eb9ab7ccbf5719d39bbf8b5c,,allowlist_externals = rm sphinx-build,skipsdist = Trueallowlist_externals = rm,3,2
openstack%2Ftripleo-heat-templates~master~I39f2fb98aee8884b973c9d0150c22cce762777dc,openstack/tripleo-heat-templates,master,I39f2fb98aee8884b973c9d0150c22cce762777dc,[Pure Storage] Add NVMe protocol driver for FlashArray Cinder driver,MERGED,2022-12-29 15:39:57.000000000,2023-01-11 07:09:54.000000000,2023-01-11 07:08:56.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-29 15:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41ac414d36ac9dc7e0445db3318028bbbd3c784c', 'message': '[Pure Storage] Add NVMe protocol driver for FlashArray Cinder driver\n\nDepends-On: I37e84017926baa0db31271c32400938ee53fb3d2\nChange-Id: I39f2fb98aee8884b973c9d0150c22cce762777dc\n'}, {'number': 2, 'created': '2023-01-03 15:59:24.000000000', 'files': ['releasenotes/notes/pure_add_nvme-9ec98cd889128270.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'environments/cinder-pure-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb7ea440ee53064a4f8ec811fd3955089938002b', 'message': '[Pure Storage] Add NVMe protocol driver for FlashArray Cinder driver\n\nDepends-On: I37e84017926baa0db31271c32400938ee53fb3d2\nChange-Id: I39f2fb98aee8884b973c9d0150c22cce762777dc\n'}]",12,868663,bb7ea440ee53064a4f8ec811fd3955089938002b,37,4,2,13425,,,0,"[Pure Storage] Add NVMe protocol driver for FlashArray Cinder driver

Depends-On: I37e84017926baa0db31271c32400938ee53fb3d2
Change-Id: I39f2fb98aee8884b973c9d0150c22cce762777dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/868663/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_add_nvme-9ec98cd889128270.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'environments/cinder-pure-config.yaml']",3,41ac414d36ac9dc7e0445db3318028bbbd3c784c,add_nvme, CinderPureNvmeTransport: 'roce',,16,1
openstack%2Fheat~master~I3a9cb7738e7286767bc7f4410b8e3de940f417a8,openstack/heat,master,I3a9cb7738e7286767bc7f4410b8e3de940f417a8,Limit ResourceGroup Concurrency,ABANDONED,2019-05-27 10:00:01.000000000,2023-01-11 07:07:27.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-27 10:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1330b6f835e76e8d2629a20277756424de7713ea', 'message': '[WIP]Limit ResourceGroup Concurrency\n\nIn convergence heat, if there are large number of resources\nin a group, they are processed concurrently and with limited\nnumber of workers, it can result in large message queue length\nand messages timing out. Limit the concurrency by adding\nfake dependencies.\n\nChange-Id: I3a9cb7738e7286767bc7f4410b8e3de940f417a8\n'}, {'number': 2, 'created': '2019-05-27 11:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/10eb52ebd878b5c7d0b87280f547d70290548ee0', 'message': '[WIP]Limit ResourceGroup Concurrency\n\nIn convergence heat, if there are large number of resources\nin a group, they are processed concurrently and with limited\nnumber of workers, it can result in large message queue length\nand messages timing out. Limit the concurrency by adding\nfake dependencies.\n\nChange-Id: I3a9cb7738e7286767bc7f4410b8e3de940f417a8\n'}, {'number': 3, 'created': '2019-09-05 05:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15897fef7009b336a3e0f008c1aaad443edd0e3d', 'message': '[WIP]Limit ResourceGroup Concurrency\n\nIn convergence heat, if there are large number of resources\nin a group, they are processed concurrently and with limited\nnumber of workers, it can result in large message queue length\nand messages timing out. Limit the concurrency by adding\nfake dependencies.\n\nChange-Id: I3a9cb7738e7286767bc7f4410b8e3de940f417a8\n'}, {'number': 4, 'created': '2019-09-16 11:13:07.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_structured_config.py', 'heat/engine/resources/openstack/heat/resource_group.py', 'heat/tests/openstack/heat/test_resource_group.py', 'heat/engine/resources/openstack/heat/structured_config.py', 'heat/tests/openstack/heat/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d86dec880c809e5a51c780524ceef6cc09c61ebb', 'message': 'Limit ResourceGroup Concurrency\n\nIn convergence heat, if there are large number of resources\nin a group, they are processed concurrently and with limited\nnumber of workers, it can result in large message queue length\nand messages timing out. Limit the concurrency by adding\nfake dependencies.\n\nChange-Id: I3a9cb7738e7286767bc7f4410b8e3de940f417a8\n'}]",3,661579,d86dec880c809e5a51c780524ceef6cc09c61ebb,21,4,4,8833,,,0,"Limit ResourceGroup Concurrency

In convergence heat, if there are large number of resources
in a group, they are processed concurrently and with limited
number of workers, it can result in large message queue length
and messages timing out. Limit the concurrency by adding
fake dependencies.

Change-Id: I3a9cb7738e7286767bc7f4410b8e3de940f417a8
",git fetch https://review.opendev.org/openstack/heat refs/changes/79/661579/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/engine/resources/openstack/heat/resource_group.py', 'heat/engine/resources/openstack/heat/structured_config.py']",3,1330b6f835e76e8d2629a20277756424de7713ea,limit_concurrency," def build_resource_definition(self, res_name, res_defn, depends_on=None): props, None, depends=depends_on)"," def build_resource_definition(self, res_name, res_defn): props, None)",27,11
openstack%2Fovn-bgp-agent~master~I6e48c7e056ba2101ad670ab54c96e072459c5e65,openstack/ovn-bgp-agent,master,I6e48c7e056ba2101ad670ab54c96e072459c5e65,Add new driver ovn_stretched_l2_bgp_driver,MERGED,2022-10-17 08:37:41.000000000,2023-01-11 06:56:46.000000000,2023-01-11 06:56:46.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 35408}]","[{'number': 1, 'created': '2022-10-17 08:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/776fc47d9758648ed6e1bfd50a188caf4895aa7a', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- vrf_nic_name, vrf_table_id and vrf_name are\n  configurable to allow multiple instances per host\n  to run multiple BGP sessions simultaneously\n- To filter which networks are announced over which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope (currently requires\n  a patch in the Neutron API which writes the\n  address scope to the southbound)\n- Networks are announced instead of VM IPs\n- added two new EventHandlers to bgp_watcher.py\n  (SubnetRouterInterfaceAttachedEvent and\n  SubnetRouterInterfaceDettachedEvent) to handle\n  only router_interface and router_gateway events\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 2, 'created': '2022-10-18 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d4b3ae92ec6aafa926179a6c5b533bff81389c97', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced over which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- added two new EventHandlers to bgp_watcher.py\n  (SubnetRouterInterfaceAttachedEvent and\n  SubnetRouterInterfaceDettachedEvent) to handle\n  only router_interface and router_gateway events\n\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861749\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861754\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 3, 'created': '2022-10-19 14:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/53d607cfb60ef027d31591b4a6033e0c846ebc8d', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced over which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- added two new EventHandlers to bgp_watcher.py\n  (SubnetRouterInterfaceAttachedEvent and\n  SubnetRouterInterfaceDettachedEvent) to handle\n  only router_interface and router_gateway events\n\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861749\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861754\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 4, 'created': '2022-11-03 14:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b21fdd2dfb924f3d6fe142e96a5efab069f07b79', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced over which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- added two new EventHandlers to bgp_watcher.py\n  (SubnetRouterInterfaceAttachedEvent and\n  SubnetRouterInterfaceDettachedEvent) to handle\n  only router_interface and router_gateway events\n\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861749\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861754\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 5, 'created': '2022-11-03 14:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c6ad2fdcc790c4d298af76d4d01cd37ad2549f25', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced over which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- added two new EventHandlers to bgp_watcher.py\n  (SubnetRouterInterfaceAttachedEvent and\n  SubnetRouterInterfaceDettachedEvent) to handle\n  only router_interface and router_gateway events\n\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861749\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861754\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 6, 'created': '2022-11-14 15:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/96a0d27690ea39f3605dc23ce5b90df10b7c0134', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861749\nDepends-on: https://review.opendev.org/c/x/ovn-bgp-agent/+/861754\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 7, 'created': '2022-11-24 13:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f9e787425e2dfaadced903987a13c8895ee6dc63', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 8, 'created': '2022-11-24 16:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6d9ba8e11a6d67eceeb2df5018ab8fa120b764cf', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 9, 'created': '2022-11-28 11:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f00d3b1e3e678ac53b97a4bd825c608cbcf17b0a', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 10, 'created': '2022-11-28 11:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/73c685025e84152185fdaee2d7a5b457d122767c', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 11, 'created': '2022-12-07 09:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a04c1302308edd1d782f0a1c7228170a828f7213', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 12, 'created': '2022-12-07 10:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6367bffa2589b730212d10f3aea87e84faeb14b0', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 13, 'created': '2022-12-15 10:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/af60c648cb92caebf287103124c2301e2e779a64', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 14, 'created': '2022-12-20 08:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ca319b37cf6a7b8dfa2be91e1b6bd4ca60e38269', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 15, 'created': '2022-12-20 09:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c31cb47f64729ee2930f8424bf7af561d3cd17c5', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 16, 'created': '2023-01-04 07:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/53012473f922df6945e6167d1401ed951abbf212', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 17, 'created': '2023-01-09 14:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5c945c9845a7025b606cd293163622deb2ead6b1', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}, {'number': 18, 'created': '2023-01-10 11:20:03.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/config.py', 'ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/drivers/openstack/ovn_stretched_l2_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'doc/source/contributor/bgp_mode_stretched_l2_design.rst', 'ovn_bgp_agent/constants.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/utils/frr.py', 'doc/source/contributor/index.rst', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_stretched_l2_bgp_driver.py', 'setup.cfg', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d59c61caa58c676f288a3440608d90e2066f7070', 'message': 'Add new driver ovn_stretched_l2_bgp_driver\n\nThis driver allows to announce tenant networks with\nan address scope via the virtual router IP.\n\nFor this to work, all routers in the respective L2\nnetwork must be reachable to each other and the\novn-bgp-agent/frr needs an IP in this network to\ntalk to its BGP peer.\n\nThe following changes have been made:\n- To filter which networks are announced via which\n  agent/BGP session, we added a filter on the\n  OpenStack address scope\n- Networks are announced instead of VM IPs\n- Add SubnetRouterUpdateEvent to handle updates of\n  lrp ports\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/861719\n\nChange-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65\n'}]",106,861581,d59c61caa58c676f288a3440608d90e2066f7070,64,4,18,35408,,,0,"Add new driver ovn_stretched_l2_bgp_driver

This driver allows to announce tenant networks with
an address scope via the virtual router IP.

For this to work, all routers in the respective L2
network must be reachable to each other and the
ovn-bgp-agent/frr needs an IP in this network to
talk to its BGP peer.

The following changes have been made:
- To filter which networks are announced via which
  agent/BGP session, we added a filter on the
  OpenStack address scope
- Networks are announced instead of VM IPs
- Add SubnetRouterUpdateEvent to handle updates of
  lrp ports

Depends-on: https://review.opendev.org/c/openstack/neutron/+/861719

Change-Id: I6e48c7e056ba2101ad670ab54c96e072459c5e65
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/81/861581/5 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/frr.py', 'ovn_bgp_agent/drivers/driver_api.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/config.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/drivers/openstack/ovn_stretched_l2_bgp_driver.py', 'setup.cfg', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py', 'ovn_bgp_agent/constants.py']",11,776fc47d9758648ed6e1bfd50a188caf4895aa7a,stretched_l2_bgp_driver,"OVN_DEVICE_OWNER_KEY = ""neutron:device_owner"" OVN_DEVICE_ID_KEY = ""neutron:device_id"" DEVICE_TYPE_ROUTER_INTERFACE = ""network:router_interface"" DEVICE_TYPE_GATEWAY_INTERFACE = ""network:router_gateway"" SUBNET_POOL_ADDR_SCOPE = ""neutron:subnet_pool_addr_scope""",,691,61
openstack%2Fpuppet-tripleo~master~I37e84017926baa0db31271c32400938ee53fb3d2,openstack/puppet-tripleo,master,I37e84017926baa0db31271c32400938ee53fb3d2,[Pure Storage] Add NVMe transport parameter for FlashArray Cinder driver,MERGED,2022-12-29 15:19:00.000000000,2023-01-11 06:52:46.000000000,2023-01-11 06:51:49.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 15:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bfd00821a355f0d7f5c23b337262a9269ac569a1', 'message': '[Pure Storage] Add NVMe transport parameter for FlashArray Cinder driver\n\nDepends-On: I7e1172b3048e6bf84be7dad4d193f10e9b15138e\nChange-Id: I37e84017926baa0db31271c32400938ee53fb3d2\n'}, {'number': 2, 'created': '2023-01-03 15:34:39.000000000', 'files': ['releasenotes/notes/pure_nvme-02263cb67d33e7f4.yaml', 'manifests/profile/base/cinder/volume/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2e32a8dd97fdf7b3bfdabb9ddc8259b8854275ee', 'message': '[Pure Storage] Add NVMe transport parameter for FlashArray Cinder driver\n\nDepends-On: I7e1172b3048e6bf84be7dad4d193f10e9b15138e\nChange-Id: I37e84017926baa0db31271c32400938ee53fb3d2\n'}]",8,868662,2e32a8dd97fdf7b3bfdabb9ddc8259b8854275ee,22,3,2,13425,,,0,"[Pure Storage] Add NVMe transport parameter for FlashArray Cinder driver

Depends-On: I7e1172b3048e6bf84be7dad4d193f10e9b15138e
Change-Id: I37e84017926baa0db31271c32400938ee53fb3d2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/868662/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_nvme-02263cb67d33e7f4.yaml', 'manifests/profile/base/cinder/volume/pure.pp']",2,bfd00821a355f0d7f5c23b337262a9269ac569a1,add_nvme," 'CinderPureiNvmeTransport' => lookup('cinder::backend::pure::pure_nvme_transport', undef, undef, undef), 'pure_nvme_transport' => $backend_config['CinderPureNvmeTransport'],",,7,0
openstack%2Fheat~master~I1df5bb05ea5ba40bea88ae0fe4cd8e8221429579,openstack/heat,master,I1df5bb05ea5ba40bea88ae0fe4cd8e8221429579,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-13 14:14:14.000000000,2023-01-11 06:17:38.000000000,2023-01-11 06:15:13.000000000,"[{'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-09-13 14:14:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/ba29a70892641d9c8a820d9a9e312ebe6cd8a749', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I1df5bb05ea5ba40bea88ae0fe4cd8e8221429579\n'}]",5,857458,ba29a70892641d9c8a820d9a9e312ebe6cd8a749,16,5,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I1df5bb05ea5ba40bea88ae0fe4cd8e8221429579
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/857458/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba29a70892641d9c8a820d9a9e312ebe6cd8a749,add-antelope-python-jobtemplates, - openstack-python3-jobs - openstack-python3-jobs-arm64, - openstack-python3-zed-jobs - openstack-python3-zed-jobs-arm64,2,2
openstack%2Ftripleo-heat-templates~master~I7cbef66ce6f0d170a75e247319ff3dd20ae5c152,openstack/tripleo-heat-templates,master,I7cbef66ce6f0d170a75e247319ff3dd20ae5c152,mlnx: Get rid of deprecated puppet parameters,MERGED,2022-08-30 03:04:09.000000000,2023-01-11 05:51:23.000000000,2023-01-11 05:51:23.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-08-30 03:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9953b36e0e4993cb24c29c289fcbad379a15ce1b', 'message': 'mlnx: Get rid of deprecated puppet parameters\n\nThe following parameters were deprecated because these were duplicate.\n - neutron::agents::ml2::mlnx::dhcp_broadcast_reply\n - neutron::agents::ml2::mlnx::interface_driver\n\nDepends-on: https://review.opendev.org/854654\nChange-Id: I7cbef66ce6f0d170a75e247319ff3dd20ae5c152\n'}, {'number': 2, 'created': '2022-09-06 10:58:28.000000000', 'files': ['deployment/neutron/neutron-agents-ib-config-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bff0d623bf2050a289185553f6735a1a91b8097', 'message': 'mlnx: Get rid of deprecated puppet parameters\n\nThe following parameters were deprecated because these were duplicate.\n - neutron::agents::ml2::mlnx::dhcp_broadcast_reply\n - neutron::agents::ml2::mlnx::interface_driver\n\nDepends-on: https://review.opendev.org/854654\nChange-Id: I7cbef66ce6f0d170a75e247319ff3dd20ae5c152\n'}]",0,855112,8bff0d623bf2050a289185553f6735a1a91b8097,12,4,2,9816,,,0,"mlnx: Get rid of deprecated puppet parameters

The following parameters were deprecated because these were duplicate.
 - neutron::agents::ml2::mlnx::dhcp_broadcast_reply
 - neutron::agents::ml2::mlnx::interface_driver

Depends-on: https://review.opendev.org/854654
Change-Id: I7cbef66ce6f0d170a75e247319ff3dd20ae5c152
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/855112/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-agents-ib-config-container-puppet.yaml'],1,9953b36e0e4993cb24c29c289fcbad379a15ce1b,,, neutron::agents::ml2::mlnx::dhcp_broadcast_reply: {get_param: NeutronDhcpServerBroadcastReply} neutron::agents::ml2::mlnx::interface_driver: {get_param: NeutronInterfaceDriver},0,2
openstack%2Ftripleo-heat-templates~master~Icaa2be2109954715a515e2a8d0c376d4040df516,openstack/tripleo-heat-templates,master,Icaa2be2109954715a515e2a8d0c376d4040df516,Swift: Use proper signal to reload services,ABANDONED,2021-07-19 00:25:21.000000000,2023-01-11 05:38:26.000000000,,"[{'_account_id': 6926}, {'_account_id': 6968}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 00:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ae65d9127baed8dad3581d8aed2915d36576f88', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGTERM to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\nCloses-Bug: #1936763\n""}, {'number': 2, 'created': '2021-07-19 00:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36829109dd0630e25aa3be88a119c4a5b3e8ceff', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGTERM to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nCloses-Bug: #1936763\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\n""}, {'number': 3, 'created': '2021-07-19 04:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5583b6ccb3ced4739050c15841d7ceee2ba8afab', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGTERM to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nCloses-Bug: #1936763\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\n""}, {'number': 4, 'created': '2021-09-15 10:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2503c076396c7c309c8e5c7c59596e7740169a1', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGHUP to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nCloses-Bug: #1936763\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\n""}, {'number': 5, 'created': '2021-09-22 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91e687e00e91121c26e039b7332e8adafd4c4fa8', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGHUP to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nCloses-Bug: #1936763\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\n""}, {'number': 6, 'created': '2021-09-24 01:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33f97db822e7978a746035501cd22356c78604bd', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGHUP to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nCloses-Bug: #1936763\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\n""}, {'number': 7, 'created': '2021-12-06 12:35:32.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3554e67469d7909b982a51359299e9bb171a7781', 'message': ""Swift: Use proper signal to reload services\n\nswift-*-server processes use SIGUSR1 instead of SIGHUP to reload\nconfigurations. Also the other daemon processes in swift doesn't\nsupport live-reloading.\nThis change updates the reload action defined in systemd unit\naccordingly.\n\nDepends-on: https://review.opendev.org/801216\nCloses-Bug: #1936763\nChange-Id: Icaa2be2109954715a515e2a8d0c376d4040df516\n""}]",3,801217,3554e67469d7909b982a51359299e9bb171a7781,49,7,7,9816,,,0,"Swift: Use proper signal to reload services

swift-*-server processes use SIGUSR1 instead of SIGHUP to reload
configurations. Also the other daemon processes in swift doesn't
support live-reloading.
This change updates the reload action defined in systemd unit
accordingly.

Depends-on: https://review.opendev.org/801216
Closes-Bug: #1936763
Change-Id: Icaa2be2109954715a515e2a8d0c376d4040df516
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/801217/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,2ae65d9127baed8dad3581d8aed2915d36576f88,bug/1936763, reload_signal: SIGUSR1,,15,0
openstack%2Ftripleo-heat-templates~master~Ic14cd8a926540d46399eb0776b4d820a5cc4871b,openstack/tripleo-heat-templates,master,Ic14cd8a926540d46399eb0776b4d820a5cc4871b,Swift: Stop *-server process gracefully,ABANDONED,2021-09-24 01:08:16.000000000,2023-01-11 05:38:19.000000000,,"[{'_account_id': 6926}, {'_account_id': 6968}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-24 01:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27fe183a7647a4e73847ba2282f7899f5c9deb44', 'message': ""Swift: Stop *-server process gracefully\n\nSending SIGTERM to a swift-*-server processes terminates the process\nimmediately and can interrupt API requests. On the other hand SIGHUP\nis used to terminate the process gracefully and the process stops\nafter it completeis all on-going requests.\n\nThis change ensures that SIGHUP is used to terminate *-server processes\nso that stopping container doesn't interrupt API requests.\n\nCloses-Bug: #1936762\nChange-Id: Ic14cd8a926540d46399eb0776b4d820a5cc4871b\n""}, {'number': 2, 'created': '2021-12-06 12:35:32.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd66cd544799d61ad66c2275eb3b593099c30a89', 'message': ""Swift: Stop *-server process gracefully\n\nSending SIGTERM to a swift-*-server processes terminates the process\nimmediately and can interrupt API requests. On the other hand SIGHUP\nis used to terminate the process gracefully and the process stops\nafter it completeis all on-going requests.\n\nThis change ensures that SIGHUP is used to terminate *-server processes\nso that stopping container doesn't interrupt API requests.\n\nCloses-Bug: #1936762\nChange-Id: Ic14cd8a926540d46399eb0776b4d820a5cc4871b\n""}]",2,810794,bd66cd544799d61ad66c2275eb3b593099c30a89,13,5,2,9816,,,0,"Swift: Stop *-server process gracefully

Sending SIGTERM to a swift-*-server processes terminates the process
immediately and can interrupt API requests. On the other hand SIGHUP
is used to terminate the process gracefully and the process stops
after it completeis all on-going requests.

This change ensures that SIGHUP is used to terminate *-server processes
so that stopping container doesn't interrupt API requests.

Closes-Bug: #1936762
Change-Id: Ic14cd8a926540d46399eb0776b4d820a5cc4871b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/810794/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,27fe183a7647a4e73847ba2282f7899f5c9deb44,bug/1936763, stop_signal: 1,,4,0
openstack%2Ftripleo-heat-templates~master~Ib48d7c2e703980bc49a9c14844cf5720d758974d,openstack/tripleo-heat-templates,master,Ib48d7c2e703980bc49a9c14844cf5720d758974d,Nova: Refactor deployment of virtlogd_wrapper,ABANDONED,2022-03-24 23:58:47.000000000,2023-01-11 05:37:41.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-24 23:58:47.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/870c832c4975f1ad51afedc91209fa2ebc74ffcc', 'message': 'Nova: Refactor deployment of virtlogd_wrapper\n\nThe docker_config interface is not intended to run puppet, and\nthe container_puppet_tasks should be used instead.\nFurthermore, the wrapper script can be deployed earlier.\n\nThis change replaces current implementation by the docker_config\ninterface and merge the puppet task to the initial task to generate\nconfiguration files for containers.\n\nChange-Id: Ib48d7c2e703980bc49a9c14844cf5720d758974d\n'}]",5,835164,870c832c4975f1ad51afedc91209fa2ebc74ffcc,11,5,1,9816,,,0,"Nova: Refactor deployment of virtlogd_wrapper

The docker_config interface is not intended to run puppet, and
the container_puppet_tasks should be used instead.
Furthermore, the wrapper script can be deployed earlier.

This change replaces current implementation by the docker_config
interface and merge the puppet task to the initial task to generate
configuration files for containers.

Change-Id: Ib48d7c2e703980bc49a9c14844cf5720d758974d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/835164/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,870c832c4975f1ad51afedc91209fa2ebc74ffcc,, include tripleo::profile::base::nova::virtlogd_wrapper," step_2: create_virtlogd_wrapper: start_order: 1 detach: false cgroupns: host net: host pid: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '4' - 'file' - 'include ::tripleo::profile::base::nova::virtlogd_wrapper' image: {get_attr: [RoleParametersValue, value, ContainerNovaLibvirtImage]} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - - /var/lib/container-config-scripts:/var/lib/container-config-scripts:shared,z environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier}",1,23
openstack%2Ftripleo-puppet-elements~master~Icacd5eb111c4211d78274264ae9eb322e52e5f78,openstack/tripleo-puppet-elements,master,Icacd5eb111c4211d78274264ae9eb322e52e5f78,Remove unused package name definition,ABANDONED,2022-06-02 07:01:56.000000000,2023-01-11 05:37:22.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-02 07:01:56.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/f723f1977164673035b7b2f4ee37c2de564c79ad', 'message': 'Remove unused package name definition\n\nInstallation of client packages was moved to a separate element by\n6a3c2b3e61923c82a3b95b6a1ec65f154021e42a , and the definition is no\nlonger used by the overcloud-controller element.\n\nChange-Id: Icacd5eb111c4211d78274264ae9eb322e52e5f78\n'}]",0,844394,f723f1977164673035b7b2f4ee37c2de564c79ad,5,3,1,9816,,,0,"Remove unused package name definition

Installation of client packages was moved to a separate element by
6a3c2b3e61923c82a3b95b6a1ec65f154021e42a , and the definition is no
longer used by the overcloud-controller element.

Change-Id: Icacd5eb111c4211d78274264ae9eb322e52e5f78
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/94/844394/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,f723f1977164673035b7b2f4ee37c2de564c79ad,,," ""release"": { ""rhel"": { ""8"": { ""python_openstackclient_package"": ""python3-openstackclient"" } } },",0,7
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I44f2a823abd4c2880723337b7478eb72817420d6,openstack/puppet-tripleo,stable/wallaby,I44f2a823abd4c2880723337b7478eb72817420d6,Octavia: Add unit tests for ovn clustered DB,ABANDONED,2022-07-05 00:10:55.000000000,2023-01-11 05:37:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-05 00:10:55.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d62d25c27464758f93814759f519d6938ada2d16', 'message': 'Octavia: Add unit tests for ovn clustered DB\n\nThis is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds\nthe unit test case to test support for ovn clustered DB added by that\nchange.\n\nChange-Id: I44f2a823abd4c2880723337b7478eb72817420d6\n(cherry picked from commit 479054936d469b2fce33690b4b7bbcd72589bb5c)\n'}]",0,848603,d62d25c27464758f93814759f519d6938ada2d16,3,1,1,9816,,,0,"Octavia: Add unit tests for ovn clustered DB

This is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds
the unit test case to test support for ovn clustered DB added by that
change.

Change-Id: I44f2a823abd4c2880723337b7478eb72817420d6
(cherry picked from commit 479054936d469b2fce33690b4b7bbcd72589bb5c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/848603/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb'],1,d62d25c27464758f93814759f519d6938ada2d16,," context 'with step 4 with clustered ovn db' do before do params.merge!({ :step => 4, :ovn_db_host => '127.0.0.1', :ovn_db_node_ips => ['192.0.2.11', '192.0.2.12'], :ovn_db_clustered => true, :ovn_nb_port => '6641', }) end it 'should set octavia provider ovn nb connection using tcp' do is_expected.to contain_class('octavia::provider::ovn').with( :ovn_nb_connection => 'tcp:192.0.2.11:6641,tcp:192.0.2.12:6641' ) end end ",,18,0
openstack%2Ftripleo-heat-templates~master~I9159f950901d6fc833850f88bbbf4d6e9ce52deb,openstack/tripleo-heat-templates,master,I9159f950901d6fc833850f88bbbf4d6e9ce52deb,Remove unused docker-network.yaml environment file,ABANDONED,2022-05-27 07:40:11.000000000,2023-01-11 05:34:29.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-27 07:40:11.000000000', 'files': ['environments/docker-network.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6e6df29c1d7b3e0572472e5baea0b66f5dd911d', 'message': 'Remove unused docker-network.yaml environment file\n\nThis file has had no effect since [1] was merged a few years ago and\nis no longer used by CI job.\n\n[1] 76f130d6e8f7434433b2602af9794f1e9c742e1f\n\nChange-Id: I9159f950901d6fc833850f88bbbf4d6e9ce52deb\n'}]",0,843572,e6e6df29c1d7b3e0572472e5baea0b66f5dd911d,5,3,1,9816,,,0,"Remove unused docker-network.yaml environment file

This file has had no effect since [1] was merged a few years ago and
is no longer used by CI job.

[1] 76f130d6e8f7434433b2602af9794f1e9c742e1f

Change-Id: I9159f950901d6fc833850f88bbbf4d6e9ce52deb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/843572/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/docker-network.yaml'],1,e6e6df29c1d7b3e0572472e5baea0b66f5dd911d,,,# TODO(sbaker) Remove once CI and documentation no longer use this file resource_registry: {} ,0,2
openstack%2Ftripleo-common~master~I72ea419272efadac52a0ddcb24d6349559d04b18,openstack/tripleo-common,master,I72ea419272efadac52a0ddcb24d6349559d04b18,Add healthcheck scripts for Designate services,ABANDONED,2022-07-11 13:16:19.000000000,2023-01-11 05:34:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-11 13:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f2d99f1c07e65d8f31e0195beed56c857174b58', 'message': 'Add healthcheck scripts for Designate services\n\n... so that we can enable service healthchecks.\n\nChange-Id: I72ea419272efadac52a0ddcb24d6349559d04b18\n'}, {'number': 2, 'created': '2022-07-11 13:19:41.000000000', 'files': ['healthcheck/designate-producer', 'container-images/tcib/base/os/designate-base/designate-central/designate-central.yaml', 'healthcheck/designate-mdns', 'container-images/tcib/base/os/designate-base/designate-sink/designate-sink.yaml', 'healthcheck/designate-central', 'healthcheck/designate-worker', 'container-images/tcib/base/os/designate-base/designate-producer/designate-producer.yaml', 'container-images/tcib/base/os/designate-base/designate-api/designate-api.yaml', 'healthcheck/designate-sink', 'container-images/tcib/base/os/designate-base/designate-worker/designate-worker.yaml', 'container-images/tcib/base/os/designate-base/designate-mdns/designate-mdns.yaml', 'healthcheck/designate-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ecbf3a4c38314bef4c3457a7366f5d8f2f33384', 'message': 'Add healthcheck scripts for Designate services\n\n... so that we can enable service healthchecks.\n\nNote that this change does not cover the bind9 service, because\nthe service requires a different method for healthcheck.\n\nChange-Id: I72ea419272efadac52a0ddcb24d6349559d04b18\n'}]",0,849399,7ecbf3a4c38314bef4c3457a7366f5d8f2f33384,6,3,2,9816,,,0,"Add healthcheck scripts for Designate services

... so that we can enable service healthchecks.

Note that this change does not cover the bind9 service, because
the service requires a different method for healthcheck.

Change-Id: I72ea419272efadac52a0ddcb24d6349559d04b18
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/849399/2 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/designate-producer', 'container-images/tcib/base/os/designate-base/designate-central/designate-central.yaml', 'healthcheck/designate-mdns', 'container-images/tcib/base/os/designate-base/designate-sink/designate-sink.yaml', 'healthcheck/designate-central', 'healthcheck/designate-worker', 'container-images/tcib/base/os/designate-base/designate-producer/designate-producer.yaml', 'container-images/tcib/base/os/designate-base/designate-api/designate-api.yaml', 'healthcheck/designate-sink', 'container-images/tcib/base/os/designate-base/designate-worker/designate-worker.yaml', 'container-images/tcib/base/os/designate-base/designate-mdns/designate-mdns.yaml', 'healthcheck/designate-api']",12,6f2d99f1c07e65d8f31e0195beed56c857174b58,designate-healthcheck,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-designate_wsgi.conf) healthcheck_curl ${check_url} ,,81,0
openstack%2Ftripleo-heat-templates~master~Ib01a7274c15b711cc01ef00190bbf4229d13cff8,openstack/tripleo-heat-templates,master,Ib01a7274c15b711cc01ef00190bbf4229d13cff8,mlnx: Set dhcp_broadcase_reply consistently,MERGED,2022-08-24 09:48:38.000000000,2023-01-11 05:15:12.000000000,2023-01-11 05:15:12.000000000,"[{'_account_id': 7144}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25241}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-08-24 09:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d395c4d5e146623a885561b2457280478a5a6632', 'message': 'mlnx: Set dhcp_broadcase_reply consistently\n\nRecent puppet-neutron change fixed the duplicate resource declaration,\nbut this requires the parameter is set consistently accross multiple\nclasses.\n\nDepends-on: https://review.opendev.org/854292\nChange-Id: Ib01a7274c15b711cc01ef00190bbf4229d13cff8\n'}, {'number': 2, 'created': '2022-08-30 03:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55ce988fea6fa27f89cc1324b4c4835a398ff18d', 'message': 'mlnx: Set dhcp_broadcase_reply consistently\n\nRecent puppet-neutron change fixed the duplicate resource declaration,\nbut this requires the parameter is set consistently accross multiple\nclasses.\n\nAlso, there already is the NeutronDhcpServerBroadcastReply parameter to\nset the same parameter in dhcp agent. We should not internally override\nit but honor this parameter.\n\nDepends-on: https://review.opendev.org/854292\nChange-Id: Ib01a7274c15b711cc01ef00190bbf4229d13cff8\n'}, {'number': 3, 'created': '2022-09-06 10:57:22.000000000', 'files': ['deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'environments/services/neutron-mlnx-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59da4b543e9cb92df879e4711b216b9d91ba55f1', 'message': 'mlnx: Set dhcp_broadcase_reply consistently\n\nRecent puppet-neutron change fixed the duplicate resource declaration,\nbut this requires the parameter is set consistently accross multiple\nclasses.\n\nAlso, there already is the NeutronDhcpServerBroadcastReply parameter to\nset the same parameter in dhcp agent. We should not internally override\nit but honor this parameter.\n\nDepends-on: https://review.opendev.org/854292\nChange-Id: Ib01a7274c15b711cc01ef00190bbf4229d13cff8\n'}]",4,854361,59da4b543e9cb92df879e4711b216b9d91ba55f1,24,6,3,9816,,,0,"mlnx: Set dhcp_broadcase_reply consistently

Recent puppet-neutron change fixed the duplicate resource declaration,
but this requires the parameter is set consistently accross multiple
classes.

Also, there already is the NeutronDhcpServerBroadcastReply parameter to
set the same parameter in dhcp agent. We should not internally override
it but honor this parameter.

Depends-on: https://review.opendev.org/854292
Change-Id: Ib01a7274c15b711cc01ef00190bbf4229d13cff8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/854361/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-agents-ib-config-container-puppet.yaml'],1,d395c4d5e146623a885561b2457280478a5a6632,, neutron::agents::dhcp::dhcp_broadcast_reply: true,,1,0
openstack%2Foctavia~master~I5fdb111cae9a801bb760eeb058ef8e9ff952318d,openstack/octavia,master,I5fdb111cae9a801bb760eeb058ef8e9ff952318d,Fixing tests with tox 4.2.6,MERGED,2023-01-10 10:33:25.000000000,2023-01-11 05:05:41.000000000,2023-01-11 05:04:02.000000000,"[{'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-01-10 10:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cf0f52b0e0503894b927d94fa7515aae6ab7b3f', 'message': 'DNM/WIP Testing functional-py38\n\nChange-Id: I5fdb111cae9a801bb760eeb058ef8e9ff952318d\n'}, {'number': 2, 'created': '2023-01-10 10:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/68609f59610d7d597701d2f40eeaa6af992a147b', 'message': 'DNM/WIP Testing functional-py38\n\nChange-Id: I5fdb111cae9a801bb760eeb058ef8e9ff952318d\n'}, {'number': 3, 'created': '2023-01-10 13:25:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b28be698f87b7b75595b44d0254e931bbd7cd745', 'message': 'Fixing tests with tox 4.2.6\n\nChange-Id: I5fdb111cae9a801bb760eeb058ef8e9ff952318d\n'}]",5,869671,b28be698f87b7b75595b44d0254e931bbd7cd745,20,2,3,29244,,,0,"Fixing tests with tox 4.2.6

Change-Id: I5fdb111cae9a801bb760eeb058ef8e9ff952318d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/869671/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,6cf0f52b0e0503894b927d94fa7515aae6ab7b3f,, templates: [] #- openstack-tox-pip-check-reqs: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- openstack-tox-functional-py39: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ #- openstack-tox-functional-py310: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ # voting: false #- octavia-v2-dsvm-noop-api: # irrelevant-files: &irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-scenario: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-tls-barbican: # irrelevant-files: *irrelevant-files #- octavia-grenade: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^(test-|)requirements.txt$ # - ^tox.ini$ #- octavia-v2-dsvm-tls-barbican-fips: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-act-stdby-dsvm-scenario: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-cinder-amphora: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-two-node: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-ipv6-only: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-centos-9-stream: # irrelevant-files: *irrelevant-files # voting: false, templates: - check-requirements - periodic-stable-jobs-neutron - openstack-cover-jobs - openstack-python3-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - octavia-tox-tips - openstack-tox-pip-check-reqs: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py39: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py310: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-v2-dsvm-tls-barbican-fips: irrelevant-files: *irrelevant-files voting: false - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-9-stream: irrelevant-files: *irrelevant-files voting: false,72,79
openstack%2Ftripleo-ansible~master~I71a10b7600639dd5c8dab10b465388ea340f8865,openstack/tripleo-ansible,master,I71a10b7600639dd5c8dab10b465388ea340f8865,DNM: Do not sudo when setting up login credential for buildah,ABANDONED,2022-12-19 07:23:42.000000000,2023-01-11 04:35:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-19 07:23:42.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/buildah_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b688158da4076917f625f80987101b38bf8d323', 'message': 'DNM: Do not sudo when setting up login credential for buildah\n\nChange-Id: I71a10b7600639dd5c8dab10b465388ea340f8865\n'}]",0,868057,8b688158da4076917f625f80987101b38bf8d323,4,2,1,9816,,,0,"DNM: Do not sudo when setting up login credential for buildah

Change-Id: I71a10b7600639dd5c8dab10b465388ea340f8865
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/868057/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/buildah_login.yml'],1,8b688158da4076917f625f80987101b38bf8d323,,, become: true,0,1
openstack%2Fpuppet-octavia~master~Ieb72295f9b8d41f7e91e90450475cc9e8b62192c,openstack/puppet-octavia,master,Ieb72295f9b8d41f7e91e90450475cc9e8b62192c,Support [api_settings] allow_prometheus_listeners,MERGED,2023-01-10 03:43:00.000000000,2023-01-11 04:21:57.000000000,2023-01-11 04:21:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 03:43:00.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/api-allow_prometheus_listeners-827a53c448d24234.yaml', 'spec/classes/octavia_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/74ddf50d68c1ca38acc80c26c4433e431a0b6407', 'message': 'Support [api_settings] allow_prometheus_listeners\n\nThis adds support for the [api_settings] allow_prometheus_listeners\nparameter, which was added as part of the new octavia feature to expose\nPrometheus endpoint in each load balancer.\n\nDepends-on: https://review.opendev.org/812258\nChange-Id: Ieb72295f9b8d41f7e91e90450475cc9e8b62192c\n'}]",1,869621,74ddf50d68c1ca38acc80c26c4433e431a0b6407,12,3,1,9816,,,0,"Support [api_settings] allow_prometheus_listeners

This adds support for the [api_settings] allow_prometheus_listeners
parameter, which was added as part of the new octavia feature to expose
Prometheus endpoint in each load balancer.

Depends-on: https://review.opendev.org/812258
Change-Id: Ieb72295f9b8d41f7e91e90450475cc9e8b62192c
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/21/869621/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/api-allow_prometheus_listeners-827a53c448d24234.yaml', 'spec/classes/octavia_api_spec.rb']",3,74ddf50d68c1ca38acc80c26c4433e431a0b6407,," :allow_prometheus_listeners => true, is_expected.to contain_octavia_config('api_settings/allow_prometheus_listeners').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('api_settings/allow_prometheus_listeners').with_value( params[:allow_prometheus_listeners] )",,14,0
openstack%2Fproject-config~master~Ie6a244306efc793214cce3481bb6b49addc361f7,openstack/project-config,master,Ie6a244306efc793214cce3481bb6b49addc361f7,Add nb04 config,MERGED,2023-01-10 21:26:36.000000000,2023-01-11 04:05:22.000000000,2023-01-11 02:41:36.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 21:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea20a8d1b83fc6b98cd5c51bc164f049325efdbd', 'message': 'Add nb04 config\n\nThis is a second ARM64 builder, intended to replace nb03.  Add the\ninitial config.\n\nChange-Id: Ie6a244306efc793214cce3481bb6b49addc361f7\n'}, {'number': 2, 'created': '2023-01-10 21:57:43.000000000', 'files': ['nodepool/nb04.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f0eeec9aa244bdb889b6b9d34f9e559e26db312', 'message': 'Add nb04 config\n\nThis is a second ARM64 builder, intended to replace nb03.  Add the\ninitial config.\n\nChange-Id: Ie6a244306efc793214cce3481bb6b49addc361f7\n'}]",2,869769,4f0eeec9aa244bdb889b6b9d34f9e559e26db312,12,3,2,7118,,,0,"Add nb04 config

This is a second ARM64 builder, intended to replace nb03.  Add the
initial config.

Change-Id: Ie6a244306efc793214cce3481bb6b49addc361f7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/869769/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb04.opendev.org.yaml'],1,ea20a8d1b83fc6b98cd5c51bc164f049325efdbd,nb04-osuosl,"elements-dir: /etc/nodepool/elements images-dir: /opt/nodepool_dib # This portion of the config is updated by ansible to use the actual # zookeeper servers. zookeeper-servers: - host: zk01.example.org port: 2281 - host: zk02.example.org port: 2281 - host: zk03.example.org port: 2281 providers: - name: linaro-us-regionone region-name: 'RegionOne' cloud: linaro-us rate: 0.25 diskimages: &arm64_diskimages - name: ubuntu-bionic-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: ubuntu-focal-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: ubuntu-jammy-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: debian-bullseye-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: debian-buster-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: centos-8-stream-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: centos-9-stream-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: openEuler-22-03-LTS-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: rockylinux-9-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: osuosl-regionone region-name: 'RegionOne' cloud: osuosl rate: 0.25 diskimages: *arm64_diskimages diskimages: - name: base abstract: True elements: - block-device-efi - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs - journal-to-console env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org - name: base-debuntu abstract: True parent: base env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' ############ CentOS and Fedora (and derivatives) ############# - name: centos-7 elements: [] - name: centos-8-stream elements: [] - name: centos-9-stream elements: [] - name: rockylinux-8 elements: [] - name: rockylinux-9 elements: [] - name: fedora-35 elements: [] - name: fedora-36 elements: [] ############ Debian ############# - name: debian-buster elements: [] - name: debian-bullseye elements: [] ############ Gentoo ############# - name: gentoo-17-0-systemd elements: [] ############ openSUSE ############# - name: opensuse-15 elements: [] ############ Ubuntu ############# - name: ubuntu-bionic elements: [] - name: ubuntu-focal elements: [] - name: ubuntu-jammy elements: [] - name: ubuntu-xenial elements: [] ############ openEuler ############# - name: openEuler-22-03-LTS elements: [] ############ arm64 ############# - name: ubuntu-bionic-arm64 parent: base-debuntu elements: - ubuntu-minimal release: bionic env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: ubuntu-focal-arm64 parent: base-debuntu elements: - ubuntu-minimal release: focal env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: ubuntu-jammy-arm64 parent: base-debuntu elements: - ubuntu-minimal release: jammy env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: debian-bullseye-arm64 parent: base-debuntu python-path: /usr/bin/python3 elements: - debian-minimal release: bullseye env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/debian' - name: debian-buster-arm64 parent: base-debuntu elements: - debian-minimal release: buster env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/debian' - name: centos-8-stream-arm64 parent: base python-path: /usr/bin/python3 elements: - centos-minimal - epel release: 8-stream env-vars: DIB_EPEL_DISABLED: '1' - name: centos-9-stream-arm64 parent: base python-path: /usr/bin/python3 elements: - centos-minimal - epel release: 9-stream env-vars: DIB_EPEL_DISABLED: '1' - name: openEuler-22-03-LTS-arm64 parent: base python-path: /usr/bin/python3 elements: - openeuler-minimal release: 22.03-LTS env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/openeuler' - name: rockylinux-9-arm64 parent: base python-path: /usr/bin/python3 elements: - rocky-container - epel release: 9 ",,274,0
openstack%2Fheat-tempest-plugin~master~I5f4f1338a60634af8ae062475e314feb55c4a26d,openstack/heat-tempest-plugin,master,I5f4f1338a60634af8ae062475e314feb55c4a26d,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:08:21.000000000,2023-01-11 03:50:16.000000000,2023-01-11 03:50:16.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-10-16 02:08:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/ea738c4f48b43b7238239ce2f4f9e900cc401ab1', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I5f4f1338a60634af8ae062475e314feb55c4a26d\n'}]",2,861504,ea738c4f48b43b7238239ce2f4f9e900cc401ab1,10,3,1,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I5f4f1338a60634af8ae062475e314feb55c4a26d
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/04/861504/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ea738c4f48b43b7238239ce2f4f9e900cc401ab1,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Fpython-novaclient~stable%2Fxena~I442568a5f5900e593feb2b5527109e0aa79e5aa7,openstack/python-novaclient,stable/xena,I442568a5f5900e593feb2b5527109e0aa79e5aa7,[stable-only] Pin tox <4,MERGED,2023-01-09 18:55:32.000000000,2023-01-11 02:49:49.000000000,2023-01-11 02:47:11.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 18:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/07b90420b8b4ac4be4fc8112d37927dd60c3236a', 'message': '[stable-only] Pin tox <4\n\nWe pinned tox<4 for stable branches in common jobs\nand in devstack playbook but that was not enough for\npython client functional jobs where tox is upgraded to\nlatest by pip.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html\n\nThis commit adds tox<4 pin explicitly in tox.ini\n\nChange-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7\n(cherry picked from commit 7c3f3bc615cb91cd0106f91b0452bf7968ff3598)\n(cherry picked from commit 79c21ab698055504567c45a31e18c7cc1eedf50b)\n'}, {'number': 2, 'created': '2023-01-09 20:46:00.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/88d9268b5f3663c8dfea0bd267ed14c5b9348f3b', 'message': '[stable-only] Pin tox <4\n\nWe pinned tox<4 for stable branches in common jobs\nand in devstack playbook but that was not enough for\npython client functional jobs where tox is upgraded to\nlatest by pip.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html\n\nThis commit adds tox<4 pin explicitly in tox.ini\n\nExtra change in this backport:\n\nlower-constraint job started failing. As we are no more required to test the\nlower-constraints, removing the testing to unblock the gate.\n\nChange-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7\n(cherry picked from commit 7c3f3bc615cb91cd0106f91b0452bf7968ff3598)\n(cherry picked from commit 79c21ab698055504567c45a31e18c7cc1eedf50b)\n'}]",1,869598,88d9268b5f3663c8dfea0bd267ed14c5b9348f3b,14,3,2,8556,,,0,"[stable-only] Pin tox <4

We pinned tox<4 for stable branches in common jobs
and in devstack playbook but that was not enough for
python client functional jobs where tox is upgraded to
latest by pip.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html

This commit adds tox<4 pin explicitly in tox.ini

Extra change in this backport:

lower-constraint job started failing. As we are no more required to test the
lower-constraints, removing the testing to unblock the gate.

Change-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7
(cherry picked from commit 7c3f3bc615cb91cd0106f91b0452bf7968ff3598)
(cherry picked from commit 79c21ab698055504567c45a31e18c7cc1eedf50b)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/98/869598/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,07b90420b8b4ac4be4fc8112d37927dd60c3236a,tox4,requires = tox<4,,1,0
openstack%2Fpuppet-tripleo~master~I8eeaf4f9493a7802a6dc3aeb90b52a4308cab207,openstack/puppet-tripleo,master,I8eeaf4f9493a7802a6dc3aeb90b52a4308cab207,cinder + etcd3gw: Remove logic for CentOS/RHEL 8,ABANDONED,2022-09-12 08:22:18.000000000,2023-01-11 02:25:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-12 08:22:18.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f5bb069e5326257e1e92934a5addd8003aaaa6a7', 'message': 'cinder + etcd3gw: Remove logic for CentOS/RHEL 8\n\nThis is follow-up of ecda0e14213d82e337c0a81def19565bee460d1d and\nremoves the logic for CentOS/RHEL 8 because we no longer support these\nversions in master.\n\nChange-Id: I8eeaf4f9493a7802a6dc3aeb90b52a4308cab207\n'}]",0,857006,f5bb069e5326257e1e92934a5addd8003aaaa6a7,3,1,1,9816,,,0,"cinder + etcd3gw: Remove logic for CentOS/RHEL 8

This is follow-up of ecda0e14213d82e337c0a81def19565bee460d1d and
removes the logic for CentOS/RHEL 8 because we no longer support these
versions in master.

Change-Id: I8eeaf4f9493a7802a6dc3aeb90b52a4308cab207
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/857006/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb']",2,f5bb069e5326257e1e92934a5addd8003aaaa6a7,," :backend_url => 'etcd3+http://127.0.0.1:2379?api_version=v3', :backend_url => 'etcd3+https://127.0.0.1:2379?api_version=v3&cert_key=/path/to/etcd.key&cert_cert=/path/to/etcd.cert', :backend_url => 'etcd3+http://[fe80::1ff:fe23:4567:890a]:2379?api_version=v3', :backend_url => 'etcd3+http://etcdhost.localdomain:2379?api_version=v3',"," :backend_url => ""etcd3+http://127.0.0.1:2379?api_version=#{platform_params[:api_version]}"", :backend_url => ""etcd3+https://127.0.0.1:2379?api_version=#{platform_params[:api_version]}&cert_key=/path/to/etcd.key&cert_cert=/path/to/etcd.cert"", :backend_url => ""etcd3+http://[fe80::1ff:fe23:4567:890a]:2379?api_version=#{platform_params[:api_version]}"", :backend_url => ""etcd3+http://etcdhost.localdomain:2379?api_version=#{platform_params[:api_version]}"", let(:platform_params) do if facts[:operatingsystemmajrelease] == '8' { :api_version => 'v3alpha' } else { :api_version => 'v3' } end end ",6,22
openstack%2Ftripleo-heat-templates~master~Ide8071c5bbdd6e04adcd86fcf1328aab035eec62,openstack/tripleo-heat-templates,master,Ide8071c5bbdd6e04adcd86fcf1328aab035eec62,Verify RsyslogExtraLoggingSource in CI,ABANDONED,2022-02-28 02:06:06.000000000,2023-01-11 02:25:09.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-28 02:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a9dbfe23427dab249595b697b5efe338d1abf61', 'message': 'Verify RsyslogExtraLoggingSource in CI\n\nThis change ensures the RsyslogExtraLoggingSource parameter, which was\nadded recently by [1], is verified in CI.\n\n[1] a1b967fafefb1df39e9e04fae0476b14063dfff4\n\nChange-Id: Ide8071c5bbdd6e04adcd86fcf1328aab035eec62\n'}, {'number': 2, 'created': '2022-09-12 00:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/591d5cbb03984f97d0652f365d3846afd58f2b97', 'message': 'Verify RsyslogExtraLoggingSource in CI\n\nThis change ensures the RsyslogExtraLoggingSource parameter, which was\nadded recently by [1], is verified in CI.\n\n[1] a1b967fafefb1df39e9e04fae0476b14063dfff4\n\nChange-Id: Ide8071c5bbdd6e04adcd86fcf1328aab035eec62\n'}, {'number': 3, 'created': '2022-09-16 02:26:39.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce280f6c8bec1f2665409afcdf15119cab9facc0', 'message': 'Verify RsyslogExtraLoggingSource in CI\n\nThis change ensures the RsyslogExtraLoggingSource parameter, which was\nadded recently by [1], is verified in CI.\n\n[1] a1b967fafefb1df39e9e04fae0476b14063dfff4\n\nChange-Id: Ide8071c5bbdd6e04adcd86fcf1328aab035eec62\n'}]",4,831130,ce280f6c8bec1f2665409afcdf15119cab9facc0,14,4,3,9816,,,0,"Verify RsyslogExtraLoggingSource in CI

This change ensures the RsyslogExtraLoggingSource parameter, which was
added recently by [1], is verified in CI.

[1] a1b967fafefb1df39e9e04fae0476b14063dfff4

Change-Id: Ide8071c5bbdd6e04adcd86fcf1328aab035eec62
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/831130/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-multinode-containers.yaml'],1,5a9dbfe23427dab249595b697b5efe338d1abf61,, RsyslogExtraLoggingSource: - tag: openstack.host.messages file: /var/log/host/messages,,3,0
openstack%2Ftripleo-ansible~master~Ibdd4d3029db0d12a3ce412ad01c46f11bd528253,openstack/tripleo-ansible,master,Ibdd4d3029db0d12a3ce412ad01c46f11bd528253,Clean up leftovers of Python 2 support,ABANDONED,2022-06-23 06:54:42.000000000,2023-01-11 02:24:18.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 06:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93eea0bad855ccba7c062dc0314b54526aeb1330', 'message': 'Clean up leftover of python2 support\n\nChange-Id: Ibdd4d3029db0d12a3ce412ad01c46f11bd528253\n'}, {'number': 2, 'created': '2022-06-23 06:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b60f4d9c5e77ceaeb6c6084fe1fc03c9b6d1380', 'message': 'Clean up leftover of python2 support\n\nChange-Id: Ibdd4d3029db0d12a3ce412ad01c46f11bd528253\n'}, {'number': 3, 'created': '2022-06-23 12:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81a066a1c6dfded05bd2f20ed910727b85ca15a4', 'message': 'Clean up leftovers of Python 2 support\n\n... because Python 2 is no longer supported.\n\nChange-Id: Ibdd4d3029db0d12a3ce412ad01c46f11bd528253\n'}, {'number': 4, 'created': '2022-06-23 13:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/968cbd405e155ec4ddb85bf6c47706959b1c46bb', 'message': 'Clean up leftovers of Python 2 support\n\n... because Python 2 is no longer supported.\n\nChange-Id: Ibdd4d3029db0d12a3ce412ad01c46f11bd528253\n'}, {'number': 5, 'created': '2022-06-29 00:58:13.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'requirements.txt', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/action/package.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68c13d1ab99aaf415188e2ae880ca3f21eb78ca8', 'message': 'Clean up leftovers of Python 2 support\n\n... because Python 2 is no longer supported.\n\nChange-Id: Ibdd4d3029db0d12a3ce412ad01c46f11bd528253\n'}]",1,847249,68c13d1ab99aaf415188e2ae880ca3f21eb78ca8,14,4,5,9816,,,0,"Clean up leftovers of Python 2 support

... because Python 2 is no longer supported.

Change-Id: Ibdd4d3029db0d12a3ce412ad01c46f11bd528253
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/847249/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,93eea0bad855ccba7c062dc0314b54526aeb1330,,"python-ironicclient!=2.5.2,!=2.7.1,!=3.0.0,>=2.3.0 # Apache-2.0","python-ironicclient!=2.5.2,!=2.7.1,!=3.0.0,>=2.3.0,<4.0.0;python_version=='2.7' # Apache-2.0 python-ironicclient!=2.5.2,!=2.7.1,!=3.0.0,>=2.3.0;python_version>='3.6' # Apache-2.0",1,2
openstack%2Ftripleo-common~master~Ia527c6e9c2418f7e2293b1e4d680e8994cfe3dae,openstack/tripleo-common,master,Ia527c6e9c2418f7e2293b1e4d680e8994cfe3dae,Drop misplaced release note files,ABANDONED,2022-10-25 08:31:47.000000000,2023-01-11 02:24:13.000000000,,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-25 08:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b89aec036362373b0368ccfb37bb0efa861bfebe', 'message': 'Drop misplaced release note files\n\nThe release note files should be placed in releasenotes/notes and\nthe files placed in different directories or layers are all ignored.\nThis removes the ignored file because these are just useless.\n\nRenaming the files can cause these note to appear in a wrong release,\nthus we should not fix the wrong paths now.\n\nChange-Id: Ia527c6e9c2418f7e2293b1e4d680e8994cfe3dae\n'}, {'number': 2, 'created': '2022-10-25 08:34:02.000000000', 'files': ['healthcheck/releasenotes/notes/swift-fix-healthchecks-b3a02139230f4258.yaml', 'releasenotes/notes/releasenotes/notes/update-lb-mgmt-subnet-to-class-b-1cd832ef08a30c85.yaml', 'tripleo_common/releasenotes/notes/convert-docker-params-84dfc6083e88bb52.yaml', 'tripleo_common/releasenotes/notes/automatically-retry-failed-deployments-baf0c701e6d1ad4a.yaml', 'healthcheck/releasenotes/notes/nova-vnc-proxy-ipv6-handling-5d0625f1ab10d13f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/291a686b95c9f11baa3c4429748b574f12f6a15d', 'message': 'Drop misplaced release note files\n\nThe release note files should be placed in releasenotes/notes and\nthe files placed in different directories or layers are all ignored.\nThis removes the ignored file because these are just useless.\n\nRenaming the files can cause these note to appear in a wrong release,\nthus we should not fix the wrong paths now.\n\nChange-Id: Ia527c6e9c2418f7e2293b1e4d680e8994cfe3dae\n'}]",1,862560,291a686b95c9f11baa3c4429748b574f12f6a15d,6,3,2,9816,,,0,"Drop misplaced release note files

The release note files should be placed in releasenotes/notes and
the files placed in different directories or layers are all ignored.
This removes the ignored file because these are just useless.

Renaming the files can cause these note to appear in a wrong release,
thus we should not fix the wrong paths now.

Change-Id: Ia527c6e9c2418f7e2293b1e4d680e8994cfe3dae
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/862560/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/releasenotes/notes/swift-fix-healthchecks-b3a02139230f4258.yaml', 'tripleo_common/releasenotes/notes/convert-docker-params-84dfc6083e88bb52.yaml', 'tripleo_common/releasenotes/notes/automatically-retry-failed-deployments-baf0c701e6d1ad4a.yaml', 'healthcheck/releasenotes/notes/nova-vnc-proxy-ipv6-handling-5d0625f1ab10d13f.yaml']",4,b89aec036362373b0368ccfb37bb0efa861bfebe,,,--- fixes: - | In case of IPv6 URLs brackets are required. This adds a check for IPv6 and adds brackets if needed. ,0,22
openstack%2Fpuppet-tripleo~master~Iff28691260a7fd9921693156499b83cd45faae7e,openstack/puppet-tripleo,master,Iff28691260a7fd9921693156499b83cd45faae7e,Gnocchi: Use healthcheck middleware to check service status,ABANDONED,2022-09-06 08:28:33.000000000,2023-01-11 02:23:30.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-06 08:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e939e17ac45f763ad46cc78216b0c4292c9d219', 'message': 'Gnocchi: Use healthcheck middleware to check service status\n\nGnocchi enables the healthcheck middleware by default since version\n3.1.0[1]. This change updates the service healthcheck by haproxy to use\nthe middleware endpoint. This also enables the puppet class so that\nwe can manage middleware options using the puppet-glance module.\n\n[1] https://github.com/gnocchixyz/gnocchi/commit/7cff2f7f63c5ac233ad490275248bb49ffa5362b\n\nChange-Id: Iff28691260a7fd9921693156499b83cd45faae7e\n'}, {'number': 2, 'created': '2022-09-06 08:30:02.000000000', 'files': ['manifests/haproxy.pp', 'spec/classes/tripleo_profile_base_gnocchi_api_spec.rb', 'manifests/profile/base/gnocchi/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/04e2a2b1622ae877dc44ec0d8a4a8e76159aa271', 'message': 'Gnocchi: Use healthcheck middleware to check service status\n\nGnocchi enables the healthcheck middleware by default since version\n3.1.0[1]. This change updates the service healthcheck by haproxy to use\nthe middleware endpoint. This also enables the puppet class so that\nwe can manage middleware options using the puppet-glance module.\n\n[1] https://github.com/gnocchixyz/gnocchi/commit/7cff2f7f63c5ac233ad490275248bb49ffa5362b\n\nChange-Id: Iff28691260a7fd9921693156499b83cd45faae7e\n'}]",0,856030,04e2a2b1622ae877dc44ec0d8a4a8e76159aa271,6,3,2,9816,,,0,"Gnocchi: Use healthcheck middleware to check service status

Gnocchi enables the healthcheck middleware by default since version
3.1.0[1]. This change updates the service healthcheck by haproxy to use
the middleware endpoint. This also enables the puppet class so that
we can manage middleware options using the puppet-glance module.

[1] https://github.com/gnocchixyz/gnocchi/commit/7cff2f7f63c5ac233ad490275248bb49ffa5362b

Change-Id: Iff28691260a7fd9921693156499b83cd45faae7e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/30/856030/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'spec/classes/tripleo_profile_base_gnocchi_api_spec.rb', 'manifests/profile/base/gnocchi/api.pp']",3,3e939e17ac45f763ad46cc78216b0c4292c9d219,gnocchi-healthcheck, include gnocchi::healthcheck,,19,1
openstack%2Ftripleo-quickstart-extras~master~Id9ef6ba5de92990267ad894e55e9602e73ba339b,openstack/tripleo-quickstart-extras,master,Id9ef6ba5de92990267ad894e55e9602e73ba339b,Replace deprecated ipxe_deploy in undercloud.conf,ABANDONED,2020-05-01 14:48:35.000000000,2023-01-11 02:23:10.000000000,,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-01 14:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/22954379eaa206b833d031ddd155dda719af0c6d', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton[1] when it was replaced by\nipxe_enabled.\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}, {'number': 2, 'created': '2020-05-01 14:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a19ad307c15f6531d23d10450ca467fa82e7f7b', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton and was replaced by the new\nipxe_enabled parameter[1].\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}, {'number': 3, 'created': '2020-05-01 14:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/baaa012e8297fccca2fba593d55e117679e3f450', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton and was replaced by the new\nipxe_enabled parameter[1].\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}, {'number': 4, 'created': '2020-05-04 11:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/20a8a106aebb179efd7a1e38e641d090a5069187', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton and was replaced by the new\nipxe_enabled parameter[1].\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}, {'number': 5, 'created': '2021-12-06 01:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f87748d0f64fb1311d50a996a9ef179d1adcca29', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton and was replaced by the new\nipxe_enabled parameter[1].\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}, {'number': 6, 'created': '2021-12-13 13:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2a20faefa0a1591faaad063123555531c9fd75ff', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton and was replaced by the new\nipxe_enabled parameter[1]. This change also renames the variable\naccordingly because it is not used now.\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}, {'number': 7, 'created': '2022-09-06 05:02:48.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/27e9ed1aed6731978619b1ef5b9564a8064a810c', 'message': 'Replace deprecated ipxe_deploy in undercloud.conf\n\n... because it was deprecated since Newton and was replaced by the new\nipxe_enabled parameter[1]. This change also renames the variable\naccordingly because it is not used now.\n\n[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9\n\nChange-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b\n'}]",9,724860,27e9ed1aed6731978619b1ef5b9564a8064a810c,35,6,7,9816,,,0,"Replace deprecated ipxe_deploy in undercloud.conf

... because it was deprecated since Newton and was replaced by the new
ipxe_enabled parameter[1]. This change also renames the variable
accordingly because it is not used now.

[1] https://github.com/openstack/instack-undercloud/commit/245b5c792c4c16cf5467ea310019dfa66f286da9

Change-Id: Id9ef6ba5de92990267ad894e55e9602e73ba339b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/724860/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/undercloud.conf.j2'],1,22954379eaa206b833d031ddd155dda719af0c6d,ipxe_deploy,{% if release in ['mitaka']} ipxe_deploy = {{undercloud_ipxe_enabled}} {% else %} ipxe_enabled = {{undercloud_ipxe_deploy}} {% endif %},ipxe_deploy = {{undercloud_ipxe_deploy}},5,1
openstack%2Fskyline-console~master~If3ceed8d0027f230afd72784c48161048fe61faf,openstack/skyline-console,master,If3ceed8d0027f230afd72784c48161048fe61faf,feature: support search filters and fix image in zun ui,MERGED,2023-01-10 11:11:00.000000000,2023-01-11 02:23:09.000000000,2023-01-11 02:21:26.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2023-01-10 11:11:00.000000000', 'files': ['src/locales/zh.json', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/container-service/containers/Hosts/index.jsx', 'src/locales/en.json', 'src/resources/zun/container.js', 'src/pages/container-service/containers/Services/index.jsx', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/317a81acc44b6e509c5352acb4a4a9b7256d8583', 'message': ""feature: support search filters and fix image in zun ui\n\n1. support search filters to capsules\n2. support search filters to containers\n3. support search filters to hosts\n4. support search filters to services\n5. because the glance image's name can be repeated, change params from name to id if use glance image\n\nChange-Id: If3ceed8d0027f230afd72784c48161048fe61faf\n""}]",0,869680,317a81acc44b6e509c5352acb4a4a9b7256d8583,7,2,1,33689,,,0,"feature: support search filters and fix image in zun ui

1. support search filters to capsules
2. support search filters to containers
3. support search filters to hosts
4. support search filters to services
5. because the glance image's name can be repeated, change params from name to id if use glance image

Change-Id: If3ceed8d0027f230afd72784c48161048fe61faf
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/80/869680/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/zh.json', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/container-service/containers/Hosts/index.jsx', 'src/locales/en.json', 'src/resources/zun/container.js', 'src/pages/container-service/containers/Services/index.jsx', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx']",12,317a81acc44b6e509c5352acb4a4a9b7256d8583,fix-zun-ui,"import { exitPolicies } from 'resources/zun/container'; get exitPoliciesOptions() { return Object.entries(exitPolicies).map(([k, v]) => ({ label: v, value: k, })); } const { context: { exitPolicy, healthcheck } = {} } = this.props; const disableRetry = exitPolicy !== 'on-failure'; options: this.exitPoliciesOptions, this.updateContext({ exitPolicy: value, onChange: (value) => this.updateContext({ }),"," const { disableRetry, healthcheck } = this.state; options: [ { label: t('No'), value: 'no', }, { label: t('On failure'), value: 'on-failure', }, { label: t('Always'), value: 'always', }, { label: t('Unless Stopped'), value: 'unless-stopped', }, ], this.setState({ disableRetry: value !== 'on-failure', onChange: (value) => { this.setState({ }); },",161,78
openstack%2Ftripleo-heat-templates~master~I34ff6101adc3a7674fd554c2a9469422085832c2,openstack/tripleo-heat-templates,master,I34ff6101adc3a7674fd554c2a9469422085832c2,Horizon: Fix wrong tag used in puppet,ABANDONED,2022-05-19 23:18:40.000000000,2023-01-11 02:21:08.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-19 23:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3a2c7c9ea4c92c5e86ca8d7e5cae75979a95ffb', 'message': 'Horizon: Fix wrong tag used in puppet\n\npuppet-horizon does not have the horizon_config resource thus the tag\ncurrently used has no effect. Also, current tag does not trigger some\nexec resources which is required to update cache files.\n\nChange-Id: I34ff6101adc3a7674fd554c2a9469422085832c2\n'}, {'number': 2, 'created': '2022-09-06 04:58:03.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1cd59661fb285971e6a875d62c40bb60943668d', 'message': 'Horizon: Fix wrong tag used in puppet\n\npuppet-horizon does not have the horizon_config resource thus the tag\ncurrently used has no effect. Also, current tag does not trigger some\nexec resources which is required to update cache files.\n\nChange-Id: I34ff6101adc3a7674fd554c2a9469422085832c2\n'}]",0,842644,e1cd59661fb285971e6a875d62c40bb60943668d,10,3,2,9816,,,0,"Horizon: Fix wrong tag used in puppet

puppet-horizon does not have the horizon_config resource thus the tag
currently used has no effect. Also, current tag does not trigger some
exec resources which is required to update cache files.

Change-Id: I34ff6101adc3a7674fd554c2a9469422085832c2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/842644/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,e3a2c7c9ea4c92c5e86ca8d7e5cae75979a95ffb,, puppet_tags: exec, puppet_tags: horizon_config,1,1
openstack%2Ftripleo-heat-templates~master~Ic23c644eb995ef22301c87e4f88e96f451d53ad4,openstack/tripleo-heat-templates,master,Ic23c644eb995ef22301c87e4f88e96f451d53ad4,OVN: Remove unused deployment methods of OVN DB,ABANDONED,2022-09-02 02:19:41.000000000,2023-01-11 02:20:44.000000000,,"[{'_account_id': 5756}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-02 02:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a3e3ac57a8a73e512bbb6bc3ead1bd9714f345b', 'message': 'OVN: Remove standalone OVN DB deployment\n\nNow standalone OVN DB and clustered OVN DB are both covered by\nthe same deployment architecture sung raft[1].\n\n[1] d0d98aa2fef0b24dd2f437b8cfab533214863233\n\nChange-Id: Ic23c644eb995ef22301c87e4f88e96f451d53ad4\n'}, {'number': 2, 'created': '2022-09-02 02:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60ea64eb7b41a8566aa4f58d0d787da4f8ce9d57', 'message': 'OVN: Remove unused deployment methods of OVN DB\n\nNow standalone OVN DB and pacemaker-managed OVN DB were both replaced\nby the same deployment architecture using raft clustering[1].\n\n[1] d0d98aa2fef0b24dd2f437b8cfab533214863233\n\nChange-Id: Ic23c644eb995ef22301c87e4f88e96f451d53ad4\n'}, {'number': 3, 'created': '2022-12-05 02:37:35.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'environments/services/undercloud-neutron-ovn-dhcp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2705f8203e050c62c54a26dd825e00b4b8bd9220', 'message': 'OVN: Remove unused deployment methods of OVN DB\n\nNow standalone OVN DB and pacemaker-managed OVN DB were both replaced\nby the same deployment architecture using raft clustering[1].\n\n[1] d0d98aa2fef0b24dd2f437b8cfab533214863233\n\nChange-Id: Ic23c644eb995ef22301c87e4f88e96f451d53ad4\n'}]",1,855581,2705f8203e050c62c54a26dd825e00b4b8bd9220,14,4,3,9816,,,0,"OVN: Remove unused deployment methods of OVN DB

Now standalone OVN DB and pacemaker-managed OVN DB were both replaced
by the same deployment architecture using raft clustering[1].

[1] d0d98aa2fef0b24dd2f437b8cfab533214863233

Change-Id: Ic23c644eb995ef22301c87e4f88e96f451d53ad4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/855581/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,5a3e3ac57a8a73e512bbb6bc3ead1bd9714f345b,,,"heat_template_version: wallaby description: > OpenStack containerized Ovn DBs service parameters: RootStackName: description: The name of the stack/plan. type: string ContainerOvnNbDbImage: description: image type: string tags: - role_specific ContainerOvnSbDbImage: description: image type: string tags: - role_specific ContainerOvnNorthdImage: description: image type: string tags: - role_specific EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. Use parameter_merge_strategies to merge it with the defaults. type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EnableInternalTLS: type: boolean default: false OVNNorthboundServerPort: description: Port of the OVN Northbound DB server type: number default: 6641 OVNSouthboundServerPort: description: Port of the OVN Southbound DB server type: number default: 6642 OVNDBsVirtualFixedIPs: default: [] description: > Control the IP allocation for the virtual IP used by OVN DBs. E.g. [{'ip_address':'1.2.3.4'}] type: json ServiceVips: default: {} type: json conditions: ovn_dbs_virtual_fixed_ip_set: not: equals: - get_param: OVNDBsVirtualFixedIPs - [] ovn_dbs_service_vip_set: not: equals: - get_param: [ServiceVips, ovn_dbs] - '' resources: ContainersCommon: type: ../containers-common.yaml RoleParametersValue: type: OS::Heat::Value properties: type: json value: map_replace: - map_replace: - ContainerOvnNbDbImage: ContainerOvnNbDbImage ContainerOvnSbDbImage: ContainerOvnSbDbImage ContainerOvnNorthdImage: ContainerOvnNorthdImage - values: {get_param: [RoleParameters]} - values: ContainerOvnNbDbImage: {get_param: ContainerOvnNbDbImage} ContainerOvnSbDbImage: {get_param: ContainerOvnSbDbImage} ContainerOvnNorthdImage: {get_param: ContainerOvnNorthdImage} outputs: role_data: description: Role data for the OVN Dbs role. value: service_name: ovn_dbs firewall_rules: '121 OVN DB server ports': proto: 'tcp' dport: - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort} firewall_frontend_rules: '100 ovn_nbdb_haproxy_frontend': dport: - {get_param: OVNNorthboundServerPort} '100 ovn_sbdb_haproxy_frontend_ssl': dport: - {get_param: OVNSouthboundServerPort} config_settings: ovn::northbound::port: {get_param: OVNNorthboundServerPort} ovn::southbound::port: {get_param: OVNSouthboundServerPort} ovn::northd::dbs_listen_ip: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} service_config_settings: haproxy: tripleo::haproxy::ovn_dbs_manage_lb: true # BEGIN DOCKER SETTINGS # puppet_config is not required for this service since we configure # the NB and SB DB servers to listen on the proper IP address/port # in the docker_config section. # puppet_config is defined to satisfy the pep8 validations. puppet_config: {} kolla_config: /var/lib/kolla/config_files/ovn_north_db_server.json: command: /usr/local/bin/start-nb-db-server permissions: - path: /var/log/openvswitch owner: root:root recurse: true - path: /var/log/ovn owner: root:root recurse: true /var/lib/kolla/config_files/ovn_south_db_server.json: command: /usr/local/bin/start-sb-db-server permissions: - path: /var/log/openvswitch owner: root:root recurse: true - path: /var/log/ovn owner: root:root recurse: true /var/lib/kolla/config_files/ovn_northd.json: command: list_join: - ' ' - - '/usr/bin/ovn-northd -vconsole:emer -vsyslog:err -vfile:info' - '--ovnnb-db=unix:/run/openvswitch/ovnnb_db.sock' - '--ovnsb-db=unix:/run/openvswitch/ovnsb_db.sock' - '--log-file=/var/log/openvswitch/ovn-northd.log' - '--pidfile=/run/openvswitch/ovn-northd.pid' permissions: - path: /var/log/openvswitch owner: root:root recurse: true - path: /var/log/ovn owner: root:root recurse: true docker_config: step_4: ovn_north_db_server: start_order: 0 image: {get_attr: [RoleParametersValue, value, ContainerOvnNbDbImage]} net: host privileged: false restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS ovn_south_db_server: start_order: 0 image: {get_attr: [RoleParametersValue, value, ContainerOvnSbDbImage]} net: host privileged: false restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_south_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS configure_ovn_north_db_server: start_order: 1 action: exec user: root command: list_concat: - ['ovn_north_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - # TODO(tkajinam): Replace the hiera CLI - 'DBS_LISTEN_IP=`hiera $OVN_DB_NETWORK -c /etc/puppet/hiera.yaml`;' - '/usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$NB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$NB_DB_PORT:$DBS_LISTEN_IP' environment: OVN_DB_NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} NB_DB_PORT: {get_param: OVNNorthboundServerPort} configure_ovn_south_db_server: start_order: 1 action: exec user: root command: list_concat: - ['ovn_south_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - # TODO(tkajinam): Replace the hiera CLI - 'DBS_LISTEN_IP=`hiera $OVN_DB_NETWORK -c /etc/puppet/hiera.yaml`;' - '/usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$SB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$SB_DB_PORT:$DBS_LISTEN_IP' environment: OVN_DB_NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} SB_DB_PORT: {get_param: OVNSouthboundServerPort} ovn_northd: start_order: 2 image: {get_attr: [RoleParametersValue, value, ContainerOvnNorthdImage]} net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_northd.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS host_prep_tasks: - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" with_items: - { 'path': /var/log/containers/openvswitch, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/openvswitch/ovn, 'setype': container_file_t } external_deploy_tasks: - when: - step|int == 0 name: ovn_external_deploy_init block: - name: create ovn_dbs virtual ip tripleo_service_vip: playbook_dir: ""{{ playbook_dir }}"" stack_name: {get_param: RootStackName} service_name: ovn_dbs network: {get_param: [ServiceNetMap, OvnDbsNetwork]} fixed_ips: if: - ovn_dbs_virtual_fixed_ip_set - {get_param: OVNDBsVirtualFixedIPs} - if: - ovn_dbs_service_vip_set - [{ip_address: {get_param: [ServiceVips, ovn_dbs]}}] - [{subnet: {get_param: [ServiceData, vip_subnet_map, ovn_dbs]}}] upgrade_tasks: [] ",0,304
openstack%2Fpuppet-tripleo~master~I6b384111b43aac143f8111e28c838c00b297f449,openstack/puppet-tripleo,master,I6b384111b43aac143f8111e28c838c00b297f449,Remove manifests for snmpd service,ABANDONED,2022-11-21 09:13:38.000000000,2023-01-11 02:20:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 09:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ea61332e79696a6b1a3d4b41b00fe6801742d9a', 'message': 'Remove manifests for snmpd service\n\n... because it is no longer supported by tht.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/865112\nChange-Id: I6b384111b43aac143f8111e28c838c00b297f449\n'}, {'number': 2, 'created': '2022-11-25 06:02:58.000000000', 'files': ['Puppetfile_extras', 'spec/classes/tripleo_profile_base_snmp_spec.rb', 'manifests/profile/base/snmp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/273187984716e3585eecf81b549547ea37e7e1f5', 'message': 'Remove manifests for snmpd service\n\n... because it is no longer supported by tht.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/865112\nChange-Id: I6b384111b43aac143f8111e28c838c00b297f449\n'}]",1,865113,273187984716e3585eecf81b549547ea37e7e1f5,9,3,2,9816,,,0,"Remove manifests for snmpd service

... because it is no longer supported by tht.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/865112
Change-Id: I6b384111b43aac143f8111e28c838c00b297f449
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/13/865113/2 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile_extras', 'spec/classes/tripleo_profile_base_snmp_spec.rb', 'manifests/profile/base/snmp.pp']",3,8ea61332e79696a6b1a3d4b41b00fe6801742d9a,tripleo_snmpd,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::snmp # # SNMP profile for tripleo # # === Parameters # # [*snmpd_config*] # An array of snmp config. # Example: # snmpd_config: # - 'createUser ro_snmp_user MD5 ""secrete""', # - 'rouser ro_snmp_user' # - 'proc neutron-server' # - 'proc nova-api' # Note: since we give total freedom to configure snmpd_config and don't # verify the content, the user will have to ensure that the parameters # related to user / password in the array, are the same given to # THT via SnmpdReadonlyUserName and SnmpdReadonlyUserPassword. # Defaults to undef. # # [*snmpd_auth_type*] # The SNMP auth type # Defaults to lookup('snmpd_readonly_user_authtype', undef, undef, 'MD5') # # [*snmpd_password*] # The SNMP password # Defaults to lookup('snmpd_readonly_user_password') # # [*snmpd_user*] # The SNMP username # Defaults to lookup('snmpd_readonly_user_name') # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to Integer(lookup('step')) # class tripleo::profile::base::snmp ( $snmpd_config = undef, $snmpd_auth_type = lookup('snmpd_readonly_user_authtype', undef, undef, 'MD5'), $snmpd_password = lookup('snmpd_readonly_user_password'), $snmpd_user = lookup('snmpd_readonly_user_name'), $step = Integer(lookup('step')), ) { if $step >= 4 { snmp::snmpv3_user { $snmpd_user: authtype => $snmpd_auth_type, authpass => $snmpd_password, } if $snmpd_config { validate_legacy(Array, 'validate_array', $snmpd_config) class { 'snmp': snmpd_config => $snmpd_config, } } else { class { 'snmp': snmpd_config => [ join(['createUser ', $snmpd_user, ' ', $snmpd_auth_type, ' ""', $snmpd_password, '""']), join(['rouser ', $snmpd_user]), 'proc cron', 'includeAllDisks 10%', 'master agentx', 'iquerySecName internalUser', 'rouser internalUser', 'defaultMonitors yes', 'linkUpDownNotifications yes' ], } } } } ",0,195
openstack%2Ftripleo-heat-templates~master~Iebe004469d5a00e79219206fd53e574222d442ea,openstack/tripleo-heat-templates,master,Iebe004469d5a00e79219206fd53e574222d442ea,Remove support for snmpd service,ABANDONED,2022-11-21 09:11:44.000000000,2023-01-11 02:20:17.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-21 09:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc11ffc1f37e3a7647c7a44e7a867a2a094c4597', 'message': 'Remove support for snmpd service\n\nSupport for the snmpd service was deprecated before Zed release[1],\nthus can be completely removed now.\n\n[1] 31e96b9ce338f15101515d9e6440cfe3a46f3190\n\nChange-Id: Iebe004469d5a00e79219206fd53e574222d442ea\n'}, {'number': 2, 'created': '2022-11-25 01:32:59.000000000', 'files': ['roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'deployment/snmp/snmpd-disabled-puppet.yaml', 'releasenotes/notes/remove-snmp-c4073555bd42e01b.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/fips.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/NovaManager.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'roles/CephFile.yaml', 'roles/README.rst', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeVdpa.yaml', 'ci/environments/multinode-containers.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/DesignateBind.yaml', 'roles_data_standalone.yaml', 'roles/Undercloud.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/NetworkerSriov.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Minimal.yaml', 'roles/Telemetry.yaml', 'deployment/deprecated/snmp/snmp-baremetal-puppet.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'ci/custom_ci_roles_data.yaml', 'roles/ControllerSriov.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aea74a662ba5f1c2cf3e28d97591f7ba2ac5b4ed', 'message': 'Remove support for snmpd service\n\nSupport for the snmpd service was deprecated before Zed release[1],\nthus can be completely removed now.\n\n[1] 31e96b9ce338f15101515d9e6440cfe3a46f3190\n\nChange-Id: Iebe004469d5a00e79219206fd53e574222d442ea\n'}]",2,865112,aea74a662ba5f1c2cf3e28d97591f7ba2ac5b4ed,12,4,2,9816,,,0,"Remove support for snmpd service

Support for the snmpd service was deprecated before Zed release[1],
thus can be completely removed now.

[1] 31e96b9ce338f15101515d9e6440cfe3a46f3190

Change-Id: Iebe004469d5a00e79219206fd53e574222d442ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/865112/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'deployment/snmp/snmpd-disabled-puppet.yaml', 'releasenotes/notes/remove-snmp-c4073555bd42e01b.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/fips.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/NovaManager.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'roles/CephFile.yaml', 'roles/README.rst', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeVdpa.yaml', 'ci/environments/multinode-containers.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/DesignateBind.yaml', 'roles_data_standalone.yaml', 'roles/Undercloud.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/NetworkerSriov.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Minimal.yaml', 'roles/Telemetry.yaml', 'deployment/deprecated/snmp/snmp-baremetal-puppet.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'ci/custom_ci_roles_data.yaml', 'roles/ControllerSriov.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml']",66,cc11ffc1f37e3a7647c7a44e7a867a2a094c4597,tripleo_snmpd,, - OS::TripleO::Services::Snmp,6,268
openstack%2Ftripleo-puppet-elements~master~I7c94ecae908fc095fc3ef7e2b5a9ccbf30abf3e9,openstack/tripleo-puppet-elements,master,I7c94ecae908fc095fc3ef7e2b5a9ccbf30abf3e9,Drop puppet-snmp module,ABANDONED,2022-11-21 09:15:07.000000000,2023-01-11 02:20:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 09:15:07.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/ca45e05292d0af15a05e1b6adf425cc553400e7a', 'message': 'Drop puppet-snmp module\n\n... because snmpd service is no longer supported.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/865112\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/865113\nChange-Id: I7c94ecae908fc095fc3ef7e2b5a9ccbf30abf3e9\n'}]",0,865114,ca45e05292d0af15a05e1b6adf425cc553400e7a,4,2,1,9816,,,0,"Drop puppet-snmp module

... because snmpd service is no longer supported.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/865112
Depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/865113
Change-Id: I7c94ecae908fc095fc3ef7e2b5a9ccbf30abf3e9
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/14/865114/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,ca45e05292d0af15a05e1b6adf425cc553400e7a,tripleo_snmpd,,puppet-snmp git /opt/stack/puppet-modules/snmp https://github.com/razorsedge/puppet-snmp.git,0,2
openstack%2Ftripleo-heat-templates~master~Ied8561595fe340b77dd2d0c294930f98c728ae7c,openstack/tripleo-heat-templates,master,Ied8561595fe340b77dd2d0c294930f98c728ae7c,Ironic: Remove unused step_config from base class,ABANDONED,2022-09-12 01:02:57.000000000,2023-01-11 02:19:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-12 01:02:57.000000000', 'files': ['deployment/ironic/ironic-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c22cd46d7e4c6f476b58c846cb107e79ec399db5', 'message': 'Ironic: Remove unused step_config from base class\n\nThe step_config property of the ironic base class is not used. The base\npuppet class is now included by the individual service classes.\n\nChange-Id: Ied8561595fe340b77dd2d0c294930f98c728ae7c\n'}]",0,856974,c22cd46d7e4c6f476b58c846cb107e79ec399db5,4,2,1,9816,,,0,"Ironic: Remove unused step_config from base class

The step_config property of the ironic base class is not used. The base
puppet class is now included by the individual service classes.

Change-Id: Ied8561595fe340b77dd2d0c294930f98c728ae7c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/856974/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-base-puppet.yaml'],1,c22cd46d7e4c6f476b58c846cb107e79ec399db5,,, step_config: | include tripleo::profile::base::ironic,0,2
openstack%2Fpuppet-tripleo~master~I8dc4105bc0f70f0ef386fc839b8cd5f659b5c9fc,openstack/puppet-tripleo,master,I8dc4105bc0f70f0ef386fc839b8cd5f659b5c9fc,Redis: Migrate environment/volumes definition,ABANDONED,2022-08-30 03:40:36.000000000,2023-01-11 02:19:26.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-08-30 03:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7185a654ea792467b5de7425d57b74b83601ecba', 'message': 'Redis: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nredis pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/855113\nChange-Id: I8dc4105bc0f70f0ef386fc839b8cd5f659b5c9fc\n'}, {'number': 2, 'created': '2022-08-30 10:13:34.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/55c6949b8c320a17e3a2c53ac703c7b6f633d28f', 'message': 'Redis: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nredis pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/855113\nChange-Id: I8dc4105bc0f70f0ef386fc839b8cd5f659b5c9fc\n'}]",0,855114,55c6949b8c320a17e3a2c53ac703c7b6f633d28f,9,6,2,9816,,,0,"Redis: Migrate environment/volumes definition

This change effectively migrates environment and volumes used by
redis pacemaker resource from puppet-tripleo to tht, so that we can
reduce amount of logics we implement in puppet layer.

Depends-on: https://review.opendev.org/855113
Change-Id: I8dc4105bc0f70f0ef386fc839b8cd5f659b5c9fc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/855114/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/redis_bundle.pp'],1,7185a654ea792467b5de7425d57b74b83601ecba,pcmk-defs,"# [*docker_volumes*] # (Optional) The list of volumes to be mounted in the docker container # Defaults to [] # # [*docker_environment*] # (Optional) List or Hash of environment variables set in the docker container # Defaults to {'KOLLA_CONFIG_STRATEGY' => 'COPY_ALWAYS'} # $docker_volumes = [], $docker_environment = {'KOLLA_CONFIG_STRATEGY' => 'COPY_ALWAYS'}, $docker_vol_arr = delete(any2array($docker_volumes), '').flatten() $storage_maps = docker_volumes_to_storage_maps($docker_vol_arr, 'rabbitmq') $docker_env = join($docker_environment.map |$index, $value| { ""-e ${index}=${value}"" }, ' ') options => ""--user=${bundle_user} --log-driver=${log_driver}${log_file_real} ${docker_env}${tls_priorities_real}"", storage_maps => $storage_maps,"," $storage_maps = { 'redis-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/redis.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'options' => 'ro', }, 'redis-cfg-data-redis' => { 'source-dir' => '/var/lib/config-data/puppet-generated/redis/', 'target-dir' => '/var/lib/kolla/config_files/src', 'options' => 'ro', }, 'redis-hosts' => { 'source-dir' => '/etc/hosts', 'target-dir' => '/etc/hosts', 'options' => 'ro', }, 'redis-localtime' => { 'source-dir' => '/etc/localtime', 'target-dir' => '/etc/localtime', 'options' => 'ro', }, 'redis-lib' => { 'source-dir' => '/var/lib/redis', 'target-dir' => '/var/lib/redis', 'options' => 'rw,z', }, 'redis-log' => { 'source-dir' => '/var/log/containers/redis', 'target-dir' => '/var/log/redis', 'options' => 'rw,z', }, 'redis-run' => { 'source-dir' => '/var/run/redis', 'target-dir' => '/var/run/redis', 'options' => 'rw,z', }, # TODO check whether those tls mappings are necessary 'redis-pki-extracted' => { 'source-dir' => '/etc/pki/ca-trust/extracted', 'target-dir' => '/etc/pki/ca-trust/extracted', 'options' => 'ro', }, 'redis-pki-ca-bundle-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'options' => 'ro', }, 'redis-pki-ca-bundle-trust-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'options' => 'ro', }, 'redis-pki-cert' => { 'source-dir' => '/etc/pki/tls/cert.pem', 'target-dir' => '/etc/pki/tls/cert.pem', 'options' => 'ro', }, 'redis-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', }, } if $enable_internal_tls { $redis_storage_maps_tls = { 'redis-pki-gcomm-key' => { 'source-dir' => '/etc/pki/tls/private/redis.key', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/redis.key', 'options' => 'ro', }, 'redis-pki-gcomm-cert' => { 'source-dir' => '/etc/pki/tls/certs/redis.crt', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt', 'options' => 'ro', }, } $storage_maps_tls = $redis_storage_maps_tls } else { $storage_maps_tls = {} } options => ""--user=${bundle_user} --log-driver=${log_driver}${log_file_real} -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS${tls_priorities_real}"", storage_maps => merge($storage_maps, $storage_maps_tls),",15,82
openstack%2Fpuppet-tripleo~master~Ia01501fd5746ab7347b6b715ef1bc124a185895e,openstack/puppet-tripleo,master,Ia01501fd5746ab7347b6b715ef1bc124a185895e,Refactor mysql bundle manifest,ABANDONED,2022-08-30 01:21:43.000000000,2023-01-11 02:19:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-30 01:21:43.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f95bdf8d33ada65c8e29f368a4a963f0fd497ea4', 'message': 'Refactor mysql bundle manifest\n\nThis is an attempt to try making the manifest more clean and readable.\nThe core idea is to reduce number of if-else block and re-implement\nthe logic by selector or deleted_undef_values.\n\nChange-Id: Ia01501fd5746ab7347b6b715ef1bc124a185895e\n'}]",1,855103,f95bdf8d33ada65c8e29f368a4a963f0fd497ea4,5,2,1,9816,,,0,"Refactor mysql bundle manifest

This is an attempt to try making the manifest more clean and readable.
The core idea is to reduce number of if-else block and re-implement
the logic by selector or deleted_undef_values.

Change-Id: Ia01501fd5746ab7347b6b715ef1bc124a185895e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/855103/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,f95bdf8d33ada65c8e29f368a4a963f0fd497ea4,," gcache_options = join(join_keys_to_values(delete_undef_values({ 'gcache.size' => $gcache_size, 'gcache_recover' => $gcache_recover ? { false => 'no', default => 'yes' } }, '='), ';') $wsrep_sst_method = $enable_internal_tls ? { true => 'rsync_tunnel', default => 'rsync' if $enable_internal_tls { $sst_tls_prefix = $sst_method ? { 'mariabackup' => 'ssl-', default => 't' } $sst_tls = { ""${sst_tls_prefix}cert"" => $tls_certfile, ""${sst_tls_prefix}key"" => $tls_keyfile, } $sst_tca = delete_undef_values({ ""${sst_tls_prefix}ca"" => $ca_file }) $tls_options = join(join_keys_to_values(delete_undef_values({ 'socket.ssl_key' => $tls_keyfile, 'socket.ssl_cert' => $tls_certfile, 'socket.ssl_cipher' => $gcomm_cipher, 'socket.ssl_ca' => $ca_file, }, '='), ';') $sst_encrypt = $sst_method ? { 'mariabackup' => { 'encrypt' => 3 }, default => {}, } $sst_ipv6 = $ipv6 ? { true => 'pf=ip6', default => undef } if $sst_method == 'mariabackup' and $ipv6 { $mysqld_options_sst = { 'sst' => { 'sockopt' => 'pf=ip6' } } $gmcast_listen_addr_real = $ipv6 ? { true => '[::]', default => $gmcast_listen_addr } $wsrep_provider_options = ""${gcache_options};gmcast.listen_addr=tcp://${gmcast_listen_addr_real}:4567;${tls_options}"""," if $gcache_size { $gcache_size_opt = ""gcache.size=${gcache_size};"" } else { $gcache_size_opt = '' } $gcache_recover_opt = ""gcache.recover=${$gcache_recover ? { false => 'no', default => 'yes' }};"" $gcache_options = ""${gcache_size_opt}${gcache_recover_opt}"" if $enable_internal_tls { $wsrep_sst_method = 'rsync_tunnel' } else { $wsrep_sst_method = 'rsync' if $enable_internal_tls { if $sst_method == 'mariabackup' { $tcert = 'ssl-cert' $tkey = 'ssl-key' $tca = 'ssl-ca' } else { $tcert = 'tcert' $tkey = 'tkey' $tca = 'tca' } $sst_tls = { $tcert => $tls_certfile, $tkey => $tls_keyfile, } if $ca_file { $tls_ca_options = ""socket.ssl_ca=${ca_file}"" $sst_tca = { $tca => $ca_file } } else { $tls_ca_options = '' $sst_tca = {} } $tls_options = ""socket.ssl_key=${tls_keyfile};socket.ssl_cert=${tls_certfile};socket.ssl_cipher=${gcomm_cipher};${tls_ca_options};"" if $sst_method == 'mariabackup' { $sst_encrypt = { 'encrypt' => 3 } } else { $sst_encrypt = {} } if $ipv6 { $sst_ipv6 = 'pf=ip6' } else { $sst_ipv6 = undef } if $sst_method == 'mariabackup' { if $ipv6 { $mysqld_options_sst = { 'sst' => { 'sockopt' => 'pf=ip6' } } } else { $mysqld_options_sst = {} } if $ipv6 { $wsrep_provider_options = ""${gcache_options}gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""${gcache_options}gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}"" }",35,50
openstack%2Ftripleo-heat-templates~master~I368ceb661b506aeb684cd1a2a5a1144d726056df,openstack/tripleo-heat-templates,master,I368ceb661b506aeb684cd1a2a5a1144d726056df,Remove unused ManagedEndpoints from stack outputs,ABANDONED,2022-09-29 00:50:36.000000000,2023-01-11 02:18:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-29 00:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5c3146b54b538d806c53cb32dfe2516f8e0936e', 'message': 'Remove unused ManagedEndpoints from stack outputs\n\nThis was initially introduced to migrate keystone endpoint management\nfrom client to puppet[1], but has been unused since the old\nimplementation was removed from tripleoclient.\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/353316\n\nChange-Id: I368ceb661b506aeb684cd1a2a5a1144d726056df\n'}, {'number': 2, 'created': '2022-09-29 00:51:33.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4989889e5328a6b81c18107a756efb06f01119c2', 'message': 'Remove unused ManagedEndpoints from stack outputs\n\nThis was initially introduced to migrate keystone endpoint management\nfrom client to puppet[1], but has been unused since the old\nimplementation was removed from tripleoclient[2].\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/353316\n[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/450465\n\nChange-Id: I368ceb661b506aeb684cd1a2a5a1144d726056df\n'}]",0,859740,4989889e5328a6b81c18107a756efb06f01119c2,5,2,2,9816,,,0,"Remove unused ManagedEndpoints from stack outputs

This was initially introduced to migrate keystone endpoint management
from client to puppet[1], but has been unused since the old
implementation was removed from tripleoclient[2].

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/353316
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/450465

Change-Id: I368ceb661b506aeb684cd1a2a5a1144d726056df
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/859740/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,d5c3146b54b538d806c53cb32dfe2516f8e0936e,,, ManagedEndpoints: description: Asserts that the keystone endpoints have been provisioned. value: true,0,3
openstack%2Ftripleo-heat-templates~master~I64156f13e5b073417286672414a8099f7a401740,openstack/tripleo-heat-templates,master,I64156f13e5b073417286672414a8099f7a401740,Remove redundant check of undercloud Keystone,ABANDONED,2022-07-05 12:23:28.000000000,2023-01-11 02:18:01.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 12:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d111c0b0623519fac67a22a933fb23beb0a3212', 'message': 'Remove redundant check of undercloud Keystone\n\n... because Keystone has been removed from Undercloud.\n\nChange-Id: I64156f13e5b073417286672414a8099f7a401740\n'}, {'number': 2, 'created': '2022-07-05 15:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f111cfe4f167e939b89dcc4f696cc37ba81b435c', 'message': 'Remove redundant check of undercloud Keystone\n\n... because Keystone has been removed from Undercloud.\n\nChange-Id: I64156f13e5b073417286672414a8099f7a401740\n'}, {'number': 3, 'created': '2022-07-05 15:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0071c40da5f51287426f4f7e53c42e89f1f37794', 'message': 'Remove redundant check of undercloud Keystone\n\n... because Keystone has been removed from Undercloud.\n\nChange-Id: I64156f13e5b073417286672414a8099f7a401740\n'}, {'number': 4, 'created': '2022-07-07 04:25:56.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4b5a910a36cb3e3ea6cb751fb60fd0fe0bc7205', 'message': 'Remove redundant check of undercloud Keystone\n\n... because Keystone has been removed from Undercloud.\n\nChange-Id: I64156f13e5b073417286672414a8099f7a401740\n'}]",1,848740,e4b5a910a36cb3e3ea6cb751fb60fd0fe0bc7205,12,3,4,9816,,,0,"Remove redundant check of undercloud Keystone

... because Keystone has been removed from Undercloud.

Change-Id: I64156f13e5b073417286672414a8099f7a401740
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/848740/3 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_post.py'],1,0d111c0b0623519fac67a22a933fb23beb0a3212,uc-key-rsc-cleanup,,"import subprocessdef _run_command(args, env=None, name=None): """"""Run the command defined by args and return its output :param args: List of arguments for the command to be run. :param env: Dict defining the environment variables. Pass None to use the current environment. :param name: User-friendly name for the command being run. A value of None will cause args[0] to be used. """""" if name is None: name = args[0] if env is None: env = os.environ env = env.copy() # When running a localized python script, we need to tell it that we're # using utf-8 for stdout, otherwise it can't tell because of the pipe. env['PYTHONIOENCODING'] = 'utf8' try: return subprocess.check_output(args, stderr=subprocess.STDOUT, env=env).decode('utf-8') except subprocess.CalledProcessError as ex: print('ERROR: %s failed: %s' % (name, ex.output)) raise keystone_enabled = 'true' in _run_command( ['hiera', 'keystone_enabled']).lower() if not keystone_enabled: create_update_clouds_yaml()",0,36
openstack%2Ftripleo-heat-templates~master~Iddba5c7d15b0a9c3773c4349766dc607fda8218e,openstack/tripleo-heat-templates,master,Iddba5c7d15b0a9c3773c4349766dc607fda8218e,Octavia: remove unused mocking of nova_flavor,ABANDONED,2022-06-10 07:52:52.000000000,2023-01-11 02:13:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-10 07:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/080d9599bfb452889e2d9bcbd0496234038c4acf', 'message': 'Octavia: remove unused mocking of nova_flavor\n\nThe nova_flavor resource type in puppet is no longer enabled since\n9d4d7f9a63f39feffa0d13297c4dd8d3316935e2 was merged.\n\nChange-Id: Iddba5c7d15b0a9c3773c4349766dc607fda8218e\n'}, {'number': 2, 'created': '2022-09-12 00:52:53.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b07d1b5e706d7be81d0a098cda28dba8a1de1dfb', 'message': 'Octavia: remove unused mocking of nova_flavor\n\nThe nova_flavor resource type in puppet is no longer enabled since\n9d4d7f9a63f39feffa0d13297c4dd8d3316935e2 was merged.\n\nChange-Id: Iddba5c7d15b0a9c3773c4349766dc607fda8218e\n'}]",0,845332,b07d1b5e706d7be81d0a098cda28dba8a1de1dfb,7,2,2,9816,,,0,"Octavia: remove unused mocking of nova_flavor

The nova_flavor resource type in puppet is no longer enabled since
9d4d7f9a63f39feffa0d13297c4dd8d3316935e2 was merged.

Change-Id: Iddba5c7d15b0a9c3773c4349766dc607fda8218e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/845332/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,080d9599bfb452889e2d9bcbd0496234038c4acf,," - - ""include tripleo::profile::base::octavia::worker"""," - - ""['nova_flavor'].each |String $val| { noop_resource($val) }"" - ""include tripleo::profile::base::octavia::worker""",1,2
openstack%2Fpython-tripleoclient~master~Ie813c1b0375931fdce9b6ce75c1c1302ecf76b4a,openstack/python-tripleoclient,master,Ie813c1b0375931fdce9b6ce75c1c1302ecf76b4a,Use PASSWORDS_ENV_FORMAT from tripleo-common,ABANDONED,2022-09-21 09:20:31.000000000,2023-01-11 02:13:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-21 09:20:31.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fcf12b6bbcd35a7d2d85d9c7faf5e1a3a88d951f', 'message': 'Use PASSWORDS_ENV_FORMAT from tripleo-common\n\ninstead of defining it in both python-tripeloclient and tripleo-common.\nThe constant is used by tripleo-ansible so it should be defined in\nthe common library.\n\nChange-Id: Ie813c1b0375931fdce9b6ce75c1c1302ecf76b4a\n'}]",0,858647,fcf12b6bbcd35a7d2d85d9c7faf5e1a3a88d951f,4,2,1,9816,,,0,"Use PASSWORDS_ENV_FORMAT from tripleo-common

instead of defining it in both python-tripeloclient and tripleo-common.
The constant is used by tripleo-ansible so it should be defined in
the common library.

Change-Id: Ie813c1b0375931fdce9b6ce75c1c1302ecf76b4a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/858647/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py']",3,fcf12b6bbcd35a7d2d85d9c7faf5e1a3a88d951f,,from tripleo_common import constants as tc_constants tc_constants.PASSWORDS_ENV_FORMAT.format(args.stack)), constants.PASSWORDS_ENV_FORMAT.format(args.stack)),4,3
openstack%2Fpuppet-tripleo~master~Ia442ed73b62622d57974a96a700346092ab7a7da,openstack/puppet-tripleo,master,Ia442ed73b62622d57974a96a700346092ab7a7da,Heat: Support customizing [clients_<service>] options,ABANDONED,2022-11-25 08:56:08.000000000,2023-01-11 02:12:49.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 08:56:08.000000000', 'files': ['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/860166d172039b57758589f26553ea90a43c0523', 'message': 'Heat: Support customizing [clients_<service>] options\n\nThis change adds a few puppet-heat classes so that users can manage\nthe [clients_<service>] options using the native puppet parameters.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-heat/+/836233\nChange-Id: Ia442ed73b62622d57974a96a700346092ab7a7da\n'}]",0,865628,860166d172039b57758589f26553ea90a43c0523,5,3,1,9816,,,0,"Heat: Support customizing [clients_<service>] options

This change adds a few puppet-heat classes so that users can manage
the [clients_<service>] options using the native puppet parameters.

Depends-on: https://review.opendev.org/c/openstack/puppet-heat/+/836233
Change-Id: Ia442ed73b62622d57974a96a700346092ab7a7da
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/865628/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb']",2,860166d172039b57758589f26553ea90a43c0523,, is_expected.to_not contain_class('heat::clients::aodh') is_expected.to_not contain_class('heat::clients::barbican') is_expected.to_not contain_class('heat::clients::cinder') is_expected.to_not contain_class('heat::clients::designate') is_expected.to_not contain_class('heat::clients::glance') is_expected.to_not contain_class('heat::clients::heat') is_expected.to_not contain_class('heat::clients::keystone') is_expected.to_not contain_class('heat::clients::manila') is_expected.to_not contain_class('heat::clients::neutron') is_expected.to_not contain_class('heat::clients::nova') is_expected.to_not contain_class('heat::clients::octavia') is_expected.to_not contain_class('heat::clients::swift') is_expected.to contain_class('heat::clients::aodh') is_expected.to contain_class('heat::clients::barbican') is_expected.to contain_class('heat::clients::cinder') is_expected.to contain_class('heat::clients::designate') is_expected.to contain_class('heat::clients::glance') is_expected.to contain_class('heat::clients::heat') is_expected.to contain_class('heat::clients::keystone') is_expected.to contain_class('heat::clients::manila') is_expected.to contain_class('heat::clients::neutron') is_expected.to contain_class('heat::clients::nova') is_expected.to contain_class('heat::clients::octavia') is_expected.to contain_class('heat::clients::swift') is_expected.to contain_class('heat::clients::aodh') is_expected.to contain_class('heat::clients::barbican') is_expected.to contain_class('heat::clients::cinder') is_expected.to contain_class('heat::clients::designate') is_expected.to contain_class('heat::clients::glance') is_expected.to contain_class('heat::clients::heat') is_expected.to contain_class('heat::clients::keystone') is_expected.to contain_class('heat::clients::manila') is_expected.to contain_class('heat::clients::neutron') is_expected.to contain_class('heat::clients::nova') is_expected.to contain_class('heat::clients::octavia') is_expected.to contain_class('heat::clients::swift') is_expected.to contain_class('heat::clients::aodh') is_expected.to contain_class('heat::clients::barbican') is_expected.to contain_class('heat::clients::cinder') is_expected.to contain_class('heat::clients::designate') is_expected.to contain_class('heat::clients::glance') is_expected.to contain_class('heat::clients::heat') is_expected.to contain_class('heat::clients::keystone') is_expected.to contain_class('heat::clients::manila') is_expected.to contain_class('heat::clients::neutron') is_expected.to contain_class('heat::clients::nova') is_expected.to contain_class('heat::clients::octavia') is_expected.to contain_class('heat::clients::swift'),,60,0
openstack%2Ftripleo-heat-templates~master~I6ec9232e0cd783e411427892fa01280f983a4ae9,openstack/tripleo-heat-templates,master,I6ec9232e0cd783e411427892fa01280f983a4ae9,Deploy glance-api-internal services in GlanceApiInternal network,ABANDONED,2022-12-02 02:03:03.000000000,2023-01-11 02:12:32.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-02 02:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cdbc5a8281e5eb3ae209cf1ac73b7f01cfe70bb', 'message': 'Deploy glance-api-internal services in GlanceApiInternal network\n\n... to follow the definition of ServiceNetMap.\n\nChange-Id: I6ec9232e0cd783e411427892fa01280f983a4ae9\n'}, {'number': 2, 'created': '2022-12-02 02:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64458c3f69322cfd770a5711c2f425ae78bb7627', 'message': 'Deploy glance-api-internal services in GlanceApiInternal network\n\nGlanceApiInternal should control the network where glance-api-internal\nservice is deployed. This ensures the definition is honored instead of\nusing GlanceApiNetwork.\n\nChange-Id: I6ec9232e0cd783e411427892fa01280f983a4ae9\n'}, {'number': 3, 'created': '2022-12-02 02:09:39.000000000', 'files': ['deployment/glance/glance-api-internal-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6480d87d50b099ff1318713ca8bd17c25bafc9cd', 'message': 'Deploy glance-api-internal services in GlanceApiInternal network\n\nGlanceApiInternal should control the network where glance-api-internal\nservice is deployed. This ensures the definition is honored instead of\nusing GlanceApiNetwork.\n\nDepends-on: https://review.opendev.org/866416\nChange-Id: I6ec9232e0cd783e411427892fa01280f983a4ae9\n'}]",0,866415,6480d87d50b099ff1318713ca8bd17c25bafc9cd,7,3,3,9816,,,0,"Deploy glance-api-internal services in GlanceApiInternal network

GlanceApiInternal should control the network where glance-api-internal
service is deployed. This ensures the definition is honored instead of
using GlanceApiNetwork.

Depends-on: https://review.opendev.org/866416
Change-Id: I6ec9232e0cd783e411427892fa01280f983a4ae9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/866415/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-internal-container-puppet.yaml'],1,1cdbc5a8281e5eb3ae209cf1ac73b7f01cfe70bb,glance-api-internal," bind_host => HOST, tls_proxy_fqdn => FQDN, HOST: if: - {get_param: EnableInternalTLS} - ""%{lookup('localhost_address')}"" - str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, GlanceApiInternalNetwork]} FQDN: str_replace: template: ""%{lookup('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, GlanceApiInternalNetwork]}",,17,0
openstack%2Ftripleo-common~master~If244f26f431a9387a8797a0a93470b285bb8bc2b,openstack/tripleo-common,master,If244f26f431a9387a8797a0a93470b285bb8bc2b,Remove leftovers of Python 2 support,ABANDONED,2022-06-23 12:27:15.000000000,2023-01-11 02:12:14.000000000,,"[{'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 12:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e19696206be4c9e6eaaa9ba336f296e22dc8f15b', 'message': 'Remove leftovers of Python 2 support\n\n... because Python 2 is no longer supported.\n\nChange-Id: If244f26f431a9387a8797a0a93470b285bb8bc2b\n'}, {'number': 2, 'created': '2022-09-06 05:03:51.000000000', 'files': ['tripleo_common/utils/overcloudrc.py', 'bindep.txt', 'container-images/kolla/base/set_configs.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9ce8cc45cbf234ba3d7290677de052f3476bc79e', 'message': 'Remove leftovers of Python 2 support\n\n... because Python 2 is no longer supported.\n\nChange-Id: If244f26f431a9387a8797a0a93470b285bb8bc2b\n'}]",1,847338,9ce8cc45cbf234ba3d7290677de052f3476bc79e,11,4,2,9816,,,0,"Remove leftovers of Python 2 support

... because Python 2 is no longer supported.

Change-Id: If244f26f431a9387a8797a0a93470b285bb8bc2b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/847338/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/overcloudrc.py', 'bindep.txt', 'container-images/kolla/base/set_configs.py']",3,e19696206be4c9e6eaaa9ba336f296e22dc8f15b,, # NOTE(Jeffrey4l): py3 need '0oXXX' format for octal literals.," # NOTE(Jeffrey4l): py3 need '0oXXX' format for octal literals, # and py2 support such format too.",4,13
openstack%2Ftripleo-common~master~I3cb54da0630eb454b55581f04d37eebfb35325a2,openstack/tripleo-common,master,I3cb54da0630eb454b55581f04d37eebfb35325a2,"Revert ""Change how we test for call""",ABANDONED,2022-06-23 12:27:15.000000000,2023-01-11 02:12:09.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 12:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d84377e5706ffa2c5e5016a08a15229e7fb6c760', 'message': 'Revert ""Change how we test for call""\n\nThis reverts commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6.\n\nReason to revert:\nThis library no longer supports Python 2.\n\nConflicts:\n\ttripleo_common/tests/image/test_image_uploader.py\n\nChange-Id: I3cb54da0630eb454b55581f04d37eebfb35325a2\nRelated-Bug: #1867648\n'}, {'number': 2, 'created': '2022-09-06 05:03:45.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ac97419263d6fd96bc301f01e3d0c7e224fbfe8e', 'message': 'Revert ""Change how we test for call""\n\nThis reverts commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6.\n\nReason to revert:\nThis library no longer supports Python 2.\n\nConflicts:\n\ttripleo_common/tests/image/test_image_uploader.py\n\nChange-Id: I3cb54da0630eb454b55581f04d37eebfb35325a2\nRelated-Bug: #1867648\n'}]",0,847337,ac97419263d6fd96bc301f01e3d0c7e224fbfe8e,10,3,2,9816,,,0,"Revert ""Change how we test for call""

This reverts commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6.

Reason to revert:
This library no longer supports Python 2.

Conflicts:
	tripleo_common/tests/image/test_image_uploader.py

Change-Id: I3cb54da0630eb454b55581f04d37eebfb35325a2
Related-Bug: #1867648
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/847337/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/image/test_image_uploader.py'],1,d84377e5706ffa2c5e5016a08a15229e7fb6c760,," expected_manifest_str = json.dumps({ }, indent=3) data=expected_manifest_str.encode('utf-8'), expected_manifest_str = json.dumps({ }, indent=3) expected_manifest_str, expected_manifest_str = json.dumps({ }, indent=3) data=expected_manifest_str.encode('utf-8'),"," expected_manifest = { } data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[1]['data'].decode('utf-8') ) self.assertEqual(expected_manifest, call_manifest) expected_manifest = { } mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( export_mock.call_args[0][1] ) self.assertEqual(expected_manifest, call_manifest) expected_manifest = { } data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( put_mock.call_args[1]['data'].decode('utf-8') ) self.assertEqual(expected_manifest, call_manifest)",9,27
openstack%2Ftripleo-heat-templates~master~Ia84e96a2345c0a4d5d533be47455d3981ad36eb6,openstack/tripleo-heat-templates,master,Ia84e96a2345c0a4d5d533be47455d3981ad36eb6,"Revert ""Disable pxe_tftp systemd services during upgrade""",ABANDONED,2022-09-12 01:16:20.000000000,2023-01-11 02:10:58.000000000,,"[{'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2022-09-12 01:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7789c770291571818575bd86fdc11d3dfae9ee42', 'message': 'Revert ""Disable pxe_tftp systemd services during upgrade""\n\nThis reverts commit 89ecaeb1152b22f41b74c9e594acfb4dddb056eb.\n\nReason for revert:\nThe ironic_pxe_tftp service has never been deployed. The correct\nservice name should be tripleo_ironic_pxe_tftp.service. Because\nthe original change does not explain why the service should be stopped,\nthis change revert the useless change instead of fixing it.\n\nChange-Id: Ia84e96a2345c0a4d5d533be47455d3981ad36eb6\n'}, {'number': 2, 'created': '2022-09-12 01:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b75b3f9802d6d0a6b33560693edccff0fd8d5e3', 'message': 'Revert ""Disable pxe_tftp systemd services during upgrade""\n\nThis reverts commit 89ecaeb1152b22f41b74c9e594acfb4dddb056eb.\n\nReason for revert:\nThe ironic_pxe_tftp service has never been deployed. The correct\nservice name is tripleo_ironic_pxe_tftp.service. Because the original\nchange does not explain why the service should be stopped, this change\nreverts the useless change instead of fixing it.\n\nConflicts:\n\tdeployment/ironic/ironic-pxe-container-puppet.yaml\n\nChange-Id: Ia84e96a2345c0a4d5d533be47455d3981ad36eb6\n'}, {'number': 3, 'created': '2022-09-22 09:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/037c4c2fba96d1fa8f731e592e7c7e5e7a7e9302', 'message': 'Revert ""Disable pxe_tftp systemd services during upgrade""\n\nThis reverts commit 89ecaeb1152b22f41b74c9e594acfb4dddb056eb.\n\nReason for revert:\nThe ironic_pxe_tftp service has never been deployed. The correct\nservice name is tripleo_ironic_pxe_tftp.service. Because the original\nchange does not explain why the service should be stopped, this change\nreverts the useless change instead of fixing it.\n\nConflicts:\n\tdeployment/ironic/ironic-pxe-container-puppet.yaml\n\nChange-Id: Ia84e96a2345c0a4d5d533be47455d3981ad36eb6\n'}, {'number': 4, 'created': '2022-11-21 09:38:07.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b6cb7b84062bf72aeeb04f82a9736ce0056d7d6', 'message': 'Revert ""Disable pxe_tftp systemd services during upgrade""\n\nThis reverts commit 89ecaeb1152b22f41b74c9e594acfb4dddb056eb.\n\nReason for revert:\nThe ironic_pxe_tftp service has never been deployed. The correct\nservice name is tripleo_ironic_pxe_tftp.service. Because the original\nchange does not explain why the service should be stopped, this change\nreverts the useless change instead of fixing it.\n\nConflicts:\n\tdeployment/ironic/ironic-pxe-container-puppet.yaml\n\nChange-Id: Ia84e96a2345c0a4d5d533be47455d3981ad36eb6\n'}]",0,856884,6b6cb7b84062bf72aeeb04f82a9736ce0056d7d6,16,5,4,9816,,,0,"Revert ""Disable pxe_tftp systemd services during upgrade""

This reverts commit 89ecaeb1152b22f41b74c9e594acfb4dddb056eb.

Reason for revert:
The ironic_pxe_tftp service has never been deployed. The correct
service name is tripleo_ironic_pxe_tftp.service. Because the original
change does not explain why the service should be stopped, this change
reverts the useless change instead of fixing it.

Conflicts:
	deployment/ironic/ironic-pxe-container-puppet.yaml

Change-Id: Ia84e96a2345c0a4d5d533be47455d3981ad36eb6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/856884/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-pxe-container-puppet.yaml'],1,7789c770291571818575bd86fdc11d3dfae9ee42,xinetd-cleanup,," - name: Check if ironic_pxe_tftp is enabled command: systemctl is-enabled --quiet ironic_pxe_tftp ignore_errors: True register: ironic_pxe_tftp_enabled_result - name: Set fact ironic_pxe_tftp_enabled set_fact: ironic_pxe_tftp_enabled: ""{{ ironic_pxe_tftp_enabled_result.rc == 0 }}"" - name: Stop ironic_pxe_tftp service when: - step|int == 1 - ironic_pxe_tftp_enabled_result|bool service: name=ironic_pxe_tftp state=stopped enabled=no ",0,13
openstack%2Ftripleo-heat-templates~master~Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b,openstack/tripleo-heat-templates,master,Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b,Ironic: Remove old clean up tasks for xinetd,ABANDONED,2022-09-12 01:22:11.000000000,2023-01-11 02:10:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-12 01:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/261b203b64714d9932a39b5039b3ebf773688fda', 'message': 'Ironic: Remove old clean up tasks for xinetd\n\nThe xinetd service has been unused since the ironic services were\ncontainerized. Because the clean up should be done when the deployment\nis upgraded to stable/train, we can remove the clean up tasks from\nrecent releases.\n\nChange-Id: Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b\n'}, {'number': 2, 'created': '2022-09-22 09:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00b72308f25c0e8fca62f617c2df123e68dd80e3', 'message': 'Ironic: Remove old clean up tasks for xinetd\n\nThe xinetd service has been unused since the ironic services were\ncontainerized. Because the clean up should be done when the deployment\nis upgraded to stable/train, we can remove the clean up tasks from\nrecent releases.\n\nChange-Id: Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b\n'}, {'number': 3, 'created': '2022-09-22 09:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d2a70f3546ab4df849574e4f8173d4b651cec3a', 'message': 'Ironic: Remove old clean up tasks for xinetd\n\nThe xinetd service has been unused since the ironic services were\ncontainerized. Because the clean up should be done when the deployment\nis upgraded to stable/train, we can remove the clean up tasks from\nrecent releases.\n\nChange-Id: Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b\n'}, {'number': 4, 'created': '2022-11-21 09:38:19.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/020529065a0f1613a4486664224089381d08835a', 'message': 'Ironic: Remove old clean up tasks for xinetd\n\nThe xinetd service has been unused since the ironic services were\ncontainerized. Because the clean up should be done when the deployment\nis upgraded to stable/train, we can remove the clean up tasks from\nrecent releases.\n\nChange-Id: Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b\n'}]",0,856977,020529065a0f1613a4486664224089381d08835a,12,2,4,9816,,,0,"Ironic: Remove old clean up tasks for xinetd

The xinetd service has been unused since the ironic services were
containerized. Because the clean up should be done when the deployment
is upgraded to stable/train, we can remove the clean up tasks from
recent releases.

Change-Id: Ie41d6b3f33e621e91fec57bae2d3b6fb3085cd3b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/856977/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-pxe-container-puppet.yaml'],1,261b203b64714d9932a39b5039b3ebf773688fda,xinetd-cleanup, upgrade_tasks: [], upgrade_tasks: - when: step|int == 0 tags: common block: - name: drop tftp from xinetd supervision file: path: /etc/xinetd.d/tftp state: absent - name: query if xinetd is active failed_when: false shell: systemctl is-active xinetd register: xinetd_active_result - name: restart xinetd in order to free tftp port service: name: xinetd state: restarted when: xinetd_active_result.rc == 0,1,17
openstack%2Fpuppet-tripleo~master~I1e64f0e7ab8c68cfb3649a3114ef547c0596d343,openstack/puppet-tripleo,master,I1e64f0e7ab8c68cfb3649a3114ef547c0596d343,clustercheck: Stop generating xinetd config,ABANDONED,2022-08-09 02:57:26.000000000,2023-01-11 02:10:37.000000000,,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-08-09 02:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/42505327f210cf5dc16205f12829b6deb19118c5', 'message': 'clustecheck: Stop generating xinetd config\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nDepends-on: https://review.opendev.org/852484\nChange-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343\n'}, {'number': 2, 'created': '2022-08-09 02:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/df0cbb1d3eabe0598a9bc8a2043210b64a633a65', 'message': 'clustecheck: Stop generating xinetd config\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nDepends-on: https://review.opendev.org/852484\nRelated-Bug: #1928693\nChange-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343\n'}, {'number': 3, 'created': '2022-08-09 03:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a1f68ae2f6914334002fc5223d11713c659be361', 'message': 'clustecheck: Stop generating xinetd config\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nDepends-on: https://review.opendev.org/852484\nRelated-Bug: #1928693\nChange-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343\n'}, {'number': 4, 'created': '2022-11-21 09:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a41a7aa4aad20857e77285d981b328eb8abc0bb7', 'message': 'clustercheck: Stop generating xinetd config\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nDepends-on: https://review.opendev.org/852484\nRelated-Bug: #1928693\nChange-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343\n'}, {'number': 5, 'created': '2022-11-21 09:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4835c63dc26b6e3c9036fa5cd47b6d2e669be672', 'message': 'clustercheck: Stop generating xinetd config\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nDepends-on: https://review.opendev.org/852484\nRelated-Bug: #1928693\nChange-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343\n'}, {'number': 6, 'created': '2022-11-25 06:49:18.000000000', 'files': ['manifests/profile/pacemaker/clustercheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e37e1352d8e632623d30ee355a6afa1c7c584cb8', 'message': 'clustercheck: Stop generating xinetd config\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nDepends-on: https://review.opendev.org/852484\nRelated-Bug: #1928693\nChange-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343\n'}]",0,852485,e37e1352d8e632623d30ee355a6afa1c7c584cb8,16,5,6,9816,,,0,"clustercheck: Stop generating xinetd config

... because xinetd is no longer available in CentOS/RHEL 9.

Depends-on: https://review.opendev.org/852484
Related-Bug: #1928693
Change-Id: I1e64f0e7ab8c68cfb3649a3114ef547c0596d343
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/852485/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/clustercheck.pp'],1,42505327f210cf5dc16205f12829b6deb19118c5,xinetd-cleanup,," # configuration used when clustercheck is run via xinet xinetd::service { 'galera-monitor' : bind => $bind_address, port => '9200', server => '/usr/bin/clustercheck', per_source => 'UNLIMITED', log_on_success => '', log_on_failure => 'HOST', flags => 'REUSE', service_type => 'UNLISTED', user => 'mysql', group => 'mysql', }",0,14
openstack%2Ftripleo-heat-templates~master~I559fbafb8e24a3f55bbe51495e78e8edc7d58c85,openstack/tripleo-heat-templates,master,I559fbafb8e24a3f55bbe51495e78e8edc7d58c85,clustercheck: Remove support for xinetd service,ABANDONED,2022-08-09 02:54:31.000000000,2023-01-11 02:10:19.000000000,,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-08-09 02:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d54d76ad7106edd84c17a50d95496041579a2fb', 'message': 'clustercheck: Remove support for xinetd service\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nChange-Id: I559fbafb8e24a3f55bbe51495e78e8edc7d58c85\n'}, {'number': 2, 'created': '2022-08-09 02:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/674a7b7fea0d8dccee7100aebe614e15f24dd592', 'message': 'clustercheck: Remove support for xinetd service\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nRelated-Bug: #1928693\nChange-Id: I559fbafb8e24a3f55bbe51495e78e8edc7d58c85\n'}, {'number': 3, 'created': '2022-11-21 09:40:07.000000000', 'files': ['releasenotes/notes/remove-xinetd-from-ClustercheckListener-5beacc0612139789.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9871ca6158cc810aa2156d5bf87ec7f50128f4c9', 'message': 'clustercheck: Remove support for xinetd service\n\n... because xinetd is no longer available in CentOS/RHEL 9.\n\nRelated-Bug: #1928693\nChange-Id: I559fbafb8e24a3f55bbe51495e78e8edc7d58c85\n'}]",0,852484,9871ca6158cc810aa2156d5bf87ec7f50128f4c9,11,5,3,9816,,,0,"clustercheck: Remove support for xinetd service

... because xinetd is no longer available in CentOS/RHEL 9.

Related-Bug: #1928693
Change-Id: I559fbafb8e24a3f55bbe51495e78e8edc7d58c85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/852484/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-xinetd-from-ClustercheckListener-5beacc0612139789.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml']",2,6d54d76ad7106edd84c17a50d95496041579a2fb,xinetd-cleanup," - allowed_values: ['socat'] ""%{lookup('$NETWORK')}"" params: bash -c $* -- eval source /etc/sysconfig/clustercheck; exec socat ""$TRIPLEO_SOCAT_BIND"" exec:/usr/bin/clustercheck,nofork"," - allowed_values: ['socat', 'xinetd']conditions: socat_listener: {equals: [{get_param: ClustercheckListener}, 'socat']} ""%{lookup('$FQDN$NETWORK')}"" params: $FQDN: {if: [""socat_listener"", """", ""fqdn_""]} if: - socat_listener - bash -c $* -- eval source /etc/sysconfig/clustercheck; exec socat ""$TRIPLEO_SOCAT_BIND"" exec:/usr/bin/clustercheck,nofork - /usr/sbin/xinetd -dontfork",9,10
openstack%2Ftripleo-heat-templates~master~If834cb6f4dcb5039873573f48a2fd522be8699e2,openstack/tripleo-heat-templates,master,If834cb6f4dcb5039873573f48a2fd522be8699e2,Cinder/Manila: Decouple service/pacemaker set up,ABANDONED,2022-06-20 00:30:59.000000000,2023-01-11 02:09:56.000000000,,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34598}]","[{'number': 1, 'created': '2022-06-20 00:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/729106ad693a0595625e2e4b23155814f578d04c', 'message': 'Cinder/Manila: Prepare to decouple service/pacemaker set up\n\nThis change is a prep work to separate puppet manifests to configure\nservices and ones to configure pacemaker.\n\nCurrently the tripleo::profile::pacemaker::* classes are used while\ncontainer puppet run but these classes are effectively same as base\nclasses because we do not enable any pacemaker resources in container\npuppet run.\n\nChange-Id: If834cb6f4dcb5039873573f48a2fd522be8699e2\n'}, {'number': 2, 'created': '2022-06-20 00:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dfae9615ad32bd4eee6a29e44b97d2450cd0087', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nThis change is a prep work to separate pacemaker manifest and service\nmanifest in puppet-tripleo.\n\nCurrently the pacemaker manifests are used while container puppet run\nbut these manifests are effectively same as the service manifests\nbecause we do not enable any pacemaker resources in container puppet\nrun.\n\nUsage of service manifests is just redundant and can cause overhead.\nAlso, decoupling service manifest would help us offload the config\nmanagement to another tooling (eg. ansible).\n\nChange-Id: If834cb6f4dcb5039873573f48a2fd522be8699e2\n'}, {'number': 3, 'created': '2022-06-21 15:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/189395aec5b430af9e766a7dd4ccefa6dde18d89', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nThis change is a prep work to separate pacemaker manifest and service\nmanifest in puppet-tripleo.\nCurrently the pacemaker manifests are used while container puppet run\nbut these manifests are effectively same as the service manifests\nbecause we do not enable any pacemaker resources in container puppet\nrun.\nUsage of service manifests is just redundant and can cause overhead.\nDecoupling service manifest would help us offload the config management\nto another tooling (eg. ansible).\n\nChange-Id: If834cb6f4dcb5039873573f48a2fd522be8699e2\n'}, {'number': 4, 'created': '2022-08-06 16:42:29.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efaaa88b60690add2a430d8412c819a72e31c62b', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nThis change is a prep work to separate pacemaker manifest and service\nmanifest in puppet-tripleo.\nCurrently the pacemaker manifests are used while container puppet run\nbut these manifests are effectively same as the service manifests\nbecause we do not enable any pacemaker resources in container puppet\nrun.\nUsage of service manifests is just redundant and can cause overhead.\nDecoupling service manifest would help us offload the config management\nto another tooling (eg. ansible).\n\nChange-Id: If834cb6f4dcb5039873573f48a2fd522be8699e2\n'}]",8,846534,efaaa88b60690add2a430d8412c819a72e31c62b,16,4,4,9816,,,0,"Cinder/Manila: Decouple service/pacemaker set up

This change is a prep work to separate pacemaker manifest and service
manifest in puppet-tripleo.
Currently the pacemaker manifests are used while container puppet run
but these manifests are effectively same as the service manifests
because we do not enable any pacemaker resources in container puppet
run.
Usage of service manifests is just redundant and can cause overhead.
Decoupling service manifest would help us offload the config management
to another tooling (eg. ansible).

Change-Id: If834cb6f4dcb5039873573f48a2fd522be8699e2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/846534/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml']",3,729106ad693a0595625e2e4b23155814f578d04c,tripleo-pcmk-decouple," - - ""include tripleo::profile::base::cinder::volume"""," - - ""include tripleo::profile::pacemaker::cinder::volume_bundle""",3,3
openstack%2Fpuppet-tripleo~master~Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261,openstack/puppet-tripleo,master,Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261,Fix resource references between property and bundle resource,ABANDONED,2022-06-20 08:21:16.000000000,2023-01-11 02:09:52.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-06-20 08:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c9105617f5f145a7b79d8f61af737e0ea6a0055f', 'message': 'Fix resource references between property and bundle resource\n\nCurrently node properties are configured during step 2 while bundle\nresources are configured during step 5. Thus bundle resources are not\ndeclared when node properties are declared, and the current reference\nfrom property to bundle resource results in broken reference.\n\nThis change replaces explicit resource reference by resource collector\nto avoid broken resource reference in 2 <= step < 5.\n\nChange-Id: Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261\n'}, {'number': 2, 'created': '2022-06-20 08:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b7deed039bd3db3292a60447ea6c5a5d2d70db20', 'message': 'Fix resource references between property and bundle resource\n\nCurrently node properties are configured during step 2 while bundle\nresources are configured during step 5. Thus bundle resources are not\ndeclared when node properties are declared, and the current reference\nfrom property to bundle resource results in broken reference.\n\nThis change replaces explicit resource reference by resource collector\nto avoid broken resource reference in 2 <= step < 5.\n\nChange-Id: Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261\n'}, {'number': 3, 'created': '2022-07-01 14:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/56bef5766d3befb92b3f76ac371b73e165cb37d3', 'message': 'Fix resource references between property and bundle resource\n\nCurrently node properties for pacemaker resources are configured in\nstep 2[1] while some resources(eg cinder-volume) are configured in\nstep 5. So it can happen that bundle resources are not declared when\nnode properties are declared, and the current reference from property\nto bundle resource can be broken.\n\nThis change replaces explicit resource reference by resource collector\nto avoid broken resource reference in 2 <= step < 5.\n\n[1]\novn-dbs-bundle is an exception, and node properties and resources are\nboth configured in step 3 for this service.\n\nChange-Id: Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261\n'}, {'number': 4, 'created': '2022-08-06 16:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/510d9212c79fc6a809145f20c02a38a7cd27e66b', 'message': 'Fix resource references between property and bundle resource\n\nCurrently node properties for pacemaker resources are configured in\nstep 2[1] while some resources(eg cinder-volume) are configured in\nstep 5. So it can happen that bundle resources are not declared when\nnode properties are declared, and the current reference from property\nto bundle resource can be broken.\n\nThis change replaces explicit resource reference by resource collector\nto avoid broken resource reference in 2 <= step < 5.\n\n[1]\novn-dbs-bundle is an exception, and node properties and resources are\nboth configured in step 3 for this service.\n\nChange-Id: Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261\n'}, {'number': 5, 'created': '2022-08-07 05:00:52.000000000', 'files': ['manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/54f17857275a7a0a39178a20938023a285068984', 'message': 'Fix resource references between property and bundle resource\n\nCurrently node properties for pacemaker resources are configured in\nstep 2[1] while some resources(eg cinder-volume) are configured in\nstep 5. So it can happen that bundle resources are not declared when\nnode properties are declared, and the current reference from property\nto bundle resource can be broken.\n\nThis change replaces explicit resource reference by resource collector\nto avoid broken resource reference in 2 <= step < 5.\n\n[1]\novn-dbs-bundle is an exception, and node properties and resources are\nboth configured in step 3 for this service.\n\nChange-Id: Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261\n'}]",2,846579,54f17857275a7a0a39178a20938023a285068984,17,6,5,9816,,,0,"Fix resource references between property and bundle resource

Currently node properties for pacemaker resources are configured in
step 2[1] while some resources(eg cinder-volume) are configured in
step 5. So it can happen that bundle resources are not declared when
node properties are declared, and the current reference from property
to bundle resource can be broken.

This change replaces explicit resource reference by resource collector
to avoid broken resource reference in 2 <= step < 5.

[1]
ovn-dbs-bundle is an exception, and node properties and resources are
both configured in step 3 for this service.

Change-Id: Ibf6a0ab23f36cf80983e39b6f6bf02202f3e5261
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/79/846579/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",8,c9105617f5f145a7b79d8f61af737e0ea6a0055f,tripleo-pcmk-decouple," before => Pacemaker::Resource::Bundle<| name == 'ovn-dbs-bundle' |>,"," before => Pacemaker::Resource::Bundle['ovn-dbs-bundle'],",8,8
openstack%2Fpuppet-tripleo~master~I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab,openstack/puppet-tripleo,master,I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab,Cinder/Manila: Decouple service/pacemaker set up,ABANDONED,2022-06-20 00:39:01.000000000,2023-01-11 02:09:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-20 00:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/71a3cf77e23e51dcab798ef9d8f996a189ed5121', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nNow we use service manifests to generate config files and pacemaker\nmanifests to set up pacemaker resources. Thus we no longer need to\ninclude the service manifests from the pacemaker manifests.\n\nDepends-on: https://review.opendev.org/846534\nChange-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab\n'}, {'number': 2, 'created': '2022-06-20 03:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e03ea317d3852df621d85aaf7e3ae3b00a9b6bb9', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nNow we use service manifests to generate config files and pacemaker\nmanifests to set up pacemaker resources. Thus we no longer need to\ninclude the service manifests from the pacemaker manifests.\n\nDepends-on: https://review.opendev.org/846534\nChange-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab\n'}, {'number': 3, 'created': '2022-06-20 04:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/098087f62c7ba231769b4f6a3b43d8abf39a360d', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nNow we use service manifests to generate config files and pacemaker\nmanifests to set up pacemaker resources. Thus we no longer need to\ninclude the service manifests from the pacemaker manifests.\n\nDepends-on: https://review.opendev.org/846534\nChange-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab\n'}, {'number': 4, 'created': '2022-06-20 08:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/590c1b8bdcbaee48f89450b8b03dfe30f5786f41', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nNow we use service manifests to generate config files and pacemaker\nmanifests to set up pacemaker resources. Thus we no longer need to\ninclude the service manifests from the pacemaker manifests.\n\nDepends-on: https://review.opendev.org/846534\nChange-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab\n'}, {'number': 5, 'created': '2022-08-06 16:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9894a95ba0100a006a11f54a587793ef9120cc81', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nNow we use service manifests to generate config files and pacemaker\nmanifests to set up pacemaker resources. Thus we no longer need to\ninclude the service manifests from the pacemaker manifests.\n\nDepends-on: https://review.opendev.org/846534\nChange-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab\n'}, {'number': 6, 'created': '2022-08-07 05:01:35.000000000', 'files': ['spec/classes/tripleo_profile_pacemaker_cinder_backup_bundle_spec.rb', 'spec/classes/tripleo_profile_pacemaker_cinder_volume_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/backup_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e4a9b58eb55b67b1fae6904b7ba9ff0da3fe947e', 'message': 'Cinder/Manila: Decouple service/pacemaker set up\n\nNow we use service manifests to generate config files and pacemaker\nmanifests to set up pacemaker resources. Thus we no longer need to\ninclude the service manifests from the pacemaker manifests.\n\nDepends-on: https://review.opendev.org/846534\nChange-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab\n'}]",0,846535,e4a9b58eb55b67b1fae6904b7ba9ff0da3fe947e,18,2,6,9816,,,0,"Cinder/Manila: Decouple service/pacemaker set up

Now we use service manifests to generate config files and pacemaker
manifests to set up pacemaker resources. Thus we no longer need to
include the service manifests from the pacemaker manifests.

Depends-on: https://review.opendev.org/846534
Change-Id: I9908868a60a9b5ec4c2c96c8d34df5e0152ee5ab
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/846535/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_pacemaker_cinder_backup_bundle_spec.rb', 'spec/classes/tripleo_profile_pacemaker_cinder_volume_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/backup_bundle.pp']",6,71a3cf77e23e51dcab798ef9d8f996a189ed5121,tripleo-pcmk-decouple,, include tripleo::profile::base::cinder::backup ,6,12
openstack%2Ftripleo-heat-templates~master~Ia33c4c9dd3970421f40b3f4e98dca46d6da68167,openstack/tripleo-heat-templates,master,Ia33c4c9dd3970421f40b3f4e98dca46d6da68167,MySQL: Use common volumes in containers,ABANDONED,2022-09-07 05:05:52.000000000,2023-01-11 02:09:12.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-07 05:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30b77a627918de50f91861ae9d4c5112ea1ee9ea', 'message': 'MySQL: Use common volumes in containers\n\n... instead of defining own list of volumes. Some mount directories\nmight be unused but the common volumes are globally used when starting\ncontainers, and using the common definition allows us to centralize\nthe logic to handle Internal TLS CA cert.\n\nChange-Id: Ia33c4c9dd3970421f40b3f4e98dca46d6da68167\n'}, {'number': 2, 'created': '2022-09-12 04:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/046aeaf54d92985fbfa8eced03c6295f414ff53d', 'message': 'MySQL: Use common volumes in containers\n\n... instead of defining own list of volumes. Some mount directories\nmight be unused but the common volumes are globally used when starting\ncontainers, and using the common definition allows us to centralize\nthe logic to handle Internal TLS CA cert.\n\nChange-Id: Ia33c4c9dd3970421f40b3f4e98dca46d6da68167\n'}, {'number': 3, 'created': '2022-11-25 06:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41b3f589c8ee09d5aa61f1711d730a18eb8c5cce', 'message': 'MySQL: Use common volumes in containers\n\n... instead of defining own list of volumes. Some mount directories\nmight be unused but the common volumes are globally used when starting\ncontainers, and using the common definition allows us to centralize\nthe logic to handle Internal TLS CA cert.\n\nChange-Id: Ia33c4c9dd3970421f40b3f4e98dca46d6da68167\n'}, {'number': 4, 'created': '2022-11-28 14:23:18.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b0beb60f275250f267cebc5b19cfdede8ae6138', 'message': 'MySQL: Use common volumes in containers\n\n... instead of defining own list of volumes. Some mount directories\nmight be unused but the common volumes are globally used when starting\ncontainers, and using the common definition allows us to centralize\nthe logic to handle Internal TLS CA cert.\n\nChange-Id: Ia33c4c9dd3970421f40b3f4e98dca46d6da68167\n'}]",0,856228,5b0beb60f275250f267cebc5b19cfdede8ae6138,15,4,4,9816,,,0,"MySQL: Use common volumes in containers

... instead of defining own list of volumes. Some mount directories
might be unused but the common volumes are globally used when starting
containers, and using the common definition allows us to centralize
the logic to handle Internal TLS CA cert.

Change-Id: Ia33c4c9dd3970421f40b3f4e98dca46d6da68167
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/856228/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-container-puppet.yaml'],1,30b77a627918de50f91861ae9d4c5112ea1ee9ea,," - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json - /var/lib/config-data/puppet-generated/mysql:/var/lib/kolla/config_files/src:ro - /var/lib/mysql:/var/lib/mysql - /var/log/containers/mysql:/var/log/mariadb - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/mysql.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.crt:ro - /etc/pki/tls/private/mysql.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/mysql.key:ro - {get_attr: [ContainersCommon, volumes]} - - /var/lib/mysql:/var/lib/mysql/:rw - /var/log/containers/mysql:/var/log/mariadb - /var/lib/config-data/puppet-generated/mysql/root:/root:rw #provides .my.cnf for puppet, changed on password update - if: - - /etc/pki/tls/certs/mysql.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.crt:ro - /etc/pki/tls/private/mysql.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/mysql.key:ro"," InternalTLSCAFile: default: '/etc/ipa/ca.crt' type: string description: Specifies the default CA cert to use if TLS is used for services in the internal network. - - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json - /var/lib/config-data/puppet-generated/mysql:/var/lib/kolla/config_files/src:ro - /etc/localtime:/etc/localtime:ro - /etc/hosts:/etc/hosts:ro - /var/lib/mysql:/var/lib/mysql - /var/log/containers/mysql:/var/log/mariadb - if: - {get_param: EnableInternalTLS} - - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro' - /etc/pki/tls/certs/mysql.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.crt:ro - /etc/pki/tls/private/mysql.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/mysql.key:ro - - /var/lib/mysql:/var/lib/mysql/:rw - /var/log/containers/mysql:/var/log/mariadb - /var/lib/config-data/puppet-generated/mysql/root:/root:rw #provides .my.cnf for puppet, changed on password update - if: - {get_param: EnableInternalTLS} - - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro' - /etc/pki/tls/certs/mysql.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.crt:ro - /etc/pki/tls/private/mysql.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/mysql.key:ro",16,32
openstack%2Fpython-tripleoclient~master~Ib3c62acb2f16b5915cb0d43eb827a649f26b882d,openstack/python-tripleoclient,master,Ib3c62acb2f16b5915cb0d43eb827a649f26b882d,Remove overcloud profiles commands,ABANDONED,2022-12-01 07:10:48.000000000,2023-01-11 02:08:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 07:10:48.000000000', 'files': ['tripleoclient/v1/overcloud_profiles.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'releasenotes/notes/remove-overcloud-profiles-89c2468606d38e3f.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/901a6b6dbfd400deef4a7be8ad628cae8b0cd2b6', 'message': 'Remove overcloud profiles commands\n\nThese commands require undercloud nova but nova was already removed\nfrom undercloud. These commands were deprecated before Zed release so\ncan be removed now.\n\nChange-Id: Ib3c62acb2f16b5915cb0d43eb827a649f26b882d\n'}]",0,866299,901a6b6dbfd400deef4a7be8ad628cae8b0cd2b6,4,1,1,9816,,,0,"Remove overcloud profiles commands

These commands require undercloud nova but nova was already removed
from undercloud. These commands were deprecated before Zed release so
can be removed now.

Change-Id: Ib3c62acb2f16b5915cb0d43eb827a649f26b882d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/866299/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_profiles.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'releasenotes/notes/remove-overcloud-profiles-89c2468606d38e3f.yaml', 'setup.cfg']",4,901a6b6dbfd400deef4a7be8ad628cae8b0cd2b6,uc-nova-cleanup,, overcloud_profiles_match = tripleoclient.v1.overcloud_profiles:MatchProfiles overcloud_profiles_list = tripleoclient.v1.overcloud_profiles:ListProfiles,8,335
openstack%2Fpython-tripleoclient~master~I77831d53f5c5037f6e8ad25e8ebc1995662fe13d,openstack/python-tripleoclient,master,I77831d53f5c5037f6e8ad25e8ebc1995662fe13d,Remove remaining mocking of compute client,ABANDONED,2022-12-01 07:14:20.000000000,2023-01-11 02:08:39.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-01 07:14:20.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/653ec8189941cb559099da927a4ee17f889f8e03', 'message': 'Remove remaining mocking of compute client\n\nNow this library does not use the compute client feature, thus we no\nlonger need to mock the module.\n\nChange-Id: I77831d53f5c5037f6e8ad25e8ebc1995662fe13d\n'}]",0,866300,653ec8189941cb559099da927a4ee17f889f8e03,6,3,1,9816,,,0,"Remove remaining mocking of compute client

Now this library does not use the compute client feature, thus we no
longer need to mock the module.

Change-Id: I77831d53f5c5037f6e8ad25e8ebc1995662fe13d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/866300/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/fakes.py']",2,653ec8189941cb559099da927a4ee17f889f8e03,uc-nova-cleanup,, compute = self.app.client_manager.compute = mock.Mock() compute.servers.list.return_value = [],0,3
openstack%2Fpython-tripleoclient~master~I2643c170b411eccdd6968d6cbae615b36fd1ebb9,openstack/python-tripleoclient,master,I2643c170b411eccdd6968d6cbae615b36fd1ebb9,Stop mocking image client,ABANDONED,2022-12-01 07:06:50.000000000,2023-01-11 02:08:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-01 07:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ccf8fc266fd5483c59d769076978ccc14e05a530', 'message': 'Stop mocking image client\n\nWe no longer use glance for baremetal provisioning and actually it has\nbeen remvoed from undercloud. This drops unnecessary mocks left in\nunit tests for baremetal functions.\n\nChange-Id: I2643c170b411eccdd6968d6cbae615b36fd1ebb9\n'}, {'number': 2, 'created': '2022-12-01 07:25:20.000000000', 'files': ['tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9fe6aac9d5d72b58b2178fb22608d291ac10dd5', 'message': 'Stop mocking image client\n\nWe no longer use glance for baremetal provisioning and actually it has\nbeen remvoed from undercloud. This drops unnecessary mocks left in\nunit tests for baremetal functions.\n\nChange-Id: I2643c170b411eccdd6968d6cbae615b36fd1ebb9\n'}]",0,866298,a9fe6aac9d5d72b58b2178fb22608d291ac10dd5,7,2,2,9816,,,0,"Stop mocking image client

We no longer use glance for baremetal provisioning and actually it has
been remvoed from undercloud. This drops unnecessary mocks left in
unit tests for baremetal functions.

Change-Id: I2643c170b411eccdd6968d6cbae615b36fd1ebb9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/866298/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py']",5,ccf8fc266fd5483c59d769076978ccc14e05a530,uc-nova-cleanup,, self.app.client_manager.image = mock.Mock(),0,19
openstack%2Fpython-tripleoclient~master~Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77,openstack/python-tripleoclient,master,Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77,overcloud image upload: Drop support for glance,ABANDONED,2022-11-08 15:06:18.000000000,2023-01-11 02:08:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-08 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fabf92f1d7ed90a9a7c929d129a22b75fec823c1', 'message': 'overcloud image upload: Drop support for glance\n\nThe glance service was already removed from Undercloud, thus the logic\nto upload the overcloud image to glance is no longer used.\n\nChange-Id: Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77\n'}, {'number': 2, 'created': '2022-11-30 05:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3a32bc033999a8c732a9cc5b6f86184f48d23fc', 'message': 'overcloud image upload: Drop support for glance\n\nThe glance service was already removed from Undercloud, thus the logic\nto upload the overcloud image to glance is no longer used.\n\nChange-Id: Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77\n'}, {'number': 3, 'created': '2022-11-30 05:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32e600c7db820a2a8102f9b4f03770e2a2011682', 'message': 'overcloud image upload: Drop support for glance\n\nThe glance service was already removed from Undercloud, thus the logic\nto upload the overcloud image to glance is no longer used.\n\nTODO: Readd unit tests\n\nChange-Id: Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77\n'}, {'number': 4, 'created': '2022-11-30 06:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ecb79e3d7536b5ce53ec4d78803222dc50ed88df', 'message': 'overcloud image upload: Drop support for glance\n\nThe glance service was already removed from Undercloud, thus the logic\nto upload the overcloud image to glance is no longer used.\n\nChange-Id: Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77\n'}, {'number': 5, 'created': '2022-12-01 06:56:35.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bbdc6cd5b3cba52add19aa5b1444487d89d520c', 'message': 'overcloud image upload: Drop support for glance\n\nThe glance service was already removed from Undercloud, thus the logic\nto upload the overcloud image to glance is no longer used.\n\nChange-Id: Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77\n'}]",8,864012,8bbdc6cd5b3cba52add19aa5b1444487d89d520c,10,1,5,9816,,,0,"overcloud image upload: Drop support for glance

The glance service was already removed from Undercloud, thus the logic
to upload the overcloud image to glance is no longer used.

Change-Id: Iccf4dfeb39347c1b3f3fd63e10ca589cbd75ee77
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/864012/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",2,fabf92f1d7ed90a9a7c929d129a22b75fec823c1,uc-nova-cleanup,,"class TestGlanceClientAdapter(TestPluginV1): def setUp(self): super(TestGlanceClientAdapter, self).setUp() self.app.client_manager.image = mock.Mock() self.app.client_manager.image.version = 2.0 self._arch = tripleo_common.arch.kernel_arch() self.app.client_manager.image.images.create.return_value = ( mock.Mock(id=10, name='imgname', properties={'kernel_id': 10, 'ramdisk_id': 10, 'hw_architecture': self._arch}, created_at='2015-07-31T14:37:22.000000')) self.updated = [] self.adapter = overcloud_image.GlanceClientAdapter( client=self.app.client_manager.image, image_path='/foo', updated=self.updated ) def test_get_image_exists(self): image_mock = mock.Mock(name='imagename') self.app.client_manager.image.find_image.return_value = image_mock self.assertEqual(self.adapter._get_image('imagename'), image_mock) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_image_try_update_no_exist(self, mock_get_image): mock_get_image.return_value = None self.assertFalse(self.adapter._image_try_update( 'name', 'fn')) self.assertEqual([], self.updated) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_image_try_update_need_update(self, mock_get_image, mock_image_changed): image_mock = mock.Mock(name='imagename') mock_get_image.return_value = image_mock mock_image_changed.return_value = True self.assertEqual( self.adapter._image_try_update('name', 'fn'), image_mock ) self.assertEqual([], self.updated) self.app.client_manager.image.update_image.assert_not_called() @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_image_try_update_do_update(self, mock_get_image, mock_image_changed): image_mock = mock.Mock(name='imagename', created_at='2015-07-31T14:37:22.000000') update_mock = mock.Mock(return_value=image_mock) self.app.client_manager.image.update_image = update_mock mock_get_image.return_value = image_mock mock_image_changed.return_value = True self.adapter.update_existing = True self.assertEqual( self.adapter._image_try_update('name', 'fn'), None ) self.assertEqual([image_mock.id], self.updated) update_mock.assert_called_once() ",2,192
openstack%2Ftripleo-ansible~master~Ied3ebc803ad5d156a84f8450fe92c0a1ca48b2df,openstack/tripleo-ansible,master,Ied3ebc803ad5d156a84f8450fe92c0a1ca48b2df,designate_bind: Centralize default definition,ABANDONED,2022-09-08 16:00:50.000000000,2023-01-11 02:05:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-08 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7c118eace928f5db66395ed184e56c1bf0445ae', 'message': 'designate_bind: Centralize default definition\n\nThis change centralize the definition of default values to avoid\nrepeatedly defining the same default.\n\nThis also removes the unused designate_bind_pool_key_file_path var.\n\nChange-Id: Ied3ebc803ad5d156a84f8450fe92c0a1ca48b2df\n'}, {'number': 2, 'created': '2022-09-08 18:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7bd43f494e1d5f8ccd023613e34ebd6e3943e28', 'message': 'designate_bind: Centralize default definition\n\nThis change centralize the definition of default values to avoid\nrepeatedly defining the same default.\n\nThis also removes the unused designate_bind_pool_key_file_path var.\n\nChange-Id: Ied3ebc803ad5d156a84f8450fe92c0a1ca48b2df\n'}, {'number': 3, 'created': '2022-11-22 07:59:16.000000000', 'files': ['tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_config/templates/logging.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml', 'tripleo_ansible/roles/designate_bind_pool/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94e9fd4829c2196af62c26fc740df3e5b9ae5f77', 'message': 'designate_bind: Centralize default definition\n\nThis change centralize the definition of default values to avoid\nrepeatedly defining the same default.\n\nThis also removes the unused designate_bind_pool_key_file_path var.\n\nChange-Id: Ied3ebc803ad5d156a84f8450fe92c0a1ca48b2df\n'}]",1,856545,94e9fd4829c2196af62c26fc740df3e5b9ae5f77,14,2,3,9816,,,0,"designate_bind: Centralize default definition

This change centralize the definition of default values to avoid
repeatedly defining the same default.

This also removes the unused designate_bind_pool_key_file_path var.

Change-Id: Ied3ebc803ad5d156a84f8450fe92c0a1ca48b2df
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/856545/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_config/templates/logging.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml', 'tripleo_ansible/roles/designate_bind_pool/defaults/main.yml']",4,a7c118eace928f5db66395ed184e56c1bf0445ae,,# NOTE(tkajinam): keyfile_base_path is kept for backword compatibility designate_bind_pool_key_file_base_path: {{ keyfile_base_path | default('/etc/designate/private/bind') }} designate_xbind_pool_key_file_base_path: {{ keyfile_base_path | default('/etc/designate/private/xbind') }},designate_bind_pool_key_file_path: '/var/lib/config-data/puppet-generated/designate/etc/designate/private',11,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I26a7c8f634852688581ba3d72b76c4800c738683,openstack/tripleo-heat-templates,stable/train,I26a7c8f634852688581ba3d72b76c4800c738683,DNM: Testing ceph deployment,ABANDONED,2022-09-28 03:13:26.000000000,2023-01-11 02:02:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-28 03:13:26.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/730a4cd324305c7602b795e721104581295189d4', 'message': 'DNM: Testing ceph deployment\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/859404\nChange-Id: I26a7c8f634852688581ba3d72b76c4800c738683\n'}]",0,859513,730a4cd324305c7602b795e721104581295189d4,4,2,1,9816,,,0,"DNM: Testing ceph deployment

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/859404
Change-Id: I26a7c8f634852688581ba3d72b76c4800c738683
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/859513/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,730a4cd324305c7602b795e721104581295189d4,,,,1,0
openstack%2Ftripleo-heat-templates~master~I78d85859ea3b384f5e3f0cc55a34c9c7ec355219,openstack/tripleo-heat-templates,master,I78d85859ea3b384f5e3f0cc55a34c9c7ec355219,Add support for setting ovs integration bridge name in l3 agent,ABANDONED,2020-06-18 14:20:33.000000000,2023-01-11 02:01:01.000000000,,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-18 14:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/845303365eea61ca9cd6f845b42bedc26ff0ac29', 'message': 'Add support for setting ovs integration bridge name in l3 agent\n\n... so that operators can customize ovs integration bridge name in\nall neutron services consistently.\n\nDepends-on: https://review.opendev.org/#/c/736423/\nChange-Id: I78d85859ea3b384f5e3f0cc55a34c9c7ec355219\n'}, {'number': 2, 'created': '2022-04-03 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a39dc5902883aaad8570843756aa5c3277a7a82', 'message': 'Add support for setting ovs integration bridge name in l3 agent\n\nCurrently ovs integration bridge name can be configured only for\nopenvswitch-agent and dhcp-agent. This change introduces the same\nfunctionality for l3-agent so that operators can customize ovs\nintegration bridge name in all neutron services consistently.\n\nDepends-on: https://review.opendev.org/#/c/736423/\nChange-Id: I78d85859ea3b384f5e3f0cc55a34c9c7ec355219\n'}, {'number': 3, 'created': '2022-04-03 11:28:00.000000000', 'files': ['deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c732ea36212a5ec6a0dff4d18c806910fd1cf0d', 'message': 'Add support for setting ovs integration bridge name in l3 agent\n\nCurrently ovs integration bridge name can be configured only for\nopenvswitch-agent and dhcp-agent. This change introduces the same\nfunctionality for l3-agent so that operators can customize ovs\nintegration bridge name in all neutron services consistently.\n\nDepends-on: https://review.opendev.org/#/c/736423/\nChange-Id: I78d85859ea3b384f5e3f0cc55a34c9c7ec355219\n'}]",6,736733,0c732ea36212a5ec6a0dff4d18c806910fd1cf0d,23,7,3,9816,,,0,"Add support for setting ovs integration bridge name in l3 agent

Currently ovs integration bridge name can be configured only for
openvswitch-agent and dhcp-agent. This change introduces the same
functionality for l3-agent so that operators can customize ovs
integration bridge name in all neutron services consistently.

Depends-on: https://review.opendev.org/#/c/736423/
Change-Id: I78d85859ea3b384f5e3f0cc55a34c9c7ec355219
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/736733/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-l3-container-puppet.yaml'],1,845303365eea61ca9cd6f845b42bedc26ff0ac29,l3-ovs_int_br," NeutronL3OvsIntegrationBridge: default: '' type: string description: Name of Open vSwitch bridge to use l3_ovs_intergation_bridge_unset: {equals: [{get_param: NeutronL3OvsIntegrationBridge}, '']} - if: - l3_ovs_intergation_bridge_unset - {} - neutron::agents::l3::ovs_integration_bridge: {get_param: NeutronL3OvsIntegrationBridge}", -,9,3
openstack%2Ftripleo-common~master~I08832af0aafbd526fb2dcac113d10f9ca4a1423d,openstack/tripleo-common,master,I08832af0aafbd526fb2dcac113d10f9ca4a1423d,Drop unnecessary usage of staticmethod,ABANDONED,2022-09-13 02:08:47.000000000,2023-01-11 02:00:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-13 02:08:47.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4864503f8797a7bd4d211218e2df3b3ce20ec3e', 'message': 'Drop unnecessary usage of staticmethod\n\n... to avoid exposing class interface unnecessarily.\n\nThe imagename_to_regex method is used only within the KollaImageBuilder\nclass, thus it is not necessarily a staticmethod.\n\nAlso, the container_images_template_inputs is used by an external\nmethod but does not refer to any class attributes so can be\na standalone method.\n\nChange-Id: I08832af0aafbd526fb2dcac113d10f9ca4a1423d\n'}]",2,857250,d4864503f8797a7bd4d211218e2df3b3ce20ec3e,5,2,1,9816,,,0,"Drop unnecessary usage of staticmethod

... to avoid exposing class interface unnecessarily.

The imagename_to_regex method is used only within the KollaImageBuilder
class, thus it is not necessarily a staticmethod.

Also, the container_images_template_inputs is used by an external
method but does not refer to any class attributes so can be
a standalone method.

Change-Id: I08832af0aafbd526fb2dcac113d10f9ca4a1423d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/857250/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,d4864503f8797a7bd4d211218e2df3b3ce20ec3e,, itr = kb.KollaImageBuilder(self.filelist).imagename_to_regex kb.container_images_template_inputs() kb.container_images_template_inputs() kb.container_images_template_inputs(, itr = kb.KollaImageBuilder.imagename_to_regex builder = kb.KollaImageBuilder(self.filelist) builder.container_images_template_inputs() builder.container_images_template_inputs() builder.container_images_template_inputs(,30,32
openstack%2Fpuppet-openstack-integration~master~I58a7056554ae69e8fd7393df6b3f8e102bc165df,openstack/puppet-openstack-integration,master,I58a7056554ae69e8fd7393df6b3f8e102bc165df,DNM: Testing glance-api with httpd+mod_wsgi,ABANDONED,2022-08-27 03:39:12.000000000,2023-01-11 01:57:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-27 03:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8b13650ea0eacc03ecf339abd36a7eee7b470709', 'message': 'DNM: Testing glance-api with httpd+mod_wsgi\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-glance/+/854857\nChange-Id: I58a7056554ae69e8fd7393df6b3f8e102bc165df\n'}, {'number': 2, 'created': '2022-08-27 12:32:14.000000000', 'files': ['manifests/cinder.pp', 'manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bb8e051efc4d426e21f7702744dd11699a0c0c9f', 'message': 'DNM: Testing glance-api with httpd+mod_wsgi\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-glance/+/854857\nChange-Id: I58a7056554ae69e8fd7393df6b3f8e102bc165df\n'}]",0,854859,bb8e051efc4d426e21f7702744dd11699a0c0c9f,5,1,2,9816,,,0,"DNM: Testing glance-api with httpd+mod_wsgi

Depends-on: https://review.opendev.org/c/openstack/puppet-glance/+/854857
Change-Id: I58a7056554ae69e8fd7393df6b3f8e102bc165df
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/854859/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/glance.pp']",2,8b13650ea0eacc03ecf339abd36a7eee7b470709,dnm," notify => Service['httpd'], require => Anchor['glance::install::end'], } Exec['update-ca-certificates'] ~> Service['httpd'] public_url => ""${::openstack_integration::config::base_url}:9292"", internal_url => ""${::openstack_integration::config::base_url}:9292"", admin_url => ""${::openstack_integration::config::base_url}:9292"", service_name => 'httpd', } include apache class { 'glance::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl_key => ""/etc/glance/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, ssl => $::openstack_integration::config::ssl, workers => '2',"," } $key_file = undef $crt_file = undef } else { $key_file = undef $crt_file = undef public_url => ""http://${::openstack_integration::config::ip_for_url}:9292"", internal_url => ""http://${::openstack_integration::config::ip_for_url}:9292"", admin_url => ""http://${::openstack_integration::config::ip_for_url}:9292"", workers => 2, cert_file => $crt_file, key_file => $key_file,",16,12
openstack%2Fpuppet-qdr~master~I42b5d4944ac6b421922ffe5c2972749bdd2d66ed,openstack/puppet-qdr,master,I42b5d4944ac6b421922ffe5c2972749bdd2d66ed,WIP: testing integer listener_port,ABANDONED,2022-09-02 02:33:06.000000000,2023-01-11 01:57:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-02 02:33:06.000000000', 'files': ['manifests/init.pp', 'spec/classes/qdr_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/e65c4b21e5337aff8a197dd881bee3b3758c01e6', 'message': 'WIP: testing integer listener_port\n\nChange-Id: I42b5d4944ac6b421922ffe5c2972749bdd2d66ed\n'}]",0,855582,e65c4b21e5337aff8a197dd881bee3b3758c01e6,3,1,1,9816,,,0,"WIP: testing integer listener_port

Change-Id: I42b5d4944ac6b421922ffe5c2972749bdd2d66ed
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/82/855582/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/qdr_init_spec.rb']",2,e65c4b21e5337aff8a197dd881bee3b3758c01e6,," :listener_port => 5671,"," :listener_port => '5671',",3,3
openstack%2Fcyborg~master~I7d5eada4723858bbcf3f2ab8c1475bce92b93ac5,openstack/cyborg,master,I7d5eada4723858bbcf3f2ab8c1475bce92b93ac5,add attributes get by deployable id and key api ut,MERGED,2023-01-10 13:10:41.000000000,2023-01-11 01:37:51.000000000,2023-01-11 01:36:16.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-10 13:10:41.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c5c984b6674c4a3b6d2cae5ffc51b334e28c6b41', 'message': 'add attributes get by deployable id and key api ut\n\nChange-Id: I7d5eada4723858bbcf3f2ab8c1475bce92b93ac5\n'}]",0,869692,c5c984b6674c4a3b6d2cae5ffc51b334e28c6b41,7,3,1,32020,,,0,"add attributes get by deployable id and key api ut

Change-Id: I7d5eada4723858bbcf3f2ab8c1475bce92b93ac5
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/92/869692/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/api/controllers/v2/test_attributes.py'],1,c5c984b6674c4a3b6d2cae5ffc51b334e28c6b41,," @mock.patch('cyborg.objects.Attribute.get_by_filter') def test_get_all_by_deployable_id_and_key(self, mock_attribute): attributes = self.fake_attribute_objs mock_attribute.return_value = attributes dp_url = ""?deployable_id="" + str(attributes[0]['deployable_id']) url = self.ATTRIBUTE_URL + dp_url + ""&key="" + attributes[0]['key'] data = self.get_json(url, headers=self.headers) out_attributes = data['attributes'] mock_attribute.assert_called_once() self.assertTrue(len(out_attributes), len(attributes)) for in_attribute, out_attribute in zip(attributes, out_attributes): self._validate_attributes(in_attribute, out_attribute)",,13,0
openstack%2Fcyborg~master~Idd4e516011eb17f1b0f7d964aa6ac9af7dfacdf8,openstack/cyborg,master,Idd4e516011eb17f1b0f7d964aa6ac9af7dfacdf8,add attributes create api ut,MERGED,2023-01-10 06:14:09.000000000,2023-01-11 01:37:07.000000000,2023-01-11 01:35:56.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-10 06:14:09.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/510486d300dd66b31b0b27e18c2ccb1ebf0e6178', 'message': 'add attributes create api ut\n\nChange-Id: Idd4e516011eb17f1b0f7d964aa6ac9af7dfacdf8\n'}]",1,869304,510486d300dd66b31b0b27e18c2ccb1ebf0e6178,8,3,1,32020,,,0,"add attributes create api ut

Change-Id: Idd4e516011eb17f1b0f7d964aa6ac9af7dfacdf8
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/04/869304/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/api/controllers/v2/test_attributes.py'],1,510486d300dd66b31b0b27e18c2ccb1ebf0e6178,,"from http import HTTPStatusfrom oslo_serialization import jsonutils @mock.patch('cyborg.objects.Attribute.create') def test_create(self, mock_cond_attribute): mock_cond_attribute.return_value = self.fake_attribute_objs[0] response = self.post_json(self.ATTRIBUTE_URL, self.fake_attributes, headers=self.headers) out_attribute = jsonutils.loads(response.controller_output) self.assertEqual(HTTPStatus.CREATED, response.status_int) self._validate_attributes(self.fake_attribute_objs[0], out_attribute)",,12,0
openstack%2Fironic~master~Ia0c74cbeecdb9febf9f7a4e76db84e0f378a97fc,openstack/ironic,master,Ia0c74cbeecdb9febf9f7a4e76db84e0f378a97fc,CI: Reset VM footprint to 2.6GB,MERGED,2023-01-04 01:44:13.000000000,2023-01-11 00:50:08.000000000,2023-01-11 00:48:16.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-01-04 01:44:13.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0230d361f40c570577cb2e1eab3ea0d530fa3699', 'message': 'CI: Reset VM footprint to 2.6GB\n\nThis commit partially reverts change set\nI0bfef09a5312a17be54ce5c09805f06b7c349026\nwhere the amount of memory for test VMs was\nincreased to 4GB. This was because excess\njunk getting stuck in the staged ramdisk\nimages used by CI.\n\nChange-Id: Ia0c74cbeecdb9febf9f7a4e76db84e0f378a97fc\n'}]",2,869136,0230d361f40c570577cb2e1eab3ea0d530fa3699,12,3,1,11655,,,0,"CI: Reset VM footprint to 2.6GB

This commit partially reverts change set
I0bfef09a5312a17be54ce5c09805f06b7c349026
where the amount of memory for test VMs was
increased to 4GB. This was because excess
junk getting stuck in the staged ramdisk
images used by CI.

Change-Id: Ia0c74cbeecdb9febf9f7a4e76db84e0f378a97fc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/869136/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,0230d361f40c570577cb2e1eab3ea0d530fa3699,, IRONIC_VM_SPECS_RAM: 2600, IRONIC_VM_SPECS_RAM: 4096,1,1
openstack%2Fpython-novaclient~stable%2Fyoga~I442568a5f5900e593feb2b5527109e0aa79e5aa7,openstack/python-novaclient,stable/yoga,I442568a5f5900e593feb2b5527109e0aa79e5aa7,[stable-only] Pin tox <4,MERGED,2023-01-09 18:54:48.000000000,2023-01-11 00:44:40.000000000,2023-01-11 00:43:36.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 18:54:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/79c21ab698055504567c45a31e18c7cc1eedf50b', 'message': '[stable-only] Pin tox <4\n\nWe pinned tox<4 for stable branches in common jobs\nand in devstack playbook but that was not enough for\npython client functional jobs where tox is upgraded to\nlatest by pip.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html\n\nThis commit adds tox<4 pin explicitly in tox.ini\n\nChange-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7\n(cherry picked from commit 7c3f3bc615cb91cd0106f91b0452bf7968ff3598)\n'}]",2,869597,79c21ab698055504567c45a31e18c7cc1eedf50b,9,3,1,8556,,,0,"[stable-only] Pin tox <4

We pinned tox<4 for stable branches in common jobs
and in devstack playbook but that was not enough for
python client functional jobs where tox is upgraded to
latest by pip.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html

This commit adds tox<4 pin explicitly in tox.ini

Change-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7
(cherry picked from commit 7c3f3bc615cb91cd0106f91b0452bf7968ff3598)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/97/869597/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,79c21ab698055504567c45a31e18c7cc1eedf50b,tox4,requires = tox<4,,1,0
openstack%2Fproject-config~master~I91f8b9264b17a27855942c5e375d81ce0b1c99d9,openstack/project-config,master,I91f8b9264b17a27855942c5e375d81ce0b1c99d9,openstack-afs.yaml : correct indentation,MERGED,2023-01-10 21:57:43.000000000,2023-01-11 00:17:02.000000000,2023-01-11 00:17:02.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 21:57:43.000000000', 'files': ['playbooks/publish/openstack-afs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/92d9cd7d8d994c42d880f4b735fc8119ceec8888', 'message': 'openstack-afs.yaml : correct indentation\n\nThis was found by the linter\n\nChange-Id: I91f8b9264b17a27855942c5e375d81ce0b1c99d9\n'}]",2,869772,92d9cd7d8d994c42d880f4b735fc8119ceec8888,9,3,1,7118,,,0,"openstack-afs.yaml : correct indentation

This was found by the linter

Change-Id: I91f8b9264b17a27855942c5e375d81ce0b1c99d9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/869772/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish/openstack-afs.yaml'],1,92d9cd7d8d994c42d880f4b735fc8119ceec8888,nb04-osuosl," # Note that ""{{ afs.path }}"" is a valid afs_target and thus # afs_subpath can be empty, we need this for openstack-manuals # publishing. - name: Set default afs_subpath set_fact: our_afs_subpath: ""/{{ zuul.project.short_name }}"" when: afs_subpath is not defined - name: Use defined afs_subpath set_fact: our_afs_subpath: ""{{ afs_subpath }}"" when: afs_subpath is defined"," # Note that ""{{ afs.path }}"" is a valid afs_target and thus # afs_subpath can be empty, we need this for openstack-manuals # publishing. - name: Set default afs_subpath set_fact: our_afs_subpath: ""/{{ zuul.project.short_name }}"" when: afs_subpath is not defined - name: Use defined afs_subpath set_fact: our_afs_subpath: ""{{ afs_subpath }}"" when: afs_subpath is defined",11,12
openstack%2Fironic-ui~master~Id4d4b1306999bef9d0e894a2ae7d104caef55075,openstack/ironic-ui,master,Id4d4b1306999bef9d0e894a2ae7d104caef55075,Fix tox4 errors,MERGED,2022-12-28 14:05:11.000000000,2023-01-10 23:38:00.000000000,2023-01-10 23:36:04.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/07565fe3ac12aa50eed9ce93c485dde539cc202d', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075\n'}, {'number': 2, 'created': '2022-12-28 14:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/ead12ce58932704b53073146bd60f3d20c597466', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075\n'}, {'number': 3, 'created': '2023-01-09 09:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/278563a311f614556895fd5b3267bbf63a86ec84', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075\n'}, {'number': 4, 'created': '2023-01-09 09:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/cf931d9dd29c880acebc3347685a9b95d86cfa78', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075\n'}, {'number': 5, 'created': '2023-01-09 11:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/29311c9d42b1b310672eeb884f2f864f5b0a1e3b', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075\n'}, {'number': 6, 'created': '2023-01-09 11:29:10.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/85630a37979104d895f899182d71778f2fb194ca', 'message': 'Fix tox4 errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075\n'}]",2,868755,85630a37979104d895f899182d71778f2fb194ca,18,2,6,23851,,,0,"Fix tox4 errors

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.

Change-Id: Id4d4b1306999bef9d0e894a2ae7d104caef55075
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/55/868755/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,07565fe3ac12aa50eed9ce93c485dde539cc202d,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fironic~master~I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41,openstack/ironic,master,I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41,Capture [pxe]loader_file_paths for distros,NEW,2021-10-25 23:54:42.000000000,2023-01-10 23:03:25.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 23:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/151cd700e22c0ff5b51ca54b83b432f019521ccc', 'message': 'WIP Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\nexisting ironic-dist.conf)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices.\n\nWIP to prompt some discussion on maintaining distro specific conf in\nironic, and also devstack needs\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 2, 'created': '2021-10-27 03:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ca8990a1f1ec63505602fdaf4c35950426e0628', 'message': 'WIP Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\nexisting ironic-dist.conf)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices.\n\nWIP to prompt some discussion on maintaining distro specific conf in\nironic, and also devstack needs\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 3, 'created': '2021-10-27 21:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29e88085ffc769dc2ab183f81b40869c9aac0047', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\nexisting ironic-dist.conf)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 4, 'created': '2021-10-28 01:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/078f972c00d69e0f8538a1b042e05ce5142ff4b6', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\nexisting ironic-dist.conf)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 5, 'created': '2021-10-28 02:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8393b14f8967cc5c761f67da270168983b46bf78', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\nexisting ironic-dist.conf)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 6, 'created': '2021-11-01 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1934777097f0cfd0db4fcd1b738ee05c6d689f0', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 7, 'created': '2021-11-01 00:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf7586d5456b5772ae40604252c9fa11494d27f3', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 8, 'created': '2021-11-01 04:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6249c6ca1f4647e8689218488cedb8989734c274', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 9, 'created': '2021-11-02 00:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3f4914bff9afaba7557dfbcbe531dbef577abec', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 10, 'created': '2021-11-02 03:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffe557cda482824a97df0e4db730b257f5ee4f63', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 11, 'created': '2021-11-02 21:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/edc4193cf61de1c38a0e844b371bba4b0f7ff78d', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 12, 'created': '2021-11-23 20:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/186dd5559c2243da0c5b705041507492ee6ef4da', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 13, 'created': '2021-11-24 20:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e346061fc44d9f4379a56b5b4a3d58cd73e1dd83', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 14, 'created': '2021-11-24 20:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b47ceb8fdefdd7efa58e664162191a4e0eadfb4', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 15, 'created': '2021-11-25 21:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/635a377d541373c8da7719f925e9a67c46a49407', 'message': 'Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n'}, {'number': 16, 'created': '2021-11-29 23:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/235152bcbc4b0e1c0d30e9f64215afecf6ef8865', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 17, 'created': '2021-12-01 03:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5629bb2bf451601615b778a820a253e86068153', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 18, 'created': '2021-12-02 01:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5793d17b91ac581af5ef06f456dcb863521c8c79', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 19, 'created': '2021-12-03 03:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37191b6adef639d924483d00e53e902820e0e559', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 20, 'created': '2021-12-05 21:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bdf49b5c1a34106a95956a0f95423bd40ba45fda', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 21, 'created': '2021-12-06 04:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ac748ef5d00e8d682e5f7831d8a7968e7b99dfb', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 22, 'created': '2021-12-07 22:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f767e2445f30833afb8f59265462da5d1b0bc81', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 23, 'created': '2021-12-10 03:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f293d69065471b2cac9836911f2ec1997db309f', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 24, 'created': '2021-12-12 22:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3732bc979690ef9bc16e71d23ef65faeb79f2071', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}, {'number': 25, 'created': '2021-12-20 00:00:31.000000000', 'files': ['devstack/lib/ironic', 'etc/ironic/ironic-dist-debian.conf', 'etc/ironic/ironic-dist-fedora.conf', 'etc/ironic/ironic-dist-suse.conf', 'etc/ironic/ironic-dist-rhel.conf', 'setup.cfg', 'etc/ironic/ironic-dist-ubuntu.conf', 'doc/source/install/configure-pxe.rst', 'etc/ironic/ironic-dist-centos.conf'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa54bc64e0faa104d202dca045dd76c1994fbb29', 'message': ""Capture [pxe]loader_file_paths for distros\n\nThis change adds distro specific config files to etc/ironic which\ncaptures values for loader_file_paths. By setting this value, ironic\nwill populate TFTP and HTTP directories with distro packaged binaries\non controller startup, meaning that deployment tools no longer need be\nresponsible for populating these directories.\n\nIt is proposed that maintaining these values in the ironic repository\nwill reduce the amount of duplication across packaging and deployment\ntools. Consumers of ironic releases are expected to consume these\nfiles in the following ways.\n\nPackaging (RDO, debian, ubuntu, SUSE):\nUse the appropriate file as its ironic-dist.conf (or merge it with any\npackaged configuration)\n\nPython packaged deployment tools (devstack, bifrost):\nChoose the appropriate ironic-dist-*.conf based on detected distro,\nand include that configuration when starting services.\n\nDistro packaged deployment tools (TripleO, puppet-ironic, metal3\nironic-image, ubuntu charms):\nEnsure the packaged ironic-dist.conf is included when starting ironic\nservices, deprecate parameters which trigger file copying.\n\nDebian family and SUSE include grub and shim files but Red Hat family\ndoes not because they're packaged to only allow read by root. These\ncan be added back if the copy operations can be done with privsep.\n\nChange-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41\n""}]",11,815392,fa54bc64e0faa104d202dca045dd76c1994fbb29,155,2,25,4571,,,0,"Capture [pxe]loader_file_paths for distros

This change adds distro specific config files to etc/ironic which
captures values for loader_file_paths. By setting this value, ironic
will populate TFTP and HTTP directories with distro packaged binaries
on controller startup, meaning that deployment tools no longer need be
responsible for populating these directories.

It is proposed that maintaining these values in the ironic repository
will reduce the amount of duplication across packaging and deployment
tools. Consumers of ironic releases are expected to consume these
files in the following ways.

Packaging (RDO, debian, ubuntu, SUSE):
Use the appropriate file as its ironic-dist.conf (or merge it with any
packaged configuration)

Python packaged deployment tools (devstack, bifrost):
Choose the appropriate ironic-dist-*.conf based on detected distro,
and include that configuration when starting services.

Distro packaged deployment tools (TripleO, puppet-ironic, metal3
ironic-image, ubuntu charms):
Ensure the packaged ironic-dist.conf is included when starting ironic
services, deprecate parameters which trigger file copying.

Debian family and SUSE include grub and shim files but Red Hat family
does not because they're packaged to only allow read by root. These
can be added back if the copy operations can be done with privsep.

Change-Id: I82a5b333fd11e2d2b7f85f5f4a554b4fc7cc6c41
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/815392/11 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic/ironic-dist-deb-family.conf', 'etc/ironic/ironic-dist-fedora.conf', 'etc/ironic/ironic-dist-suse.conf', 'etc/ironic/ironic-dist-rhel.conf', 'setup.cfg', 'etc/ironic/ironic-dist-centos.conf']",6,151cd700e22c0ff5b51ca54b83b432f019521ccc,loader_file_paths,"[pxe] # Requires packages: # ipxe-bootimgs # shim # grub2-efi loader_file_paths = ipxe.efi:/usr/share/ipxe/ipxe-snponly-x86_64.efi, \ undionly.kpxe:/usr/share/ipxe/undionly.kpxe, \ ipxe.lkrn:/usr/share/ipxe/ipxe.lkrn, \ bootx86.efi:/boot/efi/EFI/centos/shimx64.efi, \ grubx86.efi:/boot/efi/EFI/centos/grubx64.efi",,51,0
openstack%2Fironic-inspector~bugfix%2F10.12~I15f0b1f22321bb59310bab9138edc1597c00b99e,openstack/ironic-inspector,bugfix/10.12,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,ABANDONED,2022-12-15 18:26:32.000000000,2023-01-10 23:02:47.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}]","[{'number': 1, 'created': '2022-12-15 18:26:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1988ade3897bba01db3101c5cc121608fb229bb2', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867854,1988ade3897bba01db3101c5cc121608fb229bb2,5,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/54/867854/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1988ade3897bba01db3101c5cc121608fb229bb2,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fnetworking-generic-switch~stable%2Ftrain~I39bc062812f3999c5b18cf447483f90efaac76fb,openstack/networking-generic-switch,stable/train,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,ABANDONED,2022-12-15 18:52:37.000000000,2023-01-10 23:02:39.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}]","[{'number': 1, 'created': '2022-12-15 18:52:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f8126b766171024bf5aa67b81b4367e373bf1061', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867879,f8126b766171024bf5aa67b81b4367e373bf1061,5,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/79/867879/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8126b766171024bf5aa67b81b4367e373bf1061,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Fnetworking-generic-switch~stable%2Fxena~I39bc062812f3999c5b18cf447483f90efaac76fb,openstack/networking-generic-switch,stable/xena,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,ABANDONED,2022-12-15 18:50:27.000000000,2023-01-10 23:02:13.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}]","[{'number': 1, 'created': '2022-12-15 18:50:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/821f55509f243fdee295efc79071f45957990a2f', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867875,821f55509f243fdee295efc79071f45957990a2f,5,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/75/867875/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,821f55509f243fdee295efc79071f45957990a2f,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Fnetworking-generic-switch~stable%2Fvictoria~I39bc062812f3999c5b18cf447483f90efaac76fb,openstack/networking-generic-switch,stable/victoria,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,ABANDONED,2022-12-15 18:51:35.000000000,2023-01-10 23:02:03.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}]","[{'number': 1, 'created': '2022-12-15 18:51:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/d92222cba29e1ad42a6365bdf147f01da92a82c2', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867877,d92222cba29e1ad42a6365bdf147f01da92a82c2,5,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/77/867877/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d92222cba29e1ad42a6365bdf147f01da92a82c2,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Fironic-python-agent~stable%2Ftrain~I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,openstack/ironic-python-agent,stable/train,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,ABANDONED,2022-12-15 19:43:58.000000000,2023-01-10 23:01:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 19:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f5eb0a8d2245e04401f439bf4a74f46a4e254e9e', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 19:44:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/52cd1854335d3a3229b5f8aaa914370eb03f7568', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867911,52cd1854335d3a3229b5f8aaa914370eb03f7568,6,1,2,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/11/867911/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f5eb0a8d2245e04401f439bf4a74f46a4e254e9e,,<<<<<<< HEAD (dd9dc7 CI: Zuul no longer respects queue param)======= basepython = python3 >>>>>>> CHANGE (a4b0f3 Fixes for tox 4.0)passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY<<<<<<< HEAD (dd9dc7 CI: Zuul no longer respects queue param)======= >>>>>>> CHANGE (a4b0f3 Fixes for tox 4.0),passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,14,1
openstack%2Fnetworking-generic-switch~stable%2Fwallaby~I39bc062812f3999c5b18cf447483f90efaac76fb,openstack/networking-generic-switch,stable/wallaby,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,ABANDONED,2022-12-15 18:51:14.000000000,2023-01-10 23:01:49.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}]","[{'number': 1, 'created': '2022-12-15 18:51:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f01b6853e22be2319a2a2f69501e8e71a664d585', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867876,f01b6853e22be2319a2a2f69501e8e71a664d585,5,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/76/867876/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f01b6853e22be2319a2a2f69501e8e71a664d585,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Fnetworking-generic-switch~stable%2Fussuri~I39bc062812f3999c5b18cf447483f90efaac76fb,openstack/networking-generic-switch,stable/ussuri,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,ABANDONED,2022-12-15 18:52:04.000000000,2023-01-10 23:01:42.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}]","[{'number': 1, 'created': '2022-12-15 18:52:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f2fd4006bfa9f430e6bf02dba6d4a8b4214d09b1', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867878,f2fd4006bfa9f430e6bf02dba6d4a8b4214d09b1,5,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/78/867878/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f2fd4006bfa9f430e6bf02dba6d4a8b4214d09b1,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Fironic-python-agent~stable%2Fvictoria~I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,openstack/ironic-python-agent,stable/victoria,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,ABANDONED,2022-12-15 19:41:39.000000000,2023-01-10 23:01:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 19:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/022d3f58587d5f9d9f9fc20feaf71de48b01a6b5', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 19:42:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a25397d62bd75468fbcb0773dd20581c4569c354', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867889,a25397d62bd75468fbcb0773dd20581c4569c354,6,1,2,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/89/867889/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,022d3f58587d5f9d9f9fc20feaf71de48b01a6b5,,"<<<<<<< HEAD (6c34d1 CI: Zuul no longer respects queue param)======= minversion = 3.9.0 >>>>>>> CHANGE (4d9ae8 Fixes for tox 4.0)passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY<<<<<<< HEAD (6c34d1 CI: Zuul no longer respects queue param) ======= deps= hacking>=3.1.0,<4.0.0 # Apache-2.0 bashate>=0.5.1 # Apache-2.0 flake8-import-order>=0.17.1 # LGPLv3 pycodestyle>=2.0.0,<2.7.0 # MIT doc8>=0.8.1 # Apache-2.0 >>>>>>> CHANGE (4d9ae8 Fixes for tox 4.0)<<<<<<< HEAD (6c34d1 CI: Zuul no longer respects queue param) ======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -r{toxinidir}/doc/requirements.txt >>>>>>> CHANGE (4d9ae8 Fixes for tox 4.0)<<<<<<< HEAD (6c34d1 CI: Zuul no longer respects queue param)======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -r{toxinidir}/test-requirements.txt >>>>>>> CHANGE (4d9ae8 Fixes for tox 4.0)",usedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,32,2
openstack%2Fironic-python-agent~stable%2Fussuri~I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,openstack/ironic-python-agent,stable/ussuri,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,ABANDONED,2022-12-15 19:43:40.000000000,2023-01-10 23:01:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 19:43:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a4b0f3b04311c8ce34aa11b0235ee9332f9ba6d5', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867910,a4b0f3b04311c8ce34aa11b0235ee9332f9ba6d5,4,1,1,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/10/867910/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a4b0f3b04311c8ce34aa11b0235ee9332f9ba6d5,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,usedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = True,7,3
openstack%2Fironic-python-agent~bugfix%2F8.3~I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,openstack/ironic-python-agent,bugfix/8.3,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,ABANDONED,2022-12-15 19:39:37.000000000,2023-01-10 23:00:53.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-15 19:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/468ac058c29f447d09aad256a7c68525fe9a7602', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 23:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cbb17f1d16f594aab1cd30c52f7424e4f2318ecd', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/867916\n'}, {'number': 3, 'created': '2022-12-19 10:19:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f3ebef0e630b2aa21aab3299f592d31b5850118e', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/867916\n'}]",0,867885,f3ebef0e630b2aa21aab3299f592d31b5850118e,12,3,3,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
Depends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/867916
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/85/867885/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,468ac058c29f447d09aad256a7c68525fe9a7602,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,7
openstack%2Fironic-python-agent~bugfix%2F8.6~I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,openstack/ironic-python-agent,bugfix/8.6,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,ABANDONED,2022-12-15 19:38:52.000000000,2023-01-10 23:00:43.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-15 19:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/966b20b7f7595884d9eb9ddcfa4de8ad5bb0416a', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 23:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/638581895107bb0cff2deb38b22826450bfd1b0f', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/867915\n'}, {'number': 3, 'created': '2022-12-19 10:25:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6cb560bc84626189549d092bafaa882a62d71d18', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/867915\n'}]",1,867883,6cb560bc84626189549d092bafaa882a62d71d18,14,3,3,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
Depends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/867915
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/83/867883/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,966b20b7f7595884d9eb9ddcfa4de8ad5bb0416a,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,7
openstack%2Fproject-config~master~I6ddb8aa706b7060c88cad59714b3ca13d0e366e4,openstack/project-config,master,I6ddb8aa706b7060c88cad59714b3ca13d0e366e4,Update jeepyb gerrit image build deps,ABANDONED,2023-01-10 21:03:06.000000000,2023-01-10 23:00:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-10 21:03:06.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/927bae9a4e1a9d3bc96823b8a8f5acecea5a27e4', 'message': ""Update jeepyb gerrit image build deps\n\nWe've moved ahead to python3.10 in the depends-on.\n\nDepends-On: https://review.opendev.org/c/opendev/system-config/+/869764\nChange-Id: I6ddb8aa706b7060c88cad59714b3ca13d0e366e4\n""}]",0,869766,927bae9a4e1a9d3bc96823b8a8f5acecea5a27e4,3,1,1,4146,,,0,"Update jeepyb gerrit image build deps

We've moved ahead to python3.10 in the depends-on.

Depends-On: https://review.opendev.org/c/opendev/system-config/+/869764
Change-Id: I6ddb8aa706b7060c88cad59714b3ca13d0e366e4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/869766/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,927bae9a4e1a9d3bc96823b8a8f5acecea5a27e4,gerrit-cleanup, - name: system-config-build-image-python-builder-3.10-bullseye - name: system-config-build-image-python-builder-3.10-bullseye, - name: system-config-build-image-python-builder-3.9-bullseye - name: system-config-build-image-python-builder-3.9-bullseye,2,2
openstack%2Ftripleo-quickstart-extras~master~I7eb7b8dac1c17ba0eaba8cac12861a18224fac30,openstack/tripleo-quickstart-extras,master,I7eb7b8dac1c17ba0eaba8cac12861a18224fac30,Remove trunk.registry from tripleo-quickstart-extras repo,MERGED,2022-11-22 08:17:56.000000000,2023-01-10 22:39:34.000000000,2023-01-10 22:39:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-11-22 08:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c1b766e5f53b1bf4317f235869fc94eb879c21d', 'message': 'Remove trunk.registry from tripleo-quickstart-extras repo\n\ntrunk.registry.rdoproject.org going to decomission soon.\nThis patch will replace trunk.registry to\nquay.rdoproject.org.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I7eb7b8dac1c17ba0eaba8cac12861a18224fac30\n'}, {'number': 2, 'created': '2023-01-10 07:32:54.000000000', 'files': ['roles/container-build/defaults/main.yaml', 'roles/container-build/tasks/non_tripleo_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3354572e1e599f5f07c9968eb8b4b5e035a96086', 'message': 'Remove trunk.registry from tripleo-quickstart-extras repo\n\ntrunk.registry.rdoproject.org going to decomission soon.\nThis patch will replace trunk.registry to\nquay.rdoproject.org.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I7eb7b8dac1c17ba0eaba8cac12861a18224fac30\n'}]",8,865241,3354572e1e599f5f07c9968eb8b4b5e035a96086,16,5,2,30750,,,0,"Remove trunk.registry from tripleo-quickstart-extras repo

trunk.registry.rdoproject.org going to decomission soon.
This patch will replace trunk.registry to
quay.rdoproject.org.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I7eb7b8dac1c17ba0eaba8cac12861a18224fac30
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/865241/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/container-build/defaults/main.yaml', 'roles/container-build/tasks/non_tripleo_containers.yml']",2,3c1b766e5f53b1bf4317f235869fc94eb879c21d,rdo_registry_decomission," command: ""podman pull docker://quay.rdoproject.org/ceph/{{ item.split('/')[-1] }}"""," command: ""podman pull docker://trunk.registry.rdoproject.org/ceph/{{ item.split('/')[-1] }}""",2,2
openstack%2Fopenstacksdk~master~Ie311a6b90e4a855fbb2a76c7595d8703fa8caa0b,openstack/openstacksdk,master,Ie311a6b90e4a855fbb2a76c7595d8703fa8caa0b,Allow passing more arguments to create_port,MERGED,2022-12-19 16:34:46.000000000,2023-01-10 21:57:25.000000000,2023-01-10 21:53:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-19 16:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7e1432053125d9411b0b58248b71a788fda85c2e', 'message': 'Allow passing project_id to create_port\n\nYou can pass project_id to create_port to specify the project where the\nport should be created in.\n\nChange-Id: Ie311a6b90e4a855fbb2a76c7595d8703fa8caa0b\n'}, {'number': 2, 'created': '2022-12-22 13:27:59.000000000', 'files': ['openstack/tests/unit/cloud/test_port.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3356e7ceca8f2f8fd910126123e4d6390461d7c8', 'message': 'Allow passing more arguments to create_port\n\ncreate_port missed a large amount of arguments that are valid from an\napi perspective. We add them now here.\n\nChange-Id: Ie311a6b90e4a855fbb2a76c7595d8703fa8caa0b\n'}]",7,868106,3356e7ceca8f2f8fd910126123e4d6390461d7c8,20,3,2,29074,,,0,"Allow passing more arguments to create_port

create_port missed a large amount of arguments that are valid from an
api perspective. We add them now here.

Change-Id: Ie311a6b90e4a855fbb2a76c7595d8703fa8caa0b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/06/868106/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_port.py', 'openstack/cloud/_network.py']",2,7e1432053125d9411b0b58248b71a788fda85c2e,fix_create_port_project_id," 'qos_policy_id', 'binding:host_id', 'project_id')"," 'qos_policy_id', 'binding:host_id')",24,1
openstack%2Fopenstacksdk~master~I58061e4df18ab1bb92bb52b8d2ea110b5233c980,openstack/openstacksdk,master,I58061e4df18ab1bb92bb52b8d2ea110b5233c980,Move _normalize_coe_* into _coe class,MERGED,2022-11-18 16:32:17.000000000,2023-01-10 21:40:14.000000000,2023-01-10 21:39:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-18 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/64e83037ddc3b7775e73cd476a0278f03b930449', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}, {'number': 2, 'created': '2022-11-18 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a419692b83508697fcb1693ecf51905b39e7a1d8', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}, {'number': 3, 'created': '2022-11-18 16:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e8204810dba02f6a495e8904994dbe600f2fa04a', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}, {'number': 4, 'created': '2022-11-19 09:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/de602814853d73ba0adccc0e498a4842e4549601', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}, {'number': 5, 'created': '2022-12-05 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e1f58f02b7fba872e2fb32dc971370c279853308', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}, {'number': 6, 'created': '2023-01-03 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e4d05213d7e8189559d8167d35dced97713f91bb', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}, {'number': 7, 'created': '2023-01-05 15:10:09.000000000', 'files': ['openstack/cloud/_coe.py', 'openstack/image/v1/_proxy.py', 'openstack/tests/unit/cloud/test_image.py', 'openstack/tests/unit/cloud/test_normalize.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a79ee9ae3664c138208674e7ae71919becd67909', 'message': 'Move _normalize_coe_* into _coe class\n\nstop inheriting _coe class from _normalize and move 2 required method\ninto the class itself. Since this is the last class pulling _normalize\nit is seen that image.v1 method is failing on trying to do normalize.\nStop doing that and return plain SDK resource.\n\nChange-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980\n'}]",7,865043,a79ee9ae3664c138208674e7ae71919becd67909,22,3,7,27900,,,0,"Move _normalize_coe_* into _coe class

stop inheriting _coe class from _normalize and move 2 required method
into the class itself. Since this is the last class pulling _normalize
it is seen that image.v1 method is failing on trying to do normalize.
Stop doing that and return plain SDK resource.

Change-Id: I58061e4df18ab1bb92bb52b8d2ea110b5233c980
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/43/865043/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_coe.py', 'openstack/image/v1/_proxy.py', 'openstack/tests/unit/cloud/test_normalize.py']",3,64e83037ddc3b7775e73cd476a0278f03b930449,sdk_r1,,"from openstack.image.v2 import image as image_resource def test_normalize_nova_images(self): raw_image = RAW_NOVA_IMAGE_DICT.copy() expected = { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False', 'OS-DCF:diskConfig': u'MANUAL', 'checksum': None, 'container_format': None, 'created': u'2015-02-15T22:58:45Z', 'created_at': '2015-02-15T22:58:45Z', 'direct_url': None, 'disk_format': None, 'file': None, 'id': u'f2868d7c-63e1-4974-a64d-8670a86df21e', 'is_protected': False, 'is_public': False, 'location': { 'cloud': '_test_cloud_', 'project': { 'domain_id': None, 'domain_name': 'default', 'id': '1c36b64c840a42cd9e9b931a369337f0', 'name': 'admin'}, 'region_name': u'RegionOne', 'zone': None}, 'locations': [], 'metadata': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False', 'OS-DCF:diskConfig': u'MANUAL', 'progress': 100}, 'minDisk': 20, 'minRam': 0, 'min_disk': 20, 'min_ram': 0, 'name': u'Test Monty Ubuntu', 'owner': None, 'progress': 100, 'properties': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False', 'OS-DCF:diskConfig': u'MANUAL', 'progress': 100}, 'protected': False, 'size': 323004185, 'status': u'active', 'tags': [], 'updated': u'2015-02-15T23:04:34Z', 'updated_at': u'2015-02-15T23:04:34Z', 'virtual_size': 0, 'visibility': 'private'} retval = self.cloud._normalize_image(raw_image) self.assertEqual(expected, retval) def test_normalize_glance_images(self): raw_image = RAW_GLANCE_IMAGE_DICT.copy() expected = { u'auto_disk_config': u'False', 'checksum': u'774f48af604ab1ec319093234c5c0019', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', 'container_format': u'ovf', 'created': u'2015-02-15T22:58:45Z', 'created_at': u'2015-02-15T22:58:45Z', 'direct_url': None, 'disk_format': u'vhd', 'file': u'/v2/images/f2868d7c-63e1-4974-a64d-8670a86df21e/file', 'id': u'f2868d7c-63e1-4974-a64d-8670a86df21e', u'image_type': u'import', 'is_protected': False, 'is_public': False, 'location': { 'cloud': '_test_cloud_', 'project': { 'domain_id': None, 'domain_name': None, 'id': u'610275', 'name': None}, 'region_name': u'RegionOne', 'zone': None}, 'locations': [], 'metadata': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_hash_algo': u'sha512', u'os_hash_value': u'fake_hash', u'os_hidden': False, u'os_type': u'linux', u'schema': u'/v2/schemas/image', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False'}, 'minDisk': 20, 'min_disk': 20, 'minRam': 0, 'min_ram': 0, 'name': u'Test Monty Ubuntu', u'org.openstack__1__architecture': u'x64', u'os_hash_algo': u'sha512', u'os_hash_value': u'fake_hash', u'os_hidden': False, u'os_type': u'linux', 'owner': u'610275', 'properties': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_hash_algo': u'sha512', u'os_hash_value': u'fake_hash', u'os_hidden': False, u'os_type': u'linux', u'schema': u'/v2/schemas/image', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False'}, 'protected': False, u'schema': u'/v2/schemas/image', 'size': 323004185, 'status': u'active', 'tags': [], 'updated': u'2015-02-15T23:04:34Z', 'updated_at': u'2015-02-15T23:04:34Z', u'user_id': u'156284', 'virtual_size': 0, 'visibility': u'private', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False'} retval = self.cloud._normalize_image(raw_image) self.assertEqual(expected, retval) # Check normalization from Image resource image = image_resource.Image.existing(**RAW_GLANCE_IMAGE_DICT) retval = self.cloud._normalize_image(image) self.assertDictEqual(expected, retval) def test_normalize_nova_images(self): raw_image = RAW_NOVA_IMAGE_DICT.copy() expected = { 'checksum': None, 'container_format': None, 'created_at': '2015-02-15T22:58:45Z', 'direct_url': None, 'disk_format': None, 'file': None, 'id': u'f2868d7c-63e1-4974-a64d-8670a86df21e', 'is_protected': False, 'is_public': False, 'location': { 'cloud': '_test_cloud_', 'project': { 'domain_id': None, 'domain_name': 'default', 'id': u'1c36b64c840a42cd9e9b931a369337f0', 'name': 'admin'}, 'region_name': u'RegionOne', 'zone': None}, 'locations': [], 'min_disk': 20, 'min_ram': 0, 'name': u'Test Monty Ubuntu', 'owner': None, 'properties': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False', 'OS-DCF:diskConfig': u'MANUAL', 'progress': 100}, 'size': 323004185, 'status': u'active', 'tags': [], 'updated_at': u'2015-02-15T23:04:34Z', 'virtual_size': 0, 'visibility': 'private'} retval = self.cloud._normalize_image(raw_image) self.assertEqual(sorted(expected.keys()), sorted(retval.keys())) self.assertEqual(expected, retval) def test_normalize_glance_images(self): raw_image = RAW_GLANCE_IMAGE_DICT.copy() expected = { 'checksum': u'774f48af604ab1ec319093234c5c0019', 'container_format': u'ovf', 'created_at': u'2015-02-15T22:58:45Z', 'direct_url': None, 'disk_format': u'vhd', 'file': u'/v2/images/f2868d7c-63e1-4974-a64d-8670a86df21e/file', 'id': u'f2868d7c-63e1-4974-a64d-8670a86df21e', 'is_protected': False, 'is_public': False, 'location': { 'cloud': '_test_cloud_', 'project': { 'domain_id': None, 'domain_name': None, 'id': u'610275', 'name': None}, 'region_name': u'RegionOne', 'zone': None}, 'locations': [], 'min_disk': 20, 'min_ram': 0, 'name': u'Test Monty Ubuntu', 'owner': u'610275', 'properties': { u'auto_disk_config': u'False', u'com.rackspace__1__build_core': u'1', u'com.rackspace__1__build_managed': u'1', u'com.rackspace__1__build_rackconnect': u'1', u'com.rackspace__1__options': u'0', u'com.rackspace__1__source': u'import', u'com.rackspace__1__visible_core': u'1', u'com.rackspace__1__visible_managed': u'1', u'com.rackspace__1__visible_rackconnect': u'1', u'image_type': u'import', u'org.openstack__1__architecture': u'x64', u'os_type': u'linux', u'os_hash_algo': u'sha512', u'os_hash_value': u'fake_hash', u'os_hidden': False, u'schema': u'/v2/schemas/image', u'user_id': u'156284', u'vm_mode': u'hvm', u'xenapi_use_agent': u'False'}, 'size': 323004185, 'status': u'active', 'tags': [], 'updated_at': u'2015-02-15T23:04:34Z', 'virtual_size': 0, 'visibility': 'private'} retval = self.cloud._normalize_image(raw_image) self.assertEqual(sorted(expected.keys()), sorted(retval.keys())) self.assertEqual(expected, retval) ",44,312
openstack%2Fnova~stable%2Fvictoria~I27441d15cc6fa2ff7715ba15aa900961aadbf54a,openstack/nova,stable/victoria,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 17:29:42.000000000,2023-01-10 21:40:12.000000000,2023-01-10 21:39:06.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 17:29:42.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77bc3f004e7fe4077ea035c659630bedef1cfea1', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nConflicts:\n    nova/tests/unit/console/test_websocketproxy.py\n\nNOTE(melwitt): The conflict is because change\nI58b0382c86d4ef798572edb63d311e0e3e6937bb\n(Refactor and rename test_tcp_rst_no_compute_rpcapi) is not in\nVictoria.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)\n(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)\n""}]",2,866195,77bc3f004e7fe4077ea035c659630bedef1cfea1,8,3,1,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Conflicts:
    nova/tests/unit/console/test_websocketproxy.py

NOTE(melwitt): The conflict is because change
I58b0382c86d4ef798572edb63d311e0e3e6937bb
(Refactor and rename test_tcp_rst_no_compute_rpcapi) is not in
Victoria.

Related-Bug: #1927677
Closes-Bug: #1986545

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)
(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)
(cherry picked from commit 3023e162e1a415ddaa70b4b8fbe24b1771dbe424)
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/866195/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,77bc3f004e7fe4077ea035c659630bedef1cfea1,bug/1986545," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",26,35
openstack%2Fcharm-aodh~stable%2Fzed~Ib7d8cbb605723f1077c5a22765b8c2d80077322e,openstack/charm-aodh,stable/zed,Ib7d8cbb605723f1077c5a22765b8c2d80077322e,[DNM] Testing zosci config for tox<4 pinning,ABANDONED,2023-01-10 21:14:51.000000000,2023-01-10 21:26:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-10 21:14:51.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/2e977f333359f6b6d7f44e6e0734edbd22ffddc1', 'message': '[DNM] Testing zosci config for tox<4 pinning\n\nChange-Id: Ib7d8cbb605723f1077c5a22765b8c2d80077322e\n'}]",0,869767,2e977f333359f6b6d7f44e6e0734edbd22ffddc1,3,1,1,11805,,,0,"[DNM] Testing zosci config for tox<4 pinning

Change-Id: Ib7d8cbb605723f1077c5a22765b8c2d80077322e
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/67/869767/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,2e977f333359f6b6d7f44e6e0734edbd22ffddc1,,# TEST[cdg-appendix-n]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html ,[cdg-appendix-n]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html,2,1
openstack%2Fpython-novaclient~stable%2Fzed~I442568a5f5900e593feb2b5527109e0aa79e5aa7,openstack/python-novaclient,stable/zed,I442568a5f5900e593feb2b5527109e0aa79e5aa7,[stable-only] Pin tox <4,MERGED,2023-01-08 20:15:04.000000000,2023-01-10 20:42:01.000000000,2023-01-10 20:40:52.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-08 20:15:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7c3f3bc615cb91cd0106f91b0452bf7968ff3598', 'message': '[stable-only] Pin tox <4\n\nWe pinned tox<4 for stable branches in common jobs\nand in devstack playbook but that was not enough for\npython client functional jobs where tox is upgraded to\nlatest by pip.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html\n\nThis commit adds tox<4 pin explicitly in tox.ini\n\nChange-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7\n'}]",1,869527,7c3f3bc615cb91cd0106f91b0452bf7968ff3598,9,4,1,8556,,,0,"[stable-only] Pin tox <4

We pinned tox<4 for stable branches in common jobs
and in devstack playbook but that was not enough for
python client functional jobs where tox is upgraded to
latest by pip.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html

This commit adds tox<4 pin explicitly in tox.ini

Change-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/27/869527/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c3f3bc615cb91cd0106f91b0452bf7968ff3598,tox4,requires = tox<4,,1,0
openstack%2Fopenstack-ansible~master~Ief28ee62ff76a48b126de8b70a7a1ef8f610f2e1,openstack/openstack-ansible,master,Ief28ee62ff76a48b126de8b70a7a1ef8f610f2e1,Deploy 3 keystone containers for infra CI jobs,MERGED,2023-01-10 12:41:25.000000000,2023-01-10 20:16:12.000000000,2023-01-10 20:14:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 12:41:25.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f37c822023ac46573de171846a2066d8a5a8b219', 'message': 'Deploy 3 keystone containers for infra CI jobs\n\nThis validates that the ssh_keypairs role is able to correctly\nset up the fernet key sharing rsync between multiple keystone\ninstances.\n\nChange-Id: Ief28ee62ff76a48b126de8b70a7a1ef8f610f2e1\n'}]",0,869711,f37c822023ac46573de171846a2066d8a5a8b219,8,3,1,25023,,,0,"Deploy 3 keystone containers for infra CI jobs

This validates that the ssh_keypairs role is able to correctly
set up the fernet key sharing rsync between multiple keystone
instances.

Change-Id: Ief28ee62ff76a48b126de8b70a7a1ef8f610f2e1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/869711/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/openstack_user_config.yml.aio.j2'],1,f37c822023ac46573de171846a2066d8a5a8b219,,{% if 'keystone' in bootstrap_host_scenarios or 'infra' in bootstrap_host_scenarios %}# Also deploy 3 keystone containers for infra jobs as these are run # for patches to the plugins repo containing the ssh key management role,{% if 'keystone' in bootstrap_host_scenarios %},3,1
openstack%2Fcharm-aodh~master~Id250ddec4c5d7720e138d7b3ab490fddd1d99caa,openstack/charm-aodh,master,Id250ddec4c5d7720e138d7b3ab490fddd1d99caa,[DNM] Testing master branch with latest zosci-config changes,ABANDONED,2023-01-10 14:41:34.000000000,2023-01-10 19:59:52.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 14:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/3d442a05286ea423fb0e9d44dd7989ae0ddc7fc5', 'message': '[DNM] Testing master branch with latest zosci-config changes\n\nChange-Id: Id250ddec4c5d7720e138d7b3ab490fddd1d99caa\n'}, {'number': 2, 'created': '2023-01-10 15:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9b08c3037dfad02f5e522b7cc984f17994ad407d', 'message': '[DNM] Testing master branch with latest zosci-config changes\n\nChange-Id: Id250ddec4c5d7720e138d7b3ab490fddd1d99caa\n'}, {'number': 3, 'created': '2023-01-10 15:43:44.000000000', 'files': ['src/README.md', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/5b14831ba5ab9fc6bf36f2079642b90fbec67d3a', 'message': '[DNM] Testing master branch with latest zosci-config changes\n\nChange-Id: Id250ddec4c5d7720e138d7b3ab490fddd1d99caa\n'}]",2,869728,5b14831ba5ab9fc6bf36f2079642b90fbec67d3a,10,2,3,11805,,,0,"[DNM] Testing master branch with latest zosci-config changes

Change-Id: Id250ddec4c5d7720e138d7b3ab490fddd1d99caa
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/28/869728/3 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,3d442a05286ea423fb0e9d44dd7989ae0ddc7fc5,,# Test[cdg-appendix-n]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html ,[cdg-appendix-n]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html,2,1
openstack%2Fnova~master~I0f0520b0d01c85ff4a5f9fd7974262a8daf5e360,openstack/nova,master,I0f0520b0d01c85ff4a5f9fd7974262a8daf5e360,Process all nodes when host aggregate changes,NEW,2023-01-10 11:49:52.000000000,2023-01-10 19:27:39.000000000,,"[{'_account_id': 7166}, {'_account_id': 9542}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 11:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/046f366ad654b816521119e74f00d4ed0ffcc7a6', 'message': 'Process all nodes when host aggregate changes\n\ncurrently when adding or removing host to aggregate, only the first\nnode from this host is added/removed to corresponding placement aggregate.\nThis is confusing for the ironic case, since there multiple compute\nnodes are part of single compute host, and thus only some seemingly\nrandom baremetal nodes are added to placement aggregate (one per\nservice) while the rest are not.\n\nChange-Id: I0f0520b0d01c85ff4a5f9fd7974262a8daf5e360\nCloses-Bug: #2002400\n'}, {'number': 2, 'created': '2023-01-10 17:00:02.000000000', 'files': ['releasenotes/notes/bug-2002400-f5dc6e48921f188b.yaml', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15dbef21563581372fcfb2de976fc7f307ff3967', 'message': 'Process all nodes when host aggregate changes\n\ncurrently when adding or removing host to aggregate, only the first\nnode from this host is added/removed to corresponding placement aggregate.\nThis is confusing for the ironic case, since there multiple compute\nnodes are part of single compute host, and thus only some seemingly\nrandom baremetal nodes are added to placement aggregate (one per\nservice) while the rest are not.\n\nChange-Id: I0f0520b0d01c85ff4a5f9fd7974262a8daf5e360\nCloses-Bug: #2002400\n'}]",7,869687,15dbef21563581372fcfb2de976fc7f307ff3967,13,4,2,9542,,,0,"Process all nodes when host aggregate changes

currently when adding or removing host to aggregate, only the first
node from this host is added/removed to corresponding placement aggregate.
This is confusing for the ironic case, since there multiple compute
nodes are part of single compute host, and thus only some seemingly
random baremetal nodes are added to placement aggregate (one per
service) while the rest are not.

Change-Id: I0f0520b0d01c85ff4a5f9fd7974262a8daf5e360
Closes-Bug: #2002400
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/869687/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,046f366ad654b816521119e74f00d4ed0ffcc7a6,sync-all-bm-nodes-to-aggregates," for node in nodes: node_name = node.hypervisor_hostname try: self.placement_client.aggregate_add_host( context, aggregate.uuid, host_name=node_name) except (exception.ResourceProviderNotFound, exception.ResourceProviderAggregateRetrievalFailed, exception.ResourceProviderUpdateFailed, exception.ResourceProviderUpdateConflict) as err: # NOTE(jaypipes): We don't want a failure perform the mirroring # action in the placement service to be returned to the user # (they probably don't know anything about the placement # service and would just be confused). # So, we just log a warning here, noting that on the next run # of nova-manage placement sync_aggregates things will go back # to normal LOG.warning( ""Failed to associate %s with a placement "" ""aggregate: %s. This may be corrected after running "" ""nova-manage placement sync_aggregates."", node_name, err) for node in nodes: node_name = node.hypervisor_hostname try: # Anything else this raises is handled in the route handler as # either a 409 (ResourceProviderUpdateConflict) or 500. self.placement_client.aggregate_remove_host( context, aggregate.uuid, node_name) except exception.ResourceProviderNotFound as err: # If the resource provider is not found then it's likely # not part of the aggregate anymore anyway since provider # aggregates are not resources themselves with metadata like # nova aggregates, they are just a grouping concept around # resource providers. Log and continue. LOG.warning(""Failed to remove association of %s "" ""with a placement aggregate: %s."", node_name, err)"," node_name = nodes[0].hypervisor_hostname try: self.placement_client.aggregate_add_host( context, aggregate.uuid, host_name=node_name) except (exception.ResourceProviderNotFound, exception.ResourceProviderAggregateRetrievalFailed, exception.ResourceProviderUpdateFailed, exception.ResourceProviderUpdateConflict) as err: # NOTE(jaypipes): We don't want a failure perform the mirroring # action in the placement service to be returned to the user (they # probably don't know anything about the placement service and # would just be confused). So, we just log a warning here, noting # that on the next run of nova-manage placement sync_aggregates # things will go back to normal LOG.warning(""Failed to associate %s with a placement "" ""aggregate: %s. This may be corrected after running "" ""nova-manage placement sync_aggregates."", node_name, err) node_name = nodes[0].hypervisor_hostname try: # Anything else this raises is handled in the route handler as # either a 409 (ResourceProviderUpdateConflict) or 500. self.placement_client.aggregate_remove_host( context, aggregate.uuid, node_name) except exception.ResourceProviderNotFound as err: # If the resource provider is not found then it's likely not part # of the aggregate anymore anyway since provider aggregates are # not resources themselves with metadata like nova aggregates, they # are just a grouping concept around resource providers. Log and # continue. LOG.warning(""Failed to remove association of %s with a placement "" ""aggregate: %s."", node_name, err)",36,32
openstack%2Fopenstack-ansible-plugins~stable%2Fyoga~I40dac8a1281c482953d508f173361e6f789ec229,openstack/openstack-ansible-plugins,stable/yoga,I40dac8a1281c482953d508f173361e6f789ec229,Limit maximum number of threads for parallel git clone,MERGED,2023-01-09 18:53:42.000000000,2023-01-10 19:22:06.000000000,2023-01-10 19:21:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 18:53:42.000000000', 'files': ['plugins/modules/git_requirements'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/4b0c39918e6c8bb7f69b2f8fa1a8d3bd17e65f9c', 'message': 'Limit maximum number of threads for parallel git clone\n\nOn systems with very large numbers of CPU cores enough threads\nwill be launched to exhaust the available number of file descriptors.\n\nThis patch introduces a maximum number of threads which defaults to\n16. This should be sufficient to allow large repositories such as\nnova to take a long time to clone, whilst simultaneously cloning\nmany small repositories in parallel.\n\nChange-Id: I40dac8a1281c482953d508f173361e6f789ec229\n(cherry picked from commit 7f8fe0f3068f81147222040e352b1d205f0e2c9d)\n'}]",1,869464,4b0c39918e6c8bb7f69b2f8fa1a8d3bd17e65f9c,12,3,1,25023,,,0,"Limit maximum number of threads for parallel git clone

On systems with very large numbers of CPU cores enough threads
will be launched to exhaust the available number of file descriptors.

This patch introduces a maximum number of threads which defaults to
16. This should be sufficient to allow large repositories such as
nova to take a long time to clone, whilst simultaneously cloning
many small repositories in parallel.

Change-Id: I40dac8a1281c482953d508f173361e6f789ec229
(cherry picked from commit 7f8fe0f3068f81147222040e352b1d205f0e2c9d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/64/869464/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/git_requirements'],1,4b0c39918e6c8bb7f69b2f8fa1a8d3bd17e65f9c,," core_maximum: description: Integer maximum number of cores that should be used for multithreading. Use of too many cores simultaneously will cause file decscriptors to be exhausted. Defaults to 16. Not required. ""core_maximum"": {""required"": False, ""type"": ""int"", ""default"": 16}, ""core_multiplier"": module.params[""core_multiplier""], ""core_maximum"": module.params[""core_maximum""] core_count = min(core_count, config[""core_maximum""])"," ""core_multiplier"": module.params[""core_multiplier""]",12,2
openstack%2Fpuppet-cinder~stable%2Fzed~I28dabef27ddccd0d343e4e96e16c943dfb6824ac,openstack/puppet-cinder,stable/zed,I28dabef27ddccd0d343e4e96e16c943dfb6824ac,[Pure Storage] Support an array value for pure_iscsi_cidr_list,MERGED,2023-01-10 13:27:25.000000000,2023-01-10 19:10:13.000000000,2023-01-10 19:10:13.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 13:27:25.000000000', 'files': ['spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0cd364045f0d6b4afc5f6a27fb9dd4eb39b44506', 'message': '[Pure Storage] Support an array value for pure_iscsi_cidr_list\n\nThe pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-\nseparated list.\n\nThis allows using a native array value for the parameter so that users\ncan more easily compose the value in manifests.\n\nChange-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac\n(cherry picked from commit 043edf748abb486612ddf9bee9d39221e756c479)\n'}]",1,869640,0cd364045f0d6b4afc5f6a27fb9dd4eb39b44506,6,2,1,9816,,,0,"[Pure Storage] Support an array value for pure_iscsi_cidr_list

The pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-
separated list.

This allows using a native array value for the parameter so that users
can more easily compose the value in manifests.

Change-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac
(cherry picked from commit 043edf748abb486612ddf9bee9d39221e756c479)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/40/869640/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",2,0cd364045f0d6b4afc5f6a27fb9dd4eb39b44506,,"# (Optional) Identifies list of CIDR of FlashArray iSCSI targets hosts are # allowed to connect to. It supports IPv4 and IPv6 subnets. This parameter # supersedes pure_iscsi_cidr. ""${name}/pure_iscsi_cidr_list"": value => join(any2array($pure_iscsi_cidr_list), ',');","# (Optional) Identifies comma-separated list of CIDR of FlashArray # iSCSI targets hosts are allowed to connect to. It supports IPv4 # and IPv6 subnets. This parameter supersedes pure_iscsi_cidr. ""${name}/pure_iscsi_cidr_list"": value => $pure_iscsi_cidr_list;",14,4
openstack%2Fosc-placement~stable%2Fyoga~Iaf749a18f060551833d0673f5f965aea7c607d8d,openstack/osc-placement,stable/yoga,Iaf749a18f060551833d0673f5f965aea7c607d8d,DNM: test tox<4 pinning in stable branches,ABANDONED,2023-01-07 02:24:14.000000000,2023-01-10 19:08:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-07 02:24:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/aead438c75a94edfa5dfd3d05de2749d2ebb187d', 'message': 'DNM: test tox<4 pinning in stable branches\n\nChange-Id: Iaf749a18f060551833d0673f5f965aea7c607d8d\n'}]",0,869451,aead438c75a94edfa5dfd3d05de2749d2ebb187d,5,1,1,8556,,,0,"DNM: test tox<4 pinning in stable branches

Change-Id: Iaf749a18f060551833d0673f5f965aea7c607d8d
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/51/869451/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aead438c75a94edfa5dfd3d05de2749d2ebb187d,tox4-pin-testing,# test,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fzed~I7f47741d4b2a5a3473d24439689cc358bf7738f0,openstack/tripleo-heat-templates,stable/zed,I7f47741d4b2a5a3473d24439689cc358bf7738f0,Allow overriding mysql_bundle::gcomm_cipher,MERGED,2023-01-02 09:25:34.000000000,2023-01-10 19:04:05.000000000,2023-01-10 19:02:55.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-02 09:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/751c55e0a74b96f1fb302caaa2a78b4faa4a4746', 'message': ""Allow overriding mysql_bundle::gcomm_cipher\n\nThere are cases where it is necessary to change the default cipher\nused by galera (example: FIPS).\nThis commit adds a new parameter called MysqlGaleraSSLCipher to\neasily override the default value 'AES128-SHA256' if required.\n\nChange-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0\n(cherry picked from commit 7c600ad224f80003bed683e850e9a76db5e539e7)\n""}, {'number': 2, 'created': '2023-01-09 15:29:38.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/mysql_bundle_gcomm_cipher-df7655775d20f4d1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64812b34c9a5904bc8d59eb1c5e52107b8e202f2', 'message': ""Allow overriding mysql_bundle::gcomm_cipher\n\nThere are cases where it is necessary to change the default cipher\nused by galera (example: FIPS).\nThis commit adds a new parameter called MysqlGaleraSSLCipher to\neasily override the default value 'AES128-SHA256' if required.\n\nChange-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0\n(cherry picked from commit 7c600ad224f80003bed683e850e9a76db5e539e7)\n""}]",1,868781,64812b34c9a5904bc8d59eb1c5e52107b8e202f2,15,4,2,9914,,,0,"Allow overriding mysql_bundle::gcomm_cipher

There are cases where it is necessary to change the default cipher
used by galera (example: FIPS).
This commit adds a new parameter called MysqlGaleraSSLCipher to
easily override the default value 'AES128-SHA256' if required.

Change-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0
(cherry picked from commit 7c600ad224f80003bed683e850e9a76db5e539e7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/868781/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/mysql_bundle_gcomm_cipher-df7655775d20f4d1.yaml']",2,751c55e0a74b96f1fb302caaa2a78b4faa4a4746,,--- features: - | Add support for overriding the default cipher used by galera. This is useful for cases like FIPS where the default 'AES128-SHA256' is not allowed. ,,11,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fzed~Ic54d160c7329aebb7769c407d3af7b0f66145bcc,openstack/openstack-ansible-lxc_hosts,stable/zed,Ic54d160c7329aebb7769c407d3af7b0f66145bcc,Ensure tar is installed on LXC host,MERGED,2022-12-20 10:40:44.000000000,2023-01-10 18:59:38.000000000,2023-01-10 18:58:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-20 10:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/eaa85692cd8893455198a2d79dec36968b1b078d', 'message': ""Ensure tar is installed on LXC host\n\nTar is required for LXC to create base container using lxc-create. When\nit's absent lxc-create exits with code 1 without any output on this\ntask [1]\n\n[1] https://opendev.org/openstack/openstack-ansible-lxc_hosts/src/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a/tasks/lxc_cache_create.yml#L71\n\nChange-Id: Ic54d160c7329aebb7769c407d3af7b0f66145bcc\n(cherry picked from commit 30b97f57c9f739e3e565ad55c79c967946a67082)\n""}, {'number': 2, 'created': '2022-12-28 19:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c4a1146959b66951eeb612d8554798d0f3d1c6e1', 'message': ""Ensure tar is installed on LXC host\n\nTar is required for LXC to create base container using lxc-create. When\nit's absent lxc-create exits with code 1 without any output on this\ntask [1]\n\n[1] https://opendev.org/openstack/openstack-ansible-lxc_hosts/src/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a/tasks/lxc_cache_create.yml#L71\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868562\nChange-Id: Ic54d160c7329aebb7769c407d3af7b0f66145bcc\n(cherry picked from commit 30b97f57c9f739e3e565ad55c79c967946a67082)\n""}, {'number': 3, 'created': '2023-01-10 10:37:31.000000000', 'files': ['vars/debian-host.yml', 'vars/redhat-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2fa0a91852de943699d49db6759270ada1109bd4', 'message': ""Ensure tar is installed on LXC host\n\nTar is required for LXC to create base container using lxc-create. When\nit's absent lxc-create exits with code 1 without any output on this\ntask [1]\n\n[1] https://opendev.org/openstack/openstack-ansible-lxc_hosts/src/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a/tasks/lxc_cache_create.yml#L71\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868562\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/869633\nChange-Id: Ic54d160c7329aebb7769c407d3af7b0f66145bcc\n(cherry picked from commit 30b97f57c9f739e3e565ad55c79c967946a67082)\n""}]",6,868176,2fa0a91852de943699d49db6759270ada1109bd4,28,3,3,25023,,,0,"Ensure tar is installed on LXC host

Tar is required for LXC to create base container using lxc-create. When
it's absent lxc-create exits with code 1 without any output on this
task [1]

[1] https://opendev.org/openstack/openstack-ansible-lxc_hosts/src/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a/tasks/lxc_cache_create.yml#L71

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868562
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/869633
Change-Id: Ic54d160c7329aebb7769c407d3af7b0f66145bcc
(cherry picked from commit 30b97f57c9f739e3e565ad55c79c967946a67082)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/76/868176/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-host.yml', 'vars/redhat-host.yml']",2,eaa85692cd8893455198a2d79dec36968b1b078d,, - tar,,2,0
openstack%2Fpuppet-tripleo~master~I273524330c11910e15f8eccdb9025db6e7c881e1,openstack/puppet-tripleo,master,I273524330c11910e15f8eccdb9025db6e7c881e1,Ironic: Manage [nova] options by puppet,MERGED,2022-12-22 12:52:20.000000000,2023-01-10 18:18:35.000000000,2023-01-10 18:18:35.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-12-22 12:52:20.000000000', 'files': ['manifests/profile/base/ironic/conductor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/65d06c906924b5f91528bee76c30acb714a9bc5d', 'message': 'Ironic: Manage [nova] options by puppet\n\nThis enables the ironic::nova class, to manage [nova] options in\nironic.conf, to disable/enable power notifications from ironic to\nnova.\n\nPartial-Bug: #2000308\nChange-Id: I273524330c11910e15f8eccdb9025db6e7c881e1\n'}]",4,868414,65d06c906924b5f91528bee76c30acb714a9bc5d,11,5,1,9816,,,0,"Ironic: Manage [nova] options by puppet

This enables the ironic::nova class, to manage [nova] options in
ironic.conf, to disable/enable power notifications from ironic to
nova.

Partial-Bug: #2000308
Change-Id: I273524330c11910e15f8eccdb9025db6e7c881e1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/868414/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/ironic/conductor.pp'],1,65d06c906924b5f91528bee76c30acb714a9bc5d,bug/2000308, include ironic::nova,,1,0
openstack%2Fswift~master~I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2,openstack/swift,master,I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2,sharding: shard deleted containers that have shards with objects,ABANDONED,2022-06-03 07:14:28.000000000,2023-01-10 18:16:13.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 07:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/21ed20578a017a122dc7c0638e9d43883c641e6f', 'message': ""sharding: shard deleted containers that have shards with objects\n\nThere is an edgecase where it's possible to get unsharded deleted roots that\nhave shards with objects in them. If this happens they stick around and\nnever get moved to the sharding state.\n\nThis patch simple changes this behaviour. If we get deleted container\nbut it has shards then we don't skip, keep processing them as normal.\n\nQuestion, is there a chance we've lost metadata? In theory to get shards\nafter the container has been deleted means it's sunk with another\nundeleted container, so it _should_ have grabbed metadata from them\nright? or would they have only grabbed shard ranges.\n\nChange-Id: I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2\n""}, {'number': 2, 'created': '2022-06-08 07:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b41f073af82cb3ef9e92f4bb22cd7730c8beac88', 'message': ""sharding: shard deleted containers that have shards with objects\n\nThere is an edgecase where it's possible to get unsharded deleted roots that\nhave shards with objects in them. If this happens they stick around and\nnever get moved to the sharding state.\n\nThis patch simple changes this behaviour. If we get deleted container\nbut it has shards then we don't skip, keep processing them as normal.\n\nQuestion, is there a chance we've lost metadata? In theory to get shards\nafter the container has been deleted means it's sunk with another\nundeleted container, so it _should_ have grabbed metadata from them\nright? or would they have only grabbed shard ranges.\n\nChange-Id: I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2\n""}, {'number': 3, 'created': '2022-06-29 21:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77a95c5d756122565d66d42c4fa4c29e7a054d05', 'message': ""sharding: shard deleted containers that have shards with objects\n\nThere is an edgecase where it's possible to get unsharded deleted roots that\nhave shards with objects in them. If this happens they stick around and\nnever get moved to the sharding state.\n\nTo get around this, we just need is_deleted to take a little more state\ninto account. Any container with objects still in it isn't deleted. So\nwe can just change the _get_alternate_object_stats method.\n\nAs this is a matter of stats the basic premise for this method is that we get\nstats depending on the db_state. Which can be in one of 3 states:\n  1. UNSHARDED: There is only the original container db\n                (without an epoch in the name).\n    - In this case we should just look at the local object table for stats.\n  2. SHARDED: There are 2 databases, the old expiring database and a fresh new\n              one.\n    - Defer to the old retiring database for answers.\n  3. SHARDED: There is only a sharded container, one with an epoch.\n    - It's sharded, and if a root defer to what the shards have told it.\n\nHowever, because we live in an eventually consistent world, there is a chance\nthat an UNSHARDED db_state container might have synced with a replica and\ngrabbed all the sharding metadata. In this case the UNSHARDED container is\njust waiting to shard.\nWe can check the own_shard_range (OSR) of a container, and if it exists then\nwe can make further decisions. Namely, if the OSR is in the SHARDED state\nthen there are shards out there responsible for a more up-to-date view of\nworld. If we have this updated OSR metadata, then we also have shard\nmetadata so defer to it.\n\nChange-Id: I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2\n""}, {'number': 4, 'created': '2022-06-30 00:46:15.000000000', 'files': ['test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/95b0e6418ec358983d4619174f483731aa741f83', 'message': ""sharding: shard deleted containers that have shards with objects\n\nThere is an edgecase where it's possible to get unsharded deleted roots that\nhave shards with objects in them. If this happens they stick around and\nnever get moved to the sharding state.\n\nTo get around this, we just need is_deleted to take a little more state\ninto account. Any container with objects still in it isn't deleted. So\nwe can just change the _get_alternate_object_stats method.\n\nAs this is a matter of stats the basic premise for this method is that we get\nstats depending on the db_state. Which can be in one of 3 states:\n  1. UNSHARDED: There is only the original container db\n                (without an epoch in the name).\n    - In this case we should just look at the local object table for stats.\n  2. SHARDED: There are 2 databases, the old expiring database and a fresh new\n              one.\n    - Defer to the old retiring database for answers.\n  3. SHARDED: There is only a sharded container, one with an epoch.\n    - It's sharded, and if a root defer to what the shards have told it.\n\nHowever, because we live in an eventually consistent world, there is a chance\nthat an UNSHARDED db_state container might have synced with a replica and\ngrabbed all the sharding metadata. In this case the UNSHARDED container is\njust waiting to shard.\nWe can check the own_shard_range (OSR) of a container, and if it exists then\nwe can make further decisions. Namely, if the OSR is in the SHARDED state\nthen there are shards out there responsible for a more up-to-date view of\nworld. If we have this updated OSR metadata, then we also have shard\nmetadata so defer to it.\n\nChange-Id: I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2\n""}]",26,844553,95b0e6418ec358983d4619174f483731aa741f83,24,3,4,7233,,,0,"sharding: shard deleted containers that have shards with objects

There is an edgecase where it's possible to get unsharded deleted roots that
have shards with objects in them. If this happens they stick around and
never get moved to the sharding state.

To get around this, we just need is_deleted to take a little more state
into account. Any container with objects still in it isn't deleted. So
we can just change the _get_alternate_object_stats method.

As this is a matter of stats the basic premise for this method is that we get
stats depending on the db_state. Which can be in one of 3 states:
  1. UNSHARDED: There is only the original container db
                (without an epoch in the name).
    - In this case we should just look at the local object table for stats.
  2. SHARDED: There are 2 databases, the old expiring database and a fresh new
              one.
    - Defer to the old retiring database for answers.
  3. SHARDED: There is only a sharded container, one with an epoch.
    - It's sharded, and if a root defer to what the shards have told it.

However, because we live in an eventually consistent world, there is a chance
that an UNSHARDED db_state container might have synced with a replica and
grabbed all the sharding metadata. In this case the UNSHARDED container is
just waiting to shard.
We can check the own_shard_range (OSR) of a container, and if it exists then
we can make further decisions. Namely, if the OSR is in the SHARDED state
then there are shards out there responsible for a more up-to-date view of
world. If we have this updated OSR metadata, then we also have shard
metadata so defer to it.

Change-Id: I1c0962cfdcaecc18894aa6a39ec5bc1d3e30eff2
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/844553/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_sharder.py', 'swift/container/sharder.py']",2,21ed20578a017a122dc7c0638e9d43883c641e6f,root_sharded_not_sharded, has_shard_objects = broker.get_shard_usage()['object_count'] > 0 if broker.is_deleted() and not has_shard_objects:, if broker.is_deleted():,103,3
openstack%2Fswift~master~If0d57e7a2b253a1ee81c2953504141063060d102,openstack/swift,master,If0d57e7a2b253a1ee81c2953504141063060d102,Make in-memory databases worse,ABANDONED,2022-07-06 22:50:34.000000000,2023-01-10 18:08:53.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-06 22:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/668028143556d49a85f439e09fa3df44fafb9958', 'message': ""Make in-memory databases worse\n\nOur tests use in-memory sqlite databases a lot for some reason; and they\ndo NOT work the same as a file database.  Specifically when you close a\nconnection to an in-memory database it goes away.  If you open two\nconnections to an in-memory database - they are different databases.\n\nOur database brokers routinely open a connection to an existing database\nwhile they have another connection open, and our get connection handler\nmakes sure that they are NOT the same connection - any test that tried\nthat with an in-memory database would discover instead of two\nconnections to the same database, they have two connections to different\ndatbases.\n\nThis change tries to start to un-cover and paper over the difference a\nlittle bit in an effort to prepare for the next change in the series\nwhich wants to add a call to a broker helper method that manages it's\nown connection inside a helper method that is passed in a connection.\n\nA future refactoring of brokers might try to standardize our broker\nmethod signatures so that the BYOC (bring your own connection) pattern\nis more universally supported and in-memory databases don't need a\nre-entrant .get() method.\n\nChange-Id: If0d57e7a2b253a1ee81c2953504141063060d102\n""}, {'number': 2, 'created': '2022-07-08 16:01:45.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py', 'test/unit/account/test_backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6de2880af61997b1d5c389e65d059e4a6a015c06', 'message': ""Make in-memory databases worse\n\nOur tests use in-memory sqlite databases a lot for some reason; and they\ndo NOT work the same as a file database.  Specifically when you close a\nconnection to an in-memory database it goes away.  If you open two\nconnections to an in-memory database - they are different databases.\n\nOur database brokers routinely open a connection to an existing database\nwhile they have another connection open, and our get connection handler\nmakes sure that they are NOT the same connection - any test that tried\nthat with an in-memory database would discover instead of two\nconnections to the same database, they have two connections to different\ndatbases.\n\nThis change tries to start to un-cover and paper over the difference a\nlittle bit in an effort to prepare for the next change in the series\nwhich wants to add a call to a broker helper method that manages it's\nown connection inside a helper method that is passed in a connection.\n\nA future refactoring of brokers might try to standardize our broker\nmethod signatures so that the BYOC (bring your own connection) pattern\nis more universally supported and in-memory databases don't need a\nre-entrant .get() method.\n\nChange-Id: If0d57e7a2b253a1ee81c2953504141063060d102\n""}]",2,848909,6de2880af61997b1d5c389e65d059e4a6a015c06,9,2,2,1179,,,0,"Make in-memory databases worse

Our tests use in-memory sqlite databases a lot for some reason; and they
do NOT work the same as a file database.  Specifically when you close a
connection to an in-memory database it goes away.  If you open two
connections to an in-memory database - they are different databases.

Our database brokers routinely open a connection to an existing database
while they have another connection open, and our get connection handler
makes sure that they are NOT the same connection - any test that tried
that with an in-memory database would discover instead of two
connections to the same database, they have two connections to different
datbases.

This change tries to start to un-cover and paper over the difference a
little bit in an effort to prepare for the next change in the series
which wants to add a call to a broker helper method that manages it's
own connection inside a helper method that is passed in a connection.

A future refactoring of brokers might try to standardize our broker
method signatures so that the BYOC (bring your own connection) pattern
is more universally supported and in-memory databases don't need a
re-entrant .get() method.

Change-Id: If0d57e7a2b253a1ee81c2953504141063060d102
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/848909/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py', 'test/unit/account/test_backend.py']",3,668028143556d49a85f439e09fa3df44fafb9958,p-sharder-deleted,"from swift.common.db import TombstoneReclaimer @with_tempdir def test_creation(self, tmpdir): broker_path = os.path.join(tmpdir, 'test.db') broker = AccountBroker(broker_path, account='real') with broker.get() as conn2: curs = conn2.cursor() curs.execute('SELECT 1') self.assertEqual(curs.fetchall()[0][0], 1) def test_in_memory_creation(self): # Test AccountBroker.__init__ broker = AccountBroker(':memory:', account='a') self.assertEqual(broker.db_file, ':memory:') with broker.get() as conn: curs = conn.cursor() curs.execute('SELECT 1') self.assertEqual(curs.fetchall()[0][0], 1) with broker.get() as conn2: curs = conn2.cursor() curs.execute('SELECT 1') self.assertEqual(curs.fetchall()[0][0], 1) broker.initialize(Timestamp('1').internal) with broker.get() as conn: curs = conn.cursor() curs.execute('SELECT 1') self.assertEqual(curs.fetchall()[0][0], 1) with broker.get() as conn2: curs = conn2.cursor() curs.execute('SELECT 1') self.assertEqual(curs.fetchall()[0][0], 1)","from swift.common.db import DatabaseConnectionError, TombstoneReclaimer def test_creation(self): # Test AccountBroker.__init__ broker = AccountBroker(':memory:', account='a') self.assertEqual(broker.db_file, ':memory:') try: with broker.get() as conn: pass except DatabaseConnectionError as e: self.assertTrue(hasattr(e, 'path')) self.assertEqual(e.path, ':memory:') self.assertTrue(hasattr(e, 'msg')) self.assertEqual(e.msg, ""DB doesn't exist"") except Exception as e: self.fail(""Unexpected exception raised: %r"" % e) else: self.fail(""Expected a DatabaseConnectionError exception"")",63,25
openstack%2Fswift~master~I84a918f1c0de6fc61f66a7393c10c84e420729e4,openstack/swift,master,I84a918f1c0de6fc61f66a7393c10c84e420729e4,ContainerBroker: modify determination of object_count,ABANDONED,2022-07-07 14:07:11.000000000,2023-01-10 18:08:04.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 14:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9eefe1d725ad78277a4a12aa19a2ad95f9bd1e96', 'message': 'sharder: shard apparently deleted DBs\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4\n'}, {'number': 2, 'created': '2022-07-07 14:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/15518e7138b6ed04ac60f29ac4544bfd20f402e4', 'message': 'sharder: shard apparently deleted DBs\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4\n'}, {'number': 3, 'created': '2022-07-07 17:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf0691ce5fd1dd7a4978a06fb8ae6f527f6cd45e', 'message': 'sharder: shard apparently deleted DBs\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4\n'}, {'number': 4, 'created': '2022-07-08 16:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f9cd13d58b0ad6513a15f9e0bc61fa9222e47e6', 'message': ""ContainerBroker: modify determination of object_count\n\nA container is considered deleted (ContainerBroker.is_deleted() ==\nTrue) if its delete_timestamp is greater than its put_timestamp and it\nis 'empty'.  Previously, for an UNSHARDED container, 'empty' was\ndetermined by testing that the container DB object_count was\nzero. However, the container may in fact be in the process of sharding\nand have shard ranges cleaved from other replicas of the container\nwhich have non-zero object_count. In this case the apparently empty DB\nshould not be considered deleted.\n\nThis patch therefore modifies the algorithm for determining the\ncontainer object_count: if a container DB is in state UNSHARDED or\nSHARDING and has zero object_count, then the sum of shard range\nobject_counts will be reported instead of the DB object_count. This\nwill make no difference when the container is genuinely empty\n(i.e. all shard ranges have been emptied) but will prevent apparently\nempty DBs with populated shard_ranges being considered deleted.\n\nNote that the sum of shard range object counts used is restricted to\nshard ranges in ACTIVE, SHARDING, SHRINKING i.e. the same as used when\nreporting object_count for a DB in SHARDED state.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4\n""}, {'number': 5, 'created': '2022-07-08 17:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4914033e34ff7e857e595d0308aac8763885d511', 'message': ""ContainerBroker: modify determination of object_count\n\nA container is considered deleted (ContainerBroker.is_deleted() ==\nTrue) if its delete_timestamp is greater than its put_timestamp and it\nis 'empty'.  Previously, for an UNSHARDED container, 'empty' was\ndetermined by testing that the container DB object_count was\nzero. However, the container may in fact be in the process of sharding\nand have shard ranges cleaved from other replicas of the container\nwhich have non-zero object_count. In this case the apparently empty DB\nshould not be considered deleted.\n\nThis patch therefore modifies the algorithm for determining the\ncontainer object_count: if a container DB is in state UNSHARDED or\nSHARDING and has zero object_count, then the sum of shard range\nobject_counts will be reported instead of the DB object_count. This\nwill make no difference when the container is genuinely empty\n(i.e. all shard ranges have been emptied) but will prevent apparently\nempty DBs with populated shard_ranges being considered deleted.\n\nNote that the sum of shard range object counts used is restricted to\nshard ranges in ACTIVE, SHARDING, SHRINKING i.e. the same as used when\nreporting object_count for a DB in SHARDED state.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4\n""}, {'number': 6, 'created': '2022-07-11 18:16:20.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/46e2920b9b68965d8842b302aa6fbb40da930cb6', 'message': ""ContainerBroker: modify determination of object_count\n\nA container is considered deleted (ContainerBroker.is_deleted() ==\nTrue) if its delete_timestamp is greater than its put_timestamp and it\nis 'empty'.  Previously, for an UNSHARDED container, 'empty' was\ndetermined by testing that the container DB object_count was\nzero. However, the container may in fact be in the process of sharding\nand have shard ranges cleaved from other replicas of the container\nwhich have non-zero object_count. In this case the apparently empty DB\nshould not be considered deleted.\n\nThis patch therefore modifies the algorithm for determining the\ncontainer object_count: if a container DB is in state UNSHARDED or\nSHARDING and has zero object_count, then the sum of shard range\nobject_counts will be reported instead of the DB object_count. This\nwill make no difference when the container is genuinely empty\n(i.e. all shard ranges have been emptied) but will prevent apparently\nempty DBs with populated shard_ranges being considered deleted.\n\nNote that the sum of shard range object counts used is restricted to\nshard ranges in ACTIVE, SHARDING, SHRINKING i.e. the same as used when\nreporting object_count for a DB in SHARDED state.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4\n""}]",22,848962,46e2920b9b68965d8842b302aa6fbb40da930cb6,30,3,6,7847,,,0,"ContainerBroker: modify determination of object_count

A container is considered deleted (ContainerBroker.is_deleted() ==
True) if its delete_timestamp is greater than its put_timestamp and it
is 'empty'.  Previously, for an UNSHARDED container, 'empty' was
determined by testing that the container DB object_count was
zero. However, the container may in fact be in the process of sharding
and have shard ranges cleaved from other replicas of the container
which have non-zero object_count. In this case the apparently empty DB
should not be considered deleted.

This patch therefore modifies the algorithm for determining the
container object_count: if a container DB is in state UNSHARDED or
SHARDING and has zero object_count, then the sum of shard range
object_counts will be reported instead of the DB object_count. This
will make no difference when the container is genuinely empty
(i.e. all shard ranges have been emptied) but will prevent apparently
empty DBs with populated shard_ranges being considered deleted.

Note that the sum of shard range object counts used is restricted to
shard ranges in ACTIVE, SHARDING, SHRINKING i.e. the same as used when
reporting object_count for a DB in SHARDED state.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I84a918f1c0de6fc61f66a7393c10c84e420729e4
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/848962/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py']",3,9eefe1d725ad78277a4a12aa19a2ad95f9bd1e96,p-sharder-deleted, # Deal with misplaced objects; do this even for apparently deleted # containers because they may have new objects sitting in them that may # need to move. if (broker.is_deleted() and not broker.get_shard_usage()['object_count']): # This container is empty and deleted so we can skip it. Note that # it is possible for an unsharded container replica to appear # deleted (having no objects in the DB) but for the container to # not be empty for the purposes of this condition (having shard # ranges reporting objects that other replicas have cleaved): in # this case we proceed with processing the apparently deleted DB in # order to get it in sync with other replicas that have sharded., # now look and deal with misplaced objects. if broker.is_deleted(): # This container is deleted so we can skip it. We still want # deleted containers to go via misplaced items because they may # have new objects sitting in them that may need to move.,200,9
openstack%2Fmistral-tempest-plugin~master~I1ffb896e0d30b4162e3c22f13462477feb4acba4,openstack/mistral-tempest-plugin,master,I1ffb896e0d30b4162e3c22f13462477feb4acba4,Update Zuul queue configuration,MERGED,2023-01-09 14:50:09.000000000,2023-01-10 18:06:44.000000000,2023-01-10 18:06:44.000000000,"[{'_account_id': 8556}, {'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/5e9d6bd5bacf9b6ccdd8ca95cadc050e9df36505', 'message': 'Update Zuul queue configuration\n\nZuul is changing how queues are declared[1]\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I1ffb896e0d30b4162e3c22f13462477feb4acba4\n'}, {'number': 2, 'created': '2023-01-09 18:43:26.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/526622fd4ef42a09a0c8e692e8ebc4a8e0217c5f', 'message': 'Update Zuul queue configuration\n\nZuul is changing how queues are declared[1]\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nAlso,\n- fixing tox.ini as per the tox4\n- remove stable branch testing which are in EM state\n\nChange-Id: I1ffb896e0d30b4162e3c22f13462477feb4acba4\n'}]",4,869571,526622fd4ef42a09a0c8e692e8ebc4a8e0217c5f,23,3,2,35600,,,0,"Update Zuul queue configuration

Zuul is changing how queues are declared[1]

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Also,
- fixing tox.ini as per the tox4
- remove stable branch testing which are in EM state

Change-Id: I1ffb896e0d30b4162e3c22f13462477feb4acba4
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/71/869571/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5e9d6bd5bacf9b6ccdd8ca95cadc050e9df36505,gate-fix-mistral-repo, queue: mistral gate:, gate: queue: mistral,1,1
openstack%2Fswift~master~Ib5c28bbdf6cd77df2df23e6618fcb72d7849b6d2,openstack/swift,master,Ib5c28bbdf6cd77df2df23e6618fcb72d7849b6d2,container: broaden is_deleted method by using empty,ABANDONED,2022-07-12 06:41:16.000000000,2023-01-10 18:06:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-12 06:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e084289a00cc8c281d2adfdd466ead47de5574c', 'message': ""container: broaden the is_deleted method\n\nUnlike `get_info` which just gets the object_count for the\ncurrent storage policy. So is only looking at a particularly small\nscope. This patch makes the _is_deleted method more broad and checks to\nsee if the broker contains any objects.\n\nIt'll look at all storage_policies and any shard_ranges that are in\na state where they are responsible for their given namespace. Namely\nthose that are in SHARD_STATS_STATES.\nIf we find a object then we return False, ie it isn't deleted. This\nallows the consistency engine to pick up and figure things out, be\nit the sharder, replicator or reconciler.\n\nChange-Id: Ib5c28bbdf6cd77df2df23e6618fcb72d7849b6d2\n""}, {'number': 2, 'created': '2022-07-12 07:11:35.000000000', 'files': ['test/probe/test_sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9b44b712eeef55d4429d66698ab2971bdb9f8fee', 'message': ""container: broaden is_deleted method by using empty\n\nUnlike `get_info` which just gets the object_count for the\ncurrent storage policy. So is only looking at a particularly small\nscope. This patch makes the _is_deleted method more broad and checks to\nsee if the broker contains any objects.\n\nTurns out we already do a broader check in the broker.empty() method.\nIt's this method we use on a container DELETE to see if we can infact\ndelete the container, if it isn't empty, then we return a 409.\n\nSo why aren't we using the same thing in the is_delete check. The\nis_delete check should check to see if the container is empty and take\nthe PUT and DELETE timestamps into account.\n\nThis patch set does just that. It uses `.empty()` for the empty check,\nchecking all storage polices and checks to see if the delete_timestamp >\nput_timestamp.\n\nThe empty already also then checks the shard_usage for shard states in\nthe SHARD_STATS_STATES but only if it's a root container.\n\nIf we find a object then we return False, ie it isn't deleted. This\nallows the consistency engine to pick up and figure things out, be\nit the sharder, replicator or reconciler.\n\nChange-Id: Ib5c28bbdf6cd77df2df23e6618fcb72d7849b6d2\n""}]",0,849453,9b44b712eeef55d4429d66698ab2971bdb9f8fee,5,1,2,7233,,,0,"container: broaden is_deleted method by using empty

Unlike `get_info` which just gets the object_count for the
current storage policy. So is only looking at a particularly small
scope. This patch makes the _is_deleted method more broad and checks to
see if the broker contains any objects.

Turns out we already do a broader check in the broker.empty() method.
It's this method we use on a container DELETE to see if we can infact
delete the container, if it isn't empty, then we return a 409.

So why aren't we using the same thing in the is_delete check. The
is_delete check should check to see if the container is empty and take
the PUT and DELETE timestamps into account.

This patch set does just that. It uses `.empty()` for the empty check,
checking all storage polices and checks to see if the delete_timestamp >
put_timestamp.

The empty already also then checks the shard_usage for shard states in
the SHARD_STATS_STATES but only if it's a root container.

If we find a object then we return False, ie it isn't deleted. This
allows the consistency engine to pick up and figure things out, be
it the sharder, replicator or reconciler.

Change-Id: Ib5c28bbdf6cd77df2df23e6618fcb72d7849b6d2
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/849453/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_sharder.py', 'swift/container/backend.py']",2,8e084289a00cc8c281d2adfdd466ead47de5574c,remove_memory_dbs," Unlike :meth:`get_info` which just gets the object_count for the current storage policy. This is more broad and checks to see if the broker contains any objects. It'll look at all storage_policies and any shard_ranges that are in a state where they are responsible for their given namespace. Namely those that are in SHARD_STATS_STATES. If we find a object then we return False, ie it isn't deleted. This allows the consistency engine to pick up and figure things out, be it the sharder, replicator or reconciler. SELECT ci.put_timestamp, ci.delete_timestamp, sum(ps.object_count) as object_count FROM container_info ci, policy_stat ps''').fetchone() info['object_count'] += self.get_shard_usage()['object_count'] return info, self.is_deleted()"," This object count used in this check is the same as the container object count that would be returned in the result of :meth:`get_info` and exposed to a client i.e. it is based on the container_stat view for the current storage policy index or relevant shard range usage. SELECT put_timestamp, delete_timestamp, object_count FROM container_stat''').fetchone() info.update(self._get_alternate_object_stats()[1]) return info, self._is_deleted_info(**info)",132,11
openstack%2Fpython-octaviaclient~master~I6299c5fed2140b7df1713da798103ade54ec517b,openstack/python-octaviaclient,master,I6299c5fed2140b7df1713da798103ade54ec517b,Remove DELETED from the provisioning status list,MERGED,2022-05-13 15:12:17.000000000,2023-01-10 17:41:32.000000000,2023-01-10 17:40:18.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-05-13 15:12:17.000000000', 'files': ['octaviaclient/osc/v2/load_balancer.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1e645a0fc00a86907ce1cb617b4b952868f57abe', 'message': ""Remove DELETED from the provisioning status list\n\nAfter closing the story board [1] the api won't return deleted\nrecords. Leaving the 'DELETED' on the '--provisioning-status' list\ncauses confusion as it always return an empty result.\n\n[1] https://storyboard.openstack.org/#!/story/1673504\n\nChange-Id: I6299c5fed2140b7df1713da798103ade54ec517b\n""}]",3,841768,1e645a0fc00a86907ce1cb617b4b952868f57abe,13,3,1,30534,,,0,"Remove DELETED from the provisioning status list

After closing the story board [1] the api won't return deleted
records. Leaving the 'DELETED' on the '--provisioning-status' list
causes confusion as it always return an empty result.

[1] https://storyboard.openstack.org/#!/story/1673504

Change-Id: I6299c5fed2140b7df1713da798103ade54ec517b
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/68/841768/1 && git format-patch -1 --stdout FETCH_HEAD,['octaviaclient/osc/v2/load_balancer.py'],1,1e645a0fc00a86907ce1cb617b4b952868f57abe,,"PROVISIONING_STATUS = ['ACTIVE', 'ERROR', 'PENDING_CREATE',","PROVISIONING_STATUS = ['ACTIVE', 'DELETED', 'ERROR', 'PENDING_CREATE',",1,1
openstack%2Fpython-octaviaclient~master~Ife16b3bc5d1153a5c6112fa10a666947e269ef91,openstack/python-octaviaclient,master,Ife16b3bc5d1153a5c6112fa10a666947e269ef91,Fix new pylint warnings,MERGED,2022-09-29 08:48:24.000000000,2023-01-10 17:40:46.000000000,2023-01-10 17:39:41.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-09-29 08:48:24.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/89844bba8e7a944b4c373f3850482b36310fd66a', 'message': 'Fix new pylint warnings\n\nSee pylint warnings in [1]. Related to fix [2].\n\n[1] https://3a55ed6dd892f28b78e8-5067ad0e5cf1f9e6b3e5798c03f452f6.ssl.cf2.rackcdn.com/859811/1/check/openstack-tox-pep8/9907a0a/job-output.txt\n[2] https://review.opendev.org/c/openstack/octavia-lib/+/847036\n\nChange-Id: Ife16b3bc5d1153a5c6112fa10a666947e269ef91\n'}]",3,859814,89844bba8e7a944b4c373f3850482b36310fd66a,14,4,1,34429,,,0,"Fix new pylint warnings

See pylint warnings in [1]. Related to fix [2].

[1] https://3a55ed6dd892f28b78e8-5067ad0e5cf1f9e6b3e5798c03f452f6.ssl.cf2.rackcdn.com/859811/1/check/openstack-tox-pep8/9907a0a/job-output.txt
[2] https://review.opendev.org/c/openstack/octavia-lib/+/847036

Change-Id: Ife16b3bc5d1153a5c6112fa10a666947e269ef91
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/14/859814/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,89844bba8e7a944b4c373f3850482b36310fd66a,fix-pylint-warnings,," bad-builtin, no-init, bad-continuation, interface-not-implemented, no-self-use,",0,5
openstack%2Fpython-octaviaclient~master~I43010cc62d6398e5d6b9669a2231ab0404ce216d,openstack/python-octaviaclient,master,I43010cc62d6398e5d6b9669a2231ab0404ce216d,Fix pool protocols,MERGED,2022-09-12 14:31:52.000000000,2023-01-10 17:40:12.000000000,2023-01-10 17:40:12.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-09-12 14:31:52.000000000', 'files': ['releasenotes/notes/fix-pool-protocols-090b2a6f4e82516f.yaml', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ad18a19e113cd70cf8269d9dd8fd4c4180f30f4c', 'message': 'Fix pool protocols\n\nThis patch removes the TERMINATED_HTTPS from the pool protocols, as it\nis not supported.\n\nStory 2010290\nTask 46263\n\nChange-Id: I43010cc62d6398e5d6b9669a2231ab0404ce216d\n'}]",1,857193,ad18a19e113cd70cf8269d9dd8fd4c4180f30f4c,11,3,1,31664,,,0,"Fix pool protocols

This patch removes the TERMINATED_HTTPS from the pool protocols, as it
is not supported.

Story 2010290
Task 46263

Change-Id: I43010cc62d6398e5d6b9669a2231ab0404ce216d
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/93/857193/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-pool-protocols-090b2a6f4e82516f.yaml', 'octaviaclient/osc/v2/pool.py']",2,ad18a19e113cd70cf8269d9dd8fd4c4180f30f4c,fix_pool_prot_choices,"PROTOCOL_CHOICES = ['TCP', 'HTTP', 'HTTPS', 'PROXY', 'PROXYV2', 'UDP', 'SCTP']","PROTOCOL_CHOICES = ['TCP', 'HTTP', 'HTTPS', 'TERMINATED_HTTPS', 'PROXY', 'PROXYV2', 'UDP', 'SCTP']",6,2
openstack%2Fpython-octaviaclient~master~I2cf67a08a55d9d205986c1b1ff6b0072950efcf0,openstack/python-octaviaclient,master,I2cf67a08a55d9d205986c1b1ff6b0072950efcf0,Update master for stable/zed,MERGED,2022-09-06 13:13:16.000000000,2023-01-10 17:38:40.000000000,2023-01-10 17:37:25.000000000,"[{'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-06 13:13:16.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/9e43ecdc4003707e606a274ba90baf253d727615', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I2cf67a08a55d9d205986c1b1ff6b0072950efcf0\n'}]",3,856113,9e43ecdc4003707e606a274ba90baf253d727615,13,4,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I2cf67a08a55d9d205986c1b1ff6b0072950efcf0
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/13/856113/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,9e43ecdc4003707e606a274ba90baf253d727615,reno-zed, zed,,7,0
openstack%2Fnova~master~I1462ee4f4dd143b56732332f7ed00df00a9f2067,openstack/nova,master,I1462ee4f4dd143b56732332f7ed00df00a9f2067,Support evacuate with PCI in placement,MERGED,2022-08-25 12:06:19.000000000,2023-01-10 17:35:53.000000000,2023-01-10 17:34:31.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 12:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30931efa57484488d1902a90975f4aeceb13be97', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 2, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4a4b81ce60ef2556b029ec7dcb98702f80696a3', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 3, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70d66bdb07c4e217dc1fee59da913bc67f7bbb03', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 4, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c045ede81b7b37143cfd36798a77cebfc3c36f8f', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 5, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa59599be63711ae7061a21d429883b0a3a3d842', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 6, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93bce8c743feab06435eb1127747d5a261dd78e1', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 7, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4e17fa4c3105fed623108995f6cc0cc0fb14aab', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 8, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87b633f5e8a082a24a69a68b99d67c59b3b184d2', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 9, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41fb141e965e150cbcf95844ebdf58e6456eaaab', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 10, 'created': '2022-10-17 11:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08e0fd5d58a28a6cf6f054aec394dd5464ca8176', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}, {'number': 11, 'created': '2022-12-21 15:40:32.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/53642766f8766c58045843f68d019ac7d308343e', 'message': 'Support evacuate with PCI in placement\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067\n'}]",8,854615,53642766f8766c58045843f68d019ac7d308343e,79,3,11,9708,,,0,"Support evacuate with PCI in placement

blueprint: pci-device-tracking-in-placement
Change-Id: I1462ee4f4dd143b56732332f7ed00df00a9f2067
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/854615/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/conductor/manager.py']",2,30931efa57484488d1902a90975f4aeceb13be97,bp/pci-device-tracking-in-placement, # NOTE(gibi): as PCI devices is tracked in placement we # need to generate request groups from InstancePCIRequests. # This will append new RequestGroup objects to the # request_spec.requested_resources list if needed request_spec.generate_request_groups_from_pci_requests() ,,190,9
openstack%2Fkeystone~stable%2Fzed~If6f9f72cf25769d022a970fac36cead17b2030f2,openstack/keystone,stable/zed,If6f9f72cf25769d022a970fac36cead17b2030f2,Limit token expiration to application credential expiration,MERGED,2022-10-30 02:27:03.000000000,2023-01-10 17:05:36.000000000,2023-01-10 17:03:24.000000000,"[{'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-30 02:27:03.000000000', 'files': ['releasenotes/notes/token_expiration_to_match_application_credential-56d058355a9f240d.yaml', 'keystone/token/provider.py', 'keystone/tests/unit/test_v3_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4e097c5bcf981199563bd721ac643900d3fb616', 'message': 'Limit token expiration to application credential expiration\n\nIf a token is issued with an application credential we need to check\nthe expiration of the application credential to ensure that the token\ndoes not outlive the application credential. This ensures that if the\ntoken expiration is greaten than that of the application credential it\nis reset to the expiration of the application credential and a warning\nis logged. Please see CVE-2022-2447 for more information.\n\nCloses-Bug: 1992183\nChange-Id: If6f9f72cf25769d022a970fac36cead17b2030f2\n(cherry picked from commit 8f999d1c1f54a903c1da648ecaa2ce44acdb1fd1)\n'}]",0,862903,e4e097c5bcf981199563bd721ac643900d3fb616,9,3,1,7414,,,0,"Limit token expiration to application credential expiration

If a token is issued with an application credential we need to check
the expiration of the application credential to ensure that the token
does not outlive the application credential. This ensures that if the
token expiration is greaten than that of the application credential it
is reset to the expiration of the application credential and a warning
is logged. Please see CVE-2022-2447 for more information.

Closes-Bug: 1992183
Change-Id: If6f9f72cf25769d022a970fac36cead17b2030f2
(cherry picked from commit 8f999d1c1f54a903c1da648ecaa2ce44acdb1fd1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/03/862903/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/token_expiration_to_match_application_credential-56d058355a9f240d.yaml', 'keystone/token/provider.py', 'keystone/tests/unit/test_v3_auth.py']",3,e4e097c5bcf981199563bd721ac643900d3fb616,bug/1992183-stable/zed," def test_application_credential_expiration_limits_token_expiration(self): expires_at = datetime.datetime.utcnow() + datetime.timedelta(minutes=1) app_cred = self._make_app_cred(expires=expires_at) app_cred_ref = self.app_cred_api.create_application_credential( app_cred) auth_data = self.build_authentication_request( app_cred_id=app_cred_ref['id'], secret=app_cred_ref['secret']) resp = self.v3_create_token(auth_data, expected_status=http.client.CREATED) token = resp.headers.get('X-Subject-Token') future = datetime.datetime.utcnow() + datetime.timedelta(minutes=2) with freezegun.freeze_time(future): self._validate_token(token, expected_status=http.client.UNAUTHORIZED) ",,42,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I57d6680f16b2bdc9026a3f8175470f35611a6b45,openstack/tripleo-upgrade,stable/train,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,MERGED,2022-12-20 20:14:37.000000000,2023-01-10 17:04:55.000000000,2023-01-10 17:04:55.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-12-20 20:14:37.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6e0947f869e95c19d32f33eddd84886c7600ba91', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)\n'}]",0,868187,6e0947f869e95c19d32f33eddd84886c7600ba91,7,4,1,32432,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/87/868187/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,6e0947f869e95c19d32f33eddd84886c7600ba91,update-validations-tags-stable/wallaby-stable/ussuri-stable/train, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Fneutron-tempest-plugin~master~I83ec778609a4c2fdaf9411a41c541b0fc32b6648,openstack/neutron-tempest-plugin,master,I83ec778609a4c2fdaf9411a41c541b0fc32b6648,[taas] Use ubuntu minimal as advanced image,MERGED,2023-01-04 13:57:07.000000000,2023-01-10 17:03:26.000000000,2023-01-10 17:03:26.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 13:57:07.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d829323234b89afc71bd56473885ddf9dd9d5e5d', 'message': ""[taas] Use ubuntu minimal as advanced image\n\nOther scenario jobs already using ubuntu minimal as\nadvanced image and works fine, let's also use in taas\nscenario jobs.\n\nThe minimal image takes less resources and boot\nfaster compared to regular image.\n\nChange-Id: I83ec778609a4c2fdaf9411a41c541b0fc32b6648\n""}]",1,869218,d829323234b89afc71bd56473885ddf9dd9d5e5d,8,5,1,13861,,,0,"[taas] Use ubuntu minimal as advanced image

Other scenario jobs already using ubuntu minimal as
advanced image and works fine, let's also use in taas
scenario jobs.

The minimal image takes less resources and boot
faster compared to regular image.

Change-Id: I83ec778609a4c2fdaf9411a41c541b0fc32b6648
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/18/869218/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,d829323234b89afc71bd56473885ddf9dd9d5e5d,ubuntu-minimal-as-adv-image,, IMAGE_URLS: https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64.img ADVANCED_IMAGE_NAME: ubuntu-18.04-server-cloudimg-amd64 ADVANCED_INSTANCE_TYPE: ntp_image_384M ADVANCED_INSTANCE_USER: ubuntu CUSTOMIZE_IMAGE: false,0,5
openstack%2Fnova~stable%2Fyoga~Iab92124b5776a799c7f90d07281d28fcf191c8fe,openstack/nova,stable/yoga,Iab92124b5776a799c7f90d07281d28fcf191c8fe,Ironic nodes with instance reserved in placement,NEW,2022-12-15 21:16:20.000000000,2023-01-10 16:56:21.000000000,,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 21:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1941d1175098c8669524d15da6addb9b87cf2126', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n""}, {'number': 2, 'created': '2022-12-15 22:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fe4a7ab47086570a027e9c6d6664db8ae2340ab', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nGit conflict in nova/conf/workarounds.py due to zed not having\nthe 'skip_hypervisor_version_check_on_lm' config option.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n""}, {'number': 3, 'created': '2022-12-15 23:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97ceea402ce3854b663dfbbcce89dfc1cecacc0d', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nGit conflict in nova/conf/workarounds.py due to yoga not having\nthe 'skip_hypervisor_version_check_on_lm' config option.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n""}, {'number': 4, 'created': '2022-12-16 13:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3e434b920a2edf7ccc439f182c19991ec686cd7', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nGit conflict in nova/conf/workarounds.py due to yoga not having\nthe 'skip_hypervisor_version_check_on_lm' config option.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n""}, {'number': 5, 'created': '2022-12-16 17:57:01.000000000', 'files': ['nova/virt/ironic/driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aff91724231e4c4e3b26bd94d76d732a5ee23d83', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nGit conflict in nova/conf/workarounds.py due to yoga not having\nthe 'skip_hypervisor_version_check_on_lm' config option.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n(cherry picked from commit c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76)\n""}]",10,867912,aff91724231e4c4e3b26bd94d76d732a5ee23d83,21,3,5,6618,,,0,"Ironic nodes with instance reserved in placement

Currently, when you delete an ironic instance, we trigger
and undeploy in ironic and we release our allocation in placement.
We do this well before the ironic node is actually available.

We have attempted to fix this my marking unavailable nodes
as reserved in placement. This works great until you try
and re-image lots of nodes.

It turns out, ironic nodes that are waiting for their automatic
clean to finish, are returned as a valid allocation candidates
for quite some time. Eventually we mark then as reserved.

This patch takes a strange approach, if we mark all nodes as
reserved as soon as the instance lands, we close the race.
That is, when the allocation is removed the node is still
unavailable until the next update of placement is done and
notices that the node has become available. That may or may
not have been after automatic cleaning. The trade off is
that when you don't have automatic cleaning, we wait a bit
longer to notice the node is available again.

Note, this is also useful when a broken Ironic node is
marked as in-maintainance while it is in-use by a nova
instance. In a similar way, we mark the Nova as reserved
immmeidately, rather than first waiting for the instance to be
deleted before reserving the resources in Placement.

Git conflict in nova/conf/workarounds.py due to yoga not having
the 'skip_hypervisor_version_check_on_lm' config option.

Closes-Bug: #1974070
Change-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe
(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)
(cherry picked from commit c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/867912/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py']",4,1941d1175098c8669524d15da6addb9b87cf2126,fix-ironic-scheduler-race-stable/zed-stable/yoga,"<<<<<<< HEAD (19828f Merge ""Retry attachment delete API call for 504 Gateway Time) ======= cfg.BoolOpt( 'skip_hypervisor_version_check_on_lm', default=False, help="""""" When this is enabled, it will skip version-checking of hypervisors during live migration. """"""), cfg.BoolOpt( 'skip_reserve_in_use_ironic_nodes', default=False, help="""""" This may be useful if you use the Ironic driver, but don't have automatic cleaning enabled in Ironic. Nova, by default, will mark Ironic nodes as reserved as soon as they are in use. When you free the Ironic node (by deleting the nova instance) it takes a while for Nova to un-reserve that Ironic node in placement. Usually this is a good idea, because it avoids placement providing an Ironic as a valid candidate when it is still being cleaned. Howerver, if you don't use automatic cleaning, it can cause an extra delay before and Ironic node is available for building a new Nova instance. """"""), >>>>>>> CHANGE (c9de18 Ironic nodes with instance reserved in placement)",,99,11
openstack%2Fos-client-config~master~Iea0a929bda37d748497e6fdd730767e25bd9a6dc,openstack/os-client-config,master,Iea0a929bda37d748497e6fdd730767e25bd9a6dc,Add support for tox 4,MERGED,2023-01-10 13:58:36.000000000,2023-01-10 16:51:18.000000000,2023-01-10 16:50:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-01-10 13:58:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/59a3dc90a9871d2fbdabb6be8112e69d0b3afbcc', 'message': 'Add support for tox 4\n\nSome random fixups to make it tox 4-compliant.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iea0a929bda37d748497e6fdd730767e25bd9a6dc\n'}]",2,869723,59a3dc90a9871d2fbdabb6be8112e69d0b3afbcc,9,2,1,15334,,,0,"Add support for tox 4

Some random fixups to make it tox 4-compliant.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Iea0a929bda37d748497e6fdd730767e25bd9a6dc
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/23/869723/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59a3dc90a9871d2fbdabb6be8112e69d0b3afbcc,tox4,"minversion = 3.0 envlist = py3,pep8usedevelop = true passenv = TOX_CONSTRAINTS_FILE -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} stestr slowestusedevelop = false skip_install = true -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}skip_install = true -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}skip_install = true -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/htmlexclude = .venv,.git,.tox,dist,doc,*lib/python*,*egg,build,releasenotes/source/conf.py","minversion = 2.0 envlist = py37,pep8 skipsdist = Trueusedevelop = True passenv = UPPER_CONSTRAINTS_FILE install_command = pip install -U {opts} {packages} basepython = python3 VIRTUAL_ENV={envdir} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} stestr slowestusedevelop = False skip_install = True -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}skip_install = True -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}skip_install = True -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/htmlexclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,releasenotes/source/conf.py [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt",21,29
openstack%2Fnova~stable%2Fwallaby~I27441d15cc6fa2ff7715ba15aa900961aadbf54a,openstack/nova,stable/wallaby,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 17:21:40.000000000,2023-01-10 16:35:11.000000000,2023-01-10 16:33:39.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 17:21:40.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3023e162e1a415ddaa70b4b8fbe24b1771dbe424', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)\n""}]",1,866194,3023e162e1a415ddaa70b4b8fbe24b1771dbe424,9,3,1,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Related-Bug: #1927677
Closes-Bug: #1986545

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)
(cherry picked from commit 0e4a257e8636a979605c614a35e79ba47b74d870)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/866194/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,3023e162e1a415ddaa70b4b8fbe24b1771dbe424,bug/1986545," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",26,35
openstack%2Ftempest~master~I27328bf6c176840c7762bd97f596481ffa6f5736,openstack/tempest,master,I27328bf6c176840c7762bd97f596481ffa6f5736,Decorate volume.base functions - fix cleanup,MERGED,2022-05-04 05:56:31.000000000,2023-01-10 16:35:03.000000000,2023-01-10 16:33:34.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-05-04 05:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bbb94556d180200480b655089c95e46afc7a016c', 'message': 'Decorate volume.base functions - fix cleanup\n\nThere are functions set as classmethod while used in testcase\nThe cleanup done on class level and not part of the testcase\n\nThe problem is that we may see testcase pass while the\nresource_cleanup fails on classlevel instead of the test fail.\nMaintaine and support proper cleanup ordering when functions\nare classbase while other instances.\n\nCurrent fix contains class descriptor that learn caller\nin case its a class it will use the class cleanup\nin case its an instance it will use instance cleanup.\n\nExpecting to see failures due to wrong cleanup in tests\nresult from the wrong impelementaions.\n\nSee scenario methods as reference (manager)\n\nChange-Id: I27328bf6c176840c7762bd97f596481ffa6f5736\n'}, {'number': 2, 'created': '2022-05-08 07:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c474fdec6a16595b70e6e9eef103a457b85664f5', 'message': 'Decorate volume.base functions - fix cleanup\n\nThere are functions set as classmethod while used in testcase\nThe cleanup done on class level and not part of the testcase\n\nThe problem is that we may see testcase pass while the\nresource_cleanup fails on classlevel instead of the test fail.\nMaintaine and support proper cleanup ordering when functions\nare classbase while other instances.\n\nCurrent fix contains class descriptor that learn caller\nin case its a class it will use the class cleanup\nin case its an instance it will use instance cleanup.\n\nExpecting to see failures due to wrong cleanup in tests\nresult from the wrong impelementaions.\n\nAdded unittests for cleanup_order decorator\nUpdated test_groups, cleanup on class teardown while resource\nallocated in instance level.\n\nSee scenario methods as reference (manager)\n\nChange-Id: I27328bf6c176840c7762bd97f596481ffa6f5736\n'}, {'number': 3, 'created': '2022-05-29 16:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/850ebf1e7ddac97c453432efd87bff03a739eb06', 'message': 'Decorate volume.base functions - fix cleanup\n\nThere are functions set as classmethod while used in testcase\nThe cleanup done on class level and not part of the testcase\n\nThe problem is that we may see testcase pass while the\nresource_cleanup fails on classlevel instead of the test fail.\nMaintaine and support proper cleanup ordering when functions\nare classbase while other instances.\n\nCurrent fix contains class descriptor that learn caller\nin case its a class it will use the class cleanup\nin case its an instance it will use instance cleanup.\n\nExpecting to see failures due to wrong cleanup in tests\nresult from the wrong impelementaions.\n\nAdded unittests for cleanup_order decorator\nUpdated test_groups, cleanup on class teardown while resource\nallocated in instance level.\n\nSee scenario methods as reference (manager)\n\nChange-Id: I27328bf6c176840c7762bd97f596481ffa6f5736\n'}, {'number': 4, 'created': '2022-05-29 19:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f7aa7a593821e718768e8df9f3c255e7d3543be', 'message': 'Decorate volume.base functions - fix cleanup\n\nThere are functions set as classmethod while used in testcase\nThe cleanup done on class level and not part of the testcase\n\nThe problem is that we may see testcase pass while the\nresource_cleanup fails on classlevel instead of the test fail.\nMaintaine and support proper cleanup ordering when functions\nare classbase while other instances.\n\nCurrent fix contains class descriptor that learn caller\nin case its a class it will use the class cleanup\nin case its an instance it will use instance cleanup.\n\nExpecting to see failures due to wrong cleanup in tests\nresult from the wrong impelementaions.\n\nAdded unittests for cleanup_order decorator\nUpdated test_groups cleanup , volume can not be deleted\nbefore group, class level cleanup hides it because group\nclean was instance level.\n\nSee scenario methods as reference (manager)\n\nChange-Id: I27328bf6c176840c7762bd97f596481ffa6f5736\n'}, {'number': 5, 'created': '2022-05-30 04:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/29ae3d902b395fa44d0dfad1e0db106d0a4e26cf', 'message': 'Decorate volume.base functions - fix cleanup\n\nThere are functions set as classmethod while used in testcase\nThe cleanup done on class level and not part of the testcase\n\nThe problem is that we may see testcase pass while the\nresource_cleanup fails on classlevel instead of the test fail.\nMaintaine and support proper cleanup ordering when functions\nare classbase while other instances.\n\nCurrent fix contains class descriptor that learn caller\nin case its a class it will use the class cleanup\nin case its an instance it will use instance cleanup.\n\nExpecting to see failures due to wrong cleanup in tests\nresult from the wrong impelementaions.\n\nAdded unittests for cleanup_order decorator\nUpdated test_groups cleanup , volume can not be deleted\nbefore group, class level cleanup hides it because group\nclean was instance level.\n\nSee scenario methods as reference (manager)\n\nChange-Id: I27328bf6c176840c7762bd97f596481ffa6f5736\n'}, {'number': 6, 'created': '2022-05-31 05:03:10.000000000', 'files': ['tempest/api/volume/admin/test_groups.py', 'tempest/api/volume/admin/test_group_snapshots.py', 'tempest/lib/decorators.py', 'tempest/tests/lib/test_decorators.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/951b806347adce32fa7f99b441b9e973af1e789d', 'message': 'Decorate volume.base functions - fix cleanup\n\nThere are functions set as classmethod while used in testcase\nThe cleanup done on class level and not part of the testcase\n\nThe problem is that we may see testcase pass while the\nresource_cleanup fails on classlevel instead of the test fail.\nMaintaine and support proper cleanup ordering when functions\nare classbase while other instances.\n\nCurrent fix contains class descriptor that learn caller\nin case its a class it will use the class cleanup\nin case its an instance it will use instance cleanup.\n\nExpecting to see failures due to wrong cleanup in tests\nresult from the wrong impelementaions.\n\nAdded unittests for cleanup_order decorator\nUpdated test_groups cleanup , volume can not be deleted\nbefore group, class level cleanup hides it because group\nclean was instance level.\n\nSee scenario methods as reference (manager)\n\nChange-Id: I27328bf6c176840c7762bd97f596481ffa6f5736\n'}]",40,840410,951b806347adce32fa7f99b441b9e973af1e789d,43,7,6,11075,,,0,"Decorate volume.base functions - fix cleanup

There are functions set as classmethod while used in testcase
The cleanup done on class level and not part of the testcase

The problem is that we may see testcase pass while the
resource_cleanup fails on classlevel instead of the test fail.
Maintaine and support proper cleanup ordering when functions
are classbase while other instances.

Current fix contains class descriptor that learn caller
in case its a class it will use the class cleanup
in case its an instance it will use instance cleanup.

Expecting to see failures due to wrong cleanup in tests
result from the wrong impelementaions.

Added unittests for cleanup_order decorator
Updated test_groups cleanup , volume can not be deleted
before group, class level cleanup hides it because group
clean was instance level.

See scenario methods as reference (manager)

Change-Id: I27328bf6c176840c7762bd97f596481ffa6f5736
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/840410/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/decorators.py', 'tempest/api/volume/base.py']",2,bbb94556d180200480b655089c95e46afc7a016c,fix_cleanup_order_branch,"from tempest.lib.decorators import cleanup_order @cleanup_order def create_volume(self, wait_until='available', **kwargs): image = self.images_client.show_image(kwargs['imageRef']) name = data_utils.rand_name(self.__name__ + '-Volume') volume = self.volumes_client.create_volume(**kwargs)['volume'] self.cleanup(test_utils.call_and_ignore_notfound_exc, self.delete_volume, self.volumes_client, volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, @cleanup_order def create_snapshot(self, volume_id=1, **kwargs): name = data_utils.rand_name(self.__name__ + '-Snapshot') snapshot = self.snapshots_client.create_snapshot( self.cleanup(test_utils.call_and_ignore_notfound_exc, self.delete_snapshot, snapshot['id']) waiters.wait_for_volume_resource_status(self.snapshots_client, @cleanup_order def delete_snapshot(self, snapshot_id, snapshots_client=None): snapshots_client = self.snapshots_client @cleanup_order def create_test_qos_specs(self, name=None, consumer=None, **kwargs): name = name or data_utils.rand_name(self.__name__ + '-QoS') qos_specs = self.admin_volume_qos_client.create_qos( self.cleanup(self.clear_qos_spec, qos_specs['id']) @cleanup_order def create_volume_type(self, name=None, **kwargs): name = name or data_utils.rand_name(self.__name__ + '-volume-type') volume_type = self.admin_volume_types_client.create_volume_type( self.cleanup(self.clear_volume_type, volume_type['id']) @cleanup_order def clear_qos_spec(self, qos_id): self.admin_volume_qos_client.delete_qos, qos_id) self.admin_volume_qos_client.wait_for_resource_deletion, qos_id) @cleanup_order def clear_volume_type(self, vol_type_id): self.admin_volume_types_client.delete_volume_type, vol_type_id) self.admin_volume_types_client.wait_for_resource_deletion,"," @classmethod def create_volume(cls, wait_until='available', **kwargs): image = cls.images_client.show_image(kwargs['imageRef']) name = data_utils.rand_name(cls.__name__ + '-Volume') volume = cls.volumes_client.create_volume(**kwargs)['volume'] cls.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, cls.delete_volume, cls.volumes_client, volume['id']) waiters.wait_for_volume_resource_status(cls.volumes_client, @classmethod def create_snapshot(cls, volume_id=1, **kwargs): name = data_utils.rand_name(cls.__name__ + '-Snapshot') snapshot = cls.snapshots_client.create_snapshot( cls.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, cls.delete_snapshot, snapshot['id']) waiters.wait_for_volume_resource_status(cls.snapshots_client, @classmethod def delete_snapshot(cls, snapshot_id, snapshots_client=None): snapshots_client = cls.snapshots_client @classmethod def create_test_qos_specs(cls, name=None, consumer=None, **kwargs): name = name or data_utils.rand_name(cls.__name__ + '-QoS') qos_specs = cls.admin_volume_qos_client.create_qos( cls.addClassResourceCleanup(cls.clear_qos_spec, qos_specs['id']) @classmethod def create_volume_type(cls, name=None, **kwargs): name = name or data_utils.rand_name(cls.__name__ + '-volume-type') volume_type = cls.admin_volume_types_client.create_volume_type( cls.addClassResourceCleanup(cls.clear_volume_type, volume_type['id']) @classmethod def clear_qos_spec(cls, qos_id): cls.admin_volume_qos_client.delete_qos, qos_id) cls.admin_volume_qos_client.wait_for_resource_deletion, qos_id) @classmethod def clear_volume_type(cls, vol_type_id): cls.admin_volume_types_client.delete_volume_type, vol_type_id) cls.admin_volume_types_client.wait_for_resource_deletion,",70,37
openstack%2Fopenstack-ansible-plugins~master~I4cc729ee767b0d52fc4c3b0ac4cdf5c4924582f3,openstack/openstack-ansible-plugins,master,I4cc729ee767b0d52fc4c3b0ac4cdf5c4924582f3,[DNM] test 869711,ABANDONED,2023-01-10 12:55:40.000000000,2023-01-10 16:23:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-10 12:55:40.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/96cecc0364eb54c41c5e146a28fe204e7ce9e883', 'message': '[DNM] test 869711\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/869711\nChange-Id: I4cc729ee767b0d52fc4c3b0ac4cdf5c4924582f3\n'}]",0,869713,96cecc0364eb54c41c5e146a28fe204e7ce9e883,3,1,1,25023,,,0,"[DNM] test 869711

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/869711
Change-Id: I4cc729ee767b0d52fc4c3b0ac4cdf5c4924582f3
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/13/869713/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,96cecc0364eb54c41c5e146a28fe204e7ce9e883,,,,0,0
openstack%2Fproject-config~master~I7cdac3807a8f5097bf12fd76b38721f998a5be26,openstack/project-config,master,I7cdac3807a8f5097bf12fd76b38721f998a5be26,"Add the ""api-ref-jobs"" template to CloudKitty",MERGED,2022-12-14 12:31:38.000000000,2023-01-10 16:16:03.000000000,2023-01-10 16:16:03.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-12-14 12:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9f25314f77367d25140c96e8f9c33744b0fea52d', 'message': 'Add the ""api-ref-jobs"" template to CloudKitty\n\nChange-Id: I7cdac3807a8f5097bf12fd76b38721f998a5be26\n'}, {'number': 2, 'created': '2022-12-14 16:41:29.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cb012cdb2bb3ffa1990b36ecf081f9af90ff9220', 'message': 'Add the ""api-ref-jobs"" template to CloudKitty\n\nChange-Id: I7cdac3807a8f5097bf12fd76b38721f998a5be26\nDepends-On: https://review.opendev.org/867628\n'}]",1,867651,cb012cdb2bb3ffa1990b36ecf081f9af90ff9220,19,4,2,25277,,,0,"Add the ""api-ref-jobs"" template to CloudKitty

Change-Id: I7cdac3807a8f5097bf12fd76b38721f998a5be26
Depends-On: https://review.opendev.org/867628
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/867651/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9f25314f77367d25140c96e8f9c33744b0fea52d,cloudkitty-api-ref, - api-ref-jobs,,1,0
openstack%2Fironic~master~Iff204b3056f3058f795f05dc1d240f494d60672a,openstack/ironic,master,Iff204b3056f3058f795f05dc1d240f494d60672a,Use association_proxy for ports node_uuid,MERGED,2022-10-28 16:13:29.000000000,2023-01-10 16:10:01.000000000,2023-01-10 16:08:30.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-28 16:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4ba4839232693912b9358af8f4175cf01f37d2f', 'message': '[WIP] Use ORM relationship for node_uuid for ports\n\nUse and ORM relationship and association_proxy for\nnode_uuid for ports.\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n'}, {'number': 2, 'created': '2022-11-02 13:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/003a4d7005045f8a1e5e3a0814a9f4e7ebb94d9a', 'message': ""[WIP] Use ORM relationship for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE, on port create an read is added to read the port\nfrom the database, this ensures node_uuid is loaded and\nsolves the DetachedInstanceError which is otherwise raised\non port create.\n\nBumps Port object version to 1.11\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 3, 'created': '2022-11-11 11:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fc43e9cc6fbb8d2d4919f2ba2fd44761a8a1216', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nBumps Port object version to 1.11\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 4, 'created': '2022-11-11 12:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2a4d5a40319180ddd0ad1b9c97cec43026807a7', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nBumps Port object version to 1.11\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 5, 'created': '2022-11-17 00:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99d2418d18dc10ed357528fe154eb75321ae7cf9', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nPerf data using https://review.opendev.org/864762\n\nWith patch:\n  1. Returned 20000 ports in python 2.7768702507019043\n     seconds from the DB.\n  2. Took 0.433107852935791 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 5.662816762924194 seconds to return all 20000\n     ports via ports API call pattern.\n\nWithout patch:\n  1. Returned 20000 ports in python 1.0273635387420654\n     seconds from the DB.\n  2. Took 0.4772777557373047 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 147.8800814151764 seconds to return all 20000\n     ports via ports API call pattern.\n\nConclusion:\n  Test #1 plain dbapi.get_port_list() test is ~3 times\n  slower, but Test #3 doing the API call pattern test\n  is ~3500% better.\n\nBumps Port object version to 1.11\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 6, 'created': '2022-11-17 18:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54fe2e1346274fe67b47266b3eb4d3a567fa8686', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nBumps Port object version to 1.11\n\nWith patch:\n  1. Returned 20000 ports in python 2.7768702507019043\n     seconds from the DB.\n  2. Took 0.433107852935791 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 5.662816762924194 seconds to return all 20000\n     ports via ports API call pattern.\n\nWithout patch:\n  1. Returned 20000 ports in python 1.0273635387420654\n     seconds from the DB.\n  2. Took 0.4772777557373047 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 147.8800814151764 seconds to return all 20000\n     ports via ports API call pattern.\n\nConclusion:\n  Test #1 plain dbapi.get_port_list() test is ~3 times\n  slower, but Test #3 doing the API call pattern test\n  is ~2500% better.\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 7, 'created': '2022-11-17 19:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef0c1a7b147dde46f6fad6586459ad4d9f6c9bef', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nBumps Port object version to 1.11\n\nWith patch:\n  1. Returned 20000 ports in python 2.7768702507019043\n     seconds from the DB.\n  2. Took 0.433107852935791 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 5.662816762924194 seconds to return all 20000\n     ports via ports API call pattern.\n\nWithout patch:\n  1. Returned 20000 ports in python 1.0273635387420654\n     seconds from the DB.\n  2. Took 0.4772777557373047 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 147.8800814151764 seconds to return all 20000\n     ports via ports API call pattern.\n\nConclusion:\n  Test #1 plain dbapi.get_port_list() test is ~3 times\n  slower, but Test #3 doing the API call pattern test\n  is ~2500% better.\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 8, 'created': '2022-11-29 13:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/22580fc6f351d8ceb1585b9cb3c839757843efd0', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nBumps Port object version to 1.11\n\nWith patch:\n  1. Returned 20000 ports in python 2.7768702507019043\n     seconds from the DB.\n  2. Took 0.433107852935791 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 5.662816762924194 seconds to return all 20000\n     ports via ports API call pattern.\n\nWithout patch:\n  1. Returned 20000 ports in python 1.0273635387420654\n     seconds from the DB.\n  2. Took 0.4772777557373047 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 147.8800814151764 seconds to return all 20000\n     ports via ports API call pattern.\n\nConclusion:\n  Test #1 plain dbapi.get_port_list() test is ~3 times\n  slower, but Test #3 doing the API call pattern test\n  is ~2500% better.\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}, {'number': 9, 'created': '2022-12-14 08:15:29.000000000', 'files': ['ironic/tests/unit/objects/test_port.py', 'ironic/api/controllers/v1/port.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/common/release_mappings.py', 'ironic/objects/port.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b00932e485813f1ed6013de6c7b7e7f180491f8', 'message': ""Use association_proxy for ports node_uuid\n\nThis change adds 'node_uuid' to ironic.objects.port.Port\nand adds a relationship using association_proxy in\nmodels.Port. Using the association_proxy removes the need\nto do the node lookup to populate node uuid for ports in\nthe api controller.\n\nNOTE:\n On port create a read is added to read the port from the\n database, this ensures node_uuid is loaded and solves the\n DetachedInstanceError which is otherwise raised.\n\nBumps Port object version to 1.11\n\nWith patch:\n  1. Returned 20000 ports in python 2.7768702507019043\n     seconds from the DB.\n  2. Took 0.433107852935791 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 5.662816762924194 seconds to return all 20000\n     ports via ports API call pattern.\n\nWithout patch:\n  1. Returned 20000 ports in python 1.0273635387420654\n     seconds from the DB.\n  2. Took 0.4772777557373047 seconds to iterate through\n     20000 port objects.\n     Ports table is roughly 12800000 bytes of JSON.\n  3. Took 147.8800814151764 seconds to return all 20000\n     ports via ports API call pattern.\n\nConclusion:\n  Test #1 plain dbapi.get_port_list() test is ~3 times\n  slower, but Test #3 doing the API call pattern test\n  is ~2500% better.\n\nStory: 2007789\nTask: 40035\nChange-Id: Iff204b3056f3058f795f05dc1d240f494d60672a\n""}]",10,862933,8b00932e485813f1ed6013de6c7b7e7f180491f8,51,5,9,24245,,,0,"Use association_proxy for ports node_uuid

This change adds 'node_uuid' to ironic.objects.port.Port
and adds a relationship using association_proxy in
models.Port. Using the association_proxy removes the need
to do the node lookup to populate node uuid for ports in
the api controller.

NOTE:
 On port create a read is added to read the port from the
 database, this ensures node_uuid is loaded and solves the
 DetachedInstanceError which is otherwise raised.

Bumps Port object version to 1.11

With patch:
  1. Returned 20000 ports in python 2.7768702507019043
     seconds from the DB.
  2. Took 0.433107852935791 seconds to iterate through
     20000 port objects.
     Ports table is roughly 12800000 bytes of JSON.
  3. Took 5.662816762924194 seconds to return all 20000
     ports via ports API call pattern.

Without patch:
  1. Returned 20000 ports in python 1.0273635387420654
     seconds from the DB.
  2. Took 0.4772777557373047 seconds to iterate through
     20000 port objects.
     Ports table is roughly 12800000 bytes of JSON.
  3. Took 147.8800814151764 seconds to return all 20000
     ports via ports API call pattern.

Conclusion:
  Test #1 plain dbapi.get_port_list() test is ~3 times
  slower, but Test #3 doing the API call pattern test
  is ~2500% better.

Story: 2007789
Task: 40035
Change-Id: Iff204b3056f3058f795f05dc1d240f494d60672a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/862933/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'zuul.d/project.yaml', 'ironic/objects/port.py', 'ironic/db/sqlalchemy/models.py']",4,a4ba4839232693912b9358af8f4175cf01f37d2f,sql_joins,"from sqlalchemy.ext.associationproxy import association_proxy _node_uuid = orm.relationship( ""Node"", primaryjoin=""(Port.node_id == Node.id)"", lazy=""selectin"", ) node_uuid = association_proxy(""_node_uuid"", ""uuid"") ",,11,52
openstack%2Fpython-octaviaclient~master~I3ef4f7f5d03c84b9091dd97a272f64da680c6e2d,openstack/python-octaviaclient,master,I3ef4f7f5d03c84b9091dd97a272f64da680c6e2d,Fixing jobs with tox4,MERGED,2023-01-10 15:17:08.000000000,2023-01-10 16:04:02.000000000,2023-01-10 16:02:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-01-10 15:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1077f6d630052d89a7aff9a98eb8d6a58becf3cb', 'message': 'Fixing jobs with tox4\n\nAdding scripts to allowlist_externals\nAdding explicitly requirements.txt to the deps list\n\nChange-Id: I3ef4f7f5d03c84b9091dd97a272f64da680c6e2d\n'}, {'number': 2, 'created': '2023-01-10 15:31:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/168a36006ea3fe61cedc4688f47e62739b351e3a', 'message': 'Fixing jobs with tox4\n\nAdding scripts to allowlist_externals\nAdding explicitly requirements.txt to the deps list\nRemoving basepython and skipsdist\n\nChange-Id: I3ef4f7f5d03c84b9091dd97a272f64da680c6e2d\n'}]",1,869738,168a36006ea3fe61cedc4688f47e62739b351e3a,11,3,2,29244,,,0,"Fixing jobs with tox4

Adding scripts to allowlist_externals
Adding explicitly requirements.txt to the deps list
Removing basepython and skipsdist

Change-Id: I3ef4f7f5d03c84b9091dd97a272f64da680c6e2d
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/38/869738/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1077f6d630052d89a7aff9a98eb8d6a58becf3cb,, -r{toxinidir}/requirements.txt {toxinidir}/tools/coding-checks.sh,,2,0
openstack%2Ftripleo-ansible~master~I4da8fd494f276747c3aa0edaa50bda7353686abc,openstack/tripleo-ansible,master,I4da8fd494f276747c3aa0edaa50bda7353686abc,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-11-02 16:23:43.000000000,2023-01-10 16:01:32.000000000,2023-01-10 16:01:32.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-02 16:23:43.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4513f97458d870baa24b1aabe3cc3bfaea383b45', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I4da8fd494f276747c3aa0edaa50bda7353686abc\n'}]",1,863388,4513f97458d870baa24b1aabe3cc3bfaea383b45,11,3,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I4da8fd494f276747c3aa0edaa50bda7353686abc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/863388/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,4513f97458d870baa24b1aabe3cc3bfaea383b45,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e,openstack/tripleo-heat-templates,stable/wallaby,I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e,Support role specific ContainerImagePrepare,MERGED,2022-10-05 06:43:01.000000000,2023-01-10 16:01:29.000000000,2023-01-10 16:01:29.000000000,"[{'_account_id': 8449}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-05 06:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dcab33b8881f340b95fc2e75e33b037ccc2cb1e', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nThis change ensures that container image prepare process, which is\nexecuted by external tasks, pulls container images according to these\nlayer definitions so that the required container images are downloaded\nand pushed to the undercloud image-server during deployment.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/851689\nChange-Id: I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e\n(cherry picked from commit 3dd4107b13c27198947995bb8c94710b527aff95)\n""}, {'number': 2, 'created': '2022-11-02 01:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/779da5c90d707f3a69d0858b100f7e736bae2820', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nThis change ensures that container image prepare process, which is\nexecuted by external tasks, pulls container images according to these\nlayer definitions so that the required container images are downloaded\nand pushed to the undercloud image-server during deployment.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/851689\nChange-Id: I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e\n(cherry picked from commit 3dd4107b13c27198947995bb8c94710b527aff95)\n""}, {'number': 3, 'created': '2022-12-21 11:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/adce5eee04c37986e7ee64ca74a3093a180862d8', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nThis change ensures that container image prepare process, which is\nexecuted by external tasks, pulls container images according to these\nlayer definitions so that the required container images are downloaded\nand pushed to the undercloud image-server during deployment.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/851689\nChange-Id: I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e\n(cherry picked from commit 3dd4107b13c27198947995bb8c94710b527aff95)\n""}, {'number': 4, 'created': '2022-12-23 04:42:54.000000000', 'files': ['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3050ea2993632fd333be6c0e722a98b1df5db90c', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nThis change ensures that container image prepare process, which is\nexecuted by external tasks, pulls container images according to these\nlayer definitions so that the required container images are downloaded\nand pushed to the undercloud image-server during deployment.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858894\nChange-Id: I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e\n(cherry picked from commit 3dd4107b13c27198947995bb8c94710b527aff95)\n""}]",12,860315,3050ea2993632fd333be6c0e722a98b1df5db90c,40,5,4,30073,,,0,"Support role specific ContainerImagePrepare

This implements partial support for overriding the ContainerImaePrepare
parameter for individual roles, so that users can use different set
of images for each role.

example:
parameter_defaults:
  ContainerImagePrepare:
    - push_destination: true
      set:
        name_prefix: openstack-
        name_suffix: ''
        namespace: quay.io/repository/tripleowallabycentos9
        ...
  ComputeEl8ContainerImagePrepare:
    - push_destination: true
      set:
        name_prefix: openstack-
        name_suffix: ''
        namespace: quay.io/repository/tripleowallabycentos8
        ...

This change ensures that container image prepare process, which is
executed by external tasks, pulls container images according to these
layer definitions so that the required container images are downloaded
and pushed to the undercloud image-server during deployment.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858894
Change-Id: I7c96d7d0f23fd999e76b417f456ac6a2764c4a3e
(cherry picked from commit 3dd4107b13c27198947995bb8c94710b527aff95)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/860315/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'],1,7dcab33b8881f340b95fc2e75e33b037ccc2cb1e,role-image-prepare-stable/wallaby," {{ role.name }}ContainerImagePrepare: description: Used to run ""openstack tripleo container image prepare"". This is run after the registry is installed to populate the registry with images. This is used for a specific role and replaces the ContainerImagePrepare parameter. type: json default: {} {{ role.name }}ContainerImagePrepare: {get_param: {{role.name}}ContainerImagePrepare}",,9,0
openstack%2Fopenstack-ansible~stable%2Fzed~I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8,openstack/openstack-ansible,stable/zed,I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8,Sync ZFS pool names,MERGED,2023-01-10 10:36:19.000000000,2023-01-10 16:00:56.000000000,2023-01-10 15:59:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-10 10:36:19.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6d0a3a1ccd6b33496074588f544cf64ef6ae183', 'message': ""Sync ZFS pool names\n\nCurrently in AIO we have 2 possible path depending on presence of\nsecond drive in CI VM. For ZFS scenario we have pool name desynced\nthat wasn't catched before as issue highly depends on CI providers.\n\nChange-Id: I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8\n""}]",0,869633,f6d0a3a1ccd6b33496074588f544cf64ef6ae183,8,3,1,28619,,,0,"Sync ZFS pool names

Currently in AIO we have 2 possible path depending on presence of
second drive in CI VM. For ZFS scenario we have pool name desynced
that wasn't catched before as issue highly depends on CI providers.

Change-Id: I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/33/869633/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml'],1,f6d0a3a1ccd6b33496074588f544cf64ef6ae183,," command: zpool create osa-test-pool ""/dev/{{ _bootstrap_host_data_disk_device }}2"" args: creates: /osa-test-pool - name: Create the ZFS osa-test-pool/lxc volume shell: ""(zfs list | grep lxc) || zfs create -o mountpoint=/var/lib/lxc osa-test-pool/lxc"""," command: zpool create pool ""/dev/{{ _bootstrap_host_data_disk_device }}2"" args: creates: /pool - name: Create the ZFS pool/lxc volume shell: ""(zfs list | grep lxc) || zfs create -o mountpoint=/var/lib/lxc pool/lxc""",4,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,openstack/tripleo-heat-templates,stable/wallaby,Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,Removing NIC scripts as the heat network config is no longer supported,MERGED,2022-11-30 12:24:20.000000000,2023-01-10 15:39:19.000000000,2023-01-10 15:39:19.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-30 12:24:20.000000000', 'files': ['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10f65f985c2f7ff8667b723ba72a45bc9c8a5aac', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n        tools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/866142\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n(cherry picked from commit e098b8172bdfdfa488bcd8b43049ed362c59cc2d)\n'}]",2,866147,10f65f985c2f7ff8667b723ba72a45bc9c8a5aac,11,4,1,6816,,,0,"Removing NIC scripts as the heat network config is no longer supported

Function of these scripts is now carried out by ansible roles,
making them unnecessary.

Removed scripts:
        tools/convert_nic_config.py
        tools/merge-new-params-nic-config-script.py

Depends-On: https://review.opendev.org/866142

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d
(cherry picked from commit e098b8172bdfdfa488bcd8b43049ed362c59cc2d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/866147/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py']",2,10f65f985c2f7ff8667b723ba72a45bc9c8a5aac,,,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import collections import datetime import os import re import shutil import six import sys import yaml def parse_opts(argv): parser = argparse.ArgumentParser( description='Convert to new NIC config templates with ' 'OS::Heat::Value resources.') parser.add_argument('-t', '--template', metavar='TEMPLATE_FILE', help=(""Existing NIC config template to conver.""), required=True) parser.add_argument('--discard-comments', metavar='DISCARD_COMMENTS', help=""Discard comments from the template. (The "" ""scripts functions to keep YAML file comments in "" ""place, does not work in all scenarios.)"", default=False) opts = parser.parse_args(argv[1:]) return opts def to_commented_yaml(filename): """"""Convert comments into 'comments<num>: ...' YAML"""""" out_str = '' last_non_comment_spaces = '' with open(filename, 'r') as f: comment_count = 0 for line in f: # skip blank line if line.isspace(): continue char_count = 0 spaces = '' for char in line: char_count += 1 if char == ' ': spaces += ' ' next elif char == '#': comment_count += 1 comment = line[char_count:-1] last_non_comment_spaces = spaces out_str += ""%scomment%i_%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, len(spaces), comment) break else: last_non_comment_spaces = spaces out_str += line # inline comments check m = re.match("".*:.*#(.*)"", line) if m: comment_count += 1 out_str += ""%s inline_comment%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, m.group(1)) break with open(filename, 'w') as f: f.write(out_str) return out_str def to_normal_yaml(filename): """"""Convert back to normal #commented YAML"""""" with open(filename, 'r') as f: data = f.read() out_str = '' next_line_break = False for line in data.split('\n'): # get_input not supported by run-os-net-config.sh script line = line.replace('get_input: ', '') # Normal comments m = re.match("" +comment[0-9]+_([0-9]+): '(.*)'.*"", line) # Inline comments i = re.match("" +inline_comment[0-9]+: '(.*)'.*"", line) if m: if next_line_break: out_str += '\n' next_line_break = False for x in range(0, int(m.group(1))): out_str += "" "" out_str += ""#%s\n"" % m.group(2) elif i: out_str += "" #%s\n"" % i.group(1) next_line_break = False else: if next_line_break: out_str += '\n' out_str += line next_line_break = True if next_line_break: out_str += '\n' with open(filename, 'w') as f: f.write(out_str) return out_str class TemplateDumper(yaml.SafeDumper): def represent_ordered_dict(self, data): return self.represent_dict(data.items()) def description_presenter(self, data): if not len(data) > 80: return self.represent_scalar('tag:yaml.org,2002:str', data) return self.represent_scalar('tag:yaml.org,2002:str', data, style='>') class TemplateLoader(yaml.SafeLoader): def construct_mapping(self, node): self.flatten_mapping(node) return collections.OrderedDict(self.construct_pairs(node)) TemplateDumper.add_representer(six.text_type, TemplateDumper.description_presenter) TemplateDumper.add_representer(six.binary_type, TemplateDumper.description_presenter) TemplateDumper.add_representer(collections.OrderedDict, TemplateDumper.represent_ordered_dict) TemplateLoader.add_constructor(yaml.resolver.BaseResolver.DEFAULT_MAPPING_TAG, TemplateLoader.construct_mapping) def write_template(template, filename=None): with open(filename, 'w') as f: yaml.dump(template, f, TemplateDumper, width=120, default_flow_style=False) def validate_template(template): if not os.path.exists(template): raise RuntimeError('Template not provided.') if not os.path.isfile(template): raise RuntimeError('Template %s is not a file.') pass def backup_template(template): extension = datetime.datetime.now().strftime('%Y%m%d%H%M%S') backup_filename = os.path.realpath(template) + '.' + extension if os.path.exists(backup_filename): raise RuntimeError('Backupe file: %s already exists. Aborting!' % backup_filename) shutil.copyfile(template, backup_filename) print('The original template was saved as: %s' % backup_filename) def needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources'].get('OsNetConfigImpl') if (net_config_res and net_config_res[ 'type'] == 'OS::Heat::SoftwareConfig'): backup_template(OPTS.template) if not OPTS.discard_comments: # Convert comments '# ...' into 'comments<num>: ...' # is not lost when loading the data. to_commented_yaml(OPTS.template) return True return False def convert_to_heat_value_resource(): if needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources']['OsNetConfigImpl'] net_config_res_props = net_config_res['properties'] # set the type to OS::Heat::Value net_config_res['type'] = 'OS::Heat::Value' del net_config_res_props['group'] old_config = net_config_res_props['config'] new_config = old_config['str_replace']['params']['$network_config'] del net_config_res_props['config'] net_config_res_props['value'] = new_config outputs = template['outputs'] del outputs['OS::stack_id'] outputs['config'] = {} outputs['config']['value'] = 'get_attr[OsNetConfigImpl, value]' write_template(template, filename=OPTS.template) if not OPTS.discard_comments: # Convert previously converted comments, 'comments<num>: ...' # YAML back to normal #commented YAML to_normal_yaml(OPTS.template) print('The update template was saved as: %s' % OPTS.template) else: print('Template does not need conversion: %s' % OPTS.template) OPTS = parse_opts(sys.argv) convert_to_heat_value_resource() ",0,497
openstack%2Fopenstack-ansible~master~Ie1735103a7c60f73230ecac12ca996d845f5336b,openstack/openstack-ansible,master,Ie1735103a7c60f73230ecac12ca996d845f5336b,Block unauthenticated Ironic API endpoints from untrusted networks,MERGED,2022-12-19 12:31:09.000000000,2023-01-10 15:38:52.000000000,2023-01-10 15:37:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-19 12:31:09.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/387044de43752eef082c360a65ef61f3195b971a', 'message': 'Block unauthenticated Ironic API endpoints from untrusted networks\n\nIronic and Ironic inspector have some potentially unauthenticated\nendpoints which are designed for the Ironic Python Agent to make\ncallbacks to the Ironic API during node deployment [1] [2] [3].\n\nEnsure that these endpoints are never accessible from an untrusted\nnetwork.\n\n[1] https://docs.openstack.org/api-ref/baremetal/#agent-lookup\n[2] https://docs.openstack.org/api-ref/baremetal/#agent-heartbeat\n[3] https://docs.openstack.org/api-ref/baremetal-introspection/#ramdisk-callback\n\nChange-Id: Ie1735103a7c60f73230ecac12ca996d845f5336b\n'}]",3,868075,387044de43752eef082c360a65ef61f3195b971a,20,3,1,25023,,,0,"Block unauthenticated Ironic API endpoints from untrusted networks

Ironic and Ironic inspector have some potentially unauthenticated
endpoints which are designed for the Ironic Python Agent to make
callbacks to the Ironic API during node deployment [1] [2] [3].

Ensure that these endpoints are never accessible from an untrusted
network.

[1] https://docs.openstack.org/api-ref/baremetal/#agent-lookup
[2] https://docs.openstack.org/api-ref/baremetal/#agent-heartbeat
[3] https://docs.openstack.org/api-ref/baremetal-introspection/#ramdisk-callback

Change-Id: Ie1735103a7c60f73230ecac12ca996d845f5336b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/868075/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,387044de43752eef082c360a65ef61f3195b971a,osa-ironic-tidy,"haproxy_ironic_allowlist_networks: ""{{ haproxy_allowlist_networks }}"" haproxy_ironic_inspector_allowlist_networks: ""{{ haproxy_allowlist_networks }}"" haproxy_backend_arguments: - ""http-request deny if { path_beg /v1/lookup } !{ src {{haproxy_ironic_allowlist_networks | join(' } !{ src ') }} }"" - ""http-request deny if { path_beg /v1/heartbeat } !{ src {{haproxy_ironic_allowlist_networks | join(' } !{ src ') }} }"" haproxy_backend_arguments: - ""http-request deny if { path_beg /v1/continue } !{ src {{haproxy_ironic_inspector_allowlist_networks | join(' } !{ src ') }} }""",,7,0
openstack%2Ftripleo-heat-templates~stable%2Fzed~Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,openstack/tripleo-heat-templates,stable/zed,Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,Removing NIC scripts as the heat network config is no longer supported,MERGED,2022-12-14 12:20:25.000000000,2023-01-10 15:36:25.000000000,2023-01-10 15:36:25.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-14 12:20:25.000000000', 'files': ['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfd4e19e456f2869d769dcc0a9096cb30bd8a79b', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n        tools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n(cherry picked from commit e098b8172bdfdfa488bcd8b43049ed362c59cc2d)\n'}]",0,867630,bfd4e19e456f2869d769dcc0a9096cb30bd8a79b,7,3,1,6816,,,0,"Removing NIC scripts as the heat network config is no longer supported

Function of these scripts is now carried out by ansible roles,
making them unnecessary.

Removed scripts:
        tools/convert_nic_config.py
        tools/merge-new-params-nic-config-script.py

Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d
(cherry picked from commit e098b8172bdfdfa488bcd8b43049ed362c59cc2d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/867630/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py']",2,bfd4e19e456f2869d769dcc0a9096cb30bd8a79b,tools/drop-nic-scripts-stable/zed,,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import collections import datetime import os import re import shutil import sys import yaml def parse_opts(argv): parser = argparse.ArgumentParser( description='Convert to new NIC config templates with ' 'OS::Heat::Value resources.') parser.add_argument('-t', '--template', metavar='TEMPLATE_FILE', help=(""Existing NIC config template to convert.""), required=True) parser.add_argument('--discard-comments', metavar='DISCARD_COMMENTS', help=""Discard comments from the template. (The "" ""scripts functions to keep YAML file comments in "" ""place, does not work in all scenarios.)"", default=False) opts = parser.parse_args(argv[1:]) return opts def to_commented_yaml(filename): """"""Convert comments into 'comments<num>: ...' YAML"""""" out_str = '' last_non_comment_spaces = '' with open(filename, 'r') as f: comment_count = 0 for line in f: # skip blank line if line.isspace(): continue char_count = 0 spaces = '' for char in line: char_count += 1 if char == ' ': spaces += ' ' next elif char == '#': comment_count += 1 comment = line[char_count:-1] last_non_comment_spaces = spaces out_str += ""%scomment%i_%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, len(spaces), comment) break else: last_non_comment_spaces = spaces out_str += line # inline comments check m = re.match("".*:.*#(.*)"", line) if m: comment_count += 1 out_str += ""%s inline_comment%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, m.group(1)) break with open(filename, 'w') as f: f.write(out_str) return out_str def to_normal_yaml(filename): """"""Convert back to normal #commented YAML"""""" with open(filename, 'r') as f: data = f.read() out_str = '' next_line_break = False for line in data.split('\n'): # get_input not supported by run-os-net-config.sh script line = line.replace('get_input: ', '') # Normal comments m = re.match("" +comment[0-9]+_([0-9]+): '(.*)'.*"", line) # Inline comments i = re.match("" +inline_comment[0-9]+: '(.*)'.*"", line) if m: if next_line_break: out_str += '\n' next_line_break = False for x in range(0, int(m.group(1))): out_str += "" "" out_str += ""#%s\n"" % m.group(2) elif i: out_str += "" #%s\n"" % i.group(1) next_line_break = False else: if next_line_break: out_str += '\n' out_str += line next_line_break = True if next_line_break: out_str += '\n' with open(filename, 'w') as f: f.write(out_str) return out_str class TemplateDumper(yaml.SafeDumper): def represent_ordered_dict(self, data): return self.represent_dict(data.items()) def description_presenter(self, data): if not len(data) > 80: return self.represent_scalar('tag:yaml.org,2002:str', data) return self.represent_scalar('tag:yaml.org,2002:str', data, style='>') class TemplateLoader(yaml.SafeLoader): def construct_mapping(self, node): self.flatten_mapping(node) return collections.OrderedDict(self.construct_pairs(node)) TemplateDumper.add_representer(str, TemplateDumper.description_presenter) TemplateDumper.add_representer(bytes, TemplateDumper.description_presenter) TemplateDumper.add_representer(collections.OrderedDict, TemplateDumper.represent_ordered_dict) TemplateLoader.add_constructor(yaml.resolver.BaseResolver.DEFAULT_MAPPING_TAG, TemplateLoader.construct_mapping) def write_template(template, filename=None): with open(filename, 'w') as f: yaml.dump(template, f, TemplateDumper, width=120, default_flow_style=False) def validate_template(template): if not os.path.exists(template): raise RuntimeError('Template not provided.') if not os.path.isfile(template): raise RuntimeError('Template %s is not a file.') pass def backup_template(template): extension = datetime.datetime.now().strftime('%Y%m%d%H%M%S') backup_filename = os.path.realpath(template) + '.' + extension if os.path.exists(backup_filename): raise RuntimeError('Backup file: %s already exists. Aborting!' % backup_filename) shutil.copyfile(template, backup_filename) print('The original template was saved as: %s' % backup_filename) def needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources'].get('OsNetConfigImpl') if (net_config_res and net_config_res[ 'type'] == 'OS::Heat::SoftwareConfig'): backup_template(OPTS.template) if not OPTS.discard_comments: # Convert comments '# ...' into 'comments<num>: ...' # is not lost when loading the data. to_commented_yaml(OPTS.template) return True return False def convert_to_heat_value_resource(): if needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources']['OsNetConfigImpl'] net_config_res_props = net_config_res['properties'] # set the type to OS::Heat::Value net_config_res['type'] = 'OS::Heat::Value' del net_config_res_props['group'] old_config = net_config_res_props['config'] new_config = old_config['str_replace']['params']['$network_config'] del net_config_res_props['config'] net_config_res_props['value'] = new_config outputs = template['outputs'] del outputs['OS::stack_id'] outputs['config'] = {} outputs['config']['value'] = 'get_attr[OsNetConfigImpl, value]' write_template(template, filename=OPTS.template) if not OPTS.discard_comments: # Convert previously converted comments, 'comments<num>: ...' # YAML back to normal #commented YAML to_normal_yaml(OPTS.template) print('The update template was saved as: %s' % OPTS.template) else: print('Template does not need conversion: %s' % OPTS.template) OPTS = parse_opts(sys.argv) convert_to_heat_value_resource() ",0,490
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I33953e9293a2ef2715bfcf076a262c474da40dc3,openstack/ansible-collections-openstack,stable/1.0.0,I33953e9293a2ef2715bfcf076a262c474da40dc3,Fixed docs,MERGED,2023-01-10 15:13:40.000000000,2023-01-10 15:32:53.000000000,2023-01-10 15:32:53.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-10 15:13:40.000000000', 'files': ['docs/branching.md', 'docs/contributing.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dd383c010c2b05751778c6b926c9ec8b367657ea', 'message': 'Fixed docs\n\nChange-Id: I33953e9293a2ef2715bfcf076a262c474da40dc3\n(cherry picked from commit 122afc170cbbbfe63f28bbdb26880e862c07f8ba)\n'}]",0,869737,dd383c010c2b05751778c6b926c9ec8b367657ea,7,3,1,32962,,,0,"Fixed docs

Change-Id: I33953e9293a2ef2715bfcf076a262c474da40dc3
(cherry picked from commit 122afc170cbbbfe63f28bbdb26880e862c07f8ba)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/37/869737/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/branching.md', 'docs/contributing.md']",2,dd383c010c2b05751778c6b926c9ec8b367657ea,docs-fixes,For hacking on the Ansible OpenStack collection it helps to [prepare a DevStack environment](devstack.md) first. [`openstack.cloud.neutron_rbac_policy`](../plugins/modules/neutron_rbac_policy.py) or any other module which [`ci/roles/floating_ip/tasks/main.yml`](../ci/roles/floating_ip/tasks/main.yml).[openstacksdk-to-dict]: https://opendev.org/openstack/openstacksdk/src/branch/master/openstack/resource.py,For hacking on the Ansible OpenStack collection it helps to [prepare a DevStack environment](DEVSTACK.md) first. [`openstack.cloud.neutron_rbac_policies_info`](../plugins/modules/neutron_rbac_policies.py) or any other module which [`ci/roles/floating_ip_info/tasks/main.yml`](../ci/roles/floating_ip_info/tasks/main.yml).[openstacksdk-to-dict]: https://opendev.org/openstack/openstacksdk/src/branch/master/openstack/resource.py#L990,5,5
openstack%2Fneutron~stable%2Fvictoria~I511dd67d8b784e240d3512e9099ec8e064c03b34,openstack/neutron,stable/victoria,I511dd67d8b784e240d3512e9099ec8e064c03b34,[DNM] Check job updates,ABANDONED,2023-01-04 06:19:12.000000000,2023-01-10 15:23:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-04 06:19:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e53eac9f1fbea18ae933790a48f0bd87cf56ca2c', 'message': '[DNM] Check job updates\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142\nChange-Id: I511dd67d8b784e240d3512e9099ec8e064c03b34\n'}]",0,869144,e53eac9f1fbea18ae933790a48f0bd87cf56ca2c,3,1,1,13861,,,0,"[DNM] Check job updates

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142
Change-Id: I511dd67d8b784e240d3512e9099ec8e064c03b34
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/869144/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e53eac9f1fbea18ae933790a48f0bd87cf56ca2c,ubuntu-minimal-as-adv-image, - neutron-tempest-plugin-scenario-ovn-victoria, templates: - neutron-tempest-plugin-jobs-victoria - openstack-cover-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade-ovn: voting: false - neutron-tempest-linuxbridge - neutron-tempest-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only: voting: false # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - openstacksdk-functional-devstack-networking: voting: false - neutron-ovn-rally-task: voting: false - neutron-ovn-tempest-slow: voting: false - openstack-tox-py36: # from openstack-python3-victoria-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-victoria-jobs template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-with-uwsgi - neutron-tempest-linuxbridge - neutron-tempest-iptables_hybrid - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - openstack-tox-py36: # from openstack-python3-victoria-jobs template timeout: 3600 #- neutron-ovn-rally-task periodic: jobs: - neutron-functional - neutron-fullstack - neutron-tempest-postgres-full - neutron-tempest-mariadb-full,1,66
openstack%2Fneutron~stable%2Fussuri~I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e,openstack/neutron,stable/ussuri,I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e,[DNM] check job updates,ABANDONED,2023-01-04 06:48:20.000000000,2023-01-10 15:23:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-04 06:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01807f91a4546d2bd212a25c18572856ddd0e7be', 'message': '[DNM] check job updates\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142\nChange-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e\n'}, {'number': 2, 'created': '2023-01-04 07:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72ce81be31615197c6225c62c2e6c9748096f6e5', 'message': '[DNM] check job updates\n\nChange-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e\n'}, {'number': 3, 'created': '2023-01-04 07:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acee2ebdef59dd1136bc95a00c99e4d6f343fa60', 'message': '[DNM] check job updates\n\nChange-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e\n'}, {'number': 4, 'created': '2023-01-04 08:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9a9388829e13e5aa88bcab41f5b63c66b3cfcd1', 'message': '[DNM] check job updates\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869151\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142\nChange-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e\n'}, {'number': 5, 'created': '2023-01-04 08:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a723b14f0930fdc089ac3f4291cfc57c29e41781', 'message': '[DNM] check job updates\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869151\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142\nChange-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e\n'}, {'number': 6, 'created': '2023-01-04 13:23:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/46ea0228b9cb23d16319f622ef7cd067b6f7cda8', 'message': '[DNM] check job updates\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869151\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142\nChange-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e\n'}]",2,869146,46ea0228b9cb23d16319f622ef7cd067b6f7cda8,13,1,6,13861,,,0,"[DNM] check job updates

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869151
Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/869142
Change-Id: I3a9ff43eb15152b433e0acc7d0e616d5c2f85c3e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/869146/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,01807f91a4546d2bd212a25c18572856ddd0e7be,ubuntu-minimal-as-adv-image, - neutron-tempest-plugin-scenario-ovn-ussuri, templates: - neutron-tempest-plugin-jobs-ussuri - openstack-cover-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional: # We don't run the job on things like neutron docs-only changes irrelevant-files: &irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - ^devstack/.*\.sample$ - neutron-fullstack: irrelevant-files: *irrelevant-files - neutron-fullstack-with-uwsgi: irrelevant-files: *irrelevant-files - neutron-rally-task: irrelevant-files: *irrelevant-files - neutron-grenade-multinode: irrelevant-files: *irrelevant-files - neutron-grenade-dvr-multinode: irrelevant-files: *irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: *irrelevant-files - neutron-tempest-with-uwsgi: irrelevant-files: *irrelevant-files - tempest-integrated-networking: irrelevant-files: *irrelevant-files - tempest-multinode-full-py3: voting: false irrelevant-files: *irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *irrelevant-files - neutron-tempest-iptables_hybrid: irrelevant-files: *irrelevant-files - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *irrelevant-files - neutron-tempest-slow-py3: irrelevant-files: *irrelevant-files - neutron-tempest-ipv6-only: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release-ipv6-only: voting: false irrelevant-files: *irrelevant-files # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-ovn-rally-task: voting: false irrelevant-files: *irrelevant-files - neutron-ovn-tempest-slow: voting: false - openstack-tox-py36: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-py37: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 gate: jobs: - neutron-functional - neutron-fullstack - tempest-integrated-networking - neutron-tempest-linuxbridge - neutron-tempest-iptables_hybrid - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - openstack-tox-py36: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-py37: # from openstack-python3-ussuri-jobs template timeout: 3600 #- neutron-ovn-rally-task experimental: jobs: - neutron-ovn-grenade periodic: jobs: - neutron-functional - neutron-tempest-postgres-full - neutron-tempest-mariadb-full,1,107
openstack%2Ftripleo-heat-templates~master~I3ba61b537f494602f66258c5025eafa0f55ce5bc,openstack/tripleo-heat-templates,master,I3ba61b537f494602f66258c5025eafa0f55ce5bc,Remove redundant apache::default_vhost,ABANDONED,2022-06-24 11:25:54.000000000,2023-01-10 15:06:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-24 11:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64348f89a92fe532bde698696e31808e44acca53', 'message': 'Remove redundant apache::vhost\n\nThe parameter is set by the base apache service resource since [1] was\nmerged. Also, the definition in heat-engine service is useless because\nthe service does not require httpd.\n\n[1] 23201d93a1518801510ee151e769680a3c7e2e30\n\nChange-Id: I3ba61b537f494602f66258c5025eafa0f55ce5bc\n'}, {'number': 2, 'created': '2022-06-24 11:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8b4d6a9db775e778567c48937788b858ca9320d', 'message': 'Remove redundant apache::default_vhost\n\nThe parameter is set by the base apache service resource since [1] was\nmerged. Also, the definition in heat-engine service is useless because\nthe service does not require httpd.\n\n[1] 23201d93a1518801510ee151e769680a3c7e2e30\n\nChange-Id: I3ba61b537f494602f66258c5025eafa0f55ce5bc\n'}, {'number': 3, 'created': '2022-07-12 13:05:54.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd21d03ed106de84aae82d7fc902c4345bea3fb3', 'message': 'Remove redundant apache::default_vhost\n\nThe parameter is set by the base apache service resource since [1] was\nmerged. Also, the definition in heat-engine service is useless because\nthe service does not require httpd.\n\n[1] 23201d93a1518801510ee151e769680a3c7e2e30\n\nChange-Id: I3ba61b537f494602f66258c5025eafa0f55ce5bc\n'}]",0,847571,cd21d03ed106de84aae82d7fc902c4345bea3fb3,8,2,3,9816,,,0,"Remove redundant apache::default_vhost

The parameter is set by the base apache service resource since [1] was
merged. Also, the definition in heat-engine service is useless because
the service does not require httpd.

[1] 23201d93a1518801510ee151e769680a3c7e2e30

Change-Id: I3ba61b537f494602f66258c5025eafa0f55ce5bc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/847571/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",11,64348f89a92fe532bde698696e31808e44acca53,,, - apache::default_vhost: false,7,18
openstack%2Ftripleo-ansible~master~I3cc25703e57373f4b5e2c1bfb438351a32ea72cb,openstack/tripleo-ansible,master,I3cc25703e57373f4b5e2c1bfb438351a32ea72cb,WIP Use openstacksdk instead of clients,ABANDONED,2021-06-19 07:43:38.000000000,2023-01-10 15:06:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-19 07:43:38.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/acbcf18a0c72ecb58f8231ad5d3c53929a6048c4', 'message': 'WIP Use openstacksdk instead of clients\n\nChange-Id: I3cc25703e57373f4b5e2c1bfb438351a32ea72cb\n'}]",0,797175,acbcf18a0c72ecb58f8231ad5d3c53929a6048c4,4,2,1,8833,,,0,"WIP Use openstacksdk instead of clients

Change-Id: I3cc25703e57373f4b5e2c1bfb438351a32ea72cb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/797175/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py'],1,acbcf18a0c72ecb58f8231ad5d3c53929a6048c4,,"import openstack def __init__(self, session=None, cloud_name=None, region_name='regionOne'): self.connection = None if cloud_name: self.connection = openstack.connect(cloud_name, region_name) elif session: self.connection = openstack.connection.Connection(session=session) self.connection.baremetal_introspection self.connection.orchestration self.connection.baremetal return client.get_introspection(node_id)","from glanceclient import client as glanceclient from heatclient.v1 import client as heatclient from ironicclient import client as ironicclient from novaclient import client as novaclient from swiftclient import client as swift_clientfrom tripleo_common.utils import nodes from tripleo_common.utils import parameters import ironic_inspector_client def __init__(self, session): self.sess = session ironic_inspector_client.ClientV1(session=self.sess) heatclient.Client(session=self.sess) def get_compute_client(self): """"""Return the compute (nova) client. This method will return a client object using the legacy library. Upon the creation of a successful client creation, the client object will be stored in the `self.client_cache object`, should this method be called more than once, the cached object will automatically return, resulting in fewer authentications and faster API interactions. :returns: Object """""" if 'novaclient' in self.client_cache: return self.client_cache['novaclient'] else: self.client_cache['novaclient'] = \ novaclient.Client(version=2, session=self.sess) return self.client_cache['novaclient'] ironicclient.Client( 1, session=self.sess, os_ironic_api_version='1.36' ) def get_image_client(self): """"""Return the image (glance) client. This method will return a client object using the legacy library. Upon the creation of a successful client creation, the client object will be stored in the `self.client_cache object`, should this method be called more than once, the cached object will automatically return, resulting in fewer authentications and faster API interactions. :returns: Object """""" if 'glanceclient' in self.client_cache: return self.client_cache['glanceclient'] else: self.client_cache['glanceclient'] = \ glanceclient.Client( 2, session=self.sess ) return self.client_cache['glanceclient'] def get_object_client(self): """"""Return the object (swift) client. This method will return a client object using the legacy library. Upon the creation of a successful client creation, the client object will be stored in the `self.client_cache object`, should this method be called more than once, the cached object will automatically return, resulting in fewer authentications and faster API interactions. :returns: Object """""" if 'swift_client' in self.client_cache: return self.client_cache['swift_client'] else: self.client_cache['swift_client'] = swift_client.Connection( session=self.sess, retries=10, starting_backoff=3, max_backoff=120 ) return self.client_cache['swift_client'] return client.get_data(node_id=node_id) def return_flavor_profile(self, flavor_name): """"""Return flavor profile information. :param flavor_name: Flavor name :type flavor_name: String :returns: Object """""" return parameters.get_profile_of_flavor( flavor_name=flavor_name, compute_client=self.get_compute_client() )",12,97
openstack%2Fpython-tripleoclient~master~I81fdb9c641236dac3d7e6898c0f64e833415ce88,openstack/python-tripleoclient,master,I81fdb9c641236dac3d7e6898c0f64e833415ce88,Add role split feature to extract provisioned,ABANDONED,2022-09-11 12:11:51.000000000,2023-01-10 15:06:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-11 12:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3d19065637a666381275993c7dbef1500e659ab8', 'message': 'Add role split feature to extract provisioned\n\nThis would allow splitting compute roles for\nmulti-rhel support and generating required\nbaremetal_deployment.yaml and roles_data.yaml.\n\nChange-Id: I81fdb9c641236dac3d7e6898c0f64e833415ce88\n'}, {'number': 2, 'created': '2022-09-12 02:32:53.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aecf877c4d495587545ca6982f6591075389c7a3', 'message': 'Add role split feature to extract provisioned\n\nThis would allow splitting compute roles for\nmulti-rhel support and generating required\nbaremetal_deployment.yaml and roles_data.yaml.\n\nChange-Id: I81fdb9c641236dac3d7e6898c0f64e833415ce88\n'}]",5,856929,aecf877c4d495587545ca6982f6591075389c7a3,13,2,2,8833,,,0,"Add role split feature to extract provisioned

This would allow splitting compute roles for
multi-rhel support and generating required
baremetal_deployment.yaml and roles_data.yaml.

Change-Id: I81fdb9c641236dac3d7e6898c0f64e833415ce88
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/856929/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,3d19065637a666381275993c7dbef1500e659ab8,," parser.add_argument('--split-role-data', dest='split_role_data', required=False, help=_('Split roles for multi-os-support.' 'Specify in the format:' '{""Compute"": { ""new_role_name"": ' '""Compute8"",' '""hostname_list"": ' '[""overcloud-novacompute-0""]}}')) roles_file = None split_role_data = {} if parsed_args.split_role_data: split_role_data = json.loads(parsed_args.split_role_data) new_role_count = 0 new_role_hosts_list = [] if role_name in split_role_data: new_role_name = split_role_data[role_name]['new_role_name'] new_role_hosts_list = split_role_data[role_name][ 'hostname_list'] new_role_count = len(new_role_hosts_list) role['count'] = role_count - new_role_count defaults = role['defaults'] = {} if new_role_count > 0: new_role = collections.OrderedDict() new_role['name'] = new_role_name new_role['count'] = new_role_count new_role_defaults = new_role['defaults'] = {} if new_role_count > 0: new_role_hostname_format = hostname_format.replace( role_name.lower(), new_role_name.lower()) new_role['hostname_format'] = new_role_hostname_format if new_role_count > 0: new_role_defaults['networks'] = role_networks if new_role_count > 0: new_role_defaults['network_config'] = net_conf if new_role_count > 0: new_role_instances = new_role['instances'] = [] if entry not in new_role_hosts_list: instances.append(instance) else: new_role_instances.append(instance) role_data[role_name]['count'] = role_count - new_role_count if new_role_count > 0: data.append(new_role) role_data[new_role_name] = role_data[role_name].copy() role_data[new_role_name]['count'] = new_role_count role_data[new_role_name]['name'] = new_role_name role_data[new_role_name][ 'hostname_format'] = new_role_hostname_format # Write modified role data if not roles_file: roles_file = os.path.join(oooutils.get_default_working_dir( parsed_args.stack), constants.OVERCLOUD_ROLES_FILE) roles_file_data = StringIO() if role_data: yaml.dump(str(role_data.values()), roles_file_data, RoleDataDumper, width=120, default_flow_style=False) with open(roles_file, 'w+') as fp: fp.write(roles_file_data.getvalue()) ", role['count'] = role_count defaults = role['defaults'] = {} instances.append(instance),205,21
openstack%2Ftripleo-heat-templates~master~Ie8de1efb8c06f6103243a827ae9807644aba48d1,openstack/tripleo-heat-templates,master,Ie8de1efb8c06f6103243a827ae9807644aba48d1,Deploy neutron-server with httpd,ABANDONED,2021-07-12 06:26:14.000000000,2023-01-10 15:05:44.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a48c141c3c62547c63a2cb6939c23e8bdddedb8', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/800421\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 2, 'created': '2021-07-17 16:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/826c8d0f20e1e5b454c717c95da09c330168786e', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/800421\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 3, 'created': '2021-07-18 03:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/311459423b63d16c790337481bfc7fea5529b13e', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/800421\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 4, 'created': '2021-07-18 08:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/873944fd2ee6f1c656238986678dce5da38afc32', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/800421\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 5, 'created': '2021-07-18 11:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39dd4d378ccd1ea7bbe7b04b26ed8fbdc53948f6', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/800421\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 6, 'created': '2021-07-20 02:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfa499365e36f4631da37163c3bbb2fd9d29b834', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/800421\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 7, 'created': '2021-07-20 05:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd7e2fe70e421f9dea9066f4b02ba5443687d4bd', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/801417\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 8, 'created': '2021-07-21 06:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d67cc3f658f3bbb66e3bf5776426f7a945347522', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/801417\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/800420\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 9, 'created': '2021-07-21 08:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d940a4d4b7b25380e6c5d52f885da15da61a491', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/801600\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}, {'number': 10, 'created': '2021-07-21 09:21:59.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2788a49caf24d1f23ea20d25be4966cb403227cf', 'message': ""Deploy neutron-server with httpd\n\nAt present we don't deploy neutron with httpd unlike\nother api services. As neutron documentation does not\nmention any limitations of deploying neutron with\nhttpd+mod_wsgi, let's change it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/801600\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1\n""}]",7,800422,2788a49caf24d1f23ea20d25be4966cb403227cf,46,9,10,8833,,,0,"Deploy neutron-server with httpd

At present we don't deploy neutron with httpd unlike
other api services. As neutron documentation does not
mention any limitations of deploying neutron with
httpd+mod_wsgi, let's change it.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/801600
Co-Authored-By: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: Ie8de1efb8c06f6103243a827ae9807644aba48d1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/800422/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,8a48c141c3c62547c63a2cb6939c23e8bdddedb8,use_mod_wsgi," ApacheServiceBase: type: ../../deployment/apache/apache-baremetal-puppet.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} EnableInternalTLS: {get_param: EnableInternalTLS} - get_attr: [ApacheServiceBase, role_data, config_settings] apache::default_vhost: false neutron::wsgi::apache::ssl: {get_param: EnableInternalTLS} neutron::api::service_name: 'httpd' # NOTE: bind IP is found in hiera replacing the network name with the local node IP # for the given network; replacement examples (eg. for internal_api): # internal_api -> IP # internal_api_uri -> [IP] # internal_api_subnet - > IP/CIDR neutron::wsgi::apache::bind_host: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, NeutronApiNetwork]} neutron::wsgi::apache::servername: str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, NeutronApiNetwork]} - if: - neutron_workers_set - neutron::wsgi::apache::workers: {get_param: NeutronWorkers} - tripleo::profile::base::neutron::server::tls_proxy_bind_ip: command: /usr/sbin/httpd -DFOREGROUND - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.d"" dest: ""/etc/httpd/conf.d"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.modules.d"" dest: ""/etc/httpd/conf.modules.d"" merge: false preserve_properties: true user: root"," tripleo::profile::base::neutron::server::tls_proxy_bind_ip: command: list_join: - ' ' - - /usr/bin/neutron-server --config-file /usr/share/neutron/neutron-dist.conf --config-dir /usr/share/neutron/server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugin.ini --config-dir /etc/neutron/conf.d/common --config-dir /etc/neutron/conf.d/neutron-server - get_attr: [NeutronLogging, cmd_extra_args]",45,6
openstack%2Ftripleo-common~master~I277c661d5da10772d6f55181ac49c95158ffc52b,openstack/tripleo-common,master,I277c661d5da10772d6f55181ac49c95158ffc52b,Use OS_CLOUD in overcloudrc,ABANDONED,2021-06-08 04:24:02.000000000,2023-01-10 15:05:27.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9303}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 04:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7094a40ce4e13330783b9197c6fcba298cb6479a', 'message': 'Use OS_CLOUD in overcloudrc\n\nWe write clouds.yaml as part of keystone configuration. We can\nleverage $OS_CLOUD instead.\n\nChange-Id: I277c661d5da10772d6f55181ac49c95158ffc52b\n'}, {'number': 2, 'created': '2022-08-22 05:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2117c4a9355724494312f5426ab6d9f731df8feb', 'message': 'Use OS_CLOUD in overcloudrc\n\nWe write clouds.yaml as part of keystone configuration. We can\nleverage $OS_CLOUD instead.\n\nChange-Id: I277c661d5da10772d6f55181ac49c95158ffc52b\n'}, {'number': 3, 'created': '2022-08-22 05:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bca397fa901e30a16e838cb5ac045f01baa64b4f', 'message': 'Use OS_CLOUD in overcloudrc\n\nWe write clouds.yaml as part of keystone configuration. We can\nleverage $OS_CLOUD instead.\n\nChange-Id: I277c661d5da10772d6f55181ac49c95158ffc52b\n'}, {'number': 4, 'created': '2022-08-24 01:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e5dab365907e977c87ef2fc8294be9ce31806d5d', 'message': 'Use OS_CLOUD in overcloudrc\n\nWe write clouds.yaml as part of keystone configuration. We can\nleverage $OS_CLOUD instead.\n\nThis also cleans up the unused functions and prepares fixing\nthe private method imported from tripleoclient.\n\nChange-Id: I277c661d5da10772d6f55181ac49c95158ffc52b\n'}, {'number': 5, 'created': '2022-08-24 02:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3ef03da120ac2b94eccc0e5d913e8bb3f867bc38', 'message': 'Use OS_CLOUD in overcloudrc\n\nWe write clouds.yaml as part of keystone configuration. We can\nleverage $OS_CLOUD instead.\n\nThis also cleans up the unused functions and prepares fixing\nthe private method imported from tripleoclient.\n\nChange-Id: I277c661d5da10772d6f55181ac49c95158ffc52b\n'}, {'number': 6, 'created': '2022-08-24 14:30:24.000000000', 'files': ['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4036a1b813a8da65912d6ef2886d46150b8817c6', 'message': 'Use OS_CLOUD in overcloudrc\n\nWe write clouds.yaml as part of keystone configuration. We can\nleverage $OS_CLOUD instead.\n\nThis also cleans up the unused functions and prepares fixing\nthe private method imported from tripleoclient.\n\nChange-Id: I277c661d5da10772d6f55181ac49c95158ffc52b\n'}]",15,795206,4036a1b813a8da65912d6ef2886d46150b8817c6,34,7,6,8833,,,0,"Use OS_CLOUD in overcloudrc

We write clouds.yaml as part of keystone configuration. We can
leverage $OS_CLOUD instead.

This also cleans up the unused functions and prepares fixing
the private method imported from tripleoclient.

Change-Id: I277c661d5da10772d6f55181ac49c95158ffc52b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/795206/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py']",2,7094a40ce4e13330783b9197c6fcba298cb6479a,,"def _create_overcloudrc(stack, no_proxy, admin_password=None, region_name=None): 'OS_CLOUD': stack.stack_name, 'no_proxy': ','.join(no_proxy_list), 'PYTHONWARNINGS': ('ignore:Certificate has no, ignore:A true ' 'SSLContext object is not available'),","def _create_overcloudrc(stack, no_proxy, admin_password, region_name): 'OS_USERNAME': 'admin', 'OS_PROJECT_NAME': 'admin', 'OS_USER_DOMAIN_NAME': 'Default', 'OS_PROJECT_DOMAIN_NAME': 'Default', 'no_proxy': ','.join(no_proxy_list), 'PYTHONWARNINGS': ('ignore:Certificate has no, ignore:A true ' 'SSLContext object is not available'), 'OS_AUTH_TYPE': 'password', 'OS_PASSWORD': admin_password, 'OS_AUTH_URL': overcloud_endpoint.replace('/v2.0', ''), 'OS_IDENTITY_API_VERSION': constants.DEFAULT_IDENTITY_API_VERSION, 'OS_REGION_NAME': region_name or 'regionOne'",8,30
openstack%2Ftripleo-heat-templates~master~Ie6e3b56220ea2318a722e787a6ccbb8b6e3d52d5,openstack/tripleo-heat-templates,master,Ie6e3b56220ea2318a722e787a6ccbb8b6e3d52d5,DNM TEST with ansible builtin strategies,ABANDONED,2022-07-12 07:16:00.000000000,2023-01-10 15:04:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-12 07:16:00.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0cf708e6af99378e2ffc0f4b10d9c8b2ad553ee', 'message': 'DNM TEST with ansible builtin strategies\n\nChange-Id: Ie6e3b56220ea2318a722e787a6ccbb8b6e3d52d5\n'}]",5,849457,e0cf708e6af99378e2ffc0f4b10d9c8b2ad553ee,14,2,1,8833,,,0,"DNM TEST with ansible builtin strategies

Change-Id: Ie6e3b56220ea2318a722e787a6ccbb8b6e3d52d5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/849457/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2']",2,e0cf708e6af99378e2ffc0f4b10d9c8b2ad553ee,, strategy: ansible.builtin.free strategy: ansible.builtin.linear strategy: ansible.builtin.linear strategy: ansible.builtin.linear strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.linear strategy: ansible.builtin.free strategy: ansible.builtin.free strategy: ansible.builtin.free, strategy: tripleo_free strategy: tripleo_linear strategy: tripleo_linear strategy: tripleo_linear strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_linear strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free,20,20
openstack%2Ftripleo-ansible~master~Iaf5b00564b73c44a6021a13758fa567f31256940,openstack/tripleo-ansible,master,Iaf5b00564b73c44a6021a13758fa567f31256940,Explicitly get included task,ABANDONED,2022-07-13 06:14:57.000000000,2023-01-10 15:04:44.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-13 06:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fea500ce52bad36d3781df93b739fa370223389', 'message': 'WIP Explicitly get included task\n\nExplicitly get the include task in tripleo strategies, and\nnot assume it is the parent.\n\nChange-Id: Iaf5b00564b73c44a6021a13758fa567f31256940\n'}, {'number': 2, 'created': '2022-07-13 09:35:56.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/376389ddf91733551a689c1b3d14cf6519eeba79', 'message': 'Explicitly get included task\n\nExplicitly get the include task in tripleo strategies, and\nnot assume it is the parent.\n\nChange-Id: Iaf5b00564b73c44a6021a13758fa567f31256940\n'}]",2,849614,376389ddf91733551a689c1b3d14cf6519eeba79,10,3,2,8833,,,0,"Explicitly get included task

Explicitly get the include task in tripleo strategies, and
not assume it is the parent.

Change-Id: Iaf5b00564b73c44a6021a13758fa567f31256940
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/849614/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",2,6fea500ce52bad36d3781df93b739fa370223389,align_strategies, 'task': block.get_first_parent_include()}, 'task': block._parent},3,2
openstack%2Ftripleo-heat-templates~master~I5b0fef962e03283f36944cc404fbbd318af3722d,openstack/tripleo-heat-templates,master,I5b0fef962e03283f36944cc404fbbd318af3722d,Redis: Migrate environment/volumes definition,ABANDONED,2022-08-30 03:36:08.000000000,2023-01-10 15:04:42.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-30 03:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e726ac4f8858fb1bcf9d9f3c8679634f63b0092b', 'message': 'Redis: Migrate environment/volumes definition\n\nThis change is the prep work to migrate environment and volumes used by\nredis pacemake resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nNote that change has no effect until the puppet-tripleo change is\nmerged.\n\nChange-Id: I5b0fef962e03283f36944cc404fbbd318af3722d\n'}, {'number': 2, 'created': '2022-08-30 03:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/848fc7c3f9f45d30492230d33424a8fce834f74d', 'message': 'Redis: Migrate environment/volumes definition\n\nThis change is the prep work to migrate environment and volumes used by\nredis pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nNote that change has no effect until the puppet-tripleo change is\nmerged.\n\nChange-Id: I5b0fef962e03283f36944cc404fbbd318af3722d\n'}, {'number': 3, 'created': '2022-09-07 04:53:35.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e17ac908e2465c8e0f4fbd55a26b469d52e9bb16', 'message': 'Redis: Migrate environment/volumes definition\n\nThis change is the prep work to migrate environment and volumes used by\nredis pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nNote that change has no effect until the puppet-tripleo change is\nmerged.\n\nChange-Id: I5b0fef962e03283f36944cc404fbbd318af3722d\n'}]",5,855113,e17ac908e2465c8e0f4fbd55a26b469d52e9bb16,23,4,3,9816,,,0,"Redis: Migrate environment/volumes definition

This change is the prep work to migrate environment and volumes used by
redis pacemaker resource from puppet-tripleo to tht, so that we can
reduce amount of logics we implement in puppet layer.

Note that change has no effect until the puppet-tripleo change is
merged.

Change-Id: I5b0fef962e03283f36944cc404fbbd318af3722d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/855113/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,e726ac4f8858fb1bcf9d9f3c8679634f63b0092b,pcmk-defs," tripleo::profile::pacemaker::database::redis_bundle::docker_volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/redis.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - /var/lib/redis:/var/lib/redis:rw,z - /var/log/containers/redis:/var/log/redis:rw,z - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/redis.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt:ro - /etc/pki/tls/certs/redis.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.key:ro tripleo::profile::pacemaker::database::redis_bundle::docker_environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS",,13,0
openstack%2Fpuppet-tripleo~master~I27d83cfdd688144e839cfe969a418cb9a25221d3,openstack/puppet-tripleo,master,I27d83cfdd688144e839cfe969a418cb9a25221d3,Cinder/Manila: Remove unused logic for docker_volumes/envionments,ABANDONED,2022-08-29 05:41:39.000000000,2023-01-10 15:04:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-29 05:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d2ad2c7e2ffd31a230e5d0356d09bdb044822e36', 'message': ""Cinder/Manila: Remove unused logic about docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and it's never become\nempty. Also, the docker_environments parameters are always set by\na hash/dict value, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}, {'number': 2, 'created': '2022-08-30 03:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/144997c527862e9ec3caa6e5dd1f96bdf69635dd', 'message': ""Cinder/Manila: Remove unused logic for docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and these defaults are\nnever used.\n\nAlso, the docker_environments parameters are always set by a hash/dict\nvalue, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}, {'number': 3, 'created': '2022-09-06 17:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a7c50d7a6389a5b1bb81d58380122b63a2600b06', 'message': ""Cinder/Manila: Remove unused logic for docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and these defaults are\nnever used.\n\nAlso, the docker_environments parameters are always set by a hash/dict\nvalue, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}, {'number': 4, 'created': '2022-09-07 01:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5bd03c0ca1165e1875e3c8aef048145a1b7642ed', 'message': ""Cinder/Manila: Remove unused logic for docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and these defaults are\nnever used.\n\nAlso, the docker_environments parameters are always set by a hash/dict\nvalue, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}, {'number': 5, 'created': '2022-09-07 05:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e7dcce6606e2696b7f0bb8de33e11f350c665989', 'message': ""Cinder/Manila: Remove unused logic for docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and these defaults are\nnever used.\n\nAlso, the docker_environments parameters are always set by a hash/dict\nvalue, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}, {'number': 6, 'created': '2022-11-29 03:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e79f203691f3fca19e600f069a284d5e662ba380', 'message': ""Cinder/Manila: Remove unused logic for docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and these defaults are\nnever used.\n\nAlso, the docker_environments parameters are always set by a hash/dict\nvalue, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}, {'number': 7, 'created': '2022-11-29 03:49:23.000000000', 'files': ['spec/classes/tripleo_profile_pacemaker_cinder_backup_bundle_spec.rb', 'spec/classes/tripleo_profile_pacemaker_cinder_volume_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/backup_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a28462902e24a376874e61b1699cda6fabfefe2a', 'message': ""Cinder/Manila: Remove unused logic for docker_volumes/envionments\n\nThe docker_volumes parameters are now set by tht and these defaults are\nnever used.\n\nAlso, the docker_environments parameters are always set by a hash/dict\nvalue, thus checking it's type is redundant.\n\nChange-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3\n""}]",0,854941,a28462902e24a376874e61b1699cda6fabfefe2a,21,2,7,9816,,,0,"Cinder/Manila: Remove unused logic for docker_volumes/envionments

The docker_volumes parameters are now set by tht and these defaults are
never used.

Also, the docker_environments parameters are always set by a hash/dict
value, thus checking it's type is redundant.

Change-Id: I27d83cfdd688144e839cfe969a418cb9a25221d3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/854941/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp']",3,d2ad2c7e2ffd31a230e5d0356d09bdb044822e36,pcmk-defs," $storage_maps = docker_volumes_to_storage_maps($docker_vol_arr, 'cinder-backup') $docker_env = join($docker_environment.map |$index, $value| { ""-e ${index}=${value}"" }, ' ')"," unless empty($docker_vol_arr) { $storage_maps = docker_volumes_to_storage_maps($docker_vol_arr, 'cinder-backup') } else { notice('Using fixed list of docker volumes for cinder-backup bundle') # Default to previous hard-coded list $storage_maps = { 'cinder-backup-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/cinder_backup.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'options' => 'ro', }, 'cinder-backup-cfg-data' => { 'source-dir' => '/var/lib/config-data/puppet-generated/cinder/', 'target-dir' => '/var/lib/kolla/config_files/src', 'options' => 'ro', }, 'cinder-backup-hosts' => { 'source-dir' => '/etc/hosts', 'target-dir' => '/etc/hosts', 'options' => 'ro', }, 'cinder-backup-localtime' => { 'source-dir' => '/etc/localtime', 'target-dir' => '/etc/localtime', 'options' => 'ro', }, 'cinder-backup-dev' => { 'source-dir' => '/dev', 'target-dir' => '/dev', 'options' => 'rw', }, 'cinder-backup-run' => { 'source-dir' => '/run', 'target-dir' => '/run', 'options' => 'rw', }, 'cinder-backup-sys' => { 'source-dir' => '/sys', 'target-dir' => '/sys', 'options' => 'rw', }, 'cinder-backup-lib-modules' => { 'source-dir' => '/lib/modules', 'target-dir' => '/lib/modules', 'options' => 'ro', }, 'cinder-backup-iscsi' => { 'source-dir' => '/etc/iscsi', 'target-dir' => '/var/lib/kolla/config_files/src-iscsid', 'options' => 'ro', }, 'cinder-backup-var-lib-cinder' => { 'source-dir' => '/var/lib/cinder', 'target-dir' => '/var/lib/cinder', 'options' => 'rw,z', }, 'cinder-backup-pki-extracted' => { 'source-dir' => '/etc/pki/ca-trust/extracted', 'target-dir' => '/etc/pki/ca-trust/extracted', 'options' => 'ro', }, 'cinder-backup-pki-ca-bundle-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'options' => 'ro', }, 'cinder-backup-pki-ca-bundle-trust-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'options' => 'ro', }, 'cinder-backup-pki-cert' => { 'source-dir' => '/etc/pki/tls/cert.pem', 'target-dir' => '/etc/pki/tls/cert.pem', 'options' => 'ro', }, 'cinder-backup-var-log' => { 'source-dir' => '/var/log/containers/cinder', 'target-dir' => '/var/log/cinder', 'options' => 'rw,z', }, 'cinder-backup-ceph-cfg-dir' => { 'source-dir' => $ceph_conf_path, 'target-dir' => '/var/lib/kolla/config_files/src-ceph', 'options' => 'ro', }, } } if $docker_environment =~ Hash { $docker_env = join($docker_environment.map |$index, $value| { ""-e ${index}=${value}"" }, ' ') } else { $docker_env_arr = delete(any2array($docker_environment), '').flatten() $docker_env = join($docker_env_arr.map |$var| { ""-e ${var}"" }, ' ') }",6,306
openstack%2Fpuppet-tripleo~master~I3cafcecd17f3079524b852498e61f8a9ea71aa28,openstack/puppet-tripleo,master,I3cafcecd17f3079524b852498e61f8a9ea71aa28,MariaDB: Migrate environment/volumes definition,ABANDONED,2022-08-30 00:41:20.000000000,2023-01-10 15:04:34.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-30 00:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d4ed59359f02deb6658a28405a1ecde22c98a932', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nrabbitmq pacemake resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/855101\nChange-Id: I3cafcecd17f3079524b852498e61f8a9ea71aa28\n'}, {'number': 2, 'created': '2022-08-30 03:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce4d06e8ad388bb7d7c543d557acb62fc292cad5', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nrabbitmq pacemake resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/855101\nChange-Id: I3cafcecd17f3079524b852498e61f8a9ea71aa28\n'}, {'number': 3, 'created': '2022-08-30 03:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/80e95e3be5741f5a1b126f41445713aedb2d8c20', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nmariadb pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/855101\nChange-Id: I3cafcecd17f3079524b852498e61f8a9ea71aa28\n'}, {'number': 4, 'created': '2022-11-25 06:57:25.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f400b935f4cd35f613a0afb9baa8e59765d7c680', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change effectively migrates environment and volumes used by\nmariadb pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nDepends-on: https://review.opendev.org/855101\nChange-Id: I3cafcecd17f3079524b852498e61f8a9ea71aa28\n'}]",1,855102,f400b935f4cd35f613a0afb9baa8e59765d7c680,15,3,4,9816,,,0,"MariaDB: Migrate environment/volumes definition

This change effectively migrates environment and volumes used by
mariadb pacemaker resource from puppet-tripleo to tht, so that we can
reduce amount of logics we implement in puppet layer.

Depends-on: https://review.opendev.org/855101
Change-Id: I3cafcecd17f3079524b852498e61f8a9ea71aa28
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/855102/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,d4ed59359f02deb6658a28405a1ecde22c98a932,pcmk-defs,"# [*docker_volumes*] # (Optional) The list of volumes to be mounted in the docker container # Defaults to [] # # [*docker_environment*] # (Optional) List or Hash of environment variables set in the docker container # Defaults to {'KOLLA_CONFIG_STRATEGY' => 'COPY_ALWAYS'} # $docker_volumes = [], $docker_environment = {'KOLLA_CONFIG_STRATEGY' => 'COPY_ALWAYS'}, $docker_vol_arr = delete(any2array($docker_volumes), '').flatten() $storage_maps = docker_volumes_to_storage_maps($docker_vol_arr, 'rabbitmq') $docker_env = join($docker_environment.map |$index, $value| { ""-e ${index}=${value}"" }, ' ') options => ""--user=${bundle_user} --log-driver=${log_driver}${log_file_real} ${docker_env}${tls_priorities_real}"", storage_maps => $storage_maps,"," $storage_maps = { 'mysql-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/mysql.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'options' => 'ro', }, 'mysql-cfg-data' => { 'source-dir' => '/var/lib/config-data/puppet-generated/mysql/', 'target-dir' => '/var/lib/kolla/config_files/src', 'options' => 'ro', }, 'mysql-hosts' => { 'source-dir' => '/etc/hosts', 'target-dir' => '/etc/hosts', 'options' => 'ro', }, 'mysql-localtime' => { 'source-dir' => '/etc/localtime', 'target-dir' => '/etc/localtime', 'options' => 'ro', }, 'mysql-lib' => { 'source-dir' => '/var/lib/mysql', 'target-dir' => '/var/lib/mysql', 'options' => 'rw,z', }, # NOTE: we cannot remove this bind mount until the resource-agent # can use the configured log-file for initial bootstrap operations 'mysql-log-mariadb' => { 'source-dir' => '/var/log/mariadb', 'target-dir' => '/var/log/mariadb', 'options' => 'rw,z', }, 'mysql-log' => { 'source-dir' => '/var/log/containers/mysql', 'target-dir' => '/var/log/mysql', 'options' => 'rw,z', }, 'mysql-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', }, } if $enable_internal_tls { $mysql_storage_maps_tls = { 'mysql-pki-gcomm-key' => { 'source-dir' => '/etc/pki/tls/private/mysql.key', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/mysql.key', 'options' => 'ro', }, 'mysql-pki-gcomm-cert' => { 'source-dir' => '/etc/pki/tls/certs/mysql.crt', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.crt', 'options' => 'ro', }, } if $ca_file { $ca_storage_maps_tls = { 'mysql-pki-gcomm-ca' => { 'source-dir' => $ca_file, 'target-dir' => ""/var/lib/kolla/config_files/src-tls${ca_file}"", 'options' => 'ro', }, } } else { $ca_storage_maps_tls = {} } $storage_maps_tls = merge($mysql_storage_maps_tls, $ca_storage_maps_tls) } else { $storage_maps_tls = {} } options => ""--user=${bundle_user} --log-driver=${log_driver}${log_file_real} -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS${tls_priorities_real}"", storage_maps => merge($storage_maps, $storage_maps_tls),",16,74
openstack%2Ftripleo-heat-templates~master~Ie8395aafee61113f3c2f60425189b1a521b5090f,openstack/tripleo-heat-templates,master,Ie8395aafee61113f3c2f60425189b1a521b5090f,MariaDB: Migrate environment/volumes definition,ABANDONED,2022-08-30 00:38:05.000000000,2023-01-10 15:04:29.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-30 00:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6971257a500905f4097c1ccd20bed08afae7ac53', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change is the prep work to migrate environment and volumes used by\nrabbitmq pacemake resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nNote that change has no effect until the puppet-tripleo change is\nmerged.\n\nChange-Id: Ie8395aafee61113f3c2f60425189b1a521b5090f\n'}, {'number': 2, 'created': '2022-08-30 03:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07100ebc29ae97bc156337e19193fecadb0523e9', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change is the prep work to migrate environment and volumes used by\nmariadb pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nNote that change has no effect until the puppet-tripleo change is\nmerged.\n\nChange-Id: Ie8395aafee61113f3c2f60425189b1a521b5090f\n'}, {'number': 3, 'created': '2022-09-07 04:55:53.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b29f0b2a19dd4348527fbe83cf18c08367baef3', 'message': 'MariaDB: Migrate environment/volumes definition\n\nThis change is the prep work to migrate environment and volumes used by\nmariadb pacemaker resource from puppet-tripleo to tht, so that we can\nreduce amount of logics we implement in puppet layer.\n\nNote that change has no effect until the puppet-tripleo change is\nmerged.\n\nChange-Id: Ie8395aafee61113f3c2f60425189b1a521b5090f\n'}]",2,855101,0b29f0b2a19dd4348527fbe83cf18c08367baef3,18,4,3,9816,,,0,"MariaDB: Migrate environment/volumes definition

This change is the prep work to migrate environment and volumes used by
mariadb pacemaker resource from puppet-tripleo to tht, so that we can
reduce amount of logics we implement in puppet layer.

Note that change has no effect until the puppet-tripleo change is
merged.

Change-Id: Ie8395aafee61113f3c2f60425189b1a521b5090f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/855101/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,6971257a500905f4097c1ccd20bed08afae7ac53,pcmk-defs," tripleo::profile::pacemaker::database::mysql_bundle::docker_volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/mysql:/var/lib/kolla/config_files/src:ro - /var/lib/mysql:/var/lib/mysql:rw,z - /var/log/containers/mysql:/var/log/mysql:rw,z # NOTE: we cannot remove this bind mount until the resource-agent # can use the configured log-file for initial bootstrap operations - /var/log/mariadb:/var/log/mariadb:rw,z - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/mysql.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.crt:ro - /etc/pki/tls/certs/mysql.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/mysql.key:ro tripleo::profile::pacemaker::database::mysql_bundle::docker_environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS",,16,0
openstack%2Fpython-tripleoclient~master~I69e900582e26335708b217cb5577ab45a50e82f2,openstack/python-tripleoclient,master,I69e900582e26335708b217cb5577ab45a50e82f2,Don't do setup for tripleo-admin overcloud-ssh-user,ABANDONED,2022-09-14 04:29:07.000000000,2023-01-10 15:04:25.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-14 04:29:07.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/31f88d11a44b9d03e6db2c1aabf1598191f205e6', 'message': ""Don't do setup for tripleo-admin overcloud-ssh-user\n\nAs we changed to create tripleo-admin user with node\nprovisioning and enable ssh, we don't need to do this\nunnecessary step anymore.\n\nChange-Id: I69e900582e26335708b217cb5577ab45a50e82f2\n""}]",0,857543,31f88d11a44b9d03e6db2c1aabf1598191f205e6,5,3,1,8833,,,0,"Don't do setup for tripleo-admin overcloud-ssh-user

As we changed to create tripleo-admin user with node
provisioning and enable ssh, we don't need to do this
unnecessary step anymore.

Change-Id: I69e900582e26335708b217cb5577ab45a50e82f2
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/857543/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,31f88d11a44b9d03e6db2c1aabf1598191f205e6,, do_setup = ((parsed_args.setup_only or full_deploy) and parsed_args.overcloud_ssh_user != 'tripleo-admin'), do_setup = parsed_args.setup_only or full_deploy,6,4
openstack%2Ftripleo-quickstart~master~I401e69f5e692a533ecd2385c3d5dc7be56dc8fcd,openstack/tripleo-quickstart,master,I401e69f5e692a533ecd2385c3d5dc7be56dc8fcd,DNM TEST without AOC from galaxy,ABANDONED,2022-10-14 04:00:11.000000000,2023-01-10 15:04:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-14 04:00:11.000000000', 'files': ['ansible-collection-requirements.yml', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4aa4b4494bcba682d4f298b5e2cc0797476290d2', 'message': 'DNM TEST without AOC from galaxy\n\nChange-Id: I401e69f5e692a533ecd2385c3d5dc7be56dc8fcd\n'}]",0,861278,4aa4b4494bcba682d4f298b5e2cc0797476290d2,4,2,1,8833,,,0,"DNM TEST without AOC from galaxy

Change-Id: I401e69f5e692a533ecd2385c3d5dc7be56dc8fcd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/861278/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'quickstart.sh']",2,4aa4b4494bcba682d4f298b5e2cc0797476290d2,," OS_COLLECTIONS=""ansible-config_template tripleo-operator-ansible"""," OS_COLLECTIONS=""ansible-config_template ansible-collections-openstack \ tripleo-operator-ansible""",1,6
openstack%2Fpython-tripleoclient~master~I9e37971291b1153f3e30a84f96a1caebedd24ee4,openstack/python-tripleoclient,master,I9e37971291b1153f3e30a84f96a1caebedd24ee4,Allow to skip container image prepare,ABANDONED,2022-10-06 05:38:14.000000000,2023-01-10 15:03:45.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-06 05:38:14.000000000', 'files': ['releasenotes/notes/disable-container-prepare-73a847c830e10062.yaml', 'tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/91c9683b0b56341a312e43a2fb1ba6f5a100adcd', 'message': 'Allow to skip container image prepare\n\nAdd cli option to skip running container image prepare\nwith uprade run.\n\nChange-Id: I9e37971291b1153f3e30a84f96a1caebedd24ee4\n'}]",4,860524,91c9683b0b56341a312e43a2fb1ba6f5a100adcd,9,3,1,8833,,,0,"Allow to skip container image prepare

Add cli option to skip running container image prepare
with uprade run.

Change-Id: I9e37971291b1153f3e30a84f96a1caebedd24ee4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/860524/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-container-prepare-73a847c830e10062.yaml', 'tripleoclient/v1/overcloud_upgrade.py']",2,91c9683b0b56341a312e43a2fb1ba6f5a100adcd,," parser.add_argument( '--disable-container-prepare', action='store_true', default=False, help=_('Disable the container preparation actions to prevent ' 'container tags from being updated and new containers ' 'from being fetched.') ) extra_vars = { 'disable_container_prepare': parsed_args.disable_container_prepare} extra_vars=extra_vars,",,17,0
openstack%2Ftripleo-heat-templates~master~If4e74edb03037fa156dbc765e1b665d4b9b5b192,openstack/tripleo-heat-templates,master,If4e74edb03037fa156dbc765e1b665d4b9b5b192,Allow to skip container-image-prepare task,ABANDONED,2022-10-06 05:39:19.000000000,2023-01-10 15:03:29.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-06 05:39:19.000000000', 'files': ['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbba6157476347f5f0eaf9f88b117e6ade6651fe', 'message': 'Allow to skip container-image-prepare task\n\nThis would allow for skipping the task if required. We would\nneed this during multi step upgrade run.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/860524\nChange-Id: If4e74edb03037fa156dbc765e1b665d4b9b5b192\n'}]",0,860525,bbba6157476347f5f0eaf9f88b117e6ade6651fe,6,4,1,8833,,,0,"Allow to skip container-image-prepare task

This would allow for skipping the task if required. We would
need this during multi step upgrade run.

Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/860524
Change-Id: If4e74edb03037fa156dbc765e1b665d4b9b5b192
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/860525/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'],1,bbba6157476347f5f0eaf9f88b117e6ade6651fe,, - not (disable_container_prepare|default(false)),,1,0
openstack%2Fpython-tripleoclient~master~I90d75dc6c8c4abae2a307fead35cfb4c370f4dce,openstack/python-tripleoclient,master,I90d75dc6c8c4abae2a307fead35cfb4c370f4dce,Remove unused arguments from generate_passwords,ABANDONED,2022-09-12 07:30:45.000000000,2023-01-10 15:03:08.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-12 07:30:45.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6cf76d500881b33bec9638dabdfe4f660b20395e', 'message': 'Remove unused arguments from generate_passwords\n\n... so that we can clean up these arguments from the method.\n\nChange-Id: I90d75dc6c8c4abae2a307fead35cfb4c370f4dce\n'}]",0,857000,6cf76d500881b33bec9638dabdfe4f660b20395e,5,3,1,9816,,,0,"Remove unused arguments from generate_passwords

... so that we can clean up these arguments from the method.

Change-Id: I90d75dc6c8c4abae2a307fead35cfb4c370f4dce
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/857000/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,6cf76d500881b33bec9638dabdfe4f660b20395e,, passwords_env=passwords_env)," heat = None None, heat, args.stack, passwords_env=passwords_env)",1,2
openstack%2Ftripleo-ansible~master~Ie5ac6cc9124530111c88592d60c49c9494258d2a,openstack/tripleo-ansible,master,Ie5ac6cc9124530111c88592d60c49c9494258d2a,WIP check molecule jobs with cs9stream,ABANDONED,2022-12-03 03:50:48.000000000,2023-01-10 15:02:15.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-03 03:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59699a37e7e20d3b95961c1015f6117ef4390eea', 'message': 'WIP check molecule jobs with cs9stream\n\nChange-Id: Ie5ac6cc9124530111c88592d60c49c9494258d2a\n'}, {'number': 2, 'created': '2022-12-03 04:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ddca47ca61be7211c8f45d06e7e6f7c17a4ec07', 'message': 'WIP check molecule jobs with cs9stream\n\nChange-Id: Ie5ac6cc9124530111c88592d60c49c9494258d2a\n'}, {'number': 3, 'created': '2022-12-03 04:34:31.000000000', 'files': ['.config/molecule/config_podman.yml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87ed75a886bb51e3c54cd0a5371e8fc150a641c2', 'message': 'WIP check molecule jobs with cs9stream\n\nChange-Id: Ie5ac6cc9124530111c88592d60c49c9494258d2a\n'}]",1,866531,87ed75a886bb51e3c54cd0a5371e8fc150a641c2,6,2,3,8833,,,0,"WIP check molecule jobs with cs9stream

Change-Id: Ie5ac6cc9124530111c88592d60c49c9494258d2a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/866531/1 && git format-patch -1 --stdout FETCH_HEAD,['.config/molecule/config_podman.yml'],1,59699a37e7e20d3b95961c1015f6117ef4390eea,," image: ${TRIPLEO_ANSIBLE_MOLECULE_IMAGE:-""centos/centos:stream9""}"," image: ${TRIPLEO_ANSIBLE_MOLECULE_IMAGE:-""ubi9/ubi-init""}",1,1
openstack%2Ftripleo-ansible~master~I5b2b34065ce23fbdd294b9e07be2a13bef74f196,openstack/tripleo-ansible,master,I5b2b34065ce23fbdd294b9e07be2a13bef74f196,DNM debug tripleo_nova_libvirt molecule job,ABANDONED,2022-12-19 03:47:25.000000000,2023-01-10 15:02:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-19 03:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b05f369d238d1e7a9542a59f76c4490b0848d5f3', 'message': 'DNM debug tripleo_nova_libvirt molecule job\n\nChange-Id: I5b2b34065ce23fbdd294b9e07be2a13bef74f196\n'}, {'number': 2, 'created': '2022-12-19 07:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5141f718356bd45d5839884108d297eefe6aeb31', 'message': 'DNM debug tripleo_nova_libvirt molecule job\n\nChange-Id: I5b2b34065ce23fbdd294b9e07be2a13bef74f196\n'}, {'number': 3, 'created': '2022-12-19 08:40:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_libvirt/molecule/run_virtqemud/molecule.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_nova_libvirt/molecule/run/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9673eb95a8a59b90fabd5dc1aba55b6c634d6a91', 'message': 'DNM debug tripleo_nova_libvirt molecule job\n\nChange-Id: I5b2b34065ce23fbdd294b9e07be2a13bef74f196\n'}]",1,868052,9673eb95a8a59b90fabd5dc1aba55b6c634d6a91,10,2,3,8833,,,0,"DNM debug tripleo_nova_libvirt molecule job

Change-Id: I5b2b34065ce23fbdd294b9e07be2a13bef74f196
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/868052/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_libvirt/molecule/run_virtqemud/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/molecule/run/molecule.yml']",2,b05f369d238d1e7a9542a59f76c4490b0848d5f3,, env: ANSIBLE_VERBOSITY: 4,,4,0
openstack%2Fpuppet-tripleo~master~I7a4a6da30fe444f43de37084f35c39832aa6bf8b,openstack/puppet-tripleo,master,I7a4a6da30fe444f43de37084f35c39832aa6bf8b,glance-api: Allow overriding bind_host,ABANDONED,2022-12-02 02:09:08.000000000,2023-01-10 15:01:49.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 02:09:08.000000000', 'files': ['manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/791879657943e9de4fa426b11811679c6bbf1b05', 'message': 'glance-api: Allow overriding bind_host\n\nglance-api and glance-api-internal should be able to bind different\nhost address because these services use different ServiceNetMap key\n(GlanceApiNetwork and GlanceApiInternalNetwork).\n\nThis introduces the parameter to override bind_host so that we can\noverride it for glance-api-internal.\n\nChange-Id: I7a4a6da30fe444f43de37084f35c39832aa6bf8b\n'}]",0,866416,791879657943e9de4fa426b11811679c6bbf1b05,4,2,1,9816,,,0,"glance-api: Allow overriding bind_host

glance-api and glance-api-internal should be able to bind different
host address because these services use different ServiceNetMap key
(GlanceApiNetwork and GlanceApiInternalNetwork).

This introduces the parameter to override bind_host so that we can
override it for glance-api-internal.

Change-Id: I7a4a6da30fe444f43de37084f35c39832aa6bf8b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/16/866416/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/glance/api.pp'],1,791879657943e9de4fa426b11811679c6bbf1b05,,"# [*bind_host*] # (optional) The port the server should bind to. # Default: lookup('glance::api::bind_host', undef, undef, undef) # $bind_host = lookup('glance::api::bind_host', undef, undef, undef), bind_host => $bind_host,",,6,0
openstack%2Fproject-config~master~Ib1b662c270ea08ada1f0d01254ec6bbcbb982ee4,openstack/project-config,master,Ib1b662c270ea08ada1f0d01254ec6bbcbb982ee4,Add createSignedTag permissions for openstack/ci-log-processing project,MERGED,2023-01-10 14:29:20.000000000,2023-01-10 14:58:49.000000000,2023-01-10 14:52:00.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 14:29:20.000000000', 'files': ['gerrit/acls/openstack/ci-log-processing.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/43759227f6f3f40bf75563a799b5ffb0d56b5e8f', 'message': 'Add createSignedTag permissions for openstack/ci-log-processing project\n\nThat project versioning will be done by pushing signed tag to the\nrepository.\n\nChange-Id: Ib1b662c270ea08ada1f0d01254ec6bbcbb982ee4\n'}]",0,869727,43759227f6f3f40bf75563a799b5ffb0d56b5e8f,7,2,1,20676,,,0,"Add createSignedTag permissions for openstack/ci-log-processing project

That project versioning will be done by pushing signed tag to the
repository.

Change-Id: Ib1b662c270ea08ada1f0d01254ec6bbcbb982ee4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/869727/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/ci-log-processing.config'],1,43759227f6f3f40bf75563a799b5ffb0d56b5e8f,,"[access ""refs/tags/*""] createSignedTag = group ci-log-processing-release ",,3,0
openstack%2Ftripleo-heat-templates~master~I711085057398e9f10c5b4f423d2445c21938c7ad,openstack/tripleo-heat-templates,master,I711085057398e9f10c5b4f423d2445c21938c7ad,Stop looking for old options,ABANDONED,2022-11-29 09:01:36.000000000,2023-01-10 14:58:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 09:01:36.000000000', 'files': ['scripts/check-run-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91745ab9f875b050aa292a7a41b3b90256b7a583', 'message': 'Stop looking for old options\n\nThe os_interface option and the os_region_name option are not used in\nrecent releases.\n\nChange-Id: I711085057398e9f10c5b4f423d2445c21938c7ad\n'}]",0,865959,91745ab9f875b050aa292a7a41b3b90256b7a583,4,2,1,9816,,,0,"Stop looking for old options

The os_interface option and the os_region_name option are not used in
recent releases.

Change-Id: I711085057398e9f10c5b4f423d2445c21938c7ad
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/865959/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/check-run-nova-compute'],1,91745ab9f875b050aa292a7a41b3b90256b7a583,," # the [placement]/valid_interfaces key. if 'valid_interfaces' in options and len(options[""valid_interfaces""]) >= 1:"," # the [placement]/os_interface key. if 'os_interface' in options and len(options[""os_interface""]) == 1: nova_endpoint_type = options[""os_interface""][0] # Via https://review.opendev.org/#/c/492247/ os_interface has been deprecated in queens # and we need to use 'valid_interfaces' which is a: # ""List of interfaces, in order of preference, for endpoint URL. (list value)"" # Since it is not explicitly set in nova.conf we still keep the check for os_interface elif 'valid_interfaces' in options and len(options[""valid_interfaces""]) >= 1: elif 'os_region_name' in options: region = options['os_region_name'][0]",2,10
openstack%2Ftripleo-ansible~master~Ia8f470434d57ae5fbaf04821069f71a8a297b073,openstack/tripleo-ansible,master,Ia8f470434d57ae5fbaf04821069f71a8a297b073,Drop variable file for Fedora 28,ABANDONED,2023-01-05 14:24:51.000000000,2023-01-10 14:57:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2023-01-05 14:24:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4932833bc0fceb020534e0a53036642df5f4f5f', 'message': 'Drop variable file for Fedora 28\n\n... because we do not support such an old version (and we do not\nsupport even the latest Fedora, either).\n\nChange-Id: Ia8f470434d57ae5fbaf04821069f71a8a297b073\n'}]",0,869375,b4932833bc0fceb020534e0a53036642df5f4f5f,4,2,1,9816,,,0,"Drop variable file for Fedora 28

... because we do not support such an old version (and we do not
support even the latest Fedora, either).

Change-Id: Ia8f470434d57ae5fbaf04821069f71a8a297b073
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/869375/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml'],1,b4932833bc0fceb020534e0a53036642df5f4f5f,,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. _tripleo_bootstrap_packages_bootstrap: - driverctl - openstack-heat-agents - crudini - jq - puppet-tripleo - os-net-config - openvswitch - openstack-selinux - libselinux-python - rsync _tripleo_bootstrap_legacy_network_packages: - initscripts ",0,31
openstack%2Fansible-collections-openstack~master~I33953e9293a2ef2715bfcf076a262c474da40dc3,openstack/ansible-collections-openstack,master,I33953e9293a2ef2715bfcf076a262c474da40dc3,Fixed docs,MERGED,2023-01-10 14:20:20.000000000,2023-01-10 14:55:42.000000000,2023-01-10 14:55:42.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-10 14:20:20.000000000', 'files': ['docs/branching.md', 'docs/contributing.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/122afc170cbbbfe63f28bbdb26880e862c07f8ba', 'message': 'Fixed docs\n\nChange-Id: I33953e9293a2ef2715bfcf076a262c474da40dc3\n'}]",0,869726,122afc170cbbbfe63f28bbdb26880e862c07f8ba,7,3,1,32962,,,0,"Fixed docs

Change-Id: I33953e9293a2ef2715bfcf076a262c474da40dc3
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/26/869726/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/branching.md', 'docs/contributing.md']",2,122afc170cbbbfe63f28bbdb26880e862c07f8ba,docs-fixes,For hacking on the Ansible OpenStack collection it helps to [prepare a DevStack environment](devstack.md) first. [`openstack.cloud.neutron_rbac_policy`](../plugins/modules/neutron_rbac_policy.py) or any other module which [`ci/roles/floating_ip/tasks/main.yml`](../ci/roles/floating_ip/tasks/main.yml).[openstacksdk-to-dict]: https://opendev.org/openstack/openstacksdk/src/branch/master/openstack/resource.py,For hacking on the Ansible OpenStack collection it helps to [prepare a DevStack environment](DEVSTACK.md) first. [`openstack.cloud.neutron_rbac_policies_info`](../plugins/modules/neutron_rbac_policies.py) or any other module which [`ci/roles/floating_ip_info/tasks/main.yml`](../ci/roles/floating_ip_info/tasks/main.yml).[openstacksdk-to-dict]: https://opendev.org/openstack/openstacksdk/src/branch/master/openstack/resource.py#L990,5,5
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ib94adb1c6d6237800db13b3cc243e0897aa6a49f,openstack/ansible-collections-openstack,stable/1.0.0,Ib94adb1c6d6237800db13b3cc243e0897aa6a49f,Updated docs,MERGED,2023-01-10 13:21:32.000000000,2023-01-10 14:55:41.000000000,2023-01-10 14:55:41.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-10 13:21:32.000000000', 'files': ['CONTRIBUTING.rst', 'docs/reviewing.md', 'docs/devstack.md', 'docs/branching.md', 'docs/openstack_guidelines.rst', 'docs/releasing.md', 'docs/contributing.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/acd0f014436bb809707c12788198c934b91a5e3e', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n(cherry picked from commit 7d9de2858ab65710691351534eb7a460925d67ac)\n'}]",0,869717,acd0f014436bb809707c12788198c934b91a5e3e,7,3,1,32962,,,0,"Updated docs

Co-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>

Change-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f
(cherry picked from commit 7d9de2858ab65710691351534eb7a460925d67ac)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/17/869717/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'docs/reviewing.md', 'docs/devstack.md', 'docs/branching.md', 'docs/openstack_guidelines.rst', 'docs/releasing.md', 'docs/contributing.md', 'README.md']",8,acd0f014436bb809707c12788198c934b91a5e3e,docs,"[![OpenDev Zuul Builds - Ansible OpenStack Collection](https://zuul-ci.org/gated.svg)]( http://zuul.opendev.org/t/openstack/builds?project=openstack%2Fansible-collections-openstack) # Ansible OpenStack Collection Ansible OpenStack collection aka `openstack.cloud` provides Ansible modules and Ansible plugins for managing OpenStack clouds. It is supported and maintained by the OpenStack community. ## Branches and Non Backward Compatibility ⚠️ Our codebase has been split into two separate release series, `2.x.x` and `1.x.x`: * `2.x.x` releases of Ansible OpenStack collection are compatible with [OpenStack SDK][openstacksdk] `1.x.x` and its release candidates `0.99.0` and later *only* (OpenStack Zed and later). Our `master` branch tracks our `2.x.x` releases. * `1.x.x` releases of Ansible OpenStack collection are compatible with [OpenStack SDK][openstacksdk] `0.x.x` prior to `0.99.0` *only* (OpenStack Yoga and earlier). Our `stable/1.0.0` branch tracks our `1.x.x` releases. * `2.x.x` releases of Ansible OpenStack collection are not backward compatible to `1.x.x` releases ⚠️ For rationale and details please read our [branching docs](docs/branching.md). Both branches will be developed in parallel for the time being. Patches from `master` will be backported to `stable/1.0.0` on a best effort basis but expect new features to be introduced in our `master` branch only. Contributions are welcome for both branches! [openstacksdk]: https://opendev.org/openstack/openstacksdk ## Installation For using this collection, first you have to install both Python packages `ansible` and `openstacksdk` on your Ansible controller: ```sh[OpenStack SDK][openstacksdk] has to be available on the Ansible host running the OpenStack modules. Depending on the Ansible playbook and roles you use, this host is not necessarily the Ansible controller. Sometimes Ansible might invoke a non-standard Python interpreter on the target Ansible host. Using Python 3.6 is required for modules in this collection. Always use the last stable version of [OpenStack SDK][openstacksdk] if possible, also when running against older OpenStack deployments. OpenStack SDK is backward compatible to older OpenStack deployments, so its safe to run last version of the SDK against older OpenStack clouds. The installed version of the OpenStack SDK does not have to match your OpenStack cloud, but it has to match the release series of this collection which you are using. For notes about our release series and branches please read the introduction above. Before using this collection, you have to install it with `ansible-galaxy`: ```sh ansible-galaxy collection install openstack.cloud ``` You can also include it in a `requirements.yml` file:And then install it with: ```sh ansible-galaxy collection install -r requirements.yml ``` ## Usage To use a module from the OpenStack Cloud collection, please reference the full namespace, collection name, and module name that you want to use:- name: Using OpenStack Cloud collection- name: Using the Ansible OpenStack Collection[Ansible module defaults][ansible-module-defaults] are supported as well: ```yaml --- - module_defaults: group/openstack.cloud.openstack: cloud: devstack-admin # # # Listing modules individually is required for # backward compatibility with Ansible 2.9 only openstack.cloud.compute_flavor_info: cloud: devstack-admin openstack.cloud.server_info: cloud: devstack-admin block: - name: List compute flavors openstack.cloud.compute_flavor_info: - name: List servers openstack.cloud.server_info: ``` [ansible-module-defaults]: https://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html ## Documentation See collection docs at Ansible's main page: * [openstack.cloud collection docs (version released in Ansible package)]( https://docs.ansible.com/ansible/latest/collections/openstack/cloud/index.html) * [openstack.cloud collection docs (devel version)]( https://docs.ansible.com/ansible/devel/collections/openstack/cloud/index.html)Thank you for your interest in our Ansible OpenStack collection ☺️- [Report and verify bugs and help with solving issues]( https://storyboard.openstack.org/#!/project/openstack/ansible-collections-openstack). - [Submit and review patches]( https://review.opendev.org/#/q/project:openstack/ansible-collections-openstack). - Follow OpenStack's [How To Contribute](https://wiki.openstack.org/wiki/How_To_Contribute) guide. Please read our [Contributions and Development Guide](docs/contributing.md) (⚠️) and our [Review Guide]( docs/reviewing.md) (⚠️) before sending your first patch. Pull requests submitted through GitHub will be ignored.We have a Special Interest Group for the Ansible OpenStack collection. Join us in `#openstack-ansible-sig` on [OFTC IRC](https://www.oftc.net/) and ping Artem Goncharov <artem.goncharov@gmail.com> (gtema), Jakob Meng <mail@jakobmeng.de> (jm1) or Sagi Shnaidman <sshnaidm@redhat.com> (sshnaidm) 🍪See [LICENCE](COPYING) to see the full text.","[![OpenDev Zuul Builds - Ansible Collection OpenStack](https://zuul-ci.org/gated.svg)](http://zuul.opendev.org/t/openstack/builds?project=openstack%2Fansible-collections-openstack#) # Ansible Collection: openstack.cloud This repo hosts the `openstack.cloud` Ansible Collection. The collection includes the Openstack modules and plugins supported by Openstack community to help the management of Openstack infrastructure. ## Breaking backward compatibility :warning: Dear contributors and users of the Ansible OpenStack collection! Our codebase has been split into two separate release series: * `2.x.x` releases of Ansible OpenStack collection are compatible with OpenStack SDK `1.x.x` and its release candidates `0.99.x` *only* (OpenStack Zed and later). Our `master` branch tracks our `2.x.x` releases. * `1.x.x` releases of Ansible OpenStack collection are compatible with OpenStack SDK `0.x.x` prior to `0.99.0` *only* (OpenStack Yoga and earlier). Our `stable/1.0.0` branch tracks our `1.x.x` releases. Both branches will be developed in parallel for the time being. Patches from `master` will be backported to `stable/1.0.0` on a best effort basis but expect new features to be introduced in our `master` branch only. Contributions are welcome for both branches! Differences between both branches are mainly renamed and sometimes dropped module return values. We try to keep our module parameters backward compatible by offering aliases but e.g. the semantics of `filters` parameters in `*_info` modules have changed due to updates in the OpenStack SDK. Our decision to break backward compatibility was not taken lightly. OpenStack SDK's first major release (`1.0.0` and its release candidates `0.99.x`) has streamlined and improved large parts of its codebase. For example, its Connection interface now consistently uses the Resource interfaces under the hood. This required breaking changes from older SDK releases though. The Ansible OpenStack collection is heavily based on OpenStack SDK. With OpenStack SDK becoming backward incompatible, so does our Ansible OpenStack collection. We simply lack the devpower to maintain a backward compatible interface in Ansible OpenStack collection across several SDK releases. Our first `2.0.0` release is currently under development and we still have a long way to go. If you use modules of the Ansible OpenStack collection and want to join us in porting them to the upcoming OpenStack SDK, please contact us! Ping Jakob Meng <mail@jakobmeng.de> (jm1) or Rafael Castillo <rcastill@redhat.com> (rcastillo) and we will give you a quick introduction. We are also hanging around on `irc.oftc.net/#openstack-ansible-sig` and `irc.oftc.net/#oooq` 😎 We have extensive documentation on [why, what and how we are adopting and reviewing the new modules]( https://hackmd.io/szgyWa5qSUOWw3JJBXLmOQ?view), [how to set up a working DevStack environment for hacking on the collection](https://hackmd.io/PI10x-iCTBuO09duvpeWgQ?view) and, most importantly, [a list of modules where we are coordinating our porting efforts](https://hackmd.io/7NtovjRkRn-tKraBXfz9jw?view). ## Installation and Usage ### Installing dependencies For using the Openstack Cloud collection firstly you need to install `ansible` and `openstacksdk` Python modules on your Ansible controller. For example with pip: ```bashOpenStackSDK has to be available to Ansible and to the Python interpreter on the host, where Ansible executes the module (target host). Please note, that under some circumstances Ansible might invoke a non-standard Python interpreter on the target host. Using Python version 3 is highly recommended for OpenstackSDK and strongly required from OpenstackSDK version 0.39.0. --- #### NOTE OpenstackSDK is better to be the last stable version. It should NOT be installed on Openstack nodes, but rather on operators host (aka ""Ansible controller""). OpenstackSDK from last version supports operations on all Openstack cloud versions. Therefore OpenstackSDK module version doesn't have to match Openstack cloud version usually. --- ### Installing the Collection from Ansible Galaxy Before using the Openstack Cloud collection, you need to install the collection with the `ansible-galaxy` CLI: `ansible-galaxy collection install openstack.cloud` You can also include it in a `requirements.yml` file and install it through `ansible-galaxy collection install -r requirements.yml` using the format:### Playbooks To use a module from the Openstack Cloud collection, please reference the full namespace, collection name, and module name that you want to use:- name: Using Openstack Cloud collection- name: Using Openstack Cloud collection### Usage See the collection docs at Ansible site: * [openstack.cloud collection docs (version released in Ansible package)](https://docs.ansible.com/ansible/latest/collections/openstack/cloud/index.html) * [openstack.cloud collection docs (devel version)](https://docs.ansible.com/ansible/devel/collections/openstack/cloud/index.html)For information on contributing, please see [CONTRIBUTING](https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/CONTRIBUTING.rst)- Submit [bugs and feature requests](https://storyboard.openstack.org/#!/project/openstack/ansible-collections-openstack), and help us verify them - Submit and review source code changes in [Openstack Gerrit](https://review.opendev.org/#/q/project:openstack/ansible-collections-openstack) - Add new modules for Openstack Cloud We work with [OpenDev Gerrit](https://review.opendev.org/), pull requests submitted through GitHub will be ignored. ## Testing and Development If you want to develop new content for this collection or improve what is already here, the easiest way to work on the collection is to clone it into one of the configured [`COLLECTIONS_PATHS`](https://docs.ansible.com/ansible/latest/reference_appendices/config.html#collections-paths), and work on it there. ### Testing with `ansible-test` We use `ansible-test` for sanity: ```bash tox -e linters ``` ## More Information TBDWe have a dedicated Interest Group for Openstack Ansible modules. You can find other people interested in this in `#openstack-ansible-sig` on [OFTC IRC](https://www.oftc.net/).See [LICENCE](https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/COPYING) to see the full text.",691,198
openstack%2Fansible-collections-openstack~master~Ieb98d78d730ee51480c78053152da265481c11f1,openstack/ansible-collections-openstack,master,Ieb98d78d730ee51480c78053152da265481c11f1,Added is_multiattach parameter to volume module,MERGED,2022-11-24 00:03:45.000000000,2023-01-10 14:55:39.000000000,2023-01-10 14:55:39.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-11-24 00:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b19382c86a628b874d8d4c036d4dfc58a8a61ea', 'message': ""volume module:\n    - Add 'is_multiattach' parameter. When it is true, volume will be shareble\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n""}, {'number': 2, 'created': '2022-11-29 15:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8c9fc9bdd917274525d1a45c7427d96ad39cd45f', 'message': ""volume module:\n    - Add 'is_multiattach' parameter. When it is true, volume will be shareble\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n""}, {'number': 3, 'created': '2022-11-30 10:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f70f6584a1d377aca64fbb17211e9a601e14632c', 'message': ""Volume module:\n    - Add 'is_multiattach' parameter. When it is true, volume will be shareble\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n""}, {'number': 4, 'created': '2023-01-04 12:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d985df3a09902a9ea04f34f44225510ec7f810a8', 'message': ""Volume module:\n    - Add 'is_multiattach' parameter. When it is true, volume will be shareble\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n""}, {'number': 5, 'created': '2023-01-09 11:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ae1969d0abd999cb247ab36213688ac645ea39ef', 'message': ""Volume module:\n    - Add 'is_multiattach' parameter. When it is true, volume will be shareble\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n""}, {'number': 6, 'created': '2023-01-10 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2be26f7ef405444a3ab56166e35ff52d2b54f982', 'message': ""Volume module:\n    - Add 'is_multiattach' parameter. When it is true, volume will be shareble\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n""}, {'number': 7, 'created': '2023-01-10 12:34:05.000000000', 'files': ['ci/roles/volume/defaults/main.yml', 'plugins/modules/volume.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/52e7bfe7a418392a142b0e953025fd2473141356', 'message': 'Added is_multiattach parameter to volume module\n\nChange-Id: Ieb98d78d730ee51480c78053152da265481c11f1\n'}]",16,865477,52e7bfe7a418392a142b0e953025fd2473141356,32,5,7,32787,,,0,"Added is_multiattach parameter to volume module

Change-Id: Ieb98d78d730ee51480c78053152da265481c11f1
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/77/865477/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/volume.py'],1,1b19382c86a628b874d8d4c036d4dfc58a8a61ea,volume-is-multiattach," is_multiattach: description: - Whether disk will be shareble or not. type: bool default: False multiattach: description: If true, this volume can attach to more than one instance. type: bool is_multiattach=dict(type='bool', default=False), if self.params['is_multiattach'] is not None: kwargs['multiattach'] = self.params['is_multiattach'] ",,12,0
openstack%2Ftripleo-heat-templates~master~I2e9890e65f3a01a0aef98bcbea9e620950b1132d,openstack/tripleo-heat-templates,master,I2e9890e65f3a01a0aef98bcbea9e620950b1132d,Generate config file for ephemeral heat,ABANDONED,2022-09-14 01:36:55.000000000,2023-01-10 14:48:02.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-14 01:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72008fe0d9561beb2a60b16cf0843b5c6d8db098', 'message': 'WIP: Generate config file for Ephemeral heat\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/857531\nChange-Id: I2e9890e65f3a01a0aef98bcbea9e620950b1132d\n'}, {'number': 2, 'created': '2022-09-14 05:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26a3e93aff51fa7823e3a5a8fc734de6588b88c4', 'message': 'Generate config file for ephemeral heat\n\nThis change adds a tiny config file for ephemeral heat service, to\nlook up url to connect to MySQL and RabbitMQ. This is required to\nreplace usage of the deprecated hiera CLI to look up these elements\nfrom hieradata directly.\n\nDepends-on: https://review.opendev.org/857531\nChange-Id: I2e9890e65f3a01a0aef98bcbea9e620950b1132d\n'}, {'number': 3, 'created': '2022-09-14 07:22:39.000000000', 'files': ['deployment/heat/heat-ephemeral-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3552063ac02085c0d00a1f593fdb132953a8e260', 'message': 'Generate config file for ephemeral heat\n\nThis change adds a tiny config file for ephemeral heat service, to\nlook up url to connect to MySQL and RabbitMQ. This is required to\nreplace usage of the deprecated hiera CLI to look up these elements\nfrom hieradata directly.\n\nDepends-on: https://review.opendev.org/857531\nChange-Id: I2e9890e65f3a01a0aef98bcbea9e620950b1132d\n'}]",8,857532,3552063ac02085c0d00a1f593fdb132953a8e260,27,5,3,9816,,,0,"Generate config file for ephemeral heat

This change adds a tiny config file for ephemeral heat service, to
look up url to connect to MySQL and RabbitMQ. This is required to
replace usage of the deprecated hiera CLI to look up these elements
from hieradata directly.

Depends-on: https://review.opendev.org/857531
Change-Id: I2e9890e65f3a01a0aef98bcbea9e620950b1132d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/857532/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-ephemeral-container-ansible.yaml'],1,72008fe0d9561beb2a60b16cf0843b5c6d8db098,ephemeral-heat-hiera," config_settings: tripleo::profile::bsae::heat_ephemeral::database_connection: make_url: scheme: {get_param: [EndpointMap, MysqlInternal, protocol]} username: heat password: heat host: {get_param: [EndpointMap, MysqlInternal, host]} path: /heat query: read_default_file: /etc/my.cnf.d/tripleo.cnf read_default_group: tripleo puppet_config: config_volume: heat_ephemeral puppet_tags: heat_config step_config: | include tripleo::profile::base::heat_ephemeral config_image: {get_attr: [RoleParametersValue, value, ContainerHeatConfigImage]}",,17,0
openstack%2Fpython-tripleoclient~master~I4227e5771ffc6a035154605a58f1750c35b564cb,openstack/python-tripleoclient,master,I4227e5771ffc6a035154605a58f1750c35b564cb,Replace hiera CLI by the generated config file,ABANDONED,2022-09-14 05:07:59.000000000,2023-01-10 14:47:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-14 05:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dfdd5e145b8691f7e87fd17bf37dd3f8ef5beb8d', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 2, 'created': '2022-09-14 05:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f78b42c2d0c3e245545e03448282e49509810a19', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 3, 'created': '2022-09-15 02:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee6f123454fa4fb415728965ec8e1a0bb617feec', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 4, 'created': '2022-09-15 07:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd9bca2dd45d25e6351c7360fc71bac54fe77dff', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 5, 'created': '2022-09-15 11:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/407cc746d430c03a717ef904fc2cb9962712831a', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 6, 'created': '2022-09-16 02:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/675aa887d40077c59e63b30ddcb67844ae1f2001', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 7, 'created': '2022-09-16 07:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24baa845f2c06bce7f2b0f62848f21e6f247e993', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 8, 'created': '2022-09-16 07:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3a79d9f6c976311a4a53cf5eec6efb149707fbdb', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 9, 'created': '2022-09-16 08:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7b540823a6637a4b40d7af7c347a957f8611b746', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 10, 'created': '2022-09-22 03:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b6d03622e86075bd105f3fa15288ea4cd87ad93e', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 11, 'created': '2022-10-06 01:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/199125be7b81f78acfa24c62869038d083808342', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 12, 'created': '2022-10-11 02:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca77cbe788e738616bbda59691133fcb335d208f', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 13, 'created': '2022-10-11 02:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca1482d34808d616746d9051e95688a6364badc6', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 14, 'created': '2022-10-11 02:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c8e77182cdc70367695af4345f68e3be2a53fade', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 15, 'created': '2022-10-14 07:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f7544585381562948f345451f59fe8151f23050', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/857532\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 16, 'created': '2022-11-09 09:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/77e5bac94d67bea63de4925f83be1c00b8b182ca', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the configuration file generated by puppet,\nbecause the hiera CLI is deprecated and does not work with the latest\nhieradata version 5.\n\nDepends-on: https://review.opendev.org/863432\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}, {'number': 17, 'created': '2022-11-09 09:19:53.000000000', 'files': ['templates/ephemeral-heat/heat.conf.j2', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'templates/ephemeral-heat/heat-pod.yaml.j2'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5d2c0bc955f486b4896ac265189962849b30fb4', 'message': 'Replace hiera CLI by the generated config file\n\nThis change replaces the hiera CLI used to look up URL to connect to\nMySQL and RabbitMQ by the pre-created configuration file because\nthe hiera CLI is deprecated and does not work with the latest hieradata\nversion 5.\n\nDepends-on: https://review.opendev.org/863432\nChange-Id: I4227e5771ffc6a035154605a58f1750c35b564cb\n'}]",126,857552,d5d2c0bc955f486b4896ac265189962849b30fb4,34,1,17,9816,,,0,"Replace hiera CLI by the generated config file

This change replaces the hiera CLI used to look up URL to connect to
MySQL and RabbitMQ by the pre-created configuration file because
the hiera CLI is deprecated and does not work with the latest hieradata
version 5.

Depends-on: https://review.opendev.org/863432
Change-Id: I4227e5771ffc6a035154605a58f1750c35b564cb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/857552/12 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ephemeral-heat/heat.conf.j2', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'templates/ephemeral-heat/heat-pod.yaml.j2']",4,dfdd5e145b8691f7e87fd17bf37dd3f8ef5beb8d,ephemeral-heat-hiera, - --config-file - /etc/heat/heat-mw.conf - --config-file - /etc/heat/heat-mw.conf - mountPath: /etc/heat/heat-mw.conf name: heat-mw-config readOnly: true path: /var/lib/config-data/puppet-generated/heat_ephemeral/etc/heat.conf type: File name: heat-mw-config - hostPath:,,26,73
openstack%2Fpython-tripleoclient~master~Ib931e86624846dbe1b7ced70352df3076a26ee5a,openstack/python-tripleoclient,master,Ib931e86624846dbe1b7ced70352df3076a26ee5a,Use local socket to check mysql status,ABANDONED,2022-09-14 01:51:21.000000000,2023-01-10 14:47:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-14 01:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66a995b922a771207926af84befcdbafe0e944de', 'message': 'Use local socket to check mysql status\n\n... instead of bind address. This allows us to reduce usage of\nthe deprecated hiera CLI, which is used to look up the bind address\nfrom hieradata.\n\nChange-Id: Ib931e86624846dbe1b7ced70352df3076a26ee5a\n'}, {'number': 2, 'created': '2022-09-14 02:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4297c480635f9c742ba9b706ed7580915dd8f269', 'message': 'Use local socket to check mysql status\n\n... instead of bind address. This allows us to reduce usage of\nthe deprecated hiera CLI, which is used to look up the bind address\nfrom hieradata.\n\nChange-Id: Ib931e86624846dbe1b7ced70352df3076a26ee5a\n'}, {'number': 3, 'created': '2022-09-14 05:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84d74e94ae3afe84db9e380e371c2e5146d457c0', 'message': 'Use local socket to check mysql status\n\n... instead of bind address. This allows us to reduce usage of\nthe deprecated hiera CLI, which is used to look up the bind address\nfrom hieradata.\n\nChange-Id: Ib931e86624846dbe1b7ced70352df3076a26ee5a\n'}, {'number': 4, 'created': '2022-09-22 03:43:14.000000000', 'files': ['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c63d3842c9b23c290dc7a13e21ceec79b7e5ca5', 'message': 'Use local socket to check mysql status\n\n... instead of bind address. This allows us to reduce usage of\nthe deprecated hiera CLI, which is used to look up the bind address\nfrom hieradata.\n\nChange-Id: Ib931e86624846dbe1b7ced70352df3076a26ee5a\n'}]",2,857533,8c63d3842c9b23c290dc7a13e21ceec79b7e5ca5,11,3,4,9816,,,0,"Use local socket to check mysql status

... instead of bind address. This allows us to reduce usage of
the deprecated hiera CLI, which is used to look up the bind address
from hieradata.

Change-Id: Ib931e86624846dbe1b7ced70352df3076a26ee5a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/857533/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py']",2,66a995b922a771207926af84befcdbafe0e944de,ephemeral-heat-hiera," def test_check_database(self): 'mysql',"," @mock.patch( 'tripleoclient.heat_launcher.HeatPodLauncher._get_ctlplane_ip') def test_check_database(self, mock_ctlplane_ip): mock_ctlplane_ip.return_value = '1.1.1.1' self.assertTrue(launcher.check_database()) mock_ctlplane_ip.assert_called() 'mysql', '-h', '1.1.1.1', mock_ctlplane_ip.reset_mock() @mock.patch('tripleoclient.heat_launcher.HeatPodLauncher._decode') def test_get_ctlplane_ip(self, mock_decode): launcher = self.get_launcher() self.check_output.reset_mock() self.check_output.return_value = '1.1.1.1' launcher._get_ctlplane_ip() self.check_output.assert_called_once_with(['sudo', 'hiera', 'ctlplane']) mock_decode.assert_called_with('1.1.1.1') ",3,24
openstack%2Fpuppet-tripleo~master~I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a,openstack/puppet-tripleo,master,I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a,Generate config file for Ephemeral heat,ABANDONED,2022-09-14 01:32:54.000000000,2023-01-10 14:47:32.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-09-14 01:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a039968ee73a571289c5febd2a595736272e63e1', 'message': 'WIP: Generate config file for Ephemeral heat\n\nChange-Id: I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a\n'}, {'number': 2, 'created': '2022-09-14 04:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2e800408eb932f68f5d9542cec27ddeb70a262a9', 'message': 'Generate config file for Ephemeral heat\n\nThis change introduces a tiny puppet manifest to generate a config\nfile for Epehemeral heat service which contains the options required to\nconnect MySQL and RabbitMQ. This file replaces usage of the deprecated\nhiera CLI to look up these items from hieradata.\n\nChange-Id: I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a\n'}, {'number': 3, 'created': '2022-09-14 07:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f38f75795033e2bcf7be727d48b2ecc4657466b', 'message': 'Generate config file for Ephemeral heat\n\nThis change introduces a tiny puppet manifest to generate a config\nfile for Epehemeral heat service which contains the options required to\nconnect MySQL and RabbitMQ. This file replaces usage of the deprecated\nhiera CLI to look up these items from hieradata.\n\nChange-Id: I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a\n'}, {'number': 4, 'created': '2022-09-14 11:47:35.000000000', 'files': ['manifests/profile/base/heat_ephemeral.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c1eb4aeab4ca260973433bd608622e4a7b2de57', 'message': 'Generate config file for Ephemeral heat\n\nThis change introduces a tiny puppet manifest to generate a config\nfile for Epehemeral heat service which contains the options required to\nconnect MySQL and RabbitMQ. This file replaces usage of the deprecated\nhiera CLI to look up these items from hieradata.\n\nChange-Id: I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a\n'}]",4,857531,7c1eb4aeab4ca260973433bd608622e4a7b2de57,24,6,4,9816,,,0,"Generate config file for Ephemeral heat

This change introduces a tiny puppet manifest to generate a config
file for Epehemeral heat service which contains the options required to
connect MySQL and RabbitMQ. This file replaces usage of the deprecated
hiera CLI to look up these items from hieradata.

Change-Id: I4e4ad13e8b2f8f14a3a0c7ab86b2be8dcba2fd4a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/31/857531/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/heat_ephemeral.pp'],1,a039968ee73a571289c5febd2a595736272e63e1,ephemeral-heat-hiera,"# Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::heat # # Heat Epehemral profile for tripleo # # === Parameters # # [*database_connection*] # (Required) Url used to connect to database. # # [*oslomsg_rpc_proto*] # (Optional) Protocol driver for the oslo messaging rpc service # Defaults to lookup('oslo_messaging_rpc_scheme', undef, undef, 'rabbit') # # [*oslomsg_rpc_hosts*] # (Optional) list of the oslo messaging rpc host fqdns # Defaults to any2array(lookup('oslo_messaging_rpc_node_names', undef, undef, undef)) # # [*oslomsg_rpc_port*] # (Optional) IP port for oslo messaging rpc service # Defaults to lookup('oslo_messaging_rpc_port', undef, undef, '5672') # # [*oslomsg_rpc_username*] # (Optional) Username for oslo messaging rpc service # Defaults to lookup('oslo_messaging_rpc_user_name', undef, undef, 'guest') # # [*oslomsg_rpc_password*] # (Optional) Password for oslo messaging rpc service # Defaults to lookup('oslo_messaging_rpc_password') # # [*oslomsg_rpc_use_ssl*] # (Optional) Enable ssl oslo messaging services # Defaults to lookup('oslo_messaging_rpc_use_ssl', undef, undef, '0') # # [*oslomsg_notify_use_ssl*] # (Optional) Enable ssl oslo messaging services # Defaults to lookup('oslo_messaging_notify_use_ssl', undef, undef, '0') # class tripleo::profile::base::heat_ephemeral ( $database_connection, $oslomsg_rpc_proto = lookup('oslo_messaging_rpc_scheme', undef, undef, 'rabbit'), $oslomsg_rpc_hosts = any2array(lookup('oslo_messaging_rpc_node_names', undef, undef, undef)), $oslomsg_rpc_password = lookup('oslo_messaging_rpc_password'), $oslomsg_rpc_port = lookup('oslo_messaging_rpc_port', undef, undef, '5672'), $oslomsg_rpc_username = lookup('oslo_messaging_rpc_user_name', undef, undef, 'guest'), ) { heat_config { 'DEFAULT/transport_url': value => os_transport_url({ 'transport' => $oslomsg_rpc_proto, 'hosts' => $oslomsg_rpc_hosts, 'port' => $oslomsg_rpc_port, 'username' => $oslomsg_rpc_username, 'password' => $oslomsg_rpc_password, }), 'database/connection': value => $database_connection, } } ",,71,0
openstack%2Ftripleo-ci~master~I4c19328949f3dabb07894943d13c0c97a99a97ea,openstack/tripleo-ci,master,I4c19328949f3dabb07894943d13c0c97a99a97ea,Force usage of ubi9 image for all CentOS 9 standalone jobs,ABANDONED,2022-09-13 05:04:43.000000000,2023-01-10 14:45:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-13 05:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0a62781e4916f310ea426de6edd5806b7f896827', 'message': 'Force usage of ubi9 image for all CentOS 9 standalone jobs\n\nChange-Id: I4c19328949f3dabb07894943d13c0c97a99a97ea\n'}, {'number': 2, 'created': '2022-09-13 05:06:15.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ff33acb1fca5609afdc77ee13e4f556b931f7c7e', 'message': 'Force usage of ubi9 image for all CentOS 9 standalone jobs\n\nCurrently individual scenario jobs does not have the proper override\nto use ubi9 image and this results in usage of ubi8 image when these\njobs are used without content provider.\n\nThis change moves the override to more common place to ensure ubi9\nimage is always used in any CentOS 9 standalone jobs.\n\nChange-Id: I4c19328949f3dabb07894943d13c0c97a99a97ea\n'}]",0,857261,ff33acb1fca5609afdc77ee13e4f556b931f7c7e,5,2,2,9816,,,0,"Force usage of ubi9 image for all CentOS 9 standalone jobs

Currently individual scenario jobs does not have the proper override
to use ubi9 image and this results in usage of ubi8 image when these
jobs are used without content provider.

This change moves the override to more common place to ensure ubi9
image is always used in any CentOS 9 standalone jobs.

Change-Id: I4c19328949f3dabb07894943d13c0c97a99a97ea
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/61/857261/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,0a62781e4916f310ea426de6edd5806b7f896827,, vars: containers_base_image: registry.access.redhat.com/ubi9:latest, containers_base_image: registry.access.redhat.com/ubi9:latest,2,2
openstack%2Ftripleo-heat-templates~master~I2a35078d372185a51c8ebe7dd095c555e72cfa3e,openstack/tripleo-heat-templates,master,I2a35078d372185a51c8ebe7dd095c555e72cfa3e,Refactor gnocchi-api template,ABANDONED,2022-09-06 05:18:50.000000000,2023-01-10 14:45:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-09-06 05:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e90721ebf70f8e78956f716299295ab3fdeaa09', 'message': 'Refactor gnocchi-api template\n\nThis change merges multiple dictionaries merged by map_merge to\na single dictionary, to avoid redundant merge operation.\n\nChange-Id: I2a35078d372185a51c8ebe7dd095c555e72cfa3e\n'}, {'number': 2, 'created': '2022-09-22 14:06:43.000000000', 'files': ['deployment/gnocchi/gnocchi-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd072a84ddb12197236c54a70b046d757b7f561e', 'message': 'Refactor gnocchi-api template\n\nThis change merges multiple dictionaries merged by map_merge to\na single dictionary, to avoid redundant merge operation.\n\nChange-Id: I2a35078d372185a51c8ebe7dd095c555e72cfa3e\n'}]",2,856018,dd072a84ddb12197236c54a70b046d757b7f561e,12,3,2,9816,,,0,"Refactor gnocchi-api template

This change merges multiple dictionaries merged by map_merge to
a single dictionary, to avoid redundant merge operation.

Change-Id: I2a35078d372185a51c8ebe7dd095c555e72cfa3e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/856018/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/gnocchi/gnocchi-api-container-puppet.yaml'],1,2e90721ebf70f8e78956f716299295ab3fdeaa09,," cors_allowed_origin_set: {not: {equals: [{get_param: GnocchiCorsAllowedOrigin}, '']}} gnocchi::cors::allowed_origin: if: - cors_allowed_origin_set - {get_param: GnocchiCorsAllowedOrigin} gnocchi::api::enabled: true"," cors_allowed_origin_unset: {equals : [{get_param: GnocchiCorsAllowedOrigin}, '']} - if: - cors_allowed_origin_unset - {} - gnocchi::cors::allowed_origin: {get_param: GnocchiCorsAllowedOrigin} - gnocchi::api::enabled: true",6,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I31ee81e4fc5b5d2fdec43ac3f59e3cb60b486910,openstack/tripleo-heat-templates,stable/wallaby,I31ee81e4fc5b5d2fdec43ac3f59e3cb60b486910,DNM testing missing job,NEW,2023-01-10 10:02:54.000000000,2023-01-10 14:44:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2023-01-10 10:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01ed4c896f9f101f110a7eb8e760384f8ca63a99', 'message': 'DNM testing missing job\n\nChange-Id: I31ee81e4fc5b5d2fdec43ac3f59e3cb60b486910\n'}, {'number': 2, 'created': '2023-01-10 10:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38a97a8f0291eab87a84062a0a679f0f0892e3e4', 'message': 'DNM testing missing job\n\nChange-Id: I31ee81e4fc5b5d2fdec43ac3f59e3cb60b486910\n'}, {'number': 3, 'created': '2023-01-10 10:11:09.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f45362a259072097679752db1c1858587bd54c21', 'message': 'DNM testing missing job\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/869669\nChange-Id: I31ee81e4fc5b5d2fdec43ac3f59e3cb60b486910\n'}]",1,869667,f45362a259072097679752db1c1858587bd54c21,8,2,3,8449,,,0,"DNM testing missing job

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/869669
Change-Id: I31ee81e4fc5b5d2fdec43ac3f59e3cb60b486910
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/869667/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'zuul.d/layout.yaml']",2,01ed4c896f9f101f110a7eb8e760384f8ca63a99,, debug: true,,2,0
openstack%2Fmagnum~master~I5b4c55307acd822168645871bebe0a31eee0ee27,openstack/magnum,master,I5b4c55307acd822168645871bebe0a31eee0ee27,autoscaler: Update manifest per upstream,NEW,2023-01-10 13:35:19.000000000,2023-01-10 14:43:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-10 13:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e3561684dcc2508df69d271bc5d9666b48e3c86e', 'message': 'autoscaler: Update manifest per upstream\n\nChange-Id: I5b4c55307acd822168645871bebe0a31eee0ee27\n'}, {'number': 2, 'created': '2023-01-10 14:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f6f2f994a5a490d97a1571a1c50d781afe86892f', 'message': 'autoscaler: Update manifest per upstream\n\nChange-Id: I5b4c55307acd822168645871bebe0a31eee0ee27\n'}, {'number': 3, 'created': '2023-01-10 14:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0df08a87c03cee611fccca869854556321df81c1', 'message': 'autoscaler: Update manifest per upstream\n\nChange-Id: I5b4c55307acd822168645871bebe0a31eee0ee27\n'}, {'number': 4, 'created': '2023-01-10 14:05:58.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/510cd0571e7f309ff5934c9b7b5cf51d177aacf8', 'message': 'autoscaler: Update manifest per upstream\n\nChange-Id: I5b4c55307acd822168645871bebe0a31eee0ee27\n'}]",0,869721,510cd0571e7f309ff5934c9b7b5cf51d177aacf8,5,1,4,22629,,,0,"autoscaler: Update manifest per upstream

Change-Id: I5b4c55307acd822168645871bebe0a31eee0ee27
",git fetch https://review.opendev.org/openstack/magnum refs/changes/21/869721/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh'],1,e3561684dcc2508df69d271bc5d9666b48e3c86e,," resources: [""events"", ""endpoints""] verbs: [""create"", ""patch""] resources: [""pods/status""] verbs: [""update""] - apiGroups: [""""] resources: [""endpoints""] resourceNames: [""cluster-autoscaler""] verbs: [""get"", ""update""] - apiGroups: [""""] resources: [""nodes""] verbs: [""watch"", ""list"", ""get"", ""update""] - apiGroups: [""""] resources: - ""namespaces"" - ""pods"" - ""services"" - ""replicationcontrollers"" - ""persistentvolumeclaims"" - ""persistentvolumes"" verbs: [""watch"", ""list"", ""get""] verbs: [""watch"", ""list"", ""get""] verbs: [""watch"", ""list""] - apiGroups: [""apps""] resources: [""daemonsets"", ""replicasets"", ""statefulsets""] verbs: [""watch"", ""list"", ""get""] resources: [""storageclasses"", ""csinodes"", ""csidrivers"", ""csistoragecapacities""] verbs: [""watch"", ""list"", ""get""] verbs: [""create"",""list"",""watch""] resourceNames: [""cluster-autoscaler-status"", ""cluster-autoscaler-priority-expander""] verbs: [""delete"", ""get"", ""update""] - key: dedicated value: ""master"""," # TODO: remove in 1.18; CA uses lease objects for leader election since 1.17 resources: [""endpoints""] verbs: [""create""] - apiGroups: [""""] resources: [""endpoints""] resourceNames: [""cluster-autoscaler""] verbs: [""get"", ""update"", ""patch"", ""delete""] # accessing & modifying cluster state (nodes & pods) - apiGroups: [""""] resources: [""nodes""] verbs: [""get"", ""list"", ""watch"", ""update"", ""patch""] - apiGroups: [""""] resources: [""pods""] verbs: [""get"", ""list"", ""watch""] # read-only access to cluster state resources: [""services"", ""replicationcontrollers"", ""persistentvolumes"", ""persistentvolumeclaims""] verbs: [""get"", ""list"", ""watch""] - apiGroups: [""apps""] resources: [""daemonsets"", ""replicasets""] verbs: [""get"", ""list"", ""watch""] - apiGroups: [""apps""] resources: [""statefulsets""] verbs: [""get"", ""list"", ""watch""] verbs: [""get"", ""list"", ""watch""] verbs: [""get"", ""list"", ""watch""] resources: [""storageclasses"", ""csinodes""] verbs: [""get"", ""list"", ""watch""] # misc access - apiGroups: [""""] resources: [""events""] verbs: [""create"", ""update"", ""patch""] verbs: [""create""] resourceNames: [""cluster-autoscaler-status""] verbs: [""get"", ""update"", ""patch"", ""delete""] - effect: NoSchedule operator: Exists - effect: NoExecute operator: Exists - key: node.cloudprovider.kubernetes.io/uninitialized value: ""true"" effect: NoSchedule - key: node-role.kubernetes.io/master",32,42
openstack%2Ftripleo-heat-templates~master~I0ff90e5d0926d10142e3768e73fc191dc1d63579,openstack/tripleo-heat-templates,master,I0ff90e5d0926d10142e3768e73fc191dc1d63579,WIP: Ensure all parameters are used in each template files,ABANDONED,2021-06-07 14:25:33.000000000,2023-01-10 14:43:17.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 14:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/582c4d56319c14e56c721d451179ed2b857d564f', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 2, 'created': '2021-06-08 01:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fb52ee29342e8415f514669a7cc9e6b4018278a', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 3, 'created': '2021-06-08 02:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/645cf8998b1cb8f17c6ee6e6eb142115737b41f1', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 4, 'created': '2021-06-08 04:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58480972a06a9c319b0c3af89ac1a74d54e5123d', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 5, 'created': '2021-06-08 04:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfae738531fc86e57297ef3b1290a174e7984b0e', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 6, 'created': '2021-06-08 11:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cae8c28a7d3a102a6f6c6498fbbbc83dbfec7c59', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 7, 'created': '2021-06-08 11:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7300f35f0e5861826d1fc0bd440540d36c97013d', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 8, 'created': '2021-06-08 12:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb1c90c6848acdd803845299a47653d9ed2b27ff', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 9, 'created': '2021-06-08 13:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd05d594acfa9c3c23d507ec1f233dc4d84025d3', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 10, 'created': '2021-07-06 01:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8706208fa56c195f7ec3bc0150629a5618722289', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 11, 'created': '2021-07-14 12:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/565a13d782955d8d14ed5d07495953c17ea64e6e', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 12, 'created': '2021-07-14 12:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/156c2525234fbf0946213529ddcb46774038df73', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 13, 'created': '2021-07-14 14:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c9448501bcbf5b9b91fe137ce9db1b789a1012b', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 14, 'created': '2021-07-14 14:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff2f1fc9a21332336e09611954a962b7519749c7', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 15, 'created': '2021-08-09 09:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/901807ccbce97ae2d4bd4967575316a0518b9529', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}, {'number': 16, 'created': '2022-09-06 02:58:09.000000000', 'files': ['tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e684323d4247e6474818808848f0736198715878', 'message': 'WIP: Ensure all parameters are used in each template files\n\nChange-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579\n'}]",0,795114,e684323d4247e6474818808848f0736198715878,36,3,16,9816,,,0,"WIP: Ensure all parameters are used in each template files

Change-Id: I0ff90e5d0926d10142e3768e73fc191dc1d63579
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/795114/16 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-validate.py'],1,582c4d56319c14e56c721d451179ed2b857d564f,params,"def validate_template_parameteres(filename, tpl): params = tpl.get('parameters', {}) def find_parameter(param, item): if isinstance(item, dict): # parameter names can't be dict keys so let's check only values for _item in item.values(): if find_parameter(param, _item): return True elif isinstance(item, list): # If the item is a list then check all items in the list for _item in item: if find_parameter(param, _item): return True elif isinstance(item, str): # If the item is a string then compare it with the parameter name if param == item: return True return False missing_params = [] for param in params.keys(): if find_parameter(param, tpl.get('conditions', {})) or \ find_parameter(param, tpl.get('resources', {})) or \ find_parameter(param, tpl.get('outputs', {})): continue missing_params.append(param) if missing_params: for missing_param in missing_params: print('ERROR: The %s parameter is not used in %s: ' % (missing_parameter, filename)) return False else: return True validate_template_parameteres(filename, tpl) ",,40,0
openstack%2Ftripleo-heat-templates~master~I5fdf4fb775f3b22bf95db2f17ec85ac1008dc5a6,openstack/tripleo-heat-templates,master,I5fdf4fb775f3b22bf95db2f17ec85ac1008dc5a6,Fix invalid section used in a release note file,ABANDONED,2022-05-03 06:38:37.000000000,2023-01-10 14:42:57.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 06:38:37.000000000', 'files': ['releasenotes/notes/remove-tempest-container-support-8950767b0047c9af.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b4c138023efdd59203e84a2131511d544d930b4', 'message': 'Fix invalid section used in a release note file\n\nThe removal section is not a valid section and the description is not\nproperly rendered into the release note content.\n\nChange-Id: I5fdf4fb775f3b22bf95db2f17ec85ac1008dc5a6\n'}]",0,840272,1b4c138023efdd59203e84a2131511d544d930b4,4,2,1,9816,,,0,"Fix invalid section used in a release note file

The removal section is not a valid section and the description is not
properly rendered into the release note content.

Change-Id: I5fdf4fb775f3b22bf95db2f17ec85ac1008dc5a6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/840272/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-tempest-container-support-8950767b0047c9af.yaml'],1,1b4c138023efdd59203e84a2131511d544d930b4,,upgrade:,removal:,1,1
openstack%2Ftripleo-common~master~Ie307ccec7d47ef531bbab4ca79122b7575819bba,openstack/tripleo-common,master,Ie307ccec7d47ef531bbab4ca79122b7575819bba,Resolve conflicting definitions of ContainerNeutronConfigImage,ABANDONED,2021-04-30 02:53:34.000000000,2023-01-10 14:41:49.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-30 02:53:34.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87027ef916c79aaf6c75828100d6036960cfd424', 'message': ""Resolve conflicting definitions of ContainerNeutronConfigImage\n\nThis change resolves two confilicting definitions about\nContainerNeutronConfigImage, one with neutron-server and the other with\nironic-neutron-agent.\n\nWhile we don't require specific pacages in the ironic-neutron-agent\ncontainer to run neutron configurations, we do required some pakacages\nlike httpd installed only in the neutron-server container.\n\nChange-Id: Ie307ccec7d47ef531bbab4ca79122b7575819bba\nCloses-Bug: #1926679\n""}]",1,788873,87027ef916c79aaf6c75828100d6036960cfd424,6,4,1,9816,,,0,"Resolve conflicting definitions of ContainerNeutronConfigImage

This change resolves two confilicting definitions about
ContainerNeutronConfigImage, one with neutron-server and the other with
ironic-neutron-agent.

While we don't require specific pacages in the ironic-neutron-agent
container to run neutron configurations, we do required some pakacages
like httpd installed only in the neutron-server container.

Change-Id: Ie307ccec7d47ef531bbab4ca79122b7575819bba
Closes-Bug: #1926679
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/788873/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,87027ef916c79aaf6c75828100d6036960cfd424,bug/1926679,, - ContainerNeutronConfigImage,0,1
openstack%2Ftripleo-ansible~master~I831fbbebf1820a769d85c023b185c1b2e54b7451,openstack/tripleo-ansible,master,I831fbbebf1820a769d85c023b185c1b2e54b7451,Make python codes pep8 compliant,ABANDONED,2022-07-09 09:58:40.000000000,2023-01-10 14:40:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-09 09:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cafbc09f79cbeec48aa90c5a1630d332ea210fde', 'message': 'Make python codes pep8 compliant\n\n... still WIP\n\nChange-Id: I831fbbebf1820a769d85c023b185c1b2e54b7451\n'}, {'number': 2, 'created': '2022-07-10 08:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/491da817b54060db580c5e2ce62d426ff240f8b4', 'message': ""Make python codes pep8 compliant\n\nThis change enables code style checking by pep8/flake8 to follow\nthe generic code style guideline in OpenStack projects. Note a few\nrules like E501 are still disabled because of amount of the changes\nwe need but we'd enable these later.\n\nChange-Id: I831fbbebf1820a769d85c023b185c1b2e54b7451\n""}, {'number': 3, 'created': '2022-10-05 03:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7dfc2869dff57e4759651019a6b874c44f1f417', 'message': ""Make python codes pep8 compliant\n\nThis change enables code style checking by pep8/flake8 to follow\nthe generic code style guideline in OpenStack projects. Note a few\nrules like E501 are still disabled because of amount of the changes\nwe need but we'd enable these later.\n\nChange-Id: I831fbbebf1820a769d85c023b185c1b2e54b7451\n""}, {'number': 4, 'created': '2022-10-11 01:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79a0ac5749d800133b9201bef40906db972479de', 'message': ""Make python codes pep8 compliant\n\nThis change enables code style checking by pep8/flake8 to follow\nthe generic code style guideline in OpenStack projects. Note a few\nrules like E501 are still disabled because of amount of the changes\nwe need but we'd enable these later.\n\nChange-Id: I831fbbebf1820a769d85c023b185c1b2e54b7451\n""}, {'number': 5, 'created': '2022-10-18 02:04:52.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py', 'tripleo_ansible/tests/modules/test_ceph_mkspec.py', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'test-requirements.txt', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/ansible_plugins/filter/cpu_mask.py', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_dnf_stream.py', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tests/test_molecule.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_findif_for_ip.py', 'tripleo_ansible/tests/modules/test_container_puppet_config.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_list_overclouds.py', 'tripleo_ansible/tests/modules/test_container_config_data.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/library/openvswitch_db.py', 'tripleo_ansible/ansible_plugins/modules/ceph_dashboard_user.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_os_net_config_mappings.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/tests/stubs.py', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py', 'tripleo_ansible/ansible_plugins/modules/lvm2_physical_devices_facts.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py', 'tripleo_ansible/roles/tuned/molecule/isolated/tests/test_isolated.py', 'tripleo_ansible/tests/modules/test_tripleo_ovn_mac_addresses.py', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/tests/test_no_networks.py', 'tox.ini', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tests/conftest.py', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a084b4ddcb58fa6b89dfdb2d0d8b08106ce7a48', 'message': ""Make python codes pep8 compliant\n\nThis change enables code style checking by pep8/flake8 to follow\nthe generic code style guideline in OpenStack projects. Note a few\nrules like E501 are still disabled because of amount of the changes\nwe need but we'd enable these later.\n\nChange-Id: I831fbbebf1820a769d85c023b185c1b2e54b7451\n""}]",2,849179,9a084b4ddcb58fa6b89dfdb2d0d8b08106ce7a48,22,2,5,9816,,,0,"Make python codes pep8 compliant

This change enables code style checking by pep8/flake8 to follow
the generic code style guideline in OpenStack projects. Note a few
rules like E501 are still disabled because of amount of the changes
we need but we'd enable these later.

Change-Id: I831fbbebf1820a769d85c023b185c1b2e54b7451
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/849179/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/stubs.py', 'tests/test_molecule.py', 'tests/conftest.py']",3,cafbc09f79cbeec48aa90c5a1630d332ea210fde,pep8,"def pytest_addoption(parser): parser.addoption('--scenario', help='scenario setting') parser.addoption('--ansible-args', help='ansible args passed into test runner.')","import os def pytest_addoption(parser): parser.addoption('--scenario', help='scenario setting') parser.addoption('--ansible-args', help='ansible args passed into test runner.')",9,9
openstack%2Ftripleo-heat-templates~master~I1fff20e4ff04688a62be425a20c2d82ed2bdb05f,openstack/tripleo-heat-templates,master,I1fff20e4ff04688a62be425a20c2d82ed2bdb05f,WIP: Trigger all deployment jobs,ABANDONED,2022-09-26 01:10:08.000000000,2023-01-10 14:40:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-26 01:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f09c954614cb477695e1da48e1531c54ca16174c', 'message': 'WIP: Trigger all deployment jobs\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/859090\nChange-Id: I1fff20e4ff04688a62be425a20c2d82ed2bdb05f\n'}, {'number': 2, 'created': '2022-10-17 04:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc13540a88b333e29de18143bf5dbcfbd5e1b565', 'message': 'WIP: Trigger all deployment jobs\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/859090\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/861354\nChange-Id: I1fff20e4ff04688a62be425a20c2d82ed2bdb05f\n'}, {'number': 3, 'created': '2022-10-17 04:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdf35e666c426ae1e551aca692fd5a1da55c52d1', 'message': 'WIP: Trigger all deployment jobs\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/859090\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/861354\nChange-Id: I1fff20e4ff04688a62be425a20c2d82ed2bdb05f\n'}, {'number': 4, 'created': '2022-10-17 04:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5db29818f2d1229423afff53ba8bea70869e1496', 'message': 'WIP: Trigger all deployment jobs\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/861170\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/861354\nChange-Id: I1fff20e4ff04688a62be425a20c2d82ed2bdb05f\n'}, {'number': 5, 'created': '2022-10-18 03:35:48.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/swift/swift-base.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/logging/stdout/neutron-common.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml', 'deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'deployment/manila/manila-backend-flashblade-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/tls/undercloud-remove-novajoin.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'deployment/deprecated/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/tls/undercloud-tls.yaml', 'deployment/database/mysql-base.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/apache/apache-baremetal-ansible.j2.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-powerflex-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/deprecated/vpp/vpp-baremetal-puppet.yaml', 'deployment/tests/test-container-volume.yaml', 'deployment/barbican/barbican-backend-dogtag-puppet.yaml', 'deployment/deprecated/snmp/snmp-baremetal-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vnx-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powermax-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml', 'deployment/tuned/tuned-baremetal-ansible.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/validations/tripleo-validations-baremetal-ansible.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/manila/manila-backend-powermax.yaml', 'deployment/login-defs/login-defs-baremetal-ansible.yaml', 'deployment/designate/designate-base.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/deprecated/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml', 'deployment/deprecated/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/cephadm/ceph-ingress.yaml', 'deployment/deprecated/neutron/neutron-bgpvpn-bagpipe-baremetal-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/barbican/barbican-client-puppet.yaml', 'deployment/logging/stdout/glance-api.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/auditd/auditd-baremetal-ansible.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/frr/frr-container-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/securetty/securetty-baremetal-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-unity-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/cinder/cinder-backend-dellemc-sc-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/deprecated/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/designate/designate-producer-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/barbican/barbican-backend-simple-crypto-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-dispersion-baremetal-puppet.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/logging/files/haproxy.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backend-nfs-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/deprecated/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/time/ptp-baremetal-ansible.yaml', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'deployment/cephadm/ceph-mon.yaml', 'deployment/deprecated/multipathd-container.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml', 'deployment/clients/openstack-clients-baremetal-ansible.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/deprecated/neutron/neutron-vpp-agent-baremetal-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/aide/aide-baremetal-ansible.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/database/mysql-client.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/barbican/barbican-backend-kmip-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/multipathd/multipathd-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c18c967bd5e2683bcd682324957be7b628dfd7b6', 'message': 'WIP: Trigger all deployment jobs\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/861586\nChange-Id: I1fff20e4ff04688a62be425a20c2d82ed2bdb05f\n'}]",2,859205,c18c967bd5e2683bcd682324957be7b628dfd7b6,16,2,5,9816,,,0,"WIP: Trigger all deployment jobs

Depends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/861586
Change-Id: I1fff20e4ff04688a62be425a20c2d82ed2bdb05f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/859205/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/swift/swift-base.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/logging/stdout/neutron-common.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml', 'deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'deployment/manila/manila-backend-flashblade-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/tls/undercloud-remove-novajoin.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'deployment/deprecated/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/tls/undercloud-tls.yaml', 'deployment/database/mysql-base.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/apache/apache-baremetal-ansible.j2.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-powerflex-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/deprecated/vpp/vpp-baremetal-puppet.yaml', 'deployment/tests/test-container-volume.yaml', 'deployment/barbican/barbican-backend-dogtag-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vnx-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powermax-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml', 'deployment/tuned/tuned-baremetal-ansible.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/validations/tripleo-validations-baremetal-ansible.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/manila/manila-backend-powermax.yaml', 'deployment/login-defs/login-defs-baremetal-ansible.yaml', 'deployment/designate/designate-base.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/deprecated/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml', 'deployment/deprecated/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/cephadm/ceph-ingress.yaml', 'deployment/deprecated/neutron/neutron-bgpvpn-bagpipe-baremetal-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/barbican/barbican-client-puppet.yaml', 'deployment/logging/stdout/glance-api.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/auditd/auditd-baremetal-ansible.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/frr/frr-container-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/securetty/securetty-baremetal-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-unity-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/cinder/cinder-backend-dellemc-sc-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/deprecated/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/designate/designate-producer-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/barbican/barbican-backend-simple-crypto-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-dispersion-baremetal-puppet.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/logging/files/haproxy.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backend-nfs-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/deprecated/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/time/ptp-baremetal-ansible.yaml', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'deployment/cephadm/ceph-mon.yaml', 'deployment/deprecated/multipathd-container.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml', 'deployment/clients/openstack-clients-baremetal-ansible.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/deprecated/neutron/neutron-vpp-agent-baremetal-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/aide/aide-baremetal-ansible.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/database/mysql-client.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/barbican/barbican-backend-kmip-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/multipathd/multipathd-container-ansible.yaml']",253,f09c954614cb477695e1da48e1531c54ca16174c,,,,253,0
openstack%2Ftripleo-heat-templates~master~Id05189085d35d2823ed8c44a1b389d85bdc5074d,openstack/tripleo-heat-templates,master,Id05189085d35d2823ed8c44a1b389d85bdc5074d,Render hieradata in v5 format,ABANDONED,2022-10-17 13:58:41.000000000,2023-01-10 14:39:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-17 13:58:41.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bd3137826f22f6141c0995d8a44ee5498e8f3da', 'message': 'Render hieradata in v5 format\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/861578\nChange-Id: Id05189085d35d2823ed8c44a1b389d85bdc5074d\n'}]",0,861636,7bd3137826f22f6141c0995d8a44ee5498e8f3da,4,2,1,9816,,,0,"Render hieradata in v5 format

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/861578
Change-Id: Id05189085d35d2823ed8c44a1b389d85bdc5074d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/861636/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,7bd3137826f22f6141c0995d8a44ee5498e8f3da,tripleo-hiera-v5, hieradata_version: 5 hieradata_files: - '%{::uuid}.json' - fqdn.json - docker_puppet.json # Optionally provided by container-puppet.sh - ansible_managed.json - heat_config_%{::deploy_config_name}.json - config_step.json - role_extraconfig.json - extraconfig.json - pci_passthrough_whitelist.json - service_names.json - service_configs.json - cloud_domain.json - bootstrap_node.json # provided by tripleo_hieradata - all_nodes.json # provided by tripleo_hieradata - vip_data.json # provided by tripleo_hieradata - net_ip_map.json - ovn_chassis_mac_map.json # provided by tripleo_hieradata - '%{::osfamily}.json' - upgrade.json, hieradata_files: - '%{::uuid}' - fqdn - docker_puppet # Optionally provided by container-puppet.sh - ansible_managed - heat_config_%{::deploy_config_name} - config_step - role_extraconfig - extraconfig - pci_passthrough_whitelist - service_names - service_configs - cloud_domain - bootstrap_node # provided by tripleo_hieradata - all_nodes # provided by tripleo_hieradata - vip_data # provided by tripleo_hieradata - net_ip_map - ovn_chassis_mac_map # provided by tripleo_hieradata - '%{::osfamily}' - upgrade,20,19
openstack%2Ftripleo-heat-templates~master~I0c32a49b436520848c33bed819abf3a0d7039611,openstack/tripleo-heat-templates,master,I0c32a49b436520848c33bed819abf3a0d7039611,etcd: Look up ETCD_NAME from etcd.conf,ABANDONED,2022-08-17 08:34:51.000000000,2023-01-10 14:39:39.000000000,,[],"[{'number': 1, 'created': '2022-08-17 08:34:51.000000000', 'files': ['deployment/etcd/etcd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec56e9b84220366f70c155a8ab8a190e29581f59', 'message': 'etcd: Look up ETCD_NAME from etcd.conf\n\n... instead of using the deprecated hiera cli.\n\nChange-Id: I0c32a49b436520848c33bed819abf3a0d7039611\n'}]",0,853406,ec56e9b84220366f70c155a8ab8a190e29581f59,2,0,1,9816,,,0,"etcd: Look up ETCD_NAME from etcd.conf

... instead of using the deprecated hiera cli.

Change-Id: I0c32a49b436520848c33bed819abf3a0d7039611
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/853406/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/etcd/etcd-container-puppet.yaml'],1,ec56e9b84220366f70c155a8ab8a190e29581f59,tripleo-hiera-v5,, ETCD_NAME=$(hiera -c /etc/puppet/hiera.yaml fqdn_${ETCD_NETWORK}),0,1
openstack%2Ftripleo-ansible~master~Idda384ac1d8b20eee3ce7a84ff1e35df0da09ec0,openstack/tripleo-ansible,master,Idda384ac1d8b20eee3ce7a84ff1e35df0da09ec0,Allow selecting hieradata version,ABANDONED,2022-10-17 07:29:36.000000000,2023-01-10 14:39:24.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-17 07:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f39b933219b34bc1c4ba57e199c5ed6ff3d4609', 'message': 'Render hieradata in v5 format\n\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/857552\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857714\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857801\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854643\nDepneds-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/853568\nChange-Id: Idda384ac1d8b20eee3ce7a84ff1e35df0da09ec0\n'}, {'number': 2, 'created': '2022-10-17 08:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b332651ecdbf73e6a19810cc2ec80b396b2a5b22', 'message': 'Render hieradata in v5 format\n\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/857552\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857714\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857801\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854643\nDepneds-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/853568\nChange-Id: Idda384ac1d8b20eee3ce7a84ff1e35df0da09ec0\n'}, {'number': 3, 'created': '2022-10-17 13:56:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/66b5db7a7d0ca3e6d8fa8362995a2489ed9f4ee3', 'message': 'Allow selecting hieradata version\n\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/857552\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857714\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857801\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854643\nDepneds-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/853568\nChange-Id: Idda384ac1d8b20eee3ce7a84ff1e35df0da09ec0\n'}]",0,861578,66b5db7a7d0ca3e6d8fa8362995a2489ed9f4ee3,10,3,3,9816,,,0,"Allow selecting hieradata version

Depends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/857552
Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857714
Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/857801
Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854643
Depneds-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/853568
Change-Id: Idda384ac1d8b20eee3ce7a84ff1e35df0da09ec0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/861578/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml'],1,3f39b933219b34bc1c4ba57e199c5ed6ff3d4609,tripleo-hiera-v5," version: 5 defaults: datadir: /etc/puppet/hieradata data_hash: json_data backends: json: datadir: /etc/puppet/hieradata hierarchy: - name: ""TripleO hieradata"" paths: {{ hieradata_files | to_nice_yaml | indent(6, true)}}"," # TODO(emilien) Switch to Hiera5 format once we stop calling Hiera CLI # which is deprecated and should be replaced by ""puppet lookup"" command. :backends: :json: :datadir: /etc/puppet/hieradata :hierarchy: {{ hieradata_files | to_nice_yaml }}",11,7
openstack%2Ftripleo-heat-templates~master~I03c72516d5e5554ec11017e026caa27d9629f35b,openstack/tripleo-heat-templates,master,I03c72516d5e5554ec11017e026caa27d9629f35b,wip: Use non-root user to launch ironic-api,ABANDONED,2022-10-28 01:56:27.000000000,2023-01-10 14:38:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-28 01:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a292e9067f93c81d27faad077b93337037620599', 'message': 'wip: Use non-root user to launch ironic-api\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/862850\nChange-Id: I03c72516d5e5554ec11017e026caa27d9629f35b\n'}, {'number': 2, 'created': '2022-10-28 04:11:55.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93de39d2b064eccca45aa0fa57bf5bd78ebcf762', 'message': 'wip: Use non-root user to launch ironic-api\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/862850\nChange-Id: I03c72516d5e5554ec11017e026caa27d9629f35b\n'}]",0,862851,93de39d2b064eccca45aa0fa57bf5bd78ebcf762,7,2,2,9816,,,0,"wip: Use non-root user to launch ironic-api

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/862850
Change-Id: I03c72516d5e5554ec11017e026caa27d9629f35b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/862851/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,a292e9067f93c81d27faad077b93337037620599,httpd-non-root," map_merge: - get_attr: [ApacheServiceBase, role_data, ansible_group_vars] - tripleo_ironic_api_httpd_use_root: false ironic_init_httpd_logs: image: &ironic_api_image {get_attr: [RoleParametersValue, value, ContainerIronicApiImage]} net: none privileged: false user: root volumes: - /var/log/containers/httpd/ironic-api:/var/log/httpd:z command: ['/bin/bash', '-c', 'chown -R ironic:ironic /var/log/httpd']"," get_attr: [ApacheServiceBase, role_data, ansible_group_vars] - /var/log/containers/httpd/ironic-api:/var/log/httpd:z user: root",11,3
openstack%2Ftripleo-ansible~master~I46507e1a37c6d61b2832203ce794e068ac651c13,openstack/tripleo-ansible,master,I46507e1a37c6d61b2832203ce794e068ac651c13,wip: support running httpd by non-root user,ABANDONED,2022-10-28 01:53:30.000000000,2023-01-10 14:38:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-28 01:53:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_ironic/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ironic/tasks/api_httpd.yaml', 'tripleo_ansible/roles/tripleo_httpd_config/templates/httpd.conf.j2', 'tripleo_ansible/roles/tripleo_httpd_config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4eba74a4a64b9a54a287082e60dac2ffa6648cb0', 'message': 'wip: support running httpd by non-root user\n\nChange-Id: I46507e1a37c6d61b2832203ce794e068ac651c13\n'}]",0,862850,4eba74a4a64b9a54a287082e60dac2ffa6648cb0,4,2,1,9816,,,0,"wip: support running httpd by non-root user

Change-Id: I46507e1a37c6d61b2832203ce794e068ac651c13
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/862850/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ironic/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ironic/tasks/api_httpd.yaml', 'tripleo_ansible/roles/tripleo_httpd_config/templates/httpd.conf.j2', 'tripleo_ansible/roles/tripleo_httpd_config/defaults/main.yml']",4,4eba74a4a64b9a54a287082e60dac2ffa6648cb0,httpd-non-root,tripleo_httpd_config_user: 'root' tripleo_httpd_config_group: 'root',,7,0
openstack%2Fpuppet-tripleo~master~I57481c1020a81c6f58a1d517e64fb627d2332be6,openstack/puppet-tripleo,master,I57481c1020a81c6f58a1d517e64fb627d2332be6,WIP: Use separate config file for glance internal api,ABANDONED,2022-11-28 16:06:52.000000000,2023-01-10 14:38:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 16:06:52.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/50700558dc84c05de5914dd9129a26dfaa7a8490', 'message': 'WIP: Use separate config file for glance internal api\n\nThis reverts commit b3be1dc18c8284852905797d91b67d2dcd6a1a10.\n\nChange-Id: I57481c1020a81c6f58a1d517e64fb627d2332be6\n'}]",0,865868,50700558dc84c05de5914dd9129a26dfaa7a8490,4,2,1,9816,,,0,"WIP: Use separate config file for glance internal api

This reverts commit b3be1dc18c8284852905797d91b67d2dcd6a1a10.

Change-Id: I57481c1020a81c6f58a1d517e64fb627d2332be6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/865868/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/glance/api.pp']",2,50700558dc84c05de5914dd9129a26dfaa7a8490,,"# [*tls_proxy_port_internal*] # port on which the tls proxy will listen on. Only used if # enable_internal_tls is set. # defaults to 9292 # $tls_proxy_port_internal = 9293, tripleo::tls_proxy { 'glance-api-internal': servername => $tls_proxy_fqdn, ip => $tls_proxy_bind_ip, port => $tls_proxy_port_internal, tls_cert => $tls_certfile, tls_key => $tls_keyfile, notify => Class['glance::api'], } include glance::api::logging class { 'glance::api': enabled_backends => $enabled_backends, default_backend => $glance_backend_id, sync_db => $sync_db, file { '/etc/glance/glance-api-internal.conf': owner => 'root', group => 'glance', mode => '644', content => ""[DEFAULT] bind_port=9293 log_file=/var/log/glance-api-internal.log show_image_direct_url=True show_multiple_locations=True "" }","# [*bind_port*] # (optional) The port the server should bind to. # Default: 9292 # # [*log_dir*] # (Optional) Directory where logs should be stored. # If set to $::os_service_default, it will not log to any directory. # Defaults to '/var/log/glance'. # # [*log_file*] # (Optional) File where logs should be stored. # If set to $::os_service_default, it will not log to any file. # Defaults to '/var/log/glance/api.log'. # # [*show_image_direct_url*] # (optional) Expose image location to trusted clients. # Defaults to false # # [*show_multiple_locations*] # (optional) Whether to include the backend image locations in image # properties. # Defaults to false # $bind_port = 9292, $log_dir = '/var/log/glance', $log_file = '/var/log/glance/api.log', $show_image_direct_url = false, $show_multiple_locations = false, class { 'glance::api::logging': log_dir => $log_dir, log_file => $log_file, } class { 'glance::api': bind_port => $bind_port, enabled_backends => $enabled_backends, default_backend => $glance_backend_id, show_image_direct_url => $show_image_direct_url, show_multiple_locations => $show_multiple_locations, sync_db => $sync_db,",33,57
openstack%2Ftripleo-heat-templates~master~I9691d3d6650dabd0044f45e9215029d982ea7f34,openstack/tripleo-heat-templates,master,I9691d3d6650dabd0044f45e9215029d982ea7f34,WIP: Let heat conf own by the heat user,ABANDONED,2022-11-09 15:05:57.000000000,2023-01-10 14:38:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-09 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33d16865b7bbf7d88a590cb6ce17bd28c9d99477', 'message': 'WIP: Let heat conf own by the heat user\n\nChange-Id: I9691d3d6650dabd0044f45e9215029d982ea7f34\n'}, {'number': 2, 'created': '2022-11-10 12:26:25.000000000', 'files': ['deployment/heat/heat-ephemeral-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d90d5a18948e74d59bf765b1ed6c2a898b3672ce', 'message': 'WIP: Let heat conf own by the heat user\n\nChange-Id: I9691d3d6650dabd0044f45e9215029d982ea7f34\n'}]",0,864124,d90d5a18948e74d59bf765b1ed6c2a898b3672ce,7,2,2,9816,,,0,"WIP: Let heat conf own by the heat user

Change-Id: I9691d3d6650dabd0044f45e9215029d982ea7f34
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/864124/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-ephemeral-container-ansible.yaml'],1,33d16865b7bbf7d88a590cb6ce17bd28c9d99477,," docker_config: step_2: heat_ephemeral_init_perm: image: {get_attr: [RoleParametersValue, value, ContainerHeatApiImage]} net: none user: root volumes: - /var/lib/config-data/puppet-generated/heat_ephemeral/heat/etc/heat:/etc/heat:z command: ['/bin/bash', '-c', 'chown -R root:heat /etc/heat'] mode: '0750' mode: '0640'", mode: '0755' mode: '0666',11,2
openstack%2Ftripleo-heat-templates~master~I60674e24df98ac06f25b6d87d6c12008b5f5efca,openstack/tripleo-heat-templates,master,I60674e24df98ac06f25b6d87d6c12008b5f5efca,Cinder: Offload cron job to host crond,ABANDONED,2022-10-21 07:51:36.000000000,2023-01-10 14:36:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-21 07:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c03cd475d69c376fd7b64d543f9fa5eef8876448', 'message': 'Cinder: Offload cron job to host crond\n\nThis is the first step to migrate cron jobs from crond containers to\nhost crond, and runs the periodic db purge job for cinder by ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: I60674e24df98ac06f25b6d87d6c12008b5f5efca\n'}, {'number': 2, 'created': '2022-11-10 11:41:04.000000000', 'files': ['deployment/cinder/cinder-base.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/418d333da085a4ff1b3b128a05efc2582c9022ac', 'message': 'Cinder: Offload cron job to host crond\n\nThis is the first step to migrate cron jobs from crond containers to\nhost crond, and runs the periodic db purge job for cinder by ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: I60674e24df98ac06f25b6d87d6c12008b5f5efca\n'}]",0,862254,418d333da085a4ff1b3b128a05efc2582c9022ac,7,2,2,9816,,,0,"Cinder: Offload cron job to host crond

This is the first step to migrate cron jobs from crond containers to
host crond, and runs the periodic db purge job for cinder by ansible.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928
Depends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771
Change-Id: I60674e24df98ac06f25b6d87d6c12008b5f5efca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/862254/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-base.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml']",2,c03cd475d69c376fd7b64d543f9fa5eef8876448,," CinderCronDbPurgeMinute: type: string description: > Cron to purge db entries marked as deleted and older than $age - Minute default: '1' CinderCronDbPurgeHour: type: string description: > Cron to purge db entries marked as deleted and older than $age - Hour default: '0' CinderCronDbPurgeMonthday: type: string description: > Cron to purge db entries marked as deleted and older than $age - Month Day default: '*' CinderCronDbPurgeMonth: type: string description: > Cron to purge db entries marked as deleted and older than $age - Month default: '*' CinderCronDbPurgeWeekday: type: string description: > Cron to purge db entries marked as deleted and older than $age - Week Day default: '*' CinderCronDbPurgeUser: type: string description: > Cron to purge db entries marked as deleted and older than $age - User default: 'cinder' CinderCronDbPurgeAge: type: string description: > Cron to purge db entries marked as deleted and older than $age - Age default: '30' CinderCronDbPurgeMaxDelay: type: string description: > Cron to purge db entries marked as deleted and older than $age - Max Delay default: '3600' /var/lib/kolla/config_files/cinder_db_purge.json: command: list_join: - ' ' - - 'cinder-manage db purge' - {get_param: CinderCronDbPurgeAge} map_merge: - cinder_api: image: *cinder_api_image net: host privileged: false restart: always # NOTE(mandre) kolla image changes the user to 'cinder', we need it # to be root to run httpd user: root healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [CinderCommon, cinder_common_volumes]} - - /var/lib/kolla/config_files/cinder_api.json:/var/lib/kolla/config_files/config.json:ro - /var/log/containers/httpd/cinder-api:/var/log/httpd:z - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - if: - {get_param: CinderEnableDBPurge} - cinder_db_purge: image: *cinder_api_image net: host privileged: false cron: true cron_minute: {get_param: CinderCronDbPurgeMinute} cron_hour: {get_param: CinderCronDbPurgeHour} cron_day: {get_param: CinderCronDbPurgeMonthday} cron_month: {get_param: CinderCronDbPurgeMonth} cron_weekday: {get_param: CinderCronDbPurgeWeekday} volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/cinder_db_purge.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro - /var/log/containers/cinder:/var/log/cinder:z environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS"," tripleo::profile::base::cinder::cinder_enable_db_purge: {get_param: CinderEnableDBPurge} /var/lib/kolla/config_files/cinder_api_cron.json: command: /usr/sbin/crond -n cinder_api: image: *cinder_api_image net: host privileged: false restart: always # NOTE(mandre) kolla image changes the user to 'cinder', we need it # to be root to run httpd user: root healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [CinderCommon, cinder_common_volumes]} - - /var/lib/kolla/config_files/cinder_api.json:/var/lib/kolla/config_files/config.json:ro - /var/log/containers/httpd/cinder-api:/var/log/httpd:z - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS cinder_api_cron: image: *cinder_api_image net: host user: root privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron cinder' volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/cinder_api_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro - /var/log/containers/cinder:/var/log/cinder:z - /var/log/containers/httpd/cinder-api:/var/log/httpd:z environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS",89,87
openstack%2Ftripleo-ansible~master~Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8,openstack/tripleo-ansible,master,Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8,Add limit to container_config data,ABANDONED,2022-09-14 08:48:10.000000000,2023-01-10 14:33:42.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-14 08:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1b2caff002fa1288244c038c922f54889df7857', 'message': 'WIP: Add limit capability\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}, {'number': 2, 'created': '2022-09-14 08:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d6ed0da2b71b936009fb422bbcc3a6b3834db61', 'message': 'WIP: Add limit capability\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}, {'number': 3, 'created': '2022-09-14 09:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c8df615f87cf49f330042b74a6c0cc0d5bd2b59', 'message': 'WIP: Add limit capability\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}, {'number': 4, 'created': '2022-09-14 09:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eff1d1af3f5ebb293b582db98981fabe84e56cd2', 'message': 'Add limit to container_config data\n\nThis change introduces the capability to run a container on a specific\nnode. This is useful to run some tasks like creating database schema\nwhich should be executed only in one node of the cluster.\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}, {'number': 5, 'created': '2022-09-14 13:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32d1179e1f6e0c29fa5a1fe07a7a9eacf3ec2a20', 'message': 'Add limit to container_config data\n\nThis change introduces the capability to run a container on a specific\nnode. This is useful to run some tasks like creating database schema\nwhich should be executed only in one node of the cluster.\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}, {'number': 6, 'created': '2022-10-13 08:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51f224fdd48974a955969ff0184fce042e78fb8f', 'message': 'Add limit to container_config data\n\nThis change introduces the capability to run a container on a specific\nnode. This is useful to run some tasks like creating database schema\nwhich should be executed only in the boostrap node of the cluster.\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}, {'number': 7, 'created': '2022-12-01 01:22:50.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_db_sync.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcc523ff4794be08da4f974f511088a989257cd8', 'message': 'Add limit to container_config data\n\nThis change introduces the capability to run a container on a specific\nnode. This is useful to run some tasks like creating database schema\nwhich should be executed only in the boostrap node of the cluster.\n\nChange-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8\n'}]",10,857593,bcc523ff4794be08da4f974f511088a989257cd8,27,3,7,9816,,,0,"Add limit to container_config data

This change introduces the capability to run a container on a specific
node. This is useful to run some tasks like creating database schema
which should be executed only in the boostrap node of the cluster.

Change-Id: Ib3ebc2cb83ef4c26feb33c0caa56eca2669885b8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/857593/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_config_data.py'],1,d1b2caff002fa1288244c038c922f54889df7857,bootstrap-ansible,"import socket if ('limit' not in config) or (config['limit'] == socket.gethostname().split('.', 1)[0]): config_dict.update({name: config})", config_dict.update({name: config}),4,1
openstack%2Ftripleo-heat-templates~master~Ie93d335ea69deb609ec3a15e227da016eabee3ed,openstack/tripleo-heat-templates,master,Ie93d335ea69deb609ec3a15e227da016eabee3ed,Re-implement bootstrap node detection by ansible variable,ABANDONED,2022-09-15 02:52:00.000000000,2023-01-10 14:33:33.000000000,,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-09-15 02:52:00.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'container_config_scripts/pacemaker_restart_bundle.sh', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e330ccb26ab120dd0473ffdc05a687735219d8b5', 'message': 'Re-implement bootstrap node detection by ansible variable\n\nCurrently hieradata is used to detect the bootstrap node to restart\npacemaker resources but this is redundant because boostrap nodes can be\nfound from ansible variables. In addition hiera CLI is deprecated and\ndoes not work with the latest hieradata version 5 which no longer allow\ndirect hieradata access.\n\nThis change replaces the hiera CLI by the logic based on the boostrap\nnode name variables.\n\nChange-Id: Ie93d335ea69deb609ec3a15e227da016eabee3ed\n'}]",2,857801,e330ccb26ab120dd0473ffdc05a687735219d8b5,8,6,1,9816,,,0,"Re-implement bootstrap node detection by ansible variable

Currently hieradata is used to detect the bootstrap node to restart
pacemaker resources but this is redundant because boostrap nodes can be
found from ansible variables. In addition hiera CLI is deprecated and
does not work with the latest hieradata version 5 which no longer allow
direct hieradata access.

This change replaces the hiera CLI by the logic based on the boostrap
node name variables.

Change-Id: Ie93d335ea69deb609ec3a15e227da016eabee3ed
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/857801/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'container_config_scripts/pacemaker_restart_bundle.sh', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",11,e330ccb26ab120dd0473ffdc05a687735219d8b5,bootstrap-ansible," - - name: set is_rpc_rabbitmq_bootstrap_node fact when: step|int == 1 set_fact: &is_rpc_rabbitmq_bootstrap_node is_rpc_rabbitmq_bootstrap_node: ""{{oslo_messaging_rpc_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}}"" - name: RabbitMQ tag container image for pacemaker when: - step|int == 2 - is_rpc_rabbitmq_bootstrap_node|bool set_fact: *is_rpc_rabbitmq_bootstrap_node", - - name: RabbitMQ tag container image for pacemaker when: step|int == 2 set_fact: is_rpc_rabbitmq_bootstrap_node={{oslo_messaging_rpc_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}},103,57
openstack%2Ftripleo-heat-templates~master~Iedcebfa8100bf498d92759f7853ca3f12a9b0844,openstack/tripleo-heat-templates,master,Iedcebfa8100bf498d92759f7853ca3f12a9b0844,Use ansible variable to detect bootstrap node,ABANDONED,2022-09-14 13:58:29.000000000,2023-01-10 14:33:10.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-14 13:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc27c0d826e51f8b304c3d7ea1d86ebdab513dca', 'message': 'wip: Get rid of boostrap_host_exec\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 2, 'created': '2022-09-14 16:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/104b016180d193640aff9d81af67e87216356811', 'message': 'wip: Get rid of boostrap_host_exec\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 3, 'created': '2022-09-15 01:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c377c24c8837eb94aaea29c230bbc6991929355c', 'message': 'wip: Get rid of boostrap_host_exec\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 4, 'created': '2022-09-15 06:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/226269160c6cc85f8e43a72feb65b281a51e5d6f', 'message': 'wip: Get rid of boostrap_host_exec\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 5, 'created': '2022-09-15 10:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46430fd6ddb5fb4281a9083e8aaa26692d74874c', 'message': 'wip: Get rid of boostrap_host_exec\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 6, 'created': '2022-09-15 12:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/210ff341915a299e19c9b9dd8f16a8476abe8ae6', 'message': 'wip: Get rid of boostrap_host_exec\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 7, 'created': '2022-09-15 16:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/392f17f32b6e6f22880a6279bc899b7274161e3e', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 8, 'created': '2022-09-16 06:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a1cd3fa0dd72286a785c8d086e6af99c133f75a', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 9, 'created': '2022-09-16 07:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84d9f507c693ea3279fa166038a8514bd0f0dd85', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 10, 'created': '2022-09-20 00:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b5b6ac892cbbfcf0fcb2a94c9d1a3bfbeb5ebb5', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 11, 'created': '2022-09-20 01:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7260fe030f50b8b9f6b473ac68127fc3083fc7dc', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 12, 'created': '2022-09-20 06:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08f28ddc4f1b4660d79716133a93147d98ab3542', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 13, 'created': '2022-09-20 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d3d4c63fa62bd09b44eb75498c22d2a43de4b1a', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 14, 'created': '2022-09-21 02:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80ca688c7d521ad54b757bf89b9979ef69572050', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 15, 'created': '2022-09-21 08:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c697c87455abcd04771022273a6c617911cee32', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 16, 'created': '2022-09-22 01:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e39672273490ff8eea217544cf81619f8d900af', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 17, 'created': '2022-09-22 05:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac0803dbf5d1304bf9878b2ecf6bda650df0cc6c', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 18, 'created': '2022-09-22 09:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07ebb165f52ea178ed2e4777a6cabe290e9a0689', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 19, 'created': '2022-10-13 08:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/140ba3203e9b190680008ddd2a3eae004f659d94', 'message': 'Use ansible variable to detect boostrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 20, 'created': '2022-10-17 07:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af73169157e2a2319fd33409cd4044265e211755', 'message': 'Use ansible variable to detect bootstrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 21, 'created': '2022-10-20 14:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb39c97b62e4047420f2cfe9761c3db7fea08921', 'message': 'Use ansible variable to detect bootstrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 22, 'created': '2022-11-14 04:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3138bb0d6468f56b1665573d960d758e3d2d9cc8', 'message': 'Use ansible variable to detect bootstrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 23, 'created': '2022-12-01 01:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8653b34dfb6b7227810fb1c463b09128324cdbc0', 'message': 'Use ansible variable to detect bootstrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}, {'number': 24, 'created': '2022-12-02 05:06:53.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'tools/yaml-validate.py', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fdc0b151c5362027129bc5232844f6d34400164', 'message': 'Use ansible variable to detect bootstrap node\n\n... instead of looking up hieradata by the deprecated hiera CLI.\n\nThis also allows us to avoid usage of the root user which was required\nto read hieradata previously.\n\nDepends-on: https://review.opendev.org/857593\nDepends-on: https://review.opendev.org/858854\nChange-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844\n'}]",28,857714,2fdc0b151c5362027129bc5232844f6d34400164,82,5,24,9816,,,0,"Use ansible variable to detect bootstrap node

... instead of looking up hieradata by the deprecated hiera CLI.

This also allows us to avoid usage of the root user which was required
to read hieradata previously.

Depends-on: https://review.opendev.org/857593
Depends-on: https://review.opendev.org/858854
Change-Id: Iedcebfa8100bf498d92759f7853ca3f12a9b0844
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/857714/18 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'tools/yaml-validate.py', 'deployment/aodh/aodh-api-container-puppet.yaml']",20,bc27c0d826e51f8b304c3d7ea1d86ebdab513dca,bootstrap-ansible," command: ""/usr/bin/aodh-dbsync"" limit: '{{ aodh_api_short_bootstrap_node_name }}'"," command: ""/usr/bin/bootstrap_host_exec aodh_api su aodh -s /bin/bash -c /usr/bin/aodh-dbsync"" user: root",65,86
openstack%2Ftripleo-common~master~Id73bec38825e6855e4b950a929c97491e28b6fb4,openstack/tripleo-common,master,Id73bec38825e6855e4b950a929c97491e28b6fb4,wip: Remove unused bootstrap_host_* scripts,ABANDONED,2022-09-14 16:18:13.000000000,2023-01-10 14:33:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-14 16:18:13.000000000', 'files': ['scripts/bootstrap_host_only_eval', 'scripts/bootstrap_host_only_exec', 'setup.cfg', 'scripts/bootstrap_host_exec'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f3936fd60346e73a0bad71d55e836b0fe4b1f2d', 'message': 'wip: Remove unused bootstrap_host_* scripts\n\nDepends-on: https://review.opendev.org/857714\nChange-Id: Id73bec38825e6855e4b950a929c97491e28b6fb4\n'}]",0,857737,9f3936fd60346e73a0bad71d55e836b0fe4b1f2d,4,2,1,9816,,,0,"wip: Remove unused bootstrap_host_* scripts

Depends-on: https://review.opendev.org/857714
Change-Id: Id73bec38825e6855e4b950a929c97491e28b6fb4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/857737/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap_host_only_eval', 'scripts/bootstrap_host_only_exec', 'setup.cfg', 'scripts/bootstrap_host_exec']",4,9f3936fd60346e73a0bad71d55e836b0fe4b1f2d,bootstrap-ansible,,"#!/bin/bash set -e SERVICE_NAME=$1 if [ -z ""$SERVICE_NAME"" ]; then echo ""Please supply a valid service name."" exit 1 fi shift if [ -z ""$*"" ]; then echo ""Please supply a valid 'command' to run as an argument."" exit 1 fi HOSTNAME=$(/bin/hostname -s) SERVICE_NODEID=$(/bin/hiera -c /etc/puppet/hiera.yaml ""${SERVICE_NAME}_short_bootstrap_node_name"") if [[ ""${HOSTNAME,,}"" == ""${SERVICE_NODEID,,}"" ]]; then eval $* else echo ""Skipping execution since this is not the bootstrap node for this service."" fi ",0,60
openstack%2Ftripleo-ansible~master~Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041,openstack/tripleo-ansible,master,Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041,Offload cron job to host crond,ABANDONED,2022-09-22 13:21:46.000000000,2023-01-10 14:32:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-22 13:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3c67fc9e41faa856330aa9d1764126b7523586b', 'message': 'WIP: Offload cron job to host crond\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 2, 'created': '2022-09-22 13:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c522012b3c73f1c99b065345161b335e601228b0', 'message': 'WIP: Offload cron job to host crond\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 3, 'created': '2022-09-22 13:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/075fca286e84d840df9b143cd5f338152692cd41', 'message': 'WIP: Offload cron job to host crond\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 4, 'created': '2022-09-26 02:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b742beb9e6fed8ca6ae49079328ca929d97ecd59', 'message': 'WIP: Offload cron job to host crond\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 5, 'created': '2022-09-26 03:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/159991b67654c8c6f757e79371b6ed04564e9eb3', 'message': 'WIP: Offload cron job to host crond\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 6, 'created': '2022-09-26 04:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9049b39ca635de7345e6add760bb53ed490e3bbb', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services. This allows us to reduce configurations\nmanaged by puppet, and ultimately helps us native cron mechanism when\nmigrating controller services to container platform such as k8s.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 7, 'created': '2022-09-26 04:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84b8afc6610749850aea4dbfc79694981943be77', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services. This allows us to reduce configurations\nmanaged by puppet, and ultimately helps us native cron mechanism when\nmigrating controller services to container platform such as k8s.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 8, 'created': '2022-09-26 07:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0375c14ae95dd327ee6424713b97f70ee8c351e1', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services. This allows us to reduce configurations\nmanaged by puppet, and ultimately helps us native cron mechanism when\nmigrating controller services to container platform such as k8s.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 9, 'created': '2022-09-26 07:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/533661d6c569257cf7fa4b4a610ab13a98fc5479', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 10, 'created': '2022-09-26 12:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fab2e38babf5ca8637ec317d4d9c7d39e95aa47b', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 11, 'created': '2022-09-27 02:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be058d98e46a103a315041b22938035c7dab4d72', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 12, 'created': '2022-09-27 06:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ccea903e42ffb42df899918e7e063b2921be005b', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 13, 'created': '2022-09-28 03:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34b3d3f98f70b1d503428b440f69e3caa2f8f687', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 14, 'created': '2022-09-28 06:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4874b67c59e5dfd50c07f79bdfe6f4fd918fbe21', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 15, 'created': '2022-09-28 07:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8f76b2a4c9d56cc0cfbcaff2a470575c61157db', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 16, 'created': '2022-09-28 08:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0af0ba4132cc82c135d6a75bec03397db6588f07', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 17, 'created': '2022-10-12 03:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35e2b10a479b33c25672b8ed907b66ee4a6cff30', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 18, 'created': '2022-10-21 07:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52caafc8a733a1dbd47320b5b1c30f14abe47f52', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}, {'number': 19, 'created': '2022-11-10 11:39:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_podman_container_rm.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7301a5ad43f9dd3515d9c03aec16b5c126a41d96', 'message': 'Offload cron job to host crond\n\nThis change introduces the capability to run periodic tasks using\nthe crond service on host, instead of launching the containers to run\nmultiple crond services.\n\nThis brings us the following benefits.\n - reduces configurations managed by puppet\n - reduces usage of the root user in containerized services\n - Allows us to port the jobs to native cron mechanism of container\n   platform such as Kubernetes.\n\nChange-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041\n'}]",4,858928,7301a5ad43f9dd3515d9c03aec16b5c126a41d96,48,3,19,9816,,,0,"Offload cron job to host crond

This change introduces the capability to run periodic tasks using
the crond service on host, instead of launching the containers to run
multiple crond services.

This brings us the following benefits.
 - reduces configurations managed by puppet
 - reduces usage of the root user in containerized services
 - Allows us to port the jobs to native cron mechanism of container
   platform such as Kubernetes.

Change-Id: Id389bd5dbef8b1f7020fb3f04ba0c49373bdb041
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/858928/16 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml'],1,a3c67fc9e41faa856330aa9d1764126b7523586b,tripleo-host-cron," - name: ""Create cronjob entries for {{ tripleo_container_manage_config }}"" become: true ansible.builtin.cron: name: ""tripleo_{{ item.name }}"" user: root job: ""podman start tripleo_{{item.name }}"" minute: ""{{ item.cron_minute }}"" hour: ""{{ item.cron_hour }}"" day: ""{{ item.cron_day }}"" month: ""{{ item.cron_month }}"" weekday: ""{{ item.cron_weekday }}"" with_items: ""{{ all_containers_hash | dict_to_list | haskey(attribute='cron', value=[True], any=True) | default([]) }} when: - tripleo_container_manage_cli == 'podman' - (container_config|length) > 0",,16,0
openstack%2Ftripleo-heat-templates~master~Id4466c7149ba724604d17ab951d38510dc68711d,openstack/tripleo-heat-templates,master,Id4466c7149ba724604d17ab951d38510dc68711d,Heat: Offload cron job to host crond,ABANDONED,2022-09-22 13:30:16.000000000,2023-01-10 14:32:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-22 13:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dc5634cbeab5ac28345f32b78a53e05996943ba', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 2, 'created': '2022-09-26 02:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fa1ef09b61d2dbf1e0facb3d6571de552eac6ff', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 3, 'created': '2022-09-26 04:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61bdd601db7325aed8b74f02e1298cabe075f3bc', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 4, 'created': '2022-09-26 07:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f06dd6a216e23236a043060554e1800df08100c8', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 5, 'created': '2022-09-27 00:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/413d1e9f8befca1d39fe7c9dff3d048217feac02', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 6, 'created': '2022-09-28 06:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5246ec38c5fa12070b717173d01536d4d70df2fc', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 7, 'created': '2022-09-29 00:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/168585d3b38013427aad90480afc8798aee26373', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 8, 'created': '2022-09-29 06:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dff48738422fe6f9ae471250f1a8e88ec8b9eee', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 9, 'created': '2022-09-29 06:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69d85ce319148fc328b8ab304ac7bbd76c2c0583', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 10, 'created': '2022-10-05 02:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2515300013bfd65b9f743eed3cd8a0453dd284f', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 11, 'created': '2022-10-21 07:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a20a5a6678b2faccb21364738720a9df338257e', 'message': 'WIP: Offload cron job to host crond\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}, {'number': 12, 'created': '2022-10-21 07:33:33.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c13a638ebedb9d3b12d6b0342f5e3ad5d7658f81', 'message': 'Heat: Offload cron job to host crond\n\nThis is the first step to migrate cron jobs from crond containers to\nhost crond, and runs the periodic db purge job for heat by ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771\nChange-Id: Id4466c7149ba724604d17ab951d38510dc68711d\n'}]",6,858929,c13a638ebedb9d3b12d6b0342f5e3ad5d7658f81,52,2,12,9816,,,0,"Heat: Offload cron job to host crond

This is the first step to migrate cron jobs from crond containers to
host crond, and runs the periodic db purge job for heat by ansible.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/858928
Depends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/859771
Change-Id: Id4466c7149ba724604d17ab951d38510dc68711d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/858929/12 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-api-container-puppet.yaml'],1,6dc5634cbeab5ac28345f32b78a53e05996943ba,tripleo-host-cron, cron: true, restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron heat',1,3
openstack%2Ftripleo-ci~master~Ie6e2443e774a599844260f7444ac2907f03104fc,openstack/tripleo-ci,master,Ie6e2443e774a599844260f7444ac2907f03104fc,Collect configuration files for host crond service,ABANDONED,2022-09-29 06:22:06.000000000,2023-01-10 14:32:16.000000000,,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-29 06:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b3f3171d2086aa882763d6652d670c52e9fb1ca', 'message': 'Collect configuration files for host crond service\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}, {'number': 2, 'created': '2022-10-05 02:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1645e68a3435c447d4b91f4447023977ffc998b8', 'message': 'Collect configuration files for host crond service\n\nTripleO manages a few config files for host crond service such as one\nto purge unmanaged log files by tmpwatch.\n\nThis change adds the config files for host crond service so that we can\nreview the files generated in CI.\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}, {'number': 3, 'created': '2022-10-11 03:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6abbe92bcab406e5db03573bebbc65948782edf3', 'message': 'Collect configuration files for host crond service\n\nTripleO manages a few config files for host crond service such as one\nto purge unmanaged log files by tmpwatch.\n\nThis change adds the config files for host crond service so that we can\nreview the files generated in CI.\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}, {'number': 4, 'created': '2022-10-11 07:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8e5d4df567c75fac9e92ec6c9c00c477e2dc68d', 'message': 'Collect configuration files for host crond service\n\nTripleO manages a few config files for host crond service such as one\nto purge unmanaged log files by tmpwatch.\n\nThis change adds the config files for host crond service so that we can\nreview the files generated in CI. Note that this does not cover all\nfiles but only the following two locations actually used.\n /etc/cron.daily: tmpwatch\n /etc/cron.d    : jobs offloaded from separate crond containers\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}, {'number': 5, 'created': '2022-10-12 03:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aaf1e097ea0d7611d3b16e3ea29281b7fad9dafc', 'message': 'Collect configuration files for host crond service\n\nTripleO manages a few config files for host crond service such as one\nto purge unmanaged log files by tmpwatch.\n\nThis change adds the config files for host crond service so that we can\nreview the files generated in CI. Note that this does not cover all\nfiles but only the following two locations actually used.\n /var/spool/cron: tmpwatch\n /etc/cron.d    : jobs offloaded from separate crond containers\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}, {'number': 6, 'created': '2022-10-12 03:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/672e800d7d4dc6bff325f8a4f733426656e4db61', 'message': 'Collect configuration files for host crond service\n\nTripleO manages a few config files for host crond service such as one\nto purge unmanaged log files by tmpwatch.\n\nThis change adds the config files for host crond service so that we can\nreview the files generated in CI. Note that this does not cover all\nfiles but only a few locations actually used.\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}, {'number': 7, 'created': '2022-10-12 03:17:20.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3db86c2aa3209140fc3e91c213f9af75512b9ed3', 'message': 'Collect configuration files for host crond service\n\nTripleO manages a few config files for host crond service such as one\nto purge unmanaged log files by tmpwatch.\n\nThis change adds the config files for host crond service so that we can\nreview the files generated in CI. Note that this does not cover all\nfiles but only a few locations which are/can be actually used.\n\nChange-Id: Ie6e2443e774a599844260f7444ac2907f03104fc\n'}]",6,859771,3db86c2aa3209140fc3e91c213f9af75512b9ed3,26,5,7,9816,,,0,"Collect configuration files for host crond service

TripleO manages a few config files for host crond service such as one
to purge unmanaged log files by tmpwatch.

This change adds the config files for host crond service so that we can
review the files generated in CI. Note that this does not cover all
files but only a few locations which are/can be actually used.

Change-Id: Ie6e2443e774a599844260f7444ac2907f03104fc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/71/859771/6 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,7b3f3171d2086aa882763d6652d670c52e9fb1ca,tripleo-host-cron, - /etc/cron* - /var/spool/cron,,2,0
openstack%2Fpuppet-tripleo~master~Icda5ba5a7279d8a0c3addfd7709ffac30450f6ae,openstack/puppet-tripleo,master,Icda5ba5a7279d8a0c3addfd7709ffac30450f6ae,Remove implementation for rsyslog sidecar,ABANDONED,2022-06-15 00:26:18.000000000,2023-01-10 14:30:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-15 00:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d8dbfd0cee5aa756c1d82738b283781987c11ee5', 'message': 'Remove implementation for rsyslog sidecar\n\n... because the service was removed.\n\nDepends-on: https://review.opendev.org/845861\nChange-Id: Icda5ba5a7279d8a0c3addfd7709ffac30450f6ae\n'}, {'number': 2, 'created': '2022-08-06 15:46:17.000000000', 'files': ['templates/rsyslog_sidecar/rsyslog.conf.erb', 'manifests/profile/base/rsyslog/sidecar.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1bb829734533f8fea8f3b16bca983df82dc3e77f', 'message': 'Remove implementation for rsyslog sidecar\n\n... because the service was removed.\n\nDepends-on: https://review.opendev.org/845861\nChange-Id: Icda5ba5a7279d8a0c3addfd7709ffac30450f6ae\n'}]",0,845863,1bb829734533f8fea8f3b16bca983df82dc3e77f,7,2,2,9816,,,0,"Remove implementation for rsyslog sidecar

... because the service was removed.

Depends-on: https://review.opendev.org/845861
Change-Id: Icda5ba5a7279d8a0c3addfd7709ffac30450f6ae
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/845863/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rsyslog_sidecar/rsyslog.conf.erb', 'manifests/profile/base/rsyslog/sidecar.pp']",2,d8dbfd0cee5aa756c1d82738b283781987c11ee5,remove-logging,,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::rsyslog::sidecar # # Configure the rsyslog sidecar container configuration. # # === Parameters # # [*socket_path*] # (Optional) Path to the socket that rsyslog with read from. # Defaults to '/sockets/log' # class tripleo::profile::base::rsyslog::sidecar ( $socket_path = '/sockets/log' ) { file { '/etc/rsyslog.conf': ensure => file, content => template('tripleo/rsyslog_sidecar/rsyslog.conf.erb'), owner => 'root', group => 'root', mode => '0440', } } ",0,43
openstack%2Ftripleo-common~master~I515ec608a061e32d66ad8bfe7c54bfbcfee38e59,openstack/tripleo-common,master,I515ec608a061e32d66ad8bfe7c54bfbcfee38e59,Remove reference to rsyslog sidecar service,ABANDONED,2022-06-15 00:27:48.000000000,2023-01-10 14:30:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-15 00:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2a0dda8fa1d19114c902ae918a158a028b576702', 'message': 'Remove reference to rsyslog sidecar service\n\n... because the service was removed.\n\nDepends-on: https://review.opendev.org/845861\nChange-Id: I515ec608a061e32d66ad8bfe7c54bfbcfee38e59\n'}, {'number': 2, 'created': '2022-06-15 00:30:39.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b28090eba628c8045aafb423ce519ab5d8904bc5', 'message': 'Remove reference to rsyslog sidecar service\n\n... because the service was removed.\n\nDepends-on: https://review.opendev.org/845861\nChange-Id: I515ec608a061e32d66ad8bfe7c54bfbcfee38e59\n'}]",0,845864,b28090eba628c8045aafb423ce519ab5d8904bc5,5,2,2,9816,,,0,"Remove reference to rsyslog sidecar service

... because the service was removed.

Depends-on: https://review.opendev.org/845861
Change-Id: I515ec608a061e32d66ad8bfe7c54bfbcfee38e59
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/845864/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,2a0dda8fa1d19114c902ae918a158a028b576702,remove-logging,, - ContainerRsyslogSidecarImage - ContainerRsyslogSidecarConfigImage,0,2
openstack%2Ftripleo-heat-templates~master~I5e48e24e03e85ea1eab1d6a796912d248f7a0120,openstack/tripleo-heat-templates,master,I5e48e24e03e85ea1eab1d6a796912d248f7a0120,Remove stdout logging support (9): Rsyslog sidecar,ABANDONED,2022-06-15 00:22:56.000000000,2023-01-10 14:29:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-15 00:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9b72aa589733ea8cd7e67067dce5255ff5f68c1', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 2, 'created': '2022-06-15 01:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd29f11423447bf69198bb56f94717cb56b5d5db', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 3, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e3628e45a6e7d39b0ff54485143fa2748e39236', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 4, 'created': '2022-06-15 12:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45858db3a2baba565dc631bd325bf6301f5a47b1', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 5, 'created': '2022-06-15 12:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9861e57a88a10fbd40b4ef2068646fdc4b3c907c', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 6, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac07ca96ec50867589ae231b3855f84207a11093', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 7, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d242c498a829fcffe5abec06c1409a9622be2b4d', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 8, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3f95e7f4c54c90f1a120ba42d4a30a0abb7f8fb', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 9, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ed1d24d26f90468df813904ad6f6673e03fa0ec', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 10, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73c610d62d762195ced335e0fed4c1f67b492e6a', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 11, 'created': '2022-08-06 15:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55e0c71473bcd66674e84dbc2868448e97e47a2c', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 12, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d155573d900b217beab60b1266e1438019b4fe7', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 13, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/251e92028fd56a3cbe373f3fd395db0c80478481', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 14, 'created': '2022-08-07 23:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3d6f54c1da2b6aa8aeb8fd9ffc01c225e5f9a0c', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 15, 'created': '2022-08-08 06:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d98b7c1278c9f4a5c967df3e0e19249733cae90f', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 16, 'created': '2022-08-08 08:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf875721fea25f875dc46c2e6e00755e34b7b8f9', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 17, 'created': '2022-08-09 01:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3da4f681f8eff8c653b643b9030dc820161de0b6', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 18, 'created': '2022-08-12 11:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b08c473f33a175d32aba311b0ce380a69e71a2f5', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 19, 'created': '2022-08-16 09:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2516458c00294e37174f5cde3c3e881f75ed4043', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 20, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a090af199a35b267086e15ca8b350908415ab51', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 21, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/668d18c44d6daafc9c526107644d300050fb9942', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}, {'number': 22, 'created': '2022-10-13 05:49:09.000000000', 'files': ['roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'releasenotes/notes/remove-stdout-logging-and-rsyslog-sidecar-a1688ab9458ecc4d.yaml', 'roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeVdpa.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/DesignateBind.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'environments/stdout-logging.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'roles/CephAll.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Telemetry.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'ci/custom_ci_roles_data.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c5265cf526189e8b1ba2e67de1a4eaaf963b2a8', 'message': 'Remove stdout logging support (9): Rsyslog sidecar\n\nThis is the last step to remove the stdout logging support and usage\nof rsyslog sidecar. This feature does not cover all services and can be\nreplaced by what has been implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120\n'}]",2,845861,5c5265cf526189e8b1ba2e67de1a4eaaf963b2a8,60,2,22,9816,,,0,"Remove stdout logging support (9): Rsyslog sidecar

This is the last step to remove the stdout logging support and usage
of rsyslog sidecar. This feature does not cover all services and can be
replaced by what has been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: I5e48e24e03e85ea1eab1d6a796912d248f7a0120
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/845861/10 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-stdout-logging-and-rsyslog-sidecar-a1688ab9458ecc4d.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/stdout-logging.yaml']",4,b9b72aa589733ea8cd7e67067dce5255ff5f68c1,remove-logging,,resource_registry: OS::TripleO::Services::RsyslogSidecar: ../deployment/logging/rsyslog-sidecar-container-puppet.yaml ,23,80
openstack%2Ftripleo-heat-templates~master~I9db5c179830b93751469888981f0398557a7e5f7,openstack/tripleo-heat-templates,master,I9db5c179830b93751469888981f0398557a7e5f7,Remove stdout logging support (8): Nova,ABANDONED,2022-06-14 23:41:26.000000000,2023-01-10 14:29:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 23:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2e9e51e6228a334f63bce75ba4564bd56181a2a', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 2, 'created': '2022-06-15 00:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa5329d01c5b379e5bdd3bdcaea9c1ac9aba1c11', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 3, 'created': '2022-06-15 01:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16b57cbfe1fc40ef8560cf79cd650b5044a09b63', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 4, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11a44a93420a0cfd28f4bc5cf3593ef75eda8bd4', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 5, 'created': '2022-06-15 12:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/405f7f24df8342c877d12d894aa19eb68a020599', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 6, 'created': '2022-06-15 12:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e87171bed9f1fa2ffdfd503abdb69868950543a5', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 7, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e152382e6b62db881a11ef8acf0cb294e7f1927', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 8, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b640fc1de0beb98f877d7672fef6b5ce0e18ee3b', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 9, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5075991dad73c69a339f0ed1d33da33a65470936', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 10, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b49c16f0357b4d0bddadb8c636b08098705f9526', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 11, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e9cb39ac70ea76607477f1724c94bf625714188', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 12, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85f0133da19206bbfbc5481a0cb636b6e98a1d72', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 13, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f444ef1a34c1015a7a7fd65773bf336c4559c2c7', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 14, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05c355eb3271f08397efe560517d787d8d676926', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 15, 'created': '2022-08-07 23:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08b11660a5b1f6fe76b40e577e40e0790ce6ab26', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 16, 'created': '2022-08-08 05:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e36498155828274ffe3909381761181e06dfaa80', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 17, 'created': '2022-08-08 08:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5772b60716c3d8d75cd8d0f45af272982287d546', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 18, 'created': '2022-08-09 01:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7c2e5b416ef295d7211fc7b1fa169eec69bc815', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nThis change also removes a few *_init_logs containers. The containers\nare required to chown directories before db sync operations but are not\nrequired if db sync is not associated with the service.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 19, 'created': '2022-08-09 01:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a19053b7a8d52cb7c07a3ce12da076554ddfa551', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nThis change also removes a few *_init_logs containers. The containers\nare required to chown directories before db sync operations but are not\nrequired if db sync is not associated with the service.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 20, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b870173adbb1f6a63b369e3ef68569b2cdd943d', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nThis change also removes a few *_init_logs containers. The containers\nare required to chown directories before db sync operations but are not\nrequired if db sync is not associated with the service.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 21, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/766da76cc7a8b9be65987a07ed87005b5f83a3af', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nThis change also removes a few *_init_logs containers. The containers\nare required to chown directories before db sync operations but are not\nrequired if db sync is not associated with the service.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 22, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9ca73d584461e8b348746c34edbfb48066b87ba', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nThis change also removes a few *_init_logs containers. The containers\nare required to chown directories before db sync operations but are not\nrequired if db sync is not associated with the service.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}, {'number': 23, 'created': '2022-10-13 05:49:09.000000000', 'files': ['deployment/logging/stdout/nova-common.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82c2fe7a13d49f6bd80c25542472eb63853b10ac', 'message': 'Remove stdout logging support (8): Nova\n\nThis removes the stdout logging support from Nova, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nThis change also removes a few *_init_logs containers. The containers\nare required to chown directories before db sync operations but are not\nrequired if db sync is not associated with the service.\n\nChange-Id: I9db5c179830b93751469888981f0398557a7e5f7\n'}]",2,845860,82c2fe7a13d49f6bd80c25542472eb63853b10ac,61,2,23,9816,,,0,"Remove stdout logging support (8): Nova

This removes the stdout logging support from Nova, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

This change also removes a few *_init_logs containers. The containers
are required to chown directories before db sync operations but are not
required if db sync is not associated with the service.

Change-Id: I9db5c179830b93751469888981f0398557a7e5f7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/845860/18 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/logging/stdout/nova-api.yaml']",3,c2e9e51e6228a334f63bce75ba4564bd56181a2a,remove-logging,,"heat_template_version: wallaby description: > Template for nova-api's logging to stdout parameters: RoleParameters: default: {} description: Parameters specific to the role type: json ContainerNovaApiImage: description: image type: string tags: - role_specific resources: RoleParametersValue: type: OS::Heat::Value properties: type: json value: map_replace: - map_replace: - ContainerNovaApiImage: ContainerNovaApiImage - values: {get_param: [RoleParameters]} - values: ContainerNovaApiImage: {get_param: ContainerNovaApiImage} outputs: config_settings: description: Extra hieradata needed to log to stdout. value: nova::wsgi::apache_api::access_log_file: /var/log/httpd/access.log nova::wsgi::apache_api::error_log_file: /var/log/httpd/error_log volumes: description: The volumes needed to log to stdout or a sidecar container. value: - NovaApiLogs:/var/log docker_config: description: Extra containers needed for logging to stdout or a sidecar container. value: step_2: nova_api_apache_error_logs: start_order: 1 image: {get_attr: [RoleParametersValue, value, ContainerNovaApiImage]} user: root privileged: false restart: always healthcheck: test: '[ -p /var/log/httpd/error_log ]' command: ['/bin/bash', '-c', 'mkdir -p /var/log/httpd && rm -f /var/log/httpd/error_log && mkfifo /var/log/httpd/error_log && while true; do cat /var/log/httpd/error_log; done'] volumes: - NovaApiLogs:/var/log nova_api_apache_access_logs: start_order: 1 image: {get_attr: [RoleParametersValue, value, ContainerNovaApiImage]} user: root privileged: false restart: always healthcheck: test: '[ -p /var/log/httpd/access.log ]' command: ['/bin/bash', '-c', 'mkdir -p /var/log/httpd && rm -f /var/log/httpd/access.log && mkfifo /var/log/httpd/access.log && while true; do cat /var/log/httpd/access.log; done'] volumes: - NovaApiLogs:/var/log nova_api_logs: start_order: 2 image: {get_attr: [RoleParametersValue, value, ContainerNovaApiImage]} user: nova privileged: false restart: always healthcheck: test: '[ -p /var/log/nova/nova-api.log ]' command: ['/bin/bash', '-c', 'mkdir -p /var/log/nova && rm -f /var/log/nova/nova-api.log && mkfifo /var/log/nova/nova-api.log && while true; do cat /var/log/nova/nova-api.log; done'] volumes: - NovaApiLogs:/var/log host_prep_tasks: description: Extra ansible tasks needed for logging to files in the host. value: null ",34,168
openstack%2Ftripleo-heat-templates~master~I6921db4415fbeb2e2e44e6f4301c83d22c26818d,openstack/tripleo-heat-templates,master,I6921db4415fbeb2e2e44e6f4301c83d22c26818d,Remove stdout logging support (7): Haproxy,ABANDONED,2022-06-14 23:33:16.000000000,2023-01-10 14:29:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 23:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d031589a61731f0f85a0cc7e13a450278a05f95a', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 2, 'created': '2022-06-14 23:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c70ee3a71fe005e48d8870fd012439846598e36f', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 3, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/582aabdf69b1bc389077948fff9eedfb9168b8e0', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 4, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f770143e4c143db16c49e502eebd8192fe5dafa2', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 5, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f36cec1ce5182a07530871a3690c7c8ca514ffa3', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 6, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d385b9516666f5cb9d5b66f525ddca02e1384ed', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 7, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0edb456a43df12fcf631758814f50f3e80037246', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 8, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/201f1dcde1c25464cab213988f1d7b2b66817878', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 9, 'created': '2022-08-06 15:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a94158a09624f5aef1338af2147ee6a77f82c1a', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 10, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32911f414eb3f4bf1a97343f802d201bc3affc12', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 11, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98cd82a42293e2d0672981aa8b21ae044b84c01a', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 12, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71f226a3c1b3a9457de2dc620fed9196bc55169e', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 13, 'created': '2022-08-07 23:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e76d83b3b4ba350ce46b8caf63dbffb053e7d597', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 14, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/142827394ef8ae4ccbd002ae3b933737392995ed', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 15, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/005889b6b0acd6ece87b7fcd4f9963837d0ea452', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 16, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa70d71055af813cd26415a9a3acd82a0f49c620', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}, {'number': 17, 'created': '2022-10-13 05:49:09.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/logging/files/haproxy.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fed0c2bbb8ede694ff499b1ee4b8d342341c82dd', 'message': 'Remove stdout logging support (7): Haproxy\n\nThis removes the stdout logging support from Haproxy, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d\n'}]",2,845858,fed0c2bbb8ede694ff499b1ee4b8d342341c82dd,46,2,17,9816,,,0,"Remove stdout logging support (7): Haproxy

This removes the stdout logging support from Haproxy, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: I6921db4415fbeb2e2e44e6f4301c83d22c26818d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/845858/17 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'environments/stdout-logging.yaml']",4,d031589a61731f0f85a0cc7e13a450278a05f95a,remove-logging,, OS::TripleO::Services::Logging::HAProxy: ../deployment/logging/stdout/haproxy.yaml,33,44
openstack%2Ftripleo-heat-templates~master~I74e236c169907892c3879c5e9cdaee4092912e43,openstack/tripleo-heat-templates,master,I74e236c169907892c3879c5e9cdaee4092912e43,Remove stdout logging support (6): Keystone,ABANDONED,2022-06-14 15:28:34.000000000,2023-01-10 14:29:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 15:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac8f33dbf40228e0fa3f99c4340360fe6db1fd0e', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 2, 'created': '2022-06-14 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01aa1e39a00b171cd21c39ae345ad5d57463dcf8', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 3, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b5e1644f59700d7b0494491b4414e31b5382eb5', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 4, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2c5c5f2946b516c1625936db14c68b5e55f1fb2', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 5, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb556e6e3e8a9015f00d6d38fe0e59bbdab4158b', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 6, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae9bfeda7d554d32f922dc1646067ca46688c9d0', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 7, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcde2a00fbe060d84b9c9718adef42343437ed7c', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 8, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc9bcfe3fb2768f49e51ff48e80505f6b88965dc', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 9, 'created': '2022-08-06 15:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa347b3ead5bcd86acd168c051f2b1d0daa4d4e9', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 10, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ba47c9b1b5928f3574b9db26981601e946d6925', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 11, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d0335272de95bd70d01ce5e46acb3e86411a89c', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 12, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e9015ae55221a6fdd17242b4ce906b49937b9eb', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 13, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ab969be75f6118dc85ea2642bced30eba6a7404', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 14, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7160165a941576a05dc88201730d0a9e3b017a8', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 15, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2a79bced42b37024cdca429b8eb1c5ee165ca4e', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}, {'number': 16, 'created': '2022-10-13 05:49:09.000000000', 'files': ['deployment/logging/stdout/keystone.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/logging/files/keystone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0ef8777621ca376abfafa2ff4b99be5f93e3867', 'message': 'Remove stdout logging support (6): Keystone\n\nThis removes the stdout logging support from Keystone, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I74e236c169907892c3879c5e9cdaee4092912e43\n'}]",4,845779,a0ef8777621ca376abfafa2ff4b99be5f93e3867,52,2,16,9816,,,0,"Remove stdout logging support (6): Keystone

This removes the stdout logging support from Keystone, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: I74e236c169907892c3879c5e9cdaee4092912e43
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/845779/16 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/stdout/keystone.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/logging/files/keystone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'environments/stdout-logging.yaml']",6,ac8f33dbf40228e0fa3f99c4340360fe6db1fd0e,remove-logging,, OS::TripleO::Services::Logging::Keystone: ../deployment/logging/stdout/keystone.yaml,17,158
openstack%2Ftripleo-heat-templates~master~I1c3f514bd2f8a12e8da34894f8143f4447c7c101,openstack/tripleo-heat-templates,master,I1c3f514bd2f8a12e8da34894f8143f4447c7c101,Remove stdout logging support (5): Neutron,ABANDONED,2022-06-14 15:06:47.000000000,2023-01-10 14:29:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 15:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20a110b0e7fa5ae6e306479ff2a67016308d5457', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 2, 'created': '2022-06-14 15:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b69a1b1346b521772853a57d7aaceb1108b96057', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 3, 'created': '2022-06-14 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47b8e76148465e7710ea1fdcbdb93bcd836b85a9', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 4, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/763df21ba7e7f9648ae9f7e698a214a941d01445', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 5, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86e682a55f0a9ba660d917b8aed5924eab0cd7d4', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 6, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87b7d6c24ee411b767dd67a33047708cdd2482af', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 7, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5537cd518b501ddc9cd859457f793ee5ab49a64c', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 8, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/597303ca97e0a3b88674e5b994cfe92728e7ccd8', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 9, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be08c184744fa0d3d9f9233a06f2e919fe4707d2', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 10, 'created': '2022-08-06 15:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2a57c64ec1b28a8e6dcd0cd54aa9d41a9598a8a', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 11, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a425dd2f2d370360a16721ae55042854a0a1119f', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 12, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28e460b102d506526b2a11aac533feb564f68b76', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 13, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95fce629a7e7912ee25109facd5fe10802e21cf7', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 14, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9e8315877e34c170972febd950918add28661fc', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 15, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2aa82354102f5f9c6447b77afbae6f71bd4a210a', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 16, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/032facd03e9b52a5b0c4b91fe2f3d796850277ae', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}, {'number': 17, 'created': '2022-10-13 05:49:09.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/logging/files/neutron-common.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/logging/stdout/neutron-common.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d42703050ba343e9139af0edc3e6e7e5ac4e212c', 'message': 'Remove stdout logging support (5): Neutron\n\nThis removes the stdout logging support from Neutron, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101\n'}]",3,845771,d42703050ba343e9139af0edc3e6e7e5ac4e212c,50,2,17,9816,,,0,"Remove stdout logging support (5): Neutron

This removes the stdout logging support from Neutron, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: I1c3f514bd2f8a12e8da34894f8143f4447c7c101
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/845771/9 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'environments/stdout-logging.yaml']",12,20a110b0e7fa5ae6e306479ff2a67016308d5457,remove-logging,, OS::TripleO::Services::Logging::NeutronApi: ../deployment/logging/stdout/neutron-common.yaml OS::TripleO::Services::Logging::NeutronCommon: ../deployment/logging/stdout/neutron-common.yaml,398,362
openstack%2Ftripleo-heat-templates~master~Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22,openstack/tripleo-heat-templates,master,Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22,Remove stdout logging support (4): Placement,ABANDONED,2022-06-14 14:45:21.000000000,2023-01-10 14:26:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 14:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da4d06f4b448ef7c650977366a9bfcf0d83265ca', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 2, 'created': '2022-06-14 14:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bbbcdf19f175f84df615c014811b36d25b5d3e3', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 3, 'created': '2022-06-14 15:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0796e5c80f9a4f574b843e7cc722bd9676150a4', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 4, 'created': '2022-06-14 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fadc58dea2853b8fea3da4a62145a8acc03237d5', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 5, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5be409193dfe257775d59a8a53fbc4ac5e9e839', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 6, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/582d516927b06af73930a196a251a77efe5e5787', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 7, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65ca0bc8017f17e77b182b13d0e6ce9b923a3762', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 8, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a1d129ed0d494e49b33c4805c0e07efa0b99ec3', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 9, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/056c48133a3eb28182b91864d50e109ea639a2c4', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 10, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eee1e2bbfd57163946006ab080a040b69e771d04', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 11, 'created': '2022-08-06 15:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6a5a5485ed7fc9a46a35873d0c39e9f830f1eeb', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 12, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a905b913b23f465e25cc0036a92a9b89966c0c25', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 13, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0fd8c9f2bae322f6ae5992980b3e06f540b5fa3', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 14, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec28fc6484eaf832010679d46ac9171d8994f3ec', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 15, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afb865268bed9c9b6530c8288a31dc1ee74f42ba', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 16, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/156219714dcc357ae2f65c75a792743d125e1d4d', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 17, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05c3b4d7a7757671c95fe498f4d6bb806ee4396e', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}, {'number': 18, 'created': '2022-10-13 05:49:09.000000000', 'files': ['deployment/logging/stdout/placement-api.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/logging/files/placement-api.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8180d5005174a145ebc85fbd347d3d67b6035588', 'message': 'Remove stdout logging support (4): Placement\n\nThis removes the stdout logging support from Placement, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22\n'}]",1,845769,8180d5005174a145ebc85fbd347d3d67b6035588,45,2,18,9816,,,0,"Remove stdout logging support (4): Placement

This removes the stdout logging support from Placement, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: Iad8acefcd0cd0be628ac6e5b83391c1a0bd81a22
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/845769/18 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-standalone.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'environments/undercloud-enable-nova.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/stdout-logging.yaml']",5,da4d06f4b448ef7c650977366a9bfcf0d83265ca,remove-logging,, OS::TripleO::Services::Logging::PlacementApi: ../deployment/logging/stdout/placement-api.yaml,21,16
openstack%2Ftripleo-heat-templates~master~I97b5f74dac9f493b44a40611cbc2dd9a48d08f48,openstack/tripleo-heat-templates,master,I97b5f74dac9f493b44a40611cbc2dd9a48d08f48,Remove stdout logging support (3): Barbican,ABANDONED,2022-06-13 05:27:04.000000000,2023-01-10 14:26:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-13 05:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/483c8492a068c49fb1934499fb06c4b27a5cc3f6', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 2, 'created': '2022-06-13 06:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29084a03c68b50456cc644bba79ac421fc10eb2c', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 3, 'created': '2022-06-13 06:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b996de7c920dd88492cfab760a8b830ceb8d927a', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 4, 'created': '2022-06-14 12:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a16a41d13925d05134b75c9b907ca25d19ad45bc', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 5, 'created': '2022-06-14 12:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ab5316530cde6f7a8a0578ec2aa9b086569c27c', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 6, 'created': '2022-06-14 14:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29431887ebfac52e0194b4b3b003d70a62f4d03a', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 7, 'created': '2022-06-14 15:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf3b2062880704e233c3a8f02829d92c55543c46', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 8, 'created': '2022-06-14 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7f8760bee1994398a4b9e052bb1dd0202713d10', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 9, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29d741c6fec0a88aa9305a7fbb761d8b93901fee', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 10, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c91368939ab9f9714fd561d05a1465880cbd8f17', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 11, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3dca35764564e802e502e0bc5efe64ec649ddd6', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 12, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f549cc2ff809ceac8fa00bf2aff839ed9b6f9217', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 13, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5fab0dc6a22a20463c8406873d41be90adac8ea', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 14, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c00949c34a4401a30aa7c40ee6253dcd733707d', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 15, 'created': '2022-08-06 15:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a17004004774761d8f403462549e42f5f4d837d0', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 16, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6123d53837aa75372a0d409f1f520f7df5721892', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 17, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43d85f17123f89ac135c9d2f0a0ab7576159660d', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 18, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2aba3167daf8b771969c182fc5bead113e9e6381', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 19, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dcc3112d3116f13b227def23852a7a39cb865c4', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 20, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c975364ef5e139964f0a13d5d817418d349eed5', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 21, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bda1b1f483ac8fe62cd94491150697dd5b6e4eb7', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}, {'number': 22, 'created': '2022-10-13 05:49:09.000000000', 'files': ['deployment/logging/stdout/barbican-api.yaml', 'ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a6c93ac6fbb94196b9b6532d8a59a7e121e0dde', 'message': 'Remove stdout logging support (3): Barbican\n\nThis removes the stdout logging support from Barbican, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48\n'}]",1,845541,4a6c93ac6fbb94196b9b6532d8a59a7e121e0dde,52,2,22,9816,,,0,"Remove stdout logging support (3): Barbican

This removes the stdout logging support from Barbican, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: I97b5f74dac9f493b44a40611cbc2dd9a48d08f48
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/845541/21 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/stdout/barbican-api.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'environments/stdout-logging.yaml']",5,483c8492a068c49fb1934499fb06c4b27a5cc3f6,remove-logging,, OS::TripleO::Services::Logging::BarbicanApi: ../deployment/logging/stdout/barbican-api.yaml,35,171
openstack%2Ftripleo-heat-templates~master~I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89,openstack/tripleo-heat-templates,master,I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89,Remove stdout logging support (2): Glance,ABANDONED,2022-06-13 05:17:24.000000000,2023-01-10 14:26:19.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-13 05:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5c7eabef966d1053d780c8605b2d9b313cf31ec', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 2, 'created': '2022-06-13 05:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2daabdf6fccae8da6101e4eee655a189d25db517', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 3, 'created': '2022-06-13 06:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30805ba367fc9bce21b18ba210420c42e8f54af8', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 4, 'created': '2022-06-14 12:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/871864be4013b290467cbbe909ae031df86651e5', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 5, 'created': '2022-06-14 12:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcd1beb4259c61cf3d32a10abdc875e593b4e789', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 6, 'created': '2022-06-14 14:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0885bc3acf3b8f513d84540703d9f44f07fe2f2', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 7, 'created': '2022-06-14 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac56b72e482c7bfe7c1524540c782884c0ca5da6', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 8, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a860b1c4c2844e2adb51127cc0e70f568a4b3ce1', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 9, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/848d0da5f03a94eca9abfa2b8755b4a416fbd1f7', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 10, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d8ad5cf96da8fd0010e180cba851a4a17ef114e', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 11, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/665a5b22935ec74382bc8b98a97105ab2fb79a47', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 12, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1870a628b5c250f6cafca119e1897468d01678cd', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 13, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c4b3cc78414014aee79c6ce9c67ccfcea66fe23', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 14, 'created': '2022-08-06 15:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad661d9f71d2304894e011ed85b358d99b910e0a', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 15, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9859fb8d5acf7a0ba7236b38caa4ed7643cf866', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 16, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e871d63b9ef3442cb1d137d57892dcbbb65c723', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 17, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82ee672943ae4f5b28c4be7e25a37e904841ad29', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 18, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b2ea32ec3645040cf7949cdeb541313cd7989ba', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 19, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74717a357d3406832380b30a0983b1456596673e', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 20, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7db00ca9ae10cca1d92111678ce224e1caf762cc', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}, {'number': 21, 'created': '2022-10-13 05:49:09.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/logging/stdout/glance-api.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a6dab6596c2beeb0f2b70adfbfd80fdf0e1cd60', 'message': 'Remove stdout logging support (2): Glance\n\nThis removes the stdout logging support from Glance, because its\ncoverage is still incomplete and it is almost duplicate of what has\nbeen implemented by rsyslog + imfile.\n\nSee the parent patch for details.\n\nChange-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89\n'}]",2,845539,1a6dab6596c2beeb0f2b70adfbfd80fdf0e1cd60,55,3,21,9816,,,0,"Remove stdout logging support (2): Glance

This removes the stdout logging support from Glance, because its
coverage is still incomplete and it is almost duplicate of what has
been implemented by rsyslog + imfile.

See the parent patch for details.

Change-Id: I7f20cb4a7e23bba0a3e1382ca7c216668c8e0c89
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/845539/18 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'environments/stdout-logging.yaml']",3,e5c7eabef966d1053d780c8605b2d9b313cf31ec,remove-logging,, OS::TripleO::Services::Logging::GlanceApi: ../deployment/logging/stdout/glance-api.yaml,62,47
openstack%2Ftripleo-heat-templates~master~I283997608f7757c7b9b8f4d4f0cf740475b072b2,openstack/tripleo-heat-templates,master,I283997608f7757c7b9b8f4d4f0cf740475b072b2,Remove stdout logging support (1): Heat,ABANDONED,2022-06-13 04:43:53.000000000,2023-01-10 14:26:11.000000000,,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-13 04:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61f994695a950cc297368a835560ffd5df640ba5', 'message': 'Heat: Remove stdout logging support\n\nCurrently we have two implementations to transfer logs from service.\n\n 1. standalone rsyslog + imfile\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete status and does not support a few core services\n(eg. Cinder).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 2, 'created': '2022-06-13 04:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c09f131590ff937aa7a2a1dc8349fba667120270', 'message': 'Heat: Remove stdout logging support\n\nCurrently we have two implementations to transfer logs from service.\n\n 1. standalone rsyslog + imfile\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support a few core services (Cinder\nand Horizon).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 3, 'created': '2022-06-13 04:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e19238c3b519976ddbe076f6102ff9ab527a41c2', 'message': 'Heat: Remove stdout logging support\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support a few core services (Cinder\nand Horizon).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 4, 'created': '2022-06-13 05:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a810f64b7d33b8f1b19d7b2521567dd4922dfd8e', 'message': 'Heat: Remove stdout logging support\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support a few core services (Cinder\nand Horizon).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 5, 'created': '2022-06-13 05:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/407ebc71998bde755405434a269904b013ef1c3c', 'message': 'Heat: Remove stdout logging support\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support a few services (eg. Cinder,\nHorizon and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 6, 'created': '2022-06-13 05:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a65a3cedd07b6b2822647aa04dfe1ffa391112e', 'message': 'Heat: Remove stdout logging support\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 7, 'created': '2022-06-13 05:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cbe136e5c6fd8eb296ac94a86b8ac01e06210ae', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 8, 'created': '2022-06-13 10:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/521bfb26fef96efea426967f6980bf9453087aa7', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 9, 'created': '2022-06-14 12:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cb9fdcd0b4ff793aff85c38614db2b126933a14', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 10, 'created': '2022-06-14 14:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c17e6311583f4524171852ae67999660875bff1', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 11, 'created': '2022-06-14 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfeb278ab824f2bc9324752618896db8e56aa5d2', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 12, 'created': '2022-06-15 03:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b0b8ca72fbe4906d3b8fdb83f57c8fca77124e9', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 13, 'created': '2022-07-04 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae03c7264a1830d9add2d1f86eb9693ed41d6ec8', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 14, 'created': '2022-07-08 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28ffe6d53e061c083d0a3f1823c5a39dcbd3afcd', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 15, 'created': '2022-07-08 04:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12461f7bc213224cb73c4aeb50fc66ba8c50b9fc', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 16, 'created': '2022-07-19 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/756918da2a98067bd6dfc1a583eb2190b359e393', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 17, 'created': '2022-07-19 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7730e11c1ec0bfff4be1f05af3363fba60a88054', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 18, 'created': '2022-08-06 15:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9972a4316ee840ed5e75f6aa3a6e59d8c25123a', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 19, 'created': '2022-08-06 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fe27ca0b28171744f4519b4d0156bb9a7bbf7f1', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 20, 'created': '2022-08-06 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/378e72da78e718c158e720b0c66022b50834b690', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 21, 'created': '2022-08-06 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d04e2c7c795ea5e0cb10aec1434340a813fe78a3', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 22, 'created': '2022-08-12 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3984f971704e29d3e357babeadd7838fff3cefe5', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 23, 'created': '2022-08-25 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b2feaa0bc68eddc4d4f69f40a74968bc691266e', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 24, 'created': '2022-09-20 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bf678f858703833450e1652a72037233d5ba27b', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}, {'number': 25, 'created': '2022-10-13 05:49:09.000000000', 'files': ['deployment/logging/files/heat-api.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de6dbe7fd891f7e9de40031a48ec7882ed0777d4', 'message': 'Remove stdout logging support (1): Heat\n\nCurrently we have two implementations to transfer logs to remote system\nusing rsyslog.\n 1. standalone rsyslog + imfile + file logging\n 2. rsyslog sidecar + stdout logging\n\nWhile 1 covers most of the services supported by TripleO, 2 is\ncurrently incomplete and does not support several services (Cinder,\nHorizon, Manila, Octavia and Designate).\n\nThis change is the first step to remove 2 and remove the implementation\nfor Heat.\n\nThis also has a benefit to simplify task implementations, which helps\nus migrate standalone tasks to tripleo-ansible.\n\nChange-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2\n'}]",4,845537,de6dbe7fd891f7e9de40031a48ec7882ed0777d4,64,4,25,9816,,,0,"Remove stdout logging support (1): Heat

Currently we have two implementations to transfer logs to remote system
using rsyslog.
 1. standalone rsyslog + imfile + file logging
 2. rsyslog sidecar + stdout logging

While 1 covers most of the services supported by TripleO, 2 is
currently incomplete and does not support several services (Cinder,
Horizon, Manila, Octavia and Designate).

This change is the first step to remove 2 and remove the implementation
for Heat.

This also has a benefit to simplify task implementations, which helps
us migrate standalone tasks to tripleo-ansible.

Change-Id: I283997608f7757c7b9b8f4d4f0cf740475b072b2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/845537/22 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/files/heat-api.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'environments/stdout-logging.yaml']",12,61f994695a950cc297368a835560ffd5df640ba5,remove-logging,, OS::TripleO::Services::Logging::HeatApi: ../deployment/logging/stdout/heat-api.yaml OS::TripleO::Services::Logging::HeatApiCfn: ../deployment/logging/stdout/heat-api-cfn.yaml OS::TripleO::Services::Logging::HeatEngine: ../deployment/logging/stdout/heat-engine.yaml,54,346
openstack%2Fplacement~stable%2Ftrain~I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,openstack/placement,stable/train,I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,placement-status: check only consumers in allocation table,NEW,2022-05-05 16:30:44.000000000,2023-01-10 14:23:00.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 16:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7106835853bbd242e07333cb57cbef38697eef1c', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)\n(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)\n(cherry picked from commit d8bb1b06dd69834523ebec26f418ad08d982aecc)\n""}, {'number': 2, 'created': '2022-05-05 22:25:46.000000000', 'files': ['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/e58d4ab28fa51a2d7eeed99ff898bf1b8171fb48', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)\n(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)\n(cherry picked from commit d8bb1b06dd69834523ebec26f418ad08d982aecc)\n""}]",2,840704,e58d4ab28fa51a2d7eeed99ff898bf1b8171fb48,5,2,2,4690,,,0,"placement-status: check only consumers in allocation table

Initially, _check_incomplete_consumers was intended to find the case
when consumers are mentioned in allocation but do not exist in the
consumer table. Due to a bug it's possible to have rows in the
consumer table those are not in the allocation table. The second case
it seems was not expected and it can be tricky to automate a cleanup
with zero touch upgrade.

This patch modifies the check such way it counts only consumers
presented in the allocation table.

Related-bug: #1780799
Change-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d
(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)
(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)
(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)
(cherry picked from commit d8bb1b06dd69834523ebec26f418ad08d982aecc)
",git fetch https://review.opendev.org/openstack/placement refs/changes/04/840704/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py']",2,7106835853bbd242e07333cb57cbef38697eef1c,bug/1780799," allocation = models.Allocation.__table__ consumer = models.Consumer.__table__ return ctxt.session.execute( sa.select([sa.func.count( sa.distinct(allocation.c.consumer_id))]) .select_from( allocation.outerjoin( consumer, allocation.c.consumer_id == consumer.c.uuid)) .where(consumer.c.id.is_(None))).fetchone()[0]", # Count the total number of consumers. num_consumers = ctxt.session.query(models.Consumer).count() # Count the total number of unique consumers in the allocations table. num_alloc_consumers = ctxt.session.query(models.Allocation).group_by( models.Allocation.consumer_id).count() return num_alloc_consumers - num_consumers,19,6
openstack%2Ftripleo-docs~master~I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f,openstack/tripleo-docs,master,I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f,Document using tripleo_ceph_client role with standalone Ansible,MERGED,2022-09-23 16:57:44.000000000,2023-01-10 14:09:00.000000000,2023-01-10 14:07:49.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-09-23 16:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/53fdbaafd441d9bdf0aa73be1fcad63e61ede335', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 2, 'created': '2022-09-23 20:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b38d54680df8d94cd57e9320dd5f0c94bba7b587', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 3, 'created': '2022-09-23 21:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8c7829b2d84c53f4988e963c91f0511f0a33b4f0', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 4, 'created': '2022-10-01 17:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/746da952d01c30f1cce5d78f8ab542c12f0d9de3', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 5, 'created': '2022-10-07 18:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9fe75508e793d7914320d8e22cda8d232e7c8eeb', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 6, 'created': '2022-10-07 19:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f8f31b8df3073c3be8fd53c32a899af2763a33ef', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 7, 'created': '2022-10-07 19:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/31ecdd7037b89bb04cde13a2ba6035633f170579', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 8, 'created': '2022-10-09 16:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9da55b59ffa9affc6674c92324dfe712d7e1afda', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 9, 'created': '2022-10-09 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ced3d0c94dba99742018d78062eb1045df5058d1', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 10, 'created': '2022-10-10 12:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/43ebb4607c000ae726372ff9484c9eec39ea9a35', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 11, 'created': '2022-10-10 20:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4b069e49a9c5350846ca32f4e86081896a8caa9e', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 12, 'created': '2022-10-12 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/59751c2e2cbb65ced64465bf75681f1bc94f3d5a', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 13, 'created': '2022-10-13 11:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b49f7844ec5c999f177a1eb5a538d139d553f79d', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nDepends-On: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 14, 'created': '2022-10-21 19:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/beac3367ead1e8e91c5bb18c27fcb5dd4e83fe01', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\n'}, {'number': 15, 'created': '2022-11-21 21:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d35976038f0fa7de9e8bcb688bed5bfa28bd0486', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\nDepends-On: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 16, 'created': '2022-11-23 21:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0e8c26bdcda2aac2454f35f52af49fdfb3442b7f', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\nDepends-On: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 17, 'created': '2023-01-10 13:39:47.000000000', 'files': ['deploy-guide/source/features/ceph_external.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fb9fcb7275ab239c6bd5c29038d4e55ca2381569', 'message': 'Document using tripleo_ceph_client role with standalone Ansible\n\nChange-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f\nDepends-On: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}]",13,859142,fb9fcb7275ab239c6bd5c29038d4e55ca2381569,60,6,17,18002,,,0,"Document using tripleo_ceph_client role with standalone Ansible

Change-Id: I222c4a3a6d6ed647dd2f7971dcf6e4df337be26f
Depends-On: I06bfb7347715b2ae5a1b37d633ec66f1b069225a
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/42/859142/17 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/ceph_external.rst'],1,53fdbaafd441d9bdf0aa73be1fcad63e61ede335,standalone-roles,"Standalone Ansible Roles and External Ceph ------------------------------------------ The `tripleo_ceph_client`_ Ansible role may be used may be used standalone without tripleo-heat-templates or config-download. A file, e.g. 08-ceph, like the following may be placed in the inventory directory:: tripleo_ceph_cluster_fsid: ""604c9994-1d82-11ed-8ae5-5254003d6107"" tripleo_ceph_cluster_name: ceph tripleo_ceph_cluster_mon_ips: 192.168.8.5,192.168.8.6,192.168.8.7 tripleo_cinder_enable_rbd_backend=true tripleo_ceph_client_config_home: /var/lib/tripleo-config/ceph tripleo_ceph_cluster_keys: - name: openstack key: AQCKyftiFuuKKBAAz6f8e3dUpdXdZpvhu7xngw== caps: mon: 'allow r' osd: 'allow class-read object_prefix rbd_children, allow rwx pool=vms, allow rwx pool=volumes, allow rwx pool=images' and the role may then be included as follows in order to configure a standalone compute node to use a single Ceph cluster:: - name: configure ceph client import_role: name: tripleo_ceph_client Doing the above will result in the directory defined by `tripleo_ceph_client_config_home` being populated with two files: `ceph.client.openstack.keyring` (the cephx key) and `ceph.conf` (the ceph client configuration file). The variables above are compatible with other standalone roles which require them. E.g., if `tripleo_cinder_enable_rbd_backend` is true, then the `tripleo_nova_libvirt` role will add a secret key to libvirt so that it uses the cephx key and configuration file put in place by the `tripleo_ceph_client` role and thus, Nova will be configured to use Ceph RBD. The `tripleo_ceph_client` role only supports the _configure_ aspect of the standalone tripleo-ansible roles because it just configures one or more pairs of files on its target nodes. Thus, the `import_role` example above could be placed in a playbook file like `deploy-tripleo-openstack-configure.yml`, before the role for `tripleo_nova_libvirt` is imported. To configure more than one Ceph backend include the `tripleo_ceph_client` role as follows:: - name: configure ceph clients for multiple clusters import_role: name: tripleo_ceph_client vars: multiple: ""{{ item }}"" loop: ""{{ tripleo_cinder_rbd_multi_config }}"" when: - tripleo_cinder_rbd_multi_config is defined and define the `tripleo_cinder_rbd_multi_config` variable in the inventory like this:: tripleo_cinder_rbd_multi_config: - tripleo_ceph_cluster_name: 'ceph2' tripleo_ceph_cluster_fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' tripleo_ceph_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' tripleo_ceph_cluster_keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" The `tripleo_cinder_rbd_multi_config` variable should be a list of Ceph configurations in which each element of the list has the same parameters as the single Ceph cluster example. The `tripleo_ceph_cluster_name` variable is used to define the name of the cephx key and configuration file. This name should be unique so that one file does not overwrite the other. If the combined examples above are used, then the directory defined by `tripleo_ceph_client_config_home` will be populated with four files: `ceph.conf`, `ceph2.conf`, `ceph.client.openstack.keyring` and `ceph2.client.openstack.keyring`... _`tripleo_ceph_client`: https://docs.openstack.org/tripleo-ansible/latest/roles/role-tripleo_ceph_client.html",,88,0
openstack%2Fos-client-config~master~Iffb349652949b8d8c02a9d4d4f8526ba405843f7,openstack/os-client-config,master,Iffb349652949b8d8c02a9d4d4f8526ba405843f7,Update tox to support v4,ABANDONED,2023-01-10 12:52:53.000000000,2023-01-10 14:08:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-10 12:52:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/bcb76c920c8a7046d5b46c3138bfdcb7edae549c', 'message': 'Update tox to support v4\n\ndrop skipsdist and rename py38 to py3\n\nChange-Id: Iffb349652949b8d8c02a9d4d4f8526ba405843f7\n'}]",0,869712,bcb76c920c8a7046d5b46c3138bfdcb7edae549c,3,1,1,27900,,,0,"Update tox to support v4

drop skipsdist and rename py38 to py3

Change-Id: Iffb349652949b8d8c02a9d4d4f8526ba405843f7
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/12/869712/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bcb76c920c8a7046d5b46c3138bfdcb7edae549c,,"envlist = py3,pep8","envlist = py37,pep8 skipsdist = True",1,2
openstack%2Fnova~stable%2Fxena~I27441d15cc6fa2ff7715ba15aa900961aadbf54a,openstack/nova,stable/xena,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 17:20:35.000000000,2023-01-10 14:06:48.000000000,2023-01-10 14:04:12.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 17:20:35.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e4a257e8636a979605c614a35e79ba47b74d870', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)\n""}]",2,866193,0e4a257e8636a979605c614a35e79ba47b74d870,10,3,1,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Related-Bug: #1927677
Closes-Bug: #1986545

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
(cherry picked from commit 4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/866193/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,0e4a257e8636a979605c614a35e79ba47b74d870,bug/1986545," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",26,35
openstack%2Fnova~master~I258a7c13434b29402804181dea275b42d5539df0,openstack/nova,master,I258a7c13434b29402804181dea275b42d5539df0,Remove basepython def from tox.ini,MERGED,2023-01-09 09:57:02.000000000,2023-01-10 14:05:45.000000000,2023-01-10 14:04:01.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 09:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9381ad774d798ace87839c5ac08fd107ebb6f574', 'message': 'Define basepython for functional targets\n\nIt seems that with tox 4.2.6 the missing interpreter error was fixed but\nthe generative testenv feature is broken and the\n[testenv:functional{,-py38,-py39,-py310}] format is leads to missing\ninterpreter error.\n\nThis patch defines the basepython for these generative envs explicitly\nto make them work again.\n\nChange-Id: I258a7c13434b29402804181dea275b42d5539df0\n'}, {'number': 2, 'created': '2023-01-09 10:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3123b09cc433476d2c022be2b51b9eadca5622c', 'message': 'Remove basepython def from tox.ini\n\nIt seems that with tox 4.2.6 the missing interpreter error was fixed but\nthe generative testenv feature is broken and the\n[testenv:functional{,-py38,-py39,-py310}] format is leads to missing\ninterpreter error. It is due to a conflict between basepython = python3\nand the version fragment in the generative target suppressed by\nignore_basepython_conflict = true.\n\nThis patch removes basepython = python3 assuming that developers already\nswitched for python3 in their environment as python2.7 is EOL.\n\nChange-Id: I258a7c13434b29402804181dea275b42d5539df0\n'}, {'number': 3, 'created': '2023-01-09 15:18:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e5b6751d32aa50dc372c55b5c2044d0dade51f4', 'message': 'Remove basepython def from tox.ini\n\nIt seems that with tox 4.2.6 the missing interpreter error was fixed but\nthe generative testenv feature is broken and the\n[testenv:functional{,-py38,-py39,-py310}] format is leads to missing\ninterpreter error. It is due to a conflict between basepython = python3\nand the version fragment in the generative target suppressed by\nignore_basepython_conflict = true.\n\nThis patch removes basepython = python3 assuming that developers already\nswitched for python3 in their environment as python2.7 is EOL.\n\nAlso we took the opportunity to add the global constraints via the\ninstall_command instead of deps as deps is not used during the\ninstallation of the editable package.\n\nChange-Id: I258a7c13434b29402804181dea275b42d5539df0\n'}]",3,869545,5e5b6751d32aa50dc372c55b5c2044d0dade51f4,19,4,3,9708,,,0,"Remove basepython def from tox.ini

It seems that with tox 4.2.6 the missing interpreter error was fixed but
the generative testenv feature is broken and the
[testenv:functional{,-py38,-py39,-py310}] format is leads to missing
interpreter error. It is due to a conflict between basepython = python3
and the version fragment in the generative target suppressed by
ignore_basepython_conflict = true.

This patch removes basepython = python3 assuming that developers already
switched for python3 in their environment as python2.7 is EOL.

Also we took the opportunity to add the global constraints via the
install_command instead of deps as deps is not used during the
installation of the editable package.

Change-Id: I258a7c13434b29402804181dea275b42d5539df0
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/869545/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9381ad774d798ace87839c5ac08fd107ebb6f574,tox4,base_python = functional-py310: python3.10 functional-py39: python3.9 functional-py38: python3.8,,4,0
openstack%2Fplacement~stable%2Fussuri~I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,openstack/placement,stable/ussuri,I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,placement-status: check only consumers in allocation table,MERGED,2022-05-05 16:30:17.000000000,2023-01-10 14:05:41.000000000,2023-01-10 14:04:09.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 16:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d8bb1b06dd69834523ebec26f418ad08d982aecc', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)\n(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)\n""}, {'number': 2, 'created': '2022-05-05 22:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6e4cf99e596a3a7c5afde048d8daf0bcfe1976d7', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)\n(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)\n""}, {'number': 3, 'created': '2022-05-10 05:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/244be37185df74d6a753af5558b4226cb447486a', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)\n(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)\n""}, {'number': 4, 'created': '2022-05-13 20:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ca8579dc863f65cfeae1601a009270df5b23e5b2', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 7f66845b6382513ae291914ea02787e9776505a0)\n(cherry picked from commit 93bd7f23ad6e993185e32f038db90bb81e8746e2)\n""}, {'number': 5, 'created': '2023-01-05 02:16:29.000000000', 'files': ['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5a865abc2545544870ad972f70cd54ebd14c19a8', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 7f66845b6382513ae291914ea02787e9776505a0)\n(cherry picked from commit 93bd7f23ad6e993185e32f038db90bb81e8746e2)\n""}]",6,840703,5a865abc2545544870ad972f70cd54ebd14c19a8,21,3,5,4690,,,0,"placement-status: check only consumers in allocation table

Initially, _check_incomplete_consumers was intended to find the case
when consumers are mentioned in allocation but do not exist in the
consumer table. Due to a bug it's possible to have rows in the
consumer table those are not in the allocation table. The second case
it seems was not expected and it can be tricky to automate a cleanup
with zero touch upgrade.

This patch modifies the check such way it counts only consumers
presented in the allocation table.

Related-bug: #1780799
Change-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d
(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)
(cherry picked from commit 7f66845b6382513ae291914ea02787e9776505a0)
(cherry picked from commit 93bd7f23ad6e993185e32f038db90bb81e8746e2)
",git fetch https://review.opendev.org/openstack/placement refs/changes/03/840703/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py']",2,d8bb1b06dd69834523ebec26f418ad08d982aecc,bug/1780799," allocation = models.Allocation.__table__ consumer = models.Consumer.__table__ return ctxt.session.execute( sa.select([sa.func.count( sa.distinct(allocation.c.consumer_id))]) .select_from( allocation.outerjoin( consumer, allocation.c.consumer_id == consumer.c.uuid)) .where(consumer.c.id.is_(None))).fetchone()[0]", # Count the total number of consumers. num_consumers = ctxt.session.query(models.Consumer).count() # Count the total number of unique consumers in the allocations table. num_alloc_consumers = ctxt.session.query(models.Allocation).group_by( models.Allocation.consumer_id).count() return num_alloc_consumers - num_consumers,19,6
openstack%2Fnova~stable%2Fxena~I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,openstack/nova,stable/xena,I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,"Handle ""no RAM info was set"" migration case",MERGED,2022-10-07 18:45:19.000000000,2023-01-10 14:05:38.000000000,2023-01-10 14:03:54.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 18:45:19.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/98d9936e54b900db1bd2d5477a9a1d7e5a7be104', 'message': 'Handle ""no RAM info was set"" migration case\n\nThis handles the case where the live migration monitoring thread may\nrace and call jobStats() after the migration has completed resulting in\nthe following error:\n\n    libvirt.libvirtError: internal error: migration was active, but no\n    RAM info was set\n\nCloses-Bug: #1982284\nChange-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267\n(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)\n(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)\n(cherry picked from commit 4316234e63b76e4f9877ec6e924b5c54ea761bbb)\n'}]",1,860734,98d9936e54b900db1bd2d5477a9a1d7e5a7be104,10,3,1,4690,,,0,"Handle ""no RAM info was set"" migration case

This handles the case where the live migration monitoring thread may
race and call jobStats() after the migration has completed resulting in
the following error:

    libvirt.libvirtError: internal error: migration was active, but no
    RAM info was set

Closes-Bug: #1982284
Change-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267
(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)
(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)
(cherry picked from commit 4316234e63b76e4f9877ec6e924b5c54ea761bbb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/860734/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml']",3,98d9936e54b900db1bd2d5477a9a1d7e5a7be104,bug/1982284,"--- other: - | A workaround has been added to the libvirt driver to catch and pass migrations that were previously failing with the error: ``libvirt.libvirtError: internal error: migration was active, but no RAM info was set`` See `bug 1982284`_ for more details. .. _bug 1982284: https://bugs.launchpad.net/nova/+bug/1982284 ",,40,0
openstack%2Fplacement~master~I1de24b7a98f149fce33d4e5eca82460eea72140b,openstack/placement,master,I1de24b7a98f149fce33d4e5eca82460eea72140b,Make tox.ini tox 4.0.0 compatible,MERGED,2022-12-22 14:51:09.000000000,2023-01-10 14:05:32.000000000,2023-01-10 14:04:06.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 14:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1923c1bca1e3739a4a3cf4561511f1d1417827f2', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\n* added functional-py310 for convenience\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n'}, {'number': 2, 'created': '2022-12-22 15:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d8a66c6a95fada7cfe371b2abcfdba1cda9114c1', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\n* added functional-py310 for convenience\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n'}, {'number': 3, 'created': '2022-12-22 15:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8bb18ecb25ad1076aa594408c5ca360b9cf33c9e', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\n* added functional-py310 for convenience\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n'}, {'number': 4, 'created': '2023-01-05 10:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e7dfe16cbbbfa49c20ca6213d8a98299bf50e3a2', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\n* added functional-py310 for convenience\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n'}, {'number': 5, 'created': '2023-01-09 13:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7930308941a71c8c6007ccea83a4d44d86ba2100', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\n* added functional-py310 for convenience\n\n* removed basepython = python3 as we assume all developer switched to\n  python3 in their env already\n\n* removed ignore_basepython_conflict = True as without the basepython\n  definition generative targets now work without conflict\n\n* updated the install_command to mimic better what tox uses by default\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n'}, {'number': 6, 'created': '2023-01-09 15:21:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/1c8afcd3f10a2ace8fdbada4f758b27bb2774cec', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\n* added functional-py310 for convenience\n\n* removed basepython = python3 as we assume all developer switched to\n  python3 in their env already\n\n* removed ignore_basepython_conflict = True as without the basepython\n  definition generative targets now work without conflict\n\n* updated the install_command to mimic better what tox uses by default\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n'}]",17,868418,1c8afcd3f10a2ace8fdbada4f758b27bb2774cec,30,6,6,9708,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure placement available in the virtual
  env

* passenv fixed as space separated list is not allowed any more

* improved the doc generation command line to print all the errors
  instead of stopping at the first one

* added functional-py310 for convenience

* removed basepython = python3 as we assume all developer switched to
  python3 in their env already

* removed ignore_basepython_conflict = True as without the basepython
  definition generative targets now work without conflict

* updated the install_command to mimic better what tox uses by default

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b
",git fetch https://review.opendev.org/openstack/placement refs/changes/18/868418/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1923c1bca1e3739a4a3cf4561511f1d1417827f2,tox4,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt OS_DEBUG GENERATE_HASHES[testenv:functional-py310] envdir = {toxworkdir}/py310 commands = {[testenv:functional]commands} deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt sphinx-build -W --keep-going -b html -j auto doc/source doc/build/html,skipsdist = Truedeps = -r{toxinidir}/test-requirements.txt OS_DEBUG GENERATE_HASHESdeps = -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html,16,5
openstack%2Fcharm-glance-simplestreams-sync~master~I980306269a68c04735811324f6b826622bc6647c,openstack/charm-glance-simplestreams-sync,master,I980306269a68c04735811324f6b826622bc6647c,Add juju-exec for juju 3 compatibility,MERGED,2022-12-02 17:30:51.000000000,2023-01-10 13:41:19.000000000,2022-12-12 14:44:00.000000000,"[{'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 17:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/ff35b2fd38c1866e41650fb87ce7932ef8e47dc6', 'message': 'move juju-run to juju-exec\n\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 2, 'created': '2022-12-02 17:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/e3126ef8ccacb74f42d6c45b923b5d07b5a4e66f', 'message': 'Move juju-run to juju-exec for juju 3 compatibility\n\nJuju2.9 used juju-exec as alias for juju-run, but juju3\ndepricated juju-run (in this context)\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 3, 'created': '2022-12-06 13:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/e3693a3358b97f7e8a255ec3a608a3c19e2b483a', 'message': 'Add juju-exec for juju 3 compatibility\n\nIn juju3, juju-run is moved to juju-exec\ngsss should be able to handle both\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 4, 'created': '2022-12-06 15:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/79126a1779bc842306be8b9c60c4e5b5e242937e', 'message': 'Add juju-exec for juju 3 compatibility\n\nIn juju3, juju-run is moved to juju-exec\ngsss should be able to handle both\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 5, 'created': '2022-12-06 15:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/2eb1d74bdb5390614cc11e162fa5f37ac4f2b8f8', 'message': 'Add juju-exec for juju 3 compatibility\n\nIn juju3, juju-run is moved to juju-exec\ngsss should be able to handle both\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 6, 'created': '2022-12-07 13:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/8fe8453979c2c1ce84fbd397ec872757d57f3e4f', 'message': 'Add juju-exec for juju 3 compatibility\n\nIn juju3, juju-run is moved to juju-exec\ngsss should be able to handle both\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 7, 'created': '2022-12-08 19:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/15e0ec81ca9e1f69d0e876830be59a66d2db04e7', 'message': 'Add juju-exec for juju 3 compatibility\n\nIn juju3, juju-run is moved to juju-exec\ngsss should be able to handle both\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}, {'number': 8, 'created': '2022-12-08 19:57:28.000000000', 'files': ['files/glance_simplestreams_sync.py', 'unit_tests/test_glance_simplestreams_sync.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/9304d1543463ce65f1e2fae9cba1cea22184e3c0', 'message': 'Add juju-exec for juju 3 compatibility\n\nIn juju3, juju-run is moved to juju-exec\ngsss should be able to handle both\n\nCloses-bug: #1993652\nChange-Id: I980306269a68c04735811324f6b826622bc6647c\n'}]",3,866493,9304d1543463ce65f1e2fae9cba1cea22184e3c0,29,4,8,35087,,,0,"Add juju-exec for juju 3 compatibility

In juju3, juju-run is moved to juju-exec
gsss should be able to handle both

Closes-bug: #1993652
Change-Id: I980306269a68c04735811324f6b826622bc6647c
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/93/866493/8 && git format-patch -1 --stdout FETCH_HEAD,['files/glance_simplestreams_sync.py'],1,ff35b2fd38c1866e41650fb87ce7932ef8e47dc6,," juju_exec_cmd(['env']), re.MULTILINE)def juju_exec_cmd(cmd): # NOTE: determine whether juju-exec is actually required _cmd = ['juju-exec', unit_name, ' '.join(cmd)] juju_exec_cmd(['status-set', status, for rid in juju_exec_cmd(['relation-ids', 'identity-service']).split(): juju_exec_cmd(_cmd)"," juju_run_cmd(['env']), re.MULTILINE)def juju_run_cmd(cmd): # NOTE: determine whether juju-run is actually required _cmd = ['juju-run', unit_name, ' '.join(cmd)] juju_run_cmd(['status-set', status, for rid in juju_run_cmd(['relation-ids', 'identity-service']).split(): juju_run_cmd(_cmd)",7,7
openstack%2Ftripleo-ansible~stable%2Fzed~Ida1bf054455b53c96952ecc78f8282f94c3a31a0,openstack/tripleo-ansible,stable/zed,Ida1bf054455b53c96952ecc78f8282f94c3a31a0,Use uc for tox py* targets,MERGED,2022-11-25 06:03:38.000000000,2023-01-10 13:38:14.000000000,2023-01-10 13:37:03.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-25 06:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d267a499de04424de0246f69459f4908bf1f941', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)\n'}, {'number': 2, 'created': '2022-11-25 06:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f431696b07f9f23c6e59f7043f76f3ab913a0445', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)\n'}, {'number': 3, 'created': '2022-11-30 08:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7225d05b0414cc5ea99ec6f3044c14a920bbffc8', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)\n'}, {'number': 4, 'created': '2022-11-30 09:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cd0c2a9cef34bf42fa18ea16eaa89cda46ca93f', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)\n'}, {'number': 5, 'created': '2022-11-30 09:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c323888d624ff24b2a6e91b7ba3ac74add3edc63', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)\n'}, {'number': 6, 'created': '2022-11-30 10:51:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/249897be8e0b31e188f448fad3c3cbeccd86fb83', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)\n'}]",2,865560,249897be8e0b31e188f448fad3c3cbeccd86fb83,26,4,6,8833,,,0,"Use uc for tox py* targets

We install tripleo-common master on stable/zed and stable/wallaby now
and they would be broken for changes in tripleo-common.

Change-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0
(cherry picked from commit cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/865560/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9d267a499de04424de0246f69459f4908bf1f941,ansible_pin, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r {toxinidir}/requirements.txt,install_command = python3 -m pip install {opts} {packages},2,1
openstack%2Ftripleo-ansible~stable%2Fzed~I75cc19581a445a7995959d908333b80c4b8d5f95,openstack/tripleo-ansible,stable/zed,I75cc19581a445a7995959d908333b80c4b8d5f95,[Zed only] Fix incorrect conflict resolution,MERGED,2023-01-05 15:07:02.000000000,2023-01-10 13:37:01.000000000,2023-01-10 13:37:01.000000000,"[{'_account_id': 5241}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2023-01-05 15:07:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9a97f32e50d08f781fc0f89201dafee6d279b3b', 'message': '[Zed only] Fix incorrect conflict resolution\n\nThis change fixes the wrong conflict resolution done when we backported\nChange Ied6fb63ec197cc318143203b4dcb608b42408698 .\n\nChange-Id: I75cc19581a445a7995959d908333b80c4b8d5f95\n'}]",3,869380,a9a97f32e50d08f781fc0f89201dafee6d279b3b,15,4,1,9816,,,0,"[Zed only] Fix incorrect conflict resolution

This change fixes the wrong conflict resolution done when we backported
Change Ied6fb63ec197cc318143203b4dcb608b42408698 .

Change-Id: I75cc19581a445a7995959d908333b80c4b8d5f95
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/869380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml']",2,a9a97f32e50d08f781fc0f89201dafee6d279b3b,,,--- # Note: Previous versions of TripleO used log file with podman exec specific data # to provide health check execution results to sensubility. This serves for # cleanup of unneeded rsyslog configuration since sensubility is fetching # data straight from podman socket - name: remove unneeded podman-related rsyslog configuration ansible.builtin.file: path: /etc/rsyslog.d/openstack-healthcheck.conf state: absent ignore_errors: yes register: rmcfg - when: rmcfg is changed service: name: rsyslog state: restarted ,2,19
openstack%2Fnova~stable%2Fwallaby~Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,openstack/nova,stable/wallaby,Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,Ironic: retry when node not available,NEW,2022-12-16 21:33:30.000000000,2023-01-10 13:26:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-16 21:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31e3d6fa87745ac4bb5f9b89c2566a60595aa025', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)\n'}, {'number': 2, 'created': '2022-12-16 21:36:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3570136e4baf04815007626cbcc23a447429790e', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)\n(cherry picked from commit 8aa6f4f6685279bd314b1b50d614d02188124dd4)\n'}]",0,868012,3570136e4baf04815007626cbcc23a447429790e,6,1,2,6618,,,0,"Ironic: retry when node not available

After a baremetal instance is deleted, and its allocation is removed
in placement, the ironic node might start cleaning. Eventually nova
will notice and update the inventory to be reserved.
During this window, a new instance may have already picked this
ironic node.

When that race happens today the build fails with an error:
""Failed to reserve node ...""

This change tries to ensure the remaining alternative hosts are
attempted before aborting the build.
Clearly the race is still there, but this makes it less painful.

Related-Bug: #1974070
Change-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d
(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)
(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)
(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)
(cherry picked from commit 8aa6f4f6685279bd314b1b50d614d02188124dd4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/868012/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py']",4,31e3d6fa87745ac4bb5f9b89c2566a60595aa025,bug1974070," exception.UnexpectedDeletingTaskStateError, exception.ComputeResourcesUnavailable):", exception.UnexpectedDeletingTaskStateError):,70,3
openstack%2Fmagnum~master~Id11e5c4830a4538fd3e1869dddd56c977241aac3,openstack/magnum,master,Id11e5c4830a4538fd3e1869dddd56c977241aac3,Update cluster autoscaler build to v1.23,MERGED,2022-02-25 09:38:42.000000000,2023-01-10 13:20:55.000000000,2022-02-25 13:15:22.000000000,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 34213}]","[{'number': 1, 'created': '2022-02-25 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bc773432bda40b7208b438e31d2e13ad0ac071f1', 'message': 'Update cluster autoscaler build to v1.23\n* Add v1.23\n* Update the go version in the build Dockerfile\n\nChange-Id: Id11e5c4830a4538fd3e1869dddd56c977241aac3\n'}, {'number': 2, 'created': '2022-02-25 10:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4f9748884a14a57c2388fd94b4c0d4eeb5de2f6', 'message': 'Update cluster autoscaler build to v1.23\n* Add v1.23\n* Update the go version in the build Dockerfile\n\nChange-Id: Id11e5c4830a4538fd3e1869dddd56c977241aac3\n'}, {'number': 3, 'created': '2022-02-25 11:03:47.000000000', 'files': ['playbooks/container-builder-vars.yaml', 'dockerfiles/cluster-autoscaler/Dockerfile'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b73c6d25ebf645db5025efea1736ff0e30cb301b', 'message': 'Update cluster autoscaler build to v1.23\n\n* Add v1.23\n* Update the go version in the build Dockerfile\n\nChange-Id: Id11e5c4830a4538fd3e1869dddd56c977241aac3\n'}]",0,830951,b73c6d25ebf645db5025efea1736ff0e30cb301b,12,5,3,23084,,,0,"Update cluster autoscaler build to v1.23

* Add v1.23
* Update the go version in the build Dockerfile

Change-Id: Id11e5c4830a4538fd3e1869dddd56c977241aac3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/830951/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/container-builder-vars.yaml', 'dockerfiles/cluster-autoscaler/Dockerfile']",2,bc773432bda40b7208b438e31d2e13ad0ac071f1,,FROM golang:1.16.14 as builder,FROM golang:1.16.7 as builder,2,1
openstack%2Fopenstack-ansible~stable%2Fzed~Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4,openstack/openstack-ansible,stable/zed,Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4,[doc] Update repositiories for mirroring,MERGED,2023-01-10 12:17:20.000000000,2023-01-10 13:16:34.000000000,2023-01-10 13:15:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-10 12:17:20.000000000', 'files': ['doc/source/user/limited-connectivity/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b7b681d7e9ecaa88decb0d8d52a64dbc32b5095', 'message': '[doc] Update repositiories for mirroring\n\nChange-Id: Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4\n(cherry picked from commit 49d2a76d00ecb7a7e616143c5e14b2d87a61621d)\n'}]",0,869637,0b7b681d7e9ecaa88decb0d8d52a64dbc32b5095,8,3,1,25023,,,0,"[doc] Update repositiories for mirroring

Change-Id: Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4
(cherry picked from commit 49d2a76d00ecb7a7e616143c5e14b2d87a61621d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/869637/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/limited-connectivity/index.rst'],1,0b7b681d7e9ecaa88decb0d8d52a64dbc32b5095,,"- https://download.ceph.com/- https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang - https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server - http://downloads.mariadb.com/MariaDBOpenStack-Ansible builds LXC images using debootstrap or dnf depending on the distribution. In order to override the package repository you might need to adjust some variables, like ``lxc_apt_mirror`` or completely override build command with ``lxc_hosts_container_build_command`` Consult the ``openstack-ansible-lxc_hosts`` role for details on configuration overrides for this scenario.repository by setting the environment variable ``ANSIBLE_GIT_REPO``. Also, during initial bootstrap you might need to define a custom URL for upper-constraints file that is part of `openstack/requirements` repository, using the TOX_CONSTRAINTS_FILE environment variable.deployer to ignore these validation failures.","- https://download.ceph.com/debian-luminous/ - https://www.rabbitmq.com/debian- https://packages.erlang-solutions.com/ubuntu - https://mirror.rackspace.com/mariadb/repo/10.1/ubuntu - https://repo.percona.com/aptOpenStack-Ansible relies upon community built LXC images when building containers for OpenStack services. Deployers may choose to create, maintain, and host their own container images. Consult the ``openstack-ansible-lxc_container_create`` role for details on configuration overrides for this scenario.repository by setting the environment variable ``ANSIBLE_GIT_REPO``.deployer to ignore these validation failures. Find an example ``/etc/openstack_deploy/user_variables.yml`` configuration below: .. code-block:: yaml pip_validate_certs: false galera_package_download_validate_certs: false The list above is intentionally not exhaustive. Additional variables may exist within the project and will be named using the `*_validate_certs` pattern.",15,21
openstack%2Fansible-collections-openstack~master~Ib94adb1c6d6237800db13b3cc243e0897aa6a49f,openstack/ansible-collections-openstack,master,Ib94adb1c6d6237800db13b3cc243e0897aa6a49f,Updated docs,MERGED,2022-12-30 11:51:56.000000000,2023-01-10 12:45:14.000000000,2023-01-10 12:45:14.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-30 11:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1f8f0027ffa5fb1d7ff359ff7492703387b7c6f0', 'message': 'Updated contributor docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 2, 'created': '2023-01-04 20:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bc04440f9dc85a1c1f31a89c37298e40feec1468', 'message': 'Updated contributor docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 3, 'created': '2023-01-06 13:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/71522f52a6213d974e0a7927454923d623e50f68', 'message': 'Updated contributor docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 4, 'created': '2023-01-06 14:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b240599c4c417275a0e3c6618abc3a2dfea4113d', 'message': 'Updated contributor docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 5, 'created': '2023-01-06 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/68b9e4ea916478f8af40813f9985927f01580072', 'message': 'Updated docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 6, 'created': '2023-01-06 14:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bd95103ef998072c9899dcfc816d6d59e6f70a01', 'message': 'Updated docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 7, 'created': '2023-01-06 15:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e7cd3980e67b07cc18a7647aadd6adfbfb485374', 'message': 'Updated docs\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 8, 'created': '2023-01-09 14:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a6113b504f8bfe50f638ea69f07acbc99e2c845e', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 9, 'created': '2023-01-09 14:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8994f540bae7793805e8e2ed7251926c002609fb', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 10, 'created': '2023-01-09 14:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/66add20d3ff806953d6ebf2e8103fe97d5a4f6a3', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 11, 'created': '2023-01-09 14:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/915e9e9ce8c956a25cbb143895e5485da9d1f1b6', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 12, 'created': '2023-01-10 10:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f5ed1e9060bf650d9d98ae39343704a976afb239', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 13, 'created': '2023-01-10 10:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5d7dc675ced1f3ab09214cba49a8ef8fb243b847', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}, {'number': 14, 'created': '2023-01-10 12:16:07.000000000', 'files': ['CONTRIBUTING.rst', 'docs/reviewing.md', 'docs/devstack.md', 'docs/branching.md', 'docs/openstack_guidelines.rst', 'docs/releasing.md', 'docs/contributing.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7d9de2858ab65710691351534eb7a460925d67ac', 'message': 'Updated docs\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f\n'}]",14,868923,7d9de2858ab65710691351534eb7a460925d67ac,37,4,14,32962,,,0,"Updated docs

Co-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>

Change-Id: Ib94adb1c6d6237800db13b3cc243e0897aa6a49f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/23/868923/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'CONTRIBUTING.md', 'docs/REVIEWING.md', 'docs/openstack_guidelines.rst', 'docs/DEVELOPING.md', 'README.md']",6,1f8f0027ffa5fb1d7ff359ff7492703387b7c6f0,docs,"For information on contributing, please see [CONTRIBUTING](CONTRIBUTING.md)See [LICENCE](COPYING) to see the full text.","For information on contributing, please see [CONTRIBUTING](https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/CONTRIBUTING.rst)See [LICENCE](https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/COPYING) to see the full text.",144,110
openstack%2Fpuppet-cinder~master~I28dabef27ddccd0d343e4e96e16c943dfb6824ac,openstack/puppet-cinder,master,I28dabef27ddccd0d343e4e96e16c943dfb6824ac,[Pure Storage] Support an array value for pure_iscsi_cidr_list,MERGED,2023-01-05 00:20:26.000000000,2023-01-10 12:41:51.000000000,2023-01-10 12:41:51.000000000,"[{'_account_id': 13425}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 00:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/80222f8c55e340949ff1da0648800ef8f73d802f', 'message': '[Pure Storage] Support an array value for pure_iscsi_cidr_list\n\nThe pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-\nseparated list.\n\nThis allows using a native array value for the parameter so that users\ncan more easily compose the value in manifests.\n\nChange-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac\n'}, {'number': 2, 'created': '2023-01-05 02:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7e89fd2acad7a29ae610b991d38d895d47519463', 'message': '[Pure Storage] Support an array value for pure_iscsi_cidr_list\n\nThe pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-\nseparated list.\n\nThis allows using a native array value for the parameter so that users\ncan more easily compose the value in manifests.\n\nChange-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac\n'}, {'number': 3, 'created': '2023-01-05 02:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b4703634b782151b159ce4576a8102728aba1df9', 'message': '[Pure Storage] Support an array value for pure_iscsi_cidr_list\n\nThe pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-\nseparated list.\n\nThis allows using a native array value for the parameter so that users\ncan more easily compose the value in manifests.\n\nChange-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac\n'}, {'number': 4, 'created': '2023-01-05 14:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9ea1ebf6cf8a19e309e2e6ea6e258eeaa25b8ace', 'message': '[Pure Storage] Support an array value for pure_iscsi_cidr_list\n\nThe pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-\nseparated list.\n\nThis allows using a native array value for the parameter so that users\ncan more easily compose the value in manifests.\n\nChange-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac\n'}, {'number': 5, 'created': '2023-01-10 00:23:06.000000000', 'files': ['spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/043edf748abb486612ddf9bee9d39221e756c479', 'message': '[Pure Storage] Support an array value for pure_iscsi_cidr_list\n\nThe pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-\nseparated list.\n\nThis allows using a native array value for the parameter so that users\ncan more easily compose the value in manifests.\n\nChange-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac\n'}]",6,869269,043edf748abb486612ddf9bee9d39221e756c479,28,5,5,9816,,,0,"[Pure Storage] Support an array value for pure_iscsi_cidr_list

The pure_iscsi_cidr_list parameter is a ListOpt and accepts a comma-
separated list.

This allows using a native array value for the parameter so that users
can more easily compose the value in manifests.

Change-Id: I28dabef27ddccd0d343e4e96e16c943dfb6824ac
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/69/869269/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",2,80222f8c55e340949ff1da0648800ef8f73d802f,," ""${name}/pure_iscsi_cidr_list"": value => join(any2array($pure_iscsi_cidr_list), ','));"," ""${name}/pure_iscsi_cidr_list"": value => $pure_iscsi_cidr_list;",11,1
openstack%2Fopenstack-ansible~stable%2Fzed~I577777e80e8543205138e058076ad65b3ed59871,openstack/openstack-ansible,stable/zed,I577777e80e8543205138e058076ad65b3ed59871,Correct series names for documentation,MERGED,2023-01-10 11:39:05.000000000,2023-01-10 12:40:50.000000000,2023-01-10 12:39:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 11:39:05.000000000', 'files': ['doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/26adeef204e221247b335983f6f43f59c5dd0faf', 'message': 'Correct series names for documentation\n\nThe upgrade guide renders the wrong release names.\n\nChange-Id: I577777e80e8543205138e058076ad65b3ed59871\n(cherry picked from commit b9dbe402ad30ee7fbb4d94b9428b89617f2d6eb5)\n'}]",0,869636,26adeef204e221247b335983f6f43f59c5dd0faf,8,3,1,25023,,,0,"Correct series names for documentation

The upgrade guide renders the wrong release names.

Change-Id: I577777e80e8543205138e058076ad65b3ed59871
(cherry picked from commit b9dbe402ad30ee7fbb4d94b9428b89617f2d6eb5)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/869636/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'deploy-guide/source/conf.py']",2,26adeef204e221247b335983f6f43f59c5dd0faf,,previous_series_name = 'yoga' current_series_name = 'zed',previous_series_name = 'xena' current_series_name = 'yoga',4,4
openstack%2Fcyborg~master~Ie60088e12fd2ed41857ec01724db2c146de03b10,openstack/cyborg,master,Ie60088e12fd2ed41857ec01724db2c146de03b10,fix the spell error,MERGED,2023-01-10 10:28:07.000000000,2023-01-10 12:26:29.000000000,2023-01-10 12:25:27.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-10 10:28:07.000000000', 'files': ['cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/954ee30eed10256f34c61e2b494668112ced5f31', 'message': 'fix the spell error\n\nChange-Id: Ie60088e12fd2ed41857ec01724db2c146de03b10\n'}]",0,869690,954ee30eed10256f34c61e2b494668112ced5f31,7,3,1,32020,,,0,"fix the spell error

Change-Id: Ie60088e12fd2ed41857ec01724db2c146de03b10
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/90/869690/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,954ee30eed10256f34c61e2b494668112ced5f31,," LOG.info('[attributes] delete by uuid: %s.', uuid) objects.Attribute.destroy(context, uuid)"," LOG.info('[attributes] delete.') objects.Attribute.destory(context, uuid)",2,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I3ffc591989b619e534ff1d1574ffe841c8573357,openstack/python-tripleoclient,stable/wallaby,I3ffc591989b619e534ff1d1574ffe841c8573357,Make --deployed-server the default,MERGED,2022-07-27 16:33:16.000000000,2023-01-10 12:25:42.000000000,2023-01-10 12:24:35.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-27 16:33:16.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/deployed_server_default-0c2267c7588056fc.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bce8cb749653edae40b10dd6d982f86a7136eab7', 'message': ""Make --deployed-server the default\n\nNow that ephemeral-heat is the default deployment mode, this\noption with default False is confusing.\n\nAlso, we don't get EndpointNotFound exception when instantiating\nclients, if the client library is present.\n\nChange-Id: I3ffc591989b619e534ff1d1574ffe841c8573357\n(cherry picked from commit f797e15dcfac7a6cae0335508af3d4a0944f8945)\n""}]",7,851240,bce8cb749653edae40b10dd6d982f86a7136eab7,20,3,1,7144,,,0,"Make --deployed-server the default

Now that ephemeral-heat is the default deployment mode, this
option with default False is confusing.

Also, we don't get EndpointNotFound exception when instantiating
clients, if the client library is present.

Change-Id: I3ffc591989b619e534ff1d1574ffe841c8573357
(cherry picked from commit f797e15dcfac7a6cae0335508af3d4a0944f8945)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/40/851240/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/deployed_server_default-0c2267c7588056fc.yaml', 'tripleoclient/v1/overcloud_deploy.py']",3,bce8cb749653edae40b10dd6d982f86a7136eab7,," self.compute_client = self.clients.compute self.baremetal_client = self.clients.baremetal default=True, default=True, help=_('DEPRECATED: Use pre-provisioned overcloud nodes.' 'Now the default and this CLI option has no effect.') ) parser.add_argument( '--provision-nodes', action='store_false', dest='deployed_server', default=True, help=_('Provision overcloud nodes with heat.')","from keystoneauth1.exceptions.catalog import EndpointNotFound try: self.compute_client = self.clients.compute self.baremetal_client = self.clients.baremetal except EndpointNotFound: self.log.warning('WARNING: Nova endpoint not available. ' 'Assuming --deployed-server') parsed_args.deployed_server = True default=False, default=False, help=_('Use pre-provisioned overcloud nodes. Removes baremetal,' 'compute and image services requirements from the' 'undercloud node. Must only be used with the' '--disable-validations.')",24,15
openstack%2Ftripleo-ansible~master~I0d64af59e3869fa4df346468465f24a01491cb7d,openstack/tripleo-ansible,master,I0d64af59e3869fa4df346468465f24a01491cb7d,Update master for stable/zed,MERGED,2022-11-02 16:23:38.000000000,2023-01-10 12:25:37.000000000,2023-01-10 12:24:38.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-02 16:23:38.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1ab5438ebeb139e4058cb600dc00fc13d1e14665', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I0d64af59e3869fa4df346468465f24a01491cb7d\n'}]",1,863387,1ab5438ebeb139e4058cb600dc00fc13d1e14665,12,2,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I0d64af59e3869fa4df346468465f24a01491cb7d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/863387/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,1ab5438ebeb139e4058cb600dc00fc13d1e14665,reno-zed, zed,,7,0
openstack%2Fopenstack-ansible-os_ironic~stable%2Fzed~I0d32eb17594800d3df2b7197b002e9aac617185f,openstack/openstack-ansible-os_ironic,stable/zed,I0d32eb17594800d3df2b7197b002e9aac617185f,Update IPA image for the Zed release,MERGED,2023-01-09 18:55:12.000000000,2023-01-10 12:18:08.000000000,2023-01-10 12:17:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 18:55:12.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/048d9d662589a9e56111d567c5bd6b1fbae29b06', 'message': 'Update IPA image for the Zed release\n\nChange-Id: I0d32eb17594800d3df2b7197b002e9aac617185f\n'}]",1,869465,048d9d662589a9e56111d567c5bd6b1fbae29b06,9,3,1,25023,,,0,"Update IPA image for the Zed release

Change-Id: I0d32eb17594800d3df2b7197b002e9aac617185f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/65/869465/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,048d9d662589a9e56111d567c5bd6b1fbae29b06,,"ironic_deploy_image_base_name: ""ipa-centos9-stable-zed""","ironic_deploy_image_base_name: ""ipa-centos8-stable-yoga""",1,1
openstack%2Fansible-role-systemd_mount~master~I5d2d9c074aa0390a6f8b7c8c0ba1c839fe26f6c5,openstack/ansible-role-systemd_mount,master,I5d2d9c074aa0390a6f8b7c8c0ba1c839fe26f6c5,Fix mount's systemd unit dependency logic,MERGED,2022-12-24 00:15:16.000000000,2023-01-10 12:14:19.000000000,2023-01-10 12:13:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-24 00:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/4565d4cb8c42d8165d31f47ea6aeba3a5e306494', 'message': ""Fix mount's systemd unit dependency logic\n\nImprove logic for making systemd mount dependent on\nnetwork-online.target when network filesystem is being used.\n\nThis change improves feature implemented in commit [1].\n\nCurrently when device is specified by UUID or LABEL, dependency for\nnetwork-online.target is added even it's not a network filesystem.\nWe should be careful with this as it may create circular dependency.\nIn my case, circular dependency looked like this:\n\nnetwork.target ->\n  network-pre.target ->\n    netfilter-persistent.service ->\n      local-fs.target ->\n        var-lib-nova.mount ->\n          network-online.target ->\n            network.target\n\nAdditionally, this commit was originally supposed to add dependency also\nfor CIFS mounts(these ones starting from '//') but it never worked in my\nopinion. It was also fixed by this change.\n\n[1] https://opendev.org/openstack/ansible-role-systemd_mount/commit/6a9dcb688628a1a3900f25f72effce4f62f6900e\n\nChange-Id: I5d2d9c074aa0390a6f8b7c8c0ba1c839fe26f6c5\n""}, {'number': 2, 'created': '2022-12-24 00:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/5d86b4e215853b4aa755a0afb0ca466f658effcb', 'message': ""Fix mount's systemd unit dependency logic\n\nImprove logic for making systemd mount dependent on\nnetwork-online.target when network filesystem is being used.\n\nThis change improves feature implemented in commit [1].\n\nCurrently when device is specified by UUID or LABEL, dependency for\nnetwork-online.target is added even it's not a network filesystem.\nWe should be careful with this as it may create circular dependency.\nIn my case, circular dependency looked like this:\n\nnetwork.target ->\n  network-pre.target ->\n    netfilter-persistent.service ->\n      local-fs.target ->\n        var-lib-nova.mount ->\n          network-online.target ->\n            network.target\n\nAdditionally, this commit was originally supposed to add dependency also\nfor CIFS mounts(these ones starting from '//') but it never worked in my\nopinion. It was also fixed by this change.\n\n[1] https://opendev.org/openstack/ansible-role-systemd_mount/commit/6a9dcb688628a1a3900f25f72effce4f62f6900e\n\nChange-Id: I5d2d9c074aa0390a6f8b7c8c0ba1c839fe26f6c5\n""}, {'number': 3, 'created': '2022-12-28 09:46:48.000000000', 'files': ['templates/systemd-mount.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/480bb0c871848f2c65f6c7312eab77c33b88ee7a', 'message': ""Fix mount's systemd unit dependency logic\n\nImprove logic for making systemd mount dependent on\nnetwork-online.target when network filesystem is being used.\n\nThis change improves feature implemented in commit [1].\n\nCurrently when device is specified by UUID or LABEL, dependency for\nnetwork-online.target is added even it's not a network filesystem.\nWe should be careful with this as it may create circular dependency.\nIn my case, circular dependency looked like this:\n\nnetwork.target ->\n  network-pre.target ->\n    netfilter-persistent.service ->\n      local-fs.target ->\n        var-lib-nova.mount ->\n          network-online.target ->\n            network.target\n\nAdditionally, this commit was originally supposed to add dependency also\nfor CIFS mounts(these ones starting from '//') but it never worked in my\nopinion. It was also fixed by this change.\n\n[1] https://opendev.org/openstack/ansible-role-systemd_mount/commit/6a9dcb688628a1a3900f25f72effce4f62f6900e\n\nChange-Id: I5d2d9c074aa0390a6f8b7c8c0ba1c839fe26f6c5\n""}]",1,868511,480bb0c871848f2c65f6c7312eab77c33b88ee7a,12,3,3,32666,,,0,"Fix mount's systemd unit dependency logic

Improve logic for making systemd mount dependent on
network-online.target when network filesystem is being used.

This change improves feature implemented in commit [1].

Currently when device is specified by UUID or LABEL, dependency for
network-online.target is added even it's not a network filesystem.
We should be careful with this as it may create circular dependency.
In my case, circular dependency looked like this:

network.target ->
  network-pre.target ->
    netfilter-persistent.service ->
      local-fs.target ->
        var-lib-nova.mount ->
          network-online.target ->
            network.target

Additionally, this commit was originally supposed to add dependency also
for CIFS mounts(these ones starting from '//') but it never worked in my
opinion. It was also fixed by this change.

[1] https://opendev.org/openstack/ansible-role-systemd_mount/commit/6a9dcb688628a1a3900f25f72effce4f62f6900e

Change-Id: I5d2d9c074aa0390a6f8b7c8c0ba1c839fe26f6c5
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/11/868511/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-mount.j2'],1,4565d4cb8c42d8165d31f47ea6aeba3a5e306494,,"# make unit dependent on network-online.target if network filesystem is being mounted # dependency is also added for strings starting with '//' because it may indicate that CIFS/Samba is being used. {% if not (item.what is search(""^(/[^/]|UUID=|LABEL=).*"")) %}","{% if not (item.what is search(""^/.*"")) or not (item.what is search(""^//.*"")) %}",3,1
openstack%2Fansible-collections-openstack~master~I43a42010e7474f47020c8df2839f8584157c97a4,openstack/ansible-collections-openstack,master,I43a42010e7474f47020c8df2839f8584157c97a4,Add reboot and reboot_hard actions on server,MERGED,2022-12-05 08:26:20.000000000,2023-01-10 12:11:02.000000000,2023-01-10 12:11:02.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-05 08:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f71636076e3157e30f645950ee85b22c62828e91', 'message': 'Add reboot and reboot_hard actions on server\n\nReboot actions (both SOFT and HARD) were missing in ansible actions.\nReboot is different than stop and start, because reboot (HARD) is asking\nopenstack nova to recreate the libvirt XML, which is sometimes needed.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I43a42010e7474f47020c8df2839f8584157c97a4\n'}, {'number': 2, 'created': '2022-12-05 08:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a272d14d62b2dd6a2605269be43d982796c99b71', 'message': 'Add reboot and reboot_hard actions on server\n\nReboot actions (both SOFT and HARD) were missing in ansible actions.\nReboot is different than stop and start, because reboot (HARD) is asking\nopenstack nova to recreate the libvirt XML, which is sometimes needed.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I43a42010e7474f47020c8df2839f8584157c97a4\n'}, {'number': 3, 'created': '2023-01-09 15:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4ea31787430381e383d28d75c529e9875fa8607b', 'message': 'Add reboot and reboot_hard actions on server\n\nReboot actions (both SOFT and HARD) were missing in ansible actions.\nReboot is different than stop and start, because reboot (HARD) is asking\nopenstack nova to recreate the libvirt XML, which is sometimes needed.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I43a42010e7474f47020c8df2839f8584157c97a4\n'}, {'number': 4, 'created': '2023-01-10 08:16:19.000000000', 'files': ['ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_action.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/852d971d50fc9daf1bf3813f6a467b1888cdefb0', 'message': 'Add reboot and reboot_hard actions on server\n\nReboot actions (both SOFT and HARD) were missing in ansible actions.\nReboot is different than stop and start, because reboot (HARD) is asking\nopenstack nova to recreate the libvirt XML, which is sometimes needed.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I43a42010e7474f47020c8df2839f8584157c97a4\n'}]",8,866550,852d971d50fc9daf1bf3813f6a467b1888cdefb0,21,5,4,11583,,,0,"Add reboot and reboot_hard actions on server

Reboot actions (both SOFT and HARD) were missing in ansible actions.
Reboot is different than stop and start, because reboot (HARD) is asking
openstack nova to recreate the libvirt XML, which is sometimes needed.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I43a42010e7474f47020c8df2839f8584157c97a4
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/50/866550/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_action.py']",2,f71636076e3157e30f645950ee85b22c62828e91,," choices: [stop, start, pause, unpause, lock, unlock, suspend, reboot, reboot_hard, resume, rebuild, shelve, shelve_offload, unshelve] 'reboot': ['ACTIVE'], 'reboot_hard': ['ACTIVE'], 'lock', 'unlock', 'suspend', 'reboot', 'reboot_hard', 'resume', # reboot_hard is using reboot_server method with an extra param if self.params['action'] == 'reboot_hard': action_name = 'reboot_server' # Try to grab method from OpenstackSDK # Do the action if self.params['action'] == 'reboot': func_name(os_server, 'SOFT') elif self.params['action'] == 'reboot_hard': func_name(os_server, 'HARD') else: func_name(os_server)"," choices: [stop, start, pause, unpause, lock, unlock, suspend, resume, rebuild, shelve, shelve_offload, unshelve] 'lock', 'unlock', 'suspend', 'resume', func_name(os_server)",61,6
openstack%2Fheat-specs~master~If992dbc335a3653004909fd1da6e88b6bfc8fc64,openstack/heat-specs,master,If992dbc335a3653004909fd1da6e88b6bfc8fc64,remove unicode from code,NEW,2021-01-05 09:27:16.000000000,2023-01-10 11:50:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32020}, {'_account_id': 32102}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-05 09:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/51316a35a72c7c925be5f22f579ce11d049867d4', 'message': 'remove unicode from code\n\nChange-Id: If992dbc335a3653004909fd1da6e88b6bfc8fc64\n'}, {'number': 2, 'created': '2021-01-05 09:37:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/d15e9617edaabbd83ca40a098b62cbcb387632ee', 'message': 'remove unicode from code\n\nChange-Id: If992dbc335a3653004909fd1da6e88b6bfc8fc64\n'}]",3,769289,d15e9617edaabbd83ca40a098b62cbcb387632ee,9,5,2,32020,,,0,"remove unicode from code

Change-Id: If992dbc335a3653004909fd1da6e88b6bfc8fc64
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/89/769289/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,51316a35a72c7c925be5f22f579ce11d049867d4,,"project = 'heat-specs' 'OpenStack Foundation', 'manual'),","project = u'heat-specs' u'OpenStack Foundation', 'manual'),",2,2
openstack%2Fopenstack-ansible-os_nova~stable%2Fyoga~I3220de5863c9c3af418e71774c103c4712b16086,openstack/openstack-ansible-os_nova,stable/yoga,I3220de5863c9c3af418e71774c103c4712b16086,Enable rbd download when nova_glance_rbd is in use,MERGED,2023-01-09 18:56:06.000000000,2023-01-10 11:48:53.000000000,2023-01-10 11:47:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 18:56:06.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5cedf6d52324073d345e40d52ebdc90e4f2eb69b', 'message': 'Enable rbd download when nova_glance_rbd is in use\n\nWith original patch [1] I somehow missed to define enable_rbd_download\nalong with adding rbd_user/pool/conf. However, neither of these\noptions are taken into account if enable_rbd_download is set to false,\nwhich is the default value.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/828897\n\nChange-Id: I3220de5863c9c3af418e71774c103c4712b16086\n(cherry picked from commit 9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a)\n'}]",0,869467,5cedf6d52324073d345e40d52ebdc90e4f2eb69b,8,3,1,25023,,,0,"Enable rbd download when nova_glance_rbd is in use

With original patch [1] I somehow missed to define enable_rbd_download
along with adding rbd_user/pool/conf. However, neither of these
options are taken into account if enable_rbd_download is set to false,
which is the default value.

[1] https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/828897

Change-Id: I3220de5863c9c3af418e71774c103c4712b16086
(cherry picked from commit 9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/67/869467/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,5cedf6d52324073d345e40d52ebdc90e4f2eb69b,,enable_rbd_download = True,,1,0
openstack%2Ftripleo-common~master~I1620911f0982930053d909ce75b3bfb9fe53946b,openstack/tripleo-common,master,I1620911f0982930053d909ce75b3bfb9fe53946b,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-11-02 16:24:44.000000000,2023-01-10 11:47:16.000000000,2023-01-10 11:45:17.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-02 16:24:44.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/991502c295882104373d0af2b731183068487c0a', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I1620911f0982930053d909ce75b3bfb9fe53946b\n'}]",0,863392,991502c295882104373d0af2b731183068487c0a,9,4,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I1620911f0982930053d909ce75b3bfb9fe53946b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/863392/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,991502c295882104373d0af2b731183068487c0a,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fpython-tripleoclient~master~I13bf6c6377ac049054c22d0b8a0e005366c44b7f,openstack/python-tripleoclient,master,I13bf6c6377ac049054c22d0b8a0e005366c44b7f,Rotate ansible.log during ceph deploy,MERGED,2022-12-15 11:24:25.000000000,2023-01-10 11:47:12.000000000,2023-01-10 11:45:15.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-12-15 11:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2b2a3db8ff5a47428f931c03b80f1957be9718b7', 'message': ""Rotate ansible.log during ceph deploy\n\n'overcloud ceph deploy' logs are redirected to /home/stack/ansible.log.\nBefore python-tripleo-client runs cephadm playbook, check if the log\nfile ansible.log exists (from a previous run). If it does, then rename it\nto append a timestamp. When cephadm is run,a new log will be created.\n\nA new parameter 'rotate_log=False' is added to run_ansible_playbook function\nwhich can be enabled for any other operations to perform log rotation.\n\nChange-Id: I13bf6c6377ac049054c22d0b8a0e005366c44b7f\n""}, {'number': 2, 'created': '2022-12-19 08:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/194e928439d3200e01d3cd42434c41b73197c080', 'message': ""Rotate ansible.log during ceph deploy\n\n'overcloud ceph deploy' logs are redirected to /home/stack/ansible.log.\nBefore python-tripleo-client runs cephadm playbook, check if the log\nfile ansible.log exists (from a previous run). If it does, then rename it\nto append a timestamp. When cephadm is run,a new log will be created.\n\nA new parameter 'rotate_log=False' is added to run_ansible_playbook function\nwhich can be enabled for any other operations to perform log rotation.\n\nChange-Id: I13bf6c6377ac049054c22d0b8a0e005366c44b7f\n""}, {'number': 3, 'created': '2023-01-04 10:13:18.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e7c8c35aaca64e2d150efd19b4df74a6a01900e', 'message': ""Rotate ansible.log during ceph deploy\n\n'overcloud ceph deploy' logs are redirected to /home/stack/ansible.log.\nBefore python-tripleo-client runs cephadm playbook, check if the log\nfile ansible.log exists (from a previous run). If it does, then rename it\nto append a timestamp. When cephadm is run,a new log will be created.\n\nA new parameter 'rotate_log=False' is added to run_ansible_playbook function\nwhich can be enabled for any other operations to perform log rotation.\n\nChange-Id: I13bf6c6377ac049054c22d0b8a0e005366c44b7f\nResolves: rhbz#2149339\n""}]",25,867336,6e7c8c35aaca64e2d150efd19b4df74a6a01900e,39,6,3,34598,,,0,"Rotate ansible.log during ceph deploy

'overcloud ceph deploy' logs are redirected to /home/stack/ansible.log.
Before python-tripleo-client runs cephadm playbook, check if the log
file ansible.log exists (from a previous run). If it does, then rename it
to append a timestamp. When cephadm is run,a new log will be created.

A new parameter 'rotate_log=False' is added to run_ansible_playbook function
which can be enabled for any other operations to perform log rotation.

Change-Id: I13bf6c6377ac049054c22d0b8a0e005366c44b7f
Resolves: rhbz#2149339
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/867336/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py']",2,2b2a3db8ff5a47428f931c03b80f1957be9718b7,ceph_bz_logrotate," rotate_log=True,",,14,1
openstack%2Fovn-bgp-agent~master~I6237c51f0f59aab44d18e10dd46fc1ddfe38b215,openstack/ovn-bgp-agent,master,I6237c51f0f59aab44d18e10dd46fc1ddfe38b215,Ensure ndp proxy is created for ipv6 amphoras on provider networks,MERGED,2023-01-03 15:11:56.000000000,2023-01-10 11:44:01.000000000,2023-01-10 11:44:01.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-03 15:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a22702c3c3d2456abdcdc6eaab8da4f8dbd823d1', 'message': 'Ensure ndp proxy is created for ipv6 amphoras on provider networks\n\nChange-Id: I6237c51f0f59aab44d18e10dd46fc1ddfe38b215\n'}, {'number': 2, 'created': '2023-01-10 11:19:11.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ffc9bd99cd44d7f5a1fd2f2c80ced0e4c7c631b8', 'message': 'Ensure ndp proxy is created for ipv6 amphoras on provider networks\n\nWhen a VIP for an amphora load balancer is created on the\n(IPv6) provider network there is a need for the agent to\ncreate an NDP Proxy (similarly to the case for the VMs on\nthe tenant network) so that the traffic can be properly\nredirected out through the br-ex.\n\nChange-Id: I6237c51f0f59aab44d18e10dd46fc1ddfe38b215\n'}]",7,868985,ffc9bd99cd44d7f5a1fd2f2c80ced0e4c7c631b8,13,2,2,23567,,,0,"Ensure ndp proxy is created for ipv6 amphoras on provider networks

When a VIP for an amphora load balancer is created on the
(IPv6) provider network there is a need for the agent to
create an NDP Proxy (similarly to the case for the VMs on
the tenant network) so that the traffic can be properly
redirected out through the br-ex.

Change-Id: I6237c51f0f59aab44d18e10dd46fc1ddfe38b215
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/85/868985/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py']",2,a22702c3c3d2456abdcdc6eaab8da4f8dbd823d1,," def get_virtual_ports_on_datapath_by_chassis(self, datapath, chassis): rows = self.get_ports_on_datapath( datapath, port_type=constants.OVN_VIRTUAL_VIF_PORT_TYPE) return [r for r in rows if r.chassis and r.chassis[0].name == chassis] ",,36,0
openstack%2Fopenstack-ansible~master~Ia05e327a70429b5e4d2947b8e0d08232f50152ac,openstack/openstack-ansible,master,Ia05e327a70429b5e4d2947b8e0d08232f50152ac,[doc] Add example on how to provision LXC bridges with OSA,MERGED,2022-12-23 18:19:12.000000000,2023-01-10 11:39:42.000000000,2023-01-10 11:37:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-23 18:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd4a19449572286aa30755bb659228cad922dc04', 'message': '[doc] Add example on how to provision LXC bridges with OSA\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/868490\nChange-Id: Ia05e327a70429b5e4d2947b8e0d08232f50152ac\n'}, {'number': 2, 'created': '2022-12-23 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f8422d613a18297b16ff7b254dddb737c903502', 'message': '[doc] Add example on how to provision LXC bridges with OSA\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/868490\nChange-Id: Ia05e327a70429b5e4d2947b8e0d08232f50152ac\n'}, {'number': 3, 'created': '2022-12-25 13:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4fe368bc49016e24d26ff91894f8b3783e16b7d2', 'message': '[doc] Add example on how to provision LXC bridges with OSA\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/868534\nChange-Id: Ia05e327a70429b5e4d2947b8e0d08232f50152ac\n'}, {'number': 4, 'created': '2022-12-28 10:33:25.000000000', 'files': ['doc/source/user/network-arch/example.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9ccc5c7095c53458014f099a2eb07dc1ef94220', 'message': '[doc] Add example on how to provision LXC bridges with OSA\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/868534\nChange-Id: Ia05e327a70429b5e4d2947b8e0d08232f50152ac\n'}]",1,868507,f9ccc5c7095c53458014f099a2eb07dc1ef94220,18,3,4,28619,,,0,"[doc] Add example on how to provision LXC bridges with OSA

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/868534
Change-Id: Ia05e327a70429b5e4d2947b8e0d08232f50152ac
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/868507/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/network-arch/example.rst'],1,bd4a19449572286aa30755bb659228cad922dc04,,"If you want to delegate management of network bridges and interfaces on LXC hosts (Control Plane) to OpenStack-Ansible, you can leverage variables ``lxc_net_extra_devices`` and ``lxc_net_extra_networks``, that will be passed to the ``systemd_networkd`` role, for example: .. code-block:: yaml lxc_net_extra_devices: - NetDev: Name: vlan-mgmt Kind: vlan VLAN: Id: 10 - NetDev: Name: ""{{ management_bridge }}"" Kind: bridge Bridge: ForwardDelaySec: 0 HelloTimeSec: 2 MaxAgeSec: 12 STP: off lxc_net_extra_networks: - interface: ""vlan-mgmt"" bridge: ""{{ management_bridge }}"" - interface: ""br-mgmt"" address: ""{{ management_address }}"" netmask: ""255.255.252.0"" gateway: ""172.29.236.1"" - interface: ""eth0"" vlan: - ""vlan-mgmt"" # NOTE: `05` is prefixed to filename to have precedence over netplan filename: 05-lxc-net-eth0 address: ""{{ ansible_facts['eth0']['ipv4']['address'] }}"" netmask: ""{{ ansible_facts['eth0']['ipv4']['netmask'] }}"" ",,37,0
openstack%2Fopenstack-ansible~master~Ia700de4e03f8f238bfa5ee6183cb07aa2fdd83fe,openstack/openstack-ansible,master,Ia700de4e03f8f238bfa5ee6183cb07aa2fdd83fe,Set defaults for octavia-ovn-provider driver,MERGED,2022-12-23 03:57:51.000000000,2023-01-10 11:38:28.000000000,2023-01-10 11:37:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-23 03:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e19646c571599855a177a987346defce6b077afd', 'message': '[WIP] Track ML2 plugin for octavia-ovn-provider driver\n\nThis patch is the first of two required to implement the\noctavia-ovn-provider driver for Octavia. By setting a group var\nwe can determine if ml2.ovn is used prior to installing the\nprovider driver.\n\nChange-Id: Ia700de4e03f8f238bfa5ee6183cb07aa2fdd83fe\n'}, {'number': 2, 'created': '2022-12-24 04:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/939973c1c8c31241531ff52b92409b3fcf55dbf0', 'message': '[WIP] Set defaults for octavia-ovn-provider driver\n\nThis patch is the first of two required to implement the\noctavia-ovn-provider driver for Octavia. By setting a default for\nneutron_bin we can use the path in logic for installing the ovn\nprovider driver.\n\nChange-Id: Ia700de4e03f8f238bfa5ee6183cb07aa2fdd83fe\n'}, {'number': 3, 'created': '2022-12-29 03:33:42.000000000', 'files': ['playbooks/defaults/distro_install.yml', 'playbooks/defaults/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fca345f54d3c6f7c43b3279961c9f5e04c86abb', 'message': 'Set defaults for octavia-ovn-provider driver\n\nThis patch is the first of two required to implement the\noctavia-ovn-provider driver for Octavia. By setting a default for\nneutron_bin we can use the path in logic for installing the ovn\nprovider driver.\n\nChange-Id: Ia700de4e03f8f238bfa5ee6183cb07aa2fdd83fe\n'}]",1,868461,3fca345f54d3c6f7c43b3279961c9f5e04c86abb,15,3,3,16011,,,0,"Set defaults for octavia-ovn-provider driver

This patch is the first of two required to implement the
octavia-ovn-provider driver for Octavia. By setting a default for
neutron_bin we can use the path in logic for installing the ovn
provider driver.

Change-Id: Ia700de4e03f8f238bfa5ee6183cb07aa2fdd83fe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/868461/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/octavia.yml'],1,e19646c571599855a177a987346defce6b077afd,osa-octavia-ovn,"--- # Copyright 2022, Rackspace Technology, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. _neutron_plugin_type: ""{{ neutron_plugin_type | default('ml2.ovn') }}"" ",,16,0
openstack%2Fopenstack-ansible~master~I577777e80e8543205138e058076ad65b3ed59871,openstack/openstack-ansible,master,I577777e80e8543205138e058076ad65b3ed59871,Correct series names for documentation,MERGED,2023-01-10 10:18:30.000000000,2023-01-10 11:37:13.000000000,2023-01-10 11:37:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 10:18:30.000000000', 'files': ['doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b9dbe402ad30ee7fbb4d94b9428b89617f2d6eb5', 'message': 'Correct series names for documentation\n\nThe upgrade guide renders the wrong release names.\n\nChange-Id: I577777e80e8543205138e058076ad65b3ed59871\n'}]",0,869670,b9dbe402ad30ee7fbb4d94b9428b89617f2d6eb5,8,4,1,31542,,,0,"Correct series names for documentation

The upgrade guide renders the wrong release names.

Change-Id: I577777e80e8543205138e058076ad65b3ed59871
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/869670/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'deploy-guide/source/conf.py']",2,b9dbe402ad30ee7fbb4d94b9428b89617f2d6eb5,,previous_series_name = 'yoga' current_series_name = 'zed',previous_series_name = 'xena' current_series_name = 'yoga',4,4
openstack%2Fopenstack-ansible~master~I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8,openstack/openstack-ansible,master,I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8,Sync ZFS pool names,MERGED,2023-01-09 15:07:42.000000000,2023-01-10 11:37:11.000000000,2023-01-10 11:37:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 15:07:42.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a0a721b47745fd8e5a6763013cb37f5f4d687d2', 'message': ""Sync ZFS pool names\n\nCurrently in AIO we have 2 possible path depending on presence of\nsecond drive in CI VM. For ZFS scenario we have pool name desynced\nthat wasn't catched before as issue highly depends on CI providers.\n\nChange-Id: I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8\n""}]",1,869575,4a0a721b47745fd8e5a6763013cb37f5f4d687d2,10,4,1,28619,,,0,"Sync ZFS pool names

Currently in AIO we have 2 possible path depending on presence of
second drive in CI VM. For ZFS scenario we have pool name desynced
that wasn't catched before as issue highly depends on CI providers.

Change-Id: I63af16c3deb8a66a4ba4aad56fa5ed5df988d7f8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/869575/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml'],1,4a0a721b47745fd8e5a6763013cb37f5f4d687d2,," command: zpool create osa-test-pool ""/dev/{{ _bootstrap_host_data_disk_device }}2"" args: creates: /osa-test-pool - name: Create the ZFS osa-test-pool/lxc volume shell: ""(zfs list | grep lxc) || zfs create -o mountpoint=/var/lib/lxc osa-test-pool/lxc"""," command: zpool create pool ""/dev/{{ _bootstrap_host_data_disk_device }}2"" args: creates: /pool - name: Create the ZFS pool/lxc volume shell: ""(zfs list | grep lxc) || zfs create -o mountpoint=/var/lib/lxc pool/lxc""",4,4
openstack%2Fopenstack-ansible~master~I36a8ce857bf893c3f8a1c72bec4e67dd54059052,openstack/openstack-ansible,master,I36a8ce857bf893c3f8a1c72bec4e67dd54059052,Add reminder to contributor docs to update amphora/IPA images,MERGED,2023-01-09 14:55:11.000000000,2023-01-10 11:24:55.000000000,2023-01-10 11:21:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 14:55:11.000000000', 'files': ['doc/source/contributor/periodic-work.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c4220007b9f301400200e911a593cf1e603c249', 'message': 'Add reminder to contributor docs to update amphora/IPA images\n\nChange-Id: I36a8ce857bf893c3f8a1c72bec4e67dd54059052\n'}]",0,869574,4c4220007b9f301400200e911a593cf1e603c249,8,3,1,25023,,,0,"Add reminder to contributor docs to update amphora/IPA images

Change-Id: I36a8ce857bf893c3f8a1c72bec4e67dd54059052
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/869574/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/periodic-work.rst'],1,4c4220007b9f301400200e911a593cf1e603c249,, * Update release-versioned components such as Octavia test ampohora image and Ironic IPA image/kernel. ,,3,0
openstack%2Fopenstack-ansible~stable%2Fzed~I86d44499073f0571a529d81ed3be713996e5f339,openstack/openstack-ansible,stable/zed,I86d44499073f0571a529d81ed3be713996e5f339,Prevent bootstrap failure when all roles/collections are overriden,MERGED,2023-01-09 15:17:25.000000000,2023-01-10 11:24:04.000000000,2023-01-10 11:21:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 15:17:25.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'scripts/get-ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f03be83688c7837e7c5f37b8afda32bba65ff4c6', 'message': ""Prevent bootstrap failure when all roles/collections are overriden\n\nAt the moment we assume that scenario when all roles or collections\nprovided by ansible-role/collection-requirements won't be overwritten.\nAs if they do, previous set_fact will be skipped and\ngalaxy_collections_list/clone_roles will remain undefined.\n\nTo avoid failure and to allow to fully override roles/collections we\ndefine default for the task that aims to merge default items with\nuser-provided ones.\n\nChange-Id: I86d44499073f0571a529d81ed3be713996e5f339\n(cherry picked from commit 63363abdbf094f4fc0a5f52412661563b6bede36)\n""}]",1,869458,f03be83688c7837e7c5f37b8afda32bba65ff4c6,10,3,1,28619,,,0,"Prevent bootstrap failure when all roles/collections are overriden

At the moment we assume that scenario when all roles or collections
provided by ansible-role/collection-requirements won't be overwritten.
As if they do, previous set_fact will be skipped and
galaxy_collections_list/clone_roles will remain undefined.

To avoid failure and to allow to fully override roles/collections we
define default for the task that aims to merge default items with
user-provided ones.

Change-Id: I86d44499073f0571a529d81ed3be713996e5f339
(cherry picked from commit 63363abdbf094f4fc0a5f52412661563b6bede36)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/869458/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-role-requirements.yml', 'scripts/get-ansible-collection-requirements.yml']",2,f03be83688c7837e7c5f37b8afda32bba65ff4c6,," galaxy_collections_list: ""{{ (galaxy_collections_list | default([])) + [ item ] }}"""," galaxy_collections_list: ""{{ galaxy_collections_list + [ item ] }}""",2,2
openstack%2Fopenstack-ansible~master~Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4,openstack/openstack-ansible,master,Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4,[doc] Update repositiories for mirroring,MERGED,2022-12-23 18:00:21.000000000,2023-01-10 11:23:45.000000000,2023-01-10 11:21:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-23 18:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b1039a47dfed9fa10f98a33c9533502dea63fb3', 'message': '[doc] Update repositiories for mirroring\n\nChange-Id: Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4\n'}, {'number': 2, 'created': '2023-01-09 21:38:54.000000000', 'files': ['doc/source/user/limited-connectivity/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49d2a76d00ecb7a7e616143c5e14b2d87a61621d', 'message': '[doc] Update repositiories for mirroring\n\nChange-Id: Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4\n'}]",1,868506,49d2a76d00ecb7a7e616143c5e14b2d87a61621d,12,3,2,28619,,,0,"[doc] Update repositiories for mirroring

Change-Id: Ice9e2a3cc58c72fcd5fa2047e5cba7a2d14f0ac4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/868506/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/limited-connectivity/index.rst'],1,2b1039a47dfed9fa10f98a33c9533502dea63fb3,,"- https://download.ceph.com/- https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang - https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server - http://downloads.mariadb.com/MariaDBOpenStack-Ansible does built LXC images using debootstrap or dnf depending on the distribution. In order to pass proper repository for build command you might need to adjust some variables, like ``lxc_apt_mirror`` or completely override build command with ``lxc_hosts_container_build_command`` Consult the ``openstack-ansible-lxc_hosts`` role for details on configuration overrides for this scenario.repository by setting the environment variable ``ANSIBLE_GIT_REPO``. Also, during initial bootstrap you might need to define a custom URL for upper-constraints file that is part of `openstack/requirementes` repository, using TOX_CONSTRAINTS_FILE environment variable.deployer to ignore these validation failures.","- https://download.ceph.com/debian-luminous/ - https://www.rabbitmq.com/debian- https://packages.erlang-solutions.com/ubuntu - https://mirror.rackspace.com/mariadb/repo/10.1/ubuntu - https://repo.percona.com/aptOpenStack-Ansible relies upon community built LXC images when building containers for OpenStack services. Deployers may choose to create, maintain, and host their own container images. Consult the ``openstack-ansible-lxc_container_create`` role for details on configuration overrides for this scenario.repository by setting the environment variable ``ANSIBLE_GIT_REPO``.deployer to ignore these validation failures. Find an example ``/etc/openstack_deploy/user_variables.yml`` configuration below: .. code-block:: yaml pip_validate_certs: false galera_package_download_validate_certs: false The list above is intentionally not exhaustive. Additional variables may exist within the project and will be named using the `*_validate_certs` pattern.",15,21
openstack%2Fopenstack-ansible~stable%2Fxena~Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,openstack/openstack-ansible,stable/xena,Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,Unset OSA-defined variables for bootstrap,MERGED,2022-12-21 08:48:37.000000000,2023-01-10 11:23:18.000000000,2023-01-10 11:21:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-21 08:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c320f386aff9329911cc5bafe2ec12c48632e88c', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)\n""}, {'number': 2, 'created': '2022-12-28 10:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/306344d437bf88fe1ae2e589992d6198025a7497', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/868107\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)\n""}, {'number': 3, 'created': '2022-12-28 21:07:40.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7e9a32b22d2dd02957726b3a6c0f98f0aeec12dc', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/868107\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)\n""}]",1,868271,7e9a32b22d2dd02957726b3a6c0f98f0aeec12dc,14,3,3,25023,,,0,"Unset OSA-defined variables for bootstrap

We've introduced couple of new ENV vars that we define in
openstack-ansible.rc file. While they're working properly, we still don't
want them to be used during bootstrap process, as in case of
bootstrap failure somewhere in the middle of execution, like before
our plugins collection being installed, next bootstrap re-runs will fail
with smth like `Invalid play strategy specified: openstack.osa.linear`

In order to fix this we set default values for ANSIBLE_TRANSPORT and
ANSIBLE_STRATEGY that we clean out after bootstrap is completed.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/868107
Change-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8
(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/868271/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,c320f386aff9329911cc5bafe2ec12c48632e88c,," export ANSIBLE_TRANSPORT=""smart"" export ANSIBLE_STRATEGY=""linear"" unset ANSIBLE_TRANSPORT unset ANSIBLE_STRATEGY",,4,0
openstack%2Fopenstack-ansible~stable%2Fzed~Ic0b125715527e4f3fba5238c3f7577e83c93e568,openstack/openstack-ansible,stable/zed,Ic0b125715527e4f3fba5238c3f7577e83c93e568,Define name for all collections in a-r-r,MERGED,2023-01-09 15:18:50.000000000,2023-01-10 11:22:40.000000000,2023-01-10 11:21:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 15:18:50.000000000', 'files': ['ansible-collection-requirements.yml', 'scripts/get-ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3ac6b6217e94cf10a9a1fea89c16c6b504b65ffe', 'message': ""Define name for all collections in a-r-r\n\nAt the moment it's not possible to override collection, since we merge\nuser and default collections by name. So in case it's needed to\noverride git repo or user wants to use galaxy, they can only extend\ninstallable collections. At the same time in envs with limited\nconnectivity it might be impossible to fetch data from third-party repos\nand replacement is needed.\n\nSo to allow proper overrides we place collection name and source\nkeys regardless of type.\n\nChange-Id: Ic0b125715527e4f3fba5238c3f7577e83c93e568\n(cherry picked from commit e4b595d910d0fafbd5e9b99daa65b896c1a01829)\n""}]",0,869460,3ac6b6217e94cf10a9a1fea89c16c6b504b65ffe,8,3,1,28619,,,0,"Define name for all collections in a-r-r

At the moment it's not possible to override collection, since we merge
user and default collections by name. So in case it's needed to
override git repo or user wants to use galaxy, they can only extend
installable collections. At the same time in envs with limited
connectivity it might be impossible to fetch data from third-party repos
and replacement is needed.

So to allow proper overrides we place collection name and source
keys regardless of type.

Change-Id: Ic0b125715527e4f3fba5238c3f7577e83c93e568
(cherry picked from commit e4b595d910d0fafbd5e9b99daa65b896c1a01829)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/869460/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'scripts/get-ansible-collection-requirements.yml']",2,3ac6b6217e94cf10a9a1fea89c16c6b504b65ffe,," path: ""{{ zuul_src_path }}/{{ item.source.split('/')[-3:] | join('/') }}"" name: ""{{ item.item.name }}"" source: ""git+file://{{ zuul_src_path }}/{{ item.item.source.split('/')[-3:] | join('/') }}"""," path: ""{{ zuul_src_path }}/{{ item.name.split('/')[-3:] | join('/') }}"" name: ""git+file://{{ zuul_src_path }}/{{ item.item.name.split('/')[-3:] | join('/') }}""",28,15
openstack%2Fos-net-config~master~Ia5e95daac6d8766a222d8bdde3e233475e203fa9,openstack/os-net-config,master,Ia5e95daac6d8766a222d8bdde3e233475e203fa9,Add ethtool_opts config for sriov VF,MERGED,2022-12-13 06:52:17.000000000,2023-01-10 11:11:14.000000000,2023-01-10 11:10:03.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 06:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/383b65c1d4b1314e823eedfcbd3bf6125abdfe8c', 'message': 'WIP: Add ethtool_opts config for sriov VF\n\nSR-IOV VFs used for NIC partitioning shall include ethtool_opts\nconfiguration as well.\n\nChange-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9\n'}, {'number': 2, 'created': '2022-12-13 12:58:05.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c99f19ce78fb83518ddcbb00f6a187df9516b424', 'message': 'Add ethtool_opts config for sriov VF\n\nSR-IOV VFs used for NIC partitioning shall include ethtool_opts\nconfiguration as well.\n\nChange-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9\n'}]",7,867319,c99f19ce78fb83518ddcbb00f6a187df9516b424,19,3,2,18904,,,0,"Add ethtool_opts config for sriov VF

SR-IOV VFs used for NIC partitioning shall include ethtool_opts
configuration as well.

Change-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/19/867319/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/objects.py']",2,383b65c1d4b1314e823eedfcbd3bf6125abdfe8c,," promisc=None, min_tx_rate=0, max_tx_rate=0, ethtool_opts=None): self.ethtool_opts = ethtool_opts ethtool_opts = json.get('ethtool_opts', None) min_tx_rate=min_tx_rate, max_tx_rate=max_tx_rate, ethtool_opts=ethtool_opts)"," promisc=None, min_tx_rate=0, max_tx_rate=0): min_tx_rate=min_tx_rate, max_tx_rate=max_tx_rate) ",7,4
openstack%2Ftripleo-docs~master~Idb218ead15d0285418e9aac979ec7c0766394fa8,openstack/tripleo-docs,master,Idb218ead15d0285418e9aac979ec7c0766394fa8,Remove repeated words,MERGED,2022-12-22 11:57:44.000000000,2023-01-10 11:01:03.000000000,2023-01-10 10:59:55.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:57:44.000000000', 'files': ['deploy-guide/source/features/baremetal_overcloud.rst', 'deploy-guide/source/features/deploy_cellv2_routed.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/features/deploy_cellv2_manage_cell.rst', 'deploy-guide/source/features/deploy_cellv2_advanced.rst', 'deploy-guide/source/post_deployment/tempest/tempest.rst', 'doc/source/developer/tht_walkthrough/tls_for_services.rst', 'deploy-guide/source/features/deploy_cellv2_basic.rst', 'deploy-guide/source/features/security_hardening.rst', 'deploy-guide/source/features/distributed_multibackend_storage.rst', 'deploy-guide/source/features/network_isolation.rst', 'doc/source/upgrade/developer/upgrades/major_upgrade.rst', 'doc/source/developer/tht_walkthrough/design-patterns.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/791b6931aa0f755c97c7613e0bd4650da3cec505', 'message': 'Remove repeated words\n\nThis change fixes repeated adjacent words.\n\nChange-Id: Idb218ead15d0285418e9aac979ec7c0766394fa8\n'}]",4,868412,791b6931aa0f755c97c7613e0bd4650da3cec505,17,3,1,20733,,,0,"Remove repeated words

This change fixes repeated adjacent words.

Change-Id: Idb218ead15d0285418e9aac979ec7c0766394fa8
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/12/868412/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/baremetal_overcloud.rst', 'deploy-guide/source/features/deploy_cellv2_routed.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/features/deploy_cellv2_manage_cell.rst', 'deploy-guide/source/features/deploy_cellv2_advanced.rst', 'deploy-guide/source/post_deployment/tempest/tempest.rst', 'doc/source/developer/tht_walkthrough/tls_for_services.rst', 'deploy-guide/source/features/deploy_cellv2_basic.rst', 'deploy-guide/source/features/security_hardening.rst', 'deploy-guide/source/features/distributed_multibackend_storage.rst', 'deploy-guide/source/features/network_isolation.rst', 'doc/source/upgrade/developer/upgrades/major_upgrade.rst', 'doc/source/developer/tht_walkthrough/design-patterns.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst']",15,791b6931aa0f755c97c7613e0bd4650da3cec505,trivial-fix, overwrite a task with the same name in ``defaults`` ``cloud_config``., overwrite a task with the same name in in ``defaults`` ``cloud_config``.,19,19
openstack%2Ftripleo-ansible~master~Ib96252d022ee812c2bd307f9cb69d11b5d6aacc8,openstack/tripleo-ansible,master,Ib96252d022ee812c2bd307f9cb69d11b5d6aacc8,"Revert ""Fix issues with tox 4.2.4""",NEW,2023-01-10 10:08:53.000000000,2023-01-10 10:56:21.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-10 10:08:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a98dc3021575a4bbc2a2196556081480f88470b', 'message': 'Revert ""Fix issues with tox 4.2.4""\n\nNow that most of the tox issues are fixed with 4.2.6, this partially\nreverts commit b88008dd64049de8a3ae7e38ee76d563134af2ef.\n\nChange-Id: Ib96252d022ee812c2bd307f9cb69d11b5d6aacc8\n'}]",0,869668,4a98dc3021575a4bbc2a2196556081480f88470b,3,3,1,8833,,,0,"Revert ""Fix issues with tox 4.2.4""

Now that most of the tox issues are fixed with 4.2.6, this partially
reverts commit b88008dd64049de8a3ae7e38ee76d563134af2ef.

Change-Id: Ib96252d022ee812c2bd307f9cb69d11b5d6aacc8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/869668/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4a98dc3021575a4bbc2a2196556081480f88470b,, ansible-galaxy install --timeout 600 -fr {toxinidir}/tripleo_ansible/ansible-collections-requirements.yml[testenv:py38] # ansible-core 2.3.16 installed with py38 does not provide a way to set # timeout with ansible-galaxy command. commands = ansible-galaxy install -fr {toxinidir}/tripleo_ansible/ansible-collections-requirements.yml stestr run {posargs} ,ignore_base_python_conflict = Truebasepython = python3# ansible-core 2.13.6 installed with py38 does not provide a way to set # timeout with ansible-galaxy command. ansible-galaxy install -fr {toxinidir}/tripleo_ansible/ansible-collections-requirements.yml,8,5
openstack%2Fpuppet-nova~master~Icbf2659aae4fee9d5ba0a286101a3f33fc18c414,openstack/puppet-nova,master,Icbf2659aae4fee9d5ba0a286101a3f33fc18c414,Allow to configure heartbeat_in_pthread option for nova-api service,ABANDONED,2022-12-19 13:47:14.000000000,2023-01-10 10:41:00.000000000,,"[{'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 13:47:14.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/639c6e80d3ff3a5d89b1bfc75076903f05de27b6', 'message': 'Allow to configure heartbeat_in_pthread option for nova-api service\n\nIn patch [1] default value of the heartbeat_in_pthread option was set\nback to ""False"" as it was causing problems in the non-wsgi services,\nlike e.g. nova-compute.\nBut it should be still good to configure it to ""True"" in e.g. nova-api\nservice.\nThis patch adds such possibility to the api.pp manifest and sets it to\n""True"" by default as such value is much more sane for the nova-api.\n\nRelated-BZ: #2149605\nChange-Id: Icbf2659aae4fee9d5ba0a286101a3f33fc18c414\n'}]",3,868084,639c6e80d3ff3a5d89b1bfc75076903f05de27b6,6,3,1,11975,,,0,"Allow to configure heartbeat_in_pthread option for nova-api service

In patch [1] default value of the heartbeat_in_pthread option was set
back to ""False"" as it was causing problems in the non-wsgi services,
like e.g. nova-compute.
But it should be still good to configure it to ""True"" in e.g. nova-api
service.
This patch adds such possibility to the api.pp manifest and sets it to
""True"" by default as such value is much more sane for the nova-api.

Related-BZ: #2149605
Change-Id: Icbf2659aae4fee9d5ba0a286101a3f33fc18c414
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/84/868084/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,639c6e80d3ff3a5d89b1bfc75076903f05de27b6,bz/2149605," $api_heartbeat_in_pthread = true, 'DEFAULT/enabled_apis': value => join($enabled_apis_real, ','); 'wsgi/api_paste_config': value => $api_paste_config; 'DEFAULT/osapi_compute_listen': value => $api_bind_address; 'DEFAULT/osapi_compute_listen_port': value => $osapi_compute_listen_port; 'DEFAULT/osapi_compute_workers': value => $osapi_compute_workers; 'DEFAULT/enable_network_quota': value => $enable_network_quota; 'DEFAULT/password_length': value => $password_length; 'api/use_forwarded_for': value => pick($use_forwarded_for, $::os_service_default); 'api/max_limit': value => $max_limit; 'api/compute_link_prefix': value => $compute_link_prefix; 'api/glance_link_prefix': value => $glance_link_prefix; 'api/hide_server_address_states': value => $hide_server_address_states; 'api/allow_instance_snapshots': value => $allow_instance_snapshots; 'api/enable_instance_password': value => $enable_instance_password; 'DEFAULT/allow_resize_to_same_host': value => $allow_resize_to_same_host; 'api/instance_list_per_project_cells': value => $instance_list_per_project_cells; 'api/instance_list_cells_batch_strategy': value => $instance_list_cells_batch_strategy; 'api/instance_list_cells_batch_fixed_size': value => $instance_list_cells_batch_fixed_size; 'api/list_records_by_skipping_down_cells': value => $list_records_by_skipping_down_cells; 'oslo_messaging_rabbit/heartbeat_in_pthread': value => $api_heartbeat_in_pthread;"," 'DEFAULT/enabled_apis': value => join($enabled_apis_real, ','); 'wsgi/api_paste_config': value => $api_paste_config; 'DEFAULT/osapi_compute_listen': value => $api_bind_address; 'DEFAULT/osapi_compute_listen_port': value => $osapi_compute_listen_port; 'DEFAULT/osapi_compute_workers': value => $osapi_compute_workers; 'DEFAULT/enable_network_quota': value => $enable_network_quota; 'DEFAULT/password_length': value => $password_length; 'api/use_forwarded_for': value => pick($use_forwarded_for, $::os_service_default); 'api/max_limit': value => $max_limit; 'api/compute_link_prefix': value => $compute_link_prefix; 'api/glance_link_prefix': value => $glance_link_prefix; 'api/hide_server_address_states': value => $hide_server_address_states; 'api/allow_instance_snapshots': value => $allow_instance_snapshots; 'api/enable_instance_password': value => $enable_instance_password; 'DEFAULT/allow_resize_to_same_host': value => $allow_resize_to_same_host; 'api/instance_list_per_project_cells': value => $instance_list_per_project_cells; 'api/instance_list_cells_batch_strategy': value => $instance_list_cells_batch_strategy; 'api/instance_list_cells_batch_fixed_size': value => $instance_list_cells_batch_fixed_size; 'api/list_records_by_skipping_down_cells': value => $list_records_by_skipping_down_cells;",21,19
openstack%2Fopenstack-ansible-ops~master~Ic228ba62d33e3056be71a1d2285b068fc82f32d9,openstack/openstack-ansible-ops,master,Ic228ba62d33e3056be71a1d2285b068fc82f32d9,"Remove ""warn"" parameter from command module",MERGED,2023-01-10 08:40:36.000000000,2023-01-10 10:37:43.000000000,2023-01-10 10:36:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-10 08:40:36.000000000', 'files': ['multi-node-aio/playbooks/deploy-osa.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/9b1ea92f881521c9c950b4b06f460e459a512878', 'message': 'Remove ""warn"" parameter from command module\n\nThis is removed in ansible 2.14.\n\nChange-Id: Ic228ba62d33e3056be71a1d2285b068fc82f32d9\n'}]",0,869660,9b1ea92f881521c9c950b4b06f460e459a512878,9,3,1,25023,,,0,"Remove ""warn"" parameter from command module

This is removed in ansible 2.14.

Change-Id: Ic228ba62d33e3056be71a1d2285b068fc82f32d9
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/60/869660/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/deploy-osa.yml'],1,9b1ea92f881521c9c950b4b06f460e459a512878,osa/warn,, warn: no,0,1
openstack%2Fopenstack-ansible-plugins~master~Ic519fa14f8bab5c855a4ddabb290cbaf720d9b9f,openstack/openstack-ansible-plugins,master,Ic519fa14f8bab5c855a4ddabb290cbaf720d9b9f,Add variable to control no_log in db_setup role,MERGED,2023-01-09 10:10:18.000000000,2023-01-10 10:34:20.000000000,2023-01-10 10:32:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 10:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a15f862aeeceb176339e2665a3f7ecfd4f1e56ed', 'message': 'Add variable to control no_log in db_setup role\n\nIt is often requested by users to be able to see the underlying\ncause of a db_setup failure. This patch adds a variable that\ncan be passed with ansible extra vars to allow the output to be\nseen.\n\nDepending on the verbosity level this feature will potentially\ndisplay the db credentials as part of the ansible output so\nshould be used with care.\n\nIt is also usually the case that db_setup errors are caused\nby underlying networking issues rather than errors directly\nrelated to the database.\n\nChange-Id: Ic519fa14f8bab5c855a4ddabb290cbaf720d9b9f\n'}, {'number': 2, 'created': '2023-01-09 10:34:49.000000000', 'files': ['roles/db_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a30668eca42b1b245ae3970f0f000bb02943a0e5', 'message': 'Add variable to control no_log in db_setup role\n\nIt is often requested by users to be able to see the underlying\ncause of a db_setup failure. This patch adds a variable that\ncan be passed with ansible extra vars to allow the output to be\nseen.\n\nDepending on the verbosity level this feature will potentially\ndisplay the db credentials as part of the ansible output so\nshould be used with care.\n\nIt is also usually the case that db_setup errors are caused\nby underlying networking issues rather than errors directly\nrelated to the database.\n\nChange-Id: Ic519fa14f8bab5c855a4ddabb290cbaf720d9b9f\n'}]",2,869546,a30668eca42b1b245ae3970f0f000bb02943a0e5,11,3,2,25023,,,0,"Add variable to control no_log in db_setup role

It is often requested by users to be able to see the underlying
cause of a db_setup failure. This patch adds a variable that
can be passed with ansible extra vars to allow the output to be
seen.

Depending on the verbosity level this feature will potentially
display the db credentials as part of the ansible output so
should be used with care.

It is also usually the case that db_setup errors are caused
by underlying networking issues rather than errors directly
related to the database.

Change-Id: Ic519fa14f8bab5c855a4ddabb290cbaf720d9b9f
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/46/869546/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/db_setup/tasks/main.yml'],1,a15f862aeeceb176339e2665a3f7ecfd4f1e56ed,, no_log: _oslodb_setup_nolog | defualt(True) no_log: _oslodb_setup_nolog | default(True), no_log: true no_log: true,2,2
openstack%2Fopenstack-ansible-plugins~master~I57e99ce8a5f65f982a2719242dd41e74adbd0b37,openstack/openstack-ansible-plugins,master,I57e99ce8a5f65f982a2719242dd41e74adbd0b37,Unify vars for glusterfs RHEL variants and remove rocky-8 workaround.,MERGED,2022-11-30 09:42:41.000000000,2023-01-10 10:33:30.000000000,2023-01-10 10:32:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-30 09:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/3a08b2876276e9d074141769dc43ed4d77410909', 'message': 'Unify vars for glusterfs RHEL variants and remove rocky-8 workaround.\n\nChange-Id: I57e99ce8a5f65f982a2719242dd41e74adbd0b37\n'}, {'number': 2, 'created': '2022-12-06 17:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/bafcd99c1f0a6a42953bbd6c6461c562f7bbf09f', 'message': 'Unify vars for glusterfs RHEL variants and remove rocky-8 workaround.\n\nChange-Id: I57e99ce8a5f65f982a2719242dd41e74adbd0b37\n'}, {'number': 3, 'created': '2023-01-09 15:26:48.000000000', 'files': ['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/vars/centos-9.yml', 'roles/glusterfs/vars/rocky-9.yml', 'roles/glusterfs/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/e2c0b87120280ca2de14682db184c99b312d77cd', 'message': 'Unify vars for glusterfs RHEL variants and remove rocky-8 workaround.\n\nChange-Id: I57e99ce8a5f65f982a2719242dd41e74adbd0b37\n'}]",5,866116,e2c0b87120280ca2de14682db184c99b312d77cd,19,3,3,25023,,,0,"Unify vars for glusterfs RHEL variants and remove rocky-8 workaround.

Change-Id: I57e99ce8a5f65f982a2719242dd41e74adbd0b37
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/16/866116/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/vars/centos-9.yml', 'roles/glusterfs/vars/redhat.yml', 'roles/glusterfs/vars/rocky-9.yml']",4,3a08b2876276e9d074141769dc43ed4d77410909,,,"--- # Copyright 2022, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. glusterfs_server_dnf_sig_packages: - centos-release-gluster9 glusterfs_server_dnf_enable: [] glusterfs_server_distro_packages: - systemd-udev - glusterfs-server - glusterfs-fuse ",4,65
openstack%2Fansible-role-systemd_networkd~master~I94bf2157e1e95c3fd5af318eac8238cd6c3b6fdc,openstack/ansible-role-systemd_networkd,master,I94bf2157e1e95c3fd5af318eac8238cd6c3b6fdc,Allow to provide multiple VLANs,MERGED,2022-12-23 16:27:56.000000000,2023-01-10 10:29:51.000000000,2023-01-10 10:28:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-23 16:27:56.000000000', 'files': ['templates/systemd-network.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/9b9f791377a51abab0769405906470398d29c94f', 'message': 'Allow to provide multiple VLANs\n\nIn order to create multiple vlans from the same interface, VLAN\nkey must be repeated multiple times. At the moment our role limits\nthat since vlan can not be a list. We adding an option for vlan being a list\nat the same time keeping backwards compatability.\n\nChange-Id: I94bf2157e1e95c3fd5af318eac8238cd6c3b6fdc\n'}]",1,868500,9b9f791377a51abab0769405906470398d29c94f,10,3,1,28619,,,0,"Allow to provide multiple VLANs

In order to create multiple vlans from the same interface, VLAN
key must be repeated multiple times. At the moment our role limits
that since vlan can not be a list. We adding an option for vlan being a list
at the same time keeping backwards compatability.

Change-Id: I94bf2157e1e95c3fd5af318eac8238cd6c3b6fdc
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/00/868500/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-network.j2'],1,9b9f791377a51abab0769405906470398d29c94f,,{% if item.1.vlan is iterable and item.1.vlan is not string %} {% for vlan in item.1.vlan %} VLAN={{ vlan }} {% endfor %} {% else %}{% endif %},,6,0
openstack%2Ftripleo-docs~master~I76666a3931b542e0859be58ae0426cd5f36fb347,openstack/tripleo-docs,master,I76666a3931b542e0859be58ae0426cd5f36fb347,Remove tox skipdist=True,MERGED,2022-12-26 03:42:23.000000000,2023-01-10 10:29:42.000000000,2023-01-10 10:28:20.000000000,"[{'_account_id': 8833}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-12-26 03:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/30349b183cb9f0838e3226e6aacc9f0c97b61d80', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: I76666a3931b542e0859be58ae0426cd5f36fb347\n'}, {'number': 2, 'created': '2022-12-26 04:34:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/62518a75e542da136a6019e2d90054b39d267e44', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\nAlso makes changes to make tox.ini latest tox\ncompatible.\n\nCloses-Bug: #2000357\nChange-Id: I76666a3931b542e0859be58ae0426cd5f36fb347\n'}]",0,868574,62518a75e542da136a6019e2d90054b39d267e44,12,4,2,8833,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.
Also makes changes to make tox.ini latest tox
compatible.

Closes-Bug: #2000357
Change-Id: I76666a3931b542e0859be58ae0426cd5f36fb347
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/74/868574/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30349b183cb9f0838e3226e6aacc9f0c97b61d80,tripleo_tox4,,skipsdist = True,0,1
openstack%2Fos-vif~master~I17cc6d619e7becff6b33fd66a47d3a9621b823fb,openstack/os-vif,master,I17cc6d619e7becff6b33fd66a47d3a9621b823fb,Update gate jobs as per the 2023.1 cycle testing runtime,MERGED,2022-10-14 20:12:47.000000000,2023-01-10 10:29:16.000000000,2023-01-10 10:27:25.000000000,"[{'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 20:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c9657840f74e32cf7508ce8f37b9f1cfe846049f', 'message': 'DNM: testign jobs on Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I17cc6d619e7becff6b33fd66a47d3a9621b823fb\n'}, {'number': 2, 'created': '2022-11-17 21:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7206593a066dc8916feef7ba36a3560fdce97e28', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: I17cc6d619e7becff6b33fd66a47d3a9621b823fb\n'}, {'number': 3, 'created': '2022-11-18 01:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9159a77a5577723be6124e055b9faf3bc86934b0', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: I17cc6d619e7becff6b33fd66a47d3a9621b823fb\n'}, {'number': 4, 'created': '2022-11-21 22:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/43d1fe53de10770a20fbf2b848d87b46ab597d31', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: I17cc6d619e7becff6b33fd66a47d3a9621b823fb\n'}, {'number': 5, 'created': '2023-01-09 11:42:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/03417ac879533f7c4b75b0834afec52bef17a74f', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: I17cc6d619e7becff6b33fd66a47d3a9621b823fb\n'}]",5,861468,03417ac879533f7c4b75b0834afec52bef17a74f,30,3,5,8556,,,0,"Update gate jobs as per the 2023.1 cycle testing runtime

As per 2023.1 testing runtime[1], we need to test on Ubuntu
Jammy (which will be taken care by tempest and devstack patches
to move base jobs to Jammy) and at least single job to run on
Ubutnu Focal (for smooth upgrade). Also, python 3.10 testing is
voting now.

This commit adds a new job to run on focal which can be removed
in future cycle when testing runtime drop the requirement of Focal
testing.

[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html

Change-Id: I17cc6d619e7becff6b33fd66a47d3a9621b823fb
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/68/861468/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c9657840f74e32cf7508ce8f37b9f1cfe846049f,migrate-to-jammy,# test on Jammy,,1,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Ia13f7747696db5b7b7640df7532c6d55627bdd01,openstack/openstack-ansible-openstack_hosts,master,Ia13f7747696db5b7b7640df7532c6d55627bdd01,"Allow to manage extra services, mounts and networks",MERGED,2022-12-25 12:31:51.000000000,2023-01-10 10:26:00.000000000,2023-01-10 10:25:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-25 12:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/862d4191ff0a8b976bf53f55e6049971a6c02bf8', 'message': 'Allow to manage extra services, mounts and networks\n\nWe do mainatain set of systemd roles, that allow to easily provision\nextra services, mounts or even networks and used quite widely across\nroles. This way we can ease lives of deployers and need of maintaining\nexternal playbooks and roles that will do basically same. Feature for a\nway to create/manage internal networking was also asked for quite\na while amoung users. Systemd-service role can also be used to\ndefine post/pre hooks for configured networks and systemd_mount\ncan be usefull to setup a shared filesystems for image or volume\nconversion directories to avoid running out of diskspace on controllers.\n\nChange-Id: Ia13f7747696db5b7b7640df7532c6d55627bdd01\n'}, {'number': 2, 'created': '2022-12-26 10:23:01.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/openstack_hosts_systemd-4f47056a732820bd.yaml', 'tasks/openstack_hosts_systemd.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4d68d23f51b06a340546f4b48597c74250434160', 'message': 'Allow to manage extra services, mounts and networks\n\nWe do mainatain set of systemd roles, that allow to easily provision\nextra services, mounts or even networks and used quite widely across\nroles. This way we can ease lives of deployers and need of maintaining\nexternal playbooks and roles that will do basically same. Feature for a\nway to create/manage internal networking was also asked for quite\na while amoung users. Systemd-service role can also be used to\ndefine post/pre hooks for configured networks and systemd_mount\ncan be usefull to setup a shared filesystems for image or volume\nconversion directories to avoid running out of diskspace on controllers.\n\nChange-Id: Ia13f7747696db5b7b7640df7532c6d55627bdd01\n'}]",1,868534,4d68d23f51b06a340546f4b48597c74250434160,12,3,2,28619,,,0,"Allow to manage extra services, mounts and networks

We do mainatain set of systemd roles, that allow to easily provision
extra services, mounts or even networks and used quite widely across
roles. This way we can ease lives of deployers and need of maintaining
external playbooks and roles that will do basically same. Feature for a
way to create/manage internal networking was also asked for quite
a while amoung users. Systemd-service role can also be used to
define post/pre hooks for configured networks and systemd_mount
can be usefull to setup a shared filesystems for image or volume
conversion directories to avoid running out of diskspace on controllers.

Change-Id: Ia13f7747696db5b7b7640df7532c6d55627bdd01
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/34/868534/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/openstack_hosts_systemd-4f47056a732820bd.yaml', 'tasks/openstack_hosts_systemd.yml', 'defaults/main.yml']",4,862d4191ff0a8b976bf53f55e6049971a6c02bf8,," priority: 400 # Define extra systemd services/networks/mounts openstack_hosts_systemd_mounts: [] # Systemd networks can be configured only on bare metal hosts # systemd-networkd role won't run inside containers. openstack_hosts_systemd_networkd_devices: [] openstack_hosts_systemd_networkd_networks: [] openstack_hosts_systemd_networkd_prefix: openstack-net openstack_hosts_systemd_services: [] openstack_hosts_systemd_slice: ""openstack-hosts"" ", priority: 400,88,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fzed~I3220de5863c9c3af418e71774c103c4712b16086,openstack/openstack-ansible-os_nova,stable/zed,I3220de5863c9c3af418e71774c103c4712b16086,Enable rbd download when nova_glance_rbd is in use,MERGED,2023-01-09 18:55:56.000000000,2023-01-10 10:16:41.000000000,2023-01-10 10:15:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 18:55:56.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/93786c390eecdfe564ffeb173b6671d39e507849', 'message': 'Enable rbd download when nova_glance_rbd is in use\n\nWith original patch [1] I somehow missed to define enable_rbd_download\nalong with adding rbd_user/pool/conf. However, neither of these\noptions are taken into account if enable_rbd_download is set to false,\nwhich is the default value.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/828897\n\nChange-Id: I3220de5863c9c3af418e71774c103c4712b16086\n(cherry picked from commit 9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a)\n'}]",0,869466,93786c390eecdfe564ffeb173b6671d39e507849,8,3,1,25023,,,0,"Enable rbd download when nova_glance_rbd is in use

With original patch [1] I somehow missed to define enable_rbd_download
along with adding rbd_user/pool/conf. However, neither of these
options are taken into account if enable_rbd_download is set to false,
which is the default value.

[1] https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/828897

Change-Id: I3220de5863c9c3af418e71774c103c4712b16086
(cherry picked from commit 9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/66/869466/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,93786c390eecdfe564ffeb173b6671d39e507849,,enable_rbd_download = True,,1,0
openstack%2Fansible-role-pki~master~I4a90479261b2721c08e9034fbae0d56de9308676,openstack/ansible-role-pki,master,I4a90479261b2721c08e9034fbae0d56de9308676,Allow to define mode and ownership for CA private keys,MERGED,2022-12-13 17:45:39.000000000,2023-01-10 10:16:24.000000000,2023-01-10 10:15:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-13 17:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/fe96bd272b5b6a28c5954cfda95c4d9c93849b8c', 'message': 'Allow to define mode for private keys\n\nBy default private keys mode is 0600. However, in cases when pki dir\nis stored in git, file mode is not being preserved there. At the same\ntime changing mode of private key will trigger CA certs re-generation\n\nChange-Id: I4a90479261b2721c08e9034fbae0d56de9308676\n'}, {'number': 2, 'created': '2022-12-13 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/a525936d0a5d3781f167572f7e6e4dd805b54378', 'message': 'Allow to define mode for private keys\n\nBy default private keys mode is 0600. However, in cases when pki dir\nis stored in git, file mode is not being preserved there. At the same\ntime changing mode of private key will trigger CA certs re-generation\n\nChange-Id: I4a90479261b2721c08e9034fbae0d56de9308676\n'}, {'number': 3, 'created': '2022-12-14 10:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/eba97e38febacf0be89fc9d8fc7069f910a03d9d', 'message': 'Allow to define mode and ownership for CA private keys\n\nBy default private keys mode is 0600. However, in cases when pki dir\nis stored in git, file mode is not being preserved there. At the same\ntime changing mode of private key will trigger CA certs re-generation\nwhich may lead to unexpected side-effects.\n\nChange-Id: I4a90479261b2721c08e9034fbae0d56de9308676\n'}, {'number': 4, 'created': '2022-12-28 10:19:49.000000000', 'files': ['tasks/standalone/create_ca.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/7b261e2119b8922128d17f0da4daece90501f07d', 'message': 'Allow to define mode and ownership for CA private keys\n\nBy default private keys mode is 0600. However, in cases when pki dir\nis stored in git, file mode is not being preserved there. At the same\ntime changing mode of private key will trigger CA certs re-generation\nwhich may lead to unexpected side-effects.\n\nChange-Id: I4a90479261b2721c08e9034fbae0d56de9308676\n'}]",1,867553,7b261e2119b8922128d17f0da4daece90501f07d,17,3,4,28619,,,0,"Allow to define mode and ownership for CA private keys

By default private keys mode is 0600. However, in cases when pki dir
is stored in git, file mode is not being preserved there. At the same
time changing mode of private key will trigger CA certs re-generation
which may lead to unexpected side-effects.

Change-Id: I4a90479261b2721c08e9034fbae0d56de9308676
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/53/867553/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/standalone/create_ca.yml', 'tasks/standalone/create_cert.yml']",2,fe96bd272b5b6a28c5954cfda95c4d9c93849b8c,," mode: ""{{ cert.key_mode | default(omit) }}"""," force: ""{{ pki_regen_cert == cert.name or ((pki_regen_cert | lower) == 'true') }}""",2,1
openstack%2Ftripleo-ansible~stable%2Fzed~If75c896b05131ced3ef4d0b71686e66e1271fd88,openstack/tripleo-ansible,stable/zed,If75c896b05131ced3ef4d0b71686e66e1271fd88,Drop ansible-core pin from requirements,MERGED,2022-11-25 06:12:29.000000000,2023-01-10 10:12:09.000000000,2023-01-10 10:09:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-25 06:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a776582672e203f24fccd9c1ee340331d545857', 'message': 'Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n(cherry picked from commit 7baae8e14f0c493d3b165220f6b2d246d145d6d3)\n'}, {'number': 2, 'created': '2022-11-30 08:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f0b89a178596609d3fdda2c43431dc9e5154280', 'message': ""Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nThis also includes:\n\nIncrease ansible-galaxy install timeout to 300s\n\nansible-galaxy install has been timing out very frequently.\nLet's increase the timeout (default: 60s) and see if it helps.\n\nRelated-Bug: #1998297\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n(cherry picked from commit 7baae8e14f0c493d3b165220f6b2d246d145d6d3 and\n cherry picked from commit 899ab0e231a0d82f3f8f83ef5921b702731de141)\n""}, {'number': 3, 'created': '2022-11-30 09:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f022c9031b4f3aaffdbacecad5955db838dfc8f2', 'message': ""Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nThis also includes:\n\nIncrease ansible-galaxy install timeout to 300s\n\nansible-galaxy install has been timing out very frequently.\nLet's increase the timeout (default: 60s) and see if it helps.\n\nRelated-Bug: #1998297\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n(cherry picked from commit 7baae8e14f0c493d3b165220f6b2d246d145d6d3 and\n cherry picked from commit 899ab0e231a0d82f3f8f83ef5921b702731de141)\n""}, {'number': 4, 'created': '2022-11-30 09:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b57ed00539d99c9a71bfaa66c0845ddca244083d', 'message': ""Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nThis also includes:\n\nIncrease ansible-galaxy install timeout to 300s\n\nansible-galaxy install has been timing out very frequently.\nLet's increase the timeout (default: 60s) and see if it helps.\n\nNote: Some jobs like docs, linters can't use the timeout\noption as those still use py3.8 in zed.\n\nRelated-Bug: #1998297\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n(cherry picked from commit 7baae8e14f0c493d3b165220f6b2d246d145d6d3 and\n cherry picked from commit 899ab0e231a0d82f3f8f83ef5921b702731de141)\n""}, {'number': 5, 'created': '2022-11-30 10:51:12.000000000', 'files': ['ansible-requirements.txt', 'zuul.d/playbooks/pre.yml', 'doc/requirements.txt', 'tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75ada566ba9ea40a4cae42caf3d73a459c1e888e', 'message': ""Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nThis also includes:\n\nIncrease ansible-galaxy install timeout to 300s\n\nansible-galaxy install has been timing out very frequently.\nLet's increase the timeout (default: 60s) and see if it helps.\n\nNote: Some jobs like docs, linters can't use the timeout\noption as those still use py3.8 in zed.\n\nRelated-Bug: #1998297\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n(cherry picked from commit 7baae8e14f0c493d3b165220f6b2d246d145d6d3 and\n cherry picked from commit 899ab0e231a0d82f3f8f83ef5921b702731de141)\n""}]",7,865620,75ada566ba9ea40a4cae42caf3d73a459c1e888e,36,4,5,8833,,,0,"Drop ansible-core pin from requirements

We test latest ansible with scenario jobs, there is
more problems than benifits of pinning ansible in
moleclule jobs.

This also includes:

Increase ansible-galaxy install timeout to 300s

ansible-galaxy install has been timing out very frequently.
Let's increase the timeout (default: 60s) and see if it helps.

Note: Some jobs like docs, linters can't use the timeout
option as those still use py3.8 in zed.

Related-Bug: #1998297
Change-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88
(cherry picked from commit 7baae8e14f0c493d3b165220f6b2d246d145d6d3 and
 cherry picked from commit 899ab0e231a0d82f3f8f83ef5921b702731de141)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/865620/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'doc/requirements.txt', 'molecule-requirements.txt']",3,9a776582672e203f24fccd9c1ee340331d545857,ansible_pin,ansible-core,ansible-core<2.12.0,3,3
openstack%2Fopenstack-ansible-plugins~stable%2Fzed~Idec3e05241617ca467a6aee0f66ad18b42fe5afe,openstack/openstack-ansible-plugins,stable/zed,Idec3e05241617ca467a6aee0f66ad18b42fe5afe,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-12-13 13:22:39.000000000,2023-01-10 10:08:14.000000000,2023-01-10 10:06:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-13 13:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9b374aa3872ba07c0d22bd2a84a8824c50507a7a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idec3e05241617ca467a6aee0f66ad18b42fe5afe\n'}, {'number': 2, 'created': '2023-01-09 15:26:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d367ad12643995a70c728d2cac7ed7a10e2ac7ee', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idec3e05241617ca467a6aee0f66ad18b42fe5afe\n'}]",1,867498,d367ad12643995a70c728d2cac7ed7a10e2ac7ee,12,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Idec3e05241617ca467a6aee0f66ad18b42fe5afe
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/98/867498/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9b374aa3872ba07c0d22bd2a84a8824c50507a7a,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstack-ansible-plugins~stable%2Fzed~I40dac8a1281c482953d508f173361e6f789ec229,openstack/openstack-ansible-plugins,stable/zed,I40dac8a1281c482953d508f173361e6f789ec229,Limit maximum number of threads for parallel git clone,MERGED,2023-01-09 18:53:30.000000000,2023-01-10 10:07:30.000000000,2023-01-10 10:06:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 18:53:30.000000000', 'files': ['plugins/modules/git_requirements'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/081b1786cd0410ab43dea34697096687b42bb24e', 'message': 'Limit maximum number of threads for parallel git clone\n\nOn systems with very large numbers of CPU cores enough threads\nwill be launched to exhaust the available number of file descriptors.\n\nThis patch introduces a maximum number of threads which defaults to\n16. This should be sufficient to allow large repositories such as\nnova to take a long time to clone, whilst simultaneously cloning\nmany small repositories in parallel.\n\nChange-Id: I40dac8a1281c482953d508f173361e6f789ec229\n(cherry picked from commit 7f8fe0f3068f81147222040e352b1d205f0e2c9d)\n'}]",0,869463,081b1786cd0410ab43dea34697096687b42bb24e,8,3,1,25023,,,0,"Limit maximum number of threads for parallel git clone

On systems with very large numbers of CPU cores enough threads
will be launched to exhaust the available number of file descriptors.

This patch introduces a maximum number of threads which defaults to
16. This should be sufficient to allow large repositories such as
nova to take a long time to clone, whilst simultaneously cloning
many small repositories in parallel.

Change-Id: I40dac8a1281c482953d508f173361e6f789ec229
(cherry picked from commit 7f8fe0f3068f81147222040e352b1d205f0e2c9d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/63/869463/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/git_requirements'],1,081b1786cd0410ab43dea34697096687b42bb24e,," core_maximum: description: Integer maximum number of cores that should be used for multithreading. Use of too many cores simultaneously will cause file decscriptors to be exhausted. Defaults to 16. Not required. ""core_maximum"": {""required"": False, ""type"": ""int"", ""default"": 16}, ""core_multiplier"": module.params[""core_multiplier""], ""core_maximum"": module.params[""core_maximum""] core_count = min(core_count, config[""core_maximum""])"," ""core_multiplier"": module.params[""core_multiplier""]",12,2
openstack%2Frequirements~master~I0def2d9801f0b20fcc9b613165a29dbced1fd2d7,openstack/requirements,master,I0def2d9801f0b20fcc9b613165a29dbced1fd2d7,Bump GitPython to 3.1.30,MERGED,2023-01-09 21:31:41.000000000,2023-01-10 10:04:03.000000000,2023-01-10 10:02:53.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-01-09 21:31:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/614ef659a61bd1fccc0af4241bf60b69e87f5706', 'message': 'Bump GitPython to 3.1.30\n\n3.1.30 includes 2 sets of fixes for CVE-2022-24439:\n  https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24439\n  https://github.com/gitpython-developers/GitPython/issues/1515\n\nPRs:\n  https://github.com/gitpython-developers/GitPython/pull/1518\n  https://github.com/gitpython-developers/GitPython/pull/1521\n\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\nChange-Id: I0def2d9801f0b20fcc9b613165a29dbced1fd2d7\n'}]",0,869611,614ef659a61bd1fccc0af4241bf60b69e87f5706,9,3,1,8161,,,0,"Bump GitPython to 3.1.30

3.1.30 includes 2 sets of fixes for CVE-2022-24439:
  https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24439
  https://github.com/gitpython-developers/GitPython/issues/1515

PRs:
  https://github.com/gitpython-developers/GitPython/pull/1518
  https://github.com/gitpython-developers/GitPython/pull/1521

Signed-off-by: Lon Hohberger <lhh@redhat.com>
Change-Id: I0def2d9801f0b20fcc9b613165a29dbced1fd2d7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/869611/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,614ef659a61bd1fccc0af4241bf60b69e87f5706,update-gitpython,GitPython===3.1.30,GitPython===3.1.28,1,1
openstack%2Fopenstack-ansible-os_ironic~master~I0d32eb17594800d3df2b7197b002e9aac617185f,openstack/openstack-ansible-os_ironic,master,I0d32eb17594800d3df2b7197b002e9aac617185f,Update IPA image for the Zed release,MERGED,2023-01-09 14:49:07.000000000,2023-01-10 09:57:53.000000000,2023-01-10 09:56:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-09 14:49:07.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/a2d0b5a1925e6b8959a867f55802ed6aba06011e', 'message': 'Update IPA image for the Zed release\n\nChange-Id: I0d32eb17594800d3df2b7197b002e9aac617185f\n'}]",0,869570,a2d0b5a1925e6b8959a867f55802ed6aba06011e,9,4,1,25023,,,0,"Update IPA image for the Zed release

Change-Id: I0d32eb17594800d3df2b7197b002e9aac617185f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/70/869570/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a2d0b5a1925e6b8959a867f55802ed6aba06011e,,"ironic_deploy_image_base_name: ""ipa-centos9-stable-zed""","ironic_deploy_image_base_name: ""ipa-centos8-stable-yoga""",1,1
openstack%2Fkayobe~master~I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a,openstack/kayobe,master,I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a,Use OpenStack Zed release,MERGED,2022-12-14 09:47:33.000000000,2023-01-10 09:50:04.000000000,2022-12-14 23:04:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-14 09:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f913869d1d682a21da561230bbac4cf0e42d92c6', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/wallaby branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}, {'number': 2, 'created': '2022-12-14 09:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ef4e76b2899c29f1d142c650a4830409ff95d289', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/zed branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}, {'number': 3, 'created': '2022-12-14 10:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f79367f6db4d8e9d4b28a30349839a499da0067f', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/zed branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}, {'number': 4, 'created': '2022-12-14 11:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d041145ea1207900a4e65f6cd7ef63b39fa3b54d', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/zed branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}, {'number': 5, 'created': '2022-12-14 15:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc33764d13794f7277d537706ecffc19fe344387', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/zed branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}, {'number': 6, 'created': '2022-12-14 20:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d77389454de424eeba9ba94f5e5c6974d0723ab0', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/zed branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}, {'number': 7, 'created': '2022-12-14 20:42:32.000000000', 'files': ['ansible/inventory/group_vars/all/openstack', 'requirements.yml', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/65c59b9f5939f19f5fb914dbcb0fc64cde99771b', 'message': 'Use OpenStack Zed release\n\nSwitch all dependencies to use the OpenStack Zed release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/zed branch has been cut and RC1 released.\n\nChange-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a\n'}]",6,867617,65c59b9f5939f19f5fb914dbcb0fc64cde99771b,28,4,7,23084,,,0,"Use OpenStack Zed release

Switch all dependencies to use the OpenStack Zed release.

This commit should be reverted on the master branch once the
Kayobe stable/zed branch has been cut and RC1 released.

Change-Id: I1ea18a68bb2c1ea6a2a45f6cbd3c48fd30bb1c8a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/867617/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/group_vars/all/openstack', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml']",4,f913869d1d682a21da561230bbac4cf0e42d92c6,, # TODO(bbezak): Remove when kayobe stable/zed exists. override-checkout: stable/zed # TODO(bbezak): Remove when kayobe stable/zed exists. override-checkout: stable/zed # TODO(bbezak): Remove when kayobe stable/zed exists. override-checkout: stable/zed, override-checkout: stable/yoga,16,11
openstack%2Frequirements~master~I89033024d6fcaaa45815732dc2684dbedaf8efed,openstack/requirements,master,I89033024d6fcaaa45815732dc2684dbedaf8efed,update constraint for glance_store to new release 4.2.0,MERGED,2023-01-05 10:20:52.000000000,2023-01-10 09:43:54.000000000,2023-01-10 09:42:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-05 10:20:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8a6af3a72c499d1411992da05faf63a932de4174', 'message': 'update constraint for glance_store to new release 4.2.0\n\nmeta: version: 4.2.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I387be3413714c436e6fb576f1a7108c51d82a74a\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I89033024d6fcaaa45815732dc2684dbedaf8efed\n'}]",0,869338,8a6af3a72c499d1411992da05faf63a932de4174,20,3,1,11131,,,0,"update constraint for glance_store to new release 4.2.0

meta: version: 4.2.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I387be3413714c436e6fb576f1a7108c51d82a74a
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I89033024d6fcaaa45815732dc2684dbedaf8efed
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/869338/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8a6af3a72c499d1411992da05faf63a932de4174,new-release,glance-store===4.2.0,glance-store===4.1.0,1,1
openstack%2Ftripleo-repos~master~Ia7a1e840f878def13e454c44741fb30702d8a975,openstack/tripleo-repos,master,Ia7a1e840f878def13e454c44741fb30702d8a975,Temp disable verbose logging test and py39-sanity test,MERGED,2023-01-09 10:28:40.000000000,2023-01-10 09:19:36.000000000,2023-01-10 09:19:36.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2023-01-09 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/8e6699c9d605352f235cb874ffc9b8084588f383', 'message': 'Temp disable verbose logging test and py39-sanity test\n\nAs described in related-bug the tripleo-repos gate is blocked\non failing tox-cover and rox-sanity-py39 jobs.\n\nThe verbose logging test is a nice to have but not critical and we\nalready have py39 coverage with openstack-tox-py39. The verbose log\ntest can be re-enabled once we have a fix but for now we need to\nunblock the gate.\n\nRelated-Bug: 2002112\nChange-Id: Ia7a1e840f878def13e454c44741fb30702d8a975\n'}, {'number': 2, 'created': '2023-01-09 12:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/b45b14e5ee45042e00ed4e44497b9ec38f2a4ba9', 'message': 'Temp disable verbose logging test and py39-sanity test\n\nAs described in related-bug the tripleo-repos gate is blocked\non failing tox-cover and rox-sanity-py39 jobs.\n\nThe verbose logging test is a nice to have but not critical and we\nalready have py39 coverage with openstack-tox-py39. The verbose log\ntest can be re-enabled once we have a fix but for now we need to\nunblock the gate.\n\nRelated-Bug: 2002112\nChange-Id: Ia7a1e840f878def13e454c44741fb30702d8a975\n'}, {'number': 3, 'created': '2023-01-09 13:07:09.000000000', 'files': ['tests/unit/get_hash/test_tripleo_get_hash.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e6c52d03712d3cfa08b6924ce2a7cde7018a44bf', 'message': 'Temp disable verbose logging test and py39-sanity test\n\nAs described in related-bug the tripleo-repos gate is blocked\non failing tox-cover and tox-sanity-py39 jobs.\n\nThe verbose logging test is a nice to have but not critical and we\nalready have py39 coverage with openstack-tox-py39. The verbose log\ntest can be re-enabled once we have a fix but for now we need to\nunblock the gate.\n\nRelated-Bug: 2002112\n\nChange-Id: Ia7a1e840f878def13e454c44741fb30702d8a975\n'}]",2,869548,e6c52d03712d3cfa08b6924ce2a7cde7018a44bf,10,5,3,8449,,,0,"Temp disable verbose logging test and py39-sanity test

As described in related-bug the tripleo-repos gate is blocked
on failing tox-cover and tox-sanity-py39 jobs.

The verbose logging test is a nice to have but not critical and we
already have py39 coverage with openstack-tox-py39. The verbose log
test can be re-enabled once we have a fix but for now we need to
unblock the gate.

Related-Bug: 2002112

Change-Id: Ia7a1e840f878def13e454c44741fb30702d8a975
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/48/869548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/get_hash/test_tripleo_get_hash.py', 'zuul.d/layout.yaml']",2,8e6699c9d605352f235cb874ffc9b8084588f383,, # TODO(marios) re-enable when https://bugs.launchpad.net/tripleo/+bug/2002112 # - tox-sanity-py39, - tox-sanity-py39,39,37
openstack%2Fkayobe-config-dev~stable%2Fyoga~Idd7764056e4befe793b4f7813929d687d0597247,openstack/kayobe-config-dev,stable/yoga,Idd7764056e4befe793b4f7813929d687d0597247,Add os_release override for Ubuntu Jammy support,ABANDONED,2023-01-10 08:40:00.000000000,2023-01-10 09:10:32.000000000,,[],"[{'number': 1, 'created': '2023-01-10 08:40:00.000000000', 'files': ['etc/kayobe/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e841ca159663e0182d41d00015004ab9cb762f21', 'message': 'Add os_release override for Ubuntu Jammy support\n\nChange-Id: Idd7764056e4befe793b4f7813929d687d0597247\n'}]",0,869659,e841ca159663e0182d41d00015004ab9cb762f21,2,0,1,22629,,,0,"Add os_release override for Ubuntu Jammy support

Change-Id: Idd7764056e4befe793b4f7813929d687d0597247
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/59/869659/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/globals.yml'],1,e841ca159663e0182d41d00015004ab9cb762f21,,os_release: >- {{ '8-stream' if os_distribution == 'centos' else '8' if os_distribution == 'rocky' else ansible_facts.distribution_release }},#os_release:,4,1
openstack%2Fpuppet-openstack-integration~master~I867ec743b74c8553c7bb19c452ce6a2cbefc2a3e,openstack/puppet-openstack-integration,master,I867ec743b74c8553c7bb19c452ce6a2cbefc2a3e,DNM: Check permission of /var/lib/nova/instances/*,ABANDONED,2022-11-21 08:58:41.000000000,2023-01-10 08:45:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-21 08:58:41.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6f808f49cf964d445dd148f9afd96fb9b328a70a', 'message': 'DNM: Check permission of /var/lib/nova/instances/*\n\nChange-Id: I867ec743b74c8553c7bb19c452ce6a2cbefc2a3e\n'}]",0,865110,6f808f49cf964d445dd148f9afd96fb9b328a70a,3,1,1,9816,,,0,"DNM: Check permission of /var/lib/nova/instances/*

Change-Id: I867ec743b74c8553c7bb19c452ce6a2cbefc2a3e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/10/865110/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,6f808f49cf964d445dd148f9afd96fb9b328a70a,puppet-jammy,sudo ls -lah /var/lib/nova/instances >> $LOG_DIR/nova-dir.txt sudo ls -lah /var/lib/nova/instances/* >> $LOG_DIR/nova-dir.txt ,,3,0
openstack%2Fpuppet-openstack_spec_helper~master~If93f4c4389f2f03a060398a29be97a3ed8626565,openstack/puppet-openstack_spec_helper,master,If93f4c4389f2f03a060398a29be97a3ed8626565,DNM: Testing ...,ABANDONED,2022-10-17 02:45:02.000000000,2023-01-10 08:45:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-17 02:45:02.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/7b8dec68ca2c581b65fb8db4ab7416b17d2aef81', 'message': 'DNM: Testing ...\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/848536\nChange-Id: If93f4c4389f2f03a060398a29be97a3ed8626565\n'}]",2,861549,7b8dec68ca2c581b65fb8db4ab7416b17d2aef81,7,1,1,9816,,,0,"DNM: Testing ...

Depends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/848536
Change-Id: If93f4c4389f2f03a060398a29be97a3ed8626565
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/49/861549/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,7b8dec68ca2c581b65fb8db4ab7416b17d2aef81,puppet-jammy,,,1,0
openstack%2Ftripleo-quickstart~master~Ib124996733d045c495c668e191a947ae87267835,openstack/tripleo-quickstart,master,Ib124996733d045c495c668e191a947ae87267835,DNM: Unpin ansible in Wallaby,ABANDONED,2022-11-21 03:22:34.000000000,2023-01-10 08:45:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-21 03:22:34.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03eb1c289ed71bfc7e29290cce1c1c61f23c526a', 'message': 'DNM: Unpin ansible in Wallaby\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/865089\nChange-Id: Ib124996733d045c495c668e191a947ae87267835\n'}]",0,865090,03eb1c289ed71bfc7e29290cce1c1c61f23c526a,5,3,1,9816,,,0,"DNM: Unpin ansible in Wallaby

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/865089
Change-Id: Ib124996733d045c495c668e191a947ae87267835
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/865090/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml'],1,03eb1c289ed71bfc7e29290cce1c1c61f23c526a,,, - ansible-core-2.14.* # TODO(marios) unpin https://bugs.launchpad.net/tripleo /+bug/1996482,0,1
openstack%2Fpuppet-openstack-integration~master~I3aa668e28faa84783e847c427b94f2a5386ff083,openstack/puppet-openstack-integration,master,I3aa668e28faa84783e847c427b94f2a5386ff083,DNM: Test canonical IPv6 address in ring_*_device,ABANDONED,2022-11-22 07:11:58.000000000,2023-01-10 08:44:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-22 07:11:58.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/503ad6d1573ef090812bfed896f232e0ec45bd16', 'message': 'DNM: Test canonical IPv6 address in ring_*_device\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-swift/+/865094\nChange-Id: I3aa668e28faa84783e847c427b94f2a5386ff083\n'}]",0,865232,503ad6d1573ef090812bfed896f232e0ec45bd16,3,1,1,9816,,,0,"DNM: Test canonical IPv6 address in ring_*_device

Depends-on: https://review.opendev.org/c/openstack/puppet-swift/+/865094
Change-Id: I3aa668e28faa84783e847c427b94f2a5386ff083
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/32/865232/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,503ad6d1573ef090812bfed896f232e0ec45bd16,," if $::openstack_integration::config::ipv6 { $ring_host = '[0000:0000:0000:0000:0000:0000:0000:0001]' } else { $ring_host = $::openstack_integration::config::ip_for_url } ring_object_device { [""${ring_host}:6000/1"", ""${ring_host}:6000/2"", ""${ring_host}:6000/3""]: ring_container_device { [""${ring_host}:6001/1"", ""${ring_host}:6001/2"", ""${ring_host}:6001/3""]: ring_account_device { [""${ring_host}:6002/1"", ""${ring_host}:6002/2"", ""${ring_host}:6002/3""]:"," ring_object_device { [""${::openstack_integration::config::ip_for_url}:6000/1"", ""${::openstack_integration::config::ip_for_url}:6000/2"", ""${::openstack_integration::config::ip_for_url}:6000/3""]: ring_container_device { [""${::openstack_integration::config::ip_for_url}:6001/1"", ""${::openstack_integration::config::ip_for_url}:6001/2"", ""${::openstack_integration::config::ip_for_url}:6001/3""]: ring_account_device { [""${::openstack_integration::config::ip_for_url}:6002/1"", ""${::openstack_integration::config::ip_for_url}:6002/2"", ""${::openstack_integration::config::ip_for_url}:6002/3""]:",8,3
openstack%2Ftripleo-ansible~master~I88fe39b898ac417e55531ee70732a67add1539b1,openstack/tripleo-ansible,master,I88fe39b898ac417e55531ee70732a67add1539b1,Set [engine] infra_image only if needed,ABANDONED,2022-11-28 02:50:23.000000000,2023-01-10 08:43:54.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 02:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/012b003f99e896d3d9fc03cd04b424e94b009b39', 'message': 'Set infra_image only if needed\n\nChange I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5 added\nthe [engine] infra_image to containers.conf file but this results in\npulling the ubi8/pause container. This change made the setting optional\nso that we can avoid the error.\n\nNote that the podman.socket service is not really used at this moment.\n\nChange-Id: I88fe39b898ac417e55531ee70732a67add1539b1\n'}, {'number': 2, 'created': '2022-11-28 02:52:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0ab9a0152455c14c16cd6e947229d04a5ac77e3', 'message': 'Set [engine] infra_image only if needed\n\nChange I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5 added\nthe [engine] infra_image to containers.conf file but this results in\npulling the ubi8/pause container, though the image is not handled by\ncontainer image prepare process now.\n\nThis change excludes the option to avoid reference to the container\nunless the podman.socket unit is explicitly enabled. Note the unit is\nnot really used at this moment.\n\nChange-Id: I88fe39b898ac417e55531ee70732a67add1539b1\n'}]",1,865781,c0ab9a0152455c14c16cd6e947229d04a5ac77e3,7,4,2,9816,,,0,"Set [engine] infra_image only if needed

Change I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5 added
the [engine] infra_image to containers.conf file but this results in
pulling the ubi8/pause container, though the image is not handled by
container image prepare process now.

This change excludes the option to avoid reference to the container
unless the podman.socket unit is explicitly enabled. Note the unit is
not really used at this moment.

Change-Id: I88fe39b898ac417e55531ee70732a67add1539b1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/865781/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/install.yml'],1,012b003f99e896d3d9fc03cd04b424e94b009b39,," - name: Enable podman socket block: - name: Set infra image ini_file: path: /etc/containers/containers.conf owner: root group: root setype: etc_t mode: '0644' create: true section: engine option: infra_image value: ""\""{{ tripleo_container_default_infra_image }}\"""" - name: Enable podman.socket service systemd: name: podman.socket state: started enabled: true - name: Disable podman socket when: - not (tripleo_podman_enable_socket | bool) block: - name: Disable podman.socket service systemd: name: podman.socket state: stopped enabled: false - name: Unset infra image ini_file: path: /etc/containers/containers.conf owner: root group: root setype: etc_t mode: '0644' create: true section: engine option: infra_image state: absent"," - section: engine option: infra_image value: ""\""{{ tripleo_container_default_infra_image }}\"""" - name: Enable podman.socket service systemd: name: podman.socket state: started enabled: true",41,8
openstack%2Fpuppet-pacemaker~stable%2F1.1.x~If560d41e89d03f25b014e82c1816cd4f0f069851,openstack/puppet-pacemaker,stable/1.1.x,If560d41e89d03f25b014e82c1816cd4f0f069851,DNM: Checking CI,ABANDONED,2022-12-06 14:48:23.000000000,2023-01-10 08:41:29.000000000,,[],"[{'number': 1, 'created': '2022-12-06 14:48:23.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/bd25a0430bd24d6051a117068c3f58a7478150d0', 'message': 'DNM: Checking CI\n\nChange-Id: If560d41e89d03f25b014e82c1816cd4f0f069851\n'}]",0,866721,bd25a0430bd24d6051a117068c3f58a7478150d0,2,0,1,9816,,,0,"DNM: Checking CI

Change-Id: If560d41e89d03f25b014e82c1816cd4f0f069851
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/21/866721/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,bd25a0430bd24d6051a117068c3f58a7478150d0,,,,1,0
openstack%2Fmistral-extra~master~I025e90adec9bd25a928205f419b50f850951d333,openstack/mistral-extra,master,I025e90adec9bd25a928205f419b50f850951d333,DNM: dummy change to test gate health,NEW,2022-09-03 20:30:13.000000000,2023-01-10 08:41:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-03 20:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/c1954ff2fb233ee08becc11d2e9b832e2e877268', 'message': 'DNM: dummy change to test gate health\n\nChange-Id: I025e90adec9bd25a928205f419b50f850951d333\n'}, {'number': 2, 'created': '2023-01-09 13:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/5f452a3cd3bcfac20fca7810d28b9fb1c2fbf528', 'message': 'DNM: dummy change to test gate health\n\nChange-Id: I025e90adec9bd25a928205f419b50f850951d333\n'}, {'number': 3, 'created': '2023-01-10 08:31:31.000000000', 'files': ['mistral_extra/__init__.py'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/2ae8df993a4b94e425360b9d245849d32b3288f8', 'message': 'DNM: dummy change to test gate health\n\nChange-Id: I025e90adec9bd25a928205f419b50f850951d333\n'}]",1,855733,2ae8df993a4b94e425360b9d245849d32b3288f8,11,1,3,17685,,,0,"DNM: dummy change to test gate health

Change-Id: I025e90adec9bd25a928205f419b50f850951d333
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/33/855733/3 && git format-patch -1 --stdout FETCH_HEAD,['mistral_extra/__init__.py'],1,c1954ff2fb233ee08becc11d2e9b832e2e877268,inactive-projects-ci-test,import mistral_extra.config # noqa# dummy change ,import mistral_extra.config # noqa,1,1
openstack%2Fpython-tripleoclient~master~Ib6215a85a28e75966dc9302a3a8c0a7702bf5c6d,openstack/python-tripleoclient,master,Ib6215a85a28e75966dc9302a3a8c0a7702bf5c6d,DNM: Testing CI,ABANDONED,2022-12-23 06:59:27.000000000,2023-01-10 08:41:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 06:59:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8f92cd96d9adc9601ba809f25501f6009dd3013', 'message': 'DNM: Testing CI\n\nChange-Id: Ib6215a85a28e75966dc9302a3a8c0a7702bf5c6d\n'}]",0,868467,b8f92cd96d9adc9601ba809f25501f6009dd3013,3,1,1,9816,,,0,"DNM: Testing CI

Change-Id: Ib6215a85a28e75966dc9302a3a8c0a7702bf5c6d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/868467/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b8f92cd96d9adc9601ba809f25501f6009dd3013,,,,1,0
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~If880928f207e437404919dc82e35a144348346bd,openstack/puppet-openstack-integration,stable/yoga,If880928f207e437404919dc82e35a144348346bd,DNM: Testing gate ...,ABANDONED,2022-12-05 04:25:38.000000000,2023-01-10 08:41:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-05 04:25:38.000000000', 'files': ['install_modules.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/607760c1e9012f668eb75289f3787a7bda56ff48', 'message': 'DNM: Testing gate ...\n\nChange-Id: If880928f207e437404919dc82e35a144348346bd\n'}]",0,866543,607760c1e9012f668eb75289f3787a7bda56ff48,3,1,1,9816,,,0,"DNM: Testing gate ...

Change-Id: If880928f207e437404919dc82e35a144348346bd
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/43/866543/1 && git format-patch -1 --stdout FETCH_HEAD,['install_modules.sh'],1,607760c1e9012f668eb75289f3787a7bda56ff48,,,,1,0
openstack%2Fmistral-dashboard~master~I9c84810061a942020919a616fe36e04defc34efd,openstack/mistral-dashboard,master,I9c84810061a942020919a616fe36e04defc34efd,DNM: CI health check,NEW,2023-01-09 13:06:08.000000000,2023-01-10 08:40:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-09 13:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/f0519830eb741e31dde6c7a27af1dbda907327f6', 'message': 'DNM: CI health check\n\nChange-Id: I9c84810061a942020919a616fe36e04defc34efd\n'}, {'number': 2, 'created': '2023-01-10 08:31:01.000000000', 'files': ['mistraldashboard/exceptions.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/04a0cad67fca7467dfc4ad359e0881739050b8bc', 'message': 'DNM: CI health check\n\nChange-Id: I9c84810061a942020919a616fe36e04defc34efd\n'}]",1,869560,04a0cad67fca7467dfc4ad359e0881739050b8bc,5,1,2,17685,,,0,"DNM: CI health check

Change-Id: I9c84810061a942020919a616fe36e04defc34efd
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/60/869560/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/exceptions.py'],1,f0519830eb741e31dde6c7a27af1dbda907327f6,inactive-projects-ci-test,# dummy change,,1,0
openstack%2Frequirements~master~I4453bbec1143af6c9947ab82eceed6b2e2906427,openstack/requirements,master,I4453bbec1143af6c9947ab82eceed6b2e2906427,update constraint for oslo.config to new release 9.1.0,MERGED,2023-01-05 10:15:47.000000000,2023-01-10 08:36:43.000000000,2023-01-10 08:35:42.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-05 10:15:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c8d62044e276e3915e31cab4a8f8085c3b55b1ce', 'message': 'update constraint for oslo.config to new release 9.1.0\n\nmeta: version: 9.1.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I266d0cf9440aab0db6fff74a5a3130f9eaa1def6\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4453bbec1143af6c9947ab82eceed6b2e2906427\n'}]",0,869334,c8d62044e276e3915e31cab4a8f8085c3b55b1ce,22,3,1,11131,,,0,"update constraint for oslo.config to new release 9.1.0

meta: version: 9.1.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I266d0cf9440aab0db6fff74a5a3130f9eaa1def6
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4453bbec1143af6c9947ab82eceed6b2e2906427
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/869334/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c8d62044e276e3915e31cab4a8f8085c3b55b1ce,new-release,oslo.config===9.1.0,oslo.config===9.0.0,1,1
openstack%2Frequirements~master~I79e65a25efe9b3ef9f4df14e9fa4d42b3cc6ef87,openstack/requirements,master,I79e65a25efe9b3ef9f4df14e9fa4d42b3cc6ef87,Temporary pin tox<4 until projects are fixed for tox4,MERGED,2022-12-30 17:52:58.000000000,2023-01-10 08:32:39.000000000,2022-12-31 13:36:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-30 17:52:58.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b3d1412728b192eb29f36b0440f72fe3e5ecef75', 'message': ""Temporary pin tox<4 until projects are fixed for tox4\n\nRequirements repo tox.ini is fixed for tox4 things:\n- https://review.opendev.org/q/I7bc7c98954395765f16cc943e5c826983db5dba0\n\nBut requirements gate run amny other projects checks job which are\nfailing and need tox4 fix on projetc side tox.ini. Instead of keeping\nrequirements gate broken until projects fix the things, let's pin\ntox<4 until then. There are many projects in those failing list which\nfix can take time due to holidays season and less acrtive contributors.\n\nChange-Id: I79e65a25efe9b3ef9f4df14e9fa4d42b3cc6ef87\n""}]",1,868931,b3d1412728b192eb29f36b0440f72fe3e5ecef75,9,2,1,8556,,,0,"Temporary pin tox<4 until projects are fixed for tox4

Requirements repo tox.ini is fixed for tox4 things:
- https://review.opendev.org/q/I7bc7c98954395765f16cc943e5c826983db5dba0

But requirements gate run amny other projects checks job which are
failing and need tox4 fix on projetc side tox.ini. Instead of keeping
requirements gate broken until projects fix the things, let's pin
tox<4 until then. There are many projects in those failing list which
fix can take time due to holidays season and less acrtive contributors.

Change-Id: I79e65a25efe9b3ef9f4df14e9fa4d42b3cc6ef87
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/868931/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,b3d1412728b192eb29f36b0440f72fe3e5ecef75,tox4, vars: # TODO(gmann): Unpin tox once all the projects which requirements repo runs # checks for are fixed for tox4. Current failure of projects can be found # in this patch: https://review.opendev.org/c/openstack/requirements/+/868922 ensure_tox_version: '<4',,5,0
openstack%2Fcharm-trilio-horizon-plugin~stable%2F4.2~I8cf28c2ba8f0a6a135d2a6cff3d6038f5e3890c6,openstack/charm-trilio-horizon-plugin,stable/4.2,I8cf28c2ba8f0a6a135d2a6cff3d6038f5e3890c6,Yoga + Jammy support,ABANDONED,2023-01-10 08:29:10.000000000,2023-01-10 08:32:29.000000000,,[],"[{'number': 1, 'created': '2023-01-10 08:29:10.000000000', 'files': ['src/config.yaml', 'pip.sh', 'charmcraft.yaml', 'src/metadata.yaml', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/6f2bf0afccf66288f1893f9af5239b7ae24d2e35', 'message': 'Yoga + Jammy support\n\nSigned-off-by: Abhijeet Patra <abhijeet.patra@trilio.io>\nChange-Id: I8cf28c2ba8f0a6a135d2a6cff3d6038f5e3890c6\n'}]",0,869306,6f2bf0afccf66288f1893f9af5239b7ae24d2e35,2,0,1,29080,,,0,"Yoga + Jammy support

Signed-off-by: Abhijeet Patra <abhijeet.patra@trilio.io>
Change-Id: I8cf28c2ba8f0a6a135d2a6cff3d6038f5e3890c6
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/06/869306/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'pip.sh', 'charmcraft.yaml', 'src/metadata.yaml', 'src/build.lock', 'tox.ini']",6,6f2bf0afccf66288f1893f9af5239b7ae24d2e35,yoga_jammy_stable/4.2,"passenv = no_proxy,http_proxy,https_proxy,JUJU_REPOSITORY {toxinidir}/pip.sh[testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ",passenv = no_proxy http_proxy https_proxy JUJU_REPOSITORY[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,42,178
openstack%2Frequirements~master~I9d205c4cb4e0043490c10ec82a61bca9cfd1c2a5,openstack/requirements,master,I9d205c4cb4e0043490c10ec82a61bca9cfd1c2a5,DNM: Test with dropped anyjson requirement,ABANDONED,2022-11-08 06:10:08.000000000,2023-01-10 08:31:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-08 06:10:08.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d6d747baf40318c0dcda9ca0fd93d0b8336424ad', 'message': 'DNM: Test with dropped anyjson requirement\n\nChange-Id: I9d205c4cb4e0043490c10ec82a61bca9cfd1c2a5\n'}]",0,863961,d6d747baf40318c0dcda9ca0fd93d0b8336424ad,4,1,1,13252,,,0,"DNM: Test with dropped anyjson requirement

Change-Id: I9d205c4cb4e0043490c10ec82a61bca9cfd1c2a5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/863961/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,d6d747baf40318c0dcda9ca0fd93d0b8336424ad,py310-jobs,,anyjson===0.3.3,0,2
openstack%2Ftripleo-heat-templates~master~Ib4e1c3540da509e27898e584ba5206483a2ccbec,openstack/tripleo-heat-templates,master,Ib4e1c3540da509e27898e584ba5206483a2ccbec,Purge old ansible logs,ABANDONED,2023-01-05 05:42:47.000000000,2023-01-10 08:12:54.000000000,,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-05 05:42:47.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f17dcfb4157d0dcedcf6755e576689129f0e6916', 'message': 'Purge old ansible logs\n\nansible.log is rotated but a series of deployments may result in\nmultiple logs and its never cleaned.\nThis patch ensures to purge all the old ansible logs (rotated)\nfrom /home/stack.\n\nChange-Id: Ib4e1c3540da509e27898e584ba5206483a2ccbec\nResolves: rhbz#2158330\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/867336\n'}]",12,869291,f17dcfb4157d0dcedcf6755e576689129f0e6916,13,4,1,34598,,,0,"Purge old ansible logs

ansible.log is rotated but a series of deployments may result in
multiple logs and its never cleaned.
This patch ensures to purge all the old ansible logs (rotated)
from /home/stack.

Change-Id: Ib4e1c3540da509e27898e584ba5206483a2ccbec
Resolves: rhbz#2158330
Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/867336
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/869291/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,f17dcfb4157d0dcedcf6755e576689129f0e6916,cron_purgeoldlogs, PruneOldAnsibleLogsInHome: description: Enable/disable deletion of old anisble logs in /home directory. type: boolean default: false if {{ PruneOldAnsibleLogsInHome }};then find /home/stack -type f \ -iname 'ansible.log-*' \ -atime +{{ LogrotatePurgeAfterDays|int +1 }} \ -print -delete >&1 | logger -t ansible-log-clean fi PruneOldAnsibleLogsInHome: {get_param: PruneOldAnsibleLogsInHome},,11,0
openstack%2Frequirements~master~Ic6414a879cd016f9ccf7f9acad85cd004d3bffe0,openstack/requirements,master,Ic6414a879cd016f9ccf7f9acad85cd004d3bffe0,DNM: Test with tox4,ABANDONED,2022-12-30 10:39:46.000000000,2023-01-10 08:11:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-30 10:39:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1d3ebdbccbe8aa33291cd48440513952ab36a173', 'message': 'DNM: Test with tox4\n\nChange-Id: Ic6414a879cd016f9ccf7f9acad85cd004d3bffe0\n'}]",1,868922,1d3ebdbccbe8aa33291cd48440513952ab36a173,5,1,1,13252,,,0,"DNM: Test with tox4

Change-Id: Ic6414a879cd016f9ccf7f9acad85cd004d3bffe0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/868922/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1d3ebdbccbe8aa33291cd48440513952ab36a173,test-tox,# TEST,,1,0
openstack%2Fheat~master~I915dc83ccde6b6b8497642857292f9974fd84e98,openstack/heat,master,I915dc83ccde6b6b8497642857292f9974fd84e98,Skip test_stack_update_with_replacing_userdata,MERGED,2022-12-21 04:11:40.000000000,2023-01-10 08:04:55.000000000,2023-01-10 08:03:44.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-12-21 04:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b18a3f923fbf28ef48ef065ae96ee10ebb9a7010', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Focal. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}, {'number': 2, 'created': '2022-12-21 04:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7fbbc07216062952b97998c2223b8ad70b4ec716', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Focal. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}, {'number': 3, 'created': '2022-12-22 05:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/776f8e243a9d9ea2684b1a2323a9d35fdb38ba97', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Jammy. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nThis also re-implement the skip for a different test case[1] using\nthe proper configuration knob.\n\n[1] https://review.opendev.org/c/openstack/heat/+/866545\n\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}, {'number': 4, 'created': '2022-12-22 06:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1951c050f7c71bf9f76300bb52d5468ee5f49937', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Jammy. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nThis also re-implement the skip for a different test case[1] using\nthe proper configuration knob.\n\n[1] https://review.opendev.org/c/openstack/heat/+/866545\n\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}, {'number': 5, 'created': '2022-12-22 07:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8444963ae0df86dc2942951f60a0618055ee0e83', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Jammy. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nThis also re-implement the skip for a different test case[1] using\nthe proper configuration knob.\n\n[1] https://review.opendev.org/c/openstack/heat/+/866545\n\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}, {'number': 6, 'created': '2022-12-23 04:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f78d5c8dd228c6db962d6394f82d88412a6f069', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Jammy. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nThe existing skip for a different test case[1] is re-implemented using\nthe proper configuration knob.\n\nThis also pins the tox to workaround the breakage caused by tox 4.0.\n\n[1] https://review.opendev.org/c/openstack/heat/+/866545\n\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}, {'number': 7, 'created': '2022-12-23 04:27:19.000000000', 'files': ['heat_integrationtests/functional/test_cancel_update.py', 'devstack/lib/heat', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/b452ea7089cf029ef3268dbfea2024f2304da8af', 'message': 'Skip test_stack_update_with_replacing_userdata\n\nThis test case is frequently failing because of a known libvirt issue\nin Ubuntu Jammy. We already disabled one functional test case, but will\ndisable this test case as well, to reduce failure rate of CI runs and\nunblock gate.\n\nThe existing skip for a different test case[1] is re-implemented using\nthe proper configuration knob.\n\nThis also fixes tox.ini to adapt to new tox 4.0.\n - Update how passenv is defined because space-separated list is no\n   longer allowed. Also the values are not case sensitive.\n - skipdist=True breaks installation so is removed.\n\n[1] https://review.opendev.org/c/openstack/heat/+/866545\n\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nRelated-Bug: #1998274\nStory: 2010487\nTask: 47056\nChange-Id: I915dc83ccde6b6b8497642857292f9974fd84e98\n'}]",24,868257,b452ea7089cf029ef3268dbfea2024f2304da8af,80,3,7,9816,,,0,"Skip test_stack_update_with_replacing_userdata

This test case is frequently failing because of a known libvirt issue
in Ubuntu Jammy. We already disabled one functional test case, but will
disable this test case as well, to reduce failure rate of CI runs and
unblock gate.

The existing skip for a different test case[1] is re-implemented using
the proper configuration knob.

This also fixes tox.ini to adapt to new tox 4.0.
 - Update how passenv is defined because space-separated list is no
   longer allowed. Also the values are not case sensitive.
 - skipdist=True breaks installation so is removed.

[1] https://review.opendev.org/c/openstack/heat/+/866545

Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Related-Bug: #1998274
Story: 2010487
Task: 47056
Change-Id: I915dc83ccde6b6b8497642857292f9974fd84e98
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/868257/5 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_create_update.py'],1,b18a3f923fbf28ef48ef065ae96ee10ebb9a7010,story/2010487, @testtools.skip('Bug 1998274'),,1,0
openstack%2Ftempest-stress~master~Ia1dec85e2475f411572953f179d57d706809ded7,openstack/tempest-stress,master,Ia1dec85e2475f411572953f179d57d706809ded7,Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP),ABANDONED,2021-11-05 13:46:34.000000000,2023-01-10 07:46:23.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/4f37f22d0698b6a87bb13ea0a23a4777a87b331b', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 2, 'created': '2021-11-05 13:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/0f0f7b993f7054f28960a7bdbd3dd0297b5a9638', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 3, 'created': '2021-11-05 13:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/5160cd8d7ef10db4ba37d88c470bbaed951fc2cc', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 4, 'created': '2021-11-05 14:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/1b359afbdb189860b512ce6d6f162a7493d84405', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 5, 'created': '2021-11-05 14:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/d2846b89579609917e24ef5d445c3aa2fa435b61', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 6, 'created': '2021-11-05 15:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/86cb86d27c97cf0ce90c5edf72c8934e4f40415e', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 7, 'created': '2021-11-05 15:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/3879032e419c4ade22bc48abe1202b860b0c2e9f', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 8, 'created': '2021-11-06 08:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/3011a9ec6387f50ac2099f4467e2827b58e6e63e', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 9, 'created': '2021-11-09 12:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/0d6866d283651a6fb1aa129e01d94eb1e7d12725', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 10, 'created': '2021-11-09 13:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/149b6b27de6756bad6a278350d0be3ca60ddeca1', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 11, 'created': '2021-11-09 13:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/3fcd76a2b35ba8986e86daf1c5cc5d994ef4c204', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 12, 'created': '2021-11-09 13:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/b7016499b6b034bf03fa0a07ea42e3c020a0536d', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 13, 'created': '2021-11-09 14:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/0c6abace3758ff26cfbf5ef96963a3fc040473f3', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}, {'number': 14, 'created': '2021-11-09 15:03:20.000000000', 'files': ['tempest_stress/actions/volume_attach_delete.py', 'tempest_stress/actions/volume_attach_verify.py', 'tempest_stress/actions/volume_create_delete.py'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/251d948e35262c5e319e90801b8802990dd554ea', 'message': 'Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)\n\nChange-Id: Ia1dec85e2475f411572953f179d57d706809ded7\n'}]",43,816839,251d948e35262c5e319e90801b8802990dd554ea,27,2,14,31779,,,0,"Changed volumes_client to volumes_client_latest. Adaped requests response fields due to evolution (Floating IP)

Change-Id: Ia1dec85e2475f411572953f179d57d706809ded7
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/39/816839/14 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_stress/actions/server_create_destroy.py', 'tempest_stress/actions/volume_attach_delete.py', 'tempest_stress/actions/volume_attach_verify.py', 'tempest_stress/actions/volume_create_delete.py']",4,4f37f22d0698b6a87bb13ea0a23a4777a87b331b,updated_forTrain,"from tempest.common import waiters volumes_client = self.manager.volumes_client_latest waiters.wait_for_volume_resource_status( volumes_client, vol_id, 'available') volumes_client.wait_for_resource_deletion( vol_id)"," volumes_client = self.manager.volumes_client volumes_client.wait_for_volume_status(vol_id, 'available') volumes_client.wait_for_resource_deletion(vol_id)",63,44
openstack%2Fcyborg~master~I3c7dab5d73a8d2a4affa1219b3c64fe616791f60,openstack/cyborg,master,I3c7dab5d73a8d2a4affa1219b3c64fe616791f60,add attributes  get one by key api ut,MERGED,2023-01-10 01:58:42.000000000,2023-01-10 07:36:29.000000000,2023-01-10 07:35:28.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-10 01:58:42.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ce622a605571e9c3ab70df495bdb21d32b0ce98f', 'message': 'add attributes  get one by key api ut\n\nChange-Id: I3c7dab5d73a8d2a4affa1219b3c64fe616791f60\n'}]",0,869303,ce622a605571e9c3ab70df495bdb21d32b0ce98f,7,3,1,32020,,,0,"add attributes  get one by key api ut

Change-Id: I3c7dab5d73a8d2a4affa1219b3c64fe616791f60
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/03/869303/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/api/controllers/v2/test_attributes.py'],1,ce622a605571e9c3ab70df495bdb21d32b0ce98f,," @mock.patch('cyborg.objects.Attribute.get_by_filter') def test_get_attribute_by_key(self, mock_key): attributes = self.fake_attribute_objs mock_key.return_value = attributes url = self.ATTRIBUTE_URL + ""?key="" + attributes[0]['key'] out_attributes = self.get_json(url, headers=self.headers) mock_key.assert_called_once() self.assertTrue(len(out_attributes), len(attributes))",,9,0
openstack%2Fpuppet-vswitch~master~I6898a4b68b10416c9e20bfe486ff101ba0b1abd1,openstack/puppet-vswitch,master,I6898a4b68b10416c9e20bfe486ff101ba0b1abd1,dpdk: Ensure vhost_postcopy_support is a boolean,MERGED,2022-12-15 08:18:30.000000000,2023-01-10 06:49:04.000000000,2023-01-10 06:49:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 08:18:30.000000000', 'files': ['manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/ac3e7eef3c90b5846c7665fa93551f2013a46f74', 'message': 'dpdk: Ensure vhost_postcopy_support is a boolean\n\nThe parameter is later used by if logic so passing a different type\nsuch as string can cause an unexpected result.\n\nChange-Id: I6898a4b68b10416c9e20bfe486ff101ba0b1abd1\n'}]",3,867765,ac3e7eef3c90b5846c7665fa93551f2013a46f74,17,3,1,9816,,,0,"dpdk: Ensure vhost_postcopy_support is a boolean

The parameter is later used by if logic so passing a different type
such as string can cause an unexpected result.

Change-Id: I6898a4b68b10416c9e20bfe486ff101ba0b1abd1
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/65/867765/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/dpdk.pp'],1,ac3e7eef3c90b5846c7665fa93551f2013a46f74,," validate_legacy(Boolean, 'validate_bool', $vhost_postcopy_support)",,1,0
openstack%2Fmistral-dashboard~master~Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24,openstack/mistral-dashboard,master,Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24,Fix tox4 error,MERGED,2023-01-09 19:28:13.000000000,2023-01-10 06:42:39.000000000,2023-01-10 06:42:39.000000000,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 32102}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-01-09 19:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/2caae5477a26e9bdd1992a83075e35acdb3a5ab5', 'message': 'Fix tox4 error\n\ntox.ini started failing with tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\nand make passenv in new lines.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24\n'}, {'number': 2, 'created': '2023-01-09 19:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/bd1650cb00e2aef8309693a0eab0704714e2e607', 'message': 'Fix tox4 error\n\ntox.ini started failing with tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\nand make passenv in new lines.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24\n'}, {'number': 3, 'created': '2023-01-09 20:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/de76a477e6a020723142fe78645f3f247b533f28', 'message': 'Fix tox4 error\n\ntox.ini started failing with tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\nand make passenv in new lines.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24\n'}, {'number': 4, 'created': '2023-01-09 20:36:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/2afede75cae1b8f84b17518a5e9ab2483eec4d22', 'message': 'Fix tox4 error\n\ntox.ini started failing with tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\nand make passenv in new lines.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24\n'}]",0,869608,2afede75cae1b8f84b17518a5e9ab2483eec4d22,15,7,4,8556,,,0,"Fix tox4 error

tox.ini started failing with tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals
and make passenv in new lines.

Fixing tox.ini for tox4 changes.

Change-Id: Ic10c68cf73f0e181c1182b348f49b9fff1f4cf24
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/08/869608/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2caae5477a26e9bdd1992a83075e35acdb3a5ab5,gate-fix-mistral-repo,Allowlist_externals = findAllowlist_externals = oslo_debug_helper,skipsdist = Truewhitelist_externals = findwhitelist_externals = oslo_debug_helper,2,3
openstack%2Fmistral-extra~master~I0492630b17a7355a96abd44398b650fad9ec565f,openstack/mistral-extra,master,I0492630b17a7355a96abd44398b650fad9ec565f,Fix tox4 error,MERGED,2023-01-09 19:28:09.000000000,2023-01-10 06:41:42.000000000,2023-01-10 06:40:47.000000000,"[{'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 32102}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-01-09 19:28:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/e0687d607319b796503859353b8f3ab1cc9aa9f5', 'message': 'Fix tox4 error\n\ntox.ini started failing with tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\nand make passenv in new lines.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I0492630b17a7355a96abd44398b650fad9ec565f\n'}]",0,869605,e0687d607319b796503859353b8f3ab1cc9aa9f5,10,6,1,8556,,,0,"Fix tox4 error

tox.ini started failing with tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals
and make passenv in new lines.

Fixing tox.ini for tox4 changes.

Change-Id: I0492630b17a7355a96abd44398b650fad9ec565f
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/05/869605/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e0687d607319b796503859353b8f3ab1cc9aa9f5,gate-fix-mistral-repo,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYAllowlist_externals =Allowlist_externals =,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYwhitelist_externals =whitelist_externals =,9,4
openstack%2Fmistral-lib~master~Id8d5c7bed75b6dc813203d2e814642855d645b6c,openstack/mistral-lib,master,Id8d5c7bed75b6dc813203d2e814642855d645b6c,Fix tox4 error,MERGED,2023-01-09 19:28:11.000000000,2023-01-10 06:38:45.000000000,2023-01-10 06:37:45.000000000,"[{'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 32102}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-01-09 19:28:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/7bbfa4f945a68738dcdae26e5c4f2f4f4a657429', 'message': 'Fix tox4 error\n\ntox.ini started failing with tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\nand make passenv in new lines.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Id8d5c7bed75b6dc813203d2e814642855d645b6c\n'}]",0,869606,7bbfa4f945a68738dcdae26e5c4f2f4f4a657429,10,7,1,8556,,,0,"Fix tox4 error

tox.ini started failing with tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals
and make passenv in new lines.

Fixing tox.ini for tox4 changes.

Change-Id: Id8d5c7bed75b6dc813203d2e814642855d645b6c
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/06/869606/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7bbfa4f945a68738dcdae26e5c4f2f4f4a657429,gate-fix-mistral-repo,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fpuppet-cinder~stable%2Fyoga~Ia493843b286bd55002beaf74cca37f500c0448d6,openstack/puppet-cinder,stable/yoga,Ia493843b286bd55002beaf74cca37f500c0448d6,[Pure Storage] Add new iscsi_cidr_list param for FlashArray Cinder backend,MERGED,2023-01-09 20:01:37.000000000,2023-01-10 05:53:29.000000000,2023-01-10 05:52:29.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 20:01:37.000000000', 'files': ['releasenotes/notes/pure_add_iscsi_cidr_list-aab9045dcf9a4f83.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2c70433738dafb0287d5d247d8685a091308598f', 'message': '[Pure Storage] Add new iscsi_cidr_list param for FlashArray Cinder backend\n\nChange-Id: Ia493843b286bd55002beaf74cca37f500c0448d6\n(cherry picked from commit 7a534f41e0096b9f110b5c6a5e3066b0515e19f4)\n(cherry picked from commit 7d914e081a8549d55216aa7e4aba5ebc675b5fd3)\n'}]",1,869469,2c70433738dafb0287d5d247d8685a091308598f,8,3,1,13425,,,0,"[Pure Storage] Add new iscsi_cidr_list param for FlashArray Cinder backend

Change-Id: Ia493843b286bd55002beaf74cca37f500c0448d6
(cherry picked from commit 7a534f41e0096b9f110b5c6a5e3066b0515e19f4)
(cherry picked from commit 7d914e081a8549d55216aa7e4aba5ebc675b5fd3)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/69/869469/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_add_iscsi_cidr_list-aab9045dcf9a4f83.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,2c70433738dafb0287d5d247d8685a091308598f,add_cidr_list-stable/zed-stable/yoga,"# [*pure_iscsi_cidr_list*] # (Optional) Identifies comma-separated list of CIDR of FlashArray # iSCSI targets hosts are allowed to connect to. It supports IPv4 # and IPv6 subnets. This parameter supersedes pure_iscsi_cidr. # Defaults to $::os_service_default # $pure_iscsi_cidr_list = $::os_service_default, ""${name}/pure_iscsi_cidr_list"": value => $pure_iscsi_cidr_list;",,17,0
openstack%2Fpuppet-cinder~stable%2Fzed~I7e1172b3048e6bf84be7dad4d193f10e9b15138e,openstack/puppet-cinder,stable/zed,I7e1172b3048e6bf84be7dad4d193f10e9b15138e,[Pure Storage] Add NVMe support for FlashArray Cinder backend,MERGED,2023-01-09 20:00:12.000000000,2023-01-10 05:43:12.000000000,2023-01-10 05:42:15.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 20:00:12.000000000', 'files': ['releasenotes/notes/pure_nvme-b471de69aba7dbe7.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/fa45f474394d09d2cbef3ce6d43a5a4806309511', 'message': '[Pure Storage] Add NVMe support for FlashArray Cinder backend\n\nAdd support for NVMe to cinder::backend::pure_storage_protocol\nand new parameters cinder::backend::pure::pure_nvme_transport,\ncinder::backend::pure::pure_nvme_cidr and\ncinder::backend::pure::pure_nvme_cidr_list for Pure Storage\nFlashArray Cinder backend.\n\nChange-Id: I7e1172b3048e6bf84be7dad4d193f10e9b15138e\n(cherry picked from commit 2519bd4f8173a6b016d0a901205470d731b8903d)\n'}]",0,869468,fa45f474394d09d2cbef3ce6d43a5a4806309511,8,3,1,13425,,,0,"[Pure Storage] Add NVMe support for FlashArray Cinder backend

Add support for NVMe to cinder::backend::pure_storage_protocol
and new parameters cinder::backend::pure::pure_nvme_transport,
cinder::backend::pure::pure_nvme_cidr and
cinder::backend::pure::pure_nvme_cidr_list for Pure Storage
FlashArray Cinder backend.

Change-Id: I7e1172b3048e6bf84be7dad4d193f10e9b15138e
(cherry picked from commit 2519bd4f8173a6b016d0a901205470d731b8903d)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/68/869468/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_nvme-b471de69aba7dbe7.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,fa45f474394d09d2cbef3ce6d43a5a4806309511,add_nvme-stable/zed,"# (optional) Must be either 'iSCSI', 'FC' or 'NVMe'. This will determine # which Volume Driver will be configured; PureISCSIDriver, PureFCDriver # or PureNVMEDriver.# [*pure_nvme_transport*] # (Optional) Identifies which NVMe transport layer to be used with # the NVMe driver. # Defaults to $::os_service_default # # [*pure_nvme_cidr*] # (Optional) Identifies which NVMe network CIDR should be used for # NVMe connections to the FlashArray if the array is configured with # multiple NVMe VLANs. # Defaults to $::os_service_default # # [*pure_nvme_cidr_list*] # (Optional) Identifies list of CIDR of FlashArray NVMe targets hosts # are allowed to connect to. It supports IPv4 and IPv6 subnets. This # parameter supercedes pure_nvme_cidr. # Defaults to $::os_service_default # $pure_nvme_transport = $::os_service_default, $pure_nvme_cidr = $::os_service_default, $pure_nvme_cidr_list = $::os_service_default, 'iSCSI' => 'cinder.volume.drivers.pure.PureISCSIDriver', 'NVMe' => 'cinder.volume.drivers.pure.PureNVMEDriver' ""${name}/pure_nvme_transport"": value => $pure_nvme_transport; ""${name}/pure_nvme_cidr"": value => $pure_nvme_cidr; ""${name}/pure_nvme_cidr_list"": value => join(any2array($pure_nvme_cidr_list), ',');",# (optional) Must be either 'iSCSI' or 'FC'. This will determine # which Volume Driver will be configured; PureISCSIDriver or PureFCDriver. 'iSCSI' => 'cinder.volume.drivers.pure.PureISCSIDriver',69,5
openstack%2Frequirements~master~Ic2545956f75c9da702dbf1a7bb2057b4464fe460,openstack/requirements,master,Ic2545956f75c9da702dbf1a7bb2057b4464fe460,update constraint for neutron-lib to new release 3.3.0,MERGED,2023-01-04 13:46:56.000000000,2023-01-10 05:34:08.000000000,2023-01-10 05:32:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-04 13:46:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0c61119a01744426d2c89102d813139058496ae9', 'message': 'update constraint for neutron-lib to new release 3.3.0\n\nmeta: version: 3.3.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I296966e3f461dc05edb103f68efdb1059234abed\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Bence Romsics <bence.romsics@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic2545956f75c9da702dbf1a7bb2057b4464fe460\n'}]",0,869216,0c61119a01744426d2c89102d813139058496ae9,10,3,1,11131,,,0,"update constraint for neutron-lib to new release 3.3.0

meta: version: 3.3.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I296966e3f461dc05edb103f68efdb1059234abed
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Bence Romsics <bence.romsics@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ic2545956f75c9da702dbf1a7bb2057b4464fe460
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/869216/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0c61119a01744426d2c89102d813139058496ae9,new-release,neutron-lib===3.3.0,neutron-lib===3.2.0,1,1
openstack%2Frequirements~master~I133a7aac8d1897a7986d476ee02cdb5ab9cd8bb5,openstack/requirements,master,I133a7aac8d1897a7986d476ee02cdb5ab9cd8bb5,update constraint for python-neutronclient to new release 8.2.1,MERGED,2023-01-04 13:44:21.000000000,2023-01-10 05:33:28.000000000,2023-01-10 05:32:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-04 13:44:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c11d3fbea7e788ada1cb9eaf206d14bb63e514bb', 'message': 'update constraint for python-neutronclient to new release 8.2.1\n\nmeta: version: 8.2.1\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ifb135003917bc53fe936703c0491c88780370332\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Bence Romsics <bence.romsics@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nChange-Id: I133a7aac8d1897a7986d476ee02cdb5ab9cd8bb5\n'}]",0,869215,c11d3fbea7e788ada1cb9eaf206d14bb63e514bb,13,3,1,11131,,,0,"update constraint for python-neutronclient to new release 8.2.1

meta: version: 8.2.1
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ifb135003917bc53fe936703c0491c88780370332
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Bence Romsics <bence.romsics@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
Change-Id: I133a7aac8d1897a7986d476ee02cdb5ab9cd8bb5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/869215/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c11d3fbea7e788ada1cb9eaf206d14bb63e514bb,new-release,python-neutronclient===8.2.1,python-neutronclient===8.2.0,1,1
openstack%2Frequirements~master~Ia7dff9a565db4d419d78135aacfbda61dda8577d,openstack/requirements,master,Ia7dff9a565db4d419d78135aacfbda61dda8577d,update constraint for os-ken to new release 2.6.0,MERGED,2023-01-04 13:34:18.000000000,2023-01-10 05:10:57.000000000,2023-01-10 05:09:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-04 13:34:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/57a7275acd239f39c40f418e7954933264391677', 'message': 'update constraint for os-ken to new release 2.6.0\n\nmeta: version: 2.6.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5a13a1a952d96a0a5e4872bbaf544f604e56372c\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Bence Romsics <bence.romsics@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia7dff9a565db4d419d78135aacfbda61dda8577d\n'}]",0,869212,57a7275acd239f39c40f418e7954933264391677,13,3,1,11131,,,0,"update constraint for os-ken to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5a13a1a952d96a0a5e4872bbaf544f604e56372c
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Bence Romsics <bence.romsics@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ia7dff9a565db4d419d78135aacfbda61dda8577d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/869212/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,57a7275acd239f39c40f418e7954933264391677,new-release,os-ken===2.6.0,os-ken===2.5.0,1,1
openstack%2Frequirements~master~I99c20cf35d6e832a8b341d431a58dff25118b4da,openstack/requirements,master,I99c20cf35d6e832a8b341d431a58dff25118b4da,Adding newly released tripleo-ansible into requirements.,MERGED,2023-01-03 09:59:58.000000000,2023-01-10 05:08:18.000000000,2023-01-10 05:07:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-03 09:59:58.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/57f5f705e84289ba9fcf8fdd479b555bfd7b4168', 'message': 'Adding newly released tripleo-ansible into requirements.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I99c20cf35d6e832a8b341d431a58dff25118b4da\n'}]",0,869063,57f5f705e84289ba9fcf8fdd479b555bfd7b4168,11,4,1,32926,,,0,"Adding newly released tripleo-ansible into requirements.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I99c20cf35d6e832a8b341d431a58dff25118b4da
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/869063/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,57f5f705e84289ba9fcf8fdd479b555bfd7b4168,tripleo-ansible,tripleo-ansible===6.0.0,,2,0
openstack%2Fskyline-console~master~I40180a44657ace3419c009f73ab527c99fb483d3,openstack/skyline-console,master,I40180a44657ace3419c009f73ab527c99fb483d3,feature: support some new params and fix some issues of zun ui,MERGED,2023-01-06 10:14:55.000000000,2023-01-10 04:58:58.000000000,2023-01-10 04:57:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-01-06 10:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2c483d5d32af6bf20ded69c6efd512b7b8c71150', 'message': 'fix: fix the zun ui\n\n1. add health check\n2. add exposed ports\n3. fix the image resource by glance or docker\n4. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 2, 'created': '2023-01-09 10:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/164f9b8198da96ff9448acd9cea70e08f768a57c', 'message': 'fix: fix the zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. fix the image resource by glance or docker\n6. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 3, 'created': '2023-01-09 10:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8d742d0375932139bb30b60b4322f4a4c4f15c9c', 'message': 'fix: fix the zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. add validator to some key-inputs\n6. fix the image resource by glance or docker\n7. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 4, 'created': '2023-01-09 11:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5d114b227fd23d2c6ede5af9ed408fb7d4be2f16', 'message': 'feature: support some new params and fix some issues of zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. add validator to some key-inputs\n6. fix the image resource by glance or docker\n7. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 5, 'created': '2023-01-09 11:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/dcb152ede613236e8dd4fcb92604d25d1058b17f', 'message': 'feature: support some new params and fix some issues of zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. add validator to some key-inputs\n6. fix the image resource by glance or docker\n7. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 6, 'created': '2023-01-09 11:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0943b67528409dde404ad9bfcda478b219e65926', 'message': 'feature: support some new params and fix some issues of zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. add validator to some key-inputs\n6. fix the image resource by glance or docker\n7. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 7, 'created': '2023-01-10 01:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b0bc655e461078a5b83c10021d6afb1369d35eca', 'message': 'feature: support some new params and fix some issues of zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. add validator to some key-inputs\n6. fix the image resource by glance or docker\n7. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}, {'number': 8, 'created': '2023-01-10 01:50:32.000000000', 'files': ['src/pages/container-service/containers/Containers/components/index.less', 'test/e2e/integration/pages/zun/container.spec.js', 'src/client/client/constants.js', 'src/locales/zh.json', 'releasenotes/notes/FIX-ZUN-UI-997f060449876f33.yaml', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepOthers/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Containers/components/ExposedPorts.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/locales/en.json', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepMiscellaneous/index.jsx', 'src/pages/container-service/containers/Containers/components/ZunVolume.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepVolumes/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5f5b8c3cd53e9d1fe8e8bb0cc1bd2425162ea0e1', 'message': 'feature: support some new params and fix some issues of zun ui\n\n1. add health check\n2. add exposed ports\n3. add auto remove\n4. add entrypoint\n5. add validator to some key-inputs\n6. fix the image resource by glance or docker\n7. fix step name from miscellaneous to others\n\nChange-Id: I40180a44657ace3419c009f73ab527c99fb483d3\n'}]",1,869443,5f5b8c3cd53e9d1fe8e8bb0cc1bd2425162ea0e1,17,3,8,33689,,,0,"feature: support some new params and fix some issues of zun ui

1. add health check
2. add exposed ports
3. add auto remove
4. add entrypoint
5. add validator to some key-inputs
6. fix the image resource by glance or docker
7. fix step name from miscellaneous to others

Change-Id: I40180a44657ace3419c009f73ab527c99fb483d3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/43/869443/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepOthers/index.jsx', 'config/webpack.dev.js', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/components/FormItem/index.jsx']",8,2c483d5d32af6bf20ded69c6efd512b7b8c71150,fix-zun-ui," t('Please select {label}!', { label: rule.placeholder || rule.label }) requiredRule.message = t('Please select {label}!', { label: placeholder || label, }); requiredRule.message = t('Please input {label}!', { label: placeholder || label, });"," rule.placeholder || t('Please select {label}!', { label: rule.label }) requiredRule.message = placeholder || t('Please select {label}!', { label }); requiredRule.message = placeholder || t('Please input {label}!', { label });",176,84
openstack%2Fpuppet-nova~master~I7a885cd90b6ba1474ef01c22d2c9f2c5586b5dfd,openstack/puppet-nova,master,I7a885cd90b6ba1474ef01c22d2c9f2c5586b5dfd,Remove deprecated virtio_nic,MERGED,2023-01-05 06:20:01.000000000,2023-01-10 04:12:08.000000000,2023-01-10 04:11:02.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 06:20:01.000000000', 'files': ['releasenotes/notes/remove-compute-virtio_nic-33319c3a5b6e8cc3.yaml', 'manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e927990b17cc712da67ee7ed77af21f96457b2ac', 'message': 'Remove deprecated virtio_nic\n\nThe parameter was deprecated during the previous cycle[1] and has had\nno effect since then.\n\n[1] 9101ad68bfea1f432ecadadebebed9024e78a381\n\nChange-Id: I7a885cd90b6ba1474ef01c22d2c9f2c5586b5dfd\n'}]",1,869280,e927990b17cc712da67ee7ed77af21f96457b2ac,13,4,1,9816,,,0,"Remove deprecated virtio_nic

The parameter was deprecated during the previous cycle[1] and has had
no effect since then.

[1] 9101ad68bfea1f432ecadadebebed9024e78a381

Change-Id: I7a885cd90b6ba1474ef01c22d2c9f2c5586b5dfd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/869280/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-compute-virtio_nic-33319c3a5b6e8cc3.yaml', 'manifests/compute.pp']",2,e927990b17cc712da67ee7ed77af21f96457b2ac,,,"# DEPRECATED PARAMETERS # # [*virtio_nic*] # (optional) Whether to use virtio for the nic driver of VMs # Defaults to undef # # DEPRECATED PARAMETERS $virtio_nic = undef, if $virtio_nic != undef { warning('The nova::compute::virtio_nic parameter has been deprecated and has no effect.') } nova_config { 'DEFAULT/libvirt_use_virtio_for_bridges': ensure => absent } ",4,13
openstack%2Fplacement~master~I304797706b2ec96e658d23ad17ce5f53ff298daa,openstack/placement,master,I304797706b2ec96e658d23ad17ce5f53ff298daa,DNM: testing rbac new defaults,ABANDONED,2023-01-04 06:23:27.000000000,2023-01-10 03:53:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-04 06:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f196f8e97eba387b776fab92bcefe24e07231157', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: I304797706b2ec96e658d23ad17ce5f53ff298daa\n'}, {'number': 2, 'created': '2023-01-08 05:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9b015bbedb10bed9cb554107228bb02b571bfcb3', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: I304797706b2ec96e658d23ad17ce5f53ff298daa\n'}, {'number': 3, 'created': '2023-01-08 06:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c22ffabf805054882269a0dd66ec34568723f0a2', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: I304797706b2ec96e658d23ad17ce5f53ff298daa\n'}, {'number': 4, 'created': '2023-01-08 07:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/adec2d124529ab520b38532d86fe547a290ebca5', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: I304797706b2ec96e658d23ad17ce5f53ff298daa\n'}, {'number': 5, 'created': '2023-01-08 20:09:52.000000000', 'files': ['placement/policy.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/3966db0448385eb053057c1f622a80dae19ed9a8', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: I304797706b2ec96e658d23ad17ce5f53ff298daa\n'}]",1,869145,3966db0448385eb053057c1f622a80dae19ed9a8,13,1,5,8556,,,0,"DNM: testing rbac new defaults

Depends-On: https://review.opendev.org/c/openstack/nova/+/866218
Change-Id: I304797706b2ec96e658d23ad17ce5f53ff298daa
",git fetch https://review.opendev.org/openstack/placement refs/changes/45/869145/5 && git format-patch -1 --stdout FETCH_HEAD,['placement/policy.py'],1,f196f8e97eba387b776fab92bcefe24e07231157,," e_s = _enforcer.conf.oslo_policy.enforce_scope e_d = _enforcer.conf.oslo_policy.enforce_new_defaults print('enforce_scope = ', e_s, 'enforce_new_defaults= ', e_d)",,3,0
openstack%2Fswift~master~Iae3daadc9d880b4980aa2305df626929c93b475d,openstack/swift,master,Iae3daadc9d880b4980aa2305df626929c93b475d,CI: Remove nodeset pin for DSVM jobs,MERGED,2023-01-09 19:13:53.000000000,2023-01-10 03:42:23.000000000,2023-01-10 03:40:20.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 19:13:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/fb477d17aeb1a67bb3ec6e58e89a17cf9a77cc9d', 'message': 'CI: Remove nodeset pin for DSVM jobs\n\nThese should be fine on jammy/py310 now.\n\nChange-Id: Iae3daadc9d880b4980aa2305df626929c93b475d\nCloses-Bug: #1996627\nRelated-Bug: #1999278\nRelated-Change: Iae28097668213aa0734837ff21aef83251167d19\n'}]",2,869600,fb477d17aeb1a67bb3ec6e58e89a17cf9a77cc9d,13,2,1,15343,,,0,"CI: Remove nodeset pin for DSVM jobs

These should be fine on jammy/py310 now.

Change-Id: Iae3daadc9d880b4980aa2305df626929c93b475d
Closes-Bug: #1996627
Related-Bug: #1999278
Related-Change: Iae28097668213aa0734837ff21aef83251167d19
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/869600/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb477d17aeb1a67bb3ec6e58e89a17cf9a77cc9d,,, # TODO: Remove the nodeset pinning to focal once below bug is fixed # https://bugs.launchpad.net/swift/+bug/1996627 nodeset: openstack-single-node-focal,0,3
openstack%2Frequirements~master~Ib747cc54b7a5f4aea07b62af3deab02fce56f6c3,openstack/requirements,master,Ib747cc54b7a5f4aea07b62af3deab02fce56f6c3,update constraint for oslo.db to new release 12.3.0,MERGED,2023-01-05 10:16:08.000000000,2023-01-10 03:32:31.000000000,2023-01-10 03:30:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-05 10:16:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/06d48115e9f48988747bcf224664a4ca69fd4458', 'message': 'update constraint for oslo.db to new release 12.3.0\n\nmeta: version: 12.3.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I3a248d44d9e2340ce3591a4825a6db312934b247\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib747cc54b7a5f4aea07b62af3deab02fce56f6c3\n'}]",0,869335,06d48115e9f48988747bcf224664a4ca69fd4458,17,3,1,11131,,,0,"update constraint for oslo.db to new release 12.3.0

meta: version: 12.3.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I3a248d44d9e2340ce3591a4825a6db312934b247
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib747cc54b7a5f4aea07b62af3deab02fce56f6c3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/869335/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,06d48115e9f48988747bcf224664a4ca69fd4458,new-release,oslo.db===12.3.0,oslo.db===12.2.0,1,1
openstack%2Frequirements~master~I022777a80ae27c531897a00216af439fa0b143da,openstack/requirements,master,I022777a80ae27c531897a00216af439fa0b143da,update constraint for taskflow to new release 5.1.0,MERGED,2023-01-05 10:18:33.000000000,2023-01-10 03:31:41.000000000,2023-01-10 03:30:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-05 10:18:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c024b134d82a108fb4d92420118398d8cd1adea0', 'message': 'update constraint for taskflow to new release 5.1.0\n\nmeta: version: 5.1.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I590a6ac9f6f1a340aa7740f3bc1322ce38730342\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I022777a80ae27c531897a00216af439fa0b143da\n'}]",0,869336,c024b134d82a108fb4d92420118398d8cd1adea0,17,3,1,11131,,,0,"update constraint for taskflow to new release 5.1.0

meta: version: 5.1.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I590a6ac9f6f1a340aa7740f3bc1322ce38730342
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I022777a80ae27c531897a00216af439fa0b143da
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/869336/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c024b134d82a108fb4d92420118398d8cd1adea0,new-release,taskflow===5.1.0,taskflow===5.0.0,1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iebf81ee8cbda7bdc6401ae7ad75e94d07727b3ce,openstack/tripleo-ansible,stable/wallaby,Iebf81ee8cbda7bdc6401ae7ad75e94d07727b3ce,Enable start of FRR for non-root user,MERGED,2023-01-04 15:24:33.000000000,2023-01-10 03:25:43.000000000,2023-01-10 03:25:43.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-01-04 15:24:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/templates/daemons.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e66fa2c3c5f8768d5a56b24d634e21ec01d59283', 'message': 'Enable start of FRR for non-root user\n\nThis pairs with https://github.com/FRRouting/frr/pull/12369\nallowing frr-8.3 to be started by non-root users.\n\nChange-Id: Iebf81ee8cbda7bdc6401ae7ad75e94d07727b3ce\n(cherry picked from commit 18db3ce6c064a2aaee7d7fe6c106100f005ac1d3)\n'}]",3,869179,e66fa2c3c5f8768d5a56b24d634e21ec01d59283,16,4,1,30126,,,0,"Enable start of FRR for non-root user

This pairs with https://github.com/FRRouting/frr/pull/12369
allowing frr-8.3 to be started by non-root users.

Change-Id: Iebf81ee8cbda7bdc6401ae7ad75e94d07727b3ce
(cherry picked from commit 18db3ce6c064a2aaee7d7fe6c106100f005ac1d3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/869179/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_frr/templates/daemons.j2'],1,e66fa2c3c5f8768d5a56b24d634e21ec01d59283,," # Allow frr to be started by non-root users FRR_NO_ROOT=""yes""",,3,0
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I8525806576e1108a936e5b036859671794f304de,openstack/puppet-openstack-integration,stable/train,I8525806576e1108a936e5b036859671794f304de,TripleO: Remove unused project template,MERGED,2023-01-06 03:59:28.000000000,2023-01-10 03:12:48.000000000,2023-01-10 03:12:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 03:59:28.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/37cf0054a5478f0a920710838eda8e23553a8619', 'message': 'TripleO: Remove unused project template\n\nThe tripleo-puppet-standalone template is not really used in any\nmodule repos, because each repo defines its own standalone job.\n\nConflicts:\n\tzuul.d/tripleo.yaml\n\nBackport note:\nstable/ussuri and victoria are skipped because tripleo jobs have been\nremoved from these branches.\n\nChange-Id: I8525806576e1108a936e5b036859671794f304de\n(cherry picked from commit 4a70a289350e7744270e92fd15a506d3307367df)\n(cherry picked from commit b695e7dc5d336c8e3082769ed31c6e715b965046)\n(cherry picked from commit a231f0f1856aaebbf1b90dc99ad5de7183e60de7)\n'}]",1,869421,37cf0054a5478f0a920710838eda8e23553a8619,11,3,1,9816,,,0,"TripleO: Remove unused project template

The tripleo-puppet-standalone template is not really used in any
module repos, because each repo defines its own standalone job.

Conflicts:
	zuul.d/tripleo.yaml

Backport note:
stable/ussuri and victoria are skipped because tripleo jobs have been
removed from these branches.

Change-Id: I8525806576e1108a936e5b036859671794f304de
(cherry picked from commit 4a70a289350e7744270e92fd15a506d3307367df)
(cherry picked from commit b695e7dc5d336c8e3082769ed31c6e715b965046)
(cherry picked from commit a231f0f1856aaebbf1b90dc99ad5de7183e60de7)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/869421/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,37cf0054a5478f0a920710838eda8e23553a8619,,, - project-template: name: tripleo-puppet-standalone check: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider,0,21
openstack%2Fpuppet-ec2api~master~Ieb53368b269f3323f54a0d14caf00dcf9b136831,openstack/puppet-ec2api,master,Ieb53368b269f3323f54a0d14caf00dcf9b136831,Drop deprecated ssl_insecure parameter,MERGED,2023-01-05 09:22:11.000000000,2023-01-10 02:25:35.000000000,2023-01-10 02:24:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 09:22:11.000000000', 'files': ['spec/classes/ec2api_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/ssl_insecure-removal-77b86cbefef2b8bc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/f9be89d0b90fb9e887592ef8e404f66cd9f357dd', 'message': 'Drop deprecated ssl_insecure parameter\n\nThis parameter was deprecated during the previous cycle by [1] because\nthe actual parameter no longer exists.\n\n[1] a72e6fe9496602d03807155dd7a1ee39a243323d\n\nChange-Id: Ieb53368b269f3323f54a0d14caf00dcf9b136831\n'}]",1,869288,f9be89d0b90fb9e887592ef8e404f66cd9f357dd,12,3,1,9816,,,0,"Drop deprecated ssl_insecure parameter

This parameter was deprecated during the previous cycle by [1] because
the actual parameter no longer exists.

[1] a72e6fe9496602d03807155dd7a1ee39a243323d

Change-Id: Ieb53368b269f3323f54a0d14caf00dcf9b136831
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/88/869288/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ec2api_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/ssl_insecure-removal-77b86cbefef2b8bc.yaml']",3,f9be89d0b90fb9e887592ef8e404f66cd9f357dd,,--- upgrade: - | The deprecated ``ec2api::api::ssl_insecure`` parameter has been removed. ,,4,16
openstack%2Frequirements~master~Ibe0a3eaaf127abd83a101a129d7d3a71b7ffbbd7,openstack/requirements,master,Ibe0a3eaaf127abd83a101a129d7d3a71b7ffbbd7,update constraint for oslo.messaging to new release 14.1.0,MERGED,2023-01-05 10:23:14.000000000,2023-01-10 02:17:23.000000000,2023-01-10 02:16:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-05 10:23:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ecebcba4ecd6144e140b66f44f5378a3bf30e64', 'message': 'update constraint for oslo.messaging to new release 14.1.0\n\nmeta: version: 14.1.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iba5605033156222582a1bab8f646652a9d5e6414\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ibe0a3eaaf127abd83a101a129d7d3a71b7ffbbd7\n'}]",0,869340,0ecebcba4ecd6144e140b66f44f5378a3bf30e64,17,3,1,11131,,,0,"update constraint for oslo.messaging to new release 14.1.0

meta: version: 14.1.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iba5605033156222582a1bab8f646652a9d5e6414
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibe0a3eaaf127abd83a101a129d7d3a71b7ffbbd7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/869340/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ecebcba4ecd6144e140b66f44f5378a3bf30e64,new-release,oslo.messaging===14.1.0,oslo.messaging===14.0.0,1,1
openstack%2Fswift~master~Ia9979e701493a5a2e30e037324284caa3011d18b,openstack/swift,master,Ia9979e701493a5a2e30e037324284caa3011d18b,"utils: Make PipeMutex marginally more robust to ""Too many open files"" errors",ABANDONED,2020-09-22 16:12:21.000000000,2023-01-10 01:26:09.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-22 16:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9f126865e726b45a368ac038eb44310043d8a70', 'message': 'utils: Make PipeMutex marginally more robust to ""Too many open files"" errors\n\nSeen in the gate:\n\n    UNCAUGHT EXCEPTION\n    Traceback (most recent call last):\n      File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs\n        func(*targs, **kargs)\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown\n        h.release()\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release\n        if self.lock:\n    AttributeError: \'ThreadSafeSysLogHandler\' object has no attribute \'lock\'\n    UNCAUGHT EXCEPTION\n    Traceback (most recent call last):\n      File ""/usr/bin/swift-proxy-server"", line 6, in <module>\n        exec(compile(open(__file__).read(), __file__, \'exec\'))\n      File ""/home/zuul/src/opendev.org/openstack/swift/bin/swift-proxy-server"", line 23, in <module>\n        sys.exit(run_wsgi(conf_file, \'proxy-server\', **options))\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 1127, in run_wsgi\n        run_server(conf, logger, sock, ready_callback=notify)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 661, in run_server\n        app = loadapp(conf[\'__file__\'], global_conf=global_conf)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 385, in loadapp\n        app = ctx.app_context.create()\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 715, in create\n        return self.object_type.invoke(self)\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 152, in invoke\n        return fix_call(context.object, context.global_conf, **context.local_conf)\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/util.py"", line 55, in fix_call\n        val = callable(*args, **kw)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 784, in app_factory\n        app = Application(conf)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 198, in __init__\n        self.logger = get_logger(conf, log_route=\'proxy-server\')\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 2358, in get_logger\n        facility=facility)\n      File ""/usr/lib64/python2.7/logging/handlers.py"", line 753, in __init__\n        logging.Handler.__init__(self)\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 666, in __init__\n        self.createLock()\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5742, in createLock\n        self.lock = PipeMutex()\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5632, in __init__\n        self.rfd, self.wfd = os.pipe()\n    OSError: [Errno 24] Too many open files\n    STDERR: Error in atexit._run_exitfuncs:\n    STDERR: Traceback (most recent call last):\n    STDERR: File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs\n    STDERR: func(*targs, **kargs)\n    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown\n    STDERR: h.release()\n    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release\n    STDERR: if self.lock:\n    STDERR: AttributeError: \'ThreadSafeSysLogHandler\' object has no attribute \'lock\'\n    STDERR: Error in sys.exitfunc:\n    STDERR: Exception\n    STDERR: AttributeError\n    STDERR: :\n    STDERR: ""\'PipeMutex\' object has no attribute \'wfd\'""\n    STDERR: in\n    STDERR: <bound method PipeMutex.__del__ of <swift.common.utils.PipeMutex object at 0x7f68a10f7fd0>>\n    STDERR: ignored\n\nThere\'s not a lot we can do about the OSError, or even the\nAttributeErrors about not having a \'lock\' attribute -- but we\ncan at least prevent that last AttributeError during cleanup.\n\nChange-Id: Ia9979e701493a5a2e30e037324284caa3011d18b\n'}, {'number': 2, 'created': '2021-07-01 22:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2dcc1259c4ae67aff41cc9ece06f5e0ce0ed400', 'message': 'utils: Make PipeMutex marginally more robust to ""Too many open files"" errors\n\nSeen in the gate:\n\n    UNCAUGHT EXCEPTION\n    Traceback (most recent call last):\n      File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs\n        func(*targs, **kargs)\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown\n        h.release()\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release\n        if self.lock:\n    AttributeError: \'ThreadSafeSysLogHandler\' object has no attribute \'lock\'\n    UNCAUGHT EXCEPTION\n    Traceback (most recent call last):\n      File ""/usr/bin/swift-proxy-server"", line 6, in <module>\n        exec(compile(open(__file__).read(), __file__, \'exec\'))\n      File ""/home/zuul/src/opendev.org/openstack/swift/bin/swift-proxy-server"", line 23, in <module>\n        sys.exit(run_wsgi(conf_file, \'proxy-server\', **options))\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 1127, in run_wsgi\n        run_server(conf, logger, sock, ready_callback=notify)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 661, in run_server\n        app = loadapp(conf[\'__file__\'], global_conf=global_conf)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 385, in loadapp\n        app = ctx.app_context.create()\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 715, in create\n        return self.object_type.invoke(self)\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 152, in invoke\n        return fix_call(context.object, context.global_conf, **context.local_conf)\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/util.py"", line 55, in fix_call\n        val = callable(*args, **kw)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 784, in app_factory\n        app = Application(conf)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 198, in __init__\n        self.logger = get_logger(conf, log_route=\'proxy-server\')\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 2358, in get_logger\n        facility=facility)\n      File ""/usr/lib64/python2.7/logging/handlers.py"", line 753, in __init__\n        logging.Handler.__init__(self)\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 666, in __init__\n        self.createLock()\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5742, in createLock\n        self.lock = PipeMutex()\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5632, in __init__\n        self.rfd, self.wfd = os.pipe()\n    OSError: [Errno 24] Too many open files\n    STDERR: Error in atexit._run_exitfuncs:\n    STDERR: Traceback (most recent call last):\n    STDERR: File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs\n    STDERR: func(*targs, **kargs)\n    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown\n    STDERR: h.release()\n    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release\n    STDERR: if self.lock:\n    STDERR: AttributeError: \'ThreadSafeSysLogHandler\' object has no attribute \'lock\'\n    STDERR: Error in sys.exitfunc:\n    STDERR: Exception\n    STDERR: AttributeError\n    STDERR: :\n    STDERR: ""\'PipeMutex\' object has no attribute \'wfd\'""\n    STDERR: in\n    STDERR: <bound method PipeMutex.__del__ of <swift.common.utils.PipeMutex object at 0x7f68a10f7fd0>>\n    STDERR: ignored\n\nThere\'s not a lot we can do about the OSError, or even the\nAttributeErrors about not having a \'lock\' attribute -- but we\ncan at least prevent that last AttributeError during cleanup.\n\nChange-Id: Ia9979e701493a5a2e30e037324284caa3011d18b\n'}, {'number': 3, 'created': '2022-03-23 23:16:45.000000000', 'files': ['swift/common/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6fd7c925e94b91c65f9b3057172a36101efca99d', 'message': 'utils: Make PipeMutex marginally more robust to ""Too many open files"" errors\n\nSeen in the gate:\n\n    UNCAUGHT EXCEPTION\n    Traceback (most recent call last):\n      File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs\n        func(*targs, **kargs)\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown\n        h.release()\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release\n        if self.lock:\n    AttributeError: \'ThreadSafeSysLogHandler\' object has no attribute \'lock\'\n    UNCAUGHT EXCEPTION\n    Traceback (most recent call last):\n      File ""/usr/bin/swift-proxy-server"", line 6, in <module>\n        exec(compile(open(__file__).read(), __file__, \'exec\'))\n      File ""/home/zuul/src/opendev.org/openstack/swift/bin/swift-proxy-server"", line 23, in <module>\n        sys.exit(run_wsgi(conf_file, \'proxy-server\', **options))\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 1127, in run_wsgi\n        run_server(conf, logger, sock, ready_callback=notify)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 661, in run_server\n        app = loadapp(conf[\'__file__\'], global_conf=global_conf)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 385, in loadapp\n        app = ctx.app_context.create()\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 715, in create\n        return self.object_type.invoke(self)\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 152, in invoke\n        return fix_call(context.object, context.global_conf, **context.local_conf)\n      File ""/usr/lib/python2.7/site-packages/paste/deploy/util.py"", line 55, in fix_call\n        val = callable(*args, **kw)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 784, in app_factory\n        app = Application(conf)\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 198, in __init__\n        self.logger = get_logger(conf, log_route=\'proxy-server\')\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 2358, in get_logger\n        facility=facility)\n      File ""/usr/lib64/python2.7/logging/handlers.py"", line 753, in __init__\n        logging.Handler.__init__(self)\n      File ""/usr/lib64/python2.7/logging/__init__.py"", line 666, in __init__\n        self.createLock()\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5742, in createLock\n        self.lock = PipeMutex()\n      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5632, in __init__\n        self.rfd, self.wfd = os.pipe()\n    OSError: [Errno 24] Too many open files\n    STDERR: Error in atexit._run_exitfuncs:\n    STDERR: Traceback (most recent call last):\n    STDERR: File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs\n    STDERR: func(*targs, **kargs)\n    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown\n    STDERR: h.release()\n    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release\n    STDERR: if self.lock:\n    STDERR: AttributeError: \'ThreadSafeSysLogHandler\' object has no attribute \'lock\'\n    STDERR: Error in sys.exitfunc:\n    STDERR: Exception\n    STDERR: AttributeError\n    STDERR: :\n    STDERR: ""\'PipeMutex\' object has no attribute \'wfd\'""\n    STDERR: in\n    STDERR: <bound method PipeMutex.__del__ of <swift.common.utils.PipeMutex object at 0x7f68a10f7fd0>>\n    STDERR: ignored\n\nThere\'s not a lot we can do about the OSError, but we can at least\nprevent the AttributeErrors from confusing the issue.\n\nChange-Id: Ia9979e701493a5a2e30e037324284caa3011d18b\n'}]",1,753397,6fd7c925e94b91c65f9b3057172a36101efca99d,14,2,3,15343,,,0,"utils: Make PipeMutex marginally more robust to ""Too many open files"" errors

Seen in the gate:

    UNCAUGHT EXCEPTION
    Traceback (most recent call last):
      File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs
        func(*targs, **kargs)
      File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown
        h.release()
      File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release
        if self.lock:
    AttributeError: 'ThreadSafeSysLogHandler' object has no attribute 'lock'
    UNCAUGHT EXCEPTION
    Traceback (most recent call last):
      File ""/usr/bin/swift-proxy-server"", line 6, in <module>
        exec(compile(open(__file__).read(), __file__, 'exec'))
      File ""/home/zuul/src/opendev.org/openstack/swift/bin/swift-proxy-server"", line 23, in <module>
        sys.exit(run_wsgi(conf_file, 'proxy-server', **options))
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 1127, in run_wsgi
        run_server(conf, logger, sock, ready_callback=notify)
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 661, in run_server
        app = loadapp(conf['__file__'], global_conf=global_conf)
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/wsgi.py"", line 385, in loadapp
        app = ctx.app_context.create()
      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 715, in create
        return self.object_type.invoke(self)
      File ""/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py"", line 152, in invoke
        return fix_call(context.object, context.global_conf, **context.local_conf)
      File ""/usr/lib/python2.7/site-packages/paste/deploy/util.py"", line 55, in fix_call
        val = callable(*args, **kw)
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 784, in app_factory
        app = Application(conf)
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/proxy/server.py"", line 198, in __init__
        self.logger = get_logger(conf, log_route='proxy-server')
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 2358, in get_logger
        facility=facility)
      File ""/usr/lib64/python2.7/logging/handlers.py"", line 753, in __init__
        logging.Handler.__init__(self)
      File ""/usr/lib64/python2.7/logging/__init__.py"", line 666, in __init__
        self.createLock()
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5742, in createLock
        self.lock = PipeMutex()
      File ""/home/zuul/src/opendev.org/openstack/swift/swift/common/utils.py"", line 5632, in __init__
        self.rfd, self.wfd = os.pipe()
    OSError: [Errno 24] Too many open files
    STDERR: Error in atexit._run_exitfuncs:
    STDERR: Traceback (most recent call last):
    STDERR: File ""/usr/lib64/python2.7/atexit.py"", line 24, in _run_exitfuncs
    STDERR: func(*targs, **kargs)
    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 1659, in shutdown
    STDERR: h.release()
    STDERR: File ""/usr/lib64/python2.7/logging/__init__.py"", line 704, in release
    STDERR: if self.lock:
    STDERR: AttributeError: 'ThreadSafeSysLogHandler' object has no attribute 'lock'
    STDERR: Error in sys.exitfunc:
    STDERR: Exception
    STDERR: AttributeError
    STDERR: :
    STDERR: ""'PipeMutex' object has no attribute 'wfd'""
    STDERR: in
    STDERR: <bound method PipeMutex.__del__ of <swift.common.utils.PipeMutex object at 0x7f68a10f7fd0>>
    STDERR: ignored

There's not a lot we can do about the OSError, but we can at least
prevent the AttributeErrors from confusing the issue.

Change-Id: Ia9979e701493a5a2e30e037324284caa3011d18b
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/753397/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils.py'],1,b9f126865e726b45a368ac038eb44310043d8a70,," # The call to os.pipe() may fail -- when that happens, we still have # __del__() call close() which expects self.wfd to be set. Prevent # noisy, ignored exceptions in that case by initializing to None. self.rfd = self.wfd = None",,4,0
openstack%2Fopenstack-ansible~stable%2Fyoga~Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,openstack/openstack-ansible,stable/yoga,Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,Unset OSA-defined variables for bootstrap,MERGED,2022-12-21 09:11:50.000000000,2023-01-10 00:49:14.000000000,2023-01-10 00:47:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-21 09:11:50.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61a3a6e1e92d01dbd6d8d9299b075dabf0ee0925', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)\n""}]",4,868273,61a3a6e1e92d01dbd6d8d9299b075dabf0ee0925,16,3,1,28619,,,0,"Unset OSA-defined variables for bootstrap

We've introduced couple of new ENV vars that we define in
openstack-ansible.rc file. While they're working properly, we still don't
want them to be used during bootstrap process, as in case of
bootstrap failure somewhere in the middle of execution, like before
our plugins collection being installed, next bootstrap re-runs will fail
with smth like `Invalid play strategy specified: openstack.osa.linear`

In order to fix this we set default values for ANSIBLE_TRANSPORT and
ANSIBLE_STRATEGY that we clean out after bootstrap is completed.

Change-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8
(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/868273/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,61a3a6e1e92d01dbd6d8d9299b075dabf0ee0925,," export ANSIBLE_TRANSPORT=""smart"" export ANSIBLE_STRATEGY=""linear"" unset ANSIBLE_TRANSPORT unset ANSIBLE_STRATEGY",,4,0
openstack%2Fdiskimage-builder~master~I16388a8ad50483228d0b71745f11563f891249c0,openstack/diskimage-builder,master,I16388a8ad50483228d0b71745f11563f891249c0,Clean up tox.ini for tox v4,MERGED,2023-01-09 16:18:57.000000000,2023-01-10 00:48:39.000000000,2023-01-10 00:47:18.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 16:18:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8bb9a37a0dca54d788469f7611c97ac5011886ec', 'message': ""Clean up tox.ini for tox v4\n\nskipsdist now basically means don't install the project at all\n(regardless of the usedevelop setting) which creates problems for dib's\nentrypoints. Remove skipsdist so that entrypoints can be found. Also, we\nremove basepython because this confuses tox v4 on whether or not the\npython it wants is present.\n\nChange-Id: I16388a8ad50483228d0b71745f11563f891249c0\n""}]",0,869579,8bb9a37a0dca54d788469f7611c97ac5011886ec,9,3,1,4146,,,0,"Clean up tox.ini for tox v4

skipsdist now basically means don't install the project at all
(regardless of the usedevelop setting) which creates problems for dib's
entrypoints. Remove skipsdist so that entrypoints can be found. Also, we
remove basepython because this confuses tox v4 on whether or not the
python it wants is present.

Change-Id: I16388a8ad50483228d0b71745f11563f891249c0
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/79/869579/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8bb9a37a0dca54d788469f7611c97ac5011886ec,toxv4,,skipsdist = Truebasepython = python3basepython = python3basepython = python3,0,4
openstack%2Fneutron-fwaas~master~I4711cdb1741c0348bc81049be53a5480945e7e12,openstack/neutron-fwaas,master,I4711cdb1741c0348bc81049be53a5480945e7e12,tox4: Add ignore_basepython_conflict = True to tox.ini,MERGED,2023-01-09 10:19:43.000000000,2023-01-10 00:05:24.000000000,2023-01-10 00:04:24.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2023-01-09 10:19:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e7518f6fcf6237977576d73f71887151fe2dbb5b', 'message': 'tox4: Add ignore_basepython_conflict = True to tox.ini\n\nWith latest tox (>4.0.15) python version conflicted with base\npython. Adding ignore_basepython_conflict = True solves this\nissue.\n\nChange-Id: I4711cdb1741c0348bc81049be53a5480945e7e12\n'}]",1,869547,e7518f6fcf6237977576d73f71887151fe2dbb5b,8,3,1,8313,,,0,"tox4: Add ignore_basepython_conflict = True to tox.ini

With latest tox (>4.0.15) python version conflicted with base
python. Adding ignore_basepython_conflict = True solves this
issue.

Change-Id: I4711cdb1741c0348bc81049be53a5480945e7e12
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/47/869547/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e7518f6fcf6237977576d73f71887151fe2dbb5b,tox4,ignore_basepython_conflict = True,,1,0
openstack%2Fswift~master~I04012e523f01e910f41d5a41cdd86d3d2a1b9c59,openstack/swift,master,I04012e523f01e910f41d5a41cdd86d3d2a1b9c59,Tolerate absolute-form request targets,MERGED,2022-09-07 19:45:58.000000000,2023-01-09 23:50:11.000000000,2023-01-09 23:49:00.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}, {'_account_id': 26274}]","[{'number': 1, 'created': '2022-09-07 19:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d91933104dc13bfaf53f3c20d1fc2ac847a9fa4', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 2, 'created': '2022-09-08 19:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/41f892994665fe79fa4985b635980c7897b45f65', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 3, 'created': '2022-09-08 19:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/66c2b3e7c88f80811fede47dd80f028f7b44cb83', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 4, 'created': '2022-09-08 20:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43a1fd65e9c4c2d28733adbec1a6fde4995d066d', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 5, 'created': '2022-09-08 23:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b4af3939f9f93a838550fb9474538816bee80b7c', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 6, 'created': '2022-09-08 23:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/13af797ff9e4201dfda87fcaa1fb9148c35ba70f', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 7, 'created': '2022-09-09 00:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bca0e6f7c8832d11f56de81e8cbb776a6e98a4e5', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}, {'number': 8, 'created': '2023-01-03 20:50:35.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py', 'test/functional/s3api/test_presigned.py', 'test/s3api/test_request_target_style.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f6ac7d44917439489355d9dd4bbc4d068b723db3', 'message': ""Tolerate absolute-form request targets\n\nWe've seen S3 clients expecting to be able to send request lines like\n\n    GET https://cluster.domain/bucket/key HTTP/1.1\n\ninstead of the expected\n\n    GET /bucket/key HTTP/1.1\n\nTesting against other, independent servers with something like\n\n    ( echo -n $'GET https://www.google.com/ HTTP/1.1\\r\\nHost: www.google.com\\r\\nConnection: close\\r\\n\\r\\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443\n\nsuggests that it may be reasonable to accept them; the RFC even goes so\nfar as to say\n\n> To allow for transition to the absolute-form for all requests in some\n> future version of HTTP, a server MUST accept the absolute-form in\n> requests, even though HTTP/1.1 clients will only send them in\n> requests to proxies.\n\n(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)\n\nFix it at the protocol level, so everywhere else we can mostly continue\nto assume that PATH_INFO starts with a / like we always have.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59\n""}]",28,856327,f6ac7d44917439489355d9dd4bbc4d068b723db3,43,3,8,15343,,,0,"Tolerate absolute-form request targets

We've seen S3 clients expecting to be able to send request lines like

    GET https://cluster.domain/bucket/key HTTP/1.1

instead of the expected

    GET /bucket/key HTTP/1.1

Testing against other, independent servers with something like

    ( echo -n $'GET https://www.google.com/ HTTP/1.1\r\nHost: www.google.com\r\nConnection: close\r\n\r\n' ; sleep 1 ) | openssl s_client -connect www.google.com:443

suggests that it may be reasonable to accept them; the RFC even goes so
far as to say

> To allow for transition to the absolute-form for all requests in some
> future version of HTTP, a server MUST accept the absolute-form in
> requests, even though HTTP/1.1 clients will only send them in
> requests to proxies.

(See https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2)

Fix it at the protocol level, so everywhere else we can mostly continue
to assume that PATH_INFO starts with a / like we always have.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: I04012e523f01e910f41d5a41cdd86d3d2a1b9c59
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/856327/8 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,4d91933104dc13bfaf53f3c20d1fc2ac847a9fa4,absolute-form," def test_absolute_target(self): bytes_out = self._run_bytes_through_protocol(( b""GET https://cluster.domain/bucket/key HTTP/1.0\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/bucket/key') ",,44,32
openstack%2Fopenstack-ansible~stable%2Fyoga~I9e4c9168b7199058ff087373b4b009d06b8727a8,openstack/openstack-ansible,stable/yoga,I9e4c9168b7199058ff087373b4b009d06b8727a8,Install ZFS packages for bootstrap-host if needed,MERGED,2022-12-21 09:18:58.000000000,2023-01-09 22:48:11.000000000,2023-01-09 22:46:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-21 09:18:58.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5b601deaa1b515469b11b3ee1761f077e152522', 'message': ""Install ZFS packages for bootstrap-host if needed\n\nWe do isntall ZFS packages in prepare_loopback_zfs.yml but it's called\nonly when blocking drive is not defined. For providers that do define it\nbootstrap-host is failed with zpool not being present.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/861394\nChange-Id: I9e4c9168b7199058ff087373b4b009d06b8727a8\n(cherry picked from commit 003187595c632c8ca2431bb9ec026dd5e168bc86)\n""}]",4,868274,c5b601deaa1b515469b11b3ee1761f077e152522,19,3,1,25023,,,0,"Install ZFS packages for bootstrap-host if needed

We do isntall ZFS packages in prepare_loopback_zfs.yml but it's called
only when blocking drive is not defined. For providers that do define it
bootstrap-host is failed with zpool not being present.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/861394
Change-Id: I9e4c9168b7199058ff087373b4b009d06b8727a8
(cherry picked from commit 003187595c632c8ca2431bb9ec026dd5e168bc86)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/868274/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml'],1,c5b601deaa1b515469b11b3ee1761f077e152522,,"- name: Prepare disk drive as ZFS when: _lxc_container_backing_store == 'zfs' block: - name: Install zfs packages package: name: ""{{ packages_install_zfs }}"" state: present update_cache: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary('yes', omit) }}"" tags: - install-packages - name: Create the ZFS pool command: zpool create pool ""/dev/{{ _bootstrap_host_data_disk_device }}2"" args: creates: /pool when: - bootstrap_host_data_disk_device_force | bool - name: Create the ZFS pool/lxc volume shell: ""(zfs list | grep lxc) || zfs create -o mountpoint=/var/lib/lxc pool/lxc"" when: - bootstrap_host_data_disk_device_force | bool tags: - skip_ansible_lint - name: Prepare disk drive as LVM when: _lxc_container_backing_store == 'lvm' block: - name: Make LVM physical volume on the cinder device shell: ""pvcreate /dev/{{ _bootstrap_host_data_disk_device }}2 && touch /openstack/lxc.pvcreate"" args: creates: ""/openstack/lxc.pvcreate"" tags: - skip_ansible_lint - data-config - name: Run pvscan command: ""pvscan"" changed_when: false tags: - cinder-lvm-pv - name: Add cinder-volumes volume group lvg: vg: lxc pvs: ""/dev/{{ _bootstrap_host_data_disk_device }}2"" tags: - data-config","- name: Create the ZFS pool command: zpool create pool ""/dev/{{ _bootstrap_host_data_disk_device }}2"" args: creates: /pool when: - bootstrap_host_data_disk_device_force | bool - _lxc_container_backing_store == 'zfs' - name: Create the ZFS pool/lxc volume shell: ""(zfs list | grep lxc) || zfs create -o mountpoint=/var/lib/lxc pool/lxc"" when: - bootstrap_host_data_disk_device_force | bool - _lxc_container_backing_store == 'zfs' tags: - skip_ansible_lint - name: Make LVM physical volume on the cinder device shell: ""pvcreate /dev/{{ _bootstrap_host_data_disk_device }}2 && touch /openstack/lxc.pvcreate"" args: creates: ""/openstack/lxc.pvcreate"" when: - _lxc_container_backing_store == 'lvm' tags: - skip_ansible_lint - data-config - name: Run pvscan command: ""pvscan"" changed_when: false when: - _lxc_container_backing_store == 'lvm' tags: - cinder-lvm-pv - name: Add cinder-volumes volume group lvg: vg: lxc pvs: ""/dev/{{ _bootstrap_host_data_disk_device }}2"" when: - _lxc_container_backing_store == 'lvm' tags: - data-config",44,38
openstack%2Fopenstack-ansible~stable%2Fzed~Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,openstack/openstack-ansible,stable/zed,Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,Unset OSA-defined variables for bootstrap,MERGED,2022-12-21 08:47:04.000000000,2023-01-09 22:37:27.000000000,2023-01-09 22:36:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-21 08:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/09ff6a7e0c2e9b29fb31237267b1d98fef4589c3', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)\n""}, {'number': 2, 'created': '2022-12-28 19:50:42.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/71f5f948c5beb3d1a266e4d178dae6294d5178c8', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)\n""}]",2,868270,71f5f948c5beb3d1a266e4d178dae6294d5178c8,16,3,2,25023,,,0,"Unset OSA-defined variables for bootstrap

We've introduced couple of new ENV vars that we define in
openstack-ansible.rc file. While they're working properly, we still don't
want them to be used during bootstrap process, as in case of
bootstrap failure somewhere in the middle of execution, like before
our plugins collection being installed, next bootstrap re-runs will fail
with smth like `Invalid play strategy specified: openstack.osa.linear`

In order to fix this we set default values for ANSIBLE_TRANSPORT and
ANSIBLE_STRATEGY that we clean out after bootstrap is completed.

Change-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8
(cherry picked from commit b6cf0973c6baa0cd47a8697eec4f6b28999151ba)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/868270/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,09ff6a7e0c2e9b29fb31237267b1d98fef4589c3,," export ANSIBLE_TRANSPORT=""smart"" export ANSIBLE_STRATEGY=""linear"" unset ANSIBLE_TRANSPORT unset ANSIBLE_STRATEGY",,4,0
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I9bcd5438d88d8dedde9723c3d8c23326ff919931,openstack/charm-nova-compute-nvidia-vgpu,master,I9bcd5438d88d8dedde9723c3d8c23326ff919931,Test to ensure tox is pinned for stable/zed,ABANDONED,2023-01-06 18:31:45.000000000,2023-01-09 22:18:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 18:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/3c576e541f9b6c07ffdbc8529a16f4142f6213c7', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I9bcd5438d88d8dedde9723c3d8c23326ff919931\n'}]",1,869499,3c576e541f9b6c07ffdbc8529a16f4142f6213c7,4,1,1,11805,,,0,"Test to ensure tox is pinned for stable/zed

https: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3
Change-Id: I9bcd5438d88d8dedde9723c3d8c23326ff919931
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/99/869499/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,3c576e541f9b6c07ffdbc8529a16f4142f6213c7,stable/zed,,,0,0
openstack%2Fcharm-cinder~stable%2Fzed~Ifecb265f2e0f5c97a1a23c8b725217680ba103c2,openstack/charm-cinder,stable/zed,Ifecb265f2e0f5c97a1a23c8b725217680ba103c2,Test to ensure tox is pinned for stable/zed,ABANDONED,2023-01-06 18:30:58.000000000,2023-01-09 22:18:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 18:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d3a0522477fe52f0ef9642f6013caee2a4dbb10d', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: Ifecb265f2e0f5c97a1a23c8b725217680ba103c2\n'}, {'number': 2, 'created': '2023-01-06 20:57:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e3b29cfaf9ab83775355d89a95efb571b6a4e40c', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: Ifecb265f2e0f5c97a1a23c8b725217680ba103c2\n'}]",1,869498,e3b29cfaf9ab83775355d89a95efb571b6a4e40c,7,1,2,11805,,,0,"Test to ensure tox is pinned for stable/zed

https: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3
Change-Id: Ifecb265f2e0f5c97a1a23c8b725217680ba103c2
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/98/869498/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d3a0522477fe52f0ef9642f6013caee2a4dbb10d,,,,0,0
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I5a156fd109552c4e7dab4ccddd1476a6412ae44d,openstack/charm-nova-compute-nvidia-vgpu,master,I5a156fd109552c4e7dab4ccddd1476a6412ae44d,Test to ensure tox is pinned for stable/zed,ABANDONED,2023-01-06 19:02:58.000000000,2023-01-09 22:17:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 19:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/5719c904100476adb0e3ea2a36bbf0f6368c6afd', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I5a156fd109552c4e7dab4ccddd1476a6412ae44d\n'}, {'number': 2, 'created': '2023-01-06 20:57:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/9f5a75572d5846cf34906e930a47108db118ce2d', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I5a156fd109552c4e7dab4ccddd1476a6412ae44d\n'}]",0,869503,9f5a75572d5846cf34906e930a47108db118ce2d,5,1,2,11805,,,0,"Test to ensure tox is pinned for stable/zed

https: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3
Change-Id: I5a156fd109552c4e7dab4ccddd1476a6412ae44d
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/03/869503/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,5719c904100476adb0e3ea2a36bbf0f6368c6afd,stable/zed,,,0,0
openstack%2Fos-vif~master~Ide357cb64a8d128ff8ad978abae6a039e814d8a9,openstack/os-vif,master,Ide357cb64a8d128ff8ad978abae6a039e814d8a9,Make tox.ini tox 4.0.0 compatible,MERGED,2022-12-22 15:09:15.000000000,2023-01-09 21:19:49.000000000,2023-01-09 21:18:51.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5f341ebdda566fbba7caa7196abe510ddc63bc0e', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure os-vif is available in the virtual\n  env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: Ide357cb64a8d128ff8ad978abae6a039e814d8a9\n'}, {'number': 2, 'created': '2022-12-22 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/08f90bdfecefbf2e3e3c943b904770f379ec1603', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure os-vif is available in the virtual\n  env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: Ide357cb64a8d128ff8ad978abae6a039e814d8a9\n'}, {'number': 3, 'created': '2023-01-09 11:31:39.000000000', 'files': ['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/privsep.py', 'tox.ini', 'os_vif/tests/functional/privsep.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2f31947393ce2a68f6623723fdd85abdac9a1786', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure os-vif is available in the virtual\n  env\n* removed basepython = python3 as we assume all developer switched to\n  python3 in their env already\n* removed ignore_basepython_conflict = True as without the basepython\n  definition generative targets now work without conflict\n\nAlso squashed in the commit fixing the functional target as both fix is\nneeded to unblock the gate:\n\nadd CAP_DAC_OVERRIDE to test privsep contexts\n\nThis change modifes the privsep contexts used by the test\ncode to create inteface without using the os-vif plugins.\n\nThe os-vif functional tests actully create ovs and linux\nbrdiges and dummy netdevs. to ensure the drier work correctly\nthe functional tests have a simpler test only version of the\nport/brige management commands that are used to prepare\nand validate the test env. The simpler implementation uses\nstandard linux commandline tools like ""ip"" or ""ovs-vsctl""\nwhich on ubuntu 22.04 require the addtion of CAP_DAC_OVERRIDE\nto work around socket/file ownership issues.\n\nTo avoid  adding capablities at runtime that are not required\nthis change modifes the existing test only context in\nthe os_vif.tests.functional.privsep module and add a new test\ncontext for the vif_plug_ovs plugin\n\nChange-Id: Ide357cb64a8d128ff8ad978abae6a039e814d8a9\n'}]",5,868420,2f31947393ce2a68f6623723fdd85abdac9a1786,14,3,3,9708,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipdist=True to make sure os-vif is available in the virtual
  env
* removed basepython = python3 as we assume all developer switched to
  python3 in their env already
* removed ignore_basepython_conflict = True as without the basepython
  definition generative targets now work without conflict

Also squashed in the commit fixing the functional target as both fix is
needed to unblock the gate:

add CAP_DAC_OVERRIDE to test privsep contexts

This change modifes the privsep contexts used by the test
code to create inteface without using the os-vif plugins.

The os-vif functional tests actully create ovs and linux
brdiges and dummy netdevs. to ensure the drier work correctly
the functional tests have a simpler test only version of the
port/brige management commands that are used to prepare
and validate the test env. The simpler implementation uses
standard linux commandline tools like ""ip"" or ""ovs-vsctl""
which on ubuntu 22.04 require the addtion of CAP_DAC_OVERRIDE
to work around socket/file ownership issues.

To avoid  adding capablities at runtime that are not required
this change modifes the existing test only context in
the os_vif.tests.functional.privsep module and add a new test
context for the vif_plug_ovs plugin

Change-Id: Ide357cb64a8d128ff8ad978abae6a039e814d8a9
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/20/868420/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f341ebdda566fbba7caa7196abe510ddc63bc0e,tox4,skipdist=True usedevelop=False,skipsdist = True,2,1
openstack%2Ftripleo-validations~master~I144c5791b94b3dad6a3089953a7bd084df08e0f3,openstack/tripleo-validations,master,I144c5791b94b3dad6a3089953a7bd084df08e0f3,Changes needed for full functionality of the tox 4.0 runtime,MERGED,2023-01-05 11:04:00.000000000,2023-01-09 21:13:18.000000000,2023-01-09 21:12:23.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2023-01-05 11:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/386b82e35010ea988dedc23dd60076babd0dbffd', 'message': 'Changes needed for full functionality of the tox 4.0 runtime\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3\n'}, {'number': 2, 'created': '2023-01-09 14:17:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/072985c66d518f6fd250c6be5e418ca170496524', 'message': 'Changes needed for full functionality of the tox 4.0 runtime\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3\n'}]",2,869350,072985c66d518f6fd250c6be5e418ca170496524,12,3,2,32926,,,0,"Changes needed for full functionality of the tox 4.0 runtime

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/50/869350/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,386b82e35010ea988dedc23dd60076babd0dbffd,tox4, -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt,,3,0
openstack%2Fswift~master~I61750a1083a1c97a6222ec9040f90980ee73acc8,openstack/swift,master,I61750a1083a1c97a6222ec9040f90980ee73acc8,Add attrs to lower-constraints,MERGED,2023-01-09 17:00:53.000000000,2023-01-09 20:29:56.000000000,2023-01-09 20:28:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-09 17:00:53.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/ee12a11e708fce6c982a85b58cd2c3899f13479e', 'message': ""Add attrs to lower-constraints\n\nFuture work: Assuming we're going to keep the l-c job, we should make\nsure it fails if packages get installed that aren't in the constraints\nfile.\n\nChange-Id: I61750a1083a1c97a6222ec9040f90980ee73acc8\n""}]",0,869581,ee12a11e708fce6c982a85b58cd2c3899f13479e,8,2,1,15343,,,0,"Add attrs to lower-constraints

Future work: Assuming we're going to keep the l-c job, we should make
sure it fails if packages get installed that aren't in the constraints
file.

Change-Id: I61750a1083a1c97a6222ec9040f90980ee73acc8
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/869581/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ee12a11e708fce6c982a85b58cd2c3899f13479e,,attrs==21.4.0,,1,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5,openstack/tripleo-ansible,stable/wallaby,I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5,Use autospec instead of auto_spec,MERGED,2023-01-09 12:23:46.000000000,2023-01-09 20:18:28.000000000,2023-01-09 20:18:28.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-09 12:23:46.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0533cb4a59b9040522697ae3494224b244ba4e50', 'message': 'Use autospec instead of auto_spec\n\nUse autospec instead of auto_spec. Mock changes do not allow\nit anymore it seems. This has already been merged in stable/zed.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n(cherry picked from commit 2bbcd2bc2742ad4230132af76baf7b846241098c)\n'}]",0,869457,0533cb4a59b9040522697ae3494224b244ba4e50,8,4,1,8833,,,0,"Use autospec instead of auto_spec

Use autospec instead of auto_spec. Mock changes do not allow
it anymore it seems. This has already been merged in stable/zed.

Change-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5
(cherry picked from commit 2bbcd2bc2742ad4230132af76baf7b846241098c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/869457/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py'],1,0533cb4a59b9040522697ae3494224b244ba4e50,," @mock.patch.object(plugin, 'get_subnet_info', autospec=True) @mock.patch.object(plugin, 'get_network_info', autospec=True)"," @mock.patch.object(plugin, 'get_subnet_info', auto_spec=True) @mock.patch.object(plugin, 'get_network_info', auto_spec=True)",2,2
openstack%2Fansible-role-pki~stable%2Fwallaby~Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa,openstack/ansible-role-pki,stable/wallaby,Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa,Ensure CA privatekey permissions,MERGED,2022-12-14 13:14:02.000000000,2023-01-09 20:02:46.000000000,2023-01-09 20:01:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-14 13:14:02.000000000', 'files': ['tasks/standalone/create_ca.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/eaca6de90a71c6d437b1966292bbdb89eadaa986', 'message': ""Ensure CA privatekey permissions\n\nIn case private key permissions or owner doesn't match openssl_privatekey\nwill fix permissions, that will result in task being changed. We want\nto avoid this task being changed without good reasons, as our logic on\nCA certificates generation depends on that as well.\n\nChange-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa\n(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)\n""}]",0,867634,eaca6de90a71c6d437b1966292bbdb89eadaa986,8,3,1,32666,,,0,"Ensure CA privatekey permissions

In case private key permissions or owner doesn't match openssl_privatekey
will fix permissions, that will result in task being changed. We want
to avoid this task being changed without good reasons, as our logic on
CA certificates generation depends on that as well.

Change-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa
(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/34/867634/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_ca.yml'],1,eaca6de90a71c6d437b1966292bbdb89eadaa986,," # NOTE(noonedeadpunk): Incorrect permissions lead to CA certs re-generation as # openssl_privatekey gets changed when harmonizing ownership/permissions - name: Ensure private key has proper ownership file: state: file path: ""{{ ca_dir ~ '/private/' ~ ca.name ~ '.key.pem' }}"" mode: ""{{ ca.key_mode | default('0600') }}"" owner: ""{{ ca.key_owner | default('root') }}"" group: ""{{ ca.key_group | default('root') }}"" failed_when: false ",,11,0
openstack%2Fpuppet-cinder~stable%2Fzed~Ia493843b286bd55002beaf74cca37f500c0448d6,openstack/puppet-cinder,stable/zed,Ia493843b286bd55002beaf74cca37f500c0448d6,[Pure Storage] Add new iscsi_cidr_list param for FlashArray Cinder backend,MERGED,2023-01-03 16:57:26.000000000,2023-01-09 20:00:59.000000000,2023-01-09 20:00:01.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-03 16:57:26.000000000', 'files': ['releasenotes/notes/pure_add_iscsi_cidr_list-aab9045dcf9a4f83.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7d914e081a8549d55216aa7e4aba5ebc675b5fd3', 'message': '[Pure Storage] Add new iscsi_cidr_list param for FlashArray Cinder backend\n\nChange-Id: Ia493843b286bd55002beaf74cca37f500c0448d6\n(cherry picked from commit 7a534f41e0096b9f110b5c6a5e3066b0515e19f4)\n'}]",8,869116,7d914e081a8549d55216aa7e4aba5ebc675b5fd3,21,3,1,13425,,,0,"[Pure Storage] Add new iscsi_cidr_list param for FlashArray Cinder backend

Change-Id: Ia493843b286bd55002beaf74cca37f500c0448d6
(cherry picked from commit 7a534f41e0096b9f110b5c6a5e3066b0515e19f4)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/16/869116/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_add_iscsi_cidr_list-aab9045dcf9a4f83.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,7d914e081a8549d55216aa7e4aba5ebc675b5fd3,add_cidr_list-stable/zed,"# [*pure_iscsi_cidr_list*] # (Optional) Identifies comma-separated list of CIDR of FlashArray # iSCSI targets hosts are allowed to connect to. It supports IPv4 # and IPv6 subnets. This parameter supersedes pure_iscsi_cidr. # Defaults to $::os_service_default # $pure_iscsi_cidr_list = $::os_service_default, ""${name}/pure_iscsi_cidr_list"": value => $pure_iscsi_cidr_list;",,17,0
openstack%2Fpuppet-nova~master~I5e18ee1946efebfe4abdcf398abd5babffaba545,openstack/puppet-nova,master,I5e18ee1946efebfe4abdcf398abd5babffaba545,Remove logic to handle undef,MERGED,2023-01-05 06:27:18.000000000,2023-01-09 19:49:48.000000000,2023-01-09 19:49:48.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 06:27:18.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/dd41ad8a1a65d3428367256c4371760f22cb7226', 'message': 'Remove logic to handle undef\n\nThe logic was added a few cycles ago[1] when we replaced the old\ndefault value (undef). The logic has not been really useful because\npuppet automatically omits the undef values.\n\n[1] 26dbd52717f46a1be8586dd61a6f265f8fe56f11\n\nChange-Id: I5e18ee1946efebfe4abdcf398abd5babffaba545\n'}]",0,869281,dd41ad8a1a65d3428367256c4371760f22cb7226,8,4,1,9816,,,0,"Remove logic to handle undef

The logic was added a few cycles ago[1] when we replaced the old
default value (undef). The logic has not been really useful because
puppet automatically omits the undef values.

[1] 26dbd52717f46a1be8586dd61a6f265f8fe56f11

Change-Id: I5e18ee1946efebfe4abdcf398abd5babffaba545
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/81/869281/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,dd41ad8a1a65d3428367256c4371760f22cb7226,," $ca_file_real = $ca_file $crl_file_real = $crl_file 'listen_addr' => { 'value' => $listen_address, 'quote' => true }"," $ca_file_real = pick($ca_file, $::os_service_default) $crl_file_real = pick($crl_file, $::os_service_default) if $ca_file == undef { warning('Usage of undef for the ca_file parameter has been deprecated') } if $crl_file == undef { warning('Usage of undef for the crl_file parameter has been deprecated') } if $listen_address == undef { warning('Usage of undef for the listen_addrss parameter has been deprecated') } 'listen_addr' => { 'value' => pick($listen_address, $::os_service_default), 'quote' => true }",3,14
openstack%2Fpuppet-nova~master~Ia2adbe27d7a586176a3bcc8adadc2d952e541d03,openstack/puppet-nova,master,Ia2adbe27d7a586176a3bcc8adadc2d952e541d03,Remove unused exec resource to refresh network interfaces,MERGED,2023-01-05 06:37:26.000000000,2023-01-09 19:49:46.000000000,2023-01-09 19:49:46.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 06:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9554033f6ddbb8e0ef2f63ae37c3077b92e5997b', 'message': 'Remove unused exec resource to refresh network interfaces\n\nThis resource was used to set up nova-network, which was already\nremoved.\n\nChange-Id: Ia2adbe27d7a586176a3bcc8adadc2d952e541d03\n'}, {'number': 2, 'created': '2023-01-05 06:38:34.000000000', 'files': ['manifests/compute.pp', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/16aa7716ac2c0bbc652bfb45094cc88fca886675', 'message': 'Remove unused exec resource to refresh network interfaces\n\nThis resource was used to set up nova-network, which was already\nremoved.\n\nChange-Id: Ia2adbe27d7a586176a3bcc8adadc2d952e541d03\n'}]",0,869282,16aa7716ac2c0bbc652bfb45094cc88fca886675,9,4,2,9816,,,0,"Remove unused exec resource to refresh network interfaces

This resource was used to set up nova-network, which was already
removed.

Change-Id: Ia2adbe27d7a586176a3bcc8adadc2d952e541d03
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/82/869282/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,9554033f6ddbb8e0ef2f63ae37c3077b92e5997b,,," # used by debian/ubuntu in nova::network_bridge to refresh # interfaces based on /etc/network/interfaces exec { 'networking-refresh': command => '/sbin/ifdown -a ; /sbin/ifup -a', refreshonly => true, } ",0,7
openstack%2Fcharm-aodh~stable%2Fzed~I83074978f7165f599c4cc29668a3354efc3aca24,openstack/charm-aodh,stable/zed,I83074978f7165f599c4cc29668a3354efc3aca24,Test to ensure tox is pinned for stable/zed,ABANDONED,2023-01-06 18:30:36.000000000,2023-01-09 18:52:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 18:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/4f935aaf63ffa3cf6764594666d142ef750e4231', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I83074978f7165f599c4cc29668a3354efc3aca24\n'}, {'number': 2, 'created': '2023-01-06 20:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/d4af4177284ab61c3d0e7da13ea2068cec5d1a20', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I83074978f7165f599c4cc29668a3354efc3aca24\n'}, {'number': 3, 'created': '2023-01-06 20:57:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/3b9d26fa342eb4939aecd2b5897f7c933d4dfdf2', 'message': 'Test to ensure tox is pinned for stable/zed\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I83074978f7165f599c4cc29668a3354efc3aca24\n'}]",1,869497,3b9d26fa342eb4939aecd2b5897f7c933d4dfdf2,9,1,3,11805,,,0,"Test to ensure tox is pinned for stable/zed

https: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3
Change-Id: I83074978f7165f599c4cc29668a3354efc3aca24
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/97/869497/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,4f935aaf63ffa3cf6764594666d142ef750e4231,,,,0,0
openstack%2Fos-net-config~stable%2Fwallaby~Ida0c78ba7784d452165999af4dd955b0129cfdaf,openstack/os-net-config,stable/wallaby,Ida0c78ba7784d452165999af4dd955b0129cfdaf,Mellanox NICs' ifcfg-scripts should not be removed when no CONFIG change exists,MERGED,2022-11-30 10:14:44.000000000,2023-01-09 18:17:10.000000000,2023-01-09 18:15:57.000000000,"[{'_account_id': 12398}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-11-30 10:14:44.000000000', 'files': ['os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d682470378c46c8f8621d6c0198394c731225970', 'message': ""Mellanox NICs' ifcfg-scripts should not be removed when no CONFIG change exists\n\nos-net-config is triggering reconfiguration/flapping of\nmellanox nics even when there are no changes in the NIC configs.\nAdded check to NOT remove ifcfg-* scripts for Mellonox NICs when\nDPDK/Bond is enabled\n\nResolves: rhbz#2131248\nChange-Id: Ida0c78ba7784d452165999af4dd955b0129cfdaf\n(cherry picked from commit e752fbac782f357f1445a609ff90e1dee6c3492d)\n""}]",1,866129,d682470378c46c8f8621d6c0198394c731225970,12,4,1,33688,,,0,"Mellanox NICs' ifcfg-scripts should not be removed when no CONFIG change exists

os-net-config is triggering reconfiguration/flapping of
mellanox nics even when there are no changes in the NIC configs.
Added check to NOT remove ifcfg-* scripts for Mellonox NICs when
DPDK/Bond is enabled

Resolves: rhbz#2131248
Change-Id: Ida0c78ba7784d452165999af4dd955b0129cfdaf
(cherry picked from commit e752fbac782f357f1445a609ff90e1dee6c3492d)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/29/866129/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/impl_ifcfg.py'],1,d682470378c46c8f8621d6c0198394c731225970,toxq_fix, logger.info('removing existing ifcfg script for intf: %s' % ifname) if not self.noop and (not common.is_mellanox_interface(ifname)): if not self.noop and (not common.is_mellanox_interface(ifname)):, if not self.noop: if not self.noop:,3,2
openstack%2Ftripleo-common~stable%2Fwallaby~I36cb49007942d95f401eda1719a6eac327479503,openstack/tripleo-common,stable/wallaby,I36cb49007942d95f401eda1719a6eac327479503,Remove sysfsutils from nova container,MERGED,2022-12-12 16:33:56.000000000,2023-01-09 18:10:38.000000000,2023-01-09 18:09:31.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-12-12 16:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44ffce48648451ff155c780651e90ff640c0833c', 'message': 'Remove sysfsutils from nova container\n\nsysfsutils was an optional depency of nova for\nfiber channel storage integration.\nsysfsutils and systool shoudl nolonger be used in nova directly\nas a result this depency shoudl nolonger be required.\n\nsysfsutils is going away in centos 9 which will be the basis OS\nfor new versions so we should remove it from the package list in the\nnova-compute container.\n\ndirect usage of sysfsutils/systool was removed a while ago but it is\nstill used by fiber channel in os-brick, but os-brick does require\nthe package correctly.\n\nChange-Id: I36cb49007942d95f401eda1719a6eac327479503\n(cherry picked from commit def937575a0f46a9195bf01246ba3383bd41e138)\n'}, {'number': 2, 'created': '2022-12-16 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a00670bf5b1b09193c29db56582e1d8e3364188', 'message': 'Remove sysfsutils from nova container\n\nsysfsutils is going away in centos 9 which will be the basis OS\nfor new versions so we should remove it from the package list in the\nnova-compute container.\n\ndirect usage of sysfsutils/systool was removed a while ago but it is\nstill used by fiber channel in os-brick, but os-brick does require\nthe package correctly.\n\nChange-Id: I36cb49007942d95f401eda1719a6eac327479503\n(cherry picked from commit def937575a0f46a9195bf01246ba3383bd41e138)\n'}, {'number': 3, 'created': '2023-01-03 13:53:43.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d99ca7b34fe746f98afa59c49855d04f3f6dcee1', 'message': 'Remove sysfsutils from nova container\n\nsysfsutils is going away in centos 9 which will be the basis OS\nfor new versions so we should remove it from the package list in the\nnova-compute container.\n\ndirect usage of sysfsutils/systool was removed a while ago but it is\nstill used by fiber channel in os-brick, but os-brick does require\nthe package correctly.\n\nChange-Id: I36cb49007942d95f401eda1719a6eac327479503\n(cherry picked from commit def937575a0f46a9195bf01246ba3383bd41e138)\n'}]",10,867163,d99ca7b34fe746f98afa59c49855d04f3f6dcee1,29,7,3,6926,,,0,"Remove sysfsutils from nova container

sysfsutils is going away in centos 9 which will be the basis OS
for new versions so we should remove it from the package list in the
nova-compute container.

direct usage of sysfsutils/systool was removed a while ago but it is
still used by fiber channel in os-brick, but os-brick does require
the package correctly.

Change-Id: I36cb49007942d95f401eda1719a6eac327479503
(cherry picked from commit def937575a0f46a9195bf01246ba3383bd41e138)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/867163/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml'],1,44ffce48648451ff155c780651e90ff640c0833c,I36cb49007942d95f401eda1719a6eac327479503-stable/wallaby, - sysfsutils, - sysfsutils,1,1
openstack%2Fos-net-config~stable%2Fwallaby~Icd019e62a045cab05df82421298100a79c2a669f,openstack/os-net-config,stable/wallaby,Icd019e62a045cab05df82421298100a79c2a669f,Updates to tox and setup.cfg files,MERGED,2022-11-30 10:12:20.000000000,2023-01-09 18:10:34.000000000,2023-01-09 18:09:34.000000000,"[{'_account_id': 12398}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-11-30 10:12:20.000000000', 'files': ['requirements.txt', 'setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e35cdb435c2104a06c19832d89b4de2bdbaf4e4b', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n(cherry picked from commit 4ed6d471c487a2ac972cf073170d8204e15ec408)\n'}]",2,866128,e35cdb435c2104a06c19832d89b4de2bdbaf4e4b,12,4,1,33688,,,0,"Updates to tox and setup.cfg files

Using upper-constraints when creating tox environments is
currently having an issue. Updated old version for packages
like pbr, oslo.concurrency, oslo.utils.

Change-Id: Icd019e62a045cab05df82421298100a79c2a669f
(cherry picked from commit 4ed6d471c487a2ac972cf073170d8204e15ec408)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/28/866128/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py', 'tox.ini']",3,e35cdb435c2104a06c19832d89b4de2bdbaf4e4b,toxq_fix,"minversion = 3.18.0 envlist = docs,linters,pep8ignore_basepython_conflict = Truecommands = stestr run --slowest {posargs}","minversion = 2.0 envlist = py38,pep8commands = stestr run --slowest {posargs}",9,6
openstack%2Fopenstack-ansible-os_nova~master~I3220de5863c9c3af418e71774c103c4712b16086,openstack/openstack-ansible-os_nova,master,I3220de5863c9c3af418e71774c103c4712b16086,Enable rbd download when nova_glance_rbd is in use,MERGED,2023-01-03 11:01:59.000000000,2023-01-09 18:02:47.000000000,2023-01-09 18:01:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-01-03 11:01:59.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a', 'message': 'Enable rbd download when nova_glance_rbd is in use\n\nWith original patch [1] I somehow missed to define enable_rbd_download\nalong with adding rbd_user/pool/conf. However, neither of these\noptions are taken into account if enable_rbd_download is set to false,\nwhich is the default value.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/828897\n\nChange-Id: I3220de5863c9c3af418e71774c103c4712b16086\n'}]",1,869073,9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a,9,4,1,28619,,,0,"Enable rbd download when nova_glance_rbd is in use

With original patch [1] I somehow missed to define enable_rbd_download
along with adding rbd_user/pool/conf. However, neither of these
options are taken into account if enable_rbd_download is set to false,
which is the default value.

[1] https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/828897

Change-Id: I3220de5863c9c3af418e71774c103c4712b16086
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/73/869073/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,9a3d5b0be33ee241b6dd2e2a9a408e2784a4747a,,enable_rbd_download = True,,1,0
openstack%2Ftripleo-ansible~master~I2b31100c7a547f10ff9f445811c0bf4084fec3cd,openstack/tripleo-ansible,master,I2b31100c7a547f10ff9f445811c0bf4084fec3cd,Fixing wrong argument dictionary key and removing superfluous char,MERGED,2023-01-05 16:10:57.000000000,2023-01-09 17:54:38.000000000,2023-01-09 17:53:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-05 16:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7cda4fb839c319a7d3dcc8d4c15cb07a7ceb209d', 'message': 'Fixing wrong argument dictionary key and removing superfluous char\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd\n'}, {'number': 2, 'created': '2023-01-06 07:26:14.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4fe2ed31578b01e3ed34f4e4534a3f389ae03f6', 'message': 'Fixing wrong argument dictionary key and removing superfluous char\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd\n'}]",2,869384,a4fe2ed31578b01e3ed34f4e4534a3f389ae03f6,13,7,2,32926,,,0,"Fixing wrong argument dictionary key and removing superfluous char

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2b31100c7a547f10ff9f445811c0bf4084fec3cd
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/869384/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_role_list.py'],1,7cda4fb839c319a7d3dcc8d4c15cb07a7ceb209d,," roles_path = module.params['roles_path'] result['msg'] = (""Error getting role list: {error}"".format(error=err))"," roles_path = module.params[ROLES_PATH_DEFAULT] result['msg'] = (""Error getting role list: %{error}"".format(error=err))",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5f0151d70977b3fdbf04c41ffb224f364a027e5c,openstack/tripleo-heat-templates,stable/train,I5f0151d70977b3fdbf04c41ffb224f364a027e5c,[OVN] Split NeutronWorkers and NeutronMetadataWorkers for OVN,MERGED,2022-12-28 13:07:40.000000000,2023-01-09 17:54:31.000000000,2023-01-09 17:53:28.000000000,"[{'_account_id': 6773}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-12-28 13:07:40.000000000', 'files': ['environments/low-memory-usage.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'releasenotes/notes/ovn-neutron-metadata-workers-7623588cca0a6948.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5775a1ab2fd0646e8f05058097d0db386c7854a1', 'message': ""[OVN] Split NeutronWorkers and NeutronMetadataWorkers for OVN\n\nPrior to this patch, the OVN metadata reused the NeutronWorkers\nconfiguration to set the number workers it should spawn. This is not\nideal for OVN metadata because it works differently than the OVS\nmetadata agent, for example:\n\n1) The OVN metadata workers are deployed onto the compute nodes and not\n   on the controllers/gateways as the OVS ones are. This means it's\n   better distributed.\n\n2) Even tho we could have multiple workers, the OVN SB IDL in the OVN\n   metadata agents acquires a lock while listening to OVSDB events.\n   Therefore, even tho we could have dozens of agents only one of them\n   is listening to the events.\n\n3) Instantiating IDLs means maintaining in-memory replicas of the\n   OVSDB (or, the tables of that DB that is being watched). This puts a\n   burden on OVSDBs to maintain all these replicas updated, reducing\n   this number workers also reduces the burden on the OVSDBs.\n\nWith this patch, we are adding a new configuration called\nNeutronMetadataWorkers so that we can set different values for the API\nworkers and the metadata workers in a OVN deployment.\n\nChange-Id: I5f0151d70977b3fdbf04c41ffb224f364a027e5c\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 33843c49ff0a2babd560022fe5f8a0c45095af47)\nConflicts:\n \tdeployment/ovn/ovn-metadata-container-puppet.yaml\n""}]",3,868745,5775a1ab2fd0646e8f05058097d0db386c7854a1,12,6,1,13861,,,0,"[OVN] Split NeutronWorkers and NeutronMetadataWorkers for OVN

Prior to this patch, the OVN metadata reused the NeutronWorkers
configuration to set the number workers it should spawn. This is not
ideal for OVN metadata because it works differently than the OVS
metadata agent, for example:

1) The OVN metadata workers are deployed onto the compute nodes and not
   on the controllers/gateways as the OVS ones are. This means it's
   better distributed.

2) Even tho we could have multiple workers, the OVN SB IDL in the OVN
   metadata agents acquires a lock while listening to OVSDB events.
   Therefore, even tho we could have dozens of agents only one of them
   is listening to the events.

3) Instantiating IDLs means maintaining in-memory replicas of the
   OVSDB (or, the tables of that DB that is being watched). This puts a
   burden on OVSDBs to maintain all these replicas updated, reducing
   this number workers also reduces the burden on the OVSDBs.

With this patch, we are adding a new configuration called
NeutronMetadataWorkers so that we can set different values for the API
workers and the metadata workers in a OVN deployment.

Change-Id: I5f0151d70977b3fdbf04c41ffb224f364a027e5c
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 33843c49ff0a2babd560022fe5f8a0c45095af47)
Conflicts:
 	deployment/ovn/ovn-metadata-container-puppet.yaml
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/868745/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/low-memory-usage.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'releasenotes/notes/ovn-neutron-metadata-workers-7623588cca0a6948.yaml']",3,5775a1ab2fd0646e8f05058097d0db386c7854a1,ovn-metadata-workers,--- upgrade: - | Adds a new parameter ``NeutronMetadataWorkers`` for OVN. This parameters allows users to configure the number of OVN metadata workers separately from the value of ``NeutronWorkers``. The OVN metadata workers are deployed onto the compute nodes and not on the controllers/gateways as the OVS ones. ,,16,6
openstack%2Ftripleo-ansible~master~I33b07d615beafecd5fe97cbca54c6a296965af8f,openstack/tripleo-ansible,master,I33b07d615beafecd5fe97cbca54c6a296965af8f,Refactor a bit the inventory for edpm case,MERGED,2023-01-05 12:34:20.000000000,2023-01-09 17:53:31.000000000,2023-01-09 17:53:31.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 35491}]","[{'number': 1, 'created': '2023-01-05 12:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c5c7e82e0a18b7104e3239d49d1c743e13f7763', 'message': 'Refactor a bit the inventory for edpm case\n\n01-site:\nEnsure we get a consistent format (yaml)\n\n02-computes + host_vars/localhost:\nEnsure the ""ansible_connection"" parameter is passed from within the\ninventory, so that it\'s more obvious. Until now, we may just edit the\n02-computes to inject our remote hosts, and not get what we want since\nansible will just use the local node instead of connecting to the\nremotes.\n\nChange-Id: I33b07d615beafecd5fe97cbca54c6a296965af8f\n'}, {'number': 2, 'created': '2023-01-05 14:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/329a995bb50cfb44b3fa055de0ca65e68cbae528', 'message': 'Refactor a bit the inventory for edpm case\n\n01-site:\nEnsure we get a consistent format (yaml)\n\n02-computes + host_vars/localhost:\nEnsure the ""ansible_connection"" parameter is passed from within the\ninventory, so that it\'s more obvious. Until now, we may just edit the\n02-computes to inject our remote hosts, and not get what we want since\nansible will just use the local node instead of connecting to the\nremotes.\n\nChange-Id: I33b07d615beafecd5fe97cbca54c6a296965af8f\n'}, {'number': 3, 'created': '2023-01-06 07:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b98627c3ff4f2284c60de458cb8b42541dfebe0b', 'message': 'Refactor a bit the inventory for edpm case\n\n01-site:\nEnsure we get a consistent format (yaml)\n\n02-computes + host_vars/localhost:\nEnsure the ""ansible_connection"" parameter is passed from within the\ninventory, so that it\'s more obvious. Until now, we may just edit the\n02-computes to inject our remote hosts, and not get what we want since\nansible will just use the local node instead of connecting to the\nremotes.\n\nChange-Id: I33b07d615beafecd5fe97cbca54c6a296965af8f\n'}, {'number': 4, 'created': '2023-01-06 08:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1678b33328ddca8cf80480aaff14eb8cceae6ec2', 'message': 'Refactor a bit the inventory for edpm case\n\n01-site:\nEnsure we get a consistent format (yaml)\n\n02-computes + host_vars/localhost:\nEnsure the ""ansible_connection"" parameter is passed from within the\ninventory, so that it\'s more obvious. Until now, we may just edit the\n02-computes to inject our remote hosts, and not get what we want since\nansible will just use the local node instead of connecting to the\nremotes.\n\nChange-Id: I33b07d615beafecd5fe97cbca54c6a296965af8f\n'}, {'number': 5, 'created': '2023-01-09 09:30:21.000000000', 'files': ['tripleo_ansible/inventory/01-site', 'tripleo_ansible/inventory/02-computes', 'tripleo_ansible/inventory/host_vars/localhost'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/976741b32009e85f36ee72e120988fce2bb7c140', 'message': 'Refactor a bit the inventory for edpm case\n\n01-site:\nEnsure we get a consistent format (yaml)\n\n02-computes + host_vars/localhost:\nEnsure the ""ansible_connection"" parameter is passed from within the\ninventory, so that it\'s more obvious. Until now, we may just edit the\n02-computes to inject our remote hosts, and not get what we want since\nansible will just use the local node instead of connecting to the\nremotes.\n\nChange-Id: I33b07d615beafecd5fe97cbca54c6a296965af8f\n'}]",4,869357,976741b32009e85f36ee72e120988fce2bb7c140,26,7,5,28223,,,0,"Refactor a bit the inventory for edpm case

01-site:
Ensure we get a consistent format (yaml)

02-computes + host_vars/localhost:
Ensure the ""ansible_connection"" parameter is passed from within the
inventory, so that it's more obvious. Until now, we may just edit the
02-computes to inject our remote hosts, and not get what we want since
ansible will just use the local node instead of connecting to the
remotes.

Change-Id: I33b07d615beafecd5fe97cbca54c6a296965af8f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/869357/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/inventory/01-site', 'tripleo_ansible/inventory/02-computes', 'tripleo_ansible/inventory/host_vars/localhost']",3,8c5c7e82e0a18b7104e3239d49d1c743e13f7763,edpm/inventory,, ansible_connection: local,15,13
openstack%2Fpuppet-swift~master~I8aded9b59939e5a2eab04424277d9082cbda0a3a,openstack/puppet-swift,master,I8aded9b59939e5a2eab04424277d9082cbda0a3a,Add support for swift-drive-audit cron job,MERGED,2022-12-09 06:22:43.000000000,2023-01-09 17:48:36.000000000,2023-01-09 17:47:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-09 06:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9130fc8c9cca51f6ed006e037b2a12e5c833fdae', 'message': 'WIP: Add support for swift-drive-audit cron job\n\nChange-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a\n'}, {'number': 2, 'created': '2022-12-12 05:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f9829069a05ae247b6b433fb3b01f718bcc03195', 'message': 'WIP: Add support for swift-drive-audit cron job\n\nChange-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a\n'}, {'number': 3, 'created': '2022-12-14 03:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/23e1443112db9f1bd0edb6741ea51e8d21aaaf34', 'message': 'WIP: Add support for swift-drive-audit cron job\n\nChange-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a\n'}, {'number': 4, 'created': '2022-12-14 06:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/edf6aad206b8e6689ca9030bc1599f7246e454b7', 'message': 'Add support for swift-drive-audit cron job\n\nThis change introduces the new class to configure cron job to run\nthe swift-drive-audit CLI tool periodically. The CLI tool checks\nthe log files to detect any device failure and umount faulty disks.\n\nChange-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a\n'}, {'number': 5, 'created': '2022-12-19 01:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/84634139a2d1d794b7e351676cf9c6a24261d560', 'message': 'Add support for swift-drive-audit cron job\n\nThis change introduces the new class to configure cron job to run\nthe swift-drive-audit CLI tool periodically. The CLI tool checks\nthe log files to detect any device failure and umount faulty disks.\n\nChange-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a\n'}, {'number': 6, 'created': '2022-12-19 02:40:52.000000000', 'files': ['spec/classes/swift_storage_driver_audit_spec.rb', 'releasenotes/notes/drive-audit-206e1c6e04e8decf.yaml', 'manifests/storage/drive_audit.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fd38b9cbfa44cae350358a5feb01c555df1602fb', 'message': 'Add support for swift-drive-audit cron job\n\nThis change introduces the new class to configure cron job to run\nthe swift-drive-audit CLI tool periodically. The CLI tool checks\nthe log files to detect any device failure and umount faulty disks.\n\nChange-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a\n'}]",0,867079,fd38b9cbfa44cae350358a5feb01c555df1602fb,17,3,6,9816,,,0,"Add support for swift-drive-audit cron job

This change introduces the new class to configure cron job to run
the swift-drive-audit CLI tool periodically. The CLI tool checks
the log files to detect any device failure and umount faulty disks.

Change-Id: I8aded9b59939e5a2eab04424277d9082cbda0a3a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/79/867079/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/drive_audit.pp'],1,9130fc8c9cca51f6ed006e037b2a12e5c833fdae,,"# == Class swift::storage::drive_audit # # Set up swift-drive-audit cron job # # == Parameters # # [*user*] # (Optional) User with access to swift files. # Defaults to $::swift::params::user. # # [*minute*] # (Optional) Defaults to '1'. # # [*hour*] # (Optional) Defaults to '0'. # # [*monthday*] # (Optional) Defaults to '*'. # # [*month*] # (Optional) Defaults to '*'. # # [*weekday*] # (Optional) Defaults to '*'. # # [*destination*] # (Optional) Path to file to which rows should be archived # Defaults to '/var/log/cinder/cinder-rowsflush.log'. # # [*maxdelay*] # (Optional) In Seconds. Should be a positive integer. # Induces a random delay before running the cronjob to avoid running # all cron jobs at the same time on all hosts this job is configured. # Defaults to 0. # # [*log_facility*] # (Optional) Syslog log facility. # Defaults to 'LOG_LOCAL2'. # # [*log_level*] # (Optional) Logging level. # Defaults to 'INFO'. # # [*log_address*] # (Optional) Location where syslog sends the logs to. # Defaults to '/dev/log'. # # [*log_name*] # (Optional) Label used when logging. # Defaults to 'drive-audit'. # # [*log_udp_host*] # (Optional) If not set, the UDP receiver for syslog is disabled. # Defaults to undef. # # [*log_udp_port*] # (Optional) Port value for UDP receiver, if enabled. # Defaults to undef. # # [*device_dir*] # (Optional) Directory devices are mounted under # Defaults to $::os_service_default. # # [*minutes*] # (Optional) Number of minutes to look back in the log file. # Defaults to $::os_service_default. # # [*error_limit*] # (Optional) Number of errors to find before a device is unmounted # Defaults to $::os_service_default. # # [*recon_cache_path*] # (Optional) The path for recon cache # Defaults to $::os_service_default # # [*log_file_pattern*] # (Optional) Location of the log file with globbing pattern to check against # device errors. # Defaults to $::os_service_default. # # [*log_to_console*] # (Optional) Make drive-audit log to console in addition to syslog # Defaults to $::os_service_default. # # [*unmount_failed_device*] # (Optional) Unmount the device with errors detected. # Defaults to $::os_service_default. # # [*regex_pattern*] # (Optional) Regular expression patterns to be used to locate device blocks # with errors in the log file. # Defaults to $::os_service_default. # class swift::storage::drive_audit( # cron options $user = $::swift::params::user, $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0 # drive-audit.conf options $log_facility = 'LOG_LOCAL2', $log_level = 'INFO', $log_address = '/dev/log', $log_name = 'drive-audit', $log_udp_host = undef, $log_udp_port = undef, $device_dir = '/srv/node', $minutes = $::os_service_default, $error_limit = $::os_service_default, $recon_cache_path = $::os_service_default, $log_file_pattern = $::os_service_default, $log_file_encoding = $::os_service_default, $log_to_console = $::os_service_default, $unmount_failed_device = $::os_service_default, $regex_pattern = {}, ) inherits swift::params { include swift::deps swift_drive_audit_config { 'drive-audit/log_name' : value => $log_name; 'drive-audit/log_facility': value => $log_facility; 'drive-audit/log_level' : value => $log_level; 'drive-audit/log_address' : value => $log_address; } if $log_udp_host { swift_drive_audit_config { 'drive-audit/log_udp_host': value => $log_udp_host; 'drive-audit/log_udp_port': value => pick($log_udp_port, $::os_service_default); } } else { swift_drive_audit_config { 'drive-audit/log_udp_host': value => $::os_service_default; 'drive-audit/log_udp_port': value => $::os_service_default; } } swift_drive_audit_config { 'drive-audit/user' : value => $user; 'drive-audit/device_dir' : value => $device_dir; 'drive-audit/minutes' : value => $minutes; 'drive-audit/error_limit' : value => $error_limit; 'drive-audit/recon_cache_path' : value => $recon_cache_path; 'drive-audit/recon_cache_path' : value => $recon_cache_path; 'drive-audit/log_file_pattern' : value => $log_file_pattern; 'drive-audit/log_file_encoding' : value => $log_file_encoding; 'drive-audit/log_to_console' : value => $log_to_console; 'drive-audit/unmount_failed_device': value => $unmount_failed_device; } $regex_pattern.each | $number, $regex | { swift_drive_audit_config { ""drive-audit/regex_pattern_${number}"": value => $regex; } } if $maxdelay == 0 { $sleep = '' } else { $sleep = ""sleep `expr \${RANDOM} \\% ${maxdelay}`; "" } cron { 'swift-drive-audit': command => ""${sleep}swift-drive-audit"", environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', user => $user, minute => $minute, hour => $hour, monthday => $monthday, month => $month, weekday => $weekday, require => Anchor['swift::config::end'], } } ",,178,0
openstack%2Fcloudkitty~master~I65b008152e2bc64f29229996c87ad4587fe85043,openstack/cloudkitty,master,I65b008152e2bc64f29229996c87ad4587fe85043,Add missing api-ref envlist to tox,MERGED,2022-12-14 12:22:57.000000000,2023-01-09 17:45:23.000000000,2023-01-09 17:43:25.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-12-14 12:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/565564ca66a7040c6ba8f1ff36bc1089e1890d2f', 'message': 'Add missing api-ref envlist to tox\n\nThis is a follow-up to:\nhttps://review.opendev.org/c/openstack/cloudkitty/+/867122\n\nWe need to add the `[testenv:api-ref]` section to `tox.ini` to be able\nto run `tox -e api-ref`, which is what Zuul uses to build the API refs.\n\nSphinx had to be capped to the latest version 4 or otherwise `tox` fails\nwith the ""add_content() takes 2 positional arguments but 3 were given""\nerror message.\n\nChange-Id: I65b008152e2bc64f29229996c87ad4587fe85043\n'}, {'number': 2, 'created': '2022-12-14 13:29:08.000000000', 'files': ['api-ref/source/_static', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/524e37da18bcca17e9f1c7e3d6c77255de6c4f63', 'message': 'Add missing api-ref envlist to tox\n\nThis is a follow-up to:\nhttps://review.opendev.org/c/openstack/cloudkitty/+/867122\n\nWe need to add the `[testenv:api-ref]` section to `tox.ini` to be able\nto run `tox -e api-ref`, which is what Zuul uses to build the API refs.\n\nSphinx had to be capped to the latest version 4 or otherwise `tox` fails\nwith the ""add_content() takes 2 positional arguments but 3 were given""\nerror message.\n\nChange-Id: I65b008152e2bc64f29229996c87ad4587fe85043\n'}]",10,867628,524e37da18bcca17e9f1c7e3d6c77255de6c4f63,25,3,2,25277,,,0,"Add missing api-ref envlist to tox

This is a follow-up to:
https://review.opendev.org/c/openstack/cloudkitty/+/867122

We need to add the `[testenv:api-ref]` section to `tox.ini` to be able
to run `tox -e api-ref`, which is what Zuul uses to build the API refs.

Sphinx had to be capped to the latest version 4 or otherwise `tox` fails
with the ""add_content() takes 2 positional arguments but 3 were given""
error message.

Change-Id: I65b008152e2bc64f29229996c87ad4587fe85043
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/28/867628/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/_static', 'doc/requirements.txt', 'tox.ini']",3,565564ca66a7040c6ba8f1ff36bc1089e1890d2f,bugfix-api-ref-in-tox,[testenv:api-ref] # This environment is called from CI scripts to test and publish # the API Ref to docs.openstack.org. deps = -r{toxinidir}/doc/requirements.txt allowlist_externals = rm commands = rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html ,,11,1
openstack%2Ftempest~master~Ibc5434244f3758c60ddefa96d78476948a47ed13,openstack/tempest,master,Ibc5434244f3758c60ddefa96d78476948a47ed13,Added functionality to wait for port creation,MERGED,2022-09-14 18:07:08.000000000,2023-01-09 17:44:51.000000000,2023-01-09 17:43:30.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-09-14 18:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9ef6bf998d56f1c3618da5185307c72bd19ab361', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh function that returns true\nwhen resource is no longer in BUILD status\n\nResolves: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 2, 'created': '2022-09-14 18:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/438913852d818d8cfe21c3fd3f875c4708e5c559', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh function that returns true\nwhen resource is no longer in BUILD status\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 3, 'created': '2022-09-15 02:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14607ecfcca80e503928bf83d4c24249f5cacb75', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh function that returns true\nwhen resource is no longer in BUILD status\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 4, 'created': '2022-11-10 17:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/78f268bc30d30e051e08170d940d05db96c8573b', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh function that returns true\nwhen resource is no longer in BUILD status\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 5, 'created': '2022-11-11 20:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2445a73a363765f82c7ccc8ad743e0e173601346', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh function that returns true\nwhen resource is no longer in BUILD status\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 6, 'created': '2022-11-14 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5abad78f18e3b07d5092a0b8b7e239cb98d26597', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh function that returns true\nwhen resource is no longer in BUILD status\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 7, 'created': '2022-11-14 22:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b2d1e78cbca59164454fbae1432ab8b6eea6bbdc', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 8, 'created': '2022-11-14 23:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04ad8aa235a5aa4db1cbd08cb54f1bfbc04c4d3a', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 9, 'created': '2022-11-15 18:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/12ce86fe5718517004246d2b8c6cfde1e38cda25', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 10, 'created': '2022-11-15 18:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/52065f067cab54687b7b81059d2f2f56ce761b72', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 11, 'created': '2022-11-18 02:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e0c4723d8bc169280381210bd05ae3e63fc78527', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 12, 'created': '2022-11-21 19:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/027ebe43a2817f82b1b9b69e3e4f107d4dd88818', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 13, 'created': '2022-11-23 13:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86bbd1660fcc531b8f9a2d53ae2146a2b4cb4e02', 'message': 'Added funcitonality to wait for port creation\n\nAdded a refresh fiter that compares the current\nstatus of the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}, {'number': 14, 'created': '2022-11-28 17:07:09.000000000', 'files': ['tempest/tests/common/test_waiters.py', 'tempest/scenario/manager.py', 'tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bec2d4daa00f66681043d582fc32d2a7a819c337', 'message': 'Added functionality to wait for port creation\n\nAdded a waiter that compares the current status\nof the port to a target value and returns the port\nwhen that is achieved.\n\nCloses-Bug: 1845486\nChange-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13\n'}]",68,857756,bec2d4daa00f66681043d582fc32d2a7a819c337,69,4,14,31324,,,0,"Added functionality to wait for port creation

Added a waiter that compares the current status
of the port to a target value and returns the port
when that is achieved.

Closes-Bug: 1845486
Change-Id: Ibc5434244f3758c60ddefa96d78476948a47ed13
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/857756/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,9ef6bf998d56f1c3618da5185307c72bd19ab361,port_create_wait_1845486," port_id = result['port']['id'] def refresh(): result = client.show_port(port_id) return result['port']['status'] != ""BUILD"" if not test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval): port = client.show_port(result['port']['id']) self.assertEqual(""ACTIVE"", port['status'], message=""Port: {prt} is at status: {cst}. "" ""failed to reach status: {st}"" .format(prt=port, cst=port['status'], st=""ACTIVE"")) client.delete_port, port_id) return result #Previously returned port, test this for consistency"," port = result['port'] client.delete_port, port['id']) return port",18,3
openstack%2Fcinder-specs~master~Iffe5e0e05287d57b27227d66864ee226424b5cd4,openstack/cinder-specs,master,Iffe5e0e05287d57b27227d66864ee226424b5cd4,Add extend volume completion action,MERGED,2022-12-06 14:11:12.000000000,2023-01-09 17:40:32.000000000,2022-12-24 17:48:48.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-06 14:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/d8df4e6410452476360b9ee6b59d9ed4c918dacb', 'message': 'Add extend volume completion action\n\nThis spec proposes to use the assisted volume extend API that has been\nThis blueprint proposes a new volume action that can be used by Nova\nto notify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 2, 'created': '2022-12-06 14:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4244879a39ba976c2cccb2fa5b5dd57b141b729c', 'message': 'Add extend volume completion action\n\nThis spec proposes to use the assisted volume extend API that has been\nThis blueprint proposes a new volume action that can be used by Nova\nto notify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 3, 'created': '2022-12-08 11:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/8a0dd017083eb70bbacc017299946a7fb2f07271', 'message': 'Add extend volume completion action\n\nThis spec proposes to use the assisted volume extend API that has been\nThis blueprint proposes a new volume action that can be used by Nova\nto notify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 4, 'created': '2022-12-08 14:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/648df134269bf722f2046f907ee0a4067e91c4ab', 'message': 'Add extend volume completion action\n\nThis spec proposes to use the assisted volume extend API that has been\nThis blueprint proposes a new volume action that can be used by Nova\nto notify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 5, 'created': '2022-12-13 17:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/90d1891e135bc96bfabfb83d20b4d0b5f1e2d3ab', 'message': 'Add extend volume completion action\n\nThis spec proposes to use the assisted volume extend API that has been\nThis blueprint proposes a new volume action that can be used by Nova\nto notify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 6, 'created': '2022-12-14 14:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ec48d8cd5416fce5a5f3bd409022bdd6b241bee9', 'message': 'Add extend volume completion action\n\nThis spec proposes a new volume action that can be used by Nova to\nnotify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 7, 'created': '2022-12-15 11:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/3cb14db451d82c72e5abf2c69c35b351901dc0df', 'message': 'Add extend volume completion action\n\nThis spec proposes a new volume action that can be used by Nova to\nnotify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 8, 'created': '2022-12-19 15:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a354d3643190f7f94e2d040efc4476d7b82c4c05', 'message': 'Add extend volume completion action\n\nThis spec proposes a new volume action that can be used by Nova to\nnotify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 9, 'created': '2022-12-22 13:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5699cc6df51aecb93de50e9f3d15fac4889af896', 'message': 'Add extend volume completion action\n\nThis spec proposes a new volume action that can be used by Nova to\nnotify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 10, 'created': '2022-12-22 20:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/26d9c6bac09fb5535dd28fa1aa7506b6206d9b6a', 'message': 'Add extend volume completion action\n\nThis spec proposes a new volume action that can be used by Nova to\nnotify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}, {'number': 11, 'created': '2022-12-24 10:53:13.000000000', 'files': ['specs/2023.1/extend-volume-completion-action.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/52cf89058464e4d2f91286b7590d6aa493929deb', 'message': 'Add extend volume completion action\n\nThis spec proposes a new volume action that can be used by Nova to\nnotify Cinder on success or failure when handling ""volume-extended""\nexternal server events.\nThe new volume action is used add support for extending attached volumes\nto the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.\n\nBlueprint: extend-volume-completion-action\nChange-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4\n'}]",68,866718,52cf89058464e4d2f91286b7590d6aa493929deb,45,5,11,34859,,,0,"Add extend volume completion action

This spec proposes a new volume action that can be used by Nova to
notify Cinder on success or failure when handling ""volume-extended""
external server events.
The new volume action is used add support for extending attached volumes
to the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers.

Blueprint: extend-volume-completion-action
Change-Id: Iffe5e0e05287d57b27227d66864ee226424b5cd4
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/18/866718/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/extend-volume-completion-action.rst'],1,d8df4e6410452476360b9ee6b59d9ed4c918dacb,bp/extend-volume-completion-action,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Add extend volume completion action =================================== https://blueprints.launchpad.net/cinder/+spec/extend-volume-completion-action This blueprint proposes a new volume action that can be used by Nova to notify Cinder on success or failure when handling ``volume-extended`` external server events. The new volume action is used add support for extending attached volumes to the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers. Problem description =================== Many remotefs-based volume drivers in Cinder use the ``qemu-img resize`` command to extend volume files. However, when the volume is attached to a guest, QEMU will lock the file and ``qemu-img`` will be unable to resize it. In this case, only the QEMU process holding the lock can resize the volume, which can be triggered through the QEMU monitor command ``block-resize``. Nova's libvirt driver currently uses this command when handling the ``volume-extended`` external server event, where it is used to inform QEMU that the size of an attached volume has changed. A previous attempt to make online resize available for the NFS driver tried to rely on this mechanism to have QEMU resize the volume [1]_. One of the reasons it was abandoned was the lack of feedback from Nova on the success of the operation and, as a result from this, the danger of leaving the volume object in an inconsistent state. Use Cases ========= As a user, I want to extend a NFS/NetApp NFS/Powerstore NFS/Quobyte volume while it is attached to an instance and I want the volume size and status to reflect the success or failure of the operation. Proposed change =============== API --- A new API microversion is introduced that adds the new ``os-extend_volume_completion`` volume action. The volume action is intended to be used exclusively by Nova to notify Cinder on success or failure to extend attached volumes, it will require admin permissions to be called. API.extend_volume_completion ---------------------------- The new volume action will be handled by a new method in the volume API: .. code-block:: python def extend_volume_completion(self, context: context.RequestContext, volume: objects.Volume, error: bool) -> None: The new method expects the volume to have status ``extending``, and to have the keys ``extend_reservations`` and ``extend_new_size`` in its admin metadata. The first should hold a list of quota reservations and the second should contain an integer larger than the volumes current size, representing the new size after extending. If these conditions are not met then an ``InvalidVolume`` exception will be raised, resulting in an HTTP response of ``400 Bad Request``. If the conditions are met, it will remove size and reservations from the admin metadata and call ``VolumeManager.extend_volume_completion()`` via RPC, passing both as arguments. VolumeManager.extend_volume_completion -------------------------------------- .. code-block:: python def extend_volume_completion(self, context: context.RequestContext, volume: objects.Volume, new_size: int, reservations: list[str], error: bool) -> None: The behavior of this method depends heavily on the ``error`` argument: * If ``error`` is ``True``, the method will roll back the quota reservations, set the volume status to ``error_extending``, and log the error. * If ``error`` is ``False``, it will finalize the quota reservation, update the size of the volume to the new size, and reset the volume status to ``available`` or ``in-use``, depending on the presence of attachments. It will also update the pools stats and send a ``resize.end`` notification with the new volume size. This is identical to ``VolumeManager.extend_volume()`` currently handles success and failure of the volume driver's ``extend_volume()`` method, except that this method will not notify Nova with the ``volume-extended`` external server event. VolumeDriver.extend_volume -------------------------- A mechanism will be introduced by which the driver's ``extend_volume()`` method can signal to the volume manager that it has to wait for a response from Nova before finishing the extend operation. This could take the form of a return value or new exception that the volume manager will have to catch. VolumeManager.extend_volume --------------------------- Handling the call to the driver's ``extend_volume()`` method will change as follows: * If the call fails, ``extend_volume_completion`` will be called with ``error=True``. * If the call succeeds, but the volume is not attached, ``extend_volume_completion`` will be called with ``error=False``. * If the call succeeds, and the volume is attached, ``extend_volume_completion`` will be called with ``error=False`` and Nova will be notified with the external server event. * If the driver notifies the volume manager that a response from Nova is required, but the volume is not attached, or the volume is attached to more than one instance, it will be handled as failure and ``extend_volume_completion`` will be called with ``error=True``. QEMU can not resize shared volume files, as they are locked read-only, so adding multi-attach support for this feature is currently not worthwhile. Support may be added later if other drivers require it, though, e.g. by enabling Cinder to handle multiple completion actions for the same volume. * If the driver notifies the volume manager that a response from Nova is required and the volume is attached to exactly one instance, then Cinder will store the quota reservations and the target size in the in the admin metadata with the keys ``extend_reservations`` and ``extend_new_size``. It will then attempt to send the ``volume-extended`` external server event with a required API version indicating that Nova uses the extend-volume completion callback. If the required API version is not yet supported by Nova, or if calling the external server event API fails for other reasons, the admin metadata will be cleaned up and ``extend_volume_completion`` will be called with ``error=True``. Visible Admin Metadata ---------------------- Admin metadata of volumes is not visible to clients, but Cinder supports mapping select keys to the regular metadata. The key ``extend_new_size`` will be added to the list of visible admin metadata in ``cinder/api/api_utils.py``, so that Nova is able to know the target size of the extend operation. OpenStack SDK ------------- Support for the new volume action will be added to the OpenStack SDK, which Nova will use to call it. Nova ---- The changes necessary in Nova will be detailed in a separate nova-spec. In short, when handling the ``volume-extended`` external server event, Nova will check the volume status. * If the volume status is ``in-use``, then Nova will handle the event like before, using the current volume size as resize target and not calling the extend completion action. * If the volume status is ``extending``, then Nova will attempt to read ``extend_new_size`` from the volume's metadata and use this value as the new size of the volume. After successfully extending the volume, Nova will call the extend volume completion action of the volume, with ``error: false``. If anything goes wrong, including ``extend_new_size`` being missing or smaller than the current size of the volume, Nova will log the error and call the extend volume completion action with ``error: true``. Volume Drivers -------------- The NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers currently have checks in their respective ``extend_volume`` methods that will raise an exception if the volume to be resized is attached, causing the operation to fail. Those checks will be removed. Instead, the drivers will catch any exceptions resulting from the volume files being locked (see the proposed change to ``nfs.py`` in [1]_ for an example on how to do that), and notify the volume manager that assistance from Nova is required. Alternatives ------------ * The previous change proposed in [1]_ did not rely on feedback from Nova to Cinder at all. Instead, it would just set the new size of the volume, change the status back to ``in-use``, notify Nova, and hope for the best. If anything went wrong on Nova's side this would still result in a volume state indicating that the operation was successful, which is not acceptable. * The specs at [2]_ and [3]_ propose a new synchronous API in Nova that can be used to trigger an assisted resize operation. This API would provide a single mechanism to trigger the resize operation, communicate the new size to Nova, and get feedback on the success of the operation. However, they have received mixed reviews and have not been accepted yet. The main point of criticism was the API being synchronous, which puts a hard limit on the time the extend operation would take. For QEMU this seems to be acceptable, because storage preallocation is hard disabled for the ``block-resize`` command, but this may not be the case for other drivers that might require assisted extend in the future. * An alternative would of course be a new asynchronous API in Nova that relies on a callback in Cinder, similar to how the ``os-assisted-volume-snapshots`` API uses the ``os-update_snapshot_status`` snapshot action. The function of the new Nova API would then be to trigger the operation and to communicate the new size. The question here is whether that warrants adding a new API to Nova, since there are existing mechanisms for both of this that could be adapted to work with a callback in Cinder. * The existing mechanism for triggering the extend operation in Nova is of course the ``volume-extended`` external server event. Using it for this purpose, as this spec proposes, requires the target size to be transferred separately, because external server events only have a single text field that is freely usable, which for ``volume-extended`` is already used for the volume ID. Besides storing it in the admin metadata, as this spec proposes, there is also the option of updating the size field of the volume, as [1]_ was essentially doing. This will require the size to be reset if the operation fails, and if the response from Nova got lost, it would just stay like this. We would need to extend ``os-reset_status`` to allow a size reset, or something similar to clean up volumes like this. * Besides storing the new size in the volume object, we could also modify the external server event API to accept additional data for events, and use this to communicate the new size to Nova. This option was actually judged favorably by reviewers on [2]_. The reason this spec proposes the use of admin metadata instead is to keep the change minimal. If this feature is ever introduced to external server event API, it would be a small change use it instead of the admin metadata. Data model impact ----------------- None REST API impact --------------- Starting with the new microversion, the ``POST /v3/{project_id}/volumes/{volume_id}/action`` API will accept request bodies of the following form: .. code-block:: json { ""os-extend_volume_completion"": { ""error"": false } } with ``error`` indicating success or failure of the resize operation. If the volume does not exist, the return code will be ``404 Not Found``. If the volume status and admin metadata do not indicate that Cinder was waiting for an extend volume completion action, the return code will be ``400 Bad Request``. Otherwise the return code will be ``202 Accepted``. The new volume action is intended to only be used by Nova and will require the caller to have admin permissions. Security impact --------------- None Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: kgube Work Items ---------- * Move extend completion code from ``VolumeManager.extend_volume`` to new method and add tests. * Create new volume action and add tests. * Add OpenStack SDK support. * Add Nova support. * Update drivers to use the feature. Dependencies ============ * Nova support of the callback Testing ======= Tests for the volume action will test the conditions all possible API responses. Tests for ``VolumeManager.extend_volume`` will test all the code paths described in `VolumeManager.extend_volume`_. Documentation Impact ==================== The Block Storage API reference will be updated to include the new volume action. The volume driver support matrix will be updated to show online resize support for the affected drivers. References ========== .. [1] https://review.opendev.org/c/openstack/cinder/+/739079 .. [2] https://review.opendev.org/c/openstack/nova-specs/+/855490 .. [3] https://review.opendev.org/c/openstack/cinder-specs/+/864020 ",,387,0
openstack%2Fironic-specs~master~I04ebf824e13765d84d866f49695d9268a8175b41,openstack/ironic-specs,master,I04ebf824e13765d84d866f49695d9268a8175b41,new spec: support of vnc console.,MERGED,2022-12-04 15:02:23.000000000,2023-01-09 17:40:15.000000000,2023-01-09 17:37:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-04 15:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a926d2cc02f1249b30263873cd9bd07d5bf3d031', 'message': 'new spec: support of vnc console.\n\nChange-Id: I04ebf824e13765d84d866f49695d9268a8175b41\n'}, {'number': 2, 'created': '2022-12-08 10:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/079da3f10a2e2f3999f24704f9da0070dbe65caa', 'message': 'new spec: support of vnc console.\n\nChange-Id: I04ebf824e13765d84d866f49695d9268a8175b41\n'}, {'number': 3, 'created': '2022-12-08 11:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e29f90b047055298cd2d3405d2705a46696d1935', 'message': 'new spec: support of vnc console.\n\nChange-Id: I04ebf824e13765d84d866f49695d9268a8175b41\n'}, {'number': 4, 'created': '2022-12-12 14:29:33.000000000', 'files': ['specs/approved/vnc-console.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9a8ea0ae019eb51648c18d8bfc4d1a9c09e3c77a', 'message': 'new spec: support of vnc console.\n\nChange-Id: I04ebf824e13765d84d866f49695d9268a8175b41\n'}]",40,866537,9a8ea0ae019eb51648c18d8bfc4d1a9c09e3c77a,22,5,4,35370,,,0,"new spec: support of vnc console.

Change-Id: I04ebf824e13765d84d866f49695d9268a8175b41
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/37/866537/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/vnc-console.rst'],1,a926d2cc02f1249b30263873cd9bd07d5bf3d031,idrac_vnc_console,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== VNC console ===================== https://bugs.launchpad.net/ironic/+bug/1567629 In addition to a serial console, allow ironic nodes to be accessed through a vnc console. This proposal presents the work required to create a new driver interface for accessing graphical console of a node. Problem description =================== End users often have to troubleshoot their instances because they might have broken their boot configuration or locked themselves out with a firewall. Keyboard-Video-Mouse (KVM) access is often required for troubleshooting these types of issues as serial access is not always available or correctly configured. Also, KVM provides a better user experience as compared to serial console. Horizon's VNC console is not supported for the ironic nodes provisioned by Nova. This spec intents to extend that to grapical console via the novnc proxy. The end user will be able to get workable vnc console url from baremetal server: switch console type on bm side to ``vnc`` ``openstack baremetal node console enable`` ``openstack console url show --novnc`` Proposed change =============== * for supporting vnc handshake we have to implement proxy service as a part of security isolation. During handshake ``vnc password`` is used. It is stored on ironic side in ``driver_info``: 'drac_vnc_password': '******', and without proxy need to be provided to Nova. With novncproxy Nova internals don't need internal details of the BMC network. Expected that this new service can be based on nova_novncproxy. * for drac will be created a vnc driver based on ``base.ConsoleInterface`` Alternatives ------------ * Accept this limitation and only offer a serial console. * We can configure kvm access including access to the bios via the serial proxy and shell in a box for nova provisioned ironic baremetal intances. 00 * Use out-of-band KVM access provided by administrator without Ironic support. Data model impact ----------------- - A new node field ``graphical_console_enabled``, during upgrade/conversion will be populated from ``default_graphical_console_interface`` config option (``no-graphical-console`` by default). - new node field ``graphical_console_interface`` will be added. State Machine Impact -------------------- None. REST API impact --------------- None Client (CLI) impact ------------------- None RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ Nova impacts are fully described in the support of vnc console for ironic spec in Nova. Essentially, the Ironic virt driver will have to implement ``get_vnc_console`` As per policy in Nova, changes cannot land until ironic changes have landed. Ramdisk impact -------------- None. Security impact --------------- * The VNC connection to the nodes are secured by a token generated while creating the console in Nova. * This bearer token is the only thing required to connect to the proxy, So the connection between user and proxy should be protected vai ssl the same as with vms Other end user impact --------------------- None. Scalability impact ------------------ None Performance Impact ------------------ None. Other deployer impact --------------------- additions to configs: ``ironic-conductor/ironic.conf``: enabled_console_interfaces = idrac-socat,ipmitool-socat, ``vnc``,no-console ``ironic-api/ironic.conf``: enabled_console_interfaces = idrac-socat,ipmitool-socat, ``vnc``,no-console Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * kirillgermanov Other contributors: None Work Items ---------- * implement ``ironic_novncproxy`` service * Introduce ``drac.DracWSManVNCConsole(base.ConsoleInterface)`` Dependencies ============ https://review.opendev.org/c/openstack/nova-specs/+/863773 Testing ======= * Unit tests Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== * Documentation will be updated. References ========== * https://review.opendev.org/c/openstack/nova-specs/+/863773 * https://stackoverflow.com/questions/16469487/vnc-des-authentication-algorithm * https://review.opendev.org/c/openstack/ironic/+/860689 - gerrit review ironic * https://review.opendev.org/c/openstack/nova/+/863177 - gerrit review nova",,215,0
openstack%2Fpuppet-barbican~master~I6471ed0fe696f2c6455150adc63c9c896037e404,openstack/puppet-barbican,master,I6471ed0fe696f2c6455150adc63c9c896037e404,api: Remove deprecated ssl parameters,MERGED,2023-01-06 04:07:11.000000000,2023-01-09 17:34:25.000000000,2023-01-09 17:33:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 04:07:11.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-ssl-opts-52379f89ccdb500d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/9c6f3af402a86040edc4cd9658336bbcc6963ea2', 'message': 'api: Remove deprecated ssl parameters\n\nThese parameters were deprecated during the previous cycle[1] because\nthese are not actually used by barbican.\n\n[1] 109ea49acbc89d9009a6201be5feb08e36d31678\n\nChange-Id: I6471ed0fe696f2c6455150adc63c9c896037e404\n'}]",0,869423,9c6f3af402a86040edc4cd9658336bbcc6963ea2,8,3,1,9816,,,0,"api: Remove deprecated ssl parameters

These parameters were deprecated during the previous cycle[1] because
these are not actually used by barbican.

[1] 109ea49acbc89d9009a6201be5feb08e36d31678

Change-Id: I6471ed0fe696f2c6455150adc63c9c896037e404
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/23/869423/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-ssl-opts-52379f89ccdb500d.yaml']",2,9c6f3af402a86040edc4cd9658336bbcc6963ea2,,--- upgrade: - | The following parameters of the ``barbican::api`` class have been removed. - ``use_ssl`` - ``cert_file`` - ``key_file`` - ``ca_file`` ,,10,35
openstack%2Fpuppet-barbican~master~Ib94130cf8215e3a832e4d44645ce90a2450627d2,openstack/puppet-barbican,master,Ib94130cf8215e3a832e4d44645ce90a2450627d2,Remove deprecated client_package_ensure,MERGED,2023-01-06 04:07:11.000000000,2023-01-09 17:32:38.000000000,2023-01-09 17:31:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 04:07:11.000000000', 'files': ['releasenotes/notes/remove-client_package_ensure-47d65842e214f749.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/a79ac82ef2cf4b01c1f9ee3ab371fdf13738b942', 'message': 'Remove deprecated client_package_ensure\n\nThe parameter has had no effect for several cycles and was formally\ndeprecated during the previous cycle[1].\n\n[1] 6c60f0d67e337df676fc8caf5a89e070566248f8\n\nChange-Id: Ib94130cf8215e3a832e4d44645ce90a2450627d2\n'}]",0,869422,a79ac82ef2cf4b01c1f9ee3ab371fdf13738b942,8,3,1,9816,,,0,"Remove deprecated client_package_ensure

The parameter has had no effect for several cycles and was formally
deprecated during the previous cycle[1].

[1] 6c60f0d67e337df676fc8caf5a89e070566248f8

Change-Id: Ib94130cf8215e3a832e4d44645ce90a2450627d2
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/22/869422/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-client_package_ensure-47d65842e214f749.yaml', 'manifests/api.pp']",2,a79ac82ef2cf4b01c1f9ee3ab371fdf13738b942,,,"# [*client_package_ensure*] # (optional) Desired ensure state of the client package. # accepts latest or specific versions. # Defaults to undef # $client_package_ensure = undef, if $client_package_ensure != undef { warning('The client_package_ensure is deprecated and has no effect.') } ",4,10
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I8525806576e1108a936e5b036859671794f304de,openstack/puppet-openstack-integration,stable/wallaby,I8525806576e1108a936e5b036859671794f304de,TripleO: Remove unused project template,MERGED,2023-01-06 03:58:04.000000000,2023-01-09 17:28:12.000000000,2023-01-09 17:28:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 03:58:04.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a231f0f1856aaebbf1b90dc99ad5de7183e60de7', 'message': 'TripleO: Remove unused project template\n\nThe tripleo-puppet-standalone template is not really used in any\nmodule repos, because each repo defines its own standalone job.\n\nConflicts:\n\tzuul.d/tripleo.yaml\n\nBackport note:\nstable/xena and yoga are skipped because tripleo jobs have been removed\nfrom these branches.\n\nChange-Id: I8525806576e1108a936e5b036859671794f304de\n(cherry picked from commit 4a70a289350e7744270e92fd15a506d3307367df)\n(cherry picked from commit b695e7dc5d336c8e3082769ed31c6e715b965046)\n'}]",0,869420,a231f0f1856aaebbf1b90dc99ad5de7183e60de7,7,3,1,9816,,,0,"TripleO: Remove unused project template

The tripleo-puppet-standalone template is not really used in any
module repos, because each repo defines its own standalone job.

Conflicts:
	zuul.d/tripleo.yaml

Backport note:
stable/xena and yoga are skipped because tripleo jobs have been removed
from these branches.

Change-Id: I8525806576e1108a936e5b036859671794f304de
(cherry picked from commit 4a70a289350e7744270e92fd15a506d3307367df)
(cherry picked from commit b695e7dc5d336c8e3082769ed31c6e715b965046)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/869420/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,a231f0f1856aaebbf1b90dc99ad5de7183e60de7,,, - project-template: name: tripleo-puppet-standalone check: jobs: - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-standalone: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-9-content-provider,0,10
openstack%2Fpuppet-openstack-integration~stable%2Fzed~I8525806576e1108a936e5b036859671794f304de,openstack/puppet-openstack-integration,stable/zed,I8525806576e1108a936e5b036859671794f304de,TripleO: Remove unused project template,MERGED,2023-01-06 03:56:44.000000000,2023-01-09 17:24:58.000000000,2023-01-09 17:24:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 03:56:44.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b695e7dc5d336c8e3082769ed31c6e715b965046', 'message': 'TripleO: Remove unused project template\n\nThe tripleo-puppet-standalone template is not really used in any\nmodule repos, because each repo defines its own standalone job.\n\nChange-Id: I8525806576e1108a936e5b036859671794f304de\n(cherry picked from commit 4a70a289350e7744270e92fd15a506d3307367df)\n'}]",1,869418,b695e7dc5d336c8e3082769ed31c6e715b965046,9,3,1,9816,,,0,"TripleO: Remove unused project template

The tripleo-puppet-standalone template is not really used in any
module repos, because each repo defines its own standalone job.

Change-Id: I8525806576e1108a936e5b036859671794f304de
(cherry picked from commit 4a70a289350e7744270e92fd15a506d3307367df)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/18/869418/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,b695e7dc5d336c8e3082769ed31c6e715b965046,,, - project-template: name: tripleo-puppet-standalone check: jobs: - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-9-content-provider gate: jobs: - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-puppet-ci-centos-9-content-provider,0,21
openstack%2Fopenstack-ansible-plugins~master~I40dac8a1281c482953d508f173361e6f789ec229,openstack/openstack-ansible-plugins,master,I40dac8a1281c482953d508f173361e6f789ec229,Limit maximum number of threads for parallel git clone,MERGED,2023-01-09 13:48:58.000000000,2023-01-09 17:21:21.000000000,2023-01-09 17:20:09.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-09 13:48:58.000000000', 'files': ['plugins/modules/git_requirements'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7f8fe0f3068f81147222040e352b1d205f0e2c9d', 'message': 'Limit maximum number of threads for parallel git clone\n\nOn systems with very large numbers of CPU cores enough threads\nwill be launched to exhaust the available number of file descriptors.\n\nThis patch introduces a maximum number of threads which defaults to\n16. This should be sufficient to allow large repositories such as\nnova to take a long time to clone, whilst simultaneously cloning\nmany small repositories in parallel.\n\nChange-Id: I40dac8a1281c482953d508f173361e6f789ec229\n'}]",0,869564,7f8fe0f3068f81147222040e352b1d205f0e2c9d,8,3,1,25023,,,0,"Limit maximum number of threads for parallel git clone

On systems with very large numbers of CPU cores enough threads
will be launched to exhaust the available number of file descriptors.

This patch introduces a maximum number of threads which defaults to
16. This should be sufficient to allow large repositories such as
nova to take a long time to clone, whilst simultaneously cloning
many small repositories in parallel.

Change-Id: I40dac8a1281c482953d508f173361e6f789ec229
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/64/869564/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/git_requirements'],1,7f8fe0f3068f81147222040e352b1d205f0e2c9d,," core_maximum: description: Integer maximum number of cores that should be used for multithreading. Use of too many cores simultaneously will cause file decscriptors to be exhausted. Defaults to 16. Not required. ""core_maximum"": {""required"": False, ""type"": ""int"", ""default"": 16}, ""core_multiplier"": module.params[""core_multiplier""], ""core_maximum"": module.params[""core_maximum""] core_count = min(core_count, config[""core_maximum""])"," ""core_multiplier"": module.params[""core_multiplier""]",12,2
openstack%2Fcinder~master~I01e7d03cee797af0fb9a335389328143b63e32ef,openstack/cinder,master,I01e7d03cee797af0fb9a335389328143b63e32ef,tox: Remove [testenv] basepython setting,MERGED,2023-01-04 15:13:11.000000000,2023-01-09 16:58:02.000000000,2023-01-09 15:13:56.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-01-04 15:13:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a9dde4ff8b965ec32006277ad46040f6663d2de', 'message': 'tox: Remove [testenv] basepython setting\n\nThis causes commands like ""tox -e py38"" to run\nthe wrong python version in tox4.\n\nIt no longer needs to be specified here.\n\nChange-Id: I01e7d03cee797af0fb9a335389328143b63e32ef\n'}]",5,869228,0a9dde4ff8b965ec32006277ad46040f6663d2de,18,4,1,4523,,,0,"tox: Remove [testenv] basepython setting

This causes commands like ""tox -e py38"" to run
the wrong python version in tox4.

It no longer needs to be specified here.

Change-Id: I01e7d03cee797af0fb9a335389328143b63e32ef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/869228/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a9dde4ff8b965ec32006277ad46040f6663d2de,,,basepython = python3,0,1
openstack%2Fsenlin~stable%2Fvictoria~I342b1badf3910ea07ea64523cdb8a19a8a0ccb06,openstack/senlin,stable/victoria,I342b1badf3910ea07ea64523cdb8a19a8a0ccb06,Update error in install-rdo.rst and update default port,ABANDONED,2022-11-10 06:00:19.000000000,2023-01-09 16:36:14.000000000,,[{'_account_id': 22623}],"[{'number': 1, 'created': '2022-11-10 06:00:19.000000000', 'files': ['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3ebf745c8f06a80f4b7a37174ecf5a3b7a3e5027', 'message': 'Update error in install-rdo.rst and update default port\n\nNova placement use port 8778, to avoid confusion, Update\nsenlin default port from  8778 to 8777. And update\nspelling mistakes in install-rdo.rst\n\nChange-Id: I342b1badf3910ea07ea64523cdb8a19a8a0ccb06\n(cherry picked from commit 1bace4641dc75d1cdbb26c18ed43c7d361f2128e)\n'}]",1,864049,3ebf745c8f06a80f4b7a37174ecf5a3b7a3e5027,3,1,1,34918,,,0,"Update error in install-rdo.rst and update default port

Nova placement use port 8778, to avoid confusion, Update
senlin default port from  8778 to 8777. And update
spelling mistakes in install-rdo.rst

Change-Id: I342b1badf3910ea07ea64523cdb8a19a8a0ccb06
(cherry picked from commit 1bace4641dc75d1cdbb26c18ed43c7d361f2128e)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/49/864049/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py']",27,3ebf745c8f06a80f4b7a37174ecf5a3b7a3e5027,, bind_port = 8777, bind_port = 8778,33,33
openstack%2Fsenlin~stable%2Fwallaby~I342b1badf3910ea07ea64523cdb8a19a8a0ccb06,openstack/senlin,stable/wallaby,I342b1badf3910ea07ea64523cdb8a19a8a0ccb06,Update error in install-rdo.rst and update default port,ABANDONED,2022-11-10 05:56:53.000000000,2023-01-09 16:36:09.000000000,,[{'_account_id': 22623}],"[{'number': 1, 'created': '2022-11-10 05:56:53.000000000', 'files': ['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/43d03465b7753ff46ee4f6f3c112ca72f8929572', 'message': 'Update error in install-rdo.rst and update default port\n\nNova placement use port 8778, to avoid confusion, Update\nsenlin default port from  8778 to 8777. And update\nspelling mistakes in install-rdo.rst\n\nChange-Id: I342b1badf3910ea07ea64523cdb8a19a8a0ccb06\n(cherry picked from commit 1bace4641dc75d1cdbb26c18ed43c7d361f2128e)\n'}]",3,864048,43d03465b7753ff46ee4f6f3c112ca72f8929572,5,1,1,34918,,,0,"Update error in install-rdo.rst and update default port

Nova placement use port 8778, to avoid confusion, Update
senlin default port from  8778 to 8777. And update
spelling mistakes in install-rdo.rst

Change-Id: I342b1badf3910ea07ea64523cdb8a19a8a0ccb06
(cherry picked from commit 1bace4641dc75d1cdbb26c18ed43c7d361f2128e)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/48/864048/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py']",27,43d03465b7753ff46ee4f6f3c112ca72f8929572,, bind_port = 8777, bind_port = 8778,31,31
openstack%2Fsenlin~stable%2Fussuri~I342b1badf3910ea07ea64523cdb8a19a8a0ccb06,openstack/senlin,stable/ussuri,I342b1badf3910ea07ea64523cdb8a19a8a0ccb06,Update error in install-rdo.rst and update default port,ABANDONED,2022-11-10 06:02:28.000000000,2023-01-09 16:36:06.000000000,,[{'_account_id': 22623}],"[{'number': 1, 'created': '2022-11-10 06:02:28.000000000', 'files': ['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/647a4f39c1907978b284f9ba5b0c67c52226580e', 'message': 'Update error in install-rdo.rst and update default port\n\nNova placement use port 8778, to avoid confusion, Update\nsenlin default port from  8778 to 8777. And update\nspelling mistakes in install-rdo.rst\n\nChange-Id: I342b1badf3910ea07ea64523cdb8a19a8a0ccb06\n(cherry picked from commit 1bace4641dc75d1cdbb26c18ed43c7d361f2128e)\n'}]",1,864170,647a4f39c1907978b284f9ba5b0c67c52226580e,3,1,1,34918,,,0,"Update error in install-rdo.rst and update default port

Nova placement use port 8778, to avoid confusion, Update
senlin default port from  8778 to 8777. And update
spelling mistakes in install-rdo.rst

Change-Id: I342b1badf3910ea07ea64523cdb8a19a8a0ccb06
(cherry picked from commit 1bace4641dc75d1cdbb26c18ed43c7d361f2128e)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/70/864170/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py']",27,647a4f39c1907978b284f9ba5b0c67c52226580e,, bind_port = 8777, bind_port = 8778,33,33
openstack%2Fsenlin~stable%2Fwallaby~I8d979841860c1f6a38244d39e66964b2f4b0e2cd,openstack/senlin,stable/wallaby,I8d979841860c1f6a38244d39e66964b2f4b0e2cd,Update the default port,ABANDONED,2022-11-10 02:37:00.000000000,2023-01-09 16:36:01.000000000,,[{'_account_id': 22623}],"[{'number': 1, 'created': '2022-11-10 02:37:00.000000000', 'files': ['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2150c93c4d86caaf6c0848ae5ca2a89cdba96643', 'message': 'Update the default port\n\nChange-Id: I8d979841860c1f6a38244d39e66964b2f4b0e2cd\n'}]",1,864156,2150c93c4d86caaf6c0848ae5ca2a89cdba96643,3,1,1,34918,,,0,"Update the default port

Change-Id: I8d979841860c1f6a38244d39e66964b2f4b0e2cd
",git fetch https://review.opendev.org/openstack/senlin refs/changes/56/864156/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/receiver-create-response.json', 'senlin/tests/unit/api/openstack/v1/test_cluster_policies.py', 'doc/source/user/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/api/openstack/v1/test_events.py', 'api-ref/source/samples/receivers-list-response.json', 'doc/source/scenarios/autoscaling_ceilometer.rst', 'senlin/tests/unit/engine/receivers/test_message.py', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/tests/unit/api/openstack/v1/test_profile_types.py', 'senlin/tests/unit/engine/receivers/test_webhook.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'devstack/files/apache-senlin-api.template', 'senlin/tests/unit/api/openstack/v1/test_services.py', 'doc/source/install/install-rdo.rst', 'tools/setup-service', 'senlin/tests/unit/api/openstack/v1/test_actions.py', 'senlin/tests/unit/api/openstack/v1/test_nodes.py', 'senlin/tests/unit/api/openstack/v1/test_policy_types.py', 'senlin/tests/unit/api/openstack/v1/test_webhooks.py', 'api-ref/source/samples/receiver-show-response.json', 'api-ref/source/samples/receiver-update-response.json', 'senlin/conf/api.py', 'senlin/conf/receiver.py', 'doc/source/tutorial/receivers.rst', 'senlin/tests/unit/api/openstack/v1/test_receivers.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py']",27,2150c93c4d86caaf6c0848ae5ca2a89cdba96643,fix_port, bind_port = 8777, bind_port = 8778,31,31
openstack%2Fsenlin~master~I39f14fe35e15a1045f6ca22ad2740b0d1d38bdb1,openstack/senlin,master,I39f14fe35e15a1045f6ca22ad2740b0d1d38bdb1,Fix tox.ini for tox4,ABANDONED,2022-12-30 02:45:48.000000000,2023-01-09 16:35:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-30 02:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/448fd8d50c031f23eda2d4f88aaea6a6068621cc', 'message': 'Fix tox.ini for tox4\n\nChange-Id: I39f14fe35e15a1045f6ca22ad2740b0d1d38bdb1\n'}, {'number': 2, 'created': '2022-12-30 02:47:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/f5e03f4c3b1e379aa6332dd204139b9ad41a101f', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I39f14fe35e15a1045f6ca22ad2740b0d1d38bdb1\n'}]",2,868666,f5e03f4c3b1e379aa6332dd204139b9ad41a101f,7,1,2,33881,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: I39f14fe35e15a1045f6ca22ad2740b0d1d38bdb1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/66/868666/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,448fd8d50c031f23eda2d4f88aaea6a6068621cc,,allowlist_externals = make python3allowlist_externals = rm,skipsdist = Truewhitelist_externals =whitelist_externals = rm,4,3
openstack%2Fcloudkitty~master~I4211e9be3e170f8724246883768247727b1d5d0b,openstack/cloudkitty,master,I4211e9be3e170f8724246883768247727b1d5d0b,Make tox.ini tox 4.0.0 compatible,MERGED,2023-01-09 12:31:11.000000000,2023-01-09 16:18:36.000000000,2023-01-09 16:16:52.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2023-01-09 12:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d004a6ac02b72fce5e552b557d3d2dbbf8a5eda1', 'message': 'Add find to allowed external commands in tox\n\nChange-Id: I4211e9be3e170f8724246883768247727b1d5d0b\n'}, {'number': 2, 'created': '2023-01-09 12:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a11b2c2143f40b2d35110fa278f248e3aba91617', 'message': 'Add find to allowed external commands in tox\n\nChange-Id: I4211e9be3e170f8724246883768247727b1d5d0b\n'}, {'number': 3, 'created': '2023-01-09 13:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/172d7e29f406e87a8194bf4d610831322e4b0663', 'message': 'Add find to allowed external commands in tox\n\nChange-Id: I4211e9be3e170f8724246883768247727b1d5d0b\n'}, {'number': 4, 'created': '2023-01-09 14:29:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/33d717427838083806a3aa2956fc73c9014080e5', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure cloudkitty is available in the\n  virtual env\n\n* added find to allowed external commands in tox\n\n* replaced full path to find for readability\n\nChange-Id: I4211e9be3e170f8724246883768247727b1d5d0b\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n'}]",4,869557,33d717427838083806a3aa2956fc73c9014080e5,20,3,4,28356,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure cloudkitty is available in the
  virtual env

* added find to allowed external commands in tox

* replaced full path to find for readability

Change-Id: I4211e9be3e170f8724246883768247727b1d5d0b
Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/57/869557/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d004a6ac02b72fce5e552b557d3d2dbbf8a5eda1,fix-tox-upgrade-4x-issues,allowlist_externals = /bin/rm /usr/bin/find,allowlist_externals = rm,3,1
openstack%2Fansible-collections-openstack~master~I3ec5359d042c7d3a4fa78b61062132f813f716e3,openstack/ansible-collections-openstack,master,I3ec5359d042c7d3a4fa78b61062132f813f716e3,Rename reboot into reboot_soft,ABANDONED,2023-01-05 10:36:01.000000000,2023-01-09 15:50:13.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2023-01-05 10:36:01.000000000', 'files': ['ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_action.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d6ee90b5a07996944d3db82604cd763ee64edf6b', 'message': 'Rename reboot into reboot_soft\n\nThe purpose is to have the same naming convention as the one in horizon.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I3ec5359d042c7d3a4fa78b61062132f813f716e3\n'}]",2,869343,d6ee90b5a07996944d3db82604cd763ee64edf6b,5,5,1,11583,,,0,"Rename reboot into reboot_soft

The purpose is to have the same naming convention as the one in horizon.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I3ec5359d042c7d3a4fa78b61062132f813f716e3
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/43/869343/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_action.py']",2,d6ee90b5a07996944d3db82604cd763ee64edf6b,," choices: [stop, start, pause, unpause, lock, unlock, suspend, reboot_soft, reboot_hard, resume, rebuild, shelve, shelve_offload, unshelve] 'reboot_soft': ['ACTIVE'], 'lock', 'unlock', 'suspend', 'reboot_soft', 'reboot_hard', 'resume', # reboot_* actions are using reboot_server method with an extra param if self.params['action'] == 'reboot_soft' or self.params['action'] == 'reboot_hard': if self.params['action'] == 'reboot_soft':"," choices: [stop, start, pause, unpause, lock, unlock, suspend, reboot, reboot_hard, resume, rebuild, shelve, shelve_offload, unshelve] 'reboot': ['ACTIVE'], 'lock', 'unlock', 'suspend', 'reboot', 'reboot_hard', 'resume', # reboot_hard is using reboot_server method with an extra param if self.params['action'] == 'reboot_hard': if self.params['action'] == 'reboot':",10,9
openstack%2Fpuppet-manila~master~I4cd4e42d0faf99bffa9593676abe3e751fe65c7e,openstack/puppet-manila,master,I4cd4e42d0faf99bffa9593676abe3e751fe65c7e,NetApp: Remove deprecated netapp_root_volume_name,MERGED,2023-01-06 08:40:02.000000000,2023-01-09 15:27:11.000000000,2023-01-09 15:26:04.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 08:40:02.000000000', 'files': ['manifests/share/netapp.pp', 'releasenotes/notes/remove-netapp_root_volume_name-ca5ef70ee36f8082.yaml', 'manifests/backend/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/959da1064ada645036df2c14a6fad65608bf5ba0', 'message': 'NetApp: Remove deprecated netapp_root_volume_name\n\nThe parameter was deprecated several cycles ago[1] in favor of the new\nnetapp_root_volume parameter.\n\n[1] d338064529759ba4aa047813a9fd20568f821d35\n\nChange-Id: I4cd4e42d0faf99bffa9593676abe3e751fe65c7e\n'}]",0,869438,959da1064ada645036df2c14a6fad65608bf5ba0,8,3,1,9816,,,0,"NetApp: Remove deprecated netapp_root_volume_name

The parameter was deprecated several cycles ago[1] in favor of the new
netapp_root_volume parameter.

[1] d338064529759ba4aa047813a9fd20568f821d35

Change-Id: I4cd4e42d0faf99bffa9593676abe3e751fe65c7e
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/38/869438/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/share/netapp.pp', 'releasenotes/notes/remove-netapp_root_volume_name-ca5ef70ee36f8082.yaml', 'manifests/backend/netapp.pp']",3,959da1064ada645036df2c14a6fad65608bf5ba0,," ""${share_backend_name}/netapp_root_volume"": value => $netapp_root_volume;","# # === DEPRECATED PARAMETERS # # [*netapp_root_volume_name*] # (optional) Root volume name. This option only applies when the option # driver_handles_share_servers is set to True. # Defaults to undef # # DEPRECATED PARAMETERS $netapp_root_volume_name = undef, if $netapp_root_volume_name { warning('The netapp_root_volume_name parameter is deprecated, use netapp_root_volume instead.') } $netapp_root_volume_real = pick($netapp_root_volume_name, $netapp_root_volume) ""${share_backend_name}/netapp_root_volume"": value => $netapp_root_volume_real;",8,34
openstack%2Fcloudkitty~master~Iafb8282f45168a1995ed92c873544dbee011e86a,openstack/cloudkitty,master,Iafb8282f45168a1995ed92c873544dbee011e86a,Fix typo in docs command sample,MERGED,2022-12-13 18:55:08.000000000,2023-01-09 14:34:08.000000000,2023-01-09 14:33:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2022-12-13 18:55:08.000000000', 'files': ['api-ref/source/v2/task/reprocessing.inc'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/aaaa0edd8935ea5940c2d0887a8069836cf27145', 'message': 'Fix typo in docs command sample\n\nChange-Id: Iafb8282f45168a1995ed92c873544dbee011e86a\n'}]",1,867559,aaaa0edd8935ea5940c2d0887a8069836cf27145,9,3,1,28356,,,0,"Fix typo in docs command sample

Change-Id: Iafb8282f45168a1995ed92c873544dbee011e86a
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/59/867559/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/task/reprocessing.inc'],1,aaaa0edd8935ea5940c2d0887a8069836cf27145,fix-reprocess-doc-typo," curl -s -X POST ""https://<cloudkitty_server_and_port_here>/v2/task/reprocesses"" -H ""Accept: application/json"" -H ""User-Agent: python-keystoneclient"" -H ""X-Auth-Token: ${ACCESS_TOKEN_KEYSTONE}"" -H ""Content-Type: application/json"" -d '{""reason"": ""Reprocessing test"", ""scope_ids"": ""<Some scope ID>"", ""start_reprocess_time"": ""2021-06-01 00:00:00+00:00"", ""end_reprocess_time"": ""2021-06-01 23:00:00+00:00""}'"," curl -s -X POST ""https://<cloudkitty_server_and_port_here>/v2/task/reprocess"" -H ""Accept: application/json"" -H ""User-Agent: python-keystoneclient"" -H ""X-Auth-Token: ${ACCESS_TOKEN_KEYSTONE}"" -H ""Content-Type: application/json"" -d '{""reason"": ""Reprocessing test"", ""scope_ids"": ""<Some scope ID>"", ""start_reprocess_time"": ""2021-06-01 00:00:00+00:00"", ""end_reprocess_time"": ""2021-06-01 23:00:00+00:00""}'",1,1
openstack%2Fdevstack~stable%2Frocky~I51d565d1ec68c28b3fb406cea187c6b9fa3edec4,openstack/devstack,stable/rocky,I51d565d1ec68c28b3fb406cea187c6b9fa3edec4,DNM: Test CI status,ABANDONED,2022-10-10 19:19:30.000000000,2023-01-09 14:24:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-10 19:19:30.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c11786f249f27aef1cc91250e9da4271b4c41872', 'message': 'DNM: Test CI status\n\nChange-Id: I51d565d1ec68c28b3fb406cea187c6b9fa3edec4\n'}]",1,860849,c11786f249f27aef1cc91250e9da4271b4c41872,5,1,1,13252,,,0,"DNM: Test CI status

Change-Id: I51d565d1ec68c28b3fb406cea187c6b9fa3edec4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/860849/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,c11786f249f27aef1cc91250e9da4271b4c41872,test-ci-stable/rocky,# TEST,,1,0
openstack%2Fdevstack~stable%2Fqueens~I51d565d1ec68c28b3fb406cea187c6b9fa3edec4,openstack/devstack,stable/queens,I51d565d1ec68c28b3fb406cea187c6b9fa3edec4,DNM: Test CI status,ABANDONED,2022-10-09 11:33:38.000000000,2023-01-09 14:24:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-09 11:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5d3403a996246f4cf1972329304fd7641943b360', 'message': 'DNM: Test CI status\n\nChange-Id: I51d565d1ec68c28b3fb406cea187c6b9fa3edec4\n'}, {'number': 2, 'created': '2022-10-11 14:45:33.000000000', 'files': ['.zuul.yaml', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a30e06c87adb77d79a22d0521132b5587ed0098', 'message': 'DNM: Test CI status\n\nChange-Id: I51d565d1ec68c28b3fb406cea187c6b9fa3edec4\n'}]",0,860797,0a30e06c87adb77d79a22d0521132b5587ed0098,5,1,2,13252,,,0,"DNM: Test CI status

Change-Id: I51d565d1ec68c28b3fb406cea187c6b9fa3edec4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/97/860797/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,5d3403a996246f4cf1972329304fd7641943b360,test-ci,# TEST,,1,0
openstack%2Fironic~master~I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c,openstack/ironic,master,I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c,Docs: Add considerations to anaconda docs,MERGED,2022-08-22 23:21:05.000000000,2023-01-09 14:21:14.000000000,2023-01-09 14:19:35.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-08-22 23:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc6344c67fdd1e70b72a8e2f8ee36d847b4e9e8f', 'message': 'Docs: Add considerations to anaconda docs\n\nChange-Id: I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c\n'}, {'number': 2, 'created': '2022-08-25 18:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eafebf8594c82b01dda0c359308402aae9d29621', 'message': 'Docs: Add considerations to anaconda docs\n\nChange-Id: I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c\n'}, {'number': 3, 'created': '2023-01-06 21:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2ab06d5dd443e79ab6dbd2cedc7969bf37bf9d1', 'message': 'Docs: Add considerations to anaconda docs\n\nChange-Id: I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c\n'}, {'number': 4, 'created': '2023-01-06 21:07:13.000000000', 'files': ['doc/source/admin/anaconda-deploy-interface.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cd7bfc5223d499a65c3c386f4bfc98b5071ea56', 'message': 'Docs: Add considerations to anaconda docs\n\nChange-Id: I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c\n'}]",4,854045,5cd7bfc5223d499a65c3c386f4bfc98b5071ea56,20,4,4,11655,,,0,"Docs: Add considerations to anaconda docs

Change-Id: I17f707f81a2aed75a9c47e2cfc0896b0efeeb36c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/854045/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/anaconda-deploy-interface.rst'],1,fc6344c67fdd1e70b72a8e2f8ee36d847b4e9e8f,,"Configuraiton Considerations ---------------------------- When using the ``anaconda`` deployment interface, some configuration parameters may need to be adjusted in your environment. This is in large part due to the general defaults being set to much lower values for image based deployments, but the way the anaconda deployment interface works, you may need to make some adjustments. * ``[conductor]deploy_callback_timeout`` likely needs to be adjusted for most ``anaconda`` deployment interface users. By default this is a timer which looks for ""agents"" which have not checked in with Ironic, or agents which may have crashed or failed after they started. If the value is reached, then the current operation is failed. This value should be set to a number os seconds which exceeds your average anaconda deployment time. * ``[pxe]boot_retry_timeout`` can also be triggered and result in an anaconda deployment in progress getting reset as it is intended to reboot nodes which might have failed their initial PXE operation. Depending on sizes of images, and the exact nature of what was deployed, it may be necessary to ensure this is a much higher value. * This deploy interface has only been tested with Red Hat based operating systems that use anaconda. Other systems are not supported. * Runtime TLS certifiate injection into ramdisks is not supported. Assets such as ``ramdisk`` or a ``stage2`` ramdisk image need to have trusted Certificate Authority certificates present within the images *or* the Ironic API endpoint utilized should utilize a known trusted Certificate Authority. * The ``anaconda`` tooling deploying the instance/workload does not heartbeat to Ironic like the ``ironic-python-agent`` driven ramdisks. As such, you may need to adjust some timers. See `Configuration Considerations`_ for some details on this.",This deploy interface has only been tested with Red Hat based operating systems that use anaconda. Other systems are not supported. Runtime TLS certifiate injection into ramdisks is not supported. Assets such as ``ramdisk`` or a ``stage2`` ramdisk image need to have trusted Certificate Authority certificates present within the images *or* the Ironic API endpoint utilized should utilize a known trusted Certificate Authority. ,33,6
openstack%2Fopenstack-ansible~stable%2Fyoga~I259aeac054898d73d3c29056e979e26e723245d4,openstack/openstack-ansible,stable/yoga,I259aeac054898d73d3c29056e979e26e723245d4,Disable sahara tempest tests,MERGED,2022-12-10 19:12:50.000000000,2023-01-09 14:16:08.000000000,2023-01-09 14:14:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-10 19:12:50.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_sahara.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c50d612e0e4879864fcafc930c98f75d5fda3d8', 'message': ""Disable sahara tempest tests\n\nSahara as of Zed is broken with u-c due to jsonschema version. There're\nseveral fixes that were proposed for upstream service, like [1] but they\nstill never passed CI due to other issues in code. Thus we disable\nrunning sahara-specific tests for now to make our role jobs passing.\n\n[1] https://review.opendev.org/c/openstack/sahara/+/864728\n\nChange-Id: I259aeac054898d73d3c29056e979e26e723245d4\n(cherry picked from commit 3faeecc1d2b5b6ba1454133422371e13a8bc1308)\n""}]",2,867152,4c50d612e0e4879864fcafc930c98f75d5fda3d8,12,3,1,28619,,,0,"Disable sahara tempest tests

Sahara as of Zed is broken with u-c due to jsonschema version. There're
several fixes that were proposed for upstream service, like [1] but they
still never passed CI due to other issues in code. Thus we disable
running sahara-specific tests for now to make our role jobs passing.

[1] https://review.opendev.org/c/openstack/sahara/+/864728

Change-Id: I259aeac054898d73d3c29056e979e26e723245d4
(cherry picked from commit 3faeecc1d2b5b6ba1454133422371e13a8bc1308)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/52/867152/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_sahara.yml.j2'],1,4c50d612e0e4879864fcafc930c98f75d5fda3d8,, - sahara_tempest_plugin.tests.api.test_job_binary_internals, - sahara_tempest_plugin.tests.api,1,1
openstack%2Fkayobe~stable%2Fzed~I23c409900db2c37105e7b218bbaedcfacb235787,openstack/kayobe,stable/zed,I23c409900db2c37105e7b218bbaedcfacb235787,Sync kolla_tag with kolla-ansible,MERGED,2023-01-09 11:23:48.000000000,2023-01-09 14:10:48.000000000,2023-01-09 14:09:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-01-09 11:23:48.000000000', 'files': ['ansible/inventory/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'releasenotes/notes/sync-kolla-tag-e4766b4fb395765e.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/88da20237a0858ad21530d324509a51024d3baf1', 'message': 'Sync kolla_tag with kolla-ansible\n\nWithout this change, Kayobe was tagging container images with `zed` when\nkolla-ansible was expecting something like `zed-ubuntu-jammy`.\n\nChange-Id: I23c409900db2c37105e7b218bbaedcfacb235787\n(cherry picked from commit 8640fbd5c0389848290fca9d31c8fbd964e1d63d)\n'}]",0,869456,88da20237a0858ad21530d324509a51024d3baf1,8,3,1,15197,,,0,"Sync kolla_tag with kolla-ansible

Without this change, Kayobe was tagging container images with `zed` when
kolla-ansible was expecting something like `zed-ubuntu-jammy`.

Change-Id: I23c409900db2c37105e7b218bbaedcfacb235787
(cherry picked from commit 8640fbd5c0389848290fca9d31c8fbd964e1d63d)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/56/869456/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'releasenotes/notes/sync-kolla-tag-e4766b4fb395765e.yaml']",3,88da20237a0858ad21530d324509a51024d3baf1,sync-kolla-tag-stable/zed,--- fixes: - | Synchronises the default value ``kolla_tag`` with the container image tagging scheme expected by Kolla Ansible. This ensures images are built with tags such as ``zed-ubuntu-jammy`` instead of ``zed``. ,,13,5
openstack%2Fkolla-ansible~stable%2Fussuri~Ia623694c801c03b151944947141551ecbc1d24f5,openstack/kolla-ansible,stable/ussuri,Ia623694c801c03b151944947141551ecbc1d24f5,Add git package to the list of dependencies,ABANDONED,2022-12-14 14:44:20.000000000,2023-01-09 14:06:39.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-14 14:44:20.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb20b3b423109d5db07b5a606435379798a2bbb4', 'message': 'Add git package to the list of dependencies\n\nIn the quickstart there is need the git package to install\nkolla-ansible from the source for deployment or evaluation and\nto clone repository for development.\n\nCloses-Bug: #1999370\nChange-Id: Ia623694c801c03b151944947141551ecbc1d24f5\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 629710c63c329b407228c478f5075877ed50c11e)\n'}]",0,867668,eb20b3b423109d5db07b5a606435379798a2bbb4,3,3,1,14200,,,0,"Add git package to the list of dependencies

In the quickstart there is need the git package to install
kolla-ansible from the source for deployment or evaluation and
to clone repository for development.

Closes-Bug: #1999370
Change-Id: Ia623694c801c03b151944947141551ecbc1d24f5
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 629710c63c329b407228c478f5075877ed50c11e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/867668/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,eb20b3b423109d5db07b5a606435379798a2bbb4,add-git-quickstart, sudo dnf install git python3-devel libffi-devel gcc openssl-devel python3-libselinux sudo apt-get install git python3-dev libffi-dev gcc libssl-dev, sudo dnf install python3-devel libffi-devel gcc openssl-devel python3-libselinux sudo apt-get install python3-dev libffi-dev gcc libssl-dev,2,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I14b4da178463abacde7039a893d8f8af3f23faad,openstack/kolla-ansible,stable/victoria,I14b4da178463abacde7039a893d8f8af3f23faad,Allows for multiple Ceph Conf files,ABANDONED,2023-01-05 19:42:11.000000000,2023-01-09 14:03:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28356}, {'_account_id': 34579}]","[{'number': 1, 'created': '2023-01-05 19:42:11.000000000', 'files': ['ansible/roles/cinder/templates/cinder-volume.json.j2', 'doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/feature_multiple-ceph-conf-files-f579323d856d8ca4.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/cinder/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed6b1a9191993125a110be8ff05457e3ae37f0c2', 'message': 'Allows for multiple Ceph Conf files\n\nMakes it possible for a user to store multiple ceph.conf files in\nthe `{{ node_custom_config }}/cinder/ceph/` directory and for these\nfiles to be copied into the cinder_volume and cinder_backup containers\nin the appropriate location.\n\nThis proposal also considers the legacy\n`{{ node_custom_config }}/cinder/ceph.conf` file so that already existing\ndeployments will not be affected.\n\nImplements: blueprint multiple-ceph-conf-file\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I14b4da178463abacde7039a893d8f8af3f23faad\n'}]",2,869324,ed6b1a9191993125a110be8ff05457e3ae37f0c2,8,4,1,34579,,,0,"Allows for multiple Ceph Conf files

Makes it possible for a user to store multiple ceph.conf files in
the `{{ node_custom_config }}/cinder/ceph/` directory and for these
files to be copied into the cinder_volume and cinder_backup containers
in the appropriate location.

This proposal also considers the legacy
`{{ node_custom_config }}/cinder/ceph.conf` file so that already existing
deployments will not be affected.

Implements: blueprint multiple-ceph-conf-file
Signed-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>
Change-Id: I14b4da178463abacde7039a893d8f8af3f23faad
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/869324/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/templates/cinder-volume.json.j2', 'doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/feature_multiple-ceph-conf-files-f579323d856d8ca4.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/cinder/tasks/external_ceph.yml']",6,ed6b1a9191993125a110be8ff05457e3ae37f0c2,feature/multiple-ceph-conf-files-stable/victoria," - ""{{ node_custom_config }}/cinder/{{ item.1 }}"" - ""{{ node_custom_config }}/cinder/{{ item.0.key }}/ceph.conf"" dest: ""{{ node_config_directory }}/{{ item.0.key }}/{{ item.1 }}"" - item.0.value.enabled | bool - inventory_hostname in groups[item.0.value.group] - item.0.key in services_need_config with_nested: - ""{{ cinder_services | dict2items }}"" - ""{{ ceph_conf_files }}"" notify: - Restart {{ item.0.key }} container"," - ""{{ node_custom_config }}/cinder/ceph.conf"" - ""{{ node_custom_config }}/cinder/{{ item.key }}/ceph.conf"" dest: ""{{ node_config_directory }}/{{ item.key }}/ceph.conf"" - item.value.enabled | bool - inventory_hostname in groups[item.value.group] - item.key in services_need_config with_dict: ""{{ cinder_services }}"" notify: - Restart {{ item.key }} container",45,15
openstack%2Fkolla-ansible~stable%2Fvictoria~Ia623694c801c03b151944947141551ecbc1d24f5,openstack/kolla-ansible,stable/victoria,Ia623694c801c03b151944947141551ecbc1d24f5,Add git package to the list of dependencies,ABANDONED,2022-12-14 14:43:05.000000000,2023-01-09 14:02:50.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-14 14:43:05.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7d5addf39e5e412ba5a2344f5c3c76bc1574a29', 'message': 'Add git package to the list of dependencies\n\nIn the quickstart there is need the git package to install\nkolla-ansible from the source for deployment or evaluation and\nto clone repository for development.\n\nCloses-Bug: #1999370\nChange-Id: Ia623694c801c03b151944947141551ecbc1d24f5\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 629710c63c329b407228c478f5075877ed50c11e)\n'}]",0,867667,d7d5addf39e5e412ba5a2344f5c3c76bc1574a29,3,3,1,14200,,,0,"Add git package to the list of dependencies

In the quickstart there is need the git package to install
kolla-ansible from the source for deployment or evaluation and
to clone repository for development.

Closes-Bug: #1999370
Change-Id: Ia623694c801c03b151944947141551ecbc1d24f5
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 629710c63c329b407228c478f5075877ed50c11e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/867667/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,d7d5addf39e5e412ba5a2344f5c3c76bc1574a29,add-git-quickstart, sudo dnf install git python3-devel libffi-devel gcc openssl-devel python3-libselinux sudo apt-get install git python3-dev libffi-dev gcc libssl-dev, sudo dnf install python3-devel libffi-devel gcc openssl-devel python3-libselinux sudo apt-get install python3-dev libffi-dev gcc libssl-dev,2,2
openstack%2Fkayobe-config-dev~stable%2Fussuri~I1f074e24612fb6f205008736330cf1e4b87469ab,openstack/kayobe-config-dev,stable/ussuri,I1f074e24612fb6f205008736330cf1e4b87469ab,[CI] Move queue setting to project level,ABANDONED,2022-09-19 12:00:40.000000000,2023-01-09 13:58:44.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-09-19 12:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/09ec6f21ac642bf18d3be740f18b5a4bf161e0f2', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I1f074e24612fb6f205008736330cf1e4b87469ab\n(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)\n'}, {'number': 2, 'created': '2022-09-20 07:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/1073a99e17b3f2c431ba22c89b8e119f9455a10f', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I1f074e24612fb6f205008736330cf1e4b87469ab\n(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)\n'}, {'number': 3, 'created': '2022-09-20 08:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/f493bbfe45e748da75f2ec723c93d2d5f1881976', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I1f074e24612fb6f205008736330cf1e4b87469ab\n(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)\n'}, {'number': 4, 'created': '2022-09-20 10:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/463e5b62b2b7a57a54c3f7121ac5ab1a3e9af208', 'message': '[CI] Move queue setting to project level\n\nPer [1].\nAlso removed upgrade jobs since train branch does not exist anymore.\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/858513\n\nChange-Id: I1f074e24612fb6f205008736330cf1e4b87469ab\n(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)\n'}, {'number': 5, 'created': '2022-09-20 12:51:11.000000000', 'files': ['etc/kayobe/kolla/globals.yml', 'etc/kayobe/kolla.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/338a16e0ba8f738094e11032fe229921100126f4', 'message': '[CI] Move queue setting to project level\n\nPer [1].\nAlso removed upgrade jobs since train branch does not exist anymore.\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/858513\n\nChange-Id: I1f074e24612fb6f205008736330cf1e4b87469ab\n(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)\n'}]",1,858328,338a16e0ba8f738094e11032fe229921100126f4,15,3,5,30491,,,0,"[CI] Move queue setting to project level

Per [1].
Also removed upgrade jobs since train branch does not exist anymore.

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/858513

Change-Id: I1f074e24612fb6f205008736330cf1e4b87469ab
(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/28/858328/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,09ec6f21ac642bf18d3be740f18b5a4bf161e0f2,zuul-queue-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri, queue: kayobe, queue: kayobe,1,1
openstack%2Fkayobe~stable%2Fussuri~I9cab915803bab882a12841cd40ccc6af2a78dae2,openstack/kayobe,stable/ussuri,I9cab915803bab882a12841cd40ccc6af2a78dae2,[CI] Move queue setting to project level,ABANDONED,2022-09-19 11:58:41.000000000,2023-01-09 13:57:30.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-09-19 11:58:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/83a3d0d6593f2f9032f6e87395d672f9534f4572', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I9cab915803bab882a12841cd40ccc6af2a78dae2\n(cherry picked from commit 19f783b04bc923b26a53a07150941fe0e5949f55)\n'}]",1,858318,83a3d0d6593f2f9032f6e87395d672f9534f4572,7,3,1,30491,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I9cab915803bab882a12841cd40ccc6af2a78dae2
(cherry picked from commit 19f783b04bc923b26a53a07150941fe0e5949f55)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/858318/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,83a3d0d6593f2f9032f6e87395d672f9534f4572,zuul-queue-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri, queue: kayobe, queue: kayobe,1,1
openstack%2Fkayobe~stable%2Fussuri~Idb7cf852bc1c7fe97cd6d6b2016806bcd30e2676,openstack/kayobe,stable/ussuri,Idb7cf852bc1c7fe97cd6d6b2016806bcd30e2676,Update dnf templates to $stream,ABANDONED,2022-09-20 10:31:23.000000000,2023-01-09 13:57:08.000000000,,[],"[{'number': 1, 'created': '2022-09-20 10:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/53b39e3290037768c9b6188f8af8e0d439f01e73', 'message': 'Update dnf templates to\n\nChange-Id: Idb7cf852bc1c7fe97cd6d6b2016806bcd30e2676\n'}, {'number': 2, 'created': '2022-09-20 10:36:05.000000000', 'files': ['ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3d3cb8324385f1d83e265d8c7dfdce049f2ab029', 'message': ""Update dnf templates to $stream\n\nCentOS Linux 8 used $releasever, which doesn't work with Stream.\n\nChange-Id: Idb7cf852bc1c7fe97cd6d6b2016806bcd30e2676\n""}]",1,858513,3d3cb8324385f1d83e265d8c7dfdce049f2ab029,4,0,2,22629,,,0,"Update dnf templates to $stream

CentOS Linux 8 used $releasever, which doesn't work with Stream.

Change-Id: Idb7cf852bc1c7fe97cd6d6b2016806bcd30e2676
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/13/858513/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2']",3,53b39e3290037768c9b6188f8af8e0d439f01e73,,name=CentOS Linux $stream - BaseOS baseurl=http://{{ dnf_centos_mirror_host }}/{{ dnf_centos_mirror_directory }}/$stream/BaseOS/$basearch/os/,name=CentOS Linux $releasever - BaseOS baseurl=http://{{ dnf_centos_mirror_host }}/{{ dnf_centos_mirror_directory }}/$releasever/BaseOS/$basearch/os/,6,6
openstack%2Fkayobe~stable%2Fvictoria~Id1b4e9775c834b8b97e086241ee8b247977225a2,openstack/kayobe,stable/victoria,Id1b4e9775c834b8b97e086241ee8b247977225a2,CI: test ironic UEFI boot mode in overcloud TLS jobs,ABANDONED,2022-02-21 14:01:08.000000000,2023-01-09 13:56:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-21 14:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3bffe803e82f57c473c675062c27c0e46a448eb3', 'message': 'CI: test ironic UEFI boot mode in overcloud TLS jobs\n\nSet the Ironic boot mode to legacy BIOS explicitly in Tenks config in\nanticipation of an upcoming change to the default boot mode.\n\nOverride the boot mode to UEFI in the overcloud TLS job to improve\ncoverage. This requires enabling iPXE booting.\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/827479/\n\nChange-Id: Id1b4e9775c834b8b97e086241ee8b247977225a2\n(cherry picked from commit b57b94bbad4333020cc6906d124d6f01f75e1e2c)\n'}, {'number': 2, 'created': '2022-02-21 14:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f3a791e01e1b8f05a1dd4a46b15c28d720eabb22', 'message': 'CI: test ironic UEFI boot mode in overcloud TLS jobs\n\nSet the Ironic boot mode to legacy BIOS explicitly in Tenks config in\nanticipation of an upcoming change to the default boot mode.\n\nOverride the boot mode to UEFI in the overcloud TLS job to improve\ncoverage. This requires enabling iPXE booting.\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/827479/\n\nChange-Id: Id1b4e9775c834b8b97e086241ee8b247977225a2\n(cherry picked from commit b57b94bbad4333020cc6906d124d6f01f75e1e2c)\n'}, {'number': 3, 'created': '2022-02-28 19:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1c60fbf0ad95929c300294a950bd43e70fcc688c', 'message': 'CI: test ironic UEFI boot mode in overcloud TLS jobs\n\nSet the Ironic boot mode to legacy BIOS explicitly in Tenks config in\nanticipation of an upcoming change to the default boot mode.\n\nOverride the boot mode to UEFI in the overcloud TLS job to improve\ncoverage. This requires enabling iPXE booting.\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/827479/\n\nChange-Id: Id1b4e9775c834b8b97e086241ee8b247977225a2\n(cherry picked from commit b57b94bbad4333020cc6906d124d6f01f75e1e2c)\n'}, {'number': 4, 'created': '2022-03-01 09:02:32.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4e513776361fc9d125cf0ddcceb59711e7f5a077', 'message': 'CI: test ironic UEFI boot mode in overcloud TLS jobs\n\nSet the Ironic boot mode to legacy BIOS explicitly in Tenks config in\nanticipation of an upcoming change to the default boot mode.\n\nOverride the boot mode to UEFI in the overcloud TLS job to improve\ncoverage. This requires enabling iPXE booting.\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/827479/\n\nChange-Id: Id1b4e9775c834b8b97e086241ee8b247977225a2\n(cherry picked from commit b57b94bbad4333020cc6906d124d6f01f75e1e2c)\n'}]",0,830069,4e513776361fc9d125cf0ddcceb59711e7f5a077,8,1,4,14826,,,0,"CI: test ironic UEFI boot mode in overcloud TLS jobs

Set the Ironic boot mode to legacy BIOS explicitly in Tenks config in
anticipation of an upcoming change to the default boot mode.

Override the boot mode to UEFI in the overcloud TLS job to improve
coverage. This requires enabling iPXE booting.

Depends-On: https://review.opendev.org/c/openstack/tenks/+/827479/

Change-Id: Id1b4e9775c834b8b97e086241ee8b247977225a2
(cherry picked from commit b57b94bbad4333020cc6906d124d6f01f75e1e2c)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/830069/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'zuul.d/jobs.yaml']",5,3bffe803e82f57c473c675062c27c0e46a448eb3,," ironic_boot_mode: ""bios"" ironic_boot_mode: ""uefi""",,22,0
openstack%2Fkayobe~stable%2Fvictoria~I404dd52701426a10c2e92727bd52b7fd7112abf6,openstack/kayobe,stable/victoria,I404dd52701426a10c2e92727bd52b7fd7112abf6,Support configuring docker_registry network_mode,ABANDONED,2021-03-24 12:26:28.000000000,2023-01-09 13:56:00.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-24 12:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac81c6fe04af497029330d08cbfa78243e35217a', 'message': 'Support configuring docker_registry network_mode\n\nChange-Id: I404dd52701426a10c2e92727bd52b7fd7112abf6\n(cherry picked from commit 90a0ca34432c86551867d7256f3628c97ef82b53)\n'}, {'number': 2, 'created': '2021-06-09 08:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aec640141beb80343551a9619eb74ac3cba668c7', 'message': 'Support configuring docker_registry network_mode\n\nChange-Id: I404dd52701426a10c2e92727bd52b7fd7112abf6\n(cherry picked from commit 90a0ca34432c86551867d7256f3628c97ef82b53)\n'}, {'number': 3, 'created': '2022-03-01 09:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/55ec0da28a0146630a8cc44561bc9fce30898b3b', 'message': 'Support configuring docker_registry network_mode\n\nChange-Id: I404dd52701426a10c2e92727bd52b7fd7112abf6\n(cherry picked from commit 90a0ca34432c86551867d7256f3628c97ef82b53)\n'}, {'number': 4, 'created': '2022-03-02 10:26:08.000000000', 'files': ['ansible/roles/docker-registry/defaults/main.yml', 'releasenotes/notes/docker-registry-network-mode-ef7de6a7463ca5e5.yaml', 'ansible/roles/docker-registry/tasks/deploy.yml', 'ansible/group_vars/all/docker-registry', 'doc/source/configuration/reference/docker-registry.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/27f9953ffe6d5e7eb6f9a6d0f6dffa8b2eeaa3a1', 'message': ""Support configuring docker_registry network_mode\n\nThis change is roughly a combination of\nI404dd52701426a10c2e92727bd52b7fd7112abf6 and\nIc8ec3bb98f8f016e1d089bf10bd0538264394241, but does not change the\ndefault network mode of 'bridge'.\n\nChange-Id: I404dd52701426a10c2e92727bd52b7fd7112abf6\n(cherry picked from commit 90a0ca34432c86551867d7256f3628c97ef82b53)\n""}]",1,782703,27f9953ffe6d5e7eb6f9a6d0f6dffa8b2eeaa3a1,19,4,4,14826,,,0,"Support configuring docker_registry network_mode

This change is roughly a combination of
I404dd52701426a10c2e92727bd52b7fd7112abf6 and
Ic8ec3bb98f8f016e1d089bf10bd0538264394241, but does not change the
default network mode of 'bridge'.

Change-Id: I404dd52701426a10c2e92727bd52b7fd7112abf6
(cherry picked from commit 90a0ca34432c86551867d7256f3628c97ef82b53)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/782703/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/docker-registry/defaults/main.yml', 'ansible/roles/docker-registry/tasks/deploy.yml', 'releasenotes/notes/docker-registry-network-mode-ef7de6a7463ca5e5.yaml', 'zuul.d/project.yaml']",4,ac81c6fe04af497029330d08cbfa78243e35217a,,,--- - project: templates: - openstack-cover-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 gate: queue: kayobe jobs: - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 ,20,35
openstack%2Ftripleo-common~stable%2Fzed~I53fa23723db0a334b2afb58e0a381439ac535a74,openstack/tripleo-common,stable/zed,I53fa23723db0a334b2afb58e0a381439ac535a74,Fix syntax error in uid_gid_manage.sh file,MERGED,2023-01-06 05:12:52.000000000,2023-01-09 13:49:01.000000000,2023-01-09 13:48:07.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2023-01-06 05:12:52.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f4e72fbb05772686bd76af77f5de33e6b2ddaac', 'message': 'Fix syntax error in uid_gid_manage.sh file\n\nRelated-Bug: #2001626\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I53fa23723db0a334b2afb58e0a381439ac535a74\n(cherry picked from commit d2dc6e4cdae515e6a5bee4e5c9cfb7f57c417d5a)\n'}]",3,869327,3f4e72fbb05772686bd76af77f5de33e6b2ddaac,11,5,1,30750,,,0,"Fix syntax error in uid_gid_manage.sh file

Related-Bug: #2001626

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I53fa23723db0a334b2afb58e0a381439ac535a74
(cherry picked from commit d2dc6e4cdae515e6a5bee4e5c9cfb7f57c417d5a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/869327/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/uid_gid_manage.sh'],1,3f4e72fbb05772686bd76af77f5de33e6b2ddaac,lp/2001626-stable/zed," [[ ! -z $_EXTRA_GROUPS_ARG ]] && _EXTRA_GROUPS_ARG=""--append $_EXTRA_GROUPS_ARG"""," [ ! -z $_EXTRA_GROUPS_ARG ] && _EXTRA_GROUPS_ARG=""--append $_EXTRA_GROUPS_ARG""",1,1
openstack%2Fopenstack-ansible~stable%2Fzed~I989e95fafe04786f20e1334bcd689495a4df9799,openstack/openstack-ansible,stable/zed,I989e95fafe04786f20e1334bcd689495a4df9799,Add gate_log_requirements function,MERGED,2023-01-03 07:50:42.000000000,2023-01-09 12:55:59.000000000,2023-01-09 12:53:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-01-03 07:50:42.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9c2f7dd1a6028146f666019ad59063c23ae38d0', 'message': 'Add gate_log_requirements function\n\nIn order to optimize our jobs and save some time on installing\nrequired packages, we introduced gate_log_requirements. However, for it\nto work properly in upgrade jobs, it needs to be backported to N-1,\notherwise upgrade job will fail with ""command not found""\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/866372\nChange-Id: I989e95fafe04786f20e1334bcd689495a4df9799\n'}]",0,869025,e9c2f7dd1a6028146f666019ad59063c23ae38d0,9,3,1,28619,,,0,"Add gate_log_requirements function

In order to optimize our jobs and save some time on installing
required packages, we introduced gate_log_requirements. However, for it
to work properly in upgrade jobs, it needs to be backported to N-1,
otherwise upgrade job will fail with ""command not found""

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/866372
Change-Id: I989e95fafe04786f20e1334bcd689495a4df9799
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/869025/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,e9c2f7dd1a6028146f666019ad59063c23ae38d0,,function gate_log_requirements { # ensure packages are installed to get instance info determine_distro case ${DISTRO_ID} in ubuntu|debian) apt-get update DEBIAN_FRONTEND=noninteractive apt-get -y install iproute2 net-tools ;; rocky|centos|rhel) dnf -y install iproute ;; esac } ,,14,0
openstack%2Ftripleo-quickstart~master~I14a6950d201249e8675faff16ec793f63f149bf2,openstack/tripleo-quickstart,master,I14a6950d201249e8675faff16ec793f63f149bf2,Removing workaround providing no longer necessary 'plan-environment.yaml',MERGED,2022-11-10 08:12:31.000000000,2023-01-09 12:08:36.000000000,2023-01-09 12:07:38.000000000,"[{'_account_id': 8449}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-10 08:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7ebd3bf1e8d07d34e241670c48c41c929b8cdf4', 'message': ""Removing workaround providing no longer necessary 'plan-environment.yaml'\n\nThe file was deprecated and removed some time ago, the code producing this\nstub was intendended for one of the older releases and is no longer necessary.\n\nCloses-Bug: lp#1995702\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I14a6950d201249e8675faff16ec793f63f149bf2\n""}, {'number': 2, 'created': '2022-11-14 08:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4996d0cb4388c79457f884f0e7b8ef036e564f5b', 'message': ""Removing workaround providing no longer necessary 'plan-environment.yaml'\n\nThe file was deprecated and removed some time ago, the code producing this\nstub was intended for one of the older releases and is no longer necessary.\n\nCloses-Bug: lp#1995702\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I14a6950d201249e8675faff16ec793f63f149bf2\n""}, {'number': 3, 'created': '2022-11-14 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb0b08aea82e6f6840c943b650c6c58446f05bd1', 'message': ""Removing workaround providing no longer necessary 'plan-environment.yaml'\n\nThe file was deprecated and removed some time ago, the code producing this\nstub was intended for one of the older releases and is no longer necessary.\n\nCloses-Bug: 1995702\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I14a6950d201249e8675faff16ec793f63f149bf2\n""}, {'number': 4, 'created': '2023-01-06 11:12:19.000000000', 'files': ['config/general_config/featureset036.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/04afb23141ad255c8cd1260169506cc2f43d45d3', 'message': ""Removing workaround providing no longer necessary 'plan-environment.yaml'\n\nThe file was deprecated and removed some time ago, the code producing this\nstub was intended for one of the older releases and is no longer necessary.\n\nCloses-Bug: 1995702\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I14a6950d201249e8675faff16ec793f63f149bf2\n""}]",8,864167,04afb23141ad255c8cd1260169506cc2f43d45d3,24,4,4,32926,,,0,"Removing workaround providing no longer necessary 'plan-environment.yaml'

The file was deprecated and removed some time ago, the code producing this
stub was intended for one of the older releases and is no longer necessary.

Closes-Bug: 1995702

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I14a6950d201249e8675faff16ec793f63f149bf2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/67/864167/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset036.yml'],1,a7ebd3bf1e8d07d34e241670c48c41c929b8cdf4,lp#1995702,,# Workaround for deploying newton from queen. overcloud_prep_post_hook_script: | cat > {{ overcloud_templates_path }}/plan-environment.yaml<<EOF version: 1.0 name: overcloud description: > Default Deployment plan template: overcloud.yaml environments: - path: overcloud-resource-registry-puppet.yaml EOF ,0,13
openstack%2Ftripleo-ansible~master~I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5,openstack/tripleo-ansible,master,I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5,Use autospec instead of auto_spec,MERGED,2023-01-03 04:06:53.000000000,2023-01-09 12:07:40.000000000,2023-01-09 12:07:40.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-01-03 04:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7759985e8dfb339eec23a309762c6be825fb1060', 'message': 'Fix typo in tests\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 2, 'created': '2023-01-03 05:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9da0218eb37e9f554a10fdb8450bc584e97f51ad', 'message': 'Fix typo in tests\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 3, 'created': '2023-01-03 05:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45b7fa6b6adcb76d1f5f3575eeff53eddbb00ea2', 'message': 'Fix typo in tests\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 4, 'created': '2023-01-03 06:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e9b4e9ceeb6c825cfaf334e532786bf2e7ee511', 'message': 'Fix typo in tests\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nAlso fixes some more tox4 related issues.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 5, 'created': '2023-01-06 01:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f3d11093757681da327ab2a0e8f91e590e5d73d8', 'message': 'Fix issues with tox 4.2.4\n\nFixes some more tox related issues.\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 6, 'created': '2023-01-06 02:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07083f1aec77d0653e7f801520bcf815b026941b', 'message': 'Fix issues with tox 4.2.4\n\nFixes some more tox related issues.\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 7, 'created': '2023-01-06 03:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12eadbcd96650966043d17bb6e624643a102bf4c', 'message': 'Fix issues with tox 4.2.4\n\nFixes some more tox related issues.\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 8, 'created': '2023-01-06 03:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/589fbfcf17e27ba5c1c5779263ce8786b669d053', 'message': 'Fix issues with tox 4.2.4\n\nFixes some more tox related issues.\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 9, 'created': '2023-01-06 04:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47da4357b1350085e216a88b9d84e569ccadb120', 'message': 'Fix issues with tox 4.2.4\n\nFixes some more tox related issues.\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 10, 'created': '2023-01-06 04:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a017f0b13465795c705a98f2865105aa713f7ce', 'message': 'Fix issues with tox 4.2.4\n\nFixes some more tox related issues.\n\nUse autospec instead of auto_spec. Mock changes does not allow\nit anymore it seems.\n\nRemoves ansible-galaxy --timeout for py* jobs to work around\nother tox issues. We may hit the timeout with py* jobs.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 11, 'created': '2023-01-06 05:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/801f90402a371756f38b290778de8901eb520cf3', 'message': 'Fix issues with tox 4.2.4\n\ntox now hard fails if there is mismatch in spec\nattributes[1]. This works around the issue\ntemporarily. We probably have to drop py38 jobs\nand specify basepython for py39 target in the\nfuture.\n\nRemoves ansible-galaxy --timeout for py* jobs to\nworkaround. We may hit the timeout with py* jobs.\n\n[1] https://github.com/tox-dev/tox/pull/2824/\n\nAdditionally use autospec instead of auto_spec.\nMock changes does not allow it anymore it seems.\nThis has already been merged in stable/zed and\nreferences this change-id.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 12, 'created': '2023-01-06 05:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f816fe3a4933b961e08a514e127bc00781b04c7f', 'message': 'Fix issues with tox 4.2.4\n\ntox now hard fails if there is mismatch in spec\nattributes[1]. This works around the issue\ntemporarily. We probably have to drop py38 jobs\nand specify basepython for py39 target in the\nfuture.\n\nRemoves ansible-galaxy --timeout for py* jobs to\nworkaround. We may hit the timeout with py* jobs.\n\n[1] https://github.com/tox-dev/tox/pull/2824/\n\nAdditionally use autospec instead of auto_spec.\nMock changes does not allow it anymore it seems.\nThis has already been merged in stable/zed and\nreferences this change-id.\n\nCloses-Bug: #2001602\nCloses-Bug: #2002035\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 13, 'created': '2023-01-06 05:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84128d07782bccbdddf7b04f0c6fb808c9dfdd62', 'message': 'Use autospec instead of autospec\n\nUse autospec instead of auto_spec.\nMock changes do not allow it anymore it seems.\nThis has already been merged in stable/zed and\nreferences this change-id.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}, {'number': 14, 'created': '2023-01-06 07:07:39.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bbcd2bc2742ad4230132af76baf7b846241098c', 'message': 'Use autospec instead of auto_spec\n\nUse autospec instead of auto_spec. Mock changes do not allow\nit anymore it seems. This has already been merged in stable/zed.\n\nChange-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5\n'}]",13,869020,2bbcd2bc2742ad4230132af76baf7b846241098c,59,8,14,8833,,,0,"Use autospec instead of auto_spec

Use autospec instead of auto_spec. Mock changes do not allow
it anymore it seems. This has already been merged in stable/zed.

Change-Id: I1c2289a1cff56a4f9a0ecf9aec81765e1046a4b5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/869020/12 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py'],1,7759985e8dfb339eec23a309762c6be825fb1060,," @mock.patch.object(plugin, 'get_subnet_info', autospec=True) @mock.patch.object(plugin, 'get_network_info', autospec=True)"," @mock.patch.object(plugin, 'get_subnet_info', auto_spec=True) @mock.patch.object(plugin, 'get_network_info', auto_spec=True)",2,2
openstack%2Fopenstack-ansible-os_octavia~stable%2Fwallaby~I5a05f583631ef7b6429da4a6a3a4e895e9c75163,openstack/openstack-ansible-os_octavia,stable/wallaby,I5a05f583631ef7b6429da4a6a3a4e895e9c75163,Use focal amphora test image by default,MERGED,2023-01-03 08:01:13.000000000,2023-01-09 12:07:32.000000000,2023-01-09 12:06:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-03 08:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a4003124170226ce3046bc716590bc485d1242b9', 'message': 'Use focal amphora test image by default\n\nSwitch used default amphora image from bionic to focal\n\nChange-Id: I5a05f583631ef7b6429da4a6a3a4e895e9c75163\n(cherry picked from commit c7a7a14f7bee4d46336ab8a3cc82d29628f32c01)\n'}, {'number': 2, 'created': '2023-01-03 12:13:27.000000000', 'files': ['tox.ini', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e8e9d1d11da960a91a116eef0c48b099e86ff9ef', 'message': 'Use focal amphora test image by default\n\nSwitch used default amphora image from bionic to focal\n\nChange-Id: I5a05f583631ef7b6429da4a6a3a4e895e9c75163\n(cherry picked from commit c7a7a14f7bee4d46336ab8a3cc82d29628f32c01)\n'}]",0,869038,e8e9d1d11da960a91a116eef0c48b099e86ff9ef,10,3,2,28619,,,0,"Use focal amphora test image by default

Switch used default amphora image from bionic to focal

Change-Id: I5a05f583631ef7b6429da4a6a3a4e895e9c75163
(cherry picked from commit c7a7a14f7bee4d46336ab8a3cc82d29628f32c01)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/38/869038/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a4003124170226ce3046bc716590bc485d1242b9,,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-focal.qcow2,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2,1,1
openstack%2Fos-vif~master~I651c4cc84a5a42fefa1663e61b63b9cb7bf44a03,openstack/os-vif,master,I651c4cc84a5a42fefa1663e61b63b9cb7bf44a03,add CAP_DAC_OVERRIDE to test privsep contexts,ABANDONED,2023-01-06 18:34:19.000000000,2023-01-09 11:32:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 18:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cd853fb20090409c9d986c04f216d6af8c7e7ca9', 'message': 'add CAP_DAC_OVERRIDE to test privsep contexts\n\nThis change modifes the privsep contexts used by the test\ncode to create inteface without using the os-vif plugins.\n\nThe os-vif functional tests actully create ovs and linux\nbrdiges and dummy netdevs. to ensure the drier work correctly\nthe functional tests have a simpler test only version of the\nport/brige management commands that are used to prepare\nand validate the test env. The simpler implementation uses\nstandard linux commandline tools like ""ip"" or ""ovs-vsctl""\nwhich on ubuntu 22.04 require the addtion of CAP_DAC_OVERRIDE\nto work around socket/file ownership issues.\n\nTo avoid  adding capablities at runtime that are not required\nthis change modifes the existing test only context in\nthe os_vif.tests.functional.privsep module and add a new test\ncontext for the vif_plug_ovs plugin\n\nChange-Id: I651c4cc84a5a42fefa1663e61b63b9cb7bf44a03\n'}, {'number': 2, 'created': '2023-01-07 02:11:08.000000000', 'files': ['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/privsep.py', 'os_vif/tests/functional/privsep.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c0c05f56789c0978e8f8e6a75f917d493e303490', 'message': 'add CAP_DAC_OVERRIDE to test privsep contexts\n\nThis change modifes the privsep contexts used by the test\ncode to create inteface without using the os-vif plugins.\n\nThe os-vif functional tests actully create ovs and linux\nbrdiges and dummy netdevs. to ensure the drier work correctly\nthe functional tests have a simpler test only version of the\nport/brige management commands that are used to prepare\nand validate the test env. The simpler implementation uses\nstandard linux commandline tools like ""ip"" or ""ovs-vsctl""\nwhich on ubuntu 22.04 require the addtion of CAP_DAC_OVERRIDE\nto work around socket/file ownership issues.\n\nTo avoid  adding capablities at runtime that are not required\nthis change modifes the existing test only context in\nthe os_vif.tests.functional.privsep module and add a new test\ncontext for the vif_plug_ovs plugin\n\nChange-Id: I651c4cc84a5a42fefa1663e61b63b9cb7bf44a03\n'}]",1,869500,c0c05f56789c0978e8f8e6a75f917d493e303490,8,1,2,11604,,,0,"add CAP_DAC_OVERRIDE to test privsep contexts

This change modifes the privsep contexts used by the test
code to create inteface without using the os-vif plugins.

The os-vif functional tests actully create ovs and linux
brdiges and dummy netdevs. to ensure the drier work correctly
the functional tests have a simpler test only version of the
port/brige management commands that are used to prepare
and validate the test env. The simpler implementation uses
standard linux commandline tools like ""ip"" or ""ovs-vsctl""
which on ubuntu 22.04 require the addtion of CAP_DAC_OVERRIDE
to work around socket/file ownership issues.

To avoid  adding capablities at runtime that are not required
this change modifes the existing test only context in
the os_vif.tests.functional.privsep module and add a new test
context for the vif_plug_ovs plugin

Change-Id: I651c4cc84a5a42fefa1663e61b63b9cb7bf44a03
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/00/869500/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/privsep.py', 'os_vif/tests/functional/privsep.py']",3,cd853fb20090409c9d986c04f216d6af8c7e7ca9,fix-func-test-caps," capabilities=[c.CAP_NET_ADMIN, c.CAP_DAC_OVERRIDE],"," capabilities=[c.CAP_NET_ADMIN],",14,3
openstack%2Fkayobe~master~Ie1a56ebd6fe3283a2b5b077f658ff1cf3e006784,openstack/kayobe,master,Ie1a56ebd6fe3283a2b5b077f658ff1cf3e006784,Replace references to Docker Hub by Quay.io,MERGED,2023-01-06 10:12:41.000000000,2023-01-09 11:23:27.000000000,2023-01-09 11:22:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 10:12:41.000000000', 'files': ['doc/source/deployment.rst', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6e78aa89149add7b15c457266d5712486ef4503d', 'message': 'Replace references to Docker Hub by Quay.io\n\nKolla Ansible uses Quay.io as its default registry.\n\nChange-Id: Ie1a56ebd6fe3283a2b5b077f658ff1cf3e006784\n'}]",0,869442,6e78aa89149add7b15c457266d5712486ef4503d,7,2,1,15197,,,0,"Replace references to Docker Hub by Quay.io

Kolla Ansible uses Quay.io as its default registry.

Change-Id: Ie1a56ebd6fe3283a2b5b077f658ff1cf3e006784
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/869442/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deployment.rst', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/upgrading.rst']",4,6e78aa89149add7b15c457266d5712486ef4503d,docs-quayio," as Quay.io. In this case, this step can be skipped. as Quay.io. In this case, this step can be skipped. image registry such as Quay.io. In this case, this step can be skipped. In most cases suitable prebuilt kolla images will be available on Quay.io. The `openstack.kolla organisation <https://quay.io/organization/openstack.kolla>`_ provides image repositories suitable for use with kayobe and will be used by default. To pull images from the configured image registry::"," as Dockerhub. In this case, this step can be skipped. as Dockerhub. In this case, this step can be skipped. image registry such as Dockerhub. In this case, this step can be skipped. In most cases suitable prebuilt kolla images will be available on Dockerhub. The `kolla account <https://hub.docker.com/u/kolla>`_ provides image repositories suitable for use with kayobe and will be used by default. To pull images from the configured image registry::",17,17
openstack%2Fkayobe~master~I23c409900db2c37105e7b218bbaedcfacb235787,openstack/kayobe,master,I23c409900db2c37105e7b218bbaedcfacb235787,Sync kolla_tag with kolla-ansible,MERGED,2023-01-06 10:19:49.000000000,2023-01-09 11:22:13.000000000,2023-01-09 11:21:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-01-06 10:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/117fe65773663027d1d8a3bd5ea88ca0aa9ce826', 'message': 'Sync kolla_tag with kolla-ansible\n\nWithout this change, Kayobe was tagging container images with `zed` when\nkolla-ansible was expecting something like `zed-ubuntu-jammy`.\n\nChange-Id: I23c409900db2c37105e7b218bbaedcfacb235787\n'}, {'number': 2, 'created': '2023-01-06 10:53:49.000000000', 'files': ['ansible/inventory/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'releasenotes/notes/sync-kolla-tag-e4766b4fb395765e.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8640fbd5c0389848290fca9d31c8fbd964e1d63d', 'message': 'Sync kolla_tag with kolla-ansible\n\nWithout this change, Kayobe was tagging container images with `zed` when\nkolla-ansible was expecting something like `zed-ubuntu-jammy`.\n\nChange-Id: I23c409900db2c37105e7b218bbaedcfacb235787\n'}]",1,869444,8640fbd5c0389848290fca9d31c8fbd964e1d63d,11,4,2,15197,,,0,"Sync kolla_tag with kolla-ansible

Without this change, Kayobe was tagging container images with `zed` when
kolla-ansible was expecting something like `zed-ubuntu-jammy`.

Change-Id: I23c409900db2c37105e7b218bbaedcfacb235787
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/869444/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/inventory/group_vars/all/kolla'],1,117fe65773663027d1d8a3bd5ea88ca0aa9ce826,sync-kolla-tag,"kolla_tag: ""{{ kolla_openstack_release }}-{{ kolla_base_distro }}-{{ kolla_base_distro_version }}""","kolla_tag: ""{{ kolla_openstack_release }}""",1,1
openstack%2Fmasakari-monitors~master~I24a6aba97b834ae92dabe85196f01d27bb518b3c,openstack/masakari-monitors,master,I24a6aba97b834ae92dabe85196f01d27bb518b3c,not retry to send notification for specific http exception,MERGED,2023-01-04 05:41:45.000000000,2023-01-09 11:18:45.000000000,2023-01-09 11:17:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30623}]","[{'number': 1, 'created': '2023-01-04 05:41:45.000000000', 'files': ['masakarimonitors/ha/masakari.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/cf646dfce2db86f01dd49349e1803da23de4ec85', 'message': 'not retry to send notification for specific http exception\n\nWhen the host not added in the failover segment, it will raise 400(host\nwith name *** could not be found). It should not retry to send\nnotification in this case.\n\nChange-Id: I24a6aba97b834ae92dabe85196f01d27bb518b3c\n'}]",3,869141,cf646dfce2db86f01dd49349e1803da23de4ec85,9,3,1,30623,,,0,"not retry to send notification for specific http exception

When the host not added in the failover segment, it will raise 400(host
with name *** could not be found). It should not retry to send
notification in this case.

Change-Id: I24a6aba97b834ae92dabe85196f01d27bb518b3c
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/41/869141/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/ha/masakari.py'],1,cf646dfce2db86f01dd49349e1803da23de4ec85,," if e.status_code in [400, 409]: LOG.info(e)"," if e.status_code == 409: msg = (""Stop retrying to send a notification because "" ""same notification have been already sent."") LOG.info(""%s"", msg)",2,4
openstack%2Foctavia-tempest-plugin~master~I8aea2b597b9dd9bbdc5a1527fae03e86364aab4c,openstack/octavia-tempest-plugin,master,I8aea2b597b9dd9bbdc5a1527fae03e86364aab4c,Make user role logging optional,MERGED,2022-12-15 15:15:32.000000000,2023-01-09 11:14:08.000000000,2023-01-09 11:13:05.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-15 15:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6df7ccd87d4695f6aaca440198a1b7abf4a0be8e', 'message': 'Make user role logging optional\n\nNot in every cloud does tempest have permissions to list the\nrole assignments. Since it is not critial for running the tests,\nthe logging of the user roles should be configurable.\n\nChange-Id: I8aea2b597b9dd9bbdc5a1527fae03e86364aab4c\n'}, {'number': 2, 'created': '2023-01-03 17:41:29.000000000', 'files': ['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/530a88a434400c2255e43b0993c36ea1a6778e17', 'message': 'Make user role logging optional\n\nNot in every cloud does tempest have permissions to list the\nrole assignments. Since it is not critial for running the tests,\nthe logging of the user roles should be configurable.\n\nChange-Id: I8aea2b597b9dd9bbdc5a1527fae03e86364aab4c\n'}]",5,867810,530a88a434400c2255e43b0993c36ea1a6778e17,14,4,2,35087,,,0,"Make user role logging optional

Not in every cloud does tempest have permissions to list the
role assignments. Since it is not critial for running the tests,
the logging of the user roles should be configurable.

Change-Id: I8aea2b597b9dd9bbdc5a1527fae03e86364aab4c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/10/867810/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py']",2,6df7ccd87d4695f6aaca440198a1b7abf4a0be8e,, if not CONF.load_balancer.log_user_roles: return ,,6,0
openstack%2Fcyborg-tempest-plugin~master~Ib4f7ed74a29f0a0474eda506047296647112c3bd,openstack/cyborg-tempest-plugin,master,Ib4f7ed74a29f0a0474eda506047296647112c3bd,add get device info by invalid uuid,NEW,2023-01-09 08:24:02.000000000,2023-01-09 10:59:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-09 08:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/3e069e8764d2f0a24161deac9987c1f7a72cb256', 'message': 'add get device info by invalid uuid\n\nadd get non existent device info by invalid uuid\n\nChange-Id: Ib4f7ed74a29f0a0474eda506047296647112c3bd\n'}, {'number': 2, 'created': '2023-01-09 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/3e6885f99e193cf8a296ce1762630939ca592314', 'message': 'add get device info by invalid uuid\n\nadd get non existent device info by invalid uuid\n\nChange-Id: Ib4f7ed74a29f0a0474eda506047296647112c3bd\n'}, {'number': 3, 'created': '2023-01-09 10:23:43.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/0236da3420dd2ccc827868e557976cdf5f3f2111', 'message': 'add get device info by invalid uuid\n\nadd get non existent device info by invalid uuid\n\nChange-Id: Ib4f7ed74a29f0a0474eda506047296647112c3bd\n'}]",1,869301,0236da3420dd2ccc827868e557976cdf5f3f2111,6,1,3,30409,,,0,"add get device info by invalid uuid

add get non existent device info by invalid uuid

Change-Id: Ib4f7ed74a29f0a0474eda506047296647112c3bd
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/01/869301/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_negative.py'],1,3e069e8764d2f0a24161deac9987c1f7a72cb256,master16," def test_get_non_existent_device_by_valid_uuid(self): # get the non-existent device by valid uuid @test.attr(type=['negative', 'gate']) def test_get_non_existent_device_by_invalid_uuid(self): # get the non-existent device by invalid uuid invalid_id = ""123456"" self.assertRaises(lib_exc.BadRequest, self.os_admin.cyborg_client.get_device, invalid_id) ", def test_get_non_existent_device(self): # get the non-existent device,11,2
openstack%2Fopenstack-ansible-os_octavia~stable%2Fxena~I5a05f583631ef7b6429da4a6a3a4e895e9c75163,openstack/openstack-ansible-os_octavia,stable/xena,I5a05f583631ef7b6429da4a6a3a4e895e9c75163,Use focal amphora test image by default,MERGED,2023-01-03 08:01:01.000000000,2023-01-09 10:22:04.000000000,2023-01-09 10:21:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-03 08:01:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7470a6a8c921e47c454ba9bd2be490bc0364a2fa', 'message': 'Use focal amphora test image by default\n\nSwitch used default amphora image from bionic to focal\n\nChange-Id: I5a05f583631ef7b6429da4a6a3a4e895e9c75163\n(cherry picked from commit c7a7a14f7bee4d46336ab8a3cc82d29628f32c01)\n'}]",0,869037,7470a6a8c921e47c454ba9bd2be490bc0364a2fa,8,3,1,28619,,,0,"Use focal amphora test image by default

Switch used default amphora image from bionic to focal

Change-Id: I5a05f583631ef7b6429da4a6a3a4e895e9c75163
(cherry picked from commit c7a7a14f7bee4d46336ab8a3cc82d29628f32c01)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/37/869037/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7470a6a8c921e47c454ba9bd2be490bc0364a2fa,,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-focal.qcow2,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2,1,1
openstack%2Fmagnum~master~I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb,openstack/magnum,master,I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb,coredns: Use /run/systemd/resolve/resolv.conf,ABANDONED,2023-01-05 08:30:22.000000000,2023-01-09 10:01:50.000000000,,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 08:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0a630f036bebc243f4a711af6b89ad41282dfd96', 'message': 'coredns: Add support for Fedora CoreOS 36 and later\n\nFCOS36 and later use systemd-resolved - /etc/resolv.conf will not work\nwith coredns (see [1]).\n\n[1]: https://github.com/coredns/coredns/blob/master/plugin/loop/README.md#troubleshooting\n\nChange-Id: I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb\n'}, {'number': 2, 'created': '2023-01-05 12:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b1c7c228a7753a55c863b64abbf1148e66ef8a07', 'message': 'coredns: Add support for Fedora CoreOS 36 and later\n\nFCOS36 and later have stub dns resolver enabled  - /etc/resolv.conf will not\nwork with coredns (see [1]).\n\n[1]: https://github.com/coredns/coredns/blob/master/plugin/loop/README.md#troubleshooting\n\nChange-Id: I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb\n'}, {'number': 3, 'created': '2023-01-05 14:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/037a71aaf8664a7f6a8926dceb294592d73da591', 'message': 'coredns: Use /run/systemd/resolve/resolv.conf\n\nIn FCOS36 and later coredns started failing with loops.\n/etc/resolv.conf will not work with coredns (see [1]).\n\nTested on FC35/36/37.\n\n[1]: https://github.com/coredns/coredns/blob/master/plugin/loop/README.md#troubleshooting\n\nChange-Id: I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb\n'}, {'number': 4, 'created': '2023-01-05 14:30:01.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c4597dce1d8de1654ff5d9adafda5ef11bf8d00a', 'message': 'coredns: Use /run/systemd/resolve/resolv.conf\n\nIn FCOS36 and later coredns started failing with loops.\n/etc/resolv.conf will not work with coredns (see [1]).\n\nTested on FC35/36/37.\n\n[1]: https://github.com/coredns/coredns/blob/master/plugin/loop/README.md#troubleshooting\n\nStory: 2010519\nTask: 47116\n\nChange-Id: I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb\n'}]",1,869286,c4597dce1d8de1654ff5d9adafda5ef11bf8d00a,9,2,4,22629,,,0,"coredns: Use /run/systemd/resolve/resolv.conf

In FCOS36 and later coredns started failing with loops.
/etc/resolv.conf will not work with coredns (see [1]).

Tested on FC35/36/37.

[1]: https://github.com/coredns/coredns/blob/master/plugin/loop/README.md#troubleshooting

Story: 2010519
Task: 47116

Change-Id: I3a0700046bade7bd0b3a1b319f66b8f675f0c8fb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/86/869286/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'],1,0a630f036bebc243f4a711af6b89ad41282dfd96,,". /etc/os-release if [ ""$VERSION_ID"" -ge ""36"" ]; then RESOLV_CONF=/run/systemd/resolve/resolv.conf else RESOLV_CONF=/etc/resolv.conf fi forward . ${RESOLV_CONF}", forward . /etc/resolv.conf,8,1
openstack%2Fironic-tempest-plugin~master~Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e,openstack/ironic-tempest-plugin,master,Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e,OOB inspection timeout fix for iDRAC,MERGED,2022-11-28 08:44:19.000000000,2023-01-09 09:23:03.000000000,2023-01-07 16:30:51.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-11-28 08:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/4ae3c2c6b77951d03abe37b10590677647ed94cf', 'message': 'OOB inspection timeout fix for idrac\n\nFixes idrac driver out of band inspection intermittent timeout issue\nfor idrac-wsman and idrac-redfish inspect interface.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}, {'number': 2, 'created': '2022-11-28 08:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d3787021e3f04f763fa31a93e9233aed1e009360', 'message': 'OOB inspection timeout fix for idrac\n\nFixes idrac driver out of band inspection intermittent timeout issue\nfor idrac-wsman and idrac-redfish inspect interface.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}, {'number': 3, 'created': '2022-11-28 08:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a871f5595df239d3067ebb8ac58d147b4d3a6f00', 'message': 'OOB inspection timeout fix for idrac\n\nFixes idrac driver out of band inspection intermittent timeout issue\nfor idrac-wsman and idrac-redfish inspect interface. For idrac, 15s\nis recommended to be set for successful execution of OOB inspection.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}, {'number': 4, 'created': '2022-11-29 11:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/20b1c2a8cffe117985e997671f910a44aef1b49f', 'message': 'OOB inspection timeout fix for iDRAC\n\nMake inspection timeout configurable to fix iDRAC driver out of band\ninspection intermittent timeout issue for idrac-wsman and idrac-redfish\ninspect interface.\nFor idrac, 15 seconds is recommended to be set for inspect timeout for\nsuccessful execution of OOB inspection.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}, {'number': 5, 'created': '2022-12-02 07:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/1c1b408a1215fba8ee19b9af325b97df31cbc8b1', 'message': 'OOB inspection timeout fix for iDRAC\n\nMake inspection timeout configurable to fix iDRAC driver out of band\ninspection intermittent timeout issue for idrac-wsman and idrac-redfish\ninspect interface.\nFor idrac, 20 seconds is recommended to be set for inspect timeout for\nsuccessful execution of OOB inspection.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}, {'number': 6, 'created': '2022-12-02 07:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/fc8653920e3d26c5aa614ae6a81d3db35fbfef99', 'message': 'OOB inspection timeout fix for iDRAC\n\nMake inspection timeout configurable to fix iDRAC driver out of band\ninspection intermittent timeout issue for idrac-wsman and idrac-redfish\ninspect interface.\nFor idrac, at least 20 seconds is recommended to be set for inspect timeout for\nsuccessful execution of OOB inspection.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}, {'number': 7, 'created': '2022-12-02 09:21:29.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_inspection_basic.py', 'ironic_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/30d1f902daeb7705647a81d685c5896136e636dd', 'message': 'OOB inspection timeout fix for iDRAC\n\nMake inspection timeout configurable to fix iDRAC driver out of band\ninspection intermittent timeout issue for idrac-wsman and idrac-redfish\ninspect interface.\nFor idrac, at least 20 seconds is recommended to be set for inspect\ntimeout for successful execution of OOB inspection.\n\nChange-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e\n'}]",8,865803,30d1f902daeb7705647a81d685c5896136e636dd,27,4,7,33244,,,0,"OOB inspection timeout fix for iDRAC

Make inspection timeout configurable to fix iDRAC driver out of band
inspection intermittent timeout issue for idrac-wsman and idrac-redfish
inspect interface.
For idrac, at least 20 seconds is recommended to be set for inspect
timeout for successful execution of OOB inspection.

Change-Id: Ibdf78d0669d0afb43d32bb71e7710145ffb7c05e
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/03/865803/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_inspection_basic.py', 'ironic_tempest_plugin/config.py']",2,4ae3c2c6b77951d03abe37b10590677647ed94cf,inspection-timeout-fix," cfg.IntOpt('inspect_timeout', default=10, help=""Timeout for inspecting an Ironic node.""),",,9,1
openstack%2Fironic~master~Iece5d9227300f8cea252771d12285b62dba6369a,openstack/ironic,master,Iece5d9227300f8cea252771d12285b62dba6369a,Revert setuptools disable autodiscovery,ABANDONED,2023-01-09 09:07:17.000000000,2023-01-09 09:19:53.000000000,,[],"[{'number': 1, 'created': '2023-01-09 09:07:17.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a5aa1beba9209a495db65a989c2110a77b7b076', 'message': 'Revert setuptools disable autodiscovery\n\nNow that [1] is merged we can partially revert [2]\n\n[1] https://review.opendev.org/c/openstack/pbr/+/869082\n[2] https://review.opendev.org/c/openstack/ironic/+/868749\n\nChange-Id: Iece5d9227300f8cea252771d12285b62dba6369a\n'}]",0,869539,1a5aa1beba9209a495db65a989c2110a77b7b076,2,0,1,23851,,,0,"Revert setuptools disable autodiscovery

Now that [1] is merged we can partially revert [2]

[1] https://review.opendev.org/c/openstack/pbr/+/869082
[2] https://review.opendev.org/c/openstack/ironic/+/868749

Change-Id: Iece5d9227300f8cea252771d12285b62dba6369a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/869539/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,1a5aa1beba9209a495db65a989c2110a77b7b076,revert-disable-autodiscovery,," py_modules=[],",0,1
openstack%2Ftempest~master~I11acbec412999a5b063f81045b8707ba06dfdf32,openstack/tempest,master,I11acbec412999a5b063f81045b8707ba06dfdf32,Add member with invalid image,ABANDONED,2022-07-08 09:35:53.000000000,2023-01-09 09:18:50.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-07-08 09:35:53.000000000', 'files': ['tempest/api/image/v1/test_image_members_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be34f827d3f847ba71c9342db10ef9756c28a558', 'message': 'Add member with invalid image\n\nAdd member with invalid image\n\nChange-Id: I11acbec412999a5b063f81045b8707ba06dfdf32\n'}]",3,849012,be34f827d3f847ba71c9342db10ef9756c28a558,5,3,1,30409,,,0,"Add member with invalid image

Add member with invalid image

Change-Id: I11acbec412999a5b063f81045b8707ba06dfdf32
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/849012/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v1/test_image_members_negative.py'],1,be34f827d3f847ba71c9342db10ef9756c28a558,master12," @decorators.attr(type=['negative']) @decorators.idempotent_id('2f3f7e53-aeda-4cc3-9c26-bda10b3cfe2c') def test_add_member_with_invalid_image(self): """"""Add member with invalid image"""""" invalid_image = '' self.assertRaises(lib_exc.BadRequest, self.image_member_client.create_image_member, invalid_image, self.alt_tenant_id)",,9,0
openstack%2Ftempest~master~Ia791671b40ca7c5d97cad63d094224d7c80fcd0c,openstack/tempest,master,Ia791671b40ca7c5d97cad63d094224d7c80fcd0c,Test listing snapshots with invalid consumes_quota should fail,ABANDONED,2022-08-04 02:28:26.000000000,2023-01-09 09:18:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 02:28:26.000000000', 'files': ['tempest/api/volume/test_volumes_snapshots_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/39d75a8e5053b19e9775c019ec4f237b6d48d37e', 'message': 'Test listing snapshots with invalid consumes_quota should fail\n\nTest listing snapshots with invaild consumes_quta should fail\n\nChange-Id: Ia791671b40ca7c5d97cad63d094224d7c80fcd0c\n'}]",1,851998,39d75a8e5053b19e9775c019ec4f237b6d48d37e,4,2,1,30409,,,0,"Test listing snapshots with invalid consumes_quota should fail

Test listing snapshots with invaild consumes_quta should fail

Change-Id: Ia791671b40ca7c5d97cad63d094224d7c80fcd0c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/851998/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_snapshots_negative.py'],1,39d75a8e5053b19e9775c019ec4f237b6d48d37e,master18," @decorators.attr(type=['negative']) @decorators.idempotent_id('61a2dc00-e367-4193-a1d9-b12b142c0d14') def test_list_snapshots_invalid_param_consumes_quota(self): """"""Test listing snapshots with invalid consumes_quota should fail"""""" self.assertRaises(lib_exc.NotFound, self.snapshots_client.list_snapshots, consumes_quota=data_utils.rand_uuid()) ",,9,0
openstack%2Ftempest~master~If584e6587821add970751fc8100ed78af9fb79de,openstack/tempest,master,If584e6587821add970751fc8100ed78af9fb79de,Update image tag with already delete image,ABANDONED,2022-07-28 09:36:48.000000000,2023-01-09 09:18:08.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 09:36:48.000000000', 'files': ['tempest/api/image/v2/test_images_tags_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/94e8beeb1dd946006db45e506db1429da0397e3d', 'message': 'Update image tag with already delete image\n\nUpdate image tag with already delete image\n\nChange-Id: If584e6587821add970751fc8100ed78af9fb79de\n'}]",2,851322,94e8beeb1dd946006db45e506db1429da0397e3d,5,3,1,30409,,,0,"Update image tag with already delete image

Update image tag with already delete image

Change-Id: If584e6587821add970751fc8100ed78af9fb79de
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/851322/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images_tags_negative.py'],1,94e8beeb1dd946006db45e506db1429da0397e3d,master17," @decorators.idempotent_id('bfc2cc77-afb1-4e90-8dc8-ec1c68d2c798') def test_update_tags_for_non_existing_image(self): """"""Update image tag with already delete image"""""" tag = data_utils.rand_name('tag') image = self.create_image(container_format='bare', disk_format='raw', visibility='private' ) self.client.delete_image(image['id']) self.assertRaises(lib_exc.NotFound, self.client.add_image_tag, image['id'], tag) @decorators.attr(type=['negative'])",,13,0
openstack%2Ftempest~master~I75065c9c4891952b60e197b0769e2f971d596291,openstack/tempest,master,I75065c9c4891952b60e197b0769e2f971d596291,Test use non-int value to test create encryption,ABANDONED,2022-06-23 02:36:23.000000000,2023-01-09 09:17:46.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 02:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20b01ab9263da7e371dfe952d3934043dffdc07e', 'message': 'Test use non-int value to test create encryption\n\nUse string type value instead of int type to test create encryption\n\nChange-Id: I75065c9c4891952b60e197b0769e2f971d596291\n'}, {'number': 2, 'created': '2022-06-24 09:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d897971129568c17e87419437eae47b94889fe4', 'message': 'Test use non-int value to test create encryption\n\nUse string type value instead of int type to test create encryption\n\nChange-Id: I75065c9c4891952b60e197b0769e2f971d596291\n'}, {'number': 3, 'created': '2022-06-24 10:26:29.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bfc9e600d95d563881a0fc7355f632106d172063', 'message': 'Test use non-int value to test create encryption\n\nUse string type value instead of int type to test create encryption\n\nChange-Id: I75065c9c4891952b60e197b0769e2f971d596291\n'}]",5,846979,bfc9e600d95d563881a0fc7355f632106d172063,10,2,3,30409,,,0,"Test use non-int value to test create encryption

Use string type value instead of int type to test create encryption

Change-Id: I75065c9c4891952b60e197b0769e2f971d596291
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/846979/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,20b01ab9263da7e371dfe952d3934043dffdc07e,master5," @decorators.idempotent_id('d2ab0d9c-a1d2-451e-8343-d7f3a1b5070f') def test_create_volume_type_encryption_nonexistent_type_id(self): """"""""Test use non-int value to test create encryption"""""" volume_type = self.create_volume_type() type_id = volume_type['id'] create_kwargs = { 'type_id': type_id, 'provider': 'LuksEncryptor', 'key_size': data_utils.random_bytes(), 'cipher': 'aes-xts-plain64', 'control_location': 'front-end' } self.assertRaises( lib_exc.NotFound, self.create_encryption_type, **create_kwargs) @decorators.attr(type=['negative'])",,17,0
openstack%2Freleases~master~I315312045cd8eb3c441027eaca4f1acaa77c02f4,openstack/releases,master,I315312045cd8eb3c441027eaca4f1acaa77c02f4,[zaqar-tempest-plugin] Tag wallaby-last,MERGED,2022-12-26 03:22:39.000000000,2023-01-09 09:15:46.000000000,2023-01-09 09:15:46.000000000,"[{'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-12-26 03:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fcaef39f442031302d7fa08a894997a46946edc1', 'message': ""[zaqar-tempest-plugin] Tag wallaby-last\n\nWallaby branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nAs no new commit in zaqar tempest plugin, tagging 'wallaby-last'\nwith the same hash as used in existing 1.5.0 tag.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I315312045cd8eb3c441027eaca4f1acaa77c02f4\n""}, {'number': 2, 'created': '2023-01-09 01:20:03.000000000', 'files': ['deliverables/wallaby/zaqar-tempest-plugin.yaml', 'deliverables/antelope/zaqar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/96aa0ce024354e2a54b38b0927f849a5b6bef59f', 'message': ""[zaqar-tempest-plugin] Tag wallaby-last\n\nWallaby branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nAs no new commit in zaqar tempest plugin, tagging 'wallaby-last'\nwith the same hash as used in existing 1.5.0 tag.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I315312045cd8eb3c441027eaca4f1acaa77c02f4\n""}]",3,868570,96aa0ce024354e2a54b38b0927f849a5b6bef59f,17,4,2,8556,,,0,"[zaqar-tempest-plugin] Tag wallaby-last

Wallaby branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

As no new commit in zaqar tempest plugin, tagging 'wallaby-last'
with the same hash as used in existing 1.5.0 tag.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I315312045cd8eb3c441027eaca4f1acaa77c02f4
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/868570/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/zaqar-tempest-plugin.yaml'],1,fcaef39f442031302d7fa08a894997a46946edc1,wallaby-last, - version: wallaby-last projects: - repo: openstack/zaqar-tempest-plugin hash: 3813c99e501a1f67a9cbde751cf71747a61f6786,,4,0
openstack%2Freleases~master~I6e9a6042f18712b75359e73fcfa6e687d6cbeee2,openstack/releases,master,I6e9a6042f18712b75359e73fcfa6e687d6cbeee2,Release Magnum stable branches,MERGED,2022-12-07 16:31:06.000000000,2023-01-09 09:15:44.000000000,2023-01-09 09:15:44.000000000,"[{'_account_id': 308}, {'_account_id': 8064}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-12-07 16:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3b4694b9df12d8851f499daa2f352a2667905a43', 'message': 'Release Magnum stable branches\n\nBump magnum stable branch version to introduce bug fixes.\n\nChange-Id: I6e9a6042f18712b75359e73fcfa6e687d6cbeee2\n'}, {'number': 2, 'created': '2022-12-08 12:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/96cb135e87c60a7ffe667166b303b086f8e4608a', 'message': 'Release Magnum stable branches\n\nBump magnum stable branch version to introduce bug fixes.\n\nChange-Id: I6e9a6042f18712b75359e73fcfa6e687d6cbeee2\n'}, {'number': 3, 'created': '2023-01-06 01:36:27.000000000', 'files': ['deliverables/yoga/magnum.yaml', 'deliverables/zed/magnum.yaml', 'deliverables/xena/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/014450c7d4aeddde34a34693fad570babd4a67be', 'message': 'Release Magnum stable branches\n\nBump magnum stable branch version to introduce bug fixes.\n\nChange-Id: I6e9a6042f18712b75359e73fcfa6e687d6cbeee2\n'}]",14,866877,014450c7d4aeddde34a34693fad570babd4a67be,21,7,3,12404,,,0,"Release Magnum stable branches

Bump magnum stable branch version to introduce bug fixes.

Change-Id: I6e9a6042f18712b75359e73fcfa6e687d6cbeee2
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/866877/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/magnum.yaml', 'deliverables/yoga/magnum.yaml', 'deliverables/zed/magnum.yaml', 'deliverables/xena/magnum.yaml']",4,3b4694b9df12d8851f499daa2f352a2667905a43,release-magnum-stable-bug-fix, - version: 13.1.0 projects: - repo: openstack/magnum hash: 5a32e40d0497f68b834e4a5fb6fed3901a85054d,,16,0
openstack%2Freleases~master~I3c64359b3b94072168cf1e0286d65c5e23aa209d,openstack/releases,master,I3c64359b3b94072168cf1e0286d65c5e23aa209d,[kuryr-tempest-plugin] Tag wallaby-last,MERGED,2022-12-26 01:33:16.000000000,2023-01-09 09:01:35.000000000,2023-01-09 09:01:35.000000000,"[{'_account_id': 13692}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-12-26 01:33:16.000000000', 'files': ['deliverables/antelope/kuryr-tempest-plugin.yaml', 'deliverables/wallaby/kuryr-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a9c349d1337cdc2bce90ac12c863f475d4e2fe1b', 'message': ""[kuryr-tempest-plugin] Tag wallaby-last\n\nWallaby branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'wallaby-last' as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I3c64359b3b94072168cf1e0286d65c5e23aa209d\n""}]",1,868547,a9c349d1337cdc2bce90ac12c863f475d4e2fe1b,9,4,1,8556,,,0,"[kuryr-tempest-plugin] Tag wallaby-last

Wallaby branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'wallaby-last' as well as a new version also with same hash.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I3c64359b3b94072168cf1e0286d65c5e23aa209d
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/868547/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/kuryr-tempest-plugin.yaml', 'deliverables/wallaby/kuryr-tempest-plugin.yaml']",2,a9c349d1337cdc2bce90ac12c863f475d4e2fe1b,wallaby-last, - version: wallaby-last projects: - repo: openstack/kuryr-tempest-plugin hash: 34255b30a21971bb4b99a6f39973d0bc24d7e113,,9,0
openstack%2Ftripleo-validations~stable%2Fzed~I144c5791b94b3dad6a3089953a7bd084df08e0f3,openstack/tripleo-validations,stable/zed,I144c5791b94b3dad6a3089953a7bd084df08e0f3,Changes needed for full functionality of the tox 4.0 runtime,ABANDONED,2023-01-05 11:09:17.000000000,2023-01-09 08:32:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-05 11:09:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a7a84907d256b110bc2b48854bb8959c0f2bf8df', 'message': 'Changes needed for full functionality of the tox 4.0 runtime\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3\n(cherry picked from commit 386b82e35010ea988dedc23dd60076babd0dbffd)\n'}]",0,869353,a7a84907d256b110bc2b48854bb8959c0f2bf8df,3,1,1,32926,,,0,"Changes needed for full functionality of the tox 4.0 runtime

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3
(cherry picked from commit 386b82e35010ea988dedc23dd60076babd0dbffd)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/53/869353/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a7a84907d256b110bc2b48854bb8959c0f2bf8df,, -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt,,3,0
openstack%2Ftripleo-validations~stable%2Fwallaby~I144c5791b94b3dad6a3089953a7bd084df08e0f3,openstack/tripleo-validations,stable/wallaby,I144c5791b94b3dad6a3089953a7bd084df08e0f3,Changes needed for full functionality of the tox 4.0 runtime,ABANDONED,2023-01-05 11:42:07.000000000,2023-01-09 08:32:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-05 11:42:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/94113d20539a31e40dc3d2d0881c14d57b963f1e', 'message': 'Changes needed for full functionality of the tox 4.0 runtime\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3\n(cherry picked from commit 386b82e35010ea988dedc23dd60076babd0dbffd)\n(cherry picked from commit a7a84907d256b110bc2b48854bb8959c0f2bf8df)\n'}]",0,869354,94113d20539a31e40dc3d2d0881c14d57b963f1e,3,1,1,32926,,,0,"Changes needed for full functionality of the tox 4.0 runtime

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I144c5791b94b3dad6a3089953a7bd084df08e0f3
(cherry picked from commit 386b82e35010ea988dedc23dd60076babd0dbffd)
(cherry picked from commit a7a84907d256b110bc2b48854bb8959c0f2bf8df)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/54/869354/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,94113d20539a31e40dc3d2d0881c14d57b963f1e,, -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt,,3,0
openstack%2Fcyborg~master~Ib5ba2a1bd601cfdbb66987d8da2953661e476933,openstack/cyborg,master,Ib5ba2a1bd601cfdbb66987d8da2953661e476933,add attributes  get all api ut,MERGED,2023-01-03 03:22:14.000000000,2023-01-09 08:17:13.000000000,2023-01-09 08:16:14.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-03 03:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e9e41392a61a66bf2be8641d50de80e4b228e82d', 'message': 'add attributes  get all api ut\n\nChange-Id: Ib5ba2a1bd601cfdbb66987d8da2953661e476933\n'}, {'number': 2, 'created': '2023-01-06 08:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d9b09d3ace3db50c842bd0fc40d5ea894cd88652', 'message': 'add attributes  get all api ut\n\nChange-Id: Ib5ba2a1bd601cfdbb66987d8da2953661e476933\n'}, {'number': 3, 'created': '2023-01-06 09:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f0445cb662c5312117e8d660c2816784667a4850', 'message': 'add attributes  get all api ut\n\nChange-Id: Ib5ba2a1bd601cfdbb66987d8da2953661e476933\n'}, {'number': 4, 'created': '2023-01-07 01:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0612ef9eaa079a99562df8a077b6d5c1cafed624', 'message': 'add attributes  get all api ut\n\nChange-Id: Ib5ba2a1bd601cfdbb66987d8da2953661e476933\n'}, {'number': 5, 'created': '2023-01-09 06:45:01.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f2e24e36d06fbd533cc4e4da4de6bbe624f3801f', 'message': 'add attributes  get all api ut\n\nChange-Id: Ib5ba2a1bd601cfdbb66987d8da2953661e476933\n'}]",11,868983,f2e24e36d06fbd533cc4e4da4de6bbe624f3801f,16,3,5,32020,,,0,"add attributes  get all api ut

Change-Id: Ib5ba2a1bd601cfdbb66987d8da2953661e476933
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/83/868983/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/api/controllers/v2/test_attributes.py'],1,e9e41392a61a66bf2be8641d50de80e4b228e82d,I8d9dc48b1da01e543e3a7b9db9c6c35bbaa8cf75," @mock.patch('cyborg.objects.Attribute.get_by_filter') def test_get_all(self, mock_attributes): mock_attributes.return_value = self.fake_attribute_objs data = self.get_json(self.ATTRIBUTE_URL, headers=self.headers) out_attributes = data['attributes'] result = isinstance(out_attributes, list) self.assertTrue(result) self.assertTrue(len(out_attributes), len(self.fake_attribute_objs)) for in_attribute, out_attribute in zip(self.fake_attribute_objs, out_attributes): self._validate_dp(in_attribute, out_attribute)",,12,0
openstack%2Fos-net-config~stable%2Fwallaby~I64f3ba6d086bb8814b8ea6e6b3b403c532c42e99,openstack/os-net-config,stable/wallaby,I64f3ba6d086bb8814b8ea6e6b3b403c532c42e99,Updating Zuul CI jobs for os-net-config repo,MERGED,2022-11-30 10:00:02.000000000,2023-01-09 07:34:34.000000000,2023-01-09 07:33:02.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-11-30 10:00:02.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e5b6b30e05eb1c50e3f05efef940b28451380969', 'message': 'Updating Zuul CI jobs for os-net-config repo\n\nUpdated the Zuul CI layout.yaml to replace the gate job\n‘openstack-tox-pep8’ with the check job\n‘tripleo-ci-centos-9-content-provider’ (which has a\ndependency on ‘openstack-tox-pep8’ in the os-net-config repo CI)\n\nChange-Id: I64f3ba6d086bb8814b8ea6e6b3b403c532c42e99\n(cherry picked from commit 4630bd0d598808b249c0f4e1f8ef95038c1c7f4f)\n'}]",2,866122,e5b6b30e05eb1c50e3f05efef940b28451380969,14,3,1,33688,,,0,"Updating Zuul CI jobs for os-net-config repo

Updated the Zuul CI layout.yaml to replace the gate job
‘openstack-tox-pep8’ with the check job
‘tripleo-ci-centos-9-content-provider’ (which has a
dependency on ‘openstack-tox-pep8’ in the os-net-config repo CI)

Change-Id: I64f3ba6d086bb8814b8ea6e6b3b403c532c42e99
(cherry picked from commit 4630bd0d598808b249c0f4e1f8ef95038c1c7f4f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/22/866122/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e5b6b30e05eb1c50e3f05efef940b28451380969,toxq_fix, check: jobs: - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-pep8, gate: jobs: - openstack-tox-pep8,4,2
openstack%2Ftacker~stable%2Fzed~I42f12c6209fdf298488061617e12d8b32ee5f8aa,openstack/tacker,stable/zed,I42f12c6209fdf298488061617e12d8b32ee5f8aa,Fix tox4 error,NEW,2022-12-29 17:33:00.000000000,2023-01-09 07:18:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-29 17:33:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2da7ebdebd4d0d4177dc5ca1ee02e3dfa2d6e3b5', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nOther failure is due to the skipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I42f12c6209fdf298488061617e12d8b32ee5f8aa\n(cherry picked from commit d35484d13d0e7f09b83a858524ce9299548248e7)\n'}]",2,868906,2da7ebdebd4d0d4177dc5ca1ee02e3dfa2d6e3b5,6,1,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Other failure is due to the skipsdist = True.

Fixing tox.ini for tox4 changes.

Change-Id: I42f12c6209fdf298488061617e12d8b32ee5f8aa
(cherry picked from commit d35484d13d0e7f09b83a858524ce9299548248e7)
",git fetch https://review.opendev.org/openstack/tacker refs/changes/06/868906/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2da7ebdebd4d0d4177dc5ca1ee02e3dfa2d6e3b5,tox4,passenv = {[testenv]passenv} *_PROXYallowlist_externals = sphinx-build,skipsdist = Truepassenv = {[testenv]passenv} *_PROXY,5,2
openstack%2Fneutron~master~I3afc539c59f223338920d7fd59f0df76e842ece1,openstack/neutron,master,I3afc539c59f223338920d7fd59f0df76e842ece1,Temporary update envlist for tox4,MERGED,2023-01-06 08:41:53.000000000,2023-01-09 07:13:17.000000000,2023-01-06 17:11:14.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 08:41:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d59bf5ff6c75c9f32129cd4ee49c2acb23e8bb9c', 'message': 'Temporary update envlist for tox4\n\ntox4 even when running specific env with -e option tries\nto find python version for all envs defined in envlist[1]\nwhen running with --skip-missing-interpreters=false and\nfails if interpreter missing for any of the env.\n\nWith py38 in envlist it tries to find python3.8\nwhich is not available in ubuntu-jammy by default\nand fails, hence use generic version instead i.e py3\nto handle it.\n\nOnce [1] is fixed we can update the list as per\ndefault supported py3 version for a release.\n\n[1] https://github.com/tox-dev/tox/issues/2811\n\nChange-Id: I3afc539c59f223338920d7fd59f0df76e842ece1\n'}]",2,869439,d59bf5ff6c75c9f32129cd4ee49c2acb23e8bb9c,12,6,1,13861,,,0,"Temporary update envlist for tox4

tox4 even when running specific env with -e option tries
to find python version for all envs defined in envlist[1]
when running with --skip-missing-interpreters=false and
fails if interpreter missing for any of the env.

With py38 in envlist it tries to find python3.8
which is not available in ubuntu-jammy by default
and fails, hence use generic version instead i.e py3
to handle it.

Once [1] is fixed we can update the list as per
default supported py3 version for a release.

[1] https://github.com/tox-dev/tox/issues/2811

Change-Id: I3afc539c59f223338920d7fd59f0df76e842ece1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/869439/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d59bf5ff6c75c9f32129cd4ee49c2acb23e8bb9c,tox4,"envlist = docs,py3,pep8","envlist = docs,py38,pep8",1,1
openstack%2Fneutron~master~Ib4a7183867e1b21810b6915a475a234278bf884c,openstack/neutron,master,Ib4a7183867e1b21810b6915a475a234278bf884c,Discard port with ofport -1 in _get_ofport_moves,MERGED,2022-10-07 09:14:47.000000000,2023-01-09 06:34:42.000000000,2023-01-09 06:33:29.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 10237}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 27654}]","[{'number': 1, 'created': '2022-10-07 09:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccc13d6d143ad1072b35f381f25b3a15d3862e42', 'message': 'Discard port with ofport -1 in _get_ofport_moves\n\nWhen libvirt (nova) detach a port on OVS bridge, two events are sent:\n* one event with 2 actions ""old"" and ""new"": a change on ofport (from a regular\n  value to -1)\n* a second event with action ""delete""\n\nIf, for some reason, the second event is delayed, the rpc_loop iteration\nwill consider this port as ""updated"" instead of ""deleted"".\nBut, because ofport == -1, the port update will be discarded, and\nfinally removed from port_info[""current""].\n\nAs a result, on next iteration, the deletion wont be performed.\n\nMost of the time, we endup with some leftovers (like openflow rules,\netc.)\n\nThe purpose of this patch is very simple, when looping over ports in\n_get_ofport_moves, we will discards the ports that have ofport == -1, so\nthe port will not be considered as updated and next iteration will be\nable to delete it correctly.\n\nCloses-Bug: #1992109\n\nChange-Id: Ib4a7183867e1b21810b6915a475a234278bf884c\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 2, 'created': '2022-10-18 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0dae74097d385cd755ea9e7f1966ecb8ddd8e84c', 'message': 'Discard port with ofport -1 in _get_ofport_moves\n\nWhen libvirt (nova) detach a port on OVS bridge, two events are sent:\n* one event with 2 actions ""old"" and ""new"": a change on ofport (from a regular\n  value to -1)\n* a second event with action ""delete""\n\nIf, for some reason, the second event is delayed, the rpc_loop iteration\nwill consider this port as ""updated"" instead of ""deleted"".\nBut, because ofport == -1, the port update will be discarded, and\nfinally removed from port_info[""current""].\n\nAs a result, on next iteration, the deletion wont be performed.\n\nMost of the time, we endup with some leftovers (like openflow rules,\netc.)\n\nThe purpose of this patch is very simple, when looping over ports in\n_get_ofport_moves, we will discards the ports that have ofport == -1, so\nthe port will not be considered as updated and next iteration will be\nable to delete it correctly.\n\nCloses-Bug: #1992109\n\nChange-Id: Ib4a7183867e1b21810b6915a475a234278bf884c\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 3, 'created': '2022-12-05 09:34:40.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f22aa5dfddae9bd31fbb4fca8aed176e9913d34a', 'message': 'Discard port with ofport -1 in _get_ofport_moves\n\nWhen libvirt (nova) detach a port on OVS bridge, two events are sent:\n* one event with 2 actions ""old"" and ""new"": a change on ofport (from a\n  regular value to -1)\n* a second event with action ""delete""\n\nIf, for some reason, the second event is delayed, the rpc_loop iteration\nwill consider this port as ""updated"" instead of ""deleted"".\nBut, because ofport == -1, the port update will be discarded, and\nfinally removed from port_info[""current""].\n\nAs a result, on next iteration, the deletion wont be performed.\n\nMost of the time, we endup with some leftovers (like openflow rules,\netc.)\n\nThe purpose of this patch is very simple, when looping over ports in\n_get_ofport_moves, we will discards the ports that have ofport == -1, so\nthe port will not be considered as updated and next iteration will be\nable to delete it correctly.\n\nCloses-Bug: #1992109\n\nChange-Id: Ib4a7183867e1b21810b6915a475a234278bf884c\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",13,860649,f22aa5dfddae9bd31fbb4fca8aed176e9913d34a,31,19,3,11583,,,0,"Discard port with ofport -1 in _get_ofport_moves

When libvirt (nova) detach a port on OVS bridge, two events are sent:
* one event with 2 actions ""old"" and ""new"": a change on ofport (from a
  regular value to -1)
* a second event with action ""delete""

If, for some reason, the second event is delayed, the rpc_loop iteration
will consider this port as ""updated"" instead of ""deleted"".
But, because ofport == -1, the port update will be discarded, and
finally removed from port_info[""current""].

As a result, on next iteration, the deletion wont be performed.

Most of the time, we endup with some leftovers (like openflow rules,
etc.)

The purpose of this patch is very simple, when looping over ports in
_get_ofport_moves, we will discards the ports that have ofport == -1, so
the port will not be considered as updated and next iteration will be
able to delete it correctly.

Closes-Bug: #1992109

Change-Id: Ib4a7183867e1b21810b6915a475a234278bf884c
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/860649/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,ccc13d6d143ad1072b35f381f25b3a15d3862e42,, # Discarding port that disappeared from ovs if current_ofport == -1: continue,,3,0
openstack%2Fnova~master~I55fcf49d6d8d0233923deae0aa3e715e7839b874,openstack/nova,master,I55fcf49d6d8d0233923deae0aa3e715e7839b874,Persist connection_info to bdm table,ABANDONED,2022-11-22 01:19:54.000000000,2023-01-09 03:24:20.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 25089}, {'_account_id': 26286}]","[{'number': 1, 'created': '2022-11-22 01:19:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7561e869d06fb012b51d0c6b5c4ad535cc95890', 'message': ""Persist connection_info to bdm table\n\nThe connection_info['data']['device_path'] field is lost when\ninstance do live migration at pre_live_migration stage, it would\ncause the debug code to raise a KeyError instead of proceeding.\n\nAs a fix, store device_path to bdm table.\n\nCloses-Bug: #1936439\nChange-Id: I55fcf49d6d8d0233923deae0aa3e715e7839b874\n""}]",2,865214,e7561e869d06fb012b51d0c6b5c4ad535cc95890,9,4,1,34310,,,0,"Persist connection_info to bdm table

The connection_info['data']['device_path'] field is lost when
instance do live migration at pre_live_migration stage, it would
cause the debug code to raise a KeyError instead of proceeding.

As a fix, store device_path to bdm table.

Closes-Bug: #1936439
Change-Id: I55fcf49d6d8d0233923deae0aa3e715e7839b874
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/865214/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,e7561e869d06fb012b51d0c6b5c4ad535cc95890,," @mock.patch.object(driver_block_device.DriverVolumeBlockDevice, 'save') volume_save, target_ret=None): volume_save.assert_has_calls([mock.call(), mock.call()]) mock.patch.object(driver_block_device.DriverVolumeBlockDevice, 'save'), mock_plug_vifs, volume_save): volume_save.assert_has_calls([mock.call(), mock.call()])", target_ret=None): mock_plug_vifs):,10,2
openstack%2Fswift~stable%2Fwallaby~I8b4527ffff557ab227910816a729579c06557911,openstack/swift,stable/wallaby,I8b4527ffff557ab227910816a729579c06557911,[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing,MERGED,2023-01-07 02:54:31.000000000,2023-01-09 00:31:01.000000000,2023-01-09 00:29:47.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-07 02:54:31.000000000', 'files': ['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/multinode_setup/pre.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/598f44320d082ce57aafff439ed460f9bae81051', 'message': '[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing\n\ntox4 need changes in tox.ini file to be compatible with it.\nThose are ok to fix in master brnanch but on stable branches\ntesting we do not need to fix them and should keep running the\ntox which was used in when those stable was released.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html\n\nIt is pinned same way in devstack side too\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nThis only pin for jobs running for stable branches <=stable/zed.\n\nConflicts:\n this file is not present in stable/yoga and less\n -    tools/playbooks/s3api-tests/run.yaml\n\nChange-Id: I8b4527ffff557ab227910816a729579c06557911\n(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)\n(cherry picked from commit 8cf39653dc812a13bfcaf788512bb0e2cf5c8c49)\n(cherry picked from commit 8aface90d936e58c7cdc4f896cef62e887706e63)\n'}]",0,869522,598f44320d082ce57aafff439ed460f9bae81051,7,2,1,8556,,,0,"[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing

tox4 need changes in tox.ini file to be compatible with it.
Those are ok to fix in master brnanch but on stable branches
testing we do not need to fix them and should keep running the
tox which was used in when those stable was released.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html

It is pinned same way in devstack side too
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

This only pin for jobs running for stable branches <=stable/zed.

Conflicts:
 this file is not present in stable/yoga and less
 -    tools/playbooks/s3api-tests/run.yaml

Change-Id: I8b4527ffff557ab227910816a729579c06557911
(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)
(cherry picked from commit 8cf39653dc812a13bfcaf788512bb0e2cf5c8c49)
(cherry picked from commit 8aface90d936e58c7cdc4f896cef62e887706e63)
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/869522/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/multinode_setup/pre.yaml']",2,598f44320d082ce57aafff439ed460f9bae81051,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,14,2
openstack%2Fvenus-dashboard~master~Ia80ddc929ae06f4a6294786da78fcb39f08e315b,openstack/venus-dashboard,master,Ia80ddc929ae06f4a6294786da78fcb39f08e315b,Init pep8 zuul task,MERGED,2021-12-17 10:17:25.000000000,2023-01-09 00:27:37.000000000,2023-01-09 00:27:37.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 30562}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-12-17 10:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/229963d6d1a6406c6742d4272b4b1e2bcc483865', 'message': 'Init pep8 zuul task\n\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 2, 'created': '2021-12-20 06:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/4ee46e8e37be60cd972653a11b35217e8064f3f4', 'message': 'Init pep8 zuul task\n\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 3, 'created': '2023-01-06 07:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/1f69ffe872e0c9e0a812fbfb36ce008f383e6cba', 'message': 'Init pep8 zuul task\n\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 4, 'created': '2023-01-06 07:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/306f265b9a0c17d4e039fce6b23384f3a591a3e2', 'message': 'Init pep8 zuul task\n\nCloses-Bug: #2002075\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 5, 'created': '2023-01-06 07:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/28a4c765e622df3770f9bd69cac803f1f1fa797d', 'message': 'Init pep8 zuul task\n\nCloses-Bug: #2002075\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 6, 'created': '2023-01-06 07:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/21305922d620bfbce71aa0fdddd42260eec4081e', 'message': 'Init pep8 zuul task\n\nCloses-Bug: #2002075\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 7, 'created': '2023-01-06 07:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/6984c33ee155048c32c40373aebe83f6694218f0', 'message': 'Init pep8 zuul task\n\nCloses-Bug: #2002075\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 8, 'created': '2023-01-06 08:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/eb5ce676069e885b86ccaa0f22ebd8ac82a565e5', 'message': 'Init pep8 zuul task\n\nCloses-Bug: #2002075\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}, {'number': 9, 'created': '2023-01-06 09:08:37.000000000', 'files': ['venus_dashboard/configuration/tests.py', 'venus_dashboard/log_search/tests.py', '.zuul.yaml', 'venus_dashboard/api/venus_rest_api.py', 'manage.py', 'venus_dashboard/log_search/urls.py', 'requirements.txt', 'venus_dashboard/api/venus.py', 'tools/find_executables.sh', 'venus_dashboard/enabled/_4069_admin_add_configuration_panel.py', 'tox.ini', 'venus_dashboard/configuration/urls.py', 'venus_dashboard/enabled/_4060_admin_add_log_search_panel.py'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/7f3693956f81bf78ece9cb4f5ce2225d0210a02c', 'message': 'Init pep8 zuul task\n\nCloses-Bug: #2002075\nChange-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b\n'}]",4,822093,7f3693956f81bf78ece9cb4f5ce2225d0210a02c,24,4,9,26458,,,0,"Init pep8 zuul task

Closes-Bug: #2002075
Change-Id: Ia80ddc929ae06f4a6294786da78fcb39f08e315b
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/93/822093/2 && git format-patch -1 --stdout FETCH_HEAD,"['venus_dashboard/log_search/tests.py', 'venus_dashboard/log_search/urls.py', 'requirements.txt', '.zuul.yaml', 'venus_dashboard/api/venus.py', 'venus_dashboard/api/venus_rest_api.py', 'venus_dashboard/enabled/_4060_admin_add_log_search_panel.py']",7,229963d6d1a6406c6742d4272b4b1e2bcc483865,,"# Copyright 2012 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Copyright 2012 Nebula, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. AUTO_DISCOVER_STATIC_FILES = True ",AUTO_DISCOVER_STATIC_FILES = True,40,11
openstack%2Fadjutant-ui~master~I7af5ad40d5b725f26f49b5135576614e42f17b51,openstack/adjutant-ui,master,I7af5ad40d5b725f26f49b5135576614e42f17b51,DNM: Check CI and gates,ABANDONED,2023-01-08 21:51:35.000000000,2023-01-08 22:36:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-08 21:51:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/174588e1cfb3237a76a78816c95ed48d095538e3', 'message': 'DNM: Check CI and gates\n\nChange-Id: I7af5ad40d5b725f26f49b5135576614e42f17b51\n'}]",0,869529,174588e1cfb3237a76a78816c95ed48d095538e3,3,1,1,14394,,,0,"DNM: Check CI and gates

Change-Id: I7af5ad40d5b725f26f49b5135576614e42f17b51
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/29/869529/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,174588e1cfb3237a76a78816c95ed48d095538e3,test_ci,"exclude = .venv,.git,.tox,dist,*lib/python*,*egg,build,panel_template,dash_template,local_settings.py,*/local/*,*/test/test_plugins/*,.ropeproject,node_modules,.test","exclude = .venv,.git,.tox,dist,*lib/python*,*egg,build,panel_template,dash_template,local_settings.py,*/local/*,*/test/test_plugins/*,.ropeproject,node_modules",1,1
openstack%2Fadjutant-ui~master~Id227aa3caa5a2ac8b3c0312f3f7ed00d1c1dff21,openstack/adjutant-ui,master,Id227aa3caa5a2ac8b3c0312f3f7ed00d1c1dff21,DNM: dummy change to test gate health,ABANDONED,2022-09-21 16:51:04.000000000,2023-01-08 22:20:24.000000000,,"[{'_account_id': 14394}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 16:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/92662163a3219b188a46f7407410854481cd3ee7', 'message': 'DNM: dummy change to test gate health\n\nChange-Id: Id227aa3caa5a2ac8b3c0312f3f7ed00d1c1dff21\n'}, {'number': 2, 'created': '2022-12-22 21:53:52.000000000', 'files': ['adjutant_ui/__init__.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/8caa08ef2949db15009adc56ce52175998e708ba', 'message': 'DNM: dummy change to test gate health\n\nChange-Id: Id227aa3caa5a2ac8b3c0312f3f7ed00d1c1dff21\n'}]",5,858771,8caa08ef2949db15009adc56ce52175998e708ba,8,2,2,17685,,,0,"DNM: dummy change to test gate health

Change-Id: Id227aa3caa5a2ac8b3c0312f3f7ed00d1c1dff21
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/71/858771/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/__init__.py'],1,92662163a3219b188a46f7407410854481cd3ee7,release-health-check,# dummy change ,,1,0
openstack%2Fadjutant~master~Ic343ad31c73981a9b2e145d1891ef0576fa93086,openstack/adjutant,master,Ic343ad31c73981a9b2e145d1891ef0576fa93086,DNM: Check gates,ABANDONED,2023-01-08 21:52:41.000000000,2023-01-08 22:19:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-08 21:52:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/daae7aa96c0b9e9ee9d17e05903a5fa8c7466f7b', 'message': 'DNM: Check gates\n\nChange-Id: Ic343ad31c73981a9b2e145d1891ef0576fa93086\n'}]",0,869530,daae7aa96c0b9e9ee9d17e05903a5fa8c7466f7b,3,1,1,14394,,,0,"DNM: Check gates

Change-Id: Ic343ad31c73981a9b2e145d1891ef0576fa93086
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/30/869530/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,daae7aa96c0b9e9ee9d17e05903a5fa8c7466f7b,test_gates,,,0,1
openstack%2Fdevstack~master~Iead66b21707fab09e71c1e79ba0e36616c287229,openstack/devstack,master,Iead66b21707fab09e71c1e79ba0e36616c287229,DNM: testing rbac new defaults,ABANDONED,2023-01-03 22:42:37.000000000,2023-01-08 20:29:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-03 22:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4f863c995085f996dea87a49c15ccb9a64d9d76e', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: Iead66b21707fab09e71c1e79ba0e36616c287229\n'}, {'number': 2, 'created': '2023-01-04 01:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c6358d2dbc53a5554cb2be7c39bc441716fade71', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: Iead66b21707fab09e71c1e79ba0e36616c287229\n'}, {'number': 3, 'created': '2023-01-04 04:10:49.000000000', 'files': ['lib/placement', 'lib/neutron', 'lib/nova', 'lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e19eb0df2e051047e10faa83f9263c74e570d769', 'message': 'DNM: testing rbac new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/866218\nChange-Id: Iead66b21707fab09e71c1e79ba0e36616c287229\n'}]",4,869108,e19eb0df2e051047e10faa83f9263c74e570d769,6,1,3,8556,,,0,"DNM: testing rbac new defaults

Depends-On: https://review.opendev.org/c/openstack/nova/+/866218
Change-Id: Iead66b21707fab09e71c1e79ba0e36616c287229
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/869108/3 && git format-patch -1 --stdout FETCH_HEAD,"['lib/placement', 'lib/neutron', 'lib/nova', 'lib/glance']",4,4f863c995085f996dea87a49c15ccb9a64d9d76e,, enforce_nd=$(iniget $GLANCE_API_CONF oslo_policy enforce_new_defaults) enforce_s=$(iniget $GLANCE_API_CONF oslo_policy enforce_scope) echo $enforce_nd echo $enforce_s ,,18,3
openstack%2Fpython-novaclient~master~I442568a5f5900e593feb2b5527109e0aa79e5aa7,openstack/python-novaclient,master,I442568a5f5900e593feb2b5527109e0aa79e5aa7,[stable-only] Pin tox <4,ABANDONED,2023-01-07 20:05:41.000000000,2023-01-08 20:15:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-07 20:05:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ea6d683030b6b4e8b570eb892f202b3cac5b8a14', 'message': '[stable-only] Pin tox <4\n\nWe pinned tox<4 for stable branches in common jobs\nand in devstack playbook but that was not enough for\npython client functional jobs where tox is upgraded to\nlatest by pip.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html\n\nThis commit adds tox<4 pin explicitly in tox.ini\n\nChange-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7\n'}]",1,869524,ea6d683030b6b4e8b570eb892f202b3cac5b8a14,5,1,1,8556,,,0,"[stable-only] Pin tox <4

We pinned tox<4 for stable branches in common jobs
and in devstack playbook but that was not enough for
python client functional jobs where tox is upgraded to
latest by pip.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031678.html

This commit adds tox<4 pin explicitly in tox.ini

Change-Id: I442568a5f5900e593feb2b5527109e0aa79e5aa7
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/24/869524/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ea6d683030b6b4e8b570eb892f202b3cac5b8a14,tox4,requires = tox<4,,1,0
openstack%2Fnova~stable%2Fzed~I300e7804a27d08ecd239d1a7faaf2aaf3e07b9ee,openstack/nova,stable/zed,I300e7804a27d08ecd239d1a7faaf2aaf3e07b9ee,DNM: tetsing tox<4 pin,ABANDONED,2023-01-04 18:15:27.000000000,2023-01-08 19:57:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-04 18:15:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b272653657af4a5496024366de9139296ed9a6dc', 'message': 'DNM: tetsing tox<4 pin\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I300e7804a27d08ecd239d1a7faaf2aaf3e07b9ee\n'}]",3,869250,b272653657af4a5496024366de9139296ed9a6dc,17,1,1,8556,,,0,"DNM: tetsing tox<4 pin

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849
Change-Id: I300e7804a27d08ecd239d1a7faaf2aaf3e07b9ee
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/869250/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b272653657af4a5496024366de9139296ed9a6dc,tox4-pin-testing,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fpython-novaclient~master~I0eda27ed6824af7c863c1c7f4b75b877a7298969,openstack/python-novaclient,master,I0eda27ed6824af7c863c1c7f4b75b877a7298969,DNM: test tox<4 pinning in stable branches,ABANDONED,2023-01-06 23:57:32.000000000,2023-01-08 19:56:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 23:57:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d04e4fada84588aba065833abcfcef8b3808f2d1', 'message': 'DNM: test tox<4 pinning in stable branches\n\nChange-Id: I0eda27ed6824af7c863c1c7f4b75b877a7298969\n'}]",0,869516,d04e4fada84588aba065833abcfcef8b3808f2d1,5,1,1,8556,,,0,"DNM: test tox<4 pinning in stable branches

Change-Id: I0eda27ed6824af7c863c1c7f4b75b877a7298969
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/16/869516/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d04e4fada84588aba065833abcfcef8b3808f2d1,tox4-pin-testing,#test gate for tox<4 pinning,,1,0
openstack%2Fplacement~stable%2Fzed~I8ac0188e805431956f6e4610566dd3548c7e3dc1,openstack/placement,stable/zed,I8ac0188e805431956f6e4610566dd3548c7e3dc1,DNM: test tox<4 pinning in stable branches,ABANDONED,2023-01-07 00:00:05.000000000,2023-01-08 19:56:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-07 00:00:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/e2b8d4dc720bb37d61653198eb1d327c74ebcb47', 'message': 'DNM: test tox<4 pinning in stable branches\n\nChange-Id: I8ac0188e805431956f6e4610566dd3548c7e3dc1\n'}]",0,869518,e2b8d4dc720bb37d61653198eb1d327c74ebcb47,3,1,1,8556,,,0,"DNM: test tox<4 pinning in stable branches

Change-Id: I8ac0188e805431956f6e4610566dd3548c7e3dc1
",git fetch https://review.opendev.org/openstack/placement refs/changes/18/869518/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e2b8d4dc720bb37d61653198eb1d327c74ebcb47,tox4-pin-testing, # Alias 'gate-irrelevant-files' define the set of irrelevant-files, # Alias 'gate-irrelevant-files' define the set of irrelevant-files,1,1
openstack%2Fosc-placement~stable%2Fzed~Iaf749a18f060551833d0673f5f965aea7c607d8d,openstack/osc-placement,stable/zed,Iaf749a18f060551833d0673f5f965aea7c607d8d,DNM: test tox<4 pinning in stable branches,ABANDONED,2023-01-06 23:59:57.000000000,2023-01-08 19:56:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 23:59:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ff91b069c1bda87079d2a23091588cde91c34dce', 'message': 'DNM: test tox<4 pinning in stable branches\n\nChange-Id: Iaf749a18f060551833d0673f5f965aea7c607d8d\n'}]",0,869517,ff91b069c1bda87079d2a23091588cde91c34dce,3,1,1,8556,,,0,"DNM: test tox<4 pinning in stable branches

Change-Id: Iaf749a18f060551833d0673f5f965aea7c607d8d
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/17/869517/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ff91b069c1bda87079d2a23091588cde91c34dce,tox4-pin-testing,# test,,1,0
openstack%2Ftempest~master~Id60022ac1ece3b991907ef2a71293162a353bdd7,openstack/tempest,master,Id60022ac1ece3b991907ef2a71293162a353bdd7,DNM: tetsing tox,ABANDONED,2023-01-05 20:34:43.000000000,2023-01-08 19:56:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-05 20:34:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/945810759a0174824076eb16bc3112deb9afe6e8', 'message': 'DNM: tetsing tox\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: Id60022ac1ece3b991907ef2a71293162a353bdd7\n'}]",3,869404,945810759a0174824076eb16bc3112deb9afe6e8,8,1,1,8556,,,0,"DNM: tetsing tox

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849
Change-Id: Id60022ac1ece3b991907ef2a71293162a353bdd7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/869404/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,945810759a0174824076eb16bc3112deb9afe6e8,tox4-pin-testing,#testign tox,,1,0
openstack%2Fdevstack~stable%2Fyoga~I4407f7036e3fd51ac79f68791151c3f9cd03bd01,openstack/devstack,stable/yoga,I4407f7036e3fd51ac79f68791151c3f9cd03bd01,[stable-only] Pin tox<4 in run-both.yaml playbook also,MERGED,2023-01-06 23:51:18.000000000,2023-01-08 19:39:56.000000000,2023-01-08 19:38:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-01-06 23:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ff4cd115cc437e966db3717e1b94ff536e71b39e', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)\n'}, {'number': 2, 'created': '2023-01-07 05:18:56.000000000', 'files': ['playbooks/tox/run-both.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a50aba2b8c0cf2988162805845b83c9f3b4d7e62', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/869520\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)\n'}]",2,869512,a50aba2b8c0cf2988162805845b83c9f3b4d7e62,15,3,2,8556,,,0,"[stable-only] Pin tox<4 in run-both.yaml playbook also

We pinned tox<4 in ensure-tox pre.yaml playbook
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

but did not realize that it is used in run-both.yaml playbook
also where we should pin too.

Depends-On: https://review.opendev.org/c/openstack/swift/+/869520

Change-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01
(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/12/869512/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tox/run-both.yaml'],1,ff4cd115cc437e966db3717e1b94ff536e71b39e,," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,7,1
openstack%2Fdevstack~stable%2Fzed~I4407f7036e3fd51ac79f68791151c3f9cd03bd01,openstack/devstack,stable/zed,I4407f7036e3fd51ac79f68791151c3f9cd03bd01,[stable-only] Pin tox<4 in run-both.yaml playbook also,MERGED,2023-01-06 18:24:56.000000000,2023-01-08 17:02:59.000000000,2023-01-08 17:02:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-01-06 18:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/80a3e64e38ac78bfa3b37a4e237e6e5ee4414fd5', 'message': 'Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 345c1aa3c2f8ea92f9e9c8a10f6281c4469d28ff)\n'}, {'number': 2, 'created': '2023-01-06 23:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/689b399e3a445c47368b9a17e428ab120f591d7b', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n'}, {'number': 3, 'created': '2023-01-07 02:56:35.000000000', 'files': ['playbooks/tox/run-both.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/44c3ea4f1b3f323b152d0c9102c24f07111bf3ae', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/869519\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n'}]",4,869492,44c3ea4f1b3f323b152d0c9102c24f07111bf3ae,21,2,3,8556,,,0,"[stable-only] Pin tox<4 in run-both.yaml playbook also

We pinned tox<4 in ensure-tox pre.yaml playbook
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

but did not realize that it is used in run-both.yaml playbook
also where we should pin too.

Depends-On: https://review.opendev.org/c/openstack/swift/+/869519

Change-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/869492/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tox/run-both.yaml'],1,80a3e64e38ac78bfa3b37a4e237e6e5ee4414fd5,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,7,1
openstack%2Fdevstack~stable%2Fxena~I4407f7036e3fd51ac79f68791151c3f9cd03bd01,openstack/devstack,stable/xena,I4407f7036e3fd51ac79f68791151c3f9cd03bd01,[stable-only] Pin tox<4 in run-both.yaml playbook also,MERGED,2023-01-06 23:52:04.000000000,2023-01-08 14:59:34.000000000,2023-01-08 14:58:33.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-01-06 23:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f895418f860309d9fc7c7acc8afa578739667520', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)\n(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)\n'}, {'number': 2, 'created': '2023-01-07 05:19:33.000000000', 'files': ['playbooks/tox/run-both.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4356a64a0075eef6281e01467ad28265a790f966', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/869521\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)\n(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)\n'}]",2,869513,4356a64a0075eef6281e01467ad28265a790f966,10,3,2,8556,,,0,"[stable-only] Pin tox<4 in run-both.yaml playbook also

We pinned tox<4 in ensure-tox pre.yaml playbook
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

but did not realize that it is used in run-both.yaml playbook
also where we should pin too.

Depends-On: https://review.opendev.org/c/openstack/swift/+/869521

Change-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01
(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)
(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/869513/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tox/run-both.yaml'],1,f895418f860309d9fc7c7acc8afa578739667520,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,7,1
openstack%2Fswift~stable%2Fxena~I8b4527ffff557ab227910816a729579c06557911,openstack/swift,stable/xena,I8b4527ffff557ab227910816a729579c06557911,[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing,MERGED,2023-01-07 02:53:23.000000000,2023-01-08 03:52:45.000000000,2023-01-08 03:51:28.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-07 02:53:23.000000000', 'files': ['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/multinode_setup/pre.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/8aface90d936e58c7cdc4f896cef62e887706e63', 'message': '[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing\n\ntox4 need changes in tox.ini file to be compatible with it.\nThose are ok to fix in master brnanch but on stable branches\ntesting we do not need to fix them and should keep running the\ntox which was used in when those stable was released.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html\n\nIt is pinned same way in devstack side too\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nThis only pin for jobs running for stable branches <=stable/zed.\n\nConflicts:\n this file is not present in stable/yoga and less\n -    tools/playbooks/s3api-tests/run.yaml\n\nChange-Id: I8b4527ffff557ab227910816a729579c06557911\n(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)\n(cherry picked from commit 8cf39653dc812a13bfcaf788512bb0e2cf5c8c49)\n'}]",0,869521,8aface90d936e58c7cdc4f896cef62e887706e63,8,2,1,8556,,,0,"[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing

tox4 need changes in tox.ini file to be compatible with it.
Those are ok to fix in master brnanch but on stable branches
testing we do not need to fix them and should keep running the
tox which was used in when those stable was released.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html

It is pinned same way in devstack side too
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

This only pin for jobs running for stable branches <=stable/zed.

Conflicts:
 this file is not present in stable/yoga and less
 -    tools/playbooks/s3api-tests/run.yaml

Change-Id: I8b4527ffff557ab227910816a729579c06557911
(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)
(cherry picked from commit 8cf39653dc812a13bfcaf788512bb0e2cf5c8c49)
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/869521/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/multinode_setup/pre.yaml']",2,8aface90d936e58c7cdc4f896cef62e887706e63,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,14,2
openstack%2Fswift~stable%2Fyoga~I8b4527ffff557ab227910816a729579c06557911,openstack/swift,stable/yoga,I8b4527ffff557ab227910816a729579c06557911,[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing,MERGED,2023-01-07 02:48:35.000000000,2023-01-07 23:42:06.000000000,2023-01-07 23:39:42.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-07 02:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/373f8dea55a4f04f0ef725c1b0a25022726f66eb', 'message': '[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing\n\ntox4 need changes in tox.ini file to be compatible with it.\nThose are ok to fix in master brnanch but on stable branches\ntesting we do not need to fix them and should keep running the\ntox which was used in when those stable was released.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html\n\nIt is pinned same way in devstack side too\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nThis only pin for jobs running for stable branches <=stable/zed.\n\nConflicts:\n this file is not present in stable/yoga and less\n -    tools/playbooks/s3api-tests/run.yaml\n\nChange-Id: I8b4527ffff557ab227910816a729579c06557911\n(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)\n'}, {'number': 2, 'created': '2023-01-07 02:49:54.000000000', 'files': ['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/multinode_setup/pre.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/8cf39653dc812a13bfcaf788512bb0e2cf5c8c49', 'message': '[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing\n\ntox4 need changes in tox.ini file to be compatible with it.\nThose are ok to fix in master brnanch but on stable branches\ntesting we do not need to fix them and should keep running the\ntox which was used in when those stable was released.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html\n\nIt is pinned same way in devstack side too\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nThis only pin for jobs running for stable branches <=stable/zed.\n\nConflicts:\n this file is not present in stable/yoga and less\n -    tools/playbooks/s3api-tests/run.yaml\n\nChange-Id: I8b4527ffff557ab227910816a729579c06557911\n(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)\n'}]",1,869520,8cf39653dc812a13bfcaf788512bb0e2cf5c8c49,14,2,2,8556,,,0,"[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing

tox4 need changes in tox.ini file to be compatible with it.
Those are ok to fix in master brnanch but on stable branches
testing we do not need to fix them and should keep running the
tox which was used in when those stable was released.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html

It is pinned same way in devstack side too
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

This only pin for jobs running for stable branches <=stable/zed.

Conflicts:
 this file is not present in stable/yoga and less
 -    tools/playbooks/s3api-tests/run.yaml

Change-Id: I8b4527ffff557ab227910816a729579c06557911
(cherry picked from commit a2d363de61718d4b5a15e2c553946b71cd2464ed)
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/869520/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/s3api-tests/run.yaml', 'tools/playbooks/multinode_setup/pre.yaml']",3,373f8dea55a4f04f0ef725c1b0a25022726f66eb,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,43,2
openstack%2Fdevstack~stable%2Fwallaby~I4407f7036e3fd51ac79f68791151c3f9cd03bd01,openstack/devstack,stable/wallaby,I4407f7036e3fd51ac79f68791151c3f9cd03bd01,[stable-only] Pin tox<4 in run-both.yaml playbook also,MERGED,2023-01-06 23:53:06.000000000,2023-01-07 23:40:43.000000000,2023-01-07 23:39:36.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-01-06 23:53:06.000000000', 'files': ['playbooks/tox/run-both.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7fce80880f6f26f16cba1a38365dcc884671d3c4', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)\n(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)\n(cherry picked from commit f895418f860309d9fc7c7acc8afa578739667520)\n'}]",1,869514,7fce80880f6f26f16cba1a38365dcc884671d3c4,7,2,1,8556,,,0,"[stable-only] Pin tox<4 in run-both.yaml playbook also

We pinned tox<4 in ensure-tox pre.yaml playbook
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

but did not realize that it is used in run-both.yaml playbook
also where we should pin too.

Change-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01
(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)
(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)
(cherry picked from commit f895418f860309d9fc7c7acc8afa578739667520)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/869514/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tox/run-both.yaml'],1,7fce80880f6f26f16cba1a38365dcc884671d3c4,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,7,1
openstack%2Fswift~stable%2Fstein~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/stein,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-21 05:43:20.000000000,2023-01-07 23:40:39.000000000,2023-01-07 23:39:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 05:43:20.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d157b404a81e6cc1f636e794eb14030fdbff687c', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}]",3,838821,d157b404a81e6cc1f636e794eb14030fdbff687c,13,2,1,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/838821/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,d157b404a81e6cc1f636e794eb14030fdbff687c,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,14,3
openstack%2Fdevstack~stable%2Fvictoria~I4407f7036e3fd51ac79f68791151c3f9cd03bd01,openstack/devstack,stable/victoria,I4407f7036e3fd51ac79f68791151c3f9cd03bd01,[stable-only] Pin tox<4 in run-both.yaml playbook also,MERGED,2023-01-06 23:54:01.000000000,2023-01-07 23:40:35.000000000,2023-01-07 23:39:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-01-06 23:54:01.000000000', 'files': ['playbooks/tox/run-both.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3eb6e2d737e6acbbcfda381656c5fa464851b925', 'message': '[stable-only] Pin tox<4 in run-both.yaml playbook also\n\nWe pinned tox<4 in ensure-tox pre.yaml playbook\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nbut did not realize that it is used in run-both.yaml playbook\nalso where we should pin too.\n\nChange-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01\n(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)\n(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)\n(cherry picked from commit f895418f860309d9fc7c7acc8afa578739667520)\n(cherry picked from commit 7fce80880f6f26f16cba1a38365dcc884671d3c4)\n'}]",1,869515,3eb6e2d737e6acbbcfda381656c5fa464851b925,7,2,1,8556,,,0,"[stable-only] Pin tox<4 in run-both.yaml playbook also

We pinned tox<4 in ensure-tox pre.yaml playbook
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

but did not realize that it is used in run-both.yaml playbook
also where we should pin too.

Change-Id: I4407f7036e3fd51ac79f68791151c3f9cd03bd01
(cherry picked from commit 689b399e3a445c47368b9a17e428ab120f591d7b)
(cherry picked from commit ff4cd115cc437e966db3717e1b94ff536e71b39e)
(cherry picked from commit f895418f860309d9fc7c7acc8afa578739667520)
(cherry picked from commit 7fce80880f6f26f16cba1a38365dcc884671d3c4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/869515/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tox/run-both.yaml'],1,3eb6e2d737e6acbbcfda381656c5fa464851b925,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,7,1
openstack%2Fswift~stable%2Ftrain~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/train,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2023-01-05 21:05:17.000000000,2023-01-07 21:54:43.000000000,2023-01-07 21:53:41.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-05 21:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e50d842113e5109d8ebaea1541153653646ac18', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}, {'number': 2, 'created': '2023-01-06 18:15:40.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a86270bed72cdbdf2f42eec562d9fae2d273fa64', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",0,869408,a86270bed72cdbdf2f42eec562d9fae2d273fa64,9,2,2,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/869408/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,9e50d842113e5109d8ebaea1541153653646ac18,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fpython-novaclient~stable%2Fzed~I0eda27ed6824af7c863c1c7f4b75b877a7298969,openstack/python-novaclient,stable/zed,I0eda27ed6824af7c863c1c7f4b75b877a7298969,DNM: test tox<4 pinning in stable branches,ABANDONED,2023-01-07 02:26:27.000000000,2023-01-07 20:05:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-07 02:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b1819e7302baa8af06e14d60477376b4b8e9a22d', 'message': 'DNM: test tox<4 pinning in stable branches\n\nChange-Id: I0eda27ed6824af7c863c1c7f4b75b877a7298969\n'}, {'number': 2, 'created': '2023-01-07 04:07:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4e53ea92dd6eb3d094347e0ef15b2da01fbc8d62', 'message': 'DNM: test tox<4 pinning in stable branches\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/869492\n\nChange-Id: I0eda27ed6824af7c863c1c7f4b75b877a7298969\n'}]",0,869452,4e53ea92dd6eb3d094347e0ef15b2da01fbc8d62,9,1,2,8556,,,0,"DNM: test tox<4 pinning in stable branches

Depends-On: https://review.opendev.org/c/openstack/devstack/+/869492

Change-Id: I0eda27ed6824af7c863c1c7f4b75b877a7298969
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/52/869452/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b1819e7302baa8af06e14d60477376b4b8e9a22d,tox4-pin-testing,#test gate for tox<4 pinning,,1,0
openstack%2Fcharm-rabbitmq-server~master~I12be41a83323d150ba1cbaeef64041f0bb5e32ce,openstack/charm-rabbitmq-server,master,I12be41a83323d150ba1cbaeef64041f0bb5e32ce,Fix issue where charms aren't clustered but RMQ is,MERGED,2022-12-24 09:00:02.000000000,2023-01-07 19:49:44.000000000,2023-01-07 19:49:44.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-24 09:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/064df8f43389087ad84c9270e350c69198762843', 'message': ""Fix issue where charms aren't clustered but RMQ is\n\nDue to the @cache decorator in the code, it was possible to get the\ncharm into a state where RMQ is clustered, but the charm doesn't record\nit.  The charm 'thinks' it is clustered when it has set the 'clustered'\nkey on the 'cluster' relation.  Unfortunately, due to the @cached\ndecorator it's possible in the 'cluster-relation-changed' hook to have a\nsituation where the RMQ instance clusters during the hook execution and\nthen, later, when it's supposed to writing the 'clustered' key, it reads\nthe previous cached value where it wasn't clustered and therefore\ndoesn't set the 'clustered' key.  This is just about the only\nopportunity to do it, and so the charm ends up being locked.\n\nThe fix was to clear the @cache values so that the nodes would be\nre-read, and this allows the charm to then write the 'clustered' key.\n\nChange-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce\nCloses-Bug: #1975605\n""}, {'number': 2, 'created': '2023-01-04 12:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/21c713fa18cc8798123a064e7f3b85ec8edcd290', 'message': ""Fix issue where charms aren't clustered but RMQ is\n\nDue to the @cache decorator in the code, it was possible to get the\ncharm into a state where RMQ is clustered, but the charm doesn't record\nit.  The charm 'thinks' it is clustered when it has set the 'clustered'\nkey on the 'cluster' relation.  Unfortunately, due to the @cached\ndecorator it's possible in the 'cluster-relation-changed' hook to have a\nsituation where the RMQ instance clusters during the hook execution and\nthen, later, when it's supposed to writing the 'clustered' key, it reads\nthe previous cached value where it wasn't clustered and therefore\ndoesn't set the 'clustered' key.  This is just about the only\nopportunity to do it, and so the charm ends up being locked.\n\nThe fix was to clear the @cache values so that the nodes would be\nre-read, and this allows the charm to then write the 'clustered' key.\n\nChange-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce\nCloses-Bug: #1975605\n""}, {'number': 3, 'created': '2023-01-04 12:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/08181182c01252b09553aff2288e1f638df95ced', 'message': ""Fix issue where charms aren't clustered but RMQ is\n\nDue to the @cache decorator in the code, it was possible to get the\ncharm into a state where RMQ is clustered, but the charm doesn't record\nit.  The charm 'thinks' it is clustered when it has set the 'clustered'\nkey on the 'cluster' relation.  Unfortunately, due to the @cached\ndecorator it's possible in the 'cluster-relation-changed' hook to have a\nsituation where the RMQ instance clusters during the hook execution and\nthen, later, when it's supposed to writing the 'clustered' key, it reads\nthe previous cached value where it wasn't clustered and therefore\ndoesn't set the 'clustered' key.  This is just about the only\nopportunity to do it, and so the charm ends up being locked.\n\nThe fix was to clear the @cache values so that the nodes would be\nre-read, and this allows the charm to then write the 'clustered' key.\n\nChange-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce\nCloses-Bug: #1975605\n""}, {'number': 4, 'created': '2023-01-05 15:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ad08795fd373e929f7c1014880d02a0f161a09b0', 'message': ""Fix issue where charms aren't clustered but RMQ is\n\nDue to the @cache decorator in the code, it was possible to get the\ncharm into a state where RMQ is clustered, but the charm doesn't record\nit.  The charm 'thinks' it is clustered when it has set the 'clustered'\nkey on the 'cluster' relation.  Unfortunately, due to the @cached\ndecorator it's possible in the 'cluster-relation-changed' hook to have a\nsituation where the RMQ instance clusters during the hook execution and\nthen, later, when it's supposed to writing the 'clustered' key, it reads\nthe previous cached value where it wasn't clustered and therefore\ndoesn't set the 'clustered' key.  This is just about the only\nopportunity to do it, and so the charm ends up being locked.\n\nThe fix was to clear the @cache values so that the nodes would be\nre-read, and this allows the charm to then write the 'clustered' key.\n\nChange-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce\nCloses-Bug: #1975605\n""}, {'number': 5, 'created': '2023-01-05 18:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/d36e81faaedcfafec6cdf195ac0299f2fc77db79', 'message': ""Fix issue where charms aren't clustered but RMQ is\n\nDue to the @cache decorator in the code, it was possible to get the\ncharm into a state where RMQ is clustered, but the charm doesn't record\nit.  The charm 'thinks' it is clustered when it has set the 'clustered'\nkey on the 'cluster' relation.  Unfortunately, due to the @cached\ndecorator it's possible in the 'cluster-relation-changed' hook to have a\nsituation where the RMQ instance clusters during the hook execution and\nthen, later, when it's supposed to writing the 'clustered' key, it reads\nthe previous cached value where it wasn't clustered and therefore\ndoesn't set the 'clustered' key.  This is just about the only\nopportunity to do it, and so the charm ends up being locked.\n\nThe fix was to clear the @cache values so that the nodes would be\nre-read, and this allows the charm to then write the 'clustered' key.\n\nChange-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce\nCloses-Bug: #1975605\n""}, {'number': 6, 'created': '2023-01-06 20:40:32.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/81f08ab7695ab507ade076c33d0cc168a03be221', 'message': ""Fix issue where charms aren't clustered but RMQ is\n\nDue to the @cache decorator in the code, it was possible to get the\ncharm into a state where RMQ is clustered, but the charm doesn't record\nit.  The charm 'thinks' it is clustered when it has set the 'clustered'\nkey on the 'cluster' relation.  Unfortunately, due to the @cached\ndecorator it's possible in the 'cluster-relation-changed' hook to have a\nsituation where the RMQ instance clusters during the hook execution and\nthen, later, when it's supposed to writing the 'clustered' key, it reads\nthe previous cached value where it wasn't clustered and therefore\ndoesn't set the 'clustered' key.  This is just about the only\nopportunity to do it, and so the charm ends up being locked.\n\nThe fix was to clear the @cache values so that the nodes would be\nre-read, and this allows the charm to then write the 'clustered' key.\n\nChange-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce\nCloses-Bug: #1975605\n""}]",12,868514,81f08ab7695ab507ade076c33d0cc168a03be221,29,4,6,20870,,,0,"Fix issue where charms aren't clustered but RMQ is

Due to the @cache decorator in the code, it was possible to get the
charm into a state where RMQ is clustered, but the charm doesn't record
it.  The charm 'thinks' it is clustered when it has set the 'clustered'
key on the 'cluster' relation.  Unfortunately, due to the @cached
decorator it's possible in the 'cluster-relation-changed' hook to have a
situation where the RMQ instance clusters during the hook execution and
then, later, when it's supposed to writing the 'clustered' key, it reads
the previous cached value where it wasn't clustered and therefore
doesn't set the 'clustered' key.  This is just about the only
opportunity to do it, and so the charm ends up being locked.

The fix was to clear the @cache values so that the nodes would be
re-read, and this allows the charm to then write the 'clustered' key.

Change-Id: I12be41a83323d150ba1cbaeef64041f0bb5e32ce
Closes-Bug: #1975605
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/14/868514/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbit_utils.py', 'hooks/rabbitmq_server_relations.py', 'tox.ini', 'hooks/rabbit_utils.py']",4,064df8f43389087ad84c9270e350c69198762843,bug/1975605," flush, log(""Setting 'clustered' on 'cluster' relation"", level=DEBUG) else: log(""Already set 'clustered' on cluster relation"", level=DEBUG) else: log('Host not clustered with leader', level=DEBUG) if node is None: log(""Couldn't identify leader"", ""INFO"") status_set('blocked', ""Haven't identified leader yet."") return clear_nodes_cache() _nodes = nodes(get_running=True) log(""running_nodes: {}"".format(_nodes), DEBUG) return _nodes log(""leader_node: None"", DEBUG) log(""leader_node: rabbit@{}"".format(leader_node_hostname), DEBUG) log(""leader_node: None"", DEBUG)def clear_nodes_cache(): """"""Clear the running_nodes() and nodes() and leader_node() cache"""""" log(""Clearing the cache for nodes."", DEBUG) flush('leader_node') flush('running_nodes') flush('nodes') flush('clustered') # See if all the rabbitmq charms think they are clustered (e.g. that the # 'clustered' attribute is set on the 'cluster' relationship if not cluster_ready(): return 'waiting', 'RabbitMQ is clustered, but not all charms are ready' min_size = int(config('min-cluster-size') or 0) log(""In cluster_ready: not sufficient peers"", level=DEBUG) log(""I don't seem to be clustered, but I ought to be at this "" ""point"", DEBUG)", return nodes(get_running=True) min_size = config('min-cluster-size'),59,6
openstack%2Fmistral~master~I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59,openstack/mistral,master,I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59,Update get execution's tasks functionality,MERGED,2022-11-29 12:48:27.000000000,2023-01-07 17:50:39.000000000,2023-01-07 17:49:43.000000000,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2022-11-29 12:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2ae3ce8efc542119e9b47b787e9c9e8f74fba3b0', 'message': 'Added validation to check if execution-id exists while fetching tasks for execution.\n\nChange-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59\n'}, {'number': 2, 'created': '2022-11-29 13:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/93a5abca459390587f3614e19687392792a17f14', 'message': ""Update get execution's tasks API\n\nthis patch will validate execution-id exists in the DB while fetching tasks for the execution-id.\n\nChange-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59\n""}, {'number': 3, 'created': '2022-11-30 06:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f509ed6115c4ecbf56a807a652072949807c9b48', 'message': ""Update get execution's tasks functionality\n\nthis patch will validate execution-id exists in the DB while fetching tasks for the execution-id.\n\nChange-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59\n""}, {'number': 4, 'created': '2022-11-30 09:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/33bc3beeb3de7c4dfbe40a513ba098b0103a8a35', 'message': ""Update get execution's tasks functionality\n\nAfter this patch, it will validate execution-id exists in the DB while fetching tasks for the execution-id So, GET /v2/executions/execution_id/tasks API will return 404 for absent execution id.\n\nCloses-Bug: #1998210\nChange-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59\n""}, {'number': 5, 'created': '2022-11-30 10:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1f2e0690326eecf2d336083eb5f0c1d3f46fef7a', 'message': 'Added validation to check if execution-id exists while fetching tasks for execution.\n\nChange-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59\n'}, {'number': 6, 'created': '2022-12-01 07:39:48.000000000', 'files': ['mistral/api/controllers/v2/task.py', 'mistral/tests/unit/api/v2/test_executions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/87c08ff42172c9fe7735777c98d07ec32c4cd179', 'message': ""Update get execution's tasks functionality\n\nAfter this patch, it will validate execution-id exists in the DB while fetching tasks for the execution-id So, GET /v2/executions/execution_id/tasks API will return 404 for absent execution id.\n\nCloses-Bug: #1998210\nChange-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59\n""}]",9,865985,87c08ff42172c9fe7735777c98d07ec32c4cd179,24,7,6,35584,,,0,"Update get execution's tasks functionality

After this patch, it will validate execution-id exists in the DB while fetching tasks for the execution-id So, GET /v2/executions/execution_id/tasks API will return 404 for absent execution id.

Closes-Bug: #1998210
Change-Id: I6ac05f4b87c470a68cd67f19d1bd95a4d6cebe59
",git fetch https://review.opendev.org/openstack/mistral refs/changes/85/865985/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/api/controllers/v2/task.py'],1,2ae3ce8efc542119e9b47b787e9c9e8f74fba3b0,bug/1998210,"from mistral.db.v2.sqlalchemy import models as db_models with db_api.transaction(): db_api.get_workflow_execution( workflow_execution_id, fields=(db_models.WorkflowExecution.id,) ) ",,7,0
openstack%2Fironic~master~I4a400fd434a20938cd38c0bb876da21fec7473a1,openstack/ironic,master,I4a400fd434a20938cd38c0bb876da21fec7473a1,Fix unbound variable in devstack plugin,MERGED,2023-01-02 09:12:17.000000000,2023-01-07 16:32:11.000000000,2023-01-07 16:30:49.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-02 09:12:17.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7150478cd84f77aff294fc8be71f58123c8e14df', 'message': 'Fix unbound variable in devstack plugin\n\nThe RC_DIR does not existed (and it never existed, it was SRC_DIR)\nChange that to TOP_DIR which is what we use commonly in other\nsections.\n\nChange-Id: I4a400fd434a20938cd38c0bb876da21fec7473a1\n'}]",0,868990,7150478cd84f77aff294fc8be71f58123c8e14df,10,3,1,23851,,,0,"Fix unbound variable in devstack plugin

The RC_DIR does not existed (and it never existed, it was SRC_DIR)
Change that to TOP_DIR which is what we use commonly in other
sections.

Change-Id: I4a400fd434a20938cd38c0bb876da21fec7473a1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/868990/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,7150478cd84f77aff294fc8be71f58123c8e14df,fix-devstack-plugin, source $TOP_DIR/lib/nova_plugins/functions-libvirt, source $RC_DIR/lib/nova_plugins/functions-libvirt,1,1
openstack%2Fironic~master~I9d144f122c20f717ff946282ef7ffa16d82812f5,openstack/ironic,master,I9d144f122c20f717ff946282ef7ffa16d82812f5,Use tinycore 13 for base ramdisk image,MERGED,2022-12-19 15:32:33.000000000,2023-01-07 15:56:10.000000000,2023-01-07 15:54:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 15:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51ca7b863c08a48285056b44bdfe21343cfd9709', 'message': ""Use tinycore 13 for base ramdisk image\n\nWe're builing tinyipa using tinycore 13.x since a while, we should use\nthe same version for the base ramdisk image.\n\nChange-Id: I9d144f122c20f717ff946282ef7ffa16d82812f5\n""}, {'number': 2, 'created': '2022-12-21 14:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/94fb4b56cefdaed2dfd8b0f22048e59d0f1540a5', 'message': ""Use tinycore 13 for base ramdisk image\n\nWe're builing tinyipa using tinycore 13.x since a while, we should use\nthe same version for the base ramdisk image.\n\nChange-Id: I9d144f122c20f717ff946282ef7ffa16d82812f5\n""}, {'number': 3, 'created': '2023-01-02 08:44:33.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/93158aadd093a9582a17142e0ad9836c22b2eba1', 'message': ""Use tinycore 13 for base ramdisk image\n\nWe're builing tinyipa using tinycore 13.x since a while, we should use\nthe same version for the base ramdisk image.\n\nChange-Id: I9d144f122c20f717ff946282ef7ffa16d82812f5\n""}]",7,868093,93158aadd093a9582a17142e0ad9836c22b2eba1,35,4,3,23851,,,0,"Use tinycore 13 for base ramdisk image

We're builing tinyipa using tinycore 13.x since a while, we should use
the same version for the base ramdisk image.

Change-Id: I9d144f122c20f717ff946282ef7ffa16d82812f5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/868093/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,51ca7b863c08a48285056b44bdfe21343cfd9709,update-tinycore,IRONIC_RAMDISK_IMAGE=${IRONIC_RAMDISK_IMAGE:-http://tinycorelinux.net/13.x/x86/archive/13.0/Core-13.0.iso},IRONIC_RAMDISK_IMAGE=${IRONIC_RAMDISK_IMAGE:-http://tinycorelinux.net/10.x/x86/archive/10.0/Core-10.0.iso},1,1
openstack%2Fironic-python-agent~bugfix%2F9.2~Iba3184d814f5d89026346749e1e9ad21b590c3c1,openstack/ironic-python-agent,bugfix/9.2,Iba3184d814f5d89026346749e1e9ad21b590c3c1,Update .gitreview for bugfix/9.2,NEW,2022-12-15 15:27:04.000000000,2023-01-07 10:45:55.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:27:04.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/745e194f93ddeb8f8c5855b2faa7bcbfcf31cd41', 'message': 'Update .gitreview for bugfix/9.2\n\nChange-Id: Iba3184d814f5d89026346749e1e9ad21b590c3c1\n'}]",0,867816,745e194f93ddeb8f8c5855b2faa7bcbfcf31cd41,6,2,1,22816,,,0,"Update .gitreview for bugfix/9.2

Change-Id: Iba3184d814f5d89026346749e1e9ad21b590c3c1
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/16/867816/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,745e194f93ddeb8f8c5855b2faa7bcbfcf31cd41,create-9.2,defaultbranch=bugfix/9.2,,1,0
openstack%2Fswift~stable%2Fussuri~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/ussuri,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:18:07.000000000,2023-01-07 07:53:17.000000000,2023-01-07 07:52:16.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b49fd32b649a938b11080d5644c6c3090bc7a614', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}, {'number': 2, 'created': '2023-01-06 20:13:00.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/28d6cf1ba8808b34e8b80728238a61f0b7000054', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",2,868145,28d6cf1ba8808b34e8b80728238a61f0b7000054,15,2,2,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/868145/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,b49fd32b649a938b11080d5644c6c3090bc7a614,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~stable%2Fzed~I8b4527ffff557ab227910816a729579c06557911,openstack/swift,stable/zed,I8b4527ffff557ab227910816a729579c06557911,[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing,MERGED,2023-01-07 02:40:53.000000000,2023-01-07 07:12:54.000000000,2023-01-07 07:11:46.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-07 02:40:53.000000000', 'files': ['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/s3api-tests/run.yaml', 'tools/playbooks/multinode_setup/pre.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/a2d363de61718d4b5a15e2c553946b71cd2464ed', 'message': '[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing\n\ntox4 need changes in tox.ini file to be compatible with it.\nThose are ok to fix in master brnanch but on stable branches\ntesting we do not need to fix them and should keep running the\ntox which was used in when those stable was released.\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html\n\nIt is pinned same way in devstack side too\n- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b\n\nThis only pin for jobs running for stable branches <=stable/zed.\n\nChange-Id: I8b4527ffff557ab227910816a729579c06557911\n'}]",2,869519,a2d363de61718d4b5a15e2c553946b71cd2464ed,10,2,1,8556,,,0,"[stable-only] Pin tox<4 for stable branches (<=stable/zed) testing

tox4 need changes in tox.ini file to be compatible with it.
Those are ok to fix in master brnanch but on stable branches
testing we do not need to fix them and should keep running the
tox which was used in when those stable was released.

- https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031668.html

It is pinned same way in devstack side too
- https://review.opendev.org/q/I9a138af94dedc0d8ce5a0d519d75779415d3c30b

This only pin for jobs running for stable branches <=stable/zed.

Change-Id: I8b4527ffff557ab227910816a729579c06557911
",git fetch https://review.opendev.org/openstack/swift refs/changes/19/869519/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/dsvm/pre.yaml', 'tools/playbooks/s3api-tests/run.yaml', 'tools/playbooks/multinode_setup/pre.yaml']",3,a2d363de61718d4b5a15e2c553946b71cd2464ed,tox4," # NOTE(gmann): Pinning tox<4.0.0 for stable/zed and lower. Tox 4.0.0 # released after zed was released and has some incompatible changes # and it is ok not to fix the issues caused by tox 4.0.0 in stable # beanches jobs. We can continue testing the stable/zed and lower # branches with tox<4.0.0 - role: ensure-tox ensure_tox_version: ""<4""", - ensure-tox,21,3
openstack%2Frequirements~master~I8dab1534dfeeb8d2accc3369a20540b6771b058a,openstack/requirements,master,I8dab1534dfeeb8d2accc3369a20540b6771b058a,update constraint for keystonemiddleware to new release 10.2.0,MERGED,2023-01-06 16:24:57.000000000,2023-01-07 03:04:49.000000000,2023-01-07 03:03:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-01-06 16:24:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e9a56ee55e929e7c562d2c28555625c9f1c99d04', 'message': 'update constraint for keystonemiddleware to new release 10.2.0\n\nmeta: version: 10.2.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I677106b5215275925b135e9093fed5f83a1413b3\nmeta: release:Code-Review+1: Grzegorz Grasza <xek@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: David Wilde <dwilde@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I8dab1534dfeeb8d2accc3369a20540b6771b058a\n'}]",0,869484,e9a56ee55e929e7c562d2c28555625c9f1c99d04,9,3,1,11131,,,0,"update constraint for keystonemiddleware to new release 10.2.0

meta: version: 10.2.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I677106b5215275925b135e9093fed5f83a1413b3
meta: release:Code-Review+1: Grzegorz Grasza <xek@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: David Wilde <dwilde@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8dab1534dfeeb8d2accc3369a20540b6771b058a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/869484/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e9a56ee55e929e7c562d2c28555625c9f1c99d04,new-release,keystonemiddleware===10.2.0,keystonemiddleware===10.1.0,1,1
openstack%2Fswift~stable%2Fvictoria~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/victoria,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:16:24.000000000,2023-01-07 02:36:35.000000000,2023-01-07 02:34:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:16:24.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4bd18dc20db079dd9312e6c3b7da68aa6b7cc2c7', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",7,868143,4bd18dc20db079dd9312e6c3b7da68aa6b7cc2c7,27,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/868143/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,4bd18dc20db079dd9312e6c3b7da68aa6b7cc2c7,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~stable%2Fstein~Iba833ba18d6b80ce9f061bce59644711525b6603,openstack/swift,stable/stein,Iba833ba18d6b80ce9f061bce59644711525b6603,Fix probe tests on stein,MERGED,2023-01-06 18:55:52.000000000,2023-01-07 00:49:34.000000000,2023-01-07 00:48:32.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 18:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8f7a16f616cdd6357c9c701d73fa6e6f55eb42fa', 'message': ""Install pip from PyPI\n\nThis is a combination of 3 commits:\n\n==========\n\nUse ensure-pip role\n\nHopefully this will fix the currently-broken probe test gate?\n\nDepends-On: https://review.opendev.org/#/c/736070/\n(cherry picked from commit 51a587ed8dd5700b558ad26d70dcb7facc0f91e4)\n\n==========\n\nUse latest pip in gate jobs\n\nWe've seen failures with probe tests lately where dnspython 2.0.0 is\ngetting installed even though it doesn't support py2 anymore. I think\nusing latest pip should be better about noticing that and installing the\nlast 1.x release intead?\n\n(cherry picked from commit 1c91547643f9c85f152d1d8c15431fec8334e214)\n\n==========\n\nPrevent upgrading to pip 21+\n\n(cherry picked from commit 0b870eb94dfe9769a07695b296eaa6758820a5f3)\n\nChange-Id: Iba833ba18d6b80ce9f061bce59644711525b6603\n""}, {'number': 2, 'created': '2023-01-06 22:29:03.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', 'tools/playbooks/saio_single_node_setup/make_rings.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/eb2e840edd65a8a79d85bc7ca8527b4bb7ba24e6', 'message': ""Fix probe tests on stein\n\nMostly, this involves installing pip from PyPI, and making sure we use\npip (not setup.py) to install swift. Plus solve a small issue with\ncrudini, iniparse, and system packages.\n\nThis is a combination of 3 commits, plus bits and pieces of two others:\n\n==========\n\nUse ensure-pip role\n\nHopefully this will fix the currently-broken probe test gate?\n\nDepends-On: https://review.opendev.org/#/c/736070/\n(cherry picked from commit 51a587ed8dd5700b558ad26d70dcb7facc0f91e4)\n\n==========\n\nUse latest pip in gate jobs\n\nWe've seen failures with probe tests lately where dnspython 2.0.0 is\ngetting installed even though it doesn't support py2 anymore. I think\nusing latest pip should be better about noticing that and installing the\nlast 1.x release intead?\n\n(cherry picked from commit 1c91547643f9c85f152d1d8c15431fec8334e214)\n\n==========\n\nPrevent upgrading to pip 21+\n\n(cherry picked from commit 0b870eb94dfe9769a07695b296eaa6758820a5f3)\n\n==========\n\nRelated-Change: Iae86d8838854023010686d3d4bed3befe6160ca5\nRelated-Change: I4be1e86e3291ad1619c695fb93d7cadf053b556d\nChange-Id: Iba833ba18d6b80ce9f061bce59644711525b6603\n""}]",1,869502,eb2e840edd65a8a79d85bc7ca8527b4bb7ba24e6,11,2,2,15343,,,0,"Fix probe tests on stein

Mostly, this involves installing pip from PyPI, and making sure we use
pip (not setup.py) to install swift. Plus solve a small issue with
crudini, iniparse, and system packages.

This is a combination of 3 commits, plus bits and pieces of two others:

==========

Use ensure-pip role

Hopefully this will fix the currently-broken probe test gate?

Depends-On: https://review.opendev.org/#/c/736070/
(cherry picked from commit 51a587ed8dd5700b558ad26d70dcb7facc0f91e4)

==========

Use latest pip in gate jobs

We've seen failures with probe tests lately where dnspython 2.0.0 is
getting installed even though it doesn't support py2 anymore. I think
using latest pip should be better about noticing that and installing the
last 1.x release intead?

(cherry picked from commit 1c91547643f9c85f152d1d8c15431fec8334e214)

==========

Prevent upgrading to pip 21+

(cherry picked from commit 0b870eb94dfe9769a07695b296eaa6758820a5f3)

==========

Related-Change: Iae86d8838854023010686d3d4bed3befe6160ca5
Related-Change: I4be1e86e3291ad1619c695fb93d7cadf053b556d
Change-Id: Iba833ba18d6b80ce9f061bce59644711525b6603
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/869502/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/common/install_dependencies.yaml'],1,8f7a16f616cdd6357c9c701d73fa6e6f55eb42fa,," roles: - ensure-pip tasks: - name: upgrade pip, but not too far pip: # 20.* works on both py2 and py3, and the pip for centos7 in EPEL # isn't smart enough to prevent us upgrading to 21+ name: pip<21 extra_args: --upgrade ", tasks: - python-pip,9,1
openstack%2Fpbr~master~Ib53f637d5826bb51a348e3e629fbdbabec2a95e0,openstack/pbr,master,Ib53f637d5826bb51a348e3e629fbdbabec2a95e0,Run PBR integration on Ubuntu Focal too,MERGED,2023-01-06 17:36:47.000000000,2023-01-07 00:34:26.000000000,2023-01-07 00:32:47.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-06 17:36:47.000000000', 'files': ['pbr/tests/test_integration.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/571e14581d3502b37932b8e7f8c51766cdd001e6', 'message': 'Run PBR integration on Ubuntu Focal too\n\nPython 3.10 on Jammy is not compatible with old pip and setuptools due\nto collections.abc moves. It is still desireable to test modern PBR\nfunctions against these old library versions because old distro installs\nwill often use latest PBR. Update our testing to also run PBR\nintegration testing on Focal selecting appropriate pip and setuptools\nversions based on the running python version.\n\nThis should help ensure PBR continues to run on old platforms even as we\nmodernize pip.\n\nChange-Id: Ib53f637d5826bb51a348e3e629fbdbabec2a95e0\n'}]",1,869490,571e14581d3502b37932b8e7f8c51766cdd001e6,13,4,1,4146,,,0,"Run PBR integration on Ubuntu Focal too

Python 3.10 on Jammy is not compatible with old pip and setuptools due
to collections.abc moves. It is still desireable to test modern PBR
functions against these old library versions because old distro installs
will often use latest PBR. Update our testing to also run PBR
integration testing on Focal selecting appropriate pip and setuptools
versions based on the running python version.

This should help ensure PBR continues to run on old platforms even as we
modernize pip.

Change-Id: Ib53f637d5826bb51a348e3e629fbdbabec2a95e0
",git fetch https://review.opendev.org/openstack/pbr refs/changes/90/869490/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_integration.py', '.zuul.yaml']",2,571e14581d3502b37932b8e7f8c51766cdd001e6,pep-517,- job: name: pbr-installation-openstack-focal parent: pbr-installation-openstack nodeset: ubuntu-focal description: | Run pbr integration testing on older Ubuntu which allows us to test compatibility with older versions of pip and setuptools. - pbr-installation-openstack-focal - pbr-installation-openstack-focal,,28,5
openstack%2Fpbr~master~I67909d732a74550fbcd7c06a9e2f4ac88c063444,openstack/pbr,master,I67909d732a74550fbcd7c06a9e2f4ac88c063444,"Tie recursion calls to Dist object, not module",MERGED,2023-01-03 13:35:41.000000000,2023-01-07 00:18:09.000000000,2023-01-07 00:17:13.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-03 13:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7d09d805eace00a99745c491bec8f1768a99b7de', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2023-01-03 13:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/ad9b92a09629e1ab51da6db553c3dc3c2db859c5', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2023-01-04 12:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/487dd7fdac1ba1155f42deeb570e3bb91928734e', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2023-01-04 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/8916457cd209f77ff04a5c2ab93ee85b618cda75', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2023-01-05 13:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/767124a456dc2456cf866ba1573eff3c537b4238', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2023-01-06 11:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/34a05af98eb905307d7f02e9e715f6e2d9d7aed1', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2023-01-06 13:22:56.000000000', 'files': ['pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/61c6a4bcb305cd14cd913fc88ade4b1c0d21eb8c', 'message': ""Tie recursion calls to Dist object, not module\n\nIn change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to\nresolve an issue whereby using PBR as a PEP-517 backend could result in\nrecursion. We did this by setting 'dist.pbr' to 'None' but later\ndiscovered this introduced a regression that prevented us from writing\nthe 'pbr.json' file into generated sdists. The fix for the regression,\nchange I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting\n'dist.pbr' to 'None' and instead set a global flag to indicate whether\nwe had already been called or not. Unfortunately it seems this fix is\nalso insufficent. As discussed in tox#2712 [1], tox v4 has implemented\nits own implementation of PEP-517 - 'pyproject-api' [2] - and unlike\n'build' this implementation optionally allows re-use of the backend\nprocess for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'\ndoes just this. This means if we run multiple commands that require\ngeneration of a 'Distribution' object - say,\n'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything\nbut the first step will not result in proper population of said\n'Distribution' objects.\n\nThe solution to this issue is simple: per $subject, instead of setting\nour recursion-detection canary at the module level, set it at the\nDistribution level.\n\n[1] https://github.com/tox-dev/tox/issues/2712\n[2] github.com/tox-dev/pyproject-api/\n\nChange-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,869082,61c6a4bcb305cd14cd913fc88ade4b1c0d21eb8c,25,5,7,15334,,,0,"Tie recursion calls to Dist object, not module

In change I1f2b4d34e587389f7e11b99d000e14477cf5091b, we attempted to
resolve an issue whereby using PBR as a PEP-517 backend could result in
recursion. We did this by setting 'dist.pbr' to 'None' but later
discovered this introduced a regression that prevented us from writing
the 'pbr.json' file into generated sdists. The fix for the regression,
change I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16, stopped setting
'dist.pbr' to 'None' and instead set a global flag to indicate whether
we had already been called or not. Unfortunately it seems this fix is
also insufficent. As discussed in tox#2712 [1], tox v4 has implemented
its own implementation of PEP-517 - 'pyproject-api' [2] - and unlike
'build' this implementation optionally allows re-use of the backend
process for multiple PEP-517 commands. tox's 'Pep517VirtualEnvFrontend'
does just this. This means if we run multiple commands that require
generation of a 'Distribution' object - say,
'prepare_metadata_for_build_wheel' followed by 'build_sdist' - anything
but the first step will not result in proper population of said
'Distribution' objects.

The solution to this issue is simple: per $subject, instead of setting
our recursion-detection canary at the module level, set it at the
Distribution level.

[1] https://github.com/tox-dev/tox/issues/2712
[2] github.com/tox-dev/pyproject-api/

Change-Id: I67909d732a74550fbcd7c06a9e2f4ac88c063444
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/82/869082/4 && git format-patch -1 --stdout FETCH_HEAD,['pbr/core.py'],1,7d09d805eace00a99745c491bec8f1768a99b7de,pep-517," if hasattr(dist, '_pbr_initialized'): dist._pbr_initialized = True", global in_use if in_use: in_use = True,2,3
openstack%2Fosc-placement~stable%2Fxena~I9891ce31b45694c0d5be5da3a99173136272dfc6,openstack/osc-placement,stable/xena,I9891ce31b45694c0d5be5da3a99173136272dfc6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 20:06:04.000000000,2023-01-07 00:04:35.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 20:06:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/21f20c860c93966db4907e47756333635c08f61f', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure osc-placement is available in the\n  virtual env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I9891ce31b45694c0d5be5da3a99173136272dfc6\n(cherry picked from commit fdf10423bf29b7cfd5e88d9d06e1313ee881ab80)\n(cherry picked from commit 8a325503d0d36a85241e74b3190463abc1870957)\n(cherry picked from commit a123aa48de86f802bbf68fd367465bf05eca9782)\n'}]",1,868724,21f20c860c93966db4907e47756333635c08f61f,4,2,1,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipdist=True to make sure osc-placement is available in the
  virtual env

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I9891ce31b45694c0d5be5da3a99173136272dfc6
(cherry picked from commit fdf10423bf29b7cfd5e88d9d06e1313ee881ab80)
(cherry picked from commit 8a325503d0d36a85241e74b3190463abc1870957)
(cherry picked from commit a123aa48de86f802bbf68fd367465bf05eca9782)
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/24/868724/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,21f20c860c93966db4907e47756333635c08f61f,tox4,,skipsdist = true,0,1
openstack%2Fosc-placement~stable%2Fwallaby~I9891ce31b45694c0d5be5da3a99173136272dfc6,openstack/osc-placement,stable/wallaby,I9891ce31b45694c0d5be5da3a99173136272dfc6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 20:06:51.000000000,2023-01-07 00:04:30.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 20:06:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d890e00217791698085150b13c1aadff20525946', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure osc-placement is available in the\n  virtual env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I9891ce31b45694c0d5be5da3a99173136272dfc6\n(cherry picked from commit fdf10423bf29b7cfd5e88d9d06e1313ee881ab80)\n(cherry picked from commit 8a325503d0d36a85241e74b3190463abc1870957)\n(cherry picked from commit a123aa48de86f802bbf68fd367465bf05eca9782)\n(cherry picked from commit 21f20c860c93966db4907e47756333635c08f61f)\n'}]",1,868725,d890e00217791698085150b13c1aadff20525946,4,2,1,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipdist=True to make sure osc-placement is available in the
  virtual env

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I9891ce31b45694c0d5be5da3a99173136272dfc6
(cherry picked from commit fdf10423bf29b7cfd5e88d9d06e1313ee881ab80)
(cherry picked from commit 8a325503d0d36a85241e74b3190463abc1870957)
(cherry picked from commit a123aa48de86f802bbf68fd367465bf05eca9782)
(cherry picked from commit 21f20c860c93966db4907e47756333635c08f61f)
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/25/868725/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d890e00217791698085150b13c1aadff20525946,tox4,,skipsdist = true,0,1
openstack%2Fosc-placement~stable%2Fyoga~I9891ce31b45694c0d5be5da3a99173136272dfc6,openstack/osc-placement,stable/yoga,I9891ce31b45694c0d5be5da3a99173136272dfc6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 20:05:03.000000000,2023-01-07 00:04:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 20:05:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a123aa48de86f802bbf68fd367465bf05eca9782', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure osc-placement is available in the\n  virtual env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I9891ce31b45694c0d5be5da3a99173136272dfc6\n(cherry picked from commit fdf10423bf29b7cfd5e88d9d06e1313ee881ab80)\n(cherry picked from commit 8a325503d0d36a85241e74b3190463abc1870957)\n'}]",1,868723,a123aa48de86f802bbf68fd367465bf05eca9782,4,2,1,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipdist=True to make sure osc-placement is available in the
  virtual env

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I9891ce31b45694c0d5be5da3a99173136272dfc6
(cherry picked from commit fdf10423bf29b7cfd5e88d9d06e1313ee881ab80)
(cherry picked from commit 8a325503d0d36a85241e74b3190463abc1870957)
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/23/868723/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a123aa48de86f802bbf68fd367465bf05eca9782,tox4,,skipsdist = true,0,1
openstack%2Fpython-novaclient~stable%2Fyoga~I979b91570c7b60273f35fbdf8464f6a9ee2007d6,openstack/python-novaclient,stable/yoga,I979b91570c7b60273f35fbdf8464f6a9ee2007d6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 20:00:06.000000000,2023-01-07 00:04:01.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 20:00:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/623b4d5ac5998b9971473f4581201c7d86202886', 'message': ""Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n""}]",2,868719,623b4d5ac5998b9971473f4581201c7d86202886,5,3,1,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure novaclient is available in the virtual
  env. The usedevelop and skipsdist does not work together any more
  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't
  need the current repo to be installed in the env so skipsdist added
  there.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6
(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)
(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/19/868719/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,623b4d5ac5998b9971473f4581201c7d86202886,tox4,skipsdist=True usedevelop=False,skipsdist = true,2,1
openstack%2Fpython-novaclient~stable%2Fwallaby~I979b91570c7b60273f35fbdf8464f6a9ee2007d6,openstack/python-novaclient,stable/wallaby,I979b91570c7b60273f35fbdf8464f6a9ee2007d6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 20:01:49.000000000,2023-01-07 00:03:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 20:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9c829ed56031b8d1e1734b09c3a67b4718022bca', 'message': ""Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)\n(cherry picked from commit 6125e84c775bb2d321dc06d95a8ec22e378ed973)\n""}, {'number': 2, 'created': '2022-12-29 03:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/223d667f08c1f911674658227caa75f496e8fe41', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don\'t\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nExtra change in this backport:\n\nlower-constraint job started failing wiuth below error. As we are no more\nrequired to test the lower-constraints, removing the testing to unblock the\ngate.\n ""error in decorator setup command: use_2to3 is invalid.""\n- https://zuul.opendev.org/t/openstack/build/50249894227042dd89572304a320a4cf\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)\n(cherry picked from commit 6125e84c775bb2d321dc06d95a8ec22e378ed973)\n'}, {'number': 3, 'created': '2022-12-29 18:19:57.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ea4a388f281dd220210eb10b22d3a29e16af5f01', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don\'t\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nExtra change in this backport:\n\nlower-constraint job started failing wiuth below error. As we are no more\nrequired to test the lower-constraints, removing the testing to unblock the\ngate.\n ""error in decorator setup command: use_2to3 is invalid.""\n- https://zuul.opendev.org/t/openstack/build/50249894227042dd89572304a320a4cf\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/868858\n\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)\n(cherry picked from commit 6125e84c775bb2d321dc06d95a8ec22e378ed973)\n'}]",2,868721,ea4a388f281dd220210eb10b22d3a29e16af5f01,10,3,3,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure novaclient is available in the virtual
  env. The usedevelop and skipsdist does not work together any more
  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't
  need the current repo to be installed in the env so skipsdist added
  there.

Extra change in this backport:

lower-constraint job started failing wiuth below error. As we are no more
required to test the lower-constraints, removing the testing to unblock the
gate.
 ""error in decorator setup command: use_2to3 is invalid.""
- https://zuul.opendev.org/t/openstack/build/50249894227042dd89572304a320a4cf

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/requirements/+/868858

Change-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6
(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)
(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)
(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)
(cherry picked from commit 6125e84c775bb2d321dc06d95a8ec22e378ed973)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/21/868721/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c829ed56031b8d1e1734b09c3a67b4718022bca,tox4,skipsdist=True usedevelop=False,skipsdist = true,2,1
openstack%2Fpython-novaclient~stable%2Fxena~I979b91570c7b60273f35fbdf8464f6a9ee2007d6,openstack/python-novaclient,stable/xena,I979b91570c7b60273f35fbdf8464f6a9ee2007d6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 20:00:44.000000000,2023-01-07 00:03:43.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 20:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6125e84c775bb2d321dc06d95a8ec22e378ed973', 'message': ""Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)\n""}, {'number': 2, 'created': '2022-12-29 03:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/071d0ee15c707dd9ed1edd3f71a62ea0a04ce447', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don\'t\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nExtra change in this backport:\n\nlower-constraint job started failing wiuth below error. As we are no more\nrequired to test the lower-constraints, removing the testing to unblock the\ngate.\n ""error in decorator setup command: use_2to3 is invalid.""\n- https://zuul.opendev.org/t/openstack/build/96c14e58e3e446bf8649f0455141c944\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)\n'}, {'number': 3, 'created': '2022-12-29 18:19:11.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/73adcfc426902b6c7bd4a50307cbe73ad0f853a4', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don\'t\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nExtra change in this backport:\n\nlower-constraint job started failing wiuth below error. As we are no more\nrequired to test the lower-constraints, removing the testing to unblock the\ngate.\n ""error in decorator setup command: use_2to3 is invalid.""\n- https://zuul.opendev.org/t/openstack/build/96c14e58e3e446bf8649f0455141c944\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/868857\n\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)\n(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)\n'}]",2,868720,73adcfc426902b6c7bd4a50307cbe73ad0f853a4,9,3,3,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure novaclient is available in the virtual
  env. The usedevelop and skipsdist does not work together any more
  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't
  need the current repo to be installed in the env so skipsdist added
  there.

Extra change in this backport:

lower-constraint job started failing wiuth below error. As we are no more
required to test the lower-constraints, removing the testing to unblock the
gate.
 ""error in decorator setup command: use_2to3 is invalid.""
- https://zuul.opendev.org/t/openstack/build/96c14e58e3e446bf8649f0455141c944

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/requirements/+/868857

Change-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6
(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)
(cherry picked from commit ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb)
(cherry picked from commit 623b4d5ac5998b9971473f4581201c7d86202886)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/20/868720/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6125e84c775bb2d321dc06d95a8ec22e378ed973,tox4,skipsdist=True usedevelop=False,skipsdist = true,2,1
openstack%2Fpython-novaclient~stable%2Fzed~I979b91570c7b60273f35fbdf8464f6a9ee2007d6,openstack/python-novaclient,stable/zed,I979b91570c7b60273f35fbdf8464f6a9ee2007d6,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-27 19:58:00.000000000,2023-01-07 00:03:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-12-27 19:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb', 'message': ""Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n""}, {'number': 2, 'created': '2023-01-04 02:27:27.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/18d9c8318f8ee40d319263e229d3dacb0fdf3b30', 'message': ""Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nExtra change in this backport:\n- disabling auto discovery by explicitly setting py_modules=[] in\n  setup.py to prevent a setuptools issue\n  https://github.com/pypa/setuptools/issues/3197#issuecomment-1078770109\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)\n""}]",9,868559,18d9c8318f8ee40d319263e229d3dacb0fdf3b30,20,4,2,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure novaclient is available in the virtual
  env. The usedevelop and skipsdist does not work together any more
  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't
  need the current repo to be installed in the env so skipsdist added
  there.

Extra change in this backport:
- disabling auto discovery by explicitly setting py_modules=[] in
  setup.py to prevent a setuptools issue
  https://github.com/pypa/setuptools/issues/3197#issuecomment-1078770109

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6
(cherry picked from commit c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/59/868559/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef8bd8e9cf9c0480e42d2b1193a045c17fb76bbb,tox4,skipsdist=True usedevelop=False,skipsdist = true,2,1
openstack%2Fplacement~stable%2Fxena~I1de24b7a98f149fce33d4e5eca82460eea72140b,openstack/placement,stable/xena,I1de24b7a98f149fce33d4e5eca82460eea72140b,Make tox.ini tox 4.0.0 compatible,ABANDONED,2022-12-28 05:26:28.000000000,2023-01-07 00:03:09.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 05:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/52ed8d8e013e83bf9c38c58d029e83264e5f8c95', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\nExtra updates in backport:\n* Updated constraints to stable\n* functional-py310 tox env was added in master commit but that is not needed\n  for stable branches so removing that in backports.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n(cherry picked from commit 8bb18ecb25ad1076aa594408c5ca360b9cf33c9e)\n(cherry picked from commit 9835a24f443e55211ea0f658fe801d9630149ba8)\n(cherry picked from commit 240e4b775ec8973c079416237b3f2ac1bccd5313)\n'}, {'number': 2, 'created': '2022-12-28 20:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9b2e626241a3e17695641bd5a6fd84e0cb01ef3c', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\nExtra updates in backport:\n* Updated constraints to stable\n* functional-py310 tox env was added in master commit but that is not needed\n  for stable branches so removing that in backports.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868728/3\n\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n(cherry picked from commit 8bb18ecb25ad1076aa594408c5ca360b9cf33c9e)\n(cherry picked from commit 9835a24f443e55211ea0f658fe801d9630149ba8)\n(cherry picked from commit e5e030e248a87089d447658111fb98e2d5191370)\n'}, {'number': 3, 'created': '2022-12-29 23:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2ad14b8201a88f49627e44d699b247caff1fbab4', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\nExtra updates in backport:\n* Updated constraints to stable\n* functional-py310 tox env was added in master commit but that is not needed\n  for stable branches so removing that in backports.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868728/3\n\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n(cherry picked from commit 8bb18ecb25ad1076aa594408c5ca360b9cf33c9e)\n(cherry picked from commit 9835a24f443e55211ea0f658fe801d9630149ba8)\n(cherry picked from commit e5e030e248a87089d447658111fb98e2d5191370)\n'}, {'number': 4, 'created': '2022-12-30 17:30:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/9c17edbb014693122041b41d72a064f9383b681a', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure placement available in the virtual\n  env. This was at least needed for the doc generation\n\n* doc target uses requirements (e.g. six, oslo libs) from requirements.txt\n  not just from doc/requirements.txt\n\n* passenv fixed as space separated list is not allowed any more\n\n* improved the doc generation command line to print all the errors\n  instead of stopping at the first one\n\nExtra updates in backport:\n* Updated constraints to stable\n* functional-py310 tox env was added in master commit but that is not needed\n  for stable branches so removing that in backports.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868790\n\nChange-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b\n(cherry picked from commit 8bb18ecb25ad1076aa594408c5ca360b9cf33c9e)\n(cherry picked from commit 9835a24f443e55211ea0f658fe801d9630149ba8)\n(cherry picked from commit e5e030e248a87089d447658111fb98e2d5191370)\n'}]",2,868736,9c17edbb014693122041b41d72a064f9383b681a,11,3,4,8556,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure placement available in the virtual
  env. This was at least needed for the doc generation

* doc target uses requirements (e.g. six, oslo libs) from requirements.txt
  not just from doc/requirements.txt

* passenv fixed as space separated list is not allowed any more

* improved the doc generation command line to print all the errors
  instead of stopping at the first one

Extra updates in backport:
* Updated constraints to stable
* functional-py310 tox env was added in master commit but that is not needed
  for stable branches so removing that in backports.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/nova/+/868790

Change-Id: I1de24b7a98f149fce33d4e5eca82460eea72140b
(cherry picked from commit 8bb18ecb25ad1076aa594408c5ca360b9cf33c9e)
(cherry picked from commit 9835a24f443e55211ea0f658fe801d9630149ba8)
(cherry picked from commit e5e030e248a87089d447658111fb98e2d5191370)
",git fetch https://review.opendev.org/openstack/placement refs/changes/36/868736/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,52ed8d8e013e83bf9c38c58d029e83264e5f8c95,tox4,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt OS_DEBUG GENERATE_HASHESdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt sphinx-build -W --keep-going -b html -j auto doc/source doc/build/html# explicitly to avoid unnecessarily installing the checked-out repo tooskipsdist = True,"skipsdist = Truedeps = -r{toxinidir}/test-requirements.txt OS_DEBUG GENERATE_HASHESdeps = -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",13,7
