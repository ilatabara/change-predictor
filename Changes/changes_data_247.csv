id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-images~master~I8202064802c9d2b878dda4ab1dbd346213df7314,openstack/openstack-helm-images,master,I8202064802c9d2b878dda4ab1dbd346213df7314,Dockerfile for Elasticsearch v7.6.2,MERGED,2020-04-14 16:45:08.000000000,2020-08-07 19:04:45.000000000,2020-08-07 19:03:06.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-04-14 16:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/29bbd75252aeb7a77a9ac2a67a6c5e2547c0b55f', 'message': '[WIP] Bump Elasticsearch Version\n\nChange-Id: I8202064802c9d2b878dda4ab1dbd346213df7314\n'}, {'number': 2, 'created': '2020-04-14 18:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/359fd337c597e1c0932f6bc86b855851b4987d65', 'message': '[DMN/WIP] Upgrade Elasticsearch Version\n\nChange-Id: I8202064802c9d2b878dda4ab1dbd346213df7314\n'}, {'number': 3, 'created': '2020-04-15 16:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/68f3bb1a547a9463a36a7a7ee55642b99d1f740b', 'message': 'Dockerfile for Elasticsearch v7.6.2 (latest/stable)\n\nChange-Id: I8202064802c9d2b878dda4ab1dbd346213df7314\n'}, {'number': 4, 'created': '2020-07-20 13:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f77f6a08edc8847037d1252d1b5dbd1f5827d108', 'message': 'Dockerfile for Elasticsearch v7.6.2\n\nChange-Id: I8202064802c9d2b878dda4ab1dbd346213df7314\n'}, {'number': 5, 'created': '2020-08-05 03:10:04.000000000', 'files': ['elasticsearch-s3/Dockerfile.7_6_2'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f90f27ed957fee05fc0e6f3c269c74eff84c6e3f', 'message': 'Dockerfile for Elasticsearch v7.6.2\n\nChange-Id: I8202064802c9d2b878dda4ab1dbd346213df7314\n'}]",8,720028,f90f27ed957fee05fc0e6f3c269c74eff84c6e3f,21,4,5,30777,,,0,"Dockerfile for Elasticsearch v7.6.2

Change-Id: I8202064802c9d2b878dda4ab1dbd346213df7314
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/28/720028/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch-s3/Dockerfile.7_6_2'],1,29bbd75252aeb7a77a9ac2a67a6c5e2547c0b55f,bump-es-version,FROM docker.elastic.co/elasticsearch/elasticsearch-oss:7.6.2 RUN wget -O jq https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64; \ chmod +x ./jq ;\ cp jq /usr/bin ;\ yum -y update ;\ rm -rf /var/cache/yum ;\ curl https://bootstrap.pypa.io/get-pip.py -o /tmp/get-pip.py ;\ python /tmp/get-pip.py ;\ rm -f /tmp/get-pip.py ;\ pip install \ elasticsearch==7.6.2 \ elasticsearch-dsl==7.6.2; \ bin/elasticsearch-plugin install --batch repository-s3 ,,14,0
openstack%2Fos-vif~master~I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3,openstack/os-vif,master,I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3,[goal] migrate testing to ubuntu focal,MERGED,2020-06-26 01:45:40.000000000,2020-08-07 18:37:34.000000000,2020-08-07 18:36:19.000000000,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2020-06-26 01:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5b2b5324626e7f8ab1f1d25910489a59892d4ad5', 'message': 'DNM: testing os-vif gate on ubuntu focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\nStory: #2007865\nTask: #40200\n'}, {'number': 2, 'created': '2020-07-08 17:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d1019df52c54c9b136e685f20b1220f30a3914f5', 'message': 'DNM: testing os-vif gate on ubuntu focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\nStory: #2007865\nTask: #40200\n'}, {'number': 3, 'created': '2020-07-08 17:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/326ba938a766a9ef7bed1de97a2be3c2321bab6d', 'message': 'DNM: testing os-vif gate on ubuntu focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\nStory: #2007865\nTask: #40200\n'}, {'number': 4, 'created': '2020-07-09 14:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/aedb37b321cf7876ad3e148d52df2ba0b82ea097', 'message': 'DNM: testing os-vif gate on ubuntu focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\nStory: #2007865\nTask: #40200\n'}, {'number': 5, 'created': '2020-07-30 22:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/99c5f73393832faebfeadb58824edc2689a8f7f1', 'message': '[goal] migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nAlso adding bindep file for libffi packages.\n\nStory: #2007865\nTask: #40200\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\n'}, {'number': 6, 'created': '2020-08-05 00:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/83ba430d331ab99ac9e89f0f2a38afc5c4f75bae', 'message': '[goal] migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nAlso adding bindep file for libffi packages.\n\nStory: #2007865\nTask: #40200\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\n'}, {'number': 7, 'created': '2020-08-06 16:58:28.000000000', 'files': ['bindep.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/041ce67619074ee79226161aab8169f990e4c175', 'message': '[goal] migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nAlso adding bindep file for libffi packages.\n\nStory: #2007865\nTask: #40200\n\nChange-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3\n'}]",1,738130,041ce67619074ee79226161aab8169f990e4c175,38,8,7,8556,,,0,"[goal] migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Also adding bindep file for libffi packages.

Story: #2007865
Task: #40200

Change-Id: I8d9b8d9e19ca7b94f1ce1f2b95aeafc9f7127ea3
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/30/738130/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5b2b5324626e7f8ab1f1d25910489a59892d4ad5,migrate-to-focal, # in the local.conf because os-vif is listed as a required, # in the local.conf because os-vif is listed as a required,1,1
openstack%2Fironic-tempest-plugin~master~I4e86e6264a4457b36ff94c8f817294ffd764c48d,openstack/ironic-tempest-plugin,master,I4e86e6264a4457b36ff94c8f817294ffd764c48d,Ramdisk iso boot tempest scenario test,MERGED,2020-06-17 20:47:58.000000000,2020-08-07 18:30:55.000000000,2020-08-07 18:27:33.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-17 20:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/aa9d32fdf5af554e7ce8f4a5a398cbde2c210ef0', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 2, 'created': '2020-06-24 17:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f0c5a1ffd7950556f2ca147be86ae9dbc3440cd0', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 3, 'created': '2020-06-24 20:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/54b0b13d6b1af82c81229f88045fff67bfd8b1ff', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 4, 'created': '2020-06-25 18:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/53c651c70843ad4091987bf2018008cb51ca871a', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 5, 'created': '2020-06-25 18:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f1ac37dc9118f82cc9a120799452d0c6e2a83741', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 6, 'created': '2020-06-25 20:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b9783947e0bcfbd14cfa749333b5fce782cc4e1d', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 7, 'created': '2020-06-25 22:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/1bd3a981b3524a2c88ef0f70decf3814b107d7a4', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 8, 'created': '2020-06-29 18:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f6ec29ee4ceb491fea40c093667b9b73c0e1fcb3', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 9, 'created': '2020-06-29 21:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a09853507cf36c43444d87d5acd4fa53ab6727b3', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 10, 'created': '2020-06-29 22:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b0ec1234c144fa6f0027ab5333ecc3c8e89c02e4', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}, {'number': 11, 'created': '2020-07-01 14:55:57.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_ramdisk_iso.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/ff9f8743aa0b7db4a5122417f1a90292a4de19d3', 'message': 'Ramdisk iso boot tempest scenario test\n\nChange-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d\n'}]",9,736378,ff9f8743aa0b7db4a5122417f1a90292a4de19d3,49,5,11,11655,,,0,"Ramdisk iso boot tempest scenario test

Change-Id: I4e86e6264a4457b36ff94c8f817294ffd764c48d
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/78/736378/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_ramdisk_iso.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py']",3,aa9d32fdf5af554e7ce8f4a5a398cbde2c210ef0,736378," @classmethod def boot_node_ramdisk(cls, ramdisk_ref, iso): """"""Boot ironic using a ramdisk node. The following actions are executed: * Create/Pick networks to boot node in. * Create Neutron port and attach it to node. * Update node image_source. * Deploy node. * Wait until node is deployed. :param image_ref: Reference to user image to boot node with. :param image_checksum: md5sum of image specified in image_ref. Needed only when direct HTTP link is provided. :param boot_option: The defaut boot option to utilize. If not specified, the ironic deployment default shall be utilized. """""" if ramdisk_ref is None: ramdisk_ref = cls.image_ref network, subnet, router = cls.create_networks() n_port = cls.create_neutron_port(network_id=network['id']) cls.vif_attach(node_id=cls.node['uuid'], vif_id=n_port['id']) if iso: patch_path = '/instance_info/boot_iso' else: patch_path = '/instance_info/image_source' patch = [{'path': patch_path, 'op': 'add', 'value': ramdisk_ref}] cls.update_node(cls.node['uuid'], patch=patch) cls.set_node_provision_state(cls.node['uuid'], 'active') cls.wait_power_state(cls.node['uuid'], bm.BaremetalPowerStates.POWER_ON) cls.wait_provisioning_state(cls.node['uuid'], bm.BaremetalProvisionStates.ACTIVE, timeout=CONF.baremetal.active_timeout, interval=30) def boot_and_verify_ramdisk_node(self, ramdisk_ref=None, iso=False, should_succeed=True): self.boot_node_ramdisk(ramdisk_ref, iso) self.assertTrue(self.ping_ip_address(self.node_ip, should_succeed=should_succeed))",,102,0
openstack%2Fironic~stable%2Fussuri~I4de034c38585275543ab603a3ed45de1adf1d15b,openstack/ironic,stable/ussuri,I4de034c38585275543ab603a3ed45de1adf1d15b,Fix idrac-wsman RAID apply_configuration,MERGED,2020-07-30 14:49:16.000000000,2020-08-07 18:29:50.000000000,2020-08-07 18:27:27.000000000,"[{'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2020-07-30 14:49:16.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/bug-2007963-idrac-wsman-raid-apply-configuration-792ccf195057016b.yaml', 'ironic/drivers/modules/drac/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c443946b450826aef34ab1a2fbb3e228f5712ab', 'message': 'Fix idrac-wsman RAID apply_configuration\n\nDeploy step `apply_configuration` was failing with\nTypeError: super(type, obj): obj must be an instance\nor subtype of type.\n\nChange-Id: I4de034c38585275543ab603a3ed45de1adf1d15b\nStory: 2007963\nTask: 40456\n(cherry picked from commit 328cb9291a8c19d18321fde1e2323f4682363789)\n'}]",0,743992,2c443946b450826aef34ab1a2fbb3e228f5712ab,28,7,1,10239,,,0,"Fix idrac-wsman RAID apply_configuration

Deploy step `apply_configuration` was failing with
TypeError: super(type, obj): obj must be an instance
or subtype of type.

Change-Id: I4de034c38585275543ab603a3ed45de1adf1d15b
Story: 2007963
Task: 40456
(cherry picked from commit 328cb9291a8c19d18321fde1e2323f4682363789)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/743992/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/bug-2007963-idrac-wsman-raid-apply-configuration-792ccf195057016b.yaml', 'ironic/drivers/modules/drac/raid.py']",3,2c443946b450826aef34ab1a2fbb3e228f5712ab,raid-apply-config-stable/ussuri," return super(DracWSManRAID, self).apply_configuration("," return super(DracRAID, self).apply_configuration(",22,1
openstack%2Fcinder~master~I584cfc6b4c9522e9708f1eb57140a5a9f07346e1,openstack/cinder,master,I584cfc6b4c9522e9708f1eb57140a5a9f07346e1,[vmware] ensure datastores exist while fetching stats,MERGED,2020-05-07 18:41:40.000000000,2020-08-07 18:25:11.000000000,2020-08-07 18:23:17.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22078}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26250}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 32071}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-05-07 18:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c03191a6aa9b97c5474154d1ef88a2484ba891d', 'message': '[vmware] ensure datastores exist while fetching stats\n\nThis patch updates the stats if and only if there are\nactual datastores assigned to the configured\nvmware_storage_profiles when get_volume_stats is called\n\nChange-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1\nCloses-Bug: 1877405\n'}, {'number': 2, 'created': '2020-05-11 11:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71e763be03e1080dddb0e3a2938f1b084bc94000', 'message': '[vmware] ensure datastores exist while fetching stats\n\nThis patch updates the stats if and only if there are\nactual datastores assigned to the configured\nvmware_storage_profiles when get_volume_stats is called\n\nChange-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1\nCloses-Bug: 1877405\n'}, {'number': 3, 'created': '2020-05-11 12:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a76b21ae9c15a9eecf1c08ce456b3995360a31a', 'message': '[vmware] ensure datastores exist while fetching stats\n\nThis patch updates the stats if and only if there are\nactual datastores assigned to the configured\nvmware_storage_profiles when get_volume_stats is called\n\nChange-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1\nCloses-Bug: 1877405\n'}, {'number': 4, 'created': '2020-05-20 20:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1caf394794d0c10490b95328e2f1edba65b92995', 'message': '[vmware] ensure datastores exist while fetching stats\n\nThis patch updates the stats if and only if there are\nactual datastores assigned to the configured\nvmware_storage_profiles when get_volume_stats is called\n\nChange-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1\nCloses-Bug: 1877405\n'}, {'number': 5, 'created': '2020-07-15 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a2d469594abe7ffc47c1ec76429ee9fe99393b0', 'message': '[vmware] ensure datastores exist while fetching stats\n\nThis patch updates the stats if and only if there are\nactual datastores assigned to the configured\nvmware_storage_profiles when get_volume_stats is called\n\nChange-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1\nCloses-Bug: 1877405\n'}, {'number': 6, 'created': '2020-08-05 16:55:20.000000000', 'files': ['cinder/volume/drivers/vmware/vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3d93097dd5762a08b7db82577a491e734612632', 'message': '[vmware] ensure datastores exist while fetching stats\n\nThis patch updates the stats if and only if there are\nactual datastores assigned to the configured\nvmware_storage_profiles when get_volume_stats is called\n\nChange-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1\nCloses-Bug: 1877405\n'}]",7,726222,d3d93097dd5762a08b7db82577a491e734612632,251,42,6,5997,,,0,"[vmware] ensure datastores exist while fetching stats

This patch updates the stats if and only if there are
actual datastores assigned to the configured
vmware_storage_profiles when get_volume_stats is called

Change-Id: I584cfc6b4c9522e9708f1eb57140a5a9f07346e1
Closes-Bug: 1877405
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/726222/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vmware/vmdk.py'],1,1c03191a6aa9b97c5474154d1ef88a2484ba891d,bug/1877405," # 3.4.4 - Ensure datastores exist for storage profiles during # get_volume_stats() VERSION = '3.4.4' if not datastores: LOG.warning(""No Datastores found for storage profile(s) "" ""''%s'"", ', '.join( self.configuration.safe_get( 'vmware_storage_profile'))) # If there are no datastores, we won't have object_specs and will # fail when trying to get stats if not object_specs: prop_spec = vim_util.build_property_spec(client_factory, 'Datastore', ['summary', 'host']) filter_spec = vim_util.build_property_filter_spec(client_factory, prop_spec, object_specs) options = client_factory.create('ns0:RetrieveOptions') max_objects = self.configuration.vmware_max_objects_retrieval options.maxObjects = max_objects result = self.session.vim.RetrievePropertiesEx( self.session.vim.service_content.propertyCollector, specSet=[filter_spec], options=options) return result"," VERSION = '3.4.3' prop_spec = vim_util.build_property_spec(client_factory, 'Datastore', ['summary', 'host']) filter_spec = vim_util.build_property_filter_spec(client_factory, prop_spec, object_specs) options = client_factory.create('ns0:RetrieveOptions') options.maxObjects = self.configuration.vmware_max_objects_retrieval result = self.session.vim.RetrievePropertiesEx( self.session.vim.service_content.propertyCollector, specSet=[filter_spec], options=options) return result",28,13
openstack%2Fkayobe~master~Ibcf12f4d80bd9744867688ba986cd59be82f3e5a,openstack/kayobe,master,Ibcf12f4d80bd9744867688ba986cd59be82f3e5a,Add support for custom Masakari configuration,MERGED,2020-07-31 16:57:35.000000000,2020-08-07 18:16:06.000000000,2020-08-07 18:14:39.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-07-31 16:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8eebccccabcee405761720c3ca0c5a9e2d49aa2e', 'message': 'Add support for custom Masakari configuration\n\nChange-Id: Ibcf12f4d80bd9744867688ba986cd59be82f3e5a\nStory: 2007969\nTask: 40470\n'}, {'number': 2, 'created': '2020-08-05 08:28:35.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/masakari.conf.j2', 'releasenotes/notes/add-support-for-custom-masakari-conf-af224cead3cd1ad4.yaml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bc3252900804ae1fc67cbf4cf3f04f1b2922c452', 'message': 'Add support for custom Masakari configuration\n\nChange-Id: Ibcf12f4d80bd9744867688ba986cd59be82f3e5a\nStory: 2007969\nTask: 40470\n'}]",5,744228,bc3252900804ae1fc67cbf4cf3f04f1b2922c452,13,4,2,14826,,,0,"Add support for custom Masakari configuration

Change-Id: Ibcf12f4d80bd9744867688ba986cd59be82f3e5a
Story: 2007969
Task: 40470
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/28/744228/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/masakari.conf.j2', 'releasenotes/notes/add-support-for-custom-masakari-conf-af224cead3cd1ad4.yaml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml']",10,8eebccccabcee405761720c3ca0c5a9e2d49aa2e,," - { name: masakari, file: masakari.conf } kolla_extra_masakari: ""{{ kolla_extra_config.masakari | default }}""",,39,0
openstack%2Fcharm-guide~master~I27e1300bc0f3e0a40e6e67762f5eaa75e5680640,openstack/charm-guide,master,I27e1300bc0f3e0a40e6e67762f5eaa75e5680640,TrilioVault 20.08 release updates,MERGED,2020-08-06 04:31:14.000000000,2020-08-07 18:11:34.000000000,2020-08-07 18:10:28.000000000,"[{'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-06 04:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/fc21ab946901916682be3cf654e5844c8a5dd6fb', 'message': 'TrilioVault 20.08 release updates\n\nMove charms to stable status.\n\nRelease note File Recovery Manager snapshot mount issue.\n\nChange-Id: I27e1300bc0f3e0a40e6e67762f5eaa75e5680640\n'}, {'number': 2, 'created': '2020-08-07 17:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/424b0670ff87eb4d96015e3b09ecd150801f02c1', 'message': 'TrilioVault 20.08 release updates\n\nMove charms to stable status.\n\nRelease note File Recovery Manager snapshot mount issue.\n\nChange-Id: I27e1300bc0f3e0a40e6e67762f5eaa75e5680640\n'}, {'number': 3, 'created': '2020-08-07 17:50:28.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ece43341854a5b83193768796b3e9f6ae3955155', 'message': 'TrilioVault 20.08 release updates\n\nMove charms to stable status.\n\nRelease note File Recovery Manager snapshot mount issue.\n\nChange-Id: I27e1300bc0f3e0a40e6e67762f5eaa75e5680640\n'}]",1,745062,ece43341854a5b83193768796b3e9f6ae3955155,13,5,3,935,,,0,"TrilioVault 20.08 release updates

Move charms to stable status.

Release note File Recovery Manager snapshot mount issue.

Change-Id: I27e1300bc0f3e0a40e6e67762f5eaa75e5680640
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/62/745062/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,fc21ab946901916682be3cf654e5844c8a5dd6fb,trilio-20.08,* `trilio-data-mover <https://opendev.org/openstack/charm-trilio-data-mover/>`_ * `trilio-dm-api <https://opendev.org/openstack/charm-trilio-dm-api/>`_ * `trilio-horizon-plugin <https://opendev.org/openstack/charm-trilio-horizon-plugin/>`_ * `trilio-wlm <https://opendev.org/openstack/charm-trilio-wlm/>`_TrilioVault File Recovery Manager ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Mounting snapshots using the File Recovery Manager appliance fails due to permissions errors encountered during the libvirt/qemu snapshot mount process on compute nodes. See bug `LP #1888389`_ for details. .. _LP #1888389: https://bugs.launchpad.net/charm-trilio-data-mover/+bug/1888389,* `trilio-data-mover <https://opendev.org/openstack/charm-trilio-data-mover/>`_ * `trilio-dm-api <https://opendev.org/openstack/charm-trilio-dm-api/>`_ * `trilio-horizon-plugin <https://opendev.org/openstack/charm-trilio-horizon-plugin/>`_ * `trilio-wlm <https://opendev.org/openstack/charm-trilio-wlm/>`_,12,4
openstack%2Fcinder~stable%2Fqueens~Ib86729488ebfb0aea5d5d4f815a64e00258040e7,openstack/cinder,stable/queens,Ib86729488ebfb0aea5d5d4f815a64e00258040e7,VNX: delete the LUN from VNX backend,MERGED,2020-08-04 02:45:16.000000000,2020-08-07 18:11:20.000000000,2020-08-07 18:07:35.000000000,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 21570}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-04 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b5c40c1691dacfc47dd1f560fbc39190d39a4f5', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n(cherry picked from commit a74945b0687c4aa69960777fb301984cd4d2fedd)\n(cherry picked from commit 6e2e278f3c97ee14d7b18272cee5bfea1c231768)\n""}, {'number': 2, 'created': '2020-08-06 02:25:31.000000000', 'files': ['releasenotes/notes/vnx-fail-delete-lun-due-to-tmp-snapshot-edd3cdd85e28be60.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8641eed2ea5b0b62ef0209e86ed7446a18232784', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\nConflicts:\n  cinder/volume/drivers/dell_emc/vnx/driver.py\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n(cherry picked from commit a74945b0687c4aa69960777fb301984cd4d2fedd)\n(cherry picked from commit 6e2e278f3c97ee14d7b18272cee5bfea1c231768)\n""}]",5,744591,8641eed2ea5b0b62ef0209e86ed7446a18232784,39,17,2,18742,,,0,"VNX: delete the LUN from VNX backend

Async migration is used in the process of creating a volume from a
snapshot and an internal temp snapshot is created.

Because the temp snapshot isn't deleted, the LUN hosting the temp
snapshot cannot be deleted from the VNX storage.

For example, a new volume, V2, is created from snapshot S1 of volume V1.
An internal temp snapshot S2 is created from copying S1. V1 now has two
snapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,
S2 which is Cinder user-invisible isn't deleted and which causes V1 left
on VNX too.

The fix makes sure the snapshot S2 is deleted. Then the delay deletion
on V1 can be executed successfully.

Change-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7
Closes-bug: #1794646
Conflicts:
  cinder/volume/drivers/dell_emc/vnx/driver.py
(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)
(cherry picked from commit a74945b0687c4aa69960777fb301984cd4d2fedd)
(cherry picked from commit 6e2e278f3c97ee14d7b18272cee5bfea1c231768)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/744591/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vnx-fail-delete-lun-due-to-tmp-snapshot-edd3cdd85e28be60.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py']",6,2b5c40c1691dacfc47dd1f560fbc39190d39a4f5,bug/1794646, 11.0.3 - Fix bug 1794646: failed to delete LUNs from backend due to the temporary snapshots on them wasn't deleted. VERSION = '11.00.03', VERSION = '11.00.02',59,3
openstack%2Fnova~master~Ib6d720bbfd473b0aa1ca55d38ab9bb6baaaa2d29,openstack/nova,master,Ib6d720bbfd473b0aa1ca55d38ab9bb6baaaa2d29,Add test coverage of extensions policies,MERGED,2020-07-25 21:55:50.000000000,2020-08-07 17:58:05.000000000,2020-08-07 17:54:32.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-25 21:55:50.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_extension_info.py', 'nova/tests/unit/policies/test_extensions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/260ebeebb8ff1074834236506f9a8acf242b93c9', 'message': ""Add test coverage of extensions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ib6d720bbfd473b0aa1ca55d38ab9bb6baaaa2d29\n""}]",0,743045,260ebeebb8ff1074834236506f9a8acf242b93c9,15,10,1,8556,,,0,"Add test coverage of extensions policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ib6d720bbfd473b0aa1ca55d38ab9bb6baaaa2d29
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/743045/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_extension_info.py', 'nova/tests/unit/policies/test_extensions.py']",2,260ebeebb8ff1074834236506f9a8acf242b93c9,bp/policy-defaults-refresh-deprecated-apis,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.api.openstack.compute import extension_info from nova.policies import extensions as policies from nova.tests.unit.api.openstack import fakes from nova.tests.unit.policies import base class ExtensionsPolicyTest(base.BasePolicyTest): """"""Test Extensions APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(ExtensionsPolicyTest, self).setUp() self.controller = extension_info.ExtensionInfoController() self.req = fakes.HTTPRequest.blank('') # Check that everyone is able to get extension info. self.everyone_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context, self.other_project_reader_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] self.everyone_unauthorized_contexts = [] def test_list_extensions_policy(self): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.index, self.req) def test_show_extensions_policy(self): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.show, self.req, 'os-volumes') class ExtensionsScopeTypePolicyTest(ExtensionsPolicyTest): """"""Test Extensions APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(ExtensionsScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,73,30
openstack%2Fcinder~master~Ica4e0cea67bc894f61a57c7898977951ce3a3633,openstack/cinder,master,Ica4e0cea67bc894f61a57c7898977951ce3a3633,Backup: Limit number of concurent operations,MERGED,2020-02-27 15:33:59.000000000,2020-08-07 17:56:42.000000000,2020-08-07 17:54:37.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12860}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-02-27 15:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b61dcdffed5e85c79bfdb79b83660a9bbfd6936', 'message': 'WIP: Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB.\n\nMissing:\n- Test on a deployment\n- Release notes\n- Unit tests\n\nCloses-Bug: #1865011\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 2, 'created': '2020-02-27 20:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f9d14b933917d786cd8c99f4f83c22508f70908', 'message': 'WIP: Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB.\n\nMissing:\n- Test on a deployment\n- Release notes\n- Unit tests\n\nCloses-Bug: #1865011\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 3, 'created': '2020-03-02 12:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6e11c144aafed82f41f03bb125a1da762ce2225', 'message': 'WIP: Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB.\n\nMissing:\n- Test on a deployment\n- Release notes\n- Unit tests\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 4, 'created': '2020-03-16 08:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70ffe354a5141c14f28e449f45c2bf5585507343', 'message': 'Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations.\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 5, 'created': '2020-03-16 10:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa1cc29cc6fe9cf86f3498a2f37a62f5a89cfeb9', 'message': 'Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB\nof RAM(in case of ceph which uses the maximum memory for this operation).\nMore details are added in the document.\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 6, 'created': '2020-03-19 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/112bca8b9fbb4936f00cd31fe4a1c62acaa71653', 'message': 'Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB\nof RAM(in case of ceph which uses the maximum memory for this operation).\nMore details are added in the document.\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 7, 'created': '2020-06-09 13:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cda238c06decdc8434877e1784abea0da70f96e6', 'message': 'Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB\nof RAM(in case of ceph which uses the maximum memory for this operation).\nMore details are added in the document.\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 8, 'created': '2020-06-18 20:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1e0778730db582281b0710f31958ff19062bee1', 'message': 'Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB\nof RAM(in case of ceph which uses the maximum memory for this operation).\nMore details are added in the document.\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}, {'number': 9, 'created': '2020-06-19 07:32:16.000000000', 'files': ['cinder/opts.py', 'cinder/backup/manager.py', 'doc/source/admin/blockstorage-volume-backups.rst', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/backup_max_operations-27753c748ba1dc1a.yaml', 'cinder/tests/unit/test_utils.py', 'cinder/cmd/backup.py', 'cinder/utils.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30c2289c9b0456d3783f01e3d65985ed1b09976a', 'message': 'Backup: Limit number of concurent operations\n\nThis patch adds the backup_max_operations configuration option that\nlimits the number of concurrent backup and restore operations.\n\nThese operations can consume large amounts of RAM, so we should limit\nthem according to our system resources to avoid processes being killed\nbecause we run out of memory.\n\nThe default is 15 concurrent operations, which could use up to 85GB\nof RAM(in case of ceph which uses the maximum memory for this operation).\nMore details are added in the document.\n\nCloses-Bug: #1865011\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nChange-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633\n'}]",23,710297,30c2289c9b0456d3783f01e3d65985ed1b09976a,207,43,9,9535,,,0,"Backup: Limit number of concurent operations

This patch adds the backup_max_operations configuration option that
limits the number of concurrent backup and restore operations.

These operations can consume large amounts of RAM, so we should limit
them according to our system resources to avoid processes being killed
because we run out of memory.

The default is 15 concurrent operations, which could use up to 85GB
of RAM(in case of ceph which uses the maximum memory for this operation).
More details are added in the document.

Closes-Bug: #1865011
Co-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>
Change-Id: Ica4e0cea67bc894f61a57c7898977951ce3a3633
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/710297/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,8b61dcdffed5e85c79bfdb79b83660a9bbfd6936,bug/1865011,"import contextlib import functools import multiprocessingimport eventlet cfg.IntOpt('backup_max_operations', default=15, min=0, help='Maximum number of concurrent memory heavy operations: ' 'backup and restore. Value of 0 means unlimited'), # TODO: When we drop Python 3.6 support replace with nullcontext _semaphore = contextlib.suppress() def limit_operations(func): @functools.wraps(func) def wrapper(*args, **kwargs): with BackupManager._semaphore: return func(*args, **kwargs) return wrapper if CONF.backup_max_operations: limit = CONF.backup_max_operations # If we only have 1 process we can use eventlet's Semaphore if CONF.backup_workers == 1: BackupManager._semaphore = eventlet.Semaphore(limit) # Use an interprocess Semaphore if we have multiple processes else: BackupManager._semaphore = multiprocessing.Semaphore(limit) @limit_operations @limit_operations",,29,0
openstack%2Fnova~master~I159aaa37e1c238b484619a9951da7e63774024cb,openstack/nova,master,I159aaa37e1c238b484619a9951da7e63774024cb,Add new default roles in hosts policies,MERGED,2020-07-25 04:10:40.000000000,2020-08-07 17:56:35.000000000,2020-08-07 17:54:25.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-25 04:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0fbc96c65f9da7a6caade3e69b37a8fc59dc93d', 'message': 'Add new default roles in hosts policies\n\nThis adds new defaults roles in hosts API policies.\nThese policies are made granular and default to\nSYSTEM_READER and SYSTEM_ADMIN.\nAlso pass the actual targets which is empty dict in\nhosts policy.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I159aaa37e1c238b484619a9951da7e63774024cb\n'}, {'number': 2, 'created': '2020-07-25 21:20:03.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policies/test_hosts.py', 'nova/api/openstack/compute/hosts.py', 'nova/policies/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ef2ebe241e7fedc24fb5434124fbba8be15f524', 'message': 'Add new default roles in hosts policies\n\nThis adds new defaults roles in hosts API policies.\nThese policies are made granular and default to\nSYSTEM_READER and SYSTEM_ADMIN.\nAlso pass the actual targets which is empty dict in\nhosts policy.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I159aaa37e1c238b484619a9951da7e63774024cb\n'}]",5,743015,4ef2ebe241e7fedc24fb5434124fbba8be15f524,29,12,2,8556,,,0,"Add new default roles in hosts policies

This adds new defaults roles in hosts API policies.
These policies are made granular and default to
SYSTEM_READER and SYSTEM_ADMIN.
Also pass the actual targets which is empty dict in
hosts policy.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I159aaa37e1c238b484619a9951da7e63774024cb
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/743015/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policies/test_hosts.py', 'nova/api/openstack/compute/hosts.py', 'nova/policies/hosts.py']",5,c0fbc96c65f9da7a6caade3e69b37a8fc59dc93d,bp/policy-defaults-refresh-deprecated-apis,"POLICY_NAME = 'os_compute_api:os-hosts:%s' DEPRECATED_POLICY = policy.DeprecatedRule( BASE_POLICY_NAME, base.RULE_ADMIN_API, ) DEPRECATED_REASON = """""" Nova API policies are introducing new default roles with scope_type capabilities. Old policies are deprecated and silently going to be ignored in nova 23.0.0 release. """""" name=POLICY_NAME % 'list', check_str=base.SYSTEM_READER, description=""""""List physical hosts. This API is deprecated in favor of os-hypervisors and os-services."""""", ], scope_types=['system'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'show', check_str=base.SYSTEM_READER, description=""""""Show physical host. This API is deprecated in favor of os-hypervisors and os-services."""""", operations=[ } ], scope_types=['system'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'update', check_str=base.SYSTEM_ADMIN, description=""""""Update physical host. This API is deprecated in favor of os-hypervisors and os-services."""""", operations=[ ], scope_types=['system'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'reboot', check_str=base.SYSTEM_ADMIN, description=""""""Reboot physical host. This API is deprecated in favor of os-hypervisors and os-services."""""", operations=[ ], scope_types=['system'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'shutdown', check_str=base.SYSTEM_ADMIN, description=""""""Shutdown physical host. This API is deprecated in favor of os-hypervisors and os-services."""""", operations=[ ], scope_types=['system'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'start', check_str=base.SYSTEM_ADMIN, description=""""""Start physical host. This API is deprecated in favor of os-hypervisors and os-services."""""", operations=[ scope_types=['system'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'),"," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_API, description=""""""List, show and manage physical hosts. These APIs are all deprecated in favor of os-hypervisors and os-services."""""", }, scope_types=['system']),",203,35
openstack%2Fcinder~stable%2Fussuri~Iecb3faad9270f969185089cc291127b340483a46,openstack/cinder,stable/ussuri,Iecb3faad9270f969185089cc291127b340483a46,Fix service-get-log to respect server filters,MERGED,2020-06-22 17:08:22.000000000,2020-08-07 17:56:27.000000000,2020-08-07 17:54:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-22 17:08:22.000000000', 'files': ['cinder/api/contrib/services.py', 'cinder/tests/unit/api/contrib/test_services.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f6b4cdcd4fc0fd4e6fe0e40772ad7d19d46f83c', 'message': ""Fix service-get-log to respect server filters\n\nThe service-get-log command returns always the same output ignoring\nthe 'server' filters.\n\nThis fix avoid returning all the results when using the 'server' filter.\n\nHow to reproduce:\n'cinder  --os-volume-api-version 3.52 service-get-log\n--server localhost.localdomain@cep'\nreturn the same output than\n'cinder  --os-volume-api-version 3.52 service-get-log'\n\nChange-Id: Iecb3faad9270f969185089cc291127b340483a46\n(cherry picked from commit e793c5e24982e2f0d2bc3a681f5a1e3912af08b0)\n""}]",1,737322,0f6b4cdcd4fc0fd4e6fe0e40772ad7d19d46f83c,36,17,1,20813,,,0,"Fix service-get-log to respect server filters

The service-get-log command returns always the same output ignoring
the 'server' filters.

This fix avoid returning all the results when using the 'server' filter.

How to reproduce:
'cinder  --os-volume-api-version 3.52 service-get-log
--server localhost.localdomain@cep'
return the same output than
'cinder  --os-volume-api-version 3.52 service-get-log'

Change-Id: Iecb3faad9270f969185089cc291127b340483a46
(cherry picked from commit e793c5e24982e2f0d2bc3a681f5a1e3912af08b0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/737322/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/services.py', 'cinder/tests/unit/api/contrib/test_services.py']",2,0f6b4cdcd4fc0fd4e6fe0e40772ad7d19d46f83c,," @mock.patch('cinder.api.contrib.services.ServiceController._get_log') def test_get_log_w_server_filter(self, get_log_mock): server_filter = 'controller-0' body = {'host': CONF.host, 'server': server_filter} req = FakeRequest(version=mv.LOG_LEVEL) log_levels = self.controller._get_log(req, mock.sentinel.context, body) self.assertEqual(get_log_mock.return_value, log_levels) get_log_mock.assert_called_once_with(req, mock.sentinel.context, body) self.assertNotEqual(log_levels['binary'], constants.API_BINARY) self.assertIsNot(log_levels, constants.API_BINARY) @mock.patch('cinder.api.contrib.services.ServiceController._get_log') def test_get_log_w_server_equals_to_host(self, get_log_mock): server_filter = 'server-0' body = {'host': CONF.host, 'server': server_filter} req = FakeRequest(version=mv.LOG_LEVEL) log_levels = self.controller._get_log(req, mock.sentinel.context, body) self.assertEqual(get_log_mock.return_value, log_levels) self.assertNotEqual(log_levels['binary'], constants.API_BINARY) self.assertIsNot(log_levels, constants.API_BINARY) ",,35,5
openstack%2Fpython-openstackclient~stable%2Fqueens~I6fe039793d813758429c7a104fd40172b4f8122b,openstack/python-openstackclient,stable/queens,I6fe039793d813758429c7a104fd40172b4f8122b,Fix subnet host_routes error,MERGED,2019-05-16 12:31:07.000000000,2020-08-07 17:54:49.000000000,2020-08-07 17:54:49.000000000,"[{'_account_id': 970}, {'_account_id': 4978}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 25489}, {'_account_id': 25564}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-05-16 12:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/eaac1e32aa7e65550a5127537d49faaf066a596a', 'message': 'Fix subnet host_routes error\n\nWhen updating subnet with ""no-host-route"" option, set host_routes to an empty list as neutron_lib.api.validators expected.\n\nChange-Id: I6fe039793d813758429c7a104fd40172b4f8122b\nCloses-Bug: #1747101\n(cherry picked from commit 5bb5585aa98e17e22963996c02bd7bd688d7871e)\n'}, {'number': 2, 'created': '2019-05-17 00:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d852da3ca2e825b841c3902cbca21cbfc522c122', 'message': 'Fix subnet host_routes error\n\nWhen updating subnet with ""no-host-route"" option, set host_routes to an empty list as neutron_lib.api.validators expected.\n\nChange-Id: I6fe039793d813758429c7a104fd40172b4f8122b\nCloses-Bug: #1747101\n(cherry picked from commit 5bb5585aa98e17e22963996c02bd7bd688d7871e)\n'}, {'number': 3, 'created': '2020-03-22 19:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/268058836f4d5b7fbbbba960ecbae337412cfbed', 'message': 'Fix subnet host_routes error\n\nWhen updating subnet with ""no-host-route"" option, set host_routes to an empty list as neutron_lib.api.validators expected.\n\nChange-Id: I6fe039793d813758429c7a104fd40172b4f8122b\nCloses-Bug: #1747101\n(cherry picked from commit 5bb5585aa98e17e22963996c02bd7bd688d7871e)\n'}, {'number': 4, 'created': '2020-07-22 19:03:48.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/network/v2/subnet.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/333e8abef33eec95330721cd5ae54243680d1612', 'message': 'Fix subnet host_routes error\n\nWhen updating subnet with ""no-host-route"" option, set host_routes to an empty list as neutron_lib.api.validators expected.\n\nChange-Id: I6fe039793d813758429c7a104fd40172b4f8122b\nCloses-Bug: #1747101\n(cherry picked from commit 5bb5585aa98e17e22963996c02bd7bd688d7871e)\n'}]",0,659545,333e8abef33eec95330721cd5ae54243680d1612,36,9,4,19234,,,0,"Fix subnet host_routes error

When updating subnet with ""no-host-route"" option, set host_routes to an empty list as neutron_lib.api.validators expected.

Change-Id: I6fe039793d813758429c7a104fd40172b4f8122b
Closes-Bug: #1747101
(cherry picked from commit 5bb5585aa98e17e22963996c02bd7bd688d7871e)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/45/659545/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/network/v2/subnet.py']",2,eaac1e32aa7e65550a5127537d49faaf066a596a,bug/1747101-stable/queens, attrs['host_routes'] = [], attrs['host_routes'] = '',31,1
openstack%2Fglance-specs~master~I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385,openstack/glance-specs,master,I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385,Make cinder driver compatible with multiple stores,MERGED,2019-11-20 09:36:44.000000000,2020-08-07 17:49:24.000000000,2020-08-07 17:48:08.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-11-20 09:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/aad7304132f0d00d0f322845a14fc6c784fadf83', 'message': 'Make cinder driver compatible with multiple stores\n\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\nImplements: multiple-cinder-backend-support\n'}, {'number': 2, 'created': '2020-01-03 06:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3c99268b0db7118d5960a3403b7cc2ef61155533', 'message': 'Make cinder driver compatible with multiple stores\n\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\nImplements: multiple-cinder-backend-support\n'}, {'number': 3, 'created': '2020-05-28 16:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/55eb004ce638042258135d2ccfce70dee152ec0a', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 4, 'created': '2020-06-08 14:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e3dc9c72873f288089fb742193df387229f8cf65', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 5, 'created': '2020-06-29 09:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/af8cb39753785dbf913edfebc19cd2ece4b9578e', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 6, 'created': '2020-06-29 14:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ca2582aeb99617fb7e996521261e7ef8fa7d2ff1', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 7, 'created': '2020-07-06 05:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a6b447f3fa49b4e86c1514efa3f724ff3ee94710', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 8, 'created': '2020-07-07 05:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3ae04bb067772f20282c453264e8a9ad66813557', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 9, 'created': '2020-07-08 07:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/968dd06d7014eb8a2beeec7f942f2b924b77af15', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 10, 'created': '2020-07-17 15:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2569aaedfb55d4635666db433f5df80e3e7fe885', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 11, 'created': '2020-07-30 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5ec951ce9beb8fad49a0673ef2554b370a56a852', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 12, 'created': '2020-08-04 07:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f3d2b68b0dfaa0dcebc53be069bd0883d65bea33', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 13, 'created': '2020-08-05 06:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/77a606c98103f3badc3b5f511aea44ba2806cdf7', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}, {'number': 14, 'created': '2020-08-07 15:25:39.000000000', 'files': ['specs/victoria/approved/glance_store/multiple-cinder-backend-support.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5e5ad09b19041f7d527646b2b8b219cd42f22139', 'message': 'Make cinder driver compatible with multiple stores\n\nImplements: blueprint multiple-cinder-backend-support\nChange-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385\n'}]",87,695152,5e5ad09b19041f7d527646b2b8b219cd42f22139,67,7,14,9303,,,0,"Make cinder driver compatible with multiple stores

Implements: blueprint multiple-cinder-backend-support
Change-Id: I3a3d5ec277ac338bcae2f2ba4428ffa6d960a385
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/52/695152/9 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ussuri/approved/glance_store/multiple-cinder-backend-support.rst', 'specs/ussuri/approved/index.rst']",2,aad7304132f0d00d0f322845a14fc6c784fadf83,specs/mutiple-cinder-stores-support,Ussuri approved specs for Glance store: .. toctree:: :glob: :maxdepth: 1 glance_store/*,TODO: fill this in until a new approved space is added. ,217,1
openstack%2Fcharm-octavia~master~I100cb1cfbff0b764932acccb0fdbb76ce6d1715c,openstack/charm-octavia,master,I100cb1cfbff0b764932acccb0fdbb76ce6d1715c,Catch keystone InternalServerError in try,MERGED,2020-07-15 18:39:25.000000000,2020-08-07 17:28:44.000000000,2020-08-07 17:28:44.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-15 18:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/947f56fb7ae8fe0627cfcf90971e0e9c6c0b2c69', 'message': 'Catch keystone InternalServerError in try\n\nAdd keystoneauth1.exceptions.http.InternalServerError to exceptions\ncaught gracefully when setting up Octiva during deploy time.\n\nChange-Id: I100cb1cfbff0b764932acccb0fdbb76ce6d1715c\nCloses-Bug: #1818113\n'}, {'number': 2, 'created': '2020-07-22 15:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/548eb909aefefe8973738522399ab57fefb72e00', 'message': 'Catch keystone InternalServerError in try\n\nAdd keystoneauth1.exceptions.http.InternalServerError to exceptions\ncaught gracefully when setting up Octiva during deploy time.\n\nChange-Id: I100cb1cfbff0b764932acccb0fdbb76ce6d1715c\nCloses-Bug: #1818113\n'}, {'number': 3, 'created': '2020-08-05 21:11:22.000000000', 'files': ['src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7be811606cd9000d57ef4483b9b266e9f613f4dd', 'message': 'Catch keystone InternalServerError in try\n\nAdd keystoneauth1.exceptions.http.InternalServerError to exceptions\ncaught gracefully when setting up Octiva during deploy time.\n\nChange-Id: I100cb1cfbff0b764932acccb0fdbb76ce6d1715c\nCloses-Bug: #1818113\n'}]",0,741304,7be811606cd9000d57ef4483b9b266e9f613f4dd,24,8,3,20805,,,0,"Catch keystone InternalServerError in try

Add keystoneauth1.exceptions.http.InternalServerError to exceptions
caught gracefully when setting up Octiva during deploy time.

Change-Id: I100cb1cfbff0b764932acccb0fdbb76ce6d1715c
Closes-Bug: #1818113
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/04/741304/3 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/api_crud.py'],1,947f56fb7ae8fe0627cfcf90971e0e9c6c0b2c69,bug/1818113," keystone_exceptions.http.InternalServerError,",,1,0
openstack%2Fnova~master~I0108e11f9a75b893d221770d0bf05c39fd8fb2fc,openstack/nova,master,I0108e11f9a75b893d221770d0bf05c39fd8fb2fc,Introduce scope_types in hosts policy,MERGED,2020-07-25 03:20:05.000000000,2020-08-07 17:24:40.000000000,2020-08-07 17:18:27.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-25 03:20:05.000000000', 'files': ['nova/tests/unit/policies/test_hosts.py', 'nova/policies/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/864a32bc37416d45eadabc58c0819ee78afd4f0f', 'message': ""Introduce scope_types in hosts policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for hosts policies\nas 'system'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I0108e11f9a75b893d221770d0bf05c39fd8fb2fc\n""}]",0,743014,864a32bc37416d45eadabc58c0819ee78afd4f0f,17,12,1,8556,,,0,"Introduce scope_types in hosts policy

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for hosts policies
as 'system'.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I0108e11f9a75b893d221770d0bf05c39fd8fb2fc
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/743014/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_hosts.py', 'nova/policies/hosts.py']",2,864a32bc37416d45eadabc58c0819ee78afd4f0f,bp/policy-defaults-refresh-deprecated-apis," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_API, description=""""""List, show and manage physical hosts. operations=[ ], scope_types=['system']),"," BASE_POLICY_NAME, base.RULE_ADMIN_API, """"""List, show and manage physical hosts. [ ]),",18,5
openstack%2Fneutron~stable%2Frocky~Iaeadf97d061773afca776a5f0db7c02665332652,openstack/neutron,stable/rocky,Iaeadf97d061773afca776a5f0db7c02665332652,DNM,ABANDONED,2020-08-06 21:18:11.000000000,2020-08-07 17:17:59.000000000,,"[{'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-06 21:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c8f0b763559d2431628adfca60ae8b04c59f3b2', 'message': 'DNM\n\nChange-Id: Iaeadf97d061773afca776a5f0db7c02665332652\n'}, {'number': 2, 'created': '2020-08-07 09:10:32.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cf3578be4cb82a0f9520d06116af6b5bfe36c4a', 'message': 'DNM\n\nChange-Id: Iaeadf97d061773afca776a5f0db7c02665332652\n'}]",0,745233,4cf3578be4cb82a0f9520d06116af6b5bfe36c4a,10,3,2,11952,,,0,"DNM

Change-Id: Iaeadf97d061773afca776a5f0db7c02665332652
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/745233/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/portforwarding/pf_plugin.py'],1,2c8f0b763559d2431628adfca60ae8b04c59f3b2,,# DNM,,1,0
openstack%2Ftripleo-validations~stable%2Fussuri~Ifacbbd6a493019e606105f45f0302bf1a88bed62,openstack/tripleo-validations,stable/ussuri,Ifacbbd6a493019e606105f45f0302bf1a88bed62,Fix neutron_sanity_check for ML2/OVS overcloud,MERGED,2020-08-05 08:43:34.000000000,2020-08-07 17:11:03.000000000,2020-08-07 17:11:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-05 08:43:34.000000000', 'files': ['roles/neutron_sanity_check/tasks/main.yml', 'playbooks/neutron-sanity-check.yaml', 'roles/neutron_sanity_check/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c01af798890bf631080dd783b0b574e7dbb6fd1', 'message': 'Fix neutron_sanity_check for ML2/OVS overcloud\n\nPreviously validator failed running on neutron_api as the\nneutron-sanity-check binary requires additional capabilities, causing it\nto alway fail [0]. In addition, in some cases a race condition in\noslo_privsep can cause the validator to hang indefinitely [1].\n\nThis fixes it if the overcloud uses ML2/OVS, using the neutron_ovs_agent\ncontainer as we already did on the undercloud, and skipping the check if\nit cannot be found (ML2/OVN deployments typically).\n\nAdditional fixes to the validator:\n* skip gather_facts step\n* fix output parsing\n* call neutron-sanity-check only once, with all configuration files\n  passed to it\n* drop redundant default values in playbook itself\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1783195\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1862364\n\nChange-Id: Ifacbbd6a493019e606105f45f0302bf1a88bed62\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit 3561628f2aac62f27ba6f6f97f814366be7e8993)\n'}]",1,744856,7c01af798890bf631080dd783b0b574e7dbb6fd1,13,7,1,21798,,,0,"Fix neutron_sanity_check for ML2/OVS overcloud

Previously validator failed running on neutron_api as the
neutron-sanity-check binary requires additional capabilities, causing it
to alway fail [0]. In addition, in some cases a race condition in
oslo_privsep can cause the validator to hang indefinitely [1].

This fixes it if the overcloud uses ML2/OVS, using the neutron_ovs_agent
container as we already did on the undercloud, and skipping the check if
it cannot be found (ML2/OVN deployments typically).

Additional fixes to the validator:
* skip gather_facts step
* fix output parsing
* call neutron-sanity-check only once, with all configuration files
  passed to it
* drop redundant default values in playbook itself

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1783195
[1] https://bugzilla.redhat.com/show_bug.cgi?id=1862364

Change-Id: Ifacbbd6a493019e606105f45f0302bf1a88bed62
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit 3561628f2aac62f27ba6f6f97f814366be7e8993)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/56/744856/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/neutron_sanity_check/tasks/main.yml', 'playbooks/neutron-sanity-check.yaml', 'roles/neutron_sanity_check/defaults/main.yml']",3,7c01af798890bf631080dd783b0b574e7dbb6fd1,,# The list of Neutron configuration files and directories that # will be passed to the Neutron services. The order is important # here: the values in later files take precedence.,,42,41
openstack%2Fopenstack-helm-infra~master~Ifa6eb48e56e1a92d090ea9dbaaaf5890f95ae032,openstack/openstack-helm-infra,master,Ifa6eb48e56e1a92d090ea9dbaaaf5890f95ae032,Add Application Armor to Elastic FileBeat,MERGED,2020-08-02 03:27:29.000000000,2020-08-07 16:45:48.000000000,2020-08-07 16:42:23.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29298}]","[{'number': 1, 'created': '2020-08-02 03:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a6a34cf09f27b1c2f4e632b3dd4cabe74e999df', 'message': 'Add Application Armor to Elastic FileBeat\n\nChange-Id: Ifa6eb48e56e1a92d090ea9dbaaaf5890f95ae032\n'}, {'number': 2, 'created': '2020-08-06 18:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8bc27753c8a91a9d7194dd941a27e81f549b52e', 'message': 'Add Application Armor to Elastic FileBeat\n\nChange-Id: Ifa6eb48e56e1a92d090ea9dbaaaf5890f95ae032\n'}, {'number': 3, 'created': '2020-08-07 14:34:37.000000000', 'files': ['elastic-filebeat/templates/daemonset.yaml', 'elastic-filebeat/values_overrides/apparmor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25d03950b07360740929da2ca87f9ef4aa57595c', 'message': 'Add Application Armor to Elastic FileBeat\n\nChange-Id: Ifa6eb48e56e1a92d090ea9dbaaaf5890f95ae032\n'}]",0,744366,25d03950b07360740929da2ca87f9ef4aa57595c,15,5,3,29131,,,0,"Add Application Armor to Elastic FileBeat

Change-Id: Ifa6eb48e56e1a92d090ea9dbaaaf5890f95ae032
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/744366/3 && git format-patch -1 --stdout FETCH_HEAD,"['elastic-filebeat/templates/daemonset.yaml', 'elastic-filebeat/values_overrides/apparmor.yaml']",2,6a6a34cf09f27b1c2f4e632b3dd4cabe74e999df,,--- pod: mandatory_access_control: type: apparmor filebeat: filebeat: runtime/default init: runtime/default ... ,,9,0
openstack%2Floci~master~Ia1c4774aede69f83e1f43c7b511e176edc10cc9e,openstack/loci,master,Ia1c4774aede69f83e1f43c7b511e176edc10cc9e,Fix KEEP_ALL_WHEELS flag usage,MERGED,2020-08-06 19:44:41.000000000,2020-08-07 16:38:53.000000000,2020-08-07 16:38:53.000000000,"[{'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-08-06 19:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/42727b0e261d5147011f446b389762091dfbbe7e', 'message': 'Fix KEEP_ALL_WHEELS flag usage\n\nChange-Id: Ia1c4774aede69f83e1f43c7b511e176edc10cc9e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-06 19:45:06.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/f041966a8c6bb365a721dee016875893aa3925db', 'message': 'Fix KEEP_ALL_WHEELS flag usage\n\nChange-Id: Ia1c4774aede69f83e1f43c7b511e176edc10cc9e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745209,f041966a8c6bb365a721dee016875893aa3925db,8,6,2,8863,,,0,"Fix KEEP_ALL_WHEELS flag usage

Change-Id: Ia1c4774aede69f83e1f43c7b511e176edc10cc9e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/loci refs/changes/09/745209/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,42727b0e261d5147011f446b389762091dfbbe7e,,"if [[ ""$KEEP_ALL_WHEELS"" == ""False"" ]]; then","if [[ KEEP_ALL_WHEELS == ""False"" ]]; then",1,1
openstack%2Fopenstack-helm~master~Icab982b9168381a7795719a6348a5d1c85b71453,openstack/openstack-helm,master,Icab982b9168381a7795719a6348a5d1c85b71453,Add Application Armor to cinder-Job,MERGED,2020-08-04 17:13:35.000000000,2020-08-07 16:38:08.000000000,2020-08-07 16:34:18.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29298}]","[{'number': 1, 'created': '2020-08-04 17:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/709d7b1eaff19f9ceaf5a51de33e9318548848c8', 'message': 'Add Application Armor to cinder-Job\n\nChange-Id: Icab982b9168381a7795719a6348a5d1c85b71453\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-08-04 18:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/42a63e3e769b691e1872ac5e579a84dcf5db74cb', 'message': 'Add Application Armor to cinder-Job\n\nChange-Id: Icab982b9168381a7795719a6348a5d1c85b71453\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-08-06 18:40:52.000000000', 'files': ['cinder/templates/job-create-internal-tenant.yaml', 'cinder/values_overrides/apparmor.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a892707f4164a47225475dcbdbaa333eed3285ae', 'message': 'Add Application Armor to cinder-Job\n\nChange-Id: Icab982b9168381a7795719a6348a5d1c85b71453\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}]",0,744756,a892707f4164a47225475dcbdbaa333eed3285ae,14,5,3,29131,,,0,"Add Application Armor to cinder-Job

Change-Id: Icab982b9168381a7795719a6348a5d1c85b71453
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/744756/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,709d7b1eaff19f9ceaf5a51de33e9318548848c8,apparmor,,,0,0
openstack%2Fnova~master~Id398dfc2edaf75e60e2a3df48c478e2646a2a06e,openstack/nova,master,Id398dfc2edaf75e60e2a3df48c478e2646a2a06e,Add test coverage of hosts policies,MERGED,2020-07-25 03:08:31.000000000,2020-08-07 16:33:28.000000000,2020-08-07 16:29:52.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-25 03:08:31.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/policies/test_hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b58713b2e064b37c6a9e1f2dc63a5a86250e7683', 'message': ""Add test coverage of hosts policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Id398dfc2edaf75e60e2a3df48c478e2646a2a06e\n""}]",0,743013,b58713b2e064b37c6a9e1f2dc63a5a86250e7683,15,10,1,8556,,,0,"Add test coverage of hosts policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Id398dfc2edaf75e60e2a3df48c478e2646a2a06e
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/743013/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/policies/test_hosts.py']",2,b58713b2e064b37c6a9e1f2dc63a5a86250e7683,bp/policy-defaults-refresh-deprecated-apis,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova.api.openstack.compute import hosts from nova.policies import hosts as policies from nova.tests.unit.api.openstack import fakes from nova.tests.unit.policies import base class HostsPolicyTest(base.BasePolicyTest): """"""Test os-hosts APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(HostsPolicyTest, self).setUp() self.controller = hosts.HostController() self.req = fakes.HTTPRequest.blank('') # Check that admin is able to perform operations on hosts. self.admin_authorized_contexts = [ self.system_admin_context, self.legacy_admin_context, self.project_admin_context] # Check that non-admin is not able to perform operations # on hosts. self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context, self.project_foo_context, self.project_member_context, self.project_reader_context, self.other_project_reader_context] @mock.patch('nova.compute.api.HostAPI.service_get_all') def test_list_hosts_policy(self, mock_get): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.index, self.req) @mock.patch('nova.context.set_target_cell') @mock.patch('nova.objects.HostMapping.get_by_host') @mock.patch('nova.objects.ComputeNode.' 'get_first_node_by_host_for_old_compat') @mock.patch('nova.compute.api.HostAPI.instance_get_all_by_host') def test_show_host_policy(self, mock_get, mock_node, mock_map, mock_set): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.show, self.req, 11111) def test_update_host_policy(self): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.update, self.req, 11111, body={}) @mock.patch('nova.compute.api.HostAPI.host_power_action') def test_reboot_host_policy(self, mock_action): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.reboot, self.req, 11111) @mock.patch('nova.compute.api.HostAPI.host_power_action') def test_shutdown_host_policy(self, mock_action): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.shutdown, self.req, 11111) @mock.patch('nova.compute.api.HostAPI.host_power_action') def test_startup_host_policy(self, mock_action): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.startup, self.req, 11111) class HostsScopeTypePolicyTest(HostsPolicyTest): """"""Test os-hosts APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(HostsScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,110,29
openstack%2Fopenstack-helm-infra~master~Ie52b9cd134068a4e7be26d999ab0257cbcef9763,openstack/openstack-helm-infra,master,Ie52b9cd134068a4e7be26d999ab0257cbcef9763,snmp_notifier for alertmanager,ABANDONED,2020-07-07 21:16:53.000000000,2020-08-07 16:32:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-07-07 21:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a1d6ac893fbf050234aeecc138ed69d7a7b29c4', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 2, 'created': '2020-07-08 12:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3dc2fbcd84850b2f54102a89db76ed4706b76858', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 3, 'created': '2020-07-27 20:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/480ac251c108a0c9f8cb2f7d82fb6d71ffcd8a45', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 4, 'created': '2020-07-28 13:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b7650ea4cc28bf3a1cb2d6018fdc23b1cb8a20b1', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 5, 'created': '2020-07-28 14:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21a1cd932d987189efec67aa01ab3c113361509c', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 6, 'created': '2020-07-28 19:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/112dd0d8a4f98dcf47cc08fa6fde6eaaacdf76d7', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 7, 'created': '2020-07-29 13:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bf230af2f78af9b2877e60bbbf3acd66438d7fd', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 8, 'created': '2020-07-29 20:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9c02c064df1e2fb726d821d883cea375245a8b3', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 9, 'created': '2020-07-31 16:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69cba4f78ae6d8ab263a0beba33ab951f8df5c4a', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 10, 'created': '2020-07-31 21:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6729a1556e390b8c9d06618b8cc773fdd27e120', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 11, 'created': '2020-07-31 22:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b98c65ca069989df416d13f32110e9d5cacdd08a', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}, {'number': 12, 'created': '2020-08-01 01:44:47.000000000', 'files': ['tools/deployment/osh-infra-monitoring/060-alertmanager.sh', 'snmp-notifier/Chart.yaml', 'snmp-notifier/values.yaml', 'tools/deployment/osh-infra-monitoring/065-snmp-notifier.sh', 'snmp-notifier/templates/service.yaml', 'tools/deployment/common/065-snmp-notifier.sh', 'prometheus/values.yaml', 'prometheus-alertmanager/templates/configmap-etc.yaml', 'tools/deployment/common/060-alertmanager.sh', 'prometheus-alertmanager/values.yaml', 'tools/deployment/multinode/060-alertmanager.sh', 'tools/deployment/multinode/065-snmp-notifier.sh', 'snmp-notifier/templates/deployment.yaml', 'snmp-notifier/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdce1661ee8be3132084aafe6699b02381cf9249', 'message': 'snmp_notifier for alertmanager\n\nHelm chart of snmp_notifier for alertmanager\n\nChange-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763\n'}]",30,739851,bdce1661ee8be3132084aafe6699b02381cf9249,32,4,12,31713,,,0,"snmp_notifier for alertmanager

Helm chart of snmp_notifier for alertmanager

Change-Id: Ie52b9cd134068a4e7be26d999ab0257cbcef9763
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/739851/1 && git format-patch -1 --stdout FETCH_HEAD,"['snmp-notifier/templates/service-discovery.yaml', 'snmp-notifier/Chart.yaml', 'snmp-notifier/values.yaml', 'snmp-notifier/templates/service.yaml', 'snmp-notifier/templates/clusterrolebinding.yaml', 'snmp-notifier/requirements.yaml', 'snmp-notifier/templates/statefulset.yaml']",7,3a1d6ac893fbf050234aeecc138ed69d7a7b29c4,739851,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.statefulset }} {{- $envAll := . }} {{- $mounts_snmpnotifier := .Values.pod.mounts.snmpnotifier.snmpnotifier }} {{- $mounts_snmpnotifier_init := .Values.pod.mounts.snmpnotifier.init_container }} {{- $serviceAccountName := ""snmpnotifier"" }} {{ tuple $envAll ""snmpnotifier"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: apps/v1 kind: StatefulSet metadata: name: snmpnotifier annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: podManagementPolicy: ""Parallel"" replicas: {{ .Values.pod.replicas.snmpnotifier }} selector: matchLabels: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} template: metadata: labels: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: {{ dict ""envAll"" $envAll ""podName"" ""snmpnotifier"" ""containerNames"" (list ""snmpnotifier"" ""snmpnotifier-perms"" ""init"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }} spec: {{ dict ""envAll"" $envAll ""application"" ""server"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }} serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.snmpnotifier.node_selector_key }}: {{ .Values.labels.snmpnotifier.node_selector_value | quote }} terminationGracePeriodSeconds: {{ .Values.pod.lifecycle.termination_grace_period.snmpnotifier.timeout | default ""30"" }} initContainers: {{ tuple $envAll ""snmpnotifier"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} - name: snmpnotifier-perms {{ tuple $envAll ""snmpnotifier"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.snmpnotifier | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""server"" ""container"" ""snmpnotifier_perms"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} command: - chown - -R - ""nobody:"" - /var/lib/snmpnotifier/data volumeMounts: - name: pod-tmp mountPath: /tmp - name: snmpnotifier-data mountPath: /var/lib/snmpnotifier/data containers: - name: snmpnotifier {{ tuple $envAll ""snmpnotifier"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.snmpnotifier | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""server"" ""container"" ""snmpnotifier"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} ports: - name: snmp-api containerPort: {{ tuple ""snmpnotifier"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: httpGet: path: /#/status port: {{ tuple ""snmpnotifier"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 30 timeoutSeconds: 30 volumeMounts: - name: pod-tmp mountPath: /tmp {{ if $mounts_snmpnotifier.volumeMounts }}{{ toYaml $mounts_snmpnotifier.volumeMounts | indent 12 }}{{ end }} volumes: - name: pod-tmp emptyDir: {} - name: etc-snmpnotifier emptyDir: {} - name: snmpnotifier-etc configMap: name: snmpnotifier-etc - name: snmpnotifier-bin configMap: name: snmpnotifier-bin defaultMode: 365 {{ if $mounts_snmpnotifier.volumes }}{{ toYaml $mounts_snmpnotifier.volumes | indent 8 }}{{ end }} {{- if not .Values.storage.enabled }} - name: snmpnotifier-data emptyDir: {} {{- else }} volumeClaimTemplates: - metadata: name: snmpnotifier-data spec: accessModes: {{ .Values.storage.pvc.access_mode }} resources: requests: storage: {{ .Values.storage.requests.storage }} storageClassName: {{ .Values.storage.storage_class }} {{- end }} {{- end }} ",,414,0
openstack%2Fcinder~stable%2Ftrain~I05dfc996a635299990fdafba841ab6c4fd7d32c7,openstack/cinder,stable/train,I05dfc996a635299990fdafba841ab6c4fd7d32c7,RBD: Cleanup temporary file during exception,MERGED,2020-06-30 11:27:22.000000000,2020-08-07 16:30:24.000000000,2020-08-06 16:32:35.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-30 11:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0e764291785154150d983ef33585fe871732840', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 3, 'created': '2020-08-05 19:43:50.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/image/image_utils.py', 'releasenotes/notes/cleanup-rbd-temp-file-during-convert-fail-3848e9dbe7e15fc6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/48774c89abe6f9770a55a4f8be9f682b22b900d1', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n(cherry picked from commit 7c95f3969f4c0df5f818f96cb662dddc17a8dd6f)\n(cherry picked from commit 02de7897d4e4ec3be6c4684a2e73a054956d1a00)\n""}]",0,738586,48774c89abe6f9770a55a4f8be9f682b22b900d1,39,16,2,30858,,,0,"RBD: Cleanup temporary file during exception

During copy image to encrypted volume operation, we create a
temporary image file to convert source image into an encrypted
image and rename it to source image name.
If any error occurs during this process, there is no code to
cleanup the temporary '.luks' file.
This patch adds the following cleanup.

Change-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7
Closes-Bug: 1873738
(cherry picked from commit 7c95f3969f4c0df5f818f96cb662dddc17a8dd6f)
(cherry picked from commit 02de7897d4e4ec3be6c4684a2e73a054956d1a00)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/738586/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/image/image_utils.py', 'releasenotes/notes/cleanup-rbd-temp-file-during-convert-fail-3848e9dbe7e15fc6.yaml']",4,e0e764291785154150d983ef33585fe871732840,bug/1873738-stable/ussuri-stable/train,--- fixes: - | `Bug #1873738 <https://bugs.launchpad.net/cinder/+bug/1873738>`_: RBD Driver: Added cleanup for residue destination file if the copy image to encrypted volume operation fails.,,57,6
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9e0099ff39d39c4d4c5f96db590e73d538ed241b,openstack/tripleo-heat-templates,stable/queens,I9e0099ff39d39c4d4c5f96db590e73d538ed241b,[Queens only] Clean yum metadata.,MERGED,2020-06-18 12:24:52.000000000,2020-08-07 16:19:34.000000000,2020-08-07 16:19:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-06-18 12:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1dd1f774b00bac1652e7abb9825c8f3b896296c', 'message': ""[Queens only] Clean yum metadata.\n\nClean yum metadata before run the check update for docker. Currently the\novercloud update run doesn't return an error even if not able to connect\nto yum repository.\n\nChange-Id: I9e0099ff39d39c4d4c5f96db590e73d538ed241b\n""}, {'number': 2, 'created': '2020-06-19 12:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e12de21a2b8c533d31ffd692d473b4af0f804a87', 'message': ""[Queens only] Clean yum metadata.\n\nClean yum metadata before run the check update for docker. Currently the\novercloud update run doesn't return an error even if not able to connect\nto yum repository.\n\nChange-Id: I9e0099ff39d39c4d4c5f96db590e73d538ed241b\n""}, {'number': 3, 'created': '2020-06-23 12:50:52.000000000', 'files': ['puppet/services/docker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad72167f37d837a6aa09e5ad63612d153970822b', 'message': ""[Queens only] Clean yum metadata.\n\nClean yum metadata before run the check update for docker. Currently the\novercloud update run doesn't return an error even if not able to connect\nto yum repository. Check the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1822576\n\nChange-Id: I9e0099ff39d39c4d4c5f96db590e73d538ed241b\n""}]",1,736699,ad72167f37d837a6aa09e5ad63612d153970822b,18,6,3,31245,,,0,"[Queens only] Clean yum metadata.

Clean yum metadata before run the check update for docker. Currently the
overcloud update run doesn't return an error even if not able to connect
to yum repository. Check the bugzilla[1] to have more information.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1822576

Change-Id: I9e0099ff39d39c4d4c5f96db590e73d538ed241b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/736699/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/docker.yaml'],1,c1dd1f774b00bac1652e7abb9825c8f3b896296c,queens, - name: Clean yum metadata shell: yum clean metadata,,2,0
openstack%2Ftripleo-validations~stable%2Ftrain~Ifacbbd6a493019e606105f45f0302bf1a88bed62,openstack/tripleo-validations,stable/train,Ifacbbd6a493019e606105f45f0302bf1a88bed62,Fix neutron_sanity_check for ML2/OVS overcloud,MERGED,2020-08-05 08:43:42.000000000,2020-08-07 16:19:32.000000000,2020-08-07 16:19:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-05 08:43:42.000000000', 'files': ['roles/neutron_sanity_check/tasks/main.yml', 'playbooks/neutron-sanity-check.yaml', 'roles/neutron_sanity_check/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f8d7882f3343fa4cae843b6c20f1606cf768a16d', 'message': 'Fix neutron_sanity_check for ML2/OVS overcloud\n\nPreviously validator failed running on neutron_api as the\nneutron-sanity-check binary requires additional capabilities, causing it\nto alway fail [0]. In addition, in some cases a race condition in\noslo_privsep can cause the validator to hang indefinitely [1].\n\nThis fixes it if the overcloud uses ML2/OVS, using the neutron_ovs_agent\ncontainer as we already did on the undercloud, and skipping the check if\nit cannot be found (ML2/OVN deployments typically).\n\nAdditional fixes to the validator:\n* skip gather_facts step\n* fix output parsing\n* call neutron-sanity-check only once, with all configuration files\n  passed to it\n* drop redundant default values in playbook itself\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1783195\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1862364\n\nChange-Id: Ifacbbd6a493019e606105f45f0302bf1a88bed62\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit 3561628f2aac62f27ba6f6f97f814366be7e8993)\n'}]",0,744857,f8d7882f3343fa4cae843b6c20f1606cf768a16d,7,6,1,21798,,,0,"Fix neutron_sanity_check for ML2/OVS overcloud

Previously validator failed running on neutron_api as the
neutron-sanity-check binary requires additional capabilities, causing it
to alway fail [0]. In addition, in some cases a race condition in
oslo_privsep can cause the validator to hang indefinitely [1].

This fixes it if the overcloud uses ML2/OVS, using the neutron_ovs_agent
container as we already did on the undercloud, and skipping the check if
it cannot be found (ML2/OVN deployments typically).

Additional fixes to the validator:
* skip gather_facts step
* fix output parsing
* call neutron-sanity-check only once, with all configuration files
  passed to it
* drop redundant default values in playbook itself

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1783195
[1] https://bugzilla.redhat.com/show_bug.cgi?id=1862364

Change-Id: Ifacbbd6a493019e606105f45f0302bf1a88bed62
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit 3561628f2aac62f27ba6f6f97f814366be7e8993)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/744857/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/neutron_sanity_check/tasks/main.yml', 'playbooks/neutron-sanity-check.yaml', 'roles/neutron_sanity_check/defaults/main.yml']",3,f8d7882f3343fa4cae843b6c20f1606cf768a16d,,# The list of Neutron configuration files and directories that # will be passed to the Neutron services. The order is important # here: the values in later files take precedence.,,42,41
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ia5971af601d1d9500f33045768b38ac7937117f5,openstack/python-tripleoclient,stable/ussuri,Ia5971af601d1d9500f33045768b38ac7937117f5,Simplify error handling in tripleo_deploy,MERGED,2020-08-03 09:08:15.000000000,2020-08-07 16:11:33.000000000,2020-08-07 16:09:42.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 09:08:15.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e352506699f8f52f1ce8cf05862f9ba9c2520a0c', 'message': ""Simplify error handling in tripleo_deploy\n\nDon't use return code from ansible_runner and manage with a flag.\nThis also removes the fail_on_rc flag from run_ansible_playbook()\nand makes it consistent to raise RuntimeError if rc !=0\neverywhere including _standalone_deploy().\n\nConflicts:\n\ttripleoclient/tests/v1/tripleo/test_tripleo_deploy.py\n\ttripleoclient/utils.py\n\ttripleoclient/v1/tripleo_deploy.py\n\nChange-Id: Ia5971af601d1d9500f33045768b38ac7937117f5\nCloses-Bug: #1889394\n(cherry picked from commit a29dd8ef79dcf9fbde5dae1b98f0e88694b14b7a)\n""}]",0,744422,e352506699f8f52f1ce8cf05862f9ba9c2520a0c,7,2,1,8833,,,0,"Simplify error handling in tripleo_deploy

Don't use return code from ansible_runner and manage with a flag.
This also removes the fail_on_rc flag from run_ansible_playbook()
and makes it consistent to raise RuntimeError if rc !=0
everywhere including _standalone_deploy().

Conflicts:
	tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py
	tripleoclient/utils.py
	tripleoclient/v1/tripleo_deploy.py

Change-Id: Ia5971af601d1d9500f33045768b38ac7937117f5
Closes-Bug: #1889394
(cherry picked from commit a29dd8ef79dcf9fbde5dae1b98f0e88694b14b7a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/744422/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",4,e352506699f8f52f1ce8cf05862f9ba9c2520a0c,," @mock.patch.object( ansible_runner.runner_config, 'RunnerConfig', return_value=fakes.FakeRunnerConfig() ) @mock.patch.object( ansible_runner.Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(1) ) @mock.patch('os.path.exists') @mock.patch('os.chdir') @mock.patch('tripleoclient.utils.reset_cmdline') @mock.patch('tripleoclient.utils.copy_clouds_yaml') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_stack_outputs') @mock.patch('tripleo_common.actions.ansible.' 'write_default_ansible_cfg') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.chmod') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('subprocess.check_call', autospec=True) # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('getpass.getuser', return_value='stack') @mock.patch('os.mkdir') @mock.patch('six.moves.builtins.open') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_populate_templates_dir') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_install_artifact', return_value='/tmp/foo.tar.bzip2') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_cleanup_working_dirs') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_working_dirs') @mock.patch('tripleoclient.utils.wait_api_port_ready', autospec=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_deploy_tripleo_heat_templates', autospec=True, return_value='undercloud, 0') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_ansible_playbooks', autospec=True, return_value='/foo') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_launch_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_kill_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_configure_puppet') @mock.patch('os.geteuid', return_value=0) @mock.patch('os.environ', return_value='CREATE_COMPLETE') @mock.patch('tripleoclient.utils.wait_for_stack_ready', return_value=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_set_default_plan') @mock.patch('ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") def test_take_action_ansible_err(self, mock_dump_artifact, mock_def_plan, mock_poll, mock_environ, mock_geteuid, mock_puppet, mock_killheat, mock_launchheat, mock_download, mock_tht, mock_wait_for_port, mock_createdirs, mock_cleanupdirs, mock_tarball, mock_templates_dir, mock_open, mock_os, mock_user, mock_cc, mock_chmod, mock_ac, mock_outputs, mock_copy, mock_cmdline, mock_chdir, mock_file_exists, mock_run, mock_run_prepare): parsed_args = self.check_parser(self.cmd, ['--local-ip', '127.0.0.1', '--templates', '/tmp/thtroot', '--stack', 'undercloud', '--output-dir', '/my', '--standalone', '--standalone-role', 'Undercloud', # TODO(cjeanner) drop once we have # proper oslo.privsep '--deployment-user', 'stack', '-e', '/tmp/thtroot/puppet/foo.yaml', '-e', '/tmp/thtroot//docker/bar.yaml', '-e', '/tmp/thtroot42/notouch.yaml', '-e', '~/custom.yaml', '-e', 'something.yaml', '-e', '../../../outside.yaml'], []) mock_file_exists.return_value = True fake_orchestration = mock_launchheat(parsed_args) self.assertRaises(exceptions.DeploymentError, self.cmd.take_action, parsed_args) mock_createdirs.assert_called_once() mock_puppet.assert_called_once() mock_launchheat.assert_called_with(parsed_args) mock_tht.assert_called_once_with(self.cmd, fake_orchestration, parsed_args) mock_download.assert_called_with(self.cmd, fake_orchestration, 'undercloud', 'Undercloud', sys.executable) mock_tarball.assert_called_once() mock_cleanupdirs.assert_called_once() self.assertEqual(mock_killheat.call_count, 2) @mock.patch('os.chdir') @mock.patch('tripleoclient.utils.reset_cmdline') @mock.patch('tripleoclient.utils.copy_clouds_yaml') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_stack_outputs') @mock.patch('tripleo_common.actions.ansible.' 'write_default_ansible_cfg') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.chmod') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('subprocess.check_call', autospec=True) # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('getpass.getuser', return_value='stack') @mock.patch('os.mkdir') @mock.patch('six.moves.builtins.open') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_populate_templates_dir') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_install_artifact', return_value='/tmp/foo.tar.bzip2') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_cleanup_working_dirs') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_working_dirs') @mock.patch('tripleoclient.utils.wait_api_port_ready') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_deploy_tripleo_heat_templates', autospec=True, return_value='undercloud, 0') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_ansible_playbooks', autospec=True, return_value='/foo') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_launch_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_kill_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_configure_puppet') @mock.patch('os.geteuid', return_value=0) @mock.patch('os.environ', return_value='CREATE_COMPLETE') @mock.patch('tripleoclient.utils.wait_for_stack_ready', return_value=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_set_default_plan') def test_take_action_other_err(self, mock_def_plan, mock_poll, mock_environ, mock_geteuid, mock_puppet, mock_killheat, mock_launchheat, mock_download, mock_tht, mock_wait_for_port, mock_createdirs, mock_cleanupdirs, mock_tarball, mock_templates_dir, mock_open, mock_os, mock_user, mock_cc, mock_chmod, mock_ac, mock_outputs, mock_copy, mock_cmdline, mock_chdir): parsed_args = self.check_parser(self.cmd, ['--local-ip', '127.0.0.1', '--templates', '/tmp/thtroot', '--stack', 'undercloud', '--output-dir', '/my', '--standalone', '--standalone-role', 'Undercloud', # TODO(cjeanner) drop once we have # proper oslo.privsep '--deployment-user', 'stack', '-e', '/tmp/thtroot/puppet/foo.yaml', '-e', '/tmp/thtroot//docker/bar.yaml', '-e', '/tmp/thtroot42/notouch.yaml', '-e', '~/custom.yaml', '-e', 'something.yaml', '-e', '../../../outside.yaml'], []) mock_wait_for_port.side_effect = exceptions.DeploymentError self.assertRaises(exceptions.DeploymentError, self.cmd.take_action, parsed_args) mock_createdirs.assert_called_once() mock_puppet.assert_called_once() mock_launchheat.assert_called_with(parsed_args) mock_tht.assert_not_called() mock_download.assert_not_called() mock_tarball.assert_called_once() mock_cleanupdirs.assert_called_once() self.assertEqual(mock_killheat.call_count, 1) '--standalone', @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy._standalone_deploy') mock_deploy.side_effect = exceptions.DeploymentError"," @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy._standalone_deploy', return_value=1)",203,47
openstack%2Fironic-python-agent~master~Ifacd8fb05a80f34029965156334fbb707468f1f6,openstack/ironic-python-agent,master,Ifacd8fb05a80f34029965156334fbb707468f1f6,Examples: add deploy_steps examples,MERGED,2020-08-04 13:22:40.000000000,2020-08-07 16:05:19.000000000,2020-08-07 15:55:30.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 13:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2a3c21867f13dfa9e09517a49963c66cfeb96091', 'message': 'Examples: add deploy_steps examples\n\nChange-Id: Ifacd8fb05a80f34029965156334fbb707468f1f6\n'}, {'number': 2, 'created': '2020-08-04 14:52:18.000000000', 'files': ['ironic_python_agent/hardware.py', 'examples/business-logic/example_business_logic.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ce5386336112510ed085a60c6f18a4c1c779b8a0', 'message': 'Examples: add deploy_steps examples\n\nChange-Id: Ifacd8fb05a80f34029965156334fbb707468f1f6\n'}]",4,744705,ce5386336112510ed085a60c6f18a4c1c779b8a0,18,6,2,10239,,,0,"Examples: add deploy_steps examples

Change-Id: Ifacd8fb05a80f34029965156334fbb707468f1f6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/05/744705/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/business-logic/example_business_logic.py'],1,2a3c21867f13dfa9e09517a49963c66cfeb96091,deploy-steps-examples," def get_deploy_steps(self, node, ports): """"""Get a list of deploy steps with priority. Returns a list of steps. Each step is represented by a dict:: { 'interface': the name of the driver interface that should execute the step. 'step': the HardwareManager function to call. 'priority': the order steps will be run in. Ironic will sort all the deploy steps from all the drivers, with the largest priority step being run first. If priority is set to 0, the step will not be run during deployment, but may be run during zapping. 'reboot_requested': Whether the agent should request Ironic reboots the node via the power driver after the operation completes. 'argsinfo': arguments specification. } Deploy steps are executed by similar logic to clean steps, but during deploy time. The following priority ranges should be used: * 81 to 99 - deploy steps to run before the image is written. * 61 to 79 - deploy steps to run after the image is written but before the bootloader is installed. * 41 to 59 - steps to run after the image is written and the bootloader is installed. If priority is zero, the step must be explicitly selected via an applied deploy template. Note that each deploy step makes deployments longer. Try to use clean steps for anything that is not required to be run just before an instance is ready. :param node: Ironic node object :param ports: list of Ironic port objects :return: a list of deploying steps, where each step is described as a dict as defined above """""" return [ { 'step': 'companyx_verify_memory', 'priority': 90, # always run before the image is written 'interface': 'deploy', 'reboot_requested': False, }, { 'step': 'companyx_apply_something', 'priority': 0, # only run explicitly 'interface': 'deploy', 'reboot_requested': False, 'argsinfo': { ""required_value"": { ""description"": ""An example required argument."", ""required"": True, }, ""optional_value"": { ""description"": ""An example optional argument."", ""required"": False, } } }, ] def companyx_verify_memory(self, node, ports): expected = node.get('properties', {}).get('memory_mb') if expected is None: LOG.warning('The node does not have memory, cannot verify') return else: expected = int(expected) # Use dispatch_to_managers to avoid tight coupling between hardware # managers. It would make sense even if this hardware manager # implemented get_memory, because a more specific hardware managers # could do it better. current = hardware.dispatch_to_managers('get_memory') if current.physical_mb < expected: raise errors.DeploymentError( 'Memory too low, expected {}, got {}'.format( expected, current.physical_mb)) # Make sure to provide default values for optional arguments. def companyx_apply_something(self, node, ports, required_value, optional_value=None): LOG.info('apply_something called with required_value={} and ' 'optional_value={}'.format(required_value, optional_value))",,93,0
openstack%2Fnova~master~I37fa825b0e915e83da7023564a29811dcdfa058d,openstack/nova,master,I37fa825b0e915e83da7023564a29811dcdfa058d,Add new default roles in volumes policies,MERGED,2020-07-24 01:57:32.000000000,2020-08-07 16:03:55.000000000,2020-08-07 15:58:05.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-24 01:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb280450e43ddb0f08843077a246e2a20f624704', 'message': 'Add new default roles in volumes policies\n\nThis adds new defaults roles in volumes API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I37fa825b0e915e83da7023564a29811dcdfa058d\n'}, {'number': 2, 'created': '2020-07-28 15:12:04.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/volumes.py', 'nova/policies/volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b39712f03ed754557c1d3a5d10c37fe0a0e35efb', 'message': 'Add new default roles in volumes policies\n\nThis adds new defaults roles in volumes API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I37fa825b0e915e83da7023564a29811dcdfa058d\n'}]",3,742777,b39712f03ed754557c1d3a5d10c37fe0a0e35efb,34,12,2,8556,,,0,"Add new default roles in volumes policies

This adds new defaults roles in volumes API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I37fa825b0e915e83da7023564a29811dcdfa058d
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/742777/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/volumes.py', 'nova/policies/volumes.py']",4,bb280450e43ddb0f08843077a246e2a20f624704,bp/policy-defaults-refresh-deprecated-apis,"POLICY_NAME = 'os_compute_api:os-volumes:%s' DEPRECATED_POLICY = policy.DeprecatedRule( BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, ) DEPRECATED_REASON = """""" Nova API policies are introducing new default roles with scope_type capabilities. Old policies are deprecated and silently going to be ignored in nova 23.0.0 release. """""" name=POLICY_NAME % 'list', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""List volumes. This API is proxy calls to the Volume service. This is deprecated."""""", ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'create', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""""""Create volume. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'detail', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""List volumes detail. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'show', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""Show volume. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'delete', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""""""Delete volume. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'snapshots:list', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""List snapshots. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'snapshots:create', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""""""Create snapshots. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'snapshots:detail', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""List snapshots details. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'snapshots:show', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""Show snapshot. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'snapshots:delete', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""""""Delete snapshot. This API is proxy calls to the Volume service. This is deprecated."""""", operations=[ scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'),"," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Manage volumes for use with the Compute API. Lists, shows details, creates, and deletes volumes and snapshots. These APIs are proxy calls to the Volume service. These are all deprecated. """""", scope_types=['system', 'project']),",162,18
openstack%2Fironic~stable%2Fussuri~I2231de30778a2ab3adffa8a5b68ff7216717534c,openstack/ironic,stable/ussuri,I2231de30778a2ab3adffa8a5b68ff7216717534c,Make the final deploy step validation actually fail deploy,MERGED,2020-07-28 16:19:59.000000000,2020-08-07 16:02:47.000000000,2020-08-07 15:55:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-28 16:19:59.000000000', 'files': ['releasenotes/notes/deploy-step-validate-76b2aa97e02ba669.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad8697674b4ca8bdb0ba8873ac2e7f353910606a', 'message': 'Make the final deploy step validation actually fail deploy\n\nSince continue_node_deploy is an async RPC call, currently it ends up\njust logging InvalidParameterValue, making deployment hang.\n\nRelated Story: #2006963\n\nChange-Id: I2231de30778a2ab3adffa8a5b68ff7216717534c\n(cherry picked from commit a1e079caec1a6a9026d687cb87acc6e228f8e4bf)\n'}]",0,743587,ad8697674b4ca8bdb0ba8873ac2e7f353910606a,23,6,1,10239,,,0,"Make the final deploy step validation actually fail deploy

Since continue_node_deploy is an async RPC call, currently it ends up
just logging InvalidParameterValue, making deployment hang.

Related Story: #2006963

Change-Id: I2231de30778a2ab3adffa8a5b68ff7216717534c
(cherry picked from commit a1e079caec1a6a9026d687cb87acc6e228f8e4bf)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/743587/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deploy-step-validate-76b2aa97e02ba669.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py']",3,ad8697674b4ca8bdb0ba8873ac2e7f353910606a,story/2006963-stable/ussuri," @mock.patch.object(conductor_steps, 'validate_deploy_templates', autospec=True) @mock.patch('ironic.conductor.manager.ConductorManager._spawn_worker', autospec=True) def test_continue_node_steps_validation(self, mock_spawn, mock_validate): prv_state = states.DEPLOYWAIT tgt_prv_state = states.ACTIVE mock_validate.side_effect = exception.InvalidParameterValue('boom') driver_info = {'deploy_steps': self.deploy_steps, 'deploy_step_index': 0, 'steps_validated': False} node = obj_utils.create_test_node(self.context, driver='fake-hardware', provision_state=prv_state, target_provision_state=tgt_prv_state, last_error=None, driver_internal_info=driver_info, deploy_step=self.deploy_steps[0]) self._start_service() mock_spawn.reset_mock() self.service.continue_node_deploy(self.context, node.uuid) self._stop_service() node.refresh() self.assertEqual(states.DEPLOYFAIL, node.provision_state) self.assertIn('Failed to validate the final deploy steps', node.last_error) self.assertIn('boom', node.last_error) self.assertEqual(tgt_prv_state, node.target_provision_state) self.assertFalse(mock_spawn.called) ",,43,3
openstack%2Fironic-python-agent~master~I2af04f4b7f9a2109fe83ec517e716159331a48bb,openstack/ironic-python-agent,master,I2af04f4b7f9a2109fe83ec517e716159331a48bb,Import example hardware managers from ipa-example-hardware-managers,MERGED,2020-07-29 16:09:33.000000000,2020-08-07 16:01:51.000000000,2020-08-07 15:55:29.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-07-29 16:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f8f385c516296bb7f278f6e227d71c41604565f', 'message': ""Import example hardware managers from ipa-example-hardware-managers\n\nThey're not easily discoverable there, let's keep them in tree.\n\nChange-Id: I2af04f4b7f9a2109fe83ec517e716159331a48bb\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n""}, {'number': 2, 'created': '2020-07-29 16:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7ee90fca8c86366d3c7d75438e7e8318e8b1ba9a', 'message': ""Import example hardware managers from ipa-example-hardware-managers\n\nThey're not easily discoverable there, let's keep them in tree.\n\nChange-Id: I2af04f4b7f9a2109fe83ec517e716159331a48bb\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n""}, {'number': 3, 'created': '2020-07-29 16:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cee9838a844362eadad8f474ae39f504e01d8244', 'message': ""Import example hardware managers from ipa-example-hardware-managers\n\nThey're not easily discoverable there, let's keep them in tree.\n\nChange-Id: I2af04f4b7f9a2109fe83ec517e716159331a48bb\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n""}, {'number': 4, 'created': '2020-07-29 16:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a8c8c954c23a38194ca060198038dcf2a2f465b4', 'message': ""Import example hardware managers from ipa-example-hardware-managers\n\nThey're not easily discoverable there, let's keep them in tree.\n\nChange-Id: I2af04f4b7f9a2109fe83ec517e716159331a48bb\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n""}, {'number': 5, 'created': '2020-07-31 11:36:17.000000000', 'files': ['examples/vendor-device/setup.cfg', 'examples/vendor-device/setup.py', 'doc/source/contributor/hardware_managers.rst', 'zuul.d/ironic-python-agent-jobs.yaml', 'examples/business-logic/setup.cfg', 'examples/business-logic/setup.py', 'examples/vendor-device/example_device.py', 'zuul.d/project.yaml', 'examples/README.rst', 'tox.ini', 'examples/business-logic/example_business_logic.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7fb098aa0b282a42e64f832bfe540110416cc71b', 'message': ""Import example hardware managers from ipa-example-hardware-managers\n\nThey're not easily discoverable there, let's keep them in tree.\n\nThe examples have been restructured to have two different projects\nready to be copied and adjusted. PEP8 failures have been fixed.\n\nChange-Id: I2af04f4b7f9a2109fe83ec517e716159331a48bb\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n""}]",2,743794,7fb098aa0b282a42e64f832bfe540110416cc71b,27,6,5,10239,,,0,"Import example hardware managers from ipa-example-hardware-managers

They're not easily discoverable there, let's keep them in tree.

The examples have been restructured to have two different projects
ready to be copied and adjusted. PEP8 failures have been fixed.

Change-Id: I2af04f4b7f9a2109fe83ec517e716159331a48bb
Co-Authored-By: Jay Faulkner <jay@jvf.cc>
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/94/743794/3 && git format-patch -1 --stdout FETCH_HEAD,"['examples/vendor-device/setup.cfg', 'examples/vendor-device/setup.py', 'examples/business-logic/setup.cfg', 'examples/business-logic/setup.py', 'examples/vendor-device/example_device.py', 'zuul.d/project.yaml', 'examples/README.rst', 'tox.ini', 'examples/business-logic/example_business_logic.py']",9,5f8f385c516296bb7f278f6e227d71c41604565f,examples,"# Copyright 2015 Rackspace, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import time from ironic_python_agent import errors from ironic_python_agent import hardware from oslo_log import log LOG = log.getLogger() class ExampleBusinessLogicHardwareManager(hardware.HardwareManager): """"""Example hardware manager to enforce business logic"""""" # All hardware managers have a name and a version. # Version should be bumped anytime a change is introduced. This will # signal to Ironic that if automatic node cleaning is in progress to # restart it from the beginning, to ensure consistency. The value can # be anything; it's checked for equality against previously seen # name:manager pairs. HARDWARE_MANAGER_NAME = 'ExampleBusinessLogicHardwareManager' HARDWARE_MANAGER_VERSION = '1' def evaluate_hardware_support(self): """"""Declare level of hardware support provided. Since this example is explicitly about enforcing business logic during cleaning, we want to return a static value. :returns: HardwareSupport level for this manager. """""" return hardware.HardwareSupport.SERVICE_PROVIDER def get_clean_steps(self, node, ports): """"""Get a list of clean steps with priority. Define any clean steps added by this manager here. These will be mixed with other loaded managers that support this hardware, and ordered by priority. Higher priority steps run earlier. Note that out-of-band clean steps may also be provided by Ironic. These will follow the same priority ordering even though they are not executed by IPA. There is *no guarantee whatsoever* that steps defined here will be executed by this HardwareManager. When it comes time to run these steps, they'll be called using dispatch_to_managers() just like any other IPA HardwareManager method. This means if they are unique to your hardware, they should be uniquely named. For example, upgrade_firmware would be a bad step name. Whereas upgrade_foobar_device_firmware would be better. :param node: The node object as provided by Ironic. :param ports: Port objects as provided by Ironic. :returns: A list of cleaning steps, as a list of dicts. """""" # While obviously you could actively run code here, generally this # should just return a static value, as any initialization and # detection should've been done in evaluate_hardware_support(). return [{ 'step': 'companyx_verify_device_lifecycle', 'priority': 472, # If you need Ironic to coordinate a reboot after this step # runs, but before continuing cleaning, this should be true. 'reboot_requested': False, # If it's safe for Ironic to abort cleaning while this step # runs, this should be true. 'abortable': True }] # Other examples of interesting cleaning steps for this kind of hardware # manager would include verifying node.properties matches current state of # the node, checking smart stats to ensure the disk is not soon to fail, # or enforcing security policies. def companyx_verify_device_lifecycle(self, node, ports): """"""Verify node is not beyond useful life of 3 years."""""" create_date = node.get('created_at') if create_date is not None: server_age = time.time() - time.mktime(time.strptime(create_date)) if server_age > (60 * 60 * 24 * 365 * 3): raise errors.CleaningError( 'Server is too old to pass cleaning!') else: LOG.info('Node is %s seconds old, younger than 3 years, ' 'cleaning passes.', server_age) ",,350,2
openstack%2Fironic~bugfix%2F15.1~Iaa56e5965806e975ed0f97f2d6a0d15e13351c22,openstack/ironic,bugfix/15.1,Iaa56e5965806e975ed0f97f2d6a0d15e13351c22,Wipe agent token and URL on rescue and unrescue,MERGED,2020-08-06 20:28:35.000000000,2020-08-07 16:01:19.000000000,2020-08-07 15:55:32.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-06 20:28:35.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/unrescue-token-ae664a17343e0610.yaml', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d53ad0361d4de7c073f903b475dce9b3f8931a6', 'message': 'Wipe agent token and URL on rescue and unrescue\n\nYet another place where we missed it :(\n\nChange-Id: Iaa56e5965806e975ed0f97f2d6a0d15e13351c22\n(cherry picked from commit 0b0ab9eb167c5a568141518e5a4698fc7f601d2b)\n'}]",0,745222,2d53ad0361d4de7c073f903b475dce9b3f8931a6,9,5,1,11655,,,0,"Wipe agent token and URL on rescue and unrescue

Yet another place where we missed it :(

Change-Id: Iaa56e5965806e975ed0f97f2d6a0d15e13351c22
(cherry picked from commit 0b0ab9eb167c5a568141518e5a4698fc7f601d2b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/745222/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'releasenotes/notes/unrescue-token-ae664a17343e0610.yaml']",4,2d53ad0361d4de7c073f903b475dce9b3f8931a6,unrescue-token-bugfix/15.1,--- fixes: - | Removes stale agent token on rescue and unrescue operations. Previously it would cause subsequent rescue operations to fail. ,,39,15
openstack%2Fnova~master~I644afd7691e805e3ee086024c6b9c82b0a4b7bbb,openstack/nova,master,I644afd7691e805e3ee086024c6b9c82b0a4b7bbb,Introduce scope_types in volumes policy,MERGED,2020-07-24 01:22:13.000000000,2020-08-07 16:01:02.000000000,2020-08-07 15:53:56.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-24 01:22:13.000000000', 'files': ['nova/policies/volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9acbae3619956a4d3b8827a7bfb09d57b97ee18d', 'message': ""Introduce scope_types in volumes policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for volumes policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I644afd7691e805e3ee086024c6b9c82b0a4b7bbb\n""}]",0,742774,9acbae3619956a4d3b8827a7bfb09d57b97ee18d,18,12,1,8556,,,0,"Introduce scope_types in volumes policy

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for volumes policies
as 'system' and 'project'.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I644afd7691e805e3ee086024c6b9c82b0a4b7bbb
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/742774/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/volumes.py'],1,9acbae3619956a4d3b8827a7bfb09d57b97ee18d,bp/policy-defaults-refresh-deprecated-apis," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Manage volumes for use with the Compute API. operations=[ ], scope_types=['system', 'project']),"," BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, """"""Manage volumes for use with the Compute API. [ ]),",6,5
openstack%2Fnova~master~Ie1ea066e9683fc44d486bcde1eb0f01fca7645c7,openstack/nova,master,Ie1ea066e9683fc44d486bcde1eb0f01fca7645c7,Add new default roles in security_groups policies,MERGED,2020-07-23 23:28:18.000000000,2020-08-07 15:58:12.000000000,2020-08-07 15:53:06.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 23:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af4458e63b5514bb1165b777fb6bee0c0b2d7b0f', 'message': 'Add new default roles in security_groups policies\n\nThis adds new defaults roles in security_groups API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ie1ea066e9683fc44d486bcde1eb0f01fca7645c7\n'}, {'number': 2, 'created': '2020-07-24 01:23:23.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/policies/security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a20ab7016ef574f99aa3db9fb570807266a0a287', 'message': 'Add new default roles in security_groups policies\n\nThis adds new defaults roles in security_groups API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ie1ea066e9683fc44d486bcde1eb0f01fca7645c7\n'}]",1,742763,a20ab7016ef574f99aa3db9fb570807266a0a287,31,12,2,8556,,,0,"Add new default roles in security_groups policies

This adds new defaults roles in security_groups API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER and PROJECT_MEMBER_OR_SYSTEM_ADMIN.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ie1ea066e9683fc44d486bcde1eb0f01fca7645c7
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/742763/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/policies/security_groups.py']",5,af4458e63b5514bb1165b777fb6bee0c0b2d7b0f,bp/policy-defaults-refresh-deprecated-apis," name=POLICY_NAME % 'get', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""List security groups. This API is deprecated."", } ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'show', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""Show security group. This API is deprecated."", operations=[ } ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'create', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""Create security group. This API is deprecated."", operations=[ { } ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'update', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""Update security group. This API is deprecated."", operations=[ } ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'delete', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""Delete security group. This API is deprecated."", operations=[ scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'rule:create', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""Create security group Rule. This API is deprecated."", operations=[ { 'method': 'POST', 'path': '/os-security-group-rules' } ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'rule:delete', check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN, description=""Delete security group Rule. This API is deprecated."", operations=[ { 'method': 'DELETE', 'path': '/os-security-group-rules/{security_group_id}' }, ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'),"," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""List, show, add, or remove security groups. APIs which are directly related to security groups resource are deprecated: Lists, shows information for, creates, updates and deletes security groups. Creates and deletes security group rules. All these APIs are deprecated."""""", }, }, { }, }, scope_types=['system', 'project']),",183,52
openstack%2Fnova~master~Id456ec736e22361362afb33c4254b20bfd7671aa,openstack/nova,master,Id456ec736e22361362afb33c4254b20bfd7671aa,Add test coverage of volumes policies,MERGED,2020-07-24 01:15:33.000000000,2020-08-07 15:53:50.000000000,2020-08-07 15:53:49.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-24 01:15:33.000000000', 'files': ['nova/tests/unit/policies/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/136fc7a93671a2acb24224e3a7c62a382957684d', 'message': ""Add test coverage of volumes policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Id456ec736e22361362afb33c4254b20bfd7671aa\n""}]",0,742773,136fc7a93671a2acb24224e3a7c62a382957684d,15,10,1,8556,,,0,"Add test coverage of volumes policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Id456ec736e22361362afb33c4254b20bfd7671aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/742773/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_volumes.py'],1,136fc7a93671a2acb24224e3a7c62a382957684d,bp/policy-defaults-refresh-deprecated-apis," class VolumesPolicyTest(base.BasePolicyTest): """"""Test Volumes APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(VolumesPolicyTest, self).setUp() self.controller = volumes_v21.VolumeController() self.snapshot_ctlr = volumes_v21.SnapshotController() self.req = fakes.HTTPRequest.blank('') self.controller._translate_volume_summary_view = mock.MagicMock() # Check that everyone is able to perform crud operations # on volume and volume snapshots. # NOTE: Nova cannot verify the volume/snapshot owner during nova policy # enforcement so will be passing context's project_id as target to # policy and always pass. If requester is not admin or owner # of volume/snapshot then cinder will be returning the appropriate # error. self.everyone_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context, self.other_project_reader_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] self.everyone_unauthorized_contexts = [] @mock.patch('nova.volume.cinder.API.get_all') def test_list_volumes_policy(self, mock_get): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.index, self.req) @mock.patch('nova.volume.cinder.API.get_all') def test_list_detail_volumes_policy(self, mock_get): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.detail, self.req) @mock.patch('nova.volume.cinder.API.get') def test_show_volume_policy(self, mock_get): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.show, self.req, uuids.fake_id) @mock.patch('nova.api.openstack.compute.volumes.' '_translate_volume_detail_view') @mock.patch('nova.volume.cinder.API.create') def test_create_volumes_policy(self, mock_create, mock_view): rule_name = ""os_compute_api:os-volumes"" body = {""volume"": {""size"": 100, ""display_name"": ""Volume Test Name"", ""display_description"": ""Volume Test Desc"", ""availability_zone"": ""zone1:host1""}} self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.create, self.req, body=body) @mock.patch('nova.volume.cinder.API.delete') def test_delete_volume_policy(self, mock_delete): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.delete, self.req, uuids.fake_id) @mock.patch('nova.volume.cinder.API.get_all_snapshots') def test_list_snapshots_policy(self, mock_get): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.snapshot_ctlr.index, self.req) @mock.patch('nova.volume.cinder.API.get_all_snapshots') def test_list_detail_snapshots_policy(self, mock_get): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.snapshot_ctlr.detail, self.req) @mock.patch('nova.volume.cinder.API.get_snapshot') def test_show_snapshot_policy(self, mock_get): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.snapshot_ctlr.show, self.req, uuids.fake_id) @mock.patch('nova.volume.cinder.API.create_snapshot') def test_create_snapshot_policy(self, mock_create): rule_name = ""os_compute_api:os-volumes"" body = {""snapshot"": {""volume_id"": uuids.fake_id}} self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.snapshot_ctlr.create, self.req, body=body) @mock.patch('nova.volume.cinder.API.delete_snapshot') def test_delete_snapshot_policy(self, mock_delete): rule_name = ""os_compute_api:os-volumes"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.snapshot_ctlr.delete, self.req, uuids.fake_id) class VolumesScopeTypePolicyTest(VolumesPolicyTest): """"""Test Volumes APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(VolumesScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"")",,137,0
openstack%2Fnova~master~I3835f3cc03611fe44d178c6643345ae3dfcc1995,openstack/nova,master,I3835f3cc03611fe44d178c6643345ae3dfcc1995,Introduce scope_types in networks policy,MERGED,2020-07-23 00:11:28.000000000,2020-08-07 15:53:31.000000000,2020-08-07 15:53:31.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-23 00:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35ca131999d8331c3d3e78301e18bc61d8cdd5f6', 'message': ""Introduce scope_types in networks policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for networks policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I3835f3cc03611fe44d178c6643345ae3dfcc1995\n""}, {'number': 2, 'created': '2020-07-23 00:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77874bea687117ba0058fdefb8e67c866d4bdc73', 'message': ""Introduce scope_types in networks policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for networks policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I3835f3cc03611fe44d178c6643345ae3dfcc1995\n""}, {'number': 3, 'created': '2020-07-23 23:40:32.000000000', 'files': ['nova/policies/networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e1c10e269c6c6365a2ec469b4e9095426d0bd43', 'message': ""Introduce scope_types in networks policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for networks policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I3835f3cc03611fe44d178c6643345ae3dfcc1995\n""}]",0,742561,2e1c10e269c6c6365a2ec469b4e9095426d0bd43,27,13,3,8556,,,0,"Introduce scope_types in networks policy

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for networks policies
as 'system' and 'project'.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I3835f3cc03611fe44d178c6643345ae3dfcc1995
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/742561/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/networks.py'],1,35ca131999d8331c3d3e78301e18bc61d8cdd5f6,bp/policy-defaults-refresh-deprecated-apis," name=POLICY_ROOT % 'view', check_str=base.RULE_ADMIN_OR_OWNER, description=""""""List networks for the project and show network details. operations=[ ], scope_types=['system', 'project']),"," POLICY_ROOT % 'view', base.RULE_ADMIN_OR_OWNER, """"""List networks for the project and show details for a network. [ ]),",6,5
openstack%2Fnova~master~I3d50c6d9f1e56f0fe8ae550f55f413934da0f9cc,openstack/nova,master,I3d50c6d9f1e56f0fe8ae550f55f413934da0f9cc,Add test coverage of networks policies,MERGED,2020-07-23 00:05:00.000000000,2020-08-07 15:53:20.000000000,2020-08-07 15:53:19.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-23 00:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca8f48c65fe7942831e3a0a8040468bad73bfac3', 'message': ""Add test coverage of networks policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I3d50c6d9f1e56f0fe8ae550f55f413934da0f9cc\n""}, {'number': 2, 'created': '2020-07-23 00:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79fb671aa399e9757a573b88f801eebc26a57d11', 'message': ""Add test coverage of networks policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I3d50c6d9f1e56f0fe8ae550f55f413934da0f9cc\n""}, {'number': 3, 'created': '2020-07-23 23:40:20.000000000', 'files': ['nova/tests/unit/policies/test_networks.py', 'nova/tests/unit/api/openstack/compute/test_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff9d31b33326bf1fde417db94f3cb2b2e24441f4', 'message': ""Add test coverage of networks policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I3d50c6d9f1e56f0fe8ae550f55f413934da0f9cc\n""}]",2,742558,ff9d31b33326bf1fde417db94f3cb2b2e24441f4,26,10,3,8556,,,0,"Add test coverage of networks policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I3d50c6d9f1e56f0fe8ae550f55f413934da0f9cc
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/742558/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_networks.py', 'nova/tests/unit/api/openstack/compute/test_networks.py']",2,ca8f48c65fe7942831e3a0a8040468bad73bfac3,bp/policy-defaults-refresh-deprecated-apis,,"class NetworksEnforcementV21(test.NoDBTestCase): def setUp(self): super(NetworksEnforcementV21, self).setUp() self.controller = networks_v21.NetworkController() self.req = fakes.HTTPRequest.blank('') def test_show_policy_failed(self): rule_name = 'os_compute_api:os-networks:view' self.policy.set_rules({rule_name: ""project:non_fake""}) exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller.show, self.req, fakes.FAKE_UUID) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) def test_index_policy_failed(self): rule_name = 'os_compute_api:os-networks:view' self.policy.set_rules({rule_name: ""project:non_fake""}) exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller.index, self.req) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) ",80,28
openstack%2Fnova~master~I1ce8ad8a16bddb3f7520a3b4e323b75626928186,openstack/nova,master,I1ce8ad8a16bddb3f7520a3b4e323b75626928186,Pass the actual target in security_groups policy,MERGED,2020-07-23 23:34:26.000000000,2020-08-07 15:53:12.000000000,2020-08-07 15:53:11.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 23:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f87528492ce796a2a893c84194988919e29681c', 'message': ""Pass the actual target in security_groups policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nsecurity_groups. Neutron will return the authorise error is requester\nis not owner of security_group.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I1ce8ad8a16bddb3f7520a3b4e323b75626928186\n""}, {'number': 2, 'created': '2020-07-24 01:23:30.000000000', 'files': ['nova/api/openstack/compute/security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ecec2ff7394d066783819c7febdc2a09623bcd3', 'message': ""Pass the actual target in security_groups policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nsecurity_groups. Neutron will return the authorise error is requester\nis not owner of security_group.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I1ce8ad8a16bddb3f7520a3b4e323b75626928186\n""}]",0,742764,4ecec2ff7394d066783819c7febdc2a09623bcd3,48,12,2,8556,,,0,"Pass the actual target in security_groups policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
security_groups. Neutron will return the authorise error is requester
is not owner of security_group.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I1ce8ad8a16bddb3f7520a3b4e323b75626928186
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/742764/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/security_groups.py'],1,1f87528492ce796a2a893c84194988919e29681c,bp/policy-defaults-refresh-deprecated-apis," context.can(sg_policies.POLICY_NAME % 'show', target={'project_id': context.project_id}) context.can(sg_policies.POLICY_NAME % 'delete', target={'project_id': context.project_id}) context.can(sg_policies.POLICY_NAME % 'get', target={'project_id': context.project_id}) context.can(sg_policies.POLICY_NAME % 'create', target={'project_id': context.project_id}) context.can(sg_policies.POLICY_NAME % 'update', target={'project_id': context.project_id}) context.can(sg_policies.POLICY_NAME % 'rule:create', target={'project_id': context.project_id}) context.can(sg_policies.POLICY_NAME % 'rule:delete', target={'project_id': context.project_id})", context.can(sg_policies.POLICY_NAME % 'show') context.can(sg_policies.POLICY_NAME % 'delete') context.can(sg_policies.POLICY_NAME % 'get') context.can(sg_policies.POLICY_NAME % 'create') context.can(sg_policies.POLICY_NAME % 'update') context.can(sg_policies.POLICY_NAME % 'rule:create') context.can(sg_policies.POLICY_NAME % 'rule:delete'),14,7
openstack%2Fironic~master~I56ef54cf897988566bf07fd13012590a6b4445fa,openstack/ironic,master,I56ef54cf897988566bf07fd13012590a6b4445fa,Enable deploy-time software RAID in standalone jobs,MERGED,2020-07-30 16:14:41.000000000,2020-08-07 15:46:47.000000000,2020-08-07 15:37:40.000000000,"[{'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28182}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-30 16:14:41.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed10d7ed30d0e20ab8bbdf492441e0f6b53d575d', 'message': 'Enable deploy-time software RAID in standalone jobs\n\nChange-Id: I56ef54cf897988566bf07fd13012590a6b4445fa\nDepends-On: https://review.opendev.org/741227\n'}]",0,744009,ed10d7ed30d0e20ab8bbdf492441e0f6b53d575d,13,7,1,10239,,,0,"Enable deploy-time software RAID in standalone jobs

Change-Id: I56ef54cf897988566bf07fd13012590a6b4445fa
Depends-On: https://review.opendev.org/741227
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/744009/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ed10d7ed30d0e20ab8bbdf492441e0f6b53d575d,story/2006963, iniset $TEMPEST_CONFIG baremetal_feature_enabled deploy_time_raid True,,1,0
openstack%2Fkolla-ansible~master~Ic697729bda80bfb83171bf68223a2703b8318aad,openstack/kolla-ansible,master,Ic697729bda80bfb83171bf68223a2703b8318aad,CI: add kolla_python_version variable,MERGED,2020-08-06 13:46:32.000000000,2020-08-07 15:45:42.000000000,2020-08-07 15:42:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-08-06 13:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a91cdbdcf493adfacda3b3ed5213ac0ad9e75d58', 'message': 'CI: add kolla_python_version variable\n\nChange-Id: Ic697729bda80bfb83171bf68223a2703b8318aad\n'}, {'number': 2, 'created': '2020-08-07 05:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89edf9ad7aec6c58ed78ee4ccbb7872fd0d82ed9', 'message': 'CI: add kolla_python_version variable\n\nChange-Id: Ic697729bda80bfb83171bf68223a2703b8318aad\n'}, {'number': 3, 'created': '2020-08-07 07:28:35.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c08f42b2cce477b13cf1252e09852b9de5aa70f', 'message': 'CI: add kolla_python_version variable\n\nChange-Id: Ic697729bda80bfb83171bf68223a2703b8318aad\n'}]",1,745156,7c08f42b2cce477b13cf1252e09852b9de5aa70f,14,3,3,22629,,,0,"CI: add kolla_python_version variable

Change-Id: Ic697729bda80bfb83171bf68223a2703b8318aad
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/745156/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,a91cdbdcf493adfacda3b3ed5213ac0ad9e75d58,zuul_distro_python_version,"{% if kolla_python_version is defined %} distro_python_version: ""{{ kolla_python_version }}"" {% endif %} ",,4,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I9d8ba2818c7b00893473360b8098ae5cdecbb256,openstack/tripleo-ansible,stable/ussuri,I9d8ba2818c7b00893473360b8098ae5cdecbb256,Fix podman version,MERGED,2020-08-06 11:44:41.000000000,2020-08-07 15:44:21.000000000,2020-08-07 15:44:21.000000000,"[{'_account_id': 4978}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-06 11:44:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad0749ff11349cc7a6c860076887fe602003ed81', 'message': 'Fix podman version\n\nSince ansible ""package"" takes the version in the name directly, let\'s\nensure we have the ""latest"" of that version.\n\nThis allows to still use per-OS or per-release podman version in a\nconvenient and easy way.\n\nChange-Id: I9d8ba2818c7b00893473360b8098ae5cdecbb256\n(cherry picked from commit 845fafd601963244249bc19aed6b6361657e6d20)\n'}]",0,745119,ad0749ff11349cc7a6c860076887fe602003ed81,8,7,1,28223,,,0,"Fix podman version

Since ansible ""package"" takes the version in the name directly, let's
ensure we have the ""latest"" of that version.

This allows to still use per-OS or per-release podman version in a
convenient and easy way.

Change-Id: I9d8ba2818c7b00893473360b8098ae5cdecbb256
(cherry picked from commit 845fafd601963244249bc19aed6b6361657e6d20)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/745119/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml'],1,ad0749ff11349cc7a6c860076887fe602003ed81,podman/fix-version-stable/ussuri, - podman-1.6.4, - podman,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I66c59f4456d010596df200e3c39c58d576e9ea5f,openstack/tripleo-common,stable/ussuri,I66c59f4456d010596df200e3c39c58d576e9ea5f,"Revert ""Add kolla template override to remove python3-networking-mlnx""",MERGED,2020-06-08 17:41:43.000000000,2020-08-07 15:38:47.000000000,2020-08-07 15:37:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28714}]","[{'number': 1, 'created': '2020-06-08 17:41:43.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/42aea5f30f383adbda053e018f9f6a02619dd30c', 'message': 'Revert ""Add kolla template override to remove python3-networking-mlnx""\n\nThis reverts commit 0fda85ba0cee3322ccb108e3253f1615072ff2f8.\n\nChange-Id: I66c59f4456d010596df200e3c39c58d576e9ea5f\n(cherry picked from commit 45d650bebc4d40cee453f6e92f490eb2f88fc0c8)\n'}]",0,734162,42aea5f30f383adbda053e018f9f6a02619dd30c,19,4,1,12171,,,0,"Revert ""Add kolla template override to remove python3-networking-mlnx""

This reverts commit 0fda85ba0cee3322ccb108e3253f1615072ff2f8.

Change-Id: I66c59f4456d010596df200e3c39c58d576e9ea5f
(cherry picked from commit 45d650bebc4d40cee453f6e92f490eb2f88fc0c8)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/734162/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,42aea5f30f383adbda053e018f9f6a02619dd30c,neutron-remove-mlnx-stable/ussuri,,# Remove python3-networking-mlnx - only added from ussuri release {% if distro_python_version.startswith('3') %} {% set neutron_base_packages_remove = ['python3-networking-mlnx'] %} {% endif %},0,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Id68c62486e8b12e21931a4255da48effb0ed4690,openstack/tripleo-upgrade,stable/train,Id68c62486e8b12e21931a4255da48effb0ed4690,Add BootParams service to all roles,MERGED,2020-08-06 03:59:33.000000000,2020-08-07 15:22:47.000000000,2020-08-07 15:22:47.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-06 03:59:33.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/51429783dac83feadb72561aa6caa8da970b0001', 'message': 'Add BootParams service to all roles\n\nBootParams service should be added to all the roles during\nthe ugprade. It is responsible to set the kernel args and\nreboot if required.\nRelated-Bug: #1890080\n\nChange-Id: Id68c62486e8b12e21931a4255da48effb0ed4690\n(cherry picked from commit e5197c4469c7d85c86a8c0f73638bc3d44f919e3)\n'}]",0,745061,51429783dac83feadb72561aa6caa8da970b0001,7,5,1,18575,,,0,"Add BootParams service to all roles

BootParams service should be added to all the roles during
the ugprade. It is responsible to set the kernel args and
reboot if required.
Related-Bug: #1890080

Change-Id: Id68c62486e8b12e21931a4255da48effb0ed4690
(cherry picked from commit e5197c4469c7d85c86a8c0f73638bc3d44f919e3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/61/745061/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,51429783dac83feadb72561aa6caa8da970b0001,kernel_args_service-stable/ussuri-stable/train,"- name: add BootParams service replace: path: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::AuditD$)' replace: '\1\2\1- OS::TripleO::Services::BootParams' ",,6,0
openstack%2Fironic-tempest-plugin~master~Id2e376e38771700d295f632e84ab3e32710d8180,openstack/ironic-tempest-plugin,master,Id2e376e38771700d295f632e84ab3e32710d8180,Test software RAID in deploy-time on Victoria and newer,MERGED,2020-07-15 14:39:32.000000000,2020-08-07 15:20:41.000000000,2020-08-07 15:13:21.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 14:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/31026e31e5dcf781f1b738283630aa90f840bafe', 'message': 'POC deploy-time RAID\n\nDepends-On: https://review.opendev.org/741225\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 2, 'created': '2020-07-24 09:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f4bf5050af8ebdb13d94dcdab84dc89c5ba1fa2d', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 3, 'created': '2020-07-24 14:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b57659c6845f5f7dc6e312a99cc5acfa31a808bf', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 4, 'created': '2020-07-27 10:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/cfd21b1cbf4a28731f579d98c10b0d95eae91db4', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 5, 'created': '2020-07-27 12:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e3d7d4134403a0654c9cb2ff16cb5c7ed7da9cbb', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 6, 'created': '2020-07-27 15:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e8edacd8afee5bb72caec01ec5fc3200d751e38c', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 7, 'created': '2020-07-28 13:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9ee2fbf92c41d98afe51c3a2579112c771bec9e5', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 8, 'created': '2020-07-28 15:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/4aa26ee7f86d4d3aeec5e96241376d9d5dea66a7', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 9, 'created': '2020-07-30 09:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/06259cd94cbcd761f9c70a050fa544c334ee09a0', 'message': 'POC deploy-time RAID\n\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 10, 'created': '2020-07-30 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/27910cd3b26f018a8ae984a0b39131ab1144ae26', 'message': '[WIP] Test software RAID in deploy-time on Victoria and newer\n\nAdds a new feature flag to enable it instead of cleaning time.\n\nStory: #2006963\nTask: #40462\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 11, 'created': '2020-07-30 16:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b3b14491a4e540cffc8f8d002ea100e29e8a043c', 'message': 'Test software RAID in deploy-time on Victoria and newer\n\nAdds a new feature flag to enable it instead of cleaning time.\n\nMake the standalone-redfish job voting since it covers some\nof the tests that are not covered by the ipmi one.\n\nStory: #2006963\nTask: #40462\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}, {'number': 12, 'created': '2020-07-31 09:17:58.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_cleaning.py', 'zuul.d/project.yaml', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0cc7aa92cc6e9a6927cf0c89db43739c357aab9f', 'message': 'Test software RAID in deploy-time on Victoria and newer\n\nAdds a new feature flag to enable it instead of cleaning time.\n\nMake the standalone-redfish job voting since it covers some\nof the tests that are not covered by the ipmi one.\n\nStory: #2006963\nTask: #40462\nChange-Id: Id2e376e38771700d295f632e84ab3e32710d8180\n'}]",0,741227,0cc7aa92cc6e9a6927cf0c89db43739c357aab9f,30,3,12,10239,,,0,"Test software RAID in deploy-time on Victoria and newer

Adds a new feature flag to enable it instead of cleaning time.

Make the standalone-redfish job voting since it covers some
of the tests that are not covered by the ipmi one.

Story: #2006963
Task: #40462
Change-Id: Id2e376e38771700d295f632e84ab3e32710d8180
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/27/741227/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'],1,31026e31e5dcf781f1b738283630aa90f840bafe,story/2006963," ""step"": ""erase_devices_metadata"", ""priority"": 98, ""step"": ""apply_configuration"", ""priority"": 97, ""args"": {""raid_config"": config}, # self.baremetal_client.set_node_raid_config(self.node['uuid'], config) # self.manual_cleaning(self.node, clean_steps=clean_steps) self.baremetal_client.create_deploy_template( 'CUSTOM_RAID', steps=clean_steps) self.baremetal_client.add_node_trait(self.node['uuid'], 'CUSTOM_RAID') 'op': 'add', 'value': {'name': '/dev/md0'}}, {'path': '/instance_info/traits', 'op': 'replace', 'value': ['CUSTOM_RAID']}]"," { ""interface"": ""raid"", ""step"": ""delete_configuration"" }, ""step"": ""erase_devices_metadata"" ""step"": ""create_configuration"" self.baremetal_client.set_node_raid_config(self.node['uuid'], config) self.manual_cleaning(self.node, clean_steps=clean_steps) 'op': 'add', 'value': {'name': '/dev/md0'}}]",14,9
openstack%2Fbifrost~master~I8c8ee112edbc1e61b54aff13c06c518c7daa9700,openstack/bifrost,master,I8c8ee112edbc1e61b54aff13c06c518c7daa9700,Support HTTP basic auth and switch bifrost-cli to it,MERGED,2020-07-20 15:09:54.000000000,2020-08-07 15:20:39.000000000,2020-08-07 15:10:52.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 31643}]","[{'number': 1, 'created': '2020-07-20 15:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ce3ea7531489e092a695ee88435c806c2c488697', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 2, 'created': '2020-07-20 15:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e7bc69bf578974b684b9274d43ea70bde27138d5', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 3, 'created': '2020-07-21 09:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/230bf877b81613fca4f81e7b8b79fb25502aa0b9', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 4, 'created': '2020-07-21 09:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/efe1fd6c4d94d8e68bd168deafa438919e9ef0d7', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 5, 'created': '2020-07-21 11:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4a27857c62ad63896b599930056619ba69eaccad', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 6, 'created': '2020-07-21 14:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0793e82cbab49deb058923c31e3c9f474cab0451', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 7, 'created': '2020-07-21 14:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c375d86571ee5bf95d23ef6953a34f291c7373ee', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 8, 'created': '2020-07-21 23:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b6bb94f3d58aeb5b7b097f475d4e8354dbb010e6', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 9, 'created': '2020-07-22 09:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5a4377e05dd85ea2e97909c01959323c8a3dd470', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 10, 'created': '2020-07-22 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/924ffb53d22b2407c74f5bc2323fe48645fe62a1', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 11, 'created': '2020-07-22 15:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bd8987f7a136f5993ffbea1e4936cfc0c6dd2679', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 12, 'created': '2020-07-22 15:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1b26d9cdf7de4a0b323746e20fcd18e86a65c1f8', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 13, 'created': '2020-07-22 16:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/11dccdf6a63954addb8b3edf55496708518fa805', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 14, 'created': '2020-07-24 09:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7706f893adc5ba169e2cbebd1690ac5070093005', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 15, 'created': '2020-07-24 10:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/55fcc4c340d9e13e94e28e575ba13ec415edc1a5', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 16, 'created': '2020-07-24 12:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4f6d5949eb54f60d2680612fdfe544ba59e75890', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 17, 'created': '2020-07-24 14:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b54f8d95c8cb8ead8e8cb9dcd406ffd381840871', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 18, 'created': '2020-07-24 15:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c58158c46bb635019cf4ee1763c838ee9702579a', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742306\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 19, 'created': '2020-07-27 08:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e22d56f9ded0d3d21975c7711b56e1ae9f29d3b0', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 20, 'created': '2020-07-27 09:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/522709af2b5249236263db44d4824bc48d967b1a', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 21, 'created': '2020-07-27 10:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2ace5a53c2c30df0134559bf25bb9648dda58a5d', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 22, 'created': '2020-07-27 11:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/443af2696e5076b3d00ab723419e91b40b8b687f', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nDepends-On: https://review.opendev.org/742870\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 23, 'created': '2020-08-05 14:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8f49c8240eae80eb566f447cac6536bd0a0855ed', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 24, 'created': '2020-08-05 19:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/80054a847ba56c2df982525bf8afe4e616264743', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 25, 'created': '2020-08-06 08:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/80982c7d1086a70d42f49dfebc96d46091e1db75', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}, {'number': 26, 'created': '2020-08-07 13:21:49.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-keystone-client-config/templates/openrc.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'releasenotes/notes/http-basic-40df399ea63956aa.yaml', 'lower-constraints.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'requirements.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bcda97b6308eda47a80b6290d06bc43dbe5032a3', 'message': 'Support HTTP basic auth and switch bifrost-cli to it\n\nThe voting jobs also use the new mode (since it requires more OS\ncoverage), the DHCP jobs are left with no-auth.\n\nChange-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700\n'}]",7,741964,bcda97b6308eda47a80b6290d06bc43dbe5032a3,75,7,26,10239,,,0,"Support HTTP basic auth and switch bifrost-cli to it

The voting jobs also use the new mode (since it requires more OS
coverage), the DHCP jobs are left with no-auth.

Change-Id: I8c8ee112edbc1e61b54aff13c06c518c7daa9700
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/64/741964/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'releasenotes/notes/http-basic-40df399ea63956aa.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-ironic-install/README.md']",17,ce3ea7531489e092a695ee88435c806c2c488697,http-basic,Enables no-authentication mode where no authentication is used for accessing API services. Setting it to ``false`` will make ironic and ironic-inspector either use keystone (if ``enable_keystone`` is true) or HTTP basic auth (use ``admin_username`` and ``admin_password`` to configure). noauth_mode: true ,,96,16
openstack%2Fbifrost~master~I18d034239edd3d49ceedf281b48a650e6011bab4,openstack/bifrost,master,I18d034239edd3d49ceedf281b48a650e6011bab4,Support redfish emulation and run the keystone jobs with redfish,MERGED,2020-08-03 09:02:25.000000000,2020-08-07 15:18:14.000000000,2020-08-07 15:10:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 09:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/398c41b84aedb56a87f5d7ca4f8b35cb3dd94710', 'message': 'Support redfish emulation and switch the keystone jobs to it\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 2, 'created': '2020-08-03 09:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a1810e5277e11e55472644e8cd8e83a02f02a17e', 'message': 'Support redfish emulation and switch the keystone jobs to it\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 3, 'created': '2020-08-03 11:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7e035d6f221ef6d800979a985ce9d37676726eed', 'message': 'Support redfish emulation and switch the keystone jobs to it\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 4, 'created': '2020-08-03 11:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/76a1d8ae380ac6584413bde5f1612644d7a31580', 'message': 'Support redfish emulation and switch the keystone jobs to it\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 5, 'created': '2020-08-03 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/49d2ae4f73faf62b19fc2678ffcf67182f62965d', 'message': 'Support redfish emulation and add CI jobs with Redfish and UEFI\n\nSwitches keystone jobs to use Redfish+Legacy+PXE, add two more jobs\nwith Redfish+UEFI (and intention to switch them to virtual media).\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 6, 'created': '2020-08-03 13:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9296473683df914a5ef7ce70504b168216d0ccee', 'message': 'Support redfish emulation and add CI jobs with Redfish and UEFI\n\nSwitches keystone jobs to use Redfish+Legacy+PXE, add two more jobs\nwith Redfish+UEFI (and intention to switch them to virtual media).\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 7, 'created': '2020-08-03 13:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ded6671cae158e49f19848a01dcc21862efc1af9', 'message': 'Support redfish emulation and add CI jobs with Redfish and UEFI\n\nSwitches keystone jobs to use Redfish+Legacy+PXE, add two more jobs\nwith Redfish+UEFI (and intention to switch them to virtual media).\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 8, 'created': '2020-08-03 14:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eb1b8fc4d6663cdf9a5376c0d800e6b8cca9594f', 'message': 'Support redfish emulation and add CI jobs with Redfish and UEFI\n\nSwitches keystone jobs to use Redfish+Legacy+PXE, add two more jobs\nwith Redfish+UEFI (and intention to switch them to virtual media).\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 9, 'created': '2020-08-04 08:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2d357e4bd9be362f372003246b78d50001cd50d3', 'message': 'Support redfish emulation and add CI jobs with Redfish and UEFI\n\nSwitches keystone jobs to use Redfish+Legacy+PXE, add two more jobs\nwith Redfish+UEFI (and intention to switch them to virtual media).\n\nDepends-On: https://review.opendev.org/744657\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 10, 'created': '2020-08-04 10:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b1205b461cbf82a2c386e4e1472b6197a3126a27', 'message': 'Support redfish emulation and run the keystone jobs with redfish\n\nPrepare for UEFI support that will be finished in follow-up patches.\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 11, 'created': '2020-08-07 10:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/91af713cae40804f211fb19013d8275e17edab8a', 'message': 'Support redfish emulation and run the keystone jobs with redfish\n\nPrepare for UEFI support that will be finished in follow-up patches.\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}, {'number': 12, 'created': '2020-08-07 13:21:04.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_RedHat.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Ubuntu_20.04.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'releasenotes/notes/test-redfish-54ed748e2305d8eb.yaml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Debian.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/redfish-emulator.conf.j2', 'playbooks/roles/bifrost-create-vm-nodes/templates/redfish-emulator.service.j2', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Suse.yml', 'playbooks/ci/run.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/02fb11fcc7ce9cd7d3955d7ab580c5f120912a3b', 'message': 'Support redfish emulation and run the keystone jobs with redfish\n\nPrepare for UEFI support that will be finished in follow-up patches.\n\nChange-Id: I18d034239edd3d49ceedf281b48a650e6011bab4\n'}]",1,744421,02fb11fcc7ce9cd7d3955d7ab580c5f120912a3b,28,4,12,10239,,,0,"Support redfish emulation and run the keystone jobs with redfish

Prepare for UEFI support that will be finished in follow-up patches.

Change-Id: I18d034239edd3d49ceedf281b48a650e6011bab4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/744421/10 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_RedHat.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Ubuntu_20.04.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'releasenotes/notes/test-redfish-54ed748e2305d8eb.yaml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Debian.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/redfish-emulator.conf.j2', 'playbooks/roles/bifrost-create-vm-nodes/templates/redfish-emulator.service.j2', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Suse.yml', 'playbooks/ci/run.yaml']",16,398c41b84aedb56a87f5d7ca4f8b35cb3dd94710,redfish-emulator," DRIVER: ""{{ test_driver | default('ipmi') }}""",,104,8
openstack%2Fironic~stable%2Ftrain~I13da6275c04ffc6237a7f2edf25c03b4ddee936a,openstack/ironic,stable/train,I13da6275c04ffc6237a7f2edf25c03b4ddee936a,Update number of VM on ironic-base,MERGED,2020-08-03 19:00:27.000000000,2020-08-07 15:03:44.000000000,2020-08-07 14:57:42.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 19:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd702894caa1b4c169402a8e4e4738b638c6a4f7', 'message': ""Update number of VM on ironic-base\n\nSince we merged the change to have partition and wholedisk\ntesting on basic_ops most of the jobs started requiring 2 VMs\nto run the tempest tets.\n\nLet's increase on the ironic-base so all jobs will be default to 2.\n\nRemoving IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.\n\nChange-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a\n(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)\n(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)\n""}, {'number': 2, 'created': '2020-08-03 19:04:02.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3df540a35d567ea78b04afb3188c76c64a7e7fae', 'message': ""Update number of VM on ironic-base\n\nSince we merged the change to have partition and wholedisk\ntesting on basic_ops most of the jobs started requiring 2 VMs\nto run the tempest tets.\n\nLet's increase on the ironic-base so all jobs will be default to 2.\n\nRemoving IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.\n\nChange-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a\n(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)\n(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)\n""}]",0,744539,3df540a35d567ea78b04afb3188c76c64a7e7fae,12,5,2,11655,,,0,"Update number of VM on ironic-base

Since we merged the change to have partition and wholedisk
testing on basic_ops most of the jobs started requiring 2 VMs
to run the tempest tets.

Let's increase on the ironic-base so all jobs will be default to 2.

Removing IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.

Change-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a
(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)
(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/744539/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,bd702894caa1b4c169402a8e4e4738b638c6a4f7,, IRONIC_VM_COUNT: 2 IRONIC_DEFAULT_BOOT_OPTION: netboot, IRONIC_VM_COUNT: 1 IRONIC_VM_COUNT: 2,2,2
openstack%2Fironic~stable%2Frocky~I8e759168f1dc81cdcf430f3e33be990731595ec3,openstack/ironic,stable/rocky,I8e759168f1dc81cdcf430f3e33be990731595ec3,Remove locks before RPC bus is started,MERGED,2020-07-29 17:40:09.000000000,2020-08-07 15:03:31.000000000,2020-08-07 14:57:45.000000000,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-29 17:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd33ec33dbf944ac7917cf26c638cbff40edf470', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)\n(cherry picked from commit 17aba79ecfaabc40cc0ee85c73883244cf985256)\n""}, {'number': 2, 'created': '2020-08-04 18:42:51.000000000', 'files': ['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/47955272842c088e79d326f6282c16883b984fab', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)\n(cherry picked from commit 5b7ca45ae59d5656870a1a04c34d3774c5bc290d)\n""}]",5,743811,47955272842c088e79d326f6282c16883b984fab,18,5,2,11655,,,0,"Remove locks before RPC bus is started

A partner performing some testing recognized a case where if a request
is sent to the Ironic Conductor while it is in the process of starting,
and the request makes it into be processed, yet latter the operation
fails with errors such as NodeNotLocked exception. Notably they were
able to reproduce this by requesting the attachment or detachment of
a VIF at the same time as restarting the conductor.

In part, this condition is due to to the conductor being restarted
where the conductors table includes the node being restarted and
the webserver has not possibly had a chance to observe that the
conductor is in the process of restarting as the hash ring is
still valid.

In short - Incoming RPC requests can come in during the initialization
window and as such we should not remove locks while the conductor could
possibly already be receiving work.

As such, we've added a ``prepare_host`` method which initializes
the conductor database connection and removes the stale locks.
Under normal operating conditions, the database client is reused.

rhbz# 1847305

Change-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3
(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)
(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)
(cherry picked from commit 5b7ca45ae59d5656870a1a04c34d3774c5bc290d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/743811/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml']",6,fd33ec33dbf944ac7917cf26c638cbff40edf470,rocky-backport,--- fixes: - | Fixes an issue where ``ironic-conductor`` initialization could return a ``NodeNotLocked`` error for requests requiring locks when the conductor was starting. This was due to the conductor removing locks after beginning accepting new work. The lock removal has been moved to after the Database connectivity has been established but before the RPC bus is initialized. ,,87,6
openstack%2Fironic-inspector~master~Icc4f00b872a2550ff886287d8f0844ee2593f296,openstack/ironic-inspector,master,Icc4f00b872a2550ff886287d8f0844ee2593f296,Remove built-in API documentation in favour of API-REF,MERGED,2020-07-28 10:40:24.000000000,2020-08-07 15:03:02.000000000,2020-08-07 14:57:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 10:40:24.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/source/user/index.rst', 'api-ref/source/index.rst', 'doc/source/user/usage.rst', 'api-ref/source/introspection-api-v1-continue.inc', 'doc/source/user/workflow.rst', 'api-ref/source/introspection-api-versions.inc', 'doc/source/user/http-api.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bd16d80005b3436a39951649f69d550c929fa238', 'message': 'Remove built-in API documentation in favour of API-REF\n\nA few items have been migrated from the former to the latter.\n\nChange-Id: Icc4f00b872a2550ff886287d8f0844ee2593f296\n'}]",4,743506,bd16d80005b3436a39951649f69d550c929fa238,11,5,1,10239,,,0,"Remove built-in API documentation in favour of API-REF

A few items have been migrated from the former to the latter.

Change-Id: Icc4f00b872a2550ff886287d8f0844ee2593f296
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/06/743506/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'doc/source/user/index.rst', 'api-ref/source/index.rst', 'api-ref/source/introspection-api-v1-continue.inc', 'doc/source/user/usage.rst', 'doc/source/user/workflow.rst', 'api-ref/source/introspection-api-versions.inc', 'doc/source/user/http-api.rst']",8,bd16d80005b3436a39951649f69d550c929fa238,api-ref,See https://docs.openstack.org/api-ref/baremetal-introspection/,".. _http_api: By default **ironic-inspector** listens on ``0.0.0.0:5050``, port can be changed in configuration. Protocol is JSON over HTTP. Start Introspection ~~~~~~~~~~~~~~~~~~~ ``POST /v1/introspection/<Node ID>`` initiate hardware introspection for node ``<Node ID>``. All power management configuration for this node needs to be done prior to calling the endpoint. Requires X-Auth-Token header with Keystone token for authentication. Optional parameter: * ``manage_boot`` boolean value, whether to manage boot (boot device, power and firewall) for a node. Defaults to true. Response: * 202 - accepted introspection request * 400 - bad request * 401, 403 - missing or invalid authentication * 404 - node cannot be found Get Introspection Status ~~~~~~~~~~~~~~~~~~~~~~~~ ``GET /v1/introspection/<Node ID>`` get hardware introspection status. Requires X-Auth-Token header with Keystone token for authentication. Response: * 200 - OK * 400 - bad request * 401, 403 - missing or invalid authentication * 404 - node cannot be found Response body: JSON dictionary with keys: * ``finished`` (boolean) whether introspection is finished (``true`` on introspection completion or if it ends because of an error) * ``state`` state of the introspection * ``error`` error string or ``null``; ``Canceled by operator`` in case introspection was aborted * ``uuid`` node UUID * ``started_at`` a UTC ISO8601 timestamp * ``finished_at`` a UTC ISO8601 timestamp or ``null`` * ``links`` containing a self URL Get All Introspection Statuses ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ``GET /v1/introspection`` get all hardware introspection statuses. Requires X-Auth-Token header with Keystone token for authentication. Returned status list is sorted by the ``started_at, uuid`` attribute pair, newer items first, and is paginated with these query string fields: * ``marker`` the UUID of the last node returned previously * ``limit`` default, max: ``CONF.api_max_limit`` Response: * 200 - OK * 400 - bad request * 401, 403 - missing or invalid authentication Response body: a JSON object containing a list of status objects:: { 'introspection': [ { 'finished': false, 'state': 'waiting', 'error': null, ... }, ... ] } Each status object contains these keys: * ``finished`` (boolean) whether introspection is finished (``true`` on introspection completion or if it ends because of an error) * ``state`` state of the introspection * ``error`` error string or ``null``; ``Canceled by operator`` in case introspection was aborted * ``uuid`` node UUID * ``started_at`` an UTC ISO8601 timestamp * ``finished_at`` an UTC ISO8601 timestamp or ``null`` Abort Running Introspection ~~~~~~~~~~~~~~~~~~~~~~~~~~~ ``POST /v1/introspection/<Node ID>/abort`` abort running introspection. Requires X-Auth-Token header with Keystone token for authentication. Response: * 202 - accepted * 400 - bad request * 401, 403 - missing or invalid authentication * 404 - node cannot be found * 409 - inspector has locked this node for processing Get Introspection Data ~~~~~~~~~~~~~~~~~~~~~~ ``GET /v1/introspection/<Node ID>/data`` get stored data from successful introspection. Requires X-Auth-Token header with Keystone token for authentication. Response: * 200 - OK * 400 - bad request * 401, 403 - missing or invalid authentication * 404 - data cannot be found or data storage not configured Response body: JSON dictionary with introspection data. For more details about the inventory key, refer to the :ironic-python-agent-doc:`ironic-python-agent documentation <admin/how_it_works.html#inspection-data>`. .. note:: We do not provide any backward compatibility guarantees regarding the format and contents of the stored data, other than the ``inventory``. Notably, it depends on the ramdisk used and plugins enabled both in the ramdisk and in inspector itself. Get Unprocessed Introspection Data ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ``GET /v1/introspection/<Node ID>/data/unprocessed`` get raw (unprocessed) data from introspection. Requires X-Auth-Token header with Keystone token for authentication. Response: * 200 - OK * 400 - bad request * 401, 403 - missing or invalid authentication * 404 - data cannot be found or data storage not configured Response body: JSON dictionary with introspection data. For more details about the inventory key, refer to the :ironic-python-agent-doc:`ironic-python-agent documentation <admin/how_it_works.html#inspection-data>`. .. note:: We do not provide any backward compatibility guarantees regarding the format and contents of the stored data, other than the ``inventory``. Notably, it depends on the ramdisk used and plugins enabled both in the ramdisk and in inspector itself. Reapply introspection on stored data ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ``POST /v1/introspection/<Node ID>/data/unprocessed`` to trigger introspection on stored unprocessed data. No data is allowed to be sent along with the request. Requires X-Auth-Token header with Keystone token for authentication. Requires enabling Swift store in processing section of the configuration file. Response: * 202 - accepted * 400 - bad request or store not configured * 401, 403 - missing or invalid authentication * 404 - node not found for Node ID * 409 - inspector locked node for processing Introspection Rules ~~~~~~~~~~~~~~~~~~~ See :ref:`rules <introspection_rules>` for details. All these API endpoints require X-Auth-Token header with Keystone token for authentication. * ``POST /v1/rules`` create a new introspection rule. Request body: JSON dictionary with keys: * ``conditions`` rule conditions, see :ref:`rules <introspection_rules>` * ``actions`` rule actions, see :ref:`rules <introspection_rules>` * ``description`` (optional) human-readable description * ``uuid`` (optional) rule UUID, autogenerated if missing Response * 200 - OK for API version < 1.6 * 201 - OK for API version 1.6 and higher * 400 - bad request Response body: JSON dictionary with introspection rule representation (the same as above with UUID filled in). * ``GET /v1/rules`` list all introspection rules. Response * 200 - OK Response body: JSON dictionary with key ``rules`` - list of short rule representations. Short rule representation is a JSON dictionary with keys: * ``uuid`` rule UUID * ``description`` human-readable description * ``links`` list of HTTP links, use one with ``rel=self`` to get the full rule details * ``DELETE /v1/rules`` delete all introspection rules. Response * 204 - OK * ``GET /v1/rules/<UUID>`` get one introspection rule by its ``<UUID>``. Response * 200 - OK * 404 - not found Response body: JSON dictionary with introspection rule representation (see ``POST /v1/rules`` above). * ``DELETE /v1/rules/<UUID>`` delete one introspection rule by its ``<UUID>``. Response * 204 - OK * 404 - not found Ramdisk Callback ~~~~~~~~~~~~~~~~ .. _ramdisk_callback: ``POST /v1/continue`` internal endpoint for the ramdisk to post back discovered data. Should not be used for anything other than implementing the ramdisk. Request body: JSON dictionary with at least these keys: * ``inventory`` full :ironic-python-agent-doc:`hardware inventory <admin/how_it_works.html#hardware-inventory>` from the ironic-python-agent with at least the following keys: * ``memory`` memory information containing at least key ``physical_mb`` - physical memory size as reported by dmidecode, * ``cpu`` CPU information containing at least keys ``count`` (CPU count) and ``architecture`` (CPU architecture, e.g. ``x86_64``), * ``bmc_address`` IP address of the node's BMC, * ``interfaces`` list of dictionaries with the following keys: * ``name`` interface name, * ``ipv4_address`` IPv4 address of the interface, * ``mac_address`` MAC (physical) address of the interface. * ``client_id`` InfiniBand Client-ID, for Ethernet is None. * ``disks`` list of disk block devices containing at least ``name`` and ``size`` (in bytes) keys. In case ``disks`` are not provided **ironic-inspector** assumes that this is a disk-less node. * ``root_disk`` default deployment root disk as calculated by the ironic-python-agent algorithm. .. note:: **ironic-inspector** default plugin ``root_disk_selection`` may change ``root_disk`` based on root device hints if node specify hints via properties ``root_device`` key. See :ironic-doc:`Specifying the disk for deployment root device hints <install/advanced.html#specifying-the-disk-for-deployment-root-device-hints>` for more details. * ``boot_interface`` MAC address of the NIC that the machine PXE booted from either in standard format ``11:22:33:44:55:66`` or in *PXELinux* ``BOOTIF`` format ``01-11-22-33-44-55-66``. Strictly speaking, this key is optional, but some features will now work as expected, if it is not provided. Optionally the following keys might be provided: * ``error`` error happened during ramdisk run, interpreted by ``ramdisk_error`` plugin. * ``logs`` base64-encoded logs from the ramdisk. .. note:: This list highly depends on enabled plugins, provided above are expected keys for the default set of plugins. See :ref:`plugins <introspection_plugins>` for details. .. note:: This endpoint is not expected to be versioned, though versioning will work on it. Response: * 200 - OK * 400 - bad request * 403 - node is not on introspection * 404 - node cannot be found or multiple nodes found Response body: JSON dictionary with ``uuid`` key. Error Response ~~~~~~~~~~~~~~ If an error happens during request processing, **Ironic Inspector** returns a response with an appropriate HTTP code set, e.g. 400 for bad request or 404 when something was not found (usually node in cache or node in ironic). The following JSON body is returned:: { ""error"": { ""message"": ""Full error message"" } } This body may be extended in the future to include details that are more error specific. API Versioning ~~~~~~~~~~~~~~ The API supports optional API versioning. You can query for minimum and maximum API version supported by the server. You can also declare required API version in your requests, so that the server rejects request of unsupported version. .. note:: Versioning was introduced in **Ironic Inspector 2.1.0**. All versions must be supplied as string in form of ``X.Y``, where ``X`` is a major version and is always ``1`` for now, ``Y`` is a minor version. * If ``X-OpenStack-Ironic-Inspector-API-Version`` header is sent with request, the server will check if it supports this version. HTTP error 406 will be returned for unsupported API version. * All HTTP responses contain ``X-OpenStack-Ironic-Inspector-API-Minimum-Version`` and ``X-OpenStack-Ironic-Inspector-API-Maximum-Version`` headers with minimum and maximum API versions supported by the server. .. note:: Maximum is server API version used by default. API Discovery ~~~~~~~~~~~~~ The API supports API discovery. You can query different parts of the API to discover what other endpoints are available. * ``GET /`` List API Versions Response: * 200 - OK Response body: JSON dictionary containing a list of ``versions``, each version contains: * ``status`` Either CURRENT or SUPPORTED * ``id`` The version identifier * ``links`` A list of links to this version endpoint containing: * ``href`` The URL * ``rel`` The relationship between the version and the href * ``GET /v1`` List API v1 resources Response: * 200 - OK Response body: JSON dictionary containing a list of ``resources``, each resource contains: * ``name`` The name of this resources * ``links`` A list of link to this resource containing: * ``href`` The URL * ``rel`` The relationship between the resource and the href Version History ^^^^^^^^^^^^^^^ * **1.0** version of API at the moment of introducing versioning. * **1.1** adds endpoint to retrieve stored introspection data. * **1.2** endpoints for manipulating introspection rules. * **1.3** endpoint for canceling running introspection * **1.4** endpoint for reapplying the introspection over stored data. * **1.5** support for Ironic node names. * **1.6** endpoint for rules creating returns 201 instead of 200 on success. * **1.7** UUID, started_at, finished_at in the introspection status API. * **1.8** support for listing all introspection statuses. * **1.9** de-activate setting IPMI credentials, if IPMI credentials are requested, API gets HTTP 400 response. * **1.10** adds node state to the GET /v1/introspection/<Node ID> and GET /v1/introspection API response data. * **1.11** adds invert&multiple fields into rules response data * **1.12** this version indicates that support for setting IPMI credentials was completely removed from API (all versions). * **1.13** adds ``manage_boot`` parameter for the introspection API. * **1.14** allows formatting to be applied to strings nested in dicts and lists in the actions of introspection rules. * **1.15** allows reapply with provided introspection data from request. * **1.16** adds ``scope`` field to introspection rule. * **1.17** adds ``GET /v1/introspection/<node>/data/unprocessed``.",76,443
openstack%2Fopenstack-helm~master~Iebc74280f5fd6302723caa325603645a2f9755dc,openstack/openstack-helm,master,Iebc74280f5fd6302723caa325603645a2f9755dc,Parallelize helm test run for compute-kit,MERGED,2020-07-22 16:41:18.000000000,2020-08-07 14:55:33.000000000,2020-08-07 14:50:12.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-22 16:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e38d7222545cd8670c14c87e0d407eca75fe5cb9', 'message': 'Parallelize helm test run for compute-kit\n\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-22 16:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33af9f541a8a6a2d57ba176fc220885f0001528e', 'message': 'Parallelize helm test run for compute-kit\n\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-22 17:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/36e8ffd883a07bb2bc7d7c7f35719c2c2b160fa0', 'message': 'Parallelize helm test run for compute-kit\n\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-22 17:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/04101c42418838aafb580fd3bfddac41cf45f18c', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-22 17:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56fd3d0c24c810cf41fd72fe371b98ed5c0fced0', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-22 18:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0314a29a704056d28b54bb2b3e5c1e30c6daf3da', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-22 19:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4824da8d6cfc8e1d9796c56db97d6e48a024f35e', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-22 21:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/063275a414764f6025f8c51e7c409260298ce27c', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-22 22:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddb97818d70c7e2a1d3b23c8149bbdae10aed3cc', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-22 23:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18d67d1f4031c921ccd26cce3e73c4454e8ebc4b', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-23 01:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bd6303224abea82d60792589829546c6e890419', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-23 02:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/841ea4d1811ded23ae4481e96bf7ab2ef1d3c1f1', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-24 00:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f00f1a6efc2e4b9b271b9f724349fa94fc206af', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-24 04:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a8f243249dd9bed7a9d31c67232bc4197e336b8', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-07-28 19:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0aa96ee51d7a2e5b53f4b49dc89b4c20ba3cd411', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-07-30 18:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2b99c29202bff115e1a1f9ee439613ad74a3d2a', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-07-30 18:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b96728ba340722c442742a3a6dffdf0637ab69ed', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-07-30 19:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32bf8a810a5c0b2dd6c95d47534c296e172b7b38', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-07-30 20:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e4b5a041c42321f3cdcdd4bf162cce95654825c', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 20, 'created': '2020-07-31 02:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab62dfe700001fd88ac49c9bc19bfd3bcf948a37', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 21, 'created': '2020-07-31 02:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b6a86b547a898cc168e09a58df533e1478539f0', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 22, 'created': '2020-08-05 01:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95d3d6600673ce3f42b8826bb670d3c2c7bcc085', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 23, 'created': '2020-08-06 00:51:29.000000000', 'files': ['tools/deployment/component/compute-kit/compute-kit.sh', 'tools/deployment/component/keystone/keystone.sh', 'tools/deployment/component/glance/glance.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/common/run-helm-tests.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f3ed377cbca7db294c3276e6a35b8bc4980f68eb', 'message': 'Parallelize helm test run for compute-kit\n\nDepends-On: https://review.opendev.org/742499\nChange-Id: Iebc74280f5fd6302723caa325603645a2f9755dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,742482,f3ed377cbca7db294c3276e6a35b8bc4980f68eb,91,6,23,8863,,,0,"Parallelize helm test run for compute-kit

Depends-On: https://review.opendev.org/742499
Change-Id: Iebc74280f5fd6302723caa325603645a2f9755dc
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/742482/20 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/compute-kit/compute-kit.sh', 'tools/deployment/component/keystone/keystone.sh', 'tools/deployment/component/glance/glance.sh', 'zuul.d/jobs-openstack-helm.yaml']",4,e38d7222545cd8670c14c87e0d407eca75fe5cb9,speed-up-osh-jobs, - - ./tools/deployment/common/run-helm-tests.sh keystone - ./tools/deployment/component/heat/heat.sh - - ./tools/deployment/common/run-helm-tests.sh glance - ./tools/deployment/component/compute-kit/libvirt.sh - - ./tools/deployment/common/run-helm-tests.sh neutron - ./tools/deployment/common/run-helm-tests.sh nova, - - ./tools/deployment/component/heat/heat.sh - - ./tools/deployment/component/compute-kit/libvirt.sh,7,9
openstack%2Fnova~master~Ibf6ba7da4bd8a3b9b3c7b112828959c2ff2b3f73,openstack/nova,master,Ibf6ba7da4bd8a3b9b3c7b112828959c2ff2b3f73,Introduce scope_types in security_groups policy,MERGED,2020-07-23 22:12:59.000000000,2020-08-07 14:43:58.000000000,2020-08-07 14:38:32.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 22:12:59.000000000', 'files': ['nova/policies/security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/293984722698673f23da162dd01d1640383eba7b', 'message': ""Introduce scope_types in security_groups policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for security_groups policies\nas 'system' and 'project'\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ibf6ba7da4bd8a3b9b3c7b112828959c2ff2b3f73\n""}]",0,742757,293984722698673f23da162dd01d1640383eba7b,16,11,1,8556,,,0,"Introduce scope_types in security_groups policy

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for security_groups policies
as 'system' and 'project'

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ibf6ba7da4bd8a3b9b3c7b112828959c2ff2b3f73
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/742757/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/security_groups.py'],1,293984722698673f23da162dd01d1640383eba7b,bp/policy-defaults-refresh-deprecated-apis," ], scope_types=['system', 'project']),"," ]),",2,1
openstack%2Fnova~master~Ic5d42dd370e6397e644c6e68854029cf68b8492e,openstack/nova,master,Ic5d42dd370e6397e644c6e68854029cf68b8492e,Add test coverage of tenant networks policies,MERGED,2020-07-23 23:46:18.000000000,2020-08-07 14:41:50.000000000,2020-08-07 14:37:53.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 23:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce2b9612a1db6b048fd47b845b71c08dde097a6c', 'message': ""Add test coverage of tenant networks policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ic5d42dd370e6397e644c6e68854029cf68b8492e\n""}, {'number': 2, 'created': '2020-07-24 00:18:49.000000000', 'files': ['nova/tests/unit/policies/test_tenant_networks.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35420580e573a1dd1b4572a8ea524729b3530b55', 'message': ""Add test coverage of tenant networks policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ic5d42dd370e6397e644c6e68854029cf68b8492e\n""}]",1,742765,35420580e573a1dd1b4572a8ea524729b3530b55,18,9,2,8556,,,0,"Add test coverage of tenant networks policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ic5d42dd370e6397e644c6e68854029cf68b8492e
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/742765/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_tenant_networks.py'],1,ce2b9612a1db6b048fd47b845b71c08dde097a6c,bp/policy-defaults-refresh-deprecated-apis,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_utils.fixture import uuidsentinel as uuids from nova.api.openstack.compute import tenant_networks from nova.tests.unit.api.openstack import fakes from nova.tests.unit.policies import base class TenantNetworksPolicyTest(base.BasePolicyTest): """"""Test Tenant Networks APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(TenantNetworksPolicyTest, self).setUp() self.controller = tenant_networks.TenantNetworkController() self.req = fakes.HTTPRequest.blank('') # Check that everyone is able to get tenant networks. # NOTE: Nova cannot verify the tenant networks owner during nova policy # enforcement so will be passing context's project_id as target to # policy and always pass. If requester is not admin or owner # of networks then neutron will be returning the appropriate error. self.everyone_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context, self.other_project_reader_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] self.everyone_unauthorized_contexts = [] @mock.patch('nova.network.neutron.API.get_all') def test_list_tenant_networks_policy(self, mock_get): rule_name = ""os_compute_api:os-tenant-networks"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.index, self.req) @mock.patch('nova.network.neutron.API.get') def test_show_tenant_network_policy(self, mock_get): rule_name = ""os_compute_api:os-tenant-networks"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.show, self.req, uuids.fake_id) class TenantNetworksScopeTypePolicyTest(TenantNetworksPolicyTest): """"""Test Tenant Networks APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(TenantNetworksScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,80,0
openstack%2Fneutron~stable%2Fstein~I1a50e77749aaecc3966c9d238f91a1968ed454ef,openstack/neutron,stable/stein,I1a50e77749aaecc3966c9d238f91a1968ed454ef,Fix Traceback when running neutron-ipset-cleanup tool,MERGED,2020-07-31 11:04:34.000000000,2020-08-07 14:41:31.000000000,2020-08-07 14:37:40.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 11:04:34.000000000', 'files': ['neutron/cmd/ipset_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d9ec2b758db13f75b4f9860ad0f92d7c801783b', 'message': 'Fix Traceback when running neutron-ipset-cleanup tool\n\nSome of the tools dependencies expect the AGENT group to be\npresent in the configuration, and at present it is not initialized,\nthis patch addresses that.\n\nChange-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nCloses-Bug: #1881771\n(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)\n'}]",0,744126,0d9ec2b758db13f75b4f9860ad0f92d7c801783b,36,7,1,11975,,,0,"Fix Traceback when running neutron-ipset-cleanup tool

Some of the tools dependencies expect the AGENT group to be
present in the configuration, and at present it is not initialized,
this patch addresses that.

Change-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
Closes-Bug: #1881771
(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/744126/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ipset_cleanup.py'],1,0d9ec2b758db13f75b4f9860ad0f92d7c801783b,bug/1881771-stable/train-stable/stein,from neutron.conf.agent import common as agent_config agent_config.register_root_helper(conf=conf),,2,0
openstack%2Fnova~master~Iad17699dc7150abdfea6d6410e32343a78ccad85,openstack/nova,master,Iad17699dc7150abdfea6d6410e32343a78ccad85,Add test coverage of security_groups policies,MERGED,2020-07-23 18:38:21.000000000,2020-08-07 14:38:25.000000000,2020-08-07 14:38:24.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 18:38:21.000000000', 'files': ['nova/tests/unit/policies/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/80156827ed475cc8f4c46c34cf487885db886766', 'message': ""Add test coverage of security_groups policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Iad17699dc7150abdfea6d6410e32343a78ccad85\n""}]",0,742726,80156827ed475cc8f4c46c34cf487885db886766,13,9,1,8556,,,0,"Add test coverage of security_groups policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Iad17699dc7150abdfea6d6410e32343a78ccad85
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/742726/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_security_groups.py'],1,80156827ed475cc8f4c46c34cf487885db886766,bp/policy-defaults-refresh-deprecated-apis,"class ServerSecurityGroupsPolicyTest(base.BasePolicyTest): """"""Test Server Security Groups APIs policies with all possible context. super(ServerSecurityGroupsPolicyTest, self).setUp()class SecurityGroupsPolicyTest(base.BasePolicyTest): """"""Test Security Groups APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(SecurityGroupsPolicyTest, self).setUp() self.controller = security_groups.SecurityGroupController() self.rule_ctr = security_groups.SecurityGroupRulesController() self.req = fakes.HTTPRequest.blank('') # Check that everyone is able to perform crud operation on. # security groups. # NOTE(gmann): Nova cannot verify the security groups owner during # nova policy enforcement so will be passing context's project_id # as target to policy and always pass. If requester is not admin # or owner of security groups then neutron will be returning the # appropriate error. self.everyone_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context, self.other_project_reader_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] self.everyone_unauthorized_contexts = [] @mock.patch('nova.network.security_group_api.list') def test_list_security_groups_policy(self, mock_get): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.index, self.req) @mock.patch('nova.network.security_group_api.get') def test_show_security_groups_policy(self, mock_get): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.show, self.req, uuids.fake_id) @mock.patch('nova.network.security_group_api.get') @mock.patch('nova.network.security_group_api.update_security_group') def test_update_security_groups_policy(self, mock_update, mock_get): rule_name = policies.BASE_POLICY_NAME body = {'security_group': { 'name': 'test', 'description': 'test-desc'}} self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.update, self.req, uuids.fake_id, body=body) @mock.patch('nova.network.security_group_api.create_security_group') def test_create_security_groups_policy(self, mock_create): rule_name = policies.BASE_POLICY_NAME body = {'security_group': { 'name': 'test', 'description': 'test-desc'}} self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.create, self.req, body=body) @mock.patch('nova.network.security_group_api.get') @mock.patch('nova.network.security_group_api.destroy') def test_delete_security_groups_policy(self, mock_destroy, mock_get): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.delete, self.req, uuids.fake_id) @mock.patch('nova.network.security_group_api.get') @mock.patch('nova.network.security_group_api.create_security_group_rule') def test_create_security_group_rules_policy(self, mock_create, mock_get): rule_name = policies.BASE_POLICY_NAME body = {'security_group_rule': { 'ip_protocol': 'test', 'group_id': uuids.fake_id, 'parent_group_id': uuids.fake_id, 'from_port': 22, 'from_port': 22}} self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.rule_ctr.create, self.req, body=body) @mock.patch('nova.network.security_group_api.get_rule') @mock.patch('nova.network.security_group_api.get') @mock.patch('nova.network.security_group_api.remove_rules') def test_delete_security_group_rules_policy(self, mock_remove, mock_get, mock_rules): rule_name = policies.BASE_POLICY_NAME self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.rule_ctr.delete, self.req, uuids.fake_id) class ServerSecurityGroupsScopeTypePolicyTest(ServerSecurityGroupsPolicyTest): """"""Test Server Security Groups APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(ServerSecurityGroupsScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") class ServerSecurityGroupsNoLegacyPolicyTest( ServerSecurityGroupsScopeTypePolicyTest): super(ServerSecurityGroupsNoLegacyPolicyTest, self).setUp()","class SecurityGroupsPolicyTest(base.BasePolicyTest): """"""Test Security Groups APIs policies with all possible context. super(SecurityGroupsPolicyTest, self).setUp()class SecurityGroupsNoLegacyPolicyTest(SecurityGroupsScopeTypePolicyTest): super(SecurityGroupsNoLegacyPolicyTest, self).setUp()",134,5
openstack%2Fnova~master~I9b7154680b19f76cb97a6c861657ca2f5cad0004,openstack/nova,master,I9b7154680b19f76cb97a6c861657ca2f5cad0004,Add new default roles in tenant networks policies,MERGED,2020-07-24 00:15:11.000000000,2020-08-07 14:38:08.000000000,2020-08-07 14:38:08.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-24 00:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fa0ad92b6cf2e4a68f6a9fb8f2d46bb0cffa1d4', 'message': 'Add new default roles in tenant networks policies\n\nThis adds new defaults roles in tenant networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I9b7154680b19f76cb97a6c861657ca2f5cad0004\n'}, {'number': 2, 'created': '2020-07-24 00:19:43.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/policies/tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cade031eb3b4359987f53083f7df4113f446e0dd', 'message': 'Add new default roles in tenant networks policies\n\nThis adds new defaults roles in tenant networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I9b7154680b19f76cb97a6c861657ca2f5cad0004\n'}]",0,742771,cade031eb3b4359987f53083f7df4113f446e0dd,24,12,2,8556,,,0,"Add new default roles in tenant networks policies

This adds new defaults roles in tenant networks API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I9b7154680b19f76cb97a6c861657ca2f5cad0004
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/742771/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/policies/tenant_networks.py']",4,0fa0ad92b6cf2e4a68f6a9fb8f2d46bb0cffa1d4,bp/policy-defaults-refresh-deprecated-apis,"POLICY_NAME = 'os_compute_api:os-tenant-networks:%s' DEPRECATED_POLICY = policy.DeprecatedRule( BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, ) DEPRECATED_REASON = """""" Nova API policies are introducing new default roles with scope_type capabilities. Old policies are deprecated and silently going to be ignored in nova 23.0.0 release. """""" name=POLICY_NAME % 'list', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""List project networks. This API is proxy calls to the Network service. This is deprecated."""""", ], scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'), policy.DocumentedRuleDefault( name=POLICY_NAME % 'show', check_str=base.PROJECT_READER_OR_SYSTEM_READER, description=""""""Show project network details. This API is proxy calls to the Network service. This is deprecated."""""", operations=[ scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='22.0.0'),"," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""List, show information for project networks. These APIs are proxy calls to the Network service. These are all deprecated."""""", scope_types=['system', 'project']),",38,10
openstack%2Fnova~master~I71a966d23f117595e42dd1afc1e10baece9b2a25,openstack/nova,master,I71a966d23f117595e42dd1afc1e10baece9b2a25,Introduce scope_types in tenant networks policy,MERGED,2020-07-23 23:58:10.000000000,2020-08-07 14:37:59.000000000,2020-08-07 14:37:58.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 23:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e97abff499aef2e1b919b39453aec90c70ab4aaf', 'message': ""Introduce scope_types in tenant networks policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for tenant networks policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I71a966d23f117595e42dd1afc1e10baece9b2a25\n""}, {'number': 2, 'created': '2020-07-24 00:19:34.000000000', 'files': ['nova/policies/tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/787e359bb152416a53db10357c4146effec302ef', 'message': ""Introduce scope_types in tenant networks policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for tenant networks policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I71a966d23f117595e42dd1afc1e10baece9b2a25\n""}]",0,742766,787e359bb152416a53db10357c4146effec302ef,17,12,2,8556,,,0,"Introduce scope_types in tenant networks policy

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for tenant networks policies
as 'system' and 'project'.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I71a966d23f117595e42dd1afc1e10baece9b2a25
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/742766/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/tenant_networks.py'],1,e97abff499aef2e1b919b39453aec90c70ab4aaf,bp/policy-defaults-refresh-deprecated-apis," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""List, show information for project networks. operations=[ ], scope_types=['system', 'project']),"," BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, """"""Create, list, show information for, and delete project networks. [ ]),",6,5
openstack%2Fironic~master~I4f9db300e792980059c401fce4c37a68c438d7c0,openstack/ironic,master,I4f9db300e792980059c401fce4c37a68c438d7c0,Extend base build timeouts,MERGED,2020-07-18 20:19:15.000000000,2020-08-07 14:31:58.000000000,2020-07-27 14:27:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-18 20:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/517999670411b2847f20dd3acd6b7dd7a78b25d5', 'message': ""Extend base build timeouts\n\nOur ramdisks have swelled, and are taking anywhere from 500-700\nseconds to even reach the point where IPA is starting up.\n\nThis means, that a 900 second build timeout is cutting it close\nand intermittent performance degredation in CI means that a job\nmay fail simply because it is colliding with the timeout.\n\nOne example I deconstruted today where a 900 second timout was\nin effect:\n\n* 08:21:41 Tempest job startes\n* 08:21:46 Nova instance requested\n* Compute service requests ironic to do the thing.\n* Ironic downloads IPA and stages it - ~20-30 seconds\n* VM boots and loads ipxe ~30 seconds.\n* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion\n             unless apache has changed logging behavior for requests.)\n* 08:26:28 - Kernel at 120 second marker and done decompressing\n             the ramdisk.\n* ~08:34:30 - Kernel itself hit the six hundred second runtime\n              marker and hasn't even started IPA.\n* 08:35:02 - Ironic declars the deploy failed due to wait timeout.\n             ([conductor]deploy_callback_timeout hit at 700 seconds.)\n* 08:35:32 - Nova fails the build saying it can't be scheduled.\n\n(Note, I started adding times to figure out the window to myself, so\nthey are incomplete above.)\n\nThe time we can account for in the job is about 14 minutes or 840\nseconds. As such, our existing defaults are just not enough to handle\nthe ramdisk size AND variance in cloud performance.\n\nChange-Id: I4f9db300e792980059c401fce4c37a68c438d7c0\n""}, {'number': 2, 'created': '2020-07-19 21:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/044280defa640e6b10364d1c500b9ce2c27f72d7', 'message': ""Extend base build timeouts\n\nOur ramdisks have swelled, and are taking anywhere from 500-700\nseconds to even reach the point where IPA is starting up.\n\nThis means, that a 900 second build timeout is cutting it close\nand intermittent performance degredation in CI means that a job\nmay fail simply because it is colliding with the timeout.\n\nOne example I deconstruted today where a 900 second timout was\nin effect:\n\n* 08:21:41 Tempest job startes\n* 08:21:46 Nova instance requested\n* Compute service requests ironic to do the thing.\n* Ironic downloads IPA and stages it - ~20-30 seconds\n* VM boots and loads ipxe ~30 seconds.\n* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion\n             unless apache has changed logging behavior for requests.)\n* 08:26:28 - Kernel at 120 second marker and done decompressing\n             the ramdisk.\n* ~08:34:30 - Kernel itself hit the six hundred second runtime\n              marker and hasn't even started IPA.\n* 08:35:02 - Ironic declars the deploy failed due to wait timeout.\n             ([conductor]deploy_callback_timeout hit at 700 seconds.)\n* 08:35:32 - Nova fails the build saying it can't be scheduled.\n\n(Note, I started adding times to figure out the window to myself, so\nthey are incomplete above.)\n\nThe time we can account for in the job is about 14 minutes or 840\nseconds. As such, our existing defaults are just not enough to handle\nthe ramdisk size AND variance in cloud performance.\n\nChange-Id: I4f9db300e792980059c401fce4c37a68c438d7c0\n""}, {'number': 3, 'created': '2020-07-20 21:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b552f6ba16d3984b1c6cdcea00fb24346c9881cf', 'message': ""Extend base build timeouts\n\nOur ramdisks have swelled, and are taking anywhere from 500-700\nseconds to even reach the point where IPA is starting up.\n\nThis means, that a 900 second build timeout is cutting it close\nand intermittent performance degredation in CI means that a job\nmay fail simply because it is colliding with the timeout.\n\nOne example I deconstruted today where a 900 second timout was\nin effect:\n\n* 08:21:41 Tempest job startes\n* 08:21:46 Nova instance requested\n* Compute service requests ironic to do the thing.\n* Ironic downloads IPA and stages it - ~20-30 seconds\n* VM boots and loads ipxe ~30 seconds.\n* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion\n             unless apache has changed logging behavior for requests.)\n* 08:26:28 - Kernel at 120 second marker and done decompressing\n             the ramdisk.\n* ~08:34:30 - Kernel itself hit the six hundred second runtime\n              marker and hasn't even started IPA.\n* 08:35:02 - Ironic declars the deploy failed due to wait timeout.\n             ([conductor]deploy_callback_timeout hit at 700 seconds.)\n* 08:35:32 - Nova fails the build saying it can't be scheduled.\n\n(Note, I started adding times to figure out the window to myself, so\nthey are incomplete above.)\n\nThe time we can account for in the job is about 14 minutes or 840\nseconds. As such, our existing defaults are just not enough to handle\nthe ramdisk size AND variance in cloud performance.\n\nChange-Id: I4f9db300e792980059c401fce4c37a68c438d7c0\n""}, {'number': 4, 'created': '2020-07-20 21:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9cac9a02578527b9db2892fc33ef54f51b054566', 'message': ""Extend base build timeouts\n\nOur ramdisks have swelled, and are taking anywhere from 500-700\nseconds to even reach the point where IPA is starting up.\n\nThis means, that a 900 second build timeout is cutting it close\nand intermittent performance degredation in CI means that a job\nmay fail simply because it is colliding with the timeout.\n\nOne example I deconstruted today where a 900 second timout was\nin effect:\n\n* 08:21:41 Tempest job startes\n* 08:21:46 Nova instance requested\n* Compute service requests ironic to do the thing.\n* Ironic downloads IPA and stages it - ~20-30 seconds\n* VM boots and loads ipxe ~30 seconds.\n* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion\n             unless apache has changed logging behavior for requests.)\n* 08:26:28 - Kernel at 120 second marker and done decompressing\n             the ramdisk.\n* ~08:34:30 - Kernel itself hit the six hundred second runtime\n              marker and hasn't even started IPA.\n* 08:35:02 - Ironic declars the deploy failed due to wait timeout.\n             ([conductor]deploy_callback_timeout hit at 700 seconds.)\n* 08:35:32 - Nova fails the build saying it can't be scheduled.\n\n(Note, I started adding times to figure out the window to myself, so\nthey are incomplete above.)\n\nThe time we can account for in the job is about 14 minutes or 840\nseconds. As such, our existing defaults are just not enough to handle\nthe ramdisk size AND variance in cloud performance.\n\nChange-Id: I4f9db300e792980059c401fce4c37a68c438d7c0\n""}, {'number': 5, 'created': '2020-07-21 19:25:18.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9169085db781e2a27bdfc36e45a4d0feeb9bca53', 'message': ""Extend base build timeouts\n\nOur ramdisks have swelled, and are taking anywhere from 500-700\nseconds to even reach the point where IPA is starting up.\n\nThis means, that a 900 second build timeout is cutting it close\nand intermittent performance degredation in CI means that a job\nmay fail simply because it is colliding with the timeout.\n\nOne example I deconstruted today where a 900 second timout was\nin effect:\n\n* 08:21:41 Tempest job startes\n* 08:21:46 Nova instance requested\n* Compute service requests ironic to do the thing.\n* Ironic downloads IPA and stages it - ~20-30 seconds\n* VM boots and loads ipxe ~30 seconds.\n* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion\n             unless apache has changed logging behavior for requests.)\n* 08:26:28 - Kernel at 120 second marker and done decompressing\n             the ramdisk.\n* ~08:34:30 - Kernel itself hit the six hundred second runtime\n              marker and hasn't even started IPA.\n* 08:35:02 - Ironic declars the deploy failed due to wait timeout.\n             ([conductor]deploy_callback_timeout hit at 700 seconds.)\n* 08:35:32 - Nova fails the build saying it can't be scheduled.\n\n(Note, I started adding times to figure out the window to myself, so\nthey are incomplete above.)\n\nThe time we can account for in the job is about 14 minutes or 840\nseconds. As such, our existing defaults are just not enough to handle\nthe ramdisk size AND variance in cloud performance.\n\nChange-Id: I4f9db300e792980059c401fce4c37a68c438d7c0\n""}]",5,741818,9169085db781e2a27bdfc36e45a4d0feeb9bca53,74,7,5,11655,,,0,"Extend base build timeouts

Our ramdisks have swelled, and are taking anywhere from 500-700
seconds to even reach the point where IPA is starting up.

This means, that a 900 second build timeout is cutting it close
and intermittent performance degredation in CI means that a job
may fail simply because it is colliding with the timeout.

One example I deconstruted today where a 900 second timout was
in effect:

* 08:21:41 Tempest job startes
* 08:21:46 Nova instance requested
* Compute service requests ironic to do the thing.
* Ironic downloads IPA and stages it - ~20-30 seconds
* VM boots and loads ipxe ~30 seconds.
* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion
             unless apache has changed logging behavior for requests.)
* 08:26:28 - Kernel at 120 second marker and done decompressing
             the ramdisk.
* ~08:34:30 - Kernel itself hit the six hundred second runtime
              marker and hasn't even started IPA.
* 08:35:02 - Ironic declars the deploy failed due to wait timeout.
             ([conductor]deploy_callback_timeout hit at 700 seconds.)
* 08:35:32 - Nova fails the build saying it can't be scheduled.

(Note, I started adding times to figure out the window to myself, so
they are incomplete above.)

The time we can account for in the job is about 14 minutes or 840
seconds. As such, our existing defaults are just not enough to handle
the ramdisk size AND variance in cloud performance.

Change-Id: I4f9db300e792980059c401fce4c37a68c438d7c0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/741818/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,517999670411b2847f20dd3acd6b7dd7a78b25d5,, BUILD_TIMEOUT: 1200 IRONIC_CALLBACK_TIMEOUT: 900 IRONIC_TEMPEST_BUILD_TIMEOUT: 1200 BUILD_TIMEOUT: 2000 IRONIC_TEMPEST_BUILD_TIMEOUT: 2000, BUILD_TIMEOUT: 900 IRONIC_CALLBACK_TIMEOUT: 700 IRONIC_TEMPEST_BUILD_TIMEOUT: 900 BUILD_TIMEOUT: 1440 IRONIC_TEMPEST_BUILD_TIMEOUT: 1440,5,5
openstack%2Ftripleo-upgrade~stable%2Fussuri~Id68c62486e8b12e21931a4255da48effb0ed4690,openstack/tripleo-upgrade,stable/ussuri,Id68c62486e8b12e21931a4255da48effb0ed4690,Add BootParams service to all roles,MERGED,2020-08-06 03:59:25.000000000,2020-08-07 14:29:31.000000000,2020-08-07 14:29:31.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-06 03:59:25.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8ed2b58d39d103fd9c7ea03d80a771d89a50c518', 'message': 'Add BootParams service to all roles\n\nBootParams service should be added to all the roles during\nthe ugprade. It is responsible to set the kernel args and\nreboot if required.\nRelated-Bug: #1890080\n\nChange-Id: Id68c62486e8b12e21931a4255da48effb0ed4690\n(cherry picked from commit e5197c4469c7d85c86a8c0f73638bc3d44f919e3)\n'}]",0,745060,8ed2b58d39d103fd9c7ea03d80a771d89a50c518,8,5,1,18575,,,0,"Add BootParams service to all roles

BootParams service should be added to all the roles during
the ugprade. It is responsible to set the kernel args and
reboot if required.
Related-Bug: #1890080

Change-Id: Id68c62486e8b12e21931a4255da48effb0ed4690
(cherry picked from commit e5197c4469c7d85c86a8c0f73638bc3d44f919e3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/60/745060/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,8ed2b58d39d103fd9c7ea03d80a771d89a50c518,kernel_args_service-stable/ussuri,"- name: add BootParams service replace: path: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::AuditD$)' replace: '\1\2\1- OS::TripleO::Services::BootParams' ",,6,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,openstack/tripleo-heat-templates,stable/ussuri,I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,Update octavia playbooks parameters,MERGED,2020-07-31 14:34:38.000000000,2020-08-07 14:29:30.000000000,2020-08-07 14:29:30.000000000,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-31 14:34:38.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f336195f622c0191eb7cc432ff49a81a9d97e3b', 'message': 'Update octavia playbooks parameters\n\nStackAction no longer conditions generate_certs.\nForward OctaviaGenerateCerts to the playbooks and add StackAction value\nas parameter, the need of creating certificates is now handled in the\nansible playbook.\n\nChange-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2\nRelated-Bug: #1849548\n(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)\n'}]",0,744183,5f336195f622c0191eb7cc432ff49a81a9d97e3b,10,4,1,29244,,,0,"Update octavia playbooks parameters

StackAction no longer conditions generate_certs.
Forward OctaviaGenerateCerts to the playbooks and add StackAction value
as parameter, the need of creating certificates is now handled in the
ansible playbook.

Change-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2
Related-Bug: #1849548
(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/744183/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,5f336195f622c0191eb7cc432ff49a81a9d97e3b,, generate_certs: { get_param: OctaviaGenerateCerts } stack_action: { get_param: StackAction }," generate_certs: and: - get_param: OctaviaGenerateCerts - equals: - get_param: StackAction - CREATE generate_certs: {if: [generate_certs, true, false]}",2,8
openstack%2Fpython-cinderclient~master~Ie37f00e2f5ef2230adcff0d662e2d0b214b8c74c,openstack/python-cinderclient,master,Ie37f00e2f5ef2230adcff0d662e2d0b214b8c74c,trivial: Drop references to os-testr,MERGED,2020-07-09 10:22:17.000000000,2020-08-07 14:25:30.000000000,2020-08-07 14:22:47.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 10:22:17.000000000', 'files': ['doc/source/contributor/functional_tests.rst', 'doc/source/contributor/unit_tests.rst', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8ecbbcd7a19bb4784bef6dfa98b7b8c980580843', 'message': 'trivial: Drop references to os-testr\n\nos-testr is dead. Long live stestr.\n\nChange-Id: Ie37f00e2f5ef2230adcff0d662e2d0b214b8c74c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,740223,8ecbbcd7a19bb4784bef6dfa98b7b8c980580843,9,4,1,15334,,,0,"trivial: Drop references to os-testr

os-testr is dead. Long live stestr.

Change-Id: Ie37f00e2f5ef2230adcff0d662e2d0b214b8c74c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/23/740223/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/functional_tests.rst', 'doc/source/contributor/unit_tests.rst', 'lower-constraints.txt']",3,8ecbbcd7a19bb4784bef6dfa98b7b8c980580843,drop-os-testr,,os-testr==1.0.0,2,3
openstack%2Fironic-python-agent~stable%2Fqueens~Ib0360374b518aa9b5f02b580f9a65274c8808b61,openstack/ironic-python-agent,stable/queens,Ib0360374b518aa9b5f02b580f9a65274c8808b61,Pin Ironic Tempest Plugin,ABANDONED,2020-08-04 18:33:09.000000000,2020-08-07 14:21:12.000000000,,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 18:33:09.000000000', 'files': ['zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4121d98aee1f777f86e38e19a0bb9e36cb63e1c1', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nChange-Id: Ib0360374b518aa9b5f02b580f9a65274c8808b61\n""}]",0,744774,4121d98aee1f777f86e38e19a0bb9e36cb63e1c1,6,4,1,11655,,,0,"Pin Ironic Tempest Plugin

Pin the ironic-tempest-plugin to an older version so
we don't run the net set of tests with wholedisk + partition
testing.

Change-Id: Ib0360374b518aa9b5f02b580f9a65274c8808b61
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/74/744774/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-ironic-jobs.yaml'],1,4121d98aee1f777f86e38e19a0bb9e36cb63e1c1,, - name: openstack/ironic-tempest-plugin override-checkout: 1.1.0, - openstack/ironic-tempest-plugin,2,1
openstack%2Fcharm-nova-compute~stable%2F20.02~I9e426d7718f044f0e73231448b0a3dad17c81524,openstack/charm-nova-compute,stable/20.02,I9e426d7718f044f0e73231448b0a3dad17c81524,"Add support for live_migration_completion_timeout parameter in charm config, templates and hook. Add tests checking the value of live_migration_completion_timeout being set.",ABANDONED,2020-02-18 08:15:53.000000000,2020-08-07 14:19:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 08:15:53.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ed9ee4f1253a57238dc588b7c0fa2583e872d2bd', 'message': 'Add support for live_migration_completion_timeout parameter in charm config, templates and hook.\nAdd tests checking the value of live_migration_completion_timeout being set.\n\nChange-Id: I9e426d7718f044f0e73231448b0a3dad17c81524\nCloses-Bug: 1861986\n(cherry picked from commit 3bfb0120268d95994cd3e08c853df1beb3b280f4)\n'}]",0,708316,ed9ee4f1253a57238dc588b7c0fa2583e872d2bd,5,3,1,31574,,,0,"Add support for live_migration_completion_timeout parameter in charm config, templates and hook.
Add tests checking the value of live_migration_completion_timeout being set.

Change-Id: I9e426d7718f044f0e73231448b0a3dad17c81524
Closes-Bug: 1861986
(cherry picked from commit 3bfb0120268d95994cd3e08c853df1beb3b280f4)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/16/708316/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",10,ed9ee4f1253a57238dc588b7c0fa2583e872d2bd,stable/bug/1861986," 'live_migration_completion_timeout': 800, 'live_migration_completion_timeout': 800, 'live_migration_completion_timeout': 800,",,32,0
openstack%2Fcharm-octavia~master~I835fcca67ec0efab5989b3530e57e8b31cea1662,openstack/charm-octavia,master,I835fcca67ec0efab5989b3530e57e8b31cea1662,Switch to Ussuri jobs,ABANDONED,2019-10-22 04:03:25.000000000,2020-08-07 14:18:11.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 23312}]","[{'number': 1, 'created': '2019-10-22 04:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f926893f36ab945c1a6a4faef4221bd6d2bfda33', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I835fcca67ec0efab5989b3530e57e8b31cea1662\n'}, {'number': 2, 'created': '2020-08-07 14:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ab770d13b6d78ff948475203225ce7b414b22dc8', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I835fcca67ec0efab5989b3530e57e8b31cea1662\n'}]",0,689922,ab770d13b6d78ff948475203225ce7b414b22dc8,10,4,2,23312,,,0,"Switch to Ussuri jobs

Change-Id: I835fcca67ec0efab5989b3530e57e8b31cea1662
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/22/689922/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f926893f36ab945c1a6a4faef4221bd6d2bfda33,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I092d3d8bb3a9c2096677b7e2c875f1039e34e4fa,openstack/networking-ovn,stable/train,I092d3d8bb3a9c2096677b7e2c875f1039e34e4fa,"Use ""replace"" to remove a section of a string",MERGED,2020-07-30 09:30:15.000000000,2020-08-07 14:17:06.000000000,2020-08-07 14:14:59.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 09:30:15.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/42ea6e059ebc6291b93c22a6e1ede3e7c903e5d8', 'message': 'Use ""replace"" to remove a section of a string\n\nFrom ""strip"" documentation:\n  Return a copy of the string with leading whitespace removed.\n  If chars is given and not None, remove characters in chars instead.\n\n(cherry picked from Neutron fc5a8ee1b893a85b7cb3d9fac010c28714e9c50e)\n\nChange-Id: I092d3d8bb3a9c2096677b7e2c875f1039e34e4fa\nCloses-Bug: #1888828\n'}]",0,743937,42ea6e059ebc6291b93c22a6e1ede3e7c903e5d8,15,4,1,6773,,,0,"Use ""replace"" to remove a section of a string

From ""strip"" documentation:
  Return a copy of the string with leading whitespace removed.
  If chars is given and not None, remove characters in chars instead.

(cherry picked from Neutron fc5a8ee1b893a85b7cb3d9fac010c28714e9c50e)

Change-Id: I092d3d8bb3a9c2096677b7e2c875f1039e34e4fa
Closes-Bug: #1888828
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/37/743937/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/maintenance.py']",2,42ea6e059ebc6291b93c22a6e1ede3e7c903e5d8,," network_id = ls.name.replace('neutron-', '')", network_id = ls.name.strip('neutron-'),2,2
openstack%2Fpuppet-neutron~master~Ib18a7e9772f25432f83bf265da7d418688be1ea6,openstack/puppet-neutron,master,Ib18a7e9772f25432f83bf265da7d418688be1ea6,Deprecate ``ovs_integration_bridge``,ABANDONED,2019-12-16 12:25:58.000000000,2020-08-07 14:15:51.000000000,,"[{'_account_id': 6681}, {'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-16 12:25:58.000000000', 'files': ['manifests/agents/dhcp.pp', 'releasenotes/notes/deprecate-ovs_integration_bridge-82800fd7b8159b49.yaml', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f59ea01addacd6b5e20d4345f3668dbc8a479ef0', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: Ib18a7e9772f25432f83bf265da7d418688be1ea6\nRelated-Bug: #1856152\n'}]",0,699202,f59ea01addacd6b5e20d4345f3668dbc8a479ef0,10,5,1,16688,,,0,"Deprecate ``ovs_integration_bridge``

Deprecated ``ovs_integration_bridge`` to avoid configuration redundancies.
Use ``neutron::agents::ml2::ovs::integration_bridge`` instead.

Change-Id: Ib18a7e9772f25432f83bf265da7d418688be1ea6
Related-Bug: #1856152
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/02/699202/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/dhcp.pp', 'releasenotes/notes/deprecate-ovs_integration_bridge-82800fd7b8159b49.yaml', 'manifests/server.pp']",3,f59ea01addacd6b5e20d4345f3668dbc8a479ef0,bug/1856152,"# [*integration_bridge*]# DEPRECATED # # [*ovs_integration_bridge*] # (Optional) Superseded by *integration_bridge* # $integration_bridge = $::os_service_default, 'OVS/integration_bridge': value => $integration_bridge;","# [*ovs_integration_bridge*] $ovs_integration_bridge = $::os_service_default, 'DEFAULT/ovs_integration_bridge': value => $ovs_integration_bridge;",21,6
openstack%2Ftripleo-ansible~stable%2Ftrain~I575d67521719ae3908777284b4225eff5169ae6b,openstack/tripleo-ansible,stable/train,I575d67521719ae3908777284b4225eff5169ae6b,Set the OpenFlow protocol while upgrading OVS from 2.11,MERGED,2020-08-07 07:15:36.000000000,2020-08-07 14:01:07.000000000,2020-08-07 14:01:07.000000000,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-07 07:15:36.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24b96ab6827238cbb68fae1c1ed108193dcb47ae', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n(cherry picked from commit 29993d43b3a884fab35284fc2c56515400036e1f)\n'}]",0,745297,24b96ab6827238cbb68fae1c1ed108193dcb47ae,9,4,1,24791,,,0,"Set the OpenFlow protocol while upgrading OVS from 2.11

We noticed a bug in OSP that OVN controller (2.13) was unable to
contact to OVS bridge (2.11).
Before running the update we should set the OpenFlow protocols on
integration bridge (br-int).

More about the issue [1].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811

Change-Id: I575d67521719ae3908777284b4225eff5169ae6b
(cherry picked from commit 29993d43b3a884fab35284fc2c56515400036e1f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/745297/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,24b96ab6827238cbb68fae1c1ed108193dcb47ae,test_tripleo_ovs_upgrade-stable/train,"from ansible.module_utils._text import to_nativedef set_openflow_version_on_bridges(module, bridges=None): if bridges is None: bridges = ['br-int'] for bridge in bridges: cmd = ['ovs-vsctl', 'set', 'bridge', bridge, 'protocols=OpenFlow13,OpenFlow15'] rc, out, err = module.run_command(cmd) if rc != 0: module.warn('Cannot set OpenFlow13 and OpenFlow15 ' 'protocol on a bridge: %s: %s.' % (bridge, to_native(err))) # NOTE(mjozefcz): Workaround for bz1863024. if '2.11' == flatten_version(ovs_current_version, join_str='.'): set_openflow_version_on_bridges(module)",,17,0
openstack%2Fec2-api~master~I84236ab5354499d9b51e0e2182151926d71a9701,openstack/ec2-api,master,I84236ab5354499d9b51e0e2182151926d71a9701,migrate zuul config from v2 to native v3,ABANDONED,2020-08-07 13:57:47.000000000,2020-08-07 13:58:48.000000000,,[],"[{'number': 1, 'created': '2020-08-07 13:57:47.000000000', 'files': ['playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3e047870ffdfcd0c9d9b54ec5cffa853d12e9277', 'message': 'migrate zuul config from v2 to native v3\n\nmove logic from playbook to zuul config\n\nChange-Id: I84236ab5354499d9b51e0e2182151926d71a9701\n'}]",0,745339,3e047870ffdfcd0c9d9b54ec5cffa853d12e9277,2,0,1,32274,,,0,"migrate zuul config from v2 to native v3

move logic from playbook to zuul config

Change-Id: I84236ab5354499d9b51e0e2182151926d71a9701
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/39/745339/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml']",3,3e047870ffdfcd0c9d9b54ec5cffa853d12e9277,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,10,87
openstack%2Fglance_store~master~If0297f1a85d9d54c126da8a8436044bf4a161ef4,openstack/glance_store,master,If0297f1a85d9d54c126da8a8436044bf4a161ef4,requirements: Drop os-testr,MERGED,2020-07-09 10:27:37.000000000,2020-08-07 13:54:08.000000000,2020-08-07 13:50:30.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 10:27:37.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d519bb597c68feb2b8700ad80b44c7eb1b620111', 'message': 'requirements: Drop os-testr\n\nThis has been replaced in use by stestr.\n\nChange-Id: If0297f1a85d9d54c126da8a8436044bf4a161ef4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,740226,d519bb597c68feb2b8700ad80b44c7eb1b620111,9,4,1,15334,,,0,"requirements: Drop os-testr

This has been replaced in use by stestr.

Change-Id: If0297f1a85d9d54c126da8a8436044bf4a161ef4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/26/740226/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,d519bb597c68feb2b8700ad80b44c7eb1b620111,drop-os-testr,,os-testr==1.0.0,0,2
openstack%2Fironic~stable%2Fqueens~I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,openstack/ironic,stable/queens,I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,Pin ironic-tempest-plugin,ABANDONED,2020-08-06 21:58:46.000000000,2020-08-07 13:52:01.000000000,,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-06 21:58:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bfd430f3b9298a18f70522de99038a6783dcc87', 'message': 'Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to an older version 1.5.1.\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n'}]",0,745236,9bfd430f3b9298a18f70522de99038a6783dcc87,8,4,1,11655,,,0,"Pin ironic-tempest-plugin

This commit pins ironic-tempest-plugin to an older version 1.5.1.

Change-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/745236/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9bfd430f3b9298a18f70522de99038a6783dcc87,, - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode: voting: false # - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode, - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode,3,2
openstack%2Fironic-python-agent~master~Ia68c9cddf0390917933d3c13f840e2849dca414d,openstack/ironic-python-agent,master,Ia68c9cddf0390917933d3c13f840e2849dca414d,Refactor ipa-jobs,NEW,2020-07-13 09:02:54.000000000,2020-08-07 13:50:56.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-13 09:02:54.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/85a98fbd0675e23c7ce2f15692603968215be924', 'message': 'Refactor ipa-jobs\n\nThis patch renames the jobs since we are running\npartition+wholedisk tests with tempest, it also removes unnecessary jobs.\nWe duplicated some jobs so we can change on IPA-builder and DIB.\n\nChange-Id: Ia68c9cddf0390917933d3c13f840e2849dca414d\n'}]",7,740641,85a98fbd0675e23c7ce2f15692603968215be924,8,4,1,15519,,,0,"Refactor ipa-jobs

This patch renames the jobs since we are running
partition+wholedisk tests with tempest, it also removes unnecessary jobs.
We duplicated some jobs so we can change on IPA-builder and DIB.

Change-Id: Ia68c9cddf0390917933d3c13f840e2849dca414d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/740641/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,85a98fbd0675e23c7ce2f15692603968215be924,rename-jobs,# Used by DIB and IPA-Builder # TODO(iurygregory): Remove since the old partition with the same config # will cover that. parent: ipa-tempest-bios-ipmi-direct-dib-src name: ipa-tempest-bios-ipmi-direct-dib-src# Used by DIB and IPA-B - job: name: ipa-tempest-bios-ipmi-iscsi-dib-src parent: ironic-ipa-base vars: devstack_localrc: IRONIC_DEFAULT_BOOT_OPTION: netboot # TODO(iurygregory): Remove after the switch on DIB and IPA-B parent: ipa-tempest-bios-ipmi-iscsi-dib-src parent: ipa-tempest-bios-ipmi-direct-dib-src vars: devstack_localrc: IRONIC_RAMDISK_TYPE: tinyipa IRONIC_VM_SPECS_RAM: 384 parent: ipa-tempest-bios-ipmi-iscsi-dib-src vars: devstack_localrc: IRONIC_RAMDISK_TYPE: tinyipa IRONIC_VM_SPECS_RAM: 384, parent: ironic-ipa-base name: ipa-tempest-partition-bios-ipmi-direct-src parent: ironic-ipa-base vars: devstack_localrc: IRONIC_DEFAULT_BOOT_OPTION: netboot - job: name: ipa-tempest-wholedisk-bios-ipmi-iscsi-src parent: ironic-ipa-base vars: devstack_localrc: IRONIC_VM_EPHEMERAL_DISK: 0 IRONIC_TEMPEST_WHOLE_DISK_IMAGE: True# NOTE(rpittau) leaving tinypa jobs definitions to not break other projects # remove them after changing the references in the other projects like # ironic-python-agent-builder and disk-image-builder - job: name: ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src parent: ipa-tempest-wholedisk-bios-ipmi-direct-dib-src vars: devstack_localrc: IRONIC_RAMDISK_TYPE: tinyipa IRONIC_VM_SPECS_RAM: 384 - job: name: ipa-tempest-partition-bios-ipmi-direct-tinyipa-src parent: ipa-tempest-partition-bios-ipmi-direct-src vars: devstack_localrc: IRONIC_RAMDISK_TYPE: tinyipa IRONIC_VM_SPECS_RAM: 384 - job: name: ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src parent: ipa-tempest-partition-bios-ipmi-iscsi-dib-src vars: devstack_localrc: IRONIC_RAMDISK_TYPE: tinyipa IRONIC_VM_SPECS_RAM: 384 - job: name: ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src parent: ipa-tempest-wholedisk-bios-ipmi-iscsi-src vars: devstack_localrc: IRONIC_RAMDISK_TYPE: tinyipa IRONIC_VM_SPECS_RAM: 384 # Cloning the jobs so we can update ipa-builder and then we can the old jobs. parent: ipa-tempest-partition-bios-ipmi-direct-tinyipa-src parent: ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src,25,53
openstack%2Fkayobe~stable%2Ftrain~Ic86c0ca1b8209c968cb20a11bb3f40da71f296d0,openstack/kayobe,stable/train,Ic86c0ca1b8209c968cb20a11bb3f40da71f296d0,Fix external API interface with out an IP address,MERGED,2020-06-05 13:50:10.000000000,2020-08-07 13:45:12.000000000,2020-08-07 13:42:53.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-06-05 13:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c3d57babccf3dbbf23fed3be9c822cdd658e98fe', 'message': ""Fix external API interface with out an IP address\n\nSteps to reproduce:\n\n* Define a separate network for the external API network\n* Don't define a cidr field for the new network (prevents IPs being\n  allocated to hosts on this network)\n* Set the vip_address field for the network (and optionally fqdn)\n* kayobe overcloud host configure\n* kayobe overcloud service deploy\n* kayobe overcloud host configure (again)\n\nOn the final command, keepalived will have created a VIP on the\ninterface, causing the command to fail with an error like the following:\n\n    Interface eth0 has an IPv4 address but none was requested\n\nThis change fixes the issue by passing the VIP address as an allowed\naddress to the MichaelRigart.interfaces role. This depends on\nhttps://github.com/michaelrigart/ansible-role-interfaces/pull/71.\n\nChange-Id: Ic86c0ca1b8209c968cb20a11bb3f40da71f296d0\nStory: 2007736\nTask: 39902\n(cherry picked from commit 35f30a61b10e5c054a8ecc57710e7063127ee9ae)\n""}, {'number': 2, 'created': '2020-08-07 09:34:57.000000000', 'files': ['releasenotes/notes/external-api-no-ip-f04951ffc9659949.yaml', 'ansible/filter_plugins/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dc5f8e1297d0b9a7b3c88a7129498ce736acf8f8', 'message': ""Fix external API interface with out an IP address\n\nSteps to reproduce:\n\n* Define a separate network for the external API network\n* Don't define a cidr field for the new network (prevents IPs being\n  allocated to hosts on this network)\n* Set the vip_address field for the network (and optionally fqdn)\n* kayobe overcloud host configure\n* kayobe overcloud service deploy\n* kayobe overcloud host configure (again)\n\nOn the final command, keepalived will have created a VIP on the\ninterface, causing the command to fail with an error like the following:\n\n    Interface eth0 has an IPv4 address but none was requested\n\nThis change fixes the issue by passing the VIP address as an allowed\naddress to the MichaelRigart.interfaces role. This depends on\nhttps://github.com/michaelrigart/ansible-role-interfaces/pull/71.\n\nChange-Id: Ic86c0ca1b8209c968cb20a11bb3f40da71f296d0\nStory: 2007736\nTask: 39902\n(cherry picked from commit 35f30a61b10e5c054a8ecc57710e7063127ee9ae)\n""}]",0,733837,dc5f8e1297d0b9a7b3c88a7129498ce736acf8f8,11,4,2,14826,,,0,"Fix external API interface with out an IP address

Steps to reproduce:

* Define a separate network for the external API network
* Don't define a cidr field for the new network (prevents IPs being
  allocated to hosts on this network)
* Set the vip_address field for the network (and optionally fqdn)
* kayobe overcloud host configure
* kayobe overcloud service deploy
* kayobe overcloud host configure (again)

On the final command, keepalived will have created a VIP on the
interface, causing the command to fail with an error like the following:

    Interface eth0 has an IPv4 address but none was requested

This change fixes the issue by passing the VIP address as an allowed
address to the MichaelRigart.interfaces role. This depends on
https://github.com/michaelrigart/ansible-role-interfaces/pull/71.

Change-Id: Ic86c0ca1b8209c968cb20a11bb3f40da71f296d0
Story: 2007736
Task: 39902
(cherry picked from commit 35f30a61b10e5c054a8ecc57710e7063127ee9ae)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/733837/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/external-api-no-ip-f04951ffc9659949.yaml', 'ansible/filter_plugins/networks.py', 'requirements.yml']",3,c3d57babccf3dbbf23fed3be9c822cdd658e98fe,, version: v1.5.0, version: v1.4.1,18,1
openstack%2Fcookbook-openstack-database~master~I996be8f7a88b5d7e58295dc0afe47fe86d952abf,openstack/cookbook-openstack-database,master,I996be8f7a88b5d7e58295dc0afe47fe86d952abf,Cleanup the retired repo,MERGED,2020-08-06 00:22:36.000000000,2020-08-07 13:35:44.000000000,2020-08-07 13:35:44.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}]","[{'number': 1, 'created': '2020-08-06 00:22:36.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-database/commit/e7428fde1c371a41e0563d456d3d85743faf2f23', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I996be8f7a88b5d7e58295dc0afe47fe86d952abf\n'}]",1,745001,e7428fde1c371a41e0563d456d3d85743faf2f23,6,2,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I996be8f7a88b5d7e58295dc0afe47fe86d952abf
",git fetch https://review.opendev.org/openstack/cookbook-openstack-database refs/changes/01/745001/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,e7428fde1c371a41e0563d456d3d85743faf2f23,cleanup-retirement,,,4,0
openstack%2Fcookbook-openstack-data-processing~master~I34610ba9e9bdc237f3c73ec6f0d2d644b56dbc19,openstack/cookbook-openstack-data-processing,master,I34610ba9e9bdc237f3c73ec6f0d2d644b56dbc19,Cleanup the retired repo,MERGED,2020-08-06 00:34:57.000000000,2020-08-07 13:35:32.000000000,2020-08-07 13:35:32.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}]","[{'number': 1, 'created': '2020-08-06 00:34:57.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-data-processing/commit/59be7342adced58c77dfc16aaac87ff4715724ca', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I34610ba9e9bdc237f3c73ec6f0d2d644b56dbc19\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745007,59be7342adced58c77dfc16aaac87ff4715724ca,6,2,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I34610ba9e9bdc237f3c73ec6f0d2d644b56dbc19
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/cookbook-openstack-data-processing refs/changes/07/745007/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,59be7342adced58c77dfc16aaac87ff4715724ca,cleanup-retirement,,,4,0
openstack%2Fneutron~stable%2Frocky~I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,openstack/neutron,stable/rocky,I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,Don't check if any bridges were recrected when OVS was restarted,MERGED,2020-08-03 09:54:36.000000000,2020-08-07 13:26:26.000000000,2020-08-07 13:26:26.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 09:54:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bba2a8f6e6500c1b996ada7cc77e6d48379b995', 'message': ""Don't check if any bridges were recrected when OVS was restarted\n\nIn case when openvswitch was restarted, full sync of all bridges will\nbe always triggered by neutron-ovs-agent so there is no need to check\nin same rpc_loop iteration if bridges were recreated.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759\nRelated-bug: #1864822\n(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)\n(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)\n""}]",0,744439,8bba2a8f6e6500c1b996ada7cc77e6d48379b995,19,5,1,11975,,,0,"Don't check if any bridges were recrected when OVS was restarted

In case when openvswitch was restarted, full sync of all bridges will
be always triggered by neutron-ovs-agent so there is no need to check
in same rpc_loop iteration if bridges were recreated.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759
Related-bug: #1864822
(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)
(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/744439/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,8bba2a8f6e6500c1b996ada7cc77e6d48379b995,bug/1864822," bridges_recreated = False else: # Check if any physical bridge wasn't recreated recently if bridges_monitor: added_bridges = ( bridges_monitor.bridges_added + self.added_bridges) bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges # left need_clean_stale_flow = True sync |= bridges_recreated"," # Check if any physical bridge wasn't recreated recently if bridges_monitor: added_bridges = ( bridges_monitor.bridges_added + self.added_bridges) bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated",14,11
openstack%2Fbifrost~master~I8bcbc5bc8f206a98d547953b5e902d86b817a302,openstack/bifrost,master,I8bcbc5bc8f206a98d547953b5e902d86b817a302,Dynamic roles: consolidate auth parameters in one place,MERGED,2020-07-27 09:07:13.000000000,2020-08-07 13:20:11.000000000,2020-08-07 13:17:22.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-27 09:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5364e9bb69f20a8ae23280f93587baa2405a9cef', 'message': '[WIP] dynamic roles: consolidate auth parameters in one place\n\nAdds new tasks get_cloud to bifrost-keystone-client-config and move all\ncloud configuration handling there.\n\nAlso handles bare metal endpoint overrides until we can fully switch\nto cloud-based authentication handling.\n\nChange-Id: I8bcbc5bc8f206a98d547953b5e902d86b817a302\n'}, {'number': 2, 'created': '2020-07-27 09:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ddb305e486a55c31b661e44bede96b4e71e6ba65', 'message': '[WIP] dynamic roles: consolidate auth parameters in one place\n\nAdds a new role bifrost-cloud-config and moves all cloud configuration\nhandling there.\n\nAlso handles bare metal endpoint overrides until we can fully switch\nto cloud-based authentication handling.\n\nChange-Id: I8bcbc5bc8f206a98d547953b5e902d86b817a302\n'}, {'number': 3, 'created': '2020-07-27 10:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ceb676e136650d2a2643b7c8b334a7f46934bee0', 'message': '[WIP] dynamic roles: consolidate auth parameters in one place\n\nAdds a new role bifrost-cloud-config and moves all cloud configuration\nhandling there.\n\nAlso handles bare metal endpoint overrides until we can fully switch\nto cloud-based authentication handling.\n\nChange-Id: I8bcbc5bc8f206a98d547953b5e902d86b817a302\n'}, {'number': 4, 'created': '2020-07-27 11:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/099ef22d59cdb8d7b8b28c373e4ffef564978ae1', 'message': 'Dynamic roles: consolidate auth parameters in one place\n\nAdds a new role bifrost-cloud-config and moves all cloud configuration\nhandling there, fixing a few inconsistencies in the way modules are used.\n\nAlso handles bare metal endpoint overrides until we can fully switch\nto cloud-based authentication handling.\n\nChange-Id: I8bcbc5bc8f206a98d547953b5e902d86b817a302\n'}, {'number': 5, 'created': '2020-08-06 08:54:14.000000000', 'files': ['playbooks/roles/ironic-delete-dynamic/defaults/main.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-cloud-config/README.md', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-cloud-config/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d6f0551eee33a7ff3ac155a057193b9d518a4041', 'message': 'Dynamic roles: consolidate auth parameters in one place\n\nAdds a new role bifrost-cloud-config and moves all cloud configuration\nhandling there, fixing a few inconsistencies in the way modules are used.\n\nAlso handles bare metal endpoint overrides until we can fully switch\nto cloud-based authentication handling.\n\nChange-Id: I8bcbc5bc8f206a98d547953b5e902d86b817a302\n'}]",0,743169,d6f0551eee33a7ff3ac155a057193b9d518a4041,16,4,5,10239,,,0,"Dynamic roles: consolidate auth parameters in one place

Adds a new role bifrost-cloud-config and moves all cloud configuration
handling there, fixing a few inconsistencies in the way modules are used.

Also handles bare metal endpoint overrides until we can fully switch
to cloud-based authentication handling.

Change-Id: I8bcbc5bc8f206a98d547953b5e902d86b817a302
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/743169/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-client-config/tasks/get_cloud.yml', 'playbooks/roles/ironic-enroll-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml']",4,5364e9bb69f20a8ae23280f93587baa2405a9cef,get-cloud,- include_role: name: bifrost-keystone-client-config tasks_from: get_cloud,"- name: ""If in noauth mode, unset authentication parameters."" set_fact: auth_type: None auth: {} when: noauth_mode is defined and noauth_mode | bool == true - name: ""Execute openstack.cloud.config to collect facts"" openstack.cloud.config: no_log: yes when: noauth_mode is defined and noauth_mode | bool == false # NOTE(TheJulia): The first record returned by openstack.cloud.config # is utilized as the default. A user can still define the parameters # if so desired. - name: ""Set openstack.cloud.config auth parameters if not already set."" set_fact: auth: ""{{ openstack.clouds[0].auth }}"" auth_type: ""{{ openstack.clouds[0].auth_type }}"" when: auth is undefined no_log: yes",57,23
openstack%2Fbifrost~master~I0c56824aa0041f24d4ca172b590c8504cef3d9c4,openstack/bifrost,master,I0c56824aa0041f24d4ca172b590c8504cef3d9c4,Support default_boot_mode and prepare the CI for different boot modes,MERGED,2020-08-04 10:53:13.000000000,2020-08-07 13:13:44.000000000,2020-08-07 13:11:23.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/712ac2cf3a200ccab6db0163ef218362b7be209f', 'message': 'Support default_boot_mode and prepare the CI for different boot modes\n\nChange-Id: I0c56824aa0041f24d4ca172b590c8504cef3d9c4\n'}, {'number': 2, 'created': '2020-08-07 10:04:10.000000000', 'files': ['releasenotes/notes/default-boot-mode-5561325f68224719.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/ci/run.yaml', 'scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9f62bc9a333826d24a48dc66dcd8bfd31ccf4f7c', 'message': 'Support default_boot_mode and prepare the CI for different boot modes\n\nChange-Id: I0c56824aa0041f24d4ca172b590c8504cef3d9c4\n'}]",0,744678,9f62bc9a333826d24a48dc66dcd8bfd31ccf4f7c,11,4,2,10239,,,0,"Support default_boot_mode and prepare the CI for different boot modes

Change-Id: I0c56824aa0041f24d4ca172b590c8504cef3d9c4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/744678/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/default-boot-mode-5561325f68224719.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/ci/run.yaml', 'scripts/test-bifrost.sh']",5,712ac2cf3a200ccab6db0163ef218362b7be209f,default-boot-mode,"BOOT_MODE=${BOOT_MODE:-} CLOUD_CONFIG+="" -e cloud_name=bifrost"" fi if [[ -n ""$BOOT_MODE"" ]]; then CLOUD_CONFIG+="" -e default_boot_mode=$BOOT_MODE"""," CLOUD_CONFIG=""-e cloud_name=bifrost""",17,1
openstack%2Ftripleo-common~master~I3832332abdfd7daaf373dc0924fec268f159d774,openstack/tripleo-common,master,I3832332abdfd7daaf373dc0924fec268f159d774,Add exponential backoff to ratelimited requests,MERGED,2020-08-06 15:30:39.000000000,2020-08-07 13:10:58.000000000,2020-08-07 12:02:03.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-06 15:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48d85a9c6299a9e9038f2780a0a1c139821f900b', 'message': ""Add exponential backoff to ratelimited requests\n\nIf we're ratelimited on a request, we should retry the request but back\noff significantly.  Previously we're not really handling 429 any\ndifferent than other requests which may lead to the requests being\nretried too quickly.\n\nChange-Id: I3832332abdfd7daaf373dc0924fec268f159d774\nRelated-Bug: #1889372\nRelated-bug: #1889122\n""}, {'number': 2, 'created': '2020-08-06 15:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/80260114754ba3889a1941b207f0e5e76490f6f5', 'message': ""Add exponential backoff to ratelimited requests\n\nIf we're ratelimited on a request, we should retry the request but back\noff significantly.  Previously we're not really handling 429 any\ndifferent than other requests which may lead to the requests being\nretried too quickly.\n\nChange-Id: I3832332abdfd7daaf373dc0924fec268f159d774\nRelated-Bug: #1889372\nRelated-bug: #1889122\n""}, {'number': 3, 'created': '2020-08-06 15:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eba459c8a812a406c898d16184484de2acf95fc9', 'message': ""Add exponential backoff to ratelimited requests\n\nIf we're ratelimited on a request, we should retry the request but back\noff significantly.  Previously we're not really handling 429 any\ndifferent than other requests which may lead to the requests being\nretried too quickly.\n\nChange-Id: I3832332abdfd7daaf373dc0924fec268f159d774\nRelated-Bug: #1889372\nRelated-bug: #1889122\n""}, {'number': 4, 'created': '2020-08-06 16:25:52.000000000', 'files': ['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4f6eb64d4a54cfa90d4c1572ef54495f151fea5', 'message': ""Add exponential backoff to ratelimited requests\n\nIf we're ratelimited on a request, we should retry the request but back\noff significantly.  Previously we're not really handling 429 any\ndifferent than other requests which may lead to the requests being\nretried too quickly.\n\nChange-Id: I3832332abdfd7daaf373dc0924fec268f159d774\nRelated-Bug: #1889372\nRelated-bug: #1889122\n""}]",2,745170,d4f6eb64d4a54cfa90d4c1572ef54495f151fea5,18,7,4,14985,,,0,"Add exponential backoff to ratelimited requests

If we're ratelimited on a request, we should retry the request but back
off significantly.  Previously we're not really handling 429 any
different than other requests which may lead to the requests being
retried too quickly.

Change-Id: I3832332abdfd7daaf373dc0924fec268f159d774
Related-Bug: #1889372
Related-bug: #1889122
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/745170/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",3,48d85a9c6299a9e9038f2780a0a1c139821f900b,bug/1889372,"from tripleo_common.image.exception import ImageRateLimitedException if status_code == 429: LOG.warning( 'Rate Limited: id {}, status {}, reason {} text {}'.format( request_id, status_code, reason, text ) ) raise ImageRateLimitedException('Rate Limited while requesting ' '{}'.format(request.url)) @tenacity.retry( # Retry up to 5 times with jittered exponential backoff reraise=True, retry=tenacity.retry_if_exception_type( ImageRateLimitedException ), wait=tenacity.wait_random_exponential(multiplier=1, max=60), stop=tenacity.stop_after_attempt(5) )",,43,0
openstack%2Fideas~master~I96c9b8a09cf3267b4eb173f6168d688269e5a3fc,openstack/ideas,master,I96c9b8a09cf3267b4eb173f6168d688269e5a3fc,New communication tools proposal,MERGED,2020-04-10 07:58:12.000000000,2020-08-07 13:04:32.000000000,2020-08-07 13:02:26.000000000,"[{'_account_id': 4257}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-10 07:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/a176be03ec8f72cce0d40b3e958872b0e5ba4b30', 'message': 'New communication tools proposal\n\nChange-Id: I96c9b8a09cf3267b4eb173f6168d688269e5a3fc\n'}, {'number': 2, 'created': '2020-07-17 13:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/5242f0bd7da6ace13d0a2cb482dd9e60aebb7334', 'message': 'New communication tools proposal\n\nChange-Id: I96c9b8a09cf3267b4eb173f6168d688269e5a3fc\n'}, {'number': 3, 'created': '2020-08-06 09:10:25.000000000', 'files': ['doc/source/ideas/pylon/index.rst', 'doc/source/ideas/pylon/asynchronous-comms.rst', 'doc/source/ideas/pylon/synchronous-and-pseudo-synchronous-comms.rst'], 'web_link': 'https://opendev.org/openstack/ideas/commit/19c136b11a06179dac13e56b532ae88862bbbf65', 'message': 'New communication tools proposal\n\nChange-Id: I96c9b8a09cf3267b4eb173f6168d688269e5a3fc\n'}]",8,718932,19c136b11a06179dac13e56b532ae88862bbbf65,17,3,3,17068,,,0,"New communication tools proposal

Change-Id: I96c9b8a09cf3267b4eb173f6168d688269e5a3fc
",git fetch https://review.opendev.org/openstack/ideas refs/changes/32/718932/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ideas/project-pylon--new-communication-tools.rst'],1,a176be03ec8f72cce0d40b3e958872b0e5ba4b30,use-modern-communication-tools,"Project Pylon: Update our communication tooling =============================================== Our community is relying on efficient, working, communication mecanisms: IRC, Mailing Lists. However, this structure might be unattractive to some people: IRC needs a bouncer, mailing lists have a poor search model. This lead us to weak communications, or having them very distributed and silo-ed. I believe that using different tools would increase attractiveness and effectiveness of our community communications. A more modern tooling would allow us not only to have a centralized way of communicate that's better than mailing lists, but also generate better analytics of the engagement per topic, which is seriously lacking. OpenStack being an OpenStack foundation project, can decide its own code review system and collaboration tools. We shouldn't be restricted to the current mecanisms, if a change is welcomed. The proposed tools ------------------ I compared what other communities have been doing, and I think we are closer in mindsets to the ""Mozilla"" model than the ""Kubernetes"" model for example. I propose to turn around, and replace our tooling: #. From mailing lists to `Discourse`_. #. From IRC to `matrix`_ + `riot.im`_. Discourse ~~~~~~~~~ Discourse has lots of benefits: a better search, indexing, and interaction with communication tools. It even allows to have conversations with Matrix inside Discourse. (https://www.discourse.org/plugins/chat-integration.html) Fun note: This would also allow us to remove this ""ideas"" framework git repository. matrix ~~~~~~ People using IRC could easily adopt matrix, as IRC bridges exists. For new joiners, the `riot.im`_ web interface would be a welcome change, as communication can be done from the browser. Possible negative outcome ------------------------- This could lead to a split in the community, for people not wanting to change. https://xkcd.com/1782/ .. _riot.im: https://about.riot.im/ .. _matrix: https://matrix.org/ .. _Discourse: https://www.discourse.org/ ",,48,0
openstack%2Ftripleo-upgrade~master~Iba25df676be57b71359f67020bce6eae83379a6c,openstack/tripleo-upgrade,master,Iba25df676be57b71359f67020bce6eae83379a6c,WIP: test vm_ip cleanup,ABANDONED,2020-08-01 21:38:14.000000000,2020-08-07 13:01:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-01 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5516c6f45ae3646ee991c220f0e6f80862d1056d', 'message': 'WIP: test vm_ip cleanup\n\nChange-Id: Iba25df676be57b71359f67020bce6eae83379a6c\n'}, {'number': 2, 'created': '2020-08-02 08:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e1fc2563f0812aff71d08612b1ec91467068fe80', 'message': 'WIP: test vm_ip cleanup\n\nChange-Id: Iba25df676be57b71359f67020bce6eae83379a6c\n'}, {'number': 3, 'created': '2020-08-05 10:45:16.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4694bb118428fa6395deb2021a4d4e311ade8b66', 'message': 'WIP: test vm_ip cleanup\n\nChange-Id: Iba25df676be57b71359f67020bce6eae83379a6c\n'}]",0,744293,4694bb118428fa6395deb2021a4d4e311ade8b66,7,1,3,11166,,,0,"WIP: test vm_ip cleanup

Change-Id: Iba25df676be57b71359f67020bce6eae83379a6c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/93/744293/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,5516c6f45ae3646ee991c220f0e6f80862d1056d,, grep ${INSTANCE_FIP} vm_ip.sh && rm vm_ip.sh,,1,0
openstack%2Fneutron-dynamic-routing~master~Ie5b3d5c5b978494abf8d58f3f0a92cb95209fb56,openstack/neutron-dynamic-routing,master,Ie5b3d5c5b978494abf8d58f3f0a92cb95209fb56,Clean up workaround in bgp_dragent_scheduler,MERGED,2020-01-21 11:51:25.000000000,2020-08-07 12:58:43.000000000,2020-08-07 12:57:10.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16137}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29157}]","[{'number': 1, 'created': '2020-01-21 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b98f457012ab595d4b7586d32526f92cd59c16e0', 'message': 'Clean up workaround in\n\nThis was added as a workaround until neutron gets a new release in [0].\nWe can switch to the new code now.\n\n[0] I5661e8689d8e3ea861fdd0393e6f25c42cd324c3\n\nChange-Id: Ie5b3d5c5b978494abf8d58f3f0a92cb95209fb56\n'}, {'number': 2, 'created': '2020-06-14 12:31:18.000000000', 'files': ['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/76de6240c9567c15271b839823b098603d7079f7', 'message': 'Clean up workaround in bgp_dragent_scheduler\n\nThis was added as a workaround until neutron gets a new release in [0].\nWe can switch to the new code now.\n\n[0] I5661e8689d8e3ea861fdd0393e6f25c42cd324c3\n\nChange-Id: Ie5b3d5c5b978494abf8d58f3f0a92cb95209fb56\n'}]",0,703592,76de6240c9567c15271b839823b098603d7079f7,18,6,2,13252,,,0,"Clean up workaround in bgp_dragent_scheduler

This was added as a workaround until neutron gets a new release in [0].
We can switch to the new code now.

[0] I5661e8689d8e3ea861fdd0393e6f25c42cd324c3

Change-Id: Ie5b3d5c5b978494abf8d58f3f0a92cb95209fb56
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/92/703592/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'],1,b98f457012ab595d4b7586d32526f92cd59c16e0,cleanup-scheduler-fix," bgp_speaker_id, force_scheduling)"," bgp_speaker_id) # TODO(frickler): once neutron is released, switch to this # super(BgpDrAgentFilter, self).bind(context, bound_agents, # bgp_speaker_id, force_scheduling)",1,4
openstack%2Ftripleo-validations~stable%2Fussuri~I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea,openstack/tripleo-validations,stable/ussuri,I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea,Fix ceph-ansible permissions when checking the repo name,MERGED,2020-07-06 22:33:21.000000000,2020-08-07 12:56:12.000000000,2020-08-07 12:56:12.000000000,"[{'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-06 22:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/52b5065de63b6ce813ea17fcb7b47b7fcc93687f', 'message': 'Fix ceph-ansible permissions when checking the repo name\n\nThe purpose of this fix is to address a bug hit during\nupgrades: in order to run yum info the current user should\nbe able to download metadata for repositories and a privileges\nescalation is required by pkg manager.\n\nChange-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea\n(cherry picked from commit a87793fcd97fb8884f92f436d1e57a44fbb62cd3)\n'}, {'number': 2, 'created': '2020-08-04 15:05:06.000000000', 'files': ['roles/ceph/tasks/ceph-ansible-installed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/791502ce7be84b7dd98f887f6a4fd8624fd8c660', 'message': 'Fix ceph-ansible permissions when checking the repo name\n\nThe purpose of this fix is to address a bug hit during\nupgrades: in order to run yum info the current user should\nbe able to download metadata for repositories and a privileges\nescalation is required by pkg manager.\n\nChange-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea\n(cherry picked from commit a87793fcd97fb8884f92f436d1e57a44fbb62cd3)\n'}]",0,739619,791502ce7be84b7dd98f887f6a4fd8624fd8c660,21,5,2,6796,,,0,"Fix ceph-ansible permissions when checking the repo name

The purpose of this fix is to address a bug hit during
upgrades: in order to run yum info the current user should
be able to download metadata for repositories and a privileges
escalation is required by pkg manager.

Change-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea
(cherry picked from commit a87793fcd97fb8884f92f436d1e57a44fbb62cd3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/19/739619/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-ansible-installed.yaml'],1,52b5065de63b6ce813ea17fcb7b47b7fcc93687f,, become: true,,1,0
openstack%2Foctavia~master~I43985f79b57f4c670aa9bb80a955c88435a1bd04,openstack/octavia,master,I43985f79b57f4c670aa9bb80a955c88435a1bd04,Use octavia nodeset in octavia-grenade,MERGED,2020-07-16 13:47:38.000000000,2020-08-07 12:48:09.000000000,2020-08-07 12:44:34.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 13:47:38.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0a38baf33c2c88ccfa86129b6b6d96a4deeb6dc', 'message': 'Use octavia nodeset in octavia-grenade\n\nNodeset octavia-single-node-ubuntu-bionic runs on nest-virt KVM enabled\nnodepool instances which speeds up job builds.\n\nChange-Id: I43985f79b57f4c670aa9bb80a955c88435a1bd04\n'}]",0,741451,d0a38baf33c2c88ccfa86129b6b6d96a4deeb6dc,9,4,1,6469,,,0,"Use octavia nodeset in octavia-grenade

Nodeset octavia-single-node-ubuntu-bionic runs on nest-virt KVM enabled
nodepool instances which speeds up job builds.

Change-Id: I43985f79b57f4c670aa9bb80a955c88435a1bd04
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/741451/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,d0a38baf33c2c88ccfa86129b6b6d96a4deeb6dc,, nodeset: octavia-single-node-ubuntu-bionic,,1,0
openstack%2Fmonasca-api~master~I67961eca692e4fe79fd74ba16f3cf25edb7ee3ea,openstack/monasca-api,master,I67961eca692e4fe79fd74ba16f3cf25edb7ee3ea,make the variable name more detailed,MERGED,2020-08-05 08:33:27.000000000,2020-08-07 12:41:57.000000000,2020-08-07 12:40:01.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30408}, {'_account_id': 32211}]","[{'number': 1, 'created': '2020-08-05 08:33:27.000000000', 'files': ['monasca_api/cmd/monasca_db.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/721d5e8fb5318bf08946404836dbc8e0a485431a', 'message': 'make the variable name more detailed\n\nChange-Id: I67961eca692e4fe79fd74ba16f3cf25edb7ee3ea\n'}]",0,744854,721d5e8fb5318bf08946404836dbc8e0a485431a,15,4,1,32211,,,0,"make the variable name more detailed

Change-Id: I67961eca692e4fe79fd74ba16f3cf25edb7ee3ea
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/54/744854/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_api/cmd/monasca_db.py'],1,721d5e8fb5318bf08946404836dbc8e0a485431a,, fingerprint = Fingerprint(sql_repository.get_engine()) if fingerprint.revision is None: print(_FP_NOREVISION % fingerprint.sha1) print(fingerprint.revision), fp = Fingerprint(sql_repository.get_engine()) if fp.revision is None: print(_FP_NOREVISION % fp.sha1) print(fp.revision),4,4
openstack%2Fsushy-tools~master~I7f84b535520b0be8e8c636d55e109d0402471dc0,openstack/sushy-tools,master,I7f84b535520b0be8e8c636d55e109d0402471dc0,Flatten the emulator resources,MERGED,2020-08-06 08:48:32.000000000,2020-08-07 12:16:46.000000000,2020-08-07 12:14:35.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-06 08:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6f6dfa4b4934a77c6d0e982881ec2cd93e7ce748', 'message': ""Flatten the emulator resources\n\nIt doesn't look like we'll get more alternative implementations for\nall resources except for systems, nor do we allow loading 3rd party\nones. For the sake of simpler development, flatten the package\nstructure and get rid of most abstract classes.\n\nChange-Id: I7f84b535520b0be8e8c636d55e109d0402471dc0\n""}, {'number': 2, 'created': '2020-08-06 09:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4cde50f30cd8f5f64f15a2d12492e659591f39d1', 'message': ""Flatten the emulator resources\n\nIt doesn't look like we'll get more alternative implementations for\nall resources except for systems, nor do we allow loading 3rd party\nones. For the sake of simpler development, flatten the package\nstructure and get rid of most abstract classes.\n\nChange-Id: I7f84b535520b0be8e8c636d55e109d0402471dc0\n""}, {'number': 3, 'created': '2020-08-06 10:52:31.000000000', 'files': ['sushy_tools/emulator/resources/volumes.py', 'sushy_tools/emulator/resources/base.py', 'sushy_tools/emulator/resources/chassis/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_indicators.py', 'sushy_tools/emulator/resources/storage/__init__.py', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/resources/drives.py', 'sushy_tools/tests/unit/emulator/resources/indicators/__init__.py', 'sushy_tools/tests/unit/emulator/resources/managers/__init__.py', 'sushy_tools/emulator/base.py', 'sushy_tools/emulator/resources/drives/__init__.py', 'sushy_tools/emulator/resources/chassis.py', 'sushy_tools/tests/unit/emulator/resources/test_volumes.py', 'sushy_tools/tests/unit/emulator/resources/storage/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_chassis.py', 'sushy_tools/emulator/resources/managers/__init__.py', 'sushy_tools/tests/unit/emulator/resources/drives/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_drives.py', 'sushy_tools/tests/unit/emulator/resources/chassis/__init__.py', 'sushy_tools/tests/unit/emulator/resources/volumes/__init__.py', 'sushy_tools/emulator/resources/vmedia.py', 'sushy_tools/emulator/resources/vmedia/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_storage.py', 'sushy_tools/emulator/resources/indicators/__init__.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/__init__.py', 'sushy_tools/emulator/resources/indicators.py', 'sushy_tools/emulator/resources/chassis/base.py', 'sushy_tools/emulator/resources/storage.py', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/tests/unit/emulator/resources/test_vmedia.py', 'sushy_tools/emulator/resources/managers.py', 'sushy_tools/tests/unit/emulator/resources/test_managers.py', 'sushy_tools/emulator/resources/volumes/__init__.py', 'sushy_tools/emulator/resources/systems/base.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c5b99058b2359983f8e1846a2d80be48bc72fae5', 'message': ""Flatten the emulator resources\n\nIt doesn't look like we'll get more alternative implementations for\nall resources except for systems, nor do we allow loading 3rd party\nones. For the sake of simpler development, flatten the package\nstructure and get rid of most abstract classes.\n\nChange-Id: I7f84b535520b0be8e8c636d55e109d0402471dc0\n""}]",0,745092,c5b99058b2359983f8e1846a2d80be48bc72fae5,11,3,3,10239,,,0,"Flatten the emulator resources

It doesn't look like we'll get more alternative implementations for
all resources except for systems, nor do we allow loading 3rd party
ones. For the sake of simpler development, flatten the package
structure and get rid of most abstract classes.

Change-Id: I7f84b535520b0be8e8c636d55e109d0402471dc0
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/92/745092/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/volumes.py', 'sushy_tools/emulator/resources/base.py', 'sushy_tools/emulator/resources/chassis/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_indicators.py', 'sushy_tools/emulator/resources/storage/__init__.py', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/resources/drives.py', 'sushy_tools/tests/unit/emulator/resources/indicators/__init__.py', 'sushy_tools/tests/unit/emulator/resources/managers/__init__.py', 'sushy_tools/emulator/base.py', 'sushy_tools/emulator/resources/drives/__init__.py', 'sushy_tools/emulator/resources/chassis.py', 'sushy_tools/tests/unit/emulator/resources/test_volumes.py', 'sushy_tools/tests/unit/emulator/resources/storage/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_chassis.py', 'sushy_tools/emulator/resources/managers/__init__.py', 'sushy_tools/tests/unit/emulator/resources/drives/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_drives.py', 'sushy_tools/tests/unit/emulator/resources/chassis/__init__.py', 'sushy_tools/tests/unit/emulator/resources/volumes/__init__.py', 'sushy_tools/emulator/resources/vmedia.py', 'sushy_tools/emulator/resources/vmedia/__init__.py', 'sushy_tools/tests/unit/emulator/resources/test_storage.py', 'sushy_tools/emulator/resources/indicators/__init__.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/__init__.py', 'sushy_tools/emulator/resources/indicators.py', 'sushy_tools/emulator/resources/chassis/base.py', 'sushy_tools/emulator/resources/storage.py', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/tests/unit/emulator/resources/test_vmedia.py', 'sushy_tools/emulator/resources/managers.py', 'sushy_tools/tests/unit/emulator/resources/test_managers.py', 'sushy_tools/emulator/resources/volumes/__init__.py', 'sushy_tools/emulator/resources/systems/base.py']",34,6f6dfa4b4934a77c6d0e982881ec2cd93e7ce748,flatten," class AbstractSystemsDriver(metaclass=abc.ABCMeta): @classmethod def initialize(cls, config, logger, *args, **kwargs): """"""Initialize class attribute."""""" cls._config = config cls._logger = logger ","from sushy_tools.emulator.resources.base import DriverBase class AbstractSystemsDriver(DriverBase, metaclass=abc.ABCMeta):",153,399
openstack%2Fironic~stable%2Fussuri~Iaa56e5965806e975ed0f97f2d6a0d15e13351c22,openstack/ironic,stable/ussuri,Iaa56e5965806e975ed0f97f2d6a0d15e13351c22,Wipe agent token and URL on rescue and unrescue,MERGED,2020-08-06 07:45:16.000000000,2020-08-07 12:00:50.000000000,2020-08-07 11:59:05.000000000,"[{'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-06 07:45:16.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/unrescue-token-ae664a17343e0610.yaml', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a61bd37418a2834770bef9b8f0155a2b6ab02e33', 'message': 'Wipe agent token and URL on rescue and unrescue\n\nYet another place where we missed it :(\n\nChange-Id: Iaa56e5965806e975ed0f97f2d6a0d15e13351c22\n(cherry picked from commit 0b0ab9eb167c5a568141518e5a4698fc7f601d2b)\n'}]",0,745083,a61bd37418a2834770bef9b8f0155a2b6ab02e33,11,5,1,10239,,,0,"Wipe agent token and URL on rescue and unrescue

Yet another place where we missed it :(

Change-Id: Iaa56e5965806e975ed0f97f2d6a0d15e13351c22
(cherry picked from commit 0b0ab9eb167c5a568141518e5a4698fc7f601d2b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/745083/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'releasenotes/notes/unrescue-token-ae664a17343e0610.yaml']",4,a61bd37418a2834770bef9b8f0155a2b6ab02e33,unrescue-token-stable/ussuri,--- fixes: - | Removes stale agent token on rescue and unrescue operations. Previously it would cause subsequent rescue operations to fail. ,,39,15
openstack%2Fsushy-tools~master~I23c7274aee98238cdfebca162589be6eed01d36c,openstack/sushy-tools,master,I23c7274aee98238cdfebca162589be6eed01d36c,"Get rid of Resources cache, store resources on the Application",MERGED,2020-08-05 14:25:50.000000000,2020-08-07 11:38:20.000000000,2020-08-07 11:35:59.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 14:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0aa75359f673708acdc15a07e90c853f2e8a431f', 'message': 'Get rid of Resources cache, store resources on the Application\n\nSimplies code by making Application the only storage of global\nattributes. Also refactored unit tests for clearer mocking.\n\nChange-Id: I23c7274aee98238cdfebca162589be6eed01d36c\n'}, {'number': 2, 'created': '2020-08-06 07:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/bb2f72e0e972a4664c2626bf81f737ec47b1d8e0', 'message': 'Get rid of Resources cache, store resources on the Application\n\nSimplies code by making Application the only storage of global\nattributes. Also refactored unit tests for clearer mocking.\n\nChange-Id: I23c7274aee98238cdfebca162589be6eed01d36c\n'}, {'number': 3, 'created': '2020-08-06 08:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e31935eae762dead9ef11afdd3ba4c20ab0b21a9', 'message': 'Get rid of Resources cache, store resources on the Application\n\nSimplies code by making Application the only storage of global\nattributes. Also refactored unit tests for clearer mocking.\n\nChange-Id: I23c7274aee98238cdfebca162589be6eed01d36c\n'}, {'number': 4, 'created': '2020-08-06 09:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8eefef15329802f8384584f55a82c6029d8471c3', 'message': 'Get rid of Resources cache, store resources on the Application\n\nSimplies code by making Application the only storage of global\nattributes. Also refactored unit tests for clearer mocking.\n\nChange-Id: I23c7274aee98238cdfebca162589be6eed01d36c\n'}, {'number': 5, 'created': '2020-08-06 10:51:30.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/tests/unit/base.py', 'sushy_tools/tests/unit/emulator/test_main.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/05127d12ae64b01028fc8a34aa73430a6855fb40', 'message': 'Get rid of Resources cache, store resources on the Application\n\nSimplies code by making Application the only storage of global\nattributes. Also refactored unit tests for clearer mocking.\n\nChange-Id: I23c7274aee98238cdfebca162589be6eed01d36c\n'}]",0,744911,05127d12ae64b01028fc8a34aa73430a6855fb40,15,3,5,10239,,,0,"Get rid of Resources cache, store resources on the Application

Simplies code by making Application the only storage of global
attributes. Also refactored unit tests for clearer mocking.

Change-Id: I23c7274aee98238cdfebca162589be6eed01d36c
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/11/744911/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/tests/unit/base.py', 'sushy_tools/tests/unit/emulator/test_main.py']",3,0aa75359f673708acdc15a07e90c853f2e8a431f,no-resources,"def patch_resource(name): def decorator(func): return mock.patch.object(main.Application, name, new_callable=mock.PropertyMock)(func) return decorator class CommonTestCase(EmulatorTestCase): @patch_resource('systems') def test_error(self, systems_mock): systems_mock.return_value.get_power_state.side_effect = Exception( 'Fish is dead') def test_root_resource(self): class ChassisTestCase(EmulatorTestCase): @patch_resource('chassis') def test_chassis_collection_resource(self, chassis_mock): chassis_mock.return_value.chassis = ['chassis0', 'chassis1'] @patch_resource('indicators') @patch_resource('systems') @patch_resource('managers') @patch_resource('chassis') def test_chassis_resource_get(self, chassis_mock, managers_mock, systems_mock, indicators_mock): chassis_mock = chassis_mock.return_value managers_mock.return_value.managers = ['man1'] systems_mock.return_value.systems = ['sys1'] indicators_mock.return_value.get_indicator_state.return_value = 'Off' @patch_resource('systems') @patch_resource('chassis') def test_chassis_thermal(self, chassis_mock, systems_mock): chassis_mock = chassis_mock.return_value systems_mock.return_value.systems = ['sys1'] @patch_resource('indicators') @patch_resource('chassis') def test_chassis_indicator_set_ok(self, chassis_mock, indicators_mock): chassis_mock.return_value.uuid.return_value = self.uuid set_indicator_state = indicators_mock.return_value.set_indicator_state @patch_resource('indicators') @patch_resource('chassis') def test_chassis_indicator_set_fail(self, chassis_mock, indicators_mock): set_indicator_state = indicators_mock.return_value.set_indicator_state class ManagersTestCase(EmulatorTestCase): @patch_resource('managers') def test_manager_collection_resource(self, managers_mock): type(managers_mock.return_value).managers = mock.PropertyMock( @patch_resource('managers') def test_manager_resource_get(self, managers_mock): managers_mock = managers_mock.return_value class SystemsTestCase(EmulatorTestCase): @patch_resource('systems') def test_system_collection_resource(self, systems_mock): type(systems_mock.return_value).systems = mock.PropertyMock( @patch_resource('indicators') @patch_resource('chassis') @patch_resource('managers') @patch_resource('systems') def test_system_resource_get(self, systems_mock, managers_mock, chassis_mock, indicators_mock): systems_mock = systems_mock.return_value managers_mock.return_value.managers = ['aaaa-bbbb-cccc'] chassis_mock.return_value.chassis = ['chassis0'] indicators_mock.return_value.get_indicator_state.return_value = 'Off' @patch_resource('systems') def test_system_resource_patch(self, systems_mock): set_boot_device = systems_mock.return_value.set_boot_device @patch_resource('systems') def test_system_reset_action(self, systems_mock): set_power_state = systems_mock.return_value.set_power_state for reset_type in ('On', 'ForceOn', 'ForceOff', 'GracefulShutdown', 'GracefulRestart', 'ForceRestart', 'Nmi'): set_power_state.reset_mock() data = {'ResetType': reset_type} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/' 'ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state.assert_called_once_with('xxxx-yyyy-zzzz', reset_type) @patch_resource('indicators') @patch_resource('systems') def test_system_indicator_set_ok(self, systems_mock, indicators_mock): systems_mock.return_value.uuid.return_value = self.uuid set_indicator_state = indicators_mock.return_value.set_indicator_state @patch_resource('indicators') @patch_resource('systems') def test_system_indicator_set_fail(self, systems_mock, indicators_mock): set_indicator_state = indicators_mock.return_value.set_indicator_state class InstanceDeniedTestCase(EmulatorTestCase): def test_instance_denied_allow_all(self): def test_instance_denied_disallow_all(self): def test_instance_denied_undefined_option(self): def test_instance_denied_allow_some(self): def test_instance_denied_disallow_some(self): @patch_resource('systems') class BiosTestCase(EmulatorTestCase): def test_get_bios(self, systems_mock): systems_mock.return_value.get_bios.return_value = { def test_get_bios_existing(self, systems_mock): systems_mock.return_value.get_bios.return_value = { def test_bios_settings_patch(self, systems_mock): systems_mock.return_value.set_bios.assert_called_once_with( def test_set_bios(self, systems_mock): systems_mock.return_value.set_bios.assert_called_once_with( def test_reset_bios(self, systems_mock): systems_mock.return_value.reset_bios.assert_called_once_with(self.uuid) @patch_resource('systems') class EthernetInterfacesTestCase(EmulatorTestCase): def test_ethernet_interfaces_collection(self, systems_mock): systems_mock.return_value.get_nics.return_value = [ def test_ethernet_interfaces_collection_empty(self, systems_mock): systems_mock.return_value.get_nics.return_value = [] def test_ethernet_interface(self, systems_mock): systems_mock.return_value.get_nics.return_value = [ def test_ethernet_interface_not_found(self, systems_mock): systems_mock.return_value.get_nics.return_value = [ @patch_resource('vmedia') @patch_resource('managers') class VirtualMediaTestCase(EmulatorTestCase): def test_virtual_media_collection(self, managers_mock, vmedia_mock): managers_mock = managers_mock.return_value vmedia_mock.return_value.devices = ['CD', 'Floppy'] def test_virtual_media_collection_empty(self, managers_mock, vmedia_mock): vmedia_mock.return_value.get_devices.return_value = [] def test_virtual_media(self, managers_mock, vmedia_mock): vmedia_mock = vmedia_mock.return_value def test_virtual_media_not_found(self, managers_mock, vmedia_mock): vmedia_mock.return_value.get_device_name.side_effect = error.FishyError def test_virtual_media_insert(self, managers_mock, vmedia_mock): vmedia_mock.return_value.insert_image.called_once_with( def test_virtual_media_eject(self, managers_mock, vmedia_mock): vmedia_mock.return_value.eject_image.called_once_with('CD') @patch_resource('systems') class StorageTestCase(EmulatorTestCase): def test_simple_storage_collection(self, systems_mock): systems_mock = systems_mock.return_value def test_simple_storage_collection_empty(self, systems_mock): systems_mock = systems_mock.return_value def test_simple_storage(self, systems_mock): systems_mock = systems_mock.return_value def test_simple_storage_not_found(self, systems_mock): systems_mock = systems_mock.return_value @patch_resource('storage') def test_storage_collection_resource(self, storage_mock, systems_mock): storage_mock.return_value.get_storage_col.return_value = [ @patch_resource('storage') def test_storage_resource_get(self, storage_mock, systems_mock): storage_mock.return_value.get_storage_col.return_value = [ @patch_resource('drives') def test_drive_resource_get(self, drives_mock, systems_mock): drives_mock.return_value.get_drives.return_value = [ @patch_resource('volumes') def test_volume_collection_get(self, volumes_mock, systems_mock): volumes_mock.return_value.get_volumes_col.return_value = [ systems_mock = systems_mock.return_value systems_mock.find_or_create_storage_volume.return_value = ""1"" @patch_resource('volumes') def test_create_volume_post(self, volumes_mock, systems_mock): systems_mock = systems_mock.return_value @patch_resource('volumes') def test_volume_resource_get(self, volumes_mock, systems_mock): volumes_mock.return_value.get_volumes_col.return_value = [ systems_mock = systems_mock.return_value systems_mock.find_or_create_storage_volume.return_value = ""1""","@mock.patch('sushy_tools.emulator.main.Resources') def test_error(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_power_state.side_effect = Exception('Fish is dead') def test_root_resource(self, resources_mock): def test_chassis_collection_resource(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value chassis_mock = resources_mock.chassis chassis_mock.chassis = ['chassis0', 'chassis1'] def test_chassis_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value chassis_mock = resources_mock.chassis managers_mock = resources_mock.managers managers_mock.managers = ['man1'] systems_mock = resources_mock.systems systems_mock.systems = ['sys1'] indicators_mock = resources_mock.indicators indicators_mock.get_indicator_state.return_value = 'Off' def test_chassis_thermal(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value chassis_mock = resources_mock.chassis systems_mock = resources_mock.systems systems_mock.systems = ['sys1'] def test_chassis_indicator_set_ok(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value indicators_mock = resources_mock.indicators chassis_mock = resources_mock.chassis chassis_mock.uuid.return_value = self.uuid set_indicator_state = indicators_mock.set_indicator_state def test_chassis_indicator_set_fail(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value indicators_mock = resources_mock.indicators set_indicator_state = indicators_mock.set_indicator_state def test_manager_collection_resource(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value managers_mock = resources_mock.managers type(managers_mock).managers = mock.PropertyMock( def test_manager_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value managers_mock = resources_mock.managers def test_system_collection_resource(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems type(systems_mock).systems = mock.PropertyMock( def test_system_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems managers_mock = resources_mock.managers managers_mock.managers = ['aaaa-bbbb-cccc'] chassis_mock = resources_mock.chassis chassis_mock.chassis = ['chassis0'] indicators_mock = resources_mock.indicators indicators_mock.get_indicator_state.return_value = 'Off' def test_system_resource_patch(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems set_boot_device = systems_mock.set_boot_device def test_system_reset_action_on(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'On'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with('xxxx-yyyy-zzzz', 'On') def test_system_reset_action_forceon(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'ForceOn'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with('xxxx-yyyy-zzzz', 'ForceOn') def test_system_reset_action_forceoff(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'ForceOff'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with('xxxx-yyyy-zzzz', 'ForceOff') def test_system_reset_action_shutdown(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'GracefulShutdown'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with( 'xxxx-yyyy-zzzz', 'GracefulShutdown') def test_system_reset_action_restart(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'GracefulRestart'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with( 'xxxx-yyyy-zzzz', 'GracefulRestart') def test_system_reset_action_forcerestart(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'ForceRestart'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with( 'xxxx-yyyy-zzzz', 'ForceRestart') def test_system_reset_action_nmi(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems data = {'ResetType': 'Nmi'} response = self.app.post( '/redfish/v1/Systems/xxxx-yyyy-zzzz/Actions/ComputerSystem.Reset', json=data) self.assertEqual(204, response.status_code) set_power_state = systems_mock.set_power_state set_power_state.assert_called_once_with('xxxx-yyyy-zzzz', 'Nmi') def test_system_indicator_set_ok(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value indicators_mock = resources_mock.indicators systems_mock = resources_mock.systems systems_mock.uuid.return_value = self.uuid set_indicator_state = indicators_mock.set_indicator_state def test_system_indicator_set_fail(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value indicators_mock = resources_mock.indicators set_indicator_state = indicators_mock.set_indicator_state def test_instance_denied_allow_all(self, resources_mock): def test_instance_denied_disallow_all(self, resources_mock): def test_instance_denied_undefined_option(self, resources_mock): def test_instance_denied_allow_some(self, resources_mock): def test_instance_denied_disallow_some(self, resources_mock): def test_get_bios(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_bios.return_value = { def test_get_bios_existing(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_bios.return_value = { def test_bios_settings_patch(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems self.app.driver = systems_mock systems_mock.set_bios.assert_called_once_with( def test_set_bios(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems self.app.driver = systems_mock systems_mock.set_bios.assert_called_once_with( def test_reset_bios(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems self.app.driver = systems_mock systems_mock.reset_bios.assert_called_once_with(self.uuid) def test_ethernet_interfaces_collection(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [ def test_ethernet_interfaces_collection_empty(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [] def test_ethernet_interface(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [ def test_ethernet_interface_not_found(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [ def test_virtual_media_collection(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value managers_mock = resources_mock.managers vmedia_mock = resources_mock.vmedia vmedia_mock.devices = ['CD', 'Floppy'] def test_virtual_media_collection_empty(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value vmedia_mock = resources_mock.vmedia vmedia_mock.get_devices.return_value = [] def test_virtual_media(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value vmedia_mock = resources_mock.vmedia def test_virtual_media_not_found(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value vmedia_mock = resources_mock.vmedia vmedia_mock.get_device_name.side_effect = error.FishyError def test_virtual_media_insert(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value vmedia_mock = resources_mock.vmedia vmedia_mock.insert_image.called_once_with( def test_virtual_media_eject(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value vmedia_mock = resources_mock.vmedia vmedia_mock.eject_image.called_once_with('CD') def test_simple_storage_collection(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_simple_storage_collection_empty(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_simple_storage(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_simple_storage_not_found(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_storage_collection_resource(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value resources_mock.storage.get_storage_col.return_value = [ def test_storage_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value resources_mock.storage.get_storage_col.return_value = [ def test_drive_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value resources_mock.drives.get_drives.return_value = [ def test_volume_collection_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value resources_mock.volumes.get_volumes_col.return_value = [ resources_mock.systems.find_or_create_storage_volume.return_value = ""1"" def test_create_volume_post(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_volume_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value resources_mock.volumes.get_volumes_col.return_value = [ resources_mock.systems.find_or_create_storage_volume.return_value = ""1""",542,708
openstack%2Fironic~bugfix%2F15.1~I6fb3ebb1427604d8ed4ac7461d8047c0288b10f0,openstack/ironic,bugfix/15.1,I6fb3ebb1427604d8ed4ac7461d8047c0288b10f0,DNM test CI,ABANDONED,2020-07-09 12:36:28.000000000,2020-08-07 11:29:25.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 12:36:28.000000000', 'files': ['ironic/drivers/modules/boot_mode_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f94624a9d8b4c0cbcbc5fb5aa6f9634e2990f89', 'message': 'DNM test CI\n\nChange-Id: I6fb3ebb1427604d8ed4ac7461d8047c0288b10f0\n'}]",0,740262,5f94624a9d8b4c0cbcbc5fb5aa6f9634e2990f89,5,3,1,10239,,,0,"DNM test CI

Change-Id: I6fb3ebb1427604d8ed4ac7461d8047c0288b10f0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/740262/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/boot_mode_utils.py'],1,5f94624a9d8b4c0cbcbc5fb5aa6f9634e2990f89,test,,,0,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I6fd72bf83def28ae633d720b8495888cea3ac0a3,openstack/networking-ovn,stable/train,I6fd72bf83def28ae633d720b8495888cea3ac0a3,ovn migration: Support stack name,MERGED,2020-07-29 08:53:36.000000000,2020-08-07 11:24:21.000000000,2020-08-07 11:22:55.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 08:53:36.000000000', 'files': ['doc/source/install/migration.rst', 'migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aa90237499bf0ac7f1ba1f38737bf6827693f06b', 'message': 'ovn migration: Support stack name\n\nThe heat stack name is variable. This patch adds a new environment\nvariable to support migrating stacks that are different name than\novercloud.\n\nChange-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit afd63d0b36c664ca42cdda498c6b0478cf9774dd)\n'}]",0,743697,aa90237499bf0ac7f1ba1f38737bf6827693f06b,8,3,1,8655,,,0,"ovn migration: Support stack name

The heat stack name is variable. This patch adds a new environment
variable to support migrating stacks that are different name than
overcloud.

Change-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit afd63d0b36c664ca42cdda498c6b0478cf9774dd)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/97/743697/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/migration.rst', 'migration/tripleo_environment/ovn_migration.sh']",2,aa90237499bf0ac7f1ba1f38737bf6827693f06b,adopt_tripleo_change-stable/train,": ${STACK_NAME:=overcloud} /usr/bin/tripleo-ansible-inventory --stack $STACK_NAME --static-yaml-inventory ""$inventory_file""# Check if the stack exists function check_stack { source $STACKRC_FILE openstack stack show $STACK_NAME 1> /dev/null || { echo ""ERROR: STACK_NAME=${STACK_NAME} does not exist. Please provide the stack name or its ID "" echo "" via STACK_NAME environment variable."" exit 1 } } check_stack"," /usr/bin/tripleo-ansible-inventory --static-yaml-inventory ""$inventory_file""",18,1
openstack%2Fneutron~master~I23712bf7cad818abeb4eb7f98fd85a5d0e244ca2,openstack/neutron,master,I23712bf7cad818abeb4eb7f98fd85a5d0e244ca2,Bump neutron-lib to 2.5.0,ABANDONED,2020-08-07 10:11:19.000000000,2020-08-07 11:08:12.000000000,,"[{'_account_id': 5948}, {'_account_id': 15752}]","[{'number': 1, 'created': '2020-08-07 10:11:19.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bde23a3b008254e293e8e4b96119e4c096ffa8ca', 'message': ""Bump neutron-lib to 2.5.0\n\nThis new version contains several new API definitions:\n- SG rule's normalized_cidr field\n- SG group rules address groups\n- port NUMA affinity policy\n\nChange-Id: I23712bf7cad818abeb4eb7f98fd85a5d0e244ca2\n""}]",0,745307,bde23a3b008254e293e8e4b96119e4c096ffa8ca,3,2,1,16688,,,0,"Bump neutron-lib to 2.5.0

This new version contains several new API definitions:
- SG rule's normalized_cidr field
- SG group rules address groups
- port NUMA affinity policy

Change-Id: I23712bf7cad818abeb4eb7f98fd85a5d0e244ca2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/745307/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,bde23a3b008254e293e8e4b96119e4c096ffa8ca,bump_neutron-lib_2.5.0,neutron-lib==2.5.0,neutron-lib==2.4.0,1,1
openstack%2Fneutron~stable%2Frocky~I054296c790b697198550acbeae29546758b422c2,openstack/neutron,stable/rocky,I054296c790b697198550acbeae29546758b422c2,Fix validation of IPv6 subnets with external RAs,MERGED,2020-08-05 07:25:31.000000000,2020-08-07 11:06:25.000000000,2020-08-07 11:06:25.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-05 07:25:31.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b17f4ffeba6448e99cbedca5875d758a070e0dab', 'message': ""Fix validation of IPv6 subnets with external RAs\n\nIn case when such subnet is added directly to the router, there was\nvalidation and subnet which is expected to get RA messages from the\nexternal router couldn't be added to the Neutron router.\n\nBut in case when port was first created manually and then plugged to the\nrouter, there wasn't such validation. This patch fixes it by adding same\nvalidation to adding router interface by port.\n\nChange-Id: I054296c790b697198550acbeae29546758b422c2\nCloses-Bug: #1889619\n(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)\n""}]",0,744833,b17f4ffeba6448e99cbedca5875d758a070e0dab,22,5,1,11975,,,0,"Fix validation of IPv6 subnets with external RAs

In case when such subnet is added directly to the router, there was
validation and subnet which is expected to get RA messages from the
external router couldn't be added to the Neutron router.

But in case when port was first created manually and then plugged to the
router, there wasn't such validation. This patch fixes it by adding same
validation to adding router interface by port.

Change-Id: I054296c790b697198550acbeae29546758b422c2
Closes-Bug: #1889619
(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/744833/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",2,b17f4ffeba6448e99cbedca5875d758a070e0dab,bug/1889619-stable/ussuri-stable/train-stable/stein-stable/rocky," @staticmethod def _validate_subnet_address_mode(subnet): if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) fixed_ips = [ip for ip in port['fixed_ips']] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet( context, fixed_ip['subnet_id']) self._validate_subnet_address_mode(subnet) self._validate_subnet_address_mode(subnet)"," if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg)",44,6
openstack%2Fbifrost~master~I98aab593ffcaf688e9d94e4fa16794c6d313e6c8,openstack/bifrost,master,I98aab593ffcaf688e9d94e4fa16794c6d313e6c8,"Change to ""collections"" where needed",MERGED,2020-07-27 10:28:52.000000000,2020-08-07 10:46:58.000000000,2020-08-07 10:44:46.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 10:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9d158e05ee4e29c367e83a8122244c2dda75fbc5', 'message': 'Change to ANSBILE_COLLECTIONS where needed\n\nWe should keep the name ""collections"" for consistency.\n\nChange-Id: I98aab593ffcaf688e9d94e4fa16794c6d313e6c8\n'}, {'number': 2, 'created': '2020-07-27 10:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5a4b2fa9810b613c075c6d63437640383b0baf43', 'message': 'Change to ""collections"" where needed\n\nWe should keep the name ""collections"" for consistency.\n\nChange-Id: I98aab593ffcaf688e9d94e4fa16794c6d313e6c8\n'}, {'number': 3, 'created': '2020-07-27 12:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7ce02ae4280c4def253b74ad59e38c6694da8186', 'message': 'Change to ""collections"" where needed\n\nWe should keep the name ""collections"" for consistency.\n\nChange-Id: I98aab593ffcaf688e9d94e4fa16794c6d313e6c8\n'}, {'number': 4, 'created': '2020-08-06 09:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/de0121f4720b312dc24b8e0561e399bcf19d979a', 'message': 'Change to ""collections"" where needed\n\nWe should keep the name ""collections"" for consistency.\n\nChange-Id: I98aab593ffcaf688e9d94e4fa16794c6d313e6c8\n'}, {'number': 5, 'created': '2020-08-06 10:16:29.000000000', 'files': ['ansible-collections-requirements.yml', 'scripts/env-setup.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a52b8314198819cfdabfc9c91d9ba40922c1abec', 'message': 'Change to ""collections"" where needed\n\nWe should keep the name ""collections"" for consistency.\n\nChange-Id: I98aab593ffcaf688e9d94e4fa16794c6d313e6c8\n'}]",0,743186,a52b8314198819cfdabfc9c91d9ba40922c1abec,21,4,5,23851,,,0,"Change to ""collections"" where needed

We should keep the name ""collections"" for consistency.

Change-Id: I98aab593ffcaf688e9d94e4fa16794c6d313e6c8
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/86/743186/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collections-requirements.yml', 'scripts/env-setup.sh']",2,9d158e05ee4e29c367e83a8122244c2dda75fbc5,collectionS,ANSIBLE_COLLECTIONS_REQ=${ANSIBLE_COLLECTIONS_REQ:-$(dirname $0)/../ansible-collections-requirements.yml} ${ANSIBLE_GALAXY} collection install -r ${ANSIBLE_COLLECTIONS_REQ} ${ANSIBLE_GALAXY} collection install -r ${ANSIBLE_COLLECTIONS_REQ} -p ${BIFROST_COLLECTIONS_PATHS},ANSIBLE_COLLECTION_REQ=${ANSIBLE_COLLECTION_REQ:-$(dirname $0)/../ansible-collection-requirements.yml} ${ANSIBLE_GALAXY} collection install -r ${ANSIBLE_COLLECTION_REQ} ${ANSIBLE_GALAXY} collection install -r ${ANSIBLE_COLLECTION_REQ} -p ${BIFROST_COLLECTIONS_PATHS},3,3
openstack%2Fansible-collections-openstack~master~I14704db0d697cd41fbad21804e4e4724086b8a39,openstack/ansible-collections-openstack,master,I14704db0d697cd41fbad21804e4e4724086b8a39,Deal with ansible-base,ABANDONED,2020-04-02 19:37:28.000000000,2020-08-07 10:30:25.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-02 19:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7ba4657ba9ca4bf68acd790499847e164e836179', 'message': ""Deal with ansible-base\n\nWe need to install ansible-base into the virtualenv so that the\ntox-siblings will pick it up. But it's mutually exclusive with\nansible, so we don't want to install ansible from pip.\n\nChange-Id: I14704db0d697cd41fbad21804e4e4724086b8a39\n""}, {'number': 2, 'created': '2020-04-02 20:09:35.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2d0791e173a4eac45398a7cd78708f351271d3db', 'message': ""Deal with ansible-base\n\nWe need to install ansible-base into the virtualenv so that the\ntox-siblings will pick it up. But it's mutually exclusive with\nansible, so we don't want to install ansible from pip.\n\nChange-Id: I14704db0d697cd41fbad21804e4e4724086b8a39\n""}]",2,717108,2d0791e173a4eac45398a7cd78708f351271d3db,8,2,2,2,,,0,"Deal with ansible-base

We need to install ansible-base into the virtualenv so that the
tox-siblings will pick it up. But it's mutually exclusive with
ansible, so we don't want to install ansible from pip.

Change-Id: I14704db0d697cd41fbad21804e4e4724086b8a39
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/08/717108/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'tox.ini']",3,7ba4657ba9ca4bf68acd790499847e164e836179,,deps = {[testenv:deps} ansibledeps = {[testenv:deps} ansible ansible commands = /bin/bash {toxinidir}/ci/run-ansible-tests-collection.sh -e {envdir} {posargs} [testenv:ansible-devel] # Need to pass some env vars for the Ansible playbooks passenv = HOME USER ANSIBLE_VAR_* deps = {[testenv]deps} ansible-base,deps = -r{toxinidir}/test-requirements.txt,26,3
openstack%2Frequirements~master~Ia50a5bad4bc01ebe540546b0bb56938f840603d9,openstack/requirements,master,Ia50a5bad4bc01ebe540546b0bb56938f840603d9,Updated from generate-constraints,MERGED,2020-08-07 06:16:45.000000000,2020-08-07 10:22:11.000000000,2020-08-07 10:19:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 06:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2de8766cbb19a1d147daca18660340088e6d7007', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia50a5bad4bc01ebe540546b0bb56938f840603d9\n'}, {'number': 2, 'created': '2020-08-07 06:22:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/267723c3834e584bb20c96fd95699ef3db283b0f', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia50a5bad4bc01ebe540546b0bb56938f840603d9\n'}]",0,745288,267723c3834e584bb20c96fd95699ef3db283b0f,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ia50a5bad4bc01ebe540546b0bb56938f840603d9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/745288/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2de8766cbb19a1d147daca18660340088e6d7007,openstack/requirements/constraints/noclob,neutron-lib===2.5.0google-auth===1.20.1mock===4.0.2os-brick===3.2.1docutils===0.16boto3===1.14.37msgpack===1.0.0PyMySQL===0.10.0botocore===1.17.37cmd2===1.3.1pkg-resources===0.0.0,neutron-lib===2.4.0google-auth===1.20.0mock===3.0.5os-brick===3.2.0docutils===0.15.2boto3===1.14.36msgpack===0.6.1PyMySQL===0.9.3botocore===1.17.36cmd2===1.3.0,11,10
openstack%2Ftripleo-common~master~I6302f98d2be0217eb7ab2c1633902712a2d6ea36,openstack/tripleo-common,master,I6302f98d2be0217eb7ab2c1633902712a2d6ea36,WIP switch the logic to build containers for enabled_services,ABANDONED,2020-08-06 07:33:50.000000000,2020-08-07 10:14:06.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-06 07:33:50.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1407f4ab30f4c0d683e96b08c288989424c880e5', 'message': 'WIP switch the logic to build containers for enabled_services\n\nChange-Id: I6302f98d2be0217eb7ab2c1633902712a2d6ea36\n'}]",0,745080,1407f4ab30f4c0d683e96b08c288989424c880e5,5,3,1,8833,,,0,"WIP switch the logic to build containers for enabled_services

Change-Id: I6302f98d2be0217eb7ab2c1633902712a2d6ea36
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/745080/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,1407f4ab30f4c0d683e96b08c288989424c880e5,container_image,," 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NeutronApi',",3,12
openstack%2Fcharms.ceph~master~I2547933964849f7af1c623b2fbc014fb332839ef,openstack/charms.ceph,master,I2547933964849f7af1c623b2fbc014fb332839ef,Update support for Erasure Coded pools,MERGED,2020-06-01 08:21:37.000000000,2020-08-07 10:05:24.000000000,2020-08-07 10:05:24.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 28510}]","[{'number': 1, 'created': '2020-06-01 08:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/fda348101c5c1707273e13ac092f1ee8d23c11cf', 'message': 'Add automated deployment of EC pools\n\nRight now, charms.ceph does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces allow_ec_overwrite option\nwhen configuring EC pools and imports failure\ndomain setting from ceph-mon config or set it\nto host if empty.\n\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n'}, {'number': 2, 'created': '2020-06-01 11:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/50c730ad92b622b5b6c6847c61cfdb5d1e8df89f', 'message': 'Add automated deployment of EC pools\n\nRight now, charms.ceph does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces allow_ec_overwrite option\nwhen configuring EC pools and imports failure\ndomain setting from ceph-mon config or set it\nto host if empty.\n\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n'}, {'number': 3, 'created': '2020-06-18 17:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/b3bd9109b11aa3b8ae69a54c68518566f5bf4cbd', 'message': 'Add automated deployment of EC pools\n\nRight now, charms.ceph does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces allow_ec_overwrite option\nwhen configuring EC pools and imports failure\ndomain setting from ceph-mon config or set it\nto host if empty.\n\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n'}, {'number': 4, 'created': '2020-07-29 09:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/1f1c443a0f6499046619bbd32a20f72c377e4db2', 'message': ""WIP: Update support for Erasure Coded pools\n\nAdd support to allow 'allow_ec_overwrites' to be set on a pool,\nsupporting RBD and CephFS uses cases for Erasure Coding.\n\nAdd support to allow the EC technique to be provided when\ncreating EC profiles.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/498\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n""}, {'number': 5, 'created': '2020-07-30 14:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/ff61544131832da345426c9bc946b8dce38276ba', 'message': ""WIP: Update support for Erasure Coded pools\n\nAdd support to allow 'allow_ec_overwrites' to be set on a pool,\nsupporting RBD and CephFS uses cases for Erasure Coding.\n\nAdd support to allow the EC technique to be provided when\ncreating EC profiles.\n\nAdd support for extended configuration of EC plugins.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/498\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n""}, {'number': 6, 'created': '2020-07-30 14:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/6f2a4de367abc51aadd584d84786e8869e78afaa', 'message': ""WIP: Update support for Erasure Coded pools\n\nAdd support to allow 'allow_ec_overwrites' to be set on a pool,\nsupporting RBD and CephFS uses cases for Erasure Coding.\n\nAdd support to allow the EC technique to be provided when\ncreating EC profiles.\n\nAdd support for extended configuration of EC plugins.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/498\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n""}, {'number': 7, 'created': '2020-08-03 05:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/f96e4313ececb35c9a5e994dfb98bd0f0be00432', 'message': ""Update support for Erasure Coded pools\n\nAdd support to allow 'allow_ec_overwrites' to be set on a pool,\nsupporting RBD and CephFS uses cases for Erasure Coding.\n\nAdd support to allow the EC technique to be provided when\ncreating EC profiles.\n\nAdd support for extended configuration of EC plugins.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/498\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n""}, {'number': 8, 'created': '2020-08-07 09:37:00.000000000', 'files': ['charms_ceph/broker.py', 'unit_tests/test_broker.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/89b3b8d1eb82045cf16d13ba513d714b86235ed9', 'message': ""Update support for Erasure Coded pools\n\nAdd support to allow 'allow_ec_overwrites' to be set on a pool,\nsupporting RBD and CephFS uses cases for Erasure Coding.\n\nAdd support to allow the EC technique to be provided when\ncreating EC profiles.\n\nAdd support for extended configuration of EC plugins.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/498\nChange-Id: I2547933964849f7af1c623b2fbc014fb332839ef\n""}]",9,732111,89b3b8d1eb82045cf16d13ba513d714b86235ed9,24,4,8,28510,,,0,"Update support for Erasure Coded pools

Add support to allow 'allow_ec_overwrites' to be set on a pool,
supporting RBD and CephFS uses cases for Erasure Coding.

Add support to allow the EC technique to be provided when
creating EC profiles.

Add support for extended configuration of EC plugins.

Depends-On: https://github.com/juju/charm-helpers/pull/498
Change-Id: I2547933964849f7af1c623b2fbc014fb332839ef
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/11/732111/5 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/broker.py'],1,fda348101c5c1707273e13ac092f1ee8d23c11cf,ec-support," config, failure_domain = request.get('failure-domain') or \ ""rack"" if config(""customize-failure-domain"") else ""host"" allow_ec_overwrite = request.get('allow_ec_overwrite') percent_data=weight, allow_ec_overwrite=allow_ec_overwrite, app_name=app_name)"," failure_domain = request.get('failure-domain') percent_data=weight, app_name=app_name)",8,3
openstack%2Fdiskimage-builder~master~I5d852843ec65d3b04444b77c54c5b82424455cd8,openstack/diskimage-builder,master,I5d852843ec65d3b04444b77c54c5b82424455cd8,Deprecate dib-python; remove from in-tree elements,MERGED,2020-07-20 06:16:01.000000000,2020-08-07 09:59:06.000000000,2020-08-07 09:57:11.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-20 06:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/12df75866d0f3f4561c5244db6bb14fd7b65da3e', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 2, 'created': '2020-07-20 08:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/edd6179153f76e50c319ca451b98d443fa0c1581', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 3, 'created': '2020-07-21 01:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/078db6a376aa90015e9389b111ec704b496ad965', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 4, 'created': '2020-07-21 02:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cabf69b793b4ce2ff1963d54ec87adad4882537b', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 5, 'created': '2020-07-21 03:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6081a8f758bc536048da02bcf3b2515bb40f902d', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 6, 'created': '2020-07-21 07:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f6e05c96be399464931762178f7450bdbd12e79e', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 7, 'created': '2020-07-23 03:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/344b05ef313a839b1d2ea554e7a0e399da2c0298', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 8, 'created': '2020-07-23 04:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/aa6db5b292fc894925d853b3b382c2480cf4b66d', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 9, 'created': '2020-07-23 06:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ce0321221db5804d72039807ed7548517930680b', 'message': '[wip] Drop dib-python requirement from several elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; start to remove it from elements\nwhere it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 10, 'created': '2020-07-24 05:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c49c45c2b25670101afe19ccd801d74ede4a3513', 'message': 'Deprecate dib-python; remove from in-tree elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; mark it as deprecated and start to\nremove it from elements where it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}, {'number': 11, 'created': '2020-08-07 00:38:36.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/redhat-common/bin/map-packages', 'releasenotes/notes/dib-python-deprecate-8401c35a87559076.yaml', 'diskimage_builder/elements/pypi/pre-install.d/04-configure-pypi-mirror', 'diskimage_builder/elements/dracut-regenerate/finalise.d/50-dracut-regenerate', 'diskimage_builder/elements/dib-python/README.rst', 'diskimage_builder/elements/pkg-map/element-deps', 'diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall', 'diskimage_builder/elements/ubuntu-systemd-container/root.d/75-ubuntu-minimal-baseinstall', 'diskimage_builder/elements/package-installs/element-deps', 'diskimage_builder/elements/debian-minimal/element-deps', 'diskimage_builder/elements/package-installs/bin/package-installs-v2', 'diskimage_builder/elements/svc-map/bin/svc-map', 'diskimage_builder/elements/debian-minimal/root.d/75-debian-minimal-baseinstall', 'diskimage_builder/elements/pypi/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/86622975175d9483739880f4fd5657891cabd650', 'message': 'Deprecate dib-python; remove from in-tree elements\n\nWe are at the point that all distributions we are building have Python\n3, so any tools running in the chroot can assume Python 3 exists.\nThis makes dib-python redundant; mark it as deprecated and start to\nremove it from elements where it is no longer required.\n\nChange-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8\n'}]",2,741877,86622975175d9483739880f4fd5657891cabd650,55,6,11,7118,,,0,"Deprecate dib-python; remove from in-tree elements

We are at the point that all distributions we are building have Python
3, so any tools running in the chroot can assume Python 3 exists.
This makes dib-python redundant; mark it as deprecated and start to
remove it from elements where it is no longer required.

Change-Id: I5d852843ec65d3b04444b77c54c5b82424455cd8
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/741877/9 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/package-installs/element-deps', 'diskimage_builder/elements/redhat-common/bin/map-packages', 'diskimage_builder/elements/debian-minimal/element-deps', 'diskimage_builder/elements/pypi/pre-install.d/04-configure-pypi-mirror', 'diskimage_builder/elements/dracut-regenerate/finalise.d/50-dracut-regenerate', 'diskimage_builder/elements/pkg-map/element-deps', 'diskimage_builder/elements/svc-map/bin/svc-map', 'diskimage_builder/elements/pypi/element-deps']",9,12df75866d0f3f4561c5244db6bb14fd7b65da3e,centos7-drag-python3,,dib-python ,5,10
openstack%2Fdiskimage-builder~master~I088fc4284e889147ca9a375d4a159264cff53484,openstack/diskimage-builder,master,I088fc4284e889147ca9a375d4a159264cff53484,Pre-install python3 for CentOS,MERGED,2020-07-20 04:05:40.000000000,2020-08-07 09:54:55.000000000,2020-08-07 09:53:26.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-20 04:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1474803ac95d33780890ea0c98804dee30847df5', 'message': 'Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 2, 'created': '2020-07-20 05:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5253f018cdca3011f82ebb009da9064fb569c222', 'message': 'Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 3, 'created': '2020-07-20 08:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/33dda708104b7657517399008aa2fe09df291d1c', 'message': 'Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 4, 'created': '2020-07-20 14:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd04627ba24a9399f3a09841f007773a2b40717b', 'message': 'Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 5, 'created': '2020-07-21 03:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6aa8b75efc72a3906c4b679dc31e18416facd015', 'message': 'Pre-install python3 for CentOS\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\nFor centos 7 add an early install of it in the yum element so we can\nhave all the in-chroot scripts assume Python 3.  There is only one\npackage that causes issues; yaml which comes from EPEL.  Everywhere\nelse it is a base package, but we don\'t have a way to say ""enable epel\nto install this"".  Just hack it in, we don\'t want to go reworking the\nworld for CentOS 7 at this point.\n\nAlso add python3 to yum-minimal.  This is valid for centos 7 and 8\nminimal builds -- in the 8 case this brings in the ""user"" python3 in\n/urs/bin/python3 (the ""system"" python3 is already installed).  Again,\nthis just lets us assume /usr/bin/python3 in scripts for all\nplatforms.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 6, 'created': '2020-07-21 07:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/808ddf486112cb8f3f2e8393de79f9ca97c00111', 'message': 'Pre-install python3 for CentOS\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\nFor centos 7 add an early install of it in the yum element so we can\nhave all the in-chroot scripts assume Python 3.  There is only one\npackage that causes issues; yaml which comes from EPEL.  Everywhere\nelse it is a base package, but we don\'t have a way to say ""enable epel\nto install this"".  Just hack it in, we don\'t want to go reworking the\nworld for CentOS 7 at this point.\n\nAlso add python3 to yum-minimal.  This is valid for centos 7 and 8\nminimal builds -- in the 8 case this brings in the ""user"" python3 in\n/urs/bin/python3 (the ""system"" python3 is already installed).  Again,\nthis just lets us assume /usr/bin/python3 in scripts for all\nplatforms.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 7, 'created': '2020-07-23 03:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/755887088495513958bff51019b960820631f218', 'message': 'Pre-install python3 for CentOS\n\nCentOS 7 is the only distro we support currently that doesn\'t have\nPython 3 installed in some form in the base images.  For centos 7 add\nan early install of it in the yum element so we can have all the\nin-chroot scripts assume Python 3.  There is only one package that\ncauses issues; yaml which comes from EPEL.  Everywhere else it is a\nbase package, but we don\'t have a way to say ""enable epel to install\nthis"".  Just hack it in, we don\'t want to go reworking the world for\nCentOS 7 at this point.\n\nAlso add python3 and it\'s yaml library to the centos 8 path.  This\nbrings in the ""user"" python3 in /urs/bin/python3 (the ""system"" python3\nis already installed).  Again, this just lets us assume\n/usr/bin/python3 in scripts for all platforms.\n\nDepends-On: https://review.opendev.org/742579\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 8, 'created': '2020-07-23 04:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6b8d98b00c74f6b7a5dd4dc4fd9513bbf7b13692', 'message': 'Pre-install python3 for CentOS\n\nCentOS 7 is the only distro we support currently that doesn\'t have\nPython 3 installed in some form in the base images.  For centos 7 add\nan early install of it in the yum element so we can have all the\nin-chroot scripts assume Python 3.  There is only one package that\ncauses issues; yaml which comes from EPEL.  Everywhere else it is a\nbase package, but we don\'t have a way to say ""enable epel to install\nthis"".  Just hack it in, we don\'t want to go reworking the world for\nCentOS 7 at this point.\n\nAlso add python3 and it\'s yaml library to the centos 8 path.  This\nbrings in the ""user"" python3 in /urs/bin/python3 (the ""system"" python3\nis already installed).  Again, this just lets us assume\n/usr/bin/python3 in scripts for all platforms.\n\nBecause package-installs is one of these things running python in the\nchroot, move it up in the run order to 10- (from 3-) so that we can\nrun things like this before it.\n\nDepends-On: https://review.opendev.org/742579\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 9, 'created': '2020-07-23 06:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/02f61854e26261b94484f374369d2a681e8d139b', 'message': 'Pre-install python3 for CentOS\n\nCentOS 7 is the only distro we support currently that doesn\'t have\nPython 3 installed in some form in the base images.  For centos 7 add\nan early install of it in the yum element so we can have all the\nin-chroot scripts assume Python 3.  There is only one package that\ncauses issues; yaml which comes from EPEL.  Everywhere else it is a\nbase package, but we don\'t have a way to say ""enable epel to install\nthis"".  Just hack it in, we don\'t want to go reworking the world for\nCentOS 7 at this point.\n\nAlso add python3 and it\'s yaml library to the centos 8 path.  This\nbrings in the ""user"" python3 in /urs/bin/python3 (the ""system"" python3\nis already installed).  Again, this just lets us assume\n/usr/bin/python3 in scripts for all platforms.\n\npackage-installs is one of these things running python in the chroot,\nand unfortunately we have elements that use it at 01- level in\npre-installd.  Thus to make sure python3 is there nice and early, run\nit at 0 level, but make sure it comes after yum/dnf update.\n\nDepends-On: https://review.opendev.org/742579\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 10, 'created': '2020-07-24 05:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/426b1089138999a0c1ef004a9b507c71796d78fd', 'message': 'Pre-install python3 for CentOS\n\nCentOS 7 is the only distro we support currently that doesn\'t have\nPython 3 installed in some form in the base images.  For centos 7 add\nan early install of it in the yum element so we can have all the\nin-chroot scripts assume Python 3.  There is only one package that\ncauses issues; yaml which comes from EPEL.  Everywhere else it is a\nbase package, but we don\'t have a way to say ""enable epel to install\nthis"".  Just hack it in, we don\'t want to go reworking the world for\nCentOS 7 at this point.\n\nAlso add python3 and it\'s yaml library to the centos 8 path.  This\nbrings in the ""user"" python3 in /urs/bin/python3 (the ""system"" python3\nis already installed).  Again, this just lets us assume\n/usr/bin/python3 in scripts for all platforms.\n\npackage-installs is one of these things running python in the chroot,\nand unfortunately we have elements that use it at 01- level in\npre-installd.  Thus to make sure python3 is there nice and early, run\nit at 0 level, but make sure it comes after yum/dnf update.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}, {'number': 11, 'created': '2020-08-07 00:38:36.000000000', 'files': ['diskimage_builder/elements/package-installs/pre-install.d/10-package-installs', 'diskimage_builder/elements/yum/pre-install.d/00-0-dnf-update', 'diskimage_builder/elements/yum/pre-install.d/00-1-centos-python3'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4dbfab66a13d6e0568133c5fe349a719167017fa', 'message': 'Pre-install python3 for CentOS\n\nCentOS 7 is the only distro we support currently that doesn\'t have\nPython 3 installed in some form in the base images.  For centos 7 add\nan early install of it in the yum element so we can have all the\nin-chroot scripts assume Python 3.  There is only one package that\ncauses issues; yaml which comes from EPEL.  Everywhere else it is a\nbase package, but we don\'t have a way to say ""enable epel to install\nthis"".  Just hack it in, we don\'t want to go reworking the world for\nCentOS 7 at this point.\n\nAlso add python3 and it\'s yaml library to the centos 8 path.  This\nbrings in the ""user"" python3 in /urs/bin/python3 (the ""system"" python3\nis already installed).  Again, this just lets us assume\n/usr/bin/python3 in scripts for all platforms.\n\npackage-installs is one of these things running python in the chroot,\nand unfortunately we have elements that use it at 01- level in\npre-installd.  Thus to make sure python3 is there nice and early, run\nit at 0 level, but make sure it comes after yum/dnf update.\n\nChange-Id: I088fc4284e889147ca9a375d4a159264cff53484\n'}]",6,741868,4dbfab66a13d6e0568133c5fe349a719167017fa,87,9,11,7118,,,0,"Pre-install python3 for CentOS

CentOS 7 is the only distro we support currently that doesn't have
Python 3 installed in some form in the base images.  For centos 7 add
an early install of it in the yum element so we can have all the
in-chroot scripts assume Python 3.  There is only one package that
causes issues; yaml which comes from EPEL.  Everywhere else it is a
base package, but we don't have a way to say ""enable epel to install
this"".  Just hack it in, we don't want to go reworking the world for
CentOS 7 at this point.

Also add python3 and it's yaml library to the centos 8 path.  This
brings in the ""user"" python3 in /urs/bin/python3 (the ""system"" python3
is already installed).  Again, this just lets us assume
/usr/bin/python3 in scripts for all platforms.

package-installs is one of these things running python in the chroot,
and unfortunately we have elements that use it at 01- level in
pre-installd.  Thus to make sure python3 is there nice and early, run
it at 0 level, but make sure it comes after yum/dnf update.

Change-Id: I088fc4284e889147ca9a375d4a159264cff53484
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/68/741868/9 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum/pre-install.d/03-centos7-python3'],1,1474803ac95d33780890ea0c98804dee30847df5,centos7-drag-python3,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail if [[ ${DISTRO_NAME} =~ (centos|rhel) && ${DIB_RELEASE} == 7 ]]; then # This is a hacky install of python3 for CentOS 7, which is the # only distro we support that doesn't have Python 3 installed as # part of the base system. However, dib >= 3 is now a Python 3 # only project, so assuming that all the in-chroot scripts can run # in Python 3. # # The other thing is that every other distro has pyyaml in the # base distro too. Our package map and install stuff doesn't have # a way to say ""install this from EPEL"". So we hack in an install # of it here from EPEL. yum install -y python3 epel-release yum install -y --enablerepo=epel python3-pyyaml yum remove -y epel-release fi ",,23,0
openstack%2Fironic~master~Ia8f608fbf2c6feffcf23da84ae91ccf3d6ea4baa,openstack/ironic,master,Ia8f608fbf2c6feffcf23da84ae91ccf3d6ea4baa,Enforce autospec in test_cinder,MERGED,2020-08-06 16:18:13.000000000,2020-08-07 09:49:42.000000000,2020-08-07 09:19:24.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-06 16:18:13.000000000', 'files': ['ironic/tests/unit/drivers/modules/storage/test_cinder.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/15fa7ac8164f2f50932d5936f8a4249540e84b0b', 'message': 'Enforce autospec in test_cinder\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: Ia8f608fbf2c6feffcf23da84ae91ccf3d6ea4baa\n'}]",0,745178,15fa7ac8164f2f50932d5936f8a4249540e84b0b,12,6,1,23851,,,0,"Enforce autospec in test_cinder

And remove corresponding filter from tox.ini

Change-Id: Ia8f608fbf2c6feffcf23da84ae91ccf3d6ea4baa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/745178/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/storage/test_cinder.py', 'tox.ini']",2,15fa7ac8164f2f50932d5936f8a4249540e84b0b,enforce-autospec,, ironic/tests/unit/drivers/modules/storage/*:H210,4,4
openstack%2Ftripleo-quickstart-extras~master~I67d37134372f9d71e4a5fc82740051b98cfdf3e1,openstack/tripleo-quickstart-extras,master,I67d37134372f9d71e4a5fc82740051b98cfdf3e1,Add playbook to deploy standalone on virthost,MERGED,2020-07-30 06:36:35.000000000,2020-08-07 09:31:59.000000000,2020-08-07 09:31:59.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 06:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8113e6750077006b3817345522fafb561778390b', 'message': '[WIP] Add playbook to deploy standalone on virthost\n\nPartial-Bug: #1889219\nChange-Id: I67d37134372f9d71e4a5fc82740051b98cfdf3e1\n'}, {'number': 2, 'created': '2020-08-03 07:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e4aa3822f6526e79110d385ec77a402b539b5799', 'message': 'Add playbook to deploy standalone on virthost\n\nDepends-On: https://review.opendev.org/#/c/744113/\nPartial-Bug: #1889219\nChange-Id: I67d37134372f9d71e4a5fc82740051b98cfdf3e1\n'}, {'number': 3, 'created': '2020-08-03 14:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a4f2685e0fb4145db2302afa8434a841077d4ad0', 'message': 'Add playbook to deploy standalone on virthost\n\nDepends-On: https://review.opendev.org/#/c/744113/\nPartial-Bug: #1889219\nChange-Id: I67d37134372f9d71e4a5fc82740051b98cfdf3e1\n'}, {'number': 4, 'created': '2020-08-04 06:04:39.000000000', 'files': ['playbooks/quickstart-extras-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1e299a04954479987ac368b060502dc6f64d897b', 'message': 'Add playbook to deploy standalone on virthost\n\nDepends-On: https://review.opendev.org/#/c/744113/\nPartial-Bug: #1889219\nChange-Id: I67d37134372f9d71e4a5fc82740051b98cfdf3e1\n'}]",6,743916,1e299a04954479987ac368b060502dc6f64d897b,22,5,4,13861,,,0,"Add playbook to deploy standalone on virthost

Depends-On: https://review.opendev.org/#/c/744113/
Partial-Bug: #1889219
Change-Id: I67d37134372f9d71e4a5fc82740051b98cfdf3e1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/16/743916/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'playbooks/quickstart-extras-standalone.yml']",2,8113e6750077006b3817345522fafb561778390b,bug/1889219,"--- - include: quickstart.yml # setup for the undercloud - name: Prepare the node for installation hosts: undercloud gather_facts: false tags: - standalone roles: - undercloud-setup - name: Add remove ens3 if not required hosts: undercloud gather_facts: true tasks: - include_role: name: baremetal-prep-virthost tasks_from: remove_ens3.yml when: - ansible_distribution == 'CentOS' - ansible_distribution_major_version|int >= 8 - name: Gather facts hosts: undercloud become: false tags: - standalone tasks: - setup: # Deploy the standalone - name: Deploy the standalone hosts: undercloud gather_facts: true tags: - standalone roles: - standalone - name: Validate the undercloud hosts: undercloud gather_facts: false roles: - {role: validate-services, when: validate_services|default(false)|bool} - {role: validate-tempest, when: run_tempest|bool} tags: - standalone - name: Setup virtualenv hosts: undercloud tasks: - name: set python_cmd set_fact: python_cmd: ""python{{ ansible_python.version.major }}"" cacheable: true when: python_cmd is not defined - name: Check if virtualenv is in the system command: ""{{ python_cmd }} -m virtualenv --version"" register: virtualenv_exist failed_when: false changed_when: false - when: virtualenv_exist.rc != 0 name: Install virtualenv become: true package: state: present name: > {% if ansible_python.version.major == 3 %} python3-virtualenv {% else %} python-virtualenv {% endif %} - name: Validate the deployment hosts: undercloud # Note(chkumar246): Moved the os_tempest related var at the top # of play level in order to have scope for the whole of the play # https://bugs.launchpad.net/tripleo/+bug/1838496 vars: tempest_install_method: distro tempest_cloud_name: 'standalone' tasks: - include_tasks: tempest.yml when: - not run_tempest|bool - use_os_tempest is defined - use_os_tempest|bool tags: - standalone ",,94,30
openstack%2Fkolla-ansible~master~I5106675da5228a5d7e630871f0882269603e6571,openstack/kolla-ansible,master,I5106675da5228a5d7e630871f0882269603e6571,Enable glance role to copy extra configuration,MERGED,2020-07-28 16:16:05.000000000,2020-08-07 09:28:25.000000000,2020-08-07 09:26:02.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 31806}]","[{'number': 1, 'created': '2020-07-28 16:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/536709e46b690d737ad5a82f99e020120efaab76', 'message': 'Enable glance role to copy extra configuration\n\nGlance role can be configured to copy property\nprotection policy file. Also glance-image-import.conf\nis copied when defined to allow configuration of\nglance interoperable image import\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nCloses-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 2, 'created': '2020-07-28 16:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebc771f4121f1a4f927b42f2530162a9288aaa78', 'message': 'Enable glance role to copy extra configuration\n\nGlance role can be configured to copy property\nprotection policy file. Also glance-image-import.conf\nis copied when defined to allow configuration of\nglance interoperable image import\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nCloses-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 3, 'created': '2020-07-29 08:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f915317e54dfe9006a8494d475202f74fbba13b4', 'message': 'Enable glance role to copy extra configuration\n\nGlance role can be configured to copy property\nprotection policy file. Also glance-image-import.conf\nis copied when defined to allow configuration of\nglance interoperable image import\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nCloses-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 4, 'created': '2020-07-29 11:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/573e76955bff90b2c06a36d1c625096be37bb006', 'message': 'Enable glance role to copy extra configuration\n\nGlance role can be configured to copy property\nprotection policy file. Also glance-image-import.conf\nis copied when defined to allow configuration of\nglance interoperable image import\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nCloses-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 5, 'created': '2020-07-29 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b619785c43db45208d9bc7f03de94ef68219079', 'message': 'Enable glance role to copy extra configuration\n\nGlance role can be configured to copy property\nprotection policy file. Also glance-image-import.conf\nis copied when defined to allow configuration of\nglance interoperable image import.\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nCloses-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 6, 'created': '2020-07-30 15:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c3ecf98e593e010ce1a4e7f9e75500bbe9b5fde', 'message': 'Enable glance role to copy extra configuration\n\nGlance role copies glance-image-import.conf\nwhen defined to allow configuration of\nglance interoperable image import. Also\nproperty-protections-rules.conf is copied\nto allow property protection\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nClosesl-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 7, 'created': '2020-07-30 16:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d4f62af98caffc7311f4dd6030db625bcd2f8c73', 'message': 'Enable glance role to copy extra configuration\n\nGlance role copies glance-image-import.conf\nwhen defined to allow configuration of\nglance interoperable image import. Also\nproperty-protections-rules.conf is copied\nto allow property protection\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nClosesl-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 8, 'created': '2020-08-05 12:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42738473d2c6a2e4260c8f2730b285fcaee3970a', 'message': 'Enable glance role to copy extra configuration\n\nGlance role copies glance-image-import.conf\nwhen defined to allow configuration of\nglance interoperable image import. Also\nproperty-protections-rules.conf is copied\nto allow property protection\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nClosesl-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}, {'number': 9, 'created': '2020-08-06 16:45:27.000000000', 'files': ['ansible/roles/glance/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'doc/source/reference/shared-services/glance-guide.rst', 'ansible/roles/glance/templates/glance-api.json.j2', 'etc/kolla/globals.yml', 'releasenotes/notes/bug-1889272-c929d21a94d657fa.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6033b71d5e87689855d31696208075375114cbc4', 'message': 'Enable glance role to copy extra configuration\n\nGlance role copies glance-image-import.conf\nwhen enabled to allow configuration of\nglance interoperable image import. Property\nprotection can be enabled and file is copied.\n\nChange-Id: I5106675da5228a5d7e630871f0882269603e6571\nClosesl-Bug: #1889272\nSigned-off-by: nikparasyr <nik.parasyr@protonmail.com>\n'}]",18,743578,6033b71d5e87689855d31696208075375114cbc4,38,4,9,31806,,,0,"Enable glance role to copy extra configuration

Glance role copies glance-image-import.conf
when enabled to allow configuration of
glance interoperable image import. Property
protection can be enabled and file is copied.

Change-Id: I5106675da5228a5d7e630871f0882269603e6571
Closesl-Bug: #1889272
Signed-off-by: nikparasyr <nik.parasyr@protonmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/743578/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/glance/tasks/config.yml', 'releasenotes/notes/bug-1889272.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'etc/kolla/globals.yml']",5,536709e46b690d737ad5a82f99e020120efaab76,bug/1889272,"# Enable glance property protection: https://docs.openstack.org/glance/latest/admin/property-protections.html#property-protections # glance_property_protection_file and glance_property_protection_rule_format needs to be defined glance_enable_property_protection: ""no"" # glance_property_protection_file: ""property-protections-roles.conf"" # glance_property_protection_rule_format: ""rules""",,72,0
openstack%2Ftripleo-quickstart-extras~master~Idfd0e3f97731f5cf9005809825f47199c86ed508,openstack/tripleo-quickstart-extras,master,Idfd0e3f97731f5cf9005809825f47199c86ed508,Allow to override NeutronBridgeMappings for standalone deploy,MERGED,2020-07-30 06:18:44.000000000,2020-08-07 09:24:08.000000000,2020-08-07 09:24:07.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 06:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/950e1b45b7ffdb82edbb0bdabaaccf135eab78a7', 'message': 'Allow to override NeutronBridgeMappings for standalone deploy\n\nCurrent default for NeutronBridgeMappings is datacentre:br-ex,\nadd option to allow to configure it like datacentre:br-ctlplane\nor something else as per environment.\n\nPartial-Bug: #1889219\nChange-Id: Idfd0e3f97731f5cf9005809825f47199c86ed508\n'}, {'number': 2, 'created': '2020-07-31 04:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12dfe2eaa53a352b7906490984ebd42ac2d24b5f', 'message': 'Allow to override NeutronBridgeMappings for standalone deploy\n\nCurrent default for NeutronBridgeMappings is datacentre:br-ex,\nadd option to allow to configure it like datacentre:br-ctlplane\nor something else as per environment.\n\nPartial-Bug: #1889219\nChange-Id: Idfd0e3f97731f5cf9005809825f47199c86ed508\n'}, {'number': 3, 'created': '2020-07-31 10:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8cf9f2c6f6ac5ee59e8218be13d5ce2fbd23fb78', 'message': 'Allow to override NeutronBridgeMappings for standalone deploy\n\nCurrent default for NeutronBridgeMappings is datacentre:br-ex,\nadd option to allow to configure it like datacentre:br-ctlplane\nor something else as per environment.\n\nDepends-On: https://review.opendev.org/#/c/744113/\nPartial-Bug: #1889219\nChange-Id: Idfd0e3f97731f5cf9005809825f47199c86ed508\n'}, {'number': 4, 'created': '2020-08-04 06:03:59.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ad637df51c553c5eae2f39cf7b0efde2f235510', 'message': 'Allow to override NeutronBridgeMappings for standalone deploy\n\nCurrent default for NeutronBridgeMappings is datacentre:br-ex,\nadd option to allow to configure it like datacentre:br-ctlplane\nor something else as per environment.\n\nDepends-On: https://review.opendev.org/#/c/744113/\nPartial-Bug: #1889219\nChange-Id: Idfd0e3f97731f5cf9005809825f47199c86ed508\n'}]",0,743913,5ad637df51c553c5eae2f39cf7b0efde2f235510,21,6,4,13861,,,0,"Allow to override NeutronBridgeMappings for standalone deploy

Current default for NeutronBridgeMappings is datacentre:br-ex,
add option to allow to configure it like datacentre:br-ctlplane
or something else as per environment.

Depends-On: https://review.opendev.org/#/c/744113/
Partial-Bug: #1889219
Change-Id: Idfd0e3f97731f5cf9005809825f47199c86ed508
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/13/743913/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,950e1b45b7ffdb82edbb0bdabaaccf135eab78a7,bug/1889219,{% if standalone_neutron_bridge_mappings is defined and standalone_neutron_bridge_mappings %} NeutronBridgeMappings: {{ standalone_neutron_bridge_mappings }} {% endif %},,3,0
openstack%2Fec2-api~master~Ie4bbe9ca083693c7253c35c40c05c514e10e27f4,openstack/ec2-api,master,Ie4bbe9ca083693c7253c35c40c05c514e10e27f4,fix mistype in zuul config,ABANDONED,2020-08-06 18:06:18.000000000,2020-08-07 08:56:22.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 18:06:18.000000000', 'files': ['playbooks/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3bf7e8e34ce61a9b6a443ec14d15cf69e3057f25', 'message': 'fix mistype in zuul config\n\nChange-Id: Ie4bbe9ca083693c7253c35c40c05c514e10e27f4\n'}]",0,745198,3bf7e8e34ce61a9b6a443ec14d15cf69e3057f25,4,2,1,32274,,,0,"fix mistype in zuul config

Change-Id: Ie4bbe9ca083693c7253c35c40c05c514e10e27f4
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/98/745198/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml']",4,3bf7e8e34ce61a9b6a443ec14d15cf69e3057f25,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,13,87
openstack%2Fec2-api~master~If52956bb246a812e62266f3a23aacefc97c10179,openstack/ec2-api,master,If52956bb246a812e62266f3a23aacefc97c10179,fix mistype in run.yaml,ABANDONED,2020-08-06 16:24:45.000000000,2020-08-07 08:55:58.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 32274}]","[{'number': 1, 'created': '2020-08-06 16:24:45.000000000', 'files': ['playbooks/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ec79eb79e2c5c1cf7b28a0a44ce377d2f7f45578', 'message': 'fix mistype in run.yaml\n\nChange-Id: If52956bb246a812e62266f3a23aacefc97c10179\n'}]",0,745181,ec79eb79e2c5c1cf7b28a0a44ce377d2f7f45578,5,3,1,32274,,,0,"fix mistype in run.yaml

Change-Id: If52956bb246a812e62266f3a23aacefc97c10179
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/81/745181/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml']",4,ec79eb79e2c5c1cf7b28a0a44ce377d2f7f45578,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,13,87
openstack%2Fec2-api~master~I91d2a7125b551b32a3433c7f30fb63189d689c8e,openstack/ec2-api,master,I91d2a7125b551b32a3433c7f30fb63189d689c8e,"rewrite zuul's ec2-api-functional-neutron job, move the config out of playbook to the job's vars",ABANDONED,2020-08-06 12:51:30.000000000,2020-08-07 08:51:59.000000000,,"[{'_account_id': 10068}, {'_account_id': 10234}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 12:51:30.000000000', 'files': ['playbooks/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9966f1066ad540079f0b3e27f8bdfe4faa0ab1e1', 'message': ""rewrite zuul's ec2-api-functional-neutron job, move the config out of playbook to the job's vars\n\nChange-Id: I91d2a7125b551b32a3433c7f30fb63189d689c8e\n""}]",2,745123,9966f1066ad540079f0b3e27f8bdfe4faa0ab1e1,5,4,1,32274,,,0,"rewrite zuul's ec2-api-functional-neutron job, move the config out of playbook to the job's vars

Change-Id: I91d2a7125b551b32a3433c7f30fb63189d689c8e
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/23/745123/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ec2-api-functional-neutron/run.yaml', 'playbooks/legacy/ec2-api-functional-neutron/run.yaml', '.zuul.yaml', 'playbooks/legacy/ec2-api-functional-neutron/post.yaml']",4,9966f1066ad540079f0b3e27f8bdfe4faa0ab1e1,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,12,87
openstack%2Fglance~master~Ica9fc645229b0b19b913ce3f2e151f7b0c935649,openstack/glance,master,Ica9fc645229b0b19b913ce3f2e151f7b0c935649,Stream-friendly disk format inspection module,MERGED,2020-07-31 15:53:46.000000000,2020-08-07 08:50:24.000000000,2020-08-07 08:48:31.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 15:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5334f16fd18a2ab53b72d69b6750355c41994969', 'message': 'WIP: Stream-friendly disk format inspection module\n\nThis is a prototype of something we were discussing with respect to\nthe image-introspect-plugin spec. These routines allow us to get\nmetadata from disk images while streaming them from one place to\nanother, without needing to store the whole thing on disk.\n\nI left the testing routines at the bottom of the file for now, but\nthose likely need to either be removed or moved to a utility tool.\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 2, 'created': '2020-07-31 16:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd4737133dae94d155453b27cca56e8e114cd47e', 'message': 'WIP: Stream-friendly disk format inspection module\n\nThis is a prototype of something we were discussing with respect to\nthe image-introspect-plugin spec. These routines allow us to get\nmetadata from disk images while streaming them from one place to\nanother, without needing to store the whole thing on disk.\n\nI left the testing routines at the bottom of the file for now, but\nthose likely need to either be removed or moved to a utility tool.\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 3, 'created': '2020-07-31 16:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6f793cae2d5da0794d17ecedb7954700a3b83419', 'message': 'WIP: Stream-friendly disk format inspection module\n\nThis is a prototype of something we were discussing with respect to\nthe image-introspect-plugin spec. These routines allow us to get\nmetadata from disk images while streaming them from one place to\nanother, without needing to store the whole thing on disk.\n\nI left the testing routines at the bottom of the file for now, but\nthose likely need to either be removed or moved to a utility tool.\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 4, 'created': '2020-07-31 17:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2461aa35e8efc64057cf754168628437722ebfd6', 'message': 'WIP: Stream-friendly disk format inspection module\n\nThis is a prototype of something we were discussing with respect to\nthe image-introspect-plugin spec. These routines allow us to get\nmetadata from disk images while streaming them from one place to\nanother, without needing to store the whole thing on disk.\n\nI left the testing routines at the bottom of the file for now, but\nthose likely need to either be removed or moved to a utility tool.\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 5, 'created': '2020-08-04 16:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d8b2f450fd79a25c1fd1ecfa78913fd629fcbb3', 'message': 'Stream-friendly disk format inspection module\n\nThis adds a module called common.format_inspector which contains\nan implementation of virtual disk format and size detection that\nworks in a streamable fashion. This can be injected into a data\nprocessing loop and gracefully detect both format type as well as\nvirtual_size of the disk format, for those that are supported.\n\nCurrently excluded from the list of formats that glance claims to\nsupport are iso (which can be treated like raw) and ploop (which\nnot even qemu-img seems to support).\n\nThis also adds a test_format_inspector.py executable into tools/,\nwhich we can use to validate the code manually on images in the\ncase where bugs report that this fails to work on some real-world\nimage.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 6, 'created': '2020-08-04 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d21bdd3c8962a0f76c7f25e376ec3d488fcbe9e', 'message': 'Stream-friendly disk format inspection module\n\nThis adds a module called common.format_inspector which contains\nan implementation of virtual disk format and size detection that\nworks in a streamable fashion. This can be injected into a data\nprocessing loop and gracefully detect both format type as well as\nvirtual_size of the disk format, for those that are supported.\n\nCurrently excluded from the list of formats that glance claims to\nsupport are iso (which can be treated like raw) and ploop (which\nnot even qemu-img seems to support).\n\nThis also adds a test_format_inspector.py executable into tools/,\nwhich we can use to validate the code manually on images in the\ncase where bugs report that this fails to work on some real-world\nimage.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 7, 'created': '2020-08-04 19:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/aeba2a4222ff29dca4a777b614bfe72486b7aedd', 'message': 'Stream-friendly disk format inspection module\n\nThis adds a module called common.format_inspector which contains\nan implementation of virtual disk format and size detection that\nworks in a streamable fashion. This can be injected into a data\nprocessing loop and gracefully detect both format type as well as\nvirtual_size of the disk format, for those that are supported.\n\nCurrently excluded from the list of formats that glance claims to\nsupport are iso (which can be treated like raw) and ploop (which\nnot even qemu-img seems to support).\n\nThis also adds a test_format_inspector.py executable into tools/,\nwhich we can use to validate the code manually on images in the\ncase where bugs report that this fails to work on some real-world\nimage.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 8, 'created': '2020-08-05 14:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e5825736dc900290fbc13f32b6f34c3ffd7caac', 'message': 'Stream-friendly disk format inspection module\n\nThis adds a module called common.format_inspector which contains\nan implementation of virtual disk format and size detection that\nworks in a streamable fashion. This can be injected into a data\nprocessing loop and gracefully detect both format type as well as\nvirtual_size of the disk format, for those that are supported.\n\nCurrently excluded from the list of formats that glance claims to\nsupport are iso (which can be treated like raw) and ploop (which\nnot even qemu-img seems to support).\n\nThis also adds a test_format_inspector.py executable into tools/,\nwhich we can use to validate the code manually on images in the\ncase where bugs report that this fails to work on some real-world\nimage.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 9, 'created': '2020-08-05 14:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/48d408eeb9abaee9d0fc409f7f0c101244396f4e', 'message': 'Stream-friendly disk format inspection module\n\nThis adds a module called common.format_inspector which contains\nan implementation of virtual disk format and size detection that\nworks in a streamable fashion. This can be injected into a data\nprocessing loop and gracefully detect both format type as well as\nvirtual_size of the disk format, for those that are supported.\n\nCurrently excluded from the list of formats that glance claims to\nsupport are iso (which can be treated like raw) and ploop (which\nnot even qemu-img seems to support).\n\nThis also adds a test_format_inspector.py executable into tools/,\nwhich we can use to validate the code manually on images in the\ncase where bugs report that this fails to work on some real-world\nimage.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}, {'number': 10, 'created': '2020-08-05 15:42:20.000000000', 'files': ['bindep.txt', 'glance/tests/unit/common/test_format_inspector.py', 'glance/common/format_inspector.py', 'tools/test_format_inspector.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6a2a6283ae01c5195beb949a8a7b607199f24396', 'message': 'Stream-friendly disk format inspection module\n\nThis adds a module called common.format_inspector which contains\nan implementation of virtual disk format and size detection that\nworks in a streamable fashion. This can be injected into a data\nprocessing loop and gracefully detect both format type as well as\nvirtual_size of the disk format, for those that are supported.\n\nCurrently excluded from the list of formats that glance claims to\nsupport are iso (which can be treated like raw) and ploop (which\nnot even qemu-img seems to support).\n\nThis also adds a test_format_inspector.py executable into tools/,\nwhich we can use to validate the code manually on images in the\ncase where bugs report that this fails to work on some real-world\nimage.\n\nRelated to blueprint calculate-virtual-size\n\nChange-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649\n'}]",2,744205,6a2a6283ae01c5195beb949a8a7b607199f24396,31,5,10,4393,,,0,"Stream-friendly disk format inspection module

This adds a module called common.format_inspector which contains
an implementation of virtual disk format and size detection that
works in a streamable fashion. This can be injected into a data
processing loop and gracefully detect both format type as well as
virtual_size of the disk format, for those that are supported.

Currently excluded from the list of formats that glance claims to
support are iso (which can be treated like raw) and ploop (which
not even qemu-img seems to support).

This also adds a test_format_inspector.py executable into tools/,
which we can use to validate the code manually on images in the
case where bugs report that this fails to work on some real-world
image.

Related to blueprint calculate-virtual-size

Change-Id: Ica9fc645229b0b19b913ce3f2e151f7b0c935649
",git fetch https://review.opendev.org/openstack/glance refs/changes/05/744205/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/format_inspector.py'],1,5334f16fd18a2ab53b72d69b6750355c41994969,bp/calculate-virtual-size,"# Copyright 2020 Red Hat, Inc # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" This is a python implementation of virtual disk format inspection routines gathered from various public specification documents, as well as qemu disk driver code. It attempts to store and parse the minimum amount of data required, and in a streaming-friendly manner to collect metadata about complex-format images. """""" import struct from oslo_log import log as logging LOG = logging.getLogger(__name__) class FileInspector(object): """"""A stream-based disk image inspector. This base class works on raw images and is subclassed for more complex types. It is to be presented with the file to be examined one chunk at a time, during read processing and will only store as much data as necessary to determine required attributes of the file. """""" def __init__(self): self._total_count = 0 self._log = logging.getLogger(str(self)) def eat_chunk(self, chunk): """"""Call this to present chunks of the file to the inspector."""""" self._total_count += len(chunk) @property def format_match(self): """"""Returns True if the file appears to be the expected format."""""" return True @property def virtual_size(self): """"""Returns the virtual size of the disk image, or zero if unknown."""""" return self._total_count @property def actual_size(self): """"""Returns the total size of the file, usually smaller than virtual_size."""""" return self._total_count def __str__(self): """"""The string name of this file format."""""" return 'raw' @property def context_info(self): """"""Return info on amount of data held in memory for auditing. This is a dict of region:sizeinbytes items that the inspector uses to examine the file. """""" return {} class QcowInspector(FileInspector): """"""QEMU QCOW2 Format This should only require about 32 bytes of the beginning of the file to determine the virtual size. """""" def __init__(self): super(QcowInspector, self).__init__() self._header_buffer = b'' def eat_chunk(self, chunk): super(QcowInspector, self).eat_chunk(chunk) if len(self._header_buffer) < 32: self._header_buffer += chunk def _qcow_header_data(self): magic, version, bf_offset, bf_sz, cluster_bits, size = ( struct.unpack('>IIQIIQ', self._header_buffer[:32])) return magic, size @property def virtual_size(self): if len(self._header_buffer) < 32: return 0 magic, size = self._qcow_header_data() return size @property def format_match(self): if len(self._header_buffer) < 32: return False magic, size = self._qcow_header_data() return magic == 0x514649FB def __str__(self): return 'qcow2' @property def context_info(self): return {'qcowheader': len(self._header_buffer)} class VHDInspector(FileInspector): """"""Connectix/MS VPC VHD Format This should only require about 512 bytes of the beginning of the file to determine the virtual size. """""" def __init__(self): super(VHDInspector, self).__init__() self._header_buffer = b'' def eat_chunk(self, chunk): super(VHDInspector, self).eat_chunk(chunk) if len(self._header_buffer) < 512: self._header_buffer += chunk[:512] @property def format_match(self): return self._header_buffer.startswith(b'conectix') @property def virtual_size(self): if len(self._header_buffer) < 512: return 0 return struct.unpack('>Q', self._header_buffer[40:48])[0] def __str__(self): return 'vhd' @property def context_info(self): return {'header': len(self._header_buffer)} class VHDXInspector(FileInspector): """"""MS VHDX Format This requires some complex parsing of the stream. The first 256KiB of the image is stored to get the header and region information, and then we capture the first metadata region to read those records, find the location of the virtual size data and parse it. This needs to store the metadata region, which may consist of up to 2047 1MB entries at max. """""" METAREGION = '8B7CA206-4790-4B9A-B8FE-575F050F886E' VIRTUAL_DISK_SIZE= '2FA54224-CD1B-4876-B211-5DBED83BF4B8' def __init__(self): super(VHDXInspector, self).__init__() self._header_buffer = b'' self._metadata_buffer = b'' self._metadata_start = None self._metadata_end = None self._vds_offset = 0 def _collect_metadata(self, chunk): pass def _in_meta_region(self, chunk_len): read_start = self._total_count - chunk_len return (self._metadata_start and self._total_count > self._metadata_start and (not self._metadata_end or (read_start < self._metadata_end))) def eat_chunk(self, chunk): super(VHDXInspector, self).eat_chunk(chunk) if len(self._header_buffer) < (256 * 1024): # We need to store at least 256k for the image header self._header_buffer += chunk elif self._metadata_start is None: # We must have enough data to figure out the metadata location self._metadata_start = self._find_meta_region() self._log.debug('Found metadata region offset at %x' % ( self._metadata_start)) if self._in_meta_region(len(chunk)): # We're reading across the metadata region, so save this # in our buffer. Be accurate on the start, but not so # much on the end. We will start reading it before we # know how much we need self._log.debug('In meta at %x' % self._total_count) read_start = self._total_count - len(chunk) if self._metadata_start > read_start: # If this chunk includes the start of the region, # skip the leading part so we start aligned lead_gap = self._metadata_start - read_start else: lead_gap = 0 self._metadata_buffer += chunk[lead_gap:] offset, length = self._find_meta_entry_offset_length( self.VIRTUAL_DISK_SIZE) if offset: # We've read enough of the records to have found the # virtual disk size metadata item. Record its offset # and set our marker for when we can stop capturing # metadata self._vds_offset = offset self._log.debug('Found end of needed metadata: %x' % ( offset + length)) self._metadata_end = self._metadata_start + offset + length @property def format_match(self): return self._header_buffer.startswith(b'vhdxfile') @staticmethod def _guid(buf): """"""Format a MSFT GUID from the 16-byte input buffer."""""" guid_format = 'IHHBBBBBBBB' return '%08X-%04X-%04X-%02X%02X-%02X%02X%02X%02X%02X%02X' % ( struct.unpack(guid_format, buf)) def _find_meta_region(self): # The region table starts at offset 192k in the header/file region_table_offset = 192 * 1024 # The region table entries start after a 16-byte table header region_entry_first = region_table_offset + 16 # Parse the region table header to find the number of regions regi, cksum, count, reserved = struct.unpack( '<IIII', self._header_buffer[region_table_offset:region_table_offset + 16]) if regi != 0x69676572: self._log.warning('Region signature not found at %x' % ( region_table_offset)) return 0 # Process the regions until we find the metadata one; grab the # offset and return self._log.debug('Region entry first is %x' % region_entry_first) self._log.debug('Region entries %i' % count) meta_offset = 0 for i in range(0, count): entry_start = region_entry_first + (i * 32) entry_end = entry_start + 32 entry = self._header_buffer[entry_start:entry_end] self._log.debug('Entry offset is %x' % entry_start) # GUID is the first 16 bytes guid = self._guid(entry[:16]) if guid == self.METAREGION: # This entry is the metadata region entry meta_offset, meta_len, meta_req = struct.unpack( 'QII', entry[16:]) self._log.debug('Meta entry %i specifies offset: %x' % ( i, meta_offset)) return meta_offset self._log.warning('Did not find metadata region') return None def _find_meta_entry_offset_length(self, desired_guid): if len(self._metadata_buffer) < 32: # Not enough data yet for full header return 0, 0 # Make sure we found the metadata region by checking the signature sig, reserved, count = struct.unpack('8sHH', self._metadata_buffer[:12]) if sig != 'metadata': self._log.warning('Invalid signature for metadata region: %r' % ( sig)) return 0, 0 entries_size = 32 + (count * 32) if len(self._metadata_buffer) < entries_size: # Not enough data yet for all metadata entries. This is not # strictly necessary as we could process whatever we have until # we find the V-D-S one, but the actual size payload will come # after the last entry, so there is no point in doing the work # until we find all of them. return 0, 0 for i in range(0, count): entry_offset = 32 + (i * 32) guid = self._guid(self._metadata_buffer[entry_offset: entry_offset + 16]) if guid == desired_guid: # Found the item we are looking for by id. # Return the size and offset item_offset, item_length, foo, bar = struct.unpack( 'IIII', self._metadata_buffer[entry_offset + 16:entry_offset + 32]) return item_offset, item_length self._log.warning('Did not find guid %s' % desired_guid) return 0, 0 @property def virtual_size(self): # Until we have found the offset and have enough metadata buffered # to read it, return ""unknown"" if self._vds_offset == 0: return 0 if self._vds_offset + 8 > len(self._metadata_buffer): return 0 self._log.debug('Meta buffer is %i' % len(self._metadata_buffer)) self._log.debug('Offset of VDS is %i->%i' % (self._vds_offset, self._vds_offset+8)) size, = struct.unpack('Q', self._metadata_buffer[self._vds_offset: self._vds_offset + 8]) return size def __str__(self): return 'vhdx' @property def context_info(self): return {'headerbuffer': len(self._header_buffer), 'metabuffer': len(self._metadata_buffer)} class VMDKInspector(FileInspector): """"""vmware VMDK format (monolithicSparse variant only) This needs to store the 512 byte header and the descriptor region which should be just after that. The descriptor region is some variable number of 512 byte sectors, but is just text defining the layout of the disk. """""" def __init__(self): super(VMDKInspector, self).__init__() self._header_buffer = b'' self._header_needed_length = 512 def eat_chunk(self, chunk): super(VMDKInspector, self).eat_chunk(chunk) if len(self._header_buffer) < self._header_needed_length: self._header_buffer += chunk @property def format_match(self): return self._header_buffer.startswith(b'KDMV') @property def virtual_size(self): if len(self._header_buffer) < 44: # Not enough data yet return 0 sig, ver, flags, sectors, grain, desc_sec, desc_num = struct.unpack( '<IIIQQQQ', self._header_buffer[:44]) if sig != 0x564d444b: self._log.warning('Signature KDMV not found: %x' % sig) return 0 if ver not in (1, 2, 3): self._log.warning('Unsupported version %i' % ver) return 0 descriptor_start = desc_sec * 512 descriptor_end = descriptor_start + (desc_num * 512) if (self._header_needed_length == 512 or len(self._header_buffer) < self._header_needed_length): self._header_needed_length = descriptor_end return 0 descriptor = self._header_buffer[descriptor_start:descriptor_end] type_idx = descriptor.index('createType=""') + len('createType=""') type_end = descriptor.find('""', type_idx) vmdktype = descriptor[type_idx:type_end] if vmdktype != 'monolithicSparse': self._log.warning('Unsupported VMDK format %s' % vmdktype) return 0 return sectors * 512 @property def context_info(self): return {'header': len(self._header_buffer)} def __str__(self): return 'vmdk' class VDIInspector(FileInspector): """"""VirtualBox VDI format This only needs to store the first 512 bytes of the image. """""" def __init__(self): super(VDIInspector, self).__init__() self._header_buffer = b'' def eat_chunk(self, chunk): super(VDIInspector, self).eat_chunk(chunk) if len(self._header_buffer) < 512: self._header_buffer += chunk @property def format_match(self): if len(self._header_buffer) < 0x40: return False signature, = struct.unpack('<I', self._header_buffer[0x40:0x44]) return signature == 0xbeda107f @property def virtual_size(self): if len(self._header_buffer) < 0x200: return 0 size, sector = struct.unpack('<QI', self._header_buffer[0x170:0x17C]) self._log.debug('Size: %i (%x) Sector %i' % (size, size, sector)) return size def __str__(self): return 'vdi' @property def context_info(self): return {'header': len(self._header_buffer)} class InfoWrapper(object): """"""A file-like object that wraps another and updates a format inspector. This passes chunks to the format inspector while reading. If the inspector fails, it logs the error and stops calling it, but continues proxying data from the source to its user. """""" def __init__(self, source, fmt): self._source = source self._format = fmt self._error = False def __iter__(self): return self def __next__(self): try: chunk = next(self._source) if not self._error: self._format.eat_chunk(chunk) except StopIteration: raise except Exception as e: # Absolutely do not allow the format inspector to break # our streaming of the image. If we failed, just stop # trying, log and keep going. LOG.error('Format inspector failed, aborting: %s' % e) self._error = True finally: return chunk def read(self, size): chunk = self._source.read(size) if not self._error: try: self._format.eat_chunk(chunk) except Exception as e: # Absolutely do not allow the format inspector to break # our streaming of the image. If we failed, just stop # trying, log and keep going. LOG.error('Format inspector failed, aborting: %s' % e) self._error = True return chunk ### ### Manual testing routines below this line. Probably best to ### separate this out into a separate tool file if we want to ### keep it. ### def get_size_from_qemu_img(filename): """"""Utility method to call qemu-img and get the virtual size for testing."""""" import re import subprocess output = subprocess.check_output('qemu-img info %s' % filename, shell=True) for line in output.split('\n'): m = re.search('^virtual size: .* .([0-9]+) bytes', line.strip()) if m: return int(m.group(1)) print(output) raise Exception('Could not find virtual size with qemu-img') if __name__ == '__main__': import argparse import sys from oslo_utils import units formats = { 'raw': FileInspector, 'qcow': QcowInspector, 'vhd': VHDInspector, 'vhdx': VHDXInspector, 'vmdk': VMDKInspector, 'vdi': VDIInspector, } parser = argparse.ArgumentParser() parser.add_argument('-d', '--debug', action='store_true') parser.add_argument('-f', '--format', default='raw', help='Format (%s)' % ','.join(sorted(formats.keys()))) parser.add_argument('-b', '--block-size', default=65536, type=int, help='Block read size') parser.add_argument('--context-limit', default=(1 * 1024), type=int, help='Maximum memory footprint (KiB)') parser.add_argument('-i', '--input', default=None, help='Input file. Defaults to stdin') parser.add_argument('-v', '--verify', action='store_true', help=('Verify our number with qemu-img ' '(requires --input)')) args = parser.parse_args() if args.debug: logging.basicConfig(level=logging.DEBUG) else: logging.basicConfig(level=logging.INFO) fmt = formats[args.format]() if args.input: input_stream = open(args.input, 'rb') else: input_stream = sys.stdin stream = InfoWrapper(input_stream, fmt) count = 0 found_size = False while True: chunk = stream.read(int(args.block_size)) #sys.stdout.write(chunk) if not chunk: break count += len(chunk) if args.format != 'raw' and not found_size and fmt.virtual_size != 0: # Print the point at which we've seen enough of the file to # know what the virtual size is. This is almost always less # than the raw_size print('Determined virtual size at byte %i' % count) found_size = True if fmt.format_match: print('Source was %s file, virtual size %i MiB (%i bytes)' % ( fmt, fmt.virtual_size / units.Mi, fmt.virtual_size)) else: print('*** Format inspector did not detect file as %s' % args.format) print('Raw size %i MiB (%i bytes)' % (fmt.actual_size / units.Mi, fmt.actual_size)) print('Required context: %s' % str(fmt.context_info)) # To make sure we're not storing the whole image, complain if the # format inspector stored more than context_limit data if sum(fmt.context_info.values()) > args.context_limit * 1024: print('*** ERROR: Memory footprint exceeded!') if args.verify and args.input: size = get_size_from_qemu_img(args.input) if size != fmt.virtual_size: print('*** QEMU disagrees with our size of %i: %i' % ( fmt.virtual_size, size)) else: print('Confirmed size with qemu-img') ",,587,0
openstack%2Fkolla~master~If171102e665dba627bac30ae81deee2d3ab10595,openstack/kolla,master,If171102e665dba627bac30ae81deee2d3ab10595,Add a way to disable build summary,MERGED,2020-07-07 12:44:00.000000000,2020-08-07 08:31:07.000000000,2020-08-07 08:29:11.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-07-07 12:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/87fed1df6abc544f190917ed78307bde7c1f233b', 'message': 'Add a way to disable build summary\n\nList what was built/failed/skipped is quite long and not always\ninteresting. Add a way to disable it.\n\nChange-Id: If171102e665dba627bac30ae81deee2d3ab10595\n'}, {'number': 2, 'created': '2020-07-31 10:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84fc26d2ded2ea14fc4b0294cd19f3bdacb236a5', 'message': 'Add a way to disable build summary\n\nList what was built/failed/skipped is quite long and not always\ninteresting. Add a way to disable it.\n\nChange-Id: If171102e665dba627bac30ae81deee2d3ab10595\n'}, {'number': 3, 'created': '2020-08-03 10:09:18.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/new-option-summary-3acc4e62a0c7ac40.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e5844a6ad951536605f4c5eff32b71ee2736615', 'message': 'Add a way to disable build summary\n\nList what was built/failed/skipped is quite long and not always\ninteresting. Add a way to disable it.\n\nChange-Id: If171102e665dba627bac30ae81deee2d3ab10595\n'}]",2,739732,5e5844a6ad951536605f4c5eff32b71ee2736615,21,8,3,24072,,,0,"Add a way to disable build summary

List what was built/failed/skipped is quite long and not always
interesting. Add a way to disable it.

Change-Id: If171102e665dba627bac30ae81deee2d3ab10595
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/739732/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/common/config.py']",2,87fed1df6abc544f190917ed78307bde7c1f233b,," help='Enable images marked as unbuildable'), cfg.BoolOpt('summary', default=True, help='Show summary at the end of build')", help='Enable images marked as unbuildable'),5,2
openstack%2Fironic-python-agent~stable%2Fqueens~I6b689bd16dfe6fa849e876f056f1c5cfd1937764,openstack/ironic-python-agent,stable/queens,I6b689bd16dfe6fa849e876f056f1c5cfd1937764,Pin Ironic Tempest Plugin,MERGED,2020-08-05 18:33:31.000000000,2020-08-07 08:27:06.000000000,2020-08-07 08:27:06.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-05 18:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/95600c7165293f051245229fa4a6a0690181cf00', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n(cherry picked from commit c7b3d9f062f6ca23c8a394aa528d5097d3b6b9f4)\n""}, {'number': 2, 'created': '2020-08-05 19:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/40aefd0fcea6e148a4346fae7eae528bb117b818', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n(cherry picked from commit c7b3d9f062f6ca23c8a394aa528d5097d3b6b9f4)\n""}, {'number': 3, 'created': '2020-08-06 21:45:53.000000000', 'files': ['zuul.d/project.yaml', 'imagebuild/tinyipa/install-deps.sh', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7e009c1d87eca98976592197e4a58783140ac14f', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n(cherry picked from commit c7b3d9f062f6ca23c8a394aa528d5097d3b6b9f4)\n""}]",0,744969,7e009c1d87eca98976592197e4a58783140ac14f,14,4,3,11655,,,0,"Pin Ironic Tempest Plugin

Pin the ironic-tempest-plugin to an older version so
we don't run the net set of tests with wholedisk + partition
testing.

Also removes CoreOS jobs as CoreOS is EOL and no longer receiving
any updates.

And also signals to the user to try and manually install python-pip
as opposed to install the package from the package manager as
older mirrors have older versions at this point and we are
risking breaking things by automatically doing so. This should
fix test jobs on ubuntu-xenial as there is a conflict in the
repositories.

    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed

Change-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764
(cherry picked from commit c7b3d9f062f6ca23c8a394aa528d5097d3b6b9f4)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/69/744969/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'imagebuild/tinyipa/install-deps.sh', 'zuul.d/legacy-ironic-jobs.yaml']",3,95600c7165293f051245229fa4a6a0690181cf00,, - name: openstack/ironic-tempest-plugin override-checkout: 1.2.1, - openstack/ironic-tempest-plugin,6,9
openstack%2Fcharm-keystone-saml-mellon~master~Ib075ccc228f9ac82ecc0c06c637b846dd6cc5187,openstack/charm-keystone-saml-mellon,master,Ib075ccc228f9ac82ecc0c06c637b846dd6cc5187,Release sync for 20.08,MERGED,2020-07-27 19:53:44.000000000,2020-08-07 07:57:52.000000000,2020-08-07 07:57:52.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/affaa276b04230b3a540ecd727764dee72449480', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ib075ccc228f9ac82ecc0c06c637b846dd6cc5187\n'}, {'number': 2, 'created': '2020-08-06 23:10:28.000000000', 'files': ['rebuild', 'requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/5724eb8d12ed3df99f3a3ffbfe0fb8e809f79c86', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/378\nChange-Id: Ib075ccc228f9ac82ecc0c06c637b846dd6cc5187\n'}]",0,743358,5724eb8d12ed3df99f3a3ffbfe0fb8e809f79c86,25,7,2,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/378
Change-Id: Ib075ccc228f9ac82ecc0c06c637b846dd6cc5187
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/58/743358/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'requirements.txt', 'tox.ini']",3,affaa276b04230b3a540ecd727764dee72449480,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,8,1
openstack%2Fswift~master~If08bccf753490157f27c95b4038f3dd33d3d7f8c,openstack/swift,master,If08bccf753490157f27c95b4038f3dd33d3d7f8c,Address a sharder/replicator race,MERGED,2020-06-25 21:30:02.000000000,2020-08-07 07:49:53.000000000,2020-08-07 07:46:19.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 21:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/75b5aad4ccdaac8fa8f218b776f6d2e67c04ff3c', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nChange-Id: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\n""}, {'number': 2, 'created': '2020-06-26 04:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/046e970db6c624cf54dbbf888a35f1466dba6b2d', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nChange-Id: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\n""}, {'number': 3, 'created': '2020-07-08 05:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eab83c68b44368720e4a7c439cc3948e6a022cec', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nChange-Id: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\n""}, {'number': 4, 'created': '2020-07-13 21:57:32.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/36bd21488e2b1c2fce667412c05ca439c3a17cde', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nChange-Id: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\n""}]",9,738114,36bd21488e2b1c2fce667412c05ca439c3a17cde,29,3,4,15343,,,0,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Change-Id: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/738114/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,75b5aad4ccdaac8fa8f218b776f6d2e67c04ff3c,sharding-split-brain," delete_age = time.time() - self.reclaim_age if (own_shard_range.state == ShardRange.SHARDED and own_shard_range.deleted and own_shard_range.timestamp < delete_age and broker.empty()): broker.delete_db(Timestamp.now().internal) self.logger.debug('Deleted shard container %s (%s)', broker.db_file, quote(broker.path)) "," delete_age = time.time() - self.reclaim_age if (own_shard_range.state == ShardRange.SHARDED and own_shard_range.deleted and own_shard_range.timestamp < delete_age and broker.empty()): broker.delete_db(Timestamp.now().internal) self.logger.debug('Deleted shard container %s (%s)', broker.db_file, quote(broker.path))",10,8
openstack%2Fironic~master~I0301d1d1d52487c9bb0eab96eea6fe47dbc54c90,openstack/ironic,master,I0301d1d1d52487c9bb0eab96eea6fe47dbc54c90,agent_client: support custom TLS certificates,MERGED,2020-08-04 14:46:43.000000000,2020-08-07 07:46:25.000000000,2020-08-07 07:37:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-04 14:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33549badd718fa1ff069c4464b952f7b923343b1', 'message': ""agent_client: support custom TLS certficates\n\nAdds a new driver_info parameter agent_verify_ca that is passed\nto the request's verify parameter.\n\nStory: #2007214\nTask: #38461\nChange-Id: I0301d1d1d52487c9bb0eab96eea6fe47dbc54c90\n""}, {'number': 2, 'created': '2020-08-04 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fc01e37225831a17afb82b117029c18a64ef691', 'message': ""agent_client: support custom TLS certificates\n\nAdds a new driver_info parameter agent_verify_ca that is passed\nto the request's verify parameter.\n\nStory: #2007214\nTask: #38461\nChange-Id: I0301d1d1d52487c9bb0eab96eea6fe47dbc54c90\n""}, {'number': 3, 'created': '2020-08-06 13:00:42.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/agent-verify-ca-ddbfbb0f27198d82.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py', 'ironic/tests/unit/drivers/test_generic.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/adcb05a84e4b57ff81287b06e524411525a0c8c2', 'message': ""agent_client: support custom TLS certificates\n\nAdds a new driver_info parameter agent_verify_ca that is passed\nto the request's verify parameter.\n\nStory: #2007214\nTask: #38461\nChange-Id: I0301d1d1d52487c9bb0eab96eea6fe47dbc54c90\n""}]",0,744731,adcb05a84e4b57ff81287b06e524411525a0c8c2,24,7,3,10239,,,0,"agent_client: support custom TLS certificates

Adds a new driver_info parameter agent_verify_ca that is passed
to the request's verify parameter.

Story: #2007214
Task: #38461
Change-Id: I0301d1d1d52487c9bb0eab96eea6fe47dbc54c90
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/744731/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py', 'releasenotes/notes/agent-verify-ca-ddbfbb0f27198d82.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",4,33549badd718fa1ff069c4464b952f7b923343b1,story/2007214," self.driver_info = {} 'instance_info': self.instance_info, 'driver_info': self.driver_info, timeout=60, verify=True) timeout=60, verify=True) timeout=60, verify=True) timeout=60, verify=True) timeout=60, verify=True) def test__command_verify(self): response_data = {'status': 'ok'} self.client.session.post.return_value = MockResponse(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.node.driver_info['agent_verify_ca'] = '/path/to/agent.crt' url = self.client._get_command_url(self.node) body = self.client._get_command_body(method, params) response = self.client._command(self.node, method, params) self.assertEqual(response, response_data) self.client.session.post.assert_called_once_with( url, data=body, params={'wait': 'false'}, timeout=60, verify='/path/to/agent.crt') timeout=60, verify=True) self.client.session.get.assert_called_with(url, timeout=60, verify=True) timeout=CONF.agent.command_timeout, verify=True) def test_get_commands_status_verify(self): self.node.driver_info['agent_verify_ca'] = '/path/to/agent.crt' with mock.patch.object(self.client.session, 'get', autospec=True) as mock_get: res = mock.MagicMock(spec_set=['json']) res.json.return_value = {'commands': []} mock_get.return_value = res self.assertEqual([], self.client.get_commands_status(self.node)) agent_url = self.node.driver_internal_info.get('agent_url') mock_get.assert_called_once_with( '%(agent_url)s/%(api_version)s/commands' % { 'agent_url': agent_url, 'api_version': CONF.agent.agent_api_version}, timeout=CONF.agent.command_timeout, verify='/path/to/agent.crt') timeout=60, verify=True) timeout=60, verify=True) timeout=60, verify=True)"," 'instance_info': self.instance_info timeout=60) timeout=60) timeout=60) timeout=60) timeout=60) timeout=60) self.client.session.get.assert_called_with(url, timeout=60) timeout=CONF.agent.command_timeout) timeout=60) timeout=60) timeout=60)",82,13
openstack%2Ftripleo-ansible~master~I575d67521719ae3908777284b4225eff5169ae6b,openstack/tripleo-ansible,master,I575d67521719ae3908777284b4225eff5169ae6b,Set the OpenFlow protocol while upgrading OVS from 2.11,MERGED,2020-08-05 14:23:53.000000000,2020-08-07 07:15:36.000000000,2020-08-06 16:50:27.000000000,"[{'_account_id': 1131}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 8655}, {'_account_id': 13995}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24791}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-05 14:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7eefa3d54427eff97bdfd7e4f6782123ba65d07c', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the upgrade we should set the OpenFlow protocols on\nbr-int.\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}, {'number': 2, 'created': '2020-08-05 14:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc07921de380b8ea9f837174e58a0a6bb5f8e8ac', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}, {'number': 3, 'created': '2020-08-06 08:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8887d683022be38209abcd028fc19651aeda1d23', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}, {'number': 4, 'created': '2020-08-06 08:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96f6db414c3d022629794d6fd6c4f4c546f1d0b7', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}, {'number': 5, 'created': '2020-08-06 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b2061607eb3d69540eb29ff138fce2d25318fa9', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}, {'number': 6, 'created': '2020-08-06 10:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44b9b2834ee3601af97605448f02f42eea9d1a03', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}, {'number': 7, 'created': '2020-08-06 11:51:03.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29993d43b3a884fab35284fc2c56515400036e1f', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n'}]",12,744910,29993d43b3a884fab35284fc2c56515400036e1f,31,12,7,24791,,,0,"Set the OpenFlow protocol while upgrading OVS from 2.11

We noticed a bug in OSP that OVN controller (2.13) was unable to
contact to OVS bridge (2.11).
Before running the update we should set the OpenFlow protocols on
integration bridge (br-int).

More about the issue [1].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811

Change-Id: I575d67521719ae3908777284b4225eff5169ae6b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/744910/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,7eefa3d54427eff97bdfd7e4f6782123ba65d07c,test_tripleo_ovs_upgrade,"def set_openflow_version_on_bridges(module, bridges=['br-int']): for brige in bridges: cmd = ['ovs-vsctl', 'set', 'bridge', bridge, 'protocols=OpenFlow13,OpenFlow15'] _, output, _ = module.run_command(cmd, check_rc=True) # NOTE(mjozefcz): Workaround for 1863024. if ""2.11"" in ovs_current_version: set_openflow_version_on_bridges(module)",,10,0
openstack%2Ftacker-specs~master~I3dff9e5ce91db62ab8f5344aba5d9e78b6bf9ce3,openstack/tacker-specs,master,I3dff9e5ce91db62ab8f5344aba5d9e78b6bf9ce3,"Add ""deleted"" column in vnf_lcm_subscriptions",MERGED,2020-08-06 02:07:12.000000000,2020-08-07 07:03:14.000000000,2020-08-07 07:00:49.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27180}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-06 02:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/72dc0185f696614389affb0f5122b65715bab58e', 'message': 'Add ""deleted"" column in vnf_lcm_subscriptions\n\nadd description about ""deleted"" column to manage deleting records\nfor vnf_lcm_subscriptions table.\n\nChange-Id: I3dff9e5ce91db62ab8f5344aba5d9e78b6bf9ce3\n'}, {'number': 2, 'created': '2020-08-06 02:09:59.000000000', 'files': ['specs/victoria/support-notification-api-based-on-etsi-nfv-sol.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8996911c0f5d5e1dfe726da5c7102c502552ee2c', 'message': 'Add ""deleted"" column in vnf_lcm_subscriptions\n\nadd description about ""deleted"" column to manage deleting records\nfor vnf_lcm_subscriptions table.\n\nChange-Id: I3dff9e5ce91db62ab8f5344aba5d9e78b6bf9ce3\n'}]",0,745051,8996911c0f5d5e1dfe726da5c7102c502552ee2c,11,6,2,27180,,,0,"Add ""deleted"" column in vnf_lcm_subscriptions

add description about ""deleted"" column to manage deleting records
for vnf_lcm_subscriptions table.

Change-Id: I3dff9e5ce91db62ab8f5344aba5d9e78b6bf9ce3
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/51/745051/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-notification-api-based-on-etsi-nfv-sol.rst'],1,72dc0185f696614389affb0f5122b65715bab58e,bp/support-etsi-nfv-specs, deleted deleted tyntint(1),,1,0
openstack%2Fpython-octaviaclient~master~I1e3e60d5d326ff37a1ba53abd767c893748c2774,openstack/python-octaviaclient,master,I1e3e60d5d326ff37a1ba53abd767c893748c2774,Add l7policy and l7rule to octavia quota,MERGED,2018-08-14 07:07:35.000000000,2020-08-07 06:57:12.000000000,2020-08-07 06:52:28.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 28329}, {'_account_id': 29244}]","[{'number': 1, 'created': '2018-08-14 07:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/315bc8e5c6d771f1c08c8a48b790cd0607160836', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.openstack.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 2, 'created': '2018-08-14 07:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4d977dd81b9a2b4f97aa28726dd80be976b9f132', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.openstack.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 3, 'created': '2018-08-28 11:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/a04973d4aa60d96be0d2d9eacf552e6bf4db4091', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.openstack.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 4, 'created': '2018-09-11 06:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/15fd9096f95f7d3e71c1a8578fdd2f9e6fa3cdc0', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.openstack.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 5, 'created': '2019-06-12 17:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/5d7a57181d94be80274cbbe96f8fa4040cce0fe1', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nhttps://review.opendev.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 6, 'created': '2019-07-31 23:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/157b5c6995898dabf9d836a04d81f58151df5861', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nhttps://review.opendev.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 7, 'created': '2019-08-01 00:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/54c19694672e00e43b3c81385a9338131f89ec9e', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nhttps://review.opendev.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 8, 'created': '2019-08-01 00:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/a5e31082390d0188d63c279de1f4b3e8d4fbb848', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.opendev.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 9, 'created': '2020-01-13 11:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/8ca03f8b9fb5b0dd6608a02e287a4aca99fcedd9', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.opendev.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}, {'number': 10, 'created': '2020-05-12 06:08:02.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'releasenotes/notes/add-l7policy-and-l7rule-quota-support-73098a090b252901.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/674541e583fc344e495a7ad230d45c0c0d474c42', 'message': 'Add l7policy and l7rule to octavia quota\n\nStory: 2003382\nTask: 24457\n\nDepends-On: https://review.opendev.org/#/c/590620/\nChange-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774\n'}]",0,591568,674541e583fc344e495a7ad230d45c0c0d474c42,33,7,10,28329,,,0,"Add l7policy and l7rule to octavia quota

Story: 2003382
Task: 24457

Depends-On: https://review.opendev.org/#/c/590620/
Change-Id: I1e3e60d5d326ff37a1ba53abd767c893748c2774
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/68/591568/10 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/osc/v2/constants.py']",4,315bc8e5c6d771f1c08c8a48b790cd0607160836,l7_quota," 'l7policy', 'l7rule', 'l7policy', 'l7rule',",,35,6
openstack%2Fcharm-percona-cluster~master~Iee0aa8b1ae0f364d01d30a61381af222a264b090,openstack/charm-percona-cluster,master,Iee0aa8b1ae0f364d01d30a61381af222a264b090,Guarantee executable OCF mysql_monitor file,MERGED,2020-08-06 18:52:37.000000000,2020-08-07 06:53:32.000000000,2020-08-07 06:53:32.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 18:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/1fecbae4de5088c60248db66fea3a487c3727a8e', 'message': 'Guarantee executable OCF mysql_monitor file\n\nChange-Id: Iee0aa8b1ae0f364d01d30a61381af222a264b090\n'}, {'number': 2, 'created': '2020-08-07 06:22:24.000000000', 'files': ['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/7eddd6074d83b61e28c4fd325cde32e919331243', 'message': 'Guarantee executable OCF mysql_monitor file\n\nCloses-Bug: #1890470\nChange-Id: Iee0aa8b1ae0f364d01d30a61381af222a264b090\n'}]",0,745202,7eddd6074d83b61e28c4fd325cde32e919331243,12,5,2,20805,,,0,"Guarantee executable OCF mysql_monitor file

Closes-Bug: #1890470
Change-Id: Iee0aa8b1ae0f364d01d30a61381af222a264b090
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/02/745202/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py']",3,1fecbae4de5088c60248db66fea3a487c3727a8e,bug/1890470," # Always set to executable os.chmod(dest_file, 0o755)",,7,1
openstack%2Fcinder~stable%2Ftrain~I98dbc1f843a99405f12b6b9d1d189e27f5cdce6c,openstack/cinder,stable/train,I98dbc1f843a99405f12b6b9d1d189e27f5cdce6c,Fix volume migration fails in the same ceph RBD pool,MERGED,2020-04-30 07:44:39.000000000,2020-08-07 06:31:08.000000000,2020-08-07 06:26:30.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22076}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30555}]","[{'number': 1, 'created': '2020-04-30 07:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bad801c9917759c3fc4e353b121b91930040194', 'message': 'Fix volume migration fails in the same ceph RBD pool\n\nFor the same ceph RBD pool, volume migration only needs to update\nvolume’s host value to destination host.\nIn this case, we can migrate volume in available or in-use status.\n\nChange-Id: I01039b7651a354761d034a9118b55b96cf32445e\nCloses-Bug: #1871524\n(cherry picked from commit ea5a9c35ea0fe5456cc002730cb72cd3bfca218b)\n\nFix nits from RBD volume migration changes\n\nThis addresses some minor issues in\nI01039b7651a354761d034a9118b55b96cf32445e\n\nChange-Id: I98dbc1f843a99405f12b6b9d1d189e27f5cdce6c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 8819a1d6b4c5aa48f73beb344764becf511bf2e8)\n'}, {'number': 2, 'created': '2020-05-06 01:55:01.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1871524-5f6df9a61bf6b775.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a11460f36de9a86abc994c738cd918de4933245c', 'message': 'Fix volume migration fails in the same ceph RBD pool\n\nFor the same ceph RBD pool, volume migration only needs to update\nvolume’s host value to destination host.\nIn this case, we can migrate volume in available or in-use status.\n\nChange-Id: I01039b7651a354761d034a9118b55b96cf32445e\nCloses-Bug: #1871524\n(cherry picked from commit ea5a9c35ea0fe5456cc002730cb72cd3bfca218b)\n\nFix nits from RBD volume migration changes\n\nThis addresses some minor issues in\nI01039b7651a354761d034a9118b55b96cf32445e\n\nChange-Id: I98dbc1f843a99405f12b6b9d1d189e27f5cdce6c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 8819a1d6b4c5aa48f73beb344764becf511bf2e8)\n(cherry picked from commit d3b1d5c4f08de760f29c257dc1e84524d3ca3948)\n'}]",0,724599,a11460f36de9a86abc994c738cd918de4933245c,49,20,2,22997,,,0,"Fix volume migration fails in the same ceph RBD pool

For the same ceph RBD pool, volume migration only needs to update
volume’s host value to destination host.
In this case, we can migrate volume in available or in-use status.

Change-Id: I01039b7651a354761d034a9118b55b96cf32445e
Closes-Bug: #1871524
(cherry picked from commit ea5a9c35ea0fe5456cc002730cb72cd3bfca218b)

Fix nits from RBD volume migration changes

This addresses some minor issues in
I01039b7651a354761d034a9118b55b96cf32445e

Change-Id: I98dbc1f843a99405f12b6b9d1d189e27f5cdce6c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 8819a1d6b4c5aa48f73beb344764becf511bf2e8)
(cherry picked from commit d3b1d5c4f08de760f29c257dc1e84524d3ca3948)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/724599/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1871524-5f6df9a61bf6b775.yaml']",3,9bad801c9917759c3fc4e353b121b91930040194,cinder-rbd-fix-train,--- fixes: - | Fix volume migration fails in the same ceph RBD pool. `Bug 1871524 <https://bugs.launchpad.net/cinder/+bug/1871524>`__. ,,55,6
openstack%2Fcinder~master~I5319bdaa8f7e468300729dbda358ed0329dc19ad,openstack/cinder,master,I5319bdaa8f7e468300729dbda358ed0329dc19ad,Fix leave volume mapped on attach failure,MERGED,2020-05-27 16:09:55.000000000,2020-08-07 06:30:23.000000000,2020-08-07 06:26:33.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-05-27 16:09:55.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/fix-leave-mapped-volume-ef0bd683d415f7b1.yaml', 'cinder/tests/unit/volume/test_volume_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/669aee29450be06632e31b5f1f9ebba90e522a4c', 'message': 'Fix leave volume mapped on attach failure\n\nIf we fail to do the local attach after we have mapped a volume during\ngeneric cinder offline migration and generic revert to snapshot we end\nup leaving the volume mapped to the host.\n\nThis is because the call to _connect_device is not included in the\ntry...except clause we have to remove the mapping as well as the fact\nthat we are always trying to do the local detach when we clean up.\n\nCloses-Bug: #1880971\nChange-Id: I5319bdaa8f7e468300729dbda358ed0329dc19ad\n'}]",0,731260,669aee29450be06632e31b5f1f9ebba90e522a4c,36,30,1,9535,,,0,"Fix leave volume mapped on attach failure

If we fail to do the local attach after we have mapped a volume during
generic cinder offline migration and generic revert to snapshot we end
up leaving the volume mapped to the host.

This is because the call to _connect_device is not included in the
try...except clause we have to remove the mapping as well as the fact
that we are always trying to do the local detach when we clean up.

Closes-Bug: #1880971
Change-Id: I5319bdaa8f7e468300729dbda358ed0329dc19ad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/731260/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/fix-leave-mapped-volume-ef0bd683d415f7b1.yaml', 'cinder/tests/unit/volume/test_volume_manager.py']",3,669aee29450be06632e31b5f1f9ebba90e522a4c,leftover-devices,"from cinder.tests.unit import fake_volume @mock.patch('cinder.volume.rpcapi.VolumeAPI') def test_attach_volume_local(self, mock_api): manager = vol_manager.VolumeManager() mock_initialize = self.mock_object(manager, 'initialize_connection') mock_connect = self.mock_object(manager, '_connect_device') ctxt = mock.sentinel.context vol = fake_volume.fake_volume_obj(ctxt) result = manager._attach_volume(ctxt, vol, mock.sentinel.properties, remote=False) mock_api.assert_not_called() mock_initialize.assert_called_once_with(ctxt, vol, mock.sentinel.properties) mock_connect.assert_called_once_with(mock_initialize.return_value) self.assertEqual(mock_connect.return_value, result) @mock.patch('cinder.volume.rpcapi.VolumeAPI') def test_attach_volume_remote(self, mock_api): mock_rpc = mock_api.return_value manager = vol_manager.VolumeManager() mock_connect = self.mock_object(manager, '_connect_device') mock_initialize = self.mock_object(manager, 'initialize_connection') ctxt = mock.sentinel.context vol = fake_volume.fake_volume_obj(ctxt) result = manager._attach_volume(ctxt, vol, mock.sentinel.properties, remote=True) mock_api.assert_called_once_with() mock_initialize.assert_not_called() mock_rpc.initialize_connection.assert_called_once_with( ctxt, vol, mock.sentinel.properties) mock_connect.assert_called_once_with( mock_rpc.initialize_connection.return_value) self.assertEqual(mock_connect.return_value, result) @mock.patch('cinder.volume.rpcapi.VolumeAPI') def test_attach_volume_fail_connect(self, mock_api): mock_initialize = mock_api.return_value.initialize_connection manager = vol_manager.VolumeManager() mock_detach = self.mock_object(manager, '_detach_volume') mock_connect = self.mock_object(manager, '_connect_device', side_effect=ValueError) ctxt = mock.sentinel.context vol = fake_volume.fake_volume_obj(ctxt) self.assertRaises(ValueError, manager._attach_volume, ctxt, vol, mock.sentinel.properties, mock.sentinel.remote) mock_initialize.assert_called_once_with(ctxt, vol, mock.sentinel.properties) mock_connect.assert_called_once_with(mock_initialize.return_value) mock_detach.assert_called_once_with( ctxt, None, vol, mock.sentinel.properties, force=True, remote=mock.sentinel.remote) @mock.patch('cinder.utils.brick_attach_volume_encryptor') @mock.patch('cinder.volume.volume_types.is_encrypted') @mock.patch('cinder.volume.rpcapi.VolumeAPI') def test_attach_volume_fail_decrypt(self, mock_api, mock_is_encrypted, mock_attach_encryptor): mock_initialize = mock_api.return_value.initialize_connection manager = vol_manager.VolumeManager() mock_detach = self.mock_object(manager, '_detach_volume') mock_connect = self.mock_object(manager, '_connect_device') mock_db = self.mock_object(manager.db, 'volume_encryption_metadata_get') mock_attach_encryptor.side_effect = ValueError ctxt = mock.Mock() vol = fake_volume.fake_volume_obj(ctxt) self.assertRaises(ValueError, manager._attach_volume, ctxt, vol, mock.sentinel.properties, mock.sentinel.remote, attach_encryptor=True) mock_initialize.assert_called_once_with(ctxt, vol, mock.sentinel.properties) mock_connect.assert_called_once_with(mock_initialize.return_value) mock_is_encrypted.assert_called_once_with(ctxt, vol.volume_type_id) mock_db.assert_called_once_with(ctxt.elevated.return_value, vol.id) mock_attach_encryptor.assert_called_once_with( ctxt, mock_connect.return_value, mock_db.return_value) mock_detach.assert_called_once_with( ctxt, mock_connect.return_value, vol, mock.sentinel.properties, force=True, remote=mock.sentinel.remote)",,119,12
openstack%2Fneutron~master~I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd,openstack/neutron,master,I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd,Specify C shared library in Pyroute2 namespace context,MERGED,2020-04-23 09:46:15.000000000,2020-08-07 06:30:09.000000000,2020-08-07 06:26:21.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-23 09:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84fdceb8ee94be8f05a572c00ef9eb54625ac2b9', 'message': 'Specify C shared library in Pyroute2 namespace context\n\nSince [1], it\'s possible to specify the shared library to be used\nwhen creating a Pyroute2 namespace context.\n\nAs commented in [2], ""privsep"" library makes use of eventlet to\nimplement multitasking. If the method executed returns the GIL,\nnothing guarantees that the ""eventlet"" executor will return it\nagain to this task. This could lead to timeouts during the\nexecution of those methods.\n\nFrom https://docs.python.org/3.6/library/ctypes.html#ctypes.PyDLL:\n  ""Instances of this class behave like CDLL instances, except that\n   the Python GIL is not released during the function call, and\n   after the function execution the Python error flag is checked.""\n\n[1]https://github.com/svinota/pyroute2/issues/702\n[2]https://review.opendev.org/#/c/717017/\n\nChange-Id: I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd\nRelated-Bug: #1870352\n'}, {'number': 2, 'created': '2020-07-28 08:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/581e75a0e7654c01f99aa0064bd09fe2fe7c0245', 'message': 'Specify C shared library in Pyroute2 namespace context\n\nSince [1], it\'s possible to specify the shared library to be used\nwhen creating a Pyroute2 namespace context.\n\nAs commented in [2], ""privsep"" library makes use of eventlet to\nimplement multitasking. If the method executed returns the GIL,\nnothing guarantees that the ""eventlet"" executor will return it\nagain to this task. This could lead to timeouts during the\nexecution of those methods.\n\nFrom https://docs.python.org/3.6/library/ctypes.html#ctypes.PyDLL:\n  ""Instances of this class behave like CDLL instances, except that\n   the Python GIL is not released during the function call, and\n   after the function execution the Python error flag is checked.""\n\n[1]https://github.com/svinota/pyroute2/issues/702\n[2]https://review.opendev.org/#/c/717017/\n\nChange-Id: I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd\nRelated-Bug: #1870352\n'}, {'number': 3, 'created': '2020-07-28 10:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98f93c1befc24cc1297a47f38ff91a7e91b5698b', 'message': 'Specify C shared library in Pyroute2 namespace context\n\nSince [1], it\'s possible to specify the shared library to be used\nwhen creating a Pyroute2 namespace context.\n\nAs commented in [2], ""privsep"" library makes use of eventlet to\nimplement multitasking. If the method executed returns the GIL,\nnothing guarantees that the ""eventlet"" executor will return it\nagain to this task. This could lead to timeouts during the\nexecution of those methods.\n\nFrom https://docs.python.org/3.6/library/ctypes.html#ctypes.PyDLL:\n  ""Instances of this class behave like CDLL instances, except that\n   the Python GIL is not released during the function call, and\n   after the function execution the Python error flag is checked.""\n\n[1]https://github.com/svinota/pyroute2/issues/702\n[2]https://review.opendev.org/#/c/717017/\n\nChange-Id: I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd\nRelated-Bug: #1870352\n'}, {'number': 4, 'created': '2020-07-29 12:29:02.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68e5e1b8fe87b0b4938236f8f8570d92ae044e20', 'message': 'Specify C shared library in Pyroute2 namespace context\n\nSince [1], it\'s possible to specify the shared library to be used\nwhen creating a Pyroute2 namespace context.\n\nAs commented in [2], ""privsep"" library makes use of eventlet to\nimplement multitasking. If the method executed returns the GIL,\nnothing guarantees that the ""eventlet"" executor will return it\nagain to this task. This could lead to timeouts during the\nexecution of those methods.\n\nFrom https://docs.python.org/3.6/library/ctypes.html#ctypes.PyDLL:\n  ""Instances of this class behave like CDLL instances, except that\n   the Python GIL is not released during the function call, and\n   after the function execution the Python error flag is checked.""\n\n[1]https://github.com/svinota/pyroute2/issues/702\n[2]https://review.opendev.org/#/c/717017/\n\nChange-Id: I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd\nRelated-Bug: #1870352\n'}]",2,722254,68e5e1b8fe87b0b4938236f8f8570d92ae044e20,46,11,4,16688,,,0,"Specify C shared library in Pyroute2 namespace context

Since [1], it's possible to specify the shared library to be used
when creating a Pyroute2 namespace context.

As commented in [2], ""privsep"" library makes use of eventlet to
implement multitasking. If the method executed returns the GIL,
nothing guarantees that the ""eventlet"" executor will return it
again to this task. This could lead to timeouts during the
execution of those methods.

From https://docs.python.org/3.6/library/ctypes.html#ctypes.PyDLL:
  ""Instances of this class behave like CDLL instances, except that
   the Python GIL is not released during the function call, and
   after the function execution the Python error flag is checked.""

[1]https://github.com/svinota/pyroute2/issues/702
[2]https://review.opendev.org/#/c/717017/

Change-Id: I6c9f9adba8b4433cc96704bb69dd4e0d4b154ebd
Related-Bug: #1870352
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/722254/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/privileged/agent/linux/ip_lib.py']",2,84fdceb8ee94be8f05a572c00ef9eb54625ac2b9,bug/1870352," return pyroute2.NetNS(namespace, flags=0, libc=_get_cdll())"," return pyroute2.NetNS(namespace, flags=0)",2,2
openstack%2Fcinder~stable%2Fstein~I3d6166c0fcdbb1d78b69ed4cc648542ac10342bd,openstack/cinder,stable/stein,I3d6166c0fcdbb1d78b69ed4cc648542ac10342bd,Fix DriverFilter to accept None volume type,MERGED,2020-05-13 12:09:22.000000000,2020-08-07 06:29:55.000000000,2020-08-07 06:26:27.000000000,"[{'_account_id': 7198}, {'_account_id': 9542}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-05-13 12:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/842bf9ad87c156860c9a66e502d4fc705e11a10f', 'message': 'Fix DriverFilter to accept None volume type\n\nChange Icfc6ba5f47c3a61b49cbec5110ef7df05eb47195 fixes CapacityFilter\nonly. We need to do it for DriverFilter too.\n\nWe need this patch onluy for releases before Train when we can create a\nvolume without volume type.\n\nChange-Id: I3d6166c0fcdbb1d78b69ed4cc648542ac10342bd\nRelated-Bug: 1619246\n'}, {'number': 2, 'created': '2020-05-13 12:10:24.000000000', 'files': ['cinder/scheduler/filters/driver_filter.py', 'cinder/tests/unit/scheduler/test_host_filters.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6727f5cbeafb02b24022e54fa6e53350d9fb956b', 'message': 'Fix DriverFilter to accept None volume type\n\nChange Icfc6ba5f47c3a61b49cbec5110ef7df05eb47195 fixes CapacityFilter\nonly. We need to do it for DriverFilter too.\n\nWe need this patch only for releases before Train when we can create a\nvolume without volume type.\n\nChange-Id: I3d6166c0fcdbb1d78b69ed4cc648542ac10342bd\nRelated-Bug: 1619246\n'}]",0,727740,6727f5cbeafb02b24022e54fa6e53350d9fb956b,20,12,2,1736,,,0,"Fix DriverFilter to accept None volume type

Change Icfc6ba5f47c3a61b49cbec5110ef7df05eb47195 fixes CapacityFilter
only. We need to do it for DriverFilter too.

We need this patch only for releases before Train when we can create a
volume without volume type.

Change-Id: I3d6166c0fcdbb1d78b69ed4cc648542ac10342bd
Related-Bug: 1619246
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/727740/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filters/driver_filter.py', 'cinder/tests/unit/scheduler/test_host_filters.py']",2,842bf9ad87c156860c9a66e502d4fc705e11a10f,bug/1619246,"@ddt.ddt class DriverFilterTestCase(BackendFiltersTestCase): @ddt.data({'volume_type': {}}, {'volume_type': None}) @ddt.unpack def test_passing_function(self, volume_type): filter_properties = {'volume_type': volume_type}",class DriverFilterTestCase(BackendFiltersTestCase): def test_passing_function(self): filter_properties = {'volume_type': {}},6,3
openstack%2Fglance~stable%2Fussuri~Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc,openstack/glance,stable/ussuri,Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc,Fix active image when all uploads fail,MERGED,2020-08-05 22:23:12.000000000,2020-08-07 06:29:45.000000000,2020-08-07 06:26:25.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 22:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d96cf4269ac816358c02cbb04cbb53539e877fa3', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nConflicts: Action wrapper does not exists, utilized image_repo\n           instead.\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n(cherry picked from commit e8b13ce1b44313a9604aa9cd8cdbf8bd4d1bda52)\n'}, {'number': 2, 'created': '2020-08-05 23:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eaefccff9329d58758f9abce0a9436df2c6d6069', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nConflicts: Action wrapper does not exists, utilized image_repo\n           instead.\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n(cherry picked from commit e8b13ce1b44313a9604aa9cd8cdbf8bd4d1bda52)\n'}, {'number': 3, 'created': '2020-08-06 20:12:06.000000000', 'files': ['glance/tests/unit/async_/test_async.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d63d72799766801414500934e06db8c88807fe59', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nConflicts: Action wrapper does not exists, utilized image_repo\n           instead.\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n(cherry picked from commit e8b13ce1b44313a9604aa9cd8cdbf8bd4d1bda52)\n'}]",1,744997,d63d72799766801414500934e06db8c88807fe59,14,3,3,5202,,,0,"Fix active image when all uploads fail

This fix is for the case where all stores fails and
the end result is active image with no image data.

Conflicts: Action wrapper does not exists, utilized image_repo
           instead.
Change-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc
Partial-Bug: #1889640
(cherry picked from commit e8b13ce1b44313a9604aa9cd8cdbf8bd4d1bda52)
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/744997/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/test_async.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,d96cf4269ac816358c02cbb04cbb53539e877fa3,bug_1889640_ussuri," class TestVerifyImageStateTask(test_utils.BaseTestCase): def test_verify_active_status(self): fake_img = mock.MagicMock(status='active') mock_repo = mock.MagicMock() mock_repo.get.return_value = fake_img task = import_flow._VerifyImageState(TASK_ID1, TASK_TYPE, mock_repo, IMAGE_ID1, 'anything!') task.execute() fake_img.status = 'importing' self.assertRaises(import_flow._NoStoresSucceeded, task.execute) def test_revert_copy_status_unchanged(self): fake_img = mock.MagicMock(status='active') mock_repo = mock.MagicMock() mock_repo.get.return_value = fake_img task = import_flow._VerifyImageState(TASK_ID1, TASK_TYPE, mock_repo, IMAGE_ID1, 'copy-image') task.revert(mock.sentinel.result) # If we are doing copy-image, no state update should be made mock_repo.save_image.assert_not_called() def test_reverts_state_nocopy(self): fake_img = mock.MagicMock(status='importing') mock_repo = mock.MagicMock() mock_repo.get.return_value = fake_img wrapper = mock.MagicMock() task = import_flow._VerifyImageState(TASK_ID1, TASK_TYPE, mock_repo, IMAGE_ID1, 'glance-direct') task.revert(mock.sentinel.result) # Except for copy-image, image state should revert to queued mock_repo.save_image.assert_called_once()",,68,19
openstack%2Fcinder~master~I6f160cc44350f0d378fdddb7943e8cdcc15be1b8,openstack/cinder,master,I6f160cc44350f0d378fdddb7943e8cdcc15be1b8,Set cluster name for volume groups,MERGED,2020-03-18 13:11:23.000000000,2020-08-07 06:26:43.000000000,2020-08-07 06:26:43.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29632}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-03-18 13:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dac67f9357dea39f03bbd84703113ea85e86a65', 'message': 'WIP.  FilterScheduler uses backend.host instead backend.id now\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 2, 'created': '2020-03-18 18:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/250a402f061eac64bf1d8f20a4cd5620f7654bba', 'message': ""FilterScheduler uses backend.host instead backend.id now\n\nBoth volumes and volume groups has backend hostname instead of backend\nID in the database. These values are equal in a usual deployment but in\nan Active/Active mode backend ID contains cluster name. That's why we\nneed to use hostname explicitly in a scheduler.\n\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n""}, {'number': 3, 'created': '2020-03-19 11:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94850982d5ba9d2c87aee49fcf4c37a928426406', 'message': ""WIP. FilterScheduler uses backend.host instead backend.id now\n\nTemporary commit to test on CI\nTODO(e0ne): update commit message.\n\nBoth volumes and volume groups has backend hostname instead of backend\nID in the database. These values are equal in a usual deployment but in\nan Active/Active mode backend ID contains cluster name. That's why we\nneed to use hostname explicitly in a scheduler.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n""}, {'number': 4, 'created': '2020-03-19 15:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c83de50b52162170281bbc077b1d6cbc2f61adc', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 5, 'created': '2020-03-25 13:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06fda3d644f11f4be8e3f240683d6492733722eb', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 6, 'created': '2020-04-24 15:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b547a8a203bf061368998f777abf2e239b6f1e2b', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 7, 'created': '2020-04-24 21:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e682333fd273850d2b4f3246e5ddee3dd99cda3', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 8, 'created': '2020-04-29 14:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed3216ab4c459e1ba2e33eb55fd02fa757a88d0c', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 9, 'created': '2020-04-29 15:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a7c8de3294180406d70c2c3f18d5138737ea1a9', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}, {'number': 10, 'created': '2020-07-22 07:47:46.000000000', 'files': ['cinder/tests/unit/group/test_groups_api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d67562831606d048f6f381a5b94814216664fbe', 'message': 'Set cluster name for volume groups\n\nIn Active/Active HA mode we need to store not only worker hostname but\ncluster name too. This patch saves cluster name for groups created from other\ngroups or snaphshots.\n\nChange-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8\nCloses-Bug: #1867906\n'}]",14,713649,8d67562831606d048f6f381a5b94814216664fbe,329,42,10,1736,,,0,"Set cluster name for volume groups

In Active/Active HA mode we need to store not only worker hostname but
cluster name too. This patch saves cluster name for groups created from other
groups or snaphshots.

Change-Id: I6f160cc44350f0d378fdddb7943e8cdcc15be1b8
Closes-Bug: #1867906
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/713649/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/filter_scheduler.py'],1,7dac67f9357dea39f03bbd84703113ea85e86a65,a-a-support, backend_id = weighed_backend.obj.host, backend_id = weighed_backend.obj.backend_id,1,1
openstack%2Fcinder~master~I254ac701d37c56490e873dd929eb8ce38de635bb,openstack/cinder,master,I254ac701d37c56490e873dd929eb8ce38de635bb,NetApp SolidFire: Fix bug on update cluster stats,MERGED,2020-05-28 14:12:37.000000000,2020-08-07 06:26:39.000000000,2020-08-07 06:26:39.000000000,"[{'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 31254}]","[{'number': 1, 'created': '2020-05-28 14:12:37.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/bug-1874541-netapp-fix-update-cluster-status-8331655904fb4fed.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e5aaab870d5182007303c19f7bf6e47a81fc6c9', 'message': 'NetApp SolidFire: Fix bug on update cluster stats\n\nFix a bug on update cluster stats caused when one of the dividers\nwas zero.\n\nChange-Id: I254ac701d37c56490e873dd929eb8ce38de635bb\nCloses-bug: #1874541\n'}]",1,731543,2e5aaab870d5182007303c19f7bf6e47a81fc6c9,36,29,1,29650,,,0,"NetApp SolidFire: Fix bug on update cluster stats

Fix a bug on update cluster stats caused when one of the dividers
was zero.

Change-Id: I254ac701d37c56490e873dd929eb8ce38de635bb
Closes-bug: #1874541
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/731543/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/bug-1874541-netapp-fix-update-cluster-status-8331655904fb4fed.yaml']",3,2e5aaab870d5182007303c19f7bf6e47a81fc6c9,bug/1874541,--- fixes: - | Fixed `bug #1874541 <https://bugs.launchpad.net/cinder/+bug/1874541>`_ Where a ZeroDivisionError was hapenning when the SolidFire driver tried to update cluster capabilities. ,,68,18
openstack%2Fopenstack-ansible~master~Iecdc53eae94d3556b41155f0aa839549c531c2e6,openstack/openstack-ansible,master,Iecdc53eae94d3556b41155f0aa839549c531c2e6,Add test_novnc to test nova vnc consoles,NEW,2020-04-17 15:57:34.000000000,2020-08-07 06:15:21.000000000,,"[{'_account_id': 4690}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-04-17 15:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fab73e861295d27e6f4741298127367a9ddbd04c', 'message': 'Add test_novnc to test nova vnc consoles\n\nWe had a regression in vnc consoles awhile back due to a change in\nupstream noVNC from the master branch.\n\nThis adds the novnc tests to our jobs to help catch future issues.\n\nRelated-Bug: #1822676\n\nChange-Id: Iecdc53eae94d3556b41155f0aa839549c531c2e6\n'}, {'number': 2, 'created': '2020-04-17 17:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b2721aa6d1fdc08f22564fbcd738d1683d6637ff', 'message': 'Add test_novnc to test nova vnc consoles\n\nWe had a regression in vnc consoles awhile back due to a change in\nupstream noVNC from the master branch.\n\nThis adds the novnc tests to our jobs to help catch future issues.\n\nRelated-Bug: #1822676\n\nDepends-On: https://review.opendev.org/671769\n\nChange-Id: Iecdc53eae94d3556b41155f0aa839549c531c2e6\n'}, {'number': 3, 'created': '2020-05-19 13:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/775e45db1b80dacc0f3fe91b0618638f5a58b76c', 'message': 'Add test_novnc to test nova vnc consoles\n\nWe had a regression in vnc consoles awhile back due to a change in\nupstream noVNC from the master branch.\n\nThis adds the novnc tests to our jobs to help catch future issues.\n\nRelated-Bug: #1822676\n\nDepends-On: https://review.opendev.org/671769\n\nChange-Id: Iecdc53eae94d3556b41155f0aa839549c531c2e6\n'}, {'number': 4, 'created': '2020-06-27 06:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/81b918c2408f229a06b6e7c92b33a7031c5abd3f', 'message': 'Add test_novnc to test nova vnc consoles\n\nWe had a regression in vnc consoles awhile back due to a change in\nupstream noVNC from the master branch.\n\nThis adds the novnc tests to our jobs to help catch future issues.\n\nRelated-Bug: #1822676\n\nDepends-On: https://review.opendev.org/671769\n\nChange-Id: Iecdc53eae94d3556b41155f0aa839549c531c2e6\n'}, {'number': 5, 'created': '2020-08-07 03:41:25.000000000', 'files': ['inventory/group_vars/utility_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0eb550b72e7b4699ad80300c959d5743d5560b0f', 'message': 'Add test_novnc to test nova vnc consoles\n\nWe had a regression in vnc consoles awhile back due to a change in\nupstream noVNC from the master branch.\n\nThis adds the novnc tests to our jobs to help catch future issues.\n\nRelated-Bug: #1822676\n\nDepends-On: https://review.opendev.org/671769\n\nChange-Id: Iecdc53eae94d3556b41155f0aa839549c531c2e6\n'}]",0,720761,0eb550b72e7b4699ad80300c959d5743d5560b0f,18,5,5,4690,,,0,"Add test_novnc to test nova vnc consoles

We had a regression in vnc consoles awhile back due to a change in
upstream noVNC from the master branch.

This adds the novnc tests to our jobs to help catch future issues.

Related-Bug: #1822676

Depends-On: https://review.opendev.org/671769

Change-Id: Iecdc53eae94d3556b41155f0aa839549c531c2e6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/720761/4 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/utility_all.yml'],1,fab73e861295d27e6f4741298127367a9ddbd04c,bug/1822676," - ""{{ (tempest_service_available_nova | bool) | ternary('tempest.api.compute.servers.test_novnc', '') }}""",,1,0
openstack%2Fneutron~master~Ide2081e8de032752c3aae940ed7d2a8380dd4b3d,openstack/neutron,master,Ide2081e8de032752c3aae940ed7d2a8380dd4b3d,Bump oslo.privsep to 2.3.0,MERGED,2020-08-04 10:48:02.000000000,2020-08-07 06:12:28.000000000,2020-08-07 06:09:00.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-04 10:48:02.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce1eebbf5720c5a861022e25f5783f82040e7043', 'message': 'Bump oslo.privsep to 2.3.0\n\nThis new version contains [1]. The aim of this patch is to remove\nany eventlet patch in the root daemon, trying to avoid the recurrent\nevenlet timeout we detect in the CI jobs (mainly functional and\nfullstack ones).\n\n[1]https://review.opendev.org/#/c/740970/\n\nChange-Id: Ide2081e8de032752c3aae940ed7d2a8380dd4b3d\n'}]",0,744677,ce1eebbf5720c5a861022e25f5783f82040e7043,18,7,1,16688,,,0,"Bump oslo.privsep to 2.3.0

This new version contains [1]. The aim of this patch is to remove
any eventlet patch in the root daemon, trying to avoid the recurrent
evenlet timeout we detect in the CI jobs (mainly functional and
fullstack ones).

[1]https://review.opendev.org/#/c/740970/

Change-Id: Ide2081e8de032752c3aae940ed7d2a8380dd4b3d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/744677/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,ce1eebbf5720c5a861022e25f5783f82040e7043,bump_oslo.privsep_2.3.0,oslo.privsep==2.3.0,oslo.privsep==1.32.0,2,2
openstack%2Fneutron-tempest-plugin~master~Ieafc4d8af1c6eee52e65373deb201eec3615d181,openstack/neutron-tempest-plugin,master,Ieafc4d8af1c6eee52e65373deb201eec3615d181,Make dynamic routing tests use clients as others,MERGED,2020-07-09 10:37:54.000000000,2020-08-07 06:09:02.000000000,2020-08-07 06:09:02.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:37:54.000000000', 'files': ['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions.py', 'neutron_tempest_plugin/services/bgp/bgp_client.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b7cb10b946bfa50c117958ca921bae4c68fb74b0', 'message': 'Make dynamic routing tests use clients as others\n\nChange-Id: Ieafc4d8af1c6eee52e65373deb201eec3615d181\n'}]",0,740235,b7cb10b946bfa50c117958ca921bae4c68fb74b0,10,7,1,8313,,,0,"Make dynamic routing tests use clients as others

Change-Id: Ieafc4d8af1c6eee52e65373deb201eec3615d181
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/35/740235/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions.py', 'neutron_tempest_plugin/services/bgp/bgp_client.py']",2,b7cb10b946bfa50c117958ca921bae4c68fb74b0,enable-tls,"from neutron_tempest_plugin.api import clients as manager from neutron_tempest_plugin import config CONF = config.CONF class Manager(manager.Manager): def __init__(self, credentials=None, service=None): super(Manager, self).__init__(credentials, service) self.bgp_client = BgpSpeakerClientJSON( self.auth_provider, CONF.network.catalog_type, CONF.network.region or CONF.identity.region, endpoint_type=CONF.network.endpoint_type, build_interval=CONF.network.build_interval, build_timeout=CONF.network.build_timeout, **self.default_params) ",,32,34
openstack%2Fglance-specs~master~I55d8193090dea749502a053fd348d92f67f3c012,openstack/glance-specs,master,I55d8193090dea749502a053fd348d92f67f3c012,Calculate virtual size of image,MERGED,2020-07-15 08:49:20.000000000,2020-08-07 06:03:29.000000000,2020-08-07 06:01:11.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-07-15 08:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/b55b66c0d3bddf21caaab4f0e98078fcad7c3f1d', 'message': 'Introspect import plugin to calculate virtual size of image\n\nChange-Id: I55d8193090dea749502a053fd348d92f67f3c012\nImplements: blueprint image-introspect-plugin\n'}, {'number': 2, 'created': '2020-07-23 06:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ec29065beb47eba1e301e6a90e5581b0d14841a5', 'message': 'Introspect import plugin to calculate virtual size of image\n\nChange-Id: I55d8193090dea749502a053fd348d92f67f3c012\nImplements: blueprint image-introspect-plugin\n'}, {'number': 3, 'created': '2020-08-04 15:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a8ba9c05417e02ad67da06795d87e8a86173c6a4', 'message': 'Calculate virtual size of image\n\nChange-Id: I55d8193090dea749502a053fd348d92f67f3c012\nImplements: blueprint image-introspect-plugin\n'}, {'number': 4, 'created': '2020-08-05 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2cacf137e78321d5da35e62fb5466784c14df1b0', 'message': 'Calculate virtual size of image\n\nChange-Id: I55d8193090dea749502a053fd348d92f67f3c012\nImplements: blueprint image-introspect-plugin\n'}, {'number': 5, 'created': '2020-08-06 09:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9c9f717575a96f8e23d50d7e3576dff08ad4715d', 'message': 'Calculate virtual size of image\n\nChange-Id: I55d8193090dea749502a053fd348d92f67f3c012\nImplements: blueprint image-introspect-plugin\n'}, {'number': 6, 'created': '2020-08-06 15:00:56.000000000', 'files': ['specs/victoria/approved/glance/calculate-virtual-size.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f4be24c13bf9527a08504f1aa92d77f10cf68f15', 'message': 'Calculate virtual size of image\n\nChange-Id: I55d8193090dea749502a053fd348d92f67f3c012\nImplements: blueprint image-introspect-plugin\n'}]",54,741121,f4be24c13bf9527a08504f1aa92d77f10cf68f15,42,7,6,9303,,,0,"Calculate virtual size of image

Change-Id: I55d8193090dea749502a053fd348d92f67f3c012
Implements: blueprint image-introspect-plugin
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/21/741121/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/glance/image-introspect-plugin.rst'],1,b55b66c0d3bddf21caaab4f0e98078fcad7c3f1d,specs/introspect-plugin,"=========================================================== Introspect import plugin to calculate virtual size of image =========================================================== https://blueprints.launchpad.net/glance/+spec/image-introspect-plugin Cloud operator wants to set virtual size of image to avoid running `qemu_img` operations on consumer nodes. Problem description =================== Image has virtual_size field in images table but it is never set unless we use taskflow `introspect` to create image. Consumers of glance like nova or cinder never consume image before calculating virtual size, which means every time they call for image, they need to perform `qemu_img info` call to calculate the virtual size of the image. Use Case: --------- Cloud operator wants to set virtual size of image to avoid running `qemu_img` operations on consumer nodes. Proposed change =============== Introduce new `image_introspect` plugin which if enabled run `qemu_img info` command to calculate virtual size of image and set it to image before importing the image in glance store. Operators who does not want to perform `qemu_img` operations on controller can disable this plugin. To enable this plugin, operator simply needs to add `image_introspect` plugin in `image_import_plugins` configuration option under section `image_import_opts` of glance-image-import.conf file as shown below:: [image_import_opts] image_import_plugins = ['image_introspect'] In glance, users can create images using two ways. 1) create image API 2) Import image API In case of import image API, as it uses taskflow, an additional task 'IntrospectImage' will be created to calculate and set the virtual_size to the image. No changes will be made to create image API. The intent is that the old upload workflow will only be used by services, it won't be exposed to end users in most deployments. Note: As traditional create image API is used by services, images crated by nova (nova-snapshot) or cinder (volume-upload-to-image) will not be able to set the virtual size. So the consumer services needs to calculate virtual size if it is not set to image in this case. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Administrator need to enable `image_introspect` plugin if they decided that glance should calculate virtual size on image creation. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: abhishek-kekane Other contributors: None Reviewers --------- Core reviewer(s): jokke rosmaita Other reviewer(s): whoami-rajat Work Items ---------- - Add 'image_introspect' plugin - Add unit tests for coverage - Add functional tests Dependencies ============ None Testing ======= Functional tests will be added to verify that virtual size is calculated if `image_introspect` plugin is enabled. Documentation Impact ==================== Please refer to 'Other deployer impact' References ========== None ",,151,0
openstack%2Fneutron~stable%2Fussuri~Id988cab87d32d5721cd91152df194fbb6fa703c5,openstack/neutron,stable/ussuri,Id988cab87d32d5721cd91152df194fbb6fa703c5,String to byte conversion should provide the encoding type,MERGED,2020-07-31 16:27:29.000000000,2020-08-07 05:55:22.000000000,2020-08-07 05:53:36.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 16:27:29.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/18f019984a71a0e09530c2e6ec29c010968de90e', 'message': 'String to byte conversion should provide the encoding type\n\nChange-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5\nCloses-Bug: #1887385\n(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)\n'}]",0,744216,18f019984a71a0e09530c2e6ec29c010968de90e,19,6,1,16688,,,0,"String to byte conversion should provide the encoding type

Change-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5
Closes-Bug: #1887385
(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/744216/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,18f019984a71a0e09530c2e6ec29c010968de90e,bug/1887385," os.write(self.pipeout, bytes(str(self.port), 'utf-8'))"," os.write(self.pipeout, bytes(self.port))",1,1
openstack%2Fneutron~stable%2Frocky~I1a50e77749aaecc3966c9d238f91a1968ed454ef,openstack/neutron,stable/rocky,I1a50e77749aaecc3966c9d238f91a1968ed454ef,Fix Traceback when running neutron-ipset-cleanup tool,MERGED,2020-07-31 11:04:51.000000000,2020-08-07 05:52:23.000000000,2020-08-07 05:52:23.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 11:04:51.000000000', 'files': ['neutron/cmd/ipset_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e7a0da20d6f81fa6e9f3a890594e12726187be2', 'message': 'Fix Traceback when running neutron-ipset-cleanup tool\n\nSome of the tools dependencies expect the AGENT group to be\npresent in the configuration, and at present it is not initialized,\nthis patch addresses that.\n\nChange-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nCloses-Bug: #1881771\n(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)\n'}]",0,744127,7e7a0da20d6f81fa6e9f3a890594e12726187be2,11,7,1,11975,,,0,"Fix Traceback when running neutron-ipset-cleanup tool

Some of the tools dependencies expect the AGENT group to be
present in the configuration, and at present it is not initialized,
this patch addresses that.

Change-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
Closes-Bug: #1881771
(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/744127/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ipset_cleanup.py'],1,7e7a0da20d6f81fa6e9f3a890594e12726187be2,bug/1881771-stable/train-stable/stein-stable/rocky,from neutron.conf.agent import common as agent_config agent_config.register_root_helper(conf=conf),,2,0
openstack%2Fneutron~stable%2Fqueens~I1a50e77749aaecc3966c9d238f91a1968ed454ef,openstack/neutron,stable/queens,I1a50e77749aaecc3966c9d238f91a1968ed454ef,Fix Traceback when running neutron-ipset-cleanup tool,MERGED,2020-07-31 11:05:08.000000000,2020-08-07 05:38:19.000000000,2020-08-07 05:38:19.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 11:05:08.000000000', 'files': ['neutron/cmd/ipset_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbf786566274d6448a35922606e2f00b5c1f7184', 'message': 'Fix Traceback when running neutron-ipset-cleanup tool\n\nSome of the tools dependencies expect the AGENT group to be\npresent in the configuration, and at present it is not initialized,\nthis patch addresses that.\n\nChange-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nCloses-Bug: #1881771\n(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)\n'}]",0,744128,fbf786566274d6448a35922606e2f00b5c1f7184,9,6,1,11975,,,0,"Fix Traceback when running neutron-ipset-cleanup tool

Some of the tools dependencies expect the AGENT group to be
present in the configuration, and at present it is not initialized,
this patch addresses that.

Change-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
Closes-Bug: #1881771
(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/744128/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ipset_cleanup.py'],1,fbf786566274d6448a35922606e2f00b5c1f7184,bug/1881771-stable/train-stable/stein-stable/rocky-stable/queens,from neutron.conf.agent import common as agent_config agent_config.register_root_helper(conf=conf),,2,0
openstack%2Fopenstack-helm~master~I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5,openstack/openstack-helm,master,I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5,Parallelize osh-gate-runner for gate jobs,MERGED,2020-07-08 04:44:52.000000000,2020-08-07 05:11:23.000000000,2020-08-07 05:08:09.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-08 04:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d6ba826f00850a3c96ccae82472cb04be0dddc3', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-08 04:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18fc55e644963e827e573eed08f3cde4aceda8d9', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-08 05:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4aa5e46b9740160f5c6be91ddc707c40e82a2198', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-08 21:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2bd75d1c17886557f1f23bb4e95f1338c68655b', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-10 16:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6051455654575b8808e7896cdc1b3e5469d0f3c9', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-10 18:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9163f9f48125c13ea262e18dfd5ebc9c6069c4df', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-10 18:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8179785d7b1a0d9967a888a86a686bd57455970', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-10 18:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abbaaff1686531152ae35dbf9e3a2a7d56dcba57', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-11 00:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ffe439f553404b31fdaa65f95b6a5f1182e9c5b1', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-13 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebddbb5626abd0e8f512a916e4bee27a6d3d6059', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-13 22:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/338e861adbc527766045e9ecd9f3dbcfd46dc995', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-19 22:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28f962365ad5a070e90bf108ab2f322cc3dd1580', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-20 02:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24cd81d5ca4e4326ea4188ac2e1c03646d555a1a', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-21 17:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/be19f7d3fb4bebfea269d0628817527a7688eda3', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-07-21 22:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af35e121d5d5c4a1b271b4660bb1d29f881cc76a', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-07-21 23:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79c4096b835b6e9bf67a3faac7ef02ce7b61e482', 'message': '[test]\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-07-22 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1b7e2c4138b10c1c8a446264d04878d666033396', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-07-24 00:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0074dc94d8b13942301c355fb6881dd917b4caf7', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-07-28 19:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eace7e78e3d2f215f4669af43a2f455fef9a610a', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 20, 'created': '2020-07-31 02:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/11fdf9e6743ee12f16ace2b1f105a6978f5af512', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 21, 'created': '2020-07-31 02:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69a2ce84c6baaf9b928c3e8a5a2043f679a759ab', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 22, 'created': '2020-08-05 01:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2385b3d5df2a0753d2f7909c50d31a110253428e', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 23, 'created': '2020-08-06 00:51:23.000000000', 'files': ['yamllint.conf', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa0b3d3ebe20dd7ec6c1b7e3be4273df738640b4', 'message': 'Parallelize osh-gate-runner for gate jobs\n\nDepends-On: https://review.opendev.org/739659\nChange-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,739891,fa0b3d3ebe20dd7ec6c1b7e3be4273df738640b4,107,6,23,8863,,,0,"Parallelize osh-gate-runner for gate jobs

Depends-On: https://review.opendev.org/739659
Change-Id: I925773d9e93ec3cc90fbd14cffa7c8d8738ce8d5
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/739891/11 && git format-patch -1 --stdout FETCH_HEAD,"['yamllint.conf', 'zuul.d/jobs-openstack-helm.yaml']",2,5d6ba826f00850a3c96ccae82472cb04be0dddc3,speed-up-osh-jobs, - - ./tools/deployment/common/setup-client.sh - ./tools/scripts/tls/cert-manager.sh - ./tools/deployment/component/ceph/ceph.sh - - ./tools/deployment/component/ceph/ceph-ns-activate.sh - ./tools/deployment/component/common/ingress.sh - - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - - ./tools/deployment/common/setup-client.sh - ./tools/scripts/tls/cert-manager.sh - ./tools/deployment/component/common/ingress.sh - - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - - ./tools/deployment/component/nfs-provisioner/nfs-provisioner.sh - ./tools/deployment/component/keystone/keystone.sh - - ./tools/deployment/component/heat/heat.sh - ./tools/deployment/component/glance/glance.sh - ./tools/deployment/component/compute-kit/openvswitch.sh, - ./tools/deployment/common/setup-client.sh - ./tools/scripts/tls/cert-manager.sh - ./tools/deployment/component/ceph/ceph.sh - ./tools/deployment/component/ceph/ceph-ns-activate.sh - ./tools/deployment/component/common/ingress.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/common/setup-client.sh - ./tools/scripts/tls/cert-manager.sh - ./tools/deployment/component/common/ingress.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/component/nfs-provisioner/nfs-provisioner.sh - ./tools/deployment/component/keystone/keystone.sh - ./tools/deployment/component/heat/heat.sh - ./tools/deployment/component/glance/glance.sh - ./tools/deployment/component/compute-kit/openvswitch.sh,22,22
openstack%2Fironic~stable%2Fstein~I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,openstack/ironic,stable/stein,I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,Pin ironic-tempest-plugin,MERGED,2020-08-03 20:09:46.000000000,2020-08-07 04:21:02.000000000,2020-08-07 04:18:25.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 20:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/035cdc9603c45b58f9056fa847a9ee184dfce9a3', 'message': 'Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since stein needs\nto support py2 and py3\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n'}, {'number': 2, 'created': '2020-08-03 21:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2df5233cc2eef1b7914bb340e283e9fd15aa1d6f', 'message': 'Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since stein needs\nto support py2 and py3\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n'}, {'number': 3, 'created': '2020-08-03 22:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/145caf86f1b26887eb76570594b4bc7611a4f10c', 'message': 'Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since stein needs\nto support py2 and py3\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n'}, {'number': 4, 'created': '2020-08-05 19:15:24.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/80ee3e7e339da82102b4cf9e4005d32779944029', 'message': ""Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since stein needs\nto support py2 and py3\n\nAlso marks the multinode multi-tenant CI job as non-voting as it\nis presently failing due to Netmiko authentication errors which is\nultimately unrelated to the CI jobs in general.\n\nAug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers GenericSwitchNetmikoConnectError: Netmiko connection error:\n{'username': 'ngs_ovs_manager', 'ip': 'localhost', 'key_file': '/opt/stack/.ssh/id_rsa', 'device_type': 'ovs_linux'}, error: Authentication failure: unable to connect ovs_linux\nlocalhost:22\nAug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers ('Bad authentication type', [u'publickey'])\n(allowed_types=[u'publickey']) Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers Aug 04 19:03:58.575548\nubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers [req-11a4a82d-af43-40c3-8dc0-0596f74e68d4 req-5ec06868-2d81-4e4a-bfa6-ee141df712a6 dem\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n""}]",0,744547,80ee3e7e339da82102b4cf9e4005d32779944029,31,6,4,15519,,,0,"Pin ironic-tempest-plugin

This commit pins ironic-tempest-plugin to 1.5.1 since stein needs
to support py2 and py3

Also marks the multinode multi-tenant CI job as non-voting as it
is presently failing due to Netmiko authentication errors which is
ultimately unrelated to the CI jobs in general.

Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers GenericSwitchNetmikoConnectError: Netmiko connection error:
{'username': 'ngs_ovs_manager', 'ip': 'localhost', 'key_file': '/opt/stack/.ssh/id_rsa', 'device_type': 'ovs_linux'}, error: Authentication failure: unable to connect ovs_linux
localhost:22
Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers ('Bad authentication type', [u'publickey'])
(allowed_types=[u'publickey']) Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers Aug 04 19:03:58.575548
ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers [req-11a4a82d-af43-40c3-8dc0-0596f74e68d4 req-5ec06868-2d81-4e4a-bfa6-ee141df712a6 dem

Change-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/744547/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml']",2,035cdc9603c45b58f9056fa847a9ee184dfce9a3,pin_itp, - name: openstack/ironic-tempest-plugin override-checkout: 1.5.1 - name: openstack/ironic-tempest-plugin override-checkout: 1.5.1, - openstack/ironic-tempest-plugin - openstack/ironic-tempest-plugin,6,4
openstack%2Fopenstack-helm-infra~master~I45c33528e8b563d642ccfe131f7b28097409c44c,openstack/openstack-helm-infra,master,I45c33528e8b563d642ccfe131f7b28097409c44c,DNM: Testing mariadb TLS,ABANDONED,2020-07-27 20:56:51.000000000,2020-08-07 03:22:45.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81fa6ade5fc5c66bc623f38d95dc3c8960aa2e2f', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-07-27 21:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f37fcec5f6c334de8615f2e7de5d16651321095b', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-07-27 23:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3374cb19689588c1235c62b90042b17db30b9b39', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-07-28 00:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d1b59ccf48540f7738696559a05f48d6b20fb1ec', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-07-28 12:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/071ebc09aaba6db0b4a7db47cd2d39d0458393a1', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2020-07-28 13:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af4b6dd16ae9f0f7699cae1f3d81a514deb0f5f0', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2020-07-28 19:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce5704c8bd4e586b968027dd5fb1f2342fb29810', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2020-07-28 19:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3eb525b1076095c4b2d29a39b034f314e90e5d1', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2020-07-28 22:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23358e5b552b683470e9a3f0e6df247b86073e40', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2020-07-28 23:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7e1208497d0c65095a356f79377f35f5829c26b', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2020-07-29 15:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c1c1425a18b4bf35efbc5941a2bea0d04a48e3a', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2020-07-29 16:32:17.000000000', 'files': ['tools/deployment/openstack-support/008-cert.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f028ad2333989ac19392dcf91bf1f81fb73519a4', 'message': 'DNM: Testing mariadb TLS\n\nChange-Id: I45c33528e8b563d642ccfe131f7b28097409c44c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,743412,f028ad2333989ac19392dcf91bf1f81fb73519a4,24,2,12,20466,,,0,"DNM: Testing mariadb TLS

Change-Id: I45c33528e8b563d642ccfe131f7b28097409c44c
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/743412/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,81fa6ade5fc5c66bc623f38d95dc3c8960aa2e2f,dnm/test, feature_gates: tls # - ./tools/deployment/openstack-support/050-libvirt.sh # - ./tools/deployment/openstack-support/060-openvswitch.sh # - ./tools/deployment/openstack-support/100-ceph-radosgateway.sh # - ./tools/deployment/openstack-support/110-openstack-exporter.sh # - ./tools/deployment/openstack-support/120-powerdns.sh # - ./tools/deployment/openstack-support/130-cinder.sh, - ./tools/deployment/openstack-support/050-libvirt.sh - ./tools/deployment/openstack-support/060-openvswitch.sh - ./tools/deployment/openstack-support/100-ceph-radosgateway.sh - ./tools/deployment/openstack-support/110-openstack-exporter.sh - ./tools/deployment/openstack-support/120-powerdns.sh - ./tools/deployment/openstack-support/130-cinder.sh,14,13
openstack%2Fdiskimage-builder~master~I0b4c5d8fa5a45aeb4d5d999ca5b7e0798162b92b,openstack/diskimage-builder,master,I0b4c5d8fa5a45aeb4d5d999ca5b7e0798162b92b,Fixes DIB_IPA_CERT certificate copy issue,MERGED,2020-07-17 06:58:02.000000000,2020-08-07 03:04:52.000000000,2020-08-07 03:03:35.000000000,"[{'_account_id': 7118}, {'_account_id': 18781}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 06:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2acff15ae11c00039f060f04a039a916dde3837f', 'message': 'Fixes nit in DIB_IPA_CERT certificate copy\n\nChange-Id: I0b4c5d8fa5a45aeb4d5d999ca5b7e0798162b92b\n'}, {'number': 2, 'created': '2020-07-17 09:49:26.000000000', 'files': ['diskimage_builder/elements/ironic-agent/install.d/ironic-agent-source-install/60-ironic-agent-install'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/90eafe078cf555213acaa81296b3ac309dc7b981', 'message': 'Fixes DIB_IPA_CERT certificate copy issue\n\nChange-Id: I0b4c5d8fa5a45aeb4d5d999ca5b7e0798162b92b\n'}]",0,741583,90eafe078cf555213acaa81296b3ac309dc7b981,16,5,2,18781,,,0,"Fixes DIB_IPA_CERT certificate copy issue

Change-Id: I0b4c5d8fa5a45aeb4d5d999ca5b7e0798162b92b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/83/741583/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ironic-agent/install.d/ironic-agent-source-install/60-ironic-agent-install'],1,2acff15ae11c00039f060f04a039a916dde3837f,certificate_copy," cat /tmp/in_target.d/ipa-trusted-cert.pem >> $($IPADIR/venv/bin/python -c ""import requests; print(requests.certs.where())"")"," cat /tmp/in_target.d/ipa-trusted-cert.pem >> $($IPADIR/venv/bin/python -c ""import requests; print requests.certs.where()"")",1,1
openstack%2Fneutron~stable%2Fussuri~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/ussuri,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-07-31 09:02:51.000000000,2020-08-07 03:00:51.000000000,2020-08-07 02:58:52.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 09:02:51.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f', 'message': '[OVS][FW] Remote SG IDs left behind when a SG is removed\n\nWhen any port in the OVS agent is using a security groups (SG) and\nthis SG is removed, is marked to be deleted. This deletion process\nis done in [1].\n\nThe SG deletion process consists on removing any reference of this SG\nfrom the firewall and the SG port map. The firewall removes this SG in\n[2].\n\nThe information of a SG is stored in:\n* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the\n  conjunction IDS (conj_ids) in a dictionary using the following keys:\n\n    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,\n      conj_ids)] = conj_id_XXX\n\n* ConjIPFlowManager.conj_ids is a nested dictionary, built in the\n  following way:\n\n    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \\\n      set([conj_id_1, conj_id_2, ...])\n\nThis patch stores all conjuntion IDs generated and assigned to the\ntuple (sg_id, remote_sg_id, direction, ethertype). When a SG is\nremoved, the deletion method will look for this SG in the new storage\nvariable created, ConjIdMap.id_map_group, and will mark all the\nconjuntion IDs related to be removed. That will cleanup those rules\nleft in the OVS matching:\n  action=conjunction(conj_id, 1/2)\n\n[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731\n[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399\n\nChange-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe\nRelated-Bug: #1881157\n(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)\n'}]",0,744104,ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f,9,4,1,16688,,,0,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/744104/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f,bug/1881157," test_data = [ # conj_id: 8 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 10 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 1), # conj_id: 12 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 2), # conj_id: 16 ('sg2', 'sg1', constants.EGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 24 ('sg1', 'sg3', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 36 (and 32 without priority offset, stored in id_map) ('sg3', 'sg4', constants.INGRESS_DIRECTION, constants.IPv4, 2), # conj_id: 40 ('sg5', 'sg4', constants.EGRESS_DIRECTION, constants.IPv4, 0), ] conj_id_segment = set([]) # see ConjIPFlowManager.get_conj_id # This is similar to ConjIPFlowManager.add method for sg_id, rsg_id, direction, ip_version, prio_offset in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) conj_id = self.conj_id_map.get_conj_id(*conj_id_tuple) conj_id_segment.add(conj_id) conj_id_plus_prio = conj_id + prio_offset * 2 self.conj_id_map.id_map_group[conj_id_tuple].add(conj_id_plus_prio) ids.append(conj_id_plus_prio) self.assertEqual( {('sg3', 24), ('sg1', 12), ('sg1', 16), ('sg1', 8), ('sg1', 10)}, result) result = self.conj_id_map.delete_sg('sg3') self.assertEqual({('sg4', 32), ('sg4', 36)}, result) result = self.conj_id_map.delete_sg('sg4') self.assertEqual({('sg4', 40)}, result) self.assertEqual({}, self.conj_id_map.id_map) self.assertEqual({}, self.conj_id_map.id_map_group) reallocated = set([]) for sg_id, rsg_id, direction, ip_version, _ in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) reallocated.add(self.conj_id_map.get_conj_id(*conj_id_tuple)) self.assertEqual(reallocated, conj_id_segment) def _sg_removed(self, sg_name): self.manager.sg_removed(sg_name) def test_sg_removed(self): self._sg_removed('sg') self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) self.driver.delete_flow_for_ip.assert_not_called() def test_remote_sg_removed(self): self._sg_removed('remote_id') self.driver._add_flow.assert_not_called() self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) # ""conj_id_to_remove"" is populated with the remote_sg conj_id assigned, # ""_update_flows_for_vlan_subr"" will call ""delete_flow_for_ip"". self.driver.delete_flow_for_ip.assert_called_once_with( '10.22.3.4', 'ingress', 'IPv4', 100, {self.conj_id}) def _test_delete_flows_for_flow_state(self, addr_to_conj, explicitly_egress_direct=True): direction = 'one_direction' ethertype = 'ethertype' vlan_tag = 'taaag' with mock.patch.object(self.firewall, 'delete_flow_for_ip') as \ mock_delete_flow_for_ip: flow_state = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} cfg.CONF.set_override('explicitly_egress_direct', explicitly_egress_direct, 'AGENT') self.firewall.delete_flows_for_flow_state( flow_state, addr_to_conj, direction, ethertype, vlan_tag) calls = [] for removed_ip in flow_state.keys() - addr_to_conj.keys(): calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, flow_state[removed_ip])) if explicitly_egress_direct: calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, [0])) mock_delete_flow_for_ip.assert_has_calls(calls) def test_delete_flows_for_flow_state_no_removed_ips_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_no_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj, False) def test_delete_flows_for_flow_state_removed_ips_exp_egress(self): addr_to_conj = {'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}} self._test_delete_flows_for_flow_state(addr_to_conj, False) "," test_data = [('sg1', 'sg1'), ('sg1', 'sg2')] for sg_id, remote_sg_id in test_data: ids.append(self.conj_id_map.get_conj_id( sg_id, remote_sg_id, constants.INGRESS_DIRECTION, constants.IPv6)) self.assertIn(('sg1', ids[0]), result) self.assertIn(('sg2', ids[1]), result) self.assertFalse(self.conj_id_map.id_map) reallocated = self.conj_id_map.get_conj_id( 'sg-foo', 'sg-foo', constants.INGRESS_DIRECTION, constants.IPv6) self.assertIn(reallocated, ids) def test_sg_removed(self): self.manager.sg_removed('sg') self.driver.delete_flows_for_ip_addresses.assert_called_once_with( {'10.22.3.4'}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) cfg.CONF.set_override('explicitly_egress_direct', True, 'AGENT')",169,45
openstack%2Frequirements~master~Idb59303aa413d8ff9b231cdea1c8b3767f13afd9,openstack/requirements,master,Idb59303aa413d8ff9b231cdea1c8b3767f13afd9,Add cross testing job for os-vif,MERGED,2020-08-04 23:51:15.000000000,2020-08-07 02:46:50.000000000,2020-08-07 02:44:11.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 23:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a3b1991d271d33abdc9c86bd2f35c1a1612d21f6', 'message': ""Add cross testing job for os-vif\n\nos-vif gate is broken on new pyroute2 0.5.13\nversion, let's run the cross gate job to fix\nsuch failure in advance before upper constraints\nare increased.\n\nChange-Id: Idb59303aa413d8ff9b231cdea1c8b3767f13afd9\n""}, {'number': 2, 'created': '2020-08-05 01:44:52.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ac1979bde2c4eadcd95951d25052d7ca9b2a7bd', 'message': ""Add cross testing job for os-vif\n\nos-vif gate is broken on new pyroute2 0.5.13\nversion, let's run the cross gate job to fix\nsuch failure in advance before upper constraints\nare increased.\n\ndepends-on: https://review.opendev.org/#/c/744809\n\nChange-Id: Idb59303aa413d8ff9b231cdea1c8b3767f13afd9\n""}]",3,744803,5ac1979bde2c4eadcd95951d25052d7ca9b2a7bd,18,5,2,8556,,,0,"Add cross testing job for os-vif

os-vif gate is broken on new pyroute2 0.5.13
version, let's run the cross gate job to fix
such failure in advance before upper constraints
are increased.

depends-on: https://review.opendev.org/#/c/744809

Change-Id: Idb59303aa413d8ff9b231cdea1c8b3767f13afd9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/744803/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml']",2,a3b1991d271d33abdc9c86bd2f35c1a1612d21f6,, name: cross-osvif-py36 parent: requirements-cross-test description: Run cross-project tests on os-vif with py36. required-projects: openstack/os-vif vars: tox_envlist: py36 - job:,,10,0
openstack%2Fcinder~master~Iee0a30c4e623c9b22c377093cd600cc8f6da78eb,openstack/cinder,master,Iee0a30c4e623c9b22c377093cd600cc8f6da78eb,Add lsscsi to bindep,MERGED,2020-07-27 17:44:25.000000000,2020-08-07 02:22:34.000000000,2020-08-07 02:20:35.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-27 17:44:25.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7f1df8d5ed6b19e9f933212076d1374aaf8d0d9', 'message': ""Add lsscsi to bindep\n\nlsscsi is needed for some of the SCSI device identification. This\nidentification is actually done in os-brick, but due to the way devstack\nand potentially other things install from source, os-brick's bindep.txt\nfile may not be used.\n\nSince Cinder needs the package in order for os-brick to operate, we can\njust add it to cinder so we can make sure it is available.\n\nChange-Id: Iee0a30c4e623c9b22c377093cd600cc8f6da78eb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,743291,f7f1df8d5ed6b19e9f933212076d1374aaf8d0d9,48,31,1,11904,,,0,"Add lsscsi to bindep

lsscsi is needed for some of the SCSI device identification. This
identification is actually done in os-brick, but due to the way devstack
and potentially other things install from source, os-brick's bindep.txt
file may not be used.

Since Cinder needs the package in order for os-brick to operate, we can
just add it to cinder so we can make sure it is available.

Change-Id: Iee0a30c4e623c9b22c377093cd600cc8f6da78eb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/743291/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f7f1df8d5ed6b19e9f933212076d1374aaf8d0d9,lsscsi,"# Cinder uses lsscsi via os-brick. Due to bindep usage in devstack and # elsewhere, we add it here to make sure it is picked up and available in # os-brick tests. Net result is the same that lsscsi will be installed for any # cinder installation. lsscsi",,5,0
openstack%2Fpython-cinderclient~master~I7d7bebc5b29b4aa251bba784aeca98e23d3e9c23,openstack/python-cinderclient,master,I7d7bebc5b29b4aa251bba784aeca98e23d3e9c23,Fix pygments style,MERGED,2020-05-20 01:52:33.000000000,2020-08-07 02:21:54.000000000,2020-08-07 02:20:24.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-20 01:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0a44eb07230e66d9366817194f65e2100e330c35', 'message': 'Fix pygments style\n\nChange-Id: I7d7bebc5b29b4aa251bba784aeca98e23d3e9c23\n'}, {'number': 2, 'created': '2020-05-20 07:42:43.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7c8217511ee5e59ee126c1ca59a764ef20a750bb', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I7d7bebc5b29b4aa251bba784aeca98e23d3e9c23\n'}]",0,729471,7c8217511ee5e59ee126c1ca59a764ef20a750bb,11,3,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I7d7bebc5b29b4aa251bba784aeca98e23d3e9c23
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/71/729471/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,0a44eb07230e66d9366817194f65e2100e330c35,,pygments_style = 'native',pygments_style = 'sphinx',2,2
openstack%2Fcinder~master~Id0262c7200e847503886b42d7470ae31ebdd346b,openstack/cinder,master,Id0262c7200e847503886b42d7470ae31ebdd346b,drop mock from lower-constraints,ABANDONED,2020-06-08 22:05:58.000000000,2020-08-07 02:09:41.000000000,,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 32029}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-08 22:05:58.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f46f121922ac2eac0a5e043884392b9827b4dc93', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Id0262c7200e847503886b42d7470ae31ebdd346b\n""}]",0,734324,f46f121922ac2eac0a5e043884392b9827b4dc93,33,27,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Id0262c7200e847503886b42d7470ae31ebdd346b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/734324/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,f46f121922ac2eac0a5e043884392b9827b4dc93,drop_mock,,mock==2.0.0,0,1
openstack%2Fopenstack-helm-infra~master~I3e06c5590d51c75448dc5ff5978dc7fc90daca6f,openstack/openstack-helm-infra,master,I3e06c5590d51c75448dc5ff5978dc7fc90daca6f,Pass parameter to skip helm tests for component in the same script,MERGED,2020-07-22 17:27:07.000000000,2020-08-07 01:52:38.000000000,2020-08-07 01:49:17.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-22 17:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/903be0a55d1252aac473a4cadda4d9b5fc8e81e8', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-22 17:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ceef10f0ead61d1ff22a947000ceaa8b63982583', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-22 17:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b8d651b36162afb9dc211a03ef22fafdf976ba2', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-30 20:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0b115f0490a97741a829c8aefb53ca8f06852b6', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-30 20:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5bdac1b78849a31b463db3151b9bc9fabe5a77e1', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-30 21:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e60f57908802c1d0bf7748b657cf726a0aad5c1', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-30 21:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be7c60a2dd0cc287a20a3a3c761d4ccd21c55b77', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-30 22:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f78f4d4620e793f559400c2141c8fd249932b39', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-30 22:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d547ec8c08425ee6e824888a64671d3fee6c075', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-30 22:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d15682d605ebb3c77262591ea89d5d5163494218', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-31 00:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46890c8c1a07d6169826e9f9d9d6b51d354d29c5', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-31 03:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9e6fa8446189c8360401301bd35ec3f3ace1949', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-31 03:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61f029fe3d50f2409fe777baa4182d2830761bb4', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-31 03:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ad73badeec23b0e55deeb6ebd830d969d3b49f1', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-07-31 03:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fba7f64058a38d387f75a750b66509cef68c270', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-08-04 23:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70c931dd3381b16f9eb5801da3325e4f2d19f397', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-08-05 03:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19e661e7373aca16d0422322b4d6441961ec7225', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-08-05 04:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f99eefe4d3e5e2d1774a628df4d1901eba77c82e', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-08-06 00:51:15.000000000', 'files': ['roles/osh-run-script/tasks/main.yaml', 'roles/osh-run-script-set/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/817efe966ca3c17b7177a890aed03612997300ea', 'message': 'Pass parameter to skip helm tests for component in the same script\n\nPass parameter from job allowing to parallelize helm tests using\nseparate scripts.\n\nChange-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,742499,817efe966ca3c17b7177a890aed03612997300ea,46,6,19,8863,,,0,"Pass parameter to skip helm tests for component in the same script

Pass parameter from job allowing to parallelize helm tests using
separate scripts.

Change-Id: I3e06c5590d51c75448dc5ff5978dc7fc90daca6f
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/742499/12 && git format-patch -1 --stdout FETCH_HEAD,['roles/osh-run-script-set/tasks/main.yaml'],1,903be0a55d1252aac473a4cadda4d9b5fc8e81e8,speed-up-osh-jobs," RUN_HELM_TESTS: ""{{ run_helm_tests_separately | defalut('no') }}""",,1,0
openstack%2Fopenstack-helm-infra~master~I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12,openstack/openstack-helm-infra,master,I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12,Allow parallelization in gate runner,MERGED,2020-07-07 05:11:32.000000000,2020-08-07 01:51:33.000000000,2020-08-07 01:49:15.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-07 05:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6720cf9fc340a56baef35299635dbe9df5fc4caa', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-07 05:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/489ed573ba59fb30cb10f4c44846a79c46d9e46b', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-07 05:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/988e856f72a261a3f7b83c0ec0e6c271bce8e41c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-07 06:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b65717f8da99fb2224a7765c1ddd97eea97010cc', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-07 06:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b62bb1c7737e78f71a345420cf4432e36cdda7a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-07 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ebe7eff82478f8e02082afd2d91fd07c6d23214', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-07 06:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/301e1ece3aa29d0a05024aff97ea320e2505e46e', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-07 06:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3d2ba5aee169a59117696d5a0c0fe5aff1201ee', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-07 06:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86996e6a6d13cea2aa0188718b08e36915286607', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-07 07:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93d599cd3a97ddf2b3fceec6215e5068631c384b', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-07 14:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b647a8ab521ec4356ec551ebd44a2e9797007909', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-07 14:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba3570d8d3036c0030a9f055d52c3a4877d4bae5', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-07 15:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b3f109a5ca56339fecdb614e5707a497f14f832', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-07 15:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad21b3a2a8e8f83a0e36a5cb435513b37ecb129f', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-07-07 16:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e81efee45094664aa3d1f70f5796693d8a97ce1a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-07-07 16:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/980a5a3b883c7cd6b131af086ca41cc0aeeb17cc', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-07-07 16:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bfc9c76a2eabd7a9144281a2ca540391576cb3a2', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-07-07 16:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/346d9856e694bc5b23cf1b3e246ac3c2aef98bed', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-07-07 17:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c65e35a8b2342e3d6511b92a1ae3da07d1fa82a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 20, 'created': '2020-07-07 17:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7424e05eae1b5566e1ba5bdd9cbb05dd31ede263', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 21, 'created': '2020-07-07 18:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21baa762bf328c09d164d60e0f3a7a84a0593f1a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 22, 'created': '2020-07-07 18:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63bfce70c086a3c4fbd81df6b023a0db20d60f3e', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 23, 'created': '2020-07-07 18:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a6ca4f968f93c27a22ce0742fa71c8afea4ec23', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 24, 'created': '2020-07-07 19:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e8b10da02e5abf2376ac1b3e11a07eff300c9ea', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 25, 'created': '2020-07-07 19:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/269f6bb74440a479f93b4d90413078c9504f9a9a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 26, 'created': '2020-07-07 20:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa9e368108fbdd23f281a6ec3282d16e8b70eb0c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 27, 'created': '2020-07-07 20:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6af7e3d8feca7c70b429520b5ed013821fd6a70', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 28, 'created': '2020-07-07 21:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/277b1fdcb07a2811c2d7013cc14d925de1df835a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 29, 'created': '2020-07-07 21:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4e278e21416922e28afffaad3bac148a7d3c604', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 30, 'created': '2020-07-07 23:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e10c9e3674d753fe8ee55700f8dc4faa9019a53', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 31, 'created': '2020-07-07 23:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c49a7bfa5286b327b7b0912c4c7556d8c0e1bfba', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 32, 'created': '2020-07-07 23:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6b554ee582ed6803d30d46638a925b9d1b126381', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 33, 'created': '2020-07-08 00:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5bb8504ccc25c70aca21baa84decc97937cbf9a8', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 34, 'created': '2020-07-08 00:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/554b2f9e3c9c7b3b40e3d1577a082feb065ad8c7', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 35, 'created': '2020-07-08 00:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/798a92386d95df579b45e990a5b6703dea35b953', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 36, 'created': '2020-07-08 00:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d322fb374bd0973daa44c956b1d22f1c7de4e30c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 37, 'created': '2020-07-08 00:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70ea8ed8b307c9b0f86a8b76ff36dcc47260bb22', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 38, 'created': '2020-07-08 01:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/849fe7d957254203ed78848dcd506f6813f78356', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 39, 'created': '2020-07-08 01:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d64b83e76b5ad021943d965b4094e260b9f3a93e', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 40, 'created': '2020-07-08 01:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee313417031fc75804ce967dba646a5267526571', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 41, 'created': '2020-07-08 02:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ac2ce92cc002fa93b6425a81f834fb6a4f21d60', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 42, 'created': '2020-07-08 02:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a26f47e8ead96608c3432c3846e21f5a8bfe76c2', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 43, 'created': '2020-07-08 02:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db765688577a70504e344e23fcc7434d140207f1', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 44, 'created': '2020-07-08 02:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2538f690ef0e8666bf5b420e10d550c7c17fc261', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 45, 'created': '2020-07-08 02:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d2702e7cba766cbdf5ec01a6888d19b2c8d6048', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 46, 'created': '2020-07-08 03:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98c38e1ed2ab72f737cc1710e911a5662929e99f', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 47, 'created': '2020-07-08 04:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f48223e54c91b37c0a654c52e655bb5ae78093f', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 48, 'created': '2020-07-08 04:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89ce78792695651551e47918acdc529f9e18ccaa', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 49, 'created': '2020-07-08 04:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c549862d4bdfa0e80a9e646759d30fdf6df1022b', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 50, 'created': '2020-07-08 13:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7bd07f19c3f3e846cf9464aae8f71c969cebf075', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 51, 'created': '2020-07-08 14:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/130eb4e75b71b7fbe2a98dfe4a099b059c38fb8c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 52, 'created': '2020-07-08 14:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fdcd57cbd14a73eb68812cbabf3c3ad0cda451c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 53, 'created': '2020-07-08 14:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb51b29fb0833e5a78066bc232fecd48aa4135ee', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 54, 'created': '2020-07-08 15:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20ed6cdee9c99846b1aaff9d948d50e0570306d3', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 55, 'created': '2020-07-08 16:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/748e209b1075117e1ac43a12932dc63768a2e09a', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 56, 'created': '2020-07-08 17:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2970ae91b1a7dfd0862b83e85f558e666506d74d', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 57, 'created': '2020-07-08 21:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8eb13b7735af9286eb50419363512b0b5ea4f06c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 58, 'created': '2020-07-08 22:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/302b00ead560876477bf6864267ac18dc6e67b9c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 59, 'created': '2020-07-09 00:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a7bc60e8a2152c210b221563f0ef880ad80f8a2', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 60, 'created': '2020-07-11 02:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe339f78c9f0a23a0ee6617f6790a4a828a88681', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 61, 'created': '2020-07-13 22:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d347fa1db3c15b6f8b45372b63346fbfe1677ee2', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 62, 'created': '2020-07-19 22:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e472cb5edf15931132f4ee43171a16482311f27c', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 63, 'created': '2020-07-19 22:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de97973d231865537473884c1f172912d709cbcc', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 64, 'created': '2020-07-22 13:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e65f4669c62db184e229d7ad81a3855e0e4a204', 'message': '[test]\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 65, 'created': '2020-07-22 14:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf2bdf9a0e54f3cc211ffabca90ba2ed7ec1c6ba', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 66, 'created': '2020-07-30 20:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/385a176c2f118200d1b08dd99df8ee78ccd8c307', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 67, 'created': '2020-07-30 20:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5662dddc0bad3ad3a35adb04ec4190b58b7c9666', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 68, 'created': '2020-07-30 20:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3087466f5c3d98e227e8b68c58dd3ff9fdfed2e', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 69, 'created': '2020-07-30 21:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/929ed7e928a738a8e56b275aa0cc9065ed16c178', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 70, 'created': '2020-07-30 21:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/700ba19eec1335bb6e88bc844ccc4df94672c8de', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 71, 'created': '2020-07-30 22:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40b1c7db5946363383e71abd049863f4151341ee', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 72, 'created': '2020-07-30 22:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05dc92447d2587c4c05a3f6a7f286ec50d87264d', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 73, 'created': '2020-07-30 22:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6728c1dfa549b4c7a99adcc3fbe5bc35b3f8a6f1', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 74, 'created': '2020-07-30 23:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff9d66314538013fec3b53331a7be222dc96ceca', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 75, 'created': '2020-07-30 23:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37f5dc0a78cd2ca4d8e15ec88bc914926cf9173e', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 76, 'created': '2020-07-30 23:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd657d2a2941043e3fd1677ac3534d84fea20bd6', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 77, 'created': '2020-07-30 23:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44ac9fd0ec008f8cc8df3acbfd7ef4999dbc9218', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 78, 'created': '2020-07-31 00:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7667d5281fe6ba78d92498fdd85d459e7d7a9048', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 79, 'created': '2020-07-31 03:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ea3bf5a78079205c50d3b1d7923600edd94391a', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 80, 'created': '2020-07-31 03:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a29a91d94db2d4d9f0c95e058de62dd12ff79d80', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 81, 'created': '2020-07-31 03:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/22897772648b9aee9a797ec7d0954c4a58c15dfb', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 82, 'created': '2020-08-04 23:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47bf69fde8496acef437abd1741454856d25e389', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 83, 'created': '2020-08-05 03:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a5d2b14b0b88b82077fd17ea3a19ec6b0d98511', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 84, 'created': '2020-08-05 04:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/809c0564006623c14314b01294e222da21dc56d4', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 85, 'created': '2020-08-06 00:51:11.000000000', 'files': ['playbooks/osh-infra-gate-runner.yaml', 'yamllint.conf', 'roles/osh-run-script-set/defaults/main.yaml', 'roles/osh-run-script/tasks/main.yaml', 'zuul.d/jobs.yaml', 'roles/osh-run-script-set/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fdcbd037847298aa19af6b2bb5be3e36ed9505f2', 'message': 'Allow parallelization in gate runner\n\nChange-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,739659,fdcbd037847298aa19af6b2bb5be3e36ed9505f2,155,6,85,8863,,,0,"Allow parallelization in gate runner

Change-Id: I393a22cfcaecb00d14d8ac643bd4b7ffbba03b12
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/739659/31 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/osh-infra-gate-runner.yaml', 'roles/osh-run-script/tasks/main.yaml', 'zuul.d/jobs.yaml']",3,6720cf9fc340a56baef35299635dbe9df5fc4caa,speed-up-osh-jobs, - - ./tools/deployment/osh-infra-logging/000-install-packages.sh - - ./tools/deployment/osh-infra-logging/019-setup-ceph-loopback-device.sh - - ./tools/deployment/osh-infra-logging/005-deploy-k8s.sh - - ./tools/deployment/osh-infra-logging/010-ingress.sh - - ./tools/deployment/osh-infra-logging/020-ceph.sh - - ./tools/deployment/osh-infra-logging/025-ceph-ns-activate.sh - ./tools/deployment/osh-infra-logging/030-radosgw-osh-infra.sh - ./tools/deployment/osh-infra-logging/040-ldap.sh - ./tools/deployment/osh-infra-logging/050-elasticsearch.sh - - ./tools/deployment/osh-infra-logging/060-fluentd-daemonset.sh - ./tools/deployment/osh-infra-logging/065-fluentd-deployment.sh - ./tools/deployment/osh-infra-logging/070-kibana.sh - ./tools/deployment/osh-infra-logging/600-kibana-selenium.sh || true, - ./tools/deployment/osh-infra-logging/000-install-packages.sh - ./tools/deployment/osh-infra-logging/019-setup-ceph-loopback-device.sh - ./tools/deployment/osh-infra-logging/005-deploy-k8s.sh - ./tools/deployment/osh-infra-logging/010-ingress.sh - ./tools/deployment/osh-infra-logging/020-ceph.sh - ./tools/deployment/osh-infra-logging/025-ceph-ns-activate.sh - ./tools/deployment/osh-infra-logging/030-radosgw-osh-infra.sh - ./tools/deployment/osh-infra-logging/040-ldap.sh - ./tools/deployment/osh-infra-logging/050-elasticsearch.sh - ./tools/deployment/osh-infra-logging/060-fluentd-daemonset.sh - ./tools/deployment/osh-infra-logging/065-fluentd-deployment.sh - ./tools/deployment/osh-infra-logging/070-kibana.sh - ./tools/deployment/osh-infra-logging/600-kibana-selenium.sh || true,17,16
openstack%2Floci~master~I0282b57ab27a51698f55294037dd3429d6a11416,openstack/loci,master,I0282b57ab27a51698f55294037dd3429d6a11416,Workaround unicode issue with py2 and scandir==1.4,MERGED,2020-08-01 03:30:15.000000000,2020-08-07 01:48:08.000000000,2020-08-07 01:48:08.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 03:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/49ab2b556aaa18129bd479751b8b122b4498b3b1', 'message': 'Workaround unicode issue with py2 and scandir==1.4\n\nChange-Id: I0282b57ab27a51698f55294037dd3429d6a11416\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-01 04:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/79dc3f0abf0253d1a97b6740c291dc32b6ed6d1f', 'message': 'Workaround unicode issue with py2 and scandir==1.4\n\nChange-Id: I0282b57ab27a51698f55294037dd3429d6a11416\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-01 04:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8d49df2835235d073c452cc01f38deed25779f95', 'message': 'Workaround unicode issue with py2 and scandir==1.4\n\nChange-Id: I0282b57ab27a51698f55294037dd3429d6a11416\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-08-01 04:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ebeb21e470c04da416c865db3887203794bf3bbc', 'message': 'Workaround unicode issue with py2 and scandir==1.4\n\nChange-Id: I0282b57ab27a51698f55294037dd3429d6a11416\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-08-01 05:37:43.000000000', 'files': ['scripts/requirements.sh', '.zuul.d/manila.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/3e78a46caf700aa6ba0bc176b3702c7ccfbf290c', 'message': 'Workaround unicode issue with py2 and scandir==1.4\n\nAlso move manila ocata to eol.\n\nChange-Id: I0282b57ab27a51698f55294037dd3429d6a11416\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,744271,3e78a46caf700aa6ba0bc176b3702c7ccfbf290c,15,4,5,8863,,,0,"Workaround unicode issue with py2 and scandir==1.4

Also move manila ocata to eol.

Change-Id: I0282b57ab27a51698f55294037dd3429d6a11416
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/loci refs/changes/71/744271/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/setup_pip.sh'],1,49ab2b556aaa18129bd479751b8b122b4498b3b1,,"# workaround unicode issue with 44.1.1 setuptools on python2 and scandir 1.4 [[ ""${PYTHON3}"" != ""no"" ]] && pip install ""scandir==1.4"" ",,3,0
openstack%2Fdiskimage-builder~master~Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7,openstack/diskimage-builder,master,Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7,Update the tox minversion parameter.,MERGED,2020-07-01 08:19:55.000000000,2020-08-07 01:47:11.000000000,2020-08-07 01:45:54.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-01 08:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/35a3c8c3b8a2b878bdd7cb21c4d9503e72ef2a9e', 'message': ""Update the tox minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7\n""}, {'number': 2, 'created': '2020-07-21 11:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/90650241098ad02c21e5b4655c3a852e3b771ec4', 'message': ""Update the tox minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7\n""}, {'number': 3, 'created': '2020-07-28 08:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f329693108f1f97f5503e222842ac91b5b0f6f54', 'message': ""Update the tox minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7\n""}, {'number': 4, 'created': '2020-08-04 10:37:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b4e520d125cee9d9fb193ac3d3247eb0e004252d', 'message': ""Update the tox minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7\n""}]",1,738754,b4e520d125cee9d9fb193ac3d3247eb0e004252d,33,7,4,31245,,,0,"Update the tox minversion parameter.

Update the minversion parameter to use the python -m pip to install
python packages:

https://tox.readthedocs.io/en/latest/changelog.html#id185

It's recommend to use this.

Change-Id: Ifd00b2f45533402d0f69ea53b6b3a7d5922691a7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/54/738754/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35a3c8c3b8a2b878bdd7cb21c4d9503e72ef2a9e,update_tox_min_version,minversion = 3.2.0,minversion = 3.1.1,1,1
openstack%2Fos-brick~master~I9b2c120f074f60b9af6dd81718a5287656040aba,openstack/os-brick,master,I9b2c120f074f60b9af6dd81718a5287656040aba,prepend platform info to by-path string,MERGED,2020-02-10 10:14:56.000000000,2020-08-07 01:19:30.000000000,2020-08-06 22:48:29.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 29071}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-02-10 10:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9b7bc31f6d8b299d096cc7840468f4548e1fc922', 'message': ""prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530, most of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 2, 'created': '2020-02-10 12:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/193e287a10e37517b92998f8e77001e41f33f525', 'message': ""prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530, most of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 3, 'created': '2020-03-05 02:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ee92b17acc4f048827725ea5607f891e60b52f94', 'message': ""Prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530, most of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 4, 'created': '2020-03-12 09:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/50b9bb25c063fab81ac2513a7738bc966e7c1963', 'message': ""Prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at \nhttps://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530,\nmost of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 5, 'created': '2020-07-30 14:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1e7a4c80cb3e7bc4530755de91e6f35f4646d997', 'message': ""prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530, most of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 6, 'created': '2020-07-30 14:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2e48beab2a243c34f485305d6b643ef24147d4ba', 'message': ""prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530, most of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 7, 'created': '2020-07-31 13:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2ff50a869e259a98ee9194e06ebea91457ea3eeb', 'message': ""prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nby looking at https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530, most of the time, current code works,\nbut when system supports platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}, {'number': 8, 'created': '2020-08-03 13:14:23.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'releasenotes/notes/bug-1862443-e87ef38b60f9b979.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7c9020f00689220e2815fac9cf067f78dabeaf5e', 'message': ""prepend platform info to by-path string\n\nBy default, udev will set device by-path name to its ID_PATH.\n\nLooking at [1], most of the time, current code works,\nbut when system uses platform, then disk name will be prefixed by\n'platform-xxxxx'.\n\n[1]: https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530\n\nChange-Id: I9b2c120f074f60b9af6dd81718a5287656040aba\nCloses-Bug: #1862443\n""}]",20,706780,7c9020f00689220e2815fac9cf067f78dabeaf5e,136,23,8,29071,,,0,"prepend platform info to by-path string

By default, udev will set device by-path name to its ID_PATH.

Looking at [1], most of the time, current code works,
but when system uses platform, then disk name will be prefixed by
'platform-xxxxx'.

[1]: https://github.com/systemd/systemd/blob/a0be5386168a39337d879a9f7d4bd224a42250f2/src/udev/udev-builtin-path_id.c#L530

Change-Id: I9b2c120f074f60b9af6dd81718a5287656040aba
Closes-Bug: #1862443
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/80/706780/8 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py']",2,9b7bc31f6d8b299d096cc7840468f4548e1fc922,bug/1862443," for platform, pci_num, target_wwn, lun in possible_devs:"," for pci_num, target_wwn, lun in possible_devs:",18,6
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fussuri~Icf4bf61d871ca843b107f3271b859f0441b2ea69,openstack/openstack-ansible-os_ceilometer,stable/ussuri,Icf4bf61d871ca843b107f3271b859f0441b2ea69,Revert CentOS 8 jobs to voting,MERGED,2020-08-05 07:06:29.000000000,2020-08-07 01:08:10.000000000,2020-08-07 01:05:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-05 07:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/bb04256b0fcb9ac9d015f7a0152abd2633b8d4c1', 'message': 'Revert CentOS 8 jobs to voting\n\nChange-Id: Icf4bf61d871ca843b107f3271b859f0441b2ea69\n(cherry picked from commit e7a5487ff238b9208c7a6f653de1d3c0b247c5f6)\n'}, {'number': 2, 'created': '2020-08-05 10:24:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/82cca84626b31b84e0a7acc980e12f893fcd75cd', 'message': 'Revert CentOS 8 jobs to voting\n\nDepedns-On: https://review.opendev.org/744877\nChange-Id: Icf4bf61d871ca843b107f3271b859f0441b2ea69\n(cherry picked from commit e7a5487ff238b9208c7a6f653de1d3c0b247c5f6)\n'}]",0,744828,82cca84626b31b84e0a7acc980e12f893fcd75cd,16,3,2,25023,,,0,"Revert CentOS 8 jobs to voting

Depedns-On: https://review.opendev.org/744877
Change-Id: Icf4bf61d871ca843b107f3271b859f0441b2ea69
(cherry picked from commit e7a5487ff238b9208c7a6f653de1d3c0b247c5f6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/28/744828/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bb04256b0fcb9ac9d015f7a0152abd2633b8d4c1,osa/el8-stable/ussuri,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false,0,12
openstack%2Ftrove-integration~master~Ib2c5398f91434ebdb8af7d90e9cc637e0e367a82,openstack/trove-integration,master,Ib2c5398f91434ebdb8af7d90e9cc637e0e367a82,update source link in readme,ABANDONED,2019-10-15 09:18:10.000000000,2020-08-07 00:48:04.000000000,,[],"[{'number': 1, 'created': '2019-10-15 09:18:10.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/9759b5d37c6f14670fef3e038ea61043676c8c5c', 'message': 'update source link in readme\n\nChange-Id: Ib2c5398f91434ebdb8af7d90e9cc637e0e367a82\n'}]",0,688658,9759b5d37c6f14670fef3e038ea61043676c8c5c,2,0,1,30384,,,0,"update source link in readme

Change-Id: Ib2c5398f91434ebdb8af7d90e9cc637e0e367a82
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/58/688658/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,9759b5d37c6f14670fef3e038ea61043676c8c5c,,http://opendev.org/openstack/trove#openstack-trove on Freenode. ,http://git.openstack.org/openstack/trove#openstack-trove on Freenode.,2,2
openstack%2Fgovernance~master~I363389f7b7f1572daf89a390e979b2e1e586deaf,openstack/governance,master,I363389f7b7f1572daf89a390e979b2e1e586deaf,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:03:52.000000000,2020-08-07 00:47:46.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/71a18237d2429737b309a441351aca5808d87d4b', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I363389f7b7f1572daf89a390e979b2e1e586deaf\n'}, {'number': 2, 'created': '2020-07-27 11:22:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/governance/commit/9fbcd7c34adb37c94d140f53e50711e2eb28d770', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nFew job like tempest-full-multinode and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Bionic till stable/ussuri and\non focal from master(victoria) onwards.\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nChange-Id: I363389f7b7f1572daf89a390e979b2e1e586deaf\n'}]",1,740851,9fbcd7c34adb37c94d140f53e50711e2eb28d770,11,5,2,30384,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Few job like tempest-full-multinode and plugin sanity job needs to override
the nodeset. multinode job needs to run on Bionic till stable/ussuri and
on focal from master(victoria) onwards.

stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

Change-Id: I363389f7b7f1572daf89a390e979b2e1e586deaf
",git fetch https://review.opendev.org/openstack/governance refs/changes/51/740851/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,71a18237d2429737b309a441351aca5808d87d4b,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fopenstack-zuul-jobs~master~I1ac0464673e59ef18a5f0ee678c839a1780d7f01,openstack/openstack-zuul-jobs,master,I1ac0464673e59ef18a5f0ee678c839a1780d7f01,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:45:20.000000000,2020-08-07 00:47:39.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:45:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c5e6bd9e262e32433c03d98b4b87eace766b0f0c', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I1ac0464673e59ef18a5f0ee678c839a1780d7f01\n'}]",2,740875,c5e6bd9e262e32433c03d98b4b87eace766b0f0c,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I1ac0464673e59ef18a5f0ee678c839a1780d7f01
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/75/740875/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c5e6bd9e262e32433c03d98b4b87eace766b0f0c,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Fos-testr~master~I52afab1ff46891b3477caab2f4f31d55b2c50093,openstack/os-testr,master,I52afab1ff46891b3477caab2f4f31d55b2c50093,migrate testing to ubuntu focal,ABANDONED,2020-07-14 06:08:15.000000000,2020-08-07 00:47:31.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 06:08:15.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/6ae5d47673a534f582de49cc40303d4f58bc35d1', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I52afab1ff46891b3477caab2f4f31d55b2c50093\n'}]",1,740889,6ae5d47673a534f582de49cc40303d4f58bc35d1,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I52afab1ff46891b3477caab2f4f31d55b2c50093
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/89/740889/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6ae5d47673a534f582de49cc40303d4f58bc35d1,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fopenstacksdk~master~Ida7e1631a49b5a1f0283fb646122157e52af8724,openstack/openstacksdk,master,Ida7e1631a49b5a1f0283fb646122157e52af8724,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:37:18.000000000,2020-08-07 00:47:24.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:37:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6670663d64b57abfc8212b6a7dd41993f6a204cc', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ida7e1631a49b5a1f0283fb646122157e52af8724\n'}]",0,740870,6670663d64b57abfc8212b6a7dd41993f6a204cc,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ida7e1631a49b5a1f0283fb646122157e52af8724
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/70/740870/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6670663d64b57abfc8212b6a7dd41993f6a204cc,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Fopenstack-health~master~Ic6f39dccc2a6d69cd95586980f1e762bfebcf511,openstack/openstack-health,master,Ic6f39dccc2a6d69cd95586980f1e762bfebcf511,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:51:13.000000000,2020-08-07 00:47:10.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:51:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/fca7e1d820a06da7a47a6ae91de3d8bbf99565d0', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ic6f39dccc2a6d69cd95586980f1e762bfebcf511\n'}]",0,740865,fca7e1d820a06da7a47a6ae91de3d8bbf99565d0,5,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ic6f39dccc2a6d69cd95586980f1e762bfebcf511
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/65/740865/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fca7e1d820a06da7a47a6ae91de3d8bbf99565d0,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Fnova-specs~master~I31795585615ee24d029e10538061f313895d76c3,openstack/nova-specs,master,I31795585615ee24d029e10538061f313895d76c3,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:43:05.000000000,2020-08-07 00:46:35.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-07-14 03:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/aec8133a66f31b3f6b444a78f54bb80d036b5259', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I31795585615ee24d029e10538061f313895d76c3\n'}, {'number': 2, 'created': '2020-07-16 07:45:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/59fbb5a9118a3eb1e546159e18a367b8a7d5970c', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40178\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I31795585615ee24d029e10538061f313895d76c3\n'}]",0,740863,59fbb5a9118a3eb1e546159e18a367b8a7d5970c,12,6,2,30384,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40178

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I31795585615ee24d029e10538061f313895d76c3
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/63/740863/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,aec8133a66f31b3f6b444a78f54bb80d036b5259,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fkolla~master~Ib3efb88b546bd0df863713f2f3c4ddfcc7fa40a4,openstack/kolla,master,Ib3efb88b546bd0df863713f2f3c4ddfcc7fa40a4,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:36:59.000000000,2020-08-07 00:46:23.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-14 03:36:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/42671b33bcd9de18db436310bf880d1a6aa532b6', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ib3efb88b546bd0df863713f2f3c4ddfcc7fa40a4\n'}]",0,740859,42671b33bcd9de18db436310bf880d1a6aa532b6,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ib3efb88b546bd0df863713f2f3c4ddfcc7fa40a4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/740859/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,42671b33bcd9de18db436310bf880d1a6aa532b6,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fkeystonemiddleware~master~Ic8ed81264df48155398f6d23adfc632eabe8a95d,openstack/keystonemiddleware,master,Ic8ed81264df48155398f6d23adfc632eabe8a95d,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:35:18.000000000,2020-08-07 00:46:02.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:35:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2f8592613f1d98f94f715381ec51744146de0306', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ic8ed81264df48155398f6d23adfc632eabe8a95d\n'}]",1,740858,2f8592613f1d98f94f715381ec51744146de0306,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ic8ed81264df48155398f6d23adfc632eabe8a95d
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/58/740858/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2f8592613f1d98f94f715381ec51744146de0306,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fkuryr-kubernetes~master~I60a857c9cd28a1b3053e1b6393da76e6865b5987,openstack/kuryr-kubernetes,master,I60a857c9cd28a1b3053e1b6393da76e6865b5987,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:39:50.000000000,2020-08-07 00:45:29.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:39:50.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0973a90f61b294d90c0e32ad560110537053aaae', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I60a857c9cd28a1b3053e1b6393da76e6865b5987\n'}]",0,740861,0973a90f61b294d90c0e32ad560110537053aaae,7,5,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I60a857c9cd28a1b3053e1b6393da76e6865b5987
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/61/740861/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0973a90f61b294d90c0e32ad560110537053aaae,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fkeystoneauth~master~I6e4da6416b723ebb8fa39577c9757d20f8b81267,openstack/keystoneauth,master,I6e4da6416b723ebb8fa39577c9757d20f8b81267,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:25:21.000000000,2020-08-07 00:45:18.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:25:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6835ae8f51e0386d87390843b56a442f079285ce', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I6e4da6416b723ebb8fa39577c9757d20f8b81267\n'}]",0,740856,6835ae8f51e0386d87390843b56a442f079285ce,5,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I6e4da6416b723ebb8fa39577c9757d20f8b81267
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/56/740856/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6835ae8f51e0386d87390843b56a442f079285ce,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fkeystone~master~I66ce245a689e5a60ac718e5136256e0bcf3207d0,openstack/keystone,master,I66ce245a689e5a60ac718e5136256e0bcf3207d0,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:24:02.000000000,2020-08-07 00:45:07.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:24:02.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b72a02393d2c20e45c9f5c38a47a966d7584fda1', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I66ce245a689e5a60ac718e5136256e0bcf3207d0\n'}]",0,740855,b72a02393d2c20e45c9f5c38a47a966d7584fda1,5,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I66ce245a689e5a60ac718e5136256e0bcf3207d0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/740855/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b72a02393d2c20e45c9f5c38a47a966d7584fda1,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fdesignate~master~I6ac24fdc4baa9e5bc62bbc9fdcfcc07ffbd62393,openstack/designate,master,I6ac24fdc4baa9e5bc62bbc9fdcfcc07ffbd62393,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:12:07.000000000,2020-08-07 00:44:56.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:12:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/5ce79a316b7a9c5744233638eb6bb706dcac40d0', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I6ac24fdc4baa9e5bc62bbc9fdcfcc07ffbd62393\n'}]",0,740853,5ce79a316b7a9c5744233638eb6bb706dcac40d0,5,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I6ac24fdc4baa9e5bc62bbc9fdcfcc07ffbd62393
",git fetch https://review.opendev.org/openstack/designate refs/changes/53/740853/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5ce79a316b7a9c5744233638eb6bb706dcac40d0,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fironic~stable%2Fussuri~I13da6275c04ffc6237a7f2edf25c03b4ddee936a,openstack/ironic,stable/ussuri,I13da6275c04ffc6237a7f2edf25c03b4ddee936a,Update number of VM on ironic-base,MERGED,2020-08-03 18:56:34.000000000,2020-08-07 00:43:15.000000000,2020-08-07 00:39:51.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 18:56:34.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3730c92ce35ca30ff15d5d8310f4dd37092fbb14', 'message': ""Update number of VM on ironic-base\n\nSince we merged the change to have partition and wholedisk\ntesting on basic_ops most of the jobs started requiring 2 VMs\nto run the tempest tets.\n\nLet's increase on the ironic-base so all jobs will be default to 2.\n\nRemoving IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.\n\nChange-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a\n(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)\n""}]",0,744538,3730c92ce35ca30ff15d5d8310f4dd37092fbb14,19,7,1,11655,,,0,"Update number of VM on ironic-base

Since we merged the change to have partition and wholedisk
testing on basic_ops most of the jobs started requiring 2 VMs
to run the tempest tets.

Let's increase on the ironic-base so all jobs will be default to 2.

Removing IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.

Change-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a
(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/744538/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,3730c92ce35ca30ff15d5d8310f4dd37092fbb14,, IRONIC_VM_COUNT: 2, IRONIC_VM_COUNT: 1 IRONIC_VM_COUNT: 2 IRONIC_VM_COUNT: 2 IRONIC_VM_COUNT: 2,1,4
openstack%2Fpuppet-nova~master~I4c3d6b9ab9a23606a3c1053ae8399b4131cdff8d,openstack/puppet-nova,master,I4c3d6b9ab9a23606a3c1053ae8399b4131cdff8d,DNM: Test CentOS8 beaker job,ABANDONED,2020-08-06 23:40:25.000000000,2020-08-07 00:12:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-06 23:40:25.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/44cc038308caf5c4aa0c45e8cc106956b048d74d', 'message': 'DNM: Test CentOS8 beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I4c3d6b9ab9a23606a3c1053ae8399b4131cdff8d\n'}]",0,745247,44cc038308caf5c4aa0c45e8cc106956b048d74d,3,1,1,9816,,,0,"DNM: Test CentOS8 beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I4c3d6b9ab9a23606a3c1053ae8399b4131cdff8d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/47/745247/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,44cc038308caf5c4aa0c45e8cc106956b048d74d,centos8-beaker,,,0,0
openstack%2Fironic~stable%2Fussuri~I8e759168f1dc81cdcf430f3e33be990731595ec3,openstack/ironic,stable/ussuri,I8e759168f1dc81cdcf430f3e33be990731595ec3,Remove locks before RPC bus is started,MERGED,2020-07-29 17:33:06.000000000,2020-08-06 23:53:55.000000000,2020-08-06 23:52:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-29 17:33:06.000000000', 'files': ['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/062872bce05910724e9685bb8d66100fcb68b684', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n""}]",0,743808,062872bce05910724e9685bb8d66100fcb68b684,24,7,1,11655,,,0,"Remove locks before RPC bus is started

A partner performing some testing recognized a case where if a request
is sent to the Ironic Conductor while it is in the process of starting,
and the request makes it into be processed, yet latter the operation
fails with errors such as NodeNotLocked exception. Notably they were
able to reproduce this by requesting the attachment or detachment of
a VIF at the same time as restarting the conductor.

In part, this condition is due to to the conductor being restarted
where the conductors table includes the node being restarted and
the webserver has not possibly had a chance to observe that the
conductor is in the process of restarting as the hash ring is
still valid.

In short - Incoming RPC requests can come in during the initialization
window and as such we should not remove locks while the conductor could
possibly already be receiving work.

As such, we've added a ``prepare_host`` method which initializes
the conductor database connection and removes the stale locks.
Under normal operating conditions, the database client is reused.

rhbz# 1847305

Change-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3
(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/743808/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml']",6,062872bce05910724e9685bb8d66100fcb68b684,740360-stable/ussuri,--- fixes: - | Fixes an issue where ``ironic-conductor`` initialization could return a ``NodeNotLocked`` error for requests requiring locks when the conductor was starting. This was due to the conductor removing locks after beginning accepting new work. The lock removal has been moved to after the Database connectivity has been established but before the RPC bus is initialized. ,,54,6
openstack%2Fneutron~stable%2Ftrain~I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,openstack/neutron,stable/train,I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,Don't check if any bridges were recrected when OVS was restarted,MERGED,2020-08-03 09:47:50.000000000,2020-08-06 23:47:11.000000000,2020-08-06 23:45:15.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 09:47:50.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25078dd730c74bf2e344b955b39fa797b13a5d0a', 'message': ""Don't check if any bridges were recrected when OVS was restarted\n\nIn case when openvswitch was restarted, full sync of all bridges will\nbe always triggered by neutron-ovs-agent so there is no need to check\nin same rpc_loop iteration if bridges were recreated.\n\nChange-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759\nRelated-bug: #1864822\n(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)\n(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)\n""}]",0,744436,25078dd730c74bf2e344b955b39fa797b13a5d0a,19,6,1,11975,,,0,"Don't check if any bridges were recrected when OVS was restarted

In case when openvswitch was restarted, full sync of all bridges will
be always triggered by neutron-ovs-agent so there is no need to check
in same rpc_loop iteration if bridges were recreated.

Change-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759
Related-bug: #1864822
(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)
(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/744436/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,25078dd730c74bf2e344b955b39fa797b13a5d0a,bug/1864822-stable/ussuri-stable/train," bridges_recreated = False else: # Check if any physical bridge wasn't recreated recently, # in case when openvswitch was restarted, it's not needed added_bridges = idl_monitor.bridges_added + self.added_bridges bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated"," # Check if any physical bridge wasn't recreated recently added_bridges = idl_monitor.bridges_added + self.added_bridges bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated",12,9
openstack%2Ftripleo-common~stable%2Ftrain~I3c4e6e21259f97ea794111a9d68b1ffec1f733e0,openstack/tripleo-common,stable/train,I3c4e6e21259f97ea794111a9d68b1ffec1f733e0,"Revert ""Fix stdout_callback""",MERGED,2020-07-27 18:18:54.000000000,2020-08-06 23:35:39.000000000,2020-08-06 23:34:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-27 18:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c833c29ad2b66320e88de1fe25b2a4add08aefd', 'message': 'Revert ""Fix stdout_callback""\n\nThis reverts commit e91a484711d946a3f560b28398d5b493211da4c3.\n\nWe haven\'t switched to dense in tripleoclient yet so this\nmakes it a mixed output with profile_tasks instead of\ntripleo_profile_tasks. Let\'s revert this until we\'re ready\nto completely switch.\n\nChange-Id: I3c4e6e21259f97ea794111a9d68b1ffec1f733e0\n'}, {'number': 2, 'created': '2020-08-06 17:35:19.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e0c8d7770aa36aba353e5c70174c1f5ca7a59ae0', 'message': 'Revert ""Fix stdout_callback""\n\nThis reverts commit e91a484711d946a3f560b28398d5b493211da4c3.\n\nWe haven\'t switched to dense in tripleoclient yet so this\nmakes it a mixed output with profile_tasks instead of\ntripleo_profile_tasks. Let\'s revert this until we\'re ready\nto completely switch.\n\nChange-Id: I3c4e6e21259f97ea794111a9d68b1ffec1f733e0\n'}]",0,743301,e0c8d7770aa36aba353e5c70174c1f5ca7a59ae0,39,6,2,14985,,,0,"Revert ""Fix stdout_callback""

This reverts commit e91a484711d946a3f560b28398d5b493211da4c3.

We haven't switched to dense in tripleoclient yet so this
makes it a mixed output with profile_tasks instead of
tripleo_profile_tasks. Let's revert this until we're ready
to completely switch.

Change-Id: I3c4e6e21259f97ea794111a9d68b1ffec1f733e0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/743301/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,8c833c29ad2b66320e88de1fe25b2a4add08aefd,callback-improvement-stable/train," config.set('defaults', 'stdout_callback', 'tripleo')"," config.set('defaults', 'stdout_callback', 'tripleo_dense')",1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7b16f409cceb1c41ceedf8dfdae6ffd06ec59410,openstack/tripleo-heat-templates,stable/queens,I7b16f409cceb1c41ceedf8dfdae6ffd06ec59410,[QUEENS ONLY] Don't check openvswitch service if no ovs package.,MERGED,2020-07-30 15:26:26.000000000,2020-08-06 23:34:13.000000000,2020-08-06 23:34:13.000000000,"[{'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 7130}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-30 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f44c349c9582acd98b8fe0060583cbe309357dfa', 'message': ""[QUEENS ONLY] Don't check openvswitch service if no ovs package.\n\nWe only try to restart the ovs service if the package is present on\nthe host.\n\nWe also make sure that some tasks don't run on every step by providing\nthe necessary conditionals.\n\nQueens only because:\n - master to stein ovs tasks are refactor to use an ansible module and\n   we are careful to not error out when ovs isn't present.\n - rocky doesn't have the update tasks workaround for ovs.\n\nChange-Id: I7b16f409cceb1c41ceedf8dfdae6ffd06ec59410\nCloses-Bug: #1875743\n""}, {'number': 2, 'created': '2020-07-30 15:29:51.000000000', 'files': ['puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91765ac59928ea27b90ce6e1b4bed31c69e9f435', 'message': ""[QUEENS ONLY] Don't check openvswitch service if no ovs package.\n\nWe only try to restart the ovs service if the package is present on\nthe host.\n\nWe also make sure that some tasks don't run on every step by providing\nthe necessary conditionals.\n\nQueens only because:\n - master to stein ovs tasks are refactor to use an ansible module and\n   we are careful to not error out when ovs isn't present.\n - rocky doesn't have the update tasks workaround for ovs.\n\nChange-Id: I7b16f409cceb1c41ceedf8dfdae6ffd06ec59410\nCloses-Bug: #1875743\n""}]",0,744000,91765ac59928ea27b90ce6e1b4bed31c69e9f435,10,9,2,8297,,,0,"[QUEENS ONLY] Don't check openvswitch service if no ovs package.

We only try to restart the ovs service if the package is present on
the host.

We also make sure that some tasks don't run on every step by providing
the necessary conditionals.

Queens only because:
 - master to stein ovs tasks are refactor to use an ansible module and
   we are careful to not error out when ovs isn't present.
 - rocky doesn't have the update tasks workaround for ovs.

Change-Id: I7b16f409cceb1c41ceedf8dfdae6ffd06ec59410
Closes-Bug: #1875743
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/744000/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-packages.yaml'],1,f44c349c9582acd98b8fe0060583cbe309357dfa,, when: - step|int == 2 or step|int == 3 when: - step|int == 2 or step|int == 3 when: - step|int == 2 - run_ovs_update|bool when: - step|int == 2 or step|int == 3 when: - step|int == 2 or step|int == 3 when: - step|int == 3 - run_ovs_update|bool, when: step|int == 2 when: step|int == 3,14,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9238cd35a1114b1649a38ab4f24225865bcecf19,openstack/tripleo-heat-templates,stable/train,I9238cd35a1114b1649a38ab4f24225865bcecf19,Align kernel args for system upgrade using leapp,MERGED,2020-08-06 03:59:04.000000000,2020-08-06 23:34:11.000000000,2020-08-06 23:34:11.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-06 03:59:04.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f382ac90a635e8f5d0f2244be4b18893ec82202', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp is looking for errors in /etc/default/grub and\nfixes it during upgrade. It does not recognize entries\nstarting other than ""GRUB"", as tripleo sets the entry\nstarting with TRIPLEO_ instead of GRUB, append the\nentry with GRUB_ so that leapp upgrades correctly.\nCloses-Bug: #1890080\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n(cherry picked from commit f217eccc7720250a64a0877061063acf0951b495)\n'}]",0,745059,2f382ac90a635e8f5d0f2244be4b18893ec82202,9,7,1,18575,,,0,"Align kernel args for system upgrade using leapp

leapp is looking for errors in /etc/default/grub and
fixes it during upgrade. It does not recognize entries
starting other than ""GRUB"", as tripleo sets the entry
starting with TRIPLEO_ instead of GRUB, append the
entry with GRUB_ so that leapp upgrades correctly.
Closes-Bug: #1890080
Change-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19
(cherry picked from commit f217eccc7720250a64a0877061063acf0951b495)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/745059/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'],1,2f382ac90a635e8f5d0f2244be4b18893ec82202,leapp_kernel_args_fix-stable/ussuri-stable/train, upgrade_tasks: - name: upgrade prepare for leapp to align kernel arg shortcommings in leapp tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled block: - name: fix grub entries to have name start with GRUB_ replace: path: '/etc/default/grub' regexp: '^(TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS)(.*)' replace: 'GRUB_\1\2' - name: fix grub entries in append statement replace: path: '/etc/default/grub' regexp: '(.*){(TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS)}(.*)' replace: '\1{GRUB_\2}\3',,20,0
openstack%2Fpython-openstackclient~master~I7ab215dd5b080744aff2267a4f56769c95dccef3,openstack/python-openstackclient,master,I7ab215dd5b080744aff2267a4f56769c95dccef3,fix_floating_ip_delete_failed,NEW,2020-04-14 03:47:02.000000000,2020-08-06 23:08:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-04-14 03:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de8983331c7e6ab8dda5edcdcd0edd5d7d51eb30', 'message': 'fix_floating_ip_delete_failed\n\nThis change fix bug:\nhttps://bugs.launchpad.net/ubuntu/+source/python-openstackclient/+bug/1872570\n\nFloating ip delete failed if obj.description in\n./openstackclient/network/v2/floating_ip.py contains Chinese.\n\nAnd the param of floating_ip in function delete_ip can input\neither ID or a instance.\n\nIt can directly input obj.id to function delete_ip in case of\nChinese in obj instance.\n\nChange-Id: I7ab215dd5b080744aff2267a4f56769c95dccef3\nClose-Bug: #1872570\n'}, {'number': 2, 'created': '2020-04-14 06:08:27.000000000', 'files': ['openstackclient/network/v2/floating_ip.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b3b86682e193b0c4af3205cbd6c40080c341e794', 'message': 'fix_floating_ip_delete_failed\n\nThis change fix bug:\nhttps://bugs.launchpad.net/ubuntu/+source/\npython-openstackclient/+bug/1872570\n\nFloating ip delete failed if obj.description in\n./openstackclient/network/v2/floating_ip.py contains Chinese.\n\nAnd the param of floating_ip in function delete_ip can input\neither ID or a instance.\n\nIt can directly input obj.id to function delete_ip in case of\nChinese in obj instance.\n\nChange-Id: I7ab215dd5b080744aff2267a4f56769c95dccef3\nClose-Bug: #1872570\n'}]",0,719724,b3b86682e193b0c4af3205cbd6c40080c341e794,5,2,2,30736,,,0,"fix_floating_ip_delete_failed

This change fix bug:
https://bugs.launchpad.net/ubuntu/+source/
python-openstackclient/+bug/1872570

Floating ip delete failed if obj.description in
./openstackclient/network/v2/floating_ip.py contains Chinese.

And the param of floating_ip in function delete_ip can input
either ID or a instance.

It can directly input obj.id to function delete_ip in case of
Chinese in obj instance.

Change-Id: I7ab215dd5b080744aff2267a4f56769c95dccef3
Close-Bug: #1872570
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/24/719724/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/floating_ip.py'],1,de8983331c7e6ab8dda5edcdcd0edd5d7d51eb30,bug/1872570, client.delete_ip(obj.id), client.delete_ip(obj),1,1
openstack%2Fansible-role-tripleo-sensu~master~If678383b72786b42b9d1310857f735c8439fb376,openstack/ansible-role-tripleo-sensu,master,If678383b72786b42b9d1310857f735c8439fb376,Cleanup the retired repo,MERGED,2020-08-06 13:07:54.000000000,2020-08-06 23:01:06.000000000,2020-08-06 23:01:06.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-sensu/commit/1b2d7cd1bb4bc05589ed888759702bec3b879e00', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: If678383b72786b42b9d1310857f735c8439fb376\n'}]",0,745133,1b2d7cd1bb4bc05589ed888759702bec3b879e00,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: If678383b72786b42b9d1310857f735c8439fb376
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-sensu refs/changes/33/745133/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1b2d7cd1bb4bc05589ed888759702bec3b879e00,cleanup-retirement,,,0,0
openstack%2Fpython-ceilometerclient~master~I38bd85921aef1d36a32820404d540a74b3a115b3,openstack/python-ceilometerclient,master,I38bd85921aef1d36a32820404d540a74b3a115b3,Cleanup the retired repo,MERGED,2020-08-06 01:13:10.000000000,2020-08-06 23:01:04.000000000,2020-08-06 23:01:04.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:10.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/e42ce0b09f7e7fd4c02a40fa7db6b98d26b19c44', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I38bd85921aef1d36a32820404d540a74b3a115b3\n'}]",0,745034,e42ce0b09f7e7fd4c02a40fa7db6b98d26b19c44,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I38bd85921aef1d36a32820404d540a74b3a115b3
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/34/745034/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,e42ce0b09f7e7fd4c02a40fa7db6b98d26b19c44,cleanup-retirement,,,4,0
openstack%2Fkeystoneauth-saml2~master~I3f084d3fb53b82275be02f1b8ade3d693ed642a4,openstack/keystoneauth-saml2,master,I3f084d3fb53b82275be02f1b8ade3d693ed642a4,Cleanup the retired repo,MERGED,2020-08-06 00:34:18.000000000,2020-08-06 23:00:24.000000000,2020-08-06 23:00:24.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:34:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/9f8072ec2c469974c32bdb9534870311f9fd7599', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I3f084d3fb53b82275be02f1b8ade3d693ed642a4\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745002,9f8072ec2c469974c32bdb9534870311f9fd7599,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I3f084d3fb53b82275be02f1b8ade3d693ed642a4
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/keystoneauth-saml2 refs/changes/02/745002/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9f8072ec2c469974c32bdb9534870311f9fd7599,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/keystoneauth-saml2.git ,,4,0
openstack%2Fmurano-deployment~master~I8f8873963c0c2c8ce7649ea9032c86571e0faa59,openstack/murano-deployment,master,I8f8873963c0c2c8ce7649ea9032c86571e0faa59,Cleanup the retired repo,MERGED,2020-08-06 00:34:28.000000000,2020-08-06 23:00:13.000000000,2020-08-06 23:00:13.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:34:28.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/77617c0d259f7dc75ec22b84d1da3a3ff28323f3', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8f8873963c0c2c8ce7649ea9032c86571e0faa59\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745003,77617c0d259f7dc75ec22b84d1da3a3ff28323f3,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I8f8873963c0c2c8ce7649ea9032c86571e0faa59
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/murano-deployment refs/changes/03/745003/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,77617c0d259f7dc75ec22b84d1da3a3ff28323f3,cleanup-retirement,,,4,0
openstack%2Fpython-keystoneclient-kerberos~master~I19bd69d740029b50f04e114e97235ab106e8cea2,openstack/python-keystoneclient-kerberos,master,I19bd69d740029b50f04e114e97235ab106e8cea2,Cleanup the retired repo,MERGED,2020-08-06 00:34:30.000000000,2020-08-06 23:00:04.000000000,2020-08-06 23:00:04.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:34:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient-kerberos/commit/6f44b0368cfc0b6090c41ae31edaf2c01999b3e5', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I19bd69d740029b50f04e114e97235ab106e8cea2\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745004,6f44b0368cfc0b6090c41ae31edaf2c01999b3e5,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I19bd69d740029b50f04e114e97235ab106e8cea2
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/python-keystoneclient-kerberos refs/changes/04/745004/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6f44b0368cfc0b6090c41ae31edaf2c01999b3e5,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/python-keystoneclient-kerberos.git ,,4,0
openstack%2Fpython-wsmanclient~master~I3305e967af30ee4585177905fcfa54fedfb2b126,openstack/python-wsmanclient,master,I3305e967af30ee4585177905fcfa54fedfb2b126,Cleanup the retired repo,MERGED,2020-08-06 00:34:32.000000000,2020-08-06 22:59:56.000000000,2020-08-06 22:59:56.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:34:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-wsmanclient/commit/5b2f3bc5ee665eb9b11087a90289efa5bf4ed69a', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I3305e967af30ee4585177905fcfa54fedfb2b126\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745005,5b2f3bc5ee665eb9b11087a90289efa5bf4ed69a,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I3305e967af30ee4585177905fcfa54fedfb2b126
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/python-wsmanclient refs/changes/05/745005/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5b2f3bc5ee665eb9b11087a90289efa5bf4ed69a,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/python-wsmanclient.git ,,4,0
openstack%2Ffuel-upgrade~master~Ied0ba0095223d6bb2346e5833256c44123504623,openstack/fuel-upgrade,master,Ied0ba0095223d6bb2346e5833256c44123504623,Cleanup the retired repo,MERGED,2020-08-06 00:34:46.000000000,2020-08-06 22:59:48.000000000,2020-08-06 22:59:48.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:34:46.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/fuel-upgrade/commit/a3512ea5b8629904a624dcb5833ab2678b3ec9e5', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: Ied0ba0095223d6bb2346e5833256c44123504623\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745006,a3512ea5b8629904a624dcb5833ab2678b3ec9e5,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: Ied0ba0095223d6bb2346e5833256c44123504623
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/fuel-upgrade refs/changes/06/745006/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,a3512ea5b8629904a624dcb5833ab2678b3ec9e5,cleanup-retirement,,.venv *.pyc # vim swap files .*.swp # services' runtime files *.log *.pid build dist *.egg .testrepository .tox .idea .DS_Store *.egg-info ,0,19
openstack%2Fcookbook-openstack-object-storage~master~I3f68236ff3b3bf92408f75e51b2ed3bae443df72,openstack/cookbook-openstack-object-storage,master,I3f68236ff3b3bf92408f75e51b2ed3bae443df72,Cleanup the retired repo,MERGED,2020-08-06 00:36:10.000000000,2020-08-06 22:59:38.000000000,2020-08-06 22:59:38.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:36:10.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/e71755407529ebd2eb3ad46de208d72eaeb01cfd', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I3f68236ff3b3bf92408f75e51b2ed3bae443df72\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745008,e71755407529ebd2eb3ad46de208d72eaeb01cfd,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I3f68236ff3b3bf92408f75e51b2ed3bae443df72
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/cookbook-openstack-object-storage refs/changes/08/745008/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,e71755407529ebd2eb3ad46de208d72eaeb01cfd,cleanup-retirement,,,4,0
openstack%2Ffairy-slipper~master~Ib183b4bbecd09187fab8fc994b8bd0ae81f2d49d,openstack/fairy-slipper,master,Ib183b4bbecd09187fab8fc994b8bd0ae81f2d49d,Cleanup the retired repo,MERGED,2020-08-06 00:36:20.000000000,2020-08-06 22:59:29.000000000,2020-08-06 22:59:29.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:36:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/fairy-slipper/commit/dc8d5f6782f0b1c71a11cf390e7e5fd9adc14fbb', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: Ib183b4bbecd09187fab8fc994b8bd0ae81f2d49d\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745009,dc8d5f6782f0b1c71a11cf390e7e5fd9adc14fbb,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: Ib183b4bbecd09187fab8fc994b8bd0ae81f2d49d
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/fairy-slipper refs/changes/09/745009/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,dc8d5f6782f0b1c71a11cf390e7e5fd9adc14fbb,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/fairy-slipper.git ,,4,0
openstack%2Fxstatic-angular-ui-router~master~I08e6acdc1f9a3580723872e3feeca1ad74733edb,openstack/xstatic-angular-ui-router,master,I08e6acdc1f9a3580723872e3feeca1ad74733edb,Cleanup the retired repo,MERGED,2020-08-06 00:36:33.000000000,2020-08-06 22:59:21.000000000,2020-08-06 22:59:21.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:36:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-ui-router/commit/79ac67e0118bf0094d05d1e8ba698ba866dace8b', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I08e6acdc1f9a3580723872e3feeca1ad74733edb\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745010,79ac67e0118bf0094d05d1e8ba698ba866dace8b,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I08e6acdc1f9a3580723872e3feeca1ad74733edb
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/xstatic-angular-ui-router refs/changes/10/745010/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,79ac67e0118bf0094d05d1e8ba698ba866dace8b,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/xstatic-angular-ui-router.git ,,4,0
openstack%2Fdjango-openstack-auth-kerberos~master~I7862a9a95ad2bfffc7de4ecc7fc2ef2d658dd06d,openstack/django-openstack-auth-kerberos,master,I7862a9a95ad2bfffc7de4ecc7fc2ef2d658dd06d,Cleanup the retired repo,MERGED,2020-08-06 00:36:36.000000000,2020-08-06 22:59:11.000000000,2020-08-06 22:59:11.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:36:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/django-openstack-auth-kerberos/commit/5d31c8f9007949a9b905b85b5aeefadbe4311473', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I7862a9a95ad2bfffc7de4ecc7fc2ef2d658dd06d\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745011,5d31c8f9007949a9b905b85b5aeefadbe4311473,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I7862a9a95ad2bfffc7de4ecc7fc2ef2d658dd06d
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/django-openstack-auth-kerberos refs/changes/11/745011/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5d31c8f9007949a9b905b85b5aeefadbe4311473,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/django-openstack-auth-kerberos.git ,,4,0
openstack%2Fhorizon-cisco-ui~master~I598a732174edb6da241a99f8adb6dd08db1500f1,openstack/horizon-cisco-ui,master,I598a732174edb6da241a99f8adb6dd08db1500f1,Cleanup the retired repo,MERGED,2020-08-06 00:36:38.000000000,2020-08-06 22:59:03.000000000,2020-08-06 22:59:03.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:36:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/horizon-cisco-ui/commit/d05f112d130fc12c71d352cf9e0dd61d15b43a38', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I598a732174edb6da241a99f8adb6dd08db1500f1\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745012,d05f112d130fc12c71d352cf9e0dd61d15b43a38,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I598a732174edb6da241a99f8adb6dd08db1500f1
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/horizon-cisco-ui refs/changes/12/745012/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d05f112d130fc12c71d352cf9e0dd61d15b43a38,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/horizon-cisco-ui.git ,,4,0
openstack%2Fzuul-packaging~master~I8a27277145cbe445f9f5ce864f42b421f0cb0ff0,openstack/zuul-packaging,master,I8a27277145cbe445f9f5ce864f42b421f0cb0ff0,Cleanup the retired repo,MERGED,2020-08-06 00:36:49.000000000,2020-08-06 22:58:53.000000000,2020-08-06 22:58:53.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:36:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/zuul-packaging/commit/42d58b6c06a10a603ce855fb601ad831d23d8b7d', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8a27277145cbe445f9f5ce864f42b421f0cb0ff0\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745013,42d58b6c06a10a603ce855fb601ad831d23d8b7d,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I8a27277145cbe445f9f5ce864f42b421f0cb0ff0
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/zuul-packaging refs/changes/13/745013/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,42d58b6c06a10a603ce855fb601ad831d23d8b7d,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/zuul-packaging.git ,,4,0
openstack%2Fxstatic-vis~master~I8d50450c084a3ee5443454e7ac0685e0c56bb133,openstack/xstatic-vis,master,I8d50450c084a3ee5443454e7ac0685e0c56bb133,Cleanup the retired repo,MERGED,2020-08-06 00:37:06.000000000,2020-08-06 22:58:43.000000000,2020-08-06 22:58:43.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:37:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/xstatic-vis/commit/98f317a19f9cc30823020271efe4ebcdd69447ce', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8d50450c084a3ee5443454e7ac0685e0c56bb133\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745014,98f317a19f9cc30823020271efe4ebcdd69447ce,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I8d50450c084a3ee5443454e7ac0685e0c56bb133
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/xstatic-vis refs/changes/14/745014/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,98f317a19f9cc30823020271efe4ebcdd69447ce,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/xstatic-vis.git ,,4,0
openstack%2Fnetworking-generic-switch-tempest-plugin~master~I49464469c09f2f1d4ea94a82529d242d4300ddef,openstack/networking-generic-switch-tempest-plugin,master,I49464469c09f2f1d4ea94a82529d242d4300ddef,Cleanup the retired repo,MERGED,2020-08-06 00:37:30.000000000,2020-08-06 22:58:35.000000000,2020-08-06 22:58:35.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:37:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch-tempest-plugin/commit/1e613b23a58cdc5983d4c8588b85392e1fcc9052', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I49464469c09f2f1d4ea94a82529d242d4300ddef\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745015,1e613b23a58cdc5983d4c8588b85392e1fcc9052,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I49464469c09f2f1d4ea94a82529d242d4300ddef
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/networking-generic-switch-tempest-plugin refs/changes/15/745015/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1e613b23a58cdc5983d4c8588b85392e1fcc9052,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/networking-generic-switch-tempest-plugin.git ,,4,0
openstack%2Ftripleo-incubator~master~I08b3fd0db80dbbaa29b7fe6de1429094b4c7a0e8,openstack/tripleo-incubator,master,I08b3fd0db80dbbaa29b7fe6de1429094b4c7a0e8,Cleanup the retired repo,MERGED,2020-08-06 01:13:51.000000000,2020-08-06 22:57:55.000000000,2020-08-06 22:57:55.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:51.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/7e045511c89936c6e9f47d81247c32098777a440', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I08b3fd0db80dbbaa29b7fe6de1429094b4c7a0e8\n'}]",0,745043,7e045511c89936c6e9f47d81247c32098777a440,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I08b3fd0db80dbbaa29b7fe6de1429094b4c7a0e8
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/43/745043/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7e045511c89936c6e9f47d81247c32098777a440,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/tripleo-incubator.git ,,4,0
openstack%2Fironic-webclient~master~Idd64fb4b6b6cca6c86106fbaea84d370a93c2fa1,openstack/ironic-webclient,master,Idd64fb4b6b6cca6c86106fbaea84d370a93c2fa1,Cleanup the retired repo,MERGED,2020-08-06 00:37:33.000000000,2020-08-06 22:57:44.000000000,2020-08-06 22:57:44.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:37:33.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-webclient/commit/6bbf6af4b5a351d379358d1a9dee4c65392eb0b7', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: Idd64fb4b6b6cca6c86106fbaea84d370a93c2fa1\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745016,6bbf6af4b5a351d379358d1a9dee4c65392eb0b7,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: Idd64fb4b6b6cca6c86106fbaea84d370a93c2fa1
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/ironic-webclient refs/changes/16/745016/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,6bbf6af4b5a351d379358d1a9dee4c65392eb0b7,cleanup-retirement,,,4,0
openstack%2Fpuppet-crane~master~I464679dc027575b8cf66f54f96f82ee7a49bc468,openstack/puppet-crane,master,I464679dc027575b8cf66f54f96f82ee7a49bc468,Cleanup the retired repo,MERGED,2020-08-06 00:58:07.000000000,2020-08-06 22:57:29.000000000,2020-08-06 22:57:29.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:58:07.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/puppet-crane/commit/81f416eab38db5607830966ff4659433ac66a14a', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I464679dc027575b8cf66f54f96f82ee7a49bc468\n'}]",0,745017,81f416eab38db5607830966ff4659433ac66a14a,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I464679dc027575b8cf66f54f96f82ee7a49bc468
",git fetch https://review.opendev.org/openstack/puppet-crane refs/changes/17/745017/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,81f416eab38db5607830966ff4659433ac66a14a,cleanup-retirement,,,4,0
openstack%2Frelease-tools~master~I73971fd7af69aab05cd84b859f50ce09c578619e,openstack/release-tools,master,I73971fd7af69aab05cd84b859f50ce09c578619e,Cleanup the retired repo,MERGED,2020-08-06 00:58:11.000000000,2020-08-06 22:57:10.000000000,2020-08-06 22:57:10.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:58:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/40b533330cbf269843d5e0116ac82b8d96604e8c', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I73971fd7af69aab05cd84b859f50ce09c578619e\n'}]",0,745018,40b533330cbf269843d5e0116ac82b8d96604e8c,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I73971fd7af69aab05cd84b859f50ce09c578619e
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/18/745018/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,40b533330cbf269843d5e0116ac82b8d96604e8c,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/release-tools.git ,,4,0
openstack%2Fgnocchi~master~Iaeb98fe2b7a8f723a3baf41c9b91d0ed12742133,openstack/gnocchi,master,Iaeb98fe2b7a8f723a3baf41c9b91d0ed12742133,Cleanup the retired repo,MERGED,2020-08-06 00:58:28.000000000,2020-08-06 22:56:57.000000000,2020-08-06 22:56:57.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:58:28.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/885e01a2de0fabf293af3439c01e4d1a5781f1f4', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Iaeb98fe2b7a8f723a3baf41c9b91d0ed12742133\n'}]",0,745019,885e01a2de0fabf293af3439c01e4d1a5781f1f4,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Iaeb98fe2b7a8f723a3baf41c9b91d0ed12742133
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/19/745019/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,885e01a2de0fabf293af3439c01e4d1a5781f1f4,cleanup-retirement,,,4,0
openstack%2Fnetworking-ofagent~master~I9e790ba25a1e9db06cbb10fb4a8ad5271836dd58,openstack/networking-ofagent,master,I9e790ba25a1e9db06cbb10fb4a8ad5271836dd58,Cleanup the retired repo,MERGED,2020-08-06 00:59:18.000000000,2020-08-06 22:56:46.000000000,2020-08-06 22:56:46.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/9e62ed369e98352361d115f68856cac58bec7ad8', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I9e790ba25a1e9db06cbb10fb4a8ad5271836dd58\n'}]",0,745020,9e62ed369e98352361d115f68856cac58bec7ad8,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I9e790ba25a1e9db06cbb10fb4a8ad5271836dd58
",git fetch https://review.opendev.org/openstack/networking-ofagent refs/changes/20/745020/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9e62ed369e98352361d115f68856cac58bec7ad8,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/networking-ofagent.git ,,4,0
openstack%2Fcharm-neutron-api-genericswitch~master~I6eeeccb30035d7778a5b2234531ceb74db8ecff1,openstack/charm-neutron-api-genericswitch,master,I6eeeccb30035d7778a5b2234531ceb74db8ecff1,Cleanup the retired repo,MERGED,2020-08-06 00:59:20.000000000,2020-08-06 22:56:37.000000000,2020-08-06 22:56:37.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:20.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-genericswitch/commit/23efa37971f10d1cee0e0a92cfad720db05abe20', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I6eeeccb30035d7778a5b2234531ceb74db8ecff1\n'}]",0,745021,23efa37971f10d1cee0e0a92cfad720db05abe20,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I6eeeccb30035d7778a5b2234531ceb74db8ecff1
",git fetch https://review.opendev.org/openstack/charm-neutron-api-genericswitch refs/changes/21/745021/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,23efa37971f10d1cee0e0a92cfad720db05abe20,cleanup-retirement,,,0,0
openstack%2Fpython-neutron-pd-driver~master~I983ac0336c8c2b1dbe11c0be133d05e08bf6fa09,openstack/python-neutron-pd-driver,master,I983ac0336c8c2b1dbe11c0be133d05e08bf6fa09,Cleanup the retired repo,MERGED,2020-08-06 00:59:22.000000000,2020-08-06 22:56:27.000000000,2020-08-06 22:56:27.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:22.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-neutron-pd-driver/commit/53a07b1e58d994872c882d45ba8826755596f7c4', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I983ac0336c8c2b1dbe11c0be133d05e08bf6fa09\n'}]",0,745022,53a07b1e58d994872c882d45ba8826755596f7c4,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I983ac0336c8c2b1dbe11c0be133d05e08bf6fa09
",git fetch https://review.opendev.org/openstack/python-neutron-pd-driver refs/changes/22/745022/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,53a07b1e58d994872c882d45ba8826755596f7c4,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/python-neutron-pd-driver.git ,,4,0
openstack%2Fcharm-ceph~master~I49b27546132efb16f00ee0b42dd83111b2952183,openstack/charm-ceph,master,I49b27546132efb16f00ee0b42dd83111b2952183,Cleanup the retired repo,MERGED,2020-08-06 00:59:24.000000000,2020-08-06 22:56:18.000000000,2020-08-06 22:56:18.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:24.000000000', 'files': ['.gitignore', 'README.rst'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/132ea88c0c417f767db74c64e4fea48194bdad05', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I49b27546132efb16f00ee0b42dd83111b2952183\n'}]",0,745023,132ea88c0c417f767db74c64e4fea48194bdad05,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I49b27546132efb16f00ee0b42dd83111b2952183
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/23/745023/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'README.rst']",2,132ea88c0c417f767db74c64e4fea48194bdad05,cleanup-retirement,,,0,12
openstack%2Fopenstack-ansible-os_monasca-ui~master~I1155e47887a8b3e711f9f6f86ea375c6d53ce5ee,openstack/openstack-ansible-os_monasca-ui,master,I1155e47887a8b3e711f9f6f86ea375c6d53ce5ee,Cleanup the retired repo,MERGED,2020-08-06 00:59:35.000000000,2020-08-06 22:56:06.000000000,2020-08-06 22:56:06.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:35.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-ui/commit/1eadb5f3562e5a47956fcff0b8f2fb10aee3ab1a', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I1155e47887a8b3e711f9f6f86ea375c6d53ce5ee\n'}]",0,745024,1eadb5f3562e5a47956fcff0b8f2fb10aee3ab1a,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I1155e47887a8b3e711f9f6f86ea375c6d53ce5ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca-ui refs/changes/24/745024/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1eadb5f3562e5a47956fcff0b8f2fb10aee3ab1a,cleanup-retirement,,,0,0
openstack%2Fopenstack-ansible-os_monasca~master~I42dab317ef0ffdafe406e14c6caf117487986e4e,openstack/openstack-ansible-os_monasca,master,I42dab317ef0ffdafe406e14c6caf117487986e4e,Cleanup the retired repo,MERGED,2020-08-06 00:59:38.000000000,2020-08-06 22:55:49.000000000,2020-08-06 22:55:49.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:38.000000000', 'files': ['tests/ansible-role-requirements.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/53e0cdf310607e8e5a09524eb23b7de6ec1ae600', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I42dab317ef0ffdafe406e14c6caf117487986e4e\n'}]",0,745025,53e0cdf310607e8e5a09524eb23b7de6ec1ae600,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I42dab317ef0ffdafe406e14c6caf117487986e4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca refs/changes/25/745025/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'tox.ini']",2,53e0cdf310607e8e5a09524eb23b7de6ec1ae600,cleanup-retirement,,"[tox] minversion = 2.0 skipsdist = True envlist = docs,linters,functional [testenv] usedevelop = True install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} commands = /usr/bin/find . -type f -name ""*.pyc"" -delete passenv = COMMON_TESTS_PATH HOME http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY TESTING_BRANCH TESTING_HOME USER whitelist_externals = bash setenv = PYTHONUNBUFFERED=1 ROLE_NAME=os_monasca TEST_IDEMPOTENCE=false VIRTUAL_ENV={envdir} WORKING_DIR={toxinidir} [testenv:docs] basepython = python3 deps = -r{toxinidir}/doc/requirements.txt commands= bash -c ""rm -rf doc/build"" doc8 doc sphinx-build -b html doc/source doc/build/html [doc8] # Settings for doc8: extensions = .rst [testenv:releasenotes] basepython = python3 deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html # environment used by the -infra templated docs job [testenv:venv] basepython = python3 commands = {posargs} [testenv:pep8] basepython = python3 commands = bash -c ""{toxinidir}/tests/common/test-pep8.sh"" [flake8] # Ignores the following rules due to how ansible modules work in general # F403 'from ansible.module_utils.basic import *' used; # unable to detect undefined names # H303 No wildcard (*) import. ignore=F403,H303 [testenv:bashate] basepython = python3 commands = bash -c ""{toxinidir}/tests/common/test-bashate.sh"" [testenv:ansible-syntax] basepython = python3 commands = bash -c ""{toxinidir}/tests/common/test-ansible-syntax.sh"" [testenv:ansible-lint] basepython = python3 commands = bash -c ""{toxinidir}/tests/common/test-ansible-lint.sh"" [testenv:functional] commands = bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:linters] basepython = python3 commands = bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh"" {[testenv:pep8]commands} {[testenv:bashate]commands} {[testenv:ansible-lint]commands} {[testenv:ansible-syntax]commands} ",0,184
openstack%2Fopenstack-ansible-os_freezer~master~Ib6115d4d946c25b98a08083a8a38de272a6a3b03,openstack/openstack-ansible-os_freezer,master,Ib6115d4d946c25b98a08083a8a38de272a6a3b03,Cleanup the retired repo,MERGED,2020-08-06 00:59:43.000000000,2020-08-06 22:55:35.000000000,2020-08-06 22:55:35.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:43.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_freezer/commit/ca177442ed32ee8019c075999b2982332bcfbfe2', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ib6115d4d946c25b98a08083a8a38de272a6a3b03\n'}]",0,745026,ca177442ed32ee8019c075999b2982332bcfbfe2,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ib6115d4d946c25b98a08083a8a38de272a6a3b03
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_freezer refs/changes/26/745026/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,ca177442ed32ee8019c075999b2982332bcfbfe2,cleanup-retirement,,,4,0
openstack%2Fbifrost~master~Iba0be299aeb3ffe75e644c88d3df9c2af4ec9ef1,openstack/bifrost,master,Iba0be299aeb3ffe75e644c88d3df9c2af4ec9ef1,Add developer mode to bifrost,MERGED,2020-07-31 17:21:49.000000000,2020-08-06 22:55:35.000000000,2020-08-06 22:53:12.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-31 17:21:49.000000000', 'files': ['bifrost/cli.py', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'releasenotes/notes/developer-mode-000e7a125642b9e1.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1dc4564b5210811af9e34317fd2619209a44cbdf', 'message': 'Add developer mode to bifrost\n\nInstalls all source packages with --editable flag, so that they can be\nedited in-place.\n\nChange-Id: Iba0be299aeb3ffe75e644c88d3df9c2af4ec9ef1\n'}]",0,744233,1dc4564b5210811af9e34317fd2619209a44cbdf,10,4,1,10239,,,0,"Add developer mode to bifrost

Installs all source packages with --editable flag, so that they can be
edited in-place.

Change-Id: Iba0be299aeb3ffe75e644c88d3df9c2af4ec9ef1
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/33/744233/1 && git format-patch -1 --stdout FETCH_HEAD,"['bifrost/cli.py', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'releasenotes/notes/developer-mode-000e7a125642b9e1.yaml']",4,1dc4564b5210811af9e34317fd2619209a44cbdf,dev-mode,--- features: - | Set the new parameter ``developer_mode`` to ``true`` to make all packages installed from source to be installed with the ``--editable`` flag. The corresponding ``bifrost-cli`` argument is ``--develop``. ,,14,1
openstack%2Fopenstack-ansible-pip_lock_down~master~Id4ae30ae9e284f79c3e868356fe865fbe2607bcf,openstack/openstack-ansible-pip_lock_down,master,Id4ae30ae9e284f79c3e868356fe865fbe2607bcf,Cleanup the retired repo,MERGED,2020-08-06 00:59:46.000000000,2020-08-06 22:55:23.000000000,2020-08-06 22:55:23.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:46.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_lock_down/commit/0cc6e36c626888316f9854236211726bd4d1f069', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Id4ae30ae9e284f79c3e868356fe865fbe2607bcf\n'}]",0,745027,0cc6e36c626888316f9854236211726bd4d1f069,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Id4ae30ae9e284f79c3e868356fe865fbe2607bcf
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_lock_down refs/changes/27/745027/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,0cc6e36c626888316f9854236211726bd4d1f069,cleanup-retirement,,,4,0
openstack%2Fopenstack-ansible-security~master~I69cb089425ad889f4cd0aad17c10de6bd19eb1b0,openstack/openstack-ansible-security,master,I69cb089425ad889f4cd0aad17c10de6bd19eb1b0,Cleanup the retired repo,MERGED,2020-08-06 00:59:57.000000000,2020-08-06 22:55:12.000000000,2020-08-06 22:55:12.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:57.000000000', 'files': ['.gitignore', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/3ee3d309f1ffd65911beb49d605c50e3ba99a127', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I69cb089425ad889f4cd0aad17c10de6bd19eb1b0\n'}]",0,745028,3ee3d309f1ffd65911beb49d605c50e3ba99a127,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I69cb089425ad889f4cd0aad17c10de6bd19eb1b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/28/745028/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'README.rst']",2,3ee3d309f1ffd65911beb49d605c50e3ba99a127,cleanup-retirement,,,0,73
openstack%2Foslo-incubator~master~Idc9f726e4114efdbe4834277c9fea140f176d91f,openstack/oslo-incubator,master,Idc9f726e4114efdbe4834277c9fea140f176d91f,Cleanup the retired repo,MERGED,2020-08-06 00:59:59.000000000,2020-08-06 22:55:01.000000000,2020-08-06 22:55:01.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 00:59:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7375f6c3f110cc31bf974fc51b061363fe453ee3', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Idc9f726e4114efdbe4834277c9fea140f176d91f\n'}]",0,745029,7375f6c3f110cc31bf974fc51b061363fe453ee3,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Idc9f726e4114efdbe4834277c9fea140f176d91f
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/29/745029/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7375f6c3f110cc31bf974fc51b061363fe453ee3,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/oslo-incubator.git ,,4,0
openstack%2Foslosphinx~master~Id7e150f2d40f7abdd0af407f71f6ac5388567b4b,openstack/oslosphinx,master,Id7e150f2d40f7abdd0af407f71f6ac5388567b4b,Cleanup the retired repo,MERGED,2020-08-06 01:00:01.000000000,2020-08-06 22:54:45.000000000,2020-08-06 22:54:45.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:00:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/2cf8714a96c38d9e05019262a013286d70c7de33', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Id7e150f2d40f7abdd0af407f71f6ac5388567b4b\n'}]",0,745030,2cf8714a96c38d9e05019262a013286d70c7de33,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Id7e150f2d40f7abdd0af407f71f6ac5388567b4b
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/30/745030/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2cf8714a96c38d9e05019262a013286d70c7de33,cleanup-retirement,,,0,0
openstack%2Fpython-gnocchiclient~master~I28ce91772755e263aa5ca12ca6c6642cfdc2998b,openstack/python-gnocchiclient,master,I28ce91772755e263aa5ca12ca6c6642cfdc2998b,Cleanup the retired repo,MERGED,2020-08-06 01:01:05.000000000,2020-08-06 22:54:29.000000000,2020-08-06 22:54:29.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:01:05.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/python-gnocchiclient/commit/967956ad6b0266c3a1466df217fffd937b341f88', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I28ce91772755e263aa5ca12ca6c6642cfdc2998b\n'}]",0,745032,967956ad6b0266c3a1466df217fffd937b341f88,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I28ce91772755e263aa5ca12ca6c6642cfdc2998b
",git fetch https://review.opendev.org/openstack/python-gnocchiclient refs/changes/32/745032/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,967956ad6b0266c3a1466df217fffd937b341f88,cleanup-retirement,,,4,0
openstack%2Fansible-role-k8s-cinder~master~Ia39e15b0e77bf76645834b2dcb69853380ad09fd,openstack/ansible-role-k8s-cinder,master,Ia39e15b0e77bf76645834b2dcb69853380ad09fd,Cleanup the retired repo,MERGED,2020-08-06 01:13:13.000000000,2020-08-06 22:54:06.000000000,2020-08-06 22:54:06.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-cinder/commit/0f3c8f94ad5fa9d66a8f66f4ad4aee59883144ca', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ia39e15b0e77bf76645834b2dcb69853380ad09fd\n'}]",0,745035,0f3c8f94ad5fa9d66a8f66f4ad4aee59883144ca,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ia39e15b0e77bf76645834b2dcb69853380ad09fd
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-cinder refs/changes/35/745035/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0f3c8f94ad5fa9d66a8f66f4ad4aee59883144ca,cleanup-retirement,,,0,0
openstack%2Fansible-role-k8s-cookiecutter~master~If0a064acaf583fb3cb80a0692a3e5a9c7a3a1fec,openstack/ansible-role-k8s-cookiecutter,master,If0a064acaf583fb3cb80a0692a3e5a9c7a3a1fec,Cleanup the retired repo,MERGED,2020-08-06 01:13:15.000000000,2020-08-06 22:53:56.000000000,2020-08-06 22:53:56.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:15.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-cookiecutter/commit/d7485132e6ca3c16854b5d9e6d3124b6c684351a', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: If0a064acaf583fb3cb80a0692a3e5a9c7a3a1fec\n'}]",0,745036,d7485132e6ca3c16854b5d9e6d3124b6c684351a,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: If0a064acaf583fb3cb80a0692a3e5a9c7a3a1fec
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-cookiecutter refs/changes/36/745036/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d7485132e6ca3c16854b5d9e6d3124b6c684351a,cleanup-retirement,,,0,0
openstack%2Fansible-role-k8s-glance~master~Ifcaefe844d2279223c595d7a15e6eb86c9f35133,openstack/ansible-role-k8s-glance,master,Ifcaefe844d2279223c595d7a15e6eb86c9f35133,Cleanup the retired repo,MERGED,2020-08-06 01:13:16.000000000,2020-08-06 22:53:46.000000000,2020-08-06 22:53:46.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:16.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-glance/commit/f99d4f04014fc9fccd9ad94042609ba8928a01ee', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ifcaefe844d2279223c595d7a15e6eb86c9f35133\n'}]",0,745037,f99d4f04014fc9fccd9ad94042609ba8928a01ee,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ifcaefe844d2279223c595d7a15e6eb86c9f35133
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-glance refs/changes/37/745037/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f99d4f04014fc9fccd9ad94042609ba8928a01ee,cleanup-retirement,,,0,0
openstack%2Fansible-role-k8s-keystone~master~Icec3f4d0ca74c1ffcb8eb4e4d466a1a2e8c888c0,openstack/ansible-role-k8s-keystone,master,Icec3f4d0ca74c1ffcb8eb4e4d466a1a2e8c888c0,Cleanup the retired repo,MERGED,2020-08-06 01:13:28.000000000,2020-08-06 22:53:36.000000000,2020-08-06 22:53:36.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-keystone/commit/3d49acebfa09477d16647559a023b4ee3fc82e45', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Icec3f4d0ca74c1ffcb8eb4e4d466a1a2e8c888c0\n'}]",0,745038,3d49acebfa09477d16647559a023b4ee3fc82e45,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Icec3f4d0ca74c1ffcb8eb4e4d466a1a2e8c888c0
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-keystone refs/changes/38/745038/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3d49acebfa09477d16647559a023b4ee3fc82e45,cleanup-retirement,,,0,0
openstack%2Fansible-role-k8s-mariadb~master~I81d7678140f6c30838315b83d82ae3c4cf82949d,openstack/ansible-role-k8s-mariadb,master,I81d7678140f6c30838315b83d82ae3c4cf82949d,Cleanup the retired repo,MERGED,2020-08-06 01:13:30.000000000,2020-08-06 22:53:23.000000000,2020-08-06 22:53:23.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:30.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-mariadb/commit/96417a8f47eb591ebbb5e1101e101890bc1eb4c8', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I81d7678140f6c30838315b83d82ae3c4cf82949d\n'}]",0,745039,96417a8f47eb591ebbb5e1101e101890bc1eb4c8,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I81d7678140f6c30838315b83d82ae3c4cf82949d
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-mariadb refs/changes/39/745039/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,96417a8f47eb591ebbb5e1101e101890bc1eb4c8,cleanup-retirement,,,0,0
openstack%2Fansible-role-k8s-rabbitmq~master~I5f5ed80f9249a73dc25304ac8a89e2101ddc84f2,openstack/ansible-role-k8s-rabbitmq,master,I5f5ed80f9249a73dc25304ac8a89e2101ddc84f2,Cleanup the retired repo,MERGED,2020-08-06 01:13:34.000000000,2020-08-06 22:53:04.000000000,2020-08-06 22:53:04.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-rabbitmq/commit/44d7dfc3864dd8f005643e2105c72d42c11ccf71', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I5f5ed80f9249a73dc25304ac8a89e2101ddc84f2\n'}]",0,745040,44d7dfc3864dd8f005643e2105c72d42c11ccf71,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I5f5ed80f9249a73dc25304ac8a89e2101ddc84f2
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-rabbitmq refs/changes/40/745040/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,44d7dfc3864dd8f005643e2105c72d42c11ccf71,cleanup-retirement,,,0,0
openstack%2Fansible-role-k8s-tripleo~master~If77b2ec842ba9b64c2958a1cdb4ccbfdd62805b5,openstack/ansible-role-k8s-tripleo,master,If77b2ec842ba9b64c2958a1cdb4ccbfdd62805b5,Cleanup the retired repo,MERGED,2020-08-06 01:13:36.000000000,2020-08-06 22:52:51.000000000,2020-08-06 22:52:51.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:36.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-tripleo/commit/32141671c3e4870ef62fe58173ce5e3b16cdabe2', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: If77b2ec842ba9b64c2958a1cdb4ccbfdd62805b5\n'}]",0,745041,32141671c3e4870ef62fe58173ce5e3b16cdabe2,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: If77b2ec842ba9b64c2958a1cdb4ccbfdd62805b5
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-tripleo refs/changes/41/745041/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,32141671c3e4870ef62fe58173ce5e3b16cdabe2,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-ui~master~Ia6cb7ca069ef5d46987cebd8690ef73463f76e26,openstack/ansible-role-tripleo-ui,master,Ia6cb7ca069ef5d46987cebd8690ef73463f76e26,Cleanup the retired repo,MERGED,2020-08-06 01:13:48.000000000,2020-08-06 22:52:38.000000000,2020-08-06 22:52:38.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:48.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-ui/commit/bec68540bcb0d1a902db56710a53a77d6e75ca8c', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ia6cb7ca069ef5d46987cebd8690ef73463f76e26\n'}]",0,745042,bec68540bcb0d1a902db56710a53a77d6e75ca8c,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ia6cb7ca069ef5d46987cebd8690ef73463f76e26
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-ui refs/changes/42/745042/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bec68540bcb0d1a902db56710a53a77d6e75ca8c,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-aodh~master~I9d28f7f33c2c7dc6da273d78f1fa405184a14069,openstack/ansible-role-tripleo-aodh,master,I9d28f7f33c2c7dc6da273d78f1fa405184a14069,Cleanup the retired repo,MERGED,2020-08-06 01:13:55.000000000,2020-08-06 22:51:35.000000000,2020-08-06 22:51:35.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:13:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-aodh/commit/f2fe96ed5a4c5182666d532a610d665b72c54eaf', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I9d28f7f33c2c7dc6da273d78f1fa405184a14069\n'}]",0,745045,f2fe96ed5a4c5182666d532a610d665b72c54eaf,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I9d28f7f33c2c7dc6da273d78f1fa405184a14069
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-aodh refs/changes/45/745045/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f2fe96ed5a4c5182666d532a610d665b72c54eaf,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-barbican~master~I4794110e9c38c182a53c18863009ae4c202d52b2,openstack/ansible-role-tripleo-barbican,master,I4794110e9c38c182a53c18863009ae4c202d52b2,Cleanup the retired repo,MERGED,2020-08-06 01:14:13.000000000,2020-08-06 22:51:20.000000000,2020-08-06 22:51:20.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:14:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-barbican/commit/7282c39822d40bf35190f974d62ac054550152d3', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I4794110e9c38c182a53c18863009ae4c202d52b2\n'}]",0,745046,7282c39822d40bf35190f974d62ac054550152d3,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I4794110e9c38c182a53c18863009ae4c202d52b2
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-barbican refs/changes/46/745046/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7282c39822d40bf35190f974d62ac054550152d3,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-ceilometer~master~I768df5f6bbb8972b75fad3b8c99fdbb53d8cf96c,openstack/ansible-role-tripleo-ceilometer,master,I768df5f6bbb8972b75fad3b8c99fdbb53d8cf96c,Cleanup the retired repo,MERGED,2020-08-06 01:14:16.000000000,2020-08-06 22:51:02.000000000,2020-08-06 22:51:02.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:14:16.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-ceilometer/commit/1395ec16acba69e081972b3136cfe0b55f759110', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I768df5f6bbb8972b75fad3b8c99fdbb53d8cf96c\n'}]",0,745047,1395ec16acba69e081972b3136cfe0b55f759110,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I768df5f6bbb8972b75fad3b8c99fdbb53d8cf96c
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-ceilometer refs/changes/47/745047/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1395ec16acba69e081972b3136cfe0b55f759110,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-cinder~master~Ic9d252aeb6a00aa9f72d33dea477e3a22326cfc9,openstack/ansible-role-tripleo-cinder,master,Ic9d252aeb6a00aa9f72d33dea477e3a22326cfc9,Cleanup the retired repo,MERGED,2020-08-06 01:14:18.000000000,2020-08-06 22:50:48.000000000,2020-08-06 22:50:48.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:14:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cinder/commit/ff6d59b3e8e95bf31f64c425cb8babf0d0587bea', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ic9d252aeb6a00aa9f72d33dea477e3a22326cfc9\n'}]",0,745048,ff6d59b3e8e95bf31f64c425cb8babf0d0587bea,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ic9d252aeb6a00aa9f72d33dea477e3a22326cfc9
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cinder refs/changes/48/745048/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ff6d59b3e8e95bf31f64c425cb8babf0d0587bea,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-cookiecutter~master~I0d80b437e96219c3a09c68d0c400b50442f3d497,openstack/ansible-role-tripleo-cookiecutter,master,I0d80b437e96219c3a09c68d0c400b50442f3d497,Cleanup the retired repo,MERGED,2020-08-06 01:14:20.000000000,2020-08-06 22:50:33.000000000,2020-08-06 22:50:33.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 01:14:20.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/c577aeac41acb49726831bf16e749ee6bdfab5ca', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I0d80b437e96219c3a09c68d0c400b50442f3d497\n'}]",0,745049,c577aeac41acb49726831bf16e749ee6bdfab5ca,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I0d80b437e96219c3a09c68d0c400b50442f3d497
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cookiecutter refs/changes/49/745049/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c577aeac41acb49726831bf16e749ee6bdfab5ca,cleanup-retirement,,,0,0
openstack%2Ftripleo-ui~master~I94f3f2ab5565c4b367faeb08d3f8eab1f204bd3e,openstack/tripleo-ui,master,I94f3f2ab5565c4b367faeb08d3f8eab1f204bd3e,Cleanup the retired repo,MERGED,2020-08-06 01:13:53.000000000,2020-08-06 22:50:18.000000000,2020-08-06 22:50:18.000000000,"[{'_account_id': 8556}, {'_account_id': 20970}]","[{'number': 1, 'created': '2020-08-06 01:13:53.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/a5879c12dfba4deafceee46199eef859169b7a9c', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I94f3f2ab5565c4b367faeb08d3f8eab1f204bd3e\n'}]",0,745044,a5879c12dfba4deafceee46199eef859169b7a9c,5,2,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I94f3f2ab5565c4b367faeb08d3f8eab1f204bd3e
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/44/745044/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a5879c12dfba4deafceee46199eef859169b7a9c,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-ovn~master~Iacccbed2ec34e7adab8faa589f35d328418cb35c,openstack/ansible-role-tripleo-ovn,master,Iacccbed2ec34e7adab8faa589f35d328418cb35c,Cleanup the retired repo,MERGED,2020-08-06 13:07:01.000000000,2020-08-06 22:50:04.000000000,2020-08-06 22:50:04.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-ovn/commit/00dfe894170e2fdcb148981114814ec7b207a252', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Iacccbed2ec34e7adab8faa589f35d328418cb35c\n'}]",0,745124,00dfe894170e2fdcb148981114814ec7b207a252,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Iacccbed2ec34e7adab8faa589f35d328418cb35c
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-ovn refs/changes/24/745124/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,00dfe894170e2fdcb148981114814ec7b207a252,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-opendaylight~master~Idd4fd0dec7b4e5c78e7bb707e1bbd6f1012ede42,openstack/ansible-role-tripleo-opendaylight,master,Idd4fd0dec7b4e5c78e7bb707e1bbd6f1012ede42,Cleanup the retired repo,MERGED,2020-08-06 13:07:03.000000000,2020-08-06 22:49:49.000000000,2020-08-06 22:49:49.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:03.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-opendaylight/commit/345581142570b48073c040146b02806f37a0451e', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Idd4fd0dec7b4e5c78e7bb707e1bbd6f1012ede42\n'}]",0,745125,345581142570b48073c040146b02806f37a0451e,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Idd4fd0dec7b4e5c78e7bb707e1bbd6f1012ede42
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-opendaylight refs/changes/25/745125/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,345581142570b48073c040146b02806f37a0451e,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-octavia~master~I148686b2fb24698967b187f7e40bce3ba6e2b7d9,openstack/ansible-role-tripleo-octavia,master,I148686b2fb24698967b187f7e40bce3ba6e2b7d9,Cleanup the retired repo,MERGED,2020-08-06 13:07:06.000000000,2020-08-06 22:49:38.000000000,2020-08-06 22:49:38.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-octavia/commit/873b5e9a006415691e01a0612a6ae812283858dc', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I148686b2fb24698967b187f7e40bce3ba6e2b7d9\n'}]",0,745126,873b5e9a006415691e01a0612a6ae812283858dc,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I148686b2fb24698967b187f7e40bce3ba6e2b7d9
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-octavia refs/changes/26/745126/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,873b5e9a006415691e01a0612a6ae812283858dc,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-nova~master~I9e9b30ea3b58f56be4f17ec1f0ed70ba63274bae,openstack/ansible-role-tripleo-nova,master,I9e9b30ea3b58f56be4f17ec1f0ed70ba63274bae,Cleanup the retired repo,MERGED,2020-08-06 13:07:09.000000000,2020-08-06 22:49:21.000000000,2020-08-06 22:49:21.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:09.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-nova/commit/8212816c0c5fcab91acd350ad2799b930799c951', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I9e9b30ea3b58f56be4f17ec1f0ed70ba63274bae\n'}]",0,745127,8212816c0c5fcab91acd350ad2799b930799c951,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I9e9b30ea3b58f56be4f17ec1f0ed70ba63274bae
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-nova refs/changes/27/745127/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8212816c0c5fcab91acd350ad2799b930799c951,cleanup-retirement,,,0,0
openstack%2Fos-cloud-config~master~Ica0c3c86d54f3ac9fe61fb52ccd1f8f4e0c68d72,openstack/os-cloud-config,master,Ica0c3c86d54f3ac9fe61fb52ccd1f8f4e0c68d72,Cleanup the retired repo,MERGED,2020-08-06 13:07:22.000000000,2020-08-06 22:49:10.000000000,2020-08-06 22:49:10.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:22.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/46d734ea2f5b46f91bb984e06f0c20d1aee7265d', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ica0c3c86d54f3ac9fe61fb52ccd1f8f4e0c68d72\n'}]",0,745129,46d734ea2f5b46f91bb984e06f0c20d1aee7265d,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ica0c3c86d54f3ac9fe61fb52ccd1f8f4e0c68d72
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/29/745129/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,46d734ea2f5b46f91bb984e06f0c20d1aee7265d,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/os-cloud-config.git ,,4,0
openstack%2Fansible-role-tripleo-zaqar~master~I8768e6534b34b541f30f91f1722dc009e6841082,openstack/ansible-role-tripleo-zaqar,master,I8768e6534b34b541f30f91f1722dc009e6841082,Cleanup the retired repo,MERGED,2020-08-06 13:07:25.000000000,2020-08-06 22:48:59.000000000,2020-08-06 22:48:59.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-zaqar/commit/6e5980aef55af263cdc6bdda81387679c69a64f5', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I8768e6534b34b541f30f91f1722dc009e6841082\n'}]",0,745130,6e5980aef55af263cdc6bdda81387679c69a64f5,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I8768e6534b34b541f30f91f1722dc009e6841082
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-zaqar refs/changes/30/745130/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6e5980aef55af263cdc6bdda81387679c69a64f5,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-tempest~master~I462bf85715a064ee0cd22e4a12557cc13eefccf3,openstack/ansible-role-tripleo-tempest,master,I462bf85715a064ee0cd22e4a12557cc13eefccf3,Cleanup the retired repo,MERGED,2020-08-06 13:07:27.000000000,2020-08-06 22:48:49.000000000,2020-08-06 22:48:49.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-tempest/commit/bce19c74251a68a0ba15f5179260a50f9add2a2e', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I462bf85715a064ee0cd22e4a12557cc13eefccf3\n'}]",0,745131,bce19c74251a68a0ba15f5179260a50f9add2a2e,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I462bf85715a064ee0cd22e4a12557cc13eefccf3
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-tempest refs/changes/31/745131/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bce19c74251a68a0ba15f5179260a50f9add2a2e,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-sahara~master~Id7c89ff378c1d6d6e13d2868bd6d94fbc45ca17e,openstack/ansible-role-tripleo-sahara,master,Id7c89ff378c1d6d6e13d2868bd6d94fbc45ca17e,Cleanup the retired repo,MERGED,2020-08-06 13:07:51.000000000,2020-08-06 22:48:36.000000000,2020-08-06 22:48:36.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:51.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-sahara/commit/265a93bea032e98c1112791dc2acf5e6b7fb10e6', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Id7c89ff378c1d6d6e13d2868bd6d94fbc45ca17e\n'}]",0,745132,265a93bea032e98c1112791dc2acf5e6b7fb10e6,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Id7c89ff378c1d6d6e13d2868bd6d94fbc45ca17e
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-sahara refs/changes/32/745132/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,265a93bea032e98c1112791dc2acf5e6b7fb10e6,cleanup-retirement,,,0,0
openstack%2Fpuppet-keystone~stable%2Fussuri~Iffc84d224fd9891261d787241687991fd97f48f7,openstack/puppet-keystone,stable/ussuri,Iffc84d224fd9891261d787241687991fd97f48f7,allow to specify drivername for postgres db,MERGED,2020-07-30 18:48:42.000000000,2020-08-06 22:48:32.000000000,2020-08-06 22:46:42.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 18:48:42.000000000', 'files': ['releasenotes/notes/allow-drivername-for-postgresql-daa276a598844884.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f25a4ccc25e425823d4c86ce9977248853d845a9', 'message': 'allow to specify drivername for postgres db\n\nin newer versions of sqlalchemy a drivername is required to\navoid a warning. For postgres the driver is psycopg2.\nThe driver is optional.\n\nChange-Id: Iffc84d224fd9891261d787241687991fd97f48f7\n(cherry picked from commit 7e0ea6b296f1a47e0ccf01f50e059e9064234997)\n'}]",0,744027,f25a4ccc25e425823d4c86ce9977248853d845a9,13,4,1,7888,,,0,"allow to specify drivername for postgres db

in newer versions of sqlalchemy a drivername is required to
avoid a warning. For postgres the driver is psycopg2.
The driver is optional.

Change-Id: Iffc84d224fd9891261d787241687991fd97f48f7
(cherry picked from commit 7e0ea6b296f1a47e0ccf01f50e059e9064234997)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/27/744027/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allow-drivername-for-postgresql-daa276a598844884.yaml', 'manifests/db.pp']",2,f25a4ccc25e425823d4c86ce9977248853d845a9,, ['^(sqlite|mysql(\+pymysql)?|postgresql(\+psycopg2)?):\/\/(\S+:\S+@\S+\/\S+)?']), ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']),4,1
openstack%2Fansible-role-tripleo-swift~master~I81cef0de45dea785ebe8ecb0a602e02d843973a0,openstack/ansible-role-tripleo-swift,master,I81cef0de45dea785ebe8ecb0a602e02d843973a0,Cleanup the retired repo,MERGED,2020-08-06 13:07:55.000000000,2020-08-06 22:48:09.000000000,2020-08-06 22:48:09.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-swift/commit/7a42bd31d4d18cebcdeabfbcce3126392348a3cd', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I81cef0de45dea785ebe8ecb0a602e02d843973a0\n'}]",0,745134,7a42bd31d4d18cebcdeabfbcce3126392348a3cd,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I81cef0de45dea785ebe8ecb0a602e02d843973a0
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-swift refs/changes/34/745134/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7a42bd31d4d18cebcdeabfbcce3126392348a3cd,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-tacker~master~Ie034417b7132f10bd1138507816c97a1e2c4c8a1,openstack/ansible-role-tripleo-tacker,master,Ie034417b7132f10bd1138507816c97a1e2c4c8a1,Cleanup the retired repo,MERGED,2020-08-06 13:07:56.000000000,2020-08-06 22:47:55.000000000,2020-08-06 22:47:55.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:07:56.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-tacker/commit/6a671678f2264e6a47ad1482c731507958a9eb00', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ie034417b7132f10bd1138507816c97a1e2c4c8a1\n'}]",0,745135,6a671678f2264e6a47ad1482c731507958a9eb00,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ie034417b7132f10bd1138507816c97a1e2c4c8a1
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-tacker refs/changes/35/745135/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6a671678f2264e6a47ad1482c731507958a9eb00,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-rsyslog-sidecar~master~I0cf6813447df359e17526e8b962e5933b9ce5b74,openstack/ansible-role-tripleo-rsyslog-sidecar,master,I0cf6813447df359e17526e8b962e5933b9ce5b74,Cleanup the retired repo,MERGED,2020-08-06 13:08:11.000000000,2020-08-06 22:47:44.000000000,2020-08-06 22:47:44.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:08:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-rsyslog-sidecar/commit/93693d39767c4c5f3a87efa83e5af98d946375d4', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I0cf6813447df359e17526e8b962e5933b9ce5b74\n'}]",0,745136,93693d39767c4c5f3a87efa83e5af98d946375d4,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I0cf6813447df359e17526e8b962e5933b9ce5b74
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-rsyslog-sidecar refs/changes/36/745136/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,93693d39767c4c5f3a87efa83e5af98d946375d4,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-rabbitmq~master~I032674334f1858e312b8a77f0c79f1ac2cba7809,openstack/ansible-role-tripleo-rabbitmq,master,I032674334f1858e312b8a77f0c79f1ac2cba7809,Cleanup the retired repo,MERGED,2020-08-06 13:08:13.000000000,2020-08-06 22:47:25.000000000,2020-08-06 22:47:25.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:08:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-rabbitmq/commit/bffaa9e9717befae5dc52adabffaeca08f42eefa', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I032674334f1858e312b8a77f0c79f1ac2cba7809\n'}]",0,745137,bffaa9e9717befae5dc52adabffaeca08f42eefa,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I032674334f1858e312b8a77f0c79f1ac2cba7809
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-rabbitmq refs/changes/37/745137/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bffaa9e9717befae5dc52adabffaeca08f42eefa,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-qdrouterd~master~Icb6852ab3e7669bdfe5c8c02b535151ce7d52452,openstack/ansible-role-tripleo-qdrouterd,master,Icb6852ab3e7669bdfe5c8c02b535151ce7d52452,Cleanup the retired repo,MERGED,2020-08-06 13:08:16.000000000,2020-08-06 22:47:07.000000000,2020-08-06 22:47:07.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:08:16.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-qdrouterd/commit/9f64be268e317308ff71e7c3405a535431ca0e12', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Icb6852ab3e7669bdfe5c8c02b535151ce7d52452\n'}]",0,745138,9f64be268e317308ff71e7c3405a535431ca0e12,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Icb6852ab3e7669bdfe5c8c02b535151ce7d52452
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-qdrouterd refs/changes/38/745138/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9f64be268e317308ff71e7c3405a535431ca0e12,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-panko~master~Ieeceaea8aaeaac1d4c6de58c611cdc1126b6df2a,openstack/ansible-role-tripleo-panko,master,Ieeceaea8aaeaac1d4c6de58c611cdc1126b6df2a,Cleanup the retired repo,MERGED,2020-08-06 13:08:18.000000000,2020-08-06 22:46:51.000000000,2020-08-06 22:46:51.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:08:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-panko/commit/c8335d345baefe79e08e72fb962d7974fcde975c', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ieeceaea8aaeaac1d4c6de58c611cdc1126b6df2a\n'}]",0,745139,c8335d345baefe79e08e72fb962d7974fcde975c,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ieeceaea8aaeaac1d4c6de58c611cdc1126b6df2a
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-panko refs/changes/39/745139/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c8335d345baefe79e08e72fb962d7974fcde975c,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-heat~master~I8cf66f4971554cf59554c50aa7c0fb8b97d070ef,openstack/ansible-role-tripleo-heat,master,I8cf66f4971554cf59554c50aa7c0fb8b97d070ef,Cleanup the retired repo,MERGED,2020-08-06 13:24:22.000000000,2020-08-06 22:46:42.000000000,2020-08-06 22:46:42.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:22.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-heat/commit/5e35e3d68c4928b5412a3e59f2842ee477f5482b', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I8cf66f4971554cf59554c50aa7c0fb8b97d070ef\n'}]",0,745143,5e35e3d68c4928b5412a3e59f2842ee477f5482b,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I8cf66f4971554cf59554c50aa7c0fb8b97d070ef
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-heat refs/changes/43/745143/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5e35e3d68c4928b5412a3e59f2842ee477f5482b,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-haproxy~master~I7e18c50463af790151b0bdf7def25adbb86eadd8,openstack/ansible-role-tripleo-haproxy,master,I7e18c50463af790151b0bdf7def25adbb86eadd8,Cleanup the retired repo,MERGED,2020-08-06 13:24:26.000000000,2020-08-06 22:46:24.000000000,2020-08-06 22:46:24.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:26.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-haproxy/commit/0e1c462899993c3aa9cab280029b48ca1e2e29d3', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I7e18c50463af790151b0bdf7def25adbb86eadd8\n'}]",0,745144,0e1c462899993c3aa9cab280029b48ca1e2e29d3,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I7e18c50463af790151b0bdf7def25adbb86eadd8
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-haproxy refs/changes/44/745144/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0e1c462899993c3aa9cab280029b48ca1e2e29d3,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-gnocchi~master~Id5defc6f2625651b6a30ff21291a3e2250c577cc,openstack/ansible-role-tripleo-gnocchi,master,Id5defc6f2625651b6a30ff21291a3e2250c577cc,Cleanup the retired repo,MERGED,2020-08-06 13:24:29.000000000,2020-08-06 22:46:15.000000000,2020-08-06 22:46:15.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:29.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-gnocchi/commit/3459e473ad1ebb8daa37cc0d1893b6314a0c90f2', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Id5defc6f2625651b6a30ff21291a3e2250c577cc\n'}]",0,745145,3459e473ad1ebb8daa37cc0d1893b6314a0c90f2,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Id5defc6f2625651b6a30ff21291a3e2250c577cc
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-gnocchi refs/changes/45/745145/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3459e473ad1ebb8daa37cc0d1893b6314a0c90f2,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-glance~master~I39095d118cec6113510a3a57a46654e7639d9849,openstack/ansible-role-tripleo-glance,master,I39095d118cec6113510a3a57a46654e7639d9849,Cleanup the retired repo,MERGED,2020-08-06 13:24:31.000000000,2020-08-06 22:45:34.000000000,2020-08-06 22:45:34.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:31.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-glance/commit/fcdb42144a76853fb740c5e1298de15b2f5a5acd', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I39095d118cec6113510a3a57a46654e7639d9849\n'}]",0,745146,fcdb42144a76853fb740c5e1298de15b2f5a5acd,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I39095d118cec6113510a3a57a46654e7639d9849
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-glance refs/changes/46/745146/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,fcdb42144a76853fb740c5e1298de15b2f5a5acd,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-designate~master~Ifab73ab5dc1664a869485125cab74237c4b08891,openstack/ansible-role-tripleo-designate,master,Ifab73ab5dc1664a869485125cab74237c4b08891,Cleanup the retired repo,MERGED,2020-08-06 13:24:37.000000000,2020-08-06 22:45:22.000000000,2020-08-06 22:45:22.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:37.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-designate/commit/c264c2d14ca5f027b54bf55370d90690b47e13c5', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ifab73ab5dc1664a869485125cab74237c4b08891\n'}]",0,745147,c264c2d14ca5f027b54bf55370d90690b47e13c5,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ifab73ab5dc1664a869485125cab74237c4b08891
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-designate refs/changes/47/745147/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c264c2d14ca5f027b54bf55370d90690b47e13c5,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-neutron~master~I0a505cfa3dcd1bfa89ef9ef72c36dd4ec35a4944,openstack/ansible-role-tripleo-neutron,master,I0a505cfa3dcd1bfa89ef9ef72c36dd4ec35a4944,Cleanup the retired repo,MERGED,2020-08-06 13:24:45.000000000,2020-08-06 22:45:10.000000000,2020-08-06 22:45:10.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-neutron/commit/dc6b2fb0fc6ae1d2347f34de70aae8be9fd3fb95', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I0a505cfa3dcd1bfa89ef9ef72c36dd4ec35a4944\n'}]",0,745148,dc6b2fb0fc6ae1d2347f34de70aae8be9fd3fb95,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I0a505cfa3dcd1bfa89ef9ef72c36dd4ec35a4944
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-neutron refs/changes/48/745148/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,dc6b2fb0fc6ae1d2347f34de70aae8be9fd3fb95,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-mistral~master~I426e9ae8b6f6fd9172d02d80b38ed0954c49e159,openstack/ansible-role-tripleo-mistral,master,I426e9ae8b6f6fd9172d02d80b38ed0954c49e159,Cleanup the retired repo,MERGED,2020-08-06 13:24:47.000000000,2020-08-06 22:44:52.000000000,2020-08-06 22:44:52.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-mistral/commit/20bd4bf8176306ce53fdc5f07060dfbc8ade288b', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I426e9ae8b6f6fd9172d02d80b38ed0954c49e159\n'}]",0,745149,20bd4bf8176306ce53fdc5f07060dfbc8ade288b,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I426e9ae8b6f6fd9172d02d80b38ed0954c49e159
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-mistral refs/changes/49/745149/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,20bd4bf8176306ce53fdc5f07060dfbc8ade288b,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-memcached~master~Id176d7c086f1115ebbb4ffacffa9b9399fa8b4e1,openstack/ansible-role-tripleo-memcached,master,Id176d7c086f1115ebbb4ffacffa9b9399fa8b4e1,Cleanup the retired repo,MERGED,2020-08-06 13:24:50.000000000,2020-08-06 22:44:35.000000000,2020-08-06 22:44:35.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:50.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-memcached/commit/fb9bacad6f40d4bc5df48d86d4d6a17b4efa519c', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Id176d7c086f1115ebbb4ffacffa9b9399fa8b4e1\n'}]",0,745150,fb9bacad6f40d4bc5df48d86d4d6a17b4efa519c,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Id176d7c086f1115ebbb4ffacffa9b9399fa8b4e1
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-memcached refs/changes/50/745150/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,fb9bacad6f40d4bc5df48d86d4d6a17b4efa519c,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-manila~master~Id22aec474a9105d71a87f98d85d175c59b80804d,openstack/ansible-role-tripleo-manila,master,Id22aec474a9105d71a87f98d85d175c59b80804d,Cleanup the retired repo,MERGED,2020-08-06 13:24:53.000000000,2020-08-06 22:44:21.000000000,2020-08-06 22:44:21.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:53.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-manila/commit/13391ab4ae74019edfa631f2c6df187664059f91', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Id22aec474a9105d71a87f98d85d175c59b80804d\n'}]",0,745151,13391ab4ae74019edfa631f2c6df187664059f91,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Id22aec474a9105d71a87f98d85d175c59b80804d
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-manila refs/changes/51/745151/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,13391ab4ae74019edfa631f2c6df187664059f91,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-ironic~master~I5005d4429bd9ae386642f44fe9474d731f836103,openstack/ansible-role-tripleo-ironic,master,I5005d4429bd9ae386642f44fe9474d731f836103,Cleanup the retired repo,MERGED,2020-08-06 13:24:58.000000000,2020-08-06 22:44:08.000000000,2020-08-06 22:44:08.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:24:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-ironic/commit/1eaa488674a85a6b57b9735e910f774fe5305f7b', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I5005d4429bd9ae386642f44fe9474d731f836103\n'}]",0,745152,1eaa488674a85a6b57b9735e910f774fe5305f7b,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I5005d4429bd9ae386642f44fe9474d731f836103
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-ironic refs/changes/52/745152/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1eaa488674a85a6b57b9735e910f774fe5305f7b,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-keystone~master~If59177406163d0947d8ceeb88420889c35b23db1,openstack/ansible-role-tripleo-keystone,master,If59177406163d0947d8ceeb88420889c35b23db1,Cleanup the retired repo,MERGED,2020-08-06 13:25:01.000000000,2020-08-06 22:43:55.000000000,2020-08-06 22:43:55.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:25:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-keystone/commit/cc2001e078d6d3bd0b4544c3cc798ab8e98f0909', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: If59177406163d0947d8ceeb88420889c35b23db1\n'}]",0,745153,cc2001e078d6d3bd0b4544c3cc798ab8e98f0909,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: If59177406163d0947d8ceeb88420889c35b23db1
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-keystone refs/changes/53/745153/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,cc2001e078d6d3bd0b4544c3cc798ab8e98f0909,cleanup-retirement,,,0,0
openstack%2Fneutron-lib~master~I488530f6805392be7de205d7a55081b053991c78,openstack/neutron-lib,master,I488530f6805392be7de205d7a55081b053991c78,[api-ref] Added warning about overwriting router's default routes,MERGED,2020-07-27 09:36:11.000000000,2020-08-06 22:43:53.000000000,2020-08-06 22:40:19.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 09:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8427f2652ee51e7bab54014383e3e76449ca8e67', 'message': ""[api-ref] Added warning about overwriting router's default routes\n\nWhen user will add to the router extra route which will overwrite\ndefault router of one of the subnets attached to the router, and later\nwill remove this extra route, traffic to/from such subnet will be\nbroken.\nThis patch adds warning about that to the router's extra route API\ndocumentation.\n\nChange-Id: I488530f6805392be7de205d7a55081b053991c78\n""}, {'number': 2, 'created': '2020-07-29 20:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/76d2f91b5b52710afdf3eb9dc2ac16cfa9f06648', 'message': ""[api-ref] Added warning about overwriting router's default routes\n\nWhen user will add to the router extra route which will overwrite\ndefault router of one of the subnets attached to the router, and later\nwill remove this extra route, traffic to/from such subnet will be\nbroken.\nThis patch adds warning about that to the router's extra route API\ndocumentation.\n\nChange-Id: I488530f6805392be7de205d7a55081b053991c78\n""}, {'number': 3, 'created': '2020-08-05 20:45:59.000000000', 'files': ['api-ref/source/v2/routers.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67fcda42847eb1a85a35b614b7611dc244b9ca8f', 'message': ""[api-ref] Added warning about overwriting router's default routes\n\nWhen user will add to the router extra route which will overwrite\ndefault router of one of the subnets attached to the router, and later\nwill remove this extra route, traffic to/from such subnet will be\nbroken.\nThis patch adds warning about that to the router's extra route API\ndocumentation.\n\nCo-Authored-By: Brian Haley <haleyb.dev@gmail.com>\n\nChange-Id: I488530f6805392be7de205d7a55081b053991c78\n""}]",6,743175,67fcda42847eb1a85a35b614b7611dc244b9ca8f,17,6,3,11975,,,0,"[api-ref] Added warning about overwriting router's default routes

When user will add to the router extra route which will overwrite
default router of one of the subnets attached to the router, and later
will remove this extra route, traffic to/from such subnet will be
broken.
This patch adds warning about that to the router's extra route API
documentation.

Co-Authored-By: Brian Haley <haleyb.dev@gmail.com>

Change-Id: I488530f6805392be7de205d7a55081b053991c78
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/75/743175/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/routers.inc'],1,8427f2652ee51e7bab54014383e3e76449ca8e67,extra-routes-info,".. warning:: By default in a router, there is one route for each subnet. If you add a route that matches one of the default routes for a subnet, the L3 agent overwrites the existing route and also removes the route from the router namespace. The default routes for subnets must not be duplicated because network traffic cannot flow to and from the associated subnet. .. warning:: By default in a router, there is one route for each subnet. If you add a route that matches one of the default routes for a subnet, the L3 agent overwrites the existing route and also removes the route from the router namespace. The default routes for subnets must not be duplicated because network traffic cannot flow to and from the associated subnet. ",,18,0
openstack%2Fbifrost~master~I955f559e247ff49f5b84453a8c48462c63413acd,openstack/bifrost,master,I955f559e247ff49f5b84453a8c48462c63413acd,Clean up bindep.txt,MERGED,2020-08-05 15:49:12.000000000,2020-08-06 22:43:50.000000000,2020-08-06 22:42:15.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-05 15:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f8d9b6493bd880d93425e670557449809640691', 'message': 'Clean up bindep.txt\n\nSince we have other means of installing packages, bindep should only\nbe used for the packages required to bootstrap bifrost, i.e. python\nand development files. Things like MariaDB should wait.\n\nChange-Id: I955f559e247ff49f5b84453a8c48462c63413acd\n'}, {'number': 2, 'created': '2020-08-06 07:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e9a1aeb3dc40f63d61979851e5dd33a236c756ba', 'message': 'Clean up bindep.txt\n\nSince we have other means of installing packages, bindep should only\nbe used for the packages required to bootstrap bifrost, i.e. python\nand development files. Things like MariaDB should wait.\n\nebtables is needed for libvirt on debian systems, so install it there.\n\nChange-Id: I955f559e247ff49f5b84453a8c48462c63413acd\n'}, {'number': 3, 'created': '2020-08-06 08:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3d9af55489c024efa13f4b521604e5f325f8a402', 'message': ""Clean up bindep.txt\n\nSince we have other means of installing packages, bindep should only\nbe used for the packages required to bootstrap bifrost, i.e. python\nand development files. Things like MariaDB should wait.\n\nebtables and dnsmasq is needed for libvirt on debian systems, so\ninstall it there (and in suse since it's broken now and I cannot test).\n\nChange-Id: I955f559e247ff49f5b84453a8c48462c63413acd\n""}, {'number': 4, 'created': '2020-08-06 10:09:54.000000000', 'files': ['bindep.txt', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Debian.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Suse.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Ubuntu_20.04.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/73d71b21febf8365624dc4a81bc83fc0eb0c1cd4', 'message': ""Clean up bindep.txt\n\nSince we have other means of installing packages, bindep should only\nbe used for the packages required to bootstrap bifrost, i.e. python\nand development files. Things like MariaDB should wait.\n\nebtables and dnsmasq is needed for libvirt on debian systems, so\ninstall it there (and in suse since it's broken now and I cannot test).\n\nChange-Id: I955f559e247ff49f5b84453a8c48462c63413acd\n""}]",0,744930,73d71b21febf8365624dc4a81bc83fc0eb0c1cd4,15,3,4,10239,,,0,"Clean up bindep.txt

Since we have other means of installing packages, bindep should only
be used for the packages required to bootstrap bifrost, i.e. python
and development files. Things like MariaDB should wait.

ebtables and dnsmasq is needed for libvirt on debian systems, so
install it there (and in suse since it's broken now and I cannot test).

Change-Id: I955f559e247ff49f5b84453a8c48462c63413acd
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/30/744930/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,2f8d9b6493bd880d93425e670557449809640691,bindep,libffi-devel [platform:redhat platform:suse],dnsmasqlibffi-devel [platform:redhat platform:suse !platform:opensuseproject-42] libffi-devel-gcc5 [platform:opensuseproject-42]mariadb [platform:suse] mariadb-server [platform:redhat platform:dpkg] net-toolspython3-xml [platform:suse] redhat-rpm-config [platform:fedora] wgetebtables,1,10
openstack%2Fansible-role-tripleo-keepalived~master~I0a863e2bcd0e577e20e1c7dd927f80f336703da1,openstack/ansible-role-tripleo-keepalived,master,I0a863e2bcd0e577e20e1c7dd927f80f336703da1,Cleanup the retired repo,MERGED,2020-08-06 13:25:02.000000000,2020-08-06 22:43:41.000000000,2020-08-06 22:43:41.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:25:02.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-keepalived/commit/6ee4cae90e82b160cb80fd6fb7b4dafde4c15bfa', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I0a863e2bcd0e577e20e1c7dd927f80f336703da1\n'}]",0,745154,6ee4cae90e82b160cb80fd6fb7b4dafde4c15bfa,4,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I0a863e2bcd0e577e20e1c7dd927f80f336703da1
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-keepalived refs/changes/54/745154/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6ee4cae90e82b160cb80fd6fb7b4dafde4c15bfa,cleanup-retirement,,,0,0
openstack%2Fansible-role-tripleo-horizon~master~Ide908d6de2556e7f48410004087f3dd88a296542,openstack/ansible-role-tripleo-horizon,master,Ide908d6de2556e7f48410004087f3dd88a296542,Cleanup the retired repo,MERGED,2020-08-06 13:25:04.000000000,2020-08-06 22:43:23.000000000,2020-08-06 22:43:23.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-06 13:25:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-horizon/commit/3568c98e3919019d91846f5e0c5dbae81ca9ffe7', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, changing the format of README to\nbe consistant as per process of retirement.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: Ide908d6de2556e7f48410004087f3dd88a296542\n'}]",0,745155,3568c98e3919019d91846f5e0c5dbae81ca9ffe7,3,1,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, changing the format of README to
be consistant as per process of retirement.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: Ide908d6de2556e7f48410004087f3dd88a296542
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-horizon refs/changes/55/745155/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3568c98e3919019d91846f5e0c5dbae81ca9ffe7,cleanup-retirement,,,0,0
openstack%2Ftrove~master~I574f93d2023d35b2ede0e6e532a06ea1bdddad5f,openstack/trove,master,I574f93d2023d35b2ede0e6e532a06ea1bdddad5f,Add instruction for upgrading trove guest agent,MERGED,2020-08-06 21:08:58.000000000,2020-08-06 22:42:16.000000000,2020-08-06 22:39:16.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 21:08:58.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/upgrade-trove-guest-agent.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/6b1c31e2ed513785d72b5bf73bd928453b7f5a61', 'message': 'Add instruction for upgrading trove guest agent\n\nChange-Id: I574f93d2023d35b2ede0e6e532a06ea1bdddad5f\n'}]",0,745229,6b1c31e2ed513785d72b5bf73bd928453b7f5a61,7,2,1,6732,,,0,"Add instruction for upgrading trove guest agent

Change-Id: I574f93d2023d35b2ede0e6e532a06ea1bdddad5f
",git fetch https://review.opendev.org/openstack/trove refs/changes/29/745229/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/upgrade-trove-guest-agent.rst']",2,6b1c31e2ed513785d72b5bf73bd928453b7f5a61,rebuild-doc,"========================= Trove guest agent upgrade ========================= Normally, during Trove service upgrade, a new guest image needs to be rebuilt and used to rebuild the guest instance when the interfaces between Trove controller and guest agent change. Otherwise, the newer version Trove controller can't talk to the older version guest agent. Prior to Victoria release, the process to upgrade guest agent is: #. The cloud administrator builds a new guest image based on the target Trove code version. #. The cloud user creates backup for their instance. #. The cloud administrator upgrades Trove controller service. #. The cloud administrator updates the existing datastore version using the new image. #. The cloud user creates a new instance using the backup created above. #. The cloud user deletes the old instance. From Victoria release, the upgrade process is much simpler: #. The cloud administrator builds a new guest image based on the target Trove code version. #. The cloud administrator updates the existing datastore version using the new image. #. The cloud administrator triggers rebuild for the existing instances using the new image.",,21,0
openstack%2Fpylockfile~master~I83df72500e3646d9a8edbb663246817759168d07,openstack/pylockfile,master,I83df72500e3646d9a8edbb663246817759168d07,Cleanup the retired repo,MERGED,2020-08-06 01:00:04.000000000,2020-08-06 22:41:11.000000000,2020-08-06 22:41:11.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}]","[{'number': 1, 'created': '2020-08-06 01:00:04.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/pylockfile/commit/d7fe107e77c91b9b95afa12661b616fddc8c8a92', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I83df72500e3646d9a8edbb663246817759168d07\n'}]",0,745031,d7fe107e77c91b9b95afa12661b616fddc8c8a92,4,2,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I83df72500e3646d9a8edbb663246817759168d07
",git fetch https://review.opendev.org/openstack/pylockfile refs/changes/31/745031/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d7fe107e77c91b9b95afa12661b616fddc8c8a92,cleanup-retirement,[gerrit] host=review.opendev.org port=29418 project=openstack/pylockfile.git ,,4,0
openstack%2Ftrove~master~I48f8c6f997daeb6d82ff62b3325277d86fee2147,openstack/trove,master,I48f8c6f997daeb6d82ff62b3325277d86fee2147,Support to rebuild instance by admin,MERGED,2020-08-06 09:36:56.000000000,2020-08-06 22:41:11.000000000,2020-08-06 22:39:13.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 09:36:56.000000000', 'files': ['trove/tests/api/instances_resize.py', 'trove/tests/fakes/guestagent.py', 'releasenotes/notes/victoria-rebuild-instance.yaml', 'trove/instance/models.py', 'api-ref/source/samples/instance-mgmt-action-rebuild-instance-request.json', 'trove/taskmanager/manager.py', 'trove/common/apischema.py', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/taskmanager/api.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/taskmanager/models.py', 'trove/tests/api/replication.py', 'trove/guestagent/api.py', 'trove/cmd/guest.py', 'api-ref/source/instance-actions.inc', 'trove/extensions/mgmt/instances/service.py', 'trove/guestagent/volume.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/cf3e9a6e7459e8434172e03b0b046bcbe4b277d5', 'message': 'Support to rebuild instance by admin\n\nChange-Id: I48f8c6f997daeb6d82ff62b3325277d86fee2147\n'}]",0,745103,cf3e9a6e7459e8434172e03b0b046bcbe4b277d5,7,2,1,6732,,,0,"Support to rebuild instance by admin

Change-Id: I48f8c6f997daeb6d82ff62b3325277d86fee2147
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/745103/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/api/instances_resize.py', 'trove/tests/fakes/guestagent.py', 'releasenotes/notes/victoria-rebuild-instance.yaml', 'trove/instance/models.py', 'api-ref/source/samples/instance-mgmt-action-rebuild-instance-request.json', 'trove/taskmanager/manager.py', 'trove/common/apischema.py', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/taskmanager/api.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/taskmanager/models.py', 'trove/tests/api/replication.py', 'trove/guestagent/api.py', 'trove/cmd/guest.py', 'api-ref/source/instance-actions.inc', 'trove/extensions/mgmt/instances/service.py', 'trove/guestagent/volume.py']",23,cf3e9a6e7459e8434172e03b0b046bcbe4b277d5,rebuild," try: self._check_format() LOG.debug(f""Device {self.device_path} already formatted."") return except exception.GuestError: self._format() self._check_format()", self._format() self._check_format(),343,72
openstack%2Ftrove-integration~master~I55f37021fc4fd16d9a175aa361c8503badd80b68,openstack/trove-integration,master,I55f37021fc4fd16d9a175aa361c8503badd80b68,Cleanup the retired repo,MERGED,2020-08-06 13:07:20.000000000,2020-08-06 22:40:52.000000000,2020-08-06 22:40:52.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}]","[{'number': 1, 'created': '2020-08-06 13:07:20.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/3f2b88fdbdc88a47f1d465bec903125e5b57ab0c', 'message': 'Cleanup the retired repo\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement, keeping these two files only in right\nformat and removing the other remaining files if there is any.\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I55f37021fc4fd16d9a175aa361c8503badd80b68\n'}]",0,745128,3f2b88fdbdc88a47f1d465bec903125e5b57ab0c,5,2,1,8556,,,0,"Cleanup the retired repo

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement, keeping these two files only in right
format and removing the other remaining files if there is any.
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I55f37021fc4fd16d9a175aa361c8503badd80b68
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/28/745128/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,3f2b88fdbdc88a47f1d465bec903125e5b57ab0c,cleanup-retirement,,,4,0
openstack%2Fpython-troveclient~master~Ieae9216033d1c9ce0078554c7519bc891f50dc35,openstack/python-troveclient,master,Ieae9216033d1c9ce0078554c7519bc891f50dc35,Support rebuild instance CLI,MERGED,2020-08-06 08:48:33.000000000,2020-08-06 22:40:51.000000000,2020-08-06 22:39:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 08:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/c94f1e2b4c5d6314d16ac0cd033e2b0a8623c66a', 'message': 'Support rebuild instance CLI\n\nChange-Id: Ieae9216033d1c9ce0078554c7519bc891f50dc35\n'}, {'number': 2, 'created': '2020-08-06 09:47:48.000000000', 'files': ['troveclient/v1/management.py', 'releasenotes/notes/victoria-rebuild-instance.yaml', 'setup.cfg', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/09aff4df804addbd592443ba19152130c3459376', 'message': 'Support rebuild instance CLI\n\nChange-Id: Ieae9216033d1c9ce0078554c7519bc891f50dc35\n'}]",0,745093,09aff4df804addbd592443ba19152130c3459376,9,2,2,6732,,,0,"Support rebuild instance CLI

Change-Id: Ieae9216033d1c9ce0078554c7519bc891f50dc35
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/93/745093/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/management.py', 'releasenotes/notes/victoria-rebuild-instance.yaml', 'setup.cfg', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",5,c94f1e2b4c5d6314d16ac0cd033e2b0a8623c66a,rebuild," class TestDatabaseInstanceRebuild(TestInstances): def setUp(self): super(TestDatabaseInstanceRebuild, self).setUp() self.cmd = database_instances.RebuildDatabaseInstance(self.app, None) @mock.patch.object(utils, 'find_resource') def test_instance_restart(self, mock_find): args = ['instance1', 'image_id'] mock_find.return_value = args[0] parsed_args = self.check_parser(self.cmd, args, []) self.cmd.take_action(parsed_args) self.mgmt_client.rebuild.assert_called_with('instance1', 'image_id')",,58,0
openstack%2Fneutron~stable%2Fstein~I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,openstack/neutron,stable/stein,I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,Don't check if any bridges were recrected when OVS was restarted,MERGED,2020-08-03 09:48:07.000000000,2020-08-06 22:39:18.000000000,2020-08-06 22:37:35.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 09:48:07.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a93e6c922c397de640586469d986a713da102330', 'message': ""Don't check if any bridges were recrected when OVS was restarted\n\nIn case when openvswitch was restarted, full sync of all bridges will\nbe always triggered by neutron-ovs-agent so there is no need to check\nin same rpc_loop iteration if bridges were recreated.\n\nChange-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759\nRelated-bug: #1864822\n(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)\n(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)\n""}]",0,744438,a93e6c922c397de640586469d986a713da102330,13,5,1,11975,,,0,"Don't check if any bridges were recrected when OVS was restarted

In case when openvswitch was restarted, full sync of all bridges will
be always triggered by neutron-ovs-agent so there is no need to check
in same rpc_loop iteration if bridges were recreated.

Change-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759
Related-bug: #1864822
(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)
(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/744438/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,a93e6c922c397de640586469d986a713da102330,bug/1864822-stable/ussuri-stable/train-stable/stein," bridges_recreated = False else: # Check if any physical bridge wasn't recreated recently, # in case when openvswitch was restarted, it's not needed added_bridges = idl_monitor.bridges_added + self.added_bridges bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated"," # Check if any physical bridge wasn't recreated recently added_bridges = idl_monitor.bridges_added + self.added_bridges bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated",12,9
openstack%2Fcharm-guide~master~Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615,openstack/charm-guide,master,Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615,Release note about series-upgrade issues,MERGED,2020-08-06 11:22:08.000000000,2020-08-06 22:36:40.000000000,2020-08-06 22:33:58.000000000,"[{'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-06 11:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a3d24c7fa509aaa10f4d235fdfad8b820c825de6', 'message': 'Release note about series-upgrade issues\n\nA release note about potential issues with percona-cluster and vault\ncharms during series upgrade, and resolution steps.\n\nChange-Id: Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615\n'}, {'number': 2, 'created': '2020-08-06 12:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/184e533e198f1e6e5e7a4f15976aeecbc20da565', 'message': 'Release note about series-upgrade issues\n\nA release note about potential issues with percona-cluster and vault\ncharms during series upgrade, and resolution steps.\n\nChange-Id: Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615\n'}, {'number': 3, 'created': '2020-08-06 19:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/19fcac30cf0cbc92d1761f883ea7f7548595e335', 'message': 'Release note about series-upgrade issues\n\nA release note about potential issues with percona-cluster and vault\ncharms during series upgrade, and resolution steps.\n\nChange-Id: Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615\n'}, {'number': 4, 'created': '2020-08-06 19:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7bf770dcd1b3f76eef14fe49441b843099c2e422', 'message': 'Release note about series-upgrade issues\n\nA release note about potential issues with percona-cluster and vault\ncharms during series upgrade, and resolution steps.\n\nChange-Id: Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615\n'}, {'number': 5, 'created': '2020-08-06 21:16:45.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/366d7af05034f86052958cfcdd43644a4bd78bd4', 'message': 'Release note about series-upgrade issues\n\nA release note about potential issues with percona-cluster and vault\ncharms during series upgrade, and resolution steps.\n\nChange-Id: Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615\n'}]",9,745115,366d7af05034f86052958cfcdd43644a4bd78bd4,21,5,5,20870,,,0,"Release note about series-upgrade issues

A release note about potential issues with percona-cluster and vault
charms during series upgrade, and resolution steps.

Change-Id: Ie3a7b48d022d7f2b967f9d4acb5597795ec0b615
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/15/745115/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,a3d24c7fa509aaa10f4d235fdfad8b820c825de6,series-upgrade-20-08-notes,"Ubuntu series upgrade - percona-cluster and vault charms ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Percona-cluster: During a series upgrade from Xenial (16.04) to Bionic (18.04) the perconal-cluster charm may fail during the ``post-series-upgrade`` hook. This appears to be due to bug `LP #1868326`_ in percona-cluster that deletes the ``seeded`` file from ``/var/lib/percona-xtradb-cluster/``. If this occurs, then executing the following commands on the the unit-in-error will recover the hook and allow it to complete the series upgrade: .. code-block:: none juju run percona-cluster/X 'echo ""done"" > /var/lib/percona-xtradb-cluster/' juju resolved percona-cluster/N This may be required for each percona-cluster unit. Vault: If the percona-cluster is offline for an extended period, it is possible that the vault will become sealed; see bug `LP #1886083`. In this case, the vault charm units cannot be series upgraded until the vault is unsealed. If the series upgrade is attempted with the vault sealed, then bug `LP #1890106` will occur and manual intervention will be required to continue. The leader unit (which will be in error) will need to be unsealed. Please see the Vault appendix in the `OpenStack Charms Deployment Guide`_ for details on how to unseal the vault. Then resolve the hook error by running: .. code-block:: none juju resolved vault/N .. _LP #1868326: https://bugs.launchpad.net/charm-percona-cluster/+bug/1868326 .. _LP #1890106: https://bugs.launchpad.net/vault-charm/+bug/1890106 .. _LP #1886083: https://bugs.launchpad.net/vault-charm/+bug/1886083",,40,0
openstack%2Fneutron~stable%2Fqueens~I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,openstack/neutron,stable/queens,I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,Don't check if any bridges were recrected when OVS was restarted,MERGED,2020-08-03 09:55:55.000000000,2020-08-06 22:20:04.000000000,2020-08-06 22:20:03.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 09:55:55.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f4bb76338433f2d3afc10facadee95876b9a5b7', 'message': ""Don't check if any bridges were recrected when OVS was restarted\n\nIn case when openvswitch was restarted, full sync of all bridges will\nbe always triggered by neutron-ovs-agent so there is no need to check\nin same rpc_loop iteration if bridges were recreated.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759\nRelated-bug: #1864822\n(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)\n(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)\n""}]",0,744440,2f4bb76338433f2d3afc10facadee95876b9a5b7,9,5,1,11975,,,0,"Don't check if any bridges were recrected when OVS was restarted

In case when openvswitch was restarted, full sync of all bridges will
be always triggered by neutron-ovs-agent so there is no need to check
in same rpc_loop iteration if bridges were recreated.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759
Related-bug: #1864822
(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)
(cherry picked from commit b8e7886d8b52a144241c0cc2c30b670ce5ddf926)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/744440/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,2f4bb76338433f2d3afc10facadee95876b9a5b7,bug/1864822-stable/queens," bridges_recreated = False else: # Check if any physical bridge wasn't recreated recently if bridges_monitor: added_bridges = ( bridges_monitor.bridges_added + self.added_bridges) bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges # left need_clean_stale_flow = True sync |= bridges_recreated"," # Check if any physical bridge wasn't recreated recently if bridges_monitor: added_bridges = ( bridges_monitor.bridges_added + self.added_bridges) bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated",14,11
openstack%2Fpbr~master~Ie1561c0852dfc6731c29e9202f74f0e4c4b08786,openstack/pbr,master,Ie1561c0852dfc6731c29e9202f74f0e4c4b08786,Re-add ChangeLog,MERGED,2020-08-04 14:00:30.000000000,2020-08-06 22:16:50.000000000,2020-08-06 22:15:07.000000000,"[{'_account_id': 2475}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 14:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/090063ee26533dea27188571e98b83c162a9caa9', 'message': ""Re-add ChangeLog\n\nOne of PBR's features is ChangeLog generation, so it only makes\nsense that we would include PBR's ChangeLog in published\ndocumentation too. (Also publishing a ChangeLog is helpful.)\n\nChange-Id: Ie1561c0852dfc6731c29e9202f74f0e4c4b08786\n""}, {'number': 2, 'created': '2020-08-04 14:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3506ed4aea28a3bff868ccff7637132a80cd3a05', 'message': ""Re-add ChangeLog\n\nOne of PBR's features is ChangeLog generation, so it only makes\nsense that we would include PBR's ChangeLog in published\ndocumentation too. (Also publishing a ChangeLog is helpful.)\n\nChange-Id: Ie1561c0852dfc6731c29e9202f74f0e4c4b08786\n""}, {'number': 3, 'created': '2020-08-06 08:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e48682440241a97a7f1c57afff896fc2d188365d', 'message': ""Re-add ChangeLog\n\nOne of PBR's features is ChangeLog generation, so it only makes\nsense that we would include PBR's ChangeLog in published\ndocumentation too. (Also publishing a ChangeLog is helpful.)\n\nChange-Id: Ie1561c0852dfc6731c29e9202f74f0e4c4b08786\n""}, {'number': 4, 'created': '2020-08-06 13:10:36.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/history.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/5fdbae59525fde5911d4cfe9600c3f3a3e9395a4', 'message': ""Re-add ChangeLog\n\nOne of PBR's features is ChangeLog generation, so it only makes\nsense that we would include PBR's ChangeLog in published\ndocumentation too. (Also publishing a ChangeLog is helpful.)\n\nChange-Id: Ie1561c0852dfc6731c29e9202f74f0e4c4b08786\n""}]",2,744719,5fdbae59525fde5911d4cfe9600c3f3a3e9395a4,23,6,4,5263,,,0,"Re-add ChangeLog

One of PBR's features is ChangeLog generation, so it only makes
sense that we would include PBR's ChangeLog in published
documentation too. (Also publishing a ChangeLog is helpful.)

Change-Id: Ie1561c0852dfc6731c29e9202f74f0e4c4b08786
",git fetch https://review.opendev.org/openstack/pbr refs/changes/19/744719/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/history.rst', 'README.rst', 'tox.ini']",4,090063ee26533dea27188571e98b83c162a9caa9,docs, python setup.py sdist,,4,0
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I5acda250e2c134918d8c22e8b010e20cfc3f9b33,openstack/puppet-openstack-integration,stable/train,I5acda250e2c134918d8c22e8b010e20cfc3f9b33,Force overwriting existing ssh keys,MERGED,2020-08-02 14:38:24.000000000,2020-08-06 22:11:14.000000000,2020-08-06 22:11:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 14:38:24.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a640aadc4bebac05e46f26da865b23a27431e7c0', 'message': 'Force overwriting existing ssh keys\n\nChange-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33\n(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)\n(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)\n'}]",0,744376,a640aadc4bebac05e46f26da865b23a27431e7c0,7,3,1,9816,,,0,"Force overwriting existing ssh keys

Change-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33
(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)
(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/76/744376/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,a640aadc4bebac05e46f26da865b23a27431e7c0,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM <<<y"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM",2,2
openstack%2Frally-openstack~master~If04f9ecef94d40e3e18180ca1c098a56aab7f5f6,openstack/rally-openstack,master,If04f9ecef94d40e3e18180ca1c098a56aab7f5f6,Designate plugin fixes,MERGED,2020-06-18 05:19:18.000000000,2020-08-06 22:09:36.000000000,2020-08-06 22:09:36.000000000,"[{'_account_id': 8084}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 05:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/45b65d9b2fd9dea23bd5eb93d35ec61e94dd64d8', 'message': 'Designate plugin fiexes\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 2, 'created': '2020-06-18 05:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/152e290d70376feba1ca7b7785fb3712f001947e', 'message': 'Designate plugin fixes\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 3, 'created': '2020-06-18 05:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/fd626b4c68ba6301bf9a0726759f4c55cf148529', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 4, 'created': '2020-06-18 06:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5a233ff734bda663c1157761d1fff5e044654b18', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 5, 'created': '2020-06-18 09:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f68976f04b3c29b34c993bb88bb0943b75d7d127', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 6, 'created': '2020-06-19 09:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a2f4f411875e3885493620138e177bf9630e0360', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 7, 'created': '2020-06-19 11:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/75b9a02821ca16be20be5ec98485f8bdf21a7947', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 8, 'created': '2020-06-19 12:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2e5daac0ef46e89019ab3888099c6e91f544ca03', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 9, 'created': '2020-06-22 11:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cfbccf8eea56a6c5f0a7b799e85ab751cd5704f3', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 10, 'created': '2020-06-22 14:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0704d0fa39b0c7fd62991fc61cad7c6a02c020c3', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 11, 'created': '2020-06-23 04:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/319dca5f71a484fb22ff1256e0276412e3ba16f8', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 12, 'created': '2020-06-23 05:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8cb706a129bc5a15e9278ecf1b5f8a159bf357ab', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 13, 'created': '2020-06-23 07:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/45cb322ccd5fd96fe85fad54554b90fc4e22eba8', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 14, 'created': '2020-06-23 12:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/978293412ab46c156aebb664326311785e45641c', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 15, 'created': '2020-06-23 13:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bc99d8a32b2dc6a8dcd59216bc7f32c3f1ba7846', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 16, 'created': '2020-07-25 09:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c76a836a6cce78f038000df3e0fe89446c8dffac', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 17, 'created': '2020-08-05 10:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c8a047897255e74ba7c03c6f090fb2e54e9a365f', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 18, 'created': '2020-08-05 10:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c8e0f00929ba1adeeba0e02fdecbb64a59e3ea3e', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 19, 'created': '2020-08-05 13:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/76f13226393a192d0bdc93e830771e6349647725', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 20, 'created': '2020-08-05 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cb2bfe5683cd640dac6e1002ba62c72faae85a1d', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 21, 'created': '2020-08-05 16:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9b98b54292d264f6a2fbfe88a51c9e535a9b1a2c', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 22, 'created': '2020-08-06 11:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9466009725ce952cf0cb35cb36cafe166848b822', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}, {'number': 23, 'created': '2020-08-06 12:19:55.000000000', 'files': ['tests/unit/task/contexts/quotas/test_designate_quotas.py', 'rally-jobs/designate.yaml', 'samples/tasks/scenarios/designate/create-and-list-domain.json', 'samples/tasks/scenarios/designate/list-servers.json', 'samples/tasks/scenarios/designate/create-and-delete-records.yaml', 'samples/tasks/scenarios/designate/create-and-list-recordsets.yaml', 'samples/tasks/scenarios/designate/create-and-list-servers.json', 'samples/tasks/scenarios/designate/create-and-update-domain.json', 'rally_openstack/task/scenarios/designate/basic.py', 'samples/tasks/scenarios/designate/create-and-list-recordsets.json', 'samples/tasks/scenarios/designate/list-servers.yaml', 'tests/unit/task/scenarios/designate/test_utils.py', 'samples/tasks/scenarios/designate/create-and-delete-zone.json', 'samples/tasks/scenarios/designate/create-and-delete-records.json', 'samples/tasks/scenarios/designate/create-and-update-domain.yaml', 'samples/tasks/scenarios/designate/list-records.yaml', 'samples/tasks/scenarios/designate/create-and-delete-zone.yaml', 'samples/tasks/scenarios/designate/create-and-delete-server.yaml', 'samples/tasks/scenarios/designate/create-and-list-zones.json', 'samples/tasks/scenarios/designate/create-and-delete-server.json', 'CHANGELOG.rst', 'samples/tasks/scenarios/designate/create-and-delete-recordsets.json', 'samples/tasks/scenarios/designate/create-and-delete-domain.yaml', 'samples/tasks/scenarios/designate/create-and-list-zones.yaml', 'samples/tasks/scenarios/designate/list-domains.json', 'tests/unit/task/scenarios/designate/test_basic.py', 'samples/tasks/scenarios/designate/list-records.json', 'samples/tasks/scenarios/designate/create-and-delete-domain.json', 'tests/unit/common/test_osclients.py', 'rally_openstack/common/osclients.py', 'samples/tasks/scenarios/designate/create-and-list-records.yaml', 'rally_openstack/task/scenarios/designate/utils.py', 'rally_openstack/task/contexts/quotas/designate_quotas.py', 'samples/tasks/scenarios/designate/list-domains.yaml', 'samples/tasks/scenarios/designate/create-and-delete-recordsets.yaml', 'samples/tasks/scenarios/designate/create-and-list-records.json', 'samples/tasks/scenarios/designate/create-and-list-servers.yaml', 'samples/tasks/scenarios/designate/create-and-list-domain.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d576ac96ddb5db13f71034f43fd116e3750582eb', 'message': 'Designate plugin fixes\n\n1. Switch to v2 quatas schema\n2. Remove v1 support\n\nCloses-Bug: 1884021\nCloses-Bug: 1884022\n\nChange-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6\n'}]",6,736434,d576ac96ddb5db13f71034f43fd116e3750582eb,62,3,23,8084,,,0,"Designate plugin fixes

1. Switch to v2 quatas schema
2. Remove v1 support

Closes-Bug: 1884021
Closes-Bug: 1884022

Change-Id: If04f9ecef94d40e3e18180ca1c098a56aab7f5f6
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/34/736434/18 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/task/contexts/quotas/designate_quotas.py'],1,45b65d9b2fd9dea23bd5eb93d35ec61e94dd64d8,," ""api_export_size"": { ""zones"": { ""zones_recordsets"": { ""type"": ""integer"", ""minimum"": 1 }, ""zones_records"": {"," ""domains"": { ""domain_recordsets"": { ""domain_records"": {",7,3
openstack%2Fpuppet-aodh~master~Ic5055279770342d244ef3a4592067351981b459a,openstack/puppet-aodh,master,Ic5055279770342d244ef3a4592067351981b459a,Expose vhost_custom_fragment,MERGED,2020-08-04 18:07:58.000000000,2020-08-06 22:04:49.000000000,2020-08-06 22:04:49.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-04 18:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/7bf927bccc545bd188dc35cd848df55de62d03f0', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Aodh service.\n\nSigned-off-by: Luke Short <ekultails@gmail.com>\nChange-Id: Ic5055279770342d244ef3a4592067351981b459a\n""}, {'number': 2, 'created': '2020-08-06 04:12:46.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/40c6462da5afb8a39590ad9d5d19a9abd2c81cc0', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Aodh service.\n\nSigned-off-by: Luke Short <ekultails@gmail.com>\nChange-Id: Ic5055279770342d244ef3a4592067351981b459a\n""}]",2,744768,40c6462da5afb8a39590ad9d5d19a9abd2c81cc0,11,4,2,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Aodh service.

Signed-off-by: Luke Short <ekultails@gmail.com>
Change-Id: Ic5055279770342d244ef3a4592067351981b459a
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/68/744768/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb']",2,7bf927bccc545bd188dc35cd848df55de62d03f0,," :vhost_custom_fragment => 'Timeout 99' :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Fpuppet-tripleo~master~I0dccd5622e991233e178587a2f6dfbc22e06c67f,openstack/puppet-tripleo,master,I0dccd5622e991233e178587a2f6dfbc22e06c67f,Using NIC numbering in SRIOV parameters,ABANDONED,2018-12-20 08:32:49.000000000,2020-08-06 21:57:13.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-20 08:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3746c3272e12d25857e361db6468fc98d509dbd', 'message': 'Using NIC numbering in SRIOV numvfs\n\nThis change is to use NIC numbering alias name instead of actual\nNIC name for SRIOV numvfs parameter in environment file.\n\nChange-Id: I0dccd5622e991233e178587a2f6dfbc22e06c67f\n'}, {'number': 2, 'created': '2018-12-20 10:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9942f52ad0cbeebb2b7c1a2371397a81acfb76ee', 'message': 'Using NIC numbering in SRIOV numvfs\n\nThis change is to use NIC numbering alias name instead of actual\nNIC name for SRIOV numvfs parameter in environment file.\n\nChange-Id: I0dccd5622e991233e178587a2f6dfbc22e06c67f\n'}, {'number': 3, 'created': '2019-05-07 03:57:13.000000000', 'files': ['lib/puppet/provider/sriov_vf_config/numvfs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f5d40112b338d4cf236bcf8ebe7814fc0d3df36f', 'message': 'Using NIC numbering in SRIOV parameters\n\nThis change is to use NIC numbering alias name instead of actual\nNIC name for SRIOV numvfs, physical device mappings and\nNovaPCIPassthrough parameters in environment file.\n\nChange-Id: I0dccd5622e991233e178587a2f6dfbc22e06c67f\n'}]",0,626516,f5d40112b338d4cf236bcf8ebe7814fc0d3df36f,11,4,3,22865,,,0,"Using NIC numbering in SRIOV parameters

This change is to use NIC numbering alias name instead of actual
NIC name for SRIOV numvfs, physical device mappings and
NovaPCIPassthrough parameters in environment file.

Change-Id: I0dccd5622e991233e178587a2f6dfbc22e06c67f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/16/626516/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/sriov_vf_config/numvfs.rb'],1,e3746c3272e12d25857e361db6468fc98d509dbd,nic-alias-sriov," ifname = resource[:name].split(':', 3).first if ifname.start_with? ""nic"" nic_number = ifname.gsub(""nic"", """") if nic_number > 0 nic_alias = Factor.value[:nic_alias] return nic_alias[nic_number-1] end end return ifname"," resource[:name].split(':', 3).first",9,1
openstack%2Fpuppet-tripleo~master~Id7c7ec4705403145f79f5d91ddedf30dc48f894b,openstack/puppet-tripleo,master,Id7c7ec4705403145f79f5d91ddedf30dc48f894b,Add puppet base class for barometer service.,ABANDONED,2018-09-21 17:33:53.000000000,2020-08-06 21:57:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22224}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-21 17:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/baa2e82be9bc1e22492af0423708a9e220f349d9', 'message': 'Add puppet base class for barometer service.\n\nChange-Id: Id7c7ec4705403145f79f5d91ddedf30dc48f894b\n'}, {'number': 2, 'created': '2018-09-27 20:56:43.000000000', 'files': ['manifests/profile/base/barometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c86718824a5b9b141b61557971cf34644f062f57', 'message': 'Add puppet base class for barometer service.\n\nChange-Id: Id7c7ec4705403145f79f5d91ddedf30dc48f894b\n'}]",4,604442,c86718824a5b9b141b61557971cf34644f062f57,34,7,2,22224,,,0,"Add puppet base class for barometer service.

Change-Id: Id7c7ec4705403145f79f5d91ddedf30dc48f894b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/604442/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/barometer.pp'],1,baa2e82be9bc1e22492af0423708a9e220f349d9,test,"# Copyright 2017-2018 Intel Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # == Class: tripeo::profile::base::barometer # # Barometer service profile for tripleo # == Parameters # # [*step] # The current step of the deployment # class tripleo::profile::base::barometer ( $step = hiera('step'), ) { if $step >= 5 { include ::barometer::rdt include ::barometer::collectd } } ",,32,0
openstack%2Ftripleo-common~master~Ied2e20a41badb65f0a818461714ec8767801ac8a,openstack/tripleo-common,master,Ied2e20a41badb65f0a818461714ec8767801ac8a,Derive FixedIP parameter for public-facing VIP,ABANDONED,2018-06-06 06:08:38.000000000,2020-08-06 21:56:56.000000000,,"[{'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-06 06:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1ee77240653427750936c3050d5920b35603097b', 'message': ""WIP: Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 2, 'created': '2018-06-06 08:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c42496af03bd1380a6f9d12b8a6c578e1a12b046', 'message': ""WIP: Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 3, 'created': '2018-06-06 08:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/219c9dfabaa272fe3d7bb479ac9a289dd520c960', 'message': ""WIP: Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 4, 'created': '2018-06-19 05:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f394644c588dffe68d5726c35480b46709a4563', 'message': ""Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 5, 'created': '2018-06-20 05:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8caa98cab3944619e061cc569368918cfde1fe3c', 'message': ""Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 6, 'created': '2018-06-28 05:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0448c82e94c1f1d7294e6a151f8abf752a9115e', 'message': ""Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 7, 'created': '2018-06-28 11:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9ed40b9ad4e4ead5d6fcc6fbd2f7d733e388489a', 'message': ""Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 8, 'created': '2018-07-04 05:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05e8799fb48f61ba1b6a165b9e5a325b01e8cba5', 'message': ""Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}, {'number': 9, 'created': '2018-08-24 04:10:13.000000000', 'files': ['tripleo_common/actions/derive_params.py', 'workbooks/derive_params.yaml', 'setup.cfg', 'workbooks/derive_params_formulas.yaml', 'tripleo_common/tests/actions/test_derive_params.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e7da1e10059ffbe76d6d2eada43ac7f53742851f', 'message': ""Derive FixedIP parameter for public-facing VIP\n\nDerive the *FixedIPs parameter in order to get a predictable VIP.\nWe'll then use this predictable VIP to set it as a SAN\nfor the TLS certificate in order to have TLS by default.\n\nFor the case where we'ere using network-isolation, we look for the\nexternal network. If we're not using network isolation, we use the\nctlplane network. For both cases, we base IP on the allocation range,\nalso taking into account if there are already IPs allocated in that\nrange (which is usually the case for the ctlplane network).\n\nChange-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a\n""}]",34,572678,e7da1e10059ffbe76d6d2eada43ac7f53742851f,79,13,9,22865,,,0,"Derive FixedIP parameter for public-facing VIP

Derive the *FixedIPs parameter in order to get a predictable VIP.
We'll then use this predictable VIP to set it as a SAN
for the TLS certificate in order to have TLS by default.

For the case where we'ere using network-isolation, we look for the
external network. If we're not using network isolation, we use the
ctlplane network. For both cases, we base IP on the allocation range,
also taking into account if there are already IPs allocated in that
range (which is usually the case for the ctlplane network).

Change-Id: Ied2e20a41badb65f0a818461714ec8767801ac8a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/572678/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/derive_params.py', 'workbooks/derive_params.yaml', 'setup.cfg', 'workbooks/derive_params_formulas.yaml']",4,1ee77240653427750936c3050d5920b35603097b,fixed_ip_derive_params," fixed_ip_derive_params: description: > This workflow derives the fixed ip parameters. input: - plan - network_data_file - queue_name output: derived_parameters: <% $.get('fixed_ip_parameters', {}) %> tags: - tripleo-common-managed tasks: get_current_networks: workflow: tripleo.plan_management.v1.list_networks input: container: <% $.plan %> network_data_file: <% $.network_data_file %> queue_name: <% $.queue_name %> publish: current_networks: <% task().result.network_data %> on-success: get_ctlplane_subnet_info on-error: set_status_failed_get_current_networks get_ctlplane_subnet_info: action: neutron.list_subnets input: name: ctlplane-subnet publish: ctlplane_allocation_pool: <% task().result.subnets[0].allocation_pools[0] %> ctlplane_network_id: <% task().result.subnets[0].network_id %> on-success: get_ctlplane_ports on-error: set_status_failed_get_ctlplane_subnet_info get_ctlplane_ports: action: neutron.list_ports input: network_id: <% $.ctlplane_network_id %> publish: ctlplane_ports: <% task().result.ports %> on-success: get_fixed_ip_parameters on-error: set_status_failed_get_ctlplane_ports get_fixed_ip_parameters: action: tripleo.derive_params.get_fixed_ip_parameters input: container: <% $.plan %> current_networks: <% $.current_networks %> ctlplane_allocation_pool: <% $.ctlplane_allocation_pool %> ctlplane_ports: <% $.ctlplane_ports %> publish: fixed_ip_parameters: <% task().result %> on-error: set_status_failed_get_fixed_ip_parameters set_status_failed_get_current_networks: publish: status: FAILED message: <% tasr(get_current_networks).result.get('message', '') %> on-success: fail set_status_failed_get_ctlplane_subnet_info: publish: status: FAILED message: <% task(get_ctlplane_subnet_info).result.get('message', '') %> on-success: fail set_status_failed_get_ctlplane_ports: publish: status: FAILED message: <% task(get_ctlplane_ports).result.get('message', '') %> on-success: fail set_status_failed_get_fixed_ip_parameters: publish: status: FAILED message: <% task(get_fixed_ip_parameters).result.get('message', '') %> on-success: fail",,224,1
openstack%2Ftripleo-common~master~If2f06fc3d3bd4363f18e619219f823517d1699a5,openstack/tripleo-common,master,If2f06fc3d3bd4363f18e619219f823517d1699a5,Add healthcheck for octavia driver agent,ABANDONED,2019-05-09 14:31:08.000000000,2020-08-06 21:56:54.000000000,,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-09 14:31:08.000000000', 'files': ['healthcheck/octavia-driver-agent'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d4f00160bfdd9e786cf59d51c3e3b560947a7af', 'message': 'Add healthcheck for octavia driver agent\n\nInitial add of a healthcheck for the octavia driver agent.\n\nChange-Id: If2f06fc3d3bd4363f18e619219f823517d1699a5\n'}]",0,658115,9d4f00160bfdd9e786cf59d51c3e3b560947a7af,9,7,1,6681,,,0,"Add healthcheck for octavia driver agent

Initial add of a healthcheck for the octavia driver agent.

Change-Id: If2f06fc3d3bd4363f18e619219f823517d1699a5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/15/658115/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/octavia-driver-agent'],1,9d4f00160bfdd9e786cf59d51c3e3b560947a7af,,"#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh process='octavia-driver-agent' args=""${@:-5671 5672}"" if healthcheck_port $process $args; then exit 0 else ports=${args// /,} echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container"" exit 1 fi ",,14,0
openstack%2Ftripleo-common~master~Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1,openstack/tripleo-common,master,Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1,"Add workflow that wraps register, introspect and provide",ABANDONED,2017-08-29 20:38:48.000000000,2020-08-06 21:56:53.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-08-29 20:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c6ae2f998971a0685fda15401ad82fc0480f0bd', 'message': 'Add workflow that wraps register, introspect and provide\n\nChange-Id: Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1\nImplements: blueprint wrapping-workflow-for-node-operations\n'}, {'number': 2, 'created': '2017-09-14 18:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cc22adbff44d9a05fb85aedb80c1dc3342236844', 'message': 'Add workflow that wraps register, introspect and provide\n\nChange-Id: Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1\nImplements: blueprint wrapping-workflow-for-node-operations\n'}, {'number': 3, 'created': '2017-09-15 09:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01f25c13dd5d601208d1b80d5f70a4f908e1da04', 'message': 'Add workflow that wraps register, introspect and provide\n\nChange-Id: Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1\nImplements: blueprint wrapping-workflow-for-node-operations\n'}, {'number': 4, 'created': '2017-09-22 15:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e4669e74428c6ae9aa1a90abf0eb7a7fe88cf56', 'message': 'Add workflow that wraps register, introspect and provide\n\nChange-Id: Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1\nImplements: blueprint wrapping-workflow-for-node-operations\n'}, {'number': 5, 'created': '2018-09-18 12:43:56.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/15f3d39a3910bd1a02bda30231ad2c9d6e27f276', 'message': 'Add workflow that wraps register, introspect and provide\n\nChange-Id: Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1\nImplements: blueprint wrapping-workflow-for-node-operations\n'}]",7,498936,15f3d39a3910bd1a02bda30231ad2c9d6e27f276,34,10,5,9317,,,0,"Add workflow that wraps register, introspect and provide

Change-Id: Icfd4c38f6a2c0a5e7b1e9672fb9324ce9ef561d1
Implements: blueprint wrapping-workflow-for-node-operations
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/498936/4 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,3c6ae2f998971a0685fda15401ad82fc0480f0bd,bp/wrapping-workflow-for-node-operations," register_introspect_provide: description: Wrapping workflow for nodes operations. Takes nodes JSON and runs register, introspect and provide. input: - nodes_json - remove: False - queue_name: tripleo - kernel_name: null - ramdisk_name: null - instance_boot_option: local - initial_state: manageable tasks: register: workflow: tripleo.baremetal.v1.register_or_update on-success: introspect on-error: register_failed input: nodes_json: <% $.nodes_json %> remove: <% $.remove %> queue_name: <% $.queue_name %> kernel_name: <% $.kernel_name %> ramdisk_name: <% $.ramdisk_name %> instance_boot_option: <% $.instance_boot_option %> initial_state: <% $.initial_state %> publish: registered_nodes: <% task(register).result.registered_nodes %> register_failed: on-success: send_message publish: status: FAILED message: <% task(register).result %> registered_nodes: [] introspect: workflow: tripleo.baremetal.v1.introspect on-success: provide on-error: introspect_failed input: node_uuids: <% $.registered_nodes.uuid %> publish: introspected_nodes: <% task(introspect).result.introspected_nodes.values() %> introspect_failed: on-success: send_message publish: status: FAILED message: <% task(introspect).result %> provide: on-success: send_message on-error: provide_failed workflow: tripleo.baremetal.v1.provide node_uuids=<% $.introspected_nodes.uuid %> queue_name=<% $.queue_name %> publish: status: SUCCESS message: Nodes set to available. provide_failed: on-success: send_message publish: status: FAILED message: <% task(provide).result %> send_message: action: zaqar.queue_post retry: count=5 delay=1 input: queue_name: <% $.queue_name %> messages: body: type: tripleo.baremetal.v1.register_introspect_provide payload: status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> registered_nodes: <% $.registered_nodes or [] %> on-success: - fail: <% $.get('status') = ""FAILED"" %>",,83,0
openstack%2Ftripleo-common~master~I47cbe01ea35f9409182d38ab199f3048e3478fc6,openstack/tripleo-common,master,I47cbe01ea35f9409182d38ab199f3048e3478fc6,WIP Create library for ansible execution,ABANDONED,2019-04-11 08:58:17.000000000,2020-08-06 21:56:51.000000000,,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-11 08:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/486b672b3790bcd8881fc01f5b19a23884ccddc1', 'message': 'WIP Create library for ansible execution\n\nChange-Id: I47cbe01ea35f9409182d38ab199f3048e3478fc6\n'}, {'number': 2, 'created': '2019-04-11 09:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6fd5106fd4d5df2270c046219416f9c18268a47e', 'message': 'WIP Create library for ansible execution\n\nChange-Id: I47cbe01ea35f9409182d38ab199f3048e3478fc6\n'}, {'number': 3, 'created': '2019-04-11 13:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d861436f8c64b41d5958dc749437a738679ef23', 'message': 'WIP Create library for ansible execution\n\nChange-Id: I47cbe01ea35f9409182d38ab199f3048e3478fc6\n'}, {'number': 4, 'created': '2019-05-03 13:04:04.000000000', 'files': ['tripleo_common/utils/runner.py', 'tripleo_common/actions/ansible.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/070a0c56e3c4122f0809ff06138c662467242ad9', 'message': 'WIP Create library for ansible execution\n\nChange-Id: I47cbe01ea35f9409182d38ab199f3048e3478fc6\n'}]",0,651729,070a0c56e3c4122f0809ff06138c662467242ad9,13,5,4,16515,,,0,"WIP Create library for ansible execution

Change-Id: I47cbe01ea35f9409182d38ab199f3048e3478fc6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/651729/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/utils/ansible_runner.py']",2,486b672b3790bcd8881fc01f5b19a23884ccddc1,ansible/runner,"# Copyright 2016 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from ansible_runner import interface from ansible_runner import RunnerConfig class AnsibleRunner(object): def __init__(self, **kwargs): self.log = logging.getLogger(__name__ + "".AnsibleRunner"") self.module = kwargs.get('module_path', None) self.remote_user = kwargs.get('remote_user', None) self.become = kwargs.get('become', None) self.become_user = kwargs.get('become_user', None) self.extravars = kwargs.get('extra_vars', None) if self.extravars: self.extravars = json.dumps(self.extra_vars) self.verbosity = kwargs.get('verbosity', 5) self.ssk_key = kwargs.get('ssh_private_key', None) self.flush_cache = kwargs.get('flush_cache', None) self.forks = kwargs.get('forks', None) self.timeout = kwargs.get('timeout', None) self.ssh_extra_args = kwargs.get('ssh_extra_args', None) if self.ssh_extra_args: self.ssh_extra_args = json.dumps(self.ssh_extra_args) self.ssh_common_args = kwargs.get( 'ssh_common_args', None) if self.ssh_common_args: self.ssh_common_args = json.dumps(self.ssh_common_args) self.use_openstack_credentials = kwargs.get( 'use_openstack_credentials', False) self.tags = kwargs.get('tags', None) self.skip_tags = kwargs.get('skip_tags', None) self.extra_env_variables = kwargs.get( 'extra_env_variables', None) self.queue_name = kwargs.get('queue_name', None) self.reproduce_command = kwargs.get( 'reproduce_command', True) self.execution_id = kwargs.get('execution_id', None) self._work_dir = kwargs.get( 'work_dir', None) self.max_message_size = kwargs.get( 'max_message_size', 1048576) self.gather_facts = kwargs.get('gather_facts', False) self.trash_output = kwargs.get('trash_output', False) self.profile_tasks = kwargs.get('profile_tasks', True) self.profile_tasks_limit = kwargs.get( 'profile_tasks_limit', 0) self.blacklisted_hostnames = kwargs.get( 'blacklisted_hostnames', []) self.override_ansible_cfg = kwargs.get( 'override_ansible_cfg', None) self.command_timeout = kwargs.get( 'command_timeout', None) self.cmdline = kwargs.get('cmdline', None) def runner_config(self, **kwargs): return RunnerConfig(**kwargs) def set_envvars(self, envvars): return self.envvars def set_cmdline(self, cmdline): return self.cmdline def set_settings(self, settings): return self.settings def run_ansible_playbook(self, workdir, playbook, inventory, limit_hosts=None, async=False): """""" :param workdir: location of the playbook :type workdir: String :param playbook: playbook filename :type playbook: String :param inventory: either proper inventory file, or a coma-separated list :type inventory: String :param limit_hosts: limit the execution to the hosts :type limit_hosts: String :param async: execution Ansible async :type async: Bool """""" # Initialize Runner config runner = interface.init_runner(private_data_dir=workdir, playbook=playbook, inventory=inventory, verbosity=self.verbosity, module=self.module, extravars=self.extravars, tags=self.tags, skip_tags=self.skip_tags, limit=limit_hosts, ssh_key=self.ssh_key) if async: rc = runner.run_async() else: return runner.run() return rc.status, rc.rc if __name__ == '__main__': ansi = AnsibleRunner() ansi.run_ansible_playbook('/home/stack/', 'play.yaml', 'hosts.yaml') import pdb; pdb.set_trace() ",,139,323
openstack%2Ftripleo-common~master~Ie328d359e3c349e1223f52e64aa2eba3b2343e1c,openstack/tripleo-common,master,Ie328d359e3c349e1223f52e64aa2eba3b2343e1c,"DNM, just testing Revert ""remove plotnetcfg from overcloud image yaml""",ABANDONED,2019-06-27 17:06:58.000000000,2020-08-06 21:56:50.000000000,,"[{'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 8449}, {'_account_id': 8873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 17:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a44d85e0d5a77e92f97b2429bc193eecd0270aa1', 'message': 'Revert ""remove plotnetcfg from overcloud image yaml""\n\nThis reverts commit 73f27fe37538b9df60ef15c1d31d392ab6c85ef4.\n\nChange-Id: Ie328d359e3c349e1223f52e64aa2eba3b2343e1c\n'}, {'number': 2, 'created': '2019-06-27 17:25:56.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a7c8e5d742bca5b79a7fb1e9602ecc2c33cac36', 'message': 'DNM, just testing Revert ""remove plotnetcfg from overcloud image yaml""\n\nThis reverts commit 73f27fe37538b9df60ef15c1d31d392ab6c85ef4.\n\nChange-Id: Ie328d359e3c349e1223f52e64aa2eba3b2343e1c\n'}]",0,667991,7a7c8e5d742bca5b79a7fb1e9602ecc2c33cac36,5,7,2,9592,,,0,"DNM, just testing Revert ""remove plotnetcfg from overcloud image yaml""

This reverts commit 73f27fe37538b9df60ef15c1d31d392ab6c85ef4.

Change-Id: Ie328d359e3c349e1223f52e64aa2eba3b2343e1c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/667991/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml']",5,a44d85e0d5a77e92f97b2429bc193eecd0270aa1,bug/1834043, - plotnetcfg,,5,0
openstack%2Ftripleo-common~master~I4c222ab1b5a1ac96a231cc457ee6cefb557f6ea1,openstack/tripleo-common,master,I4c222ab1b5a1ac96a231cc457ee6cefb557f6ea1,Converge ansible calls into a common library,ABANDONED,2019-07-10 16:16:11.000000000,2020-08-06 21:56:49.000000000,,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 16:16:11.000000000', 'files': ['tripleo_common/utils/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11e0d251d38f0126452a1cd8130c7a508f3edd70', 'message': 'Converge ansible calls into a common library\n\nCurrently we have different ways to call ansible in tripleo\nThis library aims to converge the calls to one place with\na shared library.\n\nChange-Id: I4c222ab1b5a1ac96a231cc457ee6cefb557f6ea1\n'}]",1,670114,11e0d251d38f0126452a1cd8130c7a508f3edd70,6,5,1,16515,,,0,"Converge ansible calls into a common library

Currently we have different ways to call ansible in tripleo
This library aims to converge the calls to one place with
a shared library.

Change-Id: I4c222ab1b5a1ac96a231cc457ee6cefb557f6ea1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/670114/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/ansible.py'],1,11e0d251d38f0126452a1cd8130c7a508f3edd70,ansible/lib,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from datetime import datetime import json import logging import os import shutil import six from six.moves import configparser from six.moves import cStringIO as StringIO import sys import tempfile import time import yaml from mistral_lib import actions from oslo_concurrency import processutils from oslo_rootwrap import subprocess from tripleo_common.actions import base from tripleo_common.utils import config from tripleo_common import constants from tripleo_common import inventory class Ansible(object): def __init__(self, inventory): self.inventory = inventory self.log = logging def run_ansible_playbook(self, working_dir, playbook, ansible_config=None, retries=True, connection='smart', output_callback='json', python_interpreter=None, ssh_user='root', key=None, module_path=None, limit_hosts=None, tags='', skip_tags='', verbosity=1, wait=True): """"""Simple wrapper for ansible-playbook :param playbook: playbook filename :type playbook: String :param ansible_config: Pass either Absolute Path, or None to generate a temporary file, or False to not manage configuration at all :type ansible_config: String :param retries: do you want to get a retry_file? :type retries: Boolean :param connection: connection type (local, smart, etc) :type connection: String :param output_callback: Callback for output format. Defaults to ""json"" :type output_callback: String :param python_interpreter: Absolute path for the Python interpreter on the host where Ansible is run. :type python_interpreter: String :param ssh_user: user for the ssh connection :type ssh_user: String :param key: private key to use for the ssh connection :type key: String :param module_path: location of the ansible module and library :type module_path: String :param limit_hosts: limit the execution to the hosts :type limit_hosts: String :param tags: run specific tags :type tags: String :param skip_tags: skip specific tags :type skip_tags: String :param verbosity: verbosity level for Ansible execution :type verbosity: Interger """""" env = os.environ.copy() env['ANSIBLE_LIBRARY'] = \ ('/root/.ansible/plugins/modules:' '/usr/share/ansible/plugins/modules:' '%s/library' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_LOOKUP_PLUGINS'] = \ ('root/.ansible/plugins/lookup:' '/usr/share/ansible/plugins/lookup:' '%s/lookup_plugins' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_CALLBACK_PLUGINS'] = \ ('~/.ansible/plugins/callback:' '/usr/share/ansible/plugins/callback:' '%s/callback_plugins' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_ROLES_PATH'] = \ ('/root/.ansible/roles:' '/usr/share/ansible/roles:' '/etc/ansible/roles:' '%s/roles' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_LOG_PATH'] = os.path.join(self.working_dir, 'ansible.log') env['ANSIBLE_HOST_KEY_CHECKING'] = 'False' self.working_dir = working_dir cleanup = False if ansible_config is None: _, tmp_config = tempfile.mkstemp(prefix=playbook, suffix='ansible.cfg') with open(tmp_config, 'w+') as f: f.write(""[defaults]\nstdout_callback = %s\n"" % output_callback) if not retries: f.write(""retry_files_enabled = False\n"") f.close() env['ANSIBLE_CONFIG'] = tmp_config cleanup = True elif os.path.isabs(ansible_config): if os.path.exists(ansible_config): env['ANSIBLE_CONFIG'] = ansible_config else: raise RuntimeError('No such configuration file: %s' % ansible_config) elif os.path.exists(os.path.join(self.working_dir, ansible_config)): env['ANSIBLE_CONFIG'] = os.path.join(self.working_dir, ansible_config) play = os.path.join(self.working_dir, playbook) if os.path.exists(play): cmd = [""ansible-playbook-{}"".format(sys.version_info[0]), '-u', ssh_user, '-i', self.inventory ] if 0 < verbosity < 6: cmd.extend(['-' + ('v' * verbosity)]) if key is not None: cmd.extend(['--private-key=%s' % key]) if module_path is not None: cmd.extend(['--module-path=%s' % module_path]) if limit_hosts is not None: cmd.extend(['-l %s' % limit_hosts]) if tags is not '': cmd.extend(['-t %s' % tags]) if skip_tags is not '': cmd.extend(['--skip_tags %s' % skip_tags]) if python_interpreter is not None: cmd.extend(['-e', 'ansible_python_interpreter=%s' % python_interpreter]) cmd.extend(['-c', connection, play]) proc = self.run_command(cmd, cwd=self.working_dir, env=env) if wait: while True: try: line = proc.stdout.readline() except StopIteration: break if line != b'': if isinstance(line, bytes): line = line.decode('utf-8') self.log.warning(line.rstrip()) else: break proc.stdout.close() proc.wait() cleanup and os.unlink(tmp_config) if proc.returncode != 0: raise RuntimeError(proc.stdout.read()) return proc.returncode return proc else: cleanup and os.unlink(tmp_config) raise RuntimeError('No such playbook: %s' % play) def download_ansible_playbooks(self, client, stack_name, output_dir='/tmp'): stack_config = config.Config(client) tmp_ansible_dir = tempfile.mkdtemp(prefix='tripleo-ansible-', dir=output_dir) stack_config.write_config(stack_config.fetch_config(stack_name), stack_name, tmp_ansible_dir) return tmp_ansible_dir def ssh_private_key(self, key): if not key: return None if (isinstance(key, six.string_types) and os.path.exists(key)): return key path = os.path.join(self.working_dir, 'ssh_private_key') with open(path, 'w') as ssh_key: ssh_key.write(key) os.chmod(path, 0o600) return path def parse_extra_vars(self, extra_var_strings): """"""Parses extra variables like Ansible would. Each element in extra_var_strings is like the raw value of -e parameter of ansible-playbook command. It can either be very simple 'key=val key2=val2' format or it can be '{ ... }' representing a YAML/JSON object. The 'key=val key2=val2' format gets processed as if it was '{""key"": ""val"", ""key2"": ""val2""}' object, and all YAML/JSON objects get shallow-merged together in the order as they appear in extra_var_strings, latter objects taking precedence over earlier ones. :param extra_var_strings: unparsed value(s) of -e parameter(s) :type extra_var_strings: list of strings :returns dict representing a merged object of all extra vars """""" result = {} for extra_var_string in extra_var_strings: invalid_yaml = False try: parse_vars = yaml.safe_load(extra_var_string) except yaml.YAMLError: invalid_yaml = True if invalid_yaml or not isinstance(parse_vars, dict): try: parse_vars = dict( item.split('=') for item in extra_var_string.split()) except ValueError: raise ValueError( 'Invalid format for {extra_var_string}'.format( extra_var_string=extra_var_string)) result.update(parse_vars) return result def run_command(self, cmd, cwd=None, env=None): process = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, shell=False, bufsize=1, cwd=cwd, env=env, universal_newlines=True) return process ",,273,0
openstack%2Ftripleo-common~stable%2Fqueens~I6605aec1d42a714f2f2c72b9233bc3bf510177de,openstack/tripleo-common,stable/queens,I6605aec1d42a714f2f2c72b9233bc3bf510177de,Add serial option in the inventory,ABANDONED,2019-05-23 08:44:54.000000000,2020-08-06 21:56:47.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 08:44:54.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2acb40e760f7f27b15a17cc33a5ee685fd9a7dd1', 'message': 'Add serial option in the inventory\n\nAdd serial option in the inventory in order to be able\nto set serial value per roles by the user if needed.\n\nDefault will still remain the same: 1\n\nChange-Id: I6605aec1d42a714f2f2c72b9233bc3bf510177de\n(cherry picked from commit 8852437732018b41d167fc3c41655958f47d6e32)\n'}]",0,660941,2acb40e760f7f27b15a17cc33a5ee685fd9a7dd1,5,4,1,16515,,,0,"Add serial option in the inventory

Add serial option in the inventory in order to be able
to set serial value per roles by the user if needed.

Default will still remain the same: 1

Change-Id: I6605aec1d42a714f2f2c72b9233bc3bf510177de
(cherry picked from commit 8852437732018b41d167fc3c41655958f47d6e32)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/660941/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,2acb40e760f7f27b15a17cc33a5ee685fd9a7dd1,," 'serial': 1, 'serial': 1, 'serial': 1, 'serial': 1, 'serial': 1, 'serial': 1, 'serial': 1, 'serial': 1, 'serial': 1,",,12,1
openstack%2Ftripleo-common~master~Ic6797ebc7fb5f15363b7bd4e05084d5e926e6d6a,openstack/tripleo-common,master,Ic6797ebc7fb5f15363b7bd4e05084d5e926e6d6a,"DNM, testing fluentd dependencies",ABANDONED,2019-08-22 16:35:13.000000000,2020-08-06 21:56:46.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-22 16:35:13.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0af0db699d2f8f595167b696745ed0ee5a9c96ab', 'message': 'DNM, testing fluentd dependencies\n\nChange-Id: Ic6797ebc7fb5f15363b7bd4e05084d5e926e6d6a\n'}]",0,678057,0af0db699d2f8f595167b696745ed0ee5a9c96ab,5,3,1,9592,,,0,"DNM, testing fluentd dependencies

Change-Id: Ic6797ebc7fb5f15363b7bd4e05084d5e926e6d6a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/678057/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,0af0db699d2f8f595167b696745ed0ee5a9c96ab,fluentd_deps,,{% if not rhel_containers %}{% endif %},0,2
openstack%2Ftripleo-common~master~If18b707f3143703a04134f05ee0a287e1aa77916,openstack/tripleo-common,master,If18b707f3143703a04134f05ee0a287e1aa77916,Dont run ansible update/upgrade with mistral,ABANDONED,2018-12-18 13:58:09.000000000,2020-08-06 21:56:44.000000000,,"[{'_account_id': 7144}, {'_account_id': 7509}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 10112}, {'_account_id': 11444}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 16628}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-18 13:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/96b8032b64ce347226662001dfeb5453bdb12163', 'message': 'Dont run ansible update/upgrade with mistral\n\nIn order to improve the user experience and the flexibily\nthis review remove the ansible run part from the\npackage_update workbook.\nSome users complains about the bad visibility when something\nis failing during the ansible update.\nThe zaqar and mistral execution output is floading the screen\nand it really difficult the handle simple ansible issues.\n\nBy running ansible-playbook directly from the tripleoclient,\nwith: https://review.openstack.org/625126, its improve\nuser experience and make the update more readable.\n\nIt solve as well the potential race with the queues when\nwe are polling the ansible output from zaqar\n\nChange-Id: If18b707f3143703a04134f05ee0a287e1aa77916\n'}, {'number': 2, 'created': '2018-12-21 08:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2878f4022b74ec46ca312dec064ecd2b82e39c7e', 'message': 'Dont run ansible update/upgrade with mistral\n\nIn order to improve the user experience and the flexibily\nthis review remove the ansible run part from the\npackage_update workbook.\nSome users complains about the bad visibility when something\nis failing during the ansible update.\nThe zaqar and mistral execution output is floading the screen\nand it really difficult the handle simple ansible issues.\n\nBy running ansible-playbook directly from the tripleoclient,\nwith: https://review.openstack.org/625126, its improve\nuser experience and make the update more readable.\n\nIt solve as well the potential race with the queues when\nwe are polling the ansible output from zaqar\n\nDepends-On: I303c35c62026fa91b676e1ad5f89e89ae7711b47\nChange-Id: If18b707f3143703a04134f05ee0a287e1aa77916\n'}, {'number': 3, 'created': '2019-01-02 09:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d0a55e5c8d3df0eadeae8da512ef2c7fd299b2b', 'message': 'Dont run ansible update/upgrade with mistral\n\nIn order to improve the user experience and the flexibily\nthis review remove the ansible run part from the\npackage_update workbook.\nSome users complains about the bad visibility when something\nis failing during the ansible update.\nThe zaqar and mistral execution output is floading the screen\nand it really difficult the handle simple ansible issues.\n\nBy running ansible-playbook directly from the tripleoclient,\nwith: https://review.openstack.org/625126, its improve\nuser experience and make the update more readable.\n\nIt solve as well the potential race with the queues when\nwe are polling the ansible output from zaqar\n\nChange-Id: If18b707f3143703a04134f05ee0a287e1aa77916\n'}, {'number': 4, 'created': '2019-06-04 13:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/734e454d5046f49a19f346b123047f117d1a6e88', 'message': 'Dont run ansible update/upgrade with mistral\n\nIn order to improve the user experience and the flexibily\nthis review remove the ansible run part from the\npackage_update workbook.\nSome users complains about the bad visibility when something\nis failing during the ansible update.\nThe zaqar and mistral execution output is floading the screen\nand it really difficult the handle simple ansible issues.\n\nBy running ansible-playbook directly from the tripleoclient,\nwith: https://review.openstack.org/625126, its improve\nuser experience and make the update more readable.\n\nIt solve as well the potential race with the queues when\nwe are polling the ansible output from zaqar\n\nChange-Id: If18b707f3143703a04134f05ee0a287e1aa77916\n'}, {'number': 5, 'created': '2019-08-26 08:07:01.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6b667ed37af506a18e07e2c78a5dfa54123c9fa', 'message': 'Dont run ansible update/upgrade with mistral\n\nIn order to improve the user experience and the flexibily\nthis review remove the ansible run part from the\npackage_update workbook.\nSome users complains about the bad visibility when something\nis failing during the ansible update.\nThe zaqar and mistral execution output is floading the screen\nand it really difficult the handle simple ansible issues.\n\nBy running ansible-playbook directly from the tripleoclient,\nwith: https://review.openstack.org/625126, its improve\nuser experience and make the update more readable.\n\nIt solve as well the potential race with the queues when\nwe are polling the ansible output from zaqar\n\nChange-Id: If18b707f3143703a04134f05ee0a287e1aa77916\n'}]",6,625918,b6b667ed37af506a18e07e2c78a5dfa54123c9fa,31,13,5,16515,,,0,"Dont run ansible update/upgrade with mistral

In order to improve the user experience and the flexibily
this review remove the ansible run part from the
package_update workbook.
Some users complains about the bad visibility when something
is failing during the ansible update.
The zaqar and mistral execution output is floading the screen
and it really difficult the handle simple ansible issues.

By running ansible-playbook directly from the tripleoclient,
with: https://review.openstack.org/625126, its improve
user experience and make the update more readable.

It solve as well the potential race with the queues when
we are polling the ansible output from zaqar

Change-Id: If18b707f3143703a04134f05ee0a287e1aa77916
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/625918/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,96b8032b64ce347226662001dfeb5453bdb12163,upgrade/ansible/run, - queue_name: tripleo message: <% task().result %> queue_name: <% $.queue_name %> status: <% $.status %>," - node_user: tripleo-admin - nodes - playbook - inventory_file - ansible_queue_name: tripleo - module_path: /usr/share/ansible-modules - ansible_extra_env_variables: ANSIBLE_LOG_PATH: /var/log/mistral/package_update.log ANSIBLE_HOST_KEY_CHECKING: 'False' - verbosity: 1 - work_dir: /var/lib/mistral - tags: '' - skip_tags: '' download_config: action: tripleo.config.download_config input: work_dir: <% $.work_dir %>/<% execution().id %> on-success: get_private_key on-error: node_update_failed private_key: <% task().result %> on-success: node_update node_update: action: tripleo.ansible-playbook input: inventory: <% $.inventory_file %> playbook: <% $.work_dir %>/<% execution().id %>/<% $.playbook %> remote_user: <% $.node_user %> become: true become_user: root verbosity: <% $.verbosity %> ssh_private_key: <% $.private_key %> extra_env_variables: <% $.ansible_extra_env_variables %> limit_hosts: <% $.nodes %> module_path: <% $.module_path %> queue_name: <% $.ansible_queue_name %> execution_id: <% execution().id %> tags: <% $.tags %> skip_tags: <% $.skip_tags %> trash_output: true on-success: - node_update_passed: <% task().result.returncode = 0 %> - node_update_failed: <% task().result.returncode != 0 %> on-error: node_update_failed publish: output: <% task().result %> node_update_passed: on-success: send_message publish: message: Updated nodes - <% $.nodes %> node_update_failed: publish: status: FAILED message: Failed to update nodes - <% $.nodes %>, please see the logs. queue_name: <% $.ansible_queue_name %> status: <% $.get('status', 'SUCCESS') %>",4,59
openstack%2Ftripleo-common~master~I2fcb40c271bd5bb1f4f5fe44dd5b4c7727e1b6da,openstack/tripleo-common,master,I2fcb40c271bd5bb1f4f5fe44dd5b4c7727e1b6da,WIP Use the heat deployment resources,ABANDONED,2019-09-09 10:00:52.000000000,2020-08-06 21:56:43.000000000,,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-09 10:00:52.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2aa674abdd5a5da9b130dfe9c35c943bb128073', 'message': 'WIP Use the heat deployment resources\n\nChange-Id: I2fcb40c271bd5bb1f4f5fe44dd5b4c7727e1b6da\nDepends-on: https://review.opendev.org/680958\n'}]",0,680959,e2aa674abdd5a5da9b130dfe9c35c943bb128073,5,4,1,8833,,,0,"WIP Use the heat deployment resources

Change-Id: I2fcb40c271bd5bb1f4f5fe44dd5b4c7727e1b6da
Depends-on: https://review.opendev.org/680958
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/680959/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,e2aa674abdd5a5da9b130dfe9c35c943bb128073,," filters=dict(name='OS::Heat::StructuredDeployment'), def _get_config_dict(self, config_id): config = self.configs[config_id].copy()"," filters=dict(name=constants.TRIPLEO_DEPLOYMENT_RESOURCE), def _get_config_dict(self, deployment_id): deployment = list(filter( lambda d: d.id == deployment_id, self.deployments))[0] config = self.configs[deployment.attributes['value']['config']].copy()",62,195
openstack%2Ftripleo-common~master~Ibf90054ca53b831673df55ae4337549fee8d3b7e,openstack/tripleo-common,master,Ibf90054ca53b831673df55ae4337549fee8d3b7e,WIP Handle non-config-download deployment types,ABANDONED,2019-09-09 09:58:00.000000000,2020-08-06 21:56:42.000000000,,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-09 09:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d97912d487bf53e9ec6761be8cc3267b23077637', 'message': 'WIP Handle both old/new deployment types  with config-download\n\nThis is a temporary patch to remove the deployment mappings\nfor config-download.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 2, 'created': '2019-09-10 04:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0998cf5086eef069c04b45fd025c11e60a6701b1', 'message': 'Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 3, 'created': '2019-09-10 05:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6271a00bc38912057879cb1002bccf9e64a0564d', 'message': 'Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 4, 'created': '2019-09-11 03:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05aeb17b94d938154b169f259d40da4811b3b85b', 'message': 'Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 5, 'created': '2019-09-11 05:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a684aa3b4acc8950338171a5bf3a587f29720457', 'message': 'Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 6, 'created': '2019-09-11 10:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c3299f4c855f5007214462dc265a572e6a9c36d9', 'message': 'Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 7, 'created': '2019-09-17 07:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ec05c16571d16893cb63dca2de07755edfa78fec', 'message': 'WIP Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}, {'number': 8, 'created': '2019-09-19 04:46:39.000000000', 'files': ['tripleo_common/utils/config.py', 'undercloud_heat_plugins/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2a961d373fce3b506c22d051fa09863ed91ad570', 'message': 'WIP Handle non-config-download deployment types\n\nThis is a temporary patch to support both old and new way,\nso that the deployment mappings for config-download can be\nremoved.\n\nAlso updates the custom resource plugins, so that all deployment\nresources in TripleO would be created with no signal transport.\n\nChange-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e\n'}]",0,680957,2a961d373fce3b506c22d051fa09863ed91ad570,29,4,8,8833,,,0,"WIP Handle non-config-download deployment types

This is a temporary patch to support both old and new way,
so that the deployment mappings for config-download can be
removed.

Also updates the custom resource plugins, so that all deployment
resources in TripleO would be created with no signal transport.

Change-Id: Ibf90054ca53b831673df55ae4337549fee8d3b7e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/680957/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,d97912d487bf53e9ec6761be8cc3267b23077637,remove_config_download_mapping," def get_new_deployment_data(self, stack, nested_depth=constants.NESTED_DEPTH): software_deployments = self.client.resources.list( stack, nested_depth=nested_depth, filters=dict(type='OS::Heat::SoftwareDeployment'), with_detail=True) strcutured_deployments = self.client.resources.list( stack, nested_depth=nested_depth, filters=dict(type='OS::Heat::StructuredDeployment'), with_detail=True) deployments = software_deployments + strcutured_deployments # Sort by creation time deployments = sorted(deployments, key=lambda d: d.creation_time) return deployments deployment = self.client.software_deployments.get( config = self.client.software_configs.get(deployment.config_id) return config.to_dict() def get_config_dict_new(self, config_id): config = self.client.software_configs.get(config_id) old_deployments_data = self.get_deployment_data(name) deployments_data = self.get_new_deployment_data(name) if old_deployments_data: for rs_deploymeng in old_deployments_data: dep_value_resource_name = rs_deploymeng.attributes[ 'value'].get('deployment') == 'TripleOSoftwareDeployment' # if not check the physical_resource_id if not dep_value_resource_name: deployment_resource_id = self.get_deployment_resource_id( rs_deploymeng) if dep_value_resource_name or not deployment_resource_id: warnings.warn('Skipping deployment %s because it has no ' 'valid uuid (physical_resource_id) ' 'associated.' % rs_deploymeng.physical_resource_id) continue server_id = rs_deploymeng.attributes['value']['server'] config_dict = self.get_config_dict(deployment_resource_id) # deployment_name should be set via the name property on the # Deployment resources in the templates, however, if it's None # or empty string, default to the name of the parent_resource. deployment_name = rs_deploymeng.attributes['value'].get( 'name') or rs_deploymeng.parent_resource if not deployment_name: message = ""The deployment name cannot be determined. It "" \ ""should be set via the name property on the "" \ ""Deployment resources in the templates."" try: int(deployment_name) except ValueError: pass else: # We can't have an integer here, let's figure out the # grandparent resource name deployment_ref = rs_deploymeng.attributes[ 'value']['deployment'] if '/' in deployment_ref: deployment_stack_id = deployment_ref.split('/')[-1] else: for link in rs_deploymeng.links: if link['rel'] == 'stack': deployment_stack_id = link[ 'href'].split('/')[-1] break else: raise ValueError( ""Couldn't not find parent stack"") deployment_stack = self.client.stacks.get( deployment_stack_id, resolve_outputs=False) parent_stack = deployment_stack.parent grandparent_stack = self.client.stacks.get( parent_stack, resolve_outputs=False).parent resources = self.client.resources.list( grandparent_stack, filters=dict(physical_resource_id=parent_stack)) if not resources: message = ""The deployment resource grandparent name"" \ ""could not be determined."" raise ValueError(message) deployment_name = resources[0].resource_name config_dict['deployment_name'] = deployment_name # reset deploy_server_id to the actual server_id since we have # to use a dummy server resource to create the deployment in # the templates deploy_server_id_input = \ [i for i in config_dict['inputs'] if i['name'] == 'deploy_server_id'].pop() deploy_server_id_input['value'] = server_id # We don't want to fail if server_id can't be found, as it's # most probably due to blacklisted nodes. However we fail for # other errors. try: server_deployments.setdefault( server_names[server_id], []).append(config_dict) except KeyError: self.log.warning('Server with id %s is ignored from ' 'config (may be blacklisted)' % server_id) # continue the loop as this server_id is probably excluded continue except Exception as err: err_msg = ('Error retrieving server name from this ' 'server_id: %s with this error: %s' % server_id, err) raise Exception(err_msg) role = self.get_role_from_server_id(stack, server_id) server_pre_deployments = server_deployment_names.setdefault( server_names[server_id], {}).setdefault( 'pre_deployments', []) server_post_deployments = server_deployment_names.setdefault( server_names[server_id], {}).setdefault( 'post_deployments', []) server_roles[server_names[server_id]] = role # special handling of deployments that are run post the deploy # steps. We have to look these up based on the # physical_resource_id, but these names should be consistent # since they are consistent interfaces in our templates. if 'ExtraConfigPost' in rs_deploymeng.physical_resource_id or \ 'PostConfig' in rs_deploymeng.physical_resource_id: if deployment_name not in server_post_deployments: server_post_deployments.append(deployment_name) else: if deployment_name not in server_pre_deployments: server_pre_deployments.append(deployment_name) else: for rs_deploymeng in deployments_data: deployment_resource_id = rs_deploymeng.physical_resource_id if deployment_resource_id is None: warnings.warn('Skipping deployment %s because it has no ' 'valid uuid (physical_resource_id) ' 'associated.' % deployment_resource_id) continue deployment = self.client.software_deployments.get( deployment_resource_id) server_id = deployment.server_id config_dict = self.get_config_dict_new(deployment.config_id) deployment_name = (rs_deploymeng.resource_name or rs_deploymeng.parent_resource) try: int(deployment_name) except ValueError: pass else: deployment_name = rs_deploymeng.parent_resource config_dict['deployment_name'] = deployment_name # We don't want to fail if server_id can't be found, as it's # most probably due to blacklisted nodes. However we fail for # other errors. try: server_deployments.setdefault( server_names[server_id], []).append(config_dict) except KeyError: self.log.warning('Server with id %s is ignored from ' 'config (may be blacklisted)' % server_id) # continue the loop as this server_id is probably excluded continue except Exception as err: err_msg = ('Error retrieving server name from this ' 'server_id: %s with this error: %s' % server_id, err) raise Exception(err_msg) role = self.get_role_from_server_id(stack, server_id) server_pre_deployments = server_deployment_names.setdefault( server_names[server_id], {}).setdefault( 'pre_deployments', []) server_post_deployments = server_deployment_names.setdefault( server_names[server_id], {}).setdefault( 'post_deployments', []) server_roles[server_names[server_id]] = role # special handling of deployments that are run post the deploy # steps. We have to look these up based on the # physical_resource_id, but these names should be consistent # since they are consistent interfaces in our templates. if 'ExtraConfigPost' in rs_deploymeng.physical_resource_id or \ 'PostConfig' in rs_deploymeng.physical_resource_id: if deployment_name not in server_post_deployments: server_post_deployments.append(deployment_name) else: if deployment_name not in server_pre_deployments: server_pre_deployments.append(deployment_name)"," deployment_rsrc = self.client.software_deployments.get( config = self.client.software_configs.get( deployment_rsrc.config_id) deployments_data = self.get_deployment_data(name) for deployment in deployments_data: # Check if the deployment value is the resource name. If that's the # case, Heat did not create a physical_resource_id for this # deployment since it does not trigger on this stack action. Such # as a deployment that only triggers on DELETE, but this is a stack # create. If that's the case, just skip this deployment, otherwise # it will result in a Not found error if we try and query the # deployment API for this deployment. dep_value_resource_name = deployment.attributes[ 'value'].get('deployment') == 'TripleOSoftwareDeployment' # if not check the physical_resource_id if not dep_value_resource_name: deployment_resource_id = self.get_deployment_resource_id( deployment) if dep_value_resource_name or not deployment_resource_id: warnings.warn('Skipping deployment %s because it has no ' 'valid uuid (physical_resource_id) ' 'associated.' % deployment.physical_resource_id) continue server_id = deployment.attributes['value']['server'] config_dict = self.get_config_dict(deployment_resource_id) # deployment_name should be set via the name property on the # Deployment resources in the templates, however, if it's None # or empty string, default to the name of the parent_resource. deployment_name = deployment.attributes['value'].get( 'name') or deployment.parent_resource if not deployment_name: message = ""The deployment name cannot be determined. It "" \ ""should be set via the name property on the "" \ ""Deployment resources in the templates."" raise ValueError(message) try: int(deployment_name) except ValueError: pass else: # We can't have an integer here, let's figure out the # grandparent resource name deployment_ref = deployment.attributes['value']['deployment'] if '/' in deployment_ref: deployment_stack_id = deployment_ref.split('/')[-1] else: for link in deployment.links: if link['rel'] == 'stack': deployment_stack_id = link['href'].split('/')[-1] break else: raise ValueError(""Couldn't not find parent stack"") deployment_stack = self.client.stacks.get( deployment_stack_id, resolve_outputs=False) parent_stack = deployment_stack.parent grandparent_stack = self.client.stacks.get( parent_stack, resolve_outputs=False).parent resources = self.client.resources.list( grandparent_stack, filters=dict(physical_resource_id=parent_stack)) if not resources: message = ""The deployment resource grandparent name"" \ ""could not be determined."" deployment_name = resources[0].resource_name config_dict['deployment_name'] = deployment_name # reset deploy_server_id to the actual server_id since we have to # use a dummy server resource to create the deployment in the # templates deploy_server_id_input = \ [i for i in config_dict['inputs'] if i['name'] == 'deploy_server_id'].pop() deploy_server_id_input['value'] = server_id # We don't want to fail if server_id can't be found, as it's # most probably due to blacklisted nodes. However we fail for # other errors. try: server_deployments.setdefault( server_names[server_id], []).append(config_dict) except KeyError: self.log.warning('Server with id %s is ignored from config ' '(may be blacklisted)' % server_id) # continue the loop as this server_id is probably excluded continue except Exception as err: err_msg = ('Error retrieving server name from this server_id: ' '%s with this error: %s' % server_id, err) raise Exception(err_msg) role = self.get_role_from_server_id(stack, server_id) server_pre_deployments = server_deployment_names.setdefault( server_names[server_id], {}).setdefault( 'pre_deployments', []) server_post_deployments = server_deployment_names.setdefault( server_names[server_id], {}).setdefault( 'post_deployments', []) server_roles[server_names[server_id]] = role # special handling of deployments that are run post the deploy # steps. We have to look these up based on the # physical_resource_id, but these names should be consistent since # they are consistent interfaces in our templates. if 'ExtraConfigPost' in deployment.physical_resource_id or \ 'PostConfig' in deployment.physical_resource_id: if deployment_name not in server_post_deployments: server_post_deployments.append(deployment_name) else: if deployment_name not in server_pre_deployments: server_pre_deployments.append(deployment_name)",188,111
openstack%2Ftripleo-common~master~Iea2df8ad7017aecaeab948f6083b757da077ea0b,openstack/tripleo-common,master,Iea2df8ad7017aecaeab948f6083b757da077ea0b,[Core] Be pep8 compliant.,ABANDONED,2019-01-31 14:05:22.000000000,2020-08-06 21:56:40.000000000,,"[{'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-31 14:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2889c65f7811371b9d7fc48b7e5c87beda8bd90d', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 2, 'created': '2019-03-01 22:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4db2aa99f20988491682091559e1fec2362b5a3e', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 3, 'created': '2019-04-01 08:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/36a2990a0e79130b7a7d9e70f1ed023da7a21464', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 4, 'created': '2019-04-03 14:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4e3ac764357e214b7a11ffbea715169b08f4c18', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 5, 'created': '2019-04-08 12:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ed3e4d5874216615665e70c6fe241f61d7ada73', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 6, 'created': '2019-04-09 09:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc190b6fe1de72740658616ebf45c76f3a149767', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 7, 'created': '2019-04-29 08:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df3f44e323bbba31c6fa74ecc808fdc4e82271a7', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 8, 'created': '2019-05-06 07:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/561366821db977f063b16e4c1ee3b126588af9b4', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 9, 'created': '2019-05-06 10:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/77a6315477c6717c30ea19e1dd099cd48443f561', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 10, 'created': '2019-05-21 13:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f67d002d78f468d5dfe35e3948ed918224f94e07', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 11, 'created': '2019-06-18 15:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11af6e438300080cbdaaf69c624a35d9226bd7a3', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 12, 'created': '2019-06-25 08:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b23450fd3f92d91085b1832e96ab105ca41abdf', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 13, 'created': '2019-06-26 08:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da0364b0ad57d372f37a06d0e1d58fcad037c883', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 14, 'created': '2019-06-28 08:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c60e91464084745e02f411b2c51095a00ae29fd', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 15, 'created': '2019-07-05 08:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/679ffd8a35729a4cf2da6da4247e31ce1bc53366', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 16, 'created': '2019-07-19 07:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e819be1ad5bd69deb508a0f294bbcb9230fc1341', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}, {'number': 17, 'created': '2019-08-01 08:09:54.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f14f43a9c9c1f7e92eccf7af046400fe215aba28', 'message': '[Core] Be pep8 compliant.\n\nFix line break before binary operator warning.\n\nChange-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b\n'}]",0,634241,f14f43a9c9c1f7e92eccf7af046400fe215aba28,184,8,17,29222,,,0,"[Core] Be pep8 compliant.

Fix line break before binary operator warning.

Change-Id: Iea2df8ad7017aecaeab948f6083b757da077ea0b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/634241/17 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,2889c65f7811371b9d7fc48b7e5c87beda8bd90d,pep8_compliant," os_path_exists = os.path.exists(self._inventory) if (isinstance(self._inventory, six.string_types) and os_path_exists): os_path_exists = os.path.exists(self._ssh_private_key) if (isinstance( self._ssh_private_key, six.string_types) and os_path_exists): os_path_exists = os.path.exists(self._inventory) if (isinstance(self._inventory, six.string_types) and os_path_exists): os_path_exists = os.path.exists(self._playbook) if (isinstance(self._playbook, six.string_types) and os_path_exists): os_path_exists = os.path.exists(self._ssh_private_key) if (isinstance( self._ssh_private_key, six.string_types) and os_path_exists):"," if (isinstance(self._inventory, six.string_types) and os.path.exists(self._inventory)): if (isinstance(self._ssh_private_key, six.string_types) and os.path.exists(self._ssh_private_key)): if (isinstance(self._inventory, six.string_types) and os.path.exists(self._inventory)): if (isinstance(self._playbook, six.string_types) and os.path.exists(self._playbook)): if (isinstance(self._ssh_private_key, six.string_types) and os.path.exists(self._ssh_private_key)):",12,10
openstack%2Ftripleo-common~master~I572cf91a9b511a54a5b8948b8c46891ea2db85b5,openstack/tripleo-common,master,I572cf91a9b511a54a5b8948b8c46891ea2db85b5,Remove export_deployment_plan workflow,ABANDONED,2020-02-14 10:32:43.000000000,2020-08-06 21:56:39.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-14 10:32:43.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/137c74d841f6a44a594dcfdc8bca155e89d3b54c', 'message': 'Remove export_deployment_plan workflow\n\nDepends-On: https://review.opendev.org/#/c/707812/\nChange-Id: I572cf91a9b511a54a5b8948b8c46891ea2db85b5\n'}]",0,707813,137c74d841f6a44a594dcfdc8bca155e89d3b54c,4,3,1,9712,,,0,"Remove export_deployment_plan workflow

Depends-On: https://review.opendev.org/#/c/707812/
Change-Id: I572cf91a9b511a54a5b8948b8c46891ea2db85b5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/707813/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,137c74d841f6a44a594dcfdc8bca155e89d3b54c,mistral_to_ansible,," export_deployment_plan: description: Creates an export tarball for a given plan input: - plan - queue_name: tripleo tags: - tripleo-common-managed tasks: export_plan: action: tripleo.plan.export input: plan: <% $.plan %> delete_after: 3600 exports_container: ""plan-exports"" on-success: create_tempurl on-error: export_plan_set_status_failed create_tempurl: action: tripleo.swift.tempurl on-success: set_status_success on-error: create_tempurl_set_status_failed input: container: ""plan-exports"" obj: ""<% $.plan %>.tar.gz"" valid: 3600 set_status_success: on-success: send_message publish: status: SUCCESS message: <% task(create_tempurl).result %> tempurl: <% task(create_tempurl).result %> export_plan_set_status_failed: on-success: send_message publish: status: FAILED message: <% task(export_plan).result %> create_tempurl_set_status_failed: on-success: send_message publish: status: FAILED message: <% task(create_tempurl).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.status %> execution: <% execution() %> plan_name: <% $.plan %> message: <% $.get('message', '') %> payload: tempurl: <% $.get('tempurl', '') %> ",0,60
openstack%2Ftripleo-common~master~I64e856a8cc8657c70fe90ac8fb0fb6685e496409,openstack/tripleo-common,master,I64e856a8cc8657c70fe90ac8fb0fb6685e496409,Remove the plan_list workflow,ABANDONED,2020-02-03 11:31:52.000000000,2020-08-06 21:56:34.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-03 11:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6ebedd2c4a69f474896b1118c2b9a0df35a5cc68', 'message': 'Remove the plan_list workflow\n\nThis change removes the plan_list workflow, which is no longer used by\ntripleoclient. The action is also removed from Mistral, by excluding it\nfrom the setup.cfg. However, the action code remains as tripleoclient is\nusing it directly.\n\nStory: 2007247\nTask: 38594\nDepends-On: https://review.opendev.org/#/c/705254/\nChange-Id: I64e856a8cc8657c70fe90ac8fb0fb6685e496409\n'}, {'number': 2, 'created': '2020-02-14 09:37:12.000000000', 'files': ['workbooks/plan_management.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/97ac710dfe2c3162636ba64b3cc63dc4c632b969', 'message': 'Remove the plan_list workflow\n\nThis change removes the plan_list workflow, which is no longer used by\ntripleoclient. The action is also removed from Mistral, by excluding it\nfrom the setup.cfg. However, the action code remains as tripleoclient is\nusing it directly.\n\nStory: 2007247\nTask: 38594\nDepends-On: https://review.opendev.org/#/c/705254/\nChange-Id: I64e856a8cc8657c70fe90ac8fb0fb6685e496409\n'}]",0,705422,97ac710dfe2c3162636ba64b3cc63dc4c632b969,18,7,2,9712,,,0,"Remove the plan_list workflow

This change removes the plan_list workflow, which is no longer used by
tripleoclient. The action is also removed from Mistral, by excluding it
from the setup.cfg. However, the action code remains as tripleoclient is
using it directly.

Story: 2007247
Task: 38594
Depends-On: https://review.opendev.org/#/c/705254/
Change-Id: I64e856a8cc8657c70fe90ac8fb0fb6685e496409
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/705422/2 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'setup.cfg']",2,6ebedd2c4a69f474896b1118c2b9a0df35a5cc68,mistral_to_ansible,"exclude = .eggs,.tox "," tripleo.plan.list = tripleo_common.actions.plan:ListPlansActionexclude = .eggs,.tox",1,40
openstack%2Fironic~stable%2Fussuri~Ie248de2269a63a41b634f7205468edabccc53738,openstack/ironic,stable/ussuri,Ie248de2269a63a41b634f7205468edabccc53738,Change UEFI PXE job to use tinyipa,MERGED,2020-08-05 20:11:49.000000000,2020-08-06 21:56:11.000000000,2020-08-06 20:16:07.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 20:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76a4b6ae5c4269bdcd5d1c4ddd13addb945969c3', 'message': 'Change UEFI PXE job to use tinyipa\n\nThe kernel for the UEFI PXE job seems to download\nwithout issue, however the required ramdisk does not\nseem to be making it.\n\nAs such, changing the job to use TinyCore to see if the smaller\nhelps resolve these issues.\n\nChange-Id: Ie248de2269a63a41b634f7205468edabccc53738\n(cherry picked from commit ceb0d284b7f8c98244595ec163f6862fee429449)\n'}, {'number': 2, 'created': '2020-08-06 07:49:27.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/15ddcad209b18d81a2047ebd21d2c56d3993595a', 'message': 'Change UEFI PXE job to use tinyipa\n\nThe kernel for the UEFI PXE job seems to download\nwithout issue, however the required ramdisk does not\nseem to be making it.\n\nAs such, changing the job to use TinyCore to see if the smaller\nhelps resolve these issues.\n\nChange-Id: Ie248de2269a63a41b634f7205468edabccc53738\n(cherry picked from commit ceb0d284b7f8c98244595ec163f6862fee429449)\n'}]",0,744979,15ddcad209b18d81a2047ebd21d2c56d3993595a,19,5,2,11655,,,0,"Change UEFI PXE job to use tinyipa

The kernel for the UEFI PXE job seems to download
without issue, however the required ramdisk does not
seem to be making it.

As such, changing the job to use TinyCore to see if the smaller
helps resolve these issues.

Change-Id: Ie248de2269a63a41b634f7205468edabccc53738
(cherry picked from commit ceb0d284b7f8c98244595ec163f6862fee429449)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/744979/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,76a4b6ae5c4269bdcd5d1c4ddd13addb945969c3,, IRONIC_RAMDISK_TYPE: tinyipa,,1,0
openstack%2Fpython-tripleoclient~master~I57794979652ea048c4e1d97f27f6fe1dd79ccf04,openstack/python-tripleoclient,master,I57794979652ea048c4e1d97f27f6fe1dd79ccf04,Add Update plan command for minor update,ABANDONED,2019-02-07 17:40:39.000000000,2020-08-06 21:55:48.000000000,,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 17:40:39.000000000', 'files': ['tripleoclient/v1/overcloud_update.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9bc05c0dfc786d8c469302a9cd37b21bd06f2277', 'message': 'Add Update plan command for minor update\n\nAdd:\nopenstack overcloud update plan --templates\nfor minor update in order to be able to modified the Ansible\ntasks in the plan and apply them.\n\nChange-Id: I57794979652ea048c4e1d97f27f6fe1dd79ccf04\n'}]",0,635585,9bc05c0dfc786d8c469302a9cd37b21bd06f2277,5,4,1,16515,,,0,"Add Update plan command for minor update

Add:
openstack overcloud update plan --templates
for minor update in order to be able to modified the Ansible
tasks in the plan and apply them.

Change-Id: I57794979652ea048c4e1d97f27f6fe1dd79ccf04
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/635585/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_update.py', 'setup.cfg']",2,9bc05c0dfc786d8c469302a9cd37b21bd06f2277,refresh/ansible, overcloud_update_plan= tripleoclient.v1.overcloud_update:UpdatePlan,,28,0
openstack%2Fpython-tripleoclient~master~Ie704ea293279e4d7126d554333a493226a462bf5,openstack/python-tripleoclient,master,Ie704ea293279e4d7126d554333a493226a462bf5,Remove skiping tag validation as there are no validation in THT anymore,ABANDONED,2019-05-23 07:34:28.000000000,2020-08-06 21:55:47.000000000,,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-23 07:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dfe8c8344eb65e674cfea863083ae97df9dd6fba', 'message': 'Remove skiping tag validation as there are no validation in THT anymore\n\nPre deployments, post deployment, pre upgrades and post upgrades\nvalidations are living now in a different repository.\n\nLets remove this tag from the client now that there are no more\nvalidation tags in the templates.\n\nChange-Id: Ie704ea293279e4d7126d554333a493226a462bf5\n'}, {'number': 2, 'created': '2019-05-23 09:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/649d8e41d03f72f13c082a9bb636d8a3e77fa7f2', 'message': 'Remove skiping tag validation as there are no validation in THT anymore\n\nPre deployments, post deployment, pre upgrades and post upgrades\nvalidations are living now in a different repository.\n\nLets remove this tag from the client now that there are no more\nvalidation tags in the templates.\n\nChange-Id: Ie704ea293279e4d7126d554333a493226a462bf5\n'}, {'number': 3, 'created': '2019-06-03 08:04:01.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c3317d1aa0bffccd19837385156e35e38002813b', 'message': 'Remove skiping tag validation as there are no validation in THT anymore\n\nPre deployments, post deployment, pre upgrades and post upgrades\nvalidations are living now in a different repository.\n\nLets remove this tag from the client now that there are no more\nvalidation tags in the templates.\n\nChange-Id: Ie704ea293279e4d7126d554333a493226a462bf5\n'}]",2,660909,c3317d1aa0bffccd19837385156e35e38002813b,17,8,3,20775,,,0,"Remove skiping tag validation as there are no validation in THT anymore

Pre deployments, post deployment, pre upgrades and post upgrades
validations are living now in a different repository.

Lets remove this tag from the client now that there are no more
validation tags in the templates.

Change-Id: Ie704ea293279e4d7126d554333a493226a462bf5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/660909/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",4,dfe8c8344eb65e674cfea863083ae97df9dd6fba,660909, args = ['deploy_steps_playbook.yaml'] 'deploy_steps_playbook.yaml'])," args = ['deploy_steps_playbook.yaml', '--skip-tags', 'validation'] 'deploy_steps_playbook.yaml', '--skip-tags', 'validation'])",14,25
openstack%2Fpython-tripleoclient~master~I90c33caa28413535b2ca09ac27696d098e3d6bbc,openstack/python-tripleoclient,master,I90c33caa28413535b2ca09ac27696d098e3d6bbc,Invokes derive parameters for all deployments,ABANDONED,2018-06-06 08:45:18.000000000,2020-08-06 21:55:46.000000000,,"[{'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7509}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-06 08:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92094c280d204809b2cd7d2d24e29f8d0fb06142', 'message': ""Invokes derive parameters workflow for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives NFV and HCI parameters if custom plan environment file\nis used with --plan-env-file option. otherwise derive parameters\nworkflow are invoked to derive common parameters only for\nall the deployments.\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 2, 'created': '2018-06-28 11:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8b998a2bc0fcb9f13308049ebd5c996ea84b3ee', 'message': ""Invokes derive parameters workflow for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives NFV and HCI parameters if custom plan environment file\nis used with --plan-env-file option. otherwise derive parameters\nworkflow are invoked to derive common parameters only for\nall the deployments.\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 3, 'created': '2018-06-28 11:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4f5288940fdb79251e495bece51bcb5861759ac6', 'message': ""Invokes derive parameters workflow for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives NFV and HCI parameters if custom plan environment file\nis used with --plan-env-file option. otherwise derive parameters\nworkflow are invoked to derive common parameters only for\nall the deployments.\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 4, 'created': '2018-06-28 17:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/057970737b9fe94c3eafcf262b41d78f14a2f9e5', 'message': ""Invokes derive parameters workflow for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives NFV and HCI parameters if custom plan environment file\nis used with --plan-env-file option. otherwise derive parameters\nworkflow are invoked to derive common parameters only for\nall the deployments.\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 5, 'created': '2018-06-28 17:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/26cdd3d38a715656828d73388cfa8a48411c258d', 'message': ""Invokes derive parameters for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives role specific parameters like NFV and HCI parameters\nif custom plan environment file is used with --plan-env-file\noption. otherwise derive parameters common workflow are invoked\nto derive common parameters for all the deployments.\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 6, 'created': '2018-06-28 17:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8a748646c441f5a440333a674d175aba15bb700', 'message': ""Invokes derive parameters for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives role specific parameters like NFV and HCI parameters\nif custom plan environment file is used with --plan-env-file\noption. otherwise derive parameters common workflow are invoked\nto derive common parameters for all the deployments.\n\nDepends-On: Ied2e20a41badb65f0a818461714ec8767801ac8a\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 7, 'created': '2018-06-29 05:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36347db1cb51477a637454148a0623770d5bac23', 'message': ""Invokes derive parameters for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives role specific parameters like NFV and HCI parameters\nif custom plan environment file is used with --plan-env-file\noption. otherwise derive parameters common workflow are invoked\nto derive common parameters for all the deployments.\n\nDepends-On: Ied2e20a41badb65f0a818461714ec8767801ac8a\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 8, 'created': '2018-06-29 08:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2c7dd5d7628cfb6db9d9d89f3bc66e6d3b9f87a', 'message': ""Invokes derive parameters for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives role specific parameters like NFV and HCI parameters\nif custom plan environment file is used with --plan-env-file\noption. otherwise derive parameters common workflow are invoked\nto derive common parameters for all the deployments.\n\nDepends-On: Ied2e20a41badb65f0a818461714ec8767801ac8a\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}, {'number': 9, 'created': '2018-07-04 06:19:40.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/workflows/parameters.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8364536325651532e25a1e553bf6a53cbdd19b9', 'message': ""Invokes derive parameters for all deployments\n\nDerive parameters workflow can be used to derive Fixed IP's and\nother parameters if needed.\n\nDerives role specific parameters like NFV and HCI parameters\nif custom plan environment file is used with --plan-env-file\noption. otherwise derive parameters common workflow are invoked\nto derive common parameters for all the deployments.\n\nDepends-On: Ied2e20a41badb65f0a818461714ec8767801ac8a\n\nChange-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc\n""}]",11,572701,b8364536325651532e25a1e553bf6a53cbdd19b9,41,10,9,22865,,,0,"Invokes derive parameters for all deployments

Derive parameters workflow can be used to derive Fixed IP's and
other parameters if needed.

Derives role specific parameters like NFV and HCI parameters
if custom plan environment file is used with --plan-env-file
option. otherwise derive parameters common workflow are invoked
to derive common parameters for all the deployments.

Depends-On: Ied2e20a41badb65f0a818461714ec8767801ac8a

Change-Id: I90c33caa28413535b2ca09ac27696d098e3d6bbc
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/572701/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/parameters.py', 'tripleoclient/v1/overcloud_deploy.py']",2,92094c280d204809b2cd7d2d24e29f8d0fb06142,invoke-derive-parameters-all-dep," else: workflow_params.invoke_derive_params_workflows(self.clients, stack_name)",,38,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~If1e32d13836dbb430ca9543edf6873e1c7971fb0,openstack/python-tripleoclient,stable/queens,If1e32d13836dbb430ca9543edf6873e1c7971fb0,Add XClarity in the list of supported hw types,ABANDONED,2019-05-10 01:41:23.000000000,2020-08-06 21:55:45.000000000,,"[{'_account_id': 11082}, {'_account_id': 11878}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-10 01:41:23.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ac39257b7ac8c54c2a94932a89af6671f97817f', 'message': 'Add XClarity in the list of supported hw types\n\nThis patch proposes to add XClarity in the list of supported\nhardware types by python-tripleoclient.\n\nChange-Id: If1e32d13836dbb430ca9543edf6873e1c7971fb0\n(cherry picked from commit fbe0ea6fe01e832b35363bbc3b94dd7f713394cf)\n'}]",0,658236,8ac39257b7ac8c54c2a94932a89af6671f97817f,10,5,1,28185,,,0,"Add XClarity in the list of supported hw types

This patch proposes to add XClarity in the list of supported
hardware types by python-tripleoclient.

Change-Id: If1e32d13836dbb430ca9543edf6873e1c7971fb0
(cherry picked from commit fbe0ea6fe01e832b35363bbc3b94dd7f713394cf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/658236/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_config.py']",2,8ac39257b7ac8c54c2a94932a89af6671f97817f,," 'cisco-ucs-standalone', 'xclarity'] 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'ucsm', 'xclarity'], 'staging-ovirt', 'ucsm', 'xclarity'],"," 'cisco-ucs-standalone'] 'redfish', 'snmp', 'staging-ovirt'], 'ucsm'], 'staging-ovirt', 'ucsm'],",9,5
openstack%2Fpython-tripleoclient~stable%2Fqueens~I6f3e8a943d49fea65e855d76e3c3d56f9eb8e41b,openstack/python-tripleoclient,stable/queens,I6f3e8a943d49fea65e855d76e3c3d56f9eb8e41b,Add --config-download-only,ABANDONED,2019-04-23 10:23:38.000000000,2020-08-06 21:55:43.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-23 10:23:38.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/config-download-only-d82ae32e13595f93.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0a0b569344240bcb41f6ff5329fb75d804f6b15a', 'message': 'Add --config-download-only\n\nA new CLI argument, --config-download-only, has been added which can be\nused to skip the stack create/update and only run the config-download\nworkflow to apply the software configuration.\n\nChange-Id: I6f3e8a943d49fea65e855d76e3c3d56f9eb8e41b\n(cherry picked from commit b4b2fe24d0a47d1244b0c9b5b44151fc2ebd306d)\n'}]",1,654939,0a0b569344240bcb41f6ff5329fb75d804f6b15a,5,4,1,2874,,,0,"Add --config-download-only

A new CLI argument, --config-download-only, has been added which can be
used to skip the stack create/update and only run the config-download
workflow to apply the software configuration.

Change-Id: I6f3e8a943d49fea65e855d76e3c3d56f9eb8e41b
(cherry picked from commit b4b2fe24d0a47d1244b0c9b5b44151fc2ebd306d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/654939/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/config-download-only-d82ae32e13595f93.yaml', 'tripleoclient/v1/overcloud_deploy.py']",3,0a0b569344240bcb41f6ff5329fb75d804f6b15a,," '--config-download-only', action='store_true', default=False, help=_('Disable the stack create/update, and only run the ' 'config-download workflow to apply the software ' 'configuration.') ) parser.add_argument( if not parsed_args.config_download_only: self._deploy_tripleo_heat_templates_tmpdir(stack, parsed_args)"," self._deploy_tripleo_heat_templates_tmpdir(stack, parsed_args)",53,1
openstack%2Fpython-tripleoclient~stable%2Fqueens~Iaeca19457d78f4f6c4b3bd8091194be31563e5e5,openstack/python-tripleoclient,stable/queens,Iaeca19457d78f4f6c4b3bd8091194be31563e5e5,First check ipv4 then ipv6 connectivity,ABANDONED,2019-05-07 02:37:00.000000000,2020-08-06 21:55:42.000000000,,"[{'_account_id': 2874}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 02:37:00.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21fc327d41decb5c1ef62976ca7c63739b72606e', 'message': 'First check ipv4 then ipv6 connectivity\n\nChange-Id: Iaeca19457d78f4f6c4b3bd8091194be31563e5e5\nCloses-Bug: #1819834\n(cherry picked from commit 4dcd8708819a1d3afe8ad43d6673d36c4254ae7a)\n'}]",0,657514,21fc327d41decb5c1ef62976ca7c63739b72606e,19,7,1,2874,,,0,"First check ipv4 then ipv6 connectivity

Change-Id: Iaeca19457d78f4f6c4b3bd8091194be31563e5e5
Closes-Bug: #1819834
(cherry picked from commit 4dcd8708819a1d3afe8ad43d6673d36c4254ae7a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/657514/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,21fc327d41decb5c1ef62976ca7c63739b72606e,bug/1819834-stable/queens," # first check ipv4 then check ipv6 try: socket.socket(socket.AF_INET6).connect((host, 22)) return except socket.error: pass", pass,6,2
openstack%2Fpython-tripleoclient~master~I5350f27451726623f3b7197bbe16151c6198a713,openstack/python-tripleoclient,master,I5350f27451726623f3b7197bbe16151c6198a713,add scen009 as voting/gating,ABANDONED,2019-04-02 20:14:54.000000000,2020-08-06 21:55:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-02 20:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86a10ed83099326e0f302d595473bca05d2491d8', 'message': 'add scen009 as voting/gating\n\nscen009 is passing in master\nmake it vote/gate\n\nChange-Id: I5350f27451726623f3b7197bbe16151c6198a713\n'}, {'number': 2, 'created': '2019-04-16 20:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f108693b33b1550a4a66de8c5297c2b6e13333e', 'message': 'add scen009 as voting/gating\n\nscen009 is passing in master\nmake it vote/gate\n\nChange-Id: I5350f27451726623f3b7197bbe16151c6198a713\n'}, {'number': 3, 'created': '2019-05-13 19:17:57.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24c269780b0ac257cf9c44a59d53b50e67360409', 'message': 'add scen009 as voting/gating\n\nscen009 is passing in master\nmake it vote/gate\n\nChange-Id: I5350f27451726623f3b7197bbe16151c6198a713\n'}]",1,649446,24c269780b0ac257cf9c44a59d53b50e67360409,25,7,3,9592,,,0,"add scen009 as voting/gating

scen009 is passing in master
make it vote/gate

Change-Id: I5350f27451726623f3b7197bbe16151c6198a713
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/649446/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,86a10ed83099326e0f302d595473bca05d2491d8,scenario009_voting, voting: true jobs: - tripleo-ci-centos-7-scenario009-multinode-oooq-container,,3,0
openstack%2Fpython-tripleoclient~master~If325e73c49cad8ab788b5bfcad6003ca1d256a03,openstack/python-tripleoclient,master,If325e73c49cad8ab788b5bfcad6003ca1d256a03,"By design the legacy instack passwords file should only be used when doing upgrades from instack undercloud to containerized undercloud. And it probably should not fail, but only warning? So new passwords will be generated in the upgrade process.",ABANDONED,2019-06-26 10:28:42.000000000,2020-08-06 21:55:29.000000000,,"[{'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 19235}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-26 10:28:42.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c6a68836840db8e5204c7b4ac3a2a5a8ca76198', 'message': 'By design the legacy instack passwords file should only be used when doing upgrades from instack undercloud to containerized undercloud. And it probably should not fail, but only warning? So new passwords will be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight checks, when there is no undercloud-passwords.conf file.\nCloses-Bug: #1796101\n\nChange-Id: If325e73c49cad8ab788b5bfcad6003ca1d256a03\n'}]",0,667571,0c6a68836840db8e5204c7b4ac3a2a5a8ca76198,7,6,1,19235,,,0,"By design the legacy instack passwords file should only be used when doing upgrades from instack undercloud to containerized undercloud. And it probably should not fail, but only warning? So new passwords will be generated in the upgrade process.

While currently, the undercloud install command fails the pre-flight checks, when there is no undercloud-passwords.conf file.
Closes-Bug: #1796101

Change-Id: If325e73c49cad8ab788b5bfcad6003ca1d256a03
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/667571/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,0c6a68836840db8e5204c7b4ac3a2a5a8ca76198,bug/1796101," else: open(undercloud_pw_file,'a').close() ",,3,0
openstack%2Fpython-tripleoclient~master~I1e90d54f8b7a549c91c764a4ef53793fc56c32f6,openstack/python-tripleoclient,master,I1e90d54f8b7a549c91c764a4ef53793fc56c32f6,DNM CI test,ABANDONED,2019-07-11 14:29:27.000000000,2020-08-06 21:55:24.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-11 14:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6cb517552e6d186d04d5136603b3ba83bdfb636d', 'message': 'DNM CI test\n\nCI test for : https://review.opendev.org/670295\n\nChange-Id: I1e90d54f8b7a549c91c764a4ef53793fc56c32f6\n'}, {'number': 2, 'created': '2019-07-12 07:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/da865e577ef338133d77d1538c5c749883256f1b', 'message': 'DNM CI test\n\nCI test for : https://review.opendev.org/670295\n\nChange-Id: I1e90d54f8b7a549c91c764a4ef53793fc56c32f6\n'}, {'number': 3, 'created': '2019-07-17 07:28:41.000000000', 'files': ['tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/537a0084decbdd5337ed0287bc33e513a1a6e4ab', 'message': 'DNM CI test\n\nCI test for : https://review.opendev.org/670295\n\nChange-Id: I1e90d54f8b7a549c91c764a4ef53793fc56c32f6\n'}]",0,670314,537a0084decbdd5337ed0287bc33e513a1a6e4ab,10,3,3,16515,,,0,"DNM CI test

CI test for : https://review.opendev.org/670295

Change-Id: I1e90d54f8b7a549c91c764a4ef53793fc56c32f6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/670314/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_update.py'],1,6cb517552e6d186d04d5136603b3ba83bdfb636d,ci/test/dnm," default=True, action=""store"","," default=None, action=""store"",",1,1
openstack%2Fpython-tripleoclient~master~Icfb64e052814055d183dcecc1e9ca06fe3dbab7c,openstack/python-tripleoclient,master,Icfb64e052814055d183dcecc1e9ca06fe3dbab7c,Ensure password file exists,ABANDONED,2019-06-26 13:31:37.000000000,2020-08-06 21:55:23.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-26 13:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4586ca87435ee0e4e57d6a4374b45ade75b00f22', 'message': 'By design the legacy instack passwords file should only be used when doing upgrades from instack undercloud to containerized undercloud. And it probably should not fail, but only warning? So new passwords will be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight checks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nCloses-Bug: #1796101\n'}, {'number': 2, 'created': '2019-06-27 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/abbe239ad4b04c60c67f7c4165daaf5721d75bbe', 'message': 'By design the legacy instack passwords file should only be used when doing upgrades from instack undercloud to containerized undercloud. And it probably should not fail, but only warning? So new passwords will be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight checks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nCloses-Bug: #1796101\n'}, {'number': 3, 'created': '2019-06-27 09:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/538d2af98e0c537f79e2d30e5e90bc0fa1cc2fc8', 'message': 'By design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\n And it probably should not fail, but only warning? So new\npasswords will be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nCloses-Bug: #1796101\n'}, {'number': 4, 'created': '2019-06-27 09:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6723f493e611836b282c3aa64c8ce9847fc08ab4', 'message': 'When instack passwords file got removed, containerized undercloud\ninstall complains about that\n\nBy design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\nAnd it probably should not fail, but only warning? So new passwords\nwill be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nCloses-Bug: #1796101\n'}, {'number': 5, 'created': '2019-06-27 09:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82be85d3a7ba5a5d445fe118cd6ff84bfbbaa428', 'message': 'Ensure password file exists\n\nBy design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\nAnd it probably should not fail, but only warning? So new passwords\nwill be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nCloses-Bug: #1796101\n'}, {'number': 6, 'created': '2019-06-27 14:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/789f7abddef186a418e322a7ad160cf20d3c1ec9', 'message': 'Ensure password file exists\n\nBy design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\nAnd it probably should not fail, but only warning? So new passwords\nwill be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nCloses-Bug: #1796101\n'}, {'number': 7, 'created': '2019-06-28 12:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c23b19f95b51f49ed0c38c7fdea08de2ee06098', 'message': 'Ensure password file exists\n\nBy design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\nAnd it probably should not fail, but only warning? So new passwords\nwill be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nDepends-On: https://review.opendev.org/667344\nCloses-Bug: #1796101\n'}, {'number': 8, 'created': '2019-07-17 12:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/85f2491948ba93848115a09115fedc18ba301332', 'message': 'Ensure password file exists\n\nBy design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\nAnd it probably should not fail, but only warning? So new passwords\nwill be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nDepends-On: https://review.opendev.org/667344\nCloses-Bug: #1796101\n'}, {'number': 9, 'created': '2019-08-02 11:53:40.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c00f8a96f27a3458b3a6a75a000f5ebd3452d9ca', 'message': 'Ensure password file exists\n\nBy design the legacy instack passwords file should only be used when\ndoing upgrades from instack undercloud to containerized undercloud.\nAnd it probably should not fail, but only warning? So new passwords\nwill be generated in the upgrade process.\n\nWhile currently, the undercloud install command fails the pre-flight\nchecks, when there is no undercloud-passwords.conf file.\n\nChange-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c\nDepends-On: https://review.opendev.org/667344\nCloses-Bug: #1796101\n'}]",2,667615,c00f8a96f27a3458b3a6a75a000f5ebd3452d9ca,31,9,9,19235,,,0,"Ensure password file exists

By design the legacy instack passwords file should only be used when
doing upgrades from instack undercloud to containerized undercloud.
And it probably should not fail, but only warning? So new passwords
will be generated in the upgrade process.

While currently, the undercloud install command fails the pre-flight
checks, when there is no undercloud-passwords.conf file.

Change-Id: Icfb64e052814055d183dcecc1e9ca06fe3dbab7c
Depends-On: https://review.opendev.org/667344
Closes-Bug: #1796101
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/667615/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,4586ca87435ee0e4e57d6a4374b45ade75b00f22,bug/1796101," else: open(undercloud_pw_file,'a').close()",,2,0
openstack%2Fpython-tripleoclient~stable%2Frocky~Ia5253bc6f66a967327fad459b29fe45d88eec780,openstack/python-tripleoclient,stable/rocky,Ia5253bc6f66a967327fad459b29fe45d88eec780,[FFU] Fix sensitive hostname in FFU upgrade run command,ABANDONED,2019-09-12 21:27:06.000000000,2020-08-06 21:55:15.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 21:27:06.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/449def34377ab78b0c865d23ef557c69aaff73bb', 'message': '[FFU] Fix sensitive hostname in FFU upgrade run command\n\nHostname is case sensitive in:\n\n    openstack overcloud upgrade run --nodes <HOSTNAME>\n\nThis can lead to situation when Mistral fails to start node upgrade\ndue to hostname mismatch.\n\nChange-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780\nCloses-Bug: 1802298\n(cherry picked from commit 12a442493ede7d97a4c0906da208a95152cf8030)\n'}]",0,681934,449def34377ab78b0c865d23ef557c69aaff73bb,5,4,1,11444,,,0,"[FFU] Fix sensitive hostname in FFU upgrade run command

Hostname is case sensitive in:

    openstack overcloud upgrade run --nodes <HOSTNAME>

This can lead to situation when Mistral fails to start node upgrade
due to hostname mismatch.

Change-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780
Closes-Bug: 1802298
(cherry picked from commit 12a442493ede7d97a4c0906da208a95152cf8030)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/681934/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py']",2,449def34377ab78b0c865d23ef557c69aaff73bb,," @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') def test_node_upgrade_with_case_sensitive_hostname( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'Overcloud-OVS-Compute-2', '--playbook', 'fake-playbook.yaml', '--skip-tags', 'validation'] verifylist = [ ('nodes', 'Overcloud-OVS-Compute-2'), ('static_inventory', None), ('playbook', 'fake-playbook.yaml'), ('skip_tags', 'validation'), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.cmd.take_action(parsed_args) upgrade_ansible.assert_called_once_with( self.app.client_manager, nodes='overcloud-ovs-compute-2', inventory_file=mock_open().read(), playbook='fake-playbook.yaml', ansible_queue_name=constants.UPGRADE_QUEUE, node_user='tripleo-admin', tags='', skip_tags='validation' )",,37,1
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ia5253bc6f66a967327fad459b29fe45d88eec780,openstack/python-tripleoclient,stable/queens,Ia5253bc6f66a967327fad459b29fe45d88eec780,[FFU] Fix sensitive hostname in FFU upgrade run command,ABANDONED,2019-09-12 21:11:33.000000000,2020-08-06 21:55:09.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 21:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/54055a3b7b26494ba6258f16e2b87a79978cfaf7', 'message': '[FFU] Fix sensitive hostname in FFU upgrade run command\n\nHostname is case sensitive in:\n\n    openstack overcloud upgrade run --nodes <HOSTNAME>\n\nThis can lead to situation when Mistral fails to start node upgrade\ndue to hostname mismatch.\n\nChange-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780\nCloses-Bug: 1802298\n(cherry picked from commit 12a442493ede7d97a4c0906da208a95152cf8030)\n'}, {'number': 2, 'created': '2019-09-13 05:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bbdec70468893e4f8724a91527b00b5de86c35d9', 'message': '[FFU] Fix sensitive hostname in FFU upgrade run command\n\nHostname is case sensitive in:\n\n    openstack overcloud upgrade run --nodes <HOSTNAME>\n\nThis can lead to situation when Mistral fails to start node upgrade\ndue to hostname mismatch.\n\nChange-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780\nCloses-Bug: 1802298\n(cherry picked from commit 12a442493ede7d97a4c0906da208a95152cf8030)\n'}, {'number': 3, 'created': '2019-09-13 06:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ac30edd5c48896454a8bc567e1cdc72f7830d4d', 'message': '[FFU] Fix sensitive hostname in FFU upgrade run command\n\nHostname is case sensitive in:\n\n    openstack overcloud upgrade run --nodes <HOSTNAME>\n\nThis can lead to situation when Mistral fails to start node upgrade\ndue to hostname mismatch.\n\nChange-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780\nCloses-Bug: 1802298\n(cherry picked from commit 12a442493ede7d97a4c0906da208a95152cf8030)\n'}, {'number': 4, 'created': '2019-09-13 08:11:08.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f0794df07c59a29583577bb33232b0421d0074de', 'message': '[FFU] Fix sensitive hostname in FFU upgrade run command\n\nHostname is case sensitive in:\n\n    openstack overcloud upgrade run --nodes <HOSTNAME>\n\nThis can lead to situation when Mistral fails to start node upgrade\ndue to hostname mismatch.\n\nChange-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780\nCloses-Bug: 1802298\n'}]",0,681930,f0794df07c59a29583577bb33232b0421d0074de,12,4,4,11444,,,0,"[FFU] Fix sensitive hostname in FFU upgrade run command

Hostname is case sensitive in:

    openstack overcloud upgrade run --nodes <HOSTNAME>

This can lead to situation when Mistral fails to start node upgrade
due to hostname mismatch.

Change-Id: Ia5253bc6f66a967327fad459b29fe45d88eec780
Closes-Bug: 1802298
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/681930/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py']",2,54055a3b7b26494ba6258f16e2b87a79978cfaf7,," @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') def test_node_upgrade_with_case_sensitive_hostname( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'Overcloud-OVS-Compute-2', '--playbook', 'fake-playbook.yaml', '--skip-tags', 'validation'] verifylist = [ ('nodes', 'Overcloud-OVS-Compute-2'), ('static_inventory', None), ('playbook', 'fake-playbook.yaml'), ('skip_tags', 'validation'), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.cmd.take_action(parsed_args) upgrade_ansible.assert_called_once_with( self.app.client_manager, nodes='overcloud-ovs-compute-2', inventory_file=mock_open().read(), playbook='fake-playbook.yaml', ansible_queue_name=constants.UPGRADE_QUEUE, node_user='tripleo-admin', tags='', skip_tags='validation' )",,37,1
openstack%2Fpython-tripleoclient~master~I0f967bd6ca42c085153e8ae8bdc70536be20b797,openstack/python-tripleoclient,master,I0f967bd6ca42c085153e8ae8bdc70536be20b797,Add Designate configuration to tempest-deployer-input.conf,ABANDONED,2018-07-18 17:40:43.000000000,2020-08-06 21:55:00.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-18 17:40:43.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a996cd180c581561d9dccebbe9d0f1c1f3351f56', 'message': ""Add Designate configuration to tempest-deployer-input.conf\n\nWe don't deploy the admin api by default, so we need to disable\nthose tests in tempest.\n\nChange-Id: I0f967bd6ca42c085153e8ae8bdc70536be20b797\n""}]",0,583677,a996cd180c581561d9dccebbe9d0f1c1f3351f56,10,5,1,6928,,,0,"Add Designate configuration to tempest-deployer-input.conf

We don't deploy the admin api by default, so we need to disable
those tests in tempest.

Change-Id: I0f967bd6ca42c085153e8ae8bdc70536be20b797
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/583677/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,a996cd180c581561d9dccebbe9d0f1c1f3351f56,dns-tempest-config," 'volume', 'volume-feature-enabled', 'dns-feature-enabled'): # We don't deploy the admin api for designate by default # (default: true) config.set('dns-feature-enabled', 'api_admin', 'false') "," 'volume', 'volume-feature-enabled'):",5,1
openstack%2Fpython-tripleoclient~master~Iff86d92515f9fcb816beafea5ba7f4077f06d65c,openstack/python-tripleoclient,master,Iff86d92515f9fcb816beafea5ba7f4077f06d65c,Support standalone ansible.cfg addition and extra args,ABANDONED,2019-12-15 22:06:29.000000000,2020-08-06 21:54:59.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-15 22:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c5392cf9e13c3df5965a8ff00a1403a3b5036bf', 'message': 'WIP: support standalone ansible.cfg addition\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 2, 'created': '2019-12-15 23:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50fc86e3ef94cf19c3301f5dafdfedcfa174443e', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 3, 'created': '2019-12-15 23:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb992016ac48e18e042398135caf7ec933746c10', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 4, 'created': '2019-12-15 23:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f1db6fc46a4133143da41aa71f1d25175c447c9', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 5, 'created': '2019-12-16 00:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b072ff4a5214b8ac49779045b10120b0919e0446', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 6, 'created': '2019-12-16 09:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e8989f618d39bf9726ee2f6d3e10583c3bd5bd4', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 7, 'created': '2019-12-16 13:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff814dda99d11d28beba0a1f978aec659add5104', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 8, 'created': '2019-12-16 14:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/403151051595f68682231b8adb641dcb7bb120ad', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 9, 'created': '2019-12-17 00:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b27993d9a8bf51a085f78f03ad797940ed2f9c2b', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 10, 'created': '2019-12-17 19:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ddbc6a6aad5485badb77860af1235a5758d4076b', 'message': 'WIP: support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 11, 'created': '2019-12-18 09:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1debbcf6b37ee48352741a8b6bb27e17cd792b8', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 12, 'created': '2019-12-18 11:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/090042471324317a8bf591d7eda85a49761392f4', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 13, 'created': '2019-12-20 15:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd89e35fcd8ffd44cb9584a389f2af26551fea57', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 14, 'created': '2019-12-22 13:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/54efdf1595efc83bd0958b8189755283f9a91a57', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 15, 'created': '2019-12-23 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/462ffea633897ec2ea612fb90be659964fce11a4', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 16, 'created': '2019-12-24 16:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/582813566e97f82821f487e11f072bfd86ac080b', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 17, 'created': '2020-01-06 16:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/52e619aefcabc752aa31accb55fb77ba77f475f1', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}, {'number': 18, 'created': '2020-01-06 19:20:26.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/config/test_config_minion.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/tests/config/test_config_standalone.py', 'tripleoclient/tests/config/test_config_undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4c0bfbda2cc229963dafbda635fe785ff0f769a', 'message': 'Support standalone ansible.cfg addition and extra args\n\nSupport additional config parts, for example for additonal\nplugins configuration. Add it to undercloud.conf as\nadd_ansible_cfg option.\nAdd extra args support for Ansible run in standalone and\nundercloud. Add to undercloud.conf as ansible_extra_args\noption.\n\nChange-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c\n'}]",0,699137,d4c0bfbda2cc229963dafbda635fe785ff0f769a,55,5,18,10969,,,0,"Support standalone ansible.cfg addition and extra args

Support additional config parts, for example for additonal
plugins configuration. Add it to undercloud.conf as
add_ansible_cfg option.
Add extra args support for Ansible run in standalone and
undercloud. Add to undercloud.conf as ansible_extra_args
option.

Change-Id: Iff86d92515f9fcb816beafea5ba7f4077f06d65c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/699137/18 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py']",3,6c5392cf9e13c3df5965a8ff00a1403a3b5036bf,addcfg," def appendable(option, value, old_value): if option not in constants.APPENDABLES: return value if constants.APPENDABLES[option] == 'pathspec': values = value.split(os.pathsep) old_values = old_value.split(os.pathsep) elif constants.APPENDABLES[option] in ('list', 'pathlist'): values = value.split(',') old_values = old_value.split(',') else: raise Exception( 'Not supported type %s' % constants.APPENDABLES[option]) for v in values: if v not in old_values: old_values.append(v) if constants.APPENDABLES[option] == 'pathspec': return os.pathsep.join(old_values) if constants.APPENDABLES[option] in ('list', 'pathlist'): return "","".join(old_values) raise Exception('Not supported type %s' % constants.APPENDABLES[option]) def write_merged_config(main_file, configs): all_configs = [] for arg in configs: c = configparser.ConfigParser() c.read(arg) all_configs.append(c) result_cfg = all_configs[0] for cfg in all_configs[1:]: for section in cfg.sections(): if not result_cfg.has_section(section): result_cfg.add_section(section) for option, value in cfg.items(section): if not result_cfg.has_option(section, option): result_cfg.set(section, option, value) else: new_value = appendable(option, value, result_cfg.get( section, option)) result_cfg.set(section, option, new_value) with open(main_file, ""w"") as f: result_cfg.write(f)",,103,1
openstack%2Fpython-tripleoclient~master~I302352bf510ec2b4f6a67f496ac5b4b8d4b42f94,openstack/python-tripleoclient,master,I302352bf510ec2b4f6a67f496ac5b4b8d4b42f94,Add FFWD upgrade execution for standalone deployment,ABANDONED,2020-01-15 09:31:50.000000000,2020-08-06 21:54:58.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-15 09:31:50.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/v1/tripleo_ffwd_upgrade.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f5d02b7961841279dfab3e8431c177475d56281', 'message': 'Add FFWD upgrade execution for standalone deployment\n\nAdd FFWD Upgrade tasks execution for standalone deployment.\nThe standalone is supported from Rocky, we can now imagine\nto execute FFWD, at least for CI and test,\nbut also for production.\n\nChange-Id: I302352bf510ec2b4f6a67f496ac5b4b8d4b42f94\n'}]",0,702605,6f5d02b7961841279dfab3e8431c177475d56281,4,3,1,16515,,,0,"Add FFWD upgrade execution for standalone deployment

Add FFWD Upgrade tasks execution for standalone deployment.
The standalone is supported from Rocky, we can now imagine
to execute FFWD, at least for CI and test,
but also for production.

Change-Id: I302352bf510ec2b4f6a67f496ac5b4b8d4b42f94
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/702605/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/v1/tripleo_ffwd_upgrade.py', 'setup.cfg']",4,6f5d02b7961841279dfab3e8431c177475d56281,standalone/ffu, tripleo_ffwd_upgrade = tripleoclient.v1.tripleo_ffwd_upgrade:FFWDUpgrade,,49,0
openstack%2Fpython-tripleoclient~master~If01d47637df5d1d74b5c23497c192f817b02b5a8,openstack/python-tripleoclient,master,If01d47637df5d1d74b5c23497c192f817b02b5a8,"FQDN in insecure registries, and write hosts early",ABANDONED,2019-10-24 05:38:28.000000000,2020-08-06 21:54:55.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-24 05:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42aceb406ee20a458018904c0c944663614cab94', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts in tripleo_deploy.py\nso that get_undercloud_registry() can find it. /etc/hosts\nis only updated if `# HEAT_HOSTS_START` is not already in\nin /etc/hosts, i.e only the first time deploy command is\nrun. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures the $IP:8787 entry can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 2, 'created': '2019-10-24 05:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ad925b0dec6ecb6f1b7fdb5339cbe5b3574de4b7', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts in tripleo_deploy.py\nso that get_undercloud_registry() can find it. /etc/hosts\nis only updated if `# HEAT_HOSTS_START` is not already in\nin /etc/hosts, i.e only the first time deploy command is\nrun. The `HEAT_HOSTS_START - HEAT_HOSTS_END` tags are used\nso that the THT deployment of hosts entries will overwrite\nthis temporary entry that we only need during the first\ndeploy. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 3, 'created': '2019-10-24 20:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea8f687f4d3ba421936364759f1999a231da8559', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts when deploying\nundercloud and standalone so that get_undercloud_registry()\ncan find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`\nis not already in in /etc/hosts, i.e only the first time deploy/\ninstall iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`\ntags are used so that the THT deployment of hosts entries will\noverwrite this temporary entry that we only need during the first\ndeploy/install. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 4, 'created': '2019-10-25 00:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a85085980294482a67272cd1d82075d0b650488', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts when deploying\nundercloud and standalone so that get_undercloud_registry()\ncan find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`\nis not already in in /etc/hosts, i.e only the first time deploy/\ninstall iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`\ntags are used so that the THT deployment of hosts entries will\noverwrite this temporary entry that we only need during the first\ndeploy/install. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 5, 'created': '2019-10-25 17:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/659598eca1d93766c5154bc8ca210c80bb09f426', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts when deploying\nundercloud and standalone so that get_undercloud_registry()\ncan find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`\nis not already in in /etc/hosts, i.e only the first time deploy/\ninstall iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`\ntags are used so that the THT deployment of hosts entries will\noverwrite this temporary entry that we only need during the first\ndeploy/install. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 6, 'created': '2019-10-30 14:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28bbc691a78c27f6675c03a057bd836760f9beb1', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts when deploying\nundercloud and standalone so that get_undercloud_registry()\ncan find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`\nis not already in in /etc/hosts, i.e only the first time deploy/\ninstall iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`\ntags are used so that the THT deployment of hosts entries will\noverwrite this temporary entry that we only need during the first\ndeploy/install. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 7, 'created': '2019-11-04 11:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c8ad9c34027f509eb7727f4f256796ae1753750', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts when deploying\nundercloud and standalone so that get_undercloud_registry()\ncan find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`\nis not already in in /etc/hosts, i.e only the first time deploy/\ninstall iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`\ntags are used so that the THT deployment of hosts entries will\noverwrite this temporary entry that we only need during the first\ndeploy/install. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}, {'number': 8, 'created': '2020-01-28 00:16:03.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21d459dce3f9bd3fe1175b376ca107c2df569cfd', 'message': 'FQDN in insecure registries, and write hosts early\n\nWrite a hosts entry into /etc/hosts when deploying\nundercloud and standalone so that get_undercloud_registry()\ncan find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`\nis not already in in /etc/hosts, i.e only the first time deploy/\ninstall iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`\ntags are used so that the THT deployment of hosts entries will\noverwrite this temporary entry that we only need during the first\ndeploy/install. This ensures docker_config.yaml is written with an\nimage reference that works on the first attempt to deploy\nstandalone with push_destination: true\n\nAlso when DockerInsecureRegistryAddress contains an entry\nfor the local_ip, append the appropriate FQDN entry to the\nenvironment so that the name can be used when push/pull-ing\nimages. This ensures that $IP:8787 can be used in\nstandalone_parameters.yaml as documented.\n\nCloses-Bug: #1849590\nRelated-Bug: #1847141\nChange-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8\n'}]",6,690805,21d459dce3f9bd3fe1175b376ca107c2df569cfd,31,7,8,24245,,,0,"FQDN in insecure registries, and write hosts early

Write a hosts entry into /etc/hosts when deploying
undercloud and standalone so that get_undercloud_registry()
can find it. /etc/hosts is only updated if `# HEAT_HOSTS_START`
is not already in in /etc/hosts, i.e only the first time deploy/
install iommand is run. The `HEAT_HOSTS_START - HEAT_HOSTS_END`
tags are used so that the THT deployment of hosts entries will
overwrite this temporary entry that we only need during the first
deploy/install. This ensures docker_config.yaml is written with an
image reference that works on the first attempt to deploy
standalone with push_destination: true

Also when DockerInsecureRegistryAddress contains an entry
for the local_ip, append the appropriate FQDN entry to the
environment so that the name can be used when push/pull-ing
images. This ensures that $IP:8787 can be used in
standalone_parameters.yaml as documented.

Closes-Bug: #1849590
Related-Bug: #1847141
Change-Id: If01d47637df5d1d74b5c23497c192f817b02b5a8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/690805/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,42aceb406ee20a458018904c0c944663614cab94,bug/1849590," @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy' '._add_fqdn_to_insecure_registries', autospec=True) mock_hc_process, mock_add_fdqn_insec_reg): @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy' '._add_fqdn_to_insecure_registries', autospec=True) mock_norm_path, mock_add_fdqn_insec_reg): @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy' '._create_hosts_entries', autospec=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy' '._add_fqdn_to_insecure_registries', autospec=True) mock_populate, mock_add_fdqn_insec_reg, mock_create_hosts_entries): @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy' '._create_hosts_entries', autospec=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy' '._add_fqdn_to_insecure_registries', autospec=True) mock_cmdline, mock_add_fdqn_insec_reg, mock_create_hosts_entries):", mock_hc_process): mock_norm_path): mock_populate): mock_cmdline):,65,4
openstack%2Fpython-tripleoclient~master~Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1,openstack/python-tripleoclient,master,Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1,Add extra-vars option for the update and upgrade,ABANDONED,2019-10-22 14:29:50.000000000,2020-08-06 21:54:45.000000000,,"[{'_account_id': 7144}, {'_account_id': 8532}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-22 14:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7df9bdb3374c551f998152956ffca5f68f972a06', 'message': 'Add extra-vars option for the update and upgrade\n\nAdd extra-vars option for the update and upgrade in order\nto override some value, like serial value for example\n\nChange-Id: Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1\n'}, {'number': 2, 'created': '2019-10-22 14:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3c49ee94a7ed63e76d5cedce2bfe6955596b0932', 'message': 'Add extra-vars option for the update and upgrade\n\nAdd extra-vars option for the update and upgrade in order\nto override some value, like serial value for example\n\nChange-Id: Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1\n'}, {'number': 3, 'created': '2019-10-23 08:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/392d4fc3a2395e7b8a57a7a6b2b6ed963104960b', 'message': 'Add extra-vars option for the update and upgrade\n\nAdd extra-vars option for the update and upgrade in order\nto override some value, like serial value for example\n\nChange-Id: Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1\n'}, {'number': 4, 'created': '2019-10-31 14:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd6ae126cf6ca69d5847f2c0d3b20ffa2ffddfe0', 'message': 'Add extra-vars option for the update and upgrade\n\nAdd extra-vars option for the update and upgrade in order\nto override some value, like serial value for example\n\nChange-Id: Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1\n'}, {'number': 5, 'created': '2020-02-24 08:02:25.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d47693fb91abed501b62e372202c3b8525d595f0', 'message': 'Add extra-vars option for the update and upgrade\n\nAdd extra-vars option for the update and upgrade in order\nto override some value, like serial value for example\n\nChange-Id: Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1\n'}]",0,690093,d47693fb91abed501b62e372202c3b8525d595f0,27,7,5,16515,,,0,"Add extra-vars option for the update and upgrade

Add extra-vars option for the update and upgrade in order
to override some value, like serial value for example

Change-Id: Ie366419e6e5e33895f39858f8b52e3b7bd6a77c1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/690093/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py']",3,7df9bdb3374c551f998152956ffca5f68f972a06,update/extra/vars," parser.add_argument('-e', '--extra-vars', dest='extra_vars', action='append', help=('Set additional variables as key=value or ' 'yaml/json'), default=[]) priv_key=key, extra_vars=extra_vars)", priv_key=key),15,3
openstack%2Fpython-tripleoclient~master~I57ed369e6501397de733c11a5ad52fb659228c17,openstack/python-tripleoclient,master,I57ed369e6501397de733c11a5ad52fb659228c17,update layout for centos-8 containers-multinode,ABANDONED,2020-03-05 15:49:18.000000000,2020-08-06 21:54:43.000000000,,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45c1140cc9019d02699bcb99a66e72dd26521304', 'message': 'update layout for centos-8 containers-multinode\n\nhttps://review.opendev.org/#/c/711291/ should\nfix centos-8-containers-multinode\n\nChange-Id: I57ed369e6501397de733c11a5ad52fb659228c17\n'}, {'number': 2, 'created': '2020-03-05 15:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/afbd7625be830cb17374dd2c55fa8fc19b99877a', 'message': 'update layout for centos-8 containers-multinode\n\nhttps://review.opendev.org/#/c/711291/ should\nfix centos-8-containers-multinode\n\nChange-Id: I57ed369e6501397de733c11a5ad52fb659228c17\n'}, {'number': 3, 'created': '2020-03-05 22:18:32.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bd84a48599ba47baf27b3e78e3157ac819d5f82', 'message': 'update layout for centos-8 containers-multinode\n\nhttps://review.opendev.org/#/c/711291/ should\nfix centos-8-containers-multinode\n\nChange-Id: I57ed369e6501397de733c11a5ad52fb659228c17\n'}]",0,711489,3bd84a48599ba47baf27b3e78e3157ac819d5f82,12,5,3,9592,,,0,"update layout for centos-8 containers-multinode

https://review.opendev.org/#/c/711291/ should
fix centos-8-containers-multinode

Change-Id: I57ed369e6501397de733c11a5ad52fb659228c17
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/711489/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,45c1140cc9019d02699bcb99a66e72dd26521304,keyerror, - tripleo-ci-centos-8-containers-multinode:, - tripleo-ci-centos-7-containers-multinode:,1,1
openstack%2Fpython-tripleoclient~master~Ia614c12a662e205808714e1f2f94195c3ef5b997,openstack/python-tripleoclient,master,Ia614c12a662e205808714e1f2f94195c3ef5b997,Remove unused tripleo_ui variable from standalone config,ABANDONED,2019-12-06 12:16:25.000000000,2020-08-06 21:54:42.000000000,,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-06 12:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aef56e89b00abe6caa23e10555b6eb3f4dd5127e', 'message': 'Remove unused tripleo_ui variable from standalone config\n\nChange-Id: Ia614c12a662e205808714e1f2f94195c3ef5b997\n'}, {'number': 2, 'created': '2019-12-06 16:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7c31f1730cad3b5f73ed982a97ea4dd7261c2da', 'message': 'Remove unused tripleo_ui variable from standalone config\n\nChange-Id: Ia614c12a662e205808714e1f2f94195c3ef5b997\n'}, {'number': 3, 'created': '2020-01-14 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d1fc8d7cf17d8096028b33bed354ed0fc96271f', 'message': 'Remove unused tripleo_ui variable from standalone config\n\nChange-Id: Ia614c12a662e205808714e1f2f94195c3ef5b997\n'}, {'number': 4, 'created': '2020-02-14 09:39:08.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/tests/config/test_config_standalone.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/55d5eac2df09577dff1ad0ed4df3ba0b7d507869', 'message': 'Remove unused tripleo_ui variable from standalone config\n\nChange-Id: Ia614c12a662e205808714e1f2f94195c3ef5b997\n'}]",0,697656,55d5eac2df09577dff1ad0ed4df3ba0b7d507869,20,5,4,9712,,,0,"Remove unused tripleo_ui variable from standalone config

Change-Id: Ia614c12a662e205808714e1f2f94195c3ef5b997
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/697656/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/standalone.py'],1,aef56e89b00abe6caa23e10555b6eb3f4dd5127e,," telemetry=False, validations=False, zaqar=False):"," telemetry=False, tripleo_ui=False, validations=False, zaqar=False):",2,2
openstack%2Fpython-tripleoclient~master~I37a7a50b466d738678b0ef22aa3a23b3a9226db7,openstack/python-tripleoclient,master,I37a7a50b466d738678b0ef22aa3a23b3a9226db7,turn off temp dir cleanup in container builds,ABANDONED,2020-02-20 21:13:31.000000000,2020-08-06 21:54:40.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-20 21:13:31.000000000', 'files': ['tripleoclient/v1/container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/16b97592a17ec27907580e5dacd8145d1fe00aa2', 'message': 'turn off temp dir cleanup in container builds\n\nHaving the detailed install logs for each container\nis very handy for debug.\n\nChange-Id: I37a7a50b466d738678b0ef22aa3a23b3a9226db7\n'}]",0,708967,16b97592a17ec27907580e5dacd8145d1fe00aa2,5,4,1,9592,,,0,"turn off temp dir cleanup in container builds

Having the detailed install logs for each container
is very handy for debug.

Change-Id: I37a7a50b466d738678b0ef22aa3a23b3a9226db7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/708967/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/container_image.py'],1,16b97592a17ec27907580e5dacd8145d1fe00aa2,," with utils.TempDirs(dir_prefix='kolla-', cleanup=False) as kolla_tmp_dir:", with utils.TempDirs(dir_prefix='kolla-') as kolla_tmp_dir:,1,1
openstack%2Ftripleo-heat-templates~master~I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5,openstack/tripleo-heat-templates,master,I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5,Add helper resource for converting string to map,ABANDONED,2018-09-07 11:06:35.000000000,2020-08-06 21:54:04.000000000,,"[{'_account_id': 6637}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-07 11:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9de29d8ee1354a91beddcd36a433ff8fbfeed34', 'message': 'Add helper resource for converting string to map\n\nThis patch adds a helper resource which converts an string input into a\nmap that can be used elsewhere in the template. This is used in the\ncisco ml2 template to convert json data returned by one of the Software\ndeployments back into a map to be outputed as json in the hiera file.\n\nChange-Id: I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5\n'}, {'number': 2, 'created': '2018-09-19 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d956a10211541217291cad7c17071ff439a6ee42', 'message': 'Add helper resource for converting string to map\n\nThis patch adds a helper resource which converts an string input into a\nmap that can be used elsewhere in the template. This is used in the\ncisco ml2 template to convert json data returned by one of the Software\ndeployments back into a map to be outputed as json in the hiera file.\n\nChange-Id: I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5\n'}, {'number': 3, 'created': '2018-10-01 11:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98de082e2fb8462d3c5e51e69bfceeafe9c0e61c', 'message': 'Add helper resource for converting string to map\n\nThis patch adds a helper resource which converts an string input into a\nmap that can be used elsewhere in the template. This is used in the\ncisco ml2 template to convert json data returned by one of the Software\ndeployments back into a map to be outputed as json in the hiera file.\n\nChange-Id: I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5\n'}, {'number': 4, 'created': '2018-10-30 10:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6baeea2fd33a1c852dabab58b0c39482cb042e4b', 'message': 'Add helper resource for converting string to map\n\nThis patch adds a helper resource which converts an string input into a\nmap that can be used elsewhere in the template. This is used in the\ncisco ml2 template to convert json data returned by one of the Software\ndeployments back into a map to be outputed as json in the hiera file.\n\nChange-Id: I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5\n'}, {'number': 5, 'created': '2019-02-05 14:26:19.000000000', 'files': ['common/stringtomap.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9546e8b7bb674c6b85b6df28cb3defaa2e400d00', 'message': 'Add helper resource for converting string to map\n\nThis patch adds a helper resource which converts an string input into a\nmap that can be used elsewhere in the template. This is used in the\ncisco ml2 template to convert json data returned by one of the Software\ndeployments back into a map to be outputed as json in the hiera file.\n\nChange-Id: I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5\n'}]",0,600713,9546e8b7bb674c6b85b6df28cb3defaa2e400d00,20,5,5,6637,,,0,"Add helper resource for converting string to map

This patch adds a helper resource which converts an string input into a
map that can be used elsewhere in the template. This is used in the
cisco ml2 template to convert json data returned by one of the Software
deployments back into a map to be outputed as json in the hiera file.

Change-Id: I69cd24c9e6be2ba82a3f058fdf2348a4d6c702c5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/600713/5 && git format-patch -1 --stdout FETCH_HEAD,"['common/stringtomap.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml']",3,c9de29d8ee1354a91beddcd36a433ff8fbfeed34,," ParseModifiedNexusConfig: type: OS::TripleO::StringToMap properties: data: {get_attr: [MappingToNexusDeploymentsController, deploy_stdout]} NexusConfig: {get_attr: [ParseModifiedNexusConfig, converted]}"," NexusConfig: {get_attr: [MappingToNexusDeploymentsController, deploy_stdout]}",19,1
openstack%2Ftripleo-heat-templates~master~I87a23176106ec166905cb5be51829717247afd30,openstack/tripleo-heat-templates,master,I87a23176106ec166905cb5be51829717247afd30,Add force option to ipaclient service,ABANDONED,2019-03-26 15:39:23.000000000,2020-08-06 21:54:03.000000000,,"[{'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-26 15:39:23.000000000', 'files': ['extraconfig/services/ipaclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9706b31d4cd6cbae1b9915a7e946565b50ff677', 'message': 'Add force option to ipaclient service\n\nSometimes eg. when domain and realm do not match, we need to\nadd --force to the ipaclient install.  This provides an option to\ndo that.\n\nChange-Id: I87a23176106ec166905cb5be51829717247afd30\n'}]",1,647779,b9706b31d4cd6cbae1b9915a7e946565b50ff677,6,5,1,9914,,,0,"Add force option to ipaclient service

Sometimes eg. when domain and realm do not match, we need to
add --force to the ipaclient install.  This provides an option to
do that.

Change-Id: I87a23176106ec166905cb5be51829717247afd30
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/647779/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/ipaclient.yaml'],1,b9706b31d4cd6cbae1b9915a7e946565b50ff677,add_force_option_to_ipaclient," IPAClientForceInstall: type: boolean description: Whether to add --force to the ipaclient install. default: false force_install: {get_param: IPAClientForceInstall} OPTS=""-U -w $otp --hostname $fqdn"" if [ {{ force_install }} ]; then OPTS=""$OPTS --force"" fi "," OPTS=""-U -w $otp"" if [ $hostname != $fqdn ]; then OPTS=""$OPTS --hostname $fqdn"" fi",10,4
openstack%2Ftripleo-heat-templates~master~I5e923f4e099d670028276d711717d82ee05af3ee,openstack/tripleo-heat-templates,master,I5e923f4e099d670028276d711717d82ee05af3ee,Let openshift-ansible manage openvswitch,ABANDONED,2018-12-10 08:55:00.000000000,2020-08-06 21:54:01.000000000,,"[{'_account_id': 7144}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-10 08:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2282231ce16b10f54f2723beb590a389b2df6d0', 'message': 'WIP Use openshift-ansible deployed ovs\n\nChange-Id: I5e923f4e099d670028276d711717d82ee05af3ee\n'}, {'number': 2, 'created': '2018-12-11 08:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8791f3f73a2c0f13b579dbf350a8cdee377eaaab', 'message': ""Let openshift-ansible manage openvswitch\n\nThere are a couple of issues with having tripleo run openvswitch on\nbaremetal for openshift:\n\n1/ OCP tested integration matrix [1] states 3.11 was tested agains OVS\n2.9 while we ship OVS 2.10 on the overcloud images that get used for\nthe baremetal provisioning\n\n2/ It doesn't follow the openshift-ansible default which run OVS inside\ncontainers.\n\n[1] https://access.redhat.com/articles/2176281\n\nCloses-Bug: #1807745\nChange-Id: I5e923f4e099d670028276d711717d82ee05af3ee\n""}, {'number': 3, 'created': '2018-12-13 12:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ca1eb570f80dc87143f2cc93ead4fbb31682d93', 'message': ""Let openshift-ansible manage openvswitch\n\nThere are a couple of issues with having tripleo run openvswitch on\nbaremetal for openshift:\n\n1/ OCP tested integration matrix [1] states 3.11 was tested agains OVS\n2.9 while we ship OVS 2.10 on the overcloud images that get used for\nthe baremetal provisioning\n\n2/ It doesn't follow the openshift-ansible default which run OVS inside\ncontainers.\n\n[1] https://access.redhat.com/articles/2176281\n\nCloses-Bug: #1807745\nChange-Id: I5e923f4e099d670028276d711717d82ee05af3ee\n""}, {'number': 4, 'created': '2019-01-25 16:17:13.000000000', 'files': ['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-worker.yaml', 'extraconfig/services/openshift-infra.yaml', 'extraconfig/services/openshift-node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70b5ad13ac9fc64a7caa35c899c50210a8f1ae0f', 'message': ""Let openshift-ansible manage openvswitch\n\nThere are a couple of issues with having tripleo run openvswitch on\nbaremetal for openshift:\n\n1/ OCP tested integration matrix [1] states 3.11 was tested agains OVS\n2.9 while we ship OVS 2.10 on the overcloud images that get used for\nthe baremetal provisioning\n\n2/ It doesn't follow the openshift-ansible default which run OVS inside\ncontainers.\n\n[1] https://access.redhat.com/articles/2176281\n\nCloses-Bug: #1807745\nDepends-On: I3c7d3d90b3ad405ab28ff2fe5b1132e51075f449\nChange-Id: I5e923f4e099d670028276d711717d82ee05af3ee\n""}]",5,624021,70b5ad13ac9fc64a7caa35c899c50210a8f1ae0f,25,7,4,13039,,,0,"Let openshift-ansible manage openvswitch

There are a couple of issues with having tripleo run openvswitch on
baremetal for openshift:

1/ OCP tested integration matrix [1] states 3.11 was tested agains OVS
2.9 while we ship OVS 2.10 on the overcloud images that get used for
the baremetal provisioning

2/ It doesn't follow the openshift-ansible default which run OVS inside
containers.

[1] https://access.redhat.com/articles/2176281

Closes-Bug: #1807745
Depends-On: I3c7d3d90b3ad405ab28ff2fe5b1132e51075f449
Change-Id: I5e923f4e099d670028276d711717d82ee05af3ee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/624021/4 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-worker.yaml', 'extraconfig/services/openshift-infra.yaml', 'extraconfig/services/openshift-node.yaml']",4,e2282231ce16b10f54f2723beb590a389b2df6d0,bug/1807745, host_prep_tasks: - name: Disable ovs service: name: openvswitch enabled: no state: stopped,,12,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0e376d99adeaa318118833018be81491c6b14095,openstack/tripleo-heat-templates,stable/queens,I0e376d99adeaa318118833018be81491c6b14095,Do not enable Ram/Disk Filter with filter_scheduler,ABANDONED,2018-12-18 18:24:07.000000000,2020-08-06 21:53:53.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11604}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 21794}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29068}]","[{'number': 1, 'created': '2018-12-18 18:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6abd11788b677cb976e014bd147f7f850e616f1', 'message': 'Do not enable Ram/Disk Filter with filter_scheduler\n\nCore/Ram/Disk Filters are not required when using filter_scheduler.\n\nAfter https://review.openstack.org/#/c/565841 when using these\nFilters nova is not scheduling to the ironic nodes and overcloud\ndeployment fails.\nFor now just testing the undercloud, good to see what scheduler/filters\nare being enabled in overcloud and reflect there as well.\n\nRelated-Bug: #1787910\nDepends-On: Ia82f1c6be0d5504498e77a90268cad8abecdeae2\nChange-Id: I0e376d99adeaa318118833018be81491c6b14095\n(cherry picked from commit 04b235652b44701b8703f63aee10fac6fad13ced)\n(cherry picked from commit 49916c09216479a8dd54e55b4c6e86dae8246fa3)\n'}, {'number': 2, 'created': '2019-05-29 13:19:10.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f3a29e44e89ef56ede8b8ba940029e362fc7575', 'message': 'Do not enable Ram/Disk Filter with filter_scheduler\n\nCore/Ram/Disk Filters are not required when using filter_scheduler.\n\nAfter https://review.openstack.org/#/c/565841 when using these\nFilters nova is not scheduling to the ironic nodes and overcloud\ndeployment fails.\nFor now just testing the undercloud, good to see what scheduler/filters\nare being enabled in overcloud and reflect there as well.\n\nRelated-Bug: #1787910\nChange-Id: I0e376d99adeaa318118833018be81491c6b14095\n(cherry picked from commit 04b235652b44701b8703f63aee10fac6fad13ced)\n(cherry picked from commit 49916c09216479a8dd54e55b4c6e86dae8246fa3)\n'}]",1,625983,4f3a29e44e89ef56ede8b8ba940029e362fc7575,19,10,2,21794,,,0,"Do not enable Ram/Disk Filter with filter_scheduler

Core/Ram/Disk Filters are not required when using filter_scheduler.

After https://review.openstack.org/#/c/565841 when using these
Filters nova is not scheduling to the ironic nodes and overcloud
deployment fails.
For now just testing the undercloud, good to see what scheduler/filters
are being enabled in overcloud and reflect there as well.

Related-Bug: #1787910
Change-Id: I0e376d99adeaa318118833018be81491c6b14095
(cherry picked from commit 04b235652b44701b8703f63aee10fac6fad13ced)
(cherry picked from commit 49916c09216479a8dd54e55b4c6e86dae8246fa3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/625983/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,a6abd11788b677cb976e014bd147f7f850e616f1,bug/1787910-stable/rocky-stable/queens," NovaSchedulerDefaultFilters: ['RetryFilter', 'TripleOCapabilitiesFilter', 'ComputeCapabilitiesFilter', 'AvailabilityZoneFilter', 'ComputeFilter', 'ImagePropertiesFilter', 'ServerGroupAntiAffinityFilter', 'ServerGroupAffinityFilter']"," NovaSchedulerDefaultFilters: ['RetryFilter', 'TripleOCapabilitiesFilter', 'ComputeCapabilitiesFilter', 'AvailabilityZoneFilter', 'RamFilter', 'DiskFilter', 'ComputeFilter', 'ImagePropertiesFilter', 'ServerGroupAntiAffinityFilter', 'ServerGroupAffinityFilter']",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7325da5fd7d49b39e6d7ea70b8cfcc4528bf882f,openstack/tripleo-heat-templates,stable/train,I7325da5fd7d49b39e6d7ea70b8cfcc4528bf882f,Removing container CLI setting,ABANDONED,2019-11-01 21:21:02.000000000,2020-08-06 21:53:52.000000000,,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 21:21:02.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c63d566376720a2c5b3b09f22784744d4cc174e9', 'message': 'Removing container CLI setting\n\nChange-Id: I7325da5fd7d49b39e6d7ea70b8cfcc4528bf882f\n'}]",0,692618,c63d566376720a2c5b3b09f22784744d4cc174e9,5,4,1,6681,,,0,"Removing container CLI setting

Change-Id: I7325da5fd7d49b39e6d7ea70b8cfcc4528bf882f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/692618/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-multinode-containers.yaml'],1,c63d566376720a2c5b3b09f22784744d4cc174e9,octavia-ci-train,, # Remove ContainerCli once this scenario is tested on CentOS8 ContainerCli: docker,0,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7a697c662c611c1319bb2b78a4a12045ffba73f3,openstack/tripleo-heat-templates,stable/train,I7a697c662c611c1319bb2b78a4a12045ffba73f3,Disable pxe_tftp systemd services during upgrade,ABANDONED,2019-11-29 12:05:52.000000000,2020-08-06 21:53:51.000000000,,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 12:05:52.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f532b9fb382cfc0ec13f8fbb9285c49d455b3fb4', 'message': 'Disable pxe_tftp systemd services during upgrade\n\nChange-Id: I7a697c662c611c1319bb2b78a4a12045ffba73f3\n'}]",0,696689,f532b9fb382cfc0ec13f8fbb9285c49d455b3fb4,5,4,1,16515,,,0,"Disable pxe_tftp systemd services during upgrade

Change-Id: I7a697c662c611c1319bb2b78a4a12045ffba73f3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/696689/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-pxe-container-puppet.yaml'],1,f532b9fb382cfc0ec13f8fbb9285c49d455b3fb4,fix/pxe/tftp/upgrade-stable/train," - name: Check if ironic_pxe_tftp is enabled command: systemctl is-enabled --quiet ironic_pxe_tftp ignore_errors: True register: ironic_pxe_tftp_enabled_result - name: Set fact ironic_pxe_tftp_enabled set_fact: ironic_pxe_tftp_enabled: ""{{ ironic_pxe_tftp_enabled_result.rc == 0 }}"" - name: Stop ironic_pxe_tftp service when: - step|int == 1 - ironic_pxe_tftp_enabled_result|bool service: name=ironic_pxe_tftp state=stopped enabled=no ",,13,0
openstack%2Ftripleo-heat-templates~master~I0e6c00e181dda9c89e4a5dc9cf5421793073fc64,openstack/tripleo-heat-templates,master,I0e6c00e181dda9c89e4a5dc9cf5421793073fc64,Add AddToUndercloudEtcHosts parameter,ABANDONED,2019-10-22 19:18:12.000000000,2020-08-06 21:53:49.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-22 19:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fe272b16704a373bbda7366c8c575a06f57d2fd', 'message': ""Add AddToUndercloudEtcHosts parameter\n\nThe AddToUndercloudEtcHosts parameter controls whether the same entries\nthat are added to the Overcloud's nodes /etc/hosts file are also added\nto the Undercloud's /etc/hosts.\n\nIn environments where there is no DNS present, previously this was a\nmanual step having to use the HostsEntry stack output. Instead, when\nthis parameter is set to true, which is the default, the adding of the\nlines to /etc/hosts will be done automatically by ansible.\n\nChange-Id: I0e6c00e181dda9c89e4a5dc9cf5421793073fc64\n""}, {'number': 2, 'created': '2019-11-05 14:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1488e7bc17ac44c19dce6a54da14ca7d9b2c9382', 'message': ""Add AddToUndercloudEtcHosts parameter\n\nThe AddToUndercloudEtcHosts parameter controls whether the same entries\nthat are added to the Overcloud's nodes /etc/hosts file are also added\nto the Undercloud's /etc/hosts.\n\nIn environments where there is no DNS present, previously this was a\nmanual step having to use the HostsEntry stack output. Instead, when\nthis parameter is set to true, which is the default, the adding of the\nlines to /etc/hosts will be done automatically by ansible.\n\nChange-Id: I0e6c00e181dda9c89e4a5dc9cf5421793073fc64\n""}, {'number': 3, 'created': '2019-11-05 14:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b40ab2df9a4a2de2d4fb610d1e27a9b1f99f2e06', 'message': ""Add AddToUndercloudEtcHosts parameter\n\nThe AddToUndercloudEtcHosts parameter controls whether the same entries\nthat are added to the Overcloud's nodes /etc/hosts file are also added\nto the Undercloud's /etc/hosts.\n\nIn environments where there is no DNS present, previously this was a\nmanual step having to use the HostsEntry stack output. Instead, when\nthis parameter is set to true, which is the default, the adding of the\nlines to /etc/hosts will be done automatically by ansible.\n\nChange-Id: I0e6c00e181dda9c89e4a5dc9cf5421793073fc64\n""}, {'number': 4, 'created': '2019-11-14 16:29:57.000000000', 'files': ['releasenotes/notes/add-to-undercloud-etc-hosts-6385c33b6622d934.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/745ca069c724f7227774ac85b255c9cdc83461e0', 'message': ""Add AddToUndercloudEtcHosts parameter\n\nThe AddToUndercloudEtcHosts parameter controls whether the same entries\nthat are added to the Overcloud's nodes /etc/hosts file are also added\nto the Undercloud's /etc/hosts.\n\nIn environments where there is no DNS present, previously this was a\nmanual step having to use the HostsEntry stack output. Instead, when\nthis parameter is set to true, which is the default, the adding of the\nlines to /etc/hosts will be done automatically by ansible.\n\nChange-Id: I0e6c00e181dda9c89e4a5dc9cf5421793073fc64\n""}]",0,690357,745ca069c724f7227774ac85b255c9cdc83461e0,39,5,4,7144,,,0,"Add AddToUndercloudEtcHosts parameter

The AddToUndercloudEtcHosts parameter controls whether the same entries
that are added to the Overcloud's nodes /etc/hosts file are also added
to the Undercloud's /etc/hosts.

In environments where there is no DNS present, previously this was a
manual step having to use the HostsEntry stack output. Instead, when
this parameter is set to true, which is the default, the adding of the
lines to /etc/hosts will be done automatically by ansible.

Change-Id: I0e6c00e181dda9c89e4a5dc9cf5421793073fc64
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/690357/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-to-undercloud-etc-hosts-6385c33b6622d934.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2']",3,5fe272b16704a373bbda7366c8c575a06f57d2fd,690357," AddToUndercloudEtcHosts: type: boolean default: true description: > Boolean of whether to add Overcloud hosts entries to the Undercloud's /etc/hosts. Defaults to true. add_to_undercloud_etc_hosts: {get_param: AddToUndercloudEtcHosts} - name: Configure Hosts Entries include_role: name: tripleo-hosts-entries vars: tripleo_hosts_entries_extra_hosts_entries: {{ '""{{ ' }} extra_hosts_entries {{ ' }}""' }} tripleo_hosts_entries_vip_hosts_entries: {{ '""{{ ' }} vip_hosts_entries {{ ' }}""' }} when: add_to_undercloud_etc_hosts|bool",,28,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,openstack/tripleo-heat-templates,stable/rocky,I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,WIP: Switch Octavia external tasks to 'post deploy',ABANDONED,2019-11-07 13:42:46.000000000,2020-08-06 21:53:48.000000000,,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 13:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de0b273f2da32df4d1b14bad5aea289f5c404967', 'message': ""WIP: Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\nTODO: needs a bz if there isn't one already.\n""}, {'number': 2, 'created': '2019-11-07 17:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dc90230a8620122a3bfaac9f204c3609369ed37', 'message': ""WIP: Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\nTODO: needs a bz if there isn't one already.\n""}, {'number': 3, 'created': '2019-11-08 16:57:40.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6525c1dc1e1a5575e63eadb9508fcb40fe66758', 'message': ""WIP: Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\nTODO: needs a bz if there isn't one already.\n""}]",0,693354,d6525c1dc1e1a5575e63eadb9508fcb40fe66758,12,5,3,6681,,,0,"WIP: Switch Octavia external tasks to 'post deploy'

Octavia needs certain core components to be fully functional and this
isn't the case for some configurations until *after* step 5.

Change-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb
TODO: needs a bz if there isn't one already.
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/693354/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,de0b273f2da32df4d1b14bad5aea289f5c404967,rocky, external_post_deploy_tasks:, external_deploy_tasks:,1,1
openstack%2Freleases~master~If1a12ab4a40d5e566903b3ca208a5fa5367d30df,openstack/releases,master,If1a12ab4a40d5e566903b3ca208a5fa5367d30df,Release neutron-lib 2.5.0,MERGED,2020-08-06 07:09:28.000000000,2020-08-06 21:53:43.000000000,2020-08-06 21:53:43.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 07:09:28.000000000', 'files': ['deliverables/victoria/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bf9e35d5fff254456839c1aab250334de1c5df90', 'message': 'Release neutron-lib 2.5.0\n\nChange-Id: If1a12ab4a40d5e566903b3ca208a5fa5367d30df\n'}]",0,745078,bf9e35d5fff254456839c1aab250334de1c5df90,11,6,1,11975,,,0,"Release neutron-lib 2.5.0

Change-Id: If1a12ab4a40d5e566903b3ca208a5fa5367d30df
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/745078/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/neutron-lib.yaml'],1,bf9e35d5fff254456839c1aab250334de1c5df90,new-neutron-lib-release, - version: 2.5.0 projects: - repo: openstack/neutron-lib hash: 821e559dbf0548c49d6fc5a7923aee20c3cad361,,4,0
openstack%2Ftripleo-heat-templates~master~I6476b65be25a4cb97abb0ddec9ec440e2acaecb3,openstack/tripleo-heat-templates,master,I6476b65be25a4cb97abb0ddec9ec440e2acaecb3,Configure sshd using tripleo-ansible,ABANDONED,2019-08-09 22:18:11.000000000,2020-08-06 21:53:43.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-09 22:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9c158560f09944cee16b8daeadf27a87db6ac6a', 'message': 'WIP: Configure sshd using tripleo-ansible\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 2, 'created': '2019-08-13 17:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4322d9ce7dbc8765a9d84ebea27ca9a02ea4185e', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 3, 'created': '2019-08-13 17:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc78a6af54f3f97878c7539f500696452c7c7a49', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 4, 'created': '2019-08-16 21:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c13276bffbd5c7615cd376b8db34d2fce60bb209', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 5, 'created': '2019-09-04 01:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc13a5927aa8b95ea5c3e1532841e337c6531e9b', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 6, 'created': '2019-09-04 01:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f08c2a2a7fe19512757b08be3f0abc92296a72c6', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 7, 'created': '2019-09-04 01:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cfc52dab4998d6f720899c4a6857ffac7bb45af', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 8, 'created': '2019-09-04 23:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83c6b8d816de5a525e0d121bb92d44a81d35b860', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 9, 'created': '2019-09-05 18:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a460769afdea8eb6ad3934c83bf71b6750ce8d7', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 10, 'created': '2019-09-06 20:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca0a261f7853c836dfc9aef3b7941310e137500d', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 11, 'created': '2019-09-09 13:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c72ea126e8220fa7401482c290b69c4c305a16a', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 12, 'created': '2019-09-11 13:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73ad0834ad3408f3cfe0314df425d8de7bdea7ce', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 13, 'created': '2019-09-25 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c29c258539335930be49236ccaa5c529c16ee240', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 14, 'created': '2020-01-15 19:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3df6d5d758b36feb1b78dbc920465613a0695baa', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 15, 'created': '2020-01-16 21:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e1f4d8ad52f4f7202ea411093cfb0ea511ca9a7', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nDepends-On: Ibf06ec25e4fea4faaa4534a48d62aa68b0a642a6\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\n'}, {'number': 16, 'created': '2020-01-16 21:37:46.000000000', 'files': ['sample-env-generator/standalone.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/deprecated/sshd/sshd-baremetal-puppet.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/672b8c846287a30274a4c66601f6970b8f6cc2d3', 'message': 'Configure sshd using tripleo-ansible\n\nThe sshd heat template has been converted to use\nthe related tripleo-ansible role.\n\nStory: 2006023\nTask: 34632\n\nChange-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3\nDepends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3\nDepends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525\nDepends-On: Ibf06ec25e4fea4faaa4534a48d62aa68b0a642a6\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",22,675708,672b8c846287a30274a4c66601f6970b8f6cc2d3,68,7,16,25877,,,0,"Configure sshd using tripleo-ansible

The sshd heat template has been converted to use
the related tripleo-ansible role.

Story: 2006023
Task: 34632

Change-Id: I6476b65be25a4cb97abb0ddec9ec440e2acaecb3
Depends-On: Ic6d7462d82c9811e95aedf90b7a9d92700f2ebe3
Depends-On: I1af1b95ede5f2ed61126ef345d4c87d950fa2525
Depends-On: Ibf06ec25e4fea4faaa4534a48d62aa68b0a642a6
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/675708/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/sshd/sshd-baremetal-puppet.yaml'],1,e9c158560f09944cee16b8daeadf27a87db6ac6a,THT2TA, host_prep_tasks: - name: Run firewall role include_role: name: tripleo-firewall vars: tripleo_firewall_rules: '22 ssh': proto: tcp dport: - 22 - name: Import TripleO SSH daemon role import_role: name: tripleo_sshd, config_settings: map_merge: - tripleo::profile::base::sshd::bannertext: {get_param: BannerText} tripleo::profile::base::sshd::motd: {get_param: MessageOfTheDay} tripleo::profile::base::sshd::options: {get_param: SshServerOptions} tripleo::profile::base::sshd::password_authentication: {get_param: PasswordAuthentication} - if: - {get_param: SshFirewallAllowAll} - tripleo::sshd::firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 - tripleo::sshd::firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 extras: ensure: 'absent' step_config: | include ::tripleo::profile::base::sshd,13,20
openstack%2Ftripleo-heat-templates~master~I749503ac0bc0afccbd8fba03e0495974b0316b41,openstack/tripleo-heat-templates,master,I749503ac0bc0afccbd8fba03e0495974b0316b41,Use dogpile.cache.memory by default,ABANDONED,2019-02-21 14:21:34.000000000,2020-08-06 21:53:42.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8866}, {'_account_id': 9098}, {'_account_id': 11166}, {'_account_id': 11589}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-02-21 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63731c218f4cf9bdb3f3133e0b16fc811a13a715', 'message': 'Use dogpile.cache.memory by default\n\nChange-Id: I749503ac0bc0afccbd8fba03e0495974b0316b41\n'}, {'number': 2, 'created': '2019-02-21 14:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0714e631cdb9d2274bc13a270fcbd10f29a7682c', 'message': 'Use dogpile.cache.memory by default\n\nChange-Id: I749503ac0bc0afccbd8fba03e0495974b0316b41\n'}, {'number': 3, 'created': '2019-03-22 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53129ca046f91faec29f27a3034bc0e52409a507', 'message': ""Use dogpile.cache.memory by default\n\nThere is no point in using localhost memcached on undercloud when\nwe can just directly use memory. Also by default we don't cache -\nit's better to at least cache in memory.\n\nChange-Id: I749503ac0bc0afccbd8fba03e0495974b0316b41\n""}, {'number': 4, 'created': '2019-03-22 16:49:21.000000000', 'files': ['environments/undercloud.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/718d5aedc854f52df1f3fe40b01907f63efcdc3e', 'message': ""Use dogpile.cache.memory by default\n\nThere is no point in using localhost memcached on undercloud when\nwe can just directly use memory. Also by default we don't cache -\nit's better to at least cache in memory.\n\nChange-Id: I749503ac0bc0afccbd8fba03e0495974b0316b41\n""}]",1,638425,718d5aedc854f52df1f3fe40b01907f63efcdc3e,24,10,4,11166,,,0,"Use dogpile.cache.memory by default

There is no point in using localhost memcached on undercloud when
we can just directly use memory. Also by default we don't cache -
it's better to at least cache in memory.

Change-Id: I749503ac0bc0afccbd8fba03e0495974b0316b41
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/638425/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'puppet/services/nova-base.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",3,63731c218f4cf9bdb3f3133e0b16fc811a13a715,, keystone::cahce::enabled: true keystone::cache::backend: 'dogpile.cache.memory',,6,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I5cba0e8775b4c40e6fc86210c3ad750d9e24077f,openstack/tripleo-heat-templates,stable/pike,I5cba0e8775b4c40e6fc86210c3ad750d9e24077f,DO-NOT-MERGE Test new ceph-ansible builds (OSP pike),ABANDONED,2018-01-11 17:15:30.000000000,2020-08-06 21:53:40.000000000,,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-11 17:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fef6ea623cac862b3af4c3d7c11c4a073fb45fd', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP pike)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 2, 'created': '2018-02-13 12:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d658d6dd2adf3908cbc15e2cd51faefd6e5d781d', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP pike)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 3, 'created': '2018-03-22 09:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/977c34a39e87f1bfb115720b704b8a2b8c476757', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP pike)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 4, 'created': '2018-04-12 09:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65282d4a1c5873dd0e25a27d8264f592bdfdcff2', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP pike)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 5, 'created': '2019-05-03 09:22:35.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64552b3b69c34b4aa086c095b9b0afd782fec7f4', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP pike)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}]",1,532914,64552b3b69c34b4aa086c095b9b0afd782fec7f4,36,5,5,6796,,,0,"DO-NOT-MERGE Test new ceph-ansible builds (OSP pike)

Change-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f
Depends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/532914/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,4fef6ea623cac862b3af4c3d7c11c4a073fb45fd,storage-sig-testing-stable/pike, Ceph base service. With lots of love., Ceph base service. Shared by all Ceph services.,1,1
openstack%2Ftripleo-heat-templates~master~I06099cf2b1ccdaf23e1c78b639ac3ce8c6180553,openstack/tripleo-heat-templates,master,I06099cf2b1ccdaf23e1c78b639ac3ce8c6180553,Remove pre_upgrade_rolling_tasks,ABANDONED,2019-06-04 13:11:34.000000000,2020-08-06 21:53:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 13:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0710b30b505cd27b50862138d3b12cacb70c5d7f', 'message': 'Remove pre_upgrade_rolling_tasks\n\nThe pre_upgrade_rolling_tasks were supposed to be used by neutron\nbut we ended up not putting anything there. We should just clean\nthis dead code away.\n\nChange-Id: I06099cf2b1ccdaf23e1c78b639ac3ce8c6180553\n'}, {'number': 2, 'created': '2019-06-07 10:18:42.000000000', 'files': ['releasenotes/notes/pre_upgrade_rolling_tasks-a9372d04b103fca7.yaml', 'common/deploy-steps.j2', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'deployment/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddf089dead1e19e436a628b102c62a54307078b4', 'message': 'Remove pre_upgrade_rolling_tasks\n\nThe pre_upgrade_rolling_tasks were supposed to be used by neutron\nbut we ended up not putting anything there. We should just clean\nthis dead code away.\n\nChange-Id: I06099cf2b1ccdaf23e1c78b639ac3ce8c6180553\n'}]",2,663026,ddf089dead1e19e436a628b102c62a54307078b4,12,7,2,11166,,,0,"Remove pre_upgrade_rolling_tasks

The pre_upgrade_rolling_tasks were supposed to be used by neutron
but we ended up not putting anything there. We should just clean
this dead code away.

Change-Id: I06099cf2b1ccdaf23e1c78b639ac3ce8c6180553
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/663026/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pre_upgrade_rolling_tasks-a9372d04b103fca7.yaml', 'common/deploy-steps.j2', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'deployment/README.rst']",5,0710b30b505cd27b50862138d3b12cacb70c5d7f,cleanup,,"Pre-upgrade Rolling Steps ------------------------- Each service template may optionally define a `pre_upgrade_rolling_tasks` key, which is a list of ansible tasks to be performed before the main upgrade phase, and these tasks are executed in a node-by-node rolling manner on the overcloud, similarly as `update_tasks`. ",5,55
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icb415f6ac379e757edfe6dd73f80484a6697d152,openstack/tripleo-heat-templates,stable/queens,Icb415f6ac379e757edfe6dd73f80484a6697d152,Don't mount data folder,ABANDONED,2018-12-06 21:17:44.000000000,2020-08-06 21:53:37.000000000,,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 19494}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-12-06 21:17:44.000000000', 'files': ['docker/services/opendaylight-api.yaml', 'releasenotes/notes/odl-dont-mount-data-folder-c993df185af375a8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9da11c9ceee0aeec1af1dcb8d3d5fc63c37e1ce1', 'message': 'Don\'t mount data folder\n\n""data"" folder mounted on host sometimes makes ODL\nbelieve that it has boot features installed. So ODL\ndoesnot generate required files.\n\nSo don\'t mount that folder so that ODL can boot\nproperly on restart.\n\nCloses-Bug: #1805859\n\nChange-Id: Icb415f6ac379e757edfe6dd73f80484a6697d152\n(cherry picked from commit e9525d3a7d6b4c0696d2101602b0fb01a680fef3)\n'}]",0,623324,9da11c9ceee0aeec1af1dcb8d3d5fc63c37e1ce1,21,9,1,19494,,,0,"Don't mount data folder

""data"" folder mounted on host sometimes makes ODL
believe that it has boot features installed. So ODL
doesnot generate required files.

So don't mount that folder so that ODL can boot
properly on restart.

Closes-Bug: #1805859

Change-Id: Icb415f6ac379e757edfe6dd73f80484a6697d152
(cherry picked from commit e9525d3a7d6b4c0696d2101602b0fb01a680fef3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/623324/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/opendaylight-api.yaml', 'releasenotes/notes/odl-dont-mount-data-folder-c993df185af375a8.yaml']",2,9da11c9ceee0aeec1af1dcb8d3d5fc63c37e1ce1,bug/1805859,--- fixes: - | /opt/opendaylight/data folder is mounted on host. This folder contains information about installed features in ODL. Mounting this folder on container makes ODL believe that features are installed and it doesnot generate required for proper boot. Thus this folder is no longer mounted to host so that ODL can boot properly on restart.,,14,8
openstack%2Ftripleo-heat-templates~master~I1e330dc674a675b968ac1b2d89401f2a3faf6c09,openstack/tripleo-heat-templates,master,I1e330dc674a675b968ac1b2d89401f2a3faf6c09,To disable admin_token in keystone.conf,ABANDONED,2019-06-17 07:05:46.000000000,2020-08-06 21:53:29.000000000,,"[{'_account_id': 2874}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-17 07:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/016a3dc1bfde8d08787b75a5bdcfe62ad150d90e', 'message': ""To disable admin_token in keystone.conf\n\nAside from these change in the patch, the setting in environment\nfile is needed:\n  ControllerExtraConfig:\n    keystone::admin_token: '<SERVICE DEFAULT>'\n\nChange-Id: I1e330dc674a675b968ac1b2d89401f2a3faf6c09\nCloses-bug: #1832937\n""}, {'number': 2, 'created': '2019-06-17 07:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42463fe77a73f6dcc6642b0593e7c5aef0a2dfd1', 'message': ""To disable admin_token in keystone.conf\n\nAside from these change in the patch, the setting in environment\nfile is needed:\n  ControllerExtraConfig:\n    keystone::admin_token: '<SERVICE DEFAULT>'\n\nChange-Id: I1e330dc674a675b968ac1b2d89401f2a3faf6c09\nCloses-bug: #1832937\n""}, {'number': 3, 'created': '2019-06-17 07:43:41.000000000', 'files': ['common/container-puppet.py', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0476ce0d4eb661f8bf4c2bc7c24326cc2a3da93', 'message': ""To disable admin_token in keystone.conf\n\nAside from these change in the patch, the setting in environment\nfile is needed:\n  ControllerExtraConfig:\n    keystone::admin_token: '<SERVICE DEFAULT>'\n\nChange-Id: I1e330dc674a675b968ac1b2d89401f2a3faf6c09\nCloses-bug: #1832937\n""}]",5,665596,d0476ce0d4eb661f8bf4c2bc7c24326cc2a3da93,13,6,3,2874,,,0,"To disable admin_token in keystone.conf

Aside from these change in the patch, the setting in environment
file is needed:
  ControllerExtraConfig:
    keystone::admin_token: '<SERVICE DEFAULT>'

Change-Id: I1e330dc674a675b968ac1b2d89401f2a3faf6c09
Closes-bug: #1832937
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/665596/3 && git format-patch -1 --stdout FETCH_HEAD,"['common/container-puppet.py', 'deployment/keystone/keystone-container-puppet.yaml']",2,016a3dc1bfde8d08787b75a5bdcfe62ad150d90e,bug/1832937," [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword}, '--bootstrap-region-id', {get_param: KeystoneRegion} , '--bootstrap-admin-url', {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}, '--bootstrap-service-name', 'keystone', '--bootstrap-public-url', {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}, '--bootstrap-internal-url', {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} ]"," [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ]",25,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I789b083f097adc21b8416264bf45fed61e3e7333,openstack/tripleo-heat-templates,stable/rocky,I789b083f097adc21b8416264bf45fed61e3e7333,To disable admin_token in keystone.conf,ABANDONED,2019-06-17 07:32:58.000000000,2020-08-06 21:53:24.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-17 07:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ee76be34f95ff5155cf938d6427e2ea3c93a06a', 'message': ""To disable admin_token in keystone.conf\n\nAside from these change in the patch, the setting in environment\nfile is needed:\n  ControllerExtraConfig:\n    keystone::admin_token: '<SERVICE DEFAULT>'\n\nSince the master code changed lots, there is no way to abide the\ntraditionl way to do backport. The master patch review is:\nhttps://review.opendev.org/#/c/665596\n\nChange-Id: I789b083f097adc21b8416264bf45fed61e3e7333\nCloses-bug: #1832937\n""}, {'number': 2, 'created': '2019-06-17 07:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6da9dcd09d1faeda771d5a996c0bc42e34ffa6cf', 'message': ""To disable admin_token in keystone.conf\n\nAside from these change in the patch, the setting in environment\nfile is needed:\n  ControllerExtraConfig:\n    keystone::admin_token: '<SERVICE DEFAULT>'\n\nSince the master code changed lots, there is no way to abide the\ntraditionl way to do backport. The master patch review is:\nhttps://review.opendev.org/#/c/665596\n\nChange-Id: I789b083f097adc21b8416264bf45fed61e3e7333\nCloses-bug: #1832937\n""}, {'number': 3, 'created': '2019-06-17 07:49:48.000000000', 'files': ['docker/services/keystone.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cf333e0032753e70a7cbaf52cbbbd56ac69cac1', 'message': ""To disable admin_token in keystone.conf\n\nAside from these change in the patch, the setting in environment\nfile is needed:\n  ControllerExtraConfig:\n    keystone::admin_token: '<SERVICE DEFAULT>'\n\nSince the master code changed lots, there is no way to abide the\ntraditionl way to do backport. The master patch review is:\nhttps://review.opendev.org/#/c/665596\n\nChange-Id: I789b083f097adc21b8416264bf45fed61e3e7333\nCloses-bug: #1832937\n""}]",0,665602,4cf333e0032753e70a7cbaf52cbbbd56ac69cac1,7,4,3,2874,,,0,"To disable admin_token in keystone.conf

Aside from these change in the patch, the setting in environment
file is needed:
  ControllerExtraConfig:
    keystone::admin_token: '<SERVICE DEFAULT>'

Since the master code changed lots, there is no way to abide the
traditionl way to do backport. The master patch review is:
https://review.opendev.org/#/c/665596

Change-Id: I789b083f097adc21b8416264bf45fed61e3e7333
Closes-bug: #1832937
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/665602/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/keystone.yaml', 'docker/docker-puppet.py']",2,0ee76be34f95ff5155cf938d6427e2ea3c93a06a,bug/1832937," cat > ~/openrc.pp <<EOF class { 'openstack_extras::auth_file': password => hiera(""keystone::admin_password""), service_endpoint => hiera(""keystone::endpoint::public_url""), auth_url => hiera(""keystone::endpoint::public_url""), auth_type => ""password"", region_name => ""regionOne"", project_name => ""admin"", project_domain => 'Default', user_domain => 'Default', } EOF if [ ""${NAME}"" == ""keystone_init_tasks"" ]; then set +e # $::deployment_type in puppet-tripleo FACTER_hostname=$HOSTNAME /usr/bin/puppet apply --summarize \ --detailed-exitcodes --color=false --logdest syslog --logdest console --modulepath=/etc/puppet/modules:/usr/share/openstack-puppet/modules ~/openrc.pp rc=$? if [ $rc -ne 2 -a $rc -ne 0 ]; then exit $rc fi set -e fi",,24,1
openstack%2Ftripleo-heat-templates~master~Idf594bdb496a8a70592a73658c6ebb1a411c3632,openstack/tripleo-heat-templates,master,Idf594bdb496a8a70592a73658c6ebb1a411c3632,Move the template version to stein,ABANDONED,2019-01-09 10:10:16.000000000,2020-08-06 21:53:09.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-09 10:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/931c2a71cecc4447b3686166384a0d82a45ea126', 'message': 'Move the template version to stein\n\nWe should have up to date all the templates version\nto match the release.\n\nAlso updated the yaml validation script to change the version.\n\nChange-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632\n'}, {'number': 2, 'created': '2019-04-05 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/982bc220e0171648975b3cdcad54209eaa86469d', 'message': 'Move the template version to stein\n\nWe should have up to date all the templates version\nto match the release.\n\nAlso updated the yaml validation script to change the version.\n\nChange-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632\n'}, {'number': 3, 'created': '2019-04-19 08:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5c6d488a9cf1f221f2330d87c318650da2ab8b2', 'message': 'Move the template version to stein\n\nWe should have up to date all the templates version\nto match the release.\n\nAlso updated the yaml validation script to change the version.\n\nChange-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632\n'}, {'number': 4, 'created': '2019-04-19 09:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7555b23466013ec9daa45586a6b0fbcc389dd24', 'message': 'Move the template version to stein\n\nWe should have up to date all the templates version\nto match the release.\n\nAlso updated the yaml validation script to change the version.\n\nChange-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632\n'}, {'number': 5, 'created': '2019-05-13 07:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de31d6e12d096ef05f8ca331b35935df127a477a', 'message': 'Move the template version to stein\n\nWe should have up to date all the templates version\nto match the release.\n\nAlso updated the yaml validation script to change the version.\n\nChange-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632\n'}, {'number': 6, 'created': '2019-09-04 15:38:26.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml', 'deployment/veritas-hyperscale/veritas-hyperscale-controller-baremetal-puppet.yaml', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/swift/swift-base.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/neutron/neutron-plugin-nuage.yaml', 'net-config-static-bridge-with-external-dhcp.j2.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vmax-iscsi-puppet.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'hosts-config.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'firstboot/userdata_example.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/logging/stdout/neutron-common.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'network/ports/noop.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'deployment/database/redis-base-puppet.yaml', 'common/deploy-steps.j2', 'deployment/cinder/cinder-backend-scaleio-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'extraconfig/post_deploy/standalone_post.yaml', 'deployment/clients/openstack-clients-baremetal-puppet.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'deployment/deprecated/kernel/kernel-baremetal-puppet.yaml', 'firstboot/userdata_timesync.yaml', 'deployment/neutron/neutron-bgpvpn-bagpipe-baremetal-puppet.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'network/ports/net_ip_map.j2.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'network/network.j2', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/database/mysql-base.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-fujitsu-cfab.yaml', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'net-config-static.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'deployment/openvswitch/openvswitch-baremetal-puppet.yaml', 'deployment/neutron/neutron-l3-compute-dvr.yaml', 'deployment/barbican/barbican-backend-dogtag-puppet.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'deployment/deprecated/logging/fluentd-container-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/deprecated/aide/aide-baremetal-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vnx-puppet.yaml', 'deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'extraconfig/post_deploy/undercloud_post.yaml', 'net-config-linux-bridge.j2.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'firstboot/os-net-config-mappings.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'network/ports/vip.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/deprecated/neutron/neutron-sriov-host-config.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'network/ports/from_service_v6.yaml', 'deployment/login-defs/login-defs-baremetal.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'deployment/deprecated/monitoring/sensu-base.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/ipa/ipaclient-baremetal-ansible.yaml', 'deployment/tuned/tuned-baremetal-ansible.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'network/ports/vip_v6.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'puppet/extraconfig/tls/ca-inject.yaml', 'deployment/validations/tripleo-validations-baremetal-ansible.yaml', 'extraconfig/pre_network/host_config_and_reboot.yaml', 'ci/common/all-nodes-validation-disabled.yaml', 'network/ports/port.j2', 'network/config/bond-with-vlans/role.role.j2.yaml', 'extraconfig/all_nodes/swap-partition.j2.yaml', 'deployment/logging/stdout/nova-common.yaml', 'net-config-noop.j2.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'extraconfig/pre_network/boot-params-service.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/logging/files/panko-api.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-iscsi-puppet.yaml', 'deployment/neutron/neutron-compute-plugin-plumgrid.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'all-nodes-validation.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'deployment/deprecated/time/timezone-baremetal-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'extraconfig/all_nodes/swap.j2.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellsc-puppet.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'deployment/sahara/sahara-base.yaml', 'extraconfig/post_deploy/default.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'ci/common/net-config-multinode.yaml', 'deployment/deprecated/logging/fluentd-config.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'overcloud.j2.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'net-config-bridge.j2.yaml', 'network/ports/from_service.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/skydive/skydive-agent-baremetal-ansible.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/securetty/securetty-baremetal-puppet.yaml', 'puppet/extraconfig/pre_deploy/default.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'net-config-standalone.j2.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/neutron/neutron-bigswitch-agent-baremetal-puppet.yaml', 'extraconfig/post_deploy/example_run_on_update.yaml', 'net-config-undercloud.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'network/service_net_map.j2.yaml', 'tools/yaml-nic-config-2-script.py', 'deployment/logging/files/heat-api.yaml', 'extraconfig/post_deploy/example.yaml', 'deployed-server/deployed-server.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployed-server/deployed-neutron-port.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/pacemaker/ovn-dbs-baremetal-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'firstboot/userdata_default.yaml', 'deployed-server/deployed-server-bootstrap-centos.yaml', 'deployed-server/deployed-server-bootstrap-rhel.yaml', 'config-download-structured.yaml', 'deployment/cinder/cinder-backend-dellemc-unity-puppet.yaml', 'deployment/cinder/cinder-backend-veritas-hyperscale-puppet.yaml', 'firstboot/userdata_heat_admin.yaml', 'deployment/logging/files/keystone.yaml', 'net-config-static-bridge.j2.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml', 'ci/common/vbmc_setup.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/neutron/neutron-plugin-plumgrid.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/cinder/cinder-backend-dellps-puppet.yaml', 'ci/common/ironic_standalone_post.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'network/networks.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/skydive/skydive-analyzer-baremetal-ansible.yaml', 'deployment/glance/glance-api-logging-stdout-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'firstboot/conntectx3_streering.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'deployment/barbican/barbican-backend-simple-crypto-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/logging/stdout/panko-api.yaml', 'deployment/undercloud/minion-rabbitmq-puppet.yaml', 'deployment/deprecated/tuned/tuned-baremetal-puppet.yml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/swift/swift-dispersion-baremetal-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'puppet/extraconfig/pre_deploy/controller/multiple.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'network/ports/net_vip_map_external_v6.j2.yaml', 'deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'network/endpoints/build_endpoint_map.py', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'puppet/role.role.j2.yaml', 'deployment/cinder/cinder-hpelefthand-iscsi-puppet.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'deployment/logging/files/haproxy.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/time/ptp-baremetal-puppet.yaml', 'network/ports/ctlplane_vip.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'network/endpoints/endpoint_map.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/kubernetes/kubernetes-master-baremetal-ansible.yaml', 'firstboot/userdata_dev_rsync.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'deployment/neutron/neutron-plugin-ml2-fujitsu-fossw.yaml', 'ci/common/net-config-simple-bridge.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml', 'config-download-software.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'net-config-bond.j2.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/neutron/neutron-vpp-agent-baremetal-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/auditd/auditd-baremetal-puppet.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/certs/certmonger-user-baremetal-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'deployment/aide/aide-baremetal-ansible.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/database/mysql-client.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/deprecated/docker/docker-registry-baremetal-ansible.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'firstboot/userdata_root_password.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute-dvr.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'deployment/heat/heat-base-puppet.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/barbican/barbican-backend-kmip-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'deployment/kubernetes/kubernetes-worker-baremetal-ansible.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute-dvr.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'ci/environments/multinode-core.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/nova/nova-az-config.yaml', 'default_passwords.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'puppet/extraconfig/pre_deploy/per_node.yaml', 'deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35868eabd47ea9ce31a6cd838f06c4413ebaa4c1', 'message': 'Move the template version to stein\n\nWe should have up to date all the templates version\nto match the release.\n\nAlso updated the yaml validation script to change the version.\n\nChange-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632\n'}]",0,629427,35868eabd47ea9ce31a6cd838f06c4413ebaa4c1,20,5,6,20775,,,0,"Move the template version to stein

We should have up to date all the templates version
to match the release.

Also updated the yaml validation script to change the version.

Change-Id: Idf594bdb496a8a70592a73658c6ebb1a411c3632
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/629427/3 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/tasks/ssh/host_public_key.yaml', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'puppet/services/cinder-backend-dellps.yaml', 'docker/services/barbican-api.yaml', 'puppet/services/panko-base.yaml', 'puppet/services/heat-api.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'docker/services/ceph-ansible/ceph-external.yaml', 'docker/services/metrics/qdr.yaml', 'hosts-config.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'puppet/services/nova-conductor.yaml', 'firstboot/userdata_example.yaml', 'docker/services/mistral-api.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/nova-api.yaml', 'docker/services/neutron-plugin-nsx.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/neutron-plugin-ml2-ansible.yaml', 'puppet/services/manila-backend-vnx.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'extraconfig/post_deploy/standalone_post.yaml', 'puppet/services/ceilometer-agent-notification.yaml', 'deployment/time/ntp-baremetal-puppet.yaml', 'docker/services/neutron-l2gw-api.yaml', 'puppet/services/neutron-plugin-ml2-nuage.yaml', 'puppet/services/barbican-backend-pkcs11-crypto.yaml', 'puppet/services/octavia-api.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/external-swift-proxy.yaml', 'puppet/services/cinder-backup.yaml', 'puppet/services/openstack-clients.yaml', 'docker/services/logging/stdout/nova-placement.yaml', 'puppet/services/cinder-backend-scaleio.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'puppet/services/haproxy-internal-tls-certmonger.j2.yaml', 'puppet/services/opendaylight-api.yaml', 'docker/services/nova-consoleauth.yaml', 'puppet/services/swift-dispersion.yaml', 'extraconfig/services/openshift-cns.yaml', 'docker/services/logging/files/opendaylight-api.yaml', 'puppet/services/container-image-prepare.j2.yaml', 'puppet/services/nova-placement.yaml', 'tools/yaml-validate.py', 'net-config-static.j2.yaml', 'puppet/services/designate-base.yaml', 'puppet/services/neutron-base.yaml', 'puppet/services/disabled/heat-api-cloudwatch-disabled.yaml', 'puppet/services/nova-scheduler.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'puppet/services/octavia-controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'docker/services/logging/files/nova-metadata.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'docker/services/logging/files/barbican-api.yaml', 'puppet/services/securetty.yaml', 'docker/services/heat-api-cfn.yaml', 'puppet/services/manila-scheduler.yaml', 'puppet/services/nova-compute.yaml', 'extraconfig/post_deploy/undercloud_post.yaml', 'firstboot/os-net-config-mappings.yaml', 'puppet/services/heat-base.yaml', 'puppet/services/messaging/notify-rabbitmq-shared.yaml', 'docker/services/logging/stdout/panko-api.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'docker/services/logging/stdout/nova-metadata.yaml', 'puppet/services/pacemaker.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'puppet/services/keystone.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml', 'docker/services/pacemaker/haproxy.yaml', 'network/ports/vip_v6.yaml', 'puppet/services/pacemaker/rabbitmq.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'extraconfig/services/skydive-analyzer.yaml', 'extraconfig/pre_network/host_config_and_reboot.yaml', 'puppet/services/apache.j2.yaml', 'docker/services/neutron-sriov-agent.yaml', 'puppet/services/neutron-plugin-nuage.yaml', 'docker/services/haproxy.yaml', 'docker/services/rsyslog-sidecar.yaml', 'puppet/services/barbican-backend-simple-crypto.yaml', 'docker/services/panko-api.yaml', 'extraconfig/pre_network/boot-params-service.yaml', 'puppet/services/messaging/rpc-qdrouterd.yaml', 'puppet/services/mistral-base.yaml', 'docker/services/cinder-common.yaml', 'puppet/services/neutron-vpp-agent.yaml', 'docker/services/ceilometer-agent-central.yaml', 'extraconfig/services/openshift-node.yaml', 'docker/services/logging/stdout/heat-engine.yaml', 'docker/services/logging/files/nova-common.yaml', 'puppet/services/designate-worker.yaml', 'docker/services/designate-sink.yaml', 'puppet/services/cinder-backend-nvmeof.yaml', 'puppet/services/neutron-plugin-ml2-ansible.yaml', 'puppet/services/neutron-plugin-nsx.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'docker/services/xinetd.yaml', 'extraconfig/all_nodes/swap.j2.yaml', 'puppet/services/barbican-api.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'puppet/services/ovn-controller.yaml', 'extraconfig/post_deploy/default.yaml', 'puppet/services/neutron-plugin-ml2-cisco-vts.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'overcloud.j2.yaml', 'docker/services/cinder-backup.yaml', 'extraconfig/services/openshift-worker.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'net-config-bridge.j2.yaml', 'puppet/services/neutron-lbaas-api.yaml', 'puppet/services/ec2-api.yaml', 'docker/services/swift-proxy.yaml', 'deployment/tuned/tuned-baremetal-puppet.yaml', 'docker/services/nova-compute.yaml', 'puppet/services/masquerade-networks.yaml', 'docker/services/gnocchi-metricd.yaml', 'puppet/services/neutron-ovs-agent.yaml', 'docker/services/qdrouterd.yaml', 'docker/services/tacker.yaml', 'network/service_net_map.j2.yaml', 'docker/services/cinder-volume.yaml', 'puppet/services/congress.yaml', 'docker/services/sensu-client.yaml', 'deployed-server/deployed-server.yaml', 'docker/services/logging/stdout/nova-api.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'puppet/services/mistral-executor.yaml', 'docker/services/database/mysql.yaml', 'puppet/services/nova-consoleauth.yaml', 'puppet/services/neutron-plugin-ml2-odl.yaml', 'deployed-server/deployed-server-bootstrap-rhel.yaml', 'puppet/services/sahara-engine.yaml', 'puppet/services/neutron-metadata.yaml', 'puppet/services/pacemaker/database/mysql.yaml', 'docker/services/swift-storage.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-conductor.yaml', 'network/networks.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'puppet/services/neutron-plugin-ml2-fujitsu-fossw.yaml', 'puppet/services/swift-storage.yaml', 'puppet/services/monitoring/sensu-base.yaml', 'extraconfig/services/openshift-infra.yaml', 'puppet/services/selinux.yaml', 'docker/services/logging/files/neutron-api.yaml', 'puppet/services/database/mysql-client.yaml', 'docker/services/nova-vnc-proxy.yaml', 'puppet/services/pacemaker/ovn-dbs.yaml', 'docker/services/logging/stdout/nova-common.yaml', 'puppet/services/nova-base.yaml', 'docker/services/nova-metadata.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'docker/services/octavia-worker.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'puppet/services/login-defs.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'puppet/services/cinder-backend-dellemc-vnx.yaml', 'puppet/services/barbican-backend-dogtag.yaml', 'puppet/services/cinder-backend-netapp.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'network/ports/net_vip_map_external_v6.j2.yaml', 'docker/services/metrics/collectd.yaml', 'puppet/services/nova-metadata.yaml', 'puppet/services/swift-ringbuilder.yaml', 'puppet/role.role.j2.yaml', 'deployment/time/ptp-baremetal-puppet.yaml', 'puppet/services/designate-sink.yaml', 'docker/services/logging/stdout/keystone.yaml', 'puppet/services/manila-backend-vmax.yaml', 'firstboot/userdata_dev_rsync.yaml', 'puppet/services/docker-registry.yaml', 'docker/services/cinder-scheduler.yaml', 'puppet/services/gnocchi-statsd.yaml', 'puppet/services/octavia-worker.yaml', 'config-download-software.yaml', 'puppet/services/nova-libvirt-guests.yaml', 'docker/services/nova-scheduler.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'puppet/services/cinder-backend-dellsc.yaml', 'puppet/services/designate-mdns.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'puppet/services/manila-backend-cephfs.yaml', 'docker/services/novajoin.yaml', 'puppet/services/database/mysql.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'extraconfig/services/kubernetes-worker.yaml', 'docker/services/logrotate-crond.yaml', 'docker/services/nova-placement.yaml', 'docker/services/pacemaker/database/redis.yaml', 'extraconfig/services/skydive-agent.yaml', 'docker/services/congress.yaml', 'extraconfig/services/rhsm.yaml', 'puppet/services/neutron-lbaas-agent.yaml', 'puppet/services/swift-proxy.yaml', 'deployed-server/ctlplane-port.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'puppet/services/pacemaker/cinder-backup.yaml', 'puppet/services/etcd.yaml', 'docker/services/logging/stdout/barbican-api.yaml', 'docker/services/neutron-plugin-ml2-cisco-vts.yaml', 'puppet/services/veritas-hyperscale-controller.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'puppet/services/sahara-base.yaml', 'puppet/services/manila-api.yaml', 'docker/services/neutron-lbaas-api.yaml', 'puppet/services/cinder-volume.yaml', 'docker/services/gnocchi-statsd.yaml', 'firstboot/userdata_root_password.yaml', 'common/services.yaml', 'docker/services/neutron-dhcp.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'puppet/services/nova-ironic.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/pacemaker/manila-share.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml', 'puppet/services/haproxy-public-tls-inject.yaml', 'docker/services/ceph-ansible/ceph-nfs.yaml', 'docker/services/designate-mdns.yaml', 'docker/services/liquidio-compute-config.yaml', 'docker/services/neutron-ovs-dpdk-agent.yaml', 'puppet/services/nova-vnc-proxy.yaml', 'puppet/services/cinder-api.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'puppet/services/ceilometer-agent-compute.yaml', 'puppet/services/docker.yaml', 'puppet/services/octavia-base.yaml', 'docker/services/ceph-ansible/ceph-osd.yaml', 'puppet/services/sahara-api.yaml', 'docker/services/sahara-engine.yaml', 'puppet/services/ceilometer-agent-ipmi.yaml', 'puppet/services/heat-api-cfn.yaml', 'puppet/extraconfig/pre_deploy/per_node.yaml', 'docker/services/neutron-bgpvpn-api.yaml', 'deployment/timesync/chrony-baremetal-ansible.yaml', 'puppet/services/neutron-sriov-agent.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml', 'extraconfig/nova_metadata/krb-service-principals.j2.yaml', 'docker/services/designate-central.yaml', 'puppet/services/gnocchi-base.yaml', 'puppet/services/neutron-plugin-ml2-mlnx-sdn-assist.yaml', 'docker/services/octavia-housekeeping.yaml', 'net-config-static-bridge-with-external-dhcp.j2.yaml', 'puppet/services/vpp.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'extraconfig/services/kubernetes-master.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'puppet/services/barbican-backend-kmip.yaml', 'puppet/services/haproxy-public-tls-certmonger.yaml', 'extraconfig/services/ipsec.yaml', 'puppet/services/pacemaker/manila-share.yaml', 'docker/services/iscsid.yaml', 'puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'docker/services/designate-worker.yaml', 'network/ports/noop.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'puppet/services/neutron-linuxbridge-agent.yaml', 'puppet/services/ovn-dbs.yaml', 'docker/services/ovn-controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'docker/services/manila-share.yaml', 'puppet/services/cinder-backend-dellemc-xtremio-iscsi.yaml', 'puppet/services/neutron-ovs-dpdk-agent.yaml', 'network/ports/net_ip_map.j2.yaml', 'puppet/services/panko-api.yaml', 'docker/services/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'docker/services/neutron-l3.yaml', 'puppet/services/neutron-plugin-ml2.yaml', 'puppet/services/manila-backend-unity.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-cisco-n1kv.yaml', 'puppet/services/cinder-backend-dellemc-unity.yaml', 'docker/services/neutron-sfc-api.yaml', 'puppet/services/designate-producer.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml', 'docker/services/logging/stdout/neutron-common.yaml', 'docker/services/logging/files/heat-engine.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/ceph-ansible/ceph-rgw.yaml', 'extraconfig/all_nodes/random_string.j2.yaml', 'puppet/services/designate-api.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/logging/stdout/nova-libvirt.yaml', 'puppet/services/neutron-plugin-plumgrid.yaml', 'puppet/services/heat-engine.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'puppet/services/messaging/rpc-rabbitmq.yaml', 'puppet/services/horizon.yaml', 'net-config-linux-bridge.j2.yaml', 'puppet/services/messaging/notify-rabbitmq.yaml', 'puppet/all-nodes-config.j2.yaml', 'puppet/services/neutron-bgpvpn-api.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ceph-ansible/ceph-mds.yaml', 'puppet/services/neutron-compute-plugin-nuage.yaml', 'docker/services/nova-api.yaml', 'network/ports/vip.yaml', 'puppet/services/neutron-l3-compute-dvr.yaml', 'docker/services/heat-api.yaml', 'network/ports/from_service_v6.yaml', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'puppet/services/monitoring/sensu-client.yaml', 'docker/services/ec2-api.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'puppet/services/manila-backend-isilon.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/ceph-ansible/ceph-mgr.yaml', 'puppet/services/neutron-sriov-host-config.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'puppet/services/octavia-health-manager.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'puppet/services/cinder-backend-pure.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'puppet/services/neutron-dhcp.yaml', 'puppet/services/gnocchi-metricd.yaml', 'docker/services/logging/files/haproxy.yaml', 'puppet/extraconfig/tls/ca-inject.yaml', 'puppet/services/manila-share.yaml', 'puppet/services/ceilometer-agent-central.yaml', 'puppet/services/neutron-plugin-ml2-fujitsu-cfab.yaml', 'ci/common/all-nodes-validation-disabled.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'extraconfig/all_nodes/swap-partition.j2.yaml', 'docker/services/octavia-health-manager.yaml', 'net-config-noop.j2.yaml', 'puppet/services/tripleo-validations.yaml', 'puppet/services/haproxy.yaml', 'docker/services/nova-ironic.yaml', 'puppet/services/mistral-event-engine.yaml', 'puppet/services/neutron-l2gw-agent.yaml', 'extraconfig/services/openshift-master.yaml', 'docker/services/ceph-ansible/ceph-client.yaml', 'docker/services/containers-common.yaml', 'all-nodes-validation.yaml', 'docker/services/designate-api.yaml', 'docker/services/mistral-event-engine.yaml', 'puppet/services/qdr.yaml', 'puppet/services/logging/fluentd.yaml', 'extraconfig/pre_network/config_then_reboot.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'docker/services/ceph-ansible/ceph-mon.yaml', 'puppet/services/kernel.yaml', 'ci/common/net-config-multinode.yaml', 'puppet/services/neutron-midonet.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'docker/services/neutron-plugin-ml2.yaml', 'puppet/services/auditd.yaml', 'docker/services/multipathd.yaml', 'docker/services/pacemaker/clustercheck.yaml', 'puppet/deploy-artifacts.yaml', 'docker/services/designate-producer.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/keystone.yaml', 'docker/services/swift-ringbuilder.yaml', 'network/ports/from_service.yaml', 'puppet/services/nova-migration-target.yaml', 'puppet/services/liquidio-compute-config.yaml', 'docker/services/fluentd.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'puppet/services/aide.yaml', 'puppet/services/neutron-compute-plugin-midonet.yaml', 'puppet/extraconfig/pre_deploy/default.yaml', 'puppet/services/tacker.yaml', 'net-config-standalone.j2.yaml', 'puppet/services/ca-certs.yaml', 'puppet/services/neutron-compute-plugin-plumgrid.yaml', 'docker/services/nova-libvirt.yaml', 'puppet/services/mistral-engine.yaml', 'puppet/services/neutron-l3.yaml', 'extraconfig/post_deploy/example_run_on_update.yaml', 'net-config-undercloud.j2.yaml', 'docker/services/logging/stdout/heat-api.yaml', 'puppet/services/ovn-metadata.yaml', 'docker/services/logging/files/panko-api.yaml', 'puppet/services/openvswitch.yaml', 'extraconfig/post_deploy/example.yaml', 'docker/services/logging/files/nova-placement.yaml', 'deployed-server/deployed-neutron-port.yaml', 'puppet/services/opendaylight-ovs.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/heat-engine.yaml', 'firstboot/userdata_default.yaml', 'deployed-server/deployed-server-bootstrap-centos.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'config-download-structured.yaml', 'docker/services/etcd.yaml', 'puppet/services/pacemaker_remote.yaml', 'puppet/services/cinder-backend-veritas-hyperscale.yaml', 'firstboot/userdata_heat_admin.yaml', 'net-config-static-bridge.j2.yaml', 'puppet/services/neutron-bgpvpn-bagpipe.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml', 'ci/common/vbmc_setup.yaml', 'puppet/services/swift-base.yaml', 'puppet/services/tripleo-packages.yaml', 'docker/services/undercloud-upgrade.yaml', 'docker/services/nova-migration-target.yaml', 'deployment/glance/glance-api-logging-stdout-puppet.yaml', 'docker/services/ceph-ansible/ceph-base.yaml', 'puppet/services/pacemaker/compute-instanceha.yaml', 'docker/services/logging/stdout/heat-api-cfn.yaml', 'puppet/services/neutron-sfc-api.yaml', 'firstboot/conntectx3_streering.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'puppet/services/pacemaker/cinder-volume.yaml', 'puppet/services/cinder-hpelefthand-iscsi.yaml', 'docker/services/tempest.yaml', 'puppet/extraconfig/pre_deploy/controller/multiple.yaml', 'docker/services/logging/files/nova-api.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'docker/services/rabbitmq.yaml', 'puppet/services/logging/fluentd-config.yaml', 'docker/services/horizon.yaml', 'puppet/services/pacemaker/haproxy.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'network/ports/ctlplane_vip.yaml', 'docker/services/manila-common.yaml', 'deployment/glance/glance-registry-disabled-puppet.yaml', 'network/endpoints/endpoint_map.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/ovn-metadata.yaml', 'puppet/services/cinder-backend-dellemc-vmax-iscsi.yaml', 'puppet/services/metrics/collectd.yaml', 'ci/common/net-config-simple-bridge.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/time/timezone-baremetal-puppet.yaml', 'puppet/services/database/redis-base.yaml', 'puppet/services/manila-backend-netapp.yaml', 'puppet/services/pacemaker/database/redis.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'puppet/services/manila-base.yaml', 'docker/services/sahara-api.yaml', 'extraconfig/pre_deploy/rhel-registration/rhel-registration.yaml', 'docker/services/logging/files/keystone.yaml', 'puppet/services/tripleo-ui.yaml', 'puppet/services/neutron-api.yaml', 'net-config-bond.j2.yaml', 'puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml', 'docker/services/logging/stdout/haproxy.yaml', 'puppet/services/database/redis.yaml', 'puppet/services/cinder-base.yaml', 'ci/environments/disable-unbound.yaml', 'docker/services/opendaylight-api.yaml', 'deployment/aodh/aodh-base.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'puppet/services/neutron-l2gw-api.yaml', 'docker/services/database/redis.yaml', 'puppet/services/neutron-bigswitch-agent.yaml', 'extraconfig/all_nodes/mac_hostname.j2.yaml', 'puppet/extraconfig/all_nodes/neutron-midonet-all-nodes.yaml', 'puppet/services/cinder-scheduler.yaml', 'docker/services/messaging/notify-rabbitmq-shared.yaml', 'docker/services/manila-api.yaml', 'puppet/services/mistral-api.yaml', 'puppet/services/certmonger-user.yaml', 'puppet/services/nova-libvirt.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/nova-compute-common.yaml', 'puppet/services/iscsid.yaml', 'ci/environments/multinode-core.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'default_passwords.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'puppet/services/designate-central.yaml', 'puppet/services/rabbitmq.yaml', 'docker/services/messaging/rpc-qdrouterd.yaml', 'docker/services/neutron-metadata.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml', 'puppet/services/octavia-housekeeping.yaml', 'docker/services/mistral-engine.yaml']",480,931c2a71cecc4447b3686166384a0d82a45ea126,629427,heat_template_version: stein,heat_template_version: rocky,480,480
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I29477c1c91c746e92b8f9f131337b87ad68097af,openstack/tripleo-heat-templates,stable/queens,I29477c1c91c746e92b8f9f131337b87ad68097af,DMN: test delegation of host discovery tasks,ABANDONED,2019-09-05 16:14:05.000000000,2020-08-06 21:53:08.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-09-05 16:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12a583cfb4e569f024c5873119b3c27d44156caa', 'message': 'DMN: test delegation of host discovery tasks\n\nChange-Id: I29477c1c91c746e92b8f9f131337b87ad68097af\n'}, {'number': 2, 'created': '2019-09-06 19:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19cf0efa0e1ed63f82c17fa754154bbc739a75b1', 'message': 'DMN: test delegation of host discovery tasks\n\nChange-Id: I29477c1c91c746e92b8f9f131337b87ad68097af\n'}, {'number': 3, 'created': '2019-09-06 19:59:55.000000000', 'files': ['docker/services/nova-ironic.yaml', 'docker/services/nova-compute-common.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04adb5f26cb6e37414398ad8f24141e7813d7aee', 'message': 'DMN: test delegation of host discovery tasks\n\nChange-Id: I29477c1c91c746e92b8f9f131337b87ad68097af\n'}]",1,680455,04adb5f26cb6e37414398ad8f24141e7813d7aee,11,5,3,23811,,,0,"DMN: test delegation of host discovery tasks

Change-Id: I29477c1c91c746e92b8f9f131337b87ad68097af
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/680455/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-compute-common.yaml'],1,12a583cfb4e569f024c5873119b3c27d44156caa,bug/1831711," # run_once: true do not seem to work with when clauses so pick one host to run this on - name: discover from nova_compute? set_fact: delegate_from_host: ""{{ groups['nova_compute'][0] }}"" - name: discover from nova_ironic? set_fact: delegate_from_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_from_host is not defined # pick which host to delegate to: a dedicated host running a 'nova_manager' service if one exists # or a controller running nova_api - name: discover via nova_manager? set_fact: container_name: nova_manager delegate_to_host: '{{ groups[''nova_manager''][0] }}' when: - groups['nova_manager'] is defined and (groups['nova_manager']|length>0) - name: discover via nova_api? set_fact: container_name: nova_api delegate_to_host: '{{ groups[''nova_api''][0] }}' when: - delegate_to_host is not defined - groups['nova_api'] is defined and (groups['nova_api']|length>0) - become: true changed_when: false command: docker exec {{ container_name }} nova-manage cell_v2 discover_hosts --by-service delegate_to: '{{ delegate_to_host }}' name: Discovering nova hosts when: - delegate_from_host is defined - delegate_to_host is defined - inventory_hostname == delegate_from_host"," - name: discover via nova_compute? set_fact: delegate_host: ""{{ groups['nova_compute'][0] }}"" - name: discover via nova_ironic? set_fact: delegate_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_host is not defined - name: Discovering nova hosts command: ""docker exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" become: true changed_when: False when: - delegate_host is defined - inventory_hostname == delegate_host",31,11
openstack%2Ftripleo-heat-templates~master~Ie06da94eb00f9bbfa95b38509b9b3180e3e441e4,openstack/tripleo-heat-templates,master,Ie06da94eb00f9bbfa95b38509b9b3180e3e441e4,DNM: test delayed nova-api start,ABANDONED,2019-09-09 11:02:43.000000000,2020-08-06 21:53:07.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-09-09 11:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/330dbf8ca6271c5601c5d43d8f5c1ea8e387f341', 'message': 'DNM: test delayed nova-api start\n\nChange-Id: Ie06da94eb00f9bbfa95b38509b9b3180e3e441e4\n'}, {'number': 2, 'created': '2019-09-10 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb3a6759681090669d60e1008d10fea7f54caf76', 'message': 'DNM: test delayed nova-api start\n\nChange-Id: Ie06da94eb00f9bbfa95b38509b9b3180e3e441e4\n'}, {'number': 3, 'created': '2019-09-10 14:30:45.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'container_config_scripts/foo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea42d6c1014370555e2e65b128b7c757f7ecefb4', 'message': 'DNM: test delayed nova-api start\n\nChange-Id: Ie06da94eb00f9bbfa95b38509b9b3180e3e441e4\n'}]",1,680973,ea42d6c1014370555e2e65b128b7c757f7ecefb4,11,4,3,23811,,,0,"DNM: test delayed nova-api start

Change-Id: Ie06da94eb00f9bbfa95b38509b9b3180e3e441e4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/680973/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,330dbf8ca6271c5601c5d43d8f5c1ea8e387f341,," command: ""/bin/bash -c 'sleep 900; /usr/sbin/httpd -DFOREGROUND'""", command: /usr/sbin/httpd -DFOREGROUND,1,1
openstack%2Ftripleo-heat-templates~master~If07ec42779de130d59da515268568a62d1143b18,openstack/tripleo-heat-templates,master,If07ec42779de130d59da515268568a62d1143b18,Remove deploment resource mappings for config-download,ABANDONED,2019-09-09 09:59:20.000000000,2020-08-06 21:53:06.000000000,,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-09 09:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ced32bdf16df7e86b18fe78073ac1cb724340b4a', 'message': ""WIP Remove deploment resource mappings for config-download\n\nNow that config-download is the default, let's remove these mappings.\n\nChange-Id: If07ec42779de130d59da515268568a62d1143b18\nDepends-on: https://review.opendev.org/680957\n""}, {'number': 2, 'created': '2019-09-10 04:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f834a1a70eb37ab95d478bdea7e3bf04c95aa719', 'message': ""Remove deploment resource mappings for config-download\n\nNow that config-download is the default, let's remove these mappings.\n\nChange-Id: If07ec42779de130d59da515268568a62d1143b18\nDepends-on: https://review.opendev.org/680957\n""}, {'number': 3, 'created': '2019-09-11 10:23:45.000000000', 'files': ['environments/standalone.yaml', 'environments/undercloud.yaml', 'config-download-software.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'config-download-structured.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19b74e6cf800a7fa9266384aa84c1b444fce0e96', 'message': ""Remove deploment resource mappings for config-download\n\nNow that config-download is the default, let's remove these mappings.\n\nChange-Id: If07ec42779de130d59da515268568a62d1143b18\nDepends-on: https://review.opendev.org/680957\n""}]",0,680958,19b74e6cf800a7fa9266384aa84c1b444fce0e96,28,4,3,8833,,,0,"Remove deploment resource mappings for config-download

Now that config-download is the default, let's remove these mappings.

Change-Id: If07ec42779de130d59da515268568a62d1143b18
Depends-on: https://review.opendev.org/680957
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/680958/3 && git format-patch -1 --stdout FETCH_HEAD,"['config-download-software.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'config-download-structured.yaml']",3,ced32bdf16df7e86b18fe78073ac1cb724340b4a,bp/reduce-deployment-resources,,"heat_template_version: rocky parameters: name: type: string default: """" actions: type: comma_delimited_list default: ['CREATE', 'UPDATE'] server: type: string config: type: string input_values: type: json description: input values for the software deployments default: {} input_key: type: string default: 'get_input' signal_transport: type: string default: 'CFN_SIGNAL' input_values_validate: type: string default: 'LAX' resources: TripleODeployment: type: OS::Heat::Value properties: value: name: {get_param: name} server: {get_param: server} config: {get_param: config} input_values: {get_param: input_values} deployment: {get_resource: TripleOSoftwareDeployment} TripleOSoftwareDeployment: type: OS::Heat::StructuredDeployment properties: name: deployment_resource config: {get_param: config} server: {get_resource: TripleOServer} input_values: {get_param: input_values} signal_transport: NO_SIGNAL actions: {get_param: actions} TripleOServer: type: OS::Heat::DeployedServer properties: name: server_resource outputs: deploy_status_code: value: 0 deploy_stderr: value: '' deploy_stdout: value: '' show: value: '' update_managed_packages: description: boolean value indicating whether to upgrade managed packages value: false hostname: description: hostname value: '' ",1,161
openstack%2Ftripleo-heat-templates~master~I2a62eadb8449b7d0055b6fe0d11e46eab53c1920,openstack/tripleo-heat-templates,master,I2a62eadb8449b7d0055b6fe0d11e46eab53c1920,Workaround to avoid puppet managing internal files.,ABANDONED,2019-04-22 08:31:28.000000000,2020-08-06 21:53:04.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-04-22 08:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4b2abbfc0716cf26698577556b1289fdfb7775f', 'message': ""DNM: Workaround to avoid puppet managing internal files.\n\nWhen the option manage_internal_file_permissions is set\nto false, then puppet won't try to manage the owner, group and\nmode of the files it uses. This is causing trouble when the\nsysadmin changes the puppet host uid/gid.\n\nThis patch is intended to test that nothing else would break if\npassing this option. In a follow up patchset, we would try to\ninclude a heat parameter to disable it at will.\n\nChange-Id: I2a62eadb8449b7d0055b6fe0d11e46eab53c1920\nRelated-Bug: #1808844\n""}, {'number': 2, 'created': '2019-05-30 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e332843077d1a65ba5dae0eaedd334f33043fee9', 'message': ""DNM: Workaround to avoid puppet managing internal files.\n\nWhen the option manage_internal_file_permissions is set\nto false, then puppet won't try to manage the owner, group and\nmode of the files it uses. This is causing trouble when the\nsysadmin changes the puppet host uid/gid.\n\nThis patch is intended to test that nothing else would break if\npassing this option. In a follow up patchset, we would try to\ninclude a heat parameter to disable it at will.\n\nChange-Id: I2a62eadb8449b7d0055b6fe0d11e46eab53c1920\nRelated-Bug: #1808844\n""}, {'number': 3, 'created': '2019-07-02 14:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e499f825f8f1c77dbb2b420f3bed19a6e01b204', 'message': ""DNM: Workaround to avoid puppet managing internal files.\n\nWhen the option manage_internal_file_permissions is set\nto false, then puppet won't try to manage the owner, group and\nmode of the files it uses. This is causing trouble when the\nsysadmin changes the puppet host uid/gid.\n\nThis patch is intended to test that nothing else would break if\npassing this option. In a follow up patchset, we would try to\ninclude a heat parameter to disable it at will.\n\nChange-Id: I2a62eadb8449b7d0055b6fe0d11e46eab53c1920\nRelated-Bug: #1808844\n""}, {'number': 4, 'created': '2019-09-20 12:07:57.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1b66a6c611d0fd66e75ffd2c3905004d73ac6c2', 'message': ""Workaround to avoid puppet managing internal files.\n\nWhen the option manage_internal_file_permissions is set\nto false, then puppet won't try to manage the owner, group and\nmode of the files it uses. This is causing trouble when the\nsysadmin changes the puppet host uid/gid.\n\nThis patch is intended to test that nothing else would break if\npassing this option. In a follow up patchset, we would try to\ninclude a heat parameter to disable it at will.\n\nChange-Id: I2a62eadb8449b7d0055b6fe0d11e46eab53c1920\nRelated-Bug: #1808844\n""}]",0,654407,b1b66a6c611d0fd66e75ffd2c3905004d73ac6c2,21,8,4,26343,,,0,"Workaround to avoid puppet managing internal files.

When the option manage_internal_file_permissions is set
to false, then puppet won't try to manage the owner, group and
mode of the files it uses. This is causing trouble when the
sysadmin changes the puppet host uid/gid.

This patch is intended to test that nothing else would break if
passing this option. In a follow up patchset, we would try to
include a heat parameter to disable it at will.

Change-Id: I2a62eadb8449b7d0055b6fe0d11e46eab53c1920
Related-Bug: #1808844
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/654407/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,d4b2abbfc0716cf26698577556b1289fdfb7775f,bug/1808844, --manage_internal_file_permissions=false,,1,0
openstack%2Ftripleo-heat-templates~master~I4b60127259a2cfa6e0203a588ef9cc9cf5ff7ee6,openstack/tripleo-heat-templates,master,I4b60127259a2cfa6e0203a588ef9cc9cf5ff7ee6,DNM: Check time,ABANDONED,2019-10-28 09:16:33.000000000,2020-08-06 21:53:03.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-28 09:16:33.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6657f61456523ae0362de830afcc944be405cd90', 'message': 'DNM: Check time\n\nChange-Id: I4b60127259a2cfa6e0203a588ef9cc9cf5ff7ee6\n'}]",0,691639,6657f61456523ae0362de830afcc944be405cd90,4,3,1,20775,,,0,"DNM: Check time

Change-Id: I4b60127259a2cfa6e0203a588ef9cc9cf5ff7ee6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/691639/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-proxy-container-puppet.yaml'],1,6657f61456523ae0362de830afcc944be405cd90,ansible-syntax-check, stato: importo_role:, stat: import_role:,2,2
openstack%2Ftripleo-heat-templates~master~I49cfd3d3c5f3d47dc355721fe284c8910e127ce2,openstack/tripleo-heat-templates,master,I49cfd3d3c5f3d47dc355721fe284c8910e127ce2,Add external network to compute,ABANDONED,2019-11-05 21:01:55.000000000,2020-08-06 21:53:02.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16845}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 21:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89b35ec251e8b0bc80c00b0aa02edcea15b20df8', 'message': 'Add external network to compute\n\nSince with Stein and above we default to OVN, OVN requires external\nnetwork on the compute node for DVR.\n\nChange-Id: I49cfd3d3c5f3d47dc355721fe284c8910e127ce2\n'}, {'number': 2, 'created': '2019-11-06 15:52:16.000000000', 'files': ['roles_data.yaml', 'roles/Compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccbec280a1727d2c0939bccf4d4b3a6882b33c47', 'message': 'Add external network to compute\n\nSince with Stein and above we default to OVN, OVN requires external\nnetwork on the compute node for DVR.\n\nChange-Id: I49cfd3d3c5f3d47dc355721fe284c8910e127ce2\n'}]",0,693081,ccbec280a1727d2c0939bccf4d4b3a6882b33c47,11,5,2,16845,,,0,"Add external network to compute

Since with Stein and above we default to OVN, OVN requires external
network on the compute node for DVR.

Change-Id: I49cfd3d3c5f3d47dc355721fe284c8910e127ce2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/693081/2 && git format-patch -1 --stdout FETCH_HEAD,['roles_data.yaml'],1,89b35ec251e8b0bc80c00b0aa02edcea15b20df8,I49cfd3d3c5f3d47dc355721fe284c8910e127ce2, External: subnet: external_subnet,,2,0
openstack%2Ftripleo-heat-templates~master~Ib8ca76443a8d854afc021819a7f234f060a1e763,openstack/tripleo-heat-templates,master,Ib8ca76443a8d854afc021819a7f234f060a1e763,Create ovn db only if doesnt exist,ABANDONED,2019-11-19 22:16:39.000000000,2020-08-06 21:53:00.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-19 22:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/739a04f4c6d6c91f612bf86fea879e98c196a2a1', 'message': 'Create ovn db only if doesnt exist\n\nFix ovn upgrade by checking if the db exist before\ncreating the db\n\nChange-Id: Ib8ca76443a8d854afc021819a7f234f060a1e763\n'}, {'number': 2, 'created': '2019-11-19 22:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b66d1656dcde8ed58324d2394e51f1d5287f67f9', 'message': 'Create ovn db only if doesnt exist\n\nFix ovn upgrade by checking if the db exist before\ncreating the db\n\nCloses-Bug: #1853012\nChange-Id: Ib8ca76443a8d854afc021819a7f234f060a1e763\n'}, {'number': 3, 'created': '2019-11-20 06:17:12.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64f893faa3dc8c8d24df26d7e4ed0ec58b82a875', 'message': 'Create ovn db only if doesnt exist\n\nFix ovn upgrade by checking if the db exist before\ncreating the db\n\nCloses-Bug: #1853012\nChange-Id: Ib8ca76443a8d854afc021819a7f234f060a1e763\n'}]",2,695098,64f893faa3dc8c8d24df26d7e4ed0ec58b82a875,17,7,3,16515,,,0,"Create ovn db only if doesnt exist

Fix ovn upgrade by checking if the db exist before
creating the db

Closes-Bug: #1853012
Change-Id: Ib8ca76443a8d854afc021819a7f234f060a1e763
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/695098/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,739a04f4c6d6c91f612bf86fea879e98c196a2a1,ovn/db/upgrade," command: bash -c $* -- eval if [ ! -z $(ovsdb-tool db-name) ]; then exec ovsdb-tool create ""/var/lib/openvswitch/ovnsb.db"" ""/usr/share/openvswitch/ovn-sb.ovsschema""; fi command: bash -c $* -- eval if [ ! -z $(ovsdb-tool db-name) ]; then exec ovsdb-tool create ""/var/lib/openvswitch/ovnsb.db"" ""/usr/share/openvswitch/ovn-sb.ovsschema""; fi"," command: ""ovsdb-tool create /var/lib/openvswitch/ovnnb.db /usr/share/openvswitch/ovn-nb.ovsschema"" command: ""ovsdb-tool create /var/lib/openvswitch/ovnsb.db /usr/share/openvswitch/ovn-sb.ovsschema""",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia68d7096c36479c80e3bf4675dab5a6e338c41a4,openstack/tripleo-heat-templates,stable/train,Ia68d7096c36479c80e3bf4675dab5a6e338c41a4,Clean up config data dir for update,ABANDONED,2019-11-23 23:36:40.000000000,2020-08-06 21:52:53.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-23 23:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5021f7949abb2c1d432dbd52c810b460698063f8', 'message': 'Clean up config data dir for update\n\nAdding -e option and -r for cleaning up the config\ndata files and directory.\n\nChange-Id: Ia68d7096c36479c80e3bf4675dab5a6e338c41a4\n'}, {'number': 2, 'created': '2019-11-23 23:41:25.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3b6eff65420a1d2da4db142c1c875049f63e9c4', 'message': 'Clean up config data dir for update\n\nAdding -e option and -r for cleaning up the config\ndata files and directory.\n\nCloses-Bug: #1853183\nChange-Id: Ia68d7096c36479c80e3bf4675dab5a6e338c41a4\n'}]",0,695807,a3b6eff65420a1d2da4db142c1c875049f63e9c4,5,3,2,16515,,,0,"Clean up config data dir for update

Adding -e option and -r for cleaning up the config
data files and directory.

Closes-Bug: #1853183
Change-Id: Ia68d7096c36479c80e3bf4675dab5a6e338c41a4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/695807/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,5021f7949abb2c1d432dbd52c810b460698063f8,backup/data/files," bash -c ""test -e ${puppet_generated_path}/{} && rm -rf ${puppet_generated_path}/{}"""," bash -c ""test -f ${puppet_generated_path}/{} && rm -f ${puppet_generated_path}/{}""",1,1
openstack%2Ftripleo-heat-templates~master~I91dd94f7ddd864aadcb09f22dc77b49bf8440e68,openstack/tripleo-heat-templates,master,I91dd94f7ddd864aadcb09f22dc77b49bf8440e68,Make standalone upgrade job voting for THT in master,ABANDONED,2019-12-09 10:08:42.000000000,2020-08-06 21:52:44.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-09 10:08:42.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/366138fa0bddefd68e05328872f725ef9c18cc20', 'message': 'Make standalone upgrade job voting for THT in master\n\nChange-Id: I91dd94f7ddd864aadcb09f22dc77b49bf8440e68\n'}]",0,697965,366138fa0bddefd68e05328872f725ef9c18cc20,4,3,1,16515,,,0,"Make standalone upgrade job voting for THT in master

Change-Id: I91dd94f7ddd864aadcb09f22dc77b49bf8440e68
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/697965/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,366138fa0bddefd68e05328872f725ef9c18cc20,standalonevotingmaster, voting: true - tripleo-ci-centos-7-standalone-upgrade: voting: true,,3,0
openstack%2Ftripleo-heat-templates~master~I35beaa0f88638845cbaf347e777c58d0dfcd3c0d,openstack/tripleo-heat-templates,master,I35beaa0f88638845cbaf347e777c58d0dfcd3c0d,Change default neutron firewall driver to openvswitch,ABANDONED,2018-07-12 15:01:20.000000000,2020-08-06 21:52:43.000000000,,"[{'_account_id': 1131}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14352}, {'_account_id': 14985}, {'_account_id': 16845}, {'_account_id': 18575}, {'_account_id': 21798}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-12 15:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0360570917fb72a70e31b0119c6149b8d199cb05', 'message': 'Change default firewall driver to openvswitch\n\nUsing openvswitch firewall driver instead of iptables_hybrid\nis improving performance in all traffic scenarios (L2, L3 E-W,\nL3 N-S). Changing default to openvswitch.\n\nChange-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d\n'}, {'number': 2, 'created': '2018-07-12 15:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9c7ce049e5122b8dea46e44fb767b0eb533107f', 'message': 'Change default firewall driver to openvswitch\n\nUsing openvswitch firewall driver instead of iptables_hybrid\nis improving performance in all traffic scenarios (L2, L3 E-W,\nL3 N-S). Here are the TCP stream performance numbers for the two\nfirewall drivers in different traffic scenarios with sender and\nreceiver on same compute vs speread across different computes.\nhttps://docs.google.com/spreadsheets/d/1Pch25lz9c8XJGEg4MLvDOPaZoZbfE0Aswh1GerHkdhc/edit?usp=sharing\nThe openvswitch firewall driver has been around since the Newton release and has matured quite a\nbit since then and is now stable. Also, Devstack now uses this as default upstream.\nhttps://review.openstack.org/#/c/568297/\n\nThis commit is changing default to openvswitch.\n\nChange-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d\n'}, {'number': 3, 'created': '2018-07-12 15:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd68494506478dca73bf3685e76946fdfcf4b3d7', 'message': 'Change default neutron firewall driver to openvswitch\n\nUsing openvswitch firewall driver instead of iptables_hybrid\nis improving performance in all traffic scenarios (L2, L3 E-W,\nL3 N-S). Here are the TCP stream performance numbers for the two\nfirewall drivers in different traffic scenarios with sender and\nreceiver on same compute vs spread across different computes.\nhttps://docs.google.com/spreadsheets/d/1Pch25lz9c8XJGEg4MLvDOPaZoZbfE0Aswh1GerHkdhc/edit?usp=sharing\nThe openvswitch firewall driver has been around since the Newton release and has matured quite a\nbit since then and is now stable. Also, Devstack now uses this as default upstream.\nhttps://review.openstack.org/#/c/568297/\n\nThis commit is changing default to openvswitch.\n\nChange-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d\n'}, {'number': 4, 'created': '2018-07-13 12:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19a17dbd592eacda8407a2b6bf68cbfef47908cb', 'message': 'Change default neutron firewall driver to openvswitch\n\nUsing openvswitch firewall driver instead of iptables_hybrid\nis improving performance in all traffic scenarios (L2, L3 E-W,\nL3 N-S). Here are the TCP stream performance numbers for the two\nfirewall drivers in different traffic scenarios with sender and\nreceiver on same compute vs spread across different computes.\nhttps://docs.google.com/spreadsheets/d/1Pch25lz9c8XJGEg4MLvDOPaZoZbfE0Aswh1GerHkdhc/edit?usp=sharing\nThe openvswitch firewall driver has been around since the Newton release and has matured quite a\nbit since then and is now stable. Also, Devstack now uses this as default upstream.\nhttps://review.openstack.org/#/c/568297/\n\nThis commit is changing default to openvswitch.\n\nChange-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d\n'}, {'number': 5, 'created': '2018-07-13 14:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd8f408dcd55644b8846d70caffa89647f521e6a', 'message': 'Change default neutron firewall driver to openvswitch\n\nUsing openvswitch firewall driver instead of iptables_hybrid\nis improving performance in all traffic scenarios (L2, L3 E-W,\nL3 N-S). Here are the TCP stream performance numbers for the two\nfirewall drivers in different traffic scenarios with sender and\nreceiver on same compute vs spread across different computes.\nhttps://docs.google.com/spreadsheets/d/1Pch25lz9c8XJGEg4MLvDOPaZoZbfE0Aswh1GerHkdhc/edit?usp=sharing\nThe openvswitch firewall driver has been around since the Newton release and has matured quite a\nbit since then and is now stable. Also, Devstack now uses this as default upstream.\nhttps://review.openstack.org/#/c/568297/\n\nThis commit is changing default to openvswitch.\n\nChange-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d\n'}, {'number': 6, 'created': '2018-07-17 17:46:34.000000000', 'files': ['puppet/services/neutron-plugin-ml2.yaml', 'puppet/services/neutron-ovs-agent.yaml', 'releasenotes/notes/change-neutron-firewall-driver-to-openvswitch-032e1caf19e46786.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8297e6f580c89d2a86cf67dcf2fcbdce13906db5', 'message': 'Change default neutron firewall driver to openvswitch\n\nUsing openvswitch firewall driver instead of iptables_hybrid\nis improving performance in all traffic scenarios (L2, L3 E-W,\nL3 N-S). Here are the TCP stream performance numbers for the two\nfirewall drivers in different traffic scenarios with sender and\nreceiver on same compute vs spread across different computes.\nhttps://docs.google.com/spreadsheets/d/1Pch25lz9c8XJGEg4MLvDOPaZoZbfE0Aswh1GerHkdhc/edit?usp=sharing\nThe openvswitch firewall driver has been around since the Newton release and has matured quite a\nbit since then and is now stable. Also, Devstack now uses this as default upstream.\nhttps://review.openstack.org/#/c/568297/\n\nThis commit is changing default to openvswitch.\n\nChange-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d\n'}]",2,582245,8297e6f580c89d2a86cf67dcf2fcbdce13906db5,36,16,6,16845,,,0,"Change default neutron firewall driver to openvswitch

Using openvswitch firewall driver instead of iptables_hybrid
is improving performance in all traffic scenarios (L2, L3 E-W,
L3 N-S). Here are the TCP stream performance numbers for the two
firewall drivers in different traffic scenarios with sender and
receiver on same compute vs spread across different computes.
https://docs.google.com/spreadsheets/d/1Pch25lz9c8XJGEg4MLvDOPaZoZbfE0Aswh1GerHkdhc/edit?usp=sharing
The openvswitch firewall driver has been around since the Newton release and has matured quite a
bit since then and is now stable. Also, Devstack now uses this as default upstream.
https://review.openstack.org/#/c/568297/

This commit is changing default to openvswitch.

Change-Id: I35beaa0f88638845cbaf347e777c58d0dfcd3c0d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/582245/3 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/neutron-plugin-ml2.yaml'],1,0360570917fb72a70e31b0119c6149b8d199cb05,, default: 'openvswitch', default: 'iptables_hybrid',1,1
openstack%2Ftripleo-heat-templates~master~I1c2767f84917979b4be6d3eeeb3243ef6591c750,openstack/tripleo-heat-templates,master,I1c2767f84917979b4be6d3eeeb3243ef6591c750,Only run tripleo_puppet_cache when container-puppet.py runs,ABANDONED,2020-01-31 17:47:31.000000000,2020-08-06 21:52:40.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-31 17:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02ab3bc2af0aba1a8534ecc9f7eac97f689829f4', 'message': 'Only run tripleo_puppet_cache when container-puppet.py runs\n\nRebuilding the puppet fact cache is used to speed up\ncontainer-puppet.py, so only rebuild the cache for a step that runs\ncontainer-puppet.py.\n\nThis means at step 1, where the task can be moved into the\ngenerate-config-tasks.yaml tasks files.\n\nAnd, at any step where a host container-puppet task is defined. For our\ndefault Controller, this is one task at step 3, and one a step\n4. The tripleo_puppet_cache task can be moved into\nhost-container-puppet-tasks.yaml to make sure it runs when these\ntasks are defined.\n\nEffictively, this would save running the role at steps 2 and 5 for\nControllers and steps 2 through 5 for Computes (or any other role that\ndefines no host container-puppet tasks).\n\nChange-Id: I1c2767f84917979b4be6d3eeeb3243ef6591c750\n'}, {'number': 2, 'created': '2020-02-05 13:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1dfcee412814d9fd12f0574ec17e8898d6f775a', 'message': 'Only run tripleo_puppet_cache when container-puppet.py runs\n\nRebuilding the puppet fact cache is used to speed up\ncontainer-puppet.py, so only rebuild the cache for a step that runs\ncontainer-puppet.py.\n\nThis means at step 1, where the task can be moved into the\ngenerate-config-tasks.yaml tasks files.\n\nAnd, at any step where a host container-puppet task is defined. For our\ndefault Controller, this is one task at step 3, and one a step\n4. The tripleo_puppet_cache task can be moved into\nhost-container-puppet-tasks.yaml to make sure it runs when these\ntasks are defined.\n\nEffictively, this would save running the role at steps 2 and 5 for\nControllers and steps 2 through 5 for Computes (or any other role that\ndefines no host container-puppet tasks).\n\nChange-Id: I1c2767f84917979b4be6d3eeeb3243ef6591c750\n'}, {'number': 3, 'created': '2020-02-11 01:17:21.000000000', 'files': ['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6892632083548f3b1c0c56317dff5554b74bd878', 'message': 'Only run tripleo_puppet_cache when container-puppet.py runs\n\nRebuilding the puppet fact cache is used to speed up\ncontainer-puppet.py, so only rebuild the cache for a step that runs\ncontainer-puppet.py.\n\nThis means at step 1, where the task can be moved into the\ngenerate-config-tasks.yaml tasks files.\n\nAnd, at any step where a host container-puppet task is defined. For our\ndefault Controller, this is one task at step 3, and one a step\n4. The tripleo_puppet_cache task can be moved into\nhost-container-puppet-tasks.yaml to make sure it runs when these\ntasks are defined.\n\nEffictively, this would save running the role at steps 2 and 5 for\nControllers and steps 2 through 5 for Computes (or any other role that\ndefines no host container-puppet tasks).\n\nChange-Id: I1c2767f84917979b4be6d3eeeb3243ef6591c750\n'}]",2,705262,6892632083548f3b1c0c56317dff5554b74bd878,17,7,3,7144,,,0,"Only run tripleo_puppet_cache when container-puppet.py runs

Rebuilding the puppet fact cache is used to speed up
container-puppet.py, so only rebuild the cache for a step that runs
container-puppet.py.

This means at step 1, where the task can be moved into the
generate-config-tasks.yaml tasks files.

And, at any step where a host container-puppet task is defined. For our
default Controller, this is one task at step 3, and one a step
4. The tripleo_puppet_cache task can be moved into
host-container-puppet-tasks.yaml to make sure it runs when these
tasks are defined.

Effictively, this would save running the role at steps 2 and 5 for
Controllers and steps 2 through 5 for Computes (or any other role that
defines no host container-puppet tasks).

Change-Id: I1c2767f84917979b4be6d3eeeb3243ef6591c750
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/705262/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks.yaml']",3,02ab3bc2af0aba1a8534ecc9f7eac97f689829f4,scale-2020,," ######################################### # Pre-cache facts for container-puppet.py ######################################### # We don't want the pre-cache tasks to be skipped in dry-run so we force # check_mode to ""no"". # https://bugzilla.redhat.com/show_bug.cgi?id=1738529 - name: Pre-cache facts for container-puppet.py include_role: name: tripleo_puppet_cache tags: - container_config - container_config_tasks ",26,13
openstack%2Ftripleo-heat-templates~master~I91c4bf50c55fe437e0f93235393aaff09708638d,openstack/tripleo-heat-templates,master,I91c4bf50c55fe437e0f93235393aaff09708638d,Remove show_multiple_locations in glance,ABANDONED,2020-02-21 13:05:51.000000000,2020-08-06 21:52:39.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 13:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58e936fb64769dc572d0836a3611e489af2d2b3b', 'message': 'Remove GlanceShowMultipleLocations\n\n... because the show_multiple_locations parameter was deprecated[1] in\nglance due to its security risk.\n\n[1] dbfc121072dff4981532b068bb210f9c73c7b98c\nChange-Id: I91c4bf50c55fe437e0f93235393aaff09708638d\n'}, {'number': 2, 'created': '2020-02-24 15:03:46.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/remove-glance-show_multiple_locations-8637cea8739ad88c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/732d85822612c19e8efdbf62e5d98b889e0f8a14', 'message': ""Remove show_multiple_locations in glance\n\nThis patch makes sure that we don't enable show_multiple_locations in\nglance, which was deprecated[1] due to its security risk.\n\nNote that we still set that parameter if NetApp NFS is used, because\nwe see that show_multiple_locations is still mentioned in NetApp\ndocumentation[2].\n\n[1] dbfc121072dff4981532b068bb210f9c73c7b98c\n[2] https://netapp-openstack-dev.github.io/openstack-docs/stein/glance/configuration/section_glance-enhanced-instance-config-NFS.html\nChange-Id: I91c4bf50c55fe437e0f93235393aaff09708638d\n""}]",0,709130,732d85822612c19e8efdbf62e5d98b889e0f8a14,16,7,2,9816,,,0,"Remove show_multiple_locations in glance

This patch makes sure that we don't enable show_multiple_locations in
glance, which was deprecated[1] due to its security risk.

Note that we still set that parameter if NetApp NFS is used, because
we see that show_multiple_locations is still mentioned in NetApp
documentation[2].

[1] dbfc121072dff4981532b068bb210f9c73c7b98c
[2] https://netapp-openstack-dev.github.io/openstack-docs/stein/glance/configuration/section_glance-enhanced-instance-config-NFS.html
Change-Id: I91c4bf50c55fe437e0f93235393aaff09708638d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/709130/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/remove-glance-show_multiple_locations-8637cea8739ad88c.yaml']",2,58e936fb64769dc572d0836a3611e489af2d2b3b,dep-multi-location,"--- deprecations: - | GlanceShowMultipleLocations parameter was removed and has no effect, as the show_multiple_locations parmaeter was deprecated in glance due to its security risk. ",,11,8
openstack%2Ftripleo-heat-templates~master~I298d639c128e58d3c2b8644a2e3017ebf723bbee,openstack/tripleo-heat-templates,master,I298d639c128e58d3c2b8644a2e3017ebf723bbee,Set right number of keystone workers,ABANDONED,2020-01-10 19:47:41.000000000,2020-08-06 21:52:37.000000000,,"[{'_account_id': 5046}, {'_account_id': 14985}, {'_account_id': 16845}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-10 19:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62e2dadda88d40733a3fc7f0142c3b11f8ea9a25', 'message': 'Set right number of keystone workers\n\nThis patch in conjunction with https://review.opendev.org/#/c/702031/\nwill help bring keystone performance back to previous levels, so we do not see out\nof the box regressions[0].\n\n[0]- https://bugzilla.redhat.com/show_bug.cgi?id=1789495\n\nChange-Id: I298d639c128e58d3c2b8644a2e3017ebf723bbee\n'}, {'number': 2, 'created': '2020-01-10 19:49:48.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b38e9c1d79444e7ab69d398d973d69fa2e338dae', 'message': 'Set right number of keystone workers\n\nThis patch in conjunction with https://review.opendev.org/#/c/702031/\nwill help bring keystone performance back to previous levels, so we do not see out\nof the box regressions[0]. This patch along with the puppet-keystone patch was needed\nas it wasnt possible to directly change the default value to be ::os_workers * 2 in the template.\n\n[0]- https://bugzilla.redhat.com/show_bug.cgi?id=1789495\n\nChange-Id: I298d639c128e58d3c2b8644a2e3017ebf723bbee\n'}]",1,702032,b38e9c1d79444e7ab69d398d973d69fa2e338dae,12,6,2,16845,,,0,"Set right number of keystone workers

This patch in conjunction with https://review.opendev.org/#/c/702031/
will help bring keystone performance back to previous levels, so we do not see out
of the box regressions[0]. This patch along with the puppet-keystone patch was needed
as it wasnt possible to directly change the default value to be ::os_workers * 2 in the template.

[0]- https://bugzilla.redhat.com/show_bug.cgi?id=1789495

Change-Id: I298d639c128e58d3c2b8644a2e3017ebf723bbee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/702032/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,62e2dadda88d40733a3fc7f0142c3b11f8ea9a25,keystone_workers," type: number default: 0 keystone_workers_unset: {equals : [{get_param: KeystoneWorkers}, 0]} - if: - keystone_workers_unset - {} - keystone::wsgi::apache::workers: {get_param: KeystoneWorkers}", type: string default: '%{::os_workers}',8,2
openstack%2Ftripleo-heat-templates~master~I53d96a565f134d7cc62fa33ee78cce8660465298,openstack/tripleo-heat-templates,master,I53d96a565f134d7cc62fa33ee78cce8660465298,Remove Mistral configuration from the undercloud,ABANDONED,2020-03-11 14:40:37.000000000,2020-08-06 21:52:36.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 14:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8302f0b139b06070e693859a90995c91a433d2c3', 'message': 'Start to remove Mistral from the undercloud\n\nChange-Id: I53d96a565f134d7cc62fa33ee78cce8660465298\n'}, {'number': 2, 'created': '2020-03-11 14:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f909fe4edbc7dbb7aa0b9d582d6dea551920f25', 'message': 'Remove Mistral configuration of the undercloud\n\nChange-Id: I53d96a565f134d7cc62fa33ee78cce8660465298\n'}, {'number': 3, 'created': '2020-03-13 14:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/679cbbe4d1ab79b2927516d07874d308667eed08', 'message': 'Remove Mistral configuration of the undercloud\n\nChange-Id: I53d96a565f134d7cc62fa33ee78cce8660465298\n'}, {'number': 4, 'created': '2020-03-13 14:16:08.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad78be0d15d67bb477691e582a3a825e8f655c78', 'message': 'Remove Mistral configuration from the undercloud\n\nDepends-On: https://review.opendev.org/#/c/711565/\nChange-Id: I53d96a565f134d7cc62fa33ee78cce8660465298\n'}]",0,712460,ad78be0d15d67bb477691e582a3a825e8f655c78,9,3,4,9712,,,0,"Remove Mistral configuration from the undercloud

Depends-On: https://review.opendev.org/#/c/711565/
Change-Id: I53d96a565f134d7cc62fa33ee78cce8660465298
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/712460/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'extraconfig/post_deploy/undercloud_post.py', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml']",4,8302f0b139b06070e693859a90995c91a433d2c3,mistral_to_ansible,, - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralEventEngine - OS::TripleO::Services::MistralExecutor,0,90
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iddfbb649b3161a69a7d9a4a81b6913919d307d01,openstack/tripleo-heat-templates,stable/rocky,Iddfbb649b3161a69a7d9a4a81b6913919d307d01,Add Octavia driver agent service,ABANDONED,2020-03-17 12:55:23.000000000,2020-08-06 21:52:35.000000000,,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 12:55:23.000000000', 'files': ['docker/services/octavia-api.yaml', 'releasenotes/notes/add-octavia-driver-agent-support-470fa6fd769c8428.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09319b2e91940af4c08c5d54e8d69282663ce15d', 'message': 'Add Octavia driver agent service\n\nInitial addition of the octavia driver agent service which is required\nfor the Octavia OVN provider.\n\nConflicts:\n    docker/services/octavia-api.yaml\n\nDepends-On: https://review.opendev.org/#/c/697993/\n\nChange-Id: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\n(cherry picked from commit 9e8d4e3c203fab396c653ffaad81ad6c869cc304)\n(cherry picked from commit 58c36233bc8c72805ad3640798eadf07b69e6684)\n(cherry picked from commit 1b2e0882118138b6ea85a0cc7c4a271b64e42fd6)\n'}]",0,713429,09319b2e91940af4c08c5d54e8d69282663ce15d,5,4,1,6681,,,0,"Add Octavia driver agent service

Initial addition of the octavia driver agent service which is required
for the Octavia OVN provider.

Conflicts:
    docker/services/octavia-api.yaml

Depends-On: https://review.opendev.org/#/c/697993/

Change-Id: Iddfbb649b3161a69a7d9a4a81b6913919d307d01
(cherry picked from commit 9e8d4e3c203fab396c653ffaad81ad6c869cc304)
(cherry picked from commit 58c36233bc8c72805ad3640798eadf07b69e6684)
(cherry picked from commit 1b2e0882118138b6ea85a0cc7c4a271b64e42fd6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/713429/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/octavia-api.yaml', 'releasenotes/notes/add-octavia-driver-agent-support-470fa6fd769c8428.yaml']",2,09319b2e91940af4c08c5d54e8d69282663ce15d,octavia-backport-rocky,--- features: - | Added support for running the Octavia driver agent in a container. This will enable features such as the OVN load balancer provider in octavia as well as other third party providers. ,,54,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ib0a11163d24382308a1e9bf34cfb576e2b0ac443,openstack/tripleo-heat-templates,stable/rocky,Ib0a11163d24382308a1e9bf34cfb576e2b0ac443,Add ApacheMaxMaxClients property to set maxclients,ABANDONED,2020-04-08 13:44:58.000000000,2020-08-06 21:52:33.000000000,,"[{'_account_id': 7130}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-08 13:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/179bf13e4a24518bf6efb6f50e4149ac8af07329', 'message': 'Add ApacheMaxMaxClients property to set apache::mod::prefork::maxclients\n\nAdd ApacheMaxMaxClients property to set apache::mod::prefork::maxclients\nand change add ApacheMaxRequestWorkers to set apache::mod::prefork::maxrequestworkers\nas the current setting ApacheMaxRequestWorkers sets maxclients and this\nis confusing.\n\nChange-Id: Ib0a11163d24382308a1e9bf34cfb576e2b0ac443\n'}, {'number': 2, 'created': '2020-04-08 13:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a0ceeaf94dd3a2ac3e87a40c0dcfc7ce4202af9', 'message': 'Add ApacheMaxMaxClients property to set apache::mod::prefork::maxclients\n\nAdd ApacheMaxMaxClients property to set apache::mod::prefork::maxclients\nand change add ApacheMaxRequestWorkers to set apache::mod::prefork::maxrequestworkers\nas the current setting ApacheMaxRequestWorkers sets maxclients and this\nis confusing.\n\nCloses-bug: #1871643\nChange-Id: Ib0a11163d24382308a1e9bf34cfb576e2b0ac443\n'}, {'number': 3, 'created': '2020-04-08 13:49:56.000000000', 'files': ['puppet/services/apache.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d013c88e371fd3eaad131225f363ea419854903b', 'message': 'Add ApacheMaxMaxClients property to set maxclients\n\nAdd ApacheMaxMaxClients property to set apache::mod::prefork::maxclients\nand change add ApacheMaxRequestWorkers to set apache::mod::prefork::maxrequestworkers\nas the current setting ApacheMaxRequestWorkers sets maxclients and this\nis confusing.\n\nCloses-bug: #1871643\nChange-Id: Ib0a11163d24382308a1e9bf34cfb576e2b0ac443\n'}]",0,718454,d013c88e371fd3eaad131225f363ea419854903b,10,5,3,7130,,,0,"Add ApacheMaxMaxClients property to set maxclients

Add ApacheMaxMaxClients property to set apache::mod::prefork::maxclients
and change add ApacheMaxRequestWorkers to set apache::mod::prefork::maxrequestworkers
as the current setting ApacheMaxRequestWorkers sets maxclients and this
is confusing.

Closes-bug: #1871643
Change-Id: Ib0a11163d24382308a1e9bf34cfb576e2b0ac443
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/718454/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/apache.j2.yaml'],1,179bf13e4a24518bf6efb6f50e4149ac8af07329,, ApacheMaxMaxClients: ApacheMaxRequestWorkers: default: unset description: Maximum number of simultaneously processed requests. type: number apache::mod::prefork::maxclients: { get_param: ApacheMaxClients } apache::mod::prefork::maxrequestworkers: { get_param: ApacheMaxRequestWorkers }, ApacheMaxRequestWorkers: apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers },7,2
openstack%2Ftripleo-heat-templates~master~I3f0d29760a51828217ba2df3b60b73f305be654d,openstack/tripleo-heat-templates,master,I3f0d29760a51828217ba2df3b60b73f305be654d,use standalone jobs where available,ABANDONED,2019-10-10 16:25:49.000000000,2020-08-06 21:52:24.000000000,,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-10 16:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/053cf43e0bf9bd352b7f320a15da34f27406b2a7', 'message': 'use standalone jobs where available\n\nSee: https://review.opendev.org/#/c/687852/\nfor a reference\n\nChange-Id: I3f0d29760a51828217ba2df3b60b73f305be654d\n'}, {'number': 2, 'created': '2019-10-10 23:11:30.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80fe60965d57b76db2ab8e88fb3e19011c8c8538', 'message': 'use standalone jobs where available\n\nSee: https://review.opendev.org/#/c/687852/\nfor a reference\n\nChange-Id: I3f0d29760a51828217ba2df3b60b73f305be654d\n'}]",0,687952,80fe60965d57b76db2ab8e88fb3e19011c8c8538,20,6,2,9592,,,0,"use standalone jobs where available

See: https://review.opendev.org/#/c/687852/
for a reference

Change-Id: I3f0d29760a51828217ba2df3b60b73f305be654d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/687952/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,053cf43e0bf9bd352b7f320a15da34f27406b2a7,I3f0d29760a51828217ba2df3b60b73f305be654d, - tripleo-ci-centos-7-scenario007-standalone: - tripleo-ci-centos-7-scenario010-standalone:, - tripleo-ci-centos-7-scenario007-multinode-oooq-container: - tripleo-ci-centos-7-scenario010-multinode-oooq-container:,2,2
openstack%2Ftripleo-heat-templates~master~I5e3fe88b41c05322844edd4ad0551364460bb3ba,openstack/tripleo-heat-templates,master,I5e3fe88b41c05322844edd4ad0551364460bb3ba,Remove clients for unsupported services from lower-constraints,ABANDONED,2020-04-09 00:39:49.000000000,2020-08-06 21:52:22.000000000,,"[{'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-09 00:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1de7f4476b5cf16c3943490217fb2d8dcb9c9769', 'message': 'Remove client for unsupported services from lower-constraint\n\nChange-Id: I5e3fe88b41c05322844edd4ad0551364460bb3ba\n'}, {'number': 2, 'created': '2020-04-09 00:40:53.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87b7070beef674554ec2e3cc13c665c2f42c3855', 'message': 'Remove clients for unsupported services from lower-constraints\n\nChange-Id: I5e3fe88b41c05322844edd4ad0551364460bb3ba\n'}]",1,718583,87b7070beef674554ec2e3cc13c665c2f42c3855,8,5,2,9816,,,0,"Remove clients for unsupported services from lower-constraints

Change-Id: I5e3fe88b41c05322844edd4ad0551364460bb3ba
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/718583/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,1de7f4476b5cf16c3943490217fb2d8dcb9c9769,lower-client,,python-glareclient==0.3.0python-magnumclient==2.1.0python-muranoclient==0.8.2python-senlinclient==1.1.0,0,4
openstack%2Ftripleo-heat-templates~master~I1a6a00141009f54d96fd7add2671812dfd46ad91,openstack/tripleo-heat-templates,master,I1a6a00141009f54d96fd7add2671812dfd46ad91,"DNM, test centos-8 updates to layout",ABANDONED,2020-04-20 21:11:13.000000000,2020-08-06 21:52:21.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-20 21:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cf1ac6c3d2e59bc6cf47a819f5d6bd48382044b', 'message': 'DNM, test centos-8 updates to layout\n\nChange-Id: I1a6a00141009f54d96fd7add2671812dfd46ad91\n'}, {'number': 2, 'created': '2020-04-20 21:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/703acda9391030d4a362c5b1ab29440c400d1d35', 'message': 'DNM, test centos-8 updates to layout\n\nChange-Id: I1a6a00141009f54d96fd7add2671812dfd46ad91\n'}, {'number': 3, 'created': '2020-04-20 21:24:19.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59748a03f7f110911e792f0369219239e46e8403', 'message': 'DNM, test centos-8 updates to layout\n\nChange-Id: I1a6a00141009f54d96fd7add2671812dfd46ad91\n'}]",2,721344,59748a03f7f110911e792f0369219239e46e8403,8,3,3,9592,,,0,"DNM, test centos-8 updates to layout

Change-Id: I1a6a00141009f54d96fd7add2671812dfd46ad91
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/721344/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,4cf1ac6c3d2e59bc6cf47a819f5d6bd48382044b,, - tripleo-ci-centos-8-scenario007-multinode-oooq-container: - tripleo-ci-centos-8-scenario010-multinode-oooq-container: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-8-scenario011-multinode-oooq-container:, - tripleo-ci-centos-7-scenario007-multinode-oooq-container: - tripleo-ci-centos-7-scenario010-multinode-oooq-container: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-7-scenario011-multinode-oooq-container:,4,4
openstack%2Ftripleo-heat-templates~master~I584b1d07e17cd24183eabb48424760361faf211c,openstack/tripleo-heat-templates,master,I584b1d07e17cd24183eabb48424760361faf211c,"DNM, test NeutronL3HA w/ scenario007 multinode",ABANDONED,2020-04-20 19:35:58.000000000,2020-08-06 21:52:18.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-20 19:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cf085babdf98a5ec52518b02ec0fd6c25afc755', 'message': 'DNM, test NeutronL3HA w/ scenario007 multinode\n\nChange-Id: I584b1d07e17cd24183eabb48424760361faf211c\n'}, {'number': 2, 'created': '2020-04-20 21:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8c844027a400fd2a0f1e9abd0b23f4f0d88167e', 'message': 'DNM, test NeutronL3HA w/ scenario007 multinode\n\nChange-Id: I584b1d07e17cd24183eabb48424760361faf211c\n'}, {'number': 3, 'created': '2020-04-20 21:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ac6ed2edc801c79265a8a9ba7a801d531e87101', 'message': 'DNM, test NeutronL3HA w/ scenario007 multinode\n\nChange-Id: I584b1d07e17cd24183eabb48424760361faf211c\n'}, {'number': 4, 'created': '2020-04-20 21:25:43.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario007-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a0d0efd45993aebdf2dbd1ea91775d84ca577c5', 'message': 'DNM, test NeutronL3HA w/ scenario007 multinode\n\nChange-Id: I584b1d07e17cd24183eabb48424760361faf211c\n'}]",0,721331,1a0d0efd45993aebdf2dbd1ea91775d84ca577c5,10,4,4,9592,,,0,"DNM, test NeutronL3HA w/ scenario007 multinode

Change-Id: I584b1d07e17cd24183eabb48424760361faf211c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/721331/4 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario007-multinode-containers.yaml'],1,9cf085babdf98a5ec52518b02ec0fd6c25afc755,, NeutronL3HA: true,,1,0
openstack%2Ftripleo-heat-templates~master~Ie9b815988db3b23ab5363ce858c2721f59746b34,openstack/tripleo-heat-templates,master,Ie9b815988db3b23ab5363ce858c2721f59746b34,DNM - testing new healthcheck validation,ABANDONED,2020-05-07 15:44:12.000000000,2020-08-06 21:52:16.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-07 15:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4195b1c468c81e68942999f0083bd41ae187ce55', 'message': 'DNM - testing new healthcheck validation\n\nDepends-On: https://review.opendev.org/721588\nChange-Id: Ie9b815988db3b23ab5363ce858c2721f59746b34\n'}, {'number': 2, 'created': '2020-05-07 15:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d56d8f0a11f2d18d958465b070001b61ad891c9', 'message': 'DNM - testing new healthcheck validation\n\nDepends-On: https://review.opendev.org/721588\nChange-Id: Ie9b815988db3b23ab5363ce858c2721f59746b34\n'}, {'number': 3, 'created': '2020-05-08 06:08:13.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f90151a7ddead71b6cf4babde1213e1f4f7eecf', 'message': 'DNM - testing new healthcheck validation\n\nDepends-On: https://review.opendev.org/721588\nChange-Id: Ie9b815988db3b23ab5363ce858c2721f59746b34\n'}]",0,726182,5f90151a7ddead71b6cf4babde1213e1f4f7eecf,10,4,3,28223,,,0,"DNM - testing new healthcheck validation

Depends-On: https://review.opendev.org/721588
Change-Id: Ie9b815988db3b23ab5363ce858c2721f59746b34
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/726182/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-container-puppet.yaml'],1,4195b1c468c81e68942999f0083bd41ae187ce55,dummy-healthcheck-test,# DNM - dummy patch,,1,0
openstack%2Ftripleo-heat-templates~master~Ibb3b622825fd684088e7a1760a6275170d8b238f,openstack/tripleo-heat-templates,master,Ibb3b622825fd684088e7a1760a6275170d8b238f,[DO NOT MERGE] leapp workarounds,ABANDONED,2019-05-09 09:30:22.000000000,2020-08-06 21:52:14.000000000,,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-09 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee9c4d4f17545748cec07d6fdd570081d99b2a47', 'message': '[DO NOT MERGE] ethX check workaround\n\nWe just test with this now in virt environments. We still need to\ndecide how to handle this check.\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 2, 'created': '2019-05-09 09:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecf0006d8657cf11928e74dd021a710298bfa7e5', 'message': '[DO NOT MERGE] ethX check workaround\n\nWe just test with this now in virt environments. We still need to\ndecide how to handle this check.\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 3, 'created': '2019-05-09 13:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95a83614eb0f5f33af9713a077ec92f4f1887dc6', 'message': '[DO NOT MERGE] ethX check workaround\n\nWe just test with this now in virt environments. We still need to\ndecide how to handle this check.\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 4, 'created': '2019-05-15 08:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d75971cfe1e8b705f22b3086ccea5cce92748f66', 'message': '[DO NOT MERGE] ethX check workaround\n\nWe just test with this now in virt environments. We still need to\ndecide how to handle this check.\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 5, 'created': '2019-05-15 08:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0193fd1730a32242cad9e45d68eabc20de47b8d1', 'message': '[DO NOT MERGE] ethX check workaround\n\nWe just test with this now in virt environments. We still need to\ndecide how to handle this check.\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 6, 'created': '2019-05-23 15:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1a3642f0d0600e2409ad5f3d201558c24c464be', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 7, 'created': '2019-05-28 13:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25d752df33b109040802e65774d5eda53b736b28', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 8, 'created': '2019-05-28 13:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb103641fc911be84fd5ea57ee63d8c236fec66f', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 9, 'created': '2019-05-29 07:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77ee89411c3d6d4d1f78d6f901fd43d5240632b9', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 10, 'created': '2019-05-29 10:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b6dd5d50e8bf87851f97720f1e813897e5d82dc', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 11, 'created': '2019-05-29 11:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/488047a4fc7ff2dceec6e66ea7eed3a46261de30', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 12, 'created': '2019-05-29 14:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a55e2e53011e543710087ed16f56293196209b18', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 13, 'created': '2019-05-30 11:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbca2bae97ef680ff45e3afd4908d55b3a92b36f', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 14, 'created': '2019-05-30 15:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6ef4880ccf4a6069108967ba13b79eb3ac5a97b', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 15, 'created': '2019-05-31 12:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/795098e447e2853c2bdaa712aed2478e82c6b8cb', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 16, 'created': '2019-05-31 13:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7a3ef37f969a0f675a1505c62d614511f2f75fa', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 17, 'created': '2019-06-05 04:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a52ef9ebd13d0d2b24838a449d2cf07ecb079ec', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 18, 'created': '2019-06-05 12:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ea476d8c5ca0de5e4c1a8bdb284d918a576dddb', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 19, 'created': '2019-06-06 12:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/638799f29c6aaf28dd2723da4513429ff36e874b', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 20, 'created': '2019-06-07 13:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07592dcf66f17ba06df6623b4b6e127c29714549', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 21, 'created': '2019-06-10 15:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00dd37be9201d8131d0d1dffe5a70ef4fa45702c', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 22, 'created': '2019-06-11 10:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c4122fb445429422ee1e98d83e44e776e60fbc0', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 23, 'created': '2019-06-12 12:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3967f61e88a43626e779766af0d16fc7de18d083', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 24, 'created': '2019-06-12 12:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1310342109e0e22a242baf1bb8018098bd7ab373', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 25, 'created': '2019-06-13 11:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed3a840be83d7fad816d9ee720ce0b79e9b12851', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 26, 'created': '2019-06-24 13:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f039443f80a10a239261a10d4e1598bfed922a4a', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 27, 'created': '2019-08-07 10:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b1cdab4d44de67b70fab183ed9e80cd4835fb28', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 28, 'created': '2019-08-08 11:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a74fd184dce7aa99b86fcd06cb319e9bf1ba4679', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 29, 'created': '2019-08-09 07:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9800c7a802df29e82f3d0227e39ce39732e0117f', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}, {'number': 30, 'created': '2019-08-13 15:02:27.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7f3f396c621f7f251902372b19ac27a59cc2ef7', 'message': '[DO NOT MERGE] leapp workarounds\n\nChange-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f\n'}]",1,657962,e7f3f396c621f7f251902372b19ac27a59cc2ef7,80,5,30,8042,,,0,"[DO NOT MERGE] leapp workarounds

Change-Id: Ibb3b622825fd684088e7a1760a6275170d8b238f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/657962/11 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ee9c4d4f17545748cec07d6fdd570081d99b2a47,leapp," - name: workaround ethX check shell: | sed -i -e 's/tags = (FactsPhaseTag, IPUWorkflowTag)/tags = (FactsPhaseTag, IPUWorkflowTag, ExperimentalTag)/' /usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/persi stentnetnamesdisable/actor.py",,4,0
openstack%2Ftripleo-heat-templates~master~Ia9911fecb111030ad5ac3add4e05206c02b83f54,openstack/tripleo-heat-templates,master,Ia9911fecb111030ad5ac3add4e05206c02b83f54,Adds install-hotfix-container.sh,ABANDONED,2019-09-07 11:19:58.000000000,2020-08-06 21:52:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-07 11:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/690f288e3591c1e1457b0e80690e17d1f8c4d0ab', 'message': 'Adds install-hotfix-container.sh\n\nThis script builds the hotfix for your containers\nand can upload them to registry as well as start.\n\nChange-Id: Ia9911fecb111030ad5ac3add4e05206c02b83f54\n'}, {'number': 2, 'created': '2019-09-07 11:24:28.000000000', 'files': ['tools/install-hotfix-containers.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca7e0476eeb045140ac17e6c9b2234778fe8d140', 'message': 'Adds install-hotfix-container.sh\n\nThis script builds the hotfix for your containers\nand can upload them to registry as well as start.\n\nChange-Id: Ia9911fecb111030ad5ac3add4e05206c02b83f54\n'}]",0,680804,ca7e0476eeb045140ac17e6c9b2234778fe8d140,8,6,2,19521,,,0,"Adds install-hotfix-container.sh

This script builds the hotfix for your containers
and can upload them to registry as well as start.

Change-Id: Ia9911fecb111030ad5ac3add4e05206c02b83f54
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/680804/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/install-hotfix-containers.sh'],1,690f288e3591c1e1457b0e80690e17d1f8c4d0ab,install-hotfix-container,"#!/bin/bash # help() { echo ""usage: $program [-h|--help] [-r|--registry] [-d|--debug] [build|start|upload|rollback|delete|rollback_deleted]"" echo """" echo ""This program builds the hotfix for your containers"" echo ""and can upload them to registry as well start."" echo """" echo ""Arguments:"" echo "" -d|--debug Enable debug"" echo "" -h|--help Displays this help"" echo "" -r|--registry Push destination for image"" echo "" -n|--name Name of the container"" echo "" -b|--bugzilla Bugzilla"" echo """" echo ""Options:"" echo "" build Builds the local container"" echo "" start Starts the container"" echo "" upload Uploads to registry"" echo "" delete Deletes the original container"" echo "" rollback Rollbacks the hotfix"" echo "" rollback_deleted Rollbacks the hotfix after deleting original one"" echo """" } build() { HOTFIX_DIRECTORY=""$HOME/${CONTAINER_NAME}_tag-${BUGZILLA_ID}"" CONTAINER_IMAGE=$(${CONTAINER_TECHNOLOGY} inspect --format='{{.Config.Image}}' ${CONTAINER_NAME}) CONTAINER_USER=$(${CONTAINER_TECHNOLOGY} inspect --format='{{.Config.User}}' ${CONTAINER_NAME}) CONTAINER_LABEL_NAME=$(${CONTAINER_TECHNOLOGY} inspect --format='{{.Config.Labels.name}}' ${CONTAINER_NAME}) echo ""==================================="" echo ""[INFO] Building Hotfix: ${CONTAINER_LABEL_NAME}:hotfix-${BUGZILLA_ID}"" echo ""==================================="" echo """" echo ""[INFO] Using rpms: $RPMS"" echo """" if [[ ! -d ${HOTFIX_DIRECTORY} ]]; then mkdir ${HOTFIX_DIRECTORY} fi cp ${RPMS} ${HOTFIX_DIRECTORY} declare -a LIST_OF_RPMS=() for RPM in ${RPMS} do LIST_OF_RPMS+=$(echo $RPM | sed -e 's/-[0-9].*/ /') done echo ""FROM $CONTAINER_IMAGE"" > ${HOTFIX_DIRECTORY}/Dockerfile echo ""USER $CONTAINER_USER"" >> ${HOTFIX_DIRECTORY}/Dockerfile echo ""COPY $RPMS /tmp/"" >> ${HOTFIX_DIRECTORY}/Dockerfile echo ""RUN rpm -e ${LIST_OF_RPMS} && rpm -i /tmp/*.rpm && rm -f /tmp/*.rpm"" >> ${HOTFIX_DIRECTORY}/Dockerfile echo ""==================================="" echo ""[INFO] Created Dockerfile"" echo ""==================================="" cat ${HOTFIX_DIRECTORY}/Dockerfile echo """" echo ""==================================="" echo ""[INFO] Initializing Build"" echo ""==================================="" ${CONTAINER_TECHNOLOGY} build -t ${CONTAINER_LABEL_NAME}:hotfix-${BUGZILLA_ID} ${HOTFIX_DIRECTORY} } start() { HOTFIX_DIRECTORY=""$HOME/${CONTAINER_NAME}_tag-${BUGZILLA_ID}"" CONTAINER_LABEL_NAME=$(${CONTAINER_TECHNOLOGY} inspect --format='{{.Config.Labels.name}}' ${CONTAINER_NAME}) PAUNCH_STEP=1 while [[ ${PAUNCH_STEP} < 7 ]] do if [[ ""$(jq .${CONTAINER_NAME} /var/lib/tripleo-config/hashed-docker-container-startup-config-step_${PAUNCH_STEP}.json)"" == ""null"" ]] then ((PAUNCH_STEP++)) continue fi break done echo ""==================================="" echo ""[INFO] Starting Hotfix container ${CONTAINER_NAME}"" echo ""==================================="" paunch debug --file /var/lib/tripleo-config/hashed-docker-container-startup-config-step_${PAUNCH_STEP}.json --container ${CONTAINER_NAME} --action dump-json > ${HOTFIX_DIRECTORY}/${CONTAINER_NAME}.json sed -i -e ""s#\(\""image\"": \""\)\(.*\)\(\"",\)#\1${CONTAINER_LABEL_NAME}\:hotfix-${BUGZILLA_ID}\3#"" ${HOTFIX_DIRECTORY}/${CONTAINER_NAME}.json echo """" echo ""==================================="" echo ""[INFO] Using Paunch Configuration"" echo ""==================================="" cat ${HOTFIX_DIRECTORY}/${CONTAINER_NAME}.json echo """" echo ""==================================="" echo ""[INFO] Stopping original container"" echo ""==================================="" echo ""This process will stop the current container ${CONTAINER_NAME}"" echo ""it may cause interruptions to your service"" read -p ""Do you agree to stop the container? Type: Yes or anything else to cancel: "" user_answer if [[ ""${user_answer}"" != ""Yes"" ]] then echo ""Canceling the Hotfix operation."" exit 0 fi ${CONTAINER_TECHNOLOGY} stop ${CONTAINER_NAME} ${CONTAINER_TECHNOLOGY} rename ${CONTAINER_NAME} ${CONTAINER_NAME}_old echo """" echo ""==================================="" echo ""[INFO] Starting patched container"" echo ""==================================="" paunch debug --file ${HOTFIX_DIRECTORY}/${CONTAINER_NAME}.json --container ${CONTAINER_NAME} --action run echo """" echo ""Hotfix installed successfully."" echo ""Please verify the functionality and if you are satisfied delete the original container"" echo """" echo ""${program} --name ${CONTAINER_NAME} --bugzilla ${BUGZILLA_ID} delete"" echo """" } delete() { echo ""==================================="" echo ""[INFO] Deleting original container ${CONTAINER_NAME}"" echo ""==================================="" ${CONTAINER_TECHNOLOGY} rm ${CONTAINER_NAME}_old } upload() { CONTAINER_IMAGE=$(${CONTAINER_TECHNOLOGY} inspect --format='{{.Config.Image}}' ${CONTAINER_NAME}) echo ""==================================="" echo ""[INFO] Uploading image ${CONTAINER_IMAGE}"" echo ""[INFO] Push destination is ${REGISTRY_NAME}"" echo ""==================================="" ${CONTAINER_TECHNOLOGY} tag ${CONTAINER_IMAGE} ${REGISTRY_NAME}/${CONTAINER_IMAGE} ${CONTAINER_TECHNOLOGY} push ${REGISTRY_NAME}/${CONTAINER_IMAGE} } rollback() { echo ""==================================="" echo ""[INFO] Rollback changes for ${CONTAINER_NAME}"" echo ""==================================="" ${CONTAINER_TECHNOLOGY} stop ${CONTAINER_NAME} ${CONTAINER_TECHNOLOGY} rm ${CONTAINER_NAME} ${CONTAINER_TECHNOLOGY} rename ${CONTAINER_NAME}_old ${CONTAINER_NAME} ${CONTAINER_TECHNOLOGY} start ${CONTAINER_NAME} } rollback_deleted() { HOTFIX_DIRECTORY=""$HOME/${CONTAINER_NAME}_tag-${BUGZILLA_ID}"" CONTAINER_LABEL_NAME=$(${CONTAINER_TECHNOLOGY} inspect --format='{{.Config.Labels.name}}' ${CONTAINER_NAME}) echo ""==================================="" echo ""[INFO] Rollback changes after deleting original container ${CONTAINER_NAME}"" echo ""==================================="" PAUNCH_STEP=1 while [[ ${PAUNCH_STEP} < 7 ]] do if [[ ""$(jq .${CONTAINER_NAME} /var/lib/tripleo-config/hashed-docker-container-startup-config-step_${PAUNCH_STEP}.json)"" == ""null"" ]] then ((PAUNCH_STEP++)) continue fi break done ${CONTAINER_TECHNOLOGY} stop ${CONTAINER_NAME} ${CONTAINER_TECHNOLOGY} rm ${CONTAINER_NAME} ${CONTAINER_TECHNOLOGY} rmi ${CONTAINER_LABEL_NAME}:hotfix-${BUGZILLA_ID} paunch debug --file /var/lib/tripleo-config/hashed-docker-container-startup-config-step_${PAUNCH_STEP}.json --container ${CONTAINER_NAME} --action dump-json > ${HOTFIX_DIRECTORY}/${CONTAINER_NAME}.json paunch debug --file ${HOTFIX_DIRECTORY}/${CONTAINER_NAME}.json --container ${CONTAINER_NAME} --action run } program=${0} CONTAINER_TECHNOLOGY=""docker"" if [ $# -eq 0 ] then help exit 0 fi while true do case $1 in -h|--help) help exit 0 ;; -d|--debug) export verbose=1 set -x ;; -n|--name) export CONTAINER_NAME=$2 shift ;; -r|--registry) export REGISTRY_NAME=$2 shift ;; -b|--bugzilla) export BUGZILLA_ID=$2 shift ;; build) shift RPMS=""$@"" build exit 0 ;; start) start exit 0 ;; delete) delete exit 0 ;; rollback_deleted) rollback_deleted exit 0 ;; rollback) rollback exit 0 ;; upload) upload exit 0 ;; *) exit 1 ;; esac shift done ",,253,0
openstack%2Ftripleo-heat-templates~master~Icc63f6ae2a865b37c8a28381ee670d47b2dcf70c,openstack/tripleo-heat-templates,master,Icc63f6ae2a865b37c8a28381ee670d47b2dcf70c,"Revert ""Convert kernel-baremetal-puppet to ansible""",ABANDONED,2019-09-12 20:34:51.000000000,2020-08-06 21:52:11.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 20:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e4e77f4783c80fb9dee03c75f5c96979bb9e010', 'message': 'Revert ""Convert kernel-baremetal-puppet to ansible""\n\nThis reverts commit 182c056fe973ce95181e3fde399fffa096175561.\n\nChange-Id: Icc63f6ae2a865b37c8a28381ee670d47b2dcf70c\n'}, {'number': 2, 'created': '2019-09-12 20:35:11.000000000', 'files': ['deployment/kernel/kernel-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/286b98360ab04dc7ecdb06eafe92b29114664d40', 'message': 'Revert ""Convert kernel-baremetal-puppet to ansible""\n\nThis reverts commit 182c056fe973ce95181e3fde399fffa096175561.\n\nChange-Id: Icc63f6ae2a865b37c8a28381ee670d47b2dcf70c\n'}]",0,681925,286b98360ab04dc7ecdb06eafe92b29114664d40,8,7,2,9592,,,0,"Revert ""Convert kernel-baremetal-puppet to ansible""

This reverts commit 182c056fe973ce95181e3fde399fffa096175561.

Change-Id: Icc63f6ae2a865b37c8a28381ee670d47b2dcf70c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/681925/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/kernel/kernel-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml']",3,2e4e77f4783c80fb9dee03c75f5c96979bb9e010,bug/1840180,,,1,147
openstack%2Fcinder~master~If7feef88b4ba24d7b94df78784dd02d67dcfe072,openstack/cinder,master,If7feef88b4ba24d7b94df78784dd02d67dcfe072,Correct spelling of dfs-sdk dependency,ABANDONED,2020-06-08 15:20:44.000000000,2020-08-06 21:42:44.000000000,,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-08 15:20:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b761d5ca051e32f8c83e0db2f7ab84ff96c5f521', 'message': ""Correct spelling of dfs-sdk dependency\n\nThe Datera SDK dependency was listed as dfs_sdk, but the actual package\nname is dfs-sdk [0], causing it to not match the correct spelling in\nglobal requirements [1]. This makes sure requirements clean up scripts\nwon't incorrectly flag this package as no longer used and remove it from\nglobal requirements.\n\n[0] https://pypi.org/project/dfs-sdk/\n[1] https://opendev.org/openstack/requirements/src/commit/2b14f43f19d779a952845b9c4ecb76f1a2e5fab1/global-requirements.txt#L220\n\nChange-Id: If7feef88b4ba24d7b94df78784dd02d67dcfe072\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,734121,b761d5ca051e32f8c83e0db2f7ab84ff96c5f521,38,27,1,11904,,,0,"Correct spelling of dfs-sdk dependency

The Datera SDK dependency was listed as dfs_sdk, but the actual package
name is dfs-sdk [0], causing it to not match the correct spelling in
global requirements [1]. This makes sure requirements clean up scripts
won't incorrectly flag this package as no longer used and remove it from
global requirements.

[0] https://pypi.org/project/dfs-sdk/
[1] https://opendev.org/openstack/requirements/src/commit/2b14f43f19d779a952845b9c4ecb76f1a2e5fab1/global-requirements.txt#L220

Change-Id: If7feef88b4ba24d7b94df78784dd02d67dcfe072
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/734121/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b761d5ca051e32f8c83e0db2f7ab84ff96c5f521,dfs-sdk, dfs-sdk>=1.2.25 # Apache-2.0, dfs_sdk>=1.2.25 # Apache-2.0,1,1
openstack%2Fsushy-tools~master~I46dd794750c182572d37bab3ebfcd608ceb1bb6c,openstack/sushy-tools,master,I46dd794750c182572d37bab3ebfcd608ceb1bb6c,Replace the static Manager driver with a new fake one,MERGED,2020-08-05 09:13:31.000000000,2020-08-06 21:42:04.000000000,2020-08-06 21:40:33.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2020-08-05 09:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4d440259d24e94ef3387e732cb709afe3c03d2f4', 'message': ""Simplify the Manager driver\n\nUse a get_manager call instead of uuid/name calls that transform\nidentities. Simplify get_manager to not fetch data it ignores anyway.\nMove the (broken) systems and chassis listing logic to the statis\nmanager driver, so that it can be replaced by something working.\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 2, 'created': '2020-08-05 09:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fcc7fc2f51c26cba413d4471e9274ee4164e3fc0', 'message': ""Simplify the Manager driver\n\nUse a get_manager call instead of uuid/name calls that transform\nidentities. Simplify get_manager to not fetch data it ignores anyway.\nMove the (broken) systems and chassis listing logic to the statis\nmanager driver, so that it can be replaced by something working.\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 3, 'created': '2020-08-05 09:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4ac6f453f097afcdfc66e04aae1b733a9f6e348e', 'message': ""Simplify the Manager driver\n\nUse a get_manager call instead of uuid/name calls that transform\nidentities. Simplify get_manager to not fetch data it ignores anyway.\nMove the (broken) systems and chassis listing logic to the statis\nmanager driver, so that it can be replaced by something working.\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 4, 'created': '2020-08-05 10:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/136ccacbac9012438985530137148ccc2d9fc448', 'message': ""Simplify the Manager driver\n\nUse a get_manager call instead of uuid/name calls that transform\nidentities. Simplify get_manager to not fetch data it ignores anyway.\nMove the (broken) systems and chassis listing logic to the statis\nmanager driver, so that it can be replaced by something working.\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 5, 'created': '2020-08-05 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e23bcccdcd860b922262c341e624437c657c0b00', 'message': ""Simplify the Manager driver\n\nUse a get_manager call instead of uuid/name calls that transform\nidentities. Simplify get_manager to not fetch data it ignores anyway.\nMove the (broken) systems and chassis listing logic to the statis\nmanager driver, so that it can be replaced by something working.\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 6, 'created': '2020-08-05 11:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4aa1d3164ba5e6e8de252660f07b52ae4a38dc0a', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 7, 'created': '2020-08-05 11:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6b155f4be2e3d5b1e9cc138bf537b7742250d960', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 8, 'created': '2020-08-05 12:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/574a95e88511ffcd2dc27ee999b6e6c1c121e18e', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 9, 'created': '2020-08-05 13:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/cc7dff5387eaa4c160a8fb548b957f899ebc811a', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 10, 'created': '2020-08-06 07:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/024c3d8b572fc4a2e86be59ee3fdcef5bc0fa0dd', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 11, 'created': '2020-08-06 08:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b542eed95697af83354aa2d02a73f51d4478708b', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 12, 'created': '2020-08-06 09:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/78f983e9c7f7659583a48ea78c7681669ab5685f', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}, {'number': 13, 'created': '2020-08-06 10:50:31.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/resources/managers/staticdriver.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/tests/unit/emulator/resources/managers/test_fake.py', 'sushy_tools/tests/unit/emulator/resources/managers/test_static.py', 'doc/source/user/dynamic-emulator.rst', 'sushy_tools/emulator/resources/managers/fakedriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b3bbb5b108216e39e5d6a98ae34e3ec38b568cf5', 'message': ""Replace the static Manager driver with a new fake one\n\nRefactors the Manager interface to provide a single get_manager call\ninstead of uuid/name calls that transform identities.\n\nAdd new calls to list systems and chassis per manager.\n\nDo not use jinja for rendering JSON, it's redundant, just use Python.\n\nFinally, provide a manager driver that ties a manager to a system\nin a 1-1 relationship. This fixes the current issue that one manager\nmanagers all systems, and thus a virtual media is always attached\nto all systems.\n\nChange-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c\n""}]",1,744862,b3bbb5b108216e39e5d6a98ae34e3ec38b568cf5,27,5,13,10239,,,0,"Replace the static Manager driver with a new fake one

Refactors the Manager interface to provide a single get_manager call
instead of uuid/name calls that transform identities.

Add new calls to list systems and chassis per manager.

Do not use jinja for rendering JSON, it's redundant, just use Python.

Finally, provide a manager driver that ties a manager to a system
in a 1-1 relationship. This fixes the current issue that one manager
managers all systems, and thus a virtual media is always attached
to all systems.

Change-Id: I46dd794750c182572d37bab3ebfcd608ceb1bb6c
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/62/744862/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/resources/managers/staticdriver.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/tests/unit/emulator/resources/managers/test_static.py']",6,4d440259d24e94ef3387e732cb709afe3c03d2f4,fake-manager," def test_get_manager_by_id(self): error.FishyError, self.test_driver.get_manager, def test_get_manager_by_name(self): error.FishyError, self.test_driver.get_manager, self.name) def test_get_manager_by_uuid(self): manager = self.test_driver.get_manager(str(domain_id)) def test_managed_systems(self): systems = mock.Mock(spec=['systems']) systems.systems = ['xxx'] self.assertEqual(['xxx'], self.test_driver.get_managed_systems(self.managers[0], systems)) def test_managed_chassis(self): chassis = mock.Mock(spec=['chassis']) chassis.chassis = ['xxx'] self.assertEqual(['xxx'], self.test_driver.get_managed_chassis(self.managers[0], chassis))"," def test__get_manager_by_id(self): error.AliasAccessError, self.test_driver._get_manager, def test__get_manager_by_name(self): error.AliasAccessError, self.test_driver._get_manager, self.name) def test__get_manager_by_uuid(self): manager = self.test_driver._get_manager(str(domain_id)) def test_uuid_ok(self): self.assertEqual(self.uuid, self.test_driver.uuid(self.uuid)) def test_uuid_fail(self): self.assertRaises(error.FishyError, self.test_driver.uuid, 'xxx') def test_name_ok(self): self.assertRaises(error.AliasAccessError, self.test_driver.name, self.name) def test_name_fail(self): self.assertRaises(error.FishyError, self.test_driver.name, 'xxx') ",133,151
openstack%2Fcinder~stable%2Fussuri~I2e598b235988eb53ec747fc761886e854b7086bb,openstack/cinder,stable/ussuri,I2e598b235988eb53ec747fc761886e854b7086bb,DNM: Test constrained installs,ABANDONED,2020-08-04 12:47:21.000000000,2020-08-06 21:41:50.000000000,,"[{'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-04 12:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe4f1c9121f3d00b0ce12cfa32d421a44b640d68', 'message': 'DNM: Test constrained installs\n\nChange-Id: I2e598b235988eb53ec747fc761886e854b7086bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-04 12:56:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc3879f7abb5516268a9052dfaffcc5edc35f992', 'message': 'DNM: Test constrained installs\n\nChange-Id: I2e598b235988eb53ec747fc761886e854b7086bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744698,bc3879f7abb5516268a9052dfaffcc5edc35f992,16,10,2,11904,,,0,"DNM: Test constrained installs

Change-Id: I2e598b235988eb53ec747fc761886e854b7086bb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/744698/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fe4f1c9121f3d00b0ce12cfa32d421a44b640d68,dep_install,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} {opts} {packages},install_command = pip install {opts} {packages},1,1
openstack%2Fcharm-ceph-radosgw~master~Iea035f14a61e6c5e300ec567a4b9d3c0921d0a71,openstack/charm-ceph-radosgw,master,Iea035f14a61e6c5e300ec567a4b9d3c0921d0a71,Release sync for 20.08,MERGED,2020-07-27 19:50:21.000000000,2020-08-06 21:31:17.000000000,2020-08-06 21:31:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:50:21.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'lib/charms_ceph/utils.py', 'requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/8041b1bb437a38ba56e9c06d932f2819bd0634a8', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Iea035f14a61e6c5e300ec567a4b9d3c0921d0a71\n'}]",0,743341,8041b1bb437a38ba56e9c06d932f2819bd0634a8,15,5,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Iea035f14a61e6c5e300ec567a4b9d3c0921d0a71
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/41/743341/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'lib/charms_ceph/utils.py', 'requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",8,8041b1bb437a38ba56e9c06d932f2819bd0634a8,batch-2008-release-sync," # This section is based on Mozilla's recommendation # as the ""intermediate"" profile as of July 7th, 2020. # https://wiki.mozilla.org/Security/Server_Side_TLS SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 SSLHonorCipherOrder off ", SSLProtocol +TLSv1 +TLSv1.1 +TLSv1.2 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!EXP:!LOW:!MEDIUM,319,71
openstack%2Frequirements~master~I7b69a1df111829bb867e5c761319b239edd12dd5,openstack/requirements,master,I7b69a1df111829bb867e5c761319b239edd12dd5,Updated from generate-constraints,MERGED,2020-08-06 06:24:24.000000000,2020-08-06 21:23:00.000000000,2020-08-06 21:21:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 06:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3f98a589a7010cae25e8a79d491c8a147797ac54', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b69a1df111829bb867e5c761319b239edd12dd5\n'}, {'number': 2, 'created': '2020-08-06 16:42:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8d79bc72fbe5df37e06b936eaa1af006b83c0e9b', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b69a1df111829bb867e5c761319b239edd12dd5\n'}]",0,745070,8d79bc72fbe5df37e06b936eaa1af006b83c0e9b,13,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: I7b69a1df111829bb867e5c761319b239edd12dd5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/745070/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3f98a589a7010cae25e8a79d491c8a147797ac54,openstack/requirements/constraints/noclob,grpcio===1.31.0mock===4.0.2os-brick===3.2.1docutils===0.16boto3===1.14.36msgpack===1.0.0PyMySQL===0.10.0botocore===1.17.36kombu===5.0.0pkg-resources===0.0.0,grpcio===1.30.0mock===3.0.5os-brick===3.2.0docutils===0.15.2boto3===1.14.35msgpack===0.6.1PyMySQL===0.9.3botocore===1.17.35kombu===4.6.11,10,9
openstack%2Fcharm-guide~master~I28e80de167bd24e4b03d01c8898aed9c709bc069,openstack/charm-guide,master,I28e80de167bd24e4b03d01c8898aed9c709bc069,Add deprecation notice for ceph-osd autotune option,MERGED,2020-07-07 01:05:26.000000000,2020-08-06 21:04:50.000000000,2020-08-06 21:02:23.000000000,"[{'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 01:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8feccb92de9512f0c791d1bd2702796ff296dafe', 'message': 'Added deprecation notice for autotune config ceph-osd charm\n\nChange-Id: I28e80de167bd24e4b03d01c8898aed9c709bc069\nPartial-Bug: #1798794\n'}, {'number': 2, 'created': '2020-07-13 00:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/138e5a621fad8e3bce8f91c9affbc59c495108fb', 'message': 'Added deprecation notice for autotune config ceph-osd charm\n\nChange-Id: I28e80de167bd24e4b03d01c8898aed9c709bc069\nPartial-Bug: #1798794\n'}, {'number': 3, 'created': '2020-07-13 00:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/58d92196772727bd64f82d513170d67a077c8120', 'message': 'Added deprecation notice for autotune config ceph-osd charm\n\nChange-Id: I28e80de167bd24e4b03d01c8898aed9c709bc069\nPartial-Bug: #1798794\n'}, {'number': 4, 'created': '2020-07-22 02:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/95bebaa3f2c188ca557d3700d81820023f867ee3', 'message': 'Added deprecation notice for autotune config ceph-osd charm\n\nChange-Id: I28e80de167bd24e4b03d01c8898aed9c709bc069\nPartial-Bug: #1798794\n'}, {'number': 5, 'created': '2020-08-06 16:32:57.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/06f4cdaa65b38218511f6002c8b7ab02707acb85', 'message': 'Add deprecation notice for ceph-osd autotune option\n\nChange-Id: I28e80de167bd24e4b03d01c8898aed9c709bc069\nCloses-Bug: #1798794\n'}]",2,739629,06f4cdaa65b38218511f6002c8b7ab02707acb85,18,5,5,26032,,,0,"Add deprecation notice for ceph-osd autotune option

Change-Id: I28e80de167bd24e4b03d01c8898aed9c709bc069
Closes-Bug: #1798794
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/29/739629/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,8feccb92de9512f0c791d1bd2702796ff296dafe,bug/1798794,"When deploy the ceph-osd charm, use of the `autotune` configuration is no longer reccomended and will be deprecated. See http://pad.lv/1798794 for a full discussion. ",,3,0
openstack%2Fnova~master~Ibf8dca4bd57b3bddb39955b53cc03564506f5754,openstack/nova,master,Ibf8dca4bd57b3bddb39955b53cc03564506f5754,Lookup nic feature by PCI address,MERGED,2020-07-02 18:50:14.000000000,2020-08-06 20:41:50.000000000,2020-08-06 10:33:13.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-02 18:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5944fc0cdc1cee683a0e748f012c41437cdc8249', 'message': 'lookup nic feature by pci address\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags. This is achived by iterating over the\nnodedev list and finding the nic element via\nits parent deivce.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bub: #1883671\n'}, {'number': 2, 'created': '2020-07-03 11:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e27ee25f389fe4acb684d8b459656d4026e5d0b2', 'message': ""lookup nic feature by pci address\n\nIn some environments the libvirt nodedev list can\nbecome out of sync with the current MAC address\nassigned to a netdev, As a result the nodedev\nlook up can fail. This resulted in an uncaught\nlibvirt exception which broke the\nupdate_available_resource function resulting\nin an incorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags. This is achieved by iterating over the\nnodedev list and finding the nic element via\nits parent device.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 3, 'created': '2020-07-03 13:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27e614ea910184761cbeb14491ac6f400202ba87', 'message': ""lookup nic feature by pci address\n\nIn some environments the libvirt nodedev list can\nbecome out of sync with the current MAC address\nassigned to a netdev, As a result the nodedev\nlook up can fail. This resulted in an uncaught\nlibvirt exception which broke the\nupdate_available_resource function resulting\nin an incorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags. This is achieved by iterating over the\nnodedev list and finding the nic element via\nits parent device.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 4, 'created': '2020-07-03 15:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/506e4c62a821ad11e5327af9a97ea216857c3edb', 'message': ""lookup nic feature by pci address\n\nIn some environments the libvirt nodedev list can\nbecome out of sync with the current MAC address\nassigned to a netdev, As a result the nodedev\nlook up can fail. This resulted in an uncaught\nlibvirt exception which broke the\nupdate_available_resource function resulting\nin an incorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags. This is achieved by iterating over the\nnodedev list and finding the nic element via\nits parent device.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 5, 'created': '2020-07-06 12:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef79b979aee5571a1c03aa6288575ce45646005f', 'message': ""lookup nic feature by pci address\n\nIn some environments the libvirt nodedev list can\nbecome out of sync with the current MAC address\nassigned to a netdev, As a result the nodedev\nlook up can fail. This resulted in an uncaught\nlibvirt exception which broke the\nupdate_available_resource function resulting\nin an incorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags. This is achieved by iterating over the\nnodedev list and finding the nic element via\nits parent device.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 6, 'created': '2020-07-09 16:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/446039199a2acf6978537d050da385df7e8b096d', 'message': ""lookup nic feature by pci address\n\nIn some environments the libvirt nodedev list can\nbecome out of sync with the current MAC address\nassigned to a netdev, As a result the nodedev\nlook up can fail. This resulted in an uncaught\nlibvirt exception which broke the\nupdate_available_resource function resulting\nin an incorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 7, 'created': '2020-07-16 17:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d03920f3d668e1f40864643c2c1f678bf90c6e3', 'message': ""lookup nic feature by pci address\n\nIn some environments the libvirt nodedev list can\nbecome out of sync with the current MAC address\nassigned to a netdev, As a result the nodedev\nlook up can fail. This resulted in an uncaught\nlibvirt exception which broke the\nupdate_available_resource function resulting\nin an incorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the\nnodedev name when looking up nic feature\nflags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 8, 'created': '2020-07-27 23:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/479c467746c15e77ed921067581bd0ec1af1c926', 'message': ""Lookup nic feature by PCI address\n\nIn some environments the libvirt nodedev list can become out of sync\nwith the current MAC address assigned to a netdev, As a result the\nnodedev lookup can fail. This results in an uncaught libvirt exception\nwhich breaks the update_available_resource function resultingin an\nincorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the nodedev name when looking up\nnic feature flags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 9, 'created': '2020-07-30 16:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1943d6f892792e62985667c1e67e8085eff76a8', 'message': ""Lookup nic feature by PCI address\n\nIn some environments the libvirt nodedev list can become out of sync\nwith the current MAC address assigned to a netdev, As a result the\nnodedev lookup can fail. This results in an uncaught libvirt exception\nwhich breaks the update_available_resource function resultingin an\nincorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the nodedev name when looking up\nnic feature flags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 10, 'created': '2020-07-30 22:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7dec62b3521b52ce06fec0b951899f446499985', 'message': ""Lookup nic feature by PCI address\n\nIn some environments the libvirt nodedev list can become out of sync\nwith the current MAC address assigned to a netdev, As a result the\nnodedev lookup can fail. This results in an uncaught libvirt exception\nwhich breaks the update_available_resource function resultingin an\nincorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the nodedev name when looking up\nnic feature flags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 11, 'created': '2020-08-04 22:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0778434f77f0a569fd84be30378a8f0e4a0267b2', 'message': ""Lookup nic feature by PCI address\n\nIn some environments the libvirt nodedev list can become out of sync\nwith the current MAC address assigned to a netdev, As a result the\nnodedev lookup can fail. This results in an uncaught libvirt exception\nwhich breaks the update_available_resource function resultingin an\nincorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the nodedev name when looking up\nnic feature flags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}, {'number': 12, 'created': '2020-08-04 22:27:11.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/pci/utils.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'mypy-files.txt', 'nova/tests/unit/pci/test_utils.py', 'releasenotes/notes/libvirt-nodedev-lookup-d80174ac30bc82f0.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/efc27ff84c3f38fbcbf75b0dc230963c58d093e4', 'message': ""Lookup nic feature by PCI address\n\nIn some environments the libvirt nodedev list can become out of sync\nwith the current MAC address assigned to a netdev, As a result the\nnodedev lookup can fail. This results in an uncaught libvirt exception\nwhich breaks the update_available_resource function resultingin an\nincorrect resource view in the database.\n\ne.g. libvirt.libvirtError: Node device not found:\nno node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'\n\nThis change removes the dependency on the nodedev name when looking up\nnic feature flags.\n\nChange-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nCloses-Bug: #1883671\n""}]",152,739131,efc27ff84c3f38fbcbf75b0dc230963c58d093e4,130,17,12,11604,,,0,"Lookup nic feature by PCI address

In some environments the libvirt nodedev list can become out of sync
with the current MAC address assigned to a netdev, As a result the
nodedev lookup can fail. This results in an uncaught libvirt exception
which breaks the update_available_resource function resultingin an
incorrect resource view in the database.

e.g. libvirt.libvirtError: Node device not found:
no node device with matching name 'net_enp7s0f3v1_ea_60_77_1f_21_50'

This change removes the dependency on the nodedev name when looking up
nic feature flags.

Change-Id: Ibf8dca4bd57b3bddb39955b53cc03564506f5754
Closes-Bug: #1883671
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/739131/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/pci/utils.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/pci/test_utils.py', 'releasenotes/notes/libvirt-nodedev-lookup-d80174ac30bc82f0.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",8,5944fc0cdc1cee683a0e748f012c41437cdc8249,bug/1883671,"_fake_NodeDevXml = { ""pci_0000_04_00_3"": """""" <parent>pci_0000_04_00_3</parent> <parent>pci_0000_04_00_3</parent>_fake_NodeDevXml_parents = { name: etree.fromstring(xml).find(""parent"").text for name, xml in _fake_NodeDevXml.items() } _fake_NodeDevXml_childern = defaultdict(list) for key, val in _fake_NodeDevXml_parents.items(): _fake_NodeDevXml_childern[val].append(key) net_dev = fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[dev_name]) pci_dev = fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[parent_address]) node_devs = [net_dev, pci_dev] with mock.patch.object( drvr._host, 'list_all_nodedevs', return_value=node_devs) as mock_list_all_nodedevs: actualvf = drvr._get_pcinet_info(""0000:04:11.7"") dev_flags = (fakelibvirt.VIR_CONNECT_LIST_NODE_DEVICES_CAP_NET | fakelibvirt.VIR_CONNECT_LIST_NODE_DEVICES_CAP_PCI_DEV) mock_list_all_nodedevs.assert_called_once_with(flags=dev_flags) dev_name = ""pci_0000_04_11_7"" pci_dev = fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[dev_name]) node_devs = [pci_dev] with mock.patch.object( drvr._host, 'list_all_nodedevs', return_value=node_devs): mock_get_ifname.side_effect = exception.PciDeviceNotFoundById( id=dev_name) actual_vf = drvr._get_pcidev_info(dev_name) expect_vf = { ""dev_id"": dev_name, ""address"": ""0000:04:11.7"", ""product_id"": '1520', ""numa_node"": 0, ""vendor_id"": '8086', ""label"": 'label_8086_1520', ""dev_type"": fields.PciDeviceType.SRIOV_VF, 'parent_addr': '0000:04:00.3', } self.assertEqual(expect_vf, actual_vf) devs = [ ""pci_0000_04_00_3"", ""pci_0000_04_10_7"", ""pci_0000_04_11_7"", ""pci_0000_04_00_1"", ""pci_0000_03_00_0"", ""pci_0000_03_00_1"" ] node_devs = {} for dev_name in devs: node_devs[dev_name] = ( fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[dev_name])) for child in _fake_NodeDevXml_childern[dev_name]: node_devs[child] = ( fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[child])) self.useFixture(fixtures.MockPatchObject( drvr._host, 'list_all_nodedevs', return_value=node_devs.values())) self.stub_out( 'nova.virt.libvirt.host.Host.device_lookup_by_name', lambda self, name: node_devs.get(name)) actual_vf = drvr._get_pcidev_info(""pci_0000_04_00_3"") self.assertEqual(expect_vf, actual_vf) actual_vf = drvr._get_pcidev_info(""pci_0000_04_10_7"") self.assertEqual(expect_vf, actual_vf) actual_vf = drvr._get_pcidev_info(""pci_0000_04_11_7"") expect_vf = { ""dev_id"": ""pci_0000_04_11_7"", ""address"": ""0000:04:11.7"", ""product_id"": '1520', ""vendor_id"": '8086', ""numa_node"": 0, ""label"": 'label_8086_1520', ""dev_type"": fields.PciDeviceType.SRIOV_VF, ""parent_addr"": '0000:04:00.3', ""capabilities"": { ""network"": [""rx"", ""tx"", ""sg"", ""tso"", ""gso"", ""gro"", ""rxvlan"", ""txvlan""]}, ""parent_ifname"": ""ens1"", } self.assertEqual(expect_vf, actual_vf) actual_vf = drvr._get_pcidev_info(""pci_0000_04_00_1"") self.assertEqual(expect_vf, actual_vf) actual_vf = drvr._get_pcidev_info(""pci_0000_03_00_0"") self.assertEqual(expect_vf, actual_vf) actual_vf = drvr._get_pcidev_info(""pci_0000_03_00_1"") self.assertEqual(expect_vf, actual_vf) devs = ['pci_0000_04_00_3', 'pci_0000_04_10_7', 'pci_0000_04_11_7'] node_devs = {} for dev_name in devs: node_devs[dev_name] = ( fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[dev_name])) for child in _fake_NodeDevXml_childern[dev_name]: node_devs[child] = ( fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[child])) self.useFixture(fixtures.MockPatchObject( drvr._host, 'list_all_nodedevs', return_value=node_devs.values())) self.stub_out( 'nova.virt.libvirt.host.Host.device_lookup_by_name', lambda self, name: node_devs.get(name)) if key not in ['phys_function', 'virt_functions', 'label', 'capabilities']:","_fake_NodeDevXml = \ {""pci_0000_04_00_3"": """""" <parent>pci_0000_00_01_1</parent> <parent>pci_0000_00_01_1</parent> node_dev = FakeNodeDevice(_fake_NodeDevXml[dev_name]) with mock.patch.object(pci_utils, 'get_net_name_by_vf_pci_address', return_value=dev_name) as mock_get_net_name, \ mock.patch.object(drvr._host, 'device_lookup_by_name', return_value=node_dev) as mock_dev_lookup: actualvf = drvr._get_pcinet_info(parent_address) mock_get_net_name.assert_called_once_with(parent_address) mock_dev_lookup.assert_called_once_with(dev_name) id = ""pci_0000_04_10_7"" mock_get_ifname.side_effect = exception.PciDeviceNotFoundById(id=id) actualvf = drvr._get_pcidev_info(id) expect_vf = { ""dev_id"": id, ""address"": ""0000:04:10.7"", ""product_id"": '1520', ""numa_node"": None, ""vendor_id"": '8086', ""label"": 'label_8086_1520', ""dev_type"": fields.PciDeviceType.SRIOV_VF, 'parent_addr': '0000:04:00.3', } self.assertEqual(expect_vf, actualvf) self.stub_out('nova.virt.libvirt.host.Host.device_lookup_by_name', lambda self, name: FakeNodeDevice( _fake_NodeDevXml[name])) actualvf = drvr._get_pcidev_info(""pci_0000_04_00_3"") self.assertEqual(expect_vf, actualvf) actualvf = drvr._get_pcidev_info(""pci_0000_04_10_7"") self.assertEqual(expect_vf, actualvf) with mock.patch.object(pci_utils, 'get_net_name_by_vf_pci_address', return_value=""net_enp2s2_02_9a_a1_37_be_54""): actualvf = drvr._get_pcidev_info(""pci_0000_04_11_7"") expect_vf = { ""dev_id"": ""pci_0000_04_11_7"", ""address"": ""0000:04:11.7"", ""product_id"": '1520', ""vendor_id"": '8086', ""numa_node"": 0, ""label"": 'label_8086_1520', ""dev_type"": fields.PciDeviceType.SRIOV_VF, ""parent_addr"": '0000:04:00.3', ""capabilities"": { ""network"": [""rx"", ""tx"", ""sg"", ""tso"", ""gso"", ""gro"", ""rxvlan"", ""txvlan""]}, ""parent_ifname"": ""ens1"", } self.assertEqual(expect_vf, actualvf) actualvf = drvr._get_pcidev_info(""pci_0000_04_00_1"") self.assertEqual(expect_vf, actualvf) actualvf = drvr._get_pcidev_info(""pci_0000_03_00_0"") self.assertEqual(expect_vf, actualvf) actualvf = drvr._get_pcidev_info(""pci_0000_03_00_1"") self.assertEqual(expect_vf, actualvf) self.stub_out('nova.virt.libvirt.host.Host.device_lookup_by_name', lambda self, name: FakeNodeDevice( _fake_NodeDevXml[name])) if key not in ['phys_function', 'virt_functions', 'label']: mock.call('0000:04:10.7', False), mock.call('0000:04:11.7', False)",229,142
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic606e751cb046c34d33a94a2acd4313f4043441f,openstack/tripleo-heat-templates,stable/ussuri,Ic606e751cb046c34d33a94a2acd4313f4043441f,Revamp how etcd's cert and key are handled in containers,MERGED,2020-08-04 17:43:35.000000000,2020-08-06 20:38:19.000000000,2020-08-06 20:38:18.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 17:43:35.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/978c4e05dec23c7957af7ece44d4d551ca6d50e5', 'message': ""Revamp how etcd's cert and key are handled in containers\n\nUse kolla_config to merge etcd's cert and key files into containers,\nand set the ownership so the corresponding service can read the files.\n\nPreviously, etcd's cert and key files were directly bind mounted\nin the etcd and cinder containers that need the files. An ACL was\nadded to ensure the corresponding services had read access to the\nfiles on the host, which are owned by root. The ACL was cumbersome,\nand required hardcoding the UID of each service.\n\nChange-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f\nDepends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n(cherry picked from commit 7bcdd2448b2aafe99e17e3719cf224d1009099ec)\n""}]",0,744763,978c4e05dec23c7957af7ece44d4d551ca6d50e5,11,4,1,21129,,,0,"Revamp how etcd's cert and key are handled in containers

Use kolla_config to merge etcd's cert and key files into containers,
and set the ownership so the corresponding service can read the files.

Previously, etcd's cert and key files were directly bind mounted
in the etcd and cinder containers that need the files. An ACL was
added to ensure the corresponding services had read access to the
files on the host, which are owned by root. The ACL was cumbersome,
and required hardcoding the UID of each service.

Change-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f
Depends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d
(cherry picked from commit 7bcdd2448b2aafe99e17e3719cf224d1009099ec)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/744763/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",8,978c4e05dec23c7957af7ece44d4d551ca6d50e5,etcd-cert-revamp, - /etc/pki/tls/certs/etcd.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/etcd.crt:ro - /etc/pki/tls/private/etcd.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/etcd.key:ro, - /etc/pki/tls/certs/etcd.crt:/etc/pki/tls/certs/etcd.crt:ro - /etc/pki/tls/private/etcd.key:/etc/pki/tls/private/etcd.key:ro,63,38
openstack%2Fironic~master~Iaa56e5965806e975ed0f97f2d6a0d15e13351c22,openstack/ironic,master,Iaa56e5965806e975ed0f97f2d6a0d15e13351c22,Wipe agent token and URL on rescue and unrescue,MERGED,2020-08-04 07:40:12.000000000,2020-08-06 20:28:35.000000000,2020-08-05 23:44:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-04 07:40:12.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/unrescue-token-ae664a17343e0610.yaml', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b0ab9eb167c5a568141518e5a4698fc7f601d2b', 'message': 'Wipe agent token and URL on rescue and unrescue\n\nYet another place where we missed it :(\n\nChange-Id: Iaa56e5965806e975ed0f97f2d6a0d15e13351c22\n'}]",0,744655,0b0ab9eb167c5a568141518e5a4698fc7f601d2b,25,7,1,10239,,,0,"Wipe agent token and URL on rescue and unrescue

Yet another place where we missed it :(

Change-Id: Iaa56e5965806e975ed0f97f2d6a0d15e13351c22
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/744655/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'releasenotes/notes/unrescue-token-ae664a17343e0610.yaml']",4,0b0ab9eb167c5a568141518e5a4698fc7f601d2b,unrescue-token,--- fixes: - | Removes stale agent token on rescue and unrescue operations. Previously it would cause subsequent rescue operations to fail. ,,39,15
openstack%2Fironic-tempest-plugin~master~I9204313f2b8b52929366b00f5ac035ce06603122,openstack/ironic-tempest-plugin,master,I9204313f2b8b52929366b00f5ac035ce06603122,Enforce check on flake8 E129 test,MERGED,2020-08-03 15:42:08.000000000,2020-08-06 20:19:09.000000000,2020-08-06 20:16:09.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 15:42:08.000000000', 'files': ['tox.ini', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/7f71d4938944e8fecd56fef31454f425b2700ded', 'message': 'Enforce check on flake8 E129 test\n\nVisually indented line with same indent as next logical line.\n\nChange-Id: I9204313f2b8b52929366b00f5ac035ce06603122\n'}]",0,744514,7f71d4938944e8fecd56fef31454f425b2700ded,8,3,1,23851,,,0,"Enforce check on flake8 E129 test

Visually indented line with same indent as next logical line.

Change-Id: I9204313f2b8b52929366b00f5ac035ce06603122
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/14/744514/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py']",2,7f71d4938944e8fecd56fef31454f425b2700ded,enforce-flake8-e129," if (not test_utils.call_until_true( _try_to_associate_instance, duration=CONF.baremetal.association_timeout, sleep_for=1)):"," if (not test_utils.call_until_true(_try_to_associate_instance, duration=CONF.baremetal.association_timeout, sleep_for=1)):",4,4
openstack%2Foctavia~master~Ifdc24033db288ec615391e576c1c77e6b35aba1f,openstack/octavia,master,Ifdc24033db288ec615391e576c1c77e6b35aba1f,Fix haproxy user flow log format substitution,MERGED,2020-07-26 15:00:54.000000000,2020-08-06 20:11:10.000000000,2020-08-06 20:09:42.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-26 15:00:54.000000000', 'files': ['octavia/common/config.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9f002770431ea89bc0edb38ecef18d285bef846', 'message': 'Fix haproxy user flow log format substitution\n\nThe user log format string has two special parameters: {{ project_id }}\nand {{ lb_id }}. These parameters are documented as being wrapped around\ndouble curly brackets and a whitespace, and are being used as so by\noperators/installers. However, the actual substitution is single curly\nbracket with no whitespace, i.e. {project_id} and {lb_id}. Fix this\nissue by aligning the code with the documentation.\n\nTask: 40444\nStory: 2007958\n\nChange-Id: Ifdc24033db288ec615391e576c1c77e6b35aba1f\n'}]",0,743059,f9f002770431ea89bc0edb38ecef18d285bef846,15,5,1,6469,,,0,"Fix haproxy user flow log format substitution

The user log format string has two special parameters: {{ project_id }}
and {{ lb_id }}. These parameters are documented as being wrapped around
double curly brackets and a whitespace, and are being used as so by
operators/installers. However, the actual substitution is single curly
bracket with no whitespace, i.e. {project_id} and {lb_id}. Fix this
issue by aligning the code with the documentation.

Task: 40444
Story: 2007958

Change-Id: Ifdc24033db288ec615391e576c1c77e6b35aba1f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/743059/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py']",3,f9f002770431ea89bc0edb38ecef18d285bef846,story/2007958," '{{ project_id }}', load_balancer.project_id) log_format = log_format.replace('{{ lb_id }}', load_balancer.id)"," '{project_id}', load_balancer.project_id) log_format = log_format.replace('{lb_id}', load_balancer.id)",7,6
openstack%2Ftripleo-heat-templates~master~Idc36f3241b3ebed71722c6a89459c230beea4542,openstack/tripleo-heat-templates,master,Idc36f3241b3ebed71722c6a89459c230beea4542,Support for PowerStore Cinder Backend,MERGED,2020-07-28 21:12:08.000000000,2020-08-06 19:51:18.000000000,2020-08-06 19:50:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 10379}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 21:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b4d8585dda3892ea35d18d20f11d122da2ea601', 'message': 'Support for PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/743627/\nChange-Id: Idc36f3241b3ebed71722c6a89459c230beea4542\n'}, {'number': 2, 'created': '2020-07-28 21:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a81c52bb9dbe6058edb61784662f98eea26f1807', 'message': 'Support for PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/743627/\nChange-Id: Idc36f3241b3ebed71722c6a89459c230beea4542\n'}, {'number': 3, 'created': '2020-07-29 21:52:17.000000000', 'files': ['roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'roles/ControllerNoCeph.yaml', 'environments/cinder-dellemc-powerstore-config.yaml', 'releasenotes/notes/powerstore-driver-e528e372280c44e6.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56e2702f4a49f7ec1fe0ad537e449443e120eef6', 'message': 'Support for PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/743627/\nChange-Id: Idc36f3241b3ebed71722c6a89459c230beea4542\n'}]",2,743631,56e2702f4a49f7ec1fe0ad537e449443e120eef6,17,8,3,10379,,,0,"Support for PowerStore Cinder Backend

Adding support for PowerStore Volume Backend Driver

Depends-On: https://review.opendev.org/#/c/743627/
Change-Id: Idc36f3241b3ebed71722c6a89459c230beea4542
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/743631/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'roles/ControllerNoCeph.yaml', 'environments/cinder-dellemc-powerstore-config.yaml', 'releasenotes/notes/powerstore-driver-e528e372280c44e6.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml']",11,7b4d8585dda3892ea35d18d20f11d122da2ea601,powerstore, - OS::TripleO::Services::CinderBackendDellEMCPowerStore,,148,0
openstack%2Fopenstack-helm-images~master~I9bea074b11450db481cac22109a1b71f69bf9807,openstack/openstack-helm-images,master,I9bea074b11450db481cac22109a1b71f69bf9807,K8 PV disk monitoring,ABANDONED,2020-02-03 20:06:11.000000000,2020-08-06 19:37:18.000000000,,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30705}]","[{'number': 1, 'created': '2020-02-03 20:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/584bab890fd5ebd6f00467398d2fe9f97bb37ad0', 'message': ""This script is used for monitoring disk utilization of PV associated with K8 Pods.\n\nBy default, the highwater mark is 80 % but can be changed by supplying --maxutilization parameter.\n\nusage: pv_disk_utilization.py [-h] --application APPLICATION --component\n                              COMPONENT --namespace NAMESPACE\n                              [--maxutilization MAXUTILIZATION] [--bin]\n                              [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --debug, -d           enable debugging (default: False)\n  --silent, -s          don't log into console (default: False)\n\nmonitoring settings:\n  --application APPLICATION, -a APPLICATION\n                        Application specification of the pod (default: None)\n  --component COMPONENT, -co COMPONENT\n                        component specification of the pod (default: None)\n  --namespace NAMESPACE, -n NAMESPACE\n                        namespace of application (default: None)\n  --maxutilization MAXUTILIZATION, -mu MAXUTILIZATION\n                        max percent utilization highmark (default: None)\n  --bin, -e             path to kubectl binary (default: None)\n  --config, -c          path to kubectl config (default: None)\n\nChange-Id: I9bea074b11450db481cac22109a1b71f69bf9807\n""}, {'number': 2, 'created': '2020-02-03 20:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/51af86143e2f71565cf0c13fa90f2e22c3cd2f8e', 'message': ""This script is used for monitoring disk utilization of PV associated with K8 Pods.\n\nBy default, the highwater mark is 80 % but can be changed by supplying --maxutilization parameter.\n\nusage: pv_disk_utilization.py [-h] --application APPLICATION --component\n                              COMPONENT --namespace NAMESPACE\n                              [--maxutilization MAXUTILIZATION] [--bin]\n                              [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --debug, -d           enable debugging (default: False)\n  --silent, -s          don't log into console (default: False)\n\nmonitoring settings:\n  --application APPLICATION, -a APPLICATION\n                        Application specification of the pod (default: None)\n  --component COMPONENT, -co COMPONENT\n                        component specification of the pod (default: None)\n  --namespace NAMESPACE, -n NAMESPACE\n                        namespace of application (default: None)\n  --maxutilization MAXUTILIZATION, -mu MAXUTILIZATION\n                        max percent utilization highmark (default: None)\n  --bin, -e             path to kubectl binary (default: None)\n  --config, -c          path to kubectl config (default: None)\n\nChange-Id: I9bea074b11450db481cac22109a1b71f69bf9807\n""}, {'number': 3, 'created': '2020-02-03 20:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3833f1f4df775c521b91f0e5a191e46e2f4413ad', 'message': ""K8 PV disk monitoring\n\nThis script is used for monitoring disk utilization of PV associated with K8 Pods.\n\nBy default, the highwater mark is 80 % but can be changed by supplying --maxutilization parameter.\n\nusage: pv_disk_utilization.py [-h] --application APPLICATION --component\n                              COMPONENT --namespace NAMESPACE\n                              [--maxutilization MAXUTILIZATION] [--bin]\n                              [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --debug, -d           enable debugging (default: False)\n  --silent, -s          don't log into console (default: False)\n\nmonitoring settings:\n  --application APPLICATION, -a APPLICATION\n                        Application specification of the pod (default: None)\n  --component COMPONENT, -co COMPONENT\n                        component specification of the pod (default: None)\n  --namespace NAMESPACE, -n NAMESPACE\n                        namespace of application (default: None)\n  --maxutilization MAXUTILIZATION, -mu MAXUTILIZATION\n                        max percent utilization highmark (default: None)\n  --bin, -e             path to kubectl binary (default: None)\n  --config, -c          path to kubectl config (default: None)\n\nChange-Id: I9bea074b11450db481cac22109a1b71f69bf9807\n""}, {'number': 4, 'created': '2020-02-06 22:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d41afcad17c3355065ffc0098344db3891cd2268', 'message': ""K8 PV disk monitoring\n\nThis script is used for monitoring disk utilization of PV associated with K8 Pods.\n\nBy default, the highwater mark is 80 % but can be changed by supplying --maxutilization parameter.\n\nusage: pv_disk_utilization.py [-h] --application APPLICATION --component\n                              COMPONENT --namespace NAMESPACE\n                              [--maxutilization MAXUTILIZATION] [--bin]\n                              [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --debug, -d           enable debugging (default: False)\n  --silent, -s          don't log into console (default: False)\n\nmonitoring settings:\n  --application APPLICATION, -a APPLICATION\n                        Application specification of the pod (default: None)\n  --component COMPONENT, -co COMPONENT\n                        component specification of the pod (default: None)\n  --namespace NAMESPACE, -n NAMESPACE\n                        namespace of application (default: None)\n  --maxutilization MAXUTILIZATION, -mu MAXUTILIZATION\n                        max percent utilization highmark (default: None)\n  --bin, -e             path to kubectl binary (default: None)\n  --config, -c          path to kubectl config (default: None)\n\nChange-Id: I9bea074b11450db481cac22109a1b71f69bf9807\n""}, {'number': 5, 'created': '2020-02-10 16:32:00.000000000', 'files': ['nagios/plugins/pv_disk_utilization.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/72d997351d8dce25a58cea077f49903f3cbd01f4', 'message': ""K8 PV disk monitoring\n\nThis script is used for monitoring disk utilization of PV associated with K8 Pods.\n\nBy default, the highwater mark is 80 % but can be changed by supplying --maxutilization parameter.\n\nusage: pv_disk_utilization.py [-h] --application APPLICATION --component\n                              COMPONENT --namespace NAMESPACE\n                              [--maxutilization MAXUTILIZATION] [--bin]\n                              [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --debug, -d           enable debugging (default: False)\n  --silent, -s          don't log into console (default: False)\n\nmonitoring settings:\n  --application APPLICATION, -a APPLICATION\n                        Application specification of the pod (default: None)\n  --component COMPONENT, -co COMPONENT\n                        component specification of the pod (default: None)\n  --namespace NAMESPACE, -n NAMESPACE\n                        namespace of application (default: None)\n  --maxutilization MAXUTILIZATION, -mu MAXUTILIZATION\n                        max percent utilization highmark (default: None)\n  --bin, -e             path to kubectl binary (default: None)\n  --config, -c          path to kubectl config (default: None)\n\nChange-Id: I9bea074b11450db481cac22109a1b71f69bf9807\n""}]",24,705539,72d997351d8dce25a58cea077f49903f3cbd01f4,20,6,5,30705,,,0,"K8 PV disk monitoring

This script is used for monitoring disk utilization of PV associated with K8 Pods.

By default, the highwater mark is 80 % but can be changed by supplying --maxutilization parameter.

usage: pv_disk_utilization.py [-h] --application APPLICATION --component
                              COMPONENT --namespace NAMESPACE
                              [--maxutilization MAXUTILIZATION] [--bin]
                              [--config] [--debug | --silent]

optional arguments:
  -h, --help            show this help message and exit
  --debug, -d           enable debugging (default: False)
  --silent, -s          don't log into console (default: False)

monitoring settings:
  --application APPLICATION, -a APPLICATION
                        Application specification of the pod (default: None)
  --component COMPONENT, -co COMPONENT
                        component specification of the pod (default: None)
  --namespace NAMESPACE, -n NAMESPACE
                        namespace of application (default: None)
  --maxutilization MAXUTILIZATION, -mu MAXUTILIZATION
                        max percent utilization highmark (default: None)
  --bin, -e             path to kubectl binary (default: None)
  --config, -c          path to kubectl config (default: None)

Change-Id: I9bea074b11450db481cac22109a1b71f69bf9807
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/39/705539/4 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/pv_disk_utilization.py'],1,584bab890fd5ebd6f00467398d2fe9f97bb37ad0,,"#!/usr/bin/env python3 import sys import os import argparse import json import logging import logging.handlers # need to export path to configuration file. should work faster if os.getenv(""KUBECONFIG"") is not None: CONFIG = ""KUBECONFIG={}"".format(os.environ[""KUBECONFIG""]) else: CONFIG = ""KUBECONFIG=/etc/kubernetes/admin/kubeconfig.yaml"" if os.getenv(""KUBECTL"") is not None: KUBECTL = os.environ[""KUBECTL""] else: KUBECTL = ""/usr/local/bin/kubectl"" OPTIONS = { 'read': ""-o json"", 'ns': ""-n"", 'exec': """" } logger = logging.getLogger(os.path.splitext(os.path.basename(sys.argv[0]))[0]) kubectl = ""{config} {kubectl} {options} {namespace}"".format(config=CONFIG, kubectl=KUBECTL, namespace=OPTIONS[""ns""], options=OPTIONS[""read""]) OK = 0 # 0 - Service is OK FAILEDHOST = 1 # 1 - service is not running on some hosts. CRITICAL = 2 # 2 - Service is in a CRITICAL status. UNKNOWN = 3 # 3 - Service status is UNKNOWN class CustomFormatter(argparse.RawDescriptionHelpFormatter, argparse.ArgumentDefaultsHelpFormatter): pass def parse_args(args=sys.argv[1:]): """""" parse arguments of script """""" logger.debug(""Parsing arguments"") parser = argparse.ArgumentParser(description=sys.modules[__name__].__doc__, formatter_class=CustomFormatter) g = parser.add_argument_group(""monitoring settings"") g.add_argument(""--application"", ""-a"", action=""store"", help=""Application specification of the pod"",required=True) g.add_argument(""--component"", ""-co"", action=""store"", help=""component specification of the pod"",required=True) g.add_argument(""--namespace"", ""-n"", action=""store"", help=""namespace of application"",required=True) g.add_argument(""--maxutilization"",""-mu"",action=""store"", help=""max percent utilization highmark"",required=False) # configuration options g.add_argument(""--bin"", ""-e"", action=""store_const"", const=KUBECTL, help=""path to kubectl binary"") g.add_argument(""--config"", ""-c"", action=""store_const"", const=CONFIG, help=""path to kubectl config"") # debug options g = parser.add_mutually_exclusive_group() g.add_argument(""--debug"", ""-d"", action=""store_true"", default=False, help=""enable debugging"") g.add_argument(""--silent"", ""-s"", action=""store_true"", default=False, help=""don't log into console"") return parser.parse_args(args) def setup_logging(options): """""" configure logging """""" logger.debug(""Configuring logging"") root = logging.getLogger("""") root.setLevel(logging.WARNING) logger.setLevel(options.debug and logging.DEBUG or logging.INFO) if not options.silent: ch = logging.StreamHandler() ch.setFormatter(logging.Formatter(""%(levelname)s [%(name)s] %(message)s"")) root.addHandler(ch) def pv_utilization(application,component,namespace,maxpercent): """""" This function utilizes the PV disk utilization of the pods. The function takes the following arguments. 1. Application: This is an application specification that uniquely identifies the pod. 2. Component: This is a component specification that uniquely identifies the pod. 3. namespace: The k8 namespace of the pod the PV is attached. 4. maxpercernt: The user-defined Highmark in percent, this variable is used to set max allowed utilization of any of the POD. The default is 80%. """""" k8_hosts = [] failed_host = [] podname_host_keypair = {} result = {} return_code = 9999 k8_hosts_cmd = ""{command} {ns} get pods -l application={app},component={comp}|grep nodeName"".format( command=kubectl, ns=namespace, app=application, comp=component) + ""|awk -F':' '{print $2}'|tr -d ',' |tr -d '\""'"" logger.debug(""Command used to get the pods is {hcmd}"".format(hcmd=k8_hosts_cmd)) try: k8_hosts = os.popen(k8_hosts_cmd).read().strip().split(""\n"") logger.debug(""Pods are running on hosts {hs}"".format(hs=k8_hosts)) except Exception as e: logger.error(""Failed to get k8 host for the pods {excetion}"".format(exception=e)) try: podname_hostname_cmd = ""{command} {ns} get pods -l application={app},component={comp}|egrep 'hostname|nodeName'|grep -v topologyKey"".format( command=kubectl, ns=namespace, app=application, comp=component) + ""|awk -F':' '{print $2}'|tr -d ',' |tr -d '\""'|tr -d '\ '|sed '$!N;s/\\n/:/'"" pod_host_key_pair = os.popen(podname_hostname_cmd).read().strip().split(""\n"") for podnames_hostnames in pod_host_key_pair: podname_hostname_list = podnames_hostnames.split("":"") podname_host_keypair.update({podname_hostname_list[1]:podname_hostname_list[0]}) logger.debug(""value of podname_host_keypair is {phkp}"".format(phkp=podname_host_keypair)) except Exception as e: logger.error(""Failed to compile the k8 host,podname keypair can't continue {exception}"".format(exception=e)) for host in k8_hosts: if host: pv_capacity_curl = ""curl -s {h}:10255/metrics |grep {ns}|grep -i {app}|grep -v backup|grep kubelet_volume_stats_capacity_bytes"".format( h=host, ns=namespace, app=application) + ""|awk '{print $2}'"" pv_utilization_curl = ""curl -s {h}:10255/metrics |grep {ns}|grep -i {app}|grep -v backup|grep kubelet_volume_stats_used_bytes"".format( h=host, ns=namespace, app=application) + ""|awk '{print $2}'"" pv_capacity = os.popen(pv_capacity_curl).read().strip() pv_utilization = os.popen(pv_utilization_curl).read().strip() logger.debug(""PV utilisatin in bytes for pod running on host {hs} is {upv}"".format( hs=host, upv=pv_utilization)) if pv_capacity == """" or pv_utilization == """": failed_host.append(host) continue result.update({ ""%s"" % (host.strip()):(float(pv_utilization)/float(pv_capacity)) * 100}) highutilization = 0 failedhosts = 0 resultkeypairexist = 0 logger.debug(""The % utilization of each pv hosted on paritcular host for application {app} and component {comp} in namespace {ns} is {rs}"".format( app=application, comp=component, ns=namespace, rs=result)) if result: resultkeypairexist = 1 for hosts,percentage in result.items(): if float(percentage) >= maxpercent: # for Prometheus exporter. When it has an error, this should print to file metrics. # These metrix will be exported in prometheus # monitoring will be run like # ./pv_disk_utilization.py -a postgresql -co server -n ucp > file print (""pv_high_utilization:{{namespace={ns},application={app},component={comp},host={hst},podname={podname},max_utilization={max_utilization},current_utilization={current_utilization}}} 0"".format( ns=namespace, app=application, comp=component, hst=hosts, podname=podname_host_keypair[hosts], max_utilization=maxpercent, current_utilization=percentage)) highutilization = 1 if len(failed_host) > 0: logger.error(""Not able to determine pv utilization of {app} pods in namespace {ns} hosting on the host/hosts "".format( app=application, ns=namespace) + "", "".join(failed_host)) failedhosts = 1 if highutilization == 1 and failedhosts == 0 and resultkeypairexist == 1: return_code = CRITICAL elif highutilization == 0 and failedhosts == 1 and resultkeypairexist == 1: return_code = FAILEDHOST elif highutilization == 1 and failedhosts == 1 and resultkeypairexist == 1: return_code = CRITICAL elif highutilization == 0 and failedhosts == 0 and resultkeypairexist == 1: return_code = OK else: return_code=UNKNOWN return return_code def main(): # nagios monitoring # 0 - Service is OK. # 1 - service is not running on failed host # 2 - Service is in a CRITICAL status. # 3 - Service status is UNKNOWN # promotheus text file MAX_UTILIZATION = 80 options = parse_args() setup_logging(options) if options.maxutilization: MAX_UTILIZATION = float(options.maxutilization.strip()) logger.debug(""checking pv utlization of pod {application} {component} in {namespace}"".format(application=options.application, component=options.component, namespace=options.namespace)) return_code = pv_utilization(options.application,options.component,options.namespace,MAX_UTILIZATION) sys.exit(return_code) if __name__ == ""__main__"": main() ",,229,0
openstack%2Fkolla-ansible~stable%2Ftrain~I165199fc98fb98f227f2a20284e1bab03ef65b5b,openstack/kolla-ansible,stable/train,I165199fc98fb98f227f2a20284e1bab03ef65b5b,[docker] Added a new flag to disable default iptables rules,MERGED,2020-08-05 14:46:58.000000000,2020-08-06 19:21:43.000000000,2020-08-06 19:19:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-08-05 14:46:58.000000000', 'files': ['releasenotes/notes/docker-disable-iptables-e9a248a0515f30a6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c3bd2532f99ef221d09e16c6dc12649813e9e2e', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables-based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false"" [1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default in\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n(cherry picked from commit fc7ce6cabe3c1379cd6871a699862cf89b727b75)\n'}]",0,744920,0c3bd2532f99ef221d09e16c6dc12649813e9e2e,8,4,1,14826,,,0,"[docker] Added a new flag to disable default iptables rules

Docker is manipulating iptables rules by default to provide network
isolation, and this might cause problems if the host already has an
iptables-based firewall.

This change introduces docker_disable_default_iptables_rules to
disable the iptables manipulation by putting ""iptables: false"" [1] to
daemon.json

For better defaults, this feature will be enabled by default in
Victoria.

[1] https://docs.docker.com/network/iptables/

Closes-Bug: #1849275

Change-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b
(cherry picked from commit fc7ce6cabe3c1379cd6871a699862cf89b727b75)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/744920/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker-disable-iptables-e9a248a0515f30a6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,0c3bd2532f99ef221d09e16c6dc12649813e9e2e,bug/1849275-stable/train,"- name: Warn about docker default iptables debug: msg: >- Docker default iptables rules will be disabled by default from the Victoria 11.0.0 release. If you have any non-Kolla containers that need this functionality, you should plan a migration for this change, or set docker_disable_default_iptables_rules to false. when: not docker_disable_default_iptables_rules | bool - name: Disable docker default iptables rules set_fact: docker_config: ""{{ docker_config | combine({'iptables': false}) }}"" when: docker_disable_default_iptables_rules | bool ",,28,0
openstack%2Fglance~stable%2Fussuri~I6256a25d1907ec15fbdde560fc8eae37f3067213,openstack/glance,stable/ussuri,I6256a25d1907ec15fbdde560fc8eae37f3067213,Fix active image without data,MERGED,2020-08-06 09:18:50.000000000,2020-08-06 19:18:28.000000000,2020-08-06 19:17:10.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 09:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd9524f1003499208871426167e89b3e0f15dc82', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n(cherry picked from commit b985e44f795340edfceed3b46abf9b4b28907cbb)\n'}, {'number': 2, 'created': '2020-08-06 13:10:22.000000000', 'files': ['glance/async_/flows/api_image_import.py', 'releasenotes/notes/fix_1889640-95d543629d7dadce.yaml', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2b3ce07c32624f9987df87520c5ff8d538c8e5fd', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nConflict: Correct import order used in test.\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n(cherry picked from commit b985e44f795340edfceed3b46abf9b4b28907cbb)\n'}]",1,745100,2b3ce07c32624f9987df87520c5ff8d538c8e5fd,14,5,2,5202,,,0,"Fix active image without data

Fixes image import resulting active image without any data
when the image happens to be deleted from staging before
_DeleteFromFS task is ran which is supposed to cleanup.

Conflict: Correct import order used in test.
Change-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213
Closes-Bug: #1889640
(cherry picked from commit b985e44f795340edfceed3b46abf9b4b28907cbb)
",git fetch https://review.opendev.org/openstack/glance refs/changes/00/745100/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/api_image_import.py', 'releasenotes/notes/fix_1889640-95d543629d7dadce.yaml', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,bd9524f1003499208871426167e89b3e0f15dc82,bug_1889640_ussuri_2," class TestDeleteFromFS(test_utils.BaseTestCase): def test_delete_with_backends_deletes(self): task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) self.config(enabled_backends='file:foo') with mock.patch.object(import_flow.store_api, 'delete') as mock_del: task.execute(mock.sentinel.path) mock_del.assert_called_once_with( mock.sentinel.path, 'os_glance_staging_store') def test_delete_with_backends_delete_fails(self): self.config(enabled_backends='file:foo') task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) with mock.patch.object(import_flow.store_api, 'delete') as mock_del: mock_del.side_effect = store_exceptions.NotFound(image=IMAGE_ID1, message='Testing') # If we didn't swallow this we would explode here task.execute(mock.sentinel.path) mock_del.assert_called_once_with( mock.sentinel.path, 'os_glance_staging_store') # Raise something unexpected and make sure it bubbles up mock_del.side_effect = RuntimeError self.assertRaises(RuntimeError, task.execute, mock.sentinel.path) @mock.patch('os.path.exists') @mock.patch('os.unlink') def test_delete_without_backends_exists(self, mock_unlink, mock_exists): mock_exists.return_value = True task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) task.execute('1234567foo') # FIXME(danms): I have no idea why the code arbitrarily snips # the first seven characters from the path. Need a comment or # *something*. mock_unlink.assert_called_once_with('foo') mock_unlink.reset_mock() mock_unlink.side_effect = OSError(123, 'failed') # Make sure we swallow the OSError and don't explode task.execute('1234567foo') @mock.patch('os.path.exists') @mock.patch('os.unlink') def test_delete_without_backends_missing(self, mock_unlink, mock_exists): mock_exists.return_value = False task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) task.execute('foo') mock_unlink.assert_not_called()",,65,1
openstack%2Fopenstack-ansible-os_masakari~stable%2Fussuri~I5b5db9f15b4d6efd139e25e03f47856875b907b6,openstack/openstack-ansible-os_masakari,stable/ussuri,I5b5db9f15b4d6efd139e25e03f47856875b907b6,Add CentOS 8 support,MERGED,2020-08-06 07:42:23.000000000,2020-08-06 19:12:40.000000000,2020-08-06 19:11:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-06 07:42:23.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/8cc3651e0489101fc2dda141a35606d707cde81b', 'message': 'Add CentOS 8 support\n\nChange-Id: I5b5db9f15b4d6efd139e25e03f47856875b907b6\n(cherry picked from commit 9a80d520bdba292c9d7ea21eff5de722a07e620f)\n'}]",0,745081,8cc3651e0489101fc2dda141a35606d707cde81b,8,3,1,25023,,,0,"Add CentOS 8 support

Change-Id: I5b5db9f15b4d6efd139e25e03f47856875b907b6
(cherry picked from commit 9a80d520bdba292c9d7ea21eff5de722a07e620f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/81/745081/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,8cc3651e0489101fc2dda141a35606d707cde81b,osa/el8-stable/ussuri,,,0,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fussuri~I9d356bfbf18c370c365937114c18dad92fa4ea53,openstack/openstack-ansible-os_gnocchi,stable/ussuri,I9d356bfbf18c370c365937114c18dad92fa4ea53,Revert CentOS 8 jobs to voting,MERGED,2020-08-05 07:06:17.000000000,2020-08-06 19:05:18.000000000,2020-08-06 19:02:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-05 07:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/6bcbe97e1d7ace79efe2bdb73345a7834cf4d68e', 'message': 'Revert CentOS 8 jobs to voting\n\nChange-Id: I9d356bfbf18c370c365937114c18dad92fa4ea53\n(cherry picked from commit 801a24e3e45cef339990e5baf2e72bb7de578b22)\n'}, {'number': 2, 'created': '2020-08-05 10:24:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/0f835b99d16c8e8c32620a5cdb86b6b9ec6e72f7', 'message': 'Revert CentOS 8 jobs to voting\n\nDepedns-On: https://review.opendev.org/744877\nChange-Id: I9d356bfbf18c370c365937114c18dad92fa4ea53\n(cherry picked from commit 801a24e3e45cef339990e5baf2e72bb7de578b22)\n'}]",0,744827,0f835b99d16c8e8c32620a5cdb86b6b9ec6e72f7,11,3,2,25023,,,0,"Revert CentOS 8 jobs to voting

Depedns-On: https://review.opendev.org/744877
Change-Id: I9d356bfbf18c370c365937114c18dad92fa4ea53
(cherry picked from commit 801a24e3e45cef339990e5baf2e72bb7de578b22)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/27/744827/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6bcbe97e1d7ace79efe2bdb73345a7834cf4d68e,osa/el8-stable/ussuri,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,0,16
openstack%2Fproject-config~master~Ib3b135b31c8f6e845656faf54734e00b64b78e36,openstack/project-config,master,Ib3b135b31c8f6e845656faf54734e00b64b78e36,revert https://review.opendev.org/739605,MERGED,2020-08-06 17:55:18.000000000,2020-08-06 19:04:45.000000000,2020-08-06 18:17:26.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 17:55:18.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e4120f97907a4e1cc6d9e8e6f29dfd4b75b5cf44', 'message': 'revert https://review.opendev.org/739605\n\nChange-Id: Ib3b135b31c8f6e845656faf54734e00b64b78e36\n'}]",0,745195,e4120f97907a4e1cc6d9e8e6f29dfd4b75b5cf44,8,3,1,20754,,,0,"revert https://review.opendev.org/739605

Change-Id: Ib3b135b31c8f6e845656faf54734e00b64b78e36
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/745195/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,e4120f97907a4e1cc6d9e8e6f29dfd4b75b5cf44,674091, max-servers: 4 max-servers: 4, max-servers: 0 max-servers: 0,2,2
openstack%2Fproject-config~master~I7940c5ca850db9f3f065c680589130ba7b4b5b2d,openstack/project-config,master,I7940c5ca850db9f3f065c680589130ba7b4b5b2d,Fix 'submit' permission for retired repo acl,MERGED,2020-08-06 16:52:28.000000000,2020-08-06 18:55:39.000000000,2020-08-06 17:09:35.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 16:52:28.000000000', 'files': ['gerrit/acls/openstack/retired.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1698d086644b920a94800c158613a823796f9f6b', 'message': ""Fix 'submit' permission for retired repo acl\n\nChange-Id: I7940c5ca850db9f3f065c680589130ba7b4b5b2d\n""}]",0,745187,1698d086644b920a94800c158613a823796f9f6b,8,3,1,8556,,,0,"Fix 'submit' permission for retired repo acl

Change-Id: I7940c5ca850db9f3f065c680589130ba7b4b5b2d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/745187/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/retired.config'],1,1698d086644b920a94800c158613a823796f9f6b,,submit = group tech-committee,submit = group tech-committee,1,1
openstack%2Fkayobe~stable%2Fussuri~Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5,openstack/kayobe,stable/ussuri,Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5,Sync kolla-ansible inventory for Ussuri,MERGED,2020-07-30 09:23:22.000000000,2020-08-06 18:36:22.000000000,2020-08-06 18:35:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-07-30 09:23:22.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6c65cbbcdde92e03726f443b09ee187ece851859', 'message': 'Sync kolla-ansible inventory for Ussuri\n\nBackport: Ussuri\n\nA few services were added at the end of the release which we missed.\n\nChange-Id: Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5\n(cherry picked from commit 936f393d6329982efbfbe876237a96f1a40c92b0)\n'}]",0,743934,6c65cbbcdde92e03726f443b09ee187ece851859,15,4,1,14826,,,0,"Sync kolla-ansible inventory for Ussuri

Backport: Ussuri

A few services were added at the end of the release which we missed.

Change-Id: Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5
(cherry picked from commit 936f393d6329982efbfbe876237a96f1a40c92b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/34/743934/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/templates/overcloud-services.j2'],1,6c65cbbcdde92e03726f443b09ee187ece851859,,[zun-cni-daemon:children] compute [vitrage-persistor:children] vitrage ,[monasca-log-api:children] monasca ,6,3
openstack%2Fcinder~master~Ifa896c5f7336d3ce2a382ded9dcb4b3d595220db,openstack/cinder,master,Ifa896c5f7336d3ce2a382ded9dcb4b3d595220db,Doc note warning about retyping an unencrypted/encrypted volume.,MERGED,2020-06-02 19:33:39.000000000,2020-08-06 18:21:01.000000000,2020-08-03 18:11:03.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-06-02 19:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4a5c0dcb3c1977d469bf07bc85fb033a943507e', 'message': 'WIP Doc note with warning about retype volumes\n\nChange-Id: Ifa896c5f7336d3ce2a382ded9dcb4b3d595220db\n'}, {'number': 2, 'created': '2020-07-31 15:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5b4a895f160d114eabf4a4610d2862d6f7ca5ee', 'message': 'Doc note warning about retyping an unencrypted/encrypted volume.\n\nAs we discussed at Victoria PTG[1] it would be nice to have a note\nwarning users to don’t try this.\n\n[1] https://wiki.openstack.org/wiki/CinderVictoriaPTGSummary#Sizing_encrypted_volumes\n\nPartial-Bug: #1687880\nChange-Id: Ifa896c5f7336d3ce2a382ded9dcb4b3d595220db\n'}, {'number': 3, 'created': '2020-07-31 21:55:32.000000000', 'files': ['doc/source/contributor/migration.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/662b8210aab8e08bdddbf30e2b21ae357f3be32e', 'message': 'Doc note warning about retyping an unencrypted/encrypted volume.\n\nAs we discussed at Victoria PTG[1] it would be nice to have a note\nwarning users to don’t try this.\n\n[1] https://wiki.openstack.org/wiki/CinderVictoriaPTGSummary#Sizing_encrypted_volumes\n\nPartial-Bug: #1687880\nChange-Id: Ifa896c5f7336d3ce2a382ded9dcb4b3d595220db\n'}]",4,732988,662b8210aab8e08bdddbf30e2b21ae357f3be32e,89,30,3,20813,,,0,"Doc note warning about retyping an unencrypted/encrypted volume.

As we discussed at Victoria PTG[1] it would be nice to have a note
warning users to don’t try this.

[1] https://wiki.openstack.org/wiki/CinderVictoriaPTGSummary#Sizing_encrypted_volumes

Partial-Bug: #1687880
Change-Id: Ifa896c5f7336d3ce2a382ded9dcb4b3d595220db
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/732988/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/migration.rst'],1,a4a5c0dcb3c1977d469bf07bc85fb033a943507e,sizing-encrypted-volumes,"Finally, retype unencrypted volumes to encrypted volumes are not recommended.",,2,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic623568c6b8048538047d37b6c07f3dcbf2998dc,openstack/tripleo-upgrade,stable/train,Ic623568c6b8048538047d37b6c07f3dcbf2998dc,Run ceph upgrade after converge,MERGED,2020-08-04 16:41:21.000000000,2020-08-06 18:19:52.000000000,2020-08-06 18:19:52.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-04 16:41:21.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1250c867e034a1bbb4f8f17afc937cba8f29a607', 'message': 'Run ceph upgrade after converge\n\nWe are pushing ceph upgrade step out from converge to:\n1) Allow leaving maintenance window and running ceph upgrade later\n2) Reset the heat state removing ffwd environment variables and\n   setting the heat ceph container image to proper ceph4 version.\n\nChange-Id: Ic623568c6b8048538047d37b6c07f3dcbf2998dc\n(cherry picked from commit 8ffdec14cfb17f65eb0f9e906f532c1446d9d63c)\n'}]",0,744752,1250c867e034a1bbb4f8f17afc937cba8f29a607,7,3,1,11166,,,0,"Run ceph upgrade after converge

We are pushing ceph upgrade step out from converge to:
1) Allow leaving maintenance window and running ceph upgrade later
2) Reset the heat state removing ffwd environment variables and
   setting the heat ceph container image to proper ceph4 version.

Change-Id: Ic623568c6b8048538047d37b6c07f3dcbf2998dc
(cherry picked from commit 8ffdec14cfb17f65eb0f9e906f532c1446d9d63c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/52/744752/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,1250c867e034a1bbb4f8f17afc937cba8f29a607,ffwd-upgrade3-stable/train," ################ UPGRADE CONVERGE ############### - name: apply pre ffu overcloud converge workarounds shell: | set -o pipefail bash pre_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge - name: import overcloud upgrade converge tasks import_tasks: ../upgrade/overcloud_upgrade_converge.yml tags: ffu_overcloud_converge - name: apply post ffu overcloud converge workarounds shell: | set -o pipefail bash post_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge ############## POST UPGRADE ##############"," ################ UPGRADE CONVERGE ############### - name: apply pre ffu overcloud converge workarounds shell: | set -o pipefail bash pre_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge - name: import overcloud upgrade converge tasks import_tasks: ../upgrade/overcloud_upgrade_converge.yml tags: ffu_overcloud_converge - name: apply post ffu overcloud converge workarounds shell: | set -o pipefail bash post_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge ",24,23
openstack%2Fansible-hardening~stable%2Fussuri~I204db302995d779d390444f3f6a865ead750fed5,openstack/ansible-hardening,stable/ussuri,I204db302995d779d390444f3f6a865ead750fed5,Cleanup ansible_python_interpreter,MERGED,2020-07-27 17:56:54.000000000,2020-08-06 18:08:29.000000000,2020-08-06 18:07:06.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-07-27 17:56:54.000000000', 'files': ['tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/d0a8bede20e97cdea113b581676198364b9eb03f', 'message': ""Cleanup ansible_python_interpreter\n\nansible_pyhton_interpreter is set to auto, it's not needed anywhere now.\n\nChange-Id: I204db302995d779d390444f3f6a865ead750fed5\n(cherry picked from commit 17ccd9f06c62116573f40ddca354adab2120f655)\n""}]",0,743295,d0a8bede20e97cdea113b581676198364b9eb03f,26,3,1,25023,,,0,"Cleanup ansible_python_interpreter

ansible_pyhton_interpreter is set to auto, it's not needed anywhere now.

Change-Id: I204db302995d779d390444f3f6a865ead750fed5
(cherry picked from commit 17ccd9f06c62116573f40ddca354adab2120f655)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/95/743295/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,d0a8bede20e97cdea113b581676198364b9eb03f,cleanup-interpreter-stable/ussuri,," - name: Set ansible_python_interpreter set_fact: ansible_python_interpreter: ""/usr/bin/{{ (ansible_distribution == 'CentOS' and ansible_distribution_version is version('8', '<')) | ternary('python2', 'python3') }}""",0,3
openstack%2Fosc-placement~master~I07fa0b626b7529699179c8cd8e254fd66455c930,openstack/osc-placement,master,I07fa0b626b7529699179c8cd8e254fd66455c930,Provide a useful message in case of 5xx error,MERGED,2018-07-26 12:00:19.000000000,2020-08-06 18:06:53.000000000,2020-08-06 18:05:28.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-07-26 12:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/51533080c795153ca9072c4e3d74830b35a55ad7', 'message': 'Provide a useful message in the case of 500-error\n\nIf server response does not have an appropriate json format\nwe see something like:\n\nopenstack resource provider delete ...\nerrors\n\nAfter this change it could be:\n\nopenstack resource provider delete ...\n(500, \'Unexpected response content: {""computeFault"": {""message"": ""The server has either erred or is incapable of performing the requested operation."", ""code"": 500}}\')\n\nChange-Id: I07fa0b626b7529699179c8cd8e254fd66455c930\n'}, {'number': 2, 'created': '2018-07-26 12:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/836d34c4d21c9e4dde936dfc261bb92c5c7f905d', 'message': 'Provide a useful message in the case of 500-error\n\nIf server response does not have an appropriate json format\nwe see something like:\n\nopenstack resource provider delete ...\nerrors\n\nAfter this change it could be:\n\nopenstack resource provider delete ...\n(500, \'Unexpected response content: {""computeFault"": {""message"": ""The\nserver has either erred or is incapable of performing the requested\noperation."", ""code"": 500}}\')\n\nChange-Id: I07fa0b626b7529699179c8cd8e254fd66455c930\n'}, {'number': 3, 'created': '2019-04-11 20:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/707a30876dc6685cb4253f53c8eedfde24ecd876', 'message': 'Provide a useful message in the case of 500-error\n\nIf server response does not have an appropriate json format\nwe see something like:\n\nopenstack resource provider delete ...\nerrors\n\nAfter this change it could be:\n\nopenstack resource provider delete ...\n(500, \'Unexpected response content: {""computeFault"": {""message"": ""The\nserver has either erred or is incapable of performing the requested\noperation."", ""code"": 500}}\')\n\nStory: #2005437\nTask: #30478\n\nChange-Id: I07fa0b626b7529699179c8cd8e254fd66455c930\n'}, {'number': 4, 'created': '2019-11-26 11:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f1dc921fbf6cff0b6259bc898484cea3bb9d190d', 'message': ""Provide a useful message in case of 5xx error\n\nIf server response does not have an appropriate json format,\nthe message was useless. For example, if placement-api is down,\nwe had something like this:\n\n$ openstack resource provider delete\nExpecting value: line 1 column 1 (char 0)\n\nThis was because the code assumed that the response had details in\nit. That is correct for 4xx errors, but that's not the case for 5xx\nerrors. This patch changes it not to retrieve the details from\nresponse on 5xx error, and just raise keystone exceptions.\n\nNow we have something like this:\n\n$ openstack resource provider delete\nService Unavailable (HTTP 503)\n\nStory: #2005437, #2005438\nTask: #30478, #30479\n\nChange-Id: I07fa0b626b7529699179c8cd8e254fd66455c930\nCo-Autored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\n""}, {'number': 5, 'created': '2019-11-26 11:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/93df0180b7eaedb1c0e47c99b1a07d41f2fcf332', 'message': ""Provide a useful message in case of 5xx error\n\nIf server response does not have an appropriate json format,\nthe message was useless. For example, if placement-api is down,\nwe had something like this:\n\n$ openstack resource provider delete\nExpecting value: line 1 column 1 (char 0)\n\nThis was because the code assumed that the response had details in\nit. That is correct for 4xx errors, but that's not the case for 5xx\nerrors. This patch changes it not to retrieve the details from\nresponse on 5xx error, and just raise keystone exceptions.\n\nNow we have something like this:\n\n$ openstack resource provider delete\nService Unavailable (HTTP 503)\n\nStory: #2005437\nStory: #2005438\nTask: #30478\nTask: #30479\n\nChange-Id: I07fa0b626b7529699179c8cd8e254fd66455c930\nCo-Autored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\n""}, {'number': 6, 'created': '2019-12-05 01:48:06.000000000', 'files': ['osc_placement/http.py', 'osc_placement/tests/unit/test_http.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/75b3aa094ff8b280ea563fbb1f08d14921327402', 'message': ""Provide a useful message in case of 5xx error\n\nIf server response does not have an appropriate json format,\nthe message was useless. For example, if placement-api is down,\nwe had something like this:\n\n$ openstack resource provider delete\nExpecting value: line 1 column 1 (char 0)\n\nThis was because the code assumed that the response had details in\nit. That is correct for 4xx errors, but that's not the case for 5xx\nerrors. This patch changes it not to retrieve the details from\nresponse on 5xx error, and just raise keystone exceptions.\n\nNow we have something like this:\n\n$ openstack resource provider delete\nService Unavailable (HTTP 503)\n\nStory: #2005437\nStory: #2005438\nTask: #30478\nTask: #30479\n\nChange-Id: I07fa0b626b7529699179c8cd8e254fd66455c930\nCo-Autored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\n""}]",2,586056,75b3aa094ff8b280ea563fbb1f08d14921327402,26,7,6,21813,,,0,"Provide a useful message in case of 5xx error

If server response does not have an appropriate json format,
the message was useless. For example, if placement-api is down,
we had something like this:

$ openstack resource provider delete
Expecting value: line 1 column 1 (char 0)

This was because the code assumed that the response had details in
it. That is correct for 4xx errors, but that's not the case for 5xx
errors. This patch changes it not to retrieve the details from
response on 5xx error, and just raise keystone exceptions.

Now we have something like this:

$ openstack resource provider delete
Service Unavailable (HTTP 503)

Story: #2005437
Story: #2005438
Task: #30478
Task: #30479

Change-Id: I07fa0b626b7529699179c8cd8e254fd66455c930
Co-Autored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/56/586056/3 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/http.py', 'osc_placement/tests/unit/test_http.py']",2,51533080c795153ca9072c4e3d74830b35a55ad7,story/2005438," def test_unexpected_response(self): def go(): with http._wrap_http_exceptions(): response = mock.Mock(content='Internal server error') raise ks_exceptions.InternalServerError(response=response) self.assertRaisesRegex( exceptions.CommandError, 'Internal server error', go)",,15,2
openstack%2Fkolla-ansible~stable%2Fussuri~I74550eaf394287b14fc521293cc4b5ea8074192c,openstack/kolla-ansible,stable/ussuri,I74550eaf394287b14fc521293cc4b5ea8074192c,Update TLS documentation,MERGED,2020-08-06 10:35:39.000000000,2020-08-06 17:57:32.000000000,2020-08-06 17:55:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-08-06 10:35:39.000000000', 'files': ['doc/source/admin/tls.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f27c8489f81ff27f5596a713ba6850d9b9126b88', 'message': 'Update TLS documentation\n\nUpdated TLS documentation to reflect new features and configuration\noptions added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\nPartially-Implements: blueprint add-ssl-internal-network\n(cherry picked from commit 589803c186697d1a2212422c48d5acf8e767dc7f)\n'}]",0,745109,f27c8489f81ff27f5596a713ba6850d9b9126b88,8,4,1,14826,,,0,"Update TLS documentation

Updated TLS documentation to reflect new features and configuration
options added in Ussuri.

Change-Id: I74550eaf394287b14fc521293cc4b5ea8074192c
Partially-Implements: blueprint add-ssl-internal-network
(cherry picked from commit 589803c186697d1a2212422c48d5acf8e767dc7f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/745109/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/tls.rst'],1,f27c8489f81ff27f5596a713ba6850d9b9126b88,bp/add-ssl-internal-network,"This guide describes how to configure Kolla Ansible to deploy OpenStack with TLS enabled. Enabling TLS on the provided internal and/or external VIP address allows OpenStack clients to authenticate and encrypt network communication with OpenStack services. When an OpenStack service exposes an API endpoint, Kolla Ansible will configure HAProxy for that service to listen on the internal and/or external VIP address. The HAProxy container load-balances requests on the VIPs to the nodes running the service container. There are two different layers of TLS configuration for OpenStack APIs: 1. Enabling TLS on the internal and/or external VIP, so communication between an OpenStack client and the HAProxy listening on the VIP is secure. 2. Enabling TLS on the backend network, so communication between HAProxy and the backend API services is secure. TLS authentication is based on certificates that have been signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org is a CA that will provide trusted certificates at no charge. If using a trusted CA is not possible for your project, you can use a private CA, e.g. Hashicorp Vault, to create a certificate for your domain, or see :ref:`admin-tls-generating-a-private-ca` to use a Kolla Ansible generated private CA. Quick Start ~~~~~~~~~~~ .. note:: The certificates generated by Kolla Ansible use a simple Certificate Authority setup and are not suitable for a production deployment. Only certificates signed by a trusted Certificate Authority should be used in a production deployment. To deploy OpenStack with TLS enabled for the external, internal and backend APIs, configure the following in ``globals.yml``: kolla_enable_tls_internal: ""yes"" kolla_enable_tls_external: ""yes"" kolla_enable_tls_backend: ""yes"" kolla_copy_ca_into_containers: ""yes"" If deploying on Debian or Ubuntu: .. code-block:: yaml openstack_cacert: ""/etc/ssl/certs/ca-certificates.crt"" If on CentOS or RHEL: .. code-block:: yaml openstack_cacert: ""/etc/pki/tls/certs/ca-bundle.crt"" The Kolla Ansible ``certificates`` command generates a private test Certificate Authority, and then uses the CA to sign the generated certificates for the enabled VIP(s) to test TLS in your OpenStack deployment. Assuming you are using the ``multinode`` inventory: kolla-ansible -i ~/multinode certificates TLS Configuration for internal/external VIP ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The configuration variables that control TLS for the internal and/or external VIP are: - ``kolla_enable_tls_external`` - ``kolla_enable_tls_internal`` - ``kolla_internal_fqdn_cert`` - ``kolla_external_fqdn_cert`` .. note:: If TLS is enabled only on the internal or external network, then ``kolla_internal_vip_address`` and ``kolla_external_vip_address`` must be different. If there is only a single network configured in your topology (as opposed to separate internal and external networks), TLS can only be enabled using the internal network configuration variables. The default state for TLS networking is disabled. To enable external TLS encryption: .. code-block:: yaml kolla_enable_tls_external: ""yes"" To enable internal TLS encryption: .. code-block:: yaml kolla_enable_tls_internal: ""yes"" Two certificate files are required to use TLS securely with authentication, which will be provided by your Certificate Authority: * server certificate with private key * CA certificate with any intermediate certificates The combined server certificate and private key needs to be provided to Kolla Ansible, with the path configured via ``kolla_external_fqdn_cert`` or ``kolla_internal_fqdn_cert``. These paths default to ``{{ kolla_certificates_dir }}/haproxy.pem`` and ``{{ kolla_certificates_dir }}/haproxy-internal.pem`` respectively, where ``kolla_certificates_dir`` is ``/etc/kolla/certificates`` by default. If the server certificate provided is not already trusted by clients, then the CA certificate file will need to be distributed to the clients. This is discussed in more detail in :ref:`admin-tls-openrc` and :ref:`admin-tls-ca-in-containers`. .. _admin-tls-openrc: Configuring the OpenStack Client for TLS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The location for the CA certificate for the ``admin-openrc.sh`` file is configured with the ``kolla_admin_openrc_cacert`` variable, which is not set by default. This must be a valid path on all hosts where ``admin-openrc.sh`` is used. When TLS is enabled on a VIP, and ``kolla_admin_openrc_cacert`` is set to ``/etc/pki/tls/certs/ca-bundle.crt``, an OpenStack client will have settings similar to this configured by ``admin-openrc.sh``: .. code-block:: shell export OS_PROJECT_DOMAIN_NAME=Default export OS_USER_DOMAIN_NAME=Default export OS_PROJECT_NAME=admin export OS_TENANT_NAME=admin export OS_USERNAME=admin export OS_PASSWORD=demoPassword export OS_AUTH_URL=https://mykolla.example.net:5000 export OS_INTERFACE=internal export OS_ENDPOINT_TYPE=internalURL export OS_MISTRAL_ENDPOINT_TYPE=internalURL export OS_IDENTITY_API_VERSION=3 export OS_REGION_NAME=RegionOne export OS_AUTH_PLUGIN=password # os_cacert is optional for trusted certificates export OS_CACERT=/etc/pki/tls/certs/ca-bundle.crt .. _admin-tls-ca-in-containers:To copy CA certificate files to the service containers: kolla_copy_ca_into_containers: ""yes"" When ``kolla_copy_ca_into_containers`` is configured to ""yes"", the CA certificate files in ``/etc/kolla/certificates/ca`` will be copied intoand are not already present in the service image trust store. Kolla will install these certificates in the container system wide trust store when the container starts. All certificate file names will have the ``kolla-customca-`` prefix prepended to them when they are copied into the containers. For example, if a certificate file is named ``internal.crt``, it will be named ``kolla-customca-internal.crt`` in the containers. For Debian and Ubuntu containers, the certificate files will be copied to the ``/usr/local/share/ca-certificates/`` directory. For CentOS and RHEL containers, the certificate files will be copied to the ``/etc/pki/ca-trust/source/anchors/`` directory. In both cases, valid certificates will be added to the system trust store - ``/etc/ssl/certs/ca-certificates.crt`` on Debian and Ubuntu, and ``/etc/pki/tls/certs/ca-bundle.crt`` on CentOS and RHEL. Configuring a CA bundle ~~~~~~~~~~~~~~~~~~~~~~~ OpenStack services do not always trust CA certificates from the system trust store by default. To resolve this, the ``openstack_cacert`` variable should be configured with the path to the CA Certificate in the container. To use the system trust store on Debian or Ubuntu: .. code-block:: yaml openstack_cacert: /etc/ssl/certs/ca-certificates.crt For CentOS or RHEL: .. code-block:: yaml openstack_cacert: /etc/pki/tls/certs/ca-bundle.crt Back-end TLS Configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~ Enabling TLS on the backend services secures communication between the HAProxy listing on the internal/external VIP and the OpenStack services. It also enables secure end-to-end communication between OpenStack services that support TLS termination. The OpenStack services that support backend TLS termination in Ussuri are: Keystone, Glance, Heat, Placement, Horizon, Barbican, and Cinder. The configuration variables that control back-end TLS for service endpoints are: - ``kolla_enable_tls_backend`` - ``kolla_tls_backend_cert`` - ``kolla_tls_backend_key`` - ``haproxy_backend_cacert`` - ``haproxy_backend_cacert_dir`` The default state for back-end TLS is disabled. To enable TLS for the back-end communication: .. code-block:: yaml kolla_enable_tls_backend: ""yes"" It is also possible to enable back-end TLS on a per-service basis. For example, to enable back-end TLS for Keystone, set ``keystone_enable_tls_backend`` to ``yes``. The default values for ``haproxy_backend_cacert`` and ``haproxy_backend_cacert_dir`` should suffice if the certificate is in the system trust store. Otherwise, they should be configured to a location of the CA certificate installed in the service containers. Each backend service requires a certificate and private key. In many cases it is necessary to use a separate certificate and key for each host, or even per-service. The following precedence is used for the certificate: * ``{{ kolla_certificates_dir }}/{{ inventory_hostname }}/{{ project_name }}-cert.pem`` * ``{{ kolla_certificates_dir }}/{{ inventory_hostname }}-cert.pem`` * ``{{ kolla_certificates_dir }}/{{ project_name }}-cert.pem`` * ``{{ kolla_tls_backend_cert }}`` And for the private key: * ``{{ kolla_certificates_dir }}/{{ inventory_hostname }}/{{ project_name }}-key.pem`` * ``{{ kolla_certificates_dir }}/{{ inventory_hostname }}-key.pem`` * ``{{ kolla_certificates_dir }}/{{ project_name }}-key.pem`` * ``{{ kolla_tls_backend_key }}`` The default for ``kolla_certificates_dir`` is ``/etc/kolla/certificates``. ``kolla_tls_backend_cert`` and ``kolla_tls_backend_key``, default to ``{{ kolla_certificates_dir }}/backend-cert.pem`` and ``{{ kolla_certificates_dir }}/backend-key.pem`` respectively. ``project_name`` is the name of the OpenStack service, e.g. ``keystone`` or ``cinder``. .. note:: The back-end TLS cert/key can be the same certificate that is used for the VIP, as long as those certificates are configured to allow requests from both the VIP and internal networks. By default, the TLS certificate will be verified as trustable by the OpenStack services. Although not recommended for production, it is possible to disable verification of the backend certificate: .. code-block:: yaml kolla_verify_tls_backend: ""no"" .. _admin-tls-generating-a-private-ca: Generating a Private Certificate Authority ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: The certificates generated by Kolla Ansible use a simple Certificate Authority setup and are not suitable for a production deployment. Only certificates signed by a trusted Certificate Authority should be used in a production deployment. It's not always practical to get a certificate signed by a trusted CA. In a development or internal test OpenStack deployment, it can be useful to generate certificates locally to enable TLS. For convenience, the ``kolla-ansible`` command will generate the necessary certificate files based on the information in the ``globals.yml`` configuration file and the inventory file: .. code-block:: console kolla-ansible -i multinode certificates The ``certificates`` role performs the following actions: 1. Generates a test root Certificate Authority 2. Generates the internal/external certificates which are signed by the root CA. 3. If back-end TLS is enabled, generate the back-end certificate signed by the root CA. The combined certificate and key file ``haproxy.pem`` (which is the default value for ``kolla_external_fqdn_cert``) will be generated and stored in the ``/etc/kolla/certificates/`` directory, and a copy of the CA certificate (``root.crt``) will be stored in the ``/etc/kolla/certificates/ca/`` directory.","An additional endpoint configuration option is to enable or disable TLS protection for the internal and/or external VIP. TLS allows a client to authenticate the OpenStack service endpoint and allows for encryption of the requests and responses. The configuration variables that control TLS networking are: - kolla_enable_tls_external - kolla_external_fqdn_cert - kolla_enable_tls_internal - kolla_internal_fqdn_cert If TLS is enabled only on the internal or the external network the kolla_internal_vip_address and kolla_external_vip_address must be different. If there is only a single network configured in your network topology (opposed to configuring seperate internal and external networks), TLS can be enabled using only the internal network configuration variables. The default for TLS is disabled, to enable TLS networking: kolla_enable_tls_external: ""yes"" kolla_external_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert.pem"" and/or kolla_enable_tls_internal: ""yes"" kolla_internal_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert-internal.pem"" .. note:: TLS authentication is based on certificates that have been signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org is a CA that will provide trusted certificates at no charge. Many company's IT departments will provide certificates within that company's domain. If using a trusted CA is not possible for your situation, you can use `OpenSSL <https://www.openssl.org>`__ to create your own company's domain or see the section below about kolla generated self-signed certificates. Two certificate files are required to use TLS securely with authentication. These two files will be provided by your Certificate Authority. These two files are the server certificate with private key and the CA certificate with any intermediate certificates. The server certificate needs to be installed with the kolla deployment and is configured with the ``kolla_external_fqdn_cert`` or ``kolla_internal_fqdn_cert`` parameter. If the server certificate provided is not already trusted by the client, then the CA certificate file will need to be distributed to the client. When using TLS to connect to a public endpoint, an OpenStack client will have settings similar to this: .. code-block:: shell export OS_PROJECT_DOMAIN_ID=default export OS_USER_DOMAIN_ID=default export OS_PROJECT_NAME=demo export OS_USERNAME=demo export OS_PASSWORD=demo-password export OS_AUTH_URL=https://mykolla.example.net:5000 # os_cacert is optional for trusted certificates export OS_CACERT=/etc/pki/ca/mykolla-cacert.crt export OS_IDENTITY_API_VERSION=3 Self-Signed Certificates ~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: Self-signed certificates should never be used in production. It is not always practical to get a certificate signed by a well-known trust CA, for example a development or internal test kolla deployment. In these cases it can be useful to have a self-signed certificate to use. For convenience, the ``kolla-ansible`` command will generate the necessary certificate files based on the information in the ``globals.yml`` configuration file: kolla-ansible certificates The certificate file haproxy.pem will be generated and stored in the ``/etc/kolla/certificates/`` directory, and the CA cert will be in the ``/etc/kolla/certificates/ca/`` directory.To copy CA certificate files to the service containers kolla_copy_ca_into_containers: ""yes"" When ``kolla_copy_ca_into_containers`` is configured to ""yes"", the CA certificate files in /etc/kolla/certificates/ca will be copied intoand are not already present in the service image trust store. All certificate file names will have the ""kolla-customca-"" prefix prepended to it when it is copied into the containers. For example, if a certificate file is named ""internal.crt"", it will be named ""kolla-customca-internal.crt"" in the containers. For Debian and Ubuntu containers, the certificate files will be copied to the ``/usr/local/share/ca-certificates/`` directory. For Centos and Red Hat Linux containers, the certificate files will be copied to the ``/etc/pki/ca-trust/source/anchors/`` directory. In addition, the ``openstack_cacert`` should be configured with the path to the cacert in the container. For example, if the self-signed certificate task was used and the deployment is on ubuntu, the path would be: ""/etc/pki/ca-trust/source/anchors/kolla-customca-haproxy-internal.crt""",282,89
openstack%2Fnova-specs~master~I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9,openstack/nova-specs,master,I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9,Routed network scheduling spec,MERGED,2020-06-04 21:23:52.000000000,2020-08-06 17:56:07.000000000,2020-08-06 17:54:42.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8313}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-06-04 21:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e99642aa1fe68ce59071932e2b030db2f57053ab', 'message': 'Routed network scheduling spec\n\nThis spec describes the high-levels of blueprint routed-networks-scheduling\n\nChange-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9\n'}, {'number': 2, 'created': '2020-06-17 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74c1c1e772bdb639059e72bb614e40027e35d0b5', 'message': 'Routed network scheduling spec\n\nThis spec describes the high-levels of blueprint routed-networks-scheduling\n\nChange-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9\n'}, {'number': 3, 'created': '2020-07-03 10:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b614d5bdbdc335b4ea5e88149ffab4fc147a9b0a', 'message': 'Routed network scheduling spec\n\nThis spec describes the high-levels of blueprint routed-networks-scheduling\n\nChange-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9\n'}, {'number': 4, 'created': '2020-07-06 08:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8399d1455af1a3c2db4e6fc4ea55b9dc07f675a1', 'message': 'Routed network scheduling spec\n\nThis spec describes the high-levels of blueprint routed-networks-scheduling\n\nChange-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9\n'}, {'number': 5, 'created': '2020-07-21 15:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/db615dca3fb7dad1f66323ed2c4b9714c49c3215', 'message': 'Routed network scheduling spec\n\nThis spec describes the high-levels of blueprint routed-networks-scheduling\n\nChange-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9\n'}, {'number': 6, 'created': '2020-07-29 16:16:07.000000000', 'files': ['specs/victoria/approved/routed-networks-scheduling.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3554dda45b56c957610023a9553ebd575617a93e', 'message': 'Routed network scheduling spec\n\nThis spec describes the high-levels of blueprint routed-networks-scheduling\n\nChange-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9\n'}]",77,733703,3554dda45b56c957610023a9553ebd575617a93e,32,11,6,7166,,,0,"Routed network scheduling spec

This spec describes the high-levels of blueprint routed-networks-scheduling

Change-Id: I3e1d1428430ec7de6b8e0c5f099aa2e4794f28b9
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/03/733703/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/routed-networks-scheduling.rst'],1,e99642aa1fe68ce59071932e2b030db2f57053ab,routed-networks-scheduling,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Scheduling support for Routed Networks ====================================== https://blueprints.launchpad.net/nova/+spec/routed-networks-scheduling Neutron provides network segments support thanks to Routed Networks where you can create a port allocated to a specific segment. Unfortunately, Nova doesn't verify the segment at every instance operator, more particularly when you move an instance, which leads to inconsistencies. Problem description =================== Although it's possible to create a Neutron port with a routed networks setup and boot an instance with this port, the network locality of the compute node associated with the instance won't be verified by the scheduler and could lead to a wrong scheduling decision, which is problematic when a move operation sends an instance to a compute node that isn't in the network segment that is related to the IP address that was allocated at boot time. Use Cases --------- As an operator, I'd like to make sure that instances IP addresses can be correctly spread between the network segments I provided. Proposed change =============== Once you configure routed networks in Neutron, network segments are represented as Placement Resource Providers and Placement aggregates are created per segment. Since Placement resource provider aggregates are mirrored as Nova aggregates, operators can add the related hosts of a specific network segment to the above nova aggregate. What we then need for Nova is to have a way for asking the Placement API to only get resource providers (ie. compute nodes) that are in the aggregate related to the segments that are in the network passed by the user (or related to the port that is asked). As Nova needs to find which segments are related and then which aggregates, we could just provide a new pre-filter that would look at it if some configuration option (say ``query_placement_for_routed_network_aggregates``) would be ``True``. Alternatives ------------ Instead of having a new pre-filter, we could provide a specific scheduler filter. This said, given we limit the number of allocation candidates returned by Placement, we could miss some good resource providers so the filter couldn't work. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ There could be a performance impact if we would verify the segments for every instance in every cloud, but given we ask the operator to modify an option if they want to use routed networks, we don't really think this would be an issue. Other deployer impact --------------------- A new configuration option would be:: cfg.BoolOpt(""query_placement_for_routed_network_aggregates"", default=False), Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: bauzas Other contributors: None Feature Liaison --------------- bauzas Work Items ---------- * Create a new pre-filter that would find the related aggregate * Pass the aggregate to the RequestSpec asking to verify it by Placement * That's it. Dependencies ============ None. Testing ======= Functional tests of course, but Tempest tests would be nice as well. Documentation Impact ==================== Maybe modifying https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html References ========== None. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Victoria - Introduced ",,167,0
openstack%2Fkolla-ansible~stable%2Fussuri~I4c83f1810ef1222aaa3560174c1ba39328853c4e,openstack/kolla-ansible,stable/ussuri,I4c83f1810ef1222aaa3560174c1ba39328853c4e,Move TLS documentation to its own page,MERGED,2020-08-06 10:35:39.000000000,2020-08-06 17:41:50.000000000,2020-08-06 17:40:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-06 10:35:39.000000000', 'files': ['doc/source/admin/tls.rst', 'doc/source/admin/index.rst', 'doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10f3a99b49966b75920e142b11cfa267266c28ee', 'message': 'Move TLS documentation to its own page\n\nMoved the TLS documentation from ""advanced-configuration"" doc to its\nown TLS document. This is in preparation for improving it.\n\nChange-Id: I4c83f1810ef1222aaa3560174c1ba39328853c4e\nCo-Authored-By: James Kirsch <generalfuzz@gmail.com>\n(cherry picked from commit 3870c74d0b31a3348d440f890d6a879e8232dd84)\n'}]",0,745108,10f3a99b49966b75920e142b11cfa267266c28ee,8,3,1,14826,,,0,"Move TLS documentation to its own page

Moved the TLS documentation from ""advanced-configuration"" doc to its
own TLS document. This is in preparation for improving it.

Change-Id: I4c83f1810ef1222aaa3560174c1ba39328853c4e
Co-Authored-By: James Kirsch <generalfuzz@gmail.com>
(cherry picked from commit 3870c74d0b31a3348d440f890d6a879e8232dd84)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/745108/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/tls.rst', 'doc/source/admin/index.rst', 'doc/source/admin/advanced-configuration.rst']",3,10f3a99b49966b75920e142b11cfa267266c28ee,bp/add-ssl-internal-network,Configuration of TLS is now covered :doc:`here <tls>`.,"An additional endpoint configuration option is to enable or disable TLS protection for the internal and/or external VIP. TLS allows a client to authenticate the OpenStack service endpoint and allows for encryption of the requests and responses. The configuration variables that control TLS networking are: - kolla_enable_tls_external - kolla_external_fqdn_cert - kolla_enable_tls_internal - kolla_internal_fqdn_cert .. note:: If TLS is enabled only on the internal or the external network the kolla_internal_vip_address and kolla_external_vip_address must be different. If there is only a single network configured in your network topology (opposed to configuring seperate internal and external networks), TLS can be enabled using only the internal network configuration variables. The default for TLS is disabled, to enable TLS networking: .. code-block:: yaml kolla_enable_tls_external: ""yes"" kolla_external_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert.pem"" and/or kolla_enable_tls_internal: ""yes"" kolla_internal_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert-internal.pem"" .. note:: TLS authentication is based on certificates that have been signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org is a CA that will provide trusted certificates at no charge. Many company's IT departments will provide certificates within that company's domain. If using a trusted CA is not possible for your situation, you can use `OpenSSL <https://www.openssl.org>`__ to create your own company's domain or see the section below about kolla generated self-signed certificates. Two certificate files are required to use TLS securely with authentication. These two files will be provided by your Certificate Authority. These two files are the server certificate with private key and the CA certificate with any intermediate certificates. The server certificate needs to be installed with the kolla deployment and is configured with the ``kolla_external_fqdn_cert`` or ``kolla_internal_fqdn_cert`` parameter. If the server certificate provided is not already trusted by the client, then the CA certificate file will need to be distributed to the client. When using TLS to connect to a public endpoint, an OpenStack client will have settings similar to this: .. code-block:: shell export OS_PROJECT_DOMAIN_ID=default export OS_USER_DOMAIN_ID=default export OS_PROJECT_NAME=demo export OS_USERNAME=demo export OS_PASSWORD=demo-password export OS_AUTH_URL=https://mykolla.example.net:5000 # os_cacert is optional for trusted certificates export OS_CACERT=/etc/pki/ca/mykolla-cacert.crt export OS_IDENTITY_API_VERSION=3 Self-Signed Certificates ~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: Self-signed certificates should never be used in production. It is not always practical to get a certificate signed by a well-known trust CA, for example a development or internal test kolla deployment. In these cases it can be useful to have a self-signed certificate to use. For convenience, the ``kolla-ansible`` command will generate the necessary certificate files based on the information in the ``globals.yml`` configuration file: .. code-block:: console kolla-ansible certificates The certificate file haproxy.pem will be generated and stored in the ``/etc/kolla/certificates/`` directory, and the CA cert will be in the ``/etc/kolla/certificates/ca/`` directory. Adding CA Certificates to the Service Containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To copy CA certificate files to the service containers .. code-block:: yaml kolla_copy_ca_into_containers: ""yes"" When ``kolla_copy_ca_into_containers`` is configured to ""yes"", the CA certificate files in /etc/kolla/certificates/ca will be copied into service containers to enable trust for those CA certificates. This is required for any certificates that are either self-signed or signed by a private CA, and are not already present in the service image trust store. All certificate file names will have the ""kolla-customca-"" prefix prepended to it when it is copied into the containers. For example, if a certificate file is named ""internal.crt"", it will be named ""kolla-customca-internal.crt"" in the containers. For Debian and Ubuntu containers, the certificate files will be copied to the ``/usr/local/share/ca-certificates/`` directory. For Centos and Red Hat Linux containers, the certificate files will be copied to the ``/etc/pki/ca-trust/source/anchors/`` directory. In addition, the ``openstack_cacert`` should be configured with the path to the cacert in the container. For example, if the self-signed certificate task was used and the deployment is on ubuntu, the path would be: ""/etc/pki/ca-trust/source/anchors/kolla-customca-haproxy-internal.crt""",130,124
openstack%2Fkolla~stable%2Ftrain~I8f60cce4d7a8abcfd2e03c8eb4a153c37e2287bd,openstack/kolla,stable/train,I8f60cce4d7a8abcfd2e03c8eb4a153c37e2287bd,requirements.txt: pin gitdb(2) versions,ABANDONED,2020-08-03 15:00:56.000000000,2020-08-06 17:41:02.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 31763}]","[{'number': 1, 'created': '2020-08-03 15:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/60f3d2f183a3a115b79c92e2fc08d36c0307c6c3', 'message': 'requirements.txt: pin gitdb(2) versions\n\n""pip install -r requirements.txt"" ended with:\n\nERROR: Could not find a version that satisfies the requirement gitdb>=4.0.1 (from gitdb2>=2.0.0->GitPython<2.1.12,>=1.0.1->-r /home/hrw/devel/linaro/kolla/requirements.txt (line 7)) (from versions: 0.5.0, 0.5.1, 0.5.2, 0.5.3, 0.5.4, 0.6.0, 0.6.1, 0.6.2, 0.6.3, 0.6.4)\nERROR: No matching distribution found for gitdb>=4.0.1 (from gitdb2>=2.0.0->GitPython<2.1.12,>=1.0.1->-r /home/hrw/devel/linaro/kolla/requirements.txt (line 7))\n\nThe issue is due to gitdb/gitdb2 projects merge/rename -\nhttps://github.com/gitpython-developers/gitdb/issues/61 for more info.\n\nThis fix is taken from stable/ussuri requirements project - https://review.opendev.org/#/c/710138/\n\nChange-Id: I8f60cce4d7a8abcfd2e03c8eb4a153c37e2287bd\n'}, {'number': 2, 'created': '2020-08-04 20:00:18.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/080ead324f34df2e195fc97bcdb1854f1d105b50', 'message': 'requirements.txt: pin gitdb(2) versions\n\n""pip install -r requirements.txt"" ended with:\n\nERROR: Could not find a version that satisfies the requirement gitdb>=4.0.1 (from gitdb2>=2.0.0->GitPython<2.1.12,>=1.0.1->-r /home/hrw/devel/linaro/kolla/requirements.txt (line 7)) (from versions: 0.5.0, 0.5.1, 0.5.2, 0.5.3, 0.5.4, 0.6.0, 0.6.1, 0.6.2, 0.6.3, 0.6.4)\nERROR: No matching distribution found for gitdb>=4.0.1 (from gitdb2>=2.0.0->GitPython<2.1.12,>=1.0.1->-r /home/hrw/devel/linaro/kolla/requirements.txt (line 7))\n\nThe issue is due to gitdb/gitdb2 projects merge/rename -\nhttps://github.com/gitpython-developers/gitdb/issues/61 for more info.\n\nThis fix is based on change from stable/ussuri requirements project - https://review.opendev.org/#/c/710138/\n\nChange-Id: I8f60cce4d7a8abcfd2e03c8eb4a153c37e2287bd\n'}]",0,744501,080ead324f34df2e195fc97bcdb1854f1d105b50,10,5,2,24072,,,0,"requirements.txt: pin gitdb(2) versions

""pip install -r requirements.txt"" ended with:

ERROR: Could not find a version that satisfies the requirement gitdb>=4.0.1 (from gitdb2>=2.0.0->GitPython<2.1.12,>=1.0.1->-r /home/hrw/devel/linaro/kolla/requirements.txt (line 7)) (from versions: 0.5.0, 0.5.1, 0.5.2, 0.5.3, 0.5.4, 0.6.0, 0.6.1, 0.6.2, 0.6.3, 0.6.4)
ERROR: No matching distribution found for gitdb>=4.0.1 (from gitdb2>=2.0.0->GitPython<2.1.12,>=1.0.1->-r /home/hrw/devel/linaro/kolla/requirements.txt (line 7))

The issue is due to gitdb/gitdb2 projects merge/rename -
https://github.com/gitpython-developers/gitdb/issues/61 for more info.

This fix is based on change from stable/ussuri requirements project - https://review.opendev.org/#/c/710138/

Change-Id: I8f60cce4d7a8abcfd2e03c8eb4a153c37e2287bd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/01/744501/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,60f3d2f183a3a115b79c92e2fc08d36c0307c6c3,744501," # NOTE(hrw): taken from stable/ussuri openstack/requirements/global-requirements.txt # to get GitPython installable without version bump. # NOTE(prometheanfire): python3 caps, are not approved for use in OpenStack gitdb<4.0.0;python_version=='2.7' # BSD gitdb;python_version>='3.4' # BSD gitdb2<3.0.0;python_version=='2.7' # BSD gitdb2;python_version>='3.4' # BSD",,8,0
openstack%2Fglance~master~I028076d8e1706794a698398f8b2a59130284f1bd,openstack/glance,master,I028076d8e1706794a698398f8b2a59130284f1bd,Use correct import order in test_api_import_image,MERGED,2020-08-06 13:12:09.000000000,2020-08-06 17:32:35.000000000,2020-08-06 17:30:35.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 13:12:09.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/747ba1c1cac5d4155195414e4ec7a8c2814cac9c', 'message': 'Use correct import order in test_api_import_image\n\nglance_store is not part of glance package.\n\nChange-Id: I028076d8e1706794a698398f8b2a59130284f1bd\n'}]",0,745140,747ba1c1cac5d4155195414e4ec7a8c2814cac9c,8,3,1,5202,,,0,"Use correct import order in test_api_import_image

glance_store is not part of glance package.

Change-Id: I028076d8e1706794a698398f8b2a59130284f1bd
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/745140/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,747ba1c1cac5d4155195414e4ec7a8c2814cac9c,test_import_order,from glance_store import exceptions as store_exceptions,from glance_store import exceptions as store_exceptions,1,1
openstack%2Fneutron~stable%2Fussuri~Ia1bf0a98b327b4deaa4ff87da79b70d27314434a,openstack/neutron,stable/ussuri,Ia1bf0a98b327b4deaa4ff87da79b70d27314434a,"Use ""replace"" to remove a section of a string",MERGED,2020-07-30 08:33:12.000000000,2020-08-06 17:32:00.000000000,2020-08-06 17:30:32.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-30 08:33:12.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8200c68f68759738547af162a2be64bdeaa85551', 'message': 'Use ""replace"" to remove a section of a string\n\nFrom ""strip"" documentation:\n  Return a copy of the string with leading whitespace removed.\n  If chars is given and not None, remove characters in chars instead.\n\nChange-Id: Ia1bf0a98b327b4deaa4ff87da79b70d27314434a\nCloses-Bug: #1888828\n(cherry picked from commit fc5a8ee1b893a85b7cb3d9fac010c28714e9c50e)\n'}]",0,743925,8200c68f68759738547af162a2be64bdeaa85551,42,8,1,6773,,,0,"Use ""replace"" to remove a section of a string

From ""strip"" documentation:
  Return a copy of the string with leading whitespace removed.
  If chars is given and not None, remove characters in chars instead.

Change-Id: Ia1bf0a98b327b4deaa4ff87da79b70d27314434a
Closes-Bug: #1888828
(cherry picked from commit fc5a8ee1b893a85b7cb3d9fac010c28714e9c50e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/743925/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,8200c68f68759738547af162a2be64bdeaa85551,," network_id = ls.name.replace('neutron-', '')", network_id = ls.name.strip('neutron-'),2,2
openstack%2Fopenstack-ansible~master~I80d988c946df2a4939787a302c92b6c1cc08f4aa,openstack/openstack-ansible,master,I80d988c946df2a4939787a302c92b6c1cc08f4aa,Imported Translations from Zanata,MERGED,2020-08-06 08:19:57.000000000,2020-08-06 17:30:58.000000000,2020-08-06 17:29:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-06 08:19:57.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9aaea8828eed3ae1bdfd333003af830a6228dabe', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I80d988c946df2a4939787a302c92b6c1cc08f4aa\n'}]",0,745087,9aaea8828eed3ae1bdfd333003af830a6228dabe,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I80d988c946df2a4939787a302c92b6c1cc08f4aa
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/745087/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,9aaea8828eed3ae1bdfd333003af830a6228dabe,zanata/translations,"""POT-Creation-Date: 2020-08-03 17:23+0000\n""""PO-Revision-Date: 2020-08-05 05:43+0000\n""msgid ""21.0.0.0rc1-43"" msgstr ""21.0.0.0rc1-43""msgid ""21.0.0.0rc2-12"" msgstr ""21.0.0.0rc2-12""","""POT-Creation-Date: 2020-07-29 12:48+0000\n""""PO-Revision-Date: 2020-08-02 06:06+0000\n""msgid ""21.0.0.0rc1-42"" msgstr ""21.0.0.0rc1-42""msgid ""21.0.0.0rc2-7"" msgstr ""21.0.0.0rc2-7""",6,6
openstack%2Fvirtualbmc~master~I4003a8bebc7737250d0c318426e885d0888df57d,openstack/virtualbmc,master,I4003a8bebc7737250d0c318426e885d0888df57d,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:34:14.000000000,2020-08-06 17:27:48.000000000,2020-08-06 17:25:40.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:34:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/43925d297d6dac5981f1e2715998cd045a79636f', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I4003a8bebc7737250d0c318426e885d0888df57d\n'}]",0,741192,43925d297d6dac5981f1e2715998cd045a79636f,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I4003a8bebc7737250d0c318426e885d0888df57d
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/92/741192/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,43925d297d6dac5981f1e2715998cd045a79636f,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fironic~stable%2Frocky~I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,openstack/ironic,stable/rocky,I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,Pin ironic-tempest-plugin,MERGED,2020-08-03 22:20:25.000000000,2020-08-06 17:05:20.000000000,2020-08-06 17:05:20.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 22:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/97be4a8df6f7baafad7ac17fa8d304afd95bf205', 'message': 'Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since rocky needs\nto support py2 and py3\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n(cherry picked from commit 145caf86f1b26887eb76570594b4bc7611a4f10c)\n'}, {'number': 2, 'created': '2020-08-05 19:39:34.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d796de04b946fa91d01eade855a41763b7658aae', 'message': ""Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since stein needs\nto support py2 and py3\n\nAlso marks the multinode multi-tenant CI job as non-voting as it\nis presently failing due to Netmiko authentication errors which is\nultimately unrelated to the CI jobs in general.\n\nAug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers GenericSwitchNetmikoConnectError: Netmiko connection error:\n{'username': 'ngs_ovs_manager', 'ip': 'localhost', 'key_file': '/opt/stack/.ssh/id_rsa', 'device_type': 'ovs_linux'}, error: Authentication failure: unable to connect ovs_linux\nlocalhost:22\nAug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers ('Bad authentication type', [u'publickey'])\n(allowed_types=[u'publickey']) Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers Aug 04 19:03:58.575548\nubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers [req-11a4a82d-af43-40c3-8dc0-0596f74e68d4 req-5ec06868-2d81-4e4a-bfa6-ee141df712a6 dem\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n(cherry picked from commit 80ee3e7e339da82102b4cf9e4005d32779944029)\n""}]",0,744567,d796de04b946fa91d01eade855a41763b7658aae,16,5,2,15519,,,0,"Pin ironic-tempest-plugin

This commit pins ironic-tempest-plugin to 1.5.1 since stein needs
to support py2 and py3

Also marks the multinode multi-tenant CI job as non-voting as it
is presently failing due to Netmiko authentication errors which is
ultimately unrelated to the CI jobs in general.

Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers GenericSwitchNetmikoConnectError: Netmiko connection error:
{'username': 'ngs_ovs_manager', 'ip': 'localhost', 'key_file': '/opt/stack/.ssh/id_rsa', 'device_type': 'ovs_linux'}, error: Authentication failure: unable to connect ovs_linux
localhost:22
Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers ('Bad authentication type', [u'publickey'])
(allowed_types=[u'publickey']) Aug 04 19:03:58.573739 ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers Aug 04 19:03:58.575548
ubuntu-bionic-rax-ord-0019094462 neutron-server[475]: ERROR neutron.plugins.ml2.managers [req-11a4a82d-af43-40c3-8dc0-0596f74e68d4 req-5ec06868-2d81-4e4a-bfa6-ee141df712a6 dem

Change-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc
(cherry picked from commit 80ee3e7e339da82102b4cf9e4005d32779944029)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/744567/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml']",2,97be4a8df6f7baafad7ac17fa8d304afd95bf205,pin_itp, - name: openstack/ironic-tempest-plugin override-checkout: 1.5.1 - name: openstack/ironic-tempest-plugin override-checkout: 1.5.1, - openstack/ironic-tempest-plugin - openstack/ironic-tempest-plugin,6,3
openstack%2Ftripleo-common~master~I1e9b952d87c0298f568f7c841532a770e25e74a6,openstack/tripleo-common,master,I1e9b952d87c0298f568f7c841532a770e25e74a6,Change default DHCP timeout for ironic-python-agent,MERGED,2020-08-05 16:05:55.000000000,2020-08-06 17:04:21.000000000,2020-08-06 17:02:49.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 16:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/76e500e1476535cb9d813dfa5683d7d1412eaa70', 'message': 'Change default DHCP timeout for ironic-python-agent\n\nThe ironic-python-agent relies upon obtaining an IP address\nthrough DHCP from one of the connected interfaces. Due to\nthe design of iPXE and switch configurations, we need the\ntimeout to be longer for acquisition of an IP address from\nDHCP as various switch hold-down timers can interpret the\nchange from an iPXE environment to a running ramdisk OS\nas an event to trigger hold-downs.\n\nGenerally this is not an issue once the image is written\nto disk, because the port only comes online once, where as\nthe port effectively bounces and iPXE negotiated behavior\ncan change as the ramdisk is coming up.\n\nChange-Id: I1e9b952d87c0298f568f7c841532a770e25e74a6\n'}, {'number': 2, 'created': '2020-08-05 16:06:58.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4190729dd7680fcbf88ddb439165623188f2440e', 'message': 'Change default DHCP timeout for ironic-python-agent\n\nThe ironic-python-agent relies upon obtaining an IP address\nthrough DHCP from one of the connected interfaces. Due to\nthe design of iPXE and switch configurations, we need the\ntimeout to be longer for acquisition of an IP address from\nDHCP as various switch hold-down timers can interpret the\nchange from an iPXE environment to a running ramdisk OS\nas an event to trigger hold-downs.\n\nGenerally this is not an issue once the image is written\nto disk, because the port only comes online once, where as\nthe port effectively bounces and iPXE negotiated behavior\ncan change as the ramdisk is coming up.\n\nIt must be noted that the ironic-python-agent-builder\ndoes default this timeout to 60 seconds, but as TripleO\nbuilds its own images without the builder, this value must\nbe asserted as well.\n\nChange-Id: I1e9b952d87c0298f568f7c841532a770e25e74a6\n'}]",1,744939,4190729dd7680fcbf88ddb439165623188f2440e,19,6,2,11655,,,0,"Change default DHCP timeout for ironic-python-agent

The ironic-python-agent relies upon obtaining an IP address
through DHCP from one of the connected interfaces. Due to
the design of iPXE and switch configurations, we need the
timeout to be longer for acquisition of an IP address from
DHCP as various switch hold-down timers can interpret the
change from an iPXE environment to a running ramdisk OS
as an event to trigger hold-downs.

Generally this is not an issue once the image is written
to disk, because the port only comes online once, where as
the port effectively bounces and iPXE negotiated behavior
can change as the ramdisk is coming up.

It must be noted that the ironic-python-agent-builder
does default this timeout to 60 seconds, but as TripleO
builds its own images without the builder, this value must
be asserted as well.

Change-Id: I1e9b952d87c0298f568f7c841532a770e25e74a6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/744939/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-python3.yaml'],1,76e500e1476535cb9d813dfa5683d7d1412eaa70,, DIB_DHCP_TIMEOUT: '60',,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I9238cd35a1114b1649a38ab4f24225865bcecf19,openstack/tripleo-heat-templates,stable/ussuri,I9238cd35a1114b1649a38ab4f24225865bcecf19,Align kernel args for system upgrade using leapp,MERGED,2020-08-06 03:58:48.000000000,2020-08-06 17:04:06.000000000,2020-08-06 17:04:06.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-06 03:58:48.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28ed5c0b83f594dae6cfdc266648a64e852adbab', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp is looking for errors in /etc/default/grub and\nfixes it during upgrade. It does not recognize entries\nstarting other than ""GRUB"", as tripleo sets the entry\nstarting with TRIPLEO_ instead of GRUB, append the\nentry with GRUB_ so that leapp upgrades correctly.\nCloses-Bug: #1890080\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n(cherry picked from commit f217eccc7720250a64a0877061063acf0951b495)\n'}]",0,745058,28ed5c0b83f594dae6cfdc266648a64e852adbab,9,7,1,18575,,,0,"Align kernel args for system upgrade using leapp

leapp is looking for errors in /etc/default/grub and
fixes it during upgrade. It does not recognize entries
starting other than ""GRUB"", as tripleo sets the entry
starting with TRIPLEO_ instead of GRUB, append the
entry with GRUB_ so that leapp upgrades correctly.
Closes-Bug: #1890080
Change-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19
(cherry picked from commit f217eccc7720250a64a0877061063acf0951b495)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/745058/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'],1,28ed5c0b83f594dae6cfdc266648a64e852adbab,leapp_kernel_args_fix-stable/ussuri, upgrade_tasks: - name: upgrade prepare for leapp to align kernel arg shortcommings in leapp tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled block: - name: fix grub entries to have name start with GRUB_ replace: path: '/etc/default/grub' regexp: '^(TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS)(.*)' replace: 'GRUB_\1\2' - name: fix grub entries in append statement replace: path: '/etc/default/grub' regexp: '(.*){(TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS)}(.*)' replace: '\1{GRUB_\2}\3',,20,0
openstack%2Ftripleo-heat-templates~master~Idb593dfdcdf71577d6c77cac6d8ecf3730d95253,openstack/tripleo-heat-templates,master,Idb593dfdcdf71577d6c77cac6d8ecf3730d95253,Enable Dashboard on scenario004,MERGED,2019-08-21 11:02:19.000000000,2020-08-06 17:02:52.000000000,2020-08-06 17:02:52.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-21 11:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edbd7c9f616195877f4ec4d9be8834690e80aceb', 'message': '[DNM] - Testing ceph_dashboard haproxy endpoint config\n\nDepends-On: https://review.opendev.org/#/c/674556\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 2, 'created': '2019-08-21 11:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/808a92b07e5e8b47c6b6e5eac95ffc41bd53577e', 'message': '[DNM] - Testing ceph_dashboard haproxy endpoint config\n\nDepends-On: https://review.opendev.org/677708\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 3, 'created': '2019-09-13 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/908a57358c273093763ffab83024679730498531', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 4, 'created': '2019-09-13 11:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/805e40f52b216196d48a40e9b4a6bfb072897b63', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 5, 'created': '2019-09-14 06:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/890967fc214e6803c540a323fa61348999c7e3cf', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 6, 'created': '2019-09-14 07:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e33c9f71502d6481fdc3bd9267cb74d5e6518eb', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 7, 'created': '2019-09-14 12:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3320fe43dd475579130fb4bbdc2a26bfbd325e3a', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 8, 'created': '2019-09-24 19:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2164cd9c3b1ac23e12766336ead1ad668e44ee32', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 9, 'created': '2019-09-27 12:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94b85b5fa8eafc3f94439d9fb2ad17887757af76', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 10, 'created': '2019-09-30 14:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/760c37ffff9a51a8dd3d8fd74d953577d76b22ec', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 11, 'created': '2019-10-01 05:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f433c545c4e85b01cc5be5ebd3d06f225e8f3a7', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 12, 'created': '2019-10-01 09:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7177c0bb49f68e2357a7c8ca6e23a85600b39fc', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 13, 'created': '2019-10-01 16:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ad73a2393756fa01a81fe21b1ed15bf3abff55a', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 14, 'created': '2019-10-02 06:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b956403daba9d11af3c7f73c1a5b46c5c3f9d06', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 15, 'created': '2019-10-03 06:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e49f3540d14fa02fcb813c6d6815477931f0dcb1', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 16, 'created': '2019-10-03 06:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1503158f74021e958540c71ebaad0b5caab9080b', 'message': 'Add registry authentication parameters to pull ceph related containers\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 17, 'created': '2019-10-29 10:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90cee72901e40fd69295a7a2156c5f02b4ea0991', 'message': '[DNM] Enable Dashboard on scenario001\n\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n---\n'}, {'number': 18, 'created': '2019-10-30 15:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89462a87affcfdcea996f2084741989f0faa86df', 'message': '[DNM] Enable Dashboard on scenario001\n\nDepends-On: https://review.opendev.org/#/c/688170\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n---\n'}, {'number': 19, 'created': '2019-11-07 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84dff40fc2e70b7df5fc1607be6acafff7739f05', 'message': '[DNM] Enable Dashboard on scenario001\n\nDepends-On: https://review.opendev.org/#/c/693154\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n---\n'}, {'number': 20, 'created': '2019-11-07 09:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cf52c351437a86fcec981f0398581137aad81a6', 'message': '[DNM] Enable Dashboard on scenario001\n\nDepends-On: I2b308dea3c9e2380185fd3cce68a3aad5842a730\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 21, 'created': '2019-11-11 13:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9847c8eb0e2c1240faf898e57d2b05708d2d92ad', 'message': '[DNM] Enable Dashboard on scenario001\n\nDepends-On: https://review.opendev.org/#/c/693154\nDepends-On: https://review.opendev.org/#/c/501987\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 22, 'created': '2020-01-17 16:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e54180b342f2f9c963e6257c8e6b0415ecfc9d0a', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/702846\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 23, 'created': '2020-01-20 07:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6be884bb787eccdfa24530abe96c995d69bccba2', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/702846\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 24, 'created': '2020-01-21 17:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1f7ba2e745162020bd99eaa2a714de19d9c89b6', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 25, 'created': '2020-01-27 11:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bef289fecbf52a879f4ed44d0e6f2f1da9d8006d', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/704308\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 26, 'created': '2020-02-16 08:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/316a59d6c099c4875a42ffc91a4ad440502f24fb', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/702846\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 27, 'created': '2020-05-08 10:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d6f38c0b400266ccf67bf4227dd7395ce4841ad', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/702846\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 28, 'created': '2020-06-23 15:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/242e5211060c92778a88ddf2bf3861219e261900', 'message': '[DNM] Enable Dashboard on scenario004 (haproxy test)\n\nDepends-On: https://review.opendev.org/#/c/702846\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}, {'number': 29, 'created': '2020-06-23 15:50:19.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6f0a8eaea48373be1f59da248308a6526ff68c0', 'message': 'Enable Dashboard on scenario004\n\nThe purpose of this change is to cover all the dashboard\ndeployment aspects. For this reason enabling it on\nscenario004 enables coverage for haproxy configuration and\nallows to catch issues that cannot be seen with scenario001.\n\nChange-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253\n'}]",2,677699,a6f0a8eaea48373be1f59da248308a6526ff68c0,143,7,29,25402,,,0,"Enable Dashboard on scenario004

The purpose of this change is to cover all the dashboard
deployment aspects. For this reason enabling it on
scenario004 enables coverage for haproxy configuration and
allows to catch issues that cannot be seen with scenario001.

Change-Id: Idb593dfdcdf71577d6c77cac6d8ecf3730d95253
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/677699/8 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,edbd7c9f616195877f4ec4d9be8834690e80aceb,ceph_dashboard_ci, OS::TripleO::Services::CephGrafana: ../../deployment/ceph-ansible/ceph-grafana.yaml CephEnableDashboard: true,,2,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~I7c5b81545d56fabd021a306a549485e46a785241,openstack/tripleo-upgrade,stable/ussuri,I7c5b81545d56fabd021a306a549485e46a785241,Remove skip ceph-validations and --playbook for system_upgrade.,MERGED,2020-08-05 17:55:45.000000000,2020-08-06 17:02:51.000000000,2020-08-06 17:02:51.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-05 17:55:45.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6ea56a45c05a83b02356a99800cf92af43fe0e28', 'message': ""Remove skip ceph-validations and --playbook for system_upgrade.\n\nNow that the ceph-systemd validations are fixed, we don't need\nto add all the skip ceph validations when running the ceph_systemd\nstep. Also, for [0] to take action, we need to run all playbooks\nso the noout/nobalance params are executed in the\npost_upgrades_steps_playbook.yaml. Therefore, the --playbook option\nis removed from the system_upgrade step.\n\n[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607\n\nChange-Id: I7c5b81545d56fabd021a306a549485e46a785241\n""}]",0,744959,6ea56a45c05a83b02356a99800cf92af43fe0e28,7,4,1,11166,,,0,"Remove skip ceph-validations and --playbook for system_upgrade.

Now that the ceph-systemd validations are fixed, we don't need
to add all the skip ceph validations when running the ceph_systemd
step. Also, for [0] to take action, we need to run all playbooks
so the noout/nobalance params are executed in the
post_upgrades_steps_playbook.yaml. Therefore, the --playbook option
is removed from the system_upgrade step.

[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607

Change-Id: I7c5b81545d56fabd021a306a549485e46a785241
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/59/744959/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,6ea56a45c05a83b02356a99800cf92af43fe0e28,ffwd-upgrade2-stable/ussuri,," --skip-tags validation,opendev-validation-ceph,opendev-validation \ --playbook upgrade_steps_playbook.yaml \",0,2
openstack%2Foslo.utils~stable%2Fstein~I6e547d206de9e3e333e29ccad52bf6b519a86ff9,openstack/oslo.utils,stable/stein,I6e547d206de9e3e333e29ccad52bf6b519a86ff9,Release greenthread when computing checksum,MERGED,2020-06-10 13:45:26.000000000,2020-08-06 16:58:02.000000000,2020-08-06 16:56:20.000000000,"[{'_account_id': 11904}, {'_account_id': 12356}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/f36ca0e53af5bd0206e72c8a65cba103e790bc92', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit 6916acfccc1c84aff613b60a984518b7be313908)\n'}, {'number': 2, 'created': '2020-06-10 16:35:24.000000000', 'files': ['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/4cf03f0016693d066bdd6855bcfe234347f00426', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)\n'}]",0,734842,4cf03f0016693d066bdd6855bcfe234347f00426,11,4,2,28522,,,0,"Release greenthread when computing checksum

Having time.sleep(0) after reading each block of data for computing
checksum will allow other greenthreads to run.

Closes-Bug: 1882569
Change-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9
(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)
(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)
(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/42/734842/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py']",2,f36ca0e53af5bd0206e72c8a65cba103e790bc92,release-greenthread-computing-checksum,"import time from unittest import mock def test_compute_checksum_sleep_0_called(self): path = fileutils.write_to_tempfile(self.content) self.assertTrue(os.path.exists(path)) self.check_file_content(self.content, path) expected_checksum = hashlib.sha256() expected_checksum.update(self.content) with mock.patch.object(time, ""sleep"") as sleep_mock: actual_checksum = fileutils.compute_file_checksum( path, read_chunksize=4) sleep_mock.assert_has_calls([mock.call(0)] * 3) # Just to make sure that there were exactly 3 calls self.assertEqual(3, sleep_mock.call_count) self.assertEqual(expected_checksum.hexdigest(), actual_checksum) ",,22,0
openstack%2Foslo.utils~master~I7b3144bd417f29cd57c16575ba47b45a4132aae7,openstack/oslo.utils,master,I7b3144bd417f29cd57c16575ba47b45a4132aae7,Bump bandit version,MERGED,2020-07-24 15:37:10.000000000,2020-08-06 16:57:57.000000000,2020-08-06 16:56:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:37:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/2aaaf386115f510a29125dad37074a083f71193f', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I7b3144bd417f29cd57c16575ba47b45a4132aae7\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742925,2aaaf386115f510a29125dad37074a083f71193f,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I7b3144bd417f29cd57c16575ba47b45a4132aae7
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/25/742925/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2aaaf386115f510a29125dad37074a083f71193f,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.db~master~I69cbe4ed654e5fe249cb9396449ad6644f519c34,openstack/oslo.db,master,I69cbe4ed654e5fe249cb9396449ad6644f519c34,Handle PyMySQL exception updates,ABANDONED,2020-08-05 22:31:05.000000000,2020-08-06 16:57:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-05 22:31:05.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0423f2d3a676ef55ad2204096963dbb33a863927', 'message': 'Handle PyMySQL exception updates\n\nPyMySQL 0.10.0 updated the way custom errors are raised, resulting in\nwhat would previously have been wrapped as an oslo.db DBError now\nbubbling up as an OperationalError instead.\n\nhttps://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n\nThis adds filtering to catch the new errors and falling back to wrapping\nthem as DBErrors.\n\nChange-Id: I69cbe4ed654e5fe249cb9396449ad6644f519c34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744998,0423f2d3a676ef55ad2204096963dbb33a863927,3,1,1,11904,,,0,"Handle PyMySQL exception updates

PyMySQL 0.10.0 updated the way custom errors are raised, resulting in
what would previously have been wrapped as an oslo.db DBError now
bubbling up as an OperationalError instead.

https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1

This adds filtering to catch the new errors and falling back to wrapping
them as DBErrors.

Change-Id: I69cbe4ed654e5fe249cb9396449ad6644f519c34
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/98/744998/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/exc_filters.py'],1,0423f2d3a676ef55ad2204096963dbb33a863927,mysql-0.10.0,"@filters(""mysql"", sqla_exc.OperationalError, r"".*"")",,1,0
openstack%2Fdevstack-plugin-amqp1~master~I7a48bf58733fe20c6694655abf657bf517cc9de5,openstack/devstack-plugin-amqp1,master,I7a48bf58733fe20c6694655abf657bf517cc9de5,Update the Zuul configuration,MERGED,2020-07-16 19:05:27.000000000,2020-08-06 16:44:18.000000000,2020-08-06 16:44:17.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 10459}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-16 19:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/1c37c1b28aba85e461cb5fa2f31be0626de7d7cf', 'message': 'Port the legacy zuul job to v3\n\nChange-Id: I7a48bf58733fe20c6694655abf657bf517cc9de5\n'}, {'number': 2, 'created': '2020-07-17 13:42:27.000000000', 'files': ['playbooks/devstack-plugin-amqp1-tempest-dsvm-full/run.yaml', 'playbooks/devstack-plugin-amqp1-tempest-dsvm-full/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/8a796bba15916a37599b954cd135310f8efed8ba', 'message': 'Update the Zuul configuration\n\n - Remove deprecated test that is no longer used by oslo.messaging\n - Gate remaining tests to prevent breakage of dependent\n oslo.messaging project\n\nChange-Id: I7a48bf58733fe20c6694655abf657bf517cc9de5\n'}]",8,741522,8a796bba15916a37599b954cd135310f8efed8ba,13,6,2,8770,,,0,"Update the Zuul configuration

 - Remove deprecated test that is no longer used by oslo.messaging
 - Gate remaining tests to prevent breakage of dependent
 oslo.messaging project

Change-Id: I7a48bf58733fe20c6694655abf657bf517cc9de5
",git fetch https://review.opendev.org/openstack/devstack-plugin-amqp1 refs/changes/22/741522/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1c37c1b28aba85e461cb5fa2f31be0626de7d7cf,native-zuulv3-migration, parent: tempest-full # run: playbooks/devstack-plugin-amqp1-tempest-dsvm-full/run.yaml # post-run: playbooks/devstack-plugin-amqp1-tempest-dsvm-full/post.yaml # - openstack/oslo-messaging vars: devstack_plugins: devstack-plugin-amqp1: http://opendev.org/openstack/devstack-plugin-amqp1 , parent: legacy-dsvm-base run: playbooks/devstack-plugin-amqp1-tempest-dsvm-full/run.yaml post-run: playbooks/devstack-plugin-amqp1-tempest-dsvm-full/post.yaml,8,3
openstack%2Fosprofiler~master~I883e2aae7918086be73579627e91325f9fe33b77,openstack/osprofiler,master,I883e2aae7918086be73579627e91325f9fe33b77,Bump bandit version,MERGED,2020-07-24 15:38:13.000000000,2020-08-06 16:41:50.000000000,2020-08-06 16:40:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:38:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/6ff0187d334b6967b9de776d2f1276c0d10685d1', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I883e2aae7918086be73579627e91325f9fe33b77\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742928,6ff0187d334b6967b9de776d2f1276c0d10685d1,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I883e2aae7918086be73579627e91325f9fe33b77
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/28/742928/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6ff0187d334b6967b9de776d2f1276c0d10685d1,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Foslo.db~master~I44f0b485266d6a03d12953f3f45e476ba821a00c,openstack/oslo.db,master,I44f0b485266d6a03d12953f3f45e476ba821a00c,Bump bandit version,MERGED,2020-07-24 15:33:09.000000000,2020-08-06 16:39:04.000000000,2020-08-06 16:37:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:33:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9201de3ca9e4ea82ba8fc7cf735b49d06a3e9f11', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I44f0b485266d6a03d12953f3f45e476ba821a00c\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742913,9201de3ca9e4ea82ba8fc7cf735b49d06a3e9f11,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I44f0b485266d6a03d12953f3f45e476ba821a00c
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/13/742913/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9201de3ca9e4ea82ba8fc7cf735b49d06a3e9f11,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.reports~master~I4ccbdbb692e2e0b00a2517e2c5eb617756637ab0,openstack/oslo.reports,master,I4ccbdbb692e2e0b00a2517e2c5eb617756637ab0,Bump bandit version,MERGED,2020-07-24 15:35:51.000000000,2020-08-06 16:38:32.000000000,2020-08-06 16:36:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:35:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/8de1a71062e95309bfd423f870d92466ec69de42', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I4ccbdbb692e2e0b00a2517e2c5eb617756637ab0\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742921,8de1a71062e95309bfd423f870d92466ec69de42,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I4ccbdbb692e2e0b00a2517e2c5eb617756637ab0
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/21/742921/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8de1a71062e95309bfd423f870d92466ec69de42,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Foslo.service~master~Ia903477064452129951fbb8c957beba306df1a79,openstack/oslo.service,master,Ia903477064452129951fbb8c957beba306df1a79,Align contributing doc with oslo's policy,MERGED,2020-05-04 16:31:32.000000000,2020-08-06 16:36:18.000000000,2020-08-06 16:32:39.000000000,"[{'_account_id': 4257}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-04 16:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/1946bd1f3483f6e4d529a41b70f6ada9ff8958ce', 'message': ""Align contributing doc with oslo's policy\n\nRelated to:\n- https://review.opendev.org/#/c/723044/\n- https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: Ia903477064452129951fbb8c957beba306df1a79\n""}, {'number': 2, 'created': '2020-05-05 12:31:13.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/598d5ab74af38313776f7da34508009deb2b52bb', 'message': ""Align contributing doc with oslo's policy\n\nRelated to:\n- https://review.opendev.org/#/c/723044/\n- https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: Ia903477064452129951fbb8c957beba306df1a79\n""}]",0,725327,598d5ab74af38313776f7da34508009deb2b52bb,15,5,2,28522,,,0,"Align contributing doc with oslo's policy

Related to:
- https://review.opendev.org/#/c/723044/
- https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: Ia903477064452129951fbb8c957beba306df1a79
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/27/725327/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,1946bd1f3483f6e4d529a41b70f6ada9ff8958ce,,"If you would like to contribute to the development of oslo's libraries, first you must take a look to this page: https://specs.openstack.org/openstack/oslo-specs/specs/policy/contributing.html ",,5,0
openstack%2Foslo.privsep~master~I23fd4082e2566242b5fce093a4685c97663c947f,openstack/oslo.privsep,master,I23fd4082e2566242b5fce093a4685c97663c947f,Bump bandit version,MERGED,2020-07-24 15:35:34.000000000,2020-08-06 16:35:48.000000000,2020-08-06 16:30:39.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:35:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/68d11969d2d7cceb0e71c012b191fefdeeaa8b52', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I23fd4082e2566242b5fce093a4685c97663c947f\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742920,68d11969d2d7cceb0e71c012b191fefdeeaa8b52,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I23fd4082e2566242b5fce093a4685c97663c947f
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/20/742920/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,68d11969d2d7cceb0e71c012b191fefdeeaa8b52,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.rootwrap~master~I6f4947668b5372eace7fb1eb32ab221ac88f4b4f,openstack/oslo.rootwrap,master,I6f4947668b5372eace7fb1eb32ab221ac88f4b4f,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 22:49:46.000000000,2020-08-06 16:34:29.000000000,2020-08-06 16:30:58.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 22:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/50e29e0c6c160028f4abb8653e5417bfdd413274', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I6f4947668b5372eace7fb1eb32ab221ac88f4b4f\n'}, {'number': 2, 'created': '2020-08-02 19:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/94055f5e0d3fac8f321c58af30fb483c67b66d17', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I6f4947668b5372eace7fb1eb32ab221ac88f4b4f\n'}, {'number': 3, 'created': '2020-08-03 23:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/f235de1048cc037f1cde8d98c1b456716eeda1f5', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f4947668b5372eace7fb1eb32ab221ac88f4b4f\n'}, {'number': 4, 'created': '2020-08-04 00:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/f8c14cefa65be7cec0db7b0405d9ea93468c6d9c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f4947668b5372eace7fb1eb32ab221ac88f4b4f\n'}, {'number': 5, 'created': '2020-08-04 00:34:07.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/499dcad4375d4348c725ec5a21ed8db9926bee7d', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f4947668b5372eace7fb1eb32ab221ac88f4b4f\n'}]",0,744318,499dcad4375d4348c725ec5a21ed8db9926bee7d,16,4,5,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I6f4947668b5372eace7fb1eb32ab221ac88f4b4f
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/18/744318/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,50e29e0c6c160028f4abb8653e5417bfdd413274,migrate-to-focal,#test focal,,1,0
openstack%2Foslo.service~master~I44b8f01489e503df0813ecac32639dc96c8a1c98,openstack/oslo.service,master,I44b8f01489e503df0813ecac32639dc96c8a1c98,Bump bandit version,MERGED,2020-07-24 15:36:47.000000000,2020-08-06 16:34:28.000000000,2020-08-06 16:32:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:36:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/99ed582f1b0f5434b4c1728a42446a2e21628937', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I44b8f01489e503df0813ecac32639dc96c8a1c98\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742924,99ed582f1b0f5434b4c1728a42446a2e21628937,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I44b8f01489e503df0813ecac32639dc96c8a1c98
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/24/742924/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,99ed582f1b0f5434b4c1728a42446a2e21628937,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.serialization~master~Ibde98a5e7e021e250b2a35008b677afa658ed47e,openstack/oslo.serialization,master,Ibde98a5e7e021e250b2a35008b677afa658ed47e,Bump bandit version,MERGED,2020-07-24 15:36:28.000000000,2020-08-06 16:34:22.000000000,2020-08-06 16:32:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:36:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/c7884b2e961d798540346ccb841e960bc5484d1d', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: Ibde98a5e7e021e250b2a35008b677afa658ed47e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742923,c7884b2e961d798540346ccb841e960bc5484d1d,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: Ibde98a5e7e021e250b2a35008b677afa658ed47e
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/23/742923/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c7884b2e961d798540346ccb841e960bc5484d1d,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Foslo.limit~master~I568123c93c32cb224628c4a8371a9a0e7c19cf67,openstack/oslo.limit,master,I568123c93c32cb224628c4a8371a9a0e7c19cf67,Bump bandit version,MERGED,2020-07-24 15:33:47.000000000,2020-08-06 16:34:15.000000000,2020-08-06 16:30:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:33:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ddb62b9fd41380870ee5ab2d46ca11a33fbfd990', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I568123c93c32cb224628c4a8371a9a0e7c19cf67\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742915,ddb62b9fd41380870ee5ab2d46ca11a33fbfd990,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I568123c93c32cb224628c4a8371a9a0e7c19cf67
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/15/742915/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ddb62b9fd41380870ee5ab2d46ca11a33fbfd990,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0",bandit>=1.4.0 # Apache-2.0,1,1
openstack%2Foslo.privsep~master~Ic7b25781fad8868665f445bd7bef4f51284be192,openstack/oslo.privsep,master,Ic7b25781fad8868665f445bd7bef4f51284be192,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 22:42:05.000000000,2020-08-06 16:34:06.000000000,2020-08-06 16:30:36.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 22:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/88a0dc0ceb6122d636ae4f7fceaa2fd80f818258', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: Ic7b25781fad8868665f445bd7bef4f51284be192\n'}, {'number': 2, 'created': '2020-08-02 19:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/ebde4cd36fdf5197380bbb682a352ccc4b749f5a', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Ic7b25781fad8868665f445bd7bef4f51284be192\n'}, {'number': 3, 'created': '2020-08-03 23:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/2aab94bcb533c89a0ddfbe7a45ff86c8b7219290', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ic7b25781fad8868665f445bd7bef4f51284be192\n'}, {'number': 4, 'created': '2020-08-04 01:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/465a0005f90e97c2b280b8fc9c95c246f9f40305', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ic7b25781fad8868665f445bd7bef4f51284be192\n'}, {'number': 5, 'created': '2020-08-04 03:45:03.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/b015f45fb57512fa9dd3787c74d4f5ec6dbea510', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ic7b25781fad8868665f445bd7bef4f51284be192\n'}]",0,744316,b015f45fb57512fa9dd3787c74d4f5ec6dbea510,17,4,5,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.


Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: Ic7b25781fad8868665f445bd7bef4f51284be192
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/16/744316/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,88a0dc0ceb6122d636ae4f7fceaa2fd80f818258,migrate-to-focal,#test focal,,1,0
openstack%2Fneutron~stable%2Fqueens~I054296c790b697198550acbeae29546758b422c2,openstack/neutron,stable/queens,I054296c790b697198550acbeae29546758b422c2,Fix validation of IPv6 subnets with external RAs,MERGED,2020-08-05 07:28:39.000000000,2020-08-06 16:32:33.000000000,2020-08-06 16:32:32.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-05 07:28:39.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/77ce09bcef826f81f1bd1ae0c8b55b4ea36e3ec3', 'message': ""Fix validation of IPv6 subnets with external RAs\n\nIn case when such subnet is added directly to the router, there was\nvalidation and subnet which is expected to get RA messages from the\nexternal router couldn't be added to the Neutron router.\n\nBut in case when port was first created manually and then plugged to the\nrouter, there wasn't such validation. This patch fixes it by adding same\nvalidation to adding router interface by port.\n\nConflicts:\n    neutron/db/l3_db.py\n\nChange-Id: I054296c790b697198550acbeae29546758b422c2\nCloses-Bug: #1889619\n(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)\n""}]",0,744834,77ce09bcef826f81f1bd1ae0c8b55b4ea36e3ec3,10,5,1,11975,,,0,"Fix validation of IPv6 subnets with external RAs

In case when such subnet is added directly to the router, there was
validation and subnet which is expected to get RA messages from the
external router couldn't be added to the Neutron router.

But in case when port was first created manually and then plugged to the
router, there wasn't such validation. This patch fixes it by adding same
validation to adding router interface by port.

Conflicts:
    neutron/db/l3_db.py

Change-Id: I054296c790b697198550acbeae29546758b422c2
Closes-Bug: #1889619
(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/744834/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",2,77ce09bcef826f81f1bd1ae0c8b55b4ea36e3ec3,bug/1889619," @staticmethod def _validate_subnet_address_mode(subnet): if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) fixed_ips = [ip for ip in port['fixed_ips']] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet( context, fixed_ip['subnet_id']) self._validate_subnet_address_mode(subnet) self._validate_subnet_address_mode(subnet)"," if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg)",44,6
openstack%2Fcharm-guide~master~I82d029480cf6d5491c9516ffe3d9da17d762384f,openstack/charm-guide,master,I82d029480cf6d5491c9516ffe3d9da17d762384f,Add link to ongoing Arista work,MERGED,2020-08-06 15:52:00.000000000,2020-08-06 16:29:09.000000000,2020-08-06 16:27:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-08-06 15:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/da3badaf5931d4b385bd5fcd1910d947163a250f', 'message': 'Add link to ongoing Arista work\n\nChange-Id: I82d029480cf6d5491c9516ffe3d9da17d762384f\n'}, {'number': 2, 'created': '2020-08-06 16:00:13.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5f42017800380b87aab444b831d996306b861b81', 'message': 'Add link to ongoing Arista work\n\nChange-Id: I82d029480cf6d5491c9516ffe3d9da17d762384f\n'}]",0,745174,5f42017800380b87aab444b831d996306b861b81,9,2,2,31289,,,0,"Add link to ongoing Arista work

Change-Id: I82d029480cf6d5491c9516ffe3d9da17d762384f
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/74/745174/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,da3badaf5931d4b385bd5fcd1910d947163a250f,arista, Queens. The ongoing work for supporting other releases is tracked in `LP #1890628`_... _LP #1890628: https://bugs.launchpad.net/charm-neutron-api-plugin-arista/+bug/1890628, Queens.,3,1
openstack%2Foslo.vmware~master~If1e25c02adf0fb8f96f7bfb9134c5d170fab15eb,openstack/oslo.vmware,master,If1e25c02adf0fb8f96f7bfb9134c5d170fab15eb,Bump bandit version,MERGED,2020-07-24 15:37:52.000000000,2020-08-06 16:27:14.000000000,2020-08-06 16:25:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:37:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/7e2b42d86dc1dd27b47b8ebedfd9724db2d1a70c', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: If1e25c02adf0fb8f96f7bfb9134c5d170fab15eb\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742927,7e2b42d86dc1dd27b47b8ebedfd9724db2d1a70c,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: If1e25c02adf0fb8f96f7bfb9134c5d170fab15eb
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/27/742927/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7e2b42d86dc1dd27b47b8ebedfd9724db2d1a70c,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fpbr~master~I56b0e2b86a7fc66c5ae25e06175033a885f500f6,openstack/pbr,master,I56b0e2b86a7fc66c5ae25e06175033a885f500f6,Update some url to use opendev.org,MERGED,2020-08-04 13:17:05.000000000,2020-08-06 16:26:19.000000000,2020-08-06 16:23:53.000000000,"[{'_account_id': 2475}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 13:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/ff2249d8d02055fb577cdb5e3a5752be1d284e35', 'message': 'Update some url to use opendev.org\n\nThe git web URL is now: https://opendev.org/openstack/pbr\n\nAlso stop linking README.rst to no more existing history/changelog\ndocumentation page (removed by 96b84a90141).\n\nChange-Id: I56b0e2b86a7fc66c5ae25e06175033a885f500f6\n'}, {'number': 2, 'created': '2020-08-06 08:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/395196ae4df44fe235e150654fb84dff31ca1bde', 'message': 'Update some url to use opendev.org\n\nThe git web URL is now: https://opendev.org/openstack/pbr\n\nAlso stop linking README.rst to no more existing history/changelog\ndocumentation page (removed by 96b84a90141).\n\nChange-Id: I56b0e2b86a7fc66c5ae25e06175033a885f500f6\n'}, {'number': 3, 'created': '2020-08-06 13:10:19.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'doc/source/user/using.rst', 'pbr/tests/testpackage/setup.cfg', 'setup.cfg', 'pbr/tests/test_util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/07b6ac85e65c6ea104945a01dbb0622312a2ed56', 'message': 'Update some url to use opendev.org\n\nThe git web URL is now: https://opendev.org/openstack/pbr\n\nAlso stop linking README.rst to no more existing history/changelog\ndocumentation page (removed by 96b84a90141).\n\nChange-Id: I56b0e2b86a7fc66c5ae25e06175033a885f500f6\n'}]",2,744704,07b6ac85e65c6ea104945a01dbb0622312a2ed56,23,6,3,2475,,,0,"Update some url to use opendev.org

The git web URL is now: https://opendev.org/openstack/pbr

Also stop linking README.rst to no more existing history/changelog
documentation page (removed by 96b84a90141).

Change-Id: I56b0e2b86a7fc66c5ae25e06175033a885f500f6
",git fetch https://review.opendev.org/openstack/pbr refs/changes/04/744704/3 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'doc/source/user/using.rst', 'pbr/tests/testpackage/setup.cfg', 'setup.cfg', 'pbr/tests/test_util.py']",6,ff2249d8d02055fb577cdb5e3a5752be1d284e35,," Source Code = https://opendev.org/openstack/pbr 'Source Code': 'https://opendev.org/openstack/pbr',"," Source Code = https://git.openstack.org/cgit/openstack-dev/pbr/ 'Source Code': 'https://git.openstack.org/cgit/openstack-dev/pbr/', # noqa: E501",8,9
openstack%2Foslo.log~master~I158409677523978246c26bf1168f323974d817a5,openstack/oslo.log,master,I158409677523978246c26bf1168f323974d817a5,Added uwsgi_name information into fluentFormatter event message,MERGED,2020-07-11 14:58:42.000000000,2020-08-06 16:24:28.000000000,2020-08-06 16:20:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26768}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-11 14:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7e21ebe4a810adf14a9f5ce63ce5a7fdf611bab3', 'message': 'Added uwsgi_name information into fluentFormatter event message\n\nWhen running under uwsgi a new key ""uwsgi_name"" is added to log\nevents when using FluentFormatter that could be used for further\nanalysis. It\'s value is taken from uwsgi configuration upon\nformatter initialization.\n\nChange-Id: I158409677523978246c26bf1168f323974d817a5\nCloses-Bug: 1887232\n'}, {'number': 2, 'created': '2020-07-11 16:01:41.000000000', 'files': ['oslo_log/formatters.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6f9b434bb3bc4014d5041f6b1a1da858e3d4aa77', 'message': 'Added uwsgi_name information into fluentFormatter event message\n\nWhen running under uwsgi a new key ""uwsgi_name"" is added to log\nevents when using FluentFormatter that could be used for further\nanalysis. It\'s value is taken from uwsgi configuration upon\nformatter initialization.\n\nChange-Id: I158409677523978246c26bf1168f323974d817a5\nCloses-Bug: 1887232\n'}]",11,740552,6f9b434bb3bc4014d5041f6b1a1da858e3d4aa77,14,4,2,26768,,,0,"Added uwsgi_name information into fluentFormatter event message

When running under uwsgi a new key ""uwsgi_name"" is added to log
events when using FluentFormatter that could be used for further
analysis. It's value is taken from uwsgi configuration upon
formatter initialization.

Change-Id: I158409677523978246c26bf1168f323974d817a5
Closes-Bug: 1887232
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/52/740552/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/formatters.py'],1,7e21ebe4a810adf14a9f5ce63ce5a7fdf611bab3,bug/1887232," try: ## check if running under uwsgi import uwsgi svc_name = uwsgi.opt.get(""name"") self.uwsgi_name = svc_name except Exception as e: self.uwsgi_name = None if self.uwsgi_name: message[""uwsgi_name""] = self.uwsgi_name ",,10,0
openstack%2Foslo.log~master~Idca2a092bdfe762d23632e44e55be9290d692de8,openstack/oslo.log,master,Idca2a092bdfe762d23632e44e55be9290d692de8,Bump bandit version,MERGED,2020-07-24 15:34:09.000000000,2020-08-06 16:22:20.000000000,2020-08-06 16:20:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:34:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/9524df6bf5b9e0b4ae3f39265cf641d6ae313728', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: Idca2a092bdfe762d23632e44e55be9290d692de8\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742916,9524df6bf5b9e0b4ae3f39265cf641d6ae313728,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: Idca2a092bdfe762d23632e44e55be9290d692de8
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/16/742916/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9524df6bf5b9e0b4ae3f39265cf641d6ae313728,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fkeystonemiddleware~stable%2Fqueens~Ib9a62a4cd0b7b9ffb9fa2d6440e8072d45ee0fee,openstack/keystonemiddleware,stable/queens,Ib9a62a4cd0b7b9ffb9fa2d6440e8072d45ee0fee,Make sure audit middleware use own context,MERGED,2019-04-29 02:47:51.000000000,2020-08-06 16:22:20.000000000,2020-08-06 16:19:44.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 02:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8b55e7fe7b2fe50b7bf5f92a4181044223151f36', 'message': ""Make sure audit middleware use own context\n\nKeystone audit middleware requires to iterate req.context as dict,\nbut Glance requires to access req.context.read_only.\nWhen glance enabled audit, they are conflict with each other.\nThis patch fix this issue by store audit context in\nreq.environ['audit.context']\n\nChange-Id: Ib9a62a4cd0b7b9ffb9fa2d6440e8072d45ee0fee\nCloses-Bug: #1809101\nSigned-off-by: Leehom Li <feli5@cisco.com>\n(cherry picked from commit 82707e15a5bce8de2d33b1c865c96844c9770580)\n""}, {'number': 2, 'created': '2019-04-29 02:48:07.000000000', 'files': ['keystonemiddleware/tests/unit/audit/test_audit_api.py', 'keystonemiddleware/tests/unit/audit/test_audit_middleware.py', 'keystonemiddleware/audit/__init__.py', 'releasenotes/notes/bug-1809101-6b5088443d5970ba.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3f90a86b60e2798c4b7b7c95c90bb882567cb9e6', 'message': ""Make sure audit middleware use own context\n\nKeystone audit middleware requires to iterate req.context as dict,\nbut Glance requires to access req.context.read_only.\nWhen glance enabled audit, they are conflict with each other.\nThis patch fix this issue by store audit context in\nreq.environ['audit.context']\n\nChange-Id: Ib9a62a4cd0b7b9ffb9fa2d6440e8072d45ee0fee\nCloses-Bug: #1809101\nSigned-off-by: Leehom Li <feli5@cisco.com>\n(cherry picked from commit 82707e15a5bce8de2d33b1c865c96844c9770580)\n""}]",0,656232,3f90a86b60e2798c4b7b7c95c90bb882567cb9e6,11,5,2,19156,,,0,"Make sure audit middleware use own context

Keystone audit middleware requires to iterate req.context as dict,
but Glance requires to access req.context.read_only.
When glance enabled audit, they are conflict with each other.
This patch fix this issue by store audit context in
req.environ['audit.context']

Change-Id: Ib9a62a4cd0b7b9ffb9fa2d6440e8072d45ee0fee
Closes-Bug: #1809101
Signed-off-by: Leehom Li <feli5@cisco.com>
(cherry picked from commit 82707e15a5bce8de2d33b1c865c96844c9770580)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/32/656232/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/audit/test_audit_api.py', 'keystonemiddleware/tests/unit/audit/test_audit_middleware.py', 'keystonemiddleware/audit/__init__.py', 'releasenotes/notes/bug-1809101-6b5088443d5970ba.yaml']",4,8b55e7fe7b2fe50b7bf5f92a4181044223151f36,bug/1809101-stable/queens,--- fixes: - | [`bug 1809101 <https://bugs.launchpad.net/keystonemiddleware/+bug/1809101>`_] Fix req.context of Keystone audit middleware and Glance conflict with each other issue. The audit middleware now stores the admin context to req.environ['audit.context']. ,,18,10
openstack%2Foslo.config~master~Iec3897279cf81f951225f463450c6a1efd028b0b,openstack/oslo.config,master,Iec3897279cf81f951225f463450c6a1efd028b0b,Bump bandit version,MERGED,2020-07-24 15:32:28.000000000,2020-08-06 16:20:37.000000000,2020-08-06 16:17:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:32:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/fcb88941e39a31e3ef6c5a930063da419431a7f6', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: Iec3897279cf81f951225f463450c6a1efd028b0b\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742911,fcb88941e39a31e3ef6c5a930063da419431a7f6,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: Iec3897279cf81f951225f463450c6a1efd028b0b
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/11/742911/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fcb88941e39a31e3ef6c5a930063da419431a7f6,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.reports~master~I98cf0e5cee8f1996943b6274e914fcbca667fef7,openstack/oslo.reports,master,I98cf0e5cee8f1996943b6274e914fcbca667fef7,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 22:49:54.000000000,2020-08-06 16:19:07.000000000,2020-08-06 16:17:10.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 22:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/8cd1dcab0ccd09efc09ad059fab2ac7fa7e3c544', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I98cf0e5cee8f1996943b6274e914fcbca667fef7\n'}, {'number': 2, 'created': '2020-08-02 19:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/8086b927a1f4215f4f65c7998ec0fd557c7e2cfc', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I98cf0e5cee8f1996943b6274e914fcbca667fef7\n'}, {'number': 3, 'created': '2020-08-03 23:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/57b50732dd6365119cc37de86ca4019ddaa664e9', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I98cf0e5cee8f1996943b6274e914fcbca667fef7\n'}, {'number': 4, 'created': '2020-08-04 03:46:00.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/e45d4e97e5633a046e7252966834aa4a5e88781c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I98cf0e5cee8f1996943b6274e914fcbca667fef7\n'}]",0,744321,e45d4e97e5633a046e7252966834aa4a5e88781c,15,4,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I98cf0e5cee8f1996943b6274e914fcbca667fef7
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/21/744321/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8cd1dcab0ccd09efc09ad059fab2ac7fa7e3c544,migrate-to-focal,#test focal,,1,0
openstack%2Foslo.log~master~I2f335358dd467f57a2178df66414bdc634eb6400,openstack/oslo.log,master,I2f335358dd467f57a2178df66414bdc634eb6400,zuul: port the legacy grenade job,MERGED,2020-07-29 18:14:57.000000000,2020-08-06 16:18:30.000000000,2020-08-06 16:13:29.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 18:14:57.000000000', 'files': ['playbooks/legacy/oslo.log-src-grenade-devstack/post.yaml', '.zuul.yaml', 'playbooks/legacy/oslo.log-src-grenade-devstack/run.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/63c1eca0094e0d1ce9b2a15db3a5c39c820b05f7', 'message': 'zuul: port the legacy grenade job\n\nMake it a native Zuul v3 job.\nIt is a simple variant of the base \'grenade\' job where oslo.log\nis installed from source instead of pip.\nAlso use a slightly more common name by dropping the ""-devstack""\nsuffix (all grenade jobs are also devstack jobs).\n\nChange-Id: I2f335358dd467f57a2178df66414bdc634eb6400\n'}]",0,743819,63c1eca0094e0d1ce9b2a15db3a5c39c820b05f7,8,3,1,10459,,,0,"zuul: port the legacy grenade job

Make it a native Zuul v3 job.
It is a simple variant of the base 'grenade' job where oslo.log
is installed from source instead of pip.
Also use a slightly more common name by dropping the ""-devstack""
suffix (all grenade jobs are also devstack jobs).

Change-Id: I2f335358dd467f57a2178df66414bdc634eb6400
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/19/743819/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/oslo.log-src-grenade-devstack/post.yaml', '.zuul.yaml', 'playbooks/legacy/oslo.log-src-grenade-devstack/run.yaml']",3,63c1eca0094e0d1ce9b2a15db3a5c39c820b05f7,native-zuulv3-migration,,"- hosts: all name: Autoconverted job legacy-oslo.log-src-grenade-dsvm from old job gate-oslo.log-src-grenade-dsvm-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PROJECTS=""openstack/grenade $PROJECTS"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_GRENADE=pullup export DEVSTACK_GATE_USE_PYTHON3=True export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_PROJECT_FROM_GIT=$ZUUL_SHORT_PROJECT_NAME # Even if the branch is overridden, make sure we use # the correct branch using the OVERRIDE_*_PROJECT_BRANCH # variable. uc_project=`echo $DEVSTACK_PROJECT_FROM_GIT | tr [:lower:] [:upper:] | tr '-' '_' | sed 's/[^A-Z_]//'` export ""OVERRIDE_""$uc_project""_PROJECT_BRANCH""=$ZUUL_BRANCH cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",4,75
openstack%2Foslo.policy~master~I5362fabb0344b67996367382dbc173eeaf39b06b,openstack/oslo.policy,master,I5362fabb0344b67996367382dbc173eeaf39b06b,"Clarify what exactly an ""access file"" is",MERGED,2020-07-20 14:18:09.000000000,2020-08-06 16:17:14.000000000,2020-08-06 16:10:19.000000000,"[{'_account_id': 9954}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 14:18:09.000000000', 'files': ['doc/source/cli/oslopolicy-checker.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/884a4ea46153aa16fae0dc40cd271b081f9404f5', 'message': 'Clarify what exactly an ""access file"" is\n\nThe definition of an ""access"" file is very vague, but oslopolicy-checker\nexpects it to be a token response body from keystone. If you don\'t pass\na token response explicitly, oslopolicy-checker will fail.\n\nChange-Id: I5362fabb0344b67996367382dbc173eeaf39b06b\n'}]",0,741954,884a4ea46153aa16fae0dc40cd271b081f9404f5,9,5,1,5046,,,0,"Clarify what exactly an ""access file"" is

The definition of an ""access"" file is very vague, but oslopolicy-checker
expects it to be a token response body from keystone. If you don't pass
a token response explicitly, oslopolicy-checker will fail.

Change-Id: I5362fabb0344b67996367382dbc173eeaf39b06b
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/54/741954/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/oslopolicy-checker.rst'],1,884a4ea46153aa16fae0dc40cd271b081f9404f5,,the OpenStack Identity API access information. The access information is a keystone token response from keystone's `authentication API <https://docs.openstack.org/api-ref/identity/v3/#password-authentication-with-scoped-authorization>`_. Path to a file containing an OpenStack Identity API token response body in JSON format.,the OpenStack Identity API access information. Path to a file containing OpenStack Identity API access info in JSON format.,5,3
openstack%2Foslo.policy~master~I0570c916cffc08bcbaebb385a9cc4a4c7038b215,openstack/oslo.policy,master,I0570c916cffc08bcbaebb385a9cc4a4c7038b215,Bump bandit version,MERGED,2020-07-24 15:35:15.000000000,2020-08-06 16:13:12.000000000,2020-08-06 16:10:18.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1ab5be453c1adf59efd116c97a718eae4279652f', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I0570c916cffc08bcbaebb385a9cc4a4c7038b215\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-25 09:52:01.000000000', 'files': ['test-requirements.txt', 'oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c9f7cd460c2eabf1f78bb34b78c2b28186ece768', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I0570c916cffc08bcbaebb385a9cc4a4c7038b215\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742919,c9f7cd460c2eabf1f78bb34b78c2b28186ece768,12,4,2,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I0570c916cffc08bcbaebb385a9cc4a4c7038b215
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/19/742919/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1ab5be453c1adf59efd116c97a718eae4279652f,bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.versionedobjects~master~I005962a63341bb8585141dfe5dcff3ea79560b87,openstack/oslo.versionedobjects,master,I005962a63341bb8585141dfe5dcff3ea79560b87,Bump bandit version,MERGED,2020-07-24 15:37:31.000000000,2020-08-06 16:12:10.000000000,2020-08-06 16:09:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/42a198ee3623f63cf146b46516cd2c1eabc10611', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I005962a63341bb8585141dfe5dcff3ea79560b87\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-25 09:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/8504468ca13c2b5ccd94efd512576b36785ca468', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I005962a63341bb8585141dfe5dcff3ea79560b87\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-25 11:44:01.000000000', 'files': ['test-requirements.txt', 'oslo_versionedobjects/tests/test_exception.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/90e0c5b04577ab413ebb615cb2f366003d8c3f03', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I005962a63341bb8585141dfe5dcff3ea79560b87\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",1,742926,90e0c5b04577ab413ebb615cb2f366003d8c3f03,14,4,3,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I005962a63341bb8585141dfe5dcff3ea79560b87
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/26/742926/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,42a198ee3623f63cf146b46516cd2c1eabc10611,bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fmanila~stable%2Fqueens~I76e11fef27c9723f019cfdfdc6ea86878db78776,openstack/manila,stable/queens,I76e11fef27c9723f019cfdfdc6ea86878db78776,[NetApp] Fix falsely report migration cancelation success,MERGED,2020-08-04 14:14:07.000000000,2020-08-06 16:07:39.000000000,2020-08-06 04:48:00.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31528}]","[{'number': 1, 'created': '2020-08-04 14:14:07.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/826cbfa7cee207914a149c24a3a8755ca04583e5', 'message': '[NetApp] Fix falsely report migration cancelation success\n\nNetApp ONTAP share delete operation can fail sometimes when is triggered\nimmediately after migration cancelation on a overloaded NetApp backend.\nMigration cancelation invokes ""abort_volume_move"" which is an asynchronous\nAPI. If share delete operation is requested immediately after call the\nformer API, it fails because the ""abort_volume_move"" is still in progress.\nNow NetApp cDOT driver checks, for a period of time, if the\n``volume-move-abort`` operation has ended before report migration\ncancelation success.\n\nThis patch squash the following commit that improves the release note\nfor this fix:\n[NetApp] Updating the release note for bugfix 1688620\n(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)\n\nChange-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776\nCloses-Bug: #1688620\n(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)\n(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)\n(cherry picked from commit c915918f3c6ac608469263dd05e3f2b5eb61dc4e)\n(cherry picked from commit 1199489d998a729d7fcf7cf7f88ab34b6464d46b)\n(cherry picked from commit b8fc8feb070a61b957500a51a95af153da53a02c)\n'}]",0,744724,826cbfa7cee207914a149c24a3a8755ca04583e5,24,7,1,30002,,,0,"[NetApp] Fix falsely report migration cancelation success

NetApp ONTAP share delete operation can fail sometimes when is triggered
immediately after migration cancelation on a overloaded NetApp backend.
Migration cancelation invokes ""abort_volume_move"" which is an asynchronous
API. If share delete operation is requested immediately after call the
former API, it fails because the ""abort_volume_move"" is still in progress.
Now NetApp cDOT driver checks, for a period of time, if the
``volume-move-abort`` operation has ended before report migration
cancelation success.

This patch squash the following commit that improves the release note
for this fix:
[NetApp] Updating the release note for bugfix 1688620
(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)

Change-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776
Closes-Bug: #1688620
(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)
(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)
(cherry picked from commit c915918f3c6ac608469263dd05e3f2b5eb61dc4e)
(cherry picked from commit 1199489d998a729d7fcf7cf7f88ab34b6464d46b)
(cherry picked from commit b8fc8feb070a61b957500a51a95af153da53a02c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/744724/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,826cbfa7cee207914a149c24a3a8755ca04583e5,bug/1688620," @ddt.data({'state': 'failed'}, {'state': 'healthy'}) @ddt.unpack def test_migration_cancel(self, state): self.library.configuration.netapp_migration_cancel_timeout = 15 mock.Mock(return_value={'state': state})) if state == 'failed': retval = self.library.migration_cancel( self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance(), source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') self.assertIsNone(retval) mock_info_log.assert_called_once() else: self.assertRaises( (exception.NetAppException), self.library.migration_cancel, self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance, source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') @ddt.data({'already_canceled': True, 'effect': exception.NetAppException}, {'already_canceled': False, 'effect': (None, exception.NetAppException)}) @ddt.unpack def test_migration_cancel_exception_volume_status(self, already_canceled, effect): source_snapshots = mock.Mock() snapshot_mappings = mock.Mock() self.library.configuration.netapp_migration_cancel_timeout = 1 mock_exception_log = self.mock_object(lib_base.LOG, 'exception') mock_info_log = self.mock_object(lib_base.LOG, 'info') self.mock_object(self.library, '_get_vserver', mock.Mock(return_value=(fake.VSERVER1, mock.Mock()))) self.mock_object(self.library, '_get_backend_share_name', mock.Mock(return_value=fake.SHARE_NAME)) self.mock_object(self.client, 'abort_volume_move') self.mock_object(self.client, 'get_volume_move_status', mock.Mock(side_effect=effect)) self.library.migration_cancel( mock_exception_log.assert_called_once() if not already_canceled:"," @ddt.data(utils.annotated('already_canceled', (True, )), utils.annotated('not_canceled_yet', (False, ))) def test_migration_cancel(self, already_canceled): already_canceled = already_canceled[0] mock_exception_log = self.mock_object(lib_base.LOG, 'exception') vol_move_side_effect = (exception.NetAppException if already_canceled else None) mock.Mock(side_effect=vol_move_side_effect)) retval = self.library.migration_cancel( self.assertIsNone(retval) if already_canceled: mock_exception_log.assert_called_once() else:",103,14
openstack%2Fmanila~stable%2Frocky~Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,openstack/manila,stable/rocky,Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,Fix fallback share group snapshot implementation,MERGED,2020-07-31 17:10:51.000000000,2020-08-06 16:07:27.000000000,2020-08-01 23:10:52.000000000,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-31 17:10:51.000000000', 'files': ['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/4dff4e37c237fb196700a98b08bd3843000b01f4', 'message': 'Fix fallback share group snapshot implementation\n\nWhen a share driver does not provide the capability\nto create share group snapshots, the share manager\niterates over the shares in the group and invokes the\ndriver method to snapshot the shares. However, the\ncreate and delete routines in this fallback path\ndid not include some attributes necessary for the\noperation in many drivers.\n\nChange-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nCloses-Bug: #1888905\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)\n(cherry picked from commit e49075dfee4c586ea024b14005f65b8d52bd3cc4)\n(cherry picked from commit 4ac14e017ba079795071592b7493c7f8b3e9ac8f)\n(cherry picked from commit edab20c26fbe2d7908772409f4a412c055910b04)\n'}]",0,744231,4dff4e37c237fb196700a98b08bd3843000b01f4,16,4,1,16643,,,0,"Fix fallback share group snapshot implementation

When a share driver does not provide the capability
to create share group snapshots, the share manager
iterates over the shares in the group and invokes the
driver method to snapshot the shares. However, the
create and delete routines in this fallback path
did not include some attributes necessary for the
operation in many drivers.

Change-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed
Closes-Bug: #1888905
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)
(cherry picked from commit e49075dfee4c586ea024b14005f65b8d52bd3cc4)
(cherry picked from commit 4ac14e017ba079795071592b7493c7f8b3e9ac8f)
(cherry picked from commit edab20c26fbe2d7908772409f4a412c055910b04)
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/744231/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml']",3,4dff4e37c237fb196700a98b08bd3843000b01f4,bug/1888905,--- fixes: - | An error with share group snapshot creation and deletion due to missing attributes has been fixed. See `Launchpad bug 1888905 <https://launchpad.net/bugs/1888905>`_ for more information. ,,34,0
openstack%2Fcinder~master~Ia179d9b38a50e821c0b4ca76ae0cdbfbc84125b9,openstack/cinder,master,Ia179d9b38a50e821c0b4ca76ae0cdbfbc84125b9,Uncomment psycopg2 in test-requirements.txt,MERGED,2020-08-04 14:05:14.000000000,2020-08-06 16:06:52.000000000,2020-08-04 18:33:19.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-04 14:05:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fbdb3ba6c41f808ab14532afdc36c52a03831f7', 'message': 'Uncomment psycopg2 in test-requirements.txt\n\nThis dependency was accidentally commented in\nI7f26b270d5a85cd40ffbb3b33006a41b2e4852a1 commit.\n\nChange-Id: Ia179d9b38a50e821c0b4ca76ae0cdbfbc84125b9\n'}]",0,744721,9fbdb3ba6c41f808ab14532afdc36c52a03831f7,30,23,1,1736,,,0,"Uncomment psycopg2 in test-requirements.txt

This dependency was accidentally commented in
I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1 commit.

Change-Id: Ia179d9b38a50e821c0b4ca76ae0cdbfbc84125b9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/744721/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9fbdb3ba6c41f808ab14532afdc36c52a03831f7,psycopg2,psycopg2>=2.7 # LGPL/ZPL,# psycopg2>=2.7 # LGPL/ZPL,1,1
openstack%2Fcinder~master~Iaa2b3e1518614caf8664af017b2a2e1a7c005b07,openstack/cinder,master,Iaa2b3e1518614caf8664af017b2a2e1a7c005b07,Fix lower-constraints conflicts,MERGED,2020-08-03 14:41:31.000000000,2020-08-06 16:06:45.000000000,2020-08-03 23:55:15.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-03 14:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3dc8c871e14d44d512c7ebd01d8397c1bb357f68', 'message': 'Fix lower-constraints conflicts\n\nSeveral version specified in our lower-constraints files had conflicting\ndependencies. This updates a few packages to avoid those conflicts. It\nalso removes the linters that are tracked in the global requirements\nblocklist since we do not need to enforce lower-constraints for linters.\n\nChange-Id: Iaa2b3e1518614caf8664af017b2a2e1a7c005b07\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-03 17:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f881dcb5a080648e4106de830de77e26f572f33', 'message': 'Fix lower-constraints conflicts\n\nSeveral version specified in our lower-constraints files had conflicting\ndependencies. This updates a few packages to avoid those conflicts. It\nalso removes the linters that are tracked in the global requirements\nblocklist since we do not need to enforce lower-constraints for linters.\n\nChange-Id: Iaa2b3e1518614caf8664af017b2a2e1a7c005b07\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-08-03 19:06:29.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4af68f0621820df05b2889101af62b6dfdeb3b20', 'message': 'Fix lower-constraints conflicts\n\nSeveral version specified in our lower-constraints files had conflicting\ndependencies. This updates a few packages to avoid those conflicts. It\nalso removes the linters that are tracked in the global requirements\nblocklist since we do not need to enforce lower-constraints for linters.\n\nChange-Id: Iaa2b3e1518614caf8664af017b2a2e1a7c005b07\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744494,4af68f0621820df05b2889101af62b6dfdeb3b20,64,27,3,11904,,,0,"Fix lower-constraints conflicts

Several version specified in our lower-constraints files had conflicting
dependencies. This updates a few packages to avoid those conflicts. It
also removes the linters that are tracked in the global requirements
blocklist since we do not need to enforce lower-constraints for linters.

Change-Id: Iaa2b3e1518614caf8664af017b2a2e1a7c005b07
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/744494/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,3dc8c871e14d44d512c7ebd01d8397c1bb357f68,lower-constraints,cryptography==2.1.4decorator==4.1.0idna==2.5networkx==2.1.0os-win==4.2.0oslo.serialization==2.25.0 oslo.service==2.0.0 oslo.utils==3.40.2python-subunit==1.3.0pytz==2015.7requests==2.18.0six==1.11.0urllib3==1.21.1warlock==1.3.1,bandit==1.6.0cryptography==2.1decorator==3.4.0flake8==2.5.5 flake8-import-order==0.18.1 flake8-logging-format==0.6.0hacking==3.0.1idna==2.6mccabe==0.2.1networkx==1.11os-win==3.0.0oslo.serialization==2.18.0 oslo.service==1.24.0 oslo.utils==3.34.0pep8==1.5.7pycodestyle==2.6.0pyflakes==0.8.1python-subunit==1.2.0pytz==2013.6requests==2.14.2six==1.10.0urllib3==1.22warlock==1.3.0,14,24
openstack%2Fmanila~stable%2Fqueens~Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,openstack/manila,stable/queens,Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,Fix fallback share group snapshot implementation,MERGED,2020-08-03 03:49:21.000000000,2020-08-06 16:06:40.000000000,2020-08-03 14:59:58.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-03 03:49:21.000000000', 'files': ['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/28f0e841911a6dbc0d8d414680e9cdab61f4a187', 'message': 'Fix fallback share group snapshot implementation\n\nWhen a share driver does not provide the capability\nto create share group snapshots, the share manager\niterates over the shares in the group and invokes the\ndriver method to snapshot the shares. However, the\ncreate and delete routines in this fallback path\ndid not include some attributes necessary for the\noperation in many drivers.\n\nChange-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nCloses-Bug: #1888905\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)\n(cherry picked from commit e49075dfee4c586ea024b14005f65b8d52bd3cc4)\n(cherry picked from commit 4ac14e017ba079795071592b7493c7f8b3e9ac8f)\n(cherry picked from commit edab20c26fbe2d7908772409f4a412c055910b04)\n(cherry picked from commit 4dff4e37c237fb196700a98b08bd3843000b01f4)\n'}]",0,744390,28f0e841911a6dbc0d8d414680e9cdab61f4a187,16,5,1,16643,,,0,"Fix fallback share group snapshot implementation

When a share driver does not provide the capability
to create share group snapshots, the share manager
iterates over the shares in the group and invokes the
driver method to snapshot the shares. However, the
create and delete routines in this fallback path
did not include some attributes necessary for the
operation in many drivers.

Change-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed
Closes-Bug: #1888905
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)
(cherry picked from commit e49075dfee4c586ea024b14005f65b8d52bd3cc4)
(cherry picked from commit 4ac14e017ba079795071592b7493c7f8b3e9ac8f)
(cherry picked from commit edab20c26fbe2d7908772409f4a412c055910b04)
(cherry picked from commit 4dff4e37c237fb196700a98b08bd3843000b01f4)
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/744390/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml']",3,28f0e841911a6dbc0d8d414680e9cdab61f4a187,bug/1888905,--- fixes: - | An error with share group snapshot creation and deletion due to missing attributes has been fixed. See `Launchpad bug 1888905 <https://launchpad.net/bugs/1888905>`_ for more information. ,,34,0
openstack%2Fmanila~stable%2Fqueens~I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979,openstack/manila,stable/queens,I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979,Fix over-quota exception of snapshot creation,MERGED,2020-07-31 23:39:37.000000000,2020-08-06 16:06:36.000000000,2020-08-01 11:48:14.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-31 23:39:37.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/bug-1859775-snapshot-over-quota-exception-bb6691612af03ddf.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/ed5e676898c19433ff9ee040cfc3742e9a87a60e', 'message': 'Fix over-quota exception of snapshot creation\n\nReport consumed snapshot gigabytes instead of share gigabytes\n\nChange-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979\nCloses-Bug: #1859775\nCo-authored-by: Maurice Escher <maurice.escher@sap.com>\n(cherry picked from commit 5c858bc528bc47929b3519ccc6148c76bde734f0)\n(cherry picked from commit 9c07eb3151584dd89050d6d9e0285727a9da3220)\n(cherry picked from commit 5f91ab35207fc8e7418fbcb0a62fa1541a51125d)\n(cherry picked from commit 626b92b445cc9d278def3d7e363d4b2ffe54912e)\n'}]",0,744267,ed5e676898c19433ff9ee040cfc3742e9a87a60e,10,4,1,16643,,,0,"Fix over-quota exception of snapshot creation

Report consumed snapshot gigabytes instead of share gigabytes

Change-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979
Closes-Bug: #1859775
Co-authored-by: Maurice Escher <maurice.escher@sap.com>
(cherry picked from commit 5c858bc528bc47929b3519ccc6148c76bde734f0)
(cherry picked from commit 9c07eb3151584dd89050d6d9e0285727a9da3220)
(cherry picked from commit 5f91ab35207fc8e7418fbcb0a62fa1541a51125d)
(cherry picked from commit 626b92b445cc9d278def3d7e363d4b2ffe54912e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/67/744267/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/bug-1859775-snapshot-over-quota-exception-bb6691612af03ddf.yaml']",3,ed5e676898c19433ff9ee040cfc3742e9a87a60e,bug/1859775,--- fixes: - | Fixed Quota exceeded exception for snapshot creation. Consumed gigabytes now reports the snapshot gigabytes instead of share gigabytes usage. ,,11,5
openstack%2Fmanila~stable%2Fstein~Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,openstack/manila,stable/stein,Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,Fix fallback share group snapshot implementation,MERGED,2020-07-30 23:44:59.000000000,2020-08-06 16:06:24.000000000,2020-07-31 16:12:26.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-30 23:44:59.000000000', 'files': ['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/edab20c26fbe2d7908772409f4a412c055910b04', 'message': 'Fix fallback share group snapshot implementation\n\nWhen a share driver does not provide the capability\nto create share group snapshots, the share manager\niterates over the shares in the group and invokes the\ndriver method to snapshot the shares. However, the\ncreate and delete routines in this fallback path\ndid not include some attributes necessary for the\noperation in many drivers.\n\nChange-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nCloses-Bug: #1888905\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)\n(cherry picked from commit e49075dfee4c586ea024b14005f65b8d52bd3cc4)\n(cherry picked from commit 4ac14e017ba079795071592b7493c7f8b3e9ac8f)\n'}]",0,744081,edab20c26fbe2d7908772409f4a412c055910b04,16,4,1,16643,,,0,"Fix fallback share group snapshot implementation

When a share driver does not provide the capability
to create share group snapshots, the share manager
iterates over the shares in the group and invokes the
driver method to snapshot the shares. However, the
create and delete routines in this fallback path
did not include some attributes necessary for the
operation in many drivers.

Change-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed
Closes-Bug: #1888905
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)
(cherry picked from commit e49075dfee4c586ea024b14005f65b8d52bd3cc4)
(cherry picked from commit 4ac14e017ba079795071592b7493c7f8b3e9ac8f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/744081/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml']",3,edab20c26fbe2d7908772409f4a412c055910b04,bug/1888905,--- fixes: - | An error with share group snapshot creation and deletion due to missing attributes has been fixed. See `Launchpad bug 1888905 <https://launchpad.net/bugs/1888905>`_ for more information. ,,34,0
openstack%2Foslo.context~master~I2e498fd13356f571acb905384206b4c97e6c5d92,openstack/oslo.context,master,I2e498fd13356f571acb905384206b4c97e6c5d92,Bump bandit version,MERGED,2020-07-24 15:32:47.000000000,2020-08-06 16:05:01.000000000,2020-08-06 16:01:54.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/222d1d64e99c3edbb70dde14988bce21408eb5d6', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I2e498fd13356f571acb905384206b4c97e6c5d92\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-25 09:31:39.000000000', 'files': ['test-requirements.txt', 'oslo_context/context.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/37dea647eff2343ed437910fb1f8f38dd54dd2f8', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I2e498fd13356f571acb905384206b4c97e6c5d92\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742912,37dea647eff2343ed437910fb1f8f38dd54dd2f8,15,5,2,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I2e498fd13356f571acb905384206b4c97e6c5d92
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/12/742912/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,222d1d64e99c3edbb70dde14988bce21408eb5d6,bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Foslo.middleware~master~I0b8b5a8899b22744cfd65b5e889a6283aec9ddfe,openstack/oslo.middleware,master,I0b8b5a8899b22744cfd65b5e889a6283aec9ddfe,Bump bandit version,MERGED,2020-07-24 15:34:57.000000000,2020-08-06 16:00:21.000000000,2020-08-06 15:58:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:34:57.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/ea8e88109bb7ba36eb83ab968637017710fdb96c', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I0b8b5a8899b22744cfd65b5e889a6283aec9ddfe\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742918,ea8e88109bb7ba36eb83ab968637017710fdb96c,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I0b8b5a8899b22744cfd65b5e889a6283aec9ddfe
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/18/742918/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ea8e88109bb7ba36eb83ab968637017710fdb96c,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fcharm-guide~master~I2443fe1f952d0dfab71ae4292563d31c62302d1b,openstack/charm-guide,master,I2443fe1f952d0dfab71ae4292563d31c62302d1b,Add keystone-kerberos charm,MERGED,2020-08-06 15:45:32.000000000,2020-08-06 15:58:47.000000000,2020-08-06 15:56:58.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 15:45:32.000000000', 'files': ['doc/source/openstack-charms.rst', 'doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/da06ceca2a7bdf60e97f62a14aa886a6e306f0e6', 'message': 'Add keystone-kerberos charm\n\nChange-Id: I2443fe1f952d0dfab71ae4292563d31c62302d1b\n'}]",0,745172,da06ceca2a7bdf60e97f62a14aa886a6e306f0e6,8,2,1,30561,,,0,"Add keystone-kerberos charm

Change-Id: I2443fe1f952d0dfab71ae4292563d31c62302d1b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/72/745172/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/openstack-charms.rst', 'doc/source/2008.rst']",2,da06ceca2a7bdf60e97f62a14aa886a6e306f0e6,add-keystone-kerberos-link,* `keystone-kerberos <https://opendev.org/openstack/charm-keystone-kerberos/>`_ For now the neutron-api-plugin-arista charm is only supported up to OpenStack Queens.Keystone Kerberos support ~~~~~~~~~~~~~~~~~~~~~~~~~ The new preview keystone-kerberos subordinate charm can be used to add Kerberos support to Keystone by authenticating to an OpenStack domain. An external Kerberos server is needed. For more details see the `keystone-kerberos charm README`_. .. note:: Keystone Kerberos is supported starting with OpenStack Queens. .. _keystone-kerberos charm README: https://opendev.org/openstack/charm-keystone-kerberos/src/branch/master/src/README.md, For now the neutron-api-plugin-arista charm is only supported up to OpenStack Queens.,17,2
openstack%2Foslo.i18n~master~I0d07c9051addcbef37d48bfa84d612ef45ea105c,openstack/oslo.i18n,master,I0d07c9051addcbef37d48bfa84d612ef45ea105c,Bump bandit version,MERGED,2020-07-24 15:33:28.000000000,2020-08-06 15:58:40.000000000,2020-08-06 15:56:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:33:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/73187bd86903fc87665a829c9a0c714db6aa3022', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I0d07c9051addcbef37d48bfa84d612ef45ea105c\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742914,73187bd86903fc87665a829c9a0c714db6aa3022,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I0d07c9051addcbef37d48bfa84d612ef45ea105c
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/14/742914/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,73187bd86903fc87665a829c9a0c714db6aa3022,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fosc-placement~stable%2Fussuri~Ie5c7cea3c3dcd13e3ef9b47ad1cccaece1cb4af5,openstack/osc-placement,stable/ussuri,Ie5c7cea3c3dcd13e3ef9b47ad1cccaece1cb4af5,Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-11 18:59:19.000000000,2020-08-06 15:51:51.000000000,2020-08-06 15:45:27.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:59:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/1b2751493465062ce9f79d64d086521fb8c030c4', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie5c7cea3c3dcd13e3ef9b47ad1cccaece1cb4af5\n'}]",0,719302,1b2751493465062ce9f79d64d086521fb8c030c4,9,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie5c7cea3c3dcd13e3ef9b47ad1cccaece1cb4af5
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/02/719302/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1b2751493465062ce9f79d64d086521fb8c030c4,create-ussuri, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Foslo.service~master~I8bcf63c3a86670fb322c5258c6b669fa49169f79,openstack/oslo.service,master,I8bcf63c3a86670fb322c5258c6b669fa49169f79,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 22:49:48.000000000,2020-08-06 15:51:35.000000000,2020-08-06 15:50:19.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 22:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/97d12af89c412bfff0d4fbc2f5dd8cdde96d6c4e', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I8bcf63c3a86670fb322c5258c6b669fa49169f79\n'}, {'number': 2, 'created': '2020-08-02 19:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/ced7cdd5229156972447aea4d5ea51ee8715307f', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I8bcf63c3a86670fb322c5258c6b669fa49169f79\n'}, {'number': 3, 'created': '2020-08-03 23:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/e1fb9f0fc713803090b63945e78c3c404dbbbbfe', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I8bcf63c3a86670fb322c5258c6b669fa49169f79\n'}, {'number': 4, 'created': '2020-08-04 01:24:11.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/a15c31f297c050fd6835f5581c954c0d819e0bff', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I8bcf63c3a86670fb322c5258c6b669fa49169f79\n'}]",0,744319,a15c31f297c050fd6835f5581c954c0d819e0bff,15,4,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.


Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I8bcf63c3a86670fb322c5258c6b669fa49169f79
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/19/744319/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,97d12af89c412bfff0d4fbc2f5dd8cdde96d6c4e,migrate-to-focal,#test focal,,1,0
openstack%2Ffuturist~master~I14a1d33f1aedfd7bff265b7df2d3aa4340221144,openstack/futurist,master,I14a1d33f1aedfd7bff265b7df2d3aa4340221144,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 22:09:58.000000000,2020-08-06 15:51:34.000000000,2020-08-06 15:50:03.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 22:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/futurist/commit/6f231335eb888f1593c762a1425f161a9f484118', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I14a1d33f1aedfd7bff265b7df2d3aa4340221144\n'}, {'number': 2, 'created': '2020-08-02 19:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/futurist/commit/7aa7be344cada00501984a1ac6e809d01147da74', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I14a1d33f1aedfd7bff265b7df2d3aa4340221144\n'}, {'number': 3, 'created': '2020-08-04 00:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/futurist/commit/6cba1e60a9b609ede4c4a190d1a50be7b1576ac9', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I14a1d33f1aedfd7bff265b7df2d3aa4340221144\n'}, {'number': 4, 'created': '2020-08-04 03:46:23.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/futurist/commit/1a1c6f89c4a5d6d36edc66674e251e7e6dd04c30', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I14a1d33f1aedfd7bff265b7df2d3aa4340221144\n'}]",0,744301,1a1c6f89c4a5d6d36edc66674e251e7e6dd04c30,15,4,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I14a1d33f1aedfd7bff265b7df2d3aa4340221144
",git fetch https://review.opendev.org/openstack/futurist refs/changes/01/744301/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6f231335eb888f1593c762a1425f161a9f484118,migrate-to-focal,#test focal,,1,0
openstack%2Foslo.vmware~master~Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c,openstack/oslo.vmware,master,Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 23:04:47.000000000,2020-08-06 15:50:07.000000000,2020-08-06 15:45:30.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 23:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/3126106b17a296fbe9e59fa73c88632365d51dbc', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c\n'}, {'number': 2, 'created': '2020-08-02 19:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/31f2e60f36e5995289333e0aa750364249cb34f6', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c\n'}, {'number': 3, 'created': '2020-08-03 23:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/a4ac2f8ba250a3b79d0d97658ed39ca1d392975b', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c\n'}, {'number': 4, 'created': '2020-08-04 00:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/dd6505fb2e840118077c89533bd6d4629441e6c0', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c\n'}, {'number': 5, 'created': '2020-08-04 03:45:36.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/5c085599bf02760318cbf01f46f1a945f376d439', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c\n'}]",0,744333,5c085599bf02760318cbf01f46f1a945f376d439,18,4,5,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: Ib0a675e53ad060e9e0f8c6bcdce45f7a870e379c
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/33/744333/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3126106b17a296fbe9e59fa73c88632365d51dbc,migrate-to-focal,#test focal,,1,0
openstack%2Fosc-placement~master~Idc547f298dda460ba619cdbb873a2db3e631edf9,openstack/osc-placement,master,Idc547f298dda460ba619cdbb873a2db3e631edf9,Fix hacking min version to 3.0.1,MERGED,2020-05-13 01:21:34.000000000,2020-08-06 15:50:07.000000000,2020-08-06 15:45:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 01:21:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fd191494098931dc2bcfec98e77baf052e2f7e4b', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Idc547f298dda460ba619cdbb873a2db3e631edf9\n'}]",0,727558,fd191494098931dc2bcfec98e77baf052e2f7e4b,8,3,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Idc547f298dda460ba619cdbb873a2db3e631edf9
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/58/727558/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fd191494098931dc2bcfec98e77baf052e2f7e4b,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fosc-placement~stable%2Fussuri~I8c7def9f394f68b555786047e590192c55209041,openstack/osc-placement,stable/ussuri,I8c7def9f394f68b555786047e590192c55209041,Update .gitreview for stable/ussuri,MERGED,2020-04-11 18:59:17.000000000,2020-08-06 15:50:07.000000000,2020-08-06 15:45:26.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:59:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f8c7643b5b647eaaac1c0961ebca2ea640cf7da4', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I8c7def9f394f68b555786047e590192c55209041\n'}]",0,719301,f8c7643b5b647eaaac1c0961ebca2ea640cf7da4,9,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I8c7def9f394f68b555786047e590192c55209041
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/01/719301/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f8c7643b5b647eaaac1c0961ebca2ea640cf7da4,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fosc-placement~master~I4c44fffbb953a255e5a556c113abaa85444ce27a,openstack/osc-placement,master,I4c44fffbb953a255e5a556c113abaa85444ce27a,Update master for stable/ussuri,MERGED,2020-04-11 18:59:21.000000000,2020-08-06 15:46:56.000000000,2020-08-06 15:42:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:59:21.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/05ebde972f071adbe5c03003e7a36616c0955aa1', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I4c44fffbb953a255e5a556c113abaa85444ce27a\nSem-Ver: feature\n'}]",0,719303,05ebde972f071adbe5c03003e7a36616c0955aa1,7,2,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I4c44fffbb953a255e5a556c113abaa85444ce27a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/03/719303/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,05ebde972f071adbe5c03003e7a36616c0955aa1,reno-ussuri, ussuri,,7,0
openstack%2Fosc-placement~master~I556e592dcefad3efb9f460bd85e7e42fb52d3126,openstack/osc-placement,master,I556e592dcefad3efb9f460bd85e7e42fb52d3126,Add Python3 victoria unit tests,MERGED,2020-04-11 18:59:24.000000000,2020-08-06 15:42:10.000000000,2020-08-06 15:42:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:59:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/67e53d5bf2c9d1fa837a4b58513dde41939d852c', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I556e592dcefad3efb9f460bd85e7e42fb52d3126\n'}]",0,719304,67e53d5bf2c9d1fa837a4b58513dde41939d852c,6,2,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I556e592dcefad3efb9f460bd85e7e42fb52d3126
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/04/719304/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,67e53d5bf2c9d1fa837a4b58513dde41939d852c,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fpbr~master~I6ee389843d1d959cffb126e0cd56ef6ef1e2f5e1,openstack/pbr,master,I6ee389843d1d959cffb126e0cd56ef6ef1e2f5e1,Support newer openstackdocstheme,MERGED,2020-06-02 11:47:30.000000000,2020-08-06 15:38:44.000000000,2020-08-06 15:36:16.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 11:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d2ad1da65ce6061b5f143dffba92a29d9ec66fd1', 'message': ""Support newer openstackdocstheme\n\nopenstackdocstheme 2.2.0 introduces new variables, add them here so that\nboth older and newer openstackdocstheme versions are supported.\n2.2.0 suport the old settings but in the future those might get removed,\nso let's be future-proof.\n\nSince this repo is still supporting py27, we need support for older\nopenstackdocstheme versions.\n\nChange-Id: I6ee389843d1d959cffb126e0cd56ef6ef1e2f5e1\n""}, {'number': 2, 'created': '2020-08-06 08:33:50.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/2242cb652e2ce74a852c6cfd677f1cd000a2cae1', 'message': ""Support newer openstackdocstheme\n\nopenstackdocstheme 2.2.0 introduces new variables, add them here so that\nboth older and newer openstackdocstheme versions are supported.\n2.2.0 suport the old settings but in the future those might get removed,\nso let's be future-proof.\n\nSince this repo is still supporting py27, we need support for older\nopenstackdocstheme versions.\n\nChange-Id: I6ee389843d1d959cffb126e0cd56ef6ef1e2f5e1\n""}]",0,732535,2242cb652e2ce74a852c6cfd677f1cd000a2cae1,22,4,2,6547,,,0,"Support newer openstackdocstheme

openstackdocstheme 2.2.0 introduces new variables, add them here so that
both older and newer openstackdocstheme versions are supported.
2.2.0 suport the old settings but in the future those might get removed,
so let's be future-proof.

Since this repo is still supporting py27, we need support for older
openstackdocstheme versions.

Change-Id: I6ee389843d1d959cffb126e0cd56ef6ef1e2f5e1
",git fetch https://review.opendev.org/openstack/pbr refs/changes/35/732535/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,d2ad1da65ce6061b5f143dffba92a29d9ec66fd1,,"# Deprecated options for openstackdocstheme < 2.2.0, can be removed once # pbr stops supporting py27. repository_name = 'openstack/pbr' # New options with openstackdocstheme >=2.2.0 openstackdocs_repo_name = 'openstack/pbr' openstackdocs_auto_name = False openstackdocs_bug_project = 'pbr' openstackdocs_bug_tag = ''","# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' repository_name = 'openstack-dev/pbr'",17,7
openstack%2Fosc-placement~master~Iedbd4262075d2df6bba707c5ba2a7110f43510db,openstack/osc-placement,master,Iedbd4262075d2df6bba707c5ba2a7110f43510db,Use jsonutils of oslo_serialization,ABANDONED,2018-02-16 08:01:51.000000000,2020-08-06 15:36:22.000000000,,"[{'_account_id': 4690}, {'_account_id': 20722}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 08:01:51.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/http.py', 'requirements.txt', 'osc_placement/tests/unit/test_http.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8a736bcbc5826cb9bfb8ee63ef7619993f95f089', 'message': 'Use jsonutils of oslo_serialization\n\nFor keeping Python 2/3 compatibility, the jsonutils module of the\noslo_serialization are recommended to be used for encoding/decoding JSON\ndata [1]. This patch replaces the json module with the jsonutils module.\n\n[1] https://wiki.openstack.org/wiki/Python3\n\nChange-Id: Iedbd4262075d2df6bba707c5ba2a7110f43510db\n'}]",0,545231,8a736bcbc5826cb9bfb8ee63ef7619993f95f089,8,3,1,23840,,,0,"Use jsonutils of oslo_serialization

For keeping Python 2/3 compatibility, the jsonutils module of the
oslo_serialization are recommended to be used for encoding/decoding JSON
data [1]. This patch replaces the json module with the jsonutils module.

[1] https://wiki.openstack.org/wiki/Python3

Change-Id: Iedbd4262075d2df6bba707c5ba2a7110f43510db
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/31/545231/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/http.py', 'requirements.txt', 'osc_placement/tests/unit/test_http.py']",4,8a736bcbc5826cb9bfb8ee63ef7619993f95f089,use-jsonutils,from oslo_serialization import jsonutils as json,import json ,4,4
openstack%2Fplacement~master~I94d3644ff34d6f682df0d2760eea8e6b3bcd427e,openstack/placement,master,I94d3644ff34d6f682df0d2760eea8e6b3bcd427e,Stop to use the __future__ module.,ABANDONED,2020-06-20 16:06:03.000000000,2020-08-06 15:19:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-20 16:06:03.000000000', 'files': ['placement/conf/database.py', 'placement/tests/functional/fixtures/gabbits.py', 'placement/db/sqlalchemy/alembic/env.py', 'placement/tests/fixtures.py', 'placement/conf/__init__.py', 'placement/tests/functional/fixtures/placement.py', 'placement/conf/placement.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/943394c79125228d1b90846f6b7460d9c1d69af7', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7  and now we only support\npython 3 so we don't need to continue to use this module\n\nChange-Id: I94d3644ff34d6f682df0d2760eea8e6b3bcd427e\n""}]",0,737141,943394c79125228d1b90846f6b7460d9c1d69af7,3,1,1,30356,,,0,"Stop to use the __future__ module.

The __future__ module was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7  and now we only support
python 3 so we don't need to continue to use this module

Change-Id: I94d3644ff34d6f682df0d2760eea8e6b3bcd427e
",git fetch https://review.opendev.org/openstack/placement refs/changes/41/737141/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/conf/database.py', 'placement/tests/functional/fixtures/gabbits.py', 'placement/db/sqlalchemy/alembic/env.py', 'placement/tests/fixtures.py', 'placement/conf/__init__.py', 'placement/tests/functional/fixtures/placement.py', 'placement/conf/placement.py']",7,943394c79125228d1b90846f6b7460d9c1d69af7,,,from __future__ import absolute_import,0,10
openstack%2Fosprofiler~master~Id4f3a5c31167b2edae839f82a56d431900aba33e,openstack/osprofiler,master,Id4f3a5c31167b2edae839f82a56d431900aba33e,Fix osprofiler usage in horizon,ABANDONED,2019-01-11 15:50:36.000000000,2020-08-06 15:15:23.000000000,,"[{'_account_id': 1736}, {'_account_id': 5950}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 27339}]","[{'number': 1, 'created': '2019-01-11 15:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/6b51bb4901cde30d28a8b7c669e8127de2409c7c', 'message': 'Fix osprofiler usage in horizon\n\nThis patch fixes usage of osprofiler in horizon which is not\nworking now. Redis driver is not using oslo_config, and this patch\nis removing it as it removed in mongo driver already. As clients\nare calling osprofiler.initializer.init_from_conf, this patch\nis not affecting services. Only fixing osprofiler dashboard usage.\n\nChange-Id: Id4f3a5c31167b2edae839f82a56d431900aba33e\nCloses-Bug: #1811260\n'}, {'number': 2, 'created': '2019-01-11 15:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/0f7118b7fb04bae05cfddd659f1a57b5a625cede', 'message': 'Fix osprofiler usage in horizon\n\nThis patch fixes usage of osprofiler in horizon which is not\nworking now. Redis driver is not using oslo_config, and this patch\nis removing it as it removed in mongo driver already. As clients\nare calling osprofiler.initializer.init_from_conf, this patch\nis not affecting services. Only fixing osprofiler dashboard usage.\n\nChange-Id: Id4f3a5c31167b2edae839f82a56d431900aba33e\nCloses-Bug: #1811260\n'}, {'number': 3, 'created': '2019-09-09 09:31:42.000000000', 'files': ['osprofiler/drivers/redis_driver.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/73399f3529f05e80f40abe049ed93e8239e5411d', 'message': 'Fix osprofiler usage in horizon\n\nThis patch fixes usage of osprofiler in horizon which is not\nworking now. Redis driver is not using oslo_config, and this patch\nis removing it as it removed in mongo driver already. As clients\nare calling osprofiler.initializer.init_from_conf, this patch\nis not affecting services. Only fixing osprofiler dashboard usage.\n\nChange-Id: Id4f3a5c31167b2edae839f82a56d431900aba33e\nCloses-Bug: #1811260\n'}]",0,630298,73399f3529f05e80f40abe049ed93e8239e5411d,21,6,3,27339,,,0,"Fix osprofiler usage in horizon

This patch fixes usage of osprofiler in horizon which is not
working now. Redis driver is not using oslo_config, and this patch
is removing it as it removed in mongo driver already. As clients
are calling osprofiler.initializer.init_from_conf, this patch
is not affecting services. Only fixing osprofiler dashboard usage.

Change-Id: Id4f3a5c31167b2edae839f82a56d431900aba33e
Closes-Bug: #1811260
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/98/630298/3 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/drivers/redis_driver.py'],1,6b51bb4901cde30d28a8b7c669e8127de2409c7c,bug/1811260," service=None, host=None, **kwargs): service=service, host=host, **kwargs) service=None, host=None, **kwargs): **kwargs) socket_timeout = 0.1 self.db = sentinel.master_for(parsed_url.path.replace(""/"", """"),"," service=None, host=None, conf=cfg.CONF, **kwargs): service=service, host=host, conf=conf, **kwargs) service=None, host=None, conf=cfg.CONF, **kwargs): conf=conf, **kwargs) self.conf = conf socket_timeout = self.conf.profiler.socket_timeout self.db = sentinel.master_for(self.conf.profiler.sentinel_service_name,",6,8
openstack%2Fsphinx-feature-classification~master~Ie7ce3a3d1c592debf302117fce2c0f3fae0b19a2,openstack/sphinx-feature-classification,master,Ie7ce3a3d1c592debf302117fce2c0f3fae0b19a2,Report sphinx extension is thread safe,MERGED,2020-07-14 18:35:51.000000000,2020-08-06 15:14:47.000000000,2020-08-06 15:12:42.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-14 18:35:51.000000000', 'files': ['sphinx_feature_classification/support_matrix.py'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/e128cef7b55785be6720371a60abc47ed45443bf', 'message': 'Report sphinx extension is thread safe\n\nThis updates the extension to return values to indicate it can be run\nmultithreaded. This allows consumers of the extension to use multiple\nthreads when building documentation, since sphinx either requires all\nprojects are thread safe, or else it emits a warning that many of our\nprojects then fail the build on with treating warnings as errors.\n\nChange-Id: Ie7ce3a3d1c592debf302117fce2c0f3fae0b19a2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741026,e128cef7b55785be6720371a60abc47ed45443bf,8,3,1,11904,,,0,"Report sphinx extension is thread safe

This updates the extension to return values to indicate it can be run
multithreaded. This allows consumers of the extension to use multiple
threads when building documentation, since sphinx either requires all
projects are thread safe, or else it emits a warning that many of our
projects then fail the build on with treating warnings as errors.

Change-Id: Ie7ce3a3d1c592debf302117fce2c0f3fae0b19a2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/26/741026/1 && git format-patch -1 --stdout FETCH_HEAD,['sphinx_feature_classification/support_matrix.py'],1,e128cef7b55785be6720371a60abc47ed45443bf,parallel-sphinx," return { 'parallel_read_safe': True, 'parallel_write_safe': True, }",,4,0
openstack%2Fcliff~master~I6fc0edc5cea6e2e0bff98209bf1fb02b0c027b3c,openstack/cliff,master,I6fc0edc5cea6e2e0bff98209bf1fb02b0c027b3c,"Revert ""Pin cmd2 back to <0.9 on all versions""",ABANDONED,2019-10-29 10:54:39.000000000,2020-08-06 15:12:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-29 10:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/881aa4661b03a5b043e897324a68a2f35c6cf001', 'message': 'Revert ""Pin cmd2 back to <0.9 on all versions""\n\nLets see if newer versions are working good enough to pass tests.\n\nThis reverts commit 01ce75f5b36d2e729d0dc749c49f091617090107.\n\nDepends-On: https://review.opendev.org/#/c/690416/\n\nChange-Id: I6fc0edc5cea6e2e0bff98209bf1fb02b0c027b3c\n'}, {'number': 2, 'created': '2020-03-18 20:43:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cliff/commit/154f24e164eb17761cda3fbd119de4748e095105', 'message': 'Revert ""Pin cmd2 back to <0.9 on all versions""\n\nLets see if newer versions are working good enough to pass tests.\n\nThis reverts commit 01ce75f5b36d2e729d0dc749c49f091617090107.\n\nDepends-On: https://review.opendev.org/#/c/690416/\n\nChange-Id: I6fc0edc5cea6e2e0bff98209bf1fb02b0c027b3c\n'}]",0,691841,154f24e164eb17761cda3fbd119de4748e095105,5,1,2,6593,,,0,"Revert ""Pin cmd2 back to <0.9 on all versions""

Lets see if newer versions are working good enough to pass tests.

This reverts commit 01ce75f5b36d2e729d0dc749c49f091617090107.

Depends-On: https://review.opendev.org/#/c/690416/

Change-Id: I6fc0edc5cea6e2e0bff98209bf1fb02b0c027b3c
",git fetch https://review.opendev.org/openstack/cliff refs/changes/41/691841/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt']",3,881aa4661b03a5b043e897324a68a2f35c6cf001,uncap-cmd2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,!=1.6.7,<2.0.0,>=1.6.2;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",4,5
openstack%2Fcliff~master~Iba0753f3eb313753933002a0709ecec81d7e3cf8,openstack/cliff,master,Iba0753f3eb313753933002a0709ecec81d7e3cf8,WIP Reformat to black,ABANDONED,2020-06-06 14:32:53.000000000,2020-08-06 15:11:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-06 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/4d4fa573d03db2da3a67caf979ae3ee9ca3193e0', 'message': 'WIP Reformat to black\n\nSake of argument.\n\nChange-Id: Iba0753f3eb313753933002a0709ecec81d7e3cf8\n'}, {'number': 2, 'created': '2020-06-06 17:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/69c395af71c9579a82c81dd0a746663982f0c30a', 'message': 'WIP Reformat to black\n\nSake of argument.\n\nChange-Id: Iba0753f3eb313753933002a0709ecec81d7e3cf8\n'}, {'number': 3, 'created': '2020-06-06 17:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/ff476d0e370b24182677dd33b8cc6dba158656d8', 'message': 'WIP Reformat to black\n\nSake of argument.\n\nChange-Id: Iba0753f3eb313753933002a0709ecec81d7e3cf8\n'}, {'number': 4, 'created': '2020-06-06 17:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/6225d24a4383dffa76d659ee120f39f31b982464', 'message': 'WIP Reformat to black\n\nSake of argument.\n\nChange-Id: Iba0753f3eb313753933002a0709ecec81d7e3cf8\n'}, {'number': 5, 'created': '2020-06-06 19:41:31.000000000', 'files': ['cliff/formatters/commaseparated.py', 'cliff/formatters/table.py', 'cliff/tests/test_help.py', 'cliff/tests/test_formatters_table.py', 'cliff/commandmanager.py', 'cliff/formatters/json_format.py', 'cliff/complete.py', 'cliff/tests/test_formatters_yaml.py', 'cliff/formatters/shell.py', 'cliff/tests/test_formatters_value.py', 'cliff/tests/test_sphinxext.py', 'cliff/tests/test_lister.py', 'cliff/_argparse.py', 'cliff/tests/test_app.py', 'cliff/formatters/yaml_format.py', 'cliff/utils.py', 'cliff/interactive.py', 'cliff/display.py', 'cliff/tests/test_command_hooks.py', 'cliff/tests/test_commandmanager.py', 'cliff/tests/test_complete.py', 'cliff/tests/test_interactive.py', 'cliff/tests/test_utils.py', 'cliff/show.py', 'cliff/formatters/value.py', 'cliff/columns.py', 'cliff/tests/test_command.py', 'cliff/tests/test_formatters_json.py', 'cliff/tests/test_show.py', 'cliff/lister.py', 'cliff/tests/test__argparse.py', 'cliff/tests/test_columns.py', 'cliff/app.py', 'cliff/help.py', 'cliff/sphinxext.py', 'cliff/formatters/base.py', 'cliff/command.py', 'cliff/tests/utils.py', 'cliff/hooks.py', 'cliff/tests/test_formatters_csv.py', 'cliff/tests/base.py', 'cliff/tests/test_formatters_shell.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/a25a68782134e96e2bab50bfcb4b4b70516812de', 'message': 'WIP Reformat to black\n\nSake of argument.\n\nChange-Id: Iba0753f3eb313753933002a0709ecec81d7e3cf8\n'}]",337,733965,a25a68782134e96e2bab50bfcb4b4b70516812de,9,1,5,2,,,0,"WIP Reformat to black

Sake of argument.

Change-Id: Iba0753f3eb313753933002a0709ecec81d7e3cf8
",git fetch https://review.opendev.org/openstack/cliff refs/changes/65/733965/5 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/formatters/commaseparated.py', 'cliff/formatters/table.py', 'cliff/tests/test_help.py', 'cliff/tests/test_formatters_table.py', 'cliff/commandmanager.py', 'cliff/formatters/json_format.py', 'cliff/complete.py', 'cliff/tests/test_formatters_yaml.py', 'cliff/formatters/shell.py', 'cliff/tests/test_formatters_value.py', 'cliff/tests/test_sphinxext.py', 'cliff/tests/test_lister.py', 'cliff/_argparse.py', 'cliff/tests/test_app.py', 'cliff/formatters/yaml_format.py', 'cliff/utils.py', 'cliff/interactive.py', 'cliff/display.py', 'cliff/tests/test_command_hooks.py', 'cliff/tests/test_commandmanager.py', 'cliff/tests/test_complete.py', 'cliff/tests/test_interactive.py', 'cliff/tests/test_utils.py', 'cliff/show.py', 'cliff/formatters/value.py', 'cliff/columns.py', 'cliff/tests/test_command.py', 'cliff/tests/test_formatters_json.py', 'cliff/tests/test_show.py', 'cliff/lister.py', 'cliff/tests/test__argparse.py', 'cliff/tests/test_columns.py', 'cliff/app.py', 'cliff/help.py', 'cliff/sphinxext.py', 'cliff/formatters/base.py', 'cliff/command.py', 'cliff/tests/utils.py', 'cliff/hooks.py', 'cliff/tests/test_formatters_csv.py', 'cliff/tests/base.py', 'cliff/tests/test_formatters_shell.py']",42,4d4fa573d03db2da3a67caf979ae3ee9ca3193e0,osc-plugin-optimize," c = (""a"", ""b"", ""c"", ""d"") d = (""A"", ""B"", ""C"", '""escape me""') args.variables = [""a"", ""b"", ""d""] args.prefix = """" c = (""a"", ""b"", ""c"", ""d"") d = (""A"", ""B"", ""C"", '""escape me""') parser = argparse.ArgumentParser(description=""Testing..."") parsed_args = parser.parse_args([""--variable"", ""d"", ""--prefix"", ""X""]) c = (""a"", ""b"", ""c"") d = (""A"", ""B"", test_columns.FauxColumn([""the"", ""value""])) expected = ""\n"".join(['a=""A""', 'b=""B""', ""c=\""['the', 'value']\""\n""]) args.variables = [""a"", ""b"", ""c""] args.prefix = """" c = (""a"", ""b"", ""c"", ""d"", ""e"") expected = 'a=""True""\nb=""False""\nc=""100""\n' 'd=""\\""esc\\""""\ne=""\\""esc\\""""\n' args.variables = [""a"", ""b"", ""c"", ""d"", ""e""] args.prefix = """" c = (""a"", ""foo-bar"", ""provider:network_type"") d = (True, ""baz"", ""vxlan"") args.variables = [""a"", ""foo-bar"", ""provider:network_type""] args.prefix = """""," c = ('a', 'b', 'c', 'd') d = ('A', 'B', 'C', '""escape me""') args.variables = ['a', 'b', 'd'] args.prefix = '' c = ('a', 'b', 'c', 'd') d = ('A', 'B', 'C', '""escape me""') parser = argparse.ArgumentParser(description='Testing...') parsed_args = parser.parse_args(['--variable', 'd', '--prefix', 'X']) c = ('a', 'b', 'c') d = ('A', 'B', test_columns.FauxColumn(['the', 'value'])) expected = '\n'.join([ 'a=""A""', 'b=""B""', 'c=""[\'the\', \'value\']""\n', ]) args.variables = ['a', 'b', 'c'] args.prefix = '' c = ('a', 'b', 'c', 'd', 'e') expected = ('a=""True""\nb=""False""\nc=""100""\n' 'd=""\\""esc\\""""\ne=""\\""esc\\""""\n') args.variables = ['a', 'b', 'c', 'd', 'e'] args.prefix = '' c = ('a', 'foo-bar', 'provider:network_type') d = (True, 'baz', 'vxlan') args.variables = ['a', 'foo-bar', 'provider:network_type'] args.prefix = ''",1449,1550
openstack%2Fopenstack-doc-tools~master~Id3df43c47a3bdfce317331e1e3e4df775c4b4f32,openstack/openstack-doc-tools,master,Id3df43c47a3bdfce317331e1e3e4df775c4b4f32,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-01 22:17:59.000000000,2020-08-06 15:07:59.000000000,2020-08-06 15:06:00.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 22:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/d284331284aa824d4d145a22b9a23cf8a9f3efd5', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: Id3df43c47a3bdfce317331e1e3e4df775c4b4f32\n'}, {'number': 2, 'created': '2020-08-02 19:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/d758939723e2790e73e2029efe4a0dd6ba809276', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Id3df43c47a3bdfce317331e1e3e4df775c4b4f32\n'}, {'number': 3, 'created': '2020-08-04 00:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/eb5d9e73d589cc357bb2f9d1e2d00606caf02c47', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Id3df43c47a3bdfce317331e1e3e4df775c4b4f32\n'}, {'number': 4, 'created': '2020-08-04 00:33:18.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/b161ecca7ac2fde2b3aba79db46ca5eb5fea0c35', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40207\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Id3df43c47a3bdfce317331e1e3e4df775c4b4f32\n'}]",0,744303,b161ecca7ac2fde2b3aba79db46ca5eb5fea0c35,15,4,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40207

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: Id3df43c47a3bdfce317331e1e3e4df775c4b4f32
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/03/744303/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d284331284aa824d4d145a22b9a23cf8a9f3efd5,migrate-to-focal,#test focal\,,1,0
openstack%2Foslo.concurrency~master~Ie5f02727ff0516be04e79fc769d355c61fbdff8d,openstack/oslo.concurrency,master,Ie5f02727ff0516be04e79fc769d355c61fbdff8d,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:43:02.000000000,2020-08-06 15:06:25.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:43:02.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/2aba17faa59d6a0b7ea4f324a4376a0a6b15693f', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ie5f02727ff0516be04e79fc769d355c61fbdff8d\n'}]",0,740874,2aba17faa59d6a0b7ea4f324a4376a0a6b15693f,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ie5f02727ff0516be04e79fc769d355c61fbdff8d
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/74/740874/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2aba17faa59d6a0b7ea4f324a4376a0a6b15693f,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foslo.config~master~I4288a7cfd13305a7860e1788a9e0407247e7e320,openstack/oslo.config,master,I4288a7cfd13305a7860e1788a9e0407247e7e320,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:47:56.000000000,2020-08-06 15:06:19.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-07-14 05:47:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/fba9ef9abe0ad69c178de55bc91dd2062d7a06e4', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I4288a7cfd13305a7860e1788a9e0407247e7e320\n'}]",0,740878,fba9ef9abe0ad69c178de55bc91dd2062d7a06e4,9,5,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I4288a7cfd13305a7860e1788a9e0407247e7e320
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/78/740878/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fba9ef9abe0ad69c178de55bc91dd2062d7a06e4,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Foslo.messaging~master~Id6a5d4b95368b9cb8b4bf5ad081467ec864946a2,openstack/oslo.messaging,master,Id6a5d4b95368b9cb8b4bf5ad081467ec864946a2,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:49:06.000000000,2020-08-06 15:06:16.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:49:06.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/874a846a76abf68b82343736b9659e70e5247741', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Id6a5d4b95368b9cb8b4bf5ad081467ec864946a2\n'}]",0,740880,874a846a76abf68b82343736b9659e70e5247741,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Id6a5d4b95368b9cb8b4bf5ad081467ec864946a2
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/80/740880/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,874a846a76abf68b82343736b9659e70e5247741,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Foslo.serialization~master~I36b5e3c948b30043260c1a60a7a63e5fe25abe74,openstack/oslo.serialization,master,I36b5e3c948b30043260c1a60a7a63e5fe25abe74,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:56:36.000000000,2020-08-06 15:06:11.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:56:36.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/665bc94b3946f81929a8967af8576b1d8141d628', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I36b5e3c948b30043260c1a60a7a63e5fe25abe74\n'}]",0,740886,665bc94b3946f81929a8967af8576b1d8141d628,8,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I36b5e3c948b30043260c1a60a7a63e5fe25abe74
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/86/740886/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,665bc94b3946f81929a8967af8576b1d8141d628,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foslo.vmware~master~I4d42655d3c3bc9b0cc4fab97d12ef486ccefd4e6,openstack/oslo.vmware,master,I4d42655d3c3bc9b0cc4fab97d12ef486ccefd4e6,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:58:39.000000000,2020-08-06 15:06:07.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:58:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/6e3f143dee0cc3a26fd6512b7e6c441d13e84ef9', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I4d42655d3c3bc9b0cc4fab97d12ef486ccefd4e6\n'}]",0,740887,6e3f143dee0cc3a26fd6512b7e6c441d13e84ef9,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I4d42655d3c3bc9b0cc4fab97d12ef486ccefd4e6
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/87/740887/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6e3f143dee0cc3a26fd6512b7e6c441d13e84ef9,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Foslo.db~master~I10f491a3cf89511a43a514a87916b27784c2c237,openstack/oslo.db,master,I10f491a3cf89511a43a514a87916b27784c2c237,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:47:36.000000000,2020-08-06 15:06:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:47:36.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6cb8aae8b961032d3f4e0abbdc3254eb74cad5ee', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I10f491a3cf89511a43a514a87916b27784c2c237\n'}]",0,740877,6cb8aae8b961032d3f4e0abbdc3254eb74cad5ee,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I10f491a3cf89511a43a514a87916b27784c2c237
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/77/740877/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6cb8aae8b961032d3f4e0abbdc3254eb74cad5ee,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foslo.privsep~master~I5a94ab874fc597c39ef3acdf0584552beca59a65,openstack/oslo.privsep,master,I5a94ab874fc597c39ef3acdf0584552beca59a65,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:50:51.000000000,2020-08-06 15:06:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:50:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/50185671de129659b49ee039c91cf3858efac295', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I5a94ab874fc597c39ef3acdf0584552beca59a65\n'}]",0,740883,50185671de129659b49ee039c91cf3858efac295,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I5a94ab874fc597c39ef3acdf0584552beca59a65
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/83/740883/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,50185671de129659b49ee039c91cf3858efac295,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foslo.rootwrap~master~I0098daa7109e0c02218d534eaca439d4d0bfcd30,openstack/oslo.rootwrap,master,I0098daa7109e0c02218d534eaca439d4d0bfcd30,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:51:35.000000000,2020-08-06 15:05:57.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:51:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/20d8c76404e2a2d285a293c79fc09e5ab6b7cbfd', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I0098daa7109e0c02218d534eaca439d4d0bfcd30\n'}]",0,740884,20d8c76404e2a2d285a293c79fc09e5ab6b7cbfd,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I0098daa7109e0c02218d534eaca439d4d0bfcd30
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/84/740884/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,20d8c76404e2a2d285a293c79fc09e5ab6b7cbfd,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Foslo.middleware~master~I7541d02d00005635265a259b7ac9ee2edc716919,openstack/oslo.middleware,master,I7541d02d00005635265a259b7ac9ee2edc716919,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:49:53.000000000,2020-08-06 15:05:54.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:49:53.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/2b69868d158b51cdb379dc48b28f7035da555b0a', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I7541d02d00005635265a259b7ac9ee2edc716919\n'}]",0,740882,2b69868d158b51cdb379dc48b28f7035da555b0a,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I7541d02d00005635265a259b7ac9ee2edc716919
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/82/740882/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2b69868d158b51cdb379dc48b28f7035da555b0a,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foslo.service~master~I7571bf77213e107f839bb82d64e266a1bc92826d,openstack/oslo.service,master,I7571bf77213e107f839bb82d64e266a1bc92826d,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:55:03.000000000,2020-08-06 15:05:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:55:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/7e015b54351e322c4ed2c86caf30ad7300c577fc', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I7571bf77213e107f839bb82d64e266a1bc92826d\n'}]",0,740885,7e015b54351e322c4ed2c86caf30ad7300c577fc,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I7571bf77213e107f839bb82d64e266a1bc92826d
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/85/740885/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7e015b54351e322c4ed2c86caf30ad7300c577fc,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foslo.context~master~I8bd3d25fbcd023bb60727697b58b13c9848cb001,openstack/oslo.context,master,I8bd3d25fbcd023bb60727697b58b13c9848cb001,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:47:02.000000000,2020-08-06 15:05:47.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:47:02.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/996596f1506b359f87fed56e2d7171910bcddf58', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I8bd3d25fbcd023bb60727697b58b13c9848cb001\n'}]",0,740876,996596f1506b359f87fed56e2d7171910bcddf58,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I8bd3d25fbcd023bb60727697b58b13c9848cb001
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/76/740876/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,996596f1506b359f87fed56e2d7171910bcddf58,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fosprofiler~master~I91d947becfebe8a5a9786d4cf0f3d0ab0099cfec,openstack/osprofiler,master,I91d947becfebe8a5a9786d4cf0f3d0ab0099cfec,migrate testing to ubuntu focal,ABANDONED,2020-07-14 06:04:20.000000000,2020-08-06 15:05:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 06:04:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/fc81935328bfd0f6cdef0737b1c03dec9cd10250', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I91d947becfebe8a5a9786d4cf0f3d0ab0099cfec\n'}]",0,740888,fc81935328bfd0f6cdef0737b1c03dec9cd10250,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I91d947becfebe8a5a9786d4cf0f3d0ab0099cfec
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/88/740888/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fc81935328bfd0f6cdef0737b1c03dec9cd10250,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fopenstackdocstheme~master~Ibe826b9cc1c3362b86cec9fe3104c9ebbab5499c,openstack/openstackdocstheme,master,Ibe826b9cc1c3362b86cec9fe3104c9ebbab5499c,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:44:24.000000000,2020-08-06 15:05:41.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:44:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/cf5b33bb230af76431659cd01ada0d76e70b9f85', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ibe826b9cc1c3362b86cec9fe3104c9ebbab5499c\n'}]",0,740864,cf5b33bb230af76431659cd01ada0d76e70b9f85,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ibe826b9cc1c3362b86cec9fe3104c9ebbab5499c
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/64/740864/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cf5b33bb230af76431659cd01ada0d76e70b9f85,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fopenstack-doc-tools~master~If6e2e6b38050133d0ca58d74b2b79186cca287a6,openstack/openstack-doc-tools,master,If6e2e6b38050133d0ca58d74b2b79186cca287a6,migrate testing to ubuntu focal,ABANDONED,2020-07-14 05:40:11.000000000,2020-08-06 15:05:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 05:40:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/17267b02723a5e732a3ec59dbbc50a4b283aef32', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: If6e2e6b38050133d0ca58d74b2b79186cca287a6\n'}]",0,740871,17267b02723a5e732a3ec59dbbc50a4b283aef32,5,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: If6e2e6b38050133d0ca58d74b2b79186cca287a6
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/71/740871/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,17267b02723a5e732a3ec59dbbc50a4b283aef32,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,1
openstack%2Fcookiecutter~master~If10bc6cb10c8cd26bb7ea7a071d9f0e4f34235b5,openstack/cookiecutter,master,If10bc6cb10c8cd26bb7ea7a071d9f0e4f34235b5,Fix docs whitespace,MERGED,2020-07-23 12:55:13.000000000,2020-08-06 15:03:38.000000000,2020-08-06 15:03:38.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-23 12:55:13.000000000', 'files': ['{{cookiecutter.repo_name}}/README.rst', '{{cookiecutter.repo_name}}/CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/f1036368c74de9e57ab8ff19c3c28058fe4bc33c', 'message': 'Fix docs whitespace\n\nToo aggressive trimming caused lines and indents to go lost.\nThis patch makes docs whitespace just right (TM).\n\nChange-Id: If10bc6cb10c8cd26bb7ea7a071d9f0e4f34235b5\n'}]",0,742659,f1036368c74de9e57ab8ff19c3c28058fe4bc33c,7,4,1,30491,,,0,"Fix docs whitespace

Too aggressive trimming caused lines and indents to go lost.
This patch makes docs whitespace just right (TM).

Change-Id: If10bc6cb10c8cd26bb7ea7a071d9f0e4f34235b5
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/59/742659/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/README.rst', '{{cookiecutter.repo_name}}/CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/doc/source/contributor/contributing.rst']",3,f1036368c74de9e57ab8ff19c3c28058fe4bc33c,fix-docs-whitespace,{% if cookiecutter.bug_tracker == 'Launchpad' %}{% elif cookiecutter.bug_tracker == 'Storyboard' %}{% endif %}, {% if cookiecutter.bug_tracker == 'Launchpad' -%}{%- elif cookiecutter.bug_tracker == 'Storyboard' -%}{%- endif %} ,9,13
openstack%2Fkolla-ansible~master~I17234000f62409f4b4b8677d4ee1ce7c2d24e18e,openstack/kolla-ansible,master,I17234000f62409f4b4b8677d4ee1ce7c2d24e18e,[WIP] Fix looped notifies and optimize further,ABANDONED,2020-07-31 15:55:27.000000000,2020-08-06 14:53:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-31 15:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d86c2261ea456b3fac114481462e4aa6408b5e2b', 'message': ""[WIP] Fix looped notifies and optimize further\n\nThis fixes the bug we had since Train.\nAnsible has a quirk that notifying on any loop iteration would trigger\nthe notify for all the iterations.\nThis caused services to get restarted more often than really needed.\n\nFurthermore, the proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nFinally, we get nice refactoring and lose the need to have notifies\nand whens in config and handler sections respectively.\nThis might fix some hidden bugs where the check tasks forgot to\ninclude params important for the service.\n\nIt is necessary to run the new role by including it as otherwise loops\nare not compatible.\nSince loops and includes are costly, we might manually optimize that\nsimilarly to how handlers are usually done - one task (import_role\nin here) per service that we care about - though this would now\ngenerate more skipped tasks (no filtering).\nAnother optimization could be to merge the two checks in one action -\nto avoid the introduced potential skip.\n\nNote this patch builds upon genconfig optimization and it takes it\nfurther by not having genconfig ever touch the handlers!\n\nOh, and this gets us closer to the single responsibility principle -\nconfig only generates the config, container checks only validate\nwhether container restart is needed.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n- optimize config by doing local generation and mass rsync\n- support for reloads\n- unconditional restart/reload (separate action)\n\nWIP: PoC for Neutron to let you validate the approach.\n\nChange-Id: I17234000f62409f4b4b8677d4ee1ce7c2d24e18e\nCloses-Bug: #1863510\nCloses-Bug: the-one-with-config-in-place\n""}, {'number': 2, 'created': '2020-07-31 16:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8495d3a91ac5422ff42485067e6729ed7729865', 'message': ""[WIP] Fix looped notifies and optimize further\n\nThis fixes the bug we had since Train.\nAnsible has a quirk that notifying on any loop iteration would trigger\nthe notify for all the iterations.\nThis caused services to get restarted more often than really needed.\n\nFurthermore, the proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would generally do what we expected rather than being a noop\nin the second part.\n\nFinally, we get nice refactoring and lose the need to have notifies\nand whens in config and handler sections respectively.\nThis might fix some hidden bugs where the check tasks forgot to\ninclude params important for the service.\n\nIt is necessary to run the new role by including it as otherwise loops\nare not compatible.\nSince loops and includes are costly, we might manually optimize that\nsimilarly to how handlers are usually done - one task (import_role\nin here) per service that we care about - though this would now\ngenerate more skipped tasks (no filtering).\nAnother optimization could be to merge the two checks in one action -\nto avoid the introduced potential skip.\n\nNote this patch builds upon genconfig optimization and it takes it\nfurther by not having genconfig ever touch the handlers!\n\nOh, and this gets us closer to the single responsibility principle -\nconfig only generates the config, container checks only validate\nwhether container restart is needed.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n- optimize config by doing local generation and mass rsync\n- support for reloads\n- unconditional restart/reload (separate action)\n- make 'reconfigure' act like 'genconfig' + 'deploy-containers'\n  - this would avoid calling bootstrapping each time but might\n    be tricky as it would break current compatibility\n  - could call this 'reconfigure-containers' and deprecate\n    'reconfigure'\n\nWIP: PoC for Neutron to let you validate the approach.\n\nCloses-Bug: #1863510\nCloses-Bug: the-one-with-config-in-place\nPartially-Implements: blueprint performance-improvements\nChange-Id: I17234000f62409f4b4b8677d4ee1ce7c2d24e18e\n""}, {'number': 3, 'created': '2020-08-01 17:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b01bc882c320f1a49ceff9ac75e16872e4ff1950', 'message': ""[WIP] Fix looped notifies and optimize further\n\nThis fixes the bug we had since Train.\nAnsible has a quirk that notifying on any loop iteration would trigger\nthe notify for all the iterations.\nThis caused services to get restarted more often than really needed.\n\nFurthermore, the proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would generally do what we expected rather than being a noop\nin the second part.\n\nFinally, we get nice refactoring and lose the need to have notifies\nand whens in config and handler sections respectively.\nThis might fix some hidden bugs where the check tasks forgot to\ninclude params important for the service.\n\nWe also get a little optimization by using filtered loop instead of\ntask skipping per service.\n\nIt is necessary to run the new role by including it as otherwise loops\nare not compatible.\nSince loops and includes are costly, we might manually optimize that\nsimilarly to how handlers are usually done - one task (import_role\nin here) per service that we care about - though this would now\ngenerate more skipped tasks (no filtering).\nAnother optimization could be to merge the two checks in one action -\nto avoid the introduced potential skip.\n\nNote this patch builds upon genconfig optimization and it takes it\nfurther by not having genconfig ever touch the handlers!\n\nOh, and this gets us closer to the single responsibility principle -\nconfig only generates the config, container checks only validate\nwhether container restart is needed.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n- optimize config by doing local generation and mass rsync\n- support for reloads\n- unconditional restart/reload (separate action)\n- make 'reconfigure' act like 'genconfig' + 'deploy-containers'\n  - this would avoid calling bootstrapping each time but might\n    be tricky as it would break current compatibility\n  - could call this 'reconfigure-containers' and deprecate\n    'reconfigure'\n\nWIP: PoC for Neutron to let you validate the approach.\n\nCloses-Bug: #1863510\nCloses-Bug: the-one-with-config-in-place\nPartially-Implements: blueprint performance-improvements\nChange-Id: I17234000f62409f4b4b8677d4ee1ce7c2d24e18e\n""}, {'number': 4, 'created': '2020-08-01 17:33:21.000000000', 'files': ['ansible/roles/service-check-containers/tasks/check-service.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/service-check-containers/tasks/main.yml', 'ansible/roles/neutron/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f084e4cf37f178b1de8cfeedc93cd133b30d195', 'message': ""[WIP] Fix looped notifies and optimize further\n\nThis fixes the bug we had since Train.\nAnsible has a quirk that notifying on any loop iteration would trigger\nthe notify for all the iterations.\nThis caused services to get restarted more often than really needed.\n\nFurthermore, the proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would generally do what we expected rather than being a noop\nin the second part.\n\nFinally, we get nice refactoring and lose the need to have notifies\nand whens in config and handler sections respectively.\nThis might fix some hidden bugs where the check tasks forgot to\ninclude params important for the service.\n\nWe also get a little optimization by using filtered loop instead of\ntask skipping per service.\n\nIt is necessary to run the new role by including it as otherwise loops\nare not compatible.\nSince loops and includes are costly, we might manually optimize that\nsimilarly to how handlers are usually done - one task (import_role\nin here) per service that we care about - though this would now\ngenerate more skipped tasks (no filtering).\nAnother optimization could be to merge the two checks in one action -\nto avoid the introduced potential skip.\n\nNote this patch builds upon genconfig optimization and it takes it\nfurther by not having genconfig ever touch the handlers!\n\nOh, and this gets us closer to the single responsibility principle -\nconfig only generates the config, container checks only validate\nwhether container restart is needed.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n- optimize config by doing local generation and mass rsync\n- support for reloads\n- unconditional restart/reload (separate action)\n- make 'reconfigure' act like 'genconfig' + 'deploy-containers'\n  - this would avoid calling bootstrapping each time but might\n    be tricky as it would break current compatibility\n  - could call this 'reconfigure-containers' and deprecate\n    'reconfigure'\n\nWIP: PoC for Neutron to let you validate the approach.\n\nCloses-Bug: #1863510\nCloses-Bug: the-one-with-config-in-place\nPartially-Implements: blueprint performance-improvements\nChange-Id: I17234000f62409f4b4b8677d4ee1ce7c2d24e18e\n""}]",3,744207,1f084e4cf37f178b1de8cfeedc93cd133b30d195,19,3,4,30491,,,0,"[WIP] Fix looped notifies and optimize further

This fixes the bug we had since Train.
Ansible has a quirk that notifying on any loop iteration would trigger
the notify for all the iterations.
This caused services to get restarted more often than really needed.

Furthermore, the proposed approach allows for checking whether config
files are current, e.g. cases when the deployment was aborted after
config files were generated but before they were injected into the
containers which lead to old config staying in containers.

After this patch we can do:
  kolla-ansible genconfig
  kolla-ansible deploy-containers
and it would generally do what we expected rather than being a noop
in the second part.

Finally, we get nice refactoring and lose the need to have notifies
and whens in config and handler sections respectively.
This might fix some hidden bugs where the check tasks forgot to
include params important for the service.

We also get a little optimization by using filtered loop instead of
task skipping per service.

It is necessary to run the new role by including it as otherwise loops
are not compatible.
Since loops and includes are costly, we might manually optimize that
similarly to how handlers are usually done - one task (import_role
in here) per service that we care about - though this would now
generate more skipped tasks (no filtering).
Another optimization could be to merge the two checks in one action -
to avoid the introduced potential skip.

Note this patch builds upon genconfig optimization and it takes it
further by not having genconfig ever touch the handlers!

Oh, and this gets us closer to the single responsibility principle -
config only generates the config, container checks only validate
whether container restart is needed.

Future work:
- optimize for large files
  - could we get away with comparing timestamps and sizes?
    container's should have a newer timestamp due to copy,
    could also preserve it
- optimize config by doing local generation and mass rsync
- support for reloads
- unconditional restart/reload (separate action)
- make 'reconfigure' act like 'genconfig' + 'deploy-containers'
  - this would avoid calling bootstrapping each time but might
    be tricky as it would break current compatibility
  - could call this 'reconfigure-containers' and deprecate
    'reconfigure'

WIP: PoC for Neutron to let you validate the approach.

Closes-Bug: #1863510
Closes-Bug: the-one-with-config-in-place
Partially-Implements: blueprint performance-improvements
Change-Id: I17234000f62409f4b4b8677d4ee1ce7c2d24e18e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/744207/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/service-check-container/tasks/main.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/neutron/tasks/check-containers.yml']",4,d86c2261ea456b3fac114481462e4aa6408b5e2b,bug/1863510,"- include_role: name: service-check-container vars: service_name: ""{{ item.key }}"" service: ""{{ item.value }}"" with_dict: ""{{ neutron_services | select_services_enabled_and_mapped_to_host }}""","- name: Check neutron containers become: true kolla_docker: action: ""compare_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ item.value.container_name }}"" image: ""{{ item.value.image }}"" privileged: ""{{ item.value.privileged | default(False) }}"" volumes: ""{{ item.value.volumes }}"" dimensions: ""{{ item.value.dimensions }}"" when: - item.value.enabled | bool - item.value.host_in_groups | bool with_dict: ""{{ neutron_services }}"" notify: - ""Restart {{ item.key }} container""",44,80
openstack%2Fos-vif~master~I567afb544425c1b91d98968a0b597be718869089,openstack/os-vif,master,I567afb544425c1b91d98968a0b597be718869089,support pyroute2 0.5.13,MERGED,2020-08-05 00:13:01.000000000,2020-08-06 14:48:34.000000000,2020-08-06 14:45:41.000000000,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2020-08-05 00:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/db96e97c9df894fca4172b0deb994a56372fae1f', 'message': 'support pyroute2 0.5.13\n\nThis change modifes os-vif add interface to account\nfor the new behavior of link_lookup.\nIn 0.5.13 if a link is not found link_lookup returns an\nempty list. In previous releases it raised ipexc.NetlinkError.\n\nCloses_bug: #1890353\n\nChange-Id: I567afb544425c1b91d98968a0b597be718869089\n'}, {'number': 2, 'created': '2020-08-05 00:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/37895572127539882a7bc94db92c3de9bfdb435c', 'message': 'support pyroute2 0.5.13\n\nThis change modifes os-vif add interface to account\nfor the new behavior of link_lookup.\nIn 0.5.13 if a link is not found link_lookup returns an\nempty list. In previous releases it raised ipexc.NetlinkError.\n\nCloses-bug: #1890353\n\nChange-Id: I567afb544425c1b91d98968a0b597be718869089\n'}, {'number': 3, 'created': '2020-08-05 14:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b9431538ab415c3ccdb4fa941aabb334353f0183', 'message': 'support pyroute2 0.5.13\n\nThis change modifes os-vif add interface to account\nfor the new behavior of link_lookup.\nIn 0.5.13 if a link is not found link_lookup returns an\nempty list. In previous releases it raised ipexc.NetlinkError.\n\nCloses-bug: #1890353\n\nChange-Id: I567afb544425c1b91d98968a0b597be718869089\n'}, {'number': 4, 'created': '2020-08-06 11:21:42.000000000', 'files': ['os_vif/internal/ip/linux/impl_pyroute2.py', 'os_vif/tests/unit/internal/ip/linux/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c8703df185ae3a3445e1e3368ee3229f485b85d9', 'message': 'support pyroute2 0.5.13\n\nThis change modifes os-vif add interface to account\nfor the new behavior of link_lookup.\nIn 0.5.13 if a link is not found link_lookup returns an\nempty list. In previous releases it raised ipexc.NetlinkError.\n\nCloses-bug: #1890353\n\nChange-Id: I567afb544425c1b91d98968a0b597be718869089\n'}]",6,744809,c8703df185ae3a3445e1e3368ee3229f485b85d9,26,7,4,11604,,,0,"support pyroute2 0.5.13

This change modifes os-vif add interface to account
for the new behavior of link_lookup.
In 0.5.13 if a link is not found link_lookup returns an
empty list. In previous releases it raised ipexc.NetlinkError.

Closes-bug: #1890353

Change-Id: I567afb544425c1b91d98968a0b597be718869089
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/09/744809/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/internal/ip/linux/impl_pyroute2.py', 'os_vif/tests/unit/internal/ip/linux/test_impl_pyroute2.py']",2,db96e97c9df894fca4172b0deb994a56372fae1f,bug/1890353," self.assertRaises( exception.NetworkInterfaceNotFound, self.ip.add, self.DEVICE, self.TYPE_VLAN, peer='peer', check_exit_code=[self.OTHER_ERROR_CODE])"," self.assertRaises(ipexc.NetlinkError, self.ip.add, self.DEVICE, self.TYPE_VLAN, peer='peer', check_exit_code=[self.OTHER_ERROR_CODE])",9,4
openstack%2Fansible-role-collect-logs~master~Ife5061c5dc02b665ca3579ba48149deb1678b25f,openstack/ansible-role-collect-logs,master,Ife5061c5dc02b665ca3579ba48149deb1678b25f,add provision failures in deployment,MERGED,2020-08-05 15:49:28.000000000,2020-08-06 14:40:07.000000000,2020-08-06 14:40:07.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 15:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e07719c5ed972e14284741c3c7b148b42851a794', 'message': 'add provision failures in deployment\n\nChange-Id: Ife5061c5dc02b665ca3579ba48149deb1678b25f\n'}, {'number': 2, 'created': '2020-08-06 06:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e25d12a363a43c41ebd44f8423325b8c7202aa1c', 'message': 'add provision failures in deployment\n\nChange-Id: Ife5061c5dc02b665ca3579ba48149deb1678b25f\n'}, {'number': 3, 'created': '2020-08-06 07:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ea9e453d40337abed078d088b08a9f4586083a4b', 'message': 'add provision failures in deployment\n\nChange-Id: Ife5061c5dc02b665ca3579ba48149deb1678b25f\n'}, {'number': 4, 'created': '2020-08-06 11:18:49.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b8115108eaed02dce73a0cd4d34b60b07923f85a', 'message': 'add provision failures in deployment\n\nChange-Id: Ife5061c5dc02b665ca3579ba48149deb1678b25f\n'}]",0,744931,b8115108eaed02dce73a0cd4d34b60b07923f85a,12,2,4,9592,,,0,"add provision failures in deployment

Change-Id: Ife5061c5dc02b665ca3579ba48149deb1678b25f
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/31/744931/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,e07719c5ed972e14284741c3c7b148b42851a794,newpattern," - id: 531 logstash: ""FATAL | Provision instances"" msg: ""failed to provision nodes"" tag: ""infra""",,4,0
openstack%2Fansible-role-collect-logs~master~I930f923abe2829d8028e4f9aca8e95a9da1c9a45,openstack/ansible-role-collect-logs,master,I930f923abe2829d8028e4f9aca8e95a9da1c9a45,Added sova pattern for failed containers,MERGED,2020-08-04 11:58:26.000000000,2020-08-06 14:38:08.000000000,2020-08-06 14:38:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 11:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/468013eaa6b644ad65717909f5adde8addc89735', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-04 12:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/45582e597949c905631c9fe0d88aa190dee8204a', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-05 02:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9095d1ccacce45929ac4b7ac84c53e95b1b6fc5a', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-05 02:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b2415a2277bbd6c1b0dbca7d7799178933a718c0', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-08-05 10:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/bc6d0762f1fb107e56ea515164a2e3b0ddceafde', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-08-05 13:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/60edca35280283cedc9adf2d51410a5983aafdfd', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-08-05 17:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/fb19a7eecedbe57c7f96e3c3de4180eacff8ef6e', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-08-06 11:18:49.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/bcf90b7d61db33c8caa41107a4de154083502984', 'message': 'Added sova pattern for failed containers\n\nMany times standalone and overcloud deployment failed due to\nfollowing errors:\n""msg"": ""Failed container(s): [\'<container name>\'],\ncheck logs in /var/log/containers/stdouts/"".\n\nIt would be good to track these error in sova pattern\nfor easier debugging.\n\nChange-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",13,744688,bcf90b7d61db33c8caa41107a4de154083502984,28,5,8,12393,,,0,"Added sova pattern for failed containers

Many times standalone and overcloud deployment failed due to
following errors:
""msg"": ""Failed container(s): ['<container name>'],
check logs in /var/log/containers/stdouts/"".

It would be good to track these error in sova pattern
for easier debugging.

Change-Id: I930f923abe2829d8028e4f9aca8e95a9da1c9a45
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/88/744688/8 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,468013eaa6b644ad65717909f5adde8addc89735,newpattern," - id: 92 msg: ""overcloud failed"" pattern: ""check logs in /var/log/containers/stdouts/"" tag: ""code"" logstash: ""Failed container(s):""",,5,0
openstack%2Fkolla-ansible~master~Iec864560ddc213655bffa23f8b1129e661a8a6e1,openstack/kolla-ansible,master,Iec864560ddc213655bffa23f8b1129e661a8a6e1,Get distro_python_version from kolla_toolbox,ABANDONED,2020-08-05 16:05:51.000000000,2020-08-06 14:20:20.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-08-05 16:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb98697166de6b963812fd2feae91bb2ecc1122b', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 2, 'created': '2020-08-05 17:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40ab9aa6416c864765037b347d03338f7a0603b1', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 3, 'created': '2020-08-05 18:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aeef48c8d4d80df680cc06c7b6d4576d772b6553', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 4, 'created': '2020-08-05 18:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/199c0355c26d4a52e67a5b571ef0cdbdbd6fbe12', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 5, 'created': '2020-08-05 18:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e3f9ce7af163ff1eb4736c17f173bba4c76f532', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 6, 'created': '2020-08-06 06:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9391585d578aac0d3d53598c7a47e82a174c90a0', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 7, 'created': '2020-08-06 07:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68c6973881ca4537bfd979e204c491eeaea7f006', 'message': 'WIP: Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}, {'number': 8, 'created': '2020-08-06 09:08:39.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2d54efb74d31147af9ade7fa896dba72408ca6d', 'message': 'Get distro_python_version from kolla_toolbox\n\nChange-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1\n'}]",0,744938,e2d54efb74d31147af9ade7fa896dba72408ca6d,17,3,8,22629,,,0,"Get distro_python_version from kolla_toolbox

Change-Id: Iec864560ddc213655bffa23f8b1129e661a8a6e1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/744938/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/common/tasks/config.yml']",2,cb98697166de6b963812fd2feae91bb2ecc1122b,distro_python_simplification,"- name: Running kolla_toolbox container to set distro_python_version vars: service_name: ""kolla-toolbox"" service: ""{{ common_services[service_name] }}"" become: true kolla_docker: action: ""start_container"" common_options: ""{{ docker_common_options }}"" detach: False dimensions: ""{{ service.dimensions }}"" image: ""{{ service.image }}"" name: ""kolla_toolbox_check"" privileged: ""{{ service.privileged | default(False) }}"" volumes: ""{{ service.volumes }}"" restart_policy: no run_once: True - name: Get python version from kolla_toolbox container become: true command: docker exec kolla_toolbox_check ls /usr/bin/python?.? register: kolla_toolbox_python_version failed_when: '""/usr/bin/python"" not in kolla_toolbox_python_version.stdout' - name: Set distro_python_version set_fact: distro_python_version: ""{{ kolla_toolbox_python_version.stdout }}"" ",,27,12
openstack%2Fdevstack-plugin-ceph~master~I288b08279311991a79fdad25e43a51366de7876d,openstack/devstack-plugin-ceph,master,I288b08279311991a79fdad25e43a51366de7876d,"Set Ceph ISCSI tempest storage protocol to ""iSCSI""",MERGED,2020-07-27 06:58:52.000000000,2020-08-06 13:59:32.000000000,2020-08-06 13:58:16.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2020-07-27 06:58:52.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/fd628e45304ae3150bc671ddbff0fd46a61ad340', 'message': 'Set Ceph ISCSI tempest storage protocol to ""iSCSI""\n\nWe are using iSCSI protocol to operate the volume, instead of ceph\nin that case. The storage protocol ceph is used as Ceph RBD.\n\nChange-Id: I288b08279311991a79fdad25e43a51366de7876d\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,743156,fd628e45304ae3150bc671ddbff0fd46a61ad340,11,5,1,22076,,,0,"Set Ceph ISCSI tempest storage protocol to ""iSCSI""

We are using iSCSI protocol to operate the volume, instead of ceph
in that case. The storage protocol ceph is used as Ceph RBD.

Change-Id: I288b08279311991a79fdad25e43a51366de7876d
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/56/743156/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,fd628e45304ae3150bc671ddbff0fd46a61ad340,,"if [ ""$ENABLE_CEPH_ISCSI"" = ""True"" ]; then TEMPEST_STORAGE_PROTOCOL=iSCSI else TEMPEST_STORAGE_PROTOCOL=ceph fi",TEMPEST_STORAGE_PROTOCOL=ceph,5,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~If0c0ed9a44a51cf367fd060c77e10055f367694c,openstack/python-tripleoclient,stable/train,If0c0ed9a44a51cf367fd060c77e10055f367694c,Remove ffwd-upgrade commands from tripleoclient.,MERGED,2020-07-21 16:42:52.000000000,2020-08-06 13:56:32.000000000,2020-08-06 13:54:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-21 16:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/90a17283a085702d688c7b4785f71c9025dc0576', 'message': 'Remove ffwd-upgrade commands from tripleoclient.\n\nNow that the FFU process relies on the openstack overcloud upgrade\ncommands there is no need to keep the old ffwd-upgrade command\navailable.\n\nThis patch removes the three ffwd-upgrade (run, prepare and converge)\nas well as their tests, utils functions and constants.\n\nChange-Id: If0c0ed9a44a51cf367fd060c77e10055f367694c\n(cherry picked from commit 8e7331098eafb3766b53a17991dfc6a0416bc543)\n(cherry picked from commit 5cf56172804738116c17989c1b569a51c3a2e779)\n'}, {'number': 2, 'created': '2020-07-23 14:42:10.000000000', 'files': ['tripleoclient/constants.py', 'releasenotes/notes/remove_ffwd-upgrade_commands-579f885957f02863.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/__init__.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c8086ff69738b58af83a6d04662a4cf098d2940', 'message': 'Remove ffwd-upgrade commands from tripleoclient.\n\nNow that the FFU process relies on the openstack overcloud upgrade\ncommands there is no need to keep the old ffwd-upgrade command\navailable.\n\nThis patch removes the three ffwd-upgrade (run, prepare and converge)\nas well as their tests, utils functions and constants.\n\nChange-Id: If0c0ed9a44a51cf367fd060c77e10055f367694c\n(cherry picked from commit 8e7331098eafb3766b53a17991dfc6a0416bc543)\n(cherry picked from commit 5cf56172804738116c17989c1b569a51c3a2e779)\n'}]",0,742246,6c8086ff69738b58af83a6d04662a4cf098d2940,24,10,2,26343,,,0,"Remove ffwd-upgrade commands from tripleoclient.

Now that the FFU process relies on the openstack overcloud upgrade
commands there is no need to keep the old ffwd-upgrade command
available.

This patch removes the three ffwd-upgrade (run, prepare and converge)
as well as their tests, utils functions and constants.

Change-Id: If0c0ed9a44a51cf367fd060c77e10055f367694c
(cherry picked from commit 8e7331098eafb3766b53a17991dfc6a0416bc543)
(cherry picked from commit 5cf56172804738116c17989c1b569a51c3a2e779)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/742246/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'releasenotes/notes/remove_ffwd-upgrade_commands-579f885957f02863.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/__init__.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py']",8,90a17283a085702d688c7b4785f71c9025dc0576,ffwd-upgrade2-stable/train,,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import mock from osc_lib.tests import utils from tripleoclient.tests import fakes class FakeClientWrapper(object): def __init__(self): self._instance = mock.Mock() self.object_store = FakeObjectClient() def messaging_websocket(self, queue=""tripleo""): return fakes.FakeWebSocket() class FakeObjectClient(object): def __init__(self): self._instance = mock.Mock() self.put_object = mock.Mock() def get_object(self, *args): return class TestFFWDUpgradePrepare(utils.TestCommand): def setUp(self): super(TestFFWDUpgradePrepare, self).setUp() self.app.client_manager.auth_ref = mock.Mock(auth_token=""TOKEN"") self.app.client_manager.baremetal = mock.Mock() self.app.client_manager.orchestration = mock.Mock() self.app.client_manager.tripleoclient = FakeClientWrapper() workflow = execution = mock.Mock() execution.id = ""IDID"" workflow.executions.create.return_value = execution self.app.client_manager.workflow_engine = workflow get_key = mock.patch('tripleoclient.utils.get_key') get_key.start() get_key.return_value = 'keyfile-path' self.addCleanup(get_key.stop) class TestFFWDUpgradeRun(utils.TestCommand): def setUp(self): super(TestFFWDUpgradeRun, self).setUp() self.app.client_manager.auth_ref = mock.Mock(auth_token=""TOKEN"") self.app.client_manager.tripleoclient = FakeClientWrapper() self.app.client_manager.workflow_engine = mock.Mock() self.app.client_manager.orchestration = mock.Mock() class TestFFWDUpgradeConverge(utils.TestCommand): def setUp(self): super(TestFFWDUpgradeConverge, self).setUp() self.app.client_manager.auth_ref = mock.Mock(auth_token=""TOKEN"") self.app.client_manager.baremetal = mock.Mock() self.app.client_manager.orchestration = mock.Mock() self.app.client_manager.tripleoclient = FakeClientWrapper() workflow = execution = mock.Mock() execution.id = ""IDID"" workflow.executions.create.return_value = execution self.app.client_manager.workflow_engine = workflow ",8,604
openstack%2Fnova~master~I5c9734ee712e4c91a3c7a37291c48932ce0b575c,openstack/nova,master,I5c9734ee712e4c91a3c7a37291c48932ce0b575c,compute: As cellsv1 is no more fold _detach_volume back into detach_volume,MERGED,2020-05-28 11:52:58.000000000,2020-08-06 13:38:59.000000000,2020-08-06 13:36:59.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-28 11:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dbcfa5614063f13e900faa2fbb8fd26162724d2', 'message': 'compute: As cellsv1 is no more fold _detach_volume back into detach_volume\n\nAddressing the TODO left after the removal of cellsv1.\n\nChange-Id: I5c9734ee712e4c91a3c7a37291c48932ce0b575c\n'}, {'number': 2, 'created': '2020-07-29 12:25:35.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e9aa55455a52d35096b293445b635d03bdfdd4c', 'message': 'compute: As cellsv1 is no more fold _detach_volume back into detach_volume\n\nAddressing the TODO left after the removal of cellsv1.\n\nChange-Id: I5c9734ee712e4c91a3c7a37291c48932ce0b575c\n'}]",1,731506,3e9aa55455a52d35096b293445b635d03bdfdd4c,151,17,2,10135,,,0,"compute: As cellsv1 is no more fold _detach_volume back into detach_volume

Addressing the TODO left after the removal of cellsv1.

Change-Id: I5c9734ee712e4c91a3c7a37291c48932ce0b575c
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/731506/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,3dbcfa5614063f13e900faa2fbb8fd26162724d2,," try: self.volume_api.begin_detaching(context, volume['id']) except exception.InvalidInput as exc: raise exception.InvalidVolume(reason=exc.format_message()) attachments = volume.get('attachments', {}) attachment_id = None if attachments and instance.uuid in attachments: attachment_id = attachments[instance.uuid]['attachment_id'] self._record_action_start( context, instance, instance_actions.DETACH_VOLUME) self.compute_rpcapi.detach_volume(context, instance=instance, volume_id=volume['id'], attachment_id=attachment_id)"," # TODO(stephenfin): Fold this back in now that cells v1 no longer needs to # override it. def _detach_volume(self, context, instance, volume): """"""Detach volume from instance. This method is separated to make it easier for cells version to override. """""" try: self.volume_api.begin_detaching(context, volume['id']) except exception.InvalidInput as exc: raise exception.InvalidVolume(reason=exc.format_message()) attachments = volume.get('attachments', {}) attachment_id = None if attachments and instance.uuid in attachments: attachment_id = attachments[instance.uuid]['attachment_id'] self._record_action_start( context, instance, instance_actions.DETACH_VOLUME) self.compute_rpcapi.detach_volume(context, instance=instance, volume_id=volume['id'], attachment_id=attachment_id) self._detach_volume(context, instance, volume)",12,22
openstack%2Fpython-openstackclient~master~I30fdc6ec55e1eb1cfa55f4cbf92c3f001d89865f,openstack/python-openstackclient,master,I30fdc6ec55e1eb1cfa55f4cbf92c3f001d89865f,Add system role assignment tests for users and groups,MERGED,2020-07-09 22:10:43.000000000,2020-08-06 13:38:34.000000000,2020-08-06 13:37:03.000000000,"[{'_account_id': 2}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-09 22:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/83d6f7f3320f98449137a71558c38abb09d1be07', 'message': 'Add system role assignment tests for users and groups\n\nI was writing some additional functionality and noticed these tests were\nmissing. This commit adds tests for adding and removing system role\nassignments for users and groups.\n\nChange-Id: I30fdc6ec55e1eb1cfa55f4cbf92c3f001d89865f\n'}, {'number': 2, 'created': '2020-07-10 13:33:59.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_role.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a8aad9fec80bcb6c9917d2dd076373f06467849f', 'message': 'Add system role assignment tests for users and groups\n\nI was writing some additional functionality and noticed these tests were\nmissing. This commit adds tests for adding and removing system role\nassignments for users and groups.\n\nChange-Id: I30fdc6ec55e1eb1cfa55f4cbf92c3f001d89865f\n'}]",0,740379,a8aad9fec80bcb6c9917d2dd076373f06467849f,11,5,2,5046,,,0,"Add system role assignment tests for users and groups

I was writing some additional functionality and noticed these tests were
missing. This commit adds tests for adding and removing system role
assignments for users and groups.

Change-Id: I30fdc6ec55e1eb1cfa55f4cbf92c3f001d89865f
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/79/740379/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/identity/v3/test_role.py'],1,83d6f7f3320f98449137a71558c38abb09d1be07,," def test_role_add_user_system(self): arglist = [ '--user', identity_fakes.user_name, '--system', 'all', identity_fakes.role_name, ] if self._is_inheritance_testcase(): arglist.append('--inherited') verifylist = [ ('user', identity_fakes.user_name), ('group', None), ('system', 'all'), ('domain', None), ('project', None), ('role', identity_fakes.role_name), ('inherited', self._is_inheritance_testcase()), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'user': identity_fakes.user_id, 'system': 'all', 'os_inherit_extension_inherited': self._is_inheritance_testcase(), } # RoleManager.grant(role, user=, group=, domain=, project=) self.roles_mock.grant.assert_called_with( identity_fakes.role_id, **kwargs ) self.assertIsNone(result) def test_role_add_group_system(self): arglist = [ '--group', identity_fakes.group_name, '--system', 'all', identity_fakes.role_name, ] if self._is_inheritance_testcase(): arglist.append('--inherited') verifylist = [ ('user', None), ('group', identity_fakes.group_name), ('system', 'all'), ('domain', None), ('project', None), ('role', identity_fakes.role_name), ('inherited', self._is_inheritance_testcase()), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'group': identity_fakes.group_id, 'domain': identity_fakes.domain_id, 'os_inherit_extension_inherited': self._is_inheritance_testcase(), } # RoleManager.grant(role, user=, group=, domain=, project=) self.roles_mock.grant.assert_called_with( identity_fakes.role_id, **kwargs ) self.assertIsNone(result) def test_role_remove_user_system(self): arglist = [ '--user', identity_fakes.user_name, '--system', 'all', identity_fakes.role_name ] if self._is_inheritance_testcase(): arglist.append('--inherited') verifylist = [ ('user', identity_fakes.user_name), ('group', None), ('system', 'all'), ('domain', None), ('project', None), ('role', identity_fakes.role_name), ('inherited', self._is_inheritance_testcase()), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'user': identity_fakes.user_id, 'system': 'all', 'os_inherit_extension_inherited': self._is_inheritance_testcase(), } # RoleManager.revoke(role, user=, group=, domain=, project=) self.roles_mock.revoke.assert_called_with( identity_fakes.role_id, **kwargs ) self.assertIsNone(result) def test_role_remove_group_system(self): arglist = [ '--group', identity_fakes.group_name, '--system', 'all', identity_fakes.role_name, ] if self._is_inheritance_testcase(): arglist.append('--inherited') verifylist = [ ('user', None), ('group', identity_fakes.group_name), ('system', 'all'), ('domain', None), ('project', None), ('role', identity_fakes.role_name), ('role', identity_fakes.role_name), ('inherited', self._is_inheritance_testcase()), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'group': identity_fakes.group_id, 'system': 'all', 'os_inherit_extension_inherited': self._is_inheritance_testcase(), } # RoleManager.revoke(role, user=, group=, domain=, project=) self.roles_mock.revoke.assert_called_with( identity_fakes.role_id, **kwargs ) self.assertIsNone(result) ",,137,0
openstack%2Fproject-config~master~If4cf74bd5bf30a5436791fb4ebcf2a35006dbc8f,openstack/project-config,master,If4cf74bd5bf30a5436791fb4ebcf2a35006dbc8f,Mirror keystone-kerberos and ceph-iscsi charms to GitHub,MERGED,2020-08-05 11:54:53.000000000,2020-08-06 13:34:27.000000000,2020-08-06 13:34:27.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e34fb13b28379d24a467283fe8b88976c872bd9e', 'message': 'Mirror keystone-kerberos and ceph-iscsi charms to GitHub\n\nChange-Id: If4cf74bd5bf30a5436791fb4ebcf2a35006dbc8f\n'}, {'number': 2, 'created': '2020-08-05 13:29:49.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b31161cc4c3d0de625e33fd9b5e904e90ab2745d', 'message': 'Mirror keystone-kerberos and ceph-iscsi charms to GitHub\n\nMirror also corresponding interfaces.\n\nChange-Id: If4cf74bd5bf30a5436791fb4ebcf2a35006dbc8f\n'}]",0,744890,b31161cc4c3d0de625e33fd9b5e904e90ab2745d,10,3,2,31289,,,0,"Mirror keystone-kerberos and ceph-iscsi charms to GitHub

Mirror also corresponding interfaces.

Change-Id: If4cf74bd5bf30a5436791fb4ebcf2a35006dbc8f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/744890/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,e34fb13b28379d24a467283fe8b88976c872bd9e,keystone-kerberos-ceph-iscsi-github-mirror, name: openstack/charm-ceph-iscsi templates: - official-openstack-repo-jobs - project: name: openstack/charm-keystone-kerberos templates: - official-openstack-repo-jobs - project:,,10,0
openstack%2Ftripleo-docs~master~If071e950bf47e9b9e61c3a77a1c3d9f3b550d24f,openstack/tripleo-docs,master,If071e950bf47e9b9e61c3a77a1c3d9f3b550d24f,Remove outdated tls_everywhere documentation,MERGED,2020-06-23 20:34:21.000000000,2020-08-06 13:27:56.000000000,2020-08-06 13:24:47.000000000,"[{'_account_id': 7353}, {'_account_id': 9954}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 20:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/640a70e3cc5cad408f74d7c4937d704b86deea3e', 'message': ""Remove outdated tls_everywhere documentation\n\nThis commit removes the tls_everywhere.rst file, which contained\ndirections for deploying TLS-everywhere with novajoin. We've since\nconsolidated the directions into a new document (tls-everywhere.rst)\nbecause novajoin is being replaced by tripleo-ipa.\n\nChange-Id: If071e950bf47e9b9e61c3a77a1c3d9f3b550d24f\n""}, {'number': 2, 'created': '2020-07-16 17:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7a957bc01efa3a43de988f45973d6013cf51255d', 'message': ""Remove outdated tls_everywhere documentation\n\nThis commit removes the tls_everywhere.rst file, which contained\ndirections for deploying TLS-everywhere with novajoin. We've since\nconsolidated the directions into a new document (tls-everywhere.rst)\nbecause novajoin is being replaced by tripleo-ipa.\n\nChange-Id: If071e950bf47e9b9e61c3a77a1c3d9f3b550d24f\n""}, {'number': 3, 'created': '2020-08-04 15:56:57.000000000', 'files': ['deploy-guide/source/features/domain_specific_ldap_backends.rst', 'deploy-guide/source/features/ipsec.rst', 'deploy-guide/source/features/ssl.rst', 'deploy-guide/source/features/tls_everywhere.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0838b1c9bf549c60e2842f75c917306c61d8e679', 'message': ""Remove outdated tls_everywhere documentation\n\nThis commit removes the tls_everywhere.rst file, which contained\ndirections for deploying TLS-everywhere with novajoin. We've since\nconsolidated the directions into a new document (tls-everywhere.rst)\nbecause novajoin is being replaced by tripleo-ipa.\n\nChange-Id: If071e950bf47e9b9e61c3a77a1c3d9f3b550d24f\n""}]",0,737623,0838b1c9bf549c60e2842f75c917306c61d8e679,13,5,3,5046,,,0,"Remove outdated tls_everywhere documentation

This commit removes the tls_everywhere.rst file, which contained
directions for deploying TLS-everywhere with novajoin. We've since
consolidated the directions into a new document (tls-everywhere.rst)
because novajoin is being replaced by tripleo-ipa.

Change-Id: If071e950bf47e9b9e61c3a77a1c3d9f3b550d24f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/23/737623/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/domain_specific_ldap_backends.rst', 'deploy-guide/source/features/ipsec.rst', 'deploy-guide/source/features/ssl.rst', 'deploy-guide/source/features/tls_everywhere.rst']",4,640a70e3cc5cad408f74d7c4937d704b86deea3e,tls-documentation-rewrite,,"TLS everywhere for the overcloud -------------------------------- It is possible to deploy most of the services to use TLS for communications in the internal network as well. This, however, needs several more certificates than the public approach, with the number being dependant on the number of nodes in your deployment. This complicates certificate and key management to the extent where it's not sustainable to have the deployer inject all the certificates and keys needed and then have to handle all their lifecycles. Then, we have to take into account that a certificate revocation might be needed at some point. So, from both the maintenance and security standpoints this is not sustainable. For the aforementioned reasons, we decided to rely on `certmonger`_ to get the certificates from an actual CA. Certmonger will do the certificate requests and do the certificate renewals when it's needed, thus reducing the maintenance burden. FreeIPA has been chosen as the default CA. Certmonger already has a plugin for it, and it has the added value that, besides being able to automatically provide the certificates we need, we can also keep track of the nodes and have an identity for them. .. note:: The default CA can be overridden via the **CertmongerCA** parameter. However, the CA has to be something that certmonger understands, so there are adjustments to be done. For more information on how to change it you can consult the `certmonger`_ documentation Communicating with the CA (FreeIPA) requires the nodes to have proper credentials, and these credentials also need to be transported into the overcloud nodes in a secure manner. To address this, we use a `Nova vendordata plugin`_ called `novajoin`_ whose purpose is to detect the nodes that are created by nova, register or join them in FreeIPA and provide an OTP that the node can subsequently use to enroll to FreeIPA. The node subsequently enrolls by loading the vendordata-provided JSON via the config-drive, which ends up executing a cloud-init script to do this. With the node enrolled, certificates can be requested securely. Novajoin can also receive extra entries from nova metadata to create extra principals that the services will need. These create service principals for services such as httpd, mysql and haproxy, and are used to requests the certificates for the specific service users with the correct SubjectAltNames. The following are instructions assuming the default CA, which is FreeIPA. CA installation ~~~~~~~~~~~~~~~ As mentioned before, the default CA is FreeIPA. Due to port conflicts between FreeIPA and some OpenStack services, it's not trivial to install it in the undercloud. On the other hand, often folks already have a FreeIPA server installed on-premise. To have a minimal FreeIPA installation with the required functionalities for TLS everywhere in TripleO, you can run the following command:: ipa-server-install -U -r `hostname -d|tr ""[a-z]"" ""[A-Z]""` \ -p $DirectoryManagerPassword -a $AdminPassword \ --hostname `hostname -f` \ --ip-address=$FreeIPAIP \ --setup-dns --auto-forwarders --auto-reverse There are several things to note from the aforementioned command: * This command assumes that your kerberos realm is the same as your host's domain name. This is a fairly normal setup, but note that it's possible to use different values. * The $DirectoryManagerPassword and $AdminPassword don't need to be the same. However, please remember $AdminPassword since it's what you will use in a subsequent command to set up the undercloud. * $FreeIPAIP needs to be an IP address that's accessible from both the undercloud and the overcloud nodes. * We enable DNS because FreeIPA will serve as the nameserver for both the undercloud and overcloud nodes. This simplifies the installation as the nodes can autodiscover FreeIPA's capabilities (for enrollment and for the CA) through DNS. * Assuming the FreeIPA node has working DNS, setting the ``--auto-forwarders`` flag adds the node's configured nameservers and forwards DNS queries to them if needed. Note that you can also specify manually the forwarders for the DNS setup through the ``--forwarder`` option. .. warning:: Take special care to ensure that the $FreeIPAIP is reachable by the undercloud and overcloud nodes. This requirement is commonly overlooked or misunderstood. For more information on FreeIPA and its capabilities, please consult the `FreeIPA documentation`_ .. note:: You could also try out the `IdM container`_ as an alternative to the FreeIPA installation. Just make sure to enable DNS and follow the considerations listed above. CA setup ~~~~~~~~ The undercloud needs to be enrolled to FreeIPA, and we need to create some extra privileges/permissions to be used by the novajoin services. Assuming there's an already existing FreeIPA installation, we can use a script that comes with the python-novajoin package:: sudo novajoin-ipa-setup \ --principal admin \ --password < freeipa admin password > \ --server < freeipa server hostname > \ --realm < overcloud cloud domain in upper case > \ --domain < overcloud cloud domain > \ --hostname < undercloud hostname > \ --precreate This command will give us a One-Time Password (OTP) that we can then use for the undercloud enrollment. We can also specify the command to output the OTP into a file by using the ``--otp-file`` option. .. note:: This can be run from either the undercloud node itself or the FreeIPA node. Just note that the example provided is using the FreeIPA admin credentials. This can be done using another principal if it has the approprite permissions. Undercloud setup ~~~~~~~~~~~~~~~~ Now that we have an OTP we can either deploy or update the undercloud. The following settings in **undercloud.conf** will get the undercloud to enroll to FreeIPA and deploy novajoin:: enable_novajoin = True ipa_otp = < OTP provided by the novajoin-ipa-setup script > The undercloud fully-qualified hostname should also be set in **undercloud.conf**, since this is the host that will be used to enroll to FreeIPA. It should match the one provided in the novajoin-ipa setup script. We can set it like this:: undercloud_hostname = < undercloud FQDN > It is useful to have FreeIPA set as the DNS server since this will automatically: discover the FreeIPA server hostname, set up the Kerberos realm/domain automatically, and it will set the DNS entries of the overcloud nodes once they're deployed. We can set it in **undercloud.conf** with the following setting:: undercloud_nameservers = < FreeIPA IP > .. note:: This takes a comma-separated list, so we can set another nameserver with this configuration option. The undercloud's neutron must also use the appropriate domain that it will advertise to the overcloud nodes. Assuming we're using *example.com* as the domain for the overcloud nodes. We must set the following:: overcloud_domain_name = example.com .. note:: The value for ``overcloud_domain_name`` in **undercloud.conf** must match the value for ``CloudDomain`` that we'll set for the overcloud deployment in the following section. With these settings, do the following command to set the desired configurations and enable novajoin:: openstack undercloud install .. important:: Please make sure that the aforementioned configuration options are set in the ``[DEFAULT]`` section of **undercloud.conf** Overcloud deployment ~~~~~~~~~~~~~~~~~~~~ The TLS-everywhere setup only works with FQDNs so we need to set the appropriate entries for the overcloud endpoints as well as setting an appropriate domain for the nodes that matches the one we set for FreeIPA. We can do this by overriding some parameters via ``parameter_defaults``. Assuming that the domain for our cloud is *example.com* We'll set the following in a file we'll call **cloud-names.yaml** which we'll include in our overcloud deploy command:: parameter_defaults: CloudDomain: example.com CloudName: overcloud.example.com CloudNameInternal: overcloud.internalapi.example.com CloudNameStorage: overcloud.storage.example.com CloudNameStorageManagement: overcloud.storagemgmt.example.com CloudNameCtlplane: overcloud.ctlplane.example.com .. note:: The value for ``CloudDomain`` must match the value for ``overcloud_domain_name`` that was configured in **undercloud.conf** As with our undercloud, we also want the overcloud nodes' name server to point to FreeIPA. We can do this by setting the ``DnsServers`` parameter via parameter_defaults. You can create an environment file for it, however, since you probably are deploying with network isolation, you can already set this parameter in the **network-environment.yaml** file that's referenced in :doc:`network_isolation`. So that setting would look like this:: parameter_defaults: ... DnsServers: [""< FreeIPA IP >""] ... Remembering that optionally we can set other nameservers with this parameter. You'll also need to add set the DNS server for the ctlplane network to point to FreeIPA as described in :ref:`basic-deployment-cli-configure-namserver`. To tell the overcloud deployment to deploy the keystone endpoints (and references) using DNS names instead of IPs, we need to add the following environment to our overcloud deployment:: ~/ssl-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml Finally, to enable TLS in the internal network, we need to use the following environment:: ~/ssl-heat-templates/environments/ssl/enable-internal-tls.yaml This will set the appropriate resources that enable the certificate requests via certmonger and create the appropriate service principals for kerberos (which are used by FreeIPA). .. note:: As part of the enrollment, FreeIPA is set as a trusted CA, so we don't need to do any extra steps for this. Classic public TLS and certmonger-based internal TLS ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ **enable-internal-tls.yaml** will be used for the internal network endpoints. One can still use the **enable-tls.yaml** environment for the public endpoints if a specific certificate for the public endpoints is needed. The arguments for a deployment using injected certificates for the public endpoints, and certmonger-provided certificates for the internal endpoints look like the following:: openstack overcloud deploy \ ... -e ~/ssl-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml \ -e ~/ssl-heat-templates/environments/ssl/enable-tls.yaml \ -e ~/ssl-heat-templates/environments/ssl/enable-internal-tls.yaml \ -e ~/cloud-names.yaml Certmonger-based public and Internal TLS ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ It is also possible to get all your certificates from a CA. For this you need to include the **environments/services/haproxy-public-tls-certmonger.yaml** environment file. To do a deployment with both public and internal endpoints using certificates provided by certmonger, we would need to issue a command similar to the following:: openstack overcloud deploy \ ... -e ~/ssl-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml \ -e ~/ssl-heat-templates/environments/services/haproxy-public-tls-certmonger.yaml \ -e ~/ssl-heat-templates/environments/ssl/enable-internal-tls.yaml \ -e ~/cloud-names.yaml .. References .. _certmonger: https://pagure.io/certmonger .. _Nova vendordata plugin: https://docs.openstack.org/nova/latest/user/metadata.html#vendordata .. _novajoin: https://opendev.org/x/novajoin .. _FreeIPA documentation: https://www.freeipa.org/page/Documentation .. _IdM container: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/using_containerized_identity_management_services/ ",5,276
openstack%2Fpython-tripleoclient~stable%2Fstein~Idda6387922adeb182afd11cb0d692d1fcceff9a8,openstack/python-tripleoclient,stable/stein,Idda6387922adeb182afd11cb0d692d1fcceff9a8,Use undercloud upgrade to update all required pkgs,ABANDONED,2020-06-30 16:24:04.000000000,2020-08-06 13:26:29.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 16:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca258e8ae641ce55cc5db4c632b06b3878663c04', 'message': 'Use undercloud upgrade to update all required pkgs\n\nRather than require the end user to manually update packages prior to\nkicking off the undercloud process we can do it ourselves by\nimplementing a flag to skip the update and invoking the upgrade after\nthe packages have been updated.\n\nCloses-Bug: #1885637\nRelated-Bug: #1869776\n(cherry picked from commit 7d1b7389108ea22a68a2da17ff6bcf01ee99bd01)\n\nChange-Id: Idda6387922adeb182afd11cb0d692d1fcceff9a8\n'}, {'number': 2, 'created': '2020-07-03 23:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36c44e22fa1e19209478f8297b02fd61db3ee25a', 'message': 'Use undercloud upgrade to update all required pkgs\n\nRather than require the end user to manually update packages prior to\nkicking off the undercloud process we can do it ourselves by\nimplementing a flag to skip the update and invoking the upgrade after\nthe packages have been updated.\n\nCloses-Bug: #1885637\nRelated-Bug: #1869776\n(cherry picked from commit 7d1b7389108ea22a68a2da17ff6bcf01ee99bd01)\n\nChange-Id: Idda6387922adeb182afd11cb0d692d1fcceff9a8\n'}, {'number': 3, 'created': '2020-07-06 21:57:42.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/025fdfc5c75c0d01f001cf5e375d652730375574', 'message': 'Use undercloud upgrade to update all required pkgs\n\nRather than require the end user to manually update packages prior to\nkicking off the undercloud process we can do it ourselves by\nimplementing a flag to skip the update and invoking the upgrade after\nthe packages have been updated.\n\nCloses-Bug: #1885637\nRelated-Bug: #1869776\n(partly cherry picked from commit 7d1b7389108ea22a68a2da17ff6bcf01ee99bd01)\n\nChange-Id: Idda6387922adeb182afd11cb0d692d1fcceff9a8\n'}]",5,738662,025fdfc5c75c0d01f001cf5e375d652730375574,8,2,3,11090,,,0,"Use undercloud upgrade to update all required pkgs

Rather than require the end user to manually update packages prior to
kicking off the undercloud process we can do it ourselves by
implementing a flag to skip the update and invoking the upgrade after
the packages have been updated.

Closes-Bug: #1885637
Related-Bug: #1869776
(partly cherry picked from commit 7d1b7389108ea22a68a2da17ff6bcf01ee99bd01)

Change-Id: Idda6387922adeb182afd11cb0d692d1fcceff9a8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/738662/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",3,ca258e8ae641ce55cc5db4c632b06b3878663c04,py_upgr,"import sys @mock.patch.object(sys, 'executable', 'python2') mock_run_command.assert_called_with( ['sudo', 'yum', 'upgrade', '-y', 'python2-tripleoclient', 'openstack-tripleo-common', 'openstack-tripleo-heat-templates', 'openstack-tripleo-validations', 'tripleo-ansible'], name='Update extra packages' ) mock_subprocess.assert_called_with([ 'openstack', 'undercloud', 'upgrade', '--skip-package-updates', '--no-validations']) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) mock_run_command.assert_not_called() mock_subprocess.assert_called_with([ 'openstack', 'undercloud', 'upgrade', '--skip-package-updates', '--force-stack-update', '--no-validations', '--inflight-validations', '--dry-run', '--yes', '--debug']) # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.geteuid', return_value=1001) @mock.patch('getpass.getuser', return_value='stack') @mock.patch('shutil.copy') @mock.patch('os.mkdir') @mock.patch('tripleoclient.utils.write_env_file', autospec=True) @mock.patch('subprocess.check_call', autospec=True) @mock.patch('tripleoclient.utils.run_command', autospec=True) def test_undercloud_upgrade_no_pkgs(self, mock_run_command, mock_subprocess, mock_wr, mock_os, mock_copy, mock_user, mock_getuid): arglist = ['--no-validations', '--skip-package-updates'] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) arglist = ['--no-validations', '--skip-package-updates'] arglist = ['--no-validations', '--skip-package-updates'] mock_copy, mock_user): arglist = ['--no-validations', '-y', '--skip-package-updates'] arglist = ['--no-validations', '--skip-package-updates']"," arglist = ['--no-validations'] arglist = ['--no-validations'] mock_user, mock_copy): arglist = ['--no-validations', '-y'] arglist = ['--no-validations']",133,13
openstack%2Ftripleo-docs~master~I342a7fbea6f4d2377866c61c01cee6f399ffe30e,openstack/tripleo-docs,master,I342a7fbea6f4d2377866c61c01cee6f399ffe30e,Add documentation about cleaning up stacks with TLS-e,MERGED,2020-05-07 14:19:38.000000000,2020-08-06 13:24:46.000000000,2020-08-06 13:24:46.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28011}]","[{'number': 1, 'created': '2020-05-07 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8c9f27312e6075a5d2864443a1aa2af67a5f9f4e', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 2, 'created': '2020-05-07 14:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7fdacc79df045ec5676f9bbe8a17703175195a37', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 3, 'created': '2020-05-07 15:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3daef2b523ce7c8ebdd2608cfff27a23628b56d7', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 4, 'created': '2020-05-08 19:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7e882acb092a92305c8a134954dfc6ee9907bc83', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 5, 'created': '2020-05-08 19:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/251ab12f865195132790b7de01250c9aff824742', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 6, 'created': '2020-05-08 22:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/707ff0dc58ac96e13f87735f84212227e3f45157', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 7, 'created': '2020-05-11 15:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/474c53fe242492b0d3b02b503537787d2c760e15', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 8, 'created': '2020-05-12 13:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1b64fabd17bdc3d362f64b043bd0173623a92900', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 9, 'created': '2020-05-15 13:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/91362b5558c2931ef04fa46806525bd12960073f', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 10, 'created': '2020-05-15 14:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/75e24e2b9f3cfa51d1e9075d0529a0046ffe232f', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 11, 'created': '2020-05-19 01:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cbec1f81e65de02544efe656280a8e63ad9b940f', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 12, 'created': '2020-05-20 01:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6c17963da8ecbda3cc00f060d2ad9bdf9d3f6569', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 13, 'created': '2020-06-01 14:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/35f0c84823cb21591afff98b017642ec4ce60917', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 14, 'created': '2020-06-17 13:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4fd1e522843d8489b603cdf00b39bd0521e6503d', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 15, 'created': '2020-06-23 20:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/260bf6de6e8291dc77f447963769dc9508e49b86', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 16, 'created': '2020-07-16 17:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a05cac225f69a9235892823cc99defe17e368c7c', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}, {'number': 17, 'created': '2020-08-04 15:56:57.000000000', 'files': ['deploy-guide/source/features/tls-everywhere.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e72ff2e0e4ed61e1b2b3899b4d7b214e429000d4', 'message': 'Add documentation about cleaning up stacks with TLS-e\n\nThis commits adds documentation that describes what happens with FreeIPA\nwhen users delete overclouds.\n\nChange-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e\n'}]",7,726155,e72ff2e0e4ed61e1b2b3899b4d7b214e429000d4,45,9,17,5046,,,0,"Add documentation about cleaning up stacks with TLS-e

This commits adds documentation that describes what happens with FreeIPA
when users delete overclouds.

Change-Id: I342a7fbea6f4d2377866c61c01cee6f399ffe30e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/55/726155/16 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/tls-everywhere.rst'],1,8c9f27312e6075a5d2864443a1aa2af67a5f9f4e,tls-documentation-rewrite," Deleting Overclouds =================== The python-tripleoclient CLI clean up hosts, services, and DNS records in FreeIPA when you delete an overcloud:: $ openstack overcloud delete overcloud You can verify the hosts, services, DNS records were removed by querying FreeIPA:: $ kinit $ ipa host-find $ ipa service-find $ ipa dnsrecord-find example.com. The undercloud host, service, and DNS records are untouched when deleting overclouds. Overcloud hosts, services, and DNS records are re-added to FreeIPA during subsequent deployments. If you don't want to clean up FreeIPA when you delete your overcloud, you can use the ``openstack overcloud delete --skip-ipa-cleanup`` parameter. This option leaves all overcloud hosts, services, and DNS records in FreeIPA. You might find this useful if your FreeIPA server is unreachable or if you plan to clean up FreeIPA later.",,26,0
openstack%2Fpbr~master~I968a719258ee9647a7d232f2e60b2054539682ec,openstack/pbr,master,I968a719258ee9647a7d232f2e60b2054539682ec,Remove neutron-fwaas from the jobs' required project,MERGED,2020-06-16 10:08:32.000000000,2020-08-06 13:08:44.000000000,2020-08-06 13:06:12.000000000,"[{'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 10:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/edf43168daa74d00c6ccbaf1c66e408fbc6630e2', 'message': ""Remove neutron-fwaas from the jobs' required project\n\nNeutron-fwaas is going to be deprecated in master branch with [1].\n\n[1] https://review.opendev.org/#/c/735828/\n\nChange-Id: I968a719258ee9647a7d232f2e60b2054539682ec\n""}, {'number': 2, 'created': '2020-08-06 08:29:51.000000000', 'files': ['playbooks/legacy/pbr-installation-devstack/run.yaml', '.zuul.yaml', 'playbooks/legacy/pbr-installation-upstream-devstack/run.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/9224eb05661d6fd15628f51bbc3c21b4159da0cf', 'message': ""Remove neutron-fwaas from the jobs' required project\n\nNeutron-fwaas is going to be deprecated in master branch with [1].\n\n[1] https://review.opendev.org/#/c/735828/\n\nChange-Id: I968a719258ee9647a7d232f2e60b2054539682ec\n""}]",0,735852,9224eb05661d6fd15628f51bbc3c21b4159da0cf,12,4,2,11975,,,0,"Remove neutron-fwaas from the jobs' required project

Neutron-fwaas is going to be deprecated in master branch with [1].

[1] https://review.opendev.org/#/c/735828/

Change-Id: I968a719258ee9647a7d232f2e60b2054539682ec
",git fetch https://review.opendev.org/openstack/pbr refs/changes/52/735852/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/pbr-installation-devstack/run.yaml', '.zuul.yaml', 'playbooks/legacy/pbr-installation-upstream-devstack/run.yaml']",3,edf43168daa74d00c6ccbaf1c66e408fbc6630e2,retire-neutron-fwaas,," export PROJECTS=""openstack/neutron-fwaas $PROJECTS""",0,3
openstack%2Fpbr~master~Id49cf641f2eddac17f1b21b186aa3a150bd863f9,openstack/pbr,master,Id49cf641f2eddac17f1b21b186aa3a150bd863f9,Map requires-python to python-requires,MERGED,2020-03-27 17:00:13.000000000,2020-08-06 13:07:34.000000000,2020-08-06 13:06:10.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-27 17:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/8c89114be9f86213825fdc13676e6ae161016513', 'message': ""Map requires-python to python-requires\n\nApparently requires-python is the old value and isn't valid\nanymore. What people mean is python-requires. Of course, people\nare still using the old value. Fix it for them.\n\nChange-Id: Id49cf641f2eddac17f1b21b186aa3a150bd863f9\n""}, {'number': 2, 'created': '2020-04-14 13:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/79b42e052f4720b1272fb392f5de3dc82311e7b0', 'message': ""Map requires-python to python-requires\n\nApparently requires-python is the old value and isn't valid\nanymore. What people mean is python-requires. Of course, people\nare still using the old value. Fix it for them.\n\nChange-Id: Id49cf641f2eddac17f1b21b186aa3a150bd863f9\n""}, {'number': 3, 'created': '2020-08-06 08:26:54.000000000', 'files': ['pbr/util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/d5da2121f875109a94809eeb8aa271fd5a0b3edd', 'message': ""Map requires-python to python-requires\n\nApparently requires-python is the old value and isn't valid\nanymore. What people mean is python-requires. Of course, people\nare still using the old value. Fix it for them.\n\nChange-Id: Id49cf641f2eddac17f1b21b186aa3a150bd863f9\n""}]",0,715484,d5da2121f875109a94809eeb8aa271fd5a0b3edd,16,5,3,2,,,0,"Map requires-python to python-requires

Apparently requires-python is the old value and isn't valid
anymore. What people mean is python-requires. Of course, people
are still using the old value. Fix it for them.

Change-Id: Id49cf641f2eddac17f1b21b186aa3a150bd863f9
",git fetch https://review.opendev.org/openstack/pbr refs/changes/84/715484/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/util.py'],1,8c89114be9f86213825fdc13676e6ae161016513,," ""requires_python"": (""metadata"", ""python_requires""),",,1,0
openstack%2Fpbr~master~I5eb14d490a3731b6b95d7a1137c33ec2d73f193f,openstack/pbr,master,I5eb14d490a3731b6b95d7a1137c33ec2d73f193f,Update python requires packaging metadata for package,MERGED,2020-03-30 11:23:23.000000000,2020-08-06 13:06:11.000000000,2020-08-06 13:06:11.000000000,"[{'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-30 11:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/94756315f92560d6ffde5da0a99340b02a316ed3', 'message': ""Update python requires packaging metadata for package\n\nThe metadata field, 'python-requires' was introduced in PEP440 and\nappears to have superseded 'requires-python'. [1] The metadata that pbr\nuses for itself and it's test package was using the old incorrect field,\nthis commit updates it to be the proper metadata to show a working\nexample. To a certain extent it probably doesn't matter because it's very\nunlikely someone will try to install pbr with python 2.5, but it's more\nabout making sure that pbr itself is leading by example and that it's own\nconfig actually works.\n\n[1] https://github.com/mtreinish/stestr/issues/292\n\nChange-Id: I5eb14d490a3731b6b95d7a1137c33ec2d73f193f\n""}, {'number': 2, 'created': '2020-04-14 13:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d74426f3d0fa1653cef535f67f68375919cdc7e4', 'message': ""Update python requires packaging metadata for package\n\nThe metadata field, 'python-requires' was introduced in PEP440 and\nappears to have superseded 'requires-python'. [1] The metadata that pbr\nuses for itself and it's test package was using the old incorrect field,\nthis commit updates it to be the proper metadata to show a working\nexample. To a certain extent it probably doesn't matter because it's very\nunlikely someone will try to install pbr with python 2.5, but it's more\nabout making sure that pbr itself is leading by example and that it's own\nconfig actually works.\n\n[1] https://github.com/mtreinish/stestr/issues/292\n\nChange-Id: I5eb14d490a3731b6b95d7a1137c33ec2d73f193f\n""}, {'number': 3, 'created': '2020-08-05 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a692b1618ee177f379ac2369603dfa361cc6fe8f', 'message': ""Update python requires packaging metadata for package\n\nThe metadata field, 'python-requires' was introduced in PEP440 and\nappears to have superseded 'requires-python'. [1] The metadata that pbr\nuses for itself and it's test package was using the old incorrect field,\nthis commit updates it to be the proper metadata to show a working\nexample. To a certain extent it probably doesn't matter because it's very\nunlikely someone will try to install pbr with python 2.5, but it's more\nabout making sure that pbr itself is leading by example and that it's own\nconfig actually works.\n\n[1] https://github.com/mtreinish/stestr/issues/292\n\nChange-Id: I5eb14d490a3731b6b95d7a1137c33ec2d73f193f\n""}, {'number': 4, 'created': '2020-08-06 08:28:11.000000000', 'files': ['pbr/tests/testpackage/setup.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/pbr/commit/39fe3495d2954366b52126f2dc3c93a40e61e733', 'message': ""Update python requires packaging metadata for package\n\nThe metadata field, 'python-requires' was introduced in PEP440 and\nappears to have superseded 'requires-python'. [1] The metadata that pbr\nuses for itself and it's test package was using the old incorrect field,\nthis commit updates it to be the proper metadata to show a working\nexample. To a certain extent it probably doesn't matter because it's very\nunlikely someone will try to install pbr with python 2.5, but it's more\nabout making sure that pbr itself is leading by example and that it's own\nconfig actually works.\n\n[1] https://github.com/mtreinish/stestr/issues/292\n\nChange-Id: I5eb14d490a3731b6b95d7a1137c33ec2d73f193f\n""}]",0,715917,39fe3495d2954366b52126f2dc3c93a40e61e733,22,5,4,5196,,,0,"Update python requires packaging metadata for package

The metadata field, 'python-requires' was introduced in PEP440 and
appears to have superseded 'requires-python'. [1] The metadata that pbr
uses for itself and it's test package was using the old incorrect field,
this commit updates it to be the proper metadata to show a working
example. To a certain extent it probably doesn't matter because it's very
unlikely someone will try to install pbr with python 2.5, but it's more
about making sure that pbr itself is leading by example and that it's own
config actually works.

[1] https://github.com/mtreinish/stestr/issues/292

Change-Id: I5eb14d490a3731b6b95d7a1137c33ec2d73f193f
",git fetch https://review.opendev.org/openstack/pbr refs/changes/17/715917/4 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/testpackage/setup.cfg', 'setup.cfg']",2,94756315f92560d6ffde5da0a99340b02a316ed3,fix-metadata,python-requires = >=2.6,requires-python = >=2.6,2,2
openstack%2Fcharm-manila-ganesha~stable%2F20.05~Idd0b594c24ef029f2415ee9ca13a8aca6d01d2a7,openstack/charm-manila-ganesha,stable/20.05,Idd0b594c24ef029f2415ee9ca13a8aca6d01d2a7,Change Ganesha to HA deploy,ABANDONED,2020-05-26 14:24:19.000000000,2020-08-06 13:01:20.000000000,,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-26 14:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/b2106d82fafda34eddba35d9aa85ecd23f5936d9', 'message': 'Change Ganesha to HA deploy\n\nThis change also modifies the ganesha + manila-share\nservices to run via pacemaker to enable them to be\ncolocated with the VIP, a requirement to run manila\nand ganesha in a highly available configuration\n\nChange-Id: Idd0b594c24ef029f2415ee9ca13a8aca6d01d2a7\nCloses-Bug: #1867358\n'}, {'number': 2, 'created': '2020-06-08 10:32:29.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'unit_tests/test_lib_charm_openstack_manila_ganesha.py', 'src/tests/bundles/bionic-stein.yaml', 'src/reactive/manila_ganesha.py', 'unit_tests/test_manila_ganesha_handlers.py', 'src/tests/bundles/bionic-rocky.yaml', 'src/lib/charm/openstack/manila_ganesha.py', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/4054d0b9ed42753cb3de418e96b5adde7dead277', 'message': 'Change Ganesha to HA deploy\n\nThis change also modifies the ganesha + manila-share\nservices to run via pacemaker to enable them to be\ncolocated with the VIP, a requirement to run manila\nand ganesha in a highly available configuration\n\nChange-Id: Idd0b594c24ef029f2415ee9ca13a8aca6d01d2a7\nCloses-Bug: #1867358\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/310\n'}]",0,730835,4054d0b9ed42753cb3de418e96b5adde7dead277,42,6,2,20634,,,0,"Change Ganesha to HA deploy

This change also modifies the ganesha + manila-share
services to run via pacemaker to enable them to be
colocated with the VIP, a requirement to run manila
and ganesha in a highly available configuration

Change-Id: Idd0b594c24ef029f2415ee9ca13a8aca6d01d2a7
Closes-Bug: #1867358
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/310
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/35/730835/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'unit_tests/test_lib_charm_openstack_manila_ganesha.py', 'src/tests/bundles/bionic-stein.yaml', 'src/reactive/manila_ganesha.py', 'src/tests/bundles/bionic-rocky.yaml', 'unit_tests/test_manila_ganesha_handlers.py', 'src/lib/charm/openstack/manila_ganesha.py', 'src/tests/bundles/bionic-train.yaml']",8,b2106d82fafda34eddba35d9aa85ecd23f5936d9,bug/1867358-stable/20.05, num_units: 3, num_units: 1,118,8
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I980f633989e74ca14784d5985b447334027603b8,openstack/tripleo-heat-templates,stable/ussuri,I980f633989e74ca14784d5985b447334027603b8,Prevent skip package fact to run on all steps.,MERGED,2020-07-23 13:53:16.000000000,2020-08-06 12:46:26.000000000,2020-08-06 01:42:17.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-23 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1eed34cbe659b14c0f29799f12cf58a3fe0b5e46', 'message': 'Prevent skip package fact to run on all steps.\n\nWe refactor it into a vars for the task for upgrade and update tasks.\n\nPartial-Bug: #1886932\n\nChange-Id: I980f633989e74ca14784d5985b447334027603b8\n(cherry picked from commit e75d05263cad2d9fcd9043607ec3953431efd536)\n'}, {'number': 2, 'created': '2020-08-03 10:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee68b087a68f35d24de16266a315bd26d302a02f', 'message': 'Prevent skip package fact to run on all steps.\n\nWe refactor it into a vars for the task for upgrade and update tasks.\n\nPartial-Bug: #1886932\n\nChange-Id: I980f633989e74ca14784d5985b447334027603b8\n(cherry picked from commit e75d05263cad2d9fcd9043607ec3953431efd536)\n'}, {'number': 3, 'created': '2020-08-03 11:04:18.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94f62d8746fd9a3abd071285d27b49cbd6275bdf', 'message': 'Prevent skip package fact to run on all steps.\n\nWe refactor it into a vars for the task for upgrade and update tasks.\n\nPartial-Bug: #1886932\n\nChange-Id: I980f633989e74ca14784d5985b447334027603b8\n(cherry picked from commit e75d05263cad2d9fcd9043607ec3953431efd536)\n'}]",0,742672,94f62d8746fd9a3abd071285d27b49cbd6275bdf,28,10,3,8297,,,0,"Prevent skip package fact to run on all steps.

We refactor it into a vars for the task for upgrade and update tasks.

Partial-Bug: #1886932

Change-Id: I980f633989e74ca14784d5985b447334027603b8
(cherry picked from commit e75d05263cad2d9fcd9043607ec3953431efd536)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/742672/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,1eed34cbe659b14c0f29799f12cf58a3fe0b5e46,bug/1886932-nocondtask-stable/ussuri, vars: skip_package_update: {get_param: SkipPackageUpdate} vars: skip_package_update: {get_param: SkipPackageUpdate}, - name: Set boolean skip_package_update set_fact: skip_package_update: {get_param: SkipPackageUpdate} - name: Set boolean skip_package_update set_fact: skip_package_update: {get_param: SkipPackageUpdate},4,6
openstack%2Foctavia~master~I792f42468c37b6849c8fc085172841434d6a1376,openstack/octavia,master,I792f42468c37b6849c8fc085172841434d6a1376,Add a periodic fast forward upgrade job,MERGED,2020-06-02 19:21:57.000000000,2020-08-06 12:45:43.000000000,2020-08-06 12:42:20.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-02 19:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/14f0776c82cca2beda7cc66d68b5c71d2c28ed2a', 'message': 'WIP: Add grenade job\n\nThis job deploys a Stein cloud and upgrades to master without installing\nintermediate releases.\n\nChange-Id: I792f42468c37b6849c8fc085172841434d6a1376\n'}, {'number': 2, 'created': '2020-06-04 07:50:18.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d031596b9f9cf54a8448d1cf84943c509444fe7d', 'message': 'Add a periodic fast forward upgrade job\n\nFast forward upgrade (FFU) is an upgrade strategy that does in-place\nupgrade and skips intermediary releases (e.g. N -> N+3).\n\nThis new periodic job fast forwards a cloud from Stein to master.\n\nPlease note that ideally a distro upgrade should also be performed but\nGrenade does not support that today. For example, Bionic is a tested\nLinux distribution on Stein, whereas on Victoria it is Focal.\n\nChange-Id: I792f42468c37b6849c8fc085172841434d6a1376\n'}]",3,732986,d031596b9f9cf54a8448d1cf84943c509444fe7d,15,6,2,6469,,,0,"Add a periodic fast forward upgrade job

Fast forward upgrade (FFU) is an upgrade strategy that does in-place
upgrade and skips intermediary releases (e.g. N -> N+3).

This new periodic job fast forwards a cloud from Stein to master.

Please note that ideally a distro upgrade should also be performed but
Grenade does not support that today. For example, Bionic is a tested
Linux distribution on Stein, whereas on Victoria it is Focal.

Change-Id: I792f42468c37b6849c8fc085172841434d6a1376
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/732986/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,14f0776c82cca2beda7cc66d68b5c71d2c28ed2a,octavia-ffu, name: octavia-grenade-stein parent: octavia-grenade vars: grenade_from_branch: stable/stein - job:,,50,42
openstack%2Fcinder~master~Id7bc58748bb498b883e334b6bf80b2b99733a43e,openstack/cinder,master,Id7bc58748bb498b883e334b6bf80b2b99733a43e,added debug log,ABANDONED,2020-06-29 06:50:52.000000000,2020-08-06 12:30:47.000000000,,"[{'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32036}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-29 06:50:52.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/118bbfa877d45ade67244e74c3459a3ddce33788', 'message': 'added debug log\n\nChange-Id: Id7bc58748bb498b883e334b6bf80b2b99733a43e\n'}]",2,738383,118bbfa877d45ade67244e74c3459a3ddce33788,112,33,1,32036,,,0,"added debug log

Change-Id: Id7bc58748bb498b883e334b6bf80b2b99733a43e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/738383/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,118bbfa877d45ade67244e74c3459a3ddce33788,," LOG.debug(""Entered get_vdisk_count_by_io_group"")",,1,0
openstack%2Fkayobe~stable%2Fstein~Id4d951e447720e1d769491c0d34ad83099c030eb,openstack/kayobe,stable/stein,Id4d951e447720e1d769491c0d34ad83099c030eb,Use Ansible connection reset support in docker role,MERGED,2020-06-05 13:53:35.000000000,2020-08-06 12:16:31.000000000,2020-08-06 12:14:47.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-06-05 13:53:35.000000000', 'files': ['ansible/roles/docker/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/34e1985888480ed0b8ce83cc1f4421dbe2da410d', 'message': 'Use Ansible connection reset support in docker role\n\nWhen configuring Docker we need to kill persistent SSH connections to\nrefresh the membership of the docker group for the stack user. Currently\nwe are using a fairly heavy handed method of removing all ControlPersist\nsockets because the Ansible reset_connection meta module previously did\nnot work [1]. This issue is fixed since Ansible 2.5.6.\n\nThis change switches to the reset_connection meta module, which now\nworks as expected.\n\n[1] https://github.com/ansible/ansible/issues/27520\n\nChange-Id: Id4d951e447720e1d769491c0d34ad83099c030eb\n(cherry picked from commit 6ca967e27fd008db57c92e4885ff2daad52a7ff5)\n'}]",0,733846,34e1985888480ed0b8ce83cc1f4421dbe2da410d,8,3,1,14826,,,0,"Use Ansible connection reset support in docker role

When configuring Docker we need to kill persistent SSH connections to
refresh the membership of the docker group for the stack user. Currently
we are using a fairly heavy handed method of removing all ControlPersist
sockets because the Ansible reset_connection meta module previously did
not work [1]. This issue is fixed since Ansible 2.5.6.

This change switches to the reset_connection meta module, which now
works as expected.

[1] https://github.com/ansible/ansible/issues/27520

Change-Id: Id4d951e447720e1d769491c0d34ad83099c030eb
(cherry picked from commit 6ca967e27fd008db57c92e4885ff2daad52a7ff5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/733846/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/docker/tasks/main.yml'],1,34e1985888480ed0b8ce83cc1f4421dbe2da410d,,# pick up the group membership. We do this by resetting the SSH connection. - name: Reset connection to activate new group membership meta: reset_connection when: group_result is changed,"# pick up the group membership. We do this by removing the SSH ControlPersist # connection. # NOTE: Ideally we'd use a meta task with the reset_connection option but due # to https://github.com/ansible/ansible/issues/27520 this does not work # (checked in Ansible 2.3.2.0). Instead, we use the heavy handed method of # removing all ansible control sockets. Limitation: if this user is running # another ansible process, we will kill its connections. - name: Find persistent SSH connection control sockets local_action: module: find file_type: any path: ""~/.ansible/cp/"" patterns: '[a-f0-9]{10}' use_regex: True register: cp_sockets run_once: True when: - group_result is changed - name: Drop all persistent SSH connections to activate the new group membership local_action: module: shell ssh -O stop None -o ControlPath={{ item.path }} with_items: ""{{ cp_sockets.files }}"" run_once: True when: cp_sockets is not skipped",4,25
openstack%2Fkayobe~master~Idac6a1dfb17f4a22b3043531d1181a5585cafe6a,openstack/kayobe,master,Idac6a1dfb17f4a22b3043531d1181a5585cafe6a,Docker registry TLS,MERGED,2020-07-01 12:39:39.000000000,2020-08-06 12:16:11.000000000,2020-08-06 12:14:48.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-07-01 12:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b2ac8a946d8793bf4b67db0f4a4b662c3b68fb01', 'message': 'WIP: Docker registry TLS\n\nChange-Id: Idac6a1dfb17f4a22b3043531d1181a5585cafe6a\n'}, {'number': 2, 'created': '2020-07-01 14:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eb4cf5c8aae63b10bf0ea133515c0c77f111377b', 'message': 'WIP: Docker registry TLS\n\nChange-Id: Idac6a1dfb17f4a22b3043531d1181a5585cafe6a\n'}, {'number': 3, 'created': '2020-07-24 08:13:09.000000000', 'files': ['doc/source/configuration/index.rst', 'ansible/roles/docker-registry/defaults/main.yml', 'doc/source/configuration/docker-registry.rst', 'ansible/roles/docker-registry/tasks/deploy.yml', 'etc/kayobe/docker-registry.yml', 'ansible/roles/docker-registry/tasks/upgrade.yml', 'ansible/docker-registry.yml', 'ansible/group_vars/all/docker-registry', 'ansible/roles/docker-registry/handlers/main.yml', 'ansible/roles/docker-registry/tasks/config.yml', 'releasenotes/notes/docker-registry-tls-a823fc5717ef2b52.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/411e148450fa267eaff6e243ad1f6411f173f982', 'message': 'Docker registry TLS\n\nAdds support for enabling TLS on the Docker registry.\n\nChange-Id: Idac6a1dfb17f4a22b3043531d1181a5585cafe6a\nStory: 2007952\nTask: 40428\n'}]",0,738839,411e148450fa267eaff6e243ad1f6411f173f982,14,4,3,14826,,,0,"Docker registry TLS

Adds support for enabling TLS on the Docker registry.

Change-Id: Idac6a1dfb17f4a22b3043531d1181a5585cafe6a
Story: 2007952
Task: 40428
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/39/738839/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/docker-registry/defaults/main.yml', 'ansible/roles/docker-registry/tasks/deploy.yml', 'ansible/roles/docker-registry/tasks/upgrade.yml', 'ansible/roles/docker-registry/handlers/main.yml', 'ansible/roles/docker-registry/tasks/config.yml', 'releasenotes/notes/docker-registry-tls-a823fc5717ef2b52.yaml']",6,b2ac8a946d8793bf4b67db0f4a4b662c3b68fb01,docker-registry-tls,--- features: - | Adds support for deploying a Docker registry with TLS. ,,80,4
openstack%2Fkayobe~stable%2Ftrain~Id4d951e447720e1d769491c0d34ad83099c030eb,openstack/kayobe,stable/train,Id4d951e447720e1d769491c0d34ad83099c030eb,Use Ansible connection reset support in docker role,MERGED,2020-06-05 13:53:19.000000000,2020-08-06 12:00:41.000000000,2020-08-06 11:59:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-06-05 13:53:19.000000000', 'files': ['ansible/roles/docker/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b773708bc9f36a94f17fe9e436dbe6942b8b295d', 'message': 'Use Ansible connection reset support in docker role\n\nWhen configuring Docker we need to kill persistent SSH connections to\nrefresh the membership of the docker group for the stack user. Currently\nwe are using a fairly heavy handed method of removing all ControlPersist\nsockets because the Ansible reset_connection meta module previously did\nnot work [1]. This issue is fixed since Ansible 2.5.6.\n\nThis change switches to the reset_connection meta module, which now\nworks as expected.\n\n[1] https://github.com/ansible/ansible/issues/27520\n\nChange-Id: Id4d951e447720e1d769491c0d34ad83099c030eb\n(cherry picked from commit 6ca967e27fd008db57c92e4885ff2daad52a7ff5)\n'}]",0,733844,b773708bc9f36a94f17fe9e436dbe6942b8b295d,8,3,1,14826,,,0,"Use Ansible connection reset support in docker role

When configuring Docker we need to kill persistent SSH connections to
refresh the membership of the docker group for the stack user. Currently
we are using a fairly heavy handed method of removing all ControlPersist
sockets because the Ansible reset_connection meta module previously did
not work [1]. This issue is fixed since Ansible 2.5.6.

This change switches to the reset_connection meta module, which now
works as expected.

[1] https://github.com/ansible/ansible/issues/27520

Change-Id: Id4d951e447720e1d769491c0d34ad83099c030eb
(cherry picked from commit 6ca967e27fd008db57c92e4885ff2daad52a7ff5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/733844/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/docker/tasks/main.yml'],1,b773708bc9f36a94f17fe9e436dbe6942b8b295d,,# pick up the group membership. We do this by resetting the SSH connection. - name: Reset connection to activate new group membership meta: reset_connection when: group_result is changed,"# pick up the group membership. We do this by removing the SSH ControlPersist # connection. # NOTE: Ideally we'd use a meta task with the reset_connection option but due # to https://github.com/ansible/ansible/issues/27520 this does not work # (checked in Ansible 2.3.2.0). Instead, we use the heavy handed method of # removing all ansible control sockets. Limitation: if this user is running # another ansible process, we will kill its connections. - name: Find persistent SSH connection control sockets local_action: module: find file_type: any path: ""~/.ansible/cp/"" patterns: '[a-f0-9]{10}' use_regex: True register: cp_sockets run_once: True when: - group_result is changed - name: Drop all persistent SSH connections to activate the new group membership local_action: module: shell ssh -O stop None -o ControlPath={{ item.path }} with_items: ""{{ cp_sockets.files }}"" run_once: True when: cp_sockets is not skipped",4,25
openstack%2Frpm-packaging~master~I6680aa2576d501682ba94b407fdc5ffab6f35a39,openstack/rpm-packaging,master,I6680aa2576d501682ba94b407fdc5ffab6f35a39,update oslo.config to 8.3.0,MERGED,2020-07-24 08:10:48.000000000,2020-08-06 11:54:22.000000000,2020-08-06 11:54:22.000000000,"[{'_account_id': 6593}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 28654}]","[{'number': 1, 'created': '2020-07-24 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/44683ec494948581f7d105b9a22b025208792c26', 'message': 'update oslo.config to 8.3.0\n\nChange-Id: I6680aa2576d501682ba94b407fdc5ffab6f35a39\n'}, {'number': 2, 'created': '2020-08-03 01:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9e4f70d3d7553806097c671531d35e5a27c113e4', 'message': 'update oslo.config to 8.3.0\n\nChange-Id: I6680aa2576d501682ba94b407fdc5ffab6f35a39\n'}, {'number': 3, 'created': '2020-08-03 08:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/85cbddf1f1f35318a16c905050b6a81328651c02', 'message': 'update oslo.config to 8.3.0\n\nChange-Id: I6680aa2576d501682ba94b407fdc5ffab6f35a39\n'}, {'number': 4, 'created': '2020-08-05 12:08:37.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5f251ab95c4f4ebf2d7a44741a753764c9d44ae8', 'message': 'update oslo.config to 8.3.0\n\nChange-Id: I6680aa2576d501682ba94b407fdc5ffab6f35a39\n'}]",0,742816,5f251ab95c4f4ebf2d7a44741a753764c9d44ae8,29,7,4,28654,,,0,"update oslo.config to 8.3.0

Change-Id: I6680aa2576d501682ba94b407fdc5ffab6f35a39
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/16/742816/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,44683ec494948581f7d105b9a22b025208792c26,oslo.config,{% set upstream_version = upstream_version('8.3.0') %},{% set upstream_version = upstream_version('8.2.0') %},1,1
openstack%2Frpm-packaging~master~I08be81000d698a51926cf64a6a4685d164b49cfa,openstack/rpm-packaging,master,I08be81000d698a51926cf64a6a4685d164b49cfa,Victoria: August updates,MERGED,2020-08-05 12:40:23.000000000,2020-08-06 11:54:21.000000000,2020-08-06 11:54:21.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 12:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d35810af46407804b79887b1555ed8d37b4ab316', 'message': 'Victoria: August updates\n\nChange-Id: I08be81000d698a51926cf64a6a4685d164b49cfa\n'}, {'number': 2, 'created': '2020-08-06 08:03:09.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/python-karborclient/python-karborclient.spec.j2', 'openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/tripleo-common/tripleo-common.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6533b8cb9deadc3fdffb92f641ab0c3727cab22b', 'message': 'Victoria: August updates\n\nChange-Id: I08be81000d698a51926cf64a6a4685d164b49cfa\n'}]",1,744898,6533b8cb9deadc3fdffb92f641ab0c3727cab22b,14,5,2,6593,,,0,"Victoria: August updates

Change-Id: I08be81000d698a51926cf64a6a4685d164b49cfa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/98/744898/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/python-karborclient/python-karborclient.spec.j2', 'openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/tripleo-common/tripleo-common.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2']",6,d35810af46407804b79887b1555ed8d37b4ab316,,{% set upstream_version = upstream_version('1.4.0') %},{% set upstream_version = upstream_version('1.3.0') %},6,6
openstack%2Fkayobe~stable%2Fstein~Id1dfdfa6a597d89c42acfdd7350e16332a397083,openstack/kayobe,stable/stein,Id1dfdfa6a597d89c42acfdd7350e16332a397083,Install libselinux-python on Ansible control host,MERGED,2020-06-08 10:02:29.000000000,2020-08-06 11:51:39.000000000,2020-08-06 11:49:17.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-06-08 10:02:29.000000000', 'files': ['releasenotes/notes/fix-selinux-python-missing-8bae7ffce4ba460d.yaml', 'ansible/roles/kolla-ansible/vars/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a163cc6c08d145098812189e7728424af5c019f2', 'message': 'Install libselinux-python on Ansible control host\n\nCertain Kolla Ansible tasks need access to the Python SELinux module. On\nthe Ansible control host, this module is symlinked into the\nkolla-ansible virtualenv. The libselinux-python module needs to be\ninstalled for this to succeed. Typically this is the case, but in some\nenvironments it is not. This affects the kayobe control host bootstrap\ncommand:\n\nTASK [kolla-ansible : Ensure selinux Python package is linked into the\nvirtualenv]\nfatal: [localhost]: FAILED! => {""changed"": false, ""msg"": ""src file does\nnot exist, use \\""force=yes\\"" if you really want to create the link:\n/usr/lib64/python2.7/site-packages/selinux"", ""path"":\n""/home/centos/kolla-venv/lib/python2.7/site-packages/selinux"",\n""src"": ""/usr/lib64/python2.7/site-packages/selinux""}\n\nThis change fixes the issue by installing libselinux-python on Python 2\nbased systems.\n\nChange-Id: Id1dfdfa6a597d89c42acfdd7350e16332a397083\nStory: 2007703\nTask: 39819\n(cherry picked from commit 0fd6fa7d9d09dbbfdb5810a64bb5d92cd5e44a22)\n'}]",0,734054,a163cc6c08d145098812189e7728424af5c019f2,8,3,1,14826,,,0,"Install libselinux-python on Ansible control host

Certain Kolla Ansible tasks need access to the Python SELinux module. On
the Ansible control host, this module is symlinked into the
kolla-ansible virtualenv. The libselinux-python module needs to be
installed for this to succeed. Typically this is the case, but in some
environments it is not. This affects the kayobe control host bootstrap
command:

TASK [kolla-ansible : Ensure selinux Python package is linked into the
virtualenv]
fatal: [localhost]: FAILED! => {""changed"": false, ""msg"": ""src file does
not exist, use \""force=yes\"" if you really want to create the link:
/usr/lib64/python2.7/site-packages/selinux"", ""path"":
""/home/centos/kolla-venv/lib/python2.7/site-packages/selinux"",
""src"": ""/usr/lib64/python2.7/site-packages/selinux""}

This change fixes the issue by installing libselinux-python on Python 2
based systems.

Change-Id: Id1dfdfa6a597d89c42acfdd7350e16332a397083
Story: 2007703
Task: 39819
(cherry picked from commit 0fd6fa7d9d09dbbfdb5810a64bb5d92cd5e44a22)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/734054/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-selinux-python-missing-8bae7ffce4ba460d.yaml', 'ansible/roles/kolla-ansible/vars/RedHat.yml']",2,a163cc6c08d145098812189e7728424af5c019f2,, - libselinux-python,,7,0
openstack%2Ftripleo-ansible~master~I9d8ba2818c7b00893473360b8098ae5cdecbb256,openstack/tripleo-ansible,master,I9d8ba2818c7b00893473360b8098ae5cdecbb256,Fix podman version,MERGED,2020-08-04 14:54:43.000000000,2020-08-06 11:44:41.000000000,2020-08-06 00:06:13.000000000,"[{'_account_id': 4978}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-04 14:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c583c55c156dae1b6d12878b66109bf18c7aee9c', 'message': 'Allow to fix podman version\n\nOn RHEL, we want to keep a specific version of podman (1.6.4 for now)\nand avoid newer, untested version.\n\nChange-Id: I9d8ba2818c7b00893473360b8098ae5cdecbb256\n'}, {'number': 2, 'created': '2020-08-04 15:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85e8f2ce11a38e2ea15549ec7b9dea6fbd138a0c', 'message': ""Fix podman version\n\nThe way it's done allows to get per-OS/release lock on a convenient way.\n\nChange-Id: I9d8ba2818c7b00893473360b8098ae5cdecbb256\n""}, {'number': 3, 'created': '2020-08-05 05:40:20.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/845fafd601963244249bc19aed6b6361657e6d20', 'message': 'Fix podman version\n\nSince ansible ""package"" takes the version in the name directly, let\'s\nensure we have the ""latest"" of that version.\n\nThis allows to still use per-OS or per-release podman version in a\nconvenient and easy way.\n\nChange-Id: I9d8ba2818c7b00893473360b8098ae5cdecbb256\n'}]",0,744732,845fafd601963244249bc19aed6b6361657e6d20,24,6,3,28223,,,0,"Fix podman version

Since ansible ""package"" takes the version in the name directly, let's
ensure we have the ""latest"" of that version.

This allows to still use per-OS or per-release podman version in a
convenient and easy way.

Change-Id: I9d8ba2818c7b00893473360b8098ae5cdecbb256
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/744732/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml']",3,c583c55c156dae1b6d12878b66109bf18c7aee9c,podman/fix-version,_tripleo_podman_package_version: 1.6.4 ,,5,1
openstack%2Fironic~master~I15bd30ededa82ba70ff38702d092a9cd3c4d14dc,openstack/ironic,master,I15bd30ededa82ba70ff38702d092a9cd3c4d14dc,Fix iscsi deploy steps priorities,MERGED,2020-08-05 09:25:57.000000000,2020-08-06 11:32:56.000000000,2020-08-06 11:24:07.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27909}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-05 09:25:57.000000000', 'files': ['ironic/drivers/modules/iscsi_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/707b3213424ba2ee7d4e35e59d8af8315e61d766', 'message': 'Fix iscsi deploy steps priorities\n\nChange-Id: I15bd30ededa82ba70ff38702d092a9cd3c4d14dc\n'}]",0,744866,707b3213424ba2ee7d4e35e59d8af8315e61d766,31,9,1,27909,,,0,"Fix iscsi deploy steps priorities

Change-Id: I15bd30ededa82ba70ff38702d092a9cd3c4d14dc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/744866/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/iscsi_deploy.py'],1,707b3213424ba2ee7d4e35e59d8af8315e61d766,iscsi-priorities, @base.deploy_step(priority=80) @base.deploy_step(priority=60), @base.deploy_step(priority=90) @base.deploy_step(priority=80),2,2
openstack%2Fnova~stable%2Fussuri~Ic5e60c8e28263365fad5867e483b6ad55cee7281,openstack/nova,stable/ussuri,Ic5e60c8e28263365fad5867e483b6ad55cee7281,catch libvirt exception when nodedev not found.,MERGED,2020-07-06 19:21:04.000000000,2020-08-06 11:24:41.000000000,2020-07-15 16:34:16.000000000,"[{'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-06 19:21:04.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/247e33af8fa1705b037e3343ec3b72a1b520c0c5', 'message': 'catch libvirt exception when nodedev not found.\n\nThis is a minimal fix to workaround instance where libvirt\nretruns stale data due to internal caching. In some cases\nlibivrt can return stale data vai the nodedev api when the\nmac adress of an interface such as an sriov virtual function\ncanages, i.e. when a mac adress is reset after a vm with\na virtual funciton is migrated.\n\nChange-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281\nPartial-Bug: #1883671\n(cherry picked from commit af80c3ffd116837b296e79858595d42c893708a6)\n'}]",0,739593,247e33af8fa1705b037e3343ec3b72a1b520c0c5,16,9,1,11604,,,0,"catch libvirt exception when nodedev not found.

This is a minimal fix to workaround instance where libvirt
retruns stale data due to internal caching. In some cases
libivrt can return stale data vai the nodedev api when the
mac adress of an interface such as an sriov virtual function
canages, i.e. when a mac adress is reset after a vm with
a virtual funciton is migrated.

Change-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281
Partial-Bug: #1883671
(cherry picked from commit af80c3ffd116837b296e79858595d42c893708a6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/739593/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,247e33af8fa1705b037e3343ec3b72a1b520c0c5,bug/1883671," def test_get_pcinet_info_raises(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) dev_name = ""net_enp2s2_02_9a_a1_37_be_54"" parent_address = ""pci_0000_04_11_7"" with mock.patch.object(pci_utils, 'get_net_name_by_vf_pci_address', return_value=dev_name) as mock_get_net_name, \ mock.patch.object( drvr._host, 'device_lookup_by_name', side_effect=fakelibvirt.libvirtError(""message"") ) as mock_dev_lookup: actualvf = drvr._get_pcinet_info(parent_address) self.assertIsNone(actualvf) mock_get_net_name.assert_called_once_with(parent_address) mock_dev_lookup.assert_called_once_with(dev_name) ",,22,2
openstack%2Fsushy-tools~master~I6f3f37b06545476a7a9bf46cb6776288f06fcd63,openstack/sushy-tools,master,I6f3f37b06545476a7a9bf46cb6776288f06fcd63,Use property plus abstractmethod for abstractproperty,MERGED,2020-08-05 16:23:59.000000000,2020-08-06 10:47:38.000000000,2020-08-06 10:46:10.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 16:23:59.000000000', 'files': ['sushy_tools/emulator/resources/chassis/base.py', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/emulator/resources/systems/base.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/950fea87d297c93cb41e4384e8a5b4b3c5b73c94', 'message': 'Use property plus abstractmethod for abstractproperty\n\nThe abstractproperty method is deprecated since Python 3.3 [1]\n\n[1] https://docs.python.org/3/library/abc.html#abc.abstractproperty\n\nChange-Id: I6f3f37b06545476a7a9bf46cb6776288f06fcd63\n'}]",0,744943,950fea87d297c93cb41e4384e8a5b4b3c5b73c94,8,3,1,23851,,,0,"Use property plus abstractmethod for abstractproperty

The abstractproperty method is deprecated since Python 3.3 [1]

[1] https://docs.python.org/3/library/abc.html#abc.abstractproperty

Change-Id: I6f3f37b06545476a7a9bf46cb6776288f06fcd63
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/43/744943/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/chassis/base.py', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/emulator/resources/systems/base.py']",3,950fea87d297c93cb41e4384e8a5b4b3c5b73c94,abstractmethod, @property @abc.abstractmethod @property @abc.abstractmethod, @abc.abstractproperty @abc.abstractproperty,12,6
openstack%2Fcookbook-openstack-compute~stable%2Fstein~I87dda61dfabec460fe042b4cee21277382dd9487,openstack/cookbook-openstack-compute,stable/stein,I87dda61dfabec460fe042b4cee21277382dd9487,Restart apache only where appropriate,MERGED,2020-08-05 15:28:27.000000000,2020-08-06 10:37:35.000000000,2020-08-06 10:37:35.000000000,"[{'_account_id': 11109}, {'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 15:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/395ceae93379a21ee405b07c704da6da7c4533ee', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nConflicts: recipes/placement_api.rb\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n(cherry picked from commit 5747451dcb905f56de155dabce94c89ae7ba9c01)\n'}, {'number': 2, 'created': '2020-08-06 08:31:41.000000000', 'files': ['spec/placement_api-redhat_spec.rb', 'spec/api-metadata_spec.rb', 'spec/api-os-compute-redhat_spec.rb', 'spec/api-metadata-redhat_spec.rb', 'spec/nova-common_spec.rb', 'recipes/api-os-compute.rb', 'spec/placement_api_spec.rb', 'recipes/api-metadata.rb', 'spec/api-os-compute_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'spec/_nova_apache_spec.rb', 'recipes/_nova_apache.rb', 'metadata.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/7953fbe8c29d1628c6d4e12b79f99265af77bc00', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nConflicts: recipes/placement_api.rb\nAdded version bump.\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n(cherry picked from commit 5747451dcb905f56de155dabce94c89ae7ba9c01)\n'}]",0,744926,7953fbe8c29d1628c6d4e12b79f99265af77bc00,10,4,2,13252,,,0,"Restart apache only where appropriate

The current code tries to restart apache for every change to
/etc/nova/nova.conf even on compute nodes that do not have apache
installed. This changeset splits out the apache service resource into a
separate recipe that (unlike nova-common) is not included by the compute
recipe.

Conflicts: recipes/placement_api.rb
Added version bump.

Change-Id: I87dda61dfabec460fe042b4cee21277382dd9487
(cherry picked from commit 5747451dcb905f56de155dabce94c89ae7ba9c01)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/26/744926/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/placement_api-redhat_spec.rb', 'spec/api-metadata_spec.rb', 'spec/api-os-compute-redhat_spec.rb', 'spec/api-metadata-redhat_spec.rb', 'spec/nova-common_spec.rb', 'recipes/api-os-compute.rb', 'spec/placement_api_spec.rb', 'recipes/api-metadata.rb', 'spec/api-os-compute_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'spec/_nova_apache_spec.rb', 'recipes/_nova_apache.rb', 'recipes/nova-common.rb']",14,395ceae93379a21ee405b07c704da6da7c4533ee,fix_apache_restart_stein,,"# service['apache2'] is defined in the apache2_default_install resource # but other resources are currently unable to reference it. To work # around this issue, define the following helper in your cookbook: service 'apache2' do extend Apache2::Cookbook::Helpers service_name lazy { apache_platform_service_name } supports restart: true, status: true, reload: true action :nothing end notifies :restart, 'service[apache2]'",69,26
openstack%2Fos-brick~stable%2Frocky~I7e761828b3799cef720e15ca7896e8e8d6f98182,openstack/os-brick,stable/rocky,I7e761828b3799cef720e15ca7896e8e8d6f98182,rbd: Correct local_attach disconnect test and showmapped arguments,MERGED,2020-07-29 18:00:10.000000000,2020-08-06 10:36:18.000000000,2020-08-06 10:36:18.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-07-29 18:00:10.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/53c0a29f093ec6bb80a5b9d66f96b04e625f2310', 'message': 'rbd: Correct local_attach disconnect test and showmapped arguments\n\nId507109df80391699074773f4787f74507c4b882 introduced the showmapped\ncommand when attempting to disconnect locally attached rbd volumes.\nUnfortunately at the time the test changes incorrectly attempted to\nassert the commands made by using has_calls instead of the valid\nassert_has_calls method.\n\nThis change now corrects this, ensures _get_rbd_args is called to\npopulate all of the required arguments for the showmapped command and\nfinally corrects the name stored within the fake showmapped output in\nthe test.\n\nChange-Id: I7e761828b3799cef720e15ca7896e8e8d6f98182\n(cherry picked from commit 71331b0e06a713a0883f0c1199923e0943adcf09)\n(cherry picked from commit 55cfc975811584bb533211253b8506028dbbb958)\n(cherry picked from commit 0ae0afbb0facbecd8768c6052c9ac1e85d7b6329)\n(cherry picked from commit 4f25b9c92a97410ea83ed89d49018ec3915942ec)\n'}]",0,743816,53c0a29f093ec6bb80a5b9d66f96b04e625f2310,12,8,1,11904,,,0,"rbd: Correct local_attach disconnect test and showmapped arguments

Id507109df80391699074773f4787f74507c4b882 introduced the showmapped
command when attempting to disconnect locally attached rbd volumes.
Unfortunately at the time the test changes incorrectly attempted to
assert the commands made by using has_calls instead of the valid
assert_has_calls method.

This change now corrects this, ensures _get_rbd_args is called to
populate all of the required arguments for the showmapped command and
finally corrects the name stored within the fake showmapped output in
the test.

Change-Id: I7e761828b3799cef720e15ca7896e8e8d6f98182
(cherry picked from commit 71331b0e06a713a0883f0c1199923e0943adcf09)
(cherry picked from commit 55cfc975811584bb533211253b8506028dbbb958)
(cherry picked from commit 0ae0afbb0facbecd8768c6052c9ac1e85d7b6329)
(cherry picked from commit 4f25b9c92a97410ea83ed89d49018ec3915942ec)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/16/743816/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,53c0a29f093ec6bb80a5b9d66f96b04e625f2310,, cmd += self._get_rbd_args(connection_properties),,4,3
openstack%2Frally-openstack~master~I7a33995b749fc806a1866f68dd7334be343610b7,openstack/rally-openstack,master,I7a33995b749fc806a1866f68dd7334be343610b7,Rename ext_network to floating_network in Nova tasks,ABANDONED,2020-07-23 11:13:29.000000000,2020-08-06 10:35:20.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 11:13:29.000000000', 'files': ['samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.json', 'samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/96c67ba8f4ba05ee06411616a3f782391ea9edcc', 'message': 'Rename ext_network to floating_network in Nova tasks\n\nIt now fails [1]:\n    Traceback (most recent call last):\n      File ""/src/rally/rally/task/runner.py"", line 70, in _run_scenario_once\n        getattr(scenario_inst, method_name)(**scenario_kwargs)\n      File ""/usr/lib/python3.8/site-packages/rally_openstack/task/scenarios/nova/servers.py"", line 1115, in run\n        floatingip = self.neutron.create_floatingip(**create_floating_ip_args)\n      File ""/src/rally/rally/task/service.py"", line 114, in wrapper\n        return func(instance, *args, **kwargs)\n      File ""/src/rally/rally/task/atomic.py"", line 91, in func_atomic_actions\n        f = func(self, *args, **kwargs)\n    TypeError: create_floatingip() got an unexpected keyword argument \'ext_network\'\n\n[1] http://artifacts.opnfv.org/functest/JOGVTC31O1IL/functest-opnfv-functest-smoke-latest-rally_sanity-run-905/rally_sanity/rally_sanity.html#/NovaServers.boot_server_associate_and_dissociate_floating_ip/failures\n\nChange-Id: I7a33995b749fc806a1866f68dd7334be343610b7\nSigned-off-by: Cédric Ollivier <cedric.ollivier@orange.com>\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}]",0,742641,96c67ba8f4ba05ee06411616a3f782391ea9edcc,4,2,1,11692,,,0,"Rename ext_network to floating_network in Nova tasks

It now fails [1]:
    Traceback (most recent call last):
      File ""/src/rally/rally/task/runner.py"", line 70, in _run_scenario_once
        getattr(scenario_inst, method_name)(**scenario_kwargs)
      File ""/usr/lib/python3.8/site-packages/rally_openstack/task/scenarios/nova/servers.py"", line 1115, in run
        floatingip = self.neutron.create_floatingip(**create_floating_ip_args)
      File ""/src/rally/rally/task/service.py"", line 114, in wrapper
        return func(instance, *args, **kwargs)
      File ""/src/rally/rally/task/atomic.py"", line 91, in func_atomic_actions
        f = func(self, *args, **kwargs)
    TypeError: create_floatingip() got an unexpected keyword argument 'ext_network'

[1] http://artifacts.opnfv.org/functest/JOGVTC31O1IL/functest-opnfv-functest-smoke-latest-rally_sanity-run-905/rally_sanity/rally_sanity.html#/NovaServers.boot_server_associate_and_dissociate_floating_ip/failures

Change-Id: I7a33995b749fc806a1866f68dd7334be343610b7
Signed-off-by: Cédric Ollivier <cedric.ollivier@orange.com>
Signed-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/41/742641/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.json', 'samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.yaml']",2,96c67ba8f4ba05ee06411616a3f782391ea9edcc,," floating_network: ""ext_network_name"""," ext_network: ""ext_network_name""",2,3
openstack%2Fcookbook-openstack-ops-database~stable%2Fstein~Ic3442522e8f6e02244e653017b6d161a96412425,openstack/cookbook-openstack-ops-database,stable/stein,Ic3442522e8f6e02244e653017b6d161a96412425,fix mariadb galera config,MERGED,2020-08-05 10:28:37.000000000,2020-08-06 10:29:45.000000000,2020-08-06 10:29:45.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 10:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/9f9087d4e60d4276a25a2362595e11a49e0451c9', 'message': 'fix mariadb galera config\n\n- the mariadb config looks for the first address on the wsrep_node_address_interface\n  this will lead to missconfigurations when using virtual IPs - drop it\n- mariadb uses when wsrep_node_incoming_address not defined bind-address\n  or wsrep-node-address in that order. Since bind-address has to be\n  defined by our cookbook logic, the drop of\n  wsrep_node_address_interface is no problem\n\nChange-Id: Ic3442522e8f6e02244e653017b6d161a96412425\n'}, {'number': 2, 'created': '2020-08-06 08:36:44.000000000', 'files': ['recipes/mariadb-cluster-server.rb', 'spec/mariadb-cluster-server_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/95214148f36afbc8517ec88f541eab42858e3c9a', 'message': 'fix mariadb galera config\n\n- the mariadb config looks for the first address on the wsrep_node_address_interface\n  this will lead to missconfigurations when using virtual IPs - drop it\n- mariadb uses when wsrep_node_incoming_address not defined bind-address\n  or wsrep-node-address in that order. Since bind-address has to be\n  defined by our cookbook logic, the drop of\n  wsrep_node_address_interface is no problem\n\nAdded version bump for backport.\n\nChange-Id: Ic3442522e8f6e02244e653017b6d161a96412425\n'}]",0,744879,95214148f36afbc8517ec88f541eab42858e3c9a,12,3,2,13252,,,0,"fix mariadb galera config

- the mariadb config looks for the first address on the wsrep_node_address_interface
  this will lead to missconfigurations when using virtual IPs - drop it
- mariadb uses when wsrep_node_incoming_address not defined bind-address
  or wsrep-node-address in that order. Since bind-address has to be
  defined by our cookbook logic, the drop of
  wsrep_node_address_interface is no problem

Added version bump for backport.

Change-Id: Ic3442522e8f6e02244e653017b6d161a96412425
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/79/744879/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/mariadb-cluster-server.rb', 'spec/mariadb-cluster-server_spec.rb']",2,9f9087d4e60d4276a25a2362595e11a49e0451c9,fix_mariadb_conf-stable/stein,," wsrep_node_address_interface: 'lo',",0,2
openstack%2Fkolla-ansible~stable%2Fussuri~I165199fc98fb98f227f2a20284e1bab03ef65b5b,openstack/kolla-ansible,stable/ussuri,I165199fc98fb98f227f2a20284e1bab03ef65b5b,[docker] Added a new flag to disable default iptables rules,MERGED,2020-08-05 14:46:41.000000000,2020-08-06 10:16:02.000000000,2020-08-06 10:14:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-08-05 14:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59c9546ebb2639059b11cc03609ced9025f126e3', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables-based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false"" [1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default in\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n(cherry picked from commit fc7ce6cabe3c1379cd6871a699862cf89b727b75)\n'}, {'number': 2, 'created': '2020-08-05 14:46:49.000000000', 'files': ['releasenotes/notes/docker-disable-iptables-e9a248a0515f30a6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12a0acfe3eaca7b8113c2f619b43650ec2450222', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables-based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false"" [1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default in\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n(cherry picked from commit fc7ce6cabe3c1379cd6871a699862cf89b727b75)\n'}]",0,744919,12a0acfe3eaca7b8113c2f619b43650ec2450222,10,4,2,14826,,,0,"[docker] Added a new flag to disable default iptables rules

Docker is manipulating iptables rules by default to provide network
isolation, and this might cause problems if the host already has an
iptables-based firewall.

This change introduces docker_disable_default_iptables_rules to
disable the iptables manipulation by putting ""iptables: false"" [1] to
daemon.json

For better defaults, this feature will be enabled by default in
Victoria.

[1] https://docs.docker.com/network/iptables/

Closes-Bug: #1849275

Change-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b
(cherry picked from commit fc7ce6cabe3c1379cd6871a699862cf89b727b75)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/744919/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker-disable-iptables-e9a248a0515f30a6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,59c9546ebb2639059b11cc03609ced9025f126e3,bug/1849275-stable/ussuri,"- name: Warn about docker default iptables debug: msg: >- Docker default iptables rules will be disabled by default from the Victoria 11.0.0 release. If you have any non-Kolla containers that need this functionality, you should plan a migration for this change, or set docker_disable_default_iptables_rules to false. when: not docker_disable_default_iptables_rules | bool - name: Disable docker default iptables rules set_fact: docker_config: ""{{ docker_config | combine({'iptables': false}) }}"" when: docker_disable_default_iptables_rules | bool ",,28,0
openstack%2Foctavia-tempest-plugin~master~I17d4be65130fadf97d6170d22fb07c72672b7573,openstack/octavia-tempest-plugin,master,I17d4be65130fadf97d6170d22fb07c72672b7573,Add skip_if_not_implemented to the service client,MERGED,2020-03-19 22:42:58.000000000,2020-08-06 10:14:14.000000000,2020-08-06 10:12:54.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-03-19 22:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/272037be5102f1d9da850281717635d3a5aa0988', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 2, 'created': '2020-03-20 00:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2196a05d3915068a282b2db6a9d664f483d279d9', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 3, 'created': '2020-03-20 00:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bb5532e99211e0ed70091ce395c9fd410650e6df', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 4, 'created': '2020-03-20 16:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d0a7dea8153cc99bfdbc5cc78ed53c2f93aec8b7', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 5, 'created': '2020-03-24 21:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/56cda6763a997ae8165ef9361c1698f688f06bcc', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 6, 'created': '2020-03-31 21:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bd52f1cbdcf626c14211d8db2f309b393bf1d81d', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 7, 'created': '2020-03-31 21:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/961c2a6b15acb675d5b5d82a55959bab0d00ca5f', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 8, 'created': '2020-04-01 23:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/41b403ec329d89559ba361a2abc7057c741749d8', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 9, 'created': '2020-05-19 18:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c4b0fbbc65a107e115a265dec2610f751b097c6e', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 10, 'created': '2020-07-27 21:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a9f2cb854f180beaabd2a190d5b961fced8ddc2a', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}, {'number': 11, 'created': '2020-08-04 21:53:07.000000000', 'files': ['octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/services/load_balancer/v2/flavor_capabilities_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/healthmonitor_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/loadbalancer_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/flavor_profile_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/provider_client.py', 'octavia_tempest_plugin/common/decorators.py', 'octavia_tempest_plugin/services/load_balancer/v2/availability_zone_profile_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7rule_client.py', 'requirements.txt', 'octavia_tempest_plugin/services/load_balancer/v2/member_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/flavor_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7policy_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/amphora_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/availability_zone_capabilities_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/availability_zone_client.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6fbfed03d31a3041a62ca621551f22829f42da2d', 'message': 'Add skip_if_not_implemented to the service client\n\nThis patch adds a decorator that wraps the service client methods adding\nthe ability to raise a skipException if a call to the API returns a\nNotImplementedError or UnsupportedOptionError exception.\n\nThis is useful for running the tests against provider drivers that do\nnot support all of the Octavia API features.\n\nChange-Id: I17d4be65130fadf97d6170d22fb07c72672b7573\n'}]",1,714003,6fbfed03d31a3041a62ca621551f22829f42da2d,47,8,11,11628,,,0,"Add skip_if_not_implemented to the service client

This patch adds a decorator that wraps the service client methods adding
the ability to raise a skipException if a call to the API returns a
NotImplementedError or UnsupportedOptionError exception.

This is useful for running the tests against provider drivers that do
not support all of the Octavia API features.

Change-Id: I17d4be65130fadf97d6170d22fb07c72672b7573
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/03/714003/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/flavor_capabilities_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/healthmonitor_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/loadbalancer_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/flavor_profile_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/provider_client.py', 'octavia_tempest_plugin/common/decorators.py', 'octavia_tempest_plugin/services/load_balancer/v2/availability_zone_profile_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7rule_client.py', 'requirements.txt', 'octavia_tempest_plugin/services/load_balancer/v2/member_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/flavor_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7policy_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/amphora_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/availability_zone_capabilities_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/availability_zone_client.py']",17,272037be5102f1d9da850281717635d3a5aa0988,skip-not-implemented,from octavia_tempest_plugin.common.decorators import skip_if_not_implemented @skip_if_not_implemented @skip_if_not_implemented @skip_if_not_implemented @skip_if_not_implemented @skip_if_not_implemented,,139,0
openstack%2Fcharm-barbican-vault~master~I2eacde1d08734c32731df3dfa43da738871792a8,openstack/charm-barbican-vault,master,I2eacde1d08734c32731df3dfa43da738871792a8,Release sync for 20.08,MERGED,2020-07-27 19:48:52.000000000,2020-08-06 09:59:41.000000000,2020-08-06 09:59:40.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-27 19:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/f8fe3802f8f706c922561f2fa1df9057d83eb987', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I2eacde1d08734c32731df3dfa43da738871792a8\n'}, {'number': 2, 'created': '2020-08-05 18:02:12.000000000', 'files': ['rebuild', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/bionic-stein.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/8c5766c51c0860041d7cfa78dd971a3535a58e6f', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n- Remove vault HA in functional tests as etcd/easyrsa were not included.\n  In order to have a faster gate, the HA on vault is dropped and it will\n  be tested in the vault gate test and other scenario tests.\n\nChange-Id: I2eacde1d08734c32731df3dfa43da738871792a8\n'}]",0,743334,8c5766c51c0860041d7cfa78dd971a3535a58e6f,18,6,2,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt
- Remove vault HA in functional tests as etcd/easyrsa were not included.
  In order to have a faster gate, the HA on vault is dropped and it will
  be tested in the vault gate test and other scenario tests.

Change-Id: I2eacde1d08734c32731df3dfa43da738871792a8
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/34/743334/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'tox.ini']",3,f8fe3802f8f706c922561f2fa1df9057d83eb987,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,7,2
openstack%2Fnova~master~I0d67d7e0213598974dd2f239224ac080bf52b850,openstack/nova,master,I0d67d7e0213598974dd2f239224ac080bf52b850,Cleanup the instance when MessageDeliveryFailure exception,ABANDONED,2018-10-08 03:16:01.000000000,2020-08-06 09:56:33.000000000,,"[{'_account_id': 9008}, {'_account_id': 9610}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-10-08 03:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87793b1a8b42d3ae5f669cfa57e58e89eb4fa49f', 'message': 'Cleanup the instance when MessageDeliveryFailure exception\n\nWhen creating instances, the MessageDeliveryFailure is raised from\noslo.messaging, we should cleanup the instances not leave it in\nstuck state.\n\nChange-Id: I0d67d7e0213598974dd2f239224ac080bf52b850\n'}, {'number': 2, 'created': '2018-10-08 07:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c8f02fd996cae9c9482b1f9ca10ca54aec67f85', 'message': 'Cleanup the instance when MessageDeliveryFailure exception\n\nWhen creating instances, the MessageDeliveryFailure is raised from\noslo.messaging, we should cleanup the instances not leave it in\nstuck state.\n\nChange-Id: I0d67d7e0213598974dd2f239224ac080bf52b850\nCloses-Bug: #1794706\n'}, {'number': 3, 'created': '2018-10-11 03:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea98614850069b25c8c106c85a029d8a49dafea', 'message': 'Cleanup the instance when MessageDeliveryFailure exception\n\nWhen creating instances, the MessageDeliveryFailure is raised from\noslo.messaging, we should cleanup the instances not leave it in\nstuck state.\n\nChange-Id: I0d67d7e0213598974dd2f239224ac080bf52b850\nCloses-Bug: #1794706\n'}, {'number': 4, 'created': '2018-10-15 02:43:35.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/965669a03d3d96a91d3dac0ba6ab3173fcf3970d', 'message': 'Cleanup the instance when MessageDeliveryFailure exception\n\nWhen creating instances, the MessageDeliveryFailure is raised from\noslo.messaging, we should cleanup the instances not leave it in\nstuck state.\n\nChange-Id: I0d67d7e0213598974dd2f239224ac080bf52b850\nCloses-Bug: #1794706\n'}]",0,608500,965669a03d3d96a91d3dac0ba6ab3173fcf3970d,55,16,4,9610,,,0,"Cleanup the instance when MessageDeliveryFailure exception

When creating instances, the MessageDeliveryFailure is raised from
oslo.messaging, we should cleanup the instances not leave it in
stuck state.

Change-Id: I0d67d7e0213598974dd2f239224ac080bf52b850
Closes-Bug: #1794706
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/608500/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,87793b1a8b42d3ae5f669cfa57e58e89eb4fa49f,bug/1794706," try: self.compute_task_api.schedule_and_build_instances( context, build_requests=build_requests, request_spec=request_specs, image=boot_meta, admin_password=admin_password, injected_files=injected_files, requested_networks=requested_networks, block_device_mapping=block_device_mapping, tags=tags) except oslo_exceptions.MessageDeliveryFailure: with excutils.save_and_reraise_exception(): self._cleanup_build_artifacts(instances, instances_to_build)"," self.compute_task_api.schedule_and_build_instances( context, build_requests=build_requests, request_spec=request_specs, image=boot_meta, admin_password=admin_password, injected_files=injected_files, requested_networks=requested_networks, block_device_mapping=block_device_mapping, tags=tags) ",15,11
openstack%2Fneutron-lib~master~I594198741d0ff9df71b5c0053387d229c66154c1,openstack/neutron-lib,master,I594198741d0ff9df71b5c0053387d229c66154c1,"Change ""propagate_uplink_status"" default value to True",MERGED,2020-07-31 16:00:14.000000000,2020-08-06 09:55:25.000000000,2020-08-05 16:05:16.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 16:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6251d84bc17e0d7e93cc235b2ccdc83bd6b8abda', 'message': 'Change ""propagate_uplink_status"" default value to True\n\nThe API extension ``uplink-status-propagation`` has changed the default\nvalue of ``propagate_uplink_status`` from False to True. Now, when this\nextension is enabled, the VF link state will be set, by default, to\n""auto"", following the PF link state.\n\nChange-Id: I594198741d0ff9df71b5c0053387d229c66154c1\nPartially-Closes: #1888487\n'}, {'number': 2, 'created': '2020-07-31 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9339a59c940e954556b25fe85d2b0c30fd19503e', 'message': 'Change ""propagate_uplink_status"" default value to True\n\nThe API extension ``uplink-status-propagation`` has changed the default\nvalue of ``propagate_uplink_status`` from False to True. Now, when this\nextension is enabled, the VF link state will be set, by default, to\n""auto"", following the PF link state.\n\nChange-Id: I594198741d0ff9df71b5c0053387d229c66154c1\nPartial-Bug: #1888487\n'}, {'number': 3, 'created': '2020-08-04 13:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/12d4de0d5efed278e5262297887d0df4f5a7029a', 'message': 'Change ""propagate_uplink_status"" default value to True\n\nThe API extension ``uplink-status-propagation`` has changed the default\nvalue of ``propagate_uplink_status`` from False to True. Now, when this\nextension is enabled, the VF link state will be set, by default, to\n""auto"", following the PF link state.\n\nChange-Id: I594198741d0ff9df71b5c0053387d229c66154c1\nPartial-Bug: #1888487\n'}, {'number': 4, 'created': '2020-08-04 13:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dcdc82c1810b40147e37e90ec5835661238d0ac0', 'message': 'Change ""propagate_uplink_status"" default value to True\n\nThe API extension ``uplink-status-propagation`` has changed the default\nvalue of ``propagate_uplink_status`` from False to True. Now, when this\nextension is enabled, the VF link state will be set, by default, to\n""auto"", following the PF link state.\n\nChange-Id: I594198741d0ff9df71b5c0053387d229c66154c1\nPartial-Bug: #1888487\n'}, {'number': 5, 'created': '2020-08-05 12:50:12.000000000', 'files': ['releasenotes/notes/propagate_uplink_status_defaults_to_true-07dcdc20f20db594.yaml', 'neutron_lib/api/definitions/uplink_status_propagation.py', 'api-ref/source/v2/ports.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1f06863e2b906ea5f12620ad1ba49719b2d97f7e', 'message': 'Change ""propagate_uplink_status"" default value to True\n\nThe API extension ``uplink-status-propagation`` has changed the default\nvalue of ``propagate_uplink_status`` from False to True. Now, when this\nextension is enabled, the VF link state will be set, by default, to\n""auto"", following the PF link state.\n\nChange-Id: I594198741d0ff9df71b5c0053387d229c66154c1\nPartial-Bug: #1888487\n'}]",7,744208,1f06863e2b906ea5f12620ad1ba49719b2d97f7e,28,6,5,16688,,,0,"Change ""propagate_uplink_status"" default value to True

The API extension ``uplink-status-propagation`` has changed the default
value of ``propagate_uplink_status`` from False to True. Now, when this
extension is enabled, the VF link state will be set, by default, to
""auto"", following the PF link state.

Change-Id: I594198741d0ff9df71b5c0053387d229c66154c1
Partial-Bug: #1888487
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/08/744208/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/propagate_uplink_status_defaults_to_true-07dcdc20f20db594.yaml', 'neutron_lib/api/definitions/uplink_status_propagation.py']",2,6251d84bc17e0d7e93cc235b2ccdc83bd6b8abda,bug/1888487," 'default': True,"," 'default': False,",8,1
openstack%2Fnova~master~I81c393b00314d075304a39ac494ae6a3df868913,openstack/nova,master,I81c393b00314d075304a39ac494ae6a3df868913,doc: update availability zone doc,ABANDONED,2018-09-26 02:42:51.000000000,2020-08-06 09:55:05.000000000,,"[{'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-26 02:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e26f3bbba92e10a7d0d0c052442a8d0fdab9797c', 'message': 'doc: update availability zone doc\n\nUpdate the response of openstack hypervisor list\n\nChange-Id: I81c393b00314d075304a39ac494ae6a3df868913\n'}, {'number': 2, 'created': '2018-09-26 12:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db886a0240708c9e962e0ec8ecd8cf0570f04657', 'message': 'doc: update availability zone doc\n\nCurrently openstackclient by default uses 2.0/2.1 compute version\nthanks to the default enviroment configurations from the openstacksdk\ntemplate\nhttps://github.com/openstack/openstacksdk/blob/master/openstack/config/defaults.json#L10,\nwhich is not desired in many cases.\n\nThankfully, the following two depends-on patches will remove the\ndefault compute_api_version from openstacksdk side, and set 2.latest as\nthe default compute_api_version from openstackclient side respectively,\nmaking openstackclient swith to the latest compute microversion by default.\n\nThis patch proposes to update the availability zone doc accordingly\nonce those relevant changes are merged.\n\nDepends-On: https://review.openstack.org/#/c/600330/\nDepends-On: https://review.openstack.org/#/c/605398/\nCo-Authored-By: Chen <dstbtgagt@foxmail.com>\nChange-Id: I81c393b00314d075304a39ac494ae6a3df868913\n'}, {'number': 3, 'created': '2018-09-28 11:28:37.000000000', 'files': ['doc/source/admin/availability-zones.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/bae47683ac1fdb666604b77add287551e97ff3b2', 'message': 'doc: update availability zone doc\n\nCurrently openstackclient by default uses 2.0/2.1 compute version\nthanks to the default enviroment configurations from the openstacksdk\ntemplate\nhttps://github.com/openstack/openstacksdk/blob/master/openstack/config/defaults.json#L10,\nwhich is not desired in many cases.\n\nThankfully, the attached depends-on patches will help with the situation by:\n1 removing the default compute_api_version from openstacksdk side\n2 setting 2.latest as the default compute_api_version from openstackclient side\n3 making openstack host commands honor --os-compute-api-version specification\nThose combined will make openstackclient swith to the latest compute microversion by default.\n\nThis patch proposes to update the availability zone doc accordingly\nonce those relevant changes are merged.\n\nDepends-On: https://review.openstack.org/#/c/600330/\nDepends-On: https://review.openstack.org/#/c/605398/\nDepends-On: https://review.openstack.org/#/c/593049/\nCo-Authored-By: Chen <dstbtgagt@foxmail.com>\nChange-Id: I81c393b00314d075304a39ac494ae6a3df868913\n'}]",9,605306,bae47683ac1fdb666604b77add287551e97ff3b2,34,11,3,26311,,,0,"doc: update availability zone doc

Currently openstackclient by default uses 2.0/2.1 compute version
thanks to the default enviroment configurations from the openstacksdk
template
https://github.com/openstack/openstacksdk/blob/master/openstack/config/defaults.json#L10,
which is not desired in many cases.

Thankfully, the attached depends-on patches will help with the situation by:
1 removing the default compute_api_version from openstacksdk side
2 setting 2.latest as the default compute_api_version from openstackclient side
3 making openstack host commands honor --os-compute-api-version specification
Those combined will make openstackclient swith to the latest compute microversion by default.

This patch proposes to update the availability zone doc accordingly
once those relevant changes are merged.

Depends-On: https://review.openstack.org/#/c/600330/
Depends-On: https://review.openstack.org/#/c/605398/
Depends-On: https://review.openstack.org/#/c/593049/
Co-Authored-By: Chen <dstbtgagt@foxmail.com>
Change-Id: I81c393b00314d075304a39ac494ae6a3df868913
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/605306/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/availability-zones.rst'],1,e26f3bbba92e10a7d0d0c052442a8d0fdab9797c,availability-zone-doc, +----+---------------------+-----------------+-------------+-------+ | ID | Hypervisor Hostname | Hypervisor Type | Host IP | State | +----+---------------------+-----------------+-------------+-------+ | 1 | server2 | QEMU | 172.16.20.9 | up | | 2 | server3 | QEMU | 172.16.20.6 | up | | 3 | server4 | QEMU | 172.16.20.7 | up | +----+---------------------+-----------------+-------------+-------+, +----+---------------------+ | ID | Hypervisor Hostname | +----+---------------------+ | 1 | server2 | | 2 | server3 | | 3 | server4 | +----+---------------------+,7,7
openstack%2Fos-brick~stable%2Frocky~Id507109df80391699074773f4787f74507c4b882,openstack/os-brick,stable/rocky,Id507109df80391699074773f4787f74507c4b882,rbd: Use showmapped to find the root RBD device during disconnect_volume,MERGED,2020-04-15 10:38:21.000000000,2020-08-06 09:53:42.000000000,2020-08-06 09:53:42.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-04-15 10:38:21.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fcff1e0cb292a461b933bdc70dd21b4057711bca', 'message': 'rbd: Use showmapped to find the root RBD device during disconnect_volume\n\nThe original method of unmapping the higher level RBD device found under\n/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to\nthe volume locally. This is due to a symlink being created that points\nto the the decrypted dm-crypt device, breaking any attempt to unmap the\nRBD volume.\n\nTo avoid this we can simply find and unmap the lower level RBD device of\n/dev/rbd*.\n\nChange-Id: Id507109df80391699074773f4787f74507c4b882\n(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)\n(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)\n(cherry picked from commit 3ce686a9fa41210fb4c08017220ce063cc869c75)\n'}]",1,720180,fcff1e0cb292a461b933bdc70dd21b4057711bca,13,6,1,10135,,,0,"rbd: Use showmapped to find the root RBD device during disconnect_volume

The original method of unmapping the higher level RBD device found under
/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to
the volume locally. This is due to a symlink being created that points
to the the decrypted dm-crypt device, breaking any attempt to unmap the
RBD volume.

To avoid this we can simply find and unmap the lower level RBD device of
/dev/rbd*.

Change-Id: Id507109df80391699074773f4787f74507c4b882
(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)
(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)
(cherry picked from commit 3ce686a9fa41210fb4c08017220ce063cc869c75)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/80/720180/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,fcff1e0cb292a461b933bdc70dd21b4057711bca,,"from oslo_serialization import jsonutils def _find_root_device(self, connection_properties): """"""Find the underlying /dev/rbd* device for a mapping. Use the showmapped command to list all acive mappings and find the underlying /dev/rbd* device that corresponds to our pool and volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :returns: '/dev/rbd*' or None if no active mapping is found. """""" __, volume = connection_properties['name'].split('/') cmd = ['rbd', 'showmapped', '--format=json'] (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) for index, mapping in jsonutils.loads(out).items(): if mapping['name'] == volume: return mapping['device'] return None root_device = self._find_root_device(connection_properties) if root_device: cmd = ['rbd', 'unmap', root_device] cmd += self._get_rbd_args(connection_properties) self._execute(*cmd, root_helper=self._root_helper, run_as_root=True)"," pool, volume = connection_properties['name'].split('/') dev_name = RBDConnector.get_rbd_device_name(pool, volume) cmd = ['rbd', 'unmap', dev_name] cmd += self._get_rbd_args(connection_properties) self._execute(*cmd, root_helper=self._root_helper, run_as_root=True)",74,11
openstack%2Fnova~master~I8c574925bfe462dd6caf2ea0bc3bf35a02589358,openstack/nova,master,I8c574925bfe462dd6caf2ea0bc3bf35a02589358,Fix SOFT_DELETE vm_state string,ABANDONED,2018-08-31 07:56:14.000000000,2020-08-06 09:53:05.000000000,,"[{'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-31 07:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0de423b9870081ead59b66a987bccee77725f5d', 'message': ""Fix SOFT_DELETE vm_state string\n\nIt more accurate and ituitive that SOFT_DELETED vm_state translates\ninto 'soft_deleted' as a string.\nAlso this patch helps ease code revision on another patch If34e0ec\n\nChange-Id: I8c574925bfe462dd6caf2ea0bc3bf35a02589358\nRelated-Bug: #1789455\n""}, {'number': 2, 'created': '2018-09-03 03:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8eb9657ae57199a672ca0a6c1bb311f9e31826e', 'message': ""Fix SOFT_DELETE vm_state string\n\nIt more accurate and ituitive that SOFT_DELETED vm_state translates\ninto 'soft_deleted' as a string.\nAlso this patch helps ease code revision on another patch If34e0ec\n\nChange-Id: I8c574925bfe462dd6caf2ea0bc3bf35a02589358\nRelated-Bug: #1789455\n""}, {'number': 3, 'created': '2018-09-03 09:11:58.000000000', 'files': ['doc/notification_samples/common_payloads/InstanceActionVolumeSwapPayload.json', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'doc/notification_samples/common_payloads/InstanceActionVolumePayload.json', 'nova/objects/fields.py', 'doc/notification_samples/common_payloads/InstancePayload.json', 'doc/notification_samples/common_payloads/InstanceActionRebuildPayload.json', 'doc/notification_samples/common_payloads/InstanceActionSnapshotPayload.json', 'doc/notification_samples/common_payloads/InstanceActionPayload.json', 'doc/notification_samples/common_payloads/InstanceCreatePayload.json', 'doc/notification_samples/instance-restore-start.json', 'doc/notification_samples/common_payloads/InstanceActionResizePrepPayload.json', 'doc/notification_samples/common_payloads/InstanceExistsPayload.json', 'doc/notification_samples/instance-soft_delete-end.json', 'doc/notification_samples/common_payloads/InstanceUpdatePayload.json', 'doc/notification_samples/common_payloads/InstanceActionRescuePayload.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/c8cf28e67266f70d4435f3d3255ae7d351a70abe', 'message': ""Fix SOFT_DELETE vm_state string\n\nIt more accurate and ituitive that SOFT_DELETED vm_state translates\ninto 'soft_deleted' as a string.\nAlso this patch helps ease code revision on another patch If34e0ec\n\nChange-Id: I8c574925bfe462dd6caf2ea0bc3bf35a02589358\nRelated-Bug: #1789455\n""}]",1,598482,c8cf28e67266f70d4435f3d3255ae7d351a70abe,47,17,3,25562,,,0,"Fix SOFT_DELETE vm_state string

It more accurate and ituitive that SOFT_DELETED vm_state translates
into 'soft_deleted' as a string.
Also this patch helps ease code revision on another patch If34e0ec

Change-Id: I8c574925bfe462dd6caf2ea0bc3bf35a02589358
Related-Bug: #1789455
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/598482/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/fields.py'],1,d0de423b9870081ead59b66a987bccee77725f5d,bug/1789455, SOFT_DELETED = 'soft_deleted', SOFT_DELETED = 'soft-delete',1,1
openstack%2Fcinder~stable%2Fussuri~I05dfc996a635299990fdafba841ab6c4fd7d32c7,openstack/cinder,stable/ussuri,I05dfc996a635299990fdafba841ab6c4fd7d32c7,RBD: Cleanup temporary file during exception,MERGED,2020-06-30 03:10:57.000000000,2020-08-06 09:31:37.000000000,2020-08-05 16:18:54.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-30 03:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a7c099279d501e22cae84025e8a6b7e7810e716', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 2, 'created': '2020-07-25 05:36:40.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/image/image_utils.py', 'releasenotes/notes/cleanup-rbd-temp-file-during-convert-fail-3848e9dbe7e15fc6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/02de7897d4e4ec3be6c4684a2e73a054956d1a00', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n(cherry picked from commit 7c95f3969f4c0df5f818f96cb662dddc17a8dd6f)\n""}]",0,738543,02de7897d4e4ec3be6c4684a2e73a054956d1a00,49,19,2,30858,,,0,"RBD: Cleanup temporary file during exception

During copy image to encrypted volume operation, we create a
temporary image file to convert source image into an encrypted
image and rename it to source image name.
If any error occurs during this process, there is no code to
cleanup the temporary '.luks' file.
This patch adds the following cleanup.

Change-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7
Closes-Bug: 1873738
(cherry picked from commit 7c95f3969f4c0df5f818f96cb662dddc17a8dd6f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/738543/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/image/image_utils.py', 'releasenotes/notes/cleanup-rbd-temp-file-during-convert-fail-3848e9dbe7e15fc6.yaml']",4,2a7c099279d501e22cae84025e8a6b7e7810e716,bug/1873738-stable/ussuri,--- fixes: - | `Bug #1873738 <https://bugs.launchpad.net/cinder/+bug/1873738>`_: RBD Driver: Added cleanup for residue destination file if the copy image to encrypted volume operation fails.,,57,6
openstack%2Fideas~master~Ie6b0f91834b1683254db196ba7108d231ebb1db3,openstack/ideas,master,Ie6b0f91834b1683254db196ba7108d231ebb1db3,Teapot: Add correction about Cinder CSI support,MERGED,2020-06-17 13:41:38.000000000,2020-08-06 09:28:53.000000000,2020-08-06 09:27:15.000000000,"[{'_account_id': 1736}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 9003}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-17 13:41:38.000000000', 'files': ['doc/source/ideas/teapot/storage.rst'], 'web_link': 'https://opendev.org/openstack/ideas/commit/e65edb09830c374c3a586401c87c5427635a5506', 'message': 'Teapot: Add correction about Cinder CSI support\n\nChange-Id: Ie6b0f91834b1683254db196ba7108d231ebb1db3\n'}]",0,736220,e65edb09830c374c3a586401c87c5427635a5506,10,6,1,4257,,,0,"Teapot: Add correction about Cinder CSI support

Change-Id: Ie6b0f91834b1683254db196ba7108d231ebb1db3
",git fetch https://review.opendev.org/openstack/ideas refs/changes/20/736220/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ideas/teapot/storage.rst'],1,e65edb09830c374c3a586401c87c5427635a5506,teapot,"cloud-provider-openstack_. However, while Cinder can interoperate with baremetal servers deployed by Ironic, the Cinder CSI plugin does not support this use case and relies on the integration between Cinder and Nova. Additional work would be required to support both paths.",cloud-provider-openstack_.,4,1
openstack%2Ftripleo-common~stable%2Ftrain~I4966641aed1a21be60d915ea58dda78b80fe0e1f,openstack/tripleo-common,stable/train,I4966641aed1a21be60d915ea58dda78b80fe0e1f,Stop doing tag_from_label lookup with tag,MERGED,2020-08-05 17:06:07.000000000,2020-08-06 09:21:40.000000000,2020-08-06 09:19:30.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 17:06:07.000000000', 'files': ['releasenotes/notes/skip-tag-lookup-if-tag-specified-2284c45dc0f87693.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fff6f888a07316c4b2cd612098588a6ebd58a922', 'message': ""Stop doing tag_from_label lookup with tag\n\nWhen using specifying ContainerImagePrepare if a tag is explicitly\nprovided in a set, the tag_from_label functionality will not be run as\nwe use the defined tag for the containers. Previously we would still\nattempt tag lookups even if we wanted a specific tag.\n\nThis would also cause failures during the deployment if using a\nnamespace that didn't have the defined tag_from_label format but we\ndefined a specific tag we wanted to use. e.g. using a tag with a md5 vs\na tag_from_label with numbers in it.\n\nChange-Id: I4966641aed1a21be60d915ea58dda78b80fe0e1f\nPartial-Bug: #1889122\n(cherry picked from commit 014d985f0836340b03d3c2cdeaae8717cfd1ea6b)\n""}]",0,744955,fff6f888a07316c4b2cd612098588a6ebd58a922,17,6,1,14985,,,0,"Stop doing tag_from_label lookup with tag

When using specifying ContainerImagePrepare if a tag is explicitly
provided in a set, the tag_from_label functionality will not be run as
we use the defined tag for the containers. Previously we would still
attempt tag lookups even if we wanted a specific tag.

This would also cause failures during the deployment if using a
namespace that didn't have the defined tag_from_label format but we
defined a specific tag we wanted to use. e.g. using a tag with a md5 vs
a tag_from_label with numbers in it.

Change-Id: I4966641aed1a21be60d915ea58dda78b80fe0e1f
Partial-Bug: #1889122
(cherry picked from commit 014d985f0836340b03d3c2cdeaae8717cfd1ea6b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/744955/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/skip-tag-lookup-if-tag-specified-2284c45dc0f87693.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",3,fff6f888a07316c4b2cd612098588a6ebd58a922,bug/1889122," @mock.patch('tripleo_common.image.kolla_builder.container_images_prepare') @mock.patch('tripleo_common.image.image_uploader.ImageUploadManager', autospec=True) def test_container_images_prepare_multi_tag_from_label(self, mock_im, mock_cip): mock_lock = mock.MagicMock() mapping_args = { 'namespace': 't', 'name_prefix': '', 'name_suffix': '', 'tag': 'l', } mapping_args_no_tag = { 'namespace': 't', 'name_prefix': '', 'name_suffix': '', } env = { 'parameter_defaults': { 'ContainerImagePrepare': [{ 'set': mapping_args_no_tag, 'tag_from_label': 'foo', }, { 'set': mapping_args, 'tag_from_label': 'bar', 'excludes': ['nova', 'neutron'], 'push_destination': '192.0.2.1:8787', 'modify_role': 'add-foo-plugin', 'modify_only_with_labels': ['kolla_version'], 'modify_vars': {'foo_version': '1.0.1'}, 'modify_append_tag': 'modify-123' }] } } roles_data = [] mock_cip.side_effect = [ { 'image_params': { 'FooImage': 't/foo:latest', 'BarImage': 't/bar:latest', 'BazImage': 't/baz:latest', 'BinkImage': 't/bink:latest' }, 'upload_data': [] }, { 'image_params': { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0' }, 'upload_data': [{ 'imagename': 't/bar:1.0', 'push_destination': '192.0.2.1:8787' }, { 'imagename': 't/baz:1.0', 'push_destination': '192.0.2.1:8787' }] }, ] image_params = kb.container_images_prepare_multi(env, roles_data, True, lock=mock_lock) mock_cip.assert_has_calls([ mock.call( excludes=None, includes=None, mapping_args=mapping_args_no_tag, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination=None, service_filter=None, tag_from_label='foo', append_tag=mock.ANY, modify_role=None, modify_only_with_labels=None, modify_vars=None, mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock ), mock.call( excludes=['nova', 'neutron'], includes=None, mapping_args=mapping_args, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination='192.0.2.1:8787', service_filter=None, tag_from_label=None, append_tag=mock.ANY, modify_role='add-foo-plugin', modify_only_with_labels=['kolla_version'], modify_vars={'foo_version': '1.0.1'}, mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock ) ]) mock_im.assert_called_once_with(mock.ANY, dry_run=True, cleanup='full', mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock) self.assertEqual( { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0', 'BinkImage': 't/bink:latest', 'FooImage': 't/foo:latest' }, image_params ) "," 'tag': 'l', 'tag': 'l',",131,3
openstack%2Fsushy-tools~master~I8a0fbe53645d055e57db80b0182d827287f6a912,openstack/sushy-tools,master,I8a0fbe53645d055e57db80b0182d827287f6a912,Log API errors for easier debugging,MERGED,2020-08-05 11:30:35.000000000,2020-08-06 09:20:39.000000000,2020-08-06 09:18:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-05 11:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4120f89a3bbb3a0577125c468c840359bc0ab61b', 'message': 'Log API errors\n\nChange-Id: I8a0fbe53645d055e57db80b0182d827287f6a912\n'}, {'number': 2, 'created': '2020-08-05 18:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/31f558148a2676987e3981759f91cfa8490fc048', 'message': 'Log API errors\n\nChange-Id: I8a0fbe53645d055e57db80b0182d827287f6a912\n'}, {'number': 3, 'created': '2020-08-05 18:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5532c1c5aeba7595128102406f8ac403ed32d36a', 'message': 'Log API errors for easier debugging\n\nChange-Id: I8a0fbe53645d055e57db80b0182d827287f6a912\n'}, {'number': 4, 'created': '2020-08-05 18:36:49.000000000', 'files': ['sushy_tools/emulator/main.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fab49ebab581620b94e5c46e0101ad78feea5afa', 'message': 'Log API errors for easier debugging\n\nUnexpected exceptions are logged with traceback.\n\nChange-Id: I8a0fbe53645d055e57db80b0182d827287f6a912\n'}]",1,744887,fab49ebab581620b94e5c46e0101ad78feea5afa,15,4,4,10239,,,0,"Log API errors for easier debugging

Unexpected exceptions are logged with traceback.

Change-Id: I8a0fbe53645d055e57db80b0182d827287f6a912
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/87/744887/4 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/main.py'],1,4120f89a3bbb3a0577125c468c840359bc0ab61b,logging,"import logging logging.getLogger(__name__).error( '%s: %s', message.__class__.__name__, message, exc_info=not isinstance(message, error.FishyError))",,4,0
openstack%2Fansible-role-collect-logs~master~Ib7a7c4a71530e0053e30d8f80def0a3a53eb4839,openstack/ansible-role-collect-logs,master,Ib7a7c4a71530e0053e30d8f80def0a3a53eb4839,Add patterns for sova,MERGED,2020-08-04 09:51:02.000000000,2020-08-06 09:19:31.000000000,2020-08-06 09:19:31.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 09:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/72ccfcf548dc29825144a4ce10a3cfa85b395658', 'message': ""Add pattern for 'no valid host' in overcloud\n\nChange-Id: Ib7a7c4a71530e0053e30d8f80def0a3a53eb4839\n""}, {'number': 2, 'created': '2020-08-04 10:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c8159126869df4073182f4bc470dfd2724b07da9', 'message': ""Add pattern for 'no valid host' in overcloud\n\nChange-Id: Ib7a7c4a71530e0053e30d8f80def0a3a53eb4839\n""}, {'number': 3, 'created': '2020-08-05 13:52:19.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/881310aa2844a1357122cc13fbc173811ce4648a', 'message': ""Add patterns for sova\n\nAdd pattern for 'no valid host' in overcloud\nAdd pattern for 'too many requests'\n\nChange-Id: Ib7a7c4a71530e0053e30d8f80def0a3a53eb4839\n""}]",0,744669,881310aa2844a1357122cc13fbc173811ce4648a,11,2,3,10969,,,0,"Add patterns for sova

Add pattern for 'no valid host' in overcloud
Add pattern for 'too many requests'

Change-Id: Ib7a7c4a71530e0053e30d8f80def0a3a53eb4839
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/69/744669/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,72ccfcf548dc29825144a4ce10a3cfa85b395658,tre," - id: 531 logstash: 'Went to status ERROR due to ""Message: No valid host was found' msg: ""No valid host was found."" pattern: 'Went to status ERROR due to ""Message: No valid host was found' tag: ""code""",,5,0
openstack%2Fneutron~stable%2Ftrain~I054296c790b697198550acbeae29546758b422c2,openstack/neutron,stable/train,I054296c790b697198550acbeae29546758b422c2,Fix validation of IPv6 subnets with external RAs,MERGED,2020-08-05 07:24:59.000000000,2020-08-06 09:17:54.000000000,2020-08-06 09:14:01.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-05 07:24:59.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f65abc251b8559d396320b96a61ceadf3181e69b', 'message': ""Fix validation of IPv6 subnets with external RAs\n\nIn case when such subnet is added directly to the router, there was\nvalidation and subnet which is expected to get RA messages from the\nexternal router couldn't be added to the Neutron router.\n\nBut in case when port was first created manually and then plugged to the\nrouter, there wasn't such validation. This patch fixes it by adding same\nvalidation to adding router interface by port.\n\nChange-Id: I054296c790b697198550acbeae29546758b422c2\nCloses-Bug: #1889619\n(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)\n""}]",0,744831,f65abc251b8559d396320b96a61ceadf3181e69b,17,6,1,11975,,,0,"Fix validation of IPv6 subnets with external RAs

In case when such subnet is added directly to the router, there was
validation and subnet which is expected to get RA messages from the
external router couldn't be added to the Neutron router.

But in case when port was first created manually and then plugged to the
router, there wasn't such validation. This patch fixes it by adding same
validation to adding router interface by port.

Change-Id: I054296c790b697198550acbeae29546758b422c2
Closes-Bug: #1889619
(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/744831/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",2,f65abc251b8559d396320b96a61ceadf3181e69b,bug/1889619-stable/ussuri-stable/train," @staticmethod def _validate_subnet_address_mode(subnet): if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) fixed_ips = [ip for ip in port['fixed_ips']] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet( context, fixed_ip['subnet_id']) self._validate_subnet_address_mode(subnet) self._validate_subnet_address_mode(subnet)"," if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg)",44,6
openstack%2Fneutron~stable%2Fstein~I054296c790b697198550acbeae29546758b422c2,openstack/neutron,stable/stein,I054296c790b697198550acbeae29546758b422c2,Fix validation of IPv6 subnets with external RAs,MERGED,2020-08-05 07:25:14.000000000,2020-08-06 09:16:13.000000000,2020-08-06 09:14:03.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-05 07:25:14.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2311465bfa662779eb193f037bc77c21fdc1667', 'message': ""Fix validation of IPv6 subnets with external RAs\n\nIn case when such subnet is added directly to the router, there was\nvalidation and subnet which is expected to get RA messages from the\nexternal router couldn't be added to the Neutron router.\n\nBut in case when port was first created manually and then plugged to the\nrouter, there wasn't such validation. This patch fixes it by adding same\nvalidation to adding router interface by port.\n\nChange-Id: I054296c790b697198550acbeae29546758b422c2\nCloses-Bug: #1889619\n(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)\n""}]",0,744832,c2311465bfa662779eb193f037bc77c21fdc1667,14,5,1,11975,,,0,"Fix validation of IPv6 subnets with external RAs

In case when such subnet is added directly to the router, there was
validation and subnet which is expected to get RA messages from the
external router couldn't be added to the Neutron router.

But in case when port was first created manually and then plugged to the
router, there wasn't such validation. This patch fixes it by adding same
validation to adding router interface by port.

Change-Id: I054296c790b697198550acbeae29546758b422c2
Closes-Bug: #1889619
(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/744832/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",2,c2311465bfa662779eb193f037bc77c21fdc1667,bug/1889619-stable/ussuri-stable/train-stable/stein," @staticmethod def _validate_subnet_address_mode(subnet): if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) fixed_ips = [ip for ip in port['fixed_ips']] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet( context, fixed_ip['subnet_id']) self._validate_subnet_address_mode(subnet) self._validate_subnet_address_mode(subnet)"," if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg)",44,6
openstack%2Fglance~stable%2Fussuri~I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c,openstack/glance,stable/ussuri,I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c,"Add ""stores"" to disallowed properties",MERGED,2020-08-05 21:40:27.000000000,2020-08-06 09:15:53.000000000,2020-08-06 09:14:09.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 21:40:27.000000000', 'files': ['glance/api/v2/images.py', 'releasenotes/notes/fix_1889676-f8d302fd240c8a57.yaml', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/69848bfc582c827e5da374724a1055673eef6afa', 'message': 'Add ""stores"" to disallowed properties\n\nStores is image property which API uses to indicate which\nstores (store IDs) contains the image. This also can be\nset by user making it very confusing and potentially\ncatastrophic breaking for consumers.\n\nThis patch prevents that to happen.\n\nDepends-on: https://review.opendev.org/#/c/744024/\nChange-Id: I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c\nCloses-Bug: #1889676\n(cherry picked from commit e1f0e94b90b162b1cdca5bdd7af3c09a90ca80ac)\n'}]",0,744994,69848bfc582c827e5da374724a1055673eef6afa,8,3,1,5202,,,0,"Add ""stores"" to disallowed properties

Stores is image property which API uses to indicate which
stores (store IDs) contains the image. This also can be
set by user making it very confusing and potentially
catastrophic breaking for consumers.

This patch prevents that to happen.

Depends-on: https://review.opendev.org/#/c/744024/
Change-Id: I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c
Closes-Bug: #1889676
(cherry picked from commit e1f0e94b90b162b1cdca5bdd7af3c09a90ca80ac)
",git fetch https://review.opendev.org/openstack/glance refs/changes/94/744994/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'releasenotes/notes/fix_1889676-f8d302fd240c8a57.yaml', 'glance/tests/unit/v2/test_images_resource.py']",3,69848bfc582c827e5da374724a1055673eef6afa,," def test_neg_create_with_stores(self): self.config(allow_additional_image_properties=True) request = unit_test_utils.get_fake_request() request.body = jsonutils.dump_as_bytes({'stores': 'test'}) self.assertRaises(webob.exc.HTTPForbidden, self.deserializer.create, request) ",,14,1
openstack%2Fideas~master~Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e,openstack/ideas,master,Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e,voting procedure and decision making,NEW,2020-02-26 18:06:25.000000000,2020-08-06 09:14:48.000000000,,"[{'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 18:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/c091d12b5af7db31455f4604258335948af9df3d', 'message': '[WIP] voting procedure and decision making\n\nStill WIP and open for few discussions during reviews\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 2, 'created': '2020-02-26 18:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/ee62ca1ba51037249d5bfdf16af4c02c737c4820', 'message': '[WIP] voting procedure and decision making\n\nStill WIP and open for few discussions during reviews\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 3, 'created': '2020-02-26 18:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/aae83105e337dea67f6db454cc9b31b7e903602d', 'message': '[WIP] voting procedure and decision making\n\nStill WIP and open for few discussions during reviews\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 4, 'created': '2020-02-26 18:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/4e88d46d97435ee1c3fdcba8efc4c01d4171ebf7', 'message': '[WIP] voting procedure and decision making\n\nStill WIP and open for few discussions during reviews\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 5, 'created': '2020-02-26 18:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/77dfbc0542cf1540270222e06fe2b7506f26c628', 'message': '[WIP] voting procedure and decision making\n\nStill WIP and open for few discussions during reviews\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 6, 'created': '2020-02-26 18:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/ff0ff50199273b05ba5af57b0476982739d12cd8', 'message': '[WIP] voting procedure and decision making\n\nStill WIP and open for few discussions during reviews\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 7, 'created': '2020-03-03 16:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/ca66f81b222bfd50b2ee573a28023e547326db48', 'message': 'voting procedure and decision making\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 8, 'created': '2020-03-03 16:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/eb3381993e9527f1693bb9434424d4be69fd0a3c', 'message': 'voting procedure and decision making\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-March/012974.html\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}, {'number': 9, 'created': '2020-03-03 17:35:57.000000000', 'files': ['doc/source/ideas/voting-procedure.rst'], 'web_link': 'https://opendev.org/openstack/ideas/commit/93516527541df56d6aa00677405268c892f8e9f7', 'message': 'voting procedure and decision making\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-March/012974.html\n\nChange-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e\n'}]",12,710107,93516527541df56d6aa00677405268c892f8e9f7,24,6,9,28522,,,0,"voting procedure and decision making

http://lists.openstack.org/pipermail/openstack-discuss/2020-March/012974.html

Change-Id: Ie66f7f1afe1d5dc5732a32a65b263615e2fd080e
",git fetch https://review.opendev.org/openstack/ideas refs/changes/07/710107/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ideas/voting-procedure.rst'],1,c091d12b5af7db31455f4604258335948af9df3d,,"Voting procedures ================= <Mandatory: What is your idea> The goal of this idea is to discuss about the choice engineering and the technical concepts behind a choice and how to improve them on openstack. Currently we moslty use condorcet methods to vote about big openstack decisions and by example vote for governance candidates. It's a good thing to use this kind of vote because it's a consensual decision where the majority is everybody and not only a subgroup or a part of the electors. However, I asked myself how we decided and which kind of vote we should use. I mean a vote and its type and the organization behind could huge impacts on the decision we do. By example using a proportional representation completely change the outcome of the vote compared to another electoral system. Many variants of condorcet exists, and depending on the system we use they offer different possibilities and voting procedures. By example bigpulse claim that they implement all the existing voting procedures but I can't find a full list of implemented and available procedures and I'm not sure they implement the excellent majority judgement per example. The goal of this idea/discussion is to discute and help us to define how we should decide. I want to highlight the available tools and the available systems and voting procedures to help us to follow the right way to make decisions. <Mandatory: What's the itch you want to scratch/what do you think we can improve or fix> Main questions: - When we should poll? - Which procedure to use to poll with a given context? - Which tools to use to organize a vote? - Do we should poll for elect an idea to go further? <Other info like pros and cons, or history> - https://civs.cs.cornell.edu/publicized_polls.html - https://civs.cs.cornell.edu/rp.html - https://civs.cs.cornell.edu/proportional.html - https://www.bigpulsevoting.com/ - https://en.wikipedia.org/wiki/Majority_judgment - https://en.wikipedia.org/wiki/Proportional_representation ",,50,0
openstack%2Fmagnum-ui~master~I3c535fc21dddce6e07817c9af8016fb407d9ed31,openstack/magnum-ui,master,I3c535fc21dddce6e07817c9af8016fb407d9ed31,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-27 00:29:26.000000000,2020-08-06 09:13:18.000000000,2020-08-06 09:11:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-27 00:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/7e34d074b00051168b32f0401f756ab73a04ae8f', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nTask: #40190\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I3c535fc21dddce6e07817c9af8016fb407d9ed31\n'}, {'number': 2, 'created': '2020-08-04 10:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/f8c7603912b04e43df24c893c555d90a6af67f07', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nTask: #40190\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I3c535fc21dddce6e07817c9af8016fb407d9ed31\n'}, {'number': 3, 'created': '2020-08-04 10:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/419815bb37c8f0213e5089cb68398c3bdb293d7c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\n- bug#1886296\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40190\n\nCloses-Bug: #1886298\nCloses-Bug: #1886296\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\nChange-Id: I3c535fc21dddce6e07817c9af8016fb407d9ed31\n'}, {'number': 4, 'created': '2020-08-04 10:34:16.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/6fa4868a7739087dabc8d773ffdee5e6f9503179', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\n- bug#1886296\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40193\n\nCloses-Bug: #1886298\nCloses-Bug: #1886296\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\nChange-Id: I3c535fc21dddce6e07817c9af8016fb407d9ed31\n'}]",0,743132,6fa4868a7739087dabc8d773ffdee5e6f9503179,14,3,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
- bug#1886296
Bump the lower constraints for required deps which added python3.8
support in their later version.

Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40193

Closes-Bug: #1886298
Closes-Bug: #1886296

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal
Change-Id: I3c535fc21dddce6e07817c9af8016fb407d9ed31
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/32/743132/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e34d074b00051168b32f0401f756ab73a04ae8f,migrate-to-focal,#test focal,,1,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~Id54537205538740a09a570a392f291a14d759f61,openstack/puppet-tripleo,stable/train,Id54537205538740a09a570a392f291a14d759f61,Fix up cluster_setup_extras usage,MERGED,2020-07-31 14:58:00.000000000,2020-08-06 09:02:51.000000000,2020-08-06 09:02:51.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 14:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/664cbe4d511dfebaa0d94f8d5efd1e85af58ac36', 'message': 'Fix up cluster_setup_extras usage\n\nStarting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster\nsetup changed completely in an incompatible way and in fact are ignored\nby puppet-pacemaker. As we would like to reenable them, we first need to\nmake sure that whatever we pass is not understood by pcs.\n\nWe can also drop ipv6 and encryption parameters as corosync/pcs do not\nneed them any longer.\n\n(manually adapted from Iaecced845b80e958c7ad0ef96896f1202259cca2 to\nsupport CentOS/RHEL 7 and 8)\n\nChange-Id: Id54537205538740a09a570a392f291a14d759f61\nRelated-Bug: #1886789\nRelated-Bug: #1889764\n(cherry picked from commit ef7818ecc2de85e85e08125a1304eaa17891a77c)\n'}, {'number': 2, 'created': '2020-08-05 13:21:19.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/abbc4e4c409f002ac0bc2ebb594aa1684f7b3424', 'message': 'Fix up cluster_setup_extras usage\n\nStarting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster\nsetup changed completely in an incompatible way and in fact are ignored\nby puppet-pacemaker. As we would like to reenable them, we first need to\nmake sure that whatever we pass is not understood by pcs.\n\nWe can also drop ipv6 and encryption parameters as corosync/pcs do not\nneed them any longer.\n\n(manually adapted from Iaecced845b80e958c7ad0ef96896f1202259cca2 to\nsupport CentOS/RHEL 7 and 8)\n\nChange-Id: Id54537205538740a09a570a392f291a14d759f61\nRelated-Bug: #1886789\nRelated-Bug: #1889764\n(cherry picked from commit ef7818ecc2de85e85e08125a1304eaa17891a77c)\n'}]",0,744192,abbc4e4c409f002ac0bc2ebb594aa1684f7b3424,30,7,2,20778,,,0,"Fix up cluster_setup_extras usage

Starting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster
setup changed completely in an incompatible way and in fact are ignored
by puppet-pacemaker. As we would like to reenable them, we first need to
make sure that whatever we pass is not understood by pcs.

We can also drop ipv6 and encryption parameters as corosync/pcs do not
need them any longer.

(manually adapted from Iaecced845b80e958c7ad0ef96896f1202259cca2 to
support CentOS/RHEL 7 and 8)

Change-Id: Id54537205538740a09a570a392f291a14d759f61
Related-Bug: #1886789
Related-Bug: #1889764
(cherry picked from commit ef7818ecc2de85e85e08125a1304eaa17891a77c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/92/744192/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,664cbe4d511dfebaa0d94f8d5efd1e85af58ac36,pcs-setup-extra-stable/train," include ::pacemaker::params if !$::pacemaker::params::pcs_010 { $corosync_ipv6 = str2bool(hiera('corosync_ipv6', false)) if $corosync_ipv6 { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000), '--ipv6' => '' } } else { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000) } ""totem token=${hiera('corosync_token_timeout', 1000)}"" => '', if $encryption and !$::pacemaker::params::pcs_010 {"," $corosync_ipv6 = str2bool(hiera('corosync_ipv6', false)) if $corosync_ipv6 { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000), '--ipv6' => '' '--token' => hiera('corosync_token_timeout', 1000) if $encryption {",15,7
openstack%2Fbifrost~master~Iad505231650efedce386c984f40b4a334a8c992a,openstack/bifrost,master,Iad505231650efedce386c984f40b4a334a8c992a,DNM test keystoneauth patches,ABANDONED,2020-07-28 13:06:52.000000000,2020-08-06 08:53:47.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 13:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/427d0cafa33984865e116fe462ad0fd6e1bd289b', 'message': 'DNM test keystoneauth patches\n\nChange-Id: Iad505231650efedce386c984f40b4a334a8c992a\nDepends-On: https://review.opendev.org/#/c/743282/\n'}, {'number': 2, 'created': '2020-07-28 14:00:55.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e97418b5f044fa54ae4b1c5dcb9ee6a37192216d', 'message': 'DNM test keystoneauth patches\n\nChange-Id: Iad505231650efedce386c984f40b4a334a8c992a\nDepends-On: https://review.opendev.org/#/c/743282/\n'}]",0,743530,e97418b5f044fa54ae4b1c5dcb9ee6a37192216d,9,2,2,10239,,,0,"DNM test keystoneauth patches

Change-Id: Iad505231650efedce386c984f40b4a334a8c992a
Depends-On: https://review.opendev.org/#/c/743282/
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/30/743530/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'zuul.d/bifrost-jobs.yaml']",2,427d0cafa33984865e116fe462ad0fd6e1bd289b,test, - openstack/keystoneauth,,9,0
openstack%2Ftripleo-common~master~Ib208e53619901421d785ca0883f65954f02e59be,openstack/tripleo-common,master,Ib208e53619901421d785ca0883f65954f02e59be,Write ansible log content to a different log file,MERGED,2019-09-23 20:49:41.000000000,2020-08-06 08:50:26.000000000,2019-12-23 17:07:34.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-23 20:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2d6c64637697e79145ec6f3c8ff0c9a3e92dd4a', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-10-24 07:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/117c75f0bc7551d02f7f46f564d81c8194683f1a', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-10-30 22:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7bdf3882cf607cb38faafb90595465c6afacbfcf', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-11-10 05:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c3252fd0cae2fb4990fe520e55ebb86ca691bee', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-11-19 00:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ee8c45a94b8b41b85576f3574d7db7f49a73762b', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\nthe configured log handler file location, by default this is\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-11-19 00:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b398b128e151e3ca016907acfb0984be8c2033c8', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\nthe configured log handler file location, by default this is\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-11-19 18:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e33bcd219ae4eaa01531ba09113a7d5ae794d4c', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\nthe configured log handler file location, by default this is\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-11-20 17:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f31b0cf83efedc2e989fa1bf73e6215297a65768', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\nthe configured log handler file location, by default this is\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-11-22 19:02:37.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7adf317b0919819d8d9914ded6a1e417ff459b1b', 'message': 'Write ansible log content to a different log file\n\nThis change moves the ansible log content to a different file so\nwe can have a more clear view of what is going on. Log data was\nbeing ingested into python using the INFO handler but this was\nresulting in non-sequential timestamps and multiple log formats\nbeing used in the same file. To produce more easily interpreted\nlog files the log data is being separated. The python log file\nwill indicate when an ansible action is started and completed.\nAll ansible log data will be written to a single log file at,\nthe configured log handler file location, by default this is\n`/var/log/tripleo-container-image-prepare-ansible.log`.\n\nWith these two log files we should be able to build a better\npicture of everything going on within this tool-chain.\n\nChange-Id: Ib208e53619901421d785ca0883f65954f02e59be\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,684131,7adf317b0919819d8d9914ded6a1e417ff459b1b,43,9,9,7353,,,0,"Write ansible log content to a different log file

This change moves the ansible log content to a different file so
we can have a more clear view of what is going on. Log data was
being ingested into python using the INFO handler but this was
resulting in non-sequential timestamps and multiple log formats
being used in the same file. To produce more easily interpreted
log files the log data is being separated. The python log file
will indicate when an ansible action is started and completed.
All ansible log data will be written to a single log file at,
the configured log handler file location, by default this is
`/var/log/tripleo-container-image-prepare-ansible.log`.

With these two log files we should be able to build a better
picture of everything going on within this tool-chain.

Change-Id: Ib208e53619901421d785ca0883f65954f02e59be
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/684131/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,e2d6c64637697e79145ec6f3c8ff0c9a3e92dd4a,ooo-ansible-logging," LOG.info('Ansible action started') else: if log_path and os.path.isfile(log_path): log_f = '/var/log/tripleo-container-image-prepare-ansible.log' with open(log_path) as f: with open(log_f, 'w+') as af: af.write(f.read()) LOG.info('Ansible action completed') finally: shutil.rmtree(work_dir)", if log_path and os.path.isfile(log_path): with open(log_path) as f: LOG.info(f.read()) shutil.rmtree(work_dir),10,4
openstack%2Fironic-lib~master~I2c248b94938ec37f4b28e0fda4eded51ee48cdc6,openstack/ironic-lib,master,I2c248b94938ec37f4b28e0fda4eded51ee48cdc6,Add logging to the HTTP basic auth code,MERGED,2020-08-05 12:48:54.000000000,2020-08-06 08:48:45.000000000,2020-08-06 08:46:32.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 12:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/33db631e68c497af5e1c4ab62f5ede4dfc01296a', 'message': ""Add logging to the HTTP basic auth code\n\nIt's tricky to debug authentication when we leave no traces in the\nlogs and the client only receives a generic error.\n\nChange-Id: I2c248b94938ec37f4b28e0fda4eded51ee48cdc6\n""}, {'number': 2, 'created': '2020-08-05 15:05:49.000000000', 'files': ['ironic_lib/auth_basic.py', 'ironic_lib/tests/test_basic_auth.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4e0846d208bef7042df274e90e8b0da8fa69d1e8', 'message': ""Add logging to the HTTP basic auth code\n\nIt's tricky to debug authentication when we leave no traces in the\nlogs and the client only receives a generic error.\n\nChange-Id: I2c248b94938ec37f4b28e0fda4eded51ee48cdc6\n""}]",2,744899,4e0846d208bef7042df274e90e8b0da8fa69d1e8,14,6,2,10239,,,0,"Add logging to the HTTP basic auth code

It's tricky to debug authentication when we leave no traces in the
logs and the client only receives a generic error.

Change-Id: I2c248b94938ec37f4b28e0fda4eded51ee48cdc6
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/99/744899/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/auth_basic.py'],1,33db631e68c497af5e1c4ab62f5ede4dfc01296a,auth-basic," except OSError as exc: LOG.error('Problem reading auth user file: %s', exc) LOG.error('User %s not found - rejecting request', username) LOG.error('Password for %s does not match', username) except (TypeError, binascii.Error, ValueError) as exc: LOG.error('Could not decode authorization token: %s', exc) LOG.error('No authorization token received - rejecting request') except (ValueError, AttributeError) as exc: LOG.error('Could not parse Authorization header: %s', exc) msg = _('Unsupported authorization type: %(auth_type)s') % { 'auth_type': auth_type} LOG.error(msg) raise exception.BadRequest(msg)"," except OSError: except (TypeError, binascii.Error, ValueError): except (ValueError, AttributeError): raise exception.BadRequest(_('Unsupported authorization type: ' '%(auth_type)s') % {'auth_type': auth_type})",14,5
openstack%2Fneutron~stable%2Fussuri~I054296c790b697198550acbeae29546758b422c2,openstack/neutron,stable/ussuri,I054296c790b697198550acbeae29546758b422c2,Fix validation of IPv6 subnets with external RAs,MERGED,2020-08-05 07:24:06.000000000,2020-08-06 08:37:14.000000000,2020-08-06 08:34:09.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-05 07:24:06.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34965644880aa7f3e48266f3e757da03cb423374', 'message': ""Fix validation of IPv6 subnets with external RAs\n\nIn case when such subnet is added directly to the router, there was\nvalidation and subnet which is expected to get RA messages from the\nexternal router couldn't be added to the Neutron router.\n\nBut in case when port was first created manually and then plugged to the\nrouter, there wasn't such validation. This patch fixes it by adding same\nvalidation to adding router interface by port.\n\nChange-Id: I054296c790b697198550acbeae29546758b422c2\nCloses-Bug: #1889619\n(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)\n""}]",0,744830,34965644880aa7f3e48266f3e757da03cb423374,14,6,1,11975,,,0,"Fix validation of IPv6 subnets with external RAs

In case when such subnet is added directly to the router, there was
validation and subnet which is expected to get RA messages from the
external router couldn't be added to the Neutron router.

But in case when port was first created manually and then plugged to the
router, there wasn't such validation. This patch fixes it by adding same
validation to adding router interface by port.

Change-Id: I054296c790b697198550acbeae29546758b422c2
Closes-Bug: #1889619
(cherry picked from commit 38c7fd7cef42e8c1e6430feb5ac01396c65560c2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/744830/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",2,34965644880aa7f3e48266f3e757da03cb423374,bug/1889619-stable/ussuri," @staticmethod def _validate_subnet_address_mode(subnet): if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) fixed_ips = [ip for ip in port['fixed_ips']] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet( context, fixed_ip['subnet_id']) self._validate_subnet_address_mode(subnet) self._validate_subnet_address_mode(subnet)"," if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg)",44,6
openstack%2Fpbr~master~Ia1a4722e555bda561ab8fbc735d115279ff6ea98,openstack/pbr,master,Ia1a4722e555bda561ab8fbc735d115279ff6ea98,Drop python 2.7 support and testing,ABANDONED,2020-02-04 14:29:23.000000000,2020-08-06 08:34:14.000000000,,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-04 14:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/0107c8f252faade3e71705ccd2c117600d59fa8a', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in Ussuri cycle.\n\nComplete discussion & schedule can be found in\n-\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ia1a4722e555bda561ab8fbc735d115279ff6ea98\nSem-Ver: api-break\n'}, {'number': 2, 'created': '2020-02-06 10:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/16b6c64ae18ddf628ba4630899f205c842e83d45', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in Ussuri cycle.\n\nComplete discussion & schedule can be found in\n-\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ia1a4722e555bda561ab8fbc735d115279ff6ea98\nSem-Ver: api-break\n'}, {'number': 3, 'created': '2020-06-16 15:59:20.000000000', 'files': ['tools/integration.sh', 'test-requirements.txt', 'pbr/tests/test_packaging.py', 'releasenotes/notes/drop-python27-support-999c53cfc4cf8926.yaml', '.zuul.yaml', 'doc/source/user/using.rst', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/c0b052e1a5cf8b8f62d897fcd66a194bc9b7404f', 'message': 'Drop python 2.7 support and testing\n\nDrop support for Python 2.7. Applications and libraries that still use\nPython 2.7 can continue to use older versions of pbr.\n\nAs part of this change, we also need to add support for virtualenv 20.x,\nwhich has changed how the programmatic API works [1] as part of a larger\nrewrite. This has to be done at the same time as dropping Python 2.7\nsupport since 20.x does not appear to be compatible with Python 2.7.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: Ia1a4722e555bda561ab8fbc735d115279ff6ea98\nSem-Ver: api-break\n'}]",9,705693,c0b052e1a5cf8b8f62d897fcd66a194bc9b7404f,22,6,3,28522,,,0,"Drop python 2.7 support and testing

Drop support for Python 2.7. Applications and libraries that still use
Python 2.7 can continue to use older versions of pbr.

As part of this change, we also need to add support for virtualenv 20.x,
which has changed how the programmatic API works [1] as part of a larger
rewrite. This has to be done at the same time as dropping Python 2.7
support since 20.x does not appear to be compatible with Python 2.7.

[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492

Change-Id: Ia1a4722e555bda561ab8fbc735d115279ff6ea98
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/pbr refs/changes/93/705693/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/integration.sh', 'test-requirements.txt', 'releasenotes/notes/drop-python27-support-999c53cfc4cf8926.yaml', '.zuul.yaml', 'doc/source/user/using.rst', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",8,0107c8f252faade3e71705ccd2c117600d59fa8a,drop-py27-support,"envlist = pep8,py37,docs","envlist = pep8,py27,py37,docs",15,18
openstack%2Fpbr~master~Ib5b58083c17f8e9e1d7ba96c4e64e5c31d18a1e5,openstack/pbr,master,Ib5b58083c17f8e9e1d7ba96c4e64e5c31d18a1e5,Use unittest.mock instead of mock,ABANDONED,2020-06-09 09:51:39.000000000,2020-08-06 08:34:09.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 09:51:39.000000000', 'files': ['test-requirements.txt', 'pbr/tests/test_packaging.py', 'lower-constraints.txt', 'pbr/tests/test_pbr_json.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/8f6d595ec751915933559ba73bea68e33673dcf7', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib5b58083c17f8e9e1d7ba96c4e64e5c31d18a1e5\n'}]",1,734496,8f6d595ec751915933559ba73bea68e33673dcf7,5,3,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib5b58083c17f8e9e1d7ba96c4e64e5c31d18a1e5
",git fetch https://review.opendev.org/openstack/pbr refs/changes/96/734496/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'pbr/tests/test_packaging.py', 'lower-constraints.txt', 'pbr/tests/test_pbr_json.py']",4,8f6d595ec751915933559ba73bea68e33673dcf7,drop_mock,from unittest import mock,import mock,2,4
openstack%2Fwatcher~master~Ib0ed3c0f395e1b85b8f25f6e438c414165baab32,openstack/watcher,master,Ib0ed3c0f395e1b85b8f25f6e438c414165baab32,Native Zuul v3 watcher-grenade job + some cleanup,MERGED,2020-07-29 07:45:41.000000000,2020-08-06 08:28:27.000000000,2020-08-06 08:22:48.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-07-29 07:45:41.000000000', 'files': ['playbooks/legacy/grenade-devstack-watcher/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-watcher/post.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ed59145354a329f0679bd9d12cdb71125acfe854', 'message': ""Native Zuul v3 watcher-grenade job + some cleanup\n\nCreate a native Zuul v3 grenade job. It matches the existing job,\neven though it doesn't call any local hook as the current legacy\njob does (because no local hook exists and it should be rewritten\nas zuul configuration if it did).\n\nThe new job reuses the variable definition of the devstack watcher\njob, so clean up that job as well:\n- do not depend on devstack-gate, which is not needed and will be\n  deprecated soon anyway;\n- use the new way (tempest_plugins) to define which tempest plugin\n  should be installed;\n- remove the definition of USE_PYTHON3: true and simply inherit\n  the value set by devstack;\n- remove the definition of PYTHONUNBUFFERED, not really set\n  anywhere else and only useful back in the days in Jenkins.\n\nChange-Id: Ib0ed3c0f395e1b85b8f25f6e438c414165baab32\n""}]",0,743685,ed59145354a329f0679bd9d12cdb71125acfe854,8,3,1,10459,,,0,"Native Zuul v3 watcher-grenade job + some cleanup

Create a native Zuul v3 grenade job. It matches the existing job,
even though it doesn't call any local hook as the current legacy
job does (because no local hook exists and it should be rewritten
as zuul configuration if it did).

The new job reuses the variable definition of the devstack watcher
job, so clean up that job as well:
- do not depend on devstack-gate, which is not needed and will be
  deprecated soon anyway;
- use the new way (tempest_plugins) to define which tempest plugin
  should be installed;
- remove the definition of USE_PYTHON3: true and simply inherit
  the value set by devstack;
- remove the definition of PYTHONUNBUFFERED, not really set
  anywhere else and only useful back in the days in Jenkins.

Change-Id: Ib0ed3c0f395e1b85b8f25f6e438c414165baab32
",git fetch https://review.opendev.org/openstack/watcher refs/changes/85/743685/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-devstack-watcher/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-watcher/post.yaml']",3,ed59145354a329f0679bd9d12cdb71125acfe854,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,8,92
openstack%2Fpbr~master~I10346c2b912ed78e6a5576e97fa4b70a74cd8715,openstack/pbr,master,I10346c2b912ed78e6a5576e97fa4b70a74cd8715,DNM: Attempt to get more information about failures,ABANDONED,2020-07-10 10:23:31.000000000,2020-08-06 08:28:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-10 10:23:31.000000000', 'files': ['pbr/tests/base.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/e8d09ee1f672021672650d00b7d38356b6637411', 'message': 'DNM: Attempt to get more information about failures\n\nChange-Id: I10346c2b912ed78e6a5576e97fa4b70a74cd8715\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,740435,e8d09ee1f672021672650d00b7d38356b6637411,3,1,1,15334,,,0,"DNM: Attempt to get more information about failures

Change-Id: I10346c2b912ed78e6a5576e97fa4b70a74cd8715
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/35/740435/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/base.py'],1,e8d09ee1f672021672650d00b7d38356b6637411,trivial," raise Exception( 'Failed process args=%r, kwargs=%r, returncode=%s\n' 'stdout:\n\n%s\nstderr:\n\n%s' % ( [cmd] + list(args), {'cwd': cwd}, result[2], result[0], result[1], ), )"," raise Exception(""Command failed retcode=%s"" % result[2])",10,1
openstack%2Fpbr~master~Iba1f1047802213ead8c57542a6726c6ecd8767cb,openstack/pbr,master,Iba1f1047802213ead8c57542a6726c6ecd8767cb,Fix periodic integration jobs,ABANDONED,2020-04-08 06:53:35.000000000,2020-08-06 08:27:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-08 06:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/1c672bca20820ea57c7827cceea4b4b6fd608dd5', 'message': 'Fix periodic integration jobs\n\nThe integration job contains py2 syntax, convert to py3 to fix running\nthe periodic test.\n\nReference:\nhttp://zuul.opendev.org/t/openstack/build/f139498b72bb484fbea692ff7d2e22e0\nFile ""/tmp/tmp.nT6cNp3PbG/eptest/venv/lib/python3.6/site-packages/test_project/__init__.py"", line 2\n    print ""Test cmd""\n                   ^\nSyntaxError: Missing parentheses in call to \'print\'. Did you mean print(""Test cmd"")?\n\nChange-Id: Iba1f1047802213ead8c57542a6726c6ecd8767cb\n'}, {'number': 2, 'created': '2020-04-14 13:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4a5591c8e4d579ff1b5d7a253fd65240627c86dc', 'message': 'Fix periodic integration jobs\n\nThe integration job contains py2 syntax, convert to py3 to fix running\nthe periodic test.\n\nReference:\nhttp://zuul.opendev.org/t/openstack/build/f139498b72bb484fbea692ff7d2e22e0\nFile ""/tmp/tmp.nT6cNp3PbG/eptest/venv/lib/python3.6/site-packages/test_project/__init__.py"", line 2\n    print ""Test cmd""\n                   ^\nSyntaxError: Missing parentheses in call to \'print\'. Did you mean print(""Test cmd"")?\n\nChange-Id: Iba1f1047802213ead8c57542a6726c6ecd8767cb\n'}, {'number': 3, 'created': '2020-08-06 08:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/5c725040ed1826872fea65097cab8f6dfd2913d4', 'message': 'Fix periodic integration jobs\n\nThe integration job contains py2 syntax, convert to py3 to fix running\nthe periodic test.\n\nReference:\nhttp://zuul.opendev.org/t/openstack/build/f139498b72bb484fbea692ff7d2e22e0\nFile ""/tmp/tmp.nT6cNp3PbG/eptest/venv/lib/python3.6/site-packages/test_project/__init__.py"", line 2\n    print ""Test cmd""\n                   ^\nSyntaxError: Missing parentheses in call to \'print\'. Did you mean print(""Test cmd"")?\n\nChange-Id: Iba1f1047802213ead8c57542a6726c6ecd8767cb\n'}]",0,718322,5c725040ed1826872fea65097cab8f6dfd2913d4,10,2,3,6547,,,0,"Fix periodic integration jobs

The integration job contains py2 syntax, convert to py3 to fix running
the periodic test.

Reference:
http://zuul.opendev.org/t/openstack/build/f139498b72bb484fbea692ff7d2e22e0
File ""/tmp/tmp.nT6cNp3PbG/eptest/venv/lib/python3.6/site-packages/test_project/__init__.py"", line 2
    print ""Test cmd""
                   ^
SyntaxError: Missing parentheses in call to 'print'. Did you mean print(""Test cmd"")?

Change-Id: Iba1f1047802213ead8c57542a6726c6ecd8767cb
",git fetch https://review.opendev.org/openstack/pbr refs/changes/22/718322/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/integration.sh'],1,1c672bca20820ea57c7827cceea4b4b6fd608dd5,fix-periodic-integration," print(""Test cmd"")"," print ""Test cmd""",1,1
openstack%2Fpbr~master~I493e88985d2c4d09612fea4d20d8ffa20043a0cb,openstack/pbr,master,I493e88985d2c4d09612fea4d20d8ffa20043a0cb,Add support for virtualenv 20.x,MERGED,2020-04-14 13:50:37.000000000,2020-08-06 08:25:08.000000000,2020-08-06 00:58:23.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-14 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/eb8f7ccf6c62ad625086dcd003254dbc451f7c1f', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-06-16 16:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/cd367725d7e3cee12502e22d2cf76866fa27798d', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2020-06-30 16:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/82886f74bab182970d772f643b627b0c0a04a3a5', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2020-06-30 17:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7c16aa0c469f02c381b45d446d6d2a90cf4f1587', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2020-06-30 18:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/224730638817ef29d5fd99c50b228801a6138bd2', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2020-07-01 09:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3d4fd9b2eb19a7bf2b303b5569f8f2479b0ab69f', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2020-07-01 14:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/edfd533789e13f5dbeefefde8a1317b221d77d04', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2020-07-02 08:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d00cc4da187e32657c9068f6a579709678f66fe5', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2020-07-02 10:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f96874d2c372e52aea53ff923654a919dc19224a', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 10, 'created': '2020-08-05 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f234afcc6caffeef0a0fed5dc41d9f2e7eeb58e6', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 11, 'created': '2020-08-05 20:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e6ee9027a9bae25200e1db939aa6ddba949dc72b', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 12, 'created': '2020-08-05 20:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a7fd359227e2fca0f154b71fd4652e8eb8a68848', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 13, 'created': '2020-08-05 20:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/009455f9ed2d5576771948db58044227c86e8c15', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 14, 'created': '2020-08-05 21:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4a377863bb73b670105af1673f007d0267ad7e52', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 15, 'created': '2020-08-05 22:01:27.000000000', 'files': ['tools/integration.sh', 'pbr/tests/test_core.py', 'pbr/tests/test_integration.py', 'test-requirements.txt', 'pbr/tests/test_packaging.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/73c11c626726ddadc0f43a57e5b7007236da38c5', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}]",10,719964,73c11c626726ddadc0f43a57e5b7007236da38c5,54,6,15,15334,,,0,"Add support for virtualenv 20.x

virtualenv is undergoing a rewrite and has changed how the programmatic
API works [1]. Switch to the ""new way"".

While we're here, we also need to get Python 2.7 tests passing again.
That requires dropping support for upper-constraints and using our own,
limited local constraints based on supported Python versions. We also
need to migrate integration tests since those run with Python 3 now.
Update the scenarios for pip/setuptools in integration testing
similarly. Finally clean up the installation of all devstack repos as
requirements are managed different now. Instead of worrying about
syncing them we use constraints.

[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492

Change-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: https://review.opendev.org/739014
",git fetch https://review.opendev.org/openstack/pbr refs/changes/64/719964/7 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'pbr/tests/test_packaging.py']",2,eb8f7ccf6c62ad625086dcd003254dbc451f7c1f,trivial, virtualenv.cli_run([path])," virtualenv.create_environment(path, clear=True)",2,2
