id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla-ansible~stable%2Fussuri~I3804c440fe3552950d9d434ef5409f685c39bbcf,openstack/kolla-ansible,stable/ussuri,I3804c440fe3552950d9d434ef5409f685c39bbcf,Performance: remove unnecessary conditions from includes,MERGED,2020-07-24 14:36:10.000000000,2020-07-30 10:33:01.000000000,2020-07-30 10:31:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 14:36:10.000000000', 'files': ['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8366f22ac34beeb4dd6df66734392e1ab006a490', 'message': 'Performance: remove unnecessary conditions from includes\n\nThere are a number of tasks where we conditionally use include_tasks\nwith a condition, and the condition is always true. This change removes\nthese conditions, in preparation for switching unconditional task\nincludes to task imports.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf\n(cherry picked from commit 7ff27de7acd573a4ae94a930ec040bd28060918c)\n'}]",4,742894,8366f22ac34beeb4dd6df66734392e1ab006a490,11,3,1,14826,,,0,"Performance: remove unnecessary conditions from includes

There are a number of tasks where we conditionally use include_tasks
with a condition, and the condition is always true. This change removes
these conditions, in preparation for switching unconditional task
includes to task imports.

Partially-Implements: blueprint performance-improvements

Change-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf
(cherry picked from commit 7ff27de7acd573a4ae94a930ec040bd28060918c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/742894/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml']",32,8366f22ac34beeb4dd6df66734392e1ab006a490,bp/performance-improvements,, when: inventory_hostname in groups['magnum-api'] or inventory_hostname in groups['magnum-conductor'],2,128
openstack%2Fkolla-ansible~stable%2Fstein~I3804c440fe3552950d9d434ef5409f685c39bbcf,openstack/kolla-ansible,stable/stein,I3804c440fe3552950d9d434ef5409f685c39bbcf,Performance: remove unnecessary conditions from includes,MERGED,2020-07-24 14:38:42.000000000,2020-07-30 10:15:26.000000000,2020-07-30 10:13:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 14:38:42.000000000', 'files': ['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc7fcab662cdb09adf93feec5d070feeaddc9015', 'message': 'Performance: remove unnecessary conditions from includes\n\nThere are a number of tasks where we conditionally use include_tasks\nwith a condition, and the condition is always true. This change removes\nthese conditions, in preparation for switching unconditional task\nincludes to task imports.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf\n(cherry picked from commit 7ff27de7acd573a4ae94a930ec040bd28060918c)\n'}]",0,742897,bc7fcab662cdb09adf93feec5d070feeaddc9015,9,3,1,14826,,,0,"Performance: remove unnecessary conditions from includes

There are a number of tasks where we conditionally use include_tasks
with a condition, and the condition is always true. This change removes
these conditions, in preparation for switching unconditional task
includes to task imports.

Partially-Implements: blueprint performance-improvements

Change-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf
(cherry picked from commit 7ff27de7acd573a4ae94a930ec040bd28060918c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/742897/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml']",30,bc7fcab662cdb09adf93feec5d070feeaddc9015,bp/performance-improvements,, when: inventory_hostname in groups['magnum-api'] or inventory_hostname in groups['magnum-conductor'],2,122
openstack%2Fmanila~stable%2Fstein~I24cda6be69ef9258c6c637be48be32b93d835e0a,openstack/manila,stable/stein,I24cda6be69ef9258c6c637be48be32b93d835e0a,[NetApp] Fix default ipspace deletion issue,MERGED,2020-07-29 10:19:09.000000000,2020-07-30 10:01:31.000000000,2020-07-30 00:45:40.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 10:19:09.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1880747-netapp-fix-do-not-delete-default-ipspace-aee638279e0f8e93.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/cfdb200e6bd798ce6fd5682567c006b56762ac7c', 'message': '[NetApp] Fix default ipspace deletion issue\n\nThe NetApp driver is fixed to avoid the deletion of cluster\nipspaces when deleting a share server. Now the share server\ndeletion skip ipspace removal if the ipspace is one of the\nfollowing: Cluster or Default.\n\nChange-Id: I24cda6be69ef9258c6c637be48be32b93d835e0a\nCloses-Bug: #1880747\n(cherry picked from commit dbe34c08e2278eb472bc2cbf7f086d6deff7cab2)\n(cherry picked from commit 2fe7452b1bf8b8975dcd663db3ecce98b5fb499c)\n(cherry picked from commit bf97dcc9d4918ef4ae871ea96886a89a01ac9989)\n'}]",0,743719,cfdb200e6bd798ce6fd5682567c006b56762ac7c,15,5,1,9003,,,0,"[NetApp] Fix default ipspace deletion issue

The NetApp driver is fixed to avoid the deletion of cluster
ipspaces when deleting a share server. Now the share server
deletion skip ipspace removal if the ipspace is one of the
following: Cluster or Default.

Change-Id: I24cda6be69ef9258c6c637be48be32b93d835e0a
Closes-Bug: #1880747
(cherry picked from commit dbe34c08e2278eb472bc2cbf7f086d6deff7cab2)
(cherry picked from commit 2fe7452b1bf8b8975dcd663db3ecce98b5fb499c)
(cherry picked from commit bf97dcc9d4918ef4ae871ea96886a89a01ac9989)
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/743719/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1880747-netapp-fix-do-not-delete-default-ipspace-aee638279e0f8e93.yaml']",2,cfdb200e6bd798ce6fd5682567c006b56762ac7c,bug/1880747,--- fixes: - | NetApp ONTAP driver is now fixed to avoid the deletion of `Cluster` and `Default` ipspaces when deleting a share server. This issue was happening only when operating in `driver_handles_share_servers` enabled mode and creating shares using `flat` network type. See `Launchpad bug 1880747 <https://launchpad.net/bugs/1880747>`_ for more details. ,,13,2
openstack%2Fnova~master~I6e7b7011677aed702c42cf7865473f819bfc51dc,openstack/nova,master,I6e7b7011677aed702c42cf7865473f819bfc51dc,Support volume-backed server rebuild,ABANDONED,2017-12-18 15:27:48.000000000,2020-07-30 09:49:22.000000000,,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2243}, {'_account_id': 4393}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12484}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24422}, {'_account_id': 24849}, {'_account_id': 26515}, {'_account_id': 27594}]","[{'number': 1, 'created': '2017-12-18 15:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2640a5854978cb88eaf143685ccf843e1818da6d', 'message': 'Fix the problems that volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only change\nthe image, but the instance will still boot from the original volume.\n\nTo solve it,I judge from ""root_bdm.is_volume"" to know which style it boot from.\nAnd if boot from volume,we can recreate_volume by the given image_href.On the\nbasis of image_href,so we can use the ""image_meta"" to create root volume.Lastly,\nsetting the new_root_bdm to ""bdms"".\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nCloses-Bug: #1482040\nCloses-Bug: #1378689\nCloses-Bug: #1474253\n'}, {'number': 2, 'created': '2017-12-19 09:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/455bc55fe1b48782d08d7919d0df8dd263ccac74', 'message': 'Fix the problems that volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only change\nthe image, but the instance will still boot from the original volume.\n\nTo solve it,I judge from ""root_bdm.is_volume"" to know which style it boot from.\nAnd if boot from volume,we can recreate_volume by the given image_href.On the\nbasis of image_href,so we can use the ""image_meta"" to create root volume.Lastly,\nsetting the new_root_bdm to ""bdms"".\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nCloses-Bug: #1378689\nCloses-Bug: #1474253\n'}, {'number': 3, 'created': '2017-12-21 01:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85404652fffee1ba89a37099f8c05b54f957790c', 'message': 'Fix the problems that volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only change\nthe image, but the instance will still boot from the original volume.\n\nTo solve it,I judge from ""root_bdm.is_volume"" to know which style it boot from.\nAnd if boot from volume,we can recreate_volume by the given image_href.On the\nbasis of image_href,so we can use the ""image_meta"" to create root volume.Lastly,\nsetting the new_root_bdm to ""bdms"".\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nCloses-Bug: #1378689\nCloses-Bug: #1474253\n'}, {'number': 4, 'created': '2017-12-21 06:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a86aabd58e313dffdcf9f410b8e727691a10f77', 'message': 'Fix the problems that volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only change\nthe image, but the instance will still boot from the original volume.\n\nTo solve it,I judge from ""root_bdm.is_volume"" to know which style it boot from.\nAnd if boot from volume,we can recreate_volume by the given image_href.On the\nbasis of image_href,so we can use the ""image_meta"" to create root volume.Lastly,\nsetting the new_root_bdm to ""bdms"".\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nCloses-Bug: #1378689\nCloses-Bug: #1474253\n'}, {'number': 5, 'created': '2017-12-25 03:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d4ec37177ecbff76b7dd66ffb525d51ae7d5d0a', 'message': 'Fix the problems that volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only change\nthe image, but the instance will still boot from the original volume.\n\nTo solve it,I judge from ""root_bdm.is_volume"" to know which style it boot from.\nAnd if boot from volume,we can recreate_volume by the given image_href.On the\nbasis of image_href,so we can use the ""image_meta"" to create root volume.Lastly,\nsetting the new_root_bdm to ""bdms"".\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nCloses-Bug: #1378689\nCloses-Bug: #1474253\n'}, {'number': 6, 'created': '2017-12-26 09:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c33eaea4e98fd9cd97fbddf74aca57e1a1f94543', 'message': 'Fix the problems that volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only change\nthe image, but the instance will still boot from the original volume.\n\nTo solve it,I judge from ""root_bdm.is_volume"" to know which style it boot from.\nAnd if boot from volume,we can recreate_volume by the given image_href.On the\nbasis of image_href,so we can use the ""image_meta"" to create root volume.Lastly,\nsetting the new_root_bdm to ""bdms"".\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nImplements: https://blueprints.launchpad.net/nova/+spec/volume-backed-server-rebuild\nCloses-Bug: #1378689\nCloses-Bug: #1474253\n'}, {'number': 7, 'created': '2018-01-08 08:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32e791faf0f01da7df539d84d0cb9a187e87a323', 'message': 'Support volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only\nchange the image, but the instance will still boot from the\noriginal volume.\n\nTo solve it,we judge from ""root_bdm.is_volume"" to know which style\nit boot from.And if boot from volume,we can recreate_volume by the\ngiven image_href.On the basis of image_href,so we can use the\n""image_meta"" to create a new root volume.Lastly,update the root BDM\nto point to the new volume.\n\nNow you can provide any format image to rebuild volume-backed server\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nImplements: blueprint volume-backed-server-rebuild\nCloses-Bug: #1378689\n'}, {'number': 8, 'created': '2018-01-08 09:24:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cbfe92f737c5696b8445b31147200ed4e1b442b', 'message': 'Support volume-backed server rebuild\n\nIf the instance was booted from volume, then rebuild will only\nchange the image, but the instance will still boot from the\noriginal volume.\n\nTo solve it,we judge from ""root_bdm.is_volume"" to know which style\nit boot from.And if boot from volume,we can recreate_volume by the\ngiven image_href.On the basis of image_href,so we can use the\n""image_meta"" to create a new root volume.Lastly,update the root BDM\nto point to the new volume.\n\nNow you can provide any format image to rebuild volume-backed server\n\nChange-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc\nCo-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>\nImplements: blueprint volume-backed-server-rebuild\nCloses-Bug: #1378689\n'}]",29,528740,7cbfe92f737c5696b8445b31147200ed4e1b442b,111,26,8,24422,,,0,"Support volume-backed server rebuild

If the instance was booted from volume, then rebuild will only
change the image, but the instance will still boot from the
original volume.

To solve it,we judge from ""root_bdm.is_volume"" to know which style
it boot from.And if boot from volume,we can recreate_volume by the
given image_href.On the basis of image_href,so we can use the
""image_meta"" to create a new root volume.Lastly,update the root BDM
to point to the new volume.

Now you can provide any format image to rebuild volume-backed server

Change-Id: I6e7b7011677aed702c42cf7865473f819bfc51dc
Co-Authored-By:Laszlo Hegedus <laszlo.hegedus@ericsson.com>
Implements: blueprint volume-backed-server-rebuild
Closes-Bug: #1378689
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/528740/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",4,2640a5854978cb88eaf143685ccf843e1818da6d,bug/1378689, orig_image_ref = instance.image_ref or ''," # Check to see if the image is changing and we have a volume-backed # server. The compute doesn't support changing the image in the # root disk of a volume-backed server, so we need to just fail fast. volume = self.volume_api.get(context, root_bdm.volume_id) volume_image_metadata = volume.get('volume_image_metadata', {}) orig_image_ref = volume_image_metadata.get('image_id') if orig_image_ref != image_href: # Leave a breadcrumb. LOG.debug('Requested to rebuild instance with a new image %s ' 'for a volume-backed server with image %s in its ' 'root volume which is not supported.', image_href, orig_image_ref, instance=instance) msg = _('Unable to rebuild with a different image for a ' 'volume-backed server.') raise exception.ImageUnacceptable( image_id=image_href, reason=msg) else: orig_image_ref = instance.image_ref ",119,83
openstack%2Foctavia~master~I1915e2a81d695bb41b9d7e8538dcbaca1f9fc384,openstack/octavia,master,I1915e2a81d695bb41b9d7e8538dcbaca1f9fc384,Disallow pyroute 0.5.13,ABANDONED,2020-07-30 08:42:42.000000000,2020-07-30 09:36:37.000000000,,[],"[{'number': 1, 'created': '2020-07-30 08:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c547a26aacd184eda2bf0849a1e9d02ad35f14bc', 'message': 'Blacklist pyroute 0.5.13\n\nSee: https://github.com/svinota/pyroute2/issues/724\nWaiting for bugfix to land and release, next version should be ok.\nhttps://github.com/svinota/pyroute2/pull/725\n\nChange-Id: I1915e2a81d695bb41b9d7e8538dcbaca1f9fc384\n'}, {'number': 2, 'created': '2020-07-30 08:43:24.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ea08474221dead8969655f93af6899decc535e9', 'message': 'Disallow pyroute 0.5.13\n\nSee: https://github.com/svinota/pyroute2/issues/724\nWaiting for bugfix to land and release, next version should be ok.\nhttps://github.com/svinota/pyroute2/pull/725\n\nChange-Id: I1915e2a81d695bb41b9d7e8538dcbaca1f9fc384\n'}]",0,743926,7ea08474221dead8969655f93af6899decc535e9,3,0,2,10273,,,0,"Disallow pyroute 0.5.13

See: https://github.com/svinota/pyroute2/issues/724
Waiting for bugfix to land and release, next version should be ok.
https://github.com/svinota/pyroute2/pull/725

Change-Id: I1915e2a81d695bb41b9d7e8538dcbaca1f9fc384
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/743926/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c547a26aacd184eda2bf0849a1e9d02ad35f14bc,,"pyroute2>=0.4.21,!=0.5.13;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2)",pyroute2>=0.4.21;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),1,1
openstack%2Fdevstack~master~Ia0570f837b8af1c3fee0a314b026a4a7ed27e6a9,openstack/devstack,master,Ia0570f837b8af1c3fee0a314b026a4a7ed27e6a9,Install bindep packages when installing lib from src,MERGED,2020-07-28 13:57:33.000000000,2020-07-30 09:29:19.000000000,2020-07-30 09:27:55.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-28 13:57:33.000000000', 'files': ['lib/libraries', 'functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dd3731c86a13334125715e44880491042526227c', 'message': ""Install bindep packages when installing lib from src\n\nMost libs maintain their own system packages in a local bindep.txt file.\nWe don't currently use those when installing packages from source, which\ncan result in broken package installs.\n\nThis adds a flag to always attempt to install bindep packages if the\nbindep.txt file exists. If a file cannot be found, it will just emit a\nwarning and carry on.\n\nChange-Id: Ia0570f837b8af1c3fee0a314b026a4a7ed27e6a9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,743548,dd3731c86a13334125715e44880491042526227c,9,4,1,11904,,,0,"Install bindep packages when installing lib from src

Most libs maintain their own system packages in a local bindep.txt file.
We don't currently use those when installing packages from source, which
can result in broken package installs.

This adds a flag to always attempt to install bindep packages if the
bindep.txt file exists. If a file cannot be found, it will just emit a
warning and carry on.

Change-Id: Ia0570f837b8af1c3fee0a314b026a4a7ed27e6a9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/743548/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/libraries', 'functions-common']",2,dd3731c86a13334125715e44880491042526227c,bindep," warn $LINENO ""Can not find bindep file: $file"" return"," die $LINENO ""Can not find bindep file: $file""",3,2
openstack%2Fkayobe~master~Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5,openstack/kayobe,master,Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5,Sync kolla-ansible inventory for Ussuri,MERGED,2020-07-20 13:57:05.000000000,2020-07-30 09:23:22.000000000,2020-07-28 22:44:54.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-07-20 13:57:05.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/936f393d6329982efbfbe876237a96f1a40c92b0', 'message': 'Sync kolla-ansible inventory for Ussuri\n\nBackport: Ussuri\n\nA few services were added at the end of the release which we missed.\n\nChange-Id: Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5\n'}]",0,741950,936f393d6329982efbfbe876237a96f1a40c92b0,15,3,1,14826,,,0,"Sync kolla-ansible inventory for Ussuri

Backport: Ussuri

A few services were added at the end of the release which we missed.

Change-Id: Icc5d1e22a1e0f3b5a9cc23a7c756335b4d4a13c5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/50/741950/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/templates/overcloud-services.j2'],1,936f393d6329982efbfbe876237a96f1a40c92b0,,[zun-cni-daemon:children] compute [vitrage-persistor:children] vitrage ,[monasca-log-api:children] monasca ,6,3
openstack%2Ftripleo-upgrade~master~Ia3764e56b526834283ae46dafe0b94e8a6639c96,openstack/tripleo-upgrade,master,Ia3764e56b526834283ae46dafe0b94e8a6639c96,Switch from include to include_tasks.,MERGED,2020-07-27 21:13:35.000000000,2020-07-30 09:22:48.000000000,2020-07-30 01:46:35.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-27 21:13:35.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cdc3afc9e818234f7e7d562044317052e7189190', 'message': 'Switch from include to include_tasks.\n\nCurrently the main entry point to select the tasks use the deprecated\ninclude tasks.  This leads to a lot of skipped tasks during the any\nrun.\n\nIf you run update you can see all ffwd upgrade tasks and upgrade tasks\nbeing skipped.\n\nThis fix this by using include_tasks with the tag always.\n\nCloses-Bug: #1889126\nChange-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96\n'}]",0,743417,cdc3afc9e818234f7e7d562044317052e7189190,12,7,1,8297,,,0,"Switch from include to include_tasks.

Currently the main entry point to select the tasks use the deprecated
include tasks.  This leads to a lot of skipped tasks during the any
run.

If you run update you can see all ffwd upgrade tasks and upgrade tasks
being skipped.

This fix this by using include_tasks with the tag always.

Closes-Bug: #1889126
Change-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/17/743417/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,cdc3afc9e818234f7e7d562044317052e7189190,, include_tasks: common/create_workload.yml tags: always - include_tasks: upgrade/main.yml tags: always - include_tasks: update/main.yml tags: always - include_tasks: fast-forward-upgrade/main.yml tags: always, include: common/create_workload.yml - include: upgrade/main.yml - include: update/main.yml - include: fast-forward-upgrade/main.yml,8,4
openstack%2Ftempest~master~I62e0ba556b884c94f6e8796a2e6f6d8083277fa4,openstack/tempest,master,I62e0ba556b884c94f6e8796a2e6f6d8083277fa4,Add ConsistencyGroup Exceptions in tempest,MERGED,2020-01-06 11:25:20.000000000,2020-07-30 09:14:09.000000000,2020-01-28 17:43:41.000000000,"[{'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 27615}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-01-06 11:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20b86ac3ffbee0873d4455e45244ecf451fb0151', 'message': 'Add ConsistencyGroupException in tempest\n\nThis exception is required by cinder-tempest-plugin[1] when the\nCG failed to create and is in error state.\nThis exception never existed as part of the original topic[2]\nbut failures are seen while running tests as reported in the bug.\n\n[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140\n[2] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)\n\nChange-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4\nCloses-Bug: #1858417\n'}, {'number': 2, 'created': '2020-01-06 11:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ccf2deb00313b8ff1a1427ace3c6032d05dbbb0', 'message': 'Add ConsistencyGroupException in tempest\n\nThis exception is required by cinder-tempest-plugin[1] when the\nCG failed to create and is in error state.\nThis exception never existed as part of the original topic[2]\nbut failures are seen while running tests as reported in the bug.\n\n[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140\n[2] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)\n\nChange-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4\nCloses-Bug: #1858417\n'}, {'number': 3, 'created': '2020-01-10 09:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1287c4a3f0e3d3a211f5ac59d9683c58220ab39', 'message': 'Add ConsistencyGroupException in tempest\n\nThis exception is required by cinder-tempest-plugin[1] when the\nCG failed to create and is in error state.\nThis exception never existed as part of the original topic[2]\nbut failures are seen while running tests as reported in the bug.\n\n[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140\n[2] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)\n\nChange-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4\nCloses-Bug: #1858417\n'}, {'number': 4, 'created': '2020-01-14 12:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b5cc6b6d7ed02d86b27769407fa9e5eb9635a9e', 'message': 'Add ConsistencyGroup Exceptions in tempest\n\nThe exceptions ConsistencyGroupException and\nConsistencyGroupSnapshotException are required by\ncinder-tempest-plugin[1][2] when the\nCG or CG Snapshot fails to create and is in error state.\nThese exceptions never existed as part of the original topic[3]\nbut failures are seen while running tests as reported in the bug.\n\n[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140\n[2] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L172\n[3] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)\n\nChange-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4\nCloses-Bug: #1858417\n'}, {'number': 5, 'created': '2020-01-24 06:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0951333e0eeaa520eafb6532fb032d39ee6bcba3', 'message': 'Add ConsistencyGroup Exceptions in tempest\n\nThe exceptions ConsistencyGroupException and\nConsistencyGroupSnapshotException are required by\ncinder-tempest-plugin[1][2] when the\nCG or CG Snapshot fails to create and is in error state.\nThese exceptions never existed as part of the original topic[3]\nbut failures are seen while running tests as reported in the bug.\n\n[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140\n[2] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L172\n[3] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)\n\nChange-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4\nCloses-Bug: #1858417\n'}, {'number': 6, 'created': '2020-01-24 07:02:03.000000000', 'files': ['releasenotes/notes/add-consistency-group-exceptions-01cbb792cd710231.yaml', 'tempest/lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fbea823a342c0060693a6880be3d8aad670b3ea8', 'message': 'Add ConsistencyGroup Exceptions in tempest\n\nThe exceptions ConsistencyGroupException and\nConsistencyGroupSnapshotException are required by\ncinder-tempest-plugin[1][2] when the\nCG or CG Snapshot fails to create and is in error state.\nThese exceptions never existed as part of the original topic[3]\nbut failures are seen while running tests as reported in the bug.\n\n[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140\n[2] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L172\n[3] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)\n\nChange-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4\nCloses-Bug: #1858417\n'}]",0,701208,fbea823a342c0060693a6880be3d8aad670b3ea8,57,10,6,27615,,,0,"Add ConsistencyGroup Exceptions in tempest

The exceptions ConsistencyGroupException and
ConsistencyGroupSnapshotException are required by
cinder-tempest-plugin[1][2] when the
CG or CG Snapshot fails to create and is in error state.
These exceptions never existed as part of the original topic[3]
but failures are seen while running tests as reported in the bug.

[1] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L140
[2] https://github.com/openstack/cinder-tempest-plugin/blob/master/cinder_tempest_plugin/services/consistencygroups_client.py#L172
[3] https://review.opendev.org/#/q/topic:cg-tests+(status:open+OR+status:merged)

Change-Id: I62e0ba556b884c94f6e8796a2e6f6d8083277fa4
Closes-Bug: #1858417
",git fetch https://review.opendev.org/openstack/tempest refs/changes/08/701208/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/exceptions.py'],1,20b86ac3ffbee0873d4455e45244ecf451fb0151,bug/1858417,"class ConsistencyGroupException(TempestException): message = ""Consistency group %(cg_id)s failed and is in ERROR status"" ",,4,0
openstack%2Fneutron~stable%2Fussuri~I6fd72bf83def28ae633d720b8495888cea3ac0a3,openstack/neutron,stable/ussuri,I6fd72bf83def28ae633d720b8495888cea3ac0a3,ovn migration: Support stack name,MERGED,2020-07-29 08:34:12.000000000,2020-07-30 08:20:56.000000000,2020-07-30 08:19:19.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-29 08:34:12.000000000', 'files': ['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/20b9e7759f5bf78ea8129355f9d02657714f579d', 'message': 'ovn migration: Support stack name\n\nThe heat stack name is variable. This patch adds a new environment\nvariable to support migrating stacks that are different name than\novercloud.\n\nChange-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit afd63d0b36c664ca42cdda498c6b0478cf9774dd)\n'}]",0,743693,20b9e7759f5bf78ea8129355f9d02657714f579d,10,5,1,8655,,,0,"ovn migration: Support stack name

The heat stack name is variable. This patch adds a new environment
variable to support migrating stacks that are different name than
overcloud.

Change-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit afd63d0b36c664ca42cdda498c6b0478cf9774dd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/743693/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",2,20b9e7759f5bf78ea8129355f9d02657714f579d,adopt_tripleo_change-stable/ussuri,": ${STACK_NAME:=overcloud} /usr/bin/tripleo-ansible-inventory --stack $STACK_NAME --static-yaml-inventory ""$inventory_file""# Check if the stack exists function check_stack { source $STACKRC_FILE openstack stack show $STACK_NAME 1> /dev/null || { echo ""ERROR: STACK_NAME=${STACK_NAME} does not exist. Please provide the stack name or its ID "" echo "" via STACK_NAME environment variable."" exit 1 } } check_stack"," /usr/bin/tripleo-ansible-inventory --static-yaml-inventory ""$inventory_file""",18,1
openstack%2Fkuryr-kubernetes~master~I1e76ea949120f819dcab6d07714522a576e426f2,openstack/kuryr-kubernetes,master,I1e76ea949120f819dcab6d07714522a576e426f2,Pod annotations to KuryrPort CRD.,MERGED,2020-06-03 15:15:57.000000000,2020-07-30 08:20:37.000000000,2020-07-30 08:17:28.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-06-03 15:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8feb0fb64f666a88f464865641b9f647b032b1b4', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 2, 'created': '2020-06-10 08:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/07f1ed078768fdd537c2db1f635ef8dbd54ad49f', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 3, 'created': '2020-06-25 07:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6d7098c29e9cffad9f1080635e870c663a63390c', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 4, 'created': '2020-06-25 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4e02c8a61898050f1ce32cafd98feff689ce1720', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 5, 'created': '2020-06-26 12:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4796aab399348ddd89fcb66e2d099d87be25dae1', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 6, 'created': '2020-06-26 14:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a294ccd00cae96a6adfec20e990287f52367654e', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 7, 'created': '2020-06-30 13:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce97e0f8e3255be75081977d48bfd1fdc0350521', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 8, 'created': '2020-07-01 11:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a18b902e672786ab14d240bcf5df6f977c34360f', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 9, 'created': '2020-07-03 13:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e80aa0dde497518f3a552000ed7d9cdb38632e32', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 10, 'created': '2020-07-10 08:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8d82bd6d2b321d74b20917de0d929f7f563e50d5', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 11, 'created': '2020-07-13 12:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6986907c751aa9f2cbc133231d6ab937cc6de3bb', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 12, 'created': '2020-07-13 12:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/226ae389e93767cdd0b9a5b0834495c89cbc7403', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 13, 'created': '2020-07-13 18:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f428b8a06d10350c983cf84623bb156f397ce1a8', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 14, 'created': '2020-07-16 19:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b29bf7555f5787e73769af9f6ee33a944bc2efa0', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 15, 'created': '2020-07-17 15:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/061accec689e743004b8c2cca9545419b72730f1', 'message': '[WIP] Pod annotations to KuryrPort CRD\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n'}, {'number': 16, 'created': '2020-07-23 07:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/385d87e19c2ed2170a41cb355d971f23ca3ae640', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 17, 'created': '2020-07-24 13:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa70bc8538e0af7c3eb19eb0aa3dc1993c99f7ce', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 18, 'created': '2020-07-24 15:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f9b69e4bdc5ba4daf9efc3547ffaae6301a1f837', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 19, 'created': '2020-07-27 07:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02cc32ba896f4dad307a5aefa730429f394385dc', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 20, 'created': '2020-07-27 12:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d1f4abd4579ec257d9d1c1cd750c99180d2578a1', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 21, 'created': '2020-07-27 15:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7621e898b451387730ede47408ed5e83f5c1e8af', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 22, 'created': '2020-07-28 11:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b63bf9c798cfbdd6b43d6e97082fd1ac099a00b8', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 23, 'created': '2020-07-28 12:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a9062e6b3bf52f9a40f11541e72256b1e6c53bc0', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 24, 'created': '2020-07-28 15:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0f09df68f7a9b4206388be82a8d027157d15b17b', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 25, 'created': '2020-07-28 16:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/33c93f8de35a230215a4f83fdc76a1dd3511b8e4', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 26, 'created': '2020-07-28 17:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/958b8af09a54584946afc23fe862e396019d26e4', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 27, 'created': '2020-07-29 10:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2f01f29e69b7a73722ca24e4ddb6977309921479', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 28, 'created': '2020-07-29 10:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8592a1868d0ca00b8520e1472b35a23b2d8ce159', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 29, 'created': '2020-07-29 11:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7d7857e4d4919f2302e17120f69a739fae9d0ec5', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 30, 'created': '2020-07-29 19:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b6afbb7954363b54fc0ea688b52df69dc18cc3c3', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}, {'number': 31, 'created': '2020-07-29 21:50:27.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'devstack/settings', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'devstack/lib/kuryr_kubernetes', 'kubernetes_crds/kuryr_crds/kuryrport.yaml', 'kuryr_kubernetes/tests/unit/cni/plugins/test_k8s_cni_registry.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'tools/gate/copy_k8s_logs.sh', 'devstack/plugin.sh', '.zuul.d/octavia.yaml', '.zuul.d/sdn.yaml', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_pod_label.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'setup.cfg', 'kuryr_kubernetes/cni/binding/dpdk.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a458fa68942ed13957cf1a443e2d2bbf287d0bda', 'message': ""Pod annotations to KuryrPort CRD.\n\nTill now, we were using pod annotations to store information regarding\nstate of the associated VIFs to pod. This alone have its own issues and\nit's prone to the inconsistency in case of controller failures.\n\nIn this patch we propose new CRD called KuryrPort for storage the\ninformation about VIFs.\n\nDepends-On: If639b63dcf660ed709623c8d5f788026619c895c\nChange-Id: I1e76ea949120f819dcab6d07714522a576e426f2\n""}]",150,733168,a458fa68942ed13957cf1a443e2d2bbf287d0bda,114,5,31,13692,,,0,"Pod annotations to KuryrPort CRD.

Till now, we were using pod annotations to store information regarding
state of the associated VIFs to pod. This alone have its own issues and
it's prone to the inconsistency in case of controller failures.

In this patch we propose new CRD called KuryrPort for storage the
information about VIFs.

Depends-On: If639b63dcf660ed709623c8d5f788026619c895c
Change-Id: I1e76ea949120f819dcab6d07714522a576e426f2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/68/733168/9 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kubernetes_crds/kuryr_crds/kuryrport.yaml', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/constants.py']",5,8feb0fb64f666a88f464865641b9f647b032b1b4,pod-ann-crd,K8S_API_CRD_KURYRPORTS = K8S_API_CRD + '/kuryrports'K8S_OBJ_KURYRPORT = 'KuryrPort',,184,1
openstack%2Ftacker-specs~master~I6d3cca90a637352c701a8985e2ad9e637c2bef34,openstack/tacker-specs,master,I6d3cca90a637352c701a8985e2ad9e637c2bef34,Prometheus plugin for container-based VNFs monitoring specs,NEW,2018-02-02 15:29:54.000000000,2020-07-30 08:19:08.000000000,,"[{'_account_id': 2874}, {'_account_id': 6794}, {'_account_id': 10487}, {'_account_id': 12455}, {'_account_id': 13380}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27068}, {'_account_id': 27334}]","[{'number': 1, 'created': '2018-02-02 15:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f9ab07cff4adad45fb40702e186c3df5ada94d5b', 'message': ""WIP - Prometheus plugin for Application and Container Monitoring in Tacke VNF Manager\n\nDevelop a Prometheous plugin in Tacker VNF manager to monitor VNF(s) especially\ncontainerized VNF(s) that can't be supported by current Tacker monitoring driver.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n""}, {'number': 2, 'created': '2018-02-07 14:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ca666f91bc64727dbd0ab5965d1b22c5e5ac5252', 'message': ""[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNF manager to monitor VNF(s) especially\ncontainerized VNF(s) that can't be supported by current Tacker monitoring driver.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n""}, {'number': 3, 'created': '2018-02-09 16:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6f7ad3cbbfba48491cc4caffec7771a72acc95b6', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) that the current Tacker monitoring drivers do not support.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 4, 'created': '2018-02-10 06:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/71c0cca7fa7d39a0cba01e34aa4865c815d29bca', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) that the current Tacker monitoring drivers do not support.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 5, 'created': '2018-02-13 15:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/00187cd4d516c3731f904995e6606b2f4dba262e', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) that the current Tacker monitoring drivers do not support.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 6, 'created': '2018-02-13 19:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fdfb46cf782880de104beb5d27b177fde2ba46e6', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 7, 'created': '2018-02-14 09:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f66a056919b3effce8cf61748da7296a3791470a', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 8, 'created': '2018-02-14 10:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0bd09f0fe74d503979db71af092a254d136499b4', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 9, 'created': '2018-02-24 18:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/585836b3e6919213cf7d7faf87945dcd99131077', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 10, 'created': '2018-03-24 04:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/405266ef0571b4946b14f842abc9ad671f662b99', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 11, 'created': '2018-03-24 04:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4b0c2e2e2a4da9d544cd99f0f2f1a31cdd252b7f', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 12, 'created': '2018-03-24 04:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b71c4b0ef1bc8779cdc95ea6b1f617be7133a0d7', 'message': '[WIP] Prometheus plugin for Application & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor VNF(s) (VM-based and\ncontainer-based) which the current Tacker monitoring drivers are not capable of.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 13, 'created': '2018-03-24 04:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6386cb334ebf6ce0b91d2a67cc0bc6e5afe5188f', 'message': '[WIP] Prometheus plugin for App & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 14, 'created': '2018-03-26 07:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/618d421141cdb7d097145b96f3c10b3fa83b7509', 'message': '[WIP] Prometheus plugin for App & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 15, 'created': '2018-03-30 12:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6058c3df06cf068f1f3c63246360d23ed8fcf33e', 'message': '[WIP] Prometheus plugin for App & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 16, 'created': '2018-04-06 00:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/08ae5addf371e76452f83c048c5a997e387fa5b0', 'message': '[WIP] Prometheus plugin for App & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 17, 'created': '2018-04-06 05:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/de9f16c00ea9fab6ae4f619e5bde6bc67f8e0993', 'message': '[WIP] Prometheus plugin for App & Container Monitoring in Tacker VNFM\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 18, 'created': '2018-04-06 15:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b97e8994189ecbd2e41c5bb981dff8d8e32da9d4', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 19, 'created': '2018-04-06 15:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/163c3ffe15d1b3b7d6f2cd8e9e7caf7ab045315d', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 20, 'created': '2018-04-10 12:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/39db30174e6549a57791cd1ddfaf05c4f15550b7', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 21, 'created': '2018-04-11 13:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0d50b31462d4fbac8b89d1e49522acf7bc7b7a9c', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 22, 'created': '2018-04-13 15:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3bd55da0f9afb2b3e36e926283b605322223a44e', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 23, 'created': '2018-04-16 16:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6f058c78cb31c92e6bb106abab1537aa8c0289f7', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 24, 'created': '2019-07-12 01:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/890b248bcaf502ad161521c7bf33461ae49f5652', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 25, 'created': '2019-07-12 02:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2ffd01cdc3fd08e4bd4bd4389bbf48e2a8a3319e', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 26, 'created': '2019-07-12 02:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2c4afc2beb42f4c68ba0e5474393a86cc51682e6', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 27, 'created': '2019-07-12 03:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f6a232d3391cef9cef6bc8e2bb91662b8782fbbe', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 28, 'created': '2019-07-12 03:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4baff7132fb6b8e8644b47c86983bdec43aad6b5', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 29, 'created': '2019-07-12 05:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8ea4afa5ee4d20c1cd1620d07f82a9d2a6ffd131', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}, {'number': 30, 'created': '2019-08-02 05:33:15.000000000', 'files': ['specs/train/index.rst', 'specs/train/prometheus-plugin.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f1f23eb64c5c404ae1c2016aed9ac67e2cc9238a', 'message': 'Prometheus plugin for container-based VNFs monitoring specs\n\nDevelop a Prometheous plugin in Tacker VNFM to monitor vm-based and\ncontainer-based VNFs.\n\nChange-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34\nBlueprint: prometheus-plugin\n'}]",56,540416,f1f23eb64c5c404ae1c2016aed9ac67e2cc9238a,91,15,30,27068,,,0,"Prometheus plugin for container-based VNFs monitoring specs

Develop a Prometheous plugin in Tacker VNFM to monitor vm-based and
container-based VNFs.

Change-Id: I6d3cca90a637352c701a8985e2ad9e637c2bef34
Blueprint: prometheus-plugin
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/16/540416/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/prometheus-plugin.rst'],1,f9ab07cff4adad45fb40702e186c3df5ada94d5b,bp/prometheus-plugin,"This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Prometheus Plugin for Application/Container Monitoring in Tacker VNF Manager ============================================================== The URL of the launchpad blueprint: https://blueprints.launchpad.net/tacker/+spec/prometheus-plugin Develop a Prometheus plugin in Tacker VNF manager to monitor application/container level parameters that can't be supported by current Tacker monitoring driver. Problem description =================== Current Tacker monitoring drivers provide simple monitoring capabilities, such as Ceilometer just supports hardware infrastructure resource-related parameters (e.g. CPU or memory usage). Ping and http_ping drivers also support basic checking for aliveness of VNFs. In order to guarantee the availability and stability of network services provided by VNFs, another advanced monitoring tool which supports application/container-level parameters is required into VNF Tacker manager. Prometheus is an open source monitoring system. Prometheus stores all its data in a time series database. However, it offers a multi-dimensional data-model and a powerful query language, allowing system administrators to not only easily fine tune the definitions of their metrics, but also generate more accurate reports. The monitoring targets provided by Prometheus are as follows. * cpu memory / performance * container, cluster, kubernetes status * os performance * process load / number * swap / memory space * FTP, HTTP, MySQL, NTP, POP, SSH, Telnet, SMTP, etc application status * customize monitoring Monitoring supported by Prometheus provides not only the operating system in vnf, but also the status, memory occupancy, cpu, etc. in relation to the application. The templates you need for monitoring can use many more functions through the Prometheus community. It also provides APIs to provide accurate and versatile monitoring capabilities for each VDU. It collects data through special-purpose exporters for services, provides visual monitoring such as graphs and maps and provides triggers and alarms according to the collected data conditions to promptly notify when a user-defined threshold value is exceeded. Depending on these triggers, user-defined commands can be performed to quickly recover from the failure. User-defined commands can be executed through the agent in the VDU. The VNF monitoring that tacker can provide by using this is as follows. * Application monitoring * Resources, network monitoring in VNF (VM or container) * Fault management and recovery within applications in VNFs * Perform predefined commands * Collected data can be graphically displayed * Custom trigger conditions can be set Proposed changes ================ Template Policy, Service Monitoring Driver and Prometheus Plugin are required for interoperation with Prometheus. In Tacker, the IP address, name, etc. for the VDU must be transmitted to the Prometheus server using the API request. Also, it is necessary to transmit a request for generating Template, Item, Trigger, Graph, etc. for monitoring to the server through the API. In addition, Service Monitoring Policy should be defined in Tosca-Template to allow user to define condition value for trigger notification about monitored application, CPU load, and status. Prometheus can collect data (CPU, RAM, disk, network usage) from VNFs using that are installed in each single VM/container. Through Prometheus APIs, we monitor and get all information from Prometheus dashboard such as Graphs. In Tacker VNF descriptor, user defines Prometheus node exporter via user-data, user also defines policies and resources for Prometheus such as thresholds, which metrics will be monitored, etc. Tacker collects the status of VDU. If VDU responds to Respwan action in policy or an additional VDU need to be created for scalability, information about additional VDU is registered as a new monitoring host by requesting Prometheus server for IP information of new VDU through Prometheus plugin. Should be in the opposite case, request the delete API for the existing VDU Host registered in Prometheus Server. The overall workflow is as follows:: +----------------------------+ +---------------+ +--------------------------------+ | | | | | | | Grafana Web UI | | Alertmanager | | Tosca_prometheus_template.yaml | | | | | | | +----------------------------+ +-----^---------+ +------------+-------------------+ | | | | +----------------------------+ | +---------------------v-------------------------+ | Prometheus | | | Tacker | | | | | | | +------------------+ | | | +-----------------------------------------+ | | | | | | | | VNFM | | | | Prometheus | | | | | | | | | Frontend | | | | | +---------------+ +---------------+ | | | +------------------+ | | | | | | | Service | | | | | | | | | Prometheus | | Monitoring | | | | +------------------+ <----------+ +----------+ Plugin <---+ Driver | | | | | | | | | | | | | | | | | | Prometheus | <------------+ | | +---------------+ +---------------+ | | | | Server | | | | | | | +------+-^----+---^+----+ | +-----------------------------------------+ | | | | | | | +-----------------------------------------------+ +----------------------------+ | | | +-------------------------------------------------------+ | | | | | | +-----------------------------------+ | | +-------------------+ | | | | | | | | | | +------------------------------------------------------------------------------------------+ | | | NFVI | | | | +--------------------------------------------------------------------------------------+ | | | | | VNF / c-VNF | | | | | | +---------------------------------------+ +---------------------------------------+ | | | | | | VDU | | | | VDU | | | | | | | +-----v---------------------+-------+ | | +-----v-----------------------+-----+ | | | | | | | Instrumented Jobs/ Exporters | | | | Instrumented Jobs/ Exporters | | | | | | | +---------+--------------+----------+ | | +---------+--------------+----------+ | | | | | | | | | | | | | | | | | | +v--------------v+ | | +v--------------v+ | | | | | | | Scripts | | | | Scripts | | | | | | | +----+---------^-+ | | +----+---------^-+ | | | | | | | | | | | | | | | | | | |--------v---------+------+ | | |--------v---------+------+ | | | | | | | Application Or OS Info | | | | Application Or OS Info | | | | | | | | Or Container Info | | | | Or Container Info | | | | | | | | Or User Define | | | | Or User Define | | | | | | | +-------------------------+ | | +-------------------------+ | | | | | +---------------------------------------+ +---------------------------------------+ | | | +--------------------------------------------------------------------------------------+ | +------------------------------------------------------------------------------------------+ The Prometheus server requests the Prometheus instrumented jobs or exporters built in each VDU to monitor the item to be collected, and the Prometheus instrumented jobs or exporters executes the monitoring script for the embedded item. The collected data is sent to the Prometheus server by the Prometheus Agent, which determines whether the trigger is generated. Triggers can be generated according to the average value of collected data and so on. Tacker VNFM requires Prometheus Server with Service Monitoring Driver and Prometheus Plugin for API request. This allows VDU to be monitored. The Service Monitoring Driver extracts the service monitoring policy from the Tosca template and makes it into a dictionary and delivers it to the Prometheus Plugin. The Prometheus Plugin first sends a token request API to the Prometheus Server to receive the token. Prometheus Plugin requests Prometheus Server host creation API including IP address to register generated VDU as monitoring host. It then requests a generation API with trigger value and application information to perform monitoring for each VDU. All of these processes require tokens. Below is an example of a service monitoring policy. ... Alternatives ------------ Open source monitoring tool providing API(e.g. nagios) Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary author and contact. Trinh Nguyen <dangtrinhnt@gmail.com> Primary assignee: Trinh Nguyen <dangtrinhnt@gmail.com> Work Items ---------- 1. Prometheus-plugin in monitoring_driver 2. Plugin in VNFM for called Prometheus-plugin 3. Additional features in the alarm-receiver for receiving alarms from the Prometheus server 4. Definition of server IP address, Port, Id, Password for requesting Prometheus server from Prometheus-plugin in tacker.conf 5. Extract app_monitoring_policy defined in template from utils, translate_template Dependencies ============ * Prometheus-Server Installation * Prometheus-AlertManager Installation * Prometheus-Exporter Installation * Grafana Installation Testing ======= * Add test function for vnf service (for both VM and container) monitoring * Performance test for vnf failure recovery and detection in Prometheus * Service monitoring policy based on the overall workflow test Documentation Impact ==================== None References ========== .. [#first] https://prometheus.io/docs/introduction/overview/ .. [#second] https://docs.docker.com/config/thirdparty/prometheus/ .. [#third] https://medium.com/@timfpark/simple-kubernetes-cluster-monitoring-with-prometheus-and-grafana-dd27edb1641 .. [#fourth] http://blog.wercker.com/how-to-setup-alerts-on-prometheus .. [#fifth] https://ordina-jworks.github.io/monitoring/2016/09/23/Monitoring-with-Prometheus.html#alert-alert ",,251,0
openstack%2Ftacker-specs~master~I469e9058cd271d694b5246f550e7e6837bcd8c18,openstack/tacker-specs,master,I469e9058cd271d694b5246f550e7e6837bcd8c18,Prometheus plugin for both container-based VNFs and VM-based VNFs monitoring specs,NEW,2019-07-30 08:21:57.000000000,2020-07-30 08:17:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27068}, {'_account_id': 27334}]","[{'number': 1, 'created': '2019-07-30 08:21:57.000000000', 'files': ['specs/train/prometheus-plugin.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9dffaa330dbcc6f0bfa5d9d835f0903889503afe', 'message': 'Prometheus plugin for both container-based VNFs and VM-based VNFs monitoring specs\n\nDevelop Prometheus Plugin for Tacker VNFM to monitor both container-based\nand vm-based VNFs.\n\nChange-Id: I469e9058cd271d694b5246f550e7e6837bcd8c18\n'}]",0,673438,9dffaa330dbcc6f0bfa5d9d835f0903889503afe,11,4,1,27334,,,0,"Prometheus plugin for both container-based VNFs and VM-based VNFs monitoring specs

Develop Prometheus Plugin for Tacker VNFM to monitor both container-based
and vm-based VNFs.

Change-Id: I469e9058cd271d694b5246f550e7e6837bcd8c18
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/38/673438/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/prometheus-plugin.rst'],1,9dffaa330dbcc6f0bfa5d9d835f0903889503afe,bp/prometheus-plugin,"Develop a Prometheus plugin in Tacker VNFM to monitor both vm-based VNFs and container-based VNFs.* Containers and container orchestrators such as Kubernetes. This is supportedIf necessary, you can install it by replacing the above lines with another exporter. After the installation finished, configure the system daemon to ensure that the exporter is always running even when VDU is rebooted.As a result of this process, the node exporter is installed, Prometheus plugin is activated, and installed VNF's mgmt ip is read and registered in Prometheus. Also, based on the information of alert rules, it can provide users the alerts of the monitored results that users want.built in each VDU to monitor the items to be collected. The collected data is sent to the Prometheus server by the Prometheus exporter, which determines whether the trigger is generated. Triggers can be generated according to the average value of collected data and so on.","Develop a Prometheus plugin in Tacker VNFM to monitor container-based VNFs.* Containers and container ochestrators such as Kubernetes. This is supportedIf necessary, you can install it by replacing the above lines with another exporter. After the installation finished, configure the system daemon to ensure that the exporter is always running even when VDU is rebooted.As a result of this process, the node exporter is installed, Prometheus plugin is activated, and installed VNF's mgmt ip is read and registered in Prometheus. Also, based on the information of alert rules, it can provide users the alerts of the monitored results that users want. Tacker collects the status of VDU. If VDU responds to Respwan action in policy or an additional VDU needs to be created for scaling, information about additional VDU is registered as a new monitoring host by requesting Prometheus server for IP information of new VDU through Prometheus exporters. The same mechanism should also be applied when a VDU need to be deleted.built in each VDU to monitor the items to be collected, and the Prometheus instrumented jobs or exporters execute the monitoring script for the embedded item. The collected data is sent to the Prometheus server by the Prometheus exporter, which determines whether the trigger is generated. Triggers can be generated according to the average value of collected data and so on.All of these processes require authentication.",14,21
openstack%2Fpaunch~stable%2Ftrain~Ie2cb3bb63138b70019f86b88066697e98e333669,openstack/paunch,stable/train,Ie2cb3bb63138b70019f86b88066697e98e333669,Make sure failed containers get stopped by systemd,MERGED,2020-07-21 12:48:31.000000000,2020-07-30 07:56:20.000000000,2020-07-30 07:55:08.000000000,"[{'_account_id': 3153}, {'_account_id': 5689}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-21 12:48:31.000000000', 'files': ['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/6f44509dcb4faa4bc0340ae138c86d77ef2e2c84', 'message': 'Make sure failed containers get stopped by systemd\n\nWhen the main PID (i.e., common) of a container is killed because of\nsome reasons, systemd won\'t execute ExecStop command.\nCurrent podman doesn\'t detect this failure ang recognize that container\nis still running and this causes failure when systemd tries to restart\nthe container.\n\nThis patch introduces ExecStopPost configuration into systemd unit\nfiles so that stop operation is executed even when a container fails\nbecause of killed main process. The stale container should be cleaned\nup by ExecStopPost task before systemd tries to restart it.\n\nNote that the similar change has been introcuded to ""podman generate\nsystemd"" command already[1].\n[1] https://github.com/containers/libpod/commit/e5c3432944245a740ed443803c654dcc9c3757f0\n\nChange-Id: Ie2cb3bb63138b70019f86b88066697e98e333669\nCloses-Bug: #1884866\n(cherry picked from commit b8f412d81cf3bbbb4b3d0a420d76e91a3c620799)\n'}]",0,742174,6f44509dcb4faa4bc0340ae138c86d77ef2e2c84,14,7,1,9816,,,0,"Make sure failed containers get stopped by systemd

When the main PID (i.e., common) of a container is killed because of
some reasons, systemd won't execute ExecStop command.
Current podman doesn't detect this failure ang recognize that container
is still running and this causes failure when systemd tries to restart
the container.

This patch introduces ExecStopPost configuration into systemd unit
files so that stop operation is executed even when a container fails
because of killed main process. The stale container should be cleaned
up by ExecStopPost task before systemd tries to restart it.

Note that the similar change has been introcuded to ""podman generate
systemd"" command already[1].
[1] https://github.com/containers/libpod/commit/e5c3432944245a740ed443803c654dcc9c3757f0

Change-Id: Ie2cb3bb63138b70019f86b88066697e98e333669
Closes-Bug: #1884866
(cherry picked from commit b8f412d81cf3bbbb4b3d0a420d76e91a3c620799)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/74/742174/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py']",2,6f44509dcb4faa4bc0340ae138c86d77ef2e2c84,bug/1884866-stable/train,ExecStopPost=/usr/bin/podman stop -t %(stop_grace_period)s %(name)s,,2,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fussuri~I95c2c7c158cfcad6746188b24a0e06ffd2564244,openstack/openstack-ansible-os_gnocchi,stable/ussuri,I95c2c7c158cfcad6746188b24a0e06ffd2564244,Add centos-8 support,MERGED,2020-07-27 18:38:04.000000000,2020-07-30 07:50:49.000000000,2020-07-30 07:47:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:38:04.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/38fedc6c6896755e52ab0ba0b7cbd999dbb4d903', 'message': 'Add centos-8 support\n\nrenaming redhat-7.yml to redhat.yml to support centos-8. (setting non-voting to break telemetry dependency)\n\nChange-Id: I95c2c7c158cfcad6746188b24a0e06ffd2564244\n(cherry picked from commit 99b671d98471ae4c91a3fea9da227bf2d4fc7c23)\n'}]",0,743311,38fedc6c6896755e52ab0ba0b7cbd999dbb4d903,14,4,1,25023,,,0,"Add centos-8 support

renaming redhat-7.yml to redhat.yml to support centos-8. (setting non-voting to break telemetry dependency)

Change-Id: I95c2c7c158cfcad6746188b24a0e06ffd2564244
(cherry picked from commit 99b671d98471ae4c91a3fea9da227bf2d4fc7c23)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/11/743311/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'zuul.d/project.yaml']",2,38fedc6c6896755e52ab0ba0b7cbd999dbb4d903,osa/el8-stable/ussuri, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,,17,1
openstack%2Fkolla~master~I2ecd3b029b956e000feaaa9e10a169521ba53d66,openstack/kolla,master,I2ecd3b029b956e000feaaa9e10a169521ba53d66,Upgrade Fluentd Monasca plugin,MERGED,2020-07-27 12:03:23.000000000,2020-07-30 07:43:12.000000000,2020-07-29 18:40:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30438}]","[{'number': 1, 'created': '2020-07-27 12:03:23.000000000', 'files': ['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/556d4353aa846765557cfdd3c6e087a25248c517', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n'}]",0,743203,556d4353aa846765557cfdd3c6e087a25248c517,12,7,1,17669,,,0,"Upgrade Fluentd Monasca plugin

Switch to YAJI JSON parser as suggested in [1].

[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it

Closes-Bug: #1889065
Change-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/743203/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2']",2,556d4353aa846765557cfdd3c6e087a25248c517,bug/1889065,ARG monasca_output_plugin_tag=1.0.1,ARG monasca_output_plugin_tag=1.0.0,6,1
openstack%2Ftripleo-validations~master~I9016497305b4ec1a1e49b4b1c3cb23d219a42458,openstack/tripleo-validations,master,I9016497305b4ec1a1e49b4b1c3cb23d219a42458,Updated/corrected service_status,MERGED,2020-02-03 12:20:30.000000000,2020-07-30 07:28:31.000000000,2020-02-24 19:42:56.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-03 12:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/63cb5a0059d30515d36e8605070308d25bae8c76', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}, {'number': 2, 'created': '2020-02-10 09:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cdb5cedd4d780bcd05b539c632588f1f9397bb61', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}, {'number': 3, 'created': '2020-02-10 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/04cf323415f5473f6498fcad9f317577a84e82c0', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}, {'number': 4, 'created': '2020-02-11 15:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dd43c75dc2f371b8118dcc6ef9fbfb1aec600921', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\nThis patch also adds some fancy molecule testing.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}, {'number': 5, 'created': '2020-02-11 15:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1e8d4e79602284f6272bff429a993796e257e6b9', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\nThis patch also adds some fancy molecule testing.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}, {'number': 6, 'created': '2020-02-19 08:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6f142de2c61681e4813506df3453932b8f877181', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\nThis patch also adds some fancy molecule testing.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}, {'number': 7, 'created': '2020-02-19 12:33:56.000000000', 'files': ['roles/service_status/molecule/podman/playbook.yml', 'roles/service_status/molecule/systemd/molecule.yml', 'roles/service_status/molecule/systemd/prepare.yml', 'roles/service_status/molecule/podman/bolt_state.db', 'roles/service_status/defaults/main.yaml', 'roles/service_status/molecule/default/molecule.yml', 'roles/service_status/molecule/podman/Dockerfile.j2', 'roles/service_status/tasks/containers.yaml', 'roles/service_status/tasks/main.yaml', 'roles/service_status/molecule/podman/molecule.yml', 'roles/service_status/molecule/podman/prepare.yml', 'roles/service_status/molecule/docker/prepare.yml', 'roles/service_status/molecule/docker/molecule.yml', 'roles/service_status/molecule/systemd/Dockerfile.j2', 'roles/service_status/tasks/systemd.yaml', 'roles/service_status/molecule/default/playbook.yml', 'roles/service_status/molecule/docker/Dockerfile.j2', 'roles/service_status/molecule/docker/playbook.yml', 'roles/service_status/molecule/systemd/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b026524f8ff7098d9ac811124dc1744e9c4d7de2', 'message': 'Updated/corrected service_status\n\nThis patch updates service_status check, importing what was done in\noooq-extras back in 2019[1].\n\nThis will allow to actually ensure only tripleo related services are\nchecked.\n\nThe legacy Docker support is still here in order to allow checking on\nolder releases.\n\nThis patch also adds some fancy molecule testing.\n\n[1] https://review.opendev.org/#/c/637729/\n\nChange-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458\n'}]",3,705429,b026524f8ff7098d9ac811124dc1744e9c4d7de2,34,5,7,28223,,,0,"Updated/corrected service_status

This patch updates service_status check, importing what was done in
oooq-extras back in 2019[1].

This will allow to actually ensure only tripleo related services are
checked.

The legacy Docker support is still here in order to allow checking on
older releases.

This patch also adds some fancy molecule testing.

[1] https://review.opendev.org/#/c/637729/

Change-Id: I9016497305b4ec1a1e49b4b1c3cb23d219a42458
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/29/705429/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/service_status/tasks/containers.yaml', 'roles/service_status/tasks/main.yaml', 'roles/service_status/tasks/systemd.yaml']",3,63cb5a0059d30515d36e8605070308d25bae8c76,service_status,"--- - name: Get failed services from Systemd shell: > systemctl list-units --failed --plain --no-legend --no-pager ""tripleo_*"" register: systemd_state - name: Fails if we find failed systemd units assert: that: - systemd_state.stdout_lines|length == 0 fail_msg: ""The following services failed {{ systemd_state.stdout_lines }}"" success_msg: ""All tripleo units are working fine"" ",,73,15
openstack%2Fironic~master~I60f7ee85ee7ead430dfe216bfea5392355098bd2,openstack/ironic,master,I60f7ee85ee7ead430dfe216bfea5392355098bd2,Trivial: fix a minor issue in standalone docs and improve formatting,MERGED,2020-07-29 08:24:59.000000000,2020-07-30 07:15:08.000000000,2020-07-30 07:05:57.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-29 08:24:59.000000000', 'files': ['doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/52b567e7d5f4e337855b458f5a988d1272d4741a', 'message': 'Trivial: fix a minor issue in standalone docs and improve formatting\n\nFollow-up to commit 74e9e1d82a09b5255d2dd326387ac624ac1ba447\n\nChange-Id: I60f7ee85ee7ead430dfe216bfea5392355098bd2\n'}]",0,743692,52b567e7d5f4e337855b458f5a988d1272d4741a,13,7,1,10239,,,0,"Trivial: fix a minor issue in standalone docs and improve formatting

Follow-up to commit 74e9e1d82a09b5255d2dd326387ac624ac1ba447

Change-Id: I60f7ee85ee7ead430dfe216bfea5392355098bd2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/743692/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/standalone.rst'],1,52b567e7d5f4e337855b458f5a988d1272d4741a,http-basic, set JSON RPC to ``noauth``: .. code-block:: ini auth_strategy = noauth requests: .. code-block:: ini auth_strategy = http_basic http_basic_auth_user_file = /etc/ironic/htpasswd-json-rpc The API server also needs client-side credentials to be specified: .. code-block:: ini auth_type = http_basic username = myName password = myPassword, set JSON RPC to ``noauth``:: auth_strategy=noauth requests:: auth_strategy=http_basic http_basic_auth_user_file=/etc/ironic/htpasswd-json-rpc The API server also needs client-side credentials to be specified:: auth_strategy=http_basic username=myName password=myPassword,15,9
openstack%2Fnetworking-l2gw~stable%2Fpike~I1bf048df49c385a92fea55f99bd0a7c4283960cf,openstack/networking-l2gw,stable/pike,I1bf048df49c385a92fea55f99bd0a7c4283960cf,Retire networking-l2gw: remove zuul jobs,MERGED,2020-07-29 12:14:43.000000000,2020-07-30 07:11:07.000000000,2020-07-30 07:11:07.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 12:14:43.000000000', 'files': ['bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/d2d1decce088b54cb674d14d5649893e06bbf738', 'message': 'Retire networking-l2gw: remove zuul jobs\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace. As a first step\ndisable zuul jobs to avoid collisions when the new repository will be\ncreated as x/networking-l2gw.\n\nConflicts: .zuul.yaml, on rocky there were no templates, and as the\nmain goal is to remove networking-l2gw-tempest-plugin those jobs are\nremoved.\nAdded bindep.txt to make sure that mysql and other things are in place.\nPike: remove tripleo centos jobs and add openstack-python-jobs-neutron\n\nChange-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf\n(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)\n(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)\n(cherry picked from commit 243ea9820f539694b7bb3f2e9eb91eb98cb6ef66)\n(cherry picked from commit 4074c22b0af71d8e8ca92304291143120dcedcc0)\n(cherry picked from commit fe947e393000d242b91e7909d2ddfd7a978aec5d)\n'}]",0,743738,d2d1decce088b54cb674d14d5649893e06bbf738,6,2,1,8313,,,0,"Retire networking-l2gw: remove zuul jobs

networking-l2gw is not a neutron stadium project, and not governed by
openstack, so it is time to move it to x/ namespace. As a first step
disable zuul jobs to avoid collisions when the new repository will be
created as x/networking-l2gw.

Conflicts: .zuul.yaml, on rocky there were no templates, and as the
main goal is to remove networking-l2gw-tempest-plugin those jobs are
removed.
Added bindep.txt to make sure that mysql and other things are in place.
Pike: remove tripleo centos jobs and add openstack-python-jobs-neutron

Change-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf
(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)
(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)
(cherry picked from commit 243ea9820f539694b7bb3f2e9eb91eb98cb6ef66)
(cherry picked from commit 4074c22b0af71d8e8ca92304291143120dcedcc0)
(cherry picked from commit fe947e393000d242b91e7909d2ddfd7a978aec5d)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/38/743738/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml']",2,d2d1decce088b54cb674d14d5649893e06bbf738,review/lajos_katona/complete-retirement-networking-l2gw-stable/train-stable/stein-stable/rocky-stable/queens-stable/pike, templates: - openstack-python-jobs-neutron," name: openstack/networking-l2gw check: jobs: # TripleO jobs that deploy networking-l2gw. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario004-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario004-multinode-oooq - tripleo-ci-centos-7-scenario004-multinode-oooq-container gate: jobs: - tripleo-ci-centos-7-scenario004-multinode-oooq - tripleo-ci-centos-7-scenario004-multinode-oooq-container",34,17
openstack%2Ftacker~stable%2Fussuri~Idf801436ef613fb018b0384934a848eccb23ea23,openstack/tacker,stable/ussuri,Idf801436ef613fb018b0384934a848eccb23ea23,Support scaling operations for VNF based on ETSI NFV-SOL,ABANDONED,2020-07-22 11:58:51.000000000,2020-07-30 07:09:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2020-07-22 11:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ccc00c0efca4f95f9dedc6708eecaf021ff1c3ce', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\nspecification\n\nChange-Id: Idf801436ef613fb018b0384934a848eccb23ea23\n'}, {'number': 2, 'created': '2020-07-29 06:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/77782fb0cad0c49180a07d05767b83b8449dbbad', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nChange-Id: Idf801436ef613fb018b0384934a848eccb23ea23\n'}, {'number': 3, 'created': '2020-07-29 16:16:46.000000000', 'files': ['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/scale_vnf_request.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/conf/__init__.py', 'tacker/vnfm/infra_drivers/scale_driver.py', '.vscode/settings.json', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/808d5f69679194a872dcec59f6e94c5ccde136b0', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nUpdate (07/30): Fixed most Zuul Issues\n\nChange-Id: Idf801436ef613fb018b0384934a848eccb23ea23\n'}]",1261,742403,808d5f69679194a872dcec59f6e94c5ccde136b0,10,2,3,31813,,,0,"Support scaling operations for VNF based on ETSI NFV-SOL

Update (07/30): Fixed most Zuul Issues

Change-Id: Idf801436ef613fb018b0384934a848eccb23ea23
",git fetch https://review.opendev.org/openstack/tacker refs/changes/03/742403/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/scale_vnf_request.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/conf/__init__.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py']",26,ccc00c0efca4f95f9dedc6708eecaf021ff1c3ce,bp/support-etsi-nfv-specs," def _update_vnf_scaling_status_err(self, context, vnf_info): previous_statuses = ['PENDING_SCALE_OUT','PENDING_SCALE_IN','ACTIVE'] try: with context.session.begin(subtransactions=True): vnf_db = self._update_vnf_status_db( context, vnf_info['id'], previous_statuses, 'ERROR') except Exception as e: LOG.warning(""Failed to revert scale info for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_info['id'], ""error"": e}) self._cos_db_plg.create_event( context, res_id=vnf_info['id'], res_type=constants.RES_TYPE_VNF, res_state='ERROR', evt_type=constants.RES_EVT_SCALE, tstamp=timeutils.utcnow()) def _update_vnf_scaling(self, context, vnf_info, previous_statuses, status, vnf_instance=None, vnf_lcm_op_occ=None): with context.session.begin(subtransactions=True): timestamp = timeutils.utcnow() (self._model_query(context, VNF). filter(VNF.id == vnf_info['id']). filter(VNF.status == previous_statuses). update({'status': status, 'updated_at': timestamp})) dev_attrs = vnf_info.get('attributes', {}) (context.session.query(VNFAttribute). filter(VNFAttribute.vnf_id == vnf_info['id']). filter(~VNFAttribute.key.in_(dev_attrs.keys())). delete(synchronize_session='fetch')) for (key, value) in dev_attrs.items(): if 'vim_auth' not in key: self._vnf_attribute_update_or_create(context, vnf_info['id'], key, value) self._cos_db_plg.create_event( context, res_id=vnf_info['id'], res_type=constants.RES_TYPE_VNF, res_state=status, evt_type=constants.RES_EVT_SCALE, tstamp=timestamp) if vnf_lcm_op_occ: vnf_lcm_op_occ.state_entered_time=timestamp vnf_lcm_op_occ.save() if vnf_instance: vnf_instance.save() ",,2410,62
openstack%2Ftripleo-validations~master~I174b5a239a7c1ab7b93323654a417db8f087bc27,openstack/tripleo-validations,master,I174b5a239a7c1ab7b93323654a417db8f087bc27,Run validation only if overcloud exists.,MERGED,2018-05-17 15:30:18.000000000,2020-07-30 06:27:24.000000000,2018-06-05 09:20:21.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10112}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-17 15:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/66a7377cf1da588555e29fcd9e37803ca0f3145f', 'message': 'Run validation only if overcluod exists.\n\nWhen no overcloud is deployed, the\nopenstack-endpoint.yaml validations\nfail. This patch re-orders couple of\ntasks and runs the failing task for\nunavailable endpoints only when an\novercloud exists.\n\nChange-Id: I174b5a239a7c1ab7b93323654a417db8f087bc27\nStory: #2002061\n'}, {'number': 2, 'created': '2018-05-18 10:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3705ff043eeafacd157c221370b72e8c5a7d8206', 'message': 'Run validation only if overcluod exists.\n\nWhen no overcloud is deployed, the openstack-endpoint.yaml validations\nfail. This patch re-orders couple of tasks and runs the failing task for\nunavailable endpoints only when an overcloud exists.\n\nChange-Id: I174b5a239a7c1ab7b93323654a417db8f087bc27\nStory: #2002061\n'}, {'number': 3, 'created': '2018-05-18 10:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4a42f369373f9a0eb778925c70da288b33ad15ff', 'message': 'Run validation only if overcloud exists.\n\nWhen no overcloud is deployed, the openstack-endpoint.yaml validations\nfail. This patch re-orders couple of tasks and runs the failing task for\nunavailable endpoints only when an overcloud exists.\n\nChange-Id: I174b5a239a7c1ab7b93323654a417db8f087bc27\nStory: #2002061\n'}, {'number': 4, 'created': '2018-05-31 09:47:24.000000000', 'files': ['validations/openstack-endpoints.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/864ab1d64d36562d163bf407d842e190c0e27531', 'message': 'Run validation only if overcloud exists.\n\nWhen no overcloud is deployed, the openstack-endpoint.yaml validations\nfail. This patch re-orders couple of tasks and runs the failing task for\nunavailable endpoints only when an overcloud exists.\n\nChange-Id: I174b5a239a7c1ab7b93323654a417db8f087bc27\nStory: #2002061\n'}]",8,569151,864ab1d64d36562d163bf407d842e190c0e27531,23,11,4,26343,,,0,"Run validation only if overcloud exists.

When no overcloud is deployed, the openstack-endpoint.yaml validations
fail. This patch re-orders couple of tasks and runs the failing task for
unavailable endpoints only when an overcloud exists.

Change-Id: I174b5a239a7c1ab7b93323654a417db8f087bc27
Story: #2002061
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/51/569151/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/openstack-endpoints.yaml'],1,66a7377cf1da588555e29fcd9e37803ca0f3145f,569151," - name: Set fact to identify if the overcloud was deployed set_fact: overcloud_deployed: ""{{ groups['overcloud'] is defined }}"" when: overcloud_horizon_url|default('') == '' and overcloud_deployed|bool # Check that the Keystone endpoint exists - name: Fail if KeystoneURL output is not available fail: msg=""The `KeystoneURL` output is not available in the deployed stack."" when: overcloud_keystone_url|default('') == '' and overcloud_deployed|bool "," when: overcloud_horizon_url|default('') == '' - name: Fail if KeystoneURL output is not available fail: msg=""The `KeystoneURL` output is not available in the deployed stack."" when: overcloud_keystone_url|default('') == ''",10,4
openstack%2Fopenstack-helm-infra~master~I4af33e57ee31c0d4f52afb3e2ff248039333f702,openstack/openstack-helm-infra,master,I4af33e57ee31c0d4f52afb3e2ff248039333f702,Improve overrides diff script,MERGED,2020-07-22 20:58:36.000000000,2020-07-30 05:54:21.000000000,2020-07-30 05:53:17.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 20:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7cbe0e44339644be7c63b9f2ea298e1eb42c0e6e', 'message': ""Don't require both osh and osh-infra to exist for image overrides\n\nChange-Id: I4af33e57ee31c0d4f52afb3e2ff248039333f702\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 2, 'created': '2020-07-22 21:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e79fb6ac244e45216a7e75304c9f35187164d2da', 'message': 'Fix issue with overrides diff\n\nChange-Id: I4af33e57ee31c0d4f52afb3e2ff248039333f702\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-22 22:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f7fc0ab5036d4ae43633323b5de53e17b2ff020', 'message': 'Improve overrides diff script\n\nChange-Id: I4af33e57ee31c0d4f52afb3e2ff248039333f702\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-23 02:25:39.000000000', 'files': ['roles/override-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68097edf360873f9b0233e79d1926b2e92d7d98c', 'message': 'Improve overrides diff script\n\nChange-Id: I4af33e57ee31c0d4f52afb3e2ff248039333f702\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,742540,68097edf360873f9b0233e79d1926b2e92d7d98c,12,4,4,8863,,,0,"Improve overrides diff script

Change-Id: I4af33e57ee31c0d4f52afb3e2ff248039333f702
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/742540/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/override-images/tasks/main.yaml'],1,7cbe0e44339644be7c63b9f2ea298e1eb42c0e6e,," set -ex; dir=""{{ work_dir }}/../${dir}/"" if [ ! -d ""${dir}"" ]; then continue; fi cd ""${dir}""; git diff;", cd {{ work_dir }}/../${dir}/; git diff;,4,1
openstack%2Fmanila~stable%2Ftrain~Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb,openstack/manila,stable/train,Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb,Monkey patch original current_thread _active,MERGED,2020-07-27 22:37:49.000000000,2020-07-30 05:41:27.000000000,2020-07-30 05:40:12.000000000,"[{'_account_id': 11805}, {'_account_id': 16643}, {'_account_id': 20634}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-27 22:37:49.000000000', 'files': ['manila/cmd/share.py', 'manila/cmd/scheduler.py', 'manila/cmd/data.py', 'manila/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/779ae5f1f1cd8328d1423f13550c21fe53b0c803', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb\nCloses-Bug: #1863021\n(cherry picked from commit 5e9f694a5a8f90c72680acb1181318930f55aa30)\n(cherry picked from commit 7196cfcb091d66856a1ca0db53816198249196db)\n'}]",0,743431,779ae5f1f1cd8328d1423f13550c21fe53b0c803,23,7,1,16643,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb
Closes-Bug: #1863021
(cherry picked from commit 5e9f694a5a8f90c72680acb1181318930f55aa30)
(cherry picked from commit 7196cfcb091d66856a1ca0db53816198249196db)
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/743431/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/cmd/share.py', 'manila/cmd/scheduler.py', 'manila/cmd/data.py', 'manila/cmd/api.py']",4,779ae5f1f1cd8328d1423f13550c21fe53b0c803,bug/1863021,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,24,0
openstack%2Fos-brick~master~Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a,openstack/os-brick,master,Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a,Retype from non encrypted to encrypted volume is not supported,NEW,2020-05-08 20:11:21.000000000,2020-07-30 05:25:02.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-05-08 20:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/279f3c05130f24abb4e788f4ec058643ad4ffe41', 'message': ""Retype from non encrypted to encrypted volume in ceph backend fails\n\nCurrently RBD has a device_path set and that to an object rather than a string.\n\n'device_path': <os_brick.initiator.linuxrbd.RBDVolumeIOWrapper object at 0x7fd3e710da90>\n\nRBDVolumeIOWrapper object being passed to os.path.basename is causing the next two errors:\n- TypeError: expected str, bytes or os.PathLike object, not RBDVolumeIOWrapper\n- AttributeError: 'RBDVolumeIOWrapper' object has no attribute 'rfind'\n\nThis patch fixes the type confusion problem that makes this break in a messy way now.\n\nChange-Id: Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a\n""}, {'number': 2, 'created': '2020-05-11 17:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/16988c8183e4a033ae6af91a7e6b192f42d1814a', 'message': ""Retype from non encrypted to encrypted volume in ceph backend fails\n\nCurrently RBD has a device_path set and that to an object rather than a\nstring.\n\n'device_path': <os_brick.initiator.linuxrbd.RBDVolumeIOWrapper object>\n\nRBDVolumeIOWrapper object being passed to os.path.basename is causing\nthe next two errors:\n\n- TypeError: expected str, bytes or os.PathLike object, not\nRBDVolumeIOWrapper.\n\n- AttributeError: 'RBDVolumeIOWrapper' object has no attribute 'rfind'.\n\nThis patch fixes the type confusion problem that makes this break in a\nmessy way now.\n\nChange-Id: Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a\n""}, {'number': 3, 'created': '2020-05-15 19:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/dbcdb8424432dcbaab1d6229a0fbab52ccf21f95', 'message': ""Retype from non encrypted to encrypted volume in ceph backend fails\n\nCurrently RBD has a device_path set and that to an object rather than a\nstring.\n\n'device_path': <os_brick.initiator.linuxrbd.RBDVolumeIOWrapper object>\n\nRBDVolumeIOWrapper object being passed to os.path.basename is causing\nthe next two errors:\n\n- TypeError: expected str, bytes or os.PathLike object, not\nRBDVolumeIOWrapper.\n\n- AttributeError: 'RBDVolumeIOWrapper' object has no attribute 'rfind'.\n\nThis patch fixes the type confusion problem that makes this break in a\nmessy way now.\n\nChange-Id: Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a\n""}, {'number': 4, 'created': '2020-06-30 18:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7193600227638481d192c8bd04e951f44dcc7fb4', 'message': ""Retype from non encrypted to encrypted volume in ceph backend fails\n\nCurrently RBD has a device_path set and that to an object rather than a\nstring.\n\n'device_path': <os_brick.initiator.linuxrbd.RBDVolumeIOWrapper object>\n\nRBDVolumeIOWrapper object being passed to os.path.basename is causing\nthe next two errors:\n\n- TypeError: expected str, bytes or os.PathLike object, not\nRBDVolumeIOWrapper.\n\n- AttributeError: 'RBDVolumeIOWrapper' object has no attribute 'rfind'.\n\nThis patch fixes the type confusion problem that makes this break in a\nmessy way now.\n\nChange-Id: Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a\n""}, {'number': 5, 'created': '2020-06-30 18:26:07.000000000', 'files': ['os_brick/encryptors/cryptsetup.py', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/aa97f3c082fc7f3b653e623334eef755d5c21e4f', 'message': ""Retype from non encrypted to encrypted volume is not supported\n\nCurrently RBD's device_path is an RBDVolumeIOWrapper object rather than\na string. Because of that, the os.path.basename fails and shows the next\ntwo errors:\n\n- TypeError: expected str, bytes or os.PathLike object, not\nRBDVolumeIOWrapper.\n- AttributeError: 'RBDVolumeIOWrapper' object has no attribute 'rfind'.\n\nThis patch adds a clearer\xa0 error for the type confusion problem that\nmakes this break in a messy way now.\n\nChange-Id: Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a\n""}]",4,726467,aa97f3c082fc7f3b653e623334eef755d5c21e4f,50,19,5,20813,,,0,"Retype from non encrypted to encrypted volume is not supported

Currently RBD's device_path is an RBDVolumeIOWrapper object rather than
a string. Because of that, the os.path.basename fails and shows the next
two errors:

- TypeError: expected str, bytes or os.PathLike object, not
RBDVolumeIOWrapper.
- AttributeError: 'RBDVolumeIOWrapper' object has no attribute 'rfind'.

This patch adds a clearer  error for the type confusion problem that
makes this break in a messy way now.

Change-Id: Ie85b11bc9c9474ba4dbd92e5afa6d996aa19580a
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/67/726467/4 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/encryptors/cryptsetup.py'],1,279f3c05130f24abb4e788f4ec058643ad4ffe41,retype-encrypted," try: # a unique name for the volume -- e.g., the iSCSI participant name self.dev_name = 'crypt-%s' % os.path.basename(self.symlink_path) except (AttributeError, TypeError): # TODO(enriquetaso): re enable RBD driver raise exception.VolumeEncryptionNotSupported( volume_id=volume_id, volume_type=connection_info['driver_volume_type'])"," # a unique name for the volume -- e.g., the iSCSI participant name self.dev_name = 'crypt-%s' % os.path.basename(self.symlink_path)",8,2
openstack%2Fopenstack-helm~master~I8473e5ff10545ece87a5a2bc389949af85817d69,openstack/openstack-helm,master,I8473e5ff10545ece87a5a2bc389949af85817d69,Imported Translations from Zanata,MERGED,2020-07-29 08:50:38.000000000,2020-07-30 05:13:23.000000000,2020-07-30 05:11:59.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 08:50:38.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/102bd0deef609af2567317cb892d8ae1594f2075', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8473e5ff10545ece87a5a2bc389949af85817d69\n'}]",0,743696,102bd0deef609af2567317cb892d8ae1594f2075,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8473e5ff10545ece87a5a2bc389949af85817d69
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/96/743696/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/id/LC_MESSAGES/doc-install.po'],1,102bd0deef609af2567317cb892d8ae1594f2075,zanata/translations,"""Project-Id-Version: openstack-helm 0.1.1.dev3116\n""""POT-Creation-Date: 2020-07-29 07:39+0000\n""""PO-Revision-Date: 2020-07-28 07:06+0000\n""""Alternatively, these steps can be performed by running the script directly::"" msgstr """" ""Atau, langkah-langkah ini dapat dilakukan dengan menjalankan skrip secara "" ""langsung ::"" msgid """"""As a final validation step, re-run the **openstack helm stack list** and "" ""**openstack helm keypair list** commands and confirm the returned results "" ""are shown as empty.::"" msgstr """" ""Sebagai langkah validasi terakhir, jalankan kembali **openstack helm stack "" ""list** dan **openstack helm keypair list** perintah dan konfirmasi hasil "" ""yang dikembalikan ditampilkan sebagai kosong.::"" msgid """"msgid """" ""Below are some instructions and suggestions to help you get started with a "" ""Kubeadm All-in-One environment on Ubuntu 18.04. Other supported versions of "" ""Linux can also be used, with the appropriate changes to package installation."" msgstr """" ""Di bawah ini adalah beberapa petunjuk dan saran untuk membantu Anda memulai "" ""dengan lingkungan Kubeadm All-in-One di Ubuntu 18.04. Versi Linux yang "" ""didukung lainnya juga dapat digunakan, dengan perubahan yang sesuai untuk "" ""instalasi paket."" ""By default OSH will use Google DNS Server IPs (8.8.8.8, 8.8.4.4) and will "" ""update resolv.conf as a result. If those IPs are blocked by your proxy, "" ""running the OSH scripts will result in the inability to connect to anything "" ""on the network. These DNS nameserver entries can be changed by updating the "" ""external_dns_nameservers entry in the file ``openstack-helm-infra/tools/"" ""images/kubeadm-aio/assets/opt/playbooks/vars.yaml``."" msgstr """" ""Secara default, OSH akan menggunakan IP Server DNS Google (8.8.8.8, 8.8.4.4) "" ""dan sebagai hasilnya akan memperbarui resolv.conf. Jika IP tersebut diblokir "" ""oleh proxy Anda, menjalankan skrip OSH akan mengakibatkan ketidakmampuan "" ""untuk terhubung ke apa pun di jaringan. Entri nameserver DNS ini dapat "" ""diubah dengan memperbarui entri external_dns_nameservers dalam file "" ""``openstack-helm-infra/tools/images/kubeadm-aio/assets/opt/playbooks/vars."" ""yaml``."" msgid """"msgid ""Create loopback devices for CEPH"" msgstr ""Buat perangkat loopback untuk CEPH"" msgid """" ""Create two loopback devices for ceph as one disk for OSD data and other disk "" ""for block DB and block WAL. If loop0 and loop1 devices are busy in your "" ""case , feel free to change them in parameters by using --ceph-osd-data and --"" ""ceph-osd-dbwal options."" msgstr """" ""Buat dua perangkat loopback untuk ceph sebagai satu disk untuk data OSD dan "" ""disk lain untuk blok DB dan blok WAL. Jika perangkat loop0 dan loop1 sibuk "" ""dalam kasus Anda, jangan ragu untuk mengubahnya dalam parameter dengan "" ""menggunakan opsi --ceph-osd-data dan --ceph-osd-dbwal."" msgid ""Delete the keypair(s) returned from the list command above::"" msgstr ""Hapus keypair(s) yang dikembalikan dari perintah daftar di atas::"" msgid """" ""Delete the stacks returned from the *openstack helm stack list* command "" ""above::"" msgstr """" ""Hapus stacks yang dikembalikan dari *openstack helm stack list* perintah di "" ""atas ::"" msgid """" ""Depending on your specific proxy, https_proxy may be the same as http_proxy. "" ""Refer to your specific proxy documentation."" msgstr """" ""Bergantung pada proksi spesifik Anda, https_proxy mungkin sama dengan "" ""http_proxy. Rujuk ke dokumentasi proxy spesifik Anda."" msgid ""Deployment with Tungsten Fabric"" msgstr ""Penerapan dengan Tungsten Fabric"" msgid """" ""Execution of the **900-use-it.sh** script results in the creation of 4 heat "" ""stacks and a unique keypair enabling access to a newly created VM. "" ""Subsequent runs of the **900-use-it.sh** script requires deletion of the "" ""stacks, a keypair, and key files, generated during the initial script "" ""execution."" msgstr """" ""Eksekusi skrip ** 900-use-it.sh ** menghasilkan penciptaan 4 heat stacks dan "" ""keypair unik yang memungkinkan akses ke VM yang baru dibuat. Proses "" ""selanjutnya dari skrip **900-use-it.sh ** memerlukan penghapusan stacks, "" ""keypair, dan key files, yang dihasilkan selama eksekusi skrip awal."" ""First you have to set up OpenStack and Linux versions and install needed "" ""packages"" msgstr """" ""Pertama, Anda harus mengatur versi OpenStack dan Linux dan menginstal paket "" ""yang diperlukan"" msgid """"msgid ""Host Proxy & DNS Configuration"" msgstr ""Host Proxy dan Konfigurasi DNS"" ""If you are not deploying OSH behind a proxy, skip this step and continue "" ""with \""Deploy Kubernetes & Helm\""."" msgstr """" ""Jika Anda tidak menggunakan OSH di belakang proxy, lewati langkah ini dan "" ""lanjutkan dengan \""Deploy Kubernetes & Helm\""."" msgid ""If you are not deploying OSH behind a proxy, skip this step."" msgstr ""Jika Anda tidak menggunakan OSH di belakang proxy, lewati langkah ini."" msgid """"""In order to deploy OSH behind a proxy, add the following entries to "" ""``openstack-helm-infra/tools/gate/devel/local-vars.yaml``:"" msgstr """" ""Untuk menggunakan OSH di belakang proxy, tambahkan entri berikut ke "" ""``openstack-helm-infra/tools/gate/devel/local-vars.yaml``:"" msgid """"msgid ""Install Basic Utilities"" msgstr ""Install Basic Utilities"" msgid ""Install OpenStack packages"" msgstr ""Instal paket OpenStack"" msgid ""Install k8s Minikube"" msgstr ""Instal k8s Minikube"" msgid ""Intro"" msgstr ""Intro"" msgid ""List the keypair(s) generated during the script execution::"" msgstr ""Daftar keypair(s) yang dihasilkan selama eksekusi skrip::"" msgid """" ""List the stacks created during script execution which will need to be "" ""deleted::"" msgstr ""Daftar stacks yang dibuat selama eksekusi skrip yang perlu dihapus ::"" ""Manually remove the keypair directories created from the script in the ~/."" ""ssh directory::"" msgstr """" ""Hapus secara manual direktori keypair yang dibuat dari skrip di ~/.ssh "" ""directory::"" msgid """"msgid ""OSH Proxy & DNS Configuration"" msgstr ""Konfigurasi Proxy & DNS OSH"" msgid """" ""OSH runs updates for local apt packages, so we will need to set the proxy "" ""for apt as well by adding these lines to `/etc/apt/apt.conf`:"" msgstr """" ""OSH menjalankan pembaruan untuk paket apt lokal, jadi kami juga perlu "" ""mengatur proxy untuk apt dengan menambahkan baris-baris ini ke `/etc/apt/"" ""apt.conf`:"" msgid ""Prepare host"" msgstr ""Siapkan host"" msgid ""Prepare host and openstack helm for tf"" msgstr ""Siapkan host dan openstack helm untuk tf"" msgid """" ""Set your local environment variables to use the proxy information. This "" ""involves adding or setting the following values in ``/etc/environment``:"" msgstr """" ""Setel variabel lingkungan lokal Anda untuk menggunakan informasi proxy. Ini "" ""melibatkan penambahan atau pengaturan nilai berikut di ``/etc/environment``:"" msgid ""Setup DNS for use cluster DNS"" msgstr ""Setup DNS untuk menggunakan DNS cluster"" msgid ""Setup Glance"" msgstr ""Setup Glance"" msgid ""Setup Heat"" msgstr ""Setup Heat"" msgid ""Setup Ingress"" msgstr ""Setup Ingress"" msgid ""Setup Keystone"" msgstr ""Setup Keystone"" msgid ""Setup MariaDB"" msgstr ""Setup MariaDB"" msgid ""Setup Memcached"" msgstr ""Setup Memcached"" msgid ""Setup NFS"" msgstr ""Setup NFS"" msgid ""Setup Neutron and Nova"" msgstr ""Setup Neutron dan Nova"" msgid ""Setup OpenStack client"" msgstr ""Atur klien OpenStack"" msgid ""Setup RabbitMQ"" msgstr ""Setup RabbitMQ"" msgid ""Setup Tungsten Fabric"" msgstr ""Setup Tungsten Fabric"" msgid ""Setup env for apply values_overrides"" msgstr ""Siapkan env untuk menerapkan values_overrides"" msgid ""Setup libvirt"" msgstr ""Setup libvirt"" msgid ""Subsequent Runs & Post Clean-up"" msgstr ""Subsequent Runs & Post Clean-up"" ""The following steps serve as a guide to clean-up the client environment by "" ""deleting stacks and respective artifacts created during the **900-use-it."" ""sh** script:"" msgstr """" ""Langkah-langkah berikut berfungsi sebagai panduan untuk membersihkan "" ""lingkungan klien dengan menghapus stacks dan artefak masing-masing yang "" ""dibuat selama skrip **900-use-it.sh **:"" msgid """"""The script below configures Ceph to use loopback devices created in previous "" ""step as backend for ceph osds. To configure a custom block device-based "" ""backend, please refer to the ``ceph-osd`` `values.yaml <https://github.com/"" ""openstack/openstack-helm/blob/master/ceph-osd/values.yaml>`_."" msgstr """" ""Script di bawah mengkonfigurasi Ceph untuk menggunakan perangkat loopback "" ""yang dibuat pada langkah sebelumnya sebagai backend untuk ceph osds. Untuk "" ""mengonfigurasi backend berbasis perangkat khusus blokir, silakan merujuk ke "" ""``ceph-osd`` `values.yaml <https://github.com/openstack/openstack-helm/blob/"" ""master/ceph-osd/values.yaml>`_."" msgid """"msgid ""These values can be retrieved by running:"" msgstr ""Nilai-nilai ini dapat diambil dengan menjalankan:"" ""This script will create two loopback devices for ceph as one disk for OSD "" ""data and other disk for block DB and block WAL. If loop0 and loop1 devices "" ""are busy in your case , feel free to change them in parameters."" msgstr """" ""Script ini akan membuat dua perangkat loopback untuk ceph sebagai satu disk "" ""untuk data OSD dan disk lain untuk blok DB dan blok WAL. Jika perangkat "" ""loop0 dan loop1 sibuk dalam kasus Anda, jangan ragu untuk mengubahnya dalam "" ""parameter."" msgid """"""To continue to deploy OpenStack on Kubernetes via OSH, see :doc:`Deploy "" ""NFS<./deploy-with-nfs>` or :doc:`Deploy Ceph<./deploy-with-ceph>`."" msgstr """" ""Untuk terus menggunakan OpenStack di Kubernetes melalui OSH, lihat :doc:"" ""`Deploy NFS<./deploy-with-nfs>` or :doc:`Deploy Ceph<./deploy-with-ceph>`."" msgid """"msgid ""To get started with OSH, we will need both ``git`` and ``curl``."" msgstr ""Untuk memulai dengan OSH, kita membutuhkan ``git`` dan ``curl``."" ""Tungsten Fabric is the multicloud and multistack network solution which you "" ""can use for your OpenStack as a network plugin. This document decribes how "" ""you can deploy a single node Open Stack based on Tungsten Fabric using "" ""openstack helm for development purpose."" msgstr """" ""Tungsten Fabric adalah solusi jaringan multicloud dan multistack yang dapat "" ""Anda gunakan untuk OpenStack Anda sebagai plugin jaringan. Dokumen ini "" ""menjelaskan bagaimana Anda bisa menggunakan Open Stack node tunggal "" ""berdasarkan Tungsten Fabric menggunakan OpenStack helm untuk tujuan "" ""pengembangan."" msgid """"""Your changes to `/etc/environment` will not be applied until you source them:"" msgstr """" ""Perubahan Anda ke `/etc/environment` tidak akan diterapkan sampai Anda "" ""sumbernya:"" msgid """"","""Project-Id-Version: openstack-helm 0.1.1.dev3067\n""""POT-Creation-Date: 2020-07-09 22:40+0000\n""""PO-Revision-Date: 2020-01-08 01:54+0000\n""",275,3
openstack%2Ftripleo-quickstart~master~I5302e4ac3dfaeefa106cf308ab41e5b25f520df9,openstack/tripleo-quickstart,master,I5302e4ac3dfaeefa106cf308ab41e5b25f520df9,Pin pip to last good version - 20.1.1 for c7,MERGED,2020-07-29 08:21:29.000000000,2020-07-30 05:07:14.000000000,2020-07-30 05:06:04.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-29 08:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bd7251a554d6b3f1a404144f0bfeac490303f806', 'message': 'Pin pip to last good version - 20.1.1\n\npip-20.2 break c7 jobs, details in bug[1]. With this patch we are\npinning pip to last good version.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1889357\n\nChange-Id: I5302e4ac3dfaeefa106cf308ab41e5b25f520df9\nPartial-Bug: #1889357\n'}, {'number': 2, 'created': '2020-07-29 08:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ceea3d62cf9094a6411e1aa7b518d7b9eee8613', 'message': 'Pin pip to last good version - 20.1.1\n\npip-20.2 break c7 jobs, details in bug[1]. With this patch we are\npinning pip to last good version.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1889357\n\nChange-Id: I5302e4ac3dfaeefa106cf308ab41e5b25f520df9\nPartial-Bug: #1889357\n'}, {'number': 3, 'created': '2020-07-29 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b4eecb20987ceb6f07fa727b74875708bb2634ab', 'message': 'Pin pip to last good version - 20.1.1 for c7\n\npip-20.2 break c7 jobs, details in bug[1]. With this patch we are\npinning pip to last good version for Centos7.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1889357\n\nChange-Id: I5302e4ac3dfaeefa106cf308ab41e5b25f520df9\nPartial-Bug: #1889357\n'}, {'number': 4, 'created': '2020-07-29 17:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ccbf39ec5788f60ea7f4f54d1dead96cb15b6aeb', 'message': 'Pin pip to last good version - 20.1.1 for c7\n\npip-20.2 break c7 jobs, details in bug[1]. With this patch we are\npinning pip to last good version for Centos7.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1889357\n\nDepends-On: https://review.opendev.org/#/c/743629/\nChange-Id: I5302e4ac3dfaeefa106cf308ab41e5b25f520df9\nPartial-Bug: #1889357\n'}, {'number': 5, 'created': '2020-07-29 22:57:29.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/031aa65b26263af24b3226c46d496953b11589fe', 'message': 'Pin pip to last good version - 20.1.1 for c7\n\npip-20.2 break c7 jobs, details in bug[1]. With this patch we are\npinning pip to last good version for Centos7.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1889357\n\nChange-Id: I5302e4ac3dfaeefa106cf308ab41e5b25f520df9\nPartial-Bug: #1889357\n'}]",1,743691,031aa65b26263af24b3226c46d496953b11589fe,28,10,5,29775,,,0,"Pin pip to last good version - 20.1.1 for c7

pip-20.2 break c7 jobs, details in bug[1]. With this patch we are
pinning pip to last good version for Centos7.

[1] https://bugs.launchpad.net/tripleo/+bug/1889357

Change-Id: I5302e4ac3dfaeefa106cf308ab41e5b25f520df9
Partial-Bug: #1889357
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/91/743691/3 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,bd7251a554d6b3f1a404144f0bfeac490303f806,, $(python_cmd) -m pip install pip --upgrade==20.1.1, $(python_cmd) -m pip install pip --upgrade,1,1
openstack%2Fswift~master~Ib2fd1ef3fa94d3dd26e62c01728fc94e765e9392,openstack/swift,master,Ib2fd1ef3fa94d3dd26e62c01728fc94e765e9392,crypto: Add config option to support rolling upgrades,ABANDONED,2020-07-23 21:57:24.000000000,2020-07-30 05:06:54.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 21:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dbbede949ccfd893f67d262025ee83aaccd29d08', 'message': 'crypto: Add config option to support rolling upgrades\n\nChange-Id: Ib2fd1ef3fa94d3dd26e62c01728fc94e765e9392\nRelated-Bug: 1813725\nRelated-Bug: 1888037\n'}, {'number': 2, 'created': '2020-07-23 22:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/48ad37a022571f63bce014c8f0dd50329b39fbf6', 'message': 'crypto: Add config option to support rolling upgrades\n\nChange-Id: Ib2fd1ef3fa94d3dd26e62c01728fc94e765e9392\nRelated-Bug: 1813725\nRelated-Bug: 1888037\n'}, {'number': 3, 'created': '2020-07-23 23:28:38.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d8487fa3900c7f9e5aa9a16d800d9ebf5d2e8ed7', 'message': 'crypto: Add config option to support rolling upgrades\n\nChange-Id: Ib2fd1ef3fa94d3dd26e62c01728fc94e765e9392\nRelated-Bug: 1813725\nRelated-Bug: 1888037\n'}]",1,742756,d8487fa3900c7f9e5aa9a16d800d9ebf5d2e8ed7,6,2,3,15343,,,0,"crypto: Add config option to support rolling upgrades

Change-Id: Ib2fd1ef3fa94d3dd26e62c01728fc94e765e9392
Related-Bug: 1813725
Related-Bug: 1888037
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/742756/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py']",3,dbbede949ccfd893f67d262025ee83aaccd29d08,bug/1888037," self.verify_v2_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) def test_unicode_object_path(self): # NB: path is WSGI self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v2_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) # Double-whammy: *also* hit the os.path.join issue self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v2_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) def verify_keys_for_path(self, wsgi_path, expected_keys, key_id=None): method, '/v1' + wsgi_path, resp_class, resp_headers, b'') '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) path = swob.wsgi_to_str(wsgi_path) def verify_v2_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None self.app.meta_version_to_write = '2' for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) self.assertEqual('2', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '3' # Clean up after ourselves return put_keys def verify_v1_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None self.app.meta_version_to_write = '1' for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if '//' in path: path = path[path.index('//') + 1:] if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) self.assertEqual('1', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '3' # Clean up after ourselves return put_keys "," def verify_keys_for_path(self, path, expected_keys, key_id=None): method, '/v1' + path, resp_class, resp_headers, b'') '/v1' + path, environ={'REQUEST_METHOD': method})",144,9
openstack%2Fneutron~master~Icfb63a0696dbf55a3c2aa9cf049baa7b13bb76da,openstack/neutron,master,Icfb63a0696dbf55a3c2aa9cf049baa7b13bb76da,Change some tempest tests to explicitly use ML2/OVS,MERGED,2020-07-14 14:02:42.000000000,2020-07-30 04:32:09.000000000,2020-07-30 04:29:36.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-14 14:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75771b5cab5fc14692456f1d924e499e6a2f3f54', 'message': 'Change some tempest tests to explicitly use ML2/OVS\n\nAs part of the effort to change the DevStack default driver to\nML2/OVN we need to explicitly set certain jobs to continue to\nuse ML2/OVS where it makes sense. This patch is doing that for the\nfollowing jobs: neutron-tempest-dvr, neutron-tempest-linuxbridge and\nneutron-tempest-iptables_hybrid.\n\nChange-Id: Icfb63a0696dbf55a3c2aa9cf049baa7b13bb76da\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-28 09:33:45.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bc718e1a0909cda2db885be5b9d56dae4c470c6', 'message': 'Change some tempest tests to explicitly use ML2/OVS\n\nAs part of the effort to change the DevStack default driver to\nML2/OVN we need to explicitly set certain jobs to continue to\nuse ML2/OVS where it makes sense. This patch is doing that for the\nfollowing jobs: neutron-tempest-dvr, neutron-tempest-linuxbridge and\nneutron-tempest-iptables_hybrid.\n\nChange-Id: Icfb63a0696dbf55a3c2aa9cf049baa7b13bb76da\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",7,740968,3bc718e1a0909cda2db885be5b9d56dae4c470c6,36,10,2,6773,,,0,"Change some tempest tests to explicitly use ML2/OVS

As part of the effort to change the DevStack default driver to
ML2/OVN we need to explicitly set certain jobs to continue to
use ML2/OVS where it makes sense. This patch is doing that for the
following jobs: neutron-tempest-dvr, neutron-tempest-linuxbridge and
neutron-tempest-iptables_hybrid.

Change-Id: Icfb63a0696dbf55a3c2aa9cf049baa7b13bb76da
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/740968/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,75771b5cab5fc14692456f1d924e499e6a2f3f54,ovs-base," name: neutron-ovs-base description: Base job for tempest to test Neutron with ML2/OVS driver Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge devstack_services: # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true - job: name: neutron-tempest-dvr parent: neutron-ovs-base vars: devstack_localrc: parent: neutron-ovs-base vars: parent: neutron-ovs-base vars:", name: neutron-tempest-dvr parent: tempest-integrated-networking timeout: 10800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest vars: tempest_concurrency: 4 parent: tempest-integrated-networking timeout: 10800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest vars: tempest_concurrency: 4,28,15
openstack%2Fpuppet-glance~master~Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446,openstack/puppet-glance,master,Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446,Deprecate glance::api::enable_v2_api,MERGED,2020-07-28 10:26:42.000000000,2020-07-30 04:06:18.000000000,2020-07-30 04:04:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 10:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3632358c2da9741250eb073a011523e8a7a1f368', 'message': 'Deprecate glance::api::enable_v2_api\n\n... because its actual parameter has been removed from glance[1].\n\n[1] https://review.opendev.org/#/c/738672/\n\nChange-Id: Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446\n'}, {'number': 2, 'created': '2020-07-28 10:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/08d41788605ffe4bf07e78c9b30de8deb6287f81', 'message': 'Deprecate glance::api::enable_v2_api\n\n... because its actual parameter has been removed from glance[1].\n\n[1] https://review.opendev.org/#/c/738672/\n\nChange-Id: Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446\n'}, {'number': 3, 'created': '2020-07-28 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d769d3399bd9f6c4d76739cd93ccf709c769ad7a', 'message': 'Deprecate glance::api::enable_v2_api\n\n... because its actual parameter has been removed from glance[1].\n\n[1] https://review.opendev.org/#/c/738672/\n\nChange-Id: Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446\n'}, {'number': 4, 'created': '2020-07-28 10:41:42.000000000', 'files': ['manifests/api.pp', 'spec/classes/glance_api_spec.rb', 'releasenotes/notes/deprecate-enable_v2_api-8096a5b0b20c2ef9.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/cc4408b5abcb014e19dd4ebe983cc89835f6cfa9', 'message': 'Deprecate glance::api::enable_v2_api\n\n... because its actual parameter has been removed from glance[1].\n\n[1] https://review.opendev.org/#/c/738672/\n\nChange-Id: Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446\n'}]",0,743505,cc4408b5abcb014e19dd4ebe983cc89835f6cfa9,15,4,4,9816,,,0,"Deprecate glance::api::enable_v2_api

... because its actual parameter has been removed from glance[1].

[1] https://review.opendev.org/#/c/738672/

Change-Id: Ie87f06bb2a9262a8e8a5e5b586833eb563cf2446
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/05/743505/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/glance_api_spec.rb', 'releasenotes/notes/deprecate-enable_v2_api-8096a5b0b20c2ef9.yaml']",3,3632358c2da9741250eb073a011523e8a7a1f368,registry-removal,--- deprecations: - | The ``glance::api::enable_v2_api`` parameter has been deprecated and has no effect now. ,,15,9
openstack%2Fcinder-tempest-plugin~master~If8edd24ba5183522ebe8202bbf6b62b41b3febe9,openstack/cinder-tempest-plugin,master,If8edd24ba5183522ebe8202bbf6b62b41b3febe9,Add test for cinder_img_volume_type image metadata,MERGED,2020-06-22 21:15:27.000000000,2020-07-30 03:31:44.000000000,2020-07-30 03:31:44.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-06-22 21:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/98c4b1bd9233f0d5af062e925b735fc7d396de13', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 2, 'created': '2020-06-23 13:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/0122d9a54fbd6c0fc34a1be4ced6ccd929aee5f8', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 3, 'created': '2020-06-24 16:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/20d9bdd5660f4f55c1a24840ba220b8daeb96813', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nDepends-on: https://review.opendev.org/#/c/730183/\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 4, 'created': '2020-06-29 18:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a6068d337df67b94caf10b91326a30f2ce2c943c', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nDepends-on: https://review.opendev.org/#/c/730183/\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 5, 'created': '2020-06-29 19:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/176f53a2cf1c153a9ef26d20e3cb4ff88f053027', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nDepends-on: https://review.opendev.org/#/c/730183/\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 6, 'created': '2020-06-29 20:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/0d63822d130658ce693e85dea389ef2c6df608df', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nDepends-on: https://review.opendev.org/#/c/730183/\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 7, 'created': '2020-06-29 21:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a82d41be0c9fb80bae3ada030332ca575e729636', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nDepends-on: https://review.opendev.org/#/c/730183/\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 8, 'created': '2020-06-29 23:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b1151e9fa6b58962c907e3864f0c4c9812b832cd', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nDepends-on: https://review.opendev.org/#/c/730183/\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 9, 'created': '2020-07-01 12:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b1f966bb0a7613dc558dea8d923d100f7833d60c', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 10, 'created': '2020-07-16 13:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3e093d2df7206d8c8926f0cf79ccdd1152e6939b', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}, {'number': 11, 'created': '2020-07-28 13:46:29.000000000', 'files': ['cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/api/volume/test_create_from_image.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a75d5e5e25a108dcba4a18e9bf87c376cfec3bd1', 'message': 'Add test for cinder_img_volume_type image metadata\n\nWhen a volume is created from an image with a cinder_img_volume_type\nimage property, and a volume_type is not specified in the volume-\ncreate call, the resulting volume should be the specified volume_type,\nnot the default type.\n\nChange-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9\n'}]",4,737380,a75d5e5e25a108dcba4a18e9bf87c376cfec3bd1,90,9,11,5314,,,0,"Add test for cinder_img_volume_type image metadata

When a volume is created from an image with a cinder_img_volume_type
image property, and a volume_type is not specified in the volume-
create call, the resulting volume should be the specified volume_type,
not the default type.

Change-Id: If8edd24ba5183522ebe8202bbf6b62b41b3febe9
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/80/737380/11 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_create_from_image.py'],1,98c4b1bd9233f0d5af062e925b735fc7d396de13,add-image-volume_type-test,"import io class VolumeAndVolumeTypeFromImageTest(base.BaseVolumeAdminTest): # needs AdminTest as superclass to manipulate volume_types @classmethod def skip_checks(cls): super(VolumeAndVolumeTypeFromImageTest, cls).skip_checks() if not CONF.service_available.glance: raise cls.skipException(""Glance service is disabled"") @decorators.idempotent_id('6e9266ff-a917-4dd5-aa4a-c36e59e7a2a6') def test_create_from_image_with_volume_type_image_property(self): """"""Verify that the cinder_img_volume_type image property works. When a volume is created from an image containing the cinder_img_volume_type property and no volume_type is specified in the volume-create request, the volume_type of the resulting volume should be the one specified by the image property. """""" volume_type_meta = 'cinder_img_volume_type' volume_type_name = 'vol-type-for-6e9266ff-a917-4dd5-aa4a-c36e59e7a2a6' description = ('Generic volume_type for test ' '6e9266ff-a917-4dd5-aa4a-c36e59e7a2a6') proto = CONF.volume.storage_protocol vendor = CONF.volume.vendor_name extra_specs = {""storage_protocol"": proto, ""vendor_name"": vendor} params = {'name': volume_type_name, 'description': description, 'extra_specs': extra_specs, 'os-volume-type-access:is_public': True} # NOTE: this will delete the volume_type during class cleanup body = self.create_volume_type(**params) # quick sanity check self.assertEqual(volume_type_name, body['name']) # create an image record in glance kwargs = {'disk_format': 'raw', 'container_format': 'bare', 'name': ('image-for-test-' '6e9266ff-a917-4dd5-aa4a-c36e59e7a2a6'), 'visibility': 'private', volume_type_meta: volume_type_name} body = self.images_client.create_image(**kwargs) image_id = body['id'] self.addCleanup(self.images_client.delete_image, image_id) # quick sanity check self.assertEqual(volume_type_name, body[volume_type_meta]) self.assertEqual('queued', body['status']) # upload ""data"" to image fake_data = data_utils.random_bytes() image_file = io.BytesIO(fake_data) self.images_client.store_image_file(image_id, image_file) waiters.wait_for_image_status(self.images_client, image_id, 'active') # create volume from image # (we need to make sure volume is deleted before volume_type, # so we do creation and deletion manually) kwargs = {'size': CONF.volume.volume_size, 'name': ('volume-for-test-' '6e9266ff-a917-4dd5-aa4a-c36e59e7a2a6'), 'imageRef': image_id} self.assertNotIn('volume_type', kwargs) volume = self.volumes_client.create_volume(**kwargs)['volume'] volume_id = volume['id'] found_volume_type = volume['volume_type'] waiters.wait_for_volume_resource_status(self.volumes_client, volume_id, 'active') self.delete_volume(volume_id) # and now for the moment we've all been waiting for: self.assertEqual(volume_type_name, found_volume_type)",,83,0
openstack%2Ftripleo-common~stable%2Fussuri~I815443fa7cfd54c9884aff751caf701fd77a8f3a,openstack/tripleo-common,stable/ussuri,I815443fa7cfd54c9884aff751caf701fd77a8f3a,Properly collect tasks with or conditional in step file.,MERGED,2020-07-23 13:55:30.000000000,2020-07-30 03:20:42.000000000,2020-07-30 03:19:10.000000000,"[{'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-23 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/415c53fd92fc44766919822ee542f09587d1a5b5', 'message': ""Properly collect tasks with or conditional in step file.\n\nTasks with or conditional (step == 1 or step == 0) were not showing up\nin the step file.\n\nTo make sure we collect the tasks properly we refactor the filter\nlogic:\n 1. make all conditional a big string with no spaces and no Boolean\n 2. use findall to collect all the conditional step\n 3. if step found and it does belong to the current step add it.\n 4. if step found and it doesn't belong to the current step remove it.\n 5. if step condition not found, let strict decide.\n 6. if strict remove it else add it (default behavior)\n\nWe also add a unit test related to that filtering.\n\nChange-Id: I815443fa7cfd54c9884aff751caf701fd77a8f3a\nCloses-Bug: #1887135\n(cherry picked from commit 5493304944a443dcab74439c522a18bbf62d1d2a)\n""}, {'number': 2, 'created': '2020-07-28 08:42:03.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4c4ba312487e0be359838bc42442054c5b280f14', 'message': ""Properly collect tasks with or conditional in step file.\n\nTasks with or conditional (step == 1 or step == 0) were not showing up\nin the step file.\n\nTo make sure we collect the tasks properly we refactor the filter\nlogic:\n 1. make all conditional a big string with no spaces and no Boolean\n 2. use findall to collect all the conditional step\n 3. if step found and it does belong to the current step add it.\n 4. if step found and it doesn't belong to the current step remove it.\n 5. if step condition not found, let strict decide.\n 6. if strict remove it else add it (default behavior)\n\nWe also add a unit test related to that filtering.\n\nBackport unit tests were adjusted to accommodate the new interface to\n_write_tasks_per_step[1]\n\n[1] See I2781cae14663094d531ad70c3d412b3153b46612\n\nChange-Id: I815443fa7cfd54c9884aff751caf701fd77a8f3a\nCloses-Bug: #1887135\n(cherry picked from commit 5493304944a443dcab74439c522a18bbf62d1d2a)\n""}]",0,742676,4c4ba312487e0be359838bc42442054c5b280f14,21,6,2,8297,,,0,"Properly collect tasks with or conditional in step file.

Tasks with or conditional (step == 1 or step == 0) were not showing up
in the step file.

To make sure we collect the tasks properly we refactor the filter
logic:
 1. make all conditional a big string with no spaces and no Boolean
 2. use findall to collect all the conditional step
 3. if step found and it does belong to the current step add it.
 4. if step found and it doesn't belong to the current step remove it.
 5. if step condition not found, let strict decide.
 6. if strict remove it else add it (default behavior)

We also add a unit test related to that filtering.

Backport unit tests were adjusted to accommodate the new interface to
_write_tasks_per_step[1]

[1] See I2781cae14663094d531ad70c3d412b3153b46612

Change-Id: I815443fa7cfd54c9884aff751caf701fd77a8f3a
Closes-Bug: #1887135
(cherry picked from commit 5493304944a443dcab74439c522a18bbf62d1d2a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/76/742676/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,415c53fd92fc44766919822ee542f09587d1a5b5,," @patch.object(ooo_config.Config, '_open_file') def test_overcloud_config__write_tasks_per_step(self, mock_open_file): heat = mock.MagicMock() self.config = ooo_config.Config(heat) # TODO: how can I share this tasks definition between to test # as a fixture So that I do two several test cases instead of # a big one. tasks = [ { ""when"": ""step|int == 0"", ""name"": ""Simple check"" }, { ""when"": ""(step|int == 0)"", ""name"": ""Check within parenthesis"" }, { ""when"": [""step|int == 0"", ""test1"", False], ""name"": ""Check with list with boolean"" }, { ""when"": [""test1"", False, ""step|int == 0""], ""name"": ""Check with list with boolean other order"" }, { ""when"": ""step|int == 0 or step|int == 3"", ""name"": ""Check with boolean expression"" }, { ""when"": ""(step|int == 0 or step|int == 3) and other_cond"", ""name"": ""Complex boolean expression"" }, { ""name"": ""Task with no conditional"" } ] # Everything should come back tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute', 'Compute/update_tasks_step0.yaml', 0 ) self.assertEqual(tasks, tasks_per_step) # Using stict the tasks with no conditional will be dropped tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute', 'Compute/update_tasks_step0.yaml', 0, strict=True, ) expected_tasks = [task for task in tasks if task != {""name"": ""Task with no conditional""}] self.assertEqual(expected_tasks, tasks_per_step) # Some tasks will be filtered out for step 3. tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute', 'Compute/update_tasks_step3.yaml', 3 ) self.assertEqual( [ { ""when"": ""step|int == 0 or step|int == 3"", ""name"": ""Check with boolean expression"" }, { ""when"": ""(step|int == 0 or step|int == 3) and other_cond"", ""name"": ""Complex boolean expression"" }, { ""name"": ""Task with no conditional"" } ], tasks_per_step) # Even more tasks will be filtered out for step 3 with strict. tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute', 'Compute/update_tasks_step3.yaml', 3, strict=True, ) self.assertEqual( [ { ""when"": ""step|int == 0 or step|int == 3"", ""name"": ""Check with boolean expression"" }, { ""when"": ""(step|int == 0 or step|int == 3) and other_cond"", ""name"": ""Complex boolean expression"" }, ], tasks_per_step)",,124,15
openstack%2Fpuppet-tripleo~master~I9515af738113a3f7aa2ea07315889d4a6595d4eb,openstack/puppet-tripleo,master,I9515af738113a3f7aa2ea07315889d4a6595d4eb,Tune haproxy for long running sessions to use leastconn,MERGED,2020-05-18 08:32:09.000000000,2020-07-30 03:20:18.000000000,2020-07-30 03:19:09.000000000,"[{'_account_id': 4393}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 6968}, {'_account_id': 8833}, {'_account_id': 9257}, {'_account_id': 11816}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-18 08:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/419032732ebdacb873a2c2f3d20146939b81b712', 'message': 'Tune haproxy for long running or sticky sessions\n\nSome of the haproxy endpoints are configured for sticky sessions with\nthe source based balance algorithm. but it is static by default, which\nmeans that changing a server\'s weight on the fly will have no effect,\nbut this can be changed using ""hash-type"". use consistent hashing for\nthose to protect server farms against massive redistribution when\nadding or removing servers (or performing fail-over/fail-back).\n\nConsistent hashing for such sticky sessions also allows the slow-start\nfeature to be used. It protects restarting servers (or those executing\nfail-over actions) against high traffic levels while they\'re still\nfinalizing their startup.\n\nSee for details:\nhttps://www.haproxy.com/documentation/hapee/latest/onepage/intro/\n\nAdditionally, for non-sticky but long running sessions, the leastconn LB\nis more prefered than the default roundrobin. For long connections, it\npicks the least recently used of the servers with the lowest connection\ncount.\n\nHeat-api-cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its agents.\nCinder BlockStorage API provides long running volume and backup actions.\nSwift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch.\n\nAlongside ""slow-starting"" sticky sessions, LRU LB strategy for those\nreduces the possibility of cascaded failures due to high traffic spikes\nin the face of network partitions and caused fail-over scenarios.\n\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-05-18 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/df8843409051bfefb770ca92f60d3fba0f76a1bf', 'message': 'Tune haproxy for long running or sticky sessions\n\nSome of the haproxy endpoints are configured for sticky sessions with\nthe source based balance algorithm. but it is static by default, which\nmeans that changing a server\'s weight on the fly will have no effect,\nbut this can be changed using ""hash-type"". use consistent hashing for\nthose to protect server farms against massive redistribution when\nadding or removing servers (or performing fail-over/fail-back).\n\nConsistent hashing for such sticky sessions also allows the slow-start\nfeature to be used. It protects restarting servers (or those executing\nfail-over actions) against high traffic levels while they\'re still\nfinalizing their startup.\n\nSee for details:\nhttps://www.haproxy.com/documentation/hapee/latest/onepage/intro/\n\nAdditionally, for non-sticky but long running sessions, the leastconn LB\nis more prefered than the default roundrobin. For long connections, it\npicks the least recently used of the servers with the lowest connection\ncount.\n\nHeat-api-cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its agents.\nCinder BlockStorage API provides long running volume and backup actions.\nSwift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch.\n\nAlongside ""slow-starting"" sticky sessions, LRU LB strategy for those\nreduces the possibility of cascaded failures due to high traffic spikes\nin the face of network partitions and caused fail-over scenarios.\n\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-06-15 08:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6004554097b13d7f9df3b6b2a926a597c9d280e9', 'message': 'Tune haproxy for long running or sticky sessions\n\nSome of the haproxy endpoints are configured for sticky sessions with\nthe source based balance algorithm. But it is static by default, which\nmeans that changing a server\'s weight on the fly will have no effect,\nbut this can be changed using ""hash-type"". Use consistent hashing for\nthose to protect server farms against massive redistribution when\nadding or removing servers (or performing fail-over/fail-back).\n\nConsistent hashing for such sticky sessions also allows the slow-start\nfeature to be used. It protects restarting servers (or those executing\nfail-over actions) against high traffic levels while they\'re still\nfinalizing their startup.\n\nSee for details:\nhttps://www.haproxy.com/documentation/hapee/latest/onepage/intro/\n\nAdditionally, for non-sticky but long running sessions, the leastconn LB\nis more prefered than the default roundrobin. For long connections, it\npicks the least recently used of the servers with the lowest connection\ncount.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its agents.\nCinder BlockStorage API provides long running volume and backup actions.\nSwift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch.\n\nAlongside ""slow-starting"" sticky sessions, LRU LB strategy for those\nreduces the possibility of cascaded failures due to high traffic spikes\nin the face of network partitions and caused fail-over scenarios.\n\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2020-06-15 15:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c2c970bf940d6052efd570c611b05c9e4e9e80d2', 'message': 'Tune haproxy for long running sessions to use leastconn\n\nFor long running sessions, the leastconn LB is more prefered than the\ndefault roundrobin. For long connections, it picks the least recently\nused of the servers with the lowest connection count.\n\nLRU LB strategy that leastconn uses also indirectly reduces the\npossibility of cascaded failures by smoothing out the high traffic\nspikes, which otherwise may be caused by unequal round-robin\ndistribution of client connections upon executing it a fail-over to\nanother backend.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its\nagents.  Cinder BlockStorage API provides long running volume and\nbackup actions.  Swift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch.\n\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2020-06-15 15:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f9d8a23ec2031f29208d4bf585a2e867645c2ece', 'message': 'Tune haproxy for long running sessions to use leastconn\n\nFor long running sessions, the leastconn LB is more prefered than the\ndefault roundrobin. For long connections, it picks the least recently\nused of the servers with the lowest connection count.\n\nLRU LB strategy that leastconn uses also indirectly reduces the\npossibility of cascaded failures by smoothing out the high traffic\nspikes, which otherwise may be caused by unequal round-robin\ndistribution of client connections upon executing it a fail-over to\nanother backend.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its\nagents.  Cinder BlockStorage API provides long running volume and\nbackup actions.  Swift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch.\n\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2020-06-17 09:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0cf7704c1b36554a4f9d8f6a238ba92ee9346ee9', 'message': 'Tune haproxy for long running sessions to use leastconn\n\nFor long running sessions, the leastconn LB is more prefered than the\ndefault roundrobin. For long connections, it picks the least recently\nused of the servers with the lowest connection count.\n\nLRU LB strategy that leastconn uses also indirectly reduces the\npossibility of cascaded failures by smoothing out the high traffic\nspikes, which otherwise may be caused by unequal round-robin\ndistribution of client connections upon executing it a fail-over to\nanother backend.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its\nagents.  Cinder BlockStorage API provides long running volume and\nbackup actions.  Swift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch controlled by the new parameter.\n\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2020-06-17 15:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4eab4e58ca7ae6d57c8acc87460c341f39444d9e', 'message': 'Tune haproxy for long running sessions to use leastconn\n\nFor long running sessions, the leastconn LB is more prefered than the\ndefault roundrobin. For long connections, it picks the least recently\nused of the servers with the lowest connection count.\n\nLRU LB strategy that leastconn uses also indirectly reduces the\npossibility of cascaded failures by smoothing out the high traffic\nspikes, which otherwise may be caused by unequal round-robin\ndistribution of client connections upon executing it a fail-over to\nanother backend.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its\nagents.  Cinder BlockStorage API provides long running volume and\nbackup actions.  Swift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch controlled by the new parameter.\n\nCloses-Bug: #1882927\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2020-07-07 13:14:32.000000000', 'files': ['manifests/haproxy.pp', 'releasenotes/notes/haproxy-leastconn-overrides-bdb2068ef794ff1d.yaml', 'spec/classes/tripleo_haproxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c04057b58b3a13a433f28d229a8f0908df253b57', 'message': 'Tune haproxy for long running sessions to use leastconn\n\nFor long running sessions, the leastconn LB is more prefered than the\ndefault roundrobin. For long connections, it picks the least recently\nused of the servers with the lowest connection count.\n\nLRU LB strategy that leastconn uses also indirectly reduces the\npossibility of cascaded failures by smoothing out the high traffic\nspikes, which otherwise may be caused by unequal round-robin\ndistribution of client connections upon executing it a fail-over to\nanother backend.\n\nHeat API/cfn provides Orchestration API with a notion of long running\ntasks. Neutron server may maintain long running RPC calls to its\nagents.  Cinder BlockStorage API provides long running volume and\nbackup actions.  Swift Proxy\'s PutObject etc. and Ceph RGW APIs, like\nhttps://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion\nof ""long running"" as well. Ironic Inspector API provides long running\noperations, like introspection of BM nodes. All those should benefit\nfrom the leastconn LB switch controlled by the new parameter.\n\nCloses-Bug: #1882927\nChange-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",9,728779,c04057b58b3a13a433f28d229a8f0908df253b57,86,20,8,6926,,,0,"Tune haproxy for long running sessions to use leastconn

For long running sessions, the leastconn LB is more prefered than the
default roundrobin. For long connections, it picks the least recently
used of the servers with the lowest connection count.

LRU LB strategy that leastconn uses also indirectly reduces the
possibility of cascaded failures by smoothing out the high traffic
spikes, which otherwise may be caused by unequal round-robin
distribution of client connections upon executing it a fail-over to
another backend.

Heat API/cfn provides Orchestration API with a notion of long running
tasks. Neutron server may maintain long running RPC calls to its
agents.  Cinder BlockStorage API provides long running volume and
backup actions.  Swift Proxy's PutObject etc. and Ceph RGW APIs, like
https://docs.ceph.com/docs/master/radosgw/s3/bucketops/, have a notion
of ""long running"" as well. Ironic Inspector API provides long running
operations, like introspection of BM nodes. All those should benefit
from the leastconn LB switch controlled by the new parameter.

Closes-Bug: #1882927
Change-Id: I9515af738113a3f7aa2ea07315889d4a6595d4eb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/79/728779/8 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,419032732ebdacb873a2c2f3d20146939b81b712,728779," listen_options => merge($default_listen_options, { 'balance' => 'leastconn' }), listen_options => merge($default_listen_options, { 'balance' => 'leastconn' }), 'hash-type' => 'consistent', 'option' => [ 'httpchk HEAD /' ], 'balance' => 'source', 'hash-type' => 'consistent', 'hash-type' => 'consistent', 'option' => [ 'tcpka', 'tcplog' ], 'balance' => 'source', 'timeout' => [ 'tunnel 1h' ], 'balance' => 'leastconn', listen_options => merge($heat_options, { 'balance' => 'leastconn' }), listen_options => merge($default_listen_options, { 'balance' => 'leastconn' }), 'hash-type' => 'consistent', 'balance' => 'source', listen_options => merge( $default_listen_options, { 'option' => [ 'httpchk HEAD /' ], 'balance' => 'leastconn' }),"," 'option' => [ 'httpchk HEAD /' ], 'balance' => 'source', 'option' => [ 'tcpka', 'tcplog' ], 'balance' => 'source', 'timeout' => [ 'tunnel 1h' ], listen_options => $heat_options, 'balance' => 'source', listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /' ] }),",18,8
openstack%2Fkuryr-tempest-plugin~master~If639b63dcf660ed709623c8d5f788026619c895c,openstack/kuryr-tempest-plugin,master,If639b63dcf660ed709623c8d5f788026619c895c,Fix test in order to work with new kuryrport CRD.,MERGED,2020-07-22 06:34:42.000000000,2020-07-30 02:42:32.000000000,2020-07-30 02:41:11.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-22 06:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1b21ecf5d8b66777fd6572b6d54d764b424b80f2', 'message': 'Fix test in order to work with new kuryrport CRD.\n\nCurrently, all the information was stored within the pod annotations,\nand so the tests are utilizing annotations. With upcoming annotation to\nCRD transition, in order to get the VIF information we need to also\ncheck the CRD.\n\nChange-Id: If639b63dcf660ed709623c8d5f788026619c895c\n'}, {'number': 2, 'created': '2020-07-23 14:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/05115de5641c711b2a5af890125189cbd5f83250', 'message': 'Fix test in order to work with new kuryrport CRD.\n\nCurrently, all the information was stored within the pod annotations,\nand so the tests are utilizing annotations. With upcoming annotation to\nCRD transition, in order to get the VIF information we need to also\ncheck the CRD.\n\nDepends-On: I3cd8e2a46e65e65195d4ee17e973980baf83618d\nChange-Id: If639b63dcf660ed709623c8d5f788026619c895c\n'}, {'number': 3, 'created': '2020-07-24 04:07:03.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8456f2fe16d0239095d06143733c8a3ae8f43eac', 'message': 'Fix test in order to work with new kuryrport CRD.\n\nCurrently, all the information was stored within the pod annotations,\nand so the tests are utilizing annotations. With upcoming annotation to\nCRD transition, in order to get the VIF information we need to also\ncheck the CRD.\n\nChange-Id: If639b63dcf660ed709623c8d5f788026619c895c\n'}]",1,742351,8456f2fe16d0239095d06143733c8a3ae8f43eac,22,5,3,13692,,,0,"Fix test in order to work with new kuryrport CRD.

Currently, all the information was stored within the pod annotations,
and so the tests are utilizing annotations. With upcoming annotation to
CRD transition, in order to get the VIF information we need to also
check the CRD.

Change-Id: If639b63dcf660ed709623c8d5f788026619c895c
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/51/742351/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,1b21ecf5d8b66777fd6572b6d54d764b424b80f2,pod-ann-crd,"KURYR_PORT_CRD_PLURAL = 'kuryrports' try: # TODO(gryf): Current approach is to look at the KuryrPort CRD, # and if it doesn't exists, fallback to check the pod annotations crd = (self.k8s_client.CustomObjectsApi() .get_namespaced_custom_object(group=KURYR_CRD_GROUP, version=KURYR_CRD_VERSION, namespace=namespace, plural=KURYR_PORT_CRD_PLURAL, name=pod_name)) vif = [v['vif'].get('versioned_object.data', {}).get('id') for k, v in crd['spec']['vifs'].items() if v.get('default')] if vif and vif[0]: return vif[0] else: return None except kubernetes.client.rest.ApiException: pod = self.k8s_client.CoreV1Api().read_namespaced_pod_status( namespace=namespace, name=pod_name) kuryr_if = json.loads(pod.metadata.annotations[ 'openstack.org/kuryr-vif']) # FIXME(dulek): We need this compatibility code to run # stable/queens. Remove this once it's no longer # supported. if 'eth0' in kuryr_if: kuryr_if = kuryr_if['eth0'] elif kuryr_if.get('versioned_object.name') == 'PodState': kuryr_if = kuryr_if['versioned_object.data']['default_vif'] return kuryr_if['versioned_object.data']['id']"," pod = self.k8s_client.CoreV1Api().read_namespaced_pod_status( namespace=namespace, name=pod_name) kuryr_if = json.loads(pod.metadata.annotations[ 'openstack.org/kuryr-vif']) # FIXME(dulek): We need this compatibility code to run stable/queens. # Remove this once it's no longer supported. if 'eth0' in kuryr_if: kuryr_if = kuryr_if['eth0'] elif kuryr_if.get('versioned_object.name') == 'PodState': kuryr_if = kuryr_if['versioned_object.data']['default_vif'] return kuryr_if['versioned_object.data']['id']",29,11
openstack%2Fneutron~master~Ia1bf0a98b327b4deaa4ff87da79b70d27314434a,openstack/neutron,master,Ia1bf0a98b327b4deaa4ff87da79b70d27314434a,"Use ""replace"" to remove a section of a string",MERGED,2020-07-28 16:08:08.000000000,2020-07-30 02:39:06.000000000,2020-07-30 02:37:27.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-28 16:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c26d977683bb0445da525ff1a72b460cddefb46', 'message': 'Use ""replace"" to remove a section of a string\n\nFrom ""strip"" documentation:\n  Return a copy of the string with leading whitespace removed.\n  If chars is given and not None, remove characters in chars instead.\n\nChange-Id: Ia1bf0a98b327b4deaa4ff87da79b70d27314434a\nCloses-Bug: #1888828\n'}, {'number': 2, 'created': '2020-07-28 16:09:29.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc5a8ee1b893a85b7cb3d9fac010c28714e9c50e', 'message': 'Use ""replace"" to remove a section of a string\n\nFrom ""strip"" documentation:\n  Return a copy of the string with leading whitespace removed.\n  If chars is given and not None, remove characters in chars instead.\n\nChange-Id: Ia1bf0a98b327b4deaa4ff87da79b70d27314434a\nCloses-Bug: #1888828\n'}]",0,743577,fc5a8ee1b893a85b7cb3d9fac010c28714e9c50e,36,12,2,16688,,,0,"Use ""replace"" to remove a section of a string

From ""strip"" documentation:
  Return a copy of the string with leading whitespace removed.
  If chars is given and not None, remove characters in chars instead.

Change-Id: Ia1bf0a98b327b4deaa4ff87da79b70d27314434a
Closes-Bug: #1888828
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/743577/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,8c26d977683bb0445da525ff1a72b460cddefb46,bug/1888828," network_id = ls.name.replace('neutron-', '')", network_id = ls.name.strip('neutron-'),1,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ib73a803bf24af876c00583b3793e828fb528a26d,openstack/python-tripleoclient,stable/ussuri,Ib73a803bf24af876c00583b3793e828fb528a26d,Rename UpgradeConvergeOvercloud into UpgradeConverge.,MERGED,2020-07-14 08:19:01.000000000,2020-07-30 02:07:39.000000000,2020-07-30 02:06:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-14 08:19:01.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac50ee66939b2c874fa45862544172510873438d', 'message': 'Rename UpgradeConvergeOvercloud into UpgradeConverge.\n\nTo keep consistency between class names for the upgrade\nlibrary, this patch renames the UpgradeConvergeOvercloud\ninto UpgradeConverge.\n\nChange-Id: Ib73a803bf24af876c00583b3793e828fb528a26d\n(cherry picked from commit cf195c4b0b5a6784fbb8f8b5447e1e3bd409215e)\n'}]",0,740912,ac50ee66939b2c874fa45862544172510873438d,23,9,1,6816,,,0,"Rename UpgradeConvergeOvercloud into UpgradeConverge.

To keep consistency between class names for the upgrade
library, this patch renames the UpgradeConvergeOvercloud
into UpgradeConverge.

Change-Id: Ib73a803bf24af876c00583b3793e828fb528a26d
(cherry picked from commit cf195c4b0b5a6784fbb8f8b5447e1e3bd409215e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/740912/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'setup.cfg']",2,ac50ee66939b2c874fa45862544172510873438d,ffwd-upgrade2-stable/ussuri, overcloud_upgrade_converge = tripleoclient.v1.overcloud_upgrade:UpgradeConverge, overcloud_upgrade_converge = tripleoclient.v1.overcloud_upgrade:UpgradeConvergeOvercloud,3,3
openstack%2Ftripleo-heat-templates~master~Id5d693b6111f5906a99ffe4fec4befffc3940e23,openstack/tripleo-heat-templates,master,Id5d693b6111f5906a99ffe4fec4befffc3940e23,Do not manage healthcheck for nova-compute anymore,MERGED,2020-07-28 13:05:27.000000000,2020-07-30 01:57:38.000000000,2020-07-30 01:49:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6962}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-28 13:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90451b3e91645ecd211f525952047d018f119a94', 'message': ""Do not manage healthcheck for nova-compute anymore\n\nSince we're using native podman healthcheck, we don't need to manage the\nsystemd service anymore.\n\nChange-Id: Id5d693b6111f5906a99ffe4fec4befffc3940e23\n""}, {'number': 2, 'created': '2020-07-28 13:26:13.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b718135294b8d97a6114670b051690b2ea0c1a0', 'message': ""Do not manage healthcheck for nova-compute anymore\n\nSince we're using native podman healthcheck, we don't need to manage the\nsystemd service anymore.\n\nCloses-Bug: #1889221\n\nChange-Id: Id5d693b6111f5906a99ffe4fec4befffc3940e23\n""}]",0,743529,2b718135294b8d97a6114670b051690b2ea0c1a0,22,7,2,28223,,,0,"Do not manage healthcheck for nova-compute anymore

Since we're using native podman healthcheck, we don't need to manage the
systemd service anymore.

Closes-Bug: #1889221

Change-Id: Id5d693b6111f5906a99ffe4fec4befffc3940e23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/743529/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,90451b3e91645ecd211f525952047d018f119a94,nova-no-healthcheck-scale,, - name: Stop nova-compute healthcheck container service: name: tripleo_nova_compute_healthcheck state: stopped enabled: no become: true,0,6
openstack%2Ftripleo-validations~master~Id16ccf69888ceb03cc33e0627de5270f9c8f4b95,openstack/tripleo-validations,master,Id16ccf69888ceb03cc33e0627de5270f9c8f4b95,Make Get OSD stat percentage compatible with jq < 1.5,MERGED,2020-07-28 17:07:37.000000000,2020-07-30 01:49:51.000000000,2020-07-30 01:49:50.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-28 17:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/436671832b0ee8aed87ebd6c5ce45e18ec00710c', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95\nCloses-Bug: #1889279\n'}, {'number': 2, 'created': '2020-07-29 06:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/24d59cf8d746719fd28e1925a2d367070b97c180', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95\nCloses-Bug: #1889279\n'}, {'number': 3, 'created': '2020-07-29 06:57:53.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6c19d1bcdfc67ae3894959441684e62221ef620f', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95\nCloses-Bug: #1889279\n'}]",1,743592,6c19d1bcdfc67ae3894959441684e62221ef620f,15,4,3,25402,,,0,"Make Get OSD stat percentage compatible with jq < 1.5

On upgrades we're using validations (from train) against controller that
are still on queens. On queens jq package is <1.5 and the ""try"" keyword
is not available.
This purpose of this change is to fix this validations getting rid of
""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.

Change-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95
Closes-Bug: #1889279
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/92/743592/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,436671832b0ee8aed87ebd6c5ce45e18ec00710c,, # 1.3+ <= jq <= 1.5 doesn't support try-catch: we rely on if - then -else approach to check if ceph has .osdmap layout jq_osd_percentage_filter: '(if .osdmap != null then { osds: (.osdmap.num_in_osds / .osdmap.num_osds * 100) } else { osds: (.num_in_osds / .num_osds * 100) } end) | .osds', jq_osd_percentage_filter: '( (try .osdmap.num_in_osds + try .num_in_osds) / (try .osdmap.num_osds + try .num_osds)) * 100',2,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f,openstack/tripleo-heat-templates,stable/ussuri,Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f,Add dashboard_protocol variable when internal_tls is enabled,MERGED,2020-07-28 13:08:32.000000000,2020-07-30 01:46:40.000000000,2020-07-30 01:46:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 13:08:32.000000000', 'files': ['deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebea6f33eda6b283c4f191939a29c558e4087439', 'message': ""Add dashboard_protocol variable when internal_tls is enabled\n\nWhen the Ceph dashboard is deployed using tls everywhere, ceph-ansible\nrequires the dashboard_protocol variable set to 'https' to avoid the\ncert/key related tasks getting skipped.\nThis change just adds the required variable, setting its value to 'https'\nwhen the condition is met.\n\nCloses-Bug: 1888982\nChange-Id: Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f\n(cherry picked from commit 7ff794663b292adbf9d532bd597e9c9a75d0aacd)\n""}]",0,743531,ebea6f33eda6b283c4f191939a29c558e4087439,7,7,1,25402,,,0,"Add dashboard_protocol variable when internal_tls is enabled

When the Ceph dashboard is deployed using tls everywhere, ceph-ansible
requires the dashboard_protocol variable set to 'https' to avoid the
cert/key related tasks getting skipped.
This change just adds the required variable, setting its value to 'https'
when the condition is met.

Closes-Bug: 1888982
Change-Id: Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f
(cherry picked from commit 7ff794663b292adbf9d532bd597e9c9a75d0aacd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/743531/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mgr.yaml'],1,ebea6f33eda6b283c4f191939a29c558e4087439,, - dashboard_protocol: 'https',,1,0
openstack%2Ftripleo-heat-templates~master~I98cc39bc909b63b57e366cbb787f655097dfe254,openstack/tripleo-heat-templates,master,I98cc39bc909b63b57e366cbb787f655097dfe254,Small improvement on the default gateway(s) detection,MERGED,2020-05-12 08:33:02.000000000,2020-07-30 01:46:37.000000000,2020-07-30 01:46:37.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-12 08:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5450d20d5ce305a8cc02ae1e0229f2cff95ff9e0', 'message': 'Small improvement on the default gateway(s) detection\n\nChange-Id: I98cc39bc909b63b57e366cbb787f655097dfe254\n'}, {'number': 2, 'created': '2020-07-29 11:46:21.000000000', 'files': ['validation-scripts/all-nodes.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a27ab493b175157ce737361114bcac573c7a830', 'message': 'Small improvement on the default gateway(s) detection\n\nChange-Id: I98cc39bc909b63b57e366cbb787f655097dfe254\n'}]",0,727108,0a27ab493b175157ce737361114bcac573c7a830,14,7,2,28223,,,0,"Small improvement on the default gateway(s) detection

Change-Id: I98cc39bc909b63b57e366cbb787f655097dfe254
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/727108/1 && git format-patch -1 --stdout FETCH_HEAD,['validation-scripts/all-nodes.sh'],1,5450d20d5ce305a8cc02ae1e0229f2cff95ff9e0,all-nodes-validation, DEFAULT_GW=$(ip ro | awk '/^default/ {print $3}')," DEFAULT_GW=$(ip r | grep ^default | cut -d "" "" -f 3)",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I793bdb8db1d34011cf64cf9942a811ab5efc00ed,openstack/tripleo-ansible,stable/ussuri,I793bdb8db1d34011cf64cf9942a811ab5efc00ed,Add tripleo_ovs_upgrade module.,MERGED,2020-07-29 19:56:27.000000000,2020-07-30 01:39:51.000000000,2020-07-30 01:39:51.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-29 19:56:27.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50adc11a94a33244c9761351c304b00880f7963b', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so, it makes sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n(cherry picked from commit 6344bbb43dcf1f462a16572fb3f3b69ce0108862)\n""}]",0,743837,50adc11a94a33244c9761351c304b00880f7963b,7,4,1,6681,,,0,"Add tripleo_ovs_upgrade module.

This module replace the code in [1] as we need to replicate this
sequence of actions in several places in the templates.

It first checks if it's a layered product ovs update which uses
rhosp-openvswitch.  If so, it makes sure that openvswitch is removed
without triggering any actions, like stopping the service.  Then we
install the rhos-openvswitch package which will take care of updating
everything without disturbance.

If the os is not using layer product, then we download the openvswitch
and update it without triggering the systemctl restart if present in
the postun scripts.

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370

Change-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed
(cherry picked from commit 6344bbb43dcf1f462a16572fb3f3b69ce0108862)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/743837/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,50adc11a94a33244c9761351c304b00880f7963b,ussuri,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type import glob import re from ansible.module_utils.basic import AnsibleModule ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: tripleo_ovs_update author: - Sofer Athlan-Guyot <sathlang@redhat.com> version_added: '2.8' short_description: Handle special ovs update. notes: [] description: - This module check if ovs need a special treatment during update of the package. options: debug: description: - Whether or not debug is enabled. default: False required: False type: bool """""" EXAMPLES = """""" - name: Special treatment for ovs upgrade. tripleo_ovs_upgrade: """""" RETURN = """""" msg: description: Descrption of the action taken. returned: always type: str changed: description: Was the ovs package update or not. returned: always type: bool """""" def pkg_manager(module, downloader=False): dnf = module.get_bin_path('dnf') if dnf: module.debug(""Using dnf as package manager"") if not downloader: return dnf else: return ['dnf', 'download'] if not downloader: return module.get_bin_path('yum') else: return ['yumdownloader'] # Get current OpenvSwitch package name # return stuff like openvswitch2.11 in original yaml. def get_current_ovs_pkg_name(module): cmd = ['rpm', '-qa'] _, output, _ = module.run_command(cmd, check_rc=True) ovs_re = re.compile(r"""""" ^(openvswitch[0-9]+\.[0-9]+-[0-9]+\.[0-9]+\.[0-9]+ # layered | # or openvswitch-2) # non-layered """""", re.X) for pkg in output.split(""\n""): ovs = re.search(ovs_re, pkg) if ovs: return ovs.group(0) return None # Process rhosp-openvswitch layered package for new version number # return stuff like [""2.11""] in original module def get_version(module, pkg, new=True): if new: cmd = [pkg_manager(module), 'info', '-q', pkg] else: cmd = ['rpm', '-qi', pkg] # This may fail if the package is not around for non-lp product. _, output, _ = module.run_command(cmd, check_rc=False) versions = re.findall(r'Version[^:]*:[^0-9]*([0-9.]+)', output) found = [] for version in versions: if version: # we are only interested in major/minor number here. if new: # We can have several version here found.append(version.split('.')[:2]) else: found = version.split('.')[:2] return found def flatten_version(versions, join_str=''): flatten_str = """" if not isinstance(versions, list): versions = [versions] if isinstance(versions[0], list): for version in versions: flatten_str += join_str.join(version) else: flatten_str += join_str.join(versions) return flatten_str def get_current_ovs_pkg_names(module, pkg): cmd = ['rpm', '-qa', pkg] _, output, _ = module.run_command(cmd, check_rc=True) # Make sure we remove empty element. return [pkg for pkg in output.split(""\n"") if pkg] def remove_package_noaction(module, pkgs, excludes=[]): cmd = ['rpm', '-e', '--noscripts', '--nopreun', '--nopostun', '--notriggers', '--nodeps'] pkgs_to_remove = [] for pkg in pkgs: for exclude in excludes: if not re.match(r'{}'.format(exclude), pkg): pkgs_to_remove.append(pkg) _, output, _ = module.run_command(cmd + pkgs_to_remove, check_rc=True) return output def upgrade_pkg(module, pkg): cmd = [pkg_manager(module), 'upgrade', '-y', pkg] _, output, _ = module.run_command(cmd, check_rc=True) return output def layer_product_upgrade(module, result, ovs_pkg, lp_ovs_current_version): lp_ovs_coming_versions = get_version(module, 'rhosp-openvswitch') ovs_current_version = get_version(module, ovs_pkg, new=False) pkg_suffix = '' if int(ovs_current_version[0]) >= 3 or int(ovs_current_version[1]) >= 10: pkg_suffix = '.'.join(ovs_current_version) pkg_base_name = 'openvswitch{}*'.format(pkg_suffix) if flatten_version(lp_ovs_coming_versions) \ != flatten_version(ovs_current_version): ovs_pkgs = get_current_ovs_pkg_names(module, pkg_base_name) remove_package_noaction(module, ovs_pkgs, excludes=['selinux']) upgraded = upgrade_pkg(module, 'rhosp-openvswitch') result['msg'] += \ """""" Layer product update workaround applied for {} \ Upgraded:'{}'"""""".format(ovs_pkgs, upgraded) result['changed'] = True else: result['msg'] += "" No need to upgrade ovs."" def pkg_has_restart(module): cmd = """"""rpm -q --scripts openvswitch | \\ awk '/postuninstall/,/*/' | \\ grep -q 'systemctl.*try-restart'"""""" rc, _, _ = module.run_command(cmd, check_rc=False, use_unsafe_shell=True) return rc == 0 def upgrade_non_layered_ovs(module, result): tmp_dir = '/root/OVS_UPGRADE' cmds = [ ['rm', '-rf', tmp_dir], ['install', '-d', '-o', 'root', '-g', 'root', '-m', '0750', tmp_dir], [pkg_manager(module), 'makecache'], pkg_manager(module, downloader=True) + ['--destdir', tmp_dir, '--resolve', 'openvswitch']] for cmd in cmds: module.run_command(cmd, check_rc=True) for pkg in glob.glob(tmp_dir + '/*.rpm'): cmd = ['rpm', '-U', '--replacepkgs', '--notriggerun', '--nopostun', pkg] module.run_command(cmd, check_rc=True) result['msg'] += "" {} handled"".format(pkg) result['changed'] = True def non_layered_ovs_upgrade(module, result): if not pkg_has_restart(module): result['msg'] += 'Nothing to be done for non layered ovs upgrade, ' \ ""post-script doesn't have restart."" else: result['msg'] += ""OVS upgrade special handling."" upgrade_non_layered_ovs(module, result) def main(): module = AnsibleModule(argument_spec={}, supports_check_mode=False) result = dict( changed=False, msg='' ) ovs_current_pkg = get_current_ovs_pkg_name(module) if ovs_current_pkg: # We found a ovs package, let's dive in. ovs_current_version = get_version(module, 'rhosp-openvswitch', new=False) if ovs_current_version: result['msg'] += ""Found a layered product ovs. "" layer_product_upgrade(module, result, ovs_current_pkg, ovs_current_version) else: result['msg'] += ""Found ovs. "" non_layered_ovs_upgrade(module, result) else: result['msg'] += ""No ovs installed, nothing to do."" module.exit_json(**result) if __name__ == '__main__': main() ",,250,0
openstack%2Frequirements~master~I84f8508e3a0add354297a4fc6dafa18da398af4c,openstack/requirements,master,I84f8508e3a0add354297a4fc6dafa18da398af4c,Drop crc16 from global requirements,MERGED,2020-06-23 18:41:40.000000000,2020-07-30 01:38:06.000000000,2020-07-30 01:36:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 18:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/737fef7e957eb2822490b542cbbf0808c9c51e29', 'message': 'Drop crc16 from global requirements\n\nThis package was only used by the openstack/dragonflow repo, which has\nnow been retired.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I84f8508e3a0add354297a4fc6dafa18da398af4c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-29 11:48:32.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/24a17033d6d410467c9c8924bb34bdea5cb53b82', 'message': 'Drop crc16 from global requirements\n\nThis package was only used by the openstack/dragonflow repo, which has\nnow been retired.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I84f8508e3a0add354297a4fc6dafa18da398af4c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,737600,24a17033d6d410467c9c8924bb34bdea5cb53b82,18,3,2,11904,,,0,"Drop crc16 from global requirements

This package was only used by the openstack/dragonflow repo, which has
now been retired.

Depends-on: https://review.opendev.org/737564

Change-Id: I84f8508e3a0add354297a4fc6dafa18da398af4c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/737600/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,737fef7e957eb2822490b542cbbf0808c9c51e29,dragonflow,,crc16===0.1.1,0,2
openstack%2Fmanila~master~I71cc8b3154828f4aeea0afdf3fb59a79b8a8e707,openstack/manila,master,I71cc8b3154828f4aeea0afdf3fb59a79b8a8e707,Move hacking checks to tests dir,MERGED,2019-09-11 17:36:07.000000000,2020-07-30 01:32:02.000000000,2020-07-30 01:29:39.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 17:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ae16edf39ad2571928ca54d347d4aef039939f47', 'message': ""Move hacking checks to tests dir\n\nThe test code isn't part of the service.\n\nCorresponding cinder change: I7b18453269cfc57bfbc9bd143d72948e88e60836\n\nChange-Id: I71cc8b3154828f4aeea0afdf3fb59a79b8a8e707\n""}, {'number': 2, 'created': '2019-09-11 22:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4f55366ca2ad90d9790943aadab5eacc09eb032b', 'message': ""Move hacking checks to tests dir\n\nThe test code isn't part of the service.\n\nCorresponding cinder change: I7b18453269cfc57bfbc9bd143d72948e88e60836\n\nChange-Id: I71cc8b3154828f4aeea0afdf3fb59a79b8a8e707\n""}, {'number': 3, 'created': '2020-07-29 22:17:36.000000000', 'files': ['manila/tests/hacking/checks.py', 'manila/tests/test_hacking.py', 'zuul.d/project.yaml', 'tox.ini', 'manila/tests/hacking/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fba472e3a61aaa791c71be394668875471e01858', 'message': ""Move hacking checks to tests dir\n\nThe test code isn't part of the service.\n\nCorresponding cinder change: I7b18453269cfc57bfbc9bd143d72948e88e60836\n\nChange-Id: I71cc8b3154828f4aeea0afdf3fb59a79b8a8e707\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,681557,fba472e3a61aaa791c71be394668875471e01858,32,10,3,16643,,,0,"Move hacking checks to tests dir

The test code isn't part of the service.

Corresponding cinder change: I7b18453269cfc57bfbc9bd143d72948e88e60836

Change-Id: I71cc8b3154828f4aeea0afdf3fb59a79b8a8e707
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/681557/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/hacking/checks.py', '.zuul.yaml', 'manila/tests/test_hacking.py', 'tox.ini', 'manila/tests/hacking/__init__.py']",5,ae16edf39ad2571928ca54d347d4aef039939f47,hacking,,,8,8
openstack%2Fneutron~master~Idd42e0c51c8c3bd598c9cf91602596be238bccae,openstack/neutron,master,Idd42e0c51c8c3bd598c9cf91602596be238bccae,"Remove ""six"" library",MERGED,2020-07-10 17:15:51.000000000,2020-07-30 00:37:51.000000000,2020-07-30 00:35:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-10 17:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90aff5c798dcc28adf0763343216af3fd317be34', 'message': '[WIP] Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 2, 'created': '2020-07-10 17:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9644ce207f37fc071e958f8298d4eb0774d2dc12', 'message': '[WIP] Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 3, 'created': '2020-07-12 19:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82a925fa3457a20d6d0bf26e17ac44244302b6f1', 'message': '[WIP] Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 4, 'created': '2020-07-12 20:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c4ab85b32aacbcb9248909f9c3966ef2ccd0ef0', 'message': '[WIP] Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 5, 'created': '2020-07-13 13:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdb4e76487195ade939e8f5672d6a6e56ce1c23f', 'message': 'Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 6, 'created': '2020-07-13 16:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb2d21c82385ed84285699b2ea2c180d827de6ca', 'message': 'Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 7, 'created': '2020-07-14 17:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/054333f8516a4205916b3b522463c492f92d14c6', 'message': 'Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 8, 'created': '2020-07-14 17:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a680c7c8c717e7d6b113fdcbb797f7856fa2ae1', 'message': 'Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 9, 'created': '2020-07-15 09:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c23a70006bc5011d058c36cfe44b4af9cd283bc', 'message': 'Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}, {'number': 10, 'created': '2020-07-28 16:56:12.000000000', 'files': ['neutron/tests/functional/agent/linux/test_process_monitor.py', 'neutron/tests/unit/api/v2/test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', '.pylintrc', 'neutron/profiling/profiled_decorator.py', 'neutron/common/utils.py', 'neutron/tests/unit/hacking/test_checks.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/agent/common/ovs_lib.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/api/api_common.py', 'neutron/plugins/ml2/db.py', 'neutron/agent/windows/utils.py', 'neutron/tests/unit/tests/test_post_mortem_debug.py', 'neutron/objects/base.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/unit/plugins/ml2/drivers/base_type_tunnel.py', 'lower-constraints.txt', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/db/agents_db.py', 'neutron/objects/rbac_db.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/dibbler.py', 'neutron/agent/linux/daemon.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/agent/linux/utils.py', 'neutron/tests/common/l3_test_common.py', 'tox.ini', 'neutron/services/network_segment_range/plugin.py', 'neutron/agent/common/resource_processing_queue.py', 'neutron/conf/policies/__init__.py', 'neutron/quota/resource_registry.py', 'neutron/hacking/checks.py', 'neutron/objects/router.py', 'requirements.txt', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/_test_extension_portbindings.py', 'neutron/tests/unit/extensions/test_timestamp.py', 'neutron/agent/linux/ra.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/common/config_fixtures.py', 'neutron/pecan_wsgi/controllers/root.py', 'neutron/tests/unit/agent/l2/extensions/test_fdb_population.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py', 'neutron/db/network_ip_availability_db.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/base.py', 'neutron/db/db_base_plugin_common.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/fullstack/servers/placement.py', 'neutron/agent/l3/keepalived_state_change.py', 'HACKING.rst', 'neutron/agent/linux/pd.py', 'neutron/tests/unit/agent/windows/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddd58323238ca12daa8f2213a3b69f87f39da262', 'message': 'Remove ""six"" library\n\nLast step to remove ""six"" library usage in Neutron.\n\nChange-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae\n'}]",11,740510,ddd58323238ca12daa8f2213a3b69f87f39da262,37,12,10,16688,,,0,"Remove ""six"" library

Last step to remove ""six"" library usage in Neutron.

Change-Id: Idd42e0c51c8c3bd598c9cf91602596be238bccae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/740510/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ra.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/agent/linux/dibbler.py', 'neutron/agent/linux/daemon.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/linux/pd.py']",7,90aff5c798dcc28adf0763343216af3fd317be34,remove_six," for pd_info in router['subnets']: for pd_info in router['subnets']: for subnet_id, pd_info in router['subnets'].items(): for pd_info in router['subnets']: for pd_info in router['subnets']:","import six for pd_info in six.itervalues(router['subnets']): for pd_info in six.itervalues(router['subnets']): for subnet_id, pd_info in six.iteritems(router['subnets']): for pd_info in six.itervalues(router['subnets']): for pd_info in six.itervalues(router['subnets']):",19,21
openstack%2Fopenstack-helm-infra~master~Ibd45968900d06f7a3059aa184ed272fa99ad36d5,openstack/openstack-helm-infra,master,Ibd45968900d06f7a3059aa184ed272fa99ad36d5,mariadb: fix new line issue,MERGED,2020-07-29 19:18:17.000000000,2020-07-30 00:36:10.000000000,2020-07-30 00:34:48.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 19:18:17.000000000', 'files': ['mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user_internal.cnf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/738f62db5ab652f27df823b1eb773c636e2c9dbf', 'message': 'mariadb: fix new line issue\n\nChange-Id: Ibd45968900d06f7a3059aa184ed272fa99ad36d5\n'}]",0,743825,738f62db5ab652f27df823b1eb773c636e2c9dbf,12,3,1,24780,,,0,"mariadb: fix new line issue

Change-Id: Ibd45968900d06f7a3059aa184ed272fa99ad36d5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/743825/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user_internal.cnf.tpl']",3,738f62db5ab652f27df823b1eb773c636e2c9dbf,,{{- if .Values.manifests.certificates }}{{- end }},{{- if .Values.manifests.certificates -}}{{- end -}},6,6
openstack%2Fmanila~stable%2Ftrain~Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac,openstack/manila,stable/train,Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac,[ci] Remove explicit compression of log files,MERGED,2020-07-28 19:10:31.000000000,2020-07-30 00:14:29.000000000,2020-07-30 00:12:21.000000000,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-28 19:10:31.000000000', 'files': ['contrib/ci/common.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/afb63e9db8dc470ee93f8532061fdafd19a7c93a', 'message': ""[ci] Remove explicit compression of log files\n\nCompression is not needed post [1], explicit\ncompression renders them non-browsable.\n\nThis commit applies to legacy style jobs that\nwill soon be replaced with zuulv3 native jobs;\nhowever, fixing it isn't terrible, and we\ncan use this fix for stable branches\nwhere zuulv3 native jobs may not come for a\nwhile.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\nCo-Authored-By: yatinkarel <ykarel@redhat.com>\n\nChange-Id: Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 770e57ff3192c3828b2d3162ae1f132d3858997b)\n(cherry picked from commit 531e810526843a6c152543396394068dd9873ad6)\n""}]",0,743616,afb63e9db8dc470ee93f8532061fdafd19a7c93a,11,4,1,16643,,,0,"[ci] Remove explicit compression of log files

Compression is not needed post [1], explicit
compression renders them non-browsable.

This commit applies to legacy style jobs that
will soon be replaced with zuulv3 native jobs;
however, fixing it isn't terrible, and we
can use this fix for stable branches
where zuulv3 native jobs may not come for a
while.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html
Co-Authored-By: yatinkarel <ykarel@redhat.com>

Change-Id: Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 770e57ff3192c3828b2d3162ae1f132d3858997b)
(cherry picked from commit 531e810526843a6c152543396394068dd9873ad6)
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/743616/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/common.sh'],1,afb63e9db8dc470ee93f8532061fdafd19a7c93a,swift-logs, sudo mv $src_dirname/tempest.txt $dst_dirname/tempest.txt sudo mv $src_dirname/tempest.subunit $dst_dirname/tempest.subunit sudo mv $src_dirname/testr_results.html $dst_dirname/testr_results.html,function archive_file { # First argument is expected to be filename local filename=$1 sudo gzip -9 $filename sudo chown $USER:stack $filename.gz sudo chmod a+r $filename.gz } archive_file $src_dirname/tempest.txt sudo mv $src_dirname/tempest.txt.gz $dst_dirname/tempest.txt.gz archive_file $src_dirname/tempest.subunit sudo mv $src_dirname/tempest.subunit.gz $dst_dirname/tempest.subunit.gz archive_file $src_dirname/testr_results.html sudo mv $src_dirname/testr_results.html.gz $dst_dirname/testr_results.html.gz,3,16
openstack%2Fmanila~stable%2Fstein~Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,openstack/manila,stable/stein,Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,Harden LVM driver deletion paths,MERGED,2020-07-29 20:10:59.000000000,2020-07-30 00:14:05.000000000,2020-07-30 00:12:19.000000000,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 20:10:59.000000000', 'files': ['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c441ec22efc8a0d1579497289bed9ed0c9f8c8c0', 'message': 'Harden LVM driver deletion paths\n\nDuring maintenance, administrators may decide\nto unmount shares, snapshots or remove them\nentirely prior to cleaning up LVM share resources\nin manila. The driver should not fail on deletion\nof missing resources.\n\nChange-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f\nCloses-Bug: #1888915\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit e57809fd74186714aec7dae305380a51c31fc7d5)\n(cherry picked from commit 8620f7efed1c2b669a06f13440add1eb20ef12e9)\n(cherry picked from commit 4e292ea884ff72341c2ab6733745fe6d35733aa8)\n'}]",0,743840,c441ec22efc8a0d1579497289bed9ed0c9f8c8c0,10,3,1,16643,,,0,"Harden LVM driver deletion paths

During maintenance, administrators may decide
to unmount shares, snapshots or remove them
entirely prior to cleaning up LVM share resources
in manila. The driver should not fail on deletion
of missing resources.

Change-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f
Closes-Bug: #1888915
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit e57809fd74186714aec7dae305380a51c31fc7d5)
(cherry picked from commit 8620f7efed1c2b669a06f13440add1eb20ef12e9)
(cherry picked from commit 4e292ea884ff72341c2ab6733745fe6d35733aa8)
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/743840/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py']",5,c441ec22efc8a0d1579497289bed9ed0c9f8c8c0,bug/1888915," err_pattern = re.compile("".*failed to find.*|.*not found.*"", re.IGNORECASE) if not err_pattern.match(exc.stderr): self._unmount_device(share, raise_if_missing=False) def _unmount_device(self, share_or_snapshot, raise_if_missing=True): if 'device is busy' in exc.stderr.lower(): elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) raise self._unmount_device(snapshot, raise_if_missing=False)"," if ""not found"" not in exc.stderr: self._unmount_device(share) def _unmount_device(self, share_or_snapshot): if 'device is busy' in six.text_type(exc): self._unmount_device(snapshot)",82,12
openstack%2Fmanila~stable%2Fussuri~Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,openstack/manila,stable/ussuri,Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,Fix fallback share group snapshot implementation,MERGED,2020-07-29 05:04:18.000000000,2020-07-30 00:02:49.000000000,2020-07-29 22:45:27.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 05:04:18.000000000', 'files': ['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/e49075dfee4c586ea024b14005f65b8d52bd3cc4', 'message': 'Fix fallback share group snapshot implementation\n\nWhen a share driver does not provide the capability\nto create share group snapshots, the share manager\niterates over the shares in the group and invokes the\ndriver method to snapshot the shares. However, the\ncreate and delete routines in this fallback path\ndid not include some attributes necessary for the\noperation in many drivers.\n\nChange-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nCloses-Bug: #1888905\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)\n'}]",0,743675,e49075dfee4c586ea024b14005f65b8d52bd3cc4,12,5,1,16643,,,0,"Fix fallback share group snapshot implementation

When a share driver does not provide the capability
to create share group snapshots, the share manager
iterates over the shares in the group and invokes the
driver method to snapshot the shares. However, the
create and delete routines in this fallback path
did not include some attributes necessary for the
operation in many drivers.

Change-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed
Closes-Bug: #1888905
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit a398743264023660c1c6dc441a9847ba9a3cabfa)
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/743675/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml']",3,e49075dfee4c586ea024b14005f65b8d52bd3cc4,bug/1888905,--- fixes: - | An error with share group snapshot creation and deletion due to missing attributes has been fixed. See `Launchpad bug 1888905 <https://launchpad.net/bugs/1888905>`_ for more information. ,,34,0
openstack%2Fmanila~stable%2Fstein~I76e11fef27c9723f019cfdfdc6ea86878db78776,openstack/manila,stable/stein,I76e11fef27c9723f019cfdfdc6ea86878db78776,[NetApp] Fix falsely report migration cancelation success,MERGED,2020-07-29 10:17:53.000000000,2020-07-29 23:55:32.000000000,2020-07-29 20:21:34.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 31528}]","[{'number': 1, 'created': '2020-07-29 10:17:53.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1199489d998a729d7fcf7cf7f88ab34b6464d46b', 'message': '[NetApp] Fix falsely report migration cancelation success\n\nNetApp ONTAP share delete operation can fail sometimes when is triggered\nimmediately after migration cancelation on a overloaded NetApp backend.\nMigration cancelation invokes ""abort_volume_move"" which is an asynchronous\nAPI. If share delete operation is requested immediately after call the\nformer API, it fails because the ""abort_volume_move"" is still in progress.\nNow NetApp cDOT driver checks, for a period of time, if the\n``volume-move-abort`` operation has ended before report migration\ncancelation success.\n\nThis patch squash the following commit that improves the release note\nfor this fix:\n[NetApp] Updating the release note for bugfix 1688620\n(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)\n\nChange-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776\nCloses-Bug: #1688620\n(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)\n(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)\n(cherry picked from commit c915918f3c6ac608469263dd05e3f2b5eb61dc4e)\n'}]",0,743718,1199489d998a729d7fcf7cf7f88ab34b6464d46b,15,5,1,9003,,,0,"[NetApp] Fix falsely report migration cancelation success

NetApp ONTAP share delete operation can fail sometimes when is triggered
immediately after migration cancelation on a overloaded NetApp backend.
Migration cancelation invokes ""abort_volume_move"" which is an asynchronous
API. If share delete operation is requested immediately after call the
former API, it fails because the ""abort_volume_move"" is still in progress.
Now NetApp cDOT driver checks, for a period of time, if the
``volume-move-abort`` operation has ended before report migration
cancelation success.

This patch squash the following commit that improves the release note
for this fix:
[NetApp] Updating the release note for bugfix 1688620
(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)

Change-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776
Closes-Bug: #1688620
(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)
(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)
(cherry picked from commit c915918f3c6ac608469263dd05e3f2b5eb61dc4e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/18/743718/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,1199489d998a729d7fcf7cf7f88ab34b6464d46b,bug/1688620," @ddt.data({'state': 'failed'}, {'state': 'healthy'}) @ddt.unpack def test_migration_cancel(self, state): self.library.configuration.netapp_migration_cancel_timeout = 15 mock.Mock(return_value={'state': state})) if state == 'failed': retval = self.library.migration_cancel( self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance(), source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') self.assertIsNone(retval) mock_info_log.assert_called_once() else: self.assertRaises( (exception.NetAppException), self.library.migration_cancel, self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance, source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') @ddt.data({'already_canceled': True, 'effect': exception.NetAppException}, {'already_canceled': False, 'effect': (None, exception.NetAppException)}) @ddt.unpack def test_migration_cancel_exception_volume_status(self, already_canceled, effect): source_snapshots = mock.Mock() snapshot_mappings = mock.Mock() self.library.configuration.netapp_migration_cancel_timeout = 1 mock_exception_log = self.mock_object(lib_base.LOG, 'exception') mock_info_log = self.mock_object(lib_base.LOG, 'info') self.mock_object(self.library, '_get_vserver', mock.Mock(return_value=(fake.VSERVER1, mock.Mock()))) self.mock_object(self.library, '_get_backend_share_name', mock.Mock(return_value=fake.SHARE_NAME)) self.mock_object(self.client, 'abort_volume_move') self.mock_object(self.client, 'get_volume_move_status', mock.Mock(side_effect=effect)) self.library.migration_cancel( mock_exception_log.assert_called_once() if not already_canceled:"," @ddt.data(utils.annotated('already_canceled', (True, )), utils.annotated('not_canceled_yet', (False, ))) def test_migration_cancel(self, already_canceled): already_canceled = already_canceled[0] mock_exception_log = self.mock_object(lib_base.LOG, 'exception') vol_move_side_effect = (exception.NetAppException if already_canceled else None) mock.Mock(side_effect=vol_move_side_effect)) retval = self.library.migration_cancel( self.assertIsNone(retval) if already_canceled: mock_exception_log.assert_called_once() else:",103,14
openstack%2Frequirements~master~I110159ac309f4f4b1728034807feb9c02ca77549,openstack/requirements,master,I110159ac309f4f4b1728034807feb9c02ca77549,Remove jsonmodels from global requirements,MERGED,2020-06-23 20:24:11.000000000,2020-07-29 23:38:44.000000000,2020-07-29 23:37:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 20:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3531dff0baa88796939bd06f94b62383159f4d1', 'message': 'Remove jsonmodels from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I110159ac309f4f4b1728034807feb9c02ca77549\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-29 11:49:12.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/482f4e1cb1807ae9344c2b52997fecf12af06f9b', 'message': 'Remove jsonmodels from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I110159ac309f4f4b1728034807feb9c02ca77549\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,737622,482f4e1cb1807ae9344c2b52997fecf12af06f9b,18,3,2,11904,,,0,"Remove jsonmodels from global requirements

This package was only used in openstack/dragonflow. Now that that
project is being retired we can remove this from g-r.

Depends-on: https://review.opendev.org/737564

Change-Id: I110159ac309f4f4b1728034807feb9c02ca77549
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/737622/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,c3531dff0baa88796939bd06f94b62383159f4d1,dragonflow,,jsonmodels===2.4,0,2
openstack%2Fpuppet-glance~master~Id05f736dbbddaff2cb90aa6678c777b9a0318e40,openstack/puppet-glance,master,Id05f736dbbddaff2cb90aa6678c777b9a0318e40,Remove support for glance-registry service,MERGED,2020-07-28 07:50:28.000000000,2020-07-29 23:27:20.000000000,2020-07-29 23:26:03.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 07:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/24f4420d235bf0d8f4dc1eb1bebed460cc28eff9', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n\n[1] https://review.opendev.org/#/c/738671/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 2, 'created': '2020-07-28 07:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/91f323eb84d1e850f1ef332ad2e7ebd1574d39f2', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nUseless enable_v1/2_api parameters are also removed by this change\nbecause these parameters were removed glance when registry codes\nwere removed[2].\n [2] https://review.opendev.org/#/c/738672/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 3, 'created': '2020-07-28 08:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/adb6223ef66131a067b4e3f6e6122e81d8f8b464', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nUseless enable_v1/2_api parameters are also removed by this change\nbecause these parameters were removed from glance when registry codes\nwere removed[2].\n [2] https://review.opendev.org/#/c/738672/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 4, 'created': '2020-07-28 08:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/372e8723ad6cc8317d4f65224191e38f18a3a87b', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nUseless enable_v1/2_api parameters are also removed by this change\nbecause these parameters were removed from glance when registry codes\nwere removed[2].\n [2] https://review.opendev.org/#/c/738672/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 5, 'created': '2020-07-28 10:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e556a2f3ecbbb4bd0ae4f9aa2e703590ce851ed9', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nAlso enable_v2_api parameters in glance::api class is deprecated by\nthis change because this parameter were removed from glance when\nregistry codes were removed[2].\n [2] https://review.opendev.org/#/c/738672/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 6, 'created': '2020-07-28 10:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e122af96f5f8d5b5e904e6833c0bb88d0ad5ff0b', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 7, 'created': '2020-07-28 10:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e1f25fe1701294eb223a4a10bfe758573a5230ff', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 8, 'created': '2020-07-28 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9ce5791e55a360056a4773bf6ada463985a0baca', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}, {'number': 9, 'created': '2020-07-28 10:41:42.000000000', 'files': ['spec/classes/glance_registry_db_spec.rb', 'manifests/notify/rabbitmq.pp', 'spec/classes/glance_policy_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'spec/classes/glance_config_spec.rb', 'spec/classes/glance_registry_spec.rb', 'manifests/registry/db.pp', 'manifests/registry/logging.pp', 'manifests/config.pp', 'README.md', 'lib/puppet/type/glance_registry_paste_ini.rb', 'manifests/registry.pp', 'spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_spec.rb', 'manifests/params.pp', 'lib/puppet/type/glance_registry_config.rb', 'manifests/registry/authtoken.pp', 'spec/acceptance/glance_config_spec.rb', 'manifests/policy.pp', 'releasenotes/notes/remove-registry-2a8d771cc159401d.yaml', 'spec/classes/glance_notify_rabbitmq_spec.rb', 'spec/classes/glance_registry_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/11599ba429459a9a192c1b7dfcf8ecf1fedc6ab3', 'message': 'Remove support for glance-registry service\n\nThis patch removes support for glance-registry service, because it has\nbeen removed from glance [1].\n [1] https://review.opendev.org/#/c/738671/\n\nChange-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40\n'}]",0,743479,11599ba429459a9a192c1b7dfcf8ecf1fedc6ab3,16,3,9,9816,,,0,"Remove support for glance-registry service

This patch removes support for glance-registry service, because it has
been removed from glance [1].
 [1] https://review.opendev.org/#/c/738671/

Change-Id: Id05f736dbbddaff2cb90aa6678c777b9a0318e40
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/79/743479/8 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_registry_db_spec.rb', 'manifests/notify/rabbitmq.pp', 'spec/classes/glance_policy_spec.rb', 'manifests/api.pp', 'spec/classes/glance_config_spec.rb', 'spec/classes/glance_registry_spec.rb', 'manifests/registry/db.pp', 'manifests/registry/logging.pp', 'manifests/config.pp', 'README.md', 'lib/puppet/type/glance_registry_paste_ini.rb', 'manifests/registry.pp', 'spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_spec.rb', 'manifests/params.pp', 'lib/puppet/type/glance_registry_config.rb', 'manifests/registry/authtoken.pp', 'spec/acceptance/glance_config_spec.rb', 'manifests/policy.pp', 'releasenotes/notes/remove-registry-2a8d771cc159401d.yaml', 'spec/classes/glance_notify_rabbitmq_spec.rb', 'spec/classes/glance_registry_logging_spec.rb']",22,24f4420d235bf0d8f4dc1eb1bebed460cc28eff9,registry-removal,,"require 'spec_helper' describe 'glance::registry::logging' do let :params do { } end let :log_params do { :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/glance/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/glance_registry_random.log', :debug => true, } end shared_examples_for 'glance-registry-logging' do context 'with basic logging options and default settings' do it_configures 'basic default logging settings' end context 'with basic logging options and non-default settings' do before { params.merge!( log_params ) } it_configures 'basic non-default logging settings' end context 'with extended logging options' do before { params.merge!( log_params ) } it_configures 'logging params set' end context 'without extended logging options' do it_configures 'logging params unset' end end shared_examples 'basic default logging settings' do it 'configures glance logging settings with default values' do is_expected.to contain_oslo__log('glance_registry_config').with( :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/glance', :log_file => '/var/log/glance/registry.log', :debug => '<SERVICE DEFAULT>', ) end end shared_examples 'basic non-default logging settings' do it 'configures glance logging settings with non-default values' do is_expected.to contain_oslo__log('glance_registry_config').with( :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/glance_registry_random.log', :debug => true, ) end end shared_examples_for 'logging params set' do it 'enables logging params' do is_expected.to contain_oslo__log('glance_registry_config').with( :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/glance/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', ) end end shared_examples_for 'logging params unset' do [ :logging_context_format_string, :logging_default_format_string, :logging_debug_format_suffix, :logging_exception_prefix, :log_config_append, :publish_errors, :default_log_levels, :fatal_deprecations, :instance_format, :instance_uuid_format, :log_date_format, ].each { |param| it { is_expected.to contain_oslo__log('glance_registry_config').with(""#{param}"" => '<SERVICE DEFAULT>') } } end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'glance-registry-logging' end end end ",89,1467
openstack%2Fpuppet-tempest~master~I3055273cd5e6eafa4af8acfb3f7b18fce5de5368,openstack/puppet-tempest,master,I3055273cd5e6eafa4af8acfb3f7b18fce5de5368,Deprecate scenario.img_dir option,MERGED,2020-07-14 08:34:27.000000000,2020-07-29 23:09:11.000000000,2020-07-29 23:07:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-14 08:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/7653043d04a02a37919934cd6e46ea0c43bd8df2', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1]\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368\n'}, {'number': 2, 'created': '2020-07-14 09:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/cc236a0f6cb6aae9dea104f269ac4858b14a61ad', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1]\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368\n'}, {'number': 3, 'created': '2020-07-28 09:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/a95a950bf683c021aa4ad756f2117d4842d5e874', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1]\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368\n'}, {'number': 4, 'created': '2020-07-28 10:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/9c26dd66903b9f2d23c0c9d401082cec64781c11', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1]\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368\n'}, {'number': 5, 'created': '2020-07-28 10:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e91ea1ab406d1a9d2fdbde7bc9dc63004df5db4b', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1]\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368\n'}, {'number': 6, 'created': '2020-07-28 10:48:52.000000000', 'files': ['releasenotes/notes/deprecate-img-dir-b35d0c67bc8f43d3.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/dacf254b8e6a78f3e0456115a687361632135586', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1]\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368\n'}]",0,740917,dacf254b8e6a78f3e0456115a687361632135586,23,5,6,22873,,,0,"Deprecate scenario.img_dir option

The option is deprecated for more than 4 years already and it will
be removed soon, see the change in Tempest [1]

Starting Tempest 25.0.0 release, CONF.scenario.img_file need
a full path for the image. CONF.scenario.img_dir was deprecated
and will be removed in the next release. Till Tempest 25.0.0,
old behavior is maintained and keep working but starting
Tempest 26.0.0, you need to specify the full path in
CONF.scenario.img_file config option.

This patch does analogically the same change as was done in Tempest,
in order to give users of the plugin some time for removing img_dir.

[1] https://review.opendev.org/#/c/710996

Related-Bug: #1393881
Change-Id: I3055273cd5e6eafa4af8acfb3f7b18fce5de5368
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/17/740917/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/tempest_init_spec.rb']",2,7653043d04a02a37919934cd6e46ea0c43bd8df2,remove_img_dir, is_expected.to contain_tempest_config('scenario/img_file').with(:value => '/var/lib/tempest/cirros-0.4.0-x86_64-disk.img'), is_expected.to contain_tempest_config('scenario/img_dir').with(:value => '/var/lib/tempest') is_expected.to contain_tempest_config('scenario/img_file').with(:value => 'cirros-0.4.0-x86_64-disk.img'),3,8
openstack%2Fironic~master~I9c41f69e1b51bb517405d189f20d19ba42f1da17,openstack/ironic,master,I9c41f69e1b51bb517405d189f20d19ba42f1da17,Fix invalid assertTrue which should be assertEqual,MERGED,2020-07-29 09:10:37.000000000,2020-07-29 22:57:07.000000000,2020-07-29 17:29:51.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-29 09:10:37.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ca38395b26e23eb82963650af7a011c8c256d3b', 'message': 'Fix invalid assertTrue which should be assertEqual\n\nself.assertTrue(check_share_fs_mounted_mock.call_count, 2) should be\nself.assertEqual(check_share_fs_mounted_mock.call_count, 2).\n\nChange-Id: I9c41f69e1b51bb517405d189f20d19ba42f1da17\n'}]",0,743700,9ca38395b26e23eb82963650af7a011c8c256d3b,11,5,1,20190,,,0,"Fix invalid assertTrue which should be assertEqual

self.assertTrue(check_share_fs_mounted_mock.call_count, 2) should be
self.assertEqual(check_share_fs_mounted_mock.call_count, 2).

Change-Id: I9c41f69e1b51bb517405d189f20d19ba42f1da17
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/743700/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/irmc/test_boot.py'],1,9ca38395b26e23eb82963650af7a011c8c256d3b,assertTrue," self.assertEqual(check_share_fs_mounted_mock.call_count, 2) self.assertEqual(check_share_fs_mounted_mock.call_count, 2) self.assertEqual(check_share_fs_mounted_mock.call_count, 2)"," self.assertTrue(check_share_fs_mounted_mock.call_count, 2) self.assertTrue(check_share_fs_mounted_mock.call_count, 2) self.assertTrue(check_share_fs_mounted_mock.call_count, 2)",3,3
openstack%2Fos-net-config~stable%2Fussuri~Ie48291011bb145452b6bf8e6aa843311266a07bd,openstack/os-net-config,stable/ussuri,Ie48291011bb145452b6bf8e6aa843311266a07bd,Add NIC Partitioning support for Mellanox VFs,MERGED,2020-07-28 08:11:16.000000000,2020-07-29 22:49:37.000000000,2020-07-29 22:48:20.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 08:11:16.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/62382832671521ecddf8355219b9578820ac2291', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n(cherry picked from commit 878e6bc3ff0edb67f51d942e2d0e42ed4dca0134)\n'}]",0,743481,62382832671521ecddf8355219b9578820ac2291,11,4,1,18904,,,0,"Add NIC Partitioning support for Mellanox VFs

Change-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd
(cherry picked from commit 878e6bc3ff0edb67f51d942e2d0e42ed4dca0134)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/81/743481/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,62382832671521ecddf8355219b9578820ac2291,mellanox_nicp-stable/ussuri," def test_vf_by_name(ifname): return True def test_not_vf_by_name(ifname): return False # Testing VFs of Mellanox Connect-X cards self.stub_out('os_net_config.utils._is_vf_by_name', test_vf_by_name) self.assertEqual(utils.get_dpdk_devargs(nic, False), '0000:00:19.0') # Check if exception is raised, when the operstate is down # and not VF with open(os.path.join(nic_path, 'operstate'), 'w') as f: f.write('down') self.stub_out('os_net_config.utils._is_vf_by_name', test_not_vf_by_name) self.assertRaises(utils.InvalidInterfaceException, utils.get_dpdk_devargs, nic, False) ",,40,7
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I80c5589b17378767e76158d5a373500d58c439a2,openstack/puppet-openstack-integration,stable/ussuri,I80c5589b17378767e76158d5a373500d58c439a2,Use RDO Ussuri for stable/ussuri jobs,MERGED,2020-07-27 00:57:24.000000000,2020-07-29 22:49:35.000000000,2020-07-29 22:49:35.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 00:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/aff5198fcf0f8975ffe2bbc338d7c35d66a1e6d1', 'message': 'Use RDO Ussuri for stable/ussuri jobs\n\nChange-Id: I80c5589b17378767e76158d5a373500d58c439a2\n'}, {'number': 2, 'created': '2020-07-27 03:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f31ef6e9cb3efaef73efa148e84147390ab776f2', 'message': 'Use RDO Ussuri for stable/ussuri jobs\n\nChange-Id: I80c5589b17378767e76158d5a373500d58c439a2\n'}, {'number': 3, 'created': '2020-07-27 04:31:31.000000000', 'files': ['configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/25d6635b7295cc168173ac0923ed42d6498da406', 'message': 'Use RDO Ussuri for stable/ussuri jobs\n\nChange-Id: I80c5589b17378767e76158d5a373500d58c439a2\n'}]",0,743141,25d6635b7295cc168173ac0923ed42d6498da406,11,3,3,9816,,,0,"Use RDO Ussuri for stable/ussuri jobs

Change-Id: I80c5589b17378767e76158d5a373500d58c439a2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/743141/2 && git format-patch -1 --stdout FETCH_HEAD,['configure_facts.sh'],1,aff5198fcf0f8975ffe2bbc338d7c35d66a1e6d1,rdo-ussuri,"if [ ""${OS_NAME_VERS}"" == ""centos7"" ]; then # TODO(tkajinam): Remove this once we get rid of centos7 beaker job export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} else export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-ussuri/puppet-passed-ci/delorean.repo} fi export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-ussuri/delorean-deps.repo}",export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-master/delorean-deps.repo},8,2
openstack%2Fmanila~stable%2Fussuri~I8588e8f988d85dc64e19e7a44a25c3dd0b776892,openstack/manila,stable/ussuri,I8588e8f988d85dc64e19e7a44a25c3dd0b776892,Add verify-noapi testcase to grenade,MERGED,2020-07-29 03:11:05.000000000,2020-07-29 22:47:03.000000000,2020-07-29 22:45:26.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 03:11:05.000000000', 'files': ['contrib/ci/pre_test_hook.sh', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/544998764ef8d129e460c7ca3333160848c90a2e', 'message': 'Add verify-noapi testcase to grenade\n\nSwitch to using the LVM driver in the grenade\njob that allows us to add a minor data\npath test to prove that upgrading manila\nhas no impact on data path connectivity\nto resources created by manila.\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 8cccb73f46df763f907171e63d960fb1e6a81fd0)\n'}]",0,743672,544998764ef8d129e460c7ca3333160848c90a2e,12,5,1,16643,,,0,"Add verify-noapi testcase to grenade

Switch to using the LVM driver in the grenade
job that allows us to add a minor data
path test to prove that upgrading manila
has no impact on data path connectivity
to resources created by manila.

Change-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 8cccb73f46df763f907171e63d960fb1e6a81fd0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/743672/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/pre_test_hook.sh', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'devstack/upgrade/resources.sh']",3,544998764ef8d129e460c7ca3333160848c90a2e,manila-grenade,"MANILA_GRENADE_ACCESS_TO=${MANILA_GRENADE_ACCESS_TO:-""0.0.0.0/0""} resource_save manila share_protocol $share_protocol # grab the export location export_path=$(manila share-export-location-list \ $MANILA_GRENADE_SHARE_NAME | grep "":/"" | \ cut -d ""|"" -f 3 | head -1) resource_save manila export_path $export_path ##### function scenario_6_do_share_mount_and_write_data { mkdir -p /tmp/manila-share export_path=$(resource_get manila export_path) share_protocol=$(resource_get manila share_protocol| awk '{print tolower($0)}') sudo mount -t $share_protocol $export_path /tmp/manila-share test_msg=""Hello from the past"" echo $test_msg | sudo tee /tmp/manila-share/testfile && sudo sync } function scenario_6_verify_share_mount_and_read_data { export_path=$(resource_get manila export_path) share_is_mounted=$(sudo mount | grep $export_path) [[ -z $share_is_mounted ]] && die $LINENO ""Share $export_path is not mounted"" read_data=$(sudo cat /tmp/manila-share/testfile|xargs) if [[ $read_data == ""Hello from the past"" ]]; then echo ""Share data remains unmodified."" else die $LINENO ""Share data does not match what was written before upgrade."" fi } function scenario_6_destroy_share_mount { export_path=$(resource_get manila export_path) sudo umount -f /tmp/manila-share } scenario_6_do_share_mount_and_write_data scenario_6_verify_share_mount_and_read_data scenario_6_destroy_share_mount scenario_6_verify_share_mount_and_read_data","MANILA_GRENADE_ACCESS_TO=${MANILA_GRENADE_ACCESS_TO:-""127.0.0.1""} :",46,7
openstack%2Fnova~master~I251289104dc92fc48bdb6c4de8dc08fb81695ff2,openstack/nova,master,I251289104dc92fc48bdb6c4de8dc08fb81695ff2,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:37:21.000000000,2020-07-29 22:34:01.000000000,2020-07-29 22:31:35.000000000,"[{'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-12 03:37:21.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/test_servers_provider_tree.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6297e3aadc0c27af04d44528a5b2b5c32ef3e086', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I251289104dc92fc48bdb6c4de8dc08fb81695ff2\n""}]",0,740575,6297e3aadc0c27af04d44528a5b2b5c32ef3e086,13,8,1,30356,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I251289104dc92fc48bdb6c4de8dc08fb81695ff2
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/740575/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/test_servers_provider_tree.py']",8,6297e3aadc0c27af04d44528a5b2b5c32ef3e086,," self.assertCountEqual(self.expected_compute_node_traits, self.assertCountEqual( self.assertCountEqual(self.expected_compute_node_traits, self.assertCountEqual(expected_traits, self.assertCountEqual(expected_traits, self.assertCountEqual(expected_traits,"," self.assertItemsEqual(self.expected_compute_node_traits, self.assertItemsEqual( self.assertItemsEqual(self.expected_compute_node_traits, self.assertItemsEqual(expected_traits, self.assertItemsEqual(expected_traits, self.assertItemsEqual(expected_traits,",19,19
openstack%2Fpuppet-nova~master~Ib135617b0733831640846a3a0c1a01c6743da298,openstack/puppet-nova,master,Ib135617b0733831640846a3a0c1a01c6743da298,Remove deprecated parameters for baremetal scheduling,MERGED,2020-07-29 00:34:34.000000000,2020-07-29 22:29:17.000000000,2020-07-29 22:27:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 00:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1bfbd898d20b3756f7605fb61902baa13770c261', 'message': 'Remove depecated parameters for baremetal scheduling\n\nChange-Id: Ib135617b0733831640846a3a0c1a01c6743da298\n'}, {'number': 2, 'created': '2020-07-29 04:35:35.000000000', 'files': ['manifests/scheduler/filter.pp', 'releasenotes/notes/cleanup-baremetal-scheduling-opts-250e52ff28ae2fc3.yaml', 'spec/classes/nova_scheduler_filter_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5292d3cabffe703799c8a202d5bbef7108f73102', 'message': 'Remove deprecated parameters for baremetal scheduling\n\nChange-Id: Ib135617b0733831640846a3a0c1a01c6743da298\n'}]",0,743648,5292d3cabffe703799c8a202d5bbef7108f73102,12,4,2,9816,,,0,"Remove deprecated parameters for baremetal scheduling

Change-Id: Ib135617b0733831640846a3a0c1a01c6743da298
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/743648/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'releasenotes/notes/cleanup-baremetal-scheduling-opts-250e52ff28ae2fc3.yaml', 'spec/classes/nova_scheduler_filter_spec.rb']",3,1bfbd898d20b3756f7605fb61902baa13770c261,cleanup-baremetal-opts,," context 'when overriding deprecated params' do let :params do { :scheduler_use_baremetal_filters => true, :baremetal_scheduler_default_filters => ['ExactRamFilter','ExactDiskFilter','ExactCoreFilter'], } end it { is_expected.to_not contain_nova_config('filter_scheduler/use_baremetal_filters') } it { is_expected.to_not contain_nova_config('filter_scheduler/baremetal_enabled_filters') } end ",8,37
openstack%2Fmanila~master~I7cede01f9b51485c1869422b6b12f88e54af0856,openstack/manila,master,I7cede01f9b51485c1869422b6b12f88e54af0856,DNM: Testing config opt,ABANDONED,2020-07-15 06:52:51.000000000,2020-07-29 22:23:36.000000000,,"[{'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-15 06:52:51.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/642405d64a9c5c41b2b9f8b455fcb151e1611715', 'message': 'DNM: Testing config opt\n\nChange-Id: I7cede01f9b51485c1869422b6b12f88e54af0856\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,741097,642405d64a9c5c41b2b9f8b455fcb151e1611715,8,6,1,16643,,,0,"DNM: Testing config opt

Change-Id: I7cede01f9b51485c1869422b6b12f88e54af0856
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/97/741097/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh']",2,642405d64a9c5c41b2b9f8b455fcb151e1611715,service-image-config-test," if [[ ""$(trueorfalse False MANILA_SERVICE_IMAGE_ENABLED)"" == ""True"" ]]; then iniset $TEMPEST_CONFIG share image_with_share_tools $MANILA_SERVICE_IMAGE_NAME fi", iniset $TEMPEST_CONFIG share image_with_share_tools $MANILA_SERVICE_IMAGE_NAME,3,42
openstack%2Fpuppet-placement~master~I76eb105ca532e427e4f48f84ccb5c15532456fda,openstack/puppet-placement,master,I76eb105ca532e427e4f48f84ccb5c15532456fda,Add support for management of osc-placement package,MERGED,2020-07-21 00:50:36.000000000,2020-07-29 21:54:35.000000000,2020-07-29 21:53:04.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 00:50:36.000000000', 'files': ['spec/classes/placement_client_spec.rb', 'releasenotes/notes/osc-placement-c9df6c2ce40537d0.yaml', 'manifests/params.pp', 'manifests/client.pp', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n'}]",0,742050,0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5,9,3,1,9816,,,0,"Add support for management of osc-placement package

This patch introduces a new class, placement::client, so that operators
can manage pythonN-osc-placement package.

Change-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/50/742050/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_client_spec.rb', 'releasenotes/notes/osc-placement-c9df6c2ce40537d0.yaml', 'manifests/params.pp', 'manifests/client.pp', 'manifests/deps.pp']",5,0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5,osc-placement," # Support packages need to be installed in the install phase, but we don't # put them in the chain above because we don't want any false dependencies # between packages with the placement-package tag and the placement-support-package # tag. Note: the package resources here will have a 'before' relationship on # the placement::install::end anchor. The line between placement-support-package # and placement-package should be whether or not placement services would # need to be restarted if the package state was changed. Anchor['placement::install::begin'] -> Package<| tag == 'placement-support-package'|> -> Anchor['placement::install::end'] ",,93,0
openstack%2Fopenstack-ansible~stable%2Fussuri~I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26,openstack/openstack-ansible,stable/ussuri,I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26,Fix ceph deployment for CentOS 7,MERGED,2020-07-27 18:38:57.000000000,2020-07-29 21:50:19.000000000,2020-07-29 21:48:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-27 18:38:57.000000000', 'files': ['playbooks/common-tasks/ceph-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e396a18204bd2aa6602f5e1b89f0c193c3be74c', 'message': 'Fix ceph deployment for CentOS 7\n\nSince centos dropped pyhton-pip from their repos, we should use\nepel now to get pip2 and install required for ceph libraries (ie PyYAML)\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n(cherry picked from commit 39a4622ef7c43db51e098169906883a0fd34a326)\n'}]",0,743314,5e396a18204bd2aa6602f5e1b89f0c193c3be74c,16,3,1,25023,,,0,"Fix ceph deployment for CentOS 7

Since centos dropped pyhton-pip from their repos, we should use
epel now to get pip2 and install required for ceph libraries (ie PyYAML)

Change-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26
(cherry picked from commit 39a4622ef7c43db51e098169906883a0fd34a326)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/743314/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/ceph-server.yml'],1,5e396a18204bd2aa6602f5e1b89f0c193c3be74c,," name: libselinux-python3 - name: Download EPEL gpg keys get_url: url: ""{{ centos_epel_key | default('http://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7') }}"" dest: /etc/pki/rpm-gpg register: _get_yum_keys until: _get_yum_keys is success retries: 5 delay: 2 when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('7', '=') - name: Install EPEL gpg keys rpm_key: key: ""/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7"" state: present when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('7', '=') - name: Install the EPEL repository yum_repository: name: epel-ceph baseurl: ""{{ centos_epel_mirror | default('http://download.fedoraproject.org/pub/epel') ~ '/' ~ ansible_distribution_major_version ~ '/' ~ ansible_architecture }}"" description: 'Extra Packages for Enterprise Linux 7 - $basearch' gpgcheck: yes enabled: yes state: present includepkgs: 'python2-pip' register: install_epel_repo until: install_epel_repo is success retries: 5 delay: 2 when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('7', '=') - ""{{ (ansible_os_family | lower == 'redhat' and ansible_distribution_major_version is version('8', '<')) | ternary('python2-pip', 'python-pip') }}""", name: libselinux-python - python-pip,39,2
openstack%2Fpuppet-ironic~master~Ie8993c14649b56e5af530ed2e94e38bc02bb7d55,openstack/puppet-ironic,master,Ie8993c14649b56e5af530ed2e94e38bc02bb7d55,Allow enabling debug output of IPMI commands,MERGED,2020-07-28 02:42:36.000000000,2020-07-29 21:43:39.000000000,2020-07-29 21:42:21.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 02:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7163f52282578c373f66907d4b492e82eb2585e1', 'message': 'Allow enabling debug output of IPMI commands\n\nThis change introduces a new parameter, ironic::driver::ipmi::debug, so\nthat operators can enabled debug outputs of IPMI commands executed in\nironic.\n\nChange-Id: Ie8993c14649b56e5af530ed2e94e38bc02bb7d55\n'}, {'number': 2, 'created': '2020-07-28 02:43:55.000000000', 'files': ['spec/classes/ironic_drivers_ipmi_spec.rb', 'releasenotes/notes/ipmi-debug-84d4ab86246d608b.yaml', 'manifests/drivers/ipmi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b79368ec09565d8950d0e06105b124e8323b5b55', 'message': 'Allow enabling debug output of IPMI commands\n\nThis change introduces a new parameter, ironic::drivers::ipmi::debug,\nso that operators can enabled debug outputs of IPMI commands executed\nin ironic.\n\nChange-Id: Ie8993c14649b56e5af530ed2e94e38bc02bb7d55\n'}]",0,743443,b79368ec09565d8950d0e06105b124e8323b5b55,9,3,2,9816,,,0,"Allow enabling debug output of IPMI commands

This change introduces a new parameter, ironic::drivers::ipmi::debug,
so that operators can enabled debug outputs of IPMI commands executed
in ironic.

Change-Id: Ie8993c14649b56e5af530ed2e94e38bc02bb7d55
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/43/743443/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_drivers_ipmi_spec.rb', 'releasenotes/notes/ipmi-debug-84d4ab86246d608b.yaml', 'manifests/drivers/ipmi.pp']",3,7163f52282578c373f66907d4b492e82eb2585e1,ipmi-debug,"# [*debug*] # (optional) Enables debug outputs of IPMI commands # Defaults to $::os_service_default # $debug = $::os_service_default, 'ipmi/debug': value => $debug;",,18,2
openstack%2Fbifrost~master~I4610df15da4de0c9465293f6b21391115f862852,openstack/bifrost,master,I4610df15da4de0c9465293f6b21391115f862852,Remove upstart templates,MERGED,2020-07-29 12:42:33.000000000,2020-07-29 21:39:22.000000000,2020-07-29 21:37:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 12:42:33.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/templates/upstart_template.j2', 'playbooks/roles/bifrost-ironic-install/templates/upstart_template.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/77d09f023de54f45fc2b529b9bfca3a21e630fcd', 'message': ""Remove upstart templates\n\nWe don't need them anymore.\n\nChange-Id: I4610df15da4de0c9465293f6b21391115f862852\n""}]",0,743746,77d09f023de54f45fc2b529b9bfca3a21e630fcd,9,3,1,23851,,,0,"Remove upstart templates

We don't need them anymore.

Change-Id: I4610df15da4de0c9465293f6b21391115f862852
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/46/743746/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/templates/upstart_template.j2', 'playbooks/roles/bifrost-ironic-install/templates/upstart_template.j2']",2,77d09f023de54f45fc2b529b9bfca3a21e630fcd,remove-upstart,,start on runlevel [2345] stop on runlevel [016] pre-start script mkdir -p /var/run/{{ item.username }} chown -R {{ item.username }}:{{ item.username }} /var/run/{{ item.username }} end script respawn respawn limit 2 10 exec start-stop-daemon --start -c {{ item.username }} --exec {{ item.service_path }}/{{ item.service_name }} -- {{ item.args }} ,0,20
openstack%2Fopenstack-helm-infra~master~Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a,openstack/openstack-helm-infra,master,Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a,Move MariaDB backup-restore function into a Deployment,ABANDONED,2020-07-27 19:48:07.000000000,2020-07-29 21:31:42.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 30746}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-27 19:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdbea54973a1454041800c829d747aebb055334f', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 2, 'created': '2020-07-27 19:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bc6c1ed7259f798877cb2adadc3f69d4531597c', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 3, 'created': '2020-07-28 20:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8738a4a3e359a534f2b1593696440f16d414823', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 4, 'created': '2020-07-28 20:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a568a0f6cdc6990677db07f67fa0caf2dda993f', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 5, 'created': '2020-07-28 20:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aeceeb514435fed28173523e5b0234fd976e4833', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 6, 'created': '2020-07-28 20:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fc64d4a4e37d5ed8e53abbc505ef4e60b43cdfc', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 7, 'created': '2020-07-28 23:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0dcf55955f01a1e05d6fee28b1ee8257613382b6', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 8, 'created': '2020-07-29 00:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c870437402c9b3f7a40d2b499ab8cb82ffbc05fd', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 9, 'created': '2020-07-29 00:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03d9d6e95a8002894182116a7a40d95a9baa8eaa', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 10, 'created': '2020-07-29 02:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db23fd95cea569c6b8526c2a8370276031138188', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 11, 'created': '2020-07-29 18:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dca8cdee11695a7575bce3adec07896db95a451b', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 12, 'created': '2020-07-29 18:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a30cdc08d82b39334b6b3ad2f5d23e81ab1a633', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 13, 'created': '2020-07-29 18:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c8b586ac6c52b306969914dcba4b0826e5c5cc4', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}, {'number': 14, 'created': '2020-07-29 18:56:52.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/values.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/secret-backup-restore.yaml', 'mariadb/templates/deployment-backup-restore.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9b649950febafae0063ea6f2ccf6c88f1cf0c837', 'message': 'Move MariaDB backup-restore function into a Deployment\n\nThis patchset moves the MariaDB backup-restore functionality\nout of the CronJob into a Deployment. By doing this, both\nthe automatic backup (implemented using the CronJob) and\nmanual backup or retore (managed through the airship/porthole\nutility pod) will accessing the same persistent pod deployed\nby the Deployment for operations. The PVC, if used, will be\nalways mounted on the persistently running pod and no on-demand\npod is needed for any operations.\n\nChange-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a\n'}]",3,743330,9b649950febafae0063ea6f2ccf6c88f1cf0c837,25,6,14,18236,,,0,"Move MariaDB backup-restore function into a Deployment

This patchset moves the MariaDB backup-restore functionality
out of the CronJob into a Deployment. By doing this, both
the automatic backup (implemented using the CronJob) and
manual backup or retore (managed through the airship/porthole
utility pod) will accessing the same persistent pod deployed
by the Deployment for operations. The PVC, if used, will be
always mounted on the persistently running pod and no on-demand
pod is needed for any operations.

Change-Id: Ibdba1b8623bbf00ea7baf745cf7ddfa69c84c25a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/743330/11 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/values.yaml', 'mariadb/templates/deployment-backup-restore.yaml', 'mariadb/templates/secret-backup-restore.yaml']",5,cdbea54973a1454041800c829d747aebb055334f,,,"{{/* This manifest results a secret being created which has the key information needed for backing up and restoring the Mariadb databases. */}} {{- if and .Values.conf.backup.enabled .Values.manifests.secret_backup_restore }} {{- $envAll := . }} {{- $userClass := ""backup_restore"" }} {{- $secretName := index $envAll.Values.secrets.mariadb $userClass }} --- apiVersion: v1 kind: Secret metadata: name: {{ $secretName }} type: Opaque data: BACKUP_ENABLED: {{ $envAll.Values.conf.backup.enabled | quote | b64enc }} BACKUP_BASE_PATH: {{ $envAll.Values.conf.backup.base_path | b64enc }} LOCAL_DAYS_TO_KEEP: {{ $envAll.Values.conf.backup.days_to_keep | quote | b64enc }} MYSQLDUMP_OPTIONS: {{ $envAll.Values.conf.backup.mysqldump_options | b64enc }} REMOTE_BACKUP_ENABLED: {{ $envAll.Values.conf.backup.remote_backup.enabled | quote | b64enc }} REMOTE_BACKUP_CONTAINER: {{ $envAll.Values.conf.backup.remote_backup.container_name | b64enc }} REMOTE_BACKUP_DAYS_TO_KEEP: {{ $envAll.Values.conf.backup.remote_backup.days_to_keep | quote | b64enc }} REMOTE_BACKUP_STORAGE_POLICY: {{ $envAll.Values.conf.backup.remote_backup.storage_policy | b64enc }} ... {{- end }} ",249,129
openstack%2Freleases~master~If266ab3efa5bdde3642d13136363573208b1e4d6,openstack/releases,master,If266ab3efa5bdde3642d13136363573208b1e4d6,Cinder: EOL Pike,MERGED,2020-07-22 19:31:38.000000000,2020-07-29 21:26:51.000000000,2020-07-29 21:26:50.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 19:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6348af456d23f2361dcaab543d2de0daf1b62e8c', 'message': ""Cinder: EOL Pike\n\nAs announced on the mailing list [0,1], the Cinder project team wishes\nto transition the stable/pike branches of its deliverables from\n'unmaintained' to EOL, and hereby requests that pike-eol tags be\napplied to the stable/pike branches and the branches be deleted.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015838.html\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016050.html\n\nChange-Id: If266ab3efa5bdde3642d13136363573208b1e4d6\n""}, {'number': 2, 'created': '2020-07-28 14:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/994d3f174914ff8747a3847aec6d579c2d2eb8aa', 'message': ""Cinder: EOL Pike\n\nAs announced on the mailing list [0,1,2], the Cinder project team\nwishes to transition the stable/pike branches of its deliverables\nfrom 'unmaintained' to EOL, and hereby requests that pike-eol tags\nbe applied to the stable/pike branches and the branches be deleted.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015838.html\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016050.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016076.html\n\nChange-Id: If266ab3efa5bdde3642d13136363573208b1e4d6\n""}, {'number': 3, 'created': '2020-07-29 11:29:13.000000000', 'files': ['deliverables/pike/python-cinderclient.yaml', 'deliverables/pike/cinder.yaml', 'deliverables/pike/python-brick-cinderclient-ext.yaml', 'deliverables/pike/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb6015c8e48a5f9489c4f46a893e386d88b1e71a', 'message': ""Cinder: EOL Pike\n\nAs announced on the mailing list [0,1,2], the Cinder project team\nwishes to transition the stable/pike branches of its deliverables\nfrom 'unmaintained' to EOL, and hereby requests that pike-eol tags\nbe applied to the stable/pike branches and the branches be deleted.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015838.html\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016050.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016076.html\n\nChange-Id: If266ab3efa5bdde3642d13136363573208b1e4d6\n""}]",1,742523,fb6015c8e48a5f9489c4f46a893e386d88b1e71a,21,5,3,5314,,,0,"Cinder: EOL Pike

As announced on the mailing list [0,1,2], the Cinder project team
wishes to transition the stable/pike branches of its deliverables
from 'unmaintained' to EOL, and hereby requests that pike-eol tags
be applied to the stable/pike branches and the branches be deleted.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015838.html
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016050.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016076.html

Change-Id: If266ab3efa5bdde3642d13136363573208b1e4d6
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/742523/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-cinderclient.yaml', 'deliverables/pike/cinder.yaml', 'deliverables/pike/python-brick-cinderclient-ext.yaml', 'deliverables/pike/os-brick.yaml']",4,6348af456d23f2361dcaab543d2de0daf1b62e8c,cinder-eol-pike, - projects: - hash: 099c8be3bf4cc362e58441d4c2aba03a1a37f61f repo: openstack/os-brick version: pike-eol,,16,0
openstack%2Freleases~master~I50af16e81d38913d1349869015374baf81745fce,openstack/releases,master,I50af16e81d38913d1349869015374baf81745fce,[manila] Tag pike eol,MERGED,2020-07-28 02:45:39.000000000,2020-07-29 21:26:48.000000000,2020-07-29 21:26:48.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-28 02:45:39.000000000', 'files': ['deliverables/pike/python-manilaclient.yaml', 'deliverables/pike/manila-ui.yaml', 'deliverables/pike/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74d01ba21622cae6c4bc2930d5ca327f5d7a648b', 'message': '[manila] Tag pike eol\n\nThe manila contributor team has decided to eol the\npike branch for the project [1]. This branch has not seen\nany activity since 5 months.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015869.html\nDepends-On: Icfe92d3d900559477527a1b13b554f5cbeefff0b\n\nChange-Id: I50af16e81d38913d1349869015374baf81745fce\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,743444,74d01ba21622cae6c4bc2930d5ca327f5d7a648b,9,4,1,16643,,,0,"[manila] Tag pike eol

The manila contributor team has decided to eol the
pike branch for the project [1]. This branch has not seen
any activity since 5 months.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015869.html
Depends-On: Icfe92d3d900559477527a1b13b554f5cbeefff0b

Change-Id: I50af16e81d38913d1349869015374baf81745fce
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/743444/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-manilaclient.yaml', 'deliverables/pike/manila-ui.yaml', 'deliverables/pike/manila.yaml']",3,74d01ba21622cae6c4bc2930d5ca327f5d7a648b,manila, - version: pike-eol projects: - repo: openstack/manila hash: 58911882ff380421709e260b1a28c1525fb6761e,,12,0
openstack%2Fpuppet-openstack-integration~master~I660b4f5bc3e0bd9ad59746df28837f39176c55af,openstack/puppet-openstack-integration,master,I660b4f5bc3e0bd9ad59746df28837f39176c55af,Use Ceph nautilus in CentOS8,MERGED,2020-07-22 01:28:43.000000000,2020-07-29 21:23:51.000000000,2020-07-29 21:23:51.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 01:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d6cd8b48a95c8a470b4f1d79fa5c6a74f4a6bda2', 'message': 'Fix repository url of ceph nautilus for CentOS/RHEL\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 2, 'created': '2020-07-22 03:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed376401152aca842e2675ef3b9343e09f1f49c5', 'message': 'Fix repository url of ceph nautilus for CentOS/RHEL\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 3, 'created': '2020-07-22 04:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e23a8fe69fa062c126190f7a096f134c8c5e1f9d', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 4, 'created': '2020-07-23 14:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/23b1fe91ecb67c7042e637910a6c1bdfc5425f56', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 5, 'created': '2020-07-27 04:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3a0022175e8cf354785d4ab135c39d966f8415a0', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 6, 'created': '2020-07-27 04:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/36868eed1c28fbfabcc4f39a29984d6b6ac84334', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 7, 'created': '2020-07-27 04:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f8bcf0682af83e3f7d5928773787a3f11d6034e3', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 8, 'created': '2020-07-29 04:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c5da1ff6d50bdd22d0443078a696741a79fb29a2', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 9, 'created': '2020-07-29 12:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5f4010f6971e2d87a0a236fda44f48ff226f8f98', 'message': 'Use Ceph nautilus in CentOS/RHEL8\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}, {'number': 10, 'created': '2020-07-29 12:19:31.000000000', 'files': ['zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d04fb319e637eb5c1ca39132acb54f7b3c347330', 'message': 'Use Ceph nautilus in CentOS8\n\n... because there are no available builds of Ceph mimic for CentOS8,\nin RDO/CentOS repos.\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n'}]",0,742325,d04fb319e637eb5c1ca39132acb54f7b3c347330,25,4,10,9816,,,0,"Use Ceph nautilus in CentOS8

... because there are no available builds of Ceph mimic for CentOS8,
in RDO/CentOS repos.

Change-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/25/742325/9 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,d6cd8b48a95c8a470b4f1d79fa5c6a74f4a6bda2,centos8-beaker," 'mimic' => ""https://trunk.rdoproject.org/centos${::os['release']['major']}/deps/storage/storage${::os['release']['major']}-ceph-mimic/x86_64/"", 'nautilus' => ""https://trunk.rdoproject.org/centos${::os['release']['major']}/deps/storage/storage${::os['release']['major']}-ceph-nautilus/x86_64/"", default => ""${::centos_mirror_host}/centos/${::os['release']['major']}/storage/x86_64/ceph-${ceph_version_real}/"""," 'mimic' => ""https://trunk.rdoproject.org/centos${::os['release']['major']}/deps/storage/storage${::os['release']['major']}-ceph-mimic/x86_64/"", default => ""${::centos_mirror_host}/centos/${::os['release']['major']}/storage/x86_64/ceph-${ceph_version_real}/""",3,2
openstack%2Freleases~master~Icfe92d3d900559477527a1b13b554f5cbeefff0b,openstack/releases,master,Icfe92d3d900559477527a1b13b554f5cbeefff0b,[manila] Tag ocata eol,MERGED,2020-07-28 02:42:21.000000000,2020-07-29 21:20:30.000000000,2020-07-29 21:20:30.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-28 02:42:21.000000000', 'files': ['deliverables/ocata/manila-ui.yaml', 'deliverables/ocata/manila.yaml', 'deliverables/ocata/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c7b54d721ed879cd8e291bb677970ab3b0f301f8', 'message': '[manila] Tag ocata eol\n\nThe manila contributor team has decided to eol the\nocata branch for the project [1]. This branch has not seen\nany activity since 13 months.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015869.html\n\nChange-Id: Icfe92d3d900559477527a1b13b554f5cbeefff0b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,743442,c7b54d721ed879cd8e291bb677970ab3b0f301f8,9,4,1,16643,,,0,"[manila] Tag ocata eol

The manila contributor team has decided to eol the
ocata branch for the project [1]. This branch has not seen
any activity since 13 months.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015869.html

Change-Id: Icfe92d3d900559477527a1b13b554f5cbeefff0b
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/743442/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/manila-ui.yaml', 'deliverables/ocata/manila.yaml', 'deliverables/ocata/python-manilaclient.yaml']",3,c7b54d721ed879cd8e291bb677970ab3b0f301f8,manila, - version: ocata-eol projects: - repo: openstack/python-manilaclient hash: 77d5aa9c74745a1a3e243d3abe0fd304c44567d6,,12,0
openstack%2Fansible-role-python_venv_build~master~Idcb093775507728a7c68a877a05b8895d4c8c39f,openstack/ansible-role-python_venv_build,master,Idcb093775507728a7c68a877a05b8895d4c8c39f,Only create local facts folder when necessary,MERGED,2020-07-28 16:00:22.000000000,2020-07-29 21:03:38.000000000,2020-07-29 21:02:16.000000000,"[{'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-28 16:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/eb371b48d7635c44833b03e7d028214c519d9557', 'message': 'Only create local facts folder when necessary\n\nIf we do not plan to set any local facts, we should\nnot be creating this folder.\n\nChange-Id: Idcb093775507728a7c68a877a05b8895d4c8c39f\n'}, {'number': 2, 'created': '2020-07-29 08:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/305428f3a0d0e4879f9755d9cc941a4b07b93968', 'message': 'Only create local facts folder when necessary\n\nIf we do not plan to set any local facts, we should\nnot be creating this folder. If we do need to set the\nfacts, then the task will need to be run via sudo to\nensure that it has the appropriate rights to create\nthe folder under /etc.\n\nIf this change is not implemented, and the playbook\nrunning this role is not executed as root, then the\ntask fails because it does not have rights to create\nthe folder - even when there are no facts to set.\n\nChange-Id: Idcb093775507728a7c68a877a05b8895d4c8c39f\n'}, {'number': 3, 'created': '2020-07-29 08:31:12.000000000', 'files': ['tasks/python_venv_set_facts.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/880ed4b185216efdf8a9860896f9bb6f2e4b6ac6', 'message': 'Only create local facts folder when necessary\n\nIf we do not plan to set any local facts, we should\nnot be creating this folder. If we do need to set the\nfacts, then the tasks will need to be run via sudo to\nensure that they has the appropriate rights to create\nthe folder/files under /etc.\n\nIf this change is not implemented, and the playbook\nrunning this role is not executed as root, then the\ntask fails because it does not have rights to create\nthe folder - even when there are no facts to set.\n\nChange-Id: Idcb093775507728a7c68a877a05b8895d4c8c39f\n'}]",3,743573,880ed4b185216efdf8a9860896f9bb6f2e4b6ac6,19,7,3,6816,,,0,"Only create local facts folder when necessary

If we do not plan to set any local facts, we should
not be creating this folder. If we do need to set the
facts, then the tasks will need to be run via sudo to
ensure that they has the appropriate rights to create
the folder/files under /etc.

If this change is not implemented, and the playbook
running this role is not executed as root, then the
task fails because it does not have rights to create
the folder - even when there are no facts to set.

Change-Id: Idcb093775507728a7c68a877a05b8895d4c8c39f
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/73/743573/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_set_facts.yml'],1,eb371b48d7635c44833b03e7d028214c519d9557,, when: - venv_facts_when_changed != [],,2,0
openstack%2Fneutron~master~I0d9295545384844e81b0ffe3aa7483324f9a9ae5,openstack/neutron,master,I0d9295545384844e81b0ffe3aa7483324f9a9ae5,[ovn] Use normalized remote prefix IPs in OVN driver,MERGED,2020-06-17 21:29:39.000000000,2020-07-29 20:59:44.000000000,2020-07-29 16:38:08.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-17 21:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe7df6f63c8ded478113cb3c4405afa7aff19251', 'message': 'WIP Use normalized remote prefix IPs in OVN driver\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n'}, {'number': 2, 'created': '2020-07-02 21:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d50abd766aa6b7bb72d69221bee4391366b0577f', 'message': 'WIP Use normalized remote prefix IPs in OVN driver\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n'}, {'number': 3, 'created': '2020-07-07 21:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ccf6ce34242e4ca1a3d7515d1aca2fc889490cb', 'message': 'Use normalized remote prefix IPs in OVN driver\n\nOVN firewall driver can\'t silently normalize CIRDs given in\nthe security group rule\'s ""remote_ip_prefix"".\nBecause of that if user created rule with not normalized CIDR, it\nwasn\'t applied by the OVN driver.\nNow OVN driver will normalize such rules before applyinng them.\n\nThe OVN driver will now also check if SG rules with same normalized\nand same direction, port range, protocol and ethertype already exists in\nthe SG. If so, it will not add or remove rule in the OVN.\nRule will be added or removed only if there is no other same rules in\nthe SG.\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n'}, {'number': 4, 'created': '2020-07-08 14:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbe1b3bc8431ba439243ffec578459312f79ae3a', 'message': 'Use normalized remote prefix IPs in OVN driver\n\nOVN firewall driver can\'t silently normalize CIRDs given in\nthe security group rule\'s ""remote_ip_prefix"".\nBecause of that if user created rule with not normalized CIDR, it\nwasn\'t applied by the OVN driver.\nNow OVN driver will normalize such rules before applyinng them.\n\nThe OVN driver will now also check if SG rules with same normalized\nand same direction, port range, protocol and ethertype already exists in\nthe SG. If so, it will not add or remove rule in the OVN.\nRule will be added or removed only if there is no other same rules in\nthe SG.\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n'}, {'number': 5, 'created': '2020-07-28 13:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/326058a295e62dc642531ac545d43861c26af543', 'message': '[ovn] Use normalized remote prefix IPs in OVN driver\n\nOVN firewall driver can\'t silently normalize CIRDs given in\nthe security group rule\'s ""remote_ip_prefix"".\nBecause of that if user created rule with not normalized CIDR, it\nwasn\'t applied by the OVN driver.\nNow OVN driver will normalize such rules before applying them.\n\nThe OVN driver will now also check if SG rules with same normalized\nand same direction, port range, protocol and ethertype already exists in\nthe SG. If so, it will not add or remove rule in the OVN.\nRule will be added or removed only if there is no other same rules in\nthe SG.\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n'}, {'number': 6, 'created': '2020-07-28 21:20:20.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17f2ba3afbbbb929155c2ac3fa396784badd981b', 'message': '[ovn] Use normalized remote prefix IPs in OVN driver\n\nOVN firewall driver can\'t silently normalize CIRDs given in\nthe security group rule\'s ""remote_ip_prefix"".\nBecause of that if user created rule with not normalized CIDR, it\nwasn\'t applied by the OVN driver.\nNow OVN driver will normalize such rules before applying them.\n\nThe OVN driver will now also check if SG rules with same normalized\nand same direction, port range, protocol and ethertype already exists in\nthe SG. If so, it will not add or remove rule in the OVN.\nRule will be added or removed only if there is no other same rules in\nthe SG.\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n'}]",28,736386,17f2ba3afbbbb929155c2ac3fa396784badd981b,42,10,6,11975,,,0,"[ovn] Use normalized remote prefix IPs in OVN driver

OVN firewall driver can't silently normalize CIRDs given in
the security group rule's ""remote_ip_prefix"".
Because of that if user created rule with not normalized CIDR, it
wasn't applied by the OVN driver.
Now OVN driver will normalize such rules before applying them.

The OVN driver will now also check if SG rules with same normalized
and same direction, port range, protocol and ethertype already exists in
the SG. If so, it will not add or remove rule in the OVN.
Rule will be added or removed only if there is no other same rules in
the SG.

Change-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5
Related-Bug: #1869129
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/736386/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/common/ovn/test_acl.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,fe7df6f63c8ded478113cb3c4405afa7aff19251,bug/1869129, # Here I need to get all rules from SG and compare if there is no # the same rule after normalize cidrs,,30,2
openstack%2Fopenstack-helm-infra~master~I4bda6fa2fb0503f987353f2952b5c69007f56580,openstack/openstack-helm-infra,master,I4bda6fa2fb0503f987353f2952b5c69007f56580,Move backup-restore functionality out of CronJob into Deployment,ABANDONED,2020-07-24 23:39:24.000000000,2020-07-29 20:59:37.000000000,,"[{'_account_id': 18236}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-07-24 23:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c0f073be8a9b854f181b084cfde36f7d3f5f5f2', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 2, 'created': '2020-07-26 17:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d81e158b98ca6760a7dfd3b376455d456e780126', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 3, 'created': '2020-07-26 18:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1380061050c8589406b5317a01f0a5074b30a90b', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 4, 'created': '2020-07-26 19:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d736e2ffc0a7bb3a6e3266cad79d76d12843f48', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 5, 'created': '2020-07-26 22:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b06d79877f79a2c61294125acf99420e091c77a3', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 6, 'created': '2020-07-27 00:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/66f38a2b638f44ccad21519ffd6d33664152e6ac', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 7, 'created': '2020-07-27 02:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c040ce046b6c678b0a527bf2bd82b3690e1c212', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 8, 'created': '2020-07-27 03:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0aa4f9d3d844ac5a2149d45fc87332d16c3919c7', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 9, 'created': '2020-07-27 19:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5551b960c8e9c52976520e6da63a552c0055f61', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 10, 'created': '2020-07-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f4e3600b4952483168ede5c036ccb058c3e40aa', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 11, 'created': '2020-07-28 16:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fc4222bf0709894412467168180259d2c7a0895', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 12, 'created': '2020-07-28 16:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c650020c324ea284ad2447c3ca18e5f403fd2a36', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 13, 'created': '2020-07-28 20:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b07177bae6646bb13229c13cbf73ad47ee3ddd3c', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 14, 'created': '2020-07-28 20:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0846601476936c6f49d0621fb762c23a46d0eaf', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 15, 'created': '2020-07-28 20:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fafd45bd535800514fbcc48b3a948aace013cf2c', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}, {'number': 16, 'created': '2020-07-29 18:37:14.000000000', 'files': ['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/deployment-backup-restore.yaml', 'postgresql/templates/cron-job-backup-postgres.yaml', 'helm-toolkit/templates/scripts/db-backup-restore/_run_backup.sh.tpl', 'postgresql/values.yaml', 'postgresql/templates/secret-backup-restore.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af18c14a8bfb398f819f30160feb05665104d252', 'message': 'Move backup-restore functionality out of CronJob into Deployment\n\nThis patchset moves the backup-restore functionality from the cronjob\ninto a deployment so that it can be used for both backup and restore\nand the deployment pod is persistently running at all times, which\nenables users to be able to manage the database backups without having\nto create a pod on-demand. Database backups are managed through the\nairship/porthole utility pods, which will now talk to this deployment\npod instead of creating its own on-demand pods to perform manual\nbackup/restore operations.\n\nChange-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580\n'}]",0,743011,af18c14a8bfb398f819f30160feb05665104d252,29,4,16,22636,,,0,"Move backup-restore functionality out of CronJob into Deployment

This patchset moves the backup-restore functionality from the cronjob
into a deployment so that it can be used for both backup and restore
and the deployment pod is persistently running at all times, which
enables users to be able to manage the database backups without having
to create a pod on-demand. Database backups are managed through the
airship/porthole utility pods, which will now talk to this deployment
pod instead of creating its own on-demand pods to perform manual
backup/restore operations.

Change-Id: I4bda6fa2fb0503f987353f2952b5c69007f56580
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/743011/3 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/deployment-backup-restore.yaml', 'postgresql/templates/cron-job-backup-postgres.yaml', 'helm-toolkit/templates/scripts/db-backup-restore/_run_backup.sh.tpl', 'postgresql/values.yaml']",5,6c0f073be8a9b854f181b084cfde36f7d3f5f5f2,," postgresql_backup_cronjob: pod: runAsUser: 65534 allowPrivilegeEscalation: false readOnlyRootFilesystem: true container: postgresql_backup: runAsUser: 65534 readOnlyRootFilesystem: true allowPrivilegeEscalation: false postgresql_backup_restore: postgresql_backup_restore: deployments: postgresql_backup_restore: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" postgresql_backup_cronjob: postgresql_backup_restore: ""quay.io/airshipit/porthole-postgresql-utility:latest-ubuntu_bionic"" deployment: node_selector_key: openstack-control-plane node_selector_value: enabled postgresql_backup_cronjob: postgresql_backup_cronjob: services: - endpoint: internal service: postgresql deployments: - postgresql-backup-restore postgresql_backup_restore: postgresql_backup_cronjob: deployment_postgresql_backup_restore: false"," postgresql_backup: postgresql_backup: postgresql_backup: postgresql_backup: ""quay.io/airshipit/porthole-postgresql-utility:latest-ubuntu_bionic"" backup_postgresql: postgresql_backup: backup_postgresql:",298,117
openstack%2Ftripleo-quickstart-extras~master~I94c3e9d50b0a2d27694de484027f1d2d5bd03093,openstack/tripleo-quickstart-extras,master,I94c3e9d50b0a2d27694de484027f1d2d5bd03093,WIP - Implementing log-classify on sandalone job,ABANDONED,2018-11-19 10:48:13.000000000,2020-07-29 20:58:26.000000000,,"[{'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 10:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/53ff50b7605914f9434ea1b1d34f7be0b128eef4', 'message': 'WIP - Implementing log-classify on sandalone job\n\nChange-Id: I94c3e9d50b0a2d27694de484027f1d2d5bd03093\n'}, {'number': 2, 'created': '2018-11-19 14:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a04c85aab95035306783472ef6ef0a9ba037c94f', 'message': 'WIP - Implementing log-classify on sandalone job\n\nChange-Id: I94c3e9d50b0a2d27694de484027f1d2d5bd03093\n'}, {'number': 3, 'created': '2018-11-19 18:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cbb16363dbd011b13c545695a93a006ba7c2d76c', 'message': 'WIP - Implementing log-classify on sandalone job\n\nChange-Id: I94c3e9d50b0a2d27694de484027f1d2d5bd03093\n'}, {'number': 4, 'created': '2018-11-20 10:08:56.000000000', 'files': ['playbooks/multinode-standalone.yml', 'roles/log-classify/tasks/run.yaml', 'roles/log-classify/tasks/install.yaml', 'roles/log-classify/defaults/main.yaml', 'roles/validate-tempest/tasks/post-tempest.yml', 'roles/log-classify/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a8459e09659b49e15d200106bab993982b6bb173', 'message': 'WIP - Implementing log-classify on sandalone job\n\nChange-Id: I94c3e9d50b0a2d27694de484027f1d2d5bd03093\n'}]",2,618729,a8459e09659b49e15d200106bab993982b6bb173,20,4,4,8367,,,0,"WIP - Implementing log-classify on sandalone job

Change-Id: I94c3e9d50b0a2d27694de484027f1d2d5bd03093
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/29/618729/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-standalone.yml', 'roles/log-classify/tasks/run.yaml', 'roles/log-classify/tasks/install.yaml', 'roles/log-classify/defaults/main.yaml', 'roles/log-classify/tasks/main.yaml']",5,53ff50b7605914f9434ea1b1d34f7be0b128eef4,logreduce,--- - name: Detect anomalies ignore_errors: yes block: - import_tasks: install.yaml - import_tasks: run.yaml when: - not zuul_success | bool - logclassify_optin | default(True) | bool ,,235,0
openstack%2Fmanila~stable%2Ftrain~I91893bd8f637fa35448fec9085bc8f81f64943f0,openstack/manila,stable/train,I91893bd8f637fa35448fec9085bc8f81f64943f0,DNM - Testing drivers on stable/train branch,ABANDONED,2019-10-19 18:08:00.000000000,2020-07-29 20:50:06.000000000,,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-19 18:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/eb99816a80cc48b8b4b587862141578ad2a82fe9', 'message': 'DNM - Testing drivers on stable/train branch\n\nChange-Id: I91893bd8f637fa35448fec9085bc8f81f64943f0\n'}, {'number': 2, 'created': '2020-03-02 19:31:10.000000000', 'files': ['manila/DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/4d60909e75b67db00785ccf40ce4460c89d9f8a3', 'message': 'DNM - Testing drivers on stable/train branch\n\nChange-Id: I91893bd8f637fa35448fec9085bc8f81f64943f0\n'}]",0,689633,4d60909e75b67db00785ccf40ce4460c89d9f8a3,17,4,2,30002,,,0,"DNM - Testing drivers on stable/train branch

Change-Id: I91893bd8f637fa35448fec9085bc8f81f64943f0
",git fetch https://review.opendev.org/openstack/manila refs/changes/33/689633/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/DNM'],1,eb99816a80cc48b8b4b587862141578ad2a82fe9,audit_ci,,,0,0
openstack%2Fmanila~stable%2Focata~Ifeda66e3d161baec78a2eb171afd52e427a2076e,openstack/manila,stable/ocata,Ifeda66e3d161baec78a2eb171afd52e427a2076e,DNM: Testing this old branch,ABANDONED,2020-07-10 01:19:19.000000000,2020-07-29 20:29:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-10 01:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ab326bd1c4fa03bdfd52fd387d5d8919fd6002c3', 'message': 'DNM: Testing this old branch\n\nChange-Id: Ifeda66e3d161baec78a2eb171afd52e427a2076e\n'}]",0,740388,ab326bd1c4fa03bdfd52fd387d5d8919fd6002c3,3,1,1,16643,,,0,"DNM: Testing this old branch

Change-Id: Ifeda66e3d161baec78a2eb171afd52e427a2076e
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/740388/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,ab326bd1c4fa03bdfd52fd387d5d8919fd6002c3,DNM,,,0,0
openstack%2Fmanila~stable%2Fpike~I5f358266739f1c42343d5a0c5ec8109c8fcaac4d,openstack/manila,stable/pike,I5f358266739f1c42343d5a0c5ec8109c8fcaac4d,Enforce policy checks for share export locations,ABANDONED,2020-03-29 00:59:11.000000000,2020-07-29 20:28:57.000000000,,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-03-29 00:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/68c0904949340de17de62fb6ab37de3f769f445b', 'message': 'Enforce policy checks for share export locations\n\nCloses-bug: #1654598\nChange-Id: I5f358266739f1c42343d5a0c5ec8109c8fcaac4d\n(cherry picked from commit 84daeb481d852d6531df11e842df1a70672d938c)\n(cherry picked from commit 02fd716bf83849873f0bccb78b851196e6acf2b7)\n(cherry picked from commit aa5e1f65cd61c57178fb864ac16bcb5c9eefb7c8)\n(cherry picked from commit 875cb87328665629778dd20951cc28e1e66d3190)\n'}, {'number': 2, 'created': '2020-03-30 02:03:44.000000000', 'files': ['manila/api/v2/share_export_locations.py', 'releasenotes/notes/bug-1654598-enforce-policy-checks-for-share-export-locations-a5cea1ec123b1469.yaml', 'manila/api/v2/share_instance_export_locations.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/51f8d78bdf631644965b91a70204d94f3776a646', 'message': 'Enforce policy checks for share export locations\n\nCloses-bug: #1654598\nChange-Id: I5f358266739f1c42343d5a0c5ec8109c8fcaac4d\n(cherry picked from commit 84daeb481d852d6531df11e842df1a70672d938c)\n(cherry picked from commit 02fd716bf83849873f0bccb78b851196e6acf2b7)\n(cherry picked from commit aa5e1f65cd61c57178fb864ac16bcb5c9eefb7c8)\n(cherry picked from commit 875cb87328665629778dd20951cc28e1e66d3190)\n(cherry picked from commit d2c72aff8a38502d97e74e839866627c30ed7b31)\n'}]",0,715666,51f8d78bdf631644965b91a70204d94f3776a646,12,6,2,16643,,,0,"Enforce policy checks for share export locations

Closes-bug: #1654598
Change-Id: I5f358266739f1c42343d5a0c5ec8109c8fcaac4d
(cherry picked from commit 84daeb481d852d6531df11e842df1a70672d938c)
(cherry picked from commit 02fd716bf83849873f0bccb78b851196e6acf2b7)
(cherry picked from commit aa5e1f65cd61c57178fb864ac16bcb5c9eefb7c8)
(cherry picked from commit 875cb87328665629778dd20951cc28e1e66d3190)
(cherry picked from commit d2c72aff8a38502d97e74e839866627c30ed7b31)
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/715666/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_export_locations.py', 'releasenotes/notes/bug-1654598-enforce-policy-checks-for-share-export-locations-a5cea1ec123b1469.yaml', 'manila/api/v2/share_instance_export_locations.py']",3,68c0904949340de17de62fb6ab37de3f769f445b,bug/1654598,"from manila import policy share_instance = db_api.share_instance_get(context, share_instance_id, with_share_data=True) if not share_instance['is_public']: policy.check_policy(context, 'share_instance', 'show', share_instance)"," db_api.share_instance_get(context, share_instance_id)",17,2
openstack%2Fmanila~stable%2Fussuri~Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac,openstack/manila,stable/ussuri,Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac,[ci] Remove explicit compression of log files,MERGED,2020-07-28 19:10:01.000000000,2020-07-29 20:28:46.000000000,2020-07-29 20:27:08.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-28 19:10:01.000000000', 'files': ['contrib/ci/common.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/531e810526843a6c152543396394068dd9873ad6', 'message': ""[ci] Remove explicit compression of log files\n\nCompression is not needed post [1], explicit\ncompression renders them non-browsable.\n\nThis commit applies to legacy style jobs that\nwill soon be replaced with zuulv3 native jobs;\nhowever, fixing it isn't terrible, and we\ncan use this fix for stable branches\nwhere zuulv3 native jobs may not come for a\nwhile.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\nCo-Authored-By: yatinkarel <ykarel@redhat.com>\n\nChange-Id: Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 770e57ff3192c3828b2d3162ae1f132d3858997b)\n""}]",0,743615,531e810526843a6c152543396394068dd9873ad6,17,6,1,16643,,,0,"[ci] Remove explicit compression of log files

Compression is not needed post [1], explicit
compression renders them non-browsable.

This commit applies to legacy style jobs that
will soon be replaced with zuulv3 native jobs;
however, fixing it isn't terrible, and we
can use this fix for stable branches
where zuulv3 native jobs may not come for a
while.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html
Co-Authored-By: yatinkarel <ykarel@redhat.com>

Change-Id: Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 770e57ff3192c3828b2d3162ae1f132d3858997b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/743615/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/common.sh'],1,531e810526843a6c152543396394068dd9873ad6,swift-logs, sudo mv $src_dirname/tempest.txt $dst_dirname/tempest.txt sudo mv $src_dirname/tempest.subunit $dst_dirname/tempest.subunit sudo mv $src_dirname/testr_results.html $dst_dirname/testr_results.html,function archive_file { # First argument is expected to be filename local filename=$1 sudo gzip -9 $filename sudo chown $USER:stack $filename.gz sudo chmod a+r $filename.gz } archive_file $src_dirname/tempest.txt sudo mv $src_dirname/tempest.txt.gz $dst_dirname/tempest.txt.gz archive_file $src_dirname/tempest.subunit sudo mv $src_dirname/tempest.subunit.gz $dst_dirname/tempest.subunit.gz archive_file $src_dirname/testr_results.html sudo mv $src_dirname/testr_results.html.gz $dst_dirname/testr_results.html.gz,3,16
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia1282d30460701b2464da511cdca56e00c1f1856,openstack/tripleo-ansible,stable/train,Ia1282d30460701b2464da511cdca56e00c1f1856,[WIP] Use libselinux-python3 and libsemanage-python3 in cent7,ABANDONED,2020-06-26 21:02:40.000000000,2020-07-29 20:27:00.000000000,,"[{'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-26 21:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77ff251ea833774cf34d0ab2ab9844134b4b3fd0', 'message': '[WIP] Install libselinux-python on centos-7 ceph molecule test\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos-7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 2, 'created': '2020-06-29 19:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08f458583de41fb9cdc729f8744c6ee9a6985a63', 'message': 'Install libselinux-python with raw on centos7 ceph molecule test\n\nNot using pkg_extras because it uses the package module which\nexpects the SELinux bindings to already be present.\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 3, 'created': '2020-06-29 19:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df415d9ca424ccf365854b06f3e89f104f38bfb6', 'message': 'Install libselinux-python with raw on centos7 ceph molecule test\n\nNot using pkg_extras because it uses the package module which\nexpects the SELinux bindings to already be present.\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 4, 'created': '2020-06-29 20:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/252b44bc47a321cc655d10fcccd503e1b56fa280', 'message': 'Install libselinux-python with raw on centos7 ceph molecule test\n\nNot using pkg_extras because it uses the package module which\nexpects the SELinux bindings to already be present.\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 5, 'created': '2020-06-29 21:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/193b64ec6b9cc25b06d8d4315eac6efcdcdbdcd6', 'message': 'Install libselinux-python in ceph molecule test\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 6, 'created': '2020-06-29 21:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/13b52e313c1fe5aa869fe670d055ef26b6dbc5f3', 'message': 'Install libselinux-python in ceph molecule test\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 7, 'created': '2020-06-30 12:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be9add77b2747db6fc47e709550271172d257f92', 'message': 'Remove Dockerfile for ceph molecule test\n\nMolecule has an embedded copy of this file and the current\none provides no customizations.\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 8, 'created': '2020-06-30 13:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5959aabd6e48ca76f294b32be57fe56a3e65d364', 'message': '[WIP] Use libselinux-python3 and libsemanage-python3 in cent7\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36.\n\nAlso remove ockerfile for ceph molecule test. Molecule has\nan embedded copy of this file and the current one provides\nno customizations. Follow up to this is in [1].\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\n[1] https://storyboard.openstack.org/#!/story/2007880\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 9, 'created': '2020-06-30 13:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb15953f6139abdfcaf8eb6bba64b3a0f6060875', 'message': '[WIP] Use libselinux-python3 and libsemanage-python3 in cent7\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36.\n\nAlso remove ockerfile for ceph molecule test. Molecule has\nan embedded copy of this file and the current one provides\nno customizations. Follow up to this is in [1].\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\n[1] https://storyboard.openstack.org/#!/story/2007880\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 10, 'created': '2020-06-30 13:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7ddc263bb2fa80ddf07059db6f0c284e856eaf3', 'message': '[WIP] Use libselinux-python3 and libsemanage-python3 in cent7\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36.\n\nAlso remove ockerfile for ceph molecule test. Molecule has\nan embedded copy of this file and the current one provides\nno customizations. Follow up to this is in [1].\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\n[1] https://storyboard.openstack.org/#!/story/2007880\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}, {'number': 11, 'created': '2020-06-30 14:57:59.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e4b49d0ebb80222aa00aff13613f04b982253eb', 'message': '[WIP] Use libselinux-python3 and libsemanage-python3 in cent7\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36.\n\nThis patch is going directly into Train because train uses\ntripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,\ni.e. the centos7 version of this molecule test while newer\nversions uses the centos-8 version of this test.\n\nChange-Id: Ia1282d30460701b2464da511cdca56e00c1f1856\nCloses-Bug: #1885331\n'}]",1,738280,2e4b49d0ebb80222aa00aff13613f04b982253eb,28,7,11,18002,,,0,"[WIP] Use libselinux-python3 and libsemanage-python3 in cent7

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36.

This patch is going directly into Train because train uses
tripleo-ansible-centos-7-molecule-tripleo-ceph-run-ansible,
i.e. the centos7 version of this molecule test while newer
versions uses the centos-8 version of this test.

Change-Id: Ia1282d30460701b2464da511cdca56e00c1f1856
Closes-Bug: #1885331
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/738280/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/molecule.yml'],1,77ff251ea833774cf34d0ab2ab9844134b4b3fd0,bug/1885331, pkg_extras: - python-setuptools - libselinux-python, pkg_extras: python-setuptools,3,1
openstack%2Ftripleo-quickstart-extras~master~I92a970d7ccc9a7220b7d19b0eab8425d7457296b,openstack/tripleo-quickstart-extras,master,I92a970d7ccc9a7220b7d19b0eab8425d7457296b,DNM - Fix version logic,ABANDONED,2020-07-16 08:51:41.000000000,2020-07-29 20:22:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1e8e64eee3f079b760928d7a3543927e48a2423a', 'message': 'DNM - Fix version logic\n\nChange-Id: I92a970d7ccc9a7220b7d19b0eab8425d7457296b\n'}, {'number': 2, 'created': '2020-07-16 11:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bdda9713b854cdc524246a24ad826cbb2e871f4d', 'message': 'DNM - Fix version logic\n\nChange-Id: I92a970d7ccc9a7220b7d19b0eab8425d7457296b\n'}, {'number': 3, 'created': '2020-07-23 09:36:50.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31988f703e810ea30f1f94e187c799b393455cee', 'message': 'DNM - Fix version logic\n\nChange-Id: I92a970d7ccc9a7220b7d19b0eab8425d7457296b\n'}]",0,741404,31988f703e810ea30f1f94e187c799b393455cee,9,2,3,8367,,,0,"DNM - Fix version logic

Change-Id: I92a970d7ccc9a7220b7d19b0eab8425d7457296b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/04/741404/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,1e8e64eee3f079b760928d7a3543927e48a2423a,version-logic," - ansible_distribution_major_version is version('7', '=')"," - ansible_distribution_major_version is version('7', '==')",1,1
openstack%2Fopenstack-helm~master~I937ae79512ffc998d8dbd0b277a611347550044b,openstack/openstack-helm,master,I937ae79512ffc998d8dbd0b277a611347550044b,[CEPH] Update ceph scripts to create loopback devices,MERGED,2020-07-22 23:48:06.000000000,2020-07-29 20:12:44.000000000,2020-07-29 20:07:24.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30317}, {'_account_id': 32190}, {'_account_id': 32224}]","[{'number': 1, 'created': '2020-07-22 23:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f43300ab30893ba5ed399cd552a4ed014416ea9', 'message': '[CEPH] Seperate creating loopback devices for ceph.\n\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 2, 'created': '2020-07-22 23:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2301ba4fe40314f1a77964bb045c7b6cee6769ac', 'message': '[CEPH] Seperate creating loopback devices for ceph.\n\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 3, 'created': '2020-07-23 16:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ab1540ad8fa6bf1ccb67585e5ea4b0b88b1a6cf', 'message': '[CEPH] Seperate creating loopback devices for ceph.\n\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 4, 'created': '2020-07-23 16:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6a5f554624a94edc882a3870068af5e033ad45a', 'message': '[CEPH]Seperate creating loopback devices for ceph\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 5, 'created': '2020-07-23 16:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f776ac613a5d6c6fc4a4ccecc3406c1e7078f8f5', 'message': '[CEPH] Seperate creating loopback devices for ceph\n\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 6, 'created': '2020-07-23 18:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b462afd1dd821073ee1d88f76471f58fee1df7cc', 'message': '[CEPH] Seperate creating loopback devices for ceph\n\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 7, 'created': '2020-07-23 18:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ad74b13be3e284bbb4ddf6ab1ee5ee0cdc0b6d0', 'message': '[CEPH] Seperate creating loopback devices for ceph\n\nThis is to seperate loopback devices creation from main script for\nbetter control of deployment.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 8, 'created': '2020-07-23 18:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7931875b5c0ea08aef645f3266d3f7c3a3144e1', 'message': '[CEPH] Update the script to create loopback devices for ceph\n\nThis is to update script for loopback devices creation by handling\nparameters in better way.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 9, 'created': '2020-07-27 22:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e88e6c82f2f4b36b1ca4fd16b3d23929e6776125', 'message': '[CEPH] Update the script to create loopback devices for ceph\n\nThis is to update script for loopback devices creation by handling\nparameters in better way.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 10, 'created': '2020-07-27 23:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4919e290b741cc68ba9a1eecabc98f6dacf1d153', 'message': '[CEPH] Update the script to create loopback devices for ceph\n\nThis is to update script for loopback devices creation by handling\nparameters in better way.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 11, 'created': '2020-07-27 23:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/265b994465e95ac6eec807912e911a314c538b92', 'message': '[CEPH] Update the script to create loopback devices for ceph\n\nThis is to update script for loopback devices creation by handling\nparameters in better way.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 12, 'created': '2020-07-28 00:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4096d2fb08a341c73c8e0314fa54d1dec0b38c5b', 'message': '[CEPH] Update the script to create loopback devices for ceph\n\nThis is to update script for loopback devices creation by handling\nparameters in better way.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 13, 'created': '2020-07-28 00:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a4277835ff5388c276bfa0be9a30913b8192af4', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 14, 'created': '2020-07-28 13:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6be17d558d37fb2b50f9b9a5be27c48a7210117c', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 15, 'created': '2020-07-28 13:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a69939dbf19432559c00449b672e4123dd7cf5c', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 16, 'created': '2020-07-28 15:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/13da823954a1bf0eb4246af94e9e903651df2f97', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 17, 'created': '2020-07-28 15:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f3ddc8258f8d7c67f88c9e65aec34c6a7a382ac', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 18, 'created': '2020-07-28 19:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8245d4ef797d5c35b3e94110ed6558c5509ba3ea', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 19, 'created': '2020-07-28 19:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/643eed469777c686b640c442b0b1ee30cea3f3e5', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 20, 'created': '2020-07-28 22:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcfba5821f31e736b72b0663296390972cb0324d', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 21, 'created': '2020-07-28 23:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/297a9628247bbd7b39488ee2d94dc002ff214885', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 22, 'created': '2020-07-28 23:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d003974c355e6992ef447751248b8e7e21bec1f1', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 23, 'created': '2020-07-29 00:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/05df4f1da0a1fccdfd1fcba84cccdf24bf02f3a9', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 24, 'created': '2020-07-29 14:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0536dc1165cc5f1d1268a264abc1818f1cd0b843', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}, {'number': 25, 'created': '2020-07-29 14:51:41.000000000', 'files': ['doc/source/install/developer/deploy-with-ceph.rst', 'doc/source/install/developer/cleaning-deployment.rst', 'tools/deployment/common/setup-ceph-loopback-device.sh', 'tools/deployment/component/ceph/ceph.sh', 'tools/deployment/developer/ceph/040-ceph.sh', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59dac81fd4c00d0b5b271de329adf0d07fa12ac4', 'message': '[CEPH] Update ceph scripts to create loopback devices\n\nThis is to update ceph scripts to create loopback devices\nin single script and also to update gate scripts.\n\nChange-Id: I937ae79512ffc998d8dbd0b277a611347550044b\n'}]",48,742555,59dac81fd4c00d0b5b271de329adf0d07fa12ac4,71,11,25,28372,,,0,"[CEPH] Update ceph scripts to create loopback devices

This is to update ceph scripts to create loopback devices
in single script and also to update gate scripts.

Change-Id: I937ae79512ffc998d8dbd0b277a611347550044b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/742555/13 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/developer/deploy-with-ceph.rst', 'tools/deployment/developer/ceph/040-ceph.sh']",2,0f43300ab30893ba5ed399cd552a4ed014416ea9,ceph-loopback-devices-setup,": ""${CEPH_OSD_DATA_DEVICE:=/dev/loop0}"" : ""${CEPH_OSD_DB_WAL_DEVICE:=/dev/loop1}"" location: ${CEPH_OSD_DATA_DEVICE} block_db: location: ${CEPH_OSD_DB_WAL_DEVICE} location: ${CEPH_OSD_DB_WAL_DEVICE}","export CEPH_OSD_DATA_DEVICE=""$1"" export CEPH_OSD_DB_WAL_DEVICE=""$2"" # Create loop back devices for ceph osds. ./tools/deployment/common/setup-ceph-loopback-device.sh --ceph-osd-data ${CEPH_OSD_DATA_DEVICE} --ceph-osd-dbwal ${CEPH_OSD_DB_WAL_DEVICE} location: /dev/loop0 block_db: location: /dev/loop1 location: /dev/loop1",21,11
openstack%2Fmanila~stable%2Ftrain~Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,openstack/manila,stable/train,Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,Harden LVM driver deletion paths,MERGED,2020-07-29 12:22:49.000000000,2020-07-29 20:10:59.000000000,2020-07-29 18:29:40.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-29 12:22:49.000000000', 'files': ['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4e292ea884ff72341c2ab6733745fe6d35733aa8', 'message': 'Harden LVM driver deletion paths\n\nDuring maintenance, administrators may decide\nto unmount shares, snapshots or remove them\nentirely prior to cleaning up LVM share resources\nin manila. The driver should not fail on deletion\nof missing resources.\n\nChange-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f\nCloses-Bug: #1888915\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit e57809fd74186714aec7dae305380a51c31fc7d5)\n(cherry picked from commit 8620f7efed1c2b669a06f13440add1eb20ef12e9)\n'}]",0,743743,4e292ea884ff72341c2ab6733745fe6d35733aa8,13,4,1,9003,,,0,"Harden LVM driver deletion paths

During maintenance, administrators may decide
to unmount shares, snapshots or remove them
entirely prior to cleaning up LVM share resources
in manila. The driver should not fail on deletion
of missing resources.

Change-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f
Closes-Bug: #1888915
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit e57809fd74186714aec7dae305380a51c31fc7d5)
(cherry picked from commit 8620f7efed1c2b669a06f13440add1eb20ef12e9)
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/743743/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py']",5,4e292ea884ff72341c2ab6733745fe6d35733aa8,bug/1888915," err_pattern = re.compile("".*failed to find.*|.*not found.*"", re.IGNORECASE) if not err_pattern.match(exc.stderr): self._unmount_device(share, raise_if_missing=False) def _unmount_device(self, share_or_snapshot, raise_if_missing=True): if 'device is busy' in exc.stderr.lower(): elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) raise self._unmount_device(snapshot, raise_if_missing=False)"," if ""not found"" not in exc.stderr: self._unmount_device(share) def _unmount_device(self, share_or_snapshot): if 'device is busy' in six.text_type(exc): self._unmount_device(snapshot)",82,12
openstack%2Fcinderlib~stable%2Fussuri~I8cc1c8f79fb1322a10899c43f22a0b2ebd21c893,openstack/cinderlib,stable/ussuri,I8cc1c8f79fb1322a10899c43f22a0b2ebd21c893,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-07-23 09:21:25.000000000,2020-07-29 20:05:44.000000000,2020-07-29 20:04:33.000000000,"[{'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:21:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/2fe1ba289c3be4ef8e9f4b07f443858f71146130', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8cc1c8f79fb1322a10899c43f22a0b2ebd21c893\n'}]",0,742620,2fe1ba289c3be4ef8e9f4b07f443858f71146130,15,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8cc1c8f79fb1322a10899c43f22a0b2ebd21c893
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/20/742620/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2fe1ba289c3be4ef8e9f4b07f443858f71146130,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Freleases~master~Ib10d7f66d7e83d3556f3288fa0b7e623125b4855,openstack/releases,master,Ib10d7f66d7e83d3556f3288fa0b7e623125b4855,Victoria-2 Release for os-brick,MERGED,2020-07-27 20:49:39.000000000,2020-07-29 20:02:09.000000000,2020-07-29 20:02:09.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 20:49:39.000000000', 'files': ['deliverables/victoria/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/671be63b8f1899aeb97d2e351f165887b84a382b', 'message': 'Victoria-2 Release for os-brick\n\nThis is the victoria milestone-2 release for os-brick.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: Ib10d7f66d7e83d3556f3288fa0b7e623125b4855\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743408,671be63b8f1899aeb97d2e351f165887b84a382b,12,4,1,11904,,,0,"Victoria-2 Release for os-brick

This is the victoria milestone-2 release for os-brick.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: Ib10d7f66d7e83d3556f3288fa0b7e623125b4855
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/743408/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-brick.yaml'],1,671be63b8f1899aeb97d2e351f165887b84a382b,victoria-2, - version: 3.2.0 projects: - repo: openstack/os-brick hash: 26299257ceb092ab82fab17b707bc48963abecaf,,4,0
openstack%2Fovsdbapp~master~I0e0da83187190c7145bb01f77daf22a43868115c,openstack/ovsdbapp,master,I0e0da83187190c7145bb01f77daf22a43868115c,Fix thread/threading change in unit test,MERGED,2020-07-24 21:43:34.000000000,2020-07-29 19:55:26.000000000,2020-07-29 19:53:42.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 21:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1fd45a126d1255124a050224b164d64f2bd8e4bf', 'message': 'Fix thread/threading change in unit test\n\nThis unit test was not updated when the thread/threading name\nchange happened. This fixes the unit test when eventlet is\ninstalled.\n\nChange-Id: I0e0da83187190c7145bb01f77daf22a43868115c\nCloses-bug: #1875678\n'}, {'number': 2, 'created': '2020-07-29 16:46:54.000000000', 'files': ['ovsdbapp/tests/unit/test_api.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/48ee1008f59eed95cbca7a8b1b3630ddbffdaae5', 'message': 'Fix thread/threading change in unit test\n\nThis unit test was not updated when the thread/threading name\nchange happened. This fixes the unit test when eventlet is\ninstalled.\n\nChange-Id: I0e0da83187190c7145bb01f77daf22a43868115c\nCloses-bug: #1875678\n'}]",0,743001,48ee1008f59eed95cbca7a8b1b3630ddbffdaae5,15,3,2,5756,,,0,"Fix thread/threading change in unit test

This unit test was not updated when the thread/threading name
change happened. This fixes the unit test when eventlet is
installed.

Change-Id: I0e0da83187190c7145bb01f77daf22a43868115c
Closes-bug: #1875678
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/01/743001/2 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/tests/unit/test_api.py'],1,1fd45a126d1255124a050224b164d64f2bd8e4bf,, self._orig = api.threading.get_ident api.threading.get_ident = thread.get_ident api.threading.get_ident = self._orig, self._orig = api.thread.get_ident api.thread.get_ident = thread.get_ident api.thread.get_ident = self._orig,3,3
openstack%2Fopenstack-helm-infra~master~I336d4c81ffc04f6b12df0706a043dbb88953cdf9,openstack/openstack-helm-infra,master,I336d4c81ffc04f6b12df0706a043dbb88953cdf9,[Fix] Run maraidb-backup as a root user,ABANDONED,2020-07-28 17:41:47.000000000,2020-07-29 19:45:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-28 17:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c1ffb7fcf1c074ba672209f1fa1addbedb4c88b', 'message': '[Fix] Run maraidb-backup as a root user\n\nChange-Id: I336d4c81ffc04f6b12df0706a043dbb88953cdf9\n'}, {'number': 2, 'created': '2020-07-28 19:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68bf97fd3d302e0f3edb1cf432d0529f89fc4604', 'message': '[Fix] Run maraidb-backup as a root user\n\nChange-Id: I336d4c81ffc04f6b12df0706a043dbb88953cdf9\n'}, {'number': 3, 'created': '2020-07-28 19:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c0aa717ed60dd605583a25557d7a5e1f5d2f4fa', 'message': '[Fix] Run maraidb-backup as a root user\n\nChange-Id: I336d4c81ffc04f6b12df0706a043dbb88953cdf9\n'}, {'number': 4, 'created': '2020-07-28 20:21:28.000000000', 'files': ['mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/640bbc3a0ed085af009c1ae50c45ce8683f19f2e', 'message': '[Fix] Run maraidb-backup as a root user\n\nChange-Id: I336d4c81ffc04f6b12df0706a043dbb88953cdf9\n'}]",0,743602,640bbc3a0ed085af009c1ae50c45ce8683f19f2e,7,1,4,29161,,,0,"[Fix] Run maraidb-backup as a root user

Change-Id: I336d4c81ffc04f6b12df0706a043dbb88953cdf9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/743602/2 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/values.yaml'],1,9c1ffb7fcf1c074ba672209f1fa1addbedb4c88b,, runAsUser: 0, allowPrivilegeEscalation: false,1,1
openstack%2Frequirements~master~Ic9d23c9ba37b5ef68b315db3c14ed5ffe2211b3b,openstack/requirements,master,Ic9d23c9ba37b5ef68b315db3c14ed5ffe2211b3b,Remove hiredis from global requirements,MERGED,2020-06-23 20:18:35.000000000,2020-07-29 19:36:24.000000000,2020-07-29 19:34:47.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 20:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a6d9421a029d36e7183e6e63f9871c7db0b8d1a', 'message': 'Remove hiredis from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: Ic9d23c9ba37b5ef68b315db3c14ed5ffe2211b3b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-20 16:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4781108bff0e0ded0ee074fcf8798434c58f76e1', 'message': 'Remove hiredis from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: Ic9d23c9ba37b5ef68b315db3c14ed5ffe2211b3b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-07-29 11:50:22.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/77e37d59bfb04af26dfc4066bc55da84bafdd741', 'message': 'Remove hiredis from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: Ic9d23c9ba37b5ef68b315db3c14ed5ffe2211b3b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,737620,77e37d59bfb04af26dfc4066bc55da84bafdd741,22,4,3,11904,,,0,"Remove hiredis from global requirements

This package was only used in openstack/dragonflow. Now that that
project is being retired we can remove this from g-r.

Depends-on: https://review.opendev.org/737564

Change-Id: Ic9d23c9ba37b5ef68b315db3c14ed5ffe2211b3b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/737620/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,3a6d9421a029d36e7183e6e63f9871c7db0b8d1a,dragonflow,,hiredis===1.0.1,0,2
openstack%2Ftripleo-ansible~master~I793bdb8db1d34011cf64cf9942a811ab5efc00ed,openstack/tripleo-ansible,master,I793bdb8db1d34011cf64cf9942a811ab5efc00ed,Add tripleo_ovs_upgrade module.,MERGED,2020-07-24 18:47:04.000000000,2020-07-29 19:27:38.000000000,2020-07-29 19:27:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 8655}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 27141}]","[{'number': 1, 'created': '2020-07-24 18:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a50db716215495e5e008884e113b4ebd143d81b', 'message': 'WIP: add tripleo_ovs_upgrade module.\n\nSee\nhttps://review.opendev.org/#/c/742632/4/deployment/tripleo-packages/openvswitch_special_treatment.yaml\nfor which this should be a replacement.\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n'}, {'number': 2, 'created': '2020-07-27 12:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69500d41c0d5a39bbbfd5257af9678b5ba2e2bab', 'message': 'WIP: add tripleo_ovs_upgrade module.\n\nSee\nhttps://review.opendev.org/#/c/742632/4/deployment/tripleo-packages/openvswitch_special_treatment.yaml\nfor which this should be a replacement.\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n'}, {'number': 3, 'created': '2020-07-27 17:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a7247250ac2f8e7c399735cf640cf3998a65266', 'message': 'Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n'}, {'number': 4, 'created': '2020-07-27 18:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb37ca860e8de8762abe4635aa84b17f7c196474', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so it make sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}, {'number': 5, 'created': '2020-07-27 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7ede59f7faf01151df2004907f329bdc76230a0b', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so it make sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}, {'number': 6, 'created': '2020-07-28 12:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4df3e7a9e2a97d2dd13afdf0d42d98d078c0302', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so, it makes sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}, {'number': 7, 'created': '2020-07-28 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d554e52c8c9799b2fe760687183c1fb3668e63e', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so, it makes sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}, {'number': 8, 'created': '2020-07-28 15:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1352906a42579c65932f0e10efc2ad00b4f21e9', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so, it makes sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}, {'number': 9, 'created': '2020-07-28 16:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b94eac32e5047878b9b0b4c83a9fcdbf0d0046c', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so, it makes sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}, {'number': 10, 'created': '2020-07-29 00:12:10.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6344bbb43dcf1f462a16572fb3f3b69ce0108862', 'message': ""Add tripleo_ovs_upgrade module.\n\nThis module replace the code in [1] as we need to replicate this\nsequence of actions in several places in the templates.\n\nIt first checks if it's a layered product ovs update which uses\nrhosp-openvswitch.  If so, it makes sure that openvswitch is removed\nwithout triggering any actions, like stopping the service.  Then we\ninstall the rhos-openvswitch package which will take care of updating\neverything without disturbance.\n\nIf the os is not using layer product, then we download the openvswitch\nand update it without triggering the systemctl restart if present in\nthe postun scripts.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370\n\nChange-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed\n""}]",24,742968,6344bbb43dcf1f462a16572fb3f3b69ce0108862,44,13,10,8297,,,0,"Add tripleo_ovs_upgrade module.

This module replace the code in [1] as we need to replicate this
sequence of actions in several places in the templates.

It first checks if it's a layered product ovs update which uses
rhosp-openvswitch.  If so, it makes sure that openvswitch is removed
without triggering any actions, like stopping the service.  Then we
install the rhos-openvswitch package which will take care of updating
everything without disturbance.

If the os is not using layer product, then we download the openvswitch
and update it without triggering the systemctl restart if present in
the postun scripts.

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L234-L370

Change-Id: I793bdb8db1d34011cf64cf9942a811ab5efc00ed
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/742968/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,2a50db716215495e5e008884e113b4ebd143d81b,,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type from ansible.module_utils.basic import AnsibleModule import re ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: tripleo_ovs_update author: - Sofer Athlan-Guyot <sathlang@redhat.com> version_added: '2.8' short_description: Handle special ovs update. notes: [] description: - This module check if ovs need a special treatment during update of the package. options: debug: description: - Whether or not debug is enabled. default: False required: False type: bool """""" EXAMPLES = """""" - name: Special treatment for ovs upgrade. tripleo_ovs_upgrade: """""" RETURN = """""" msg: description: Descrption of the action taken. returned: always type: str updated: description: Was the ovs package update or not. returned: always type: bool """""" def pkg_manager(module): dnf = module.get_bin_path('dnf') if dnf: module.debug(""Using dnf as package manager"") return dnf return module.get_bin_path('yum') # Get current OpenvSwitch package name # return stuff like openvswitch2.11 in original yaml. def get_current_ovs_pkg_name(module): cmd = ['rpm', '-qa'] _, output, _ = module.run_command(cmd, check_rc=True) ovs = re.search(r'^(openvswitch[0-9]+\.[0-9]+-[0-9]+\.[0-9]+\.[-0]+-|openvswitch-2)') if ovs: return ovs.group(0) return None # Process rhosp-openvswitch layered package for new version number # return stuff like [""2.11""] in original module def get_version(module, pkg, new=True): if new: cmd = [pkg_manager(module), 'info', '-q' + pkg] else: cmd = ['rpm', '-qi'] _, output, _ = module.run_command(cmd, check_rc=False) version = re.search(r'^Version[^:]+:[^0-9]([0-9.])+') if version: return version.group(0).split('.') return None def get_current_ovs_pkg_names(module, pkg): # rpm -qa 'openvswitch{{ package_suffix|default('') }}*' | grep -v 'selinux' # return a list of package name pass def remove_package_special(module, pkgs): # rpm -e --noscripts --nopreun --nopostun --notriggers --nodeps <pkg> pass def upgrade_pkg(module, pkg): # name: rhosp-openvswitch state: latest pass def main(): module = AnsibleModule(supports_check_mode=True) result = dict( changed=False, msg='', updated=False ) ovs_current_package = get_current_ovs_pkg_name(module) if ovs_current_package: ovs_coming_version = get_version(module, 'rhosp-openvswitch') ovs_current_version = get_version(module, 'rhosp-openvswitch', new=False) if ovs_coming_version: pkg_suffix = '' if ovs_current_version[0] >= 3 or ovs_current_version[1] >= 10: pkg_suffix = '.'.join(ovs_current_version) pkg_base_name = 'openvswitch{}'.format(pkg_suffix) pkgs_to_remove = get_current_ovs_pkg_names(module, pkg_base_name) if ovs_coming_version != ovs_current_version: remove_package_special(module, pkgs_to_remove) upgrade_pkg(module, 'rhosp-openvswitch') else: # need non lp upgrade special treatment .... given that # tripleo ansible is not present in osp13 should we add # this ? pass # if the user is working with this module in only check mode we do not # want to make any changes to the environment, just return the current # state with no modifications if module.check_mode: module.exit_json(**result) # manipulate or modify the state as needed (this is going to be the # part where your module will do what it needs to do) result['original_message'] = module.params['name'] result['message'] = 'goodbye' # use whatever logic you need to determine whether or not this module # made any modifications to your target if module.params['new']: result['changed'] = True # during the execution of the module, if there is an exception or a # conditional state that effectively causes a failure, run # AnsibleModule.fail_json() to pass in the message and the result if module.params['name'] == 'fail me': module.fail_json(msg='You requested this to fail', **result) # in the event of a successful module execution, you will want to # simple AnsibleModule.exit_json(), passing the key/value results module.exit_json(**result) if __name__ == '__main__': main() ",,171,0
openstack%2Ftripleo-ansible~master~Ie2a70d4ec40c2a2142b0857822edd5122b63c941,openstack/tripleo-ansible,master,Ie2a70d4ec40c2a2142b0857822edd5122b63c941,tripleo_podman_purge: try to use -f when pruning images,MERGED,2020-07-29 13:39:03.000000000,2020-07-29 19:18:40.000000000,2020-07-29 19:14:23.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-29 13:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4abe375f6ae0e1ba22f01e361e5c3042d7251a0b', 'message': ""tripleo_podman_purge: try to use -f when pruning images\n\nRecent version of podman requires yes/no when pruning images, except if\n-f is given as an argument.\n\nLet's first try the old way and if it reports an error, we try with -f.\n\nChange-Id: Ie2a70d4ec40c2a2142b0857822edd5122b63c941\nCloses-Bug: #1889418\n""}, {'number': 2, 'created': '2020-07-29 13:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac1fed871c98f92ba25ccad95f3641c7f2b115d6', 'message': ""tripleo_podman_purge: try to use -f when pruning images\n\nRecent version of podman requires yes/no when pruning images, except if\n-f is given as an argument.\n\nLet's first try the old way and if it reports an error, we try with -f.\n\nChange-Id: Ie2a70d4ec40c2a2142b0857822edd5122b63c941\nCloses-Bug: #1889418\n""}, {'number': 3, 'created': '2020-07-29 13:41:03.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_purge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f9b89173307bd6e8495c757c098c3dda01f8c822', 'message': ""tripleo_podman_purge: try to use -f when pruning images\n\nRecent version of podman requires yes/no when pruning images, except if\n-f is given as an argument.\n\nLet's first try the new way, and fallback on the old method.\n\nChange-Id: Ie2a70d4ec40c2a2142b0857822edd5122b63c941\nCloses-Bug: #1889418\n""}]",0,743760,f9b89173307bd6e8495c757c098c3dda01f8c822,14,6,3,3153,,,0,"tripleo_podman_purge: try to use -f when pruning images

Recent version of podman requires yes/no when pruning images, except if
-f is given as an argument.

Let's first try the new way, and fallback on the old method.

Change-Id: Ie2a70d4ec40c2a2142b0857822edd5122b63c941
Closes-Bug: #1889418
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/743760/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_purge.yml'],1,4abe375f6ae0e1ba22f01e361e5c3042d7251a0b,bug/1889418,- name: Podman image prune rescue: # This was added in a recent version of podman # https://bugs.launchpad.net/tripleo/+bug/1889418 - name: Clean podman images with -f command: podman image prune -a -f - name: Podman volume prune become: true block:,- name: Podman prune,9,1
openstack%2Ftripleo-common~stable%2Fussuri~I7ded2cb74afe73eab5c423fcb31ec9046ea47790,openstack/tripleo-common,stable/ussuri,I7ded2cb74afe73eab5c423fcb31ec9046ea47790,Generate a play per step for external_deploy_tasks,MERGED,2020-07-24 12:09:47.000000000,2020-07-29 19:04:48.000000000,2020-07-29 19:02:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 12:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/566ba6a00f95302950be8e0b5abf6cdebe93663c', 'message': 'Generate a play per step for external_deploy_tasks\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n'}, {'number': 2, 'created': '2020-07-24 12:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/179284d58864e78958984aad8e5ed303d5048269', 'message': 'Generate a play per step for external_deploy_tasks\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n(cherry picked from commit eddc1e60941b96310d96a26bfb8d403993547249)\n'}, {'number': 3, 'created': '2020-07-24 19:13:03.000000000', 'files': ['tripleo_common/tests/fake_config/fakes.py', 'tripleo_common/constants.py', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e073112c1db2910dceb034ca2d42884c3213f860', 'message': 'Generate a play per step for external_deploy_tasks\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n(cherry picked from commit eddc1e60941b96310d96a26bfb8d403993547249)\n'}]",0,742866,e073112c1db2910dceb034ca2d42884c3213f860,19,4,3,3153,,,0,"Generate a play per step for external_deploy_tasks

external_deploy_tasks will now be written out in per step files in the
config download directory. This will allow including the task files for
a specific step only at that step, and saving time by not having to skip
so many tasks.

Change-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790
(cherry picked from commit eddc1e60941b96310d96a26bfb8d403993547249)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/742866/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/fake_config/fakes.py', 'tripleo_common/constants.py', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",4,566ba6a00f95302950be8e0b5abf6cdebe93663c,external_deploy-stable/ussuri," 'external_deploy_steps_tasks'] if 'external' in config: for step in range(constants.DEFAULT_STEPS_MAX): expected_calls += [call('/tmp/tht/%s_step%s.yaml' % (config, step))] ", 'external_deploy_tasks'],23,3
openstack%2Fvalidations-libs~master~I736c527254cf17d25eeda0a4007102838280609c,openstack/validations-libs,master,I736c527254cf17d25eeda0a4007102838280609c,Add a way to override the default validation log path,MERGED,2020-07-24 13:06:22.000000000,2020-07-29 19:02:07.000000000,2020-07-29 19:02:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-24 13:06:22.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/15e74046c12ea80c30f8874028a5d39d55031c71', 'message': 'Add a way to override the default validation log path\n\nExport a log path passed by the user in order to override the default\nvalue from the callback\n\nChange-Id: I736c527254cf17d25eeda0a4007102838280609c\n'}]",0,742875,15e74046c12ea80c30f8874028a5d39d55031c71,8,8,1,16515,,,0,"Add a way to override the default validation log path

Export a log path passed by the user in order to override the default
value from the callback

Change-Id: I736c527254cf17d25eeda0a4007102838280609c
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/75/742875/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/ansible.py']",2,15e74046c12ea80c30f8874028a5d39d55031c71,log/path," ansible_timeout=30, ansible_artifact_path=None, log_path=None, run_async=False): if log_path: env['VALIDATIONS_LOG_DIR'] = log_path "," ansible_timeout=30, ansible_artifact_path=None, run_async=False):",8,2
openstack%2Ftempest~master~Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd,openstack/tempest,master,Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd,Adding description for testcases - network part1,MERGED,2020-04-22 09:40:12.000000000,2020-07-29 18:49:09.000000000,2020-07-29 18:47:31.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-04-22 09:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4f22378e730673adb8875774d3ebb1c600bdd56', 'message': 'Adding description for testcases - network part1\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd\npartially-implements: blueprint testcase-description\n'}, {'number': 2, 'created': '2020-05-13 02:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb10255ede4baba921e8db47f9c8af54e6ffb4c9', 'message': 'Adding description for testcases - network part1\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd\npartially-implements: blueprint testcase-description\n'}, {'number': 3, 'created': '2020-05-19 02:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/73d3a03a6a1289a3b2a07ae216e29540494603f5', 'message': 'Adding description for testcases - network part1\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd\npartially-implements: blueprint testcase-description\n'}, {'number': 4, 'created': '2020-07-27 02:49:37.000000000', 'files': ['tempest/api/network/admin/test_quotas.py', 'tempest/api/network/admin/test_floating_ips_admin_actions.py', 'tempest/api/network/admin/test_ports.py', 'tempest/api/network/test_ports.py', 'tempest/api/network/admin/test_routers_negative.py', 'tempest/api/network/test_extensions.py', 'tempest/api/compute/admin/test_delete_server.py', 'tempest/api/network/test_tags.py', 'tempest/api/network/test_floating_ips.py', 'tempest/api/compute/admin/test_aggregates_negative.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/network/admin/test_negative_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4810d887ffe0038b44adf1be1d906a841769b074', 'message': 'Adding description for testcases - network part1\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd\npartially-implements: blueprint testcase-description\n'}]",16,721798,4810d887ffe0038b44adf1be1d906a841769b074,31,9,4,20190,,,0,"Adding description for testcases - network part1

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: Id3e49c09116c08b6a017b6bb9d016bb31cad9fcd
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/721798/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/test_floating_ips.py', 'tempest/api/network/admin/test_quotas.py', 'tempest/api/network/admin/test_floating_ips_admin_actions.py', 'tempest/api/network/admin/test_ports.py', 'tempest/api/network/test_ports.py', 'tempest/api/network/admin/test_routers_negative.py', 'tempest/api/network/test_extensions.py', 'tempest/api/network/admin/test_negative_quotas.py', 'tempest/api/network/test_tags.py']",9,d4f22378e730673adb8875774d3ebb1c600bdd56,bp/testcase-description," """"""Validate that creating a tag on a network resource works"""""" """"""Test tag operations on subnets/ports/routers/subnetpools"""""" """"""Test update/delete all tags on subnets/ports/routers/subnetpools""""""", # Validate that creating a tag on a network resource works.,53,6
openstack%2Ftooz~master~I22ce4212381511e2b2631a97057d6da938024b99,openstack/tooz,master,I22ce4212381511e2b2631a97057d6da938024b99,Use safe_decode for decoding in zookeeper driver,MERGED,2020-07-29 14:10:39.000000000,2020-07-29 18:41:39.000000000,2020-07-29 18:40:10.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-29 14:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/924168f93ecf1dddc07f0ee9c86dea8b117c63f6', 'message': ""Use safe_decode for decoding in zookeeper driver\n\nCurrent behaviour leds to AttributeError because py3 don't have decode\nattribut for the string objects. So it's better to use safe_decode from\noslo_utils.encodeutils for that purpose\n\nChange-Id: I22ce4212381511e2b2631a97057d6da938024b99\n""}, {'number': 2, 'created': '2020-07-29 15:43:11.000000000', 'files': ['tooz/drivers/zookeeper.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/9aa22c34ca29d0adcc9ad0154a6476ef799f058a', 'message': ""Use safe_decode for decoding in zookeeper driver\n\nCurrent behaviour leds to AttributeError because py3 don't have decode\nattribut for the string objects. So it's better to use safe_decode from\noslo_utils.encodeutils for that purpose\n\nChange-Id: I22ce4212381511e2b2631a97057d6da938024b99\n""}]",3,743770,9aa22c34ca29d0adcc9ad0154a6476ef799f058a,14,4,2,28619,,,0,"Use safe_decode for decoding in zookeeper driver

Current behaviour leds to AttributeError because py3 don't have decode
attribut for the string objects. So it's better to use safe_decode from
oslo_utils.encodeutils for that purpose

Change-Id: I22ce4212381511e2b2631a97057d6da938024b99
",git fetch https://review.opendev.org/openstack/tooz refs/changes/70/743770/1 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/zookeeper.py'],1,924168f93ecf1dddc07f0ee9c86dea8b117c63f6,," cleaned_args.append(encodeutils.safe_decode(arg, incoming='ascii')) encodeutils.safe_decode(self._member_id, incoming='ascii')) encodeutils.safe_decode(self._member_id, incoming='ascii'))", cleaned_args.append(arg.decode('ascii')) self._member_id.decode('ascii')) self._member_id.decode('ascii')),3,3
openstack%2Ftempest~master~I8577ceddcc99f77cfa091519d1466f075de54e43,openstack/tempest,master,I8577ceddcc99f77cfa091519d1466f075de54e43,Adding description for testcases - volume part2,MERGED,2020-04-20 09:10:23.000000000,2020-07-29 18:20:54.000000000,2020-07-29 18:19:02.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-04-20 09:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0af0836b63eb1e232990e6f362589a94c5c7aff4', 'message': 'Adding description for testcases - volume part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I8577ceddcc99f77cfa091519d1466f075de54e43\npartially-implements: blueprint testcase-description\n'}, {'number': 2, 'created': '2020-06-01 01:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/76a4ff8782092f819c7714f72ac61edce9b7ec73', 'message': 'Adding description for testcases - volume part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I8577ceddcc99f77cfa091519d1466f075de54e43\npartially-implements: blueprint testcase-description\n'}, {'number': 3, 'created': '2020-07-27 05:20:56.000000000', 'files': ['tempest/api/volume/admin/test_volume_manage.py', 'tempest/api/volume/admin/test_volumes_actions.py', 'tempest/api/volume/admin/test_groups.py', 'tempest/api/volume/admin/test_volume_types_negative.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/admin/test_snapshot_manage.py', 'tempest/api/volume/admin/test_volume_hosts.py', 'tempest/api/volume/admin/test_volume_quotas_negative.py', 'tempest/api/volume/admin/test_volume_pools.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fcfb31bccb7d63f8095103f06e27a8ff2394f6c8', 'message': 'Adding description for testcases - volume part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I8577ceddcc99f77cfa091519d1466f075de54e43\npartially-implements: blueprint testcase-description\n'}]",41,721208,fcfb31bccb7d63f8095103f06e27a8ff2394f6c8,21,9,3,20190,,,0,"Adding description for testcases - volume part2

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I8577ceddcc99f77cfa091519d1466f075de54e43
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/08/721208/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_manage.py', 'tempest/api/volume/admin/test_volumes_actions.py', 'tempest/api/volume/admin/test_groups.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/admin/test_volume_types_negative.py', 'tempest/api/volume/admin/test_snapshot_manage.py', 'tempest/api/volume/admin/test_volume_hosts.py', 'tempest/api/volume/admin/test_volume_quotas_negative.py', 'tempest/api/volume/admin/test_volume_pools.py']",9,0af0836b63eb1e232990e6f362589a94c5c7aff4,bp/testcase-description," """"""Test getting volume pools"""""" """"""Test getting volume pools without detail"""""" """"""Test getting volume pools with detail""""""",,44,5
openstack%2Frequirements~master~Ibe7778367eb18806aba65324f014e6fc93538d57,openstack/requirements,master,Ibe7778367eb18806aba65324f014e6fc93538d57,Remove python-pytun from global requirements,MERGED,2020-06-23 21:51:12.000000000,2020-07-29 18:20:45.000000000,2020-07-29 18:19:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 21:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa3b0fd5fd897f2c6e3a4c438da83deeedfe591b', 'message': 'Remove python-pytun from global requirements\n\nThis package was only used by dragonflow which is now retired. Clean\nthings up.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: Ibe7778367eb18806aba65324f014e6fc93538d57\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-29 11:49:41.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0bbab89dc1d7b7cecec86ff251dfada696396d37', 'message': 'Remove python-pytun from global requirements\n\nThis package was only used by dragonflow which is now retired. Clean\nthings up.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: Ibe7778367eb18806aba65324f014e6fc93538d57\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,737643,0bbab89dc1d7b7cecec86ff251dfada696396d37,13,3,2,11904,,,0,"Remove python-pytun from global requirements

This package was only used by dragonflow which is now retired. Clean
things up.

Depends-on: https://review.opendev.org/737564

Change-Id: Ibe7778367eb18806aba65324f014e6fc93538d57
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/737643/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,fa3b0fd5fd897f2c6e3a4c438da83deeedfe591b,python-pytun,,python-pytun===2.3.0,0,2
openstack%2Fovsdbapp~master~I685d6841ce9f5759ea117ccc8b2e37126702788f,openstack/ovsdbapp,master,I685d6841ce9f5759ea117ccc8b2e37126702788f,Change TestOvnNbIndex.test_find to use Port_Group,MERGED,2020-07-27 16:23:46.000000000,2020-07-29 18:18:19.000000000,2020-07-29 18:16:44.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 16:23:46.000000000', 'files': ['ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f345c771a45dcd3ba6d5ce5b4b372fafaf78a42d', 'message': 'Change TestOvnNbIndex.test_find to use Port_Group\n\n""Logical_Switch"" registers are frequently used in functional tests.\nStressing this table could lead to unexpected and random errors\nduring the tests execution. Instead of this, ""Port_Group"" table\nis used to check the ""lookup"" method.\n\nChange-Id: I685d6841ce9f5759ea117ccc8b2e37126702788f\n'}]",0,743275,f345c771a45dcd3ba6d5ce5b4b372fafaf78a42d,8,3,1,16688,,,0,"Change TestOvnNbIndex.test_find to use Port_Group

""Logical_Switch"" registers are frequently used in functional tests.
Stressing this table could lead to unexpected and random errors
during the tests execution. Instead of this, ""Port_Group"" table
is used to check the ""lookup"" method.

Change-Id: I685d6841ce9f5759ea117ccc8b2e37126702788f
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/75/743275/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py'],1,f345c771a45dcd3ba6d5ce5b4b372fafaf78a42d,test_index_port_group," txn.add(self.api.pg_add(""%s%d"" % (basename, i))) sw = self.api.lookup('Port_Group', match)"," txn.add(self.api.ls_add(""%s%d"" % (basename, i))) sw = self.api.lookup('Logical_Switch', match)",2,2
openstack%2Fos-brick~stable%2Fstein~If31d120955eb216823a55005fdd3d24870aa6b9a,openstack/os-brick,stable/stein,If31d120955eb216823a55005fdd3d24870aa6b9a,Read mounts from /proc/mounts instead of running mount,MERGED,2020-03-13 23:57:35.000000000,2020-07-29 18:14:26.000000000,2020-05-20 02:08:10.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18058}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-03-13 23:57:35.000000000', 'files': ['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)\n(cherry picked from commit a8190cd60b59dedb11a8ed27d236d81adee3255d)\n""}]",0,713082,7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d,21,13,1,27419,,,0,"Read mounts from /proc/mounts instead of running mount

When creating multiple concurrent volumes, there's a lock
that prevents mount from returning quickly. Reading /proc/mounts
is way faster.

Change-Id: If31d120955eb216823a55005fdd3d24870aa6b9a
Closes-Bug: #1856889
(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)
(cherry picked from commit a8190cd60b59dedb11a8ed27d236d81adee3255d)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/82/713082/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py']",2,7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d,," """"""Returns a dict of mounts and their mountpoint Format reference: http://man7.org/linux/man-pages/man5/fstab.5.html """""" with open(""/proc/mounts"", ""r"") as mounts: # Remove empty lines and split lines by whitespace lines = [l.split() for l in mounts.read().splitlines() if l.strip()] # Return {mountpoint: mountdevice}. Fields 2nd and 1st as per # http://man7.org/linux/man-pages/man5/fstab.5.html return {line[1]: line[0] for line in lines if line[0] != '#'}"," (out, _err) = self._execute('mount', check_exit_code=0) lines = out.split('\n') mounts = {} for line in lines: tokens = line.split() if 2 < len(tokens): device = tokens[0] mnt_point = tokens[2] mounts[mnt_point] = device return mounts",21,16
openstack%2Fos-brick~master~I8f962becfde117c7f1e0359d27d30a5df0691ab7,openstack/os-brick,master,I8f962becfde117c7f1e0359d27d30a5df0691ab7,Fallback to reading WWN directly,ABANDONED,2020-05-07 10:57:14.000000000,2020-07-29 18:08:08.000000000,,"[{'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-05-07 10:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2a5fa94299b9cdf64a83065961384edcd432dbf5', 'message': 'Lets ask the disk directly if we are still unable to get a WWN for our device\n\nChange-Id: I8f962becfde117c7f1e0359d27d30a5df0691ab7\nCloses-Bug: 1877286\n'}, {'number': 2, 'created': '2020-05-07 10:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f29b08c56b15cc9b7772f57034a67d11f7e5a34c', 'message': 'Lets ask the disk directly if we are still unable\nto get a WWN for our device\n\nChange-Id: I8f962becfde117c7f1e0359d27d30a5df0691ab7\nCloses-Bug: 1877286\n'}, {'number': 3, 'created': '2020-05-07 11:00:33.000000000', 'files': ['os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9156b7bd6f0ceef8bc7b6d1f498a8625ca356291', 'message': 'Fallback to reading WWN directly\n\nLets fallback to asking the disk directly if we are still\nunable to get a WWN for our device.\n\nChange-Id: I8f962becfde117c7f1e0359d27d30a5df0691ab7\nCloses-Bug: 1877286\n'}]",3,726093,9156b7bd6f0ceef8bc7b6d1f498a8625ca356291,17,8,3,22437,,,0,"Fallback to reading WWN directly

Lets fallback to asking the disk directly if we are still
unable to get a WWN for our device.

Change-Id: I8f962becfde117c7f1e0359d27d30a5df0691ab7
Closes-Bug: 1877286
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/93/726093/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/iscsi.py'],1,2a5fa94299b9cdf64a83065961384edcd432dbf5,bug/1877286," # We still don't know the wwn - maybe udev didnt create the symlinks if not wwn and found: for disk in found: LOG.warning('sysfs didnt return a wwn for %s, lets try to ask the disk directly', found) wwn = self._linuxscsi.get_scsi_wwn('/dev/' + str(disk)) LOG.debug('wwn for %s is %s', found, wwn)",,7,0
openstack%2Fos-brick~master~I94b82cc051ce81cfa0e17911eb51a98fc4a7017b,openstack/os-brick,master,I94b82cc051ce81cfa0e17911eb51a98fc4a7017b,multipathd: fix support for find_multipaths set to yes,ABANDONED,2019-02-22 11:58:42.000000000,2020-07-29 17:56:19.000000000,,"[{'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 7730}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 20634}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-02-22 11:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4bc4a792e221a1aa666d23932f6cd067fee87b62', 'message': 'fix wwn not found if mapth comes across too fast\n\nIn a situation where the mpath is generate too fast, the iscsi devices\nare not listed anymore by udev in /dev/disk/by-id/* meaning that the\ncurrent workflow which is to find one of them falldown in a infiny\nloop until the timeout occurs.\n\nIn this commit we ensure that even if we are not able to find wwid, we\ntry to find mpath. If the condition is satsfied, we generate wwid by\nusing iscsi_id.\n\nChange-Id: I94b82cc051ce81cfa0e17911eb51a98fc4a7017b\nCloses-Bug: #1815844\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-03-06 13:28:48.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/65fa4b56ae36c6078b57320101a1b16ce7e99c9b', 'message': ""multipathd: fix support for find_multipaths set to yes\n\nWhen multipathd is configured with feature 'find_multipaths' set to\nyes. We can be in a situation where the iSCSI devices are not listed\nanymore to sysfs and multipathd to have generated the mpath\nautomatically.\n\nIn a situation where the mpath is generated too fast, the iSCSI\ndevices are not listed anymore by udev in /dev/disk/by-id/* meaning\nthat the current workflow which is to find one of them falldown in a\ninfinite loop until the timeout occurs. In this commit we ensure that\neven if we are not able to find wwid, we try to find mpath. If the\ncondition is satsfied, we generate wwid by using iscsi_id from the\nmpath.\n\nChange-Id: I94b82cc051ce81cfa0e17911eb51a98fc4a7017b\nCloses-Bug: #1815844\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}]",27,638639,65fa4b56ae36c6078b57320101a1b16ce7e99c9b,52,21,2,7730,,,0,"multipathd: fix support for find_multipaths set to yes

When multipathd is configured with feature 'find_multipaths' set to
yes. We can be in a situation where the iSCSI devices are not listed
anymore to sysfs and multipathd to have generated the mpath
automatically.

In a situation where the mpath is generated too fast, the iSCSI
devices are not listed anymore by udev in /dev/disk/by-id/* meaning
that the current workflow which is to find one of them falldown in a
infinite loop until the timeout occurs. In this commit we ensure that
even if we are not able to find wwid, we try to find mpath. If the
condition is satsfied, we generate wwid by using iscsi_id from the
mpath.

Change-Id: I94b82cc051ce81cfa0e17911eb51a98fc4a7017b
Closes-Bug: #1815844
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/39/638639/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,4bc4a792e221a1aa666d23932f6cd067fee87b62,bug/1815844," if wwn is None and found: # We want pass here only if wwn is None. In a # situation where the dm path comes accross too fast, # get_sysfs_wwn() will always returns '' that's # because the devices are not anymore registered in # /dev/disk/by-id/. if wwn is not None and not mpath: # At this step wwn should be something else that None # and we have found devices. if wwn == '' and mpath: # Generate wwn based on mapth wwn = self._linuxscsi.get_scsi_wwn(""/dev/"" + mpath) if wwn and not (mpath or wwn_added):", if not wwn and found: if wwn and not mpath: if not (mpath or wwn_added):,52,3
openstack%2Fkayobe~stable%2Fussuri~Id595a12845f445203993fc6ed567e7f7f393742f,openstack/kayobe,stable/ussuri,Id595a12845f445203993fc6ed567e7f7f393742f,Update hook link instructions to use relative path,MERGED,2020-07-28 15:56:40.000000000,2020-07-29 17:39:15.000000000,2020-07-29 17:36:35.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 15:56:40.000000000', 'files': ['doc/source/custom-ansible-playbooks.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f6321c2fe46f2ff7b800c6db3739676ac7daeb18', 'message': 'Update hook link instructions to use relative path\n\nThe original instructions used an absolute path for the symbolic link,\nwhich would not be valid if the kayobe-config repository was cloned in a\ndifferent location.\n\nChange-Id: Id595a12845f445203993fc6ed567e7f7f393742f\n(cherry picked from commit fa19513ed476198b8225d2a4a48157c02b3ee970)\n'}]",0,743571,f6321c2fe46f2ff7b800c6db3739676ac7daeb18,8,3,1,15197,,,0,"Update hook link instructions to use relative path

The original instructions used an absolute path for the symbolic link,
which would not be valid if the kayobe-config repository was cloned in a
different location.

Change-Id: Id595a12845f445203993fc6ed567e7f7f393742f
(cherry picked from commit fa19513ed476198b8225d2a4a48157c02b3ee970)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/743571/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/custom-ansible-playbooks.rst'],1,f6321c2fe46f2ff7b800c6db3739676ac7daeb18,, (kayobe) $ mkdir -p ${KAYOBE_CONFIG_PATH}/hooks/overcloud-host-configure/post.d (kayobe) $ cd ${KAYOBE_CONFIG_PATH}/hooks/overcloud-host-configure/post.d (kayobe) $ ln -s ../../../ansible/foo.yml 10-foo.yml, (kayobe) $ mkdir -p $KAYOBE_CONFIG_PATH/hooks/overcloud-host-configure/post.d (kayobe) $ ln -s $KAYOBE_CONFIG_PATH/ansible/foo.yml \ $KAYOBE_CONFIG_PATH/hooks/overcloud-host-configure/post.d/10-foo.yml,3,3
openstack%2Fironic~master~I8e759168f1dc81cdcf430f3e33be990731595ec3,openstack/ironic,master,I8e759168f1dc81cdcf430f3e33be990731595ec3,Remove locks before RPC bus is started,MERGED,2020-07-09 20:14:26.000000000,2020-07-29 17:38:53.000000000,2020-07-29 17:29:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-09 20:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a77740a1d8e73ae94ebd6cfb17c7a65a8eb3318', 'message': 'Remove locks before RPC bus is started\n\nIncoming RPC requests can come in during the initialization window\nand as such we should not remove locks while the conductor could\npossibly begin taking on work.\n\nMoved the lock removal further up in the start process to right\nafter we have our database client initialized so it becomes\nthe very first thing the conductor starts going upon\ninitialization.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n'}, {'number': 2, 'created': '2020-07-10 21:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d99aa632f72e63e3f60dfab5826c2446e6b9efdd', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n""}, {'number': 3, 'created': '2020-07-28 15:03:26.000000000', 'files': ['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8e4aba1ec06885c9b377d5ad659a13fea41049d', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n""}]",16,740360,b8e4aba1ec06885c9b377d5ad659a13fea41049d,39,7,3,11655,,,0,"Remove locks before RPC bus is started

A partner performing some testing recognized a case where if a request
is sent to the Ironic Conductor while it is in the process of starting,
and the request makes it into be processed, yet latter the operation
fails with errors such as NodeNotLocked exception. Notably they were
able to reproduce this by requesting the attachment or detachment of
a VIF at the same time as restarting the conductor.

In part, this condition is due to to the conductor being restarted
where the conductors table includes the node being restarted and
the webserver has not possibly had a chance to observe that the
conductor is in the process of restarting as the hash ring is
still valid.

In short - Incoming RPC requests can come in during the initialization
window and as such we should not remove locks while the conductor could
possibly already be receiving work.

As such, we've added a ``prepare_host`` method which initializes
the conductor database connection and removes the stale locks.
Under normal operating conditions, the database client is reused.

rhbz# 1847305

Change-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/740360/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/base_manager.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml']",2,1a77740a1d8e73ae94ebd6cfb17c7a65a8eb3318,740360,--- fixes: - | Fixes an issue where ``ironic-conductor`` initialization could return a ``NodeNotLocked`` error for requests requiring locks when the conductor was starting. This was due to the conductor was removing locks after beginning accepting new work. The lock removal has been moved to after the Database connectivity has been established but before the RPC bus is initialized. ,,20,4
openstack%2Fkayobe~stable%2Fussuri~Idbdd494f9435d663564346fd0e0a053b656168c3,openstack/kayobe,stable/ussuri,Idbdd494f9435d663564346fd0e0a053b656168c3,Fix network configuration when no eth0 interface is present,MERGED,2020-07-28 18:04:07.000000000,2020-07-29 17:38:00.000000000,2020-07-29 17:36:30.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 18:04:07.000000000', 'files': ['requirements.yml', 'releasenotes/notes/remove-ifcfg-eth0-c179ea98fc34e164.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/243bfe059ca428bc7592d85dc2bbe6dd3d3857aa', 'message': 'Fix network configuration when no eth0 interface is present\n\nChange-Id: Idbdd494f9435d663564346fd0e0a053b656168c3\nStory: 2007913\nTask: 40316\n(cherry picked from commit ca648622b1b2ca73989fe2011630aaeb3601f8c2)\n'}]",0,743607,243bfe059ca428bc7592d85dc2bbe6dd3d3857aa,8,3,1,14826,,,0,"Fix network configuration when no eth0 interface is present

Change-Id: Idbdd494f9435d663564346fd0e0a053b656168c3
Story: 2007913
Task: 40316
(cherry picked from commit ca648622b1b2ca73989fe2011630aaeb3601f8c2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/743607/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.yml', 'releasenotes/notes/remove-ifcfg-eth0-c179ea98fc34e164.yaml']",2,243bfe059ca428bc7592d85dc2bbe6dd3d3857aa,story/2007913-stable/ussuri,"--- fixes: - | Removes the ``ifcfg-eth0`` network interface configuration file when not required, using a new version of the ``MichaelRigaert.interfaces`` Ansible role. This file ships with CentOS 8 cloud images and can prevent the ``network`` service from starting successfully when no ``eth0`` interface is present or being configured. See `story 2007913 <https://storyboard.openstack.org/#!/story/2007913>`__ for details. ",,10,1
openstack%2Fcharm-guide~master~I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99,openstack/charm-guide,master,I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99,Add Arista to release notes,MERGED,2020-07-27 12:56:27.000000000,2020-07-29 17:35:02.000000000,2020-07-29 17:33:39.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-07-27 12:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7d90e75e92b14529c945e3bdc5bfb68c69c7b663', 'message': 'Add Arista to release notes\n\nDepends-On: I650fa3462193bdea4f36426b904e26c936c4e24e\nChange-Id: I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99\n'}, {'number': 2, 'created': '2020-07-27 13:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ddc7c92cea6a1037d1a4be11d086d98005d408cc', 'message': 'Add Arista to release notes\n\nDepends-On: I650fa3462193bdea4f36426b904e26c936c4e24e\nChange-Id: I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99\n'}, {'number': 3, 'created': '2020-07-28 07:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4fb4e0db3936b71c2530ff2301511f9c5989dcd5', 'message': 'Add Arista to release notes\n\nDepends-On: I650fa3462193bdea4f36426b904e26c936c4e24e\nChange-Id: I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99\n'}, {'number': 4, 'created': '2020-07-28 15:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bfbfee82d433161c5f4722188c3e850c574bdaee', 'message': 'Add Arista to release notes\n\nDepends-On: I650fa3462193bdea4f36426b904e26c936c4e24e\nChange-Id: I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99\n'}, {'number': 5, 'created': '2020-07-29 07:54:45.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/99add78dc8cd52daead0d75f63dc51baa2f2cf57', 'message': 'Add Arista to release notes\n\nDepends-On: I650fa3462193bdea4f36426b904e26c936c4e24e\nChange-Id: I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99\n'}]",10,743219,99add78dc8cd52daead0d75f63dc51baa2f2cf57,18,2,5,31289,,,0,"Add Arista to release notes

Depends-On: I650fa3462193bdea4f36426b904e26c936c4e24e
Change-Id: I5a2839d5fde2e0a4caffa9f077b35ab00f48ec99
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/19/743219/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,7d90e75e92b14529c945e3bdc5bfb68c69c7b663,arista,* `neutron-api-plugin-arista <https://opendev.org/openstack/charm-neutron-api-plugin-arista>`_Arista ~~~~~~ The ``neutron-api-plugin-arista`` is now an officially supported charm. For upgrading from earlier prototypes see `_Upgrading to stable Arista charm`_. Arista ~~~~~~ For now the ``neutron-api-plugin-arista`` charm is only supported up to Queens. .. _Upgrading to stable Arista charm: https://github.com/openstack/charm-neutron-api-plugin-arista/blob/master/docs/upgrading-to-stable.md,,13,0
openstack%2Fswift~master~Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6,openstack/swift,master,Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6,wip: Allow probe tests to run with separate replication network,NEW,2020-07-17 21:47:16.000000000,2020-07-29 17:33:29.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 21:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf4952deb5ad53e980310119b2bb1c49ac725680', 'message': 'wip: Allow probe tests to run with separate replication network\n\nI think this is going to need to be fairly opinionated, following the\nconventions outlined in doc/source/replication_network.rst\n\nChange-Id: Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6\n'}, {'number': 2, 'created': '2020-07-22 20:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f0b25ae20cb5b5eee3535c4e6993f0ca0ecc1c17', 'message': 'wip: Allow probe tests to run with separate replication network\n\nI think this is going to need to be fairly opinionated, following the\nconventions outlined in doc/source/replication_network.rst\n\nChange-Id: Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6\n'}, {'number': 3, 'created': '2020-07-23 16:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1efe2a0cdffd112d514d9b8737524ca9daa533eb', 'message': 'wip: Allow probe tests to run with separate replication network\n\nI think this is going to need to be fairly opinionated, following the\nconventions outlined in doc/source/replication_network.rst\n\nChange-Id: Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6\n'}, {'number': 4, 'created': '2020-07-23 17:16:24.000000000', 'files': ['test/probe/common.py', 'swift/container/sync.py', 'test/probe/test_sharder.py', 'test/probe/test_object_handoff.py', 'test/probe/test_object_failures.py', 'test/probe/test_container_failures.py', 'test/probe/test_reconstructor_rebuild.py', 'test/probe/test_reconstructor_revert.py', 'test/probe/test_container_merge_policy_index.py', 'test/probe/test_account_reaper.py', 'test/probe/test_db_replicator.py', 'test/probe/test_object_partpower_increase.py', 'test/probe/brain.py', 'swift/account/reaper.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c315561e24bce1735b887e8705f0bdf22ecb674b', 'message': 'wip: Allow probe tests to run with separate replication network\n\nI think this is going to need to be fairly opinionated, following the\nconventions outlined in doc/source/replication_network.rst\n\nChange-Id: Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6\n'}]",88,741723,c315561e24bce1735b887e8705f0bdf22ecb674b,9,3,4,15343,,,0,"wip: Allow probe tests to run with separate replication network

I think this is going to need to be fairly opinionated, following the
conventions outlined in doc/source/replication_network.rst

Change-Id: Ia3730a7eaf92910c47cbce6fca4d0068eac3a6b6
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/741723/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'swift/container/sync.py', 'test/probe/test_sharder.py', 'test/probe/test_object_handoff.py', 'test/probe/test_object_failures.py', 'test/probe/test_container_failures.py', 'test/probe/test_reconstructor_rebuild.py', 'test/probe/test_reconstructor_revert.py', 'test/probe/test_container_merge_policy_index.py', 'test/probe/test_account_reaper.py', 'test/probe/test_db_replicator.py', 'test/probe/test_object_partpower_increase.py', 'test/probe/brain.py', 'swift/account/reaper.py']",14,cf4952deb5ad53e980310119b2bb1c49ac725680,replication-network," repl_ip = node['replication_ip'] if is_local_device(self.myips, None, repl_ip, None) and \ (not self.bind_port or self.bind_port == node['replication_port']) and \ (device == node['device']): break",,232,38
openstack%2Fzun~master~Ib30cdf698ae47b924aaf320954ddf7aee0d6aa2b,openstack/zun,master,Ib30cdf698ae47b924aaf320954ddf7aee0d6aa2b,[WIP] Add job testing againest linux bridge,NEW,2020-07-29 03:01:29.000000000,2020-07-29 17:27:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-29 03:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/0f5530d5d5a15b7455cd965e2a1612e0a35be5ea', 'message': '[WIP] Add job testing againest linux bridge\n\nChange-Id: Ib30cdf698ae47b924aaf320954ddf7aee0d6aa2b\n'}, {'number': 2, 'created': '2020-07-29 03:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/429b19be99493d4548e5e470589a2646b5e16cb4', 'message': '[WIP] Add job testing againest linux bridge\n\nChange-Id: Ib30cdf698ae47b924aaf320954ddf7aee0d6aa2b\n'}, {'number': 3, 'created': '2020-07-29 16:03:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/9dec06ea8cb603a8a4d20fa4fde28d48c8ed3ba5', 'message': '[WIP] Add job testing againest linux bridge\n\nChange-Id: Ib30cdf698ae47b924aaf320954ddf7aee0d6aa2b\n'}]",1,743671,9dec06ea8cb603a8a4d20fa4fde28d48c8ed3ba5,6,1,3,11536,,,0,"[WIP] Add job testing againest linux bridge

Change-Id: Ib30cdf698ae47b924aaf320954ddf7aee0d6aa2b
",git fetch https://review.opendev.org/openstack/zun refs/changes/71/743671/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0f5530d5d5a15b7455cd965e2a1612e0a35be5ea,, name: zun-tempest-docker-linuxbridge parent: zun-tempest-py3-docker-sql vars: devstack_localrc: Q_AGENT: linuxbridge - job: - zun-tempest-docker-iptables-linuxbridge: voting: false,,9,0
openstack%2Fkayobe~stable%2Fstein~I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,openstack/kayobe,stable/stein,I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,Define default variables for Monasca config,MERGED,2020-07-22 17:15:29.000000000,2020-07-29 17:15:49.000000000,2020-07-29 17:14:09.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30438}]","[{'number': 1, 'created': '2020-07-22 17:15:29.000000000', 'files': ['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f7e4d37b45bba872169df1f02991cfbe114307ca', 'message': ""Define default variables for Monasca config\n\nSets 'monasca_install_type: source' to remove need\nfor kolla-ansible var boilerplate.\n\nAlso use default Monasca parameters to configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\nStory: 2007597\nTask: 39587\n(cherry picked from commit 39308a45914cc452362b6f4442785ddc7e0c26c7)\n""}]",0,742496,f7e4d37b45bba872169df1f02991cfbe114307ca,11,4,1,28048,,,0,"Define default variables for Monasca config

Sets 'monasca_install_type: source' to remove need
for kolla-ansible var boilerplate.

Also use default Monasca parameters to configure
Grafana post deploy.

Change-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17
Story: 2007597
Task: 39587
(cherry picked from commit 39308a45914cc452362b6f4442785ddc7e0c26c7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/742496/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml']",6,f7e4d37b45bba872169df1f02991cfbe114307ca,monasca-defaults-stable/stein,"--- ############################################################################### # Monasca configuration. # Monasca OpenStack Project name. # The default is ""monasca_control_plane"". #monasca_control_plane_project: # Monasca OpenStack Domain name. Default is ""default"". #monasca_control_plane_domain: # Monasca Grafana Server port. Must match kolla-ansible # var of the same name. Default is ""3001"". #monasca_grafana_server_port: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ",,48,3
openstack%2Fkayobe~stable%2Frocky~I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,openstack/kayobe,stable/rocky,I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,Define default variables for Monasca config,MERGED,2020-07-22 17:12:59.000000000,2020-07-29 17:15:47.000000000,2020-07-29 17:14:13.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30438}]","[{'number': 1, 'created': '2020-07-22 17:12:59.000000000', 'files': ['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/79b43f951b4d4498b7506fef37b81b493ef9729c', 'message': ""Define default variables for Monasca config\n\nSets 'monasca_install_type: source' to remove need\nfor kolla-ansible var boilerplate.\n\nAlso use default Monasca parameters to configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\nStory: 2007597\nTask: 39587\n(cherry picked from commit 39308a45914cc452362b6f4442785ddc7e0c26c7)\n""}]",0,742494,79b43f951b4d4498b7506fef37b81b493ef9729c,8,4,1,28048,,,0,"Define default variables for Monasca config

Sets 'monasca_install_type: source' to remove need
for kolla-ansible var boilerplate.

Also use default Monasca parameters to configure
Grafana post deploy.

Change-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17
Story: 2007597
Task: 39587
(cherry picked from commit 39308a45914cc452362b6f4442785ddc7e0c26c7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/742494/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml']",6,79b43f951b4d4498b7506fef37b81b493ef9729c,monasca-defaults-stable/rocky,"--- ############################################################################### # Monasca configuration. # Monasca OpenStack Project name. # The default is ""monasca_control_plane"". #monasca_control_plane_project: # Monasca OpenStack Domain name. Default is ""default"". #monasca_control_plane_domain: # Monasca Grafana Server port. Must match kolla-ansible # var of the same name. Default is ""3001"". #monasca_grafana_server_port: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ",,48,3
openstack%2Fos-brick~stable%2Fpike~Ia166ee66e9983a54241e8b609202f58569552fab,openstack/os-brick,stable/pike,Ia166ee66e9983a54241e8b609202f58569552fab,Always set ignoreskipactivation on snapshot creation,ABANDONED,2018-01-30 23:37:31.000000000,2020-07-29 17:11:09.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 27710}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-01-30 23:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c9173c213fa90ae80ac5f78a8eef70cbd4c2358e', 'message': 'Always set ignoreskipactivation on snapshot creation\n\nThere seem to be different defaults in distros so we\nenforce the flag to be set.\n\nChange-Id: Ia166ee66e9983a54241e8b609202f58569552fab\n(cherry picked from commit 99f67090bc6949ab632de53fb6caa8c0050ce882)\n'}, {'number': 2, 'created': '2019-03-26 13:57:20.000000000', 'files': ['os_brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1f7a8c93040e186f98963e3b20c60c8d50e2b930', 'message': 'Always set ignoreskipactivation on snapshot creation\n\nThere seem to be different defaults in distros so we\nenforce the flag to be set.\n\nChange-Id: Ia166ee66e9983a54241e8b609202f58569552fab\n(cherry picked from commit 99f67090bc6949ab632de53fb6caa8c0050ce882)\n'}]",0,539359,1f7a8c93040e186f98963e3b20c60c8d50e2b930,46,11,2,6593,,,0,"Always set ignoreskipactivation on snapshot creation

There seem to be different defaults in distros so we
enforce the flag to be set.

Change-Id: Ia166ee66e9983a54241e8b609202f58569552fab
(cherry picked from commit 99f67090bc6949ab632de53fb6caa8c0050ce882)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/59/539359/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/local_dev/lvm.py'],1,c9173c213fa90ae80ac5f78a8eef70cbd4c2358e,516071-stable/pike," cmd = LVM.LVM_CMD_PREFIX + ['lvcreate', '--name', name, '-k', 'y', '--snapshot',"," cmd = LVM.LVM_CMD_PREFIX + ['lvcreate', '--name', name, '--snapshot',",2,1
openstack%2Fos-brick~master~I5e90a108fd343a4c734fdbf6082adb4d6ceb0bbb,openstack/os-brick,master,I5e90a108fd343a4c734fdbf6082adb4d6ceb0bbb,multipath: add debug messages of connection threads,ABANDONED,2019-03-06 13:28:48.000000000,2020-07-29 17:09:54.000000000,,"[{'_account_id': 5997}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-03-06 13:28:48.000000000', 'files': ['os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/63465b33b32135f7ada8d39554047ca2e7d22528', 'message': 'multipath: add debug messages of connection threads\n\nChange-Id: I5e90a108fd343a4c734fdbf6082adb4d6ceb0bbb\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,641350,63465b33b32135f7ada8d39554047ca2e7d22528,15,13,1,7730,,,0,"multipath: add debug messages of connection threads

Change-Id: I5e90a108fd343a4c734fdbf6082adb4d6ceb0bbb
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/50/641350/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/iscsi.py'],1,63465b33b32135f7ada8d39554047ca2e7d22528,bug/1815844," LOG.debug(""Connections threads info: %s"", data)",,1,0
openstack%2Fpython-novaclient~stable%2Fussuri~I35b5699b8b0814f2d17a37e024286cd440047ec8,openstack/python-novaclient,stable/ussuri,I35b5699b8b0814f2d17a37e024286cd440047ec8,Switch legacy Zuul jobs to native Zuul v3 jobs,MERGED,2020-07-10 14:57:23.000000000,2020-07-29 17:04:22.000000000,2020-07-29 16:58:52.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 14:57:23.000000000', 'files': ['novaclient/tests/functional/hooks/post_test_hook.sh', 'novaclient/tests/functional/base.py', 'playbooks/post.yaml', '.zuul.yaml', 'novaclient/tests/functional/test_auth.py', 'playbooks/python-novaclient-functional.yaml', 'roles/get-os-environment/tasks/main.yaml', 'playbooks/legacy/novaclient-dsvm-functional/run.yaml', 'roles/get-os-environment/defaults/main.yaml', 'tox.ini', 'playbooks/legacy/novaclient-dsvm-functional/post.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/25afea2adb7c23fafcf1ea6261ba26f98010b0d3', 'message': ""Switch legacy Zuul jobs to native Zuul v3 jobs\n\nReplace the 'novaclient-dsvm-functional' legacy Zuul job with\nthe 'python-novaclient-functional' native Zuul v3 job.\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I35b5699b8b0814f2d17a37e024286cd440047ec8\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n(cherry picked from commit b7ae8c75cb8c34e2c6ab81a4f6b60fd937ec7f98)\n""}]",0,740488,25afea2adb7c23fafcf1ea6261ba26f98010b0d3,11,4,1,7634,,,0,"Switch legacy Zuul jobs to native Zuul v3 jobs

Replace the 'novaclient-dsvm-functional' legacy Zuul job with
the 'python-novaclient-functional' native Zuul v3 job.

See
https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html
for more details.

Change-Id: I35b5699b8b0814f2d17a37e024286cd440047ec8
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Co-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>
(cherry picked from commit b7ae8c75cb8c34e2c6ab81a4f6b60fd937ec7f98)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/88/740488/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/functional/hooks/post_test_hook.sh', 'novaclient/tests/functional/base.py', 'playbooks/post.yaml', '.zuul.yaml', 'novaclient/tests/functional/test_auth.py', 'playbooks/python-novaclient-functional.yaml', 'playbooks/legacy/novaclient-dsvm-functional/run.yaml', 'roles/get-os-environment/tasks/main.yaml', 'roles/get-os-environment/defaults/main.yaml', 'tox.ini', 'playbooks/legacy/novaclient-dsvm-functional/post.yaml']",11,25afea2adb7c23fafcf1ea6261ba26f98010b0d3,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,92,203
openstack%2Fironic-python-agent-builder~master~I5b478893a2f114bdbeee53af5f44dc8139b02c52,openstack/ironic-python-agent-builder,master,I5b478893a2f114bdbeee53af5f44dc8139b02c52,Log IPv6 configuration status for tinycore,MERGED,2020-07-28 13:30:27.000000000,2020-07-29 16:48:13.000000000,2020-07-29 16:46:32.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-07-28 13:30:27.000000000', 'files': ['tinyipa/build_files/bootlocal.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/040e5f2ce0cd41a716b4ccfc0333194cc8f8601e', 'message': ""Log IPv6 configuration status for tinycore\n\nWe're seeing some job failures with IPv6 when tinycore is\ngetting pulled in for rackspace hosts. The underlying issue\nappears to be that we don't have an IPv6 route in the kernel.\n\nFirst step, get more data.\n\nChange-Id: I5b478893a2f114bdbeee53af5f44dc8139b02c52\n""}]",0,743536,040e5f2ce0cd41a716b4ccfc0333194cc8f8601e,9,4,1,11655,,,0,"Log IPv6 configuration status for tinycore

We're seeing some job failures with IPv6 when tinycore is
getting pulled in for rackspace hosts. The underlying issue
appears to be that we don't have an IPv6 route in the kernel.

First step, get more data.

Change-Id: I5b478893a2f114bdbeee53af5f44dc8139b02c52
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/36/743536/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/build_files/bootlocal.sh'],1,040e5f2ce0cd41a716b4ccfc0333194cc8f8601e,," echo ""Outputting IP and Route information"" ip addr || true ip route || true ip -6 route || true echo ""Logging IPv4 sysctls"" sysctl -a |grep ipv4 || true echo ""Logging IPv6 sysctls"" sysctl -a |grep ipv6 || true", ip addr && true,8,1
openstack%2Fopenstack-helm-infra~master~I9de78186a2c3a6d181bedfdb8b84abeecce46bd6,openstack/openstack-helm-infra,master,I9de78186a2c3a6d181bedfdb8b84abeecce46bd6,"Revert ""Add missing pod level security context template for mariadb-backup""",MERGED,2020-07-29 13:09:08.000000000,2020-07-29 16:41:23.000000000,2020-07-29 16:39:37.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29131}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-29 13:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc0e9e952bf5515af249060d482ff6c684bbde60', 'message': 'Revert ""Add missing pod level security context template for mariadb-backup""\n\nThis reverts commit 0da55ad85ef621baa22887799e3146cecd93d368.\n\nChange-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6\n'}, {'number': 2, 'created': '2020-07-29 13:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdd0c8d93babe20e2bfe1cf6bd44d8c2ff93ddee', 'message': 'Revert ""Add missing pod level security context template for mariadb-backup""\n\nReverting this change as the health checks are failing in NC. Need to\ndig more and do through testing.\n\nThis reverts commit 0da55ad85ef621baa22887799e3146cecd93d368.\n\nChange-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6\n'}, {'number': 3, 'created': '2020-07-29 14:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e0bac6c7c06e51eee4ff3699ff08e2e8ed1e36e', 'message': 'Revert ""Add missing pod level security context template for mariadb-backup""\n\nReverting this change as the health checks are failing with permission denied.\nNeed to dig more and do through testing.\n\nThis reverts commit 0da55ad85ef621baa22887799e3146cecd93d368.\n\nChange-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6\n'}, {'number': 4, 'created': '2020-07-29 14:26:28.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3978c6a33c928944df2145236d893d22696c3338', 'message': 'Revert ""Add missing pod level security context template for mariadb-backup""\n\nReverting this change as the health checks are failing with permission denied.\nNeed to dig more and do through testing.\n\nThis reverts commit 0da55ad85ef621baa22887799e3146cecd93d368.\n\nChange-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6\n'}]",0,743752,3978c6a33c928944df2145236d893d22696c3338,13,11,4,29161,,,0,"Revert ""Add missing pod level security context template for mariadb-backup""

Reverting this change as the health checks are failing with permission denied.
Need to dig more and do through testing.

This reverts commit 0da55ad85ef621baa22887799e3146cecd93d368.

Change-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/743752/4 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/values.yaml']",2,fc0e9e952bf5515af249060d482ff6c684bbde60,, runAsUser: 65534,,1,1
openstack%2Fos-brick~stable%2Fstein~I7e761828b3799cef720e15ca7896e8e8d6f98182,openstack/os-brick,stable/stein,I7e761828b3799cef720e15ca7896e8e8d6f98182,rbd: Correct local_attach disconnect test and showmapped arguments,MERGED,2020-06-15 18:29:07.000000000,2020-07-29 16:39:16.000000000,2020-07-29 16:37:17.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-06-15 18:29:07.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4f25b9c92a97410ea83ed89d49018ec3915942ec', 'message': 'rbd: Correct local_attach disconnect test and showmapped arguments\n\nId507109df80391699074773f4787f74507c4b882 introduced the showmapped\ncommand when attempting to disconnect locally attached rbd volumes.\nUnfortunately at the time the test changes incorrectly attempted to\nassert the commands made by using has_calls instead of the valid\nassert_has_calls method.\n\nThis change now corrects this, ensures _get_rbd_args is called to\npopulate all of the required arguments for the showmapped command and\nfinally corrects the name stored within the fake showmapped output in\nthe test.\n\nChange-Id: I7e761828b3799cef720e15ca7896e8e8d6f98182\n(cherry picked from commit 71331b0e06a713a0883f0c1199923e0943adcf09)\n(cherry picked from commit 55cfc975811584bb533211253b8506028dbbb958)\n(cherry picked from commit 0ae0afbb0facbecd8768c6052c9ac1e85d7b6329)\n'}]",0,735650,4f25b9c92a97410ea83ed89d49018ec3915942ec,35,10,1,4523,,,0,"rbd: Correct local_attach disconnect test and showmapped arguments

Id507109df80391699074773f4787f74507c4b882 introduced the showmapped
command when attempting to disconnect locally attached rbd volumes.
Unfortunately at the time the test changes incorrectly attempted to
assert the commands made by using has_calls instead of the valid
assert_has_calls method.

This change now corrects this, ensures _get_rbd_args is called to
populate all of the required arguments for the showmapped command and
finally corrects the name stored within the fake showmapped output in
the test.

Change-Id: I7e761828b3799cef720e15ca7896e8e8d6f98182
(cherry picked from commit 71331b0e06a713a0883f0c1199923e0943adcf09)
(cherry picked from commit 55cfc975811584bb533211253b8506028dbbb958)
(cherry picked from commit 0ae0afbb0facbecd8768c6052c9ac1e85d7b6329)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/50/735650/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,4f25b9c92a97410ea83ed89d49018ec3915942ec,, cmd += self._get_rbd_args(connection_properties),,4,3
openstack%2Fpuppet-nova~master~I9af36bd45f19ad61e9725aaf10deb70cebfe8806,openstack/puppet-nova,master,I9af36bd45f19ad61e9725aaf10deb70cebfe8806,Remove deprecated parameters for failure notifications,MERGED,2020-07-29 00:52:58.000000000,2020-07-29 16:39:10.000000000,2020-07-29 16:37:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 00:52:58.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove-deprecated-opts-for-failure-notification-8525eb14964260fd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eef0bbcaa3a2d7a00d078a190eada9fda75dfa19', 'message': 'Remove deprecated parameters for failure notifications\n\nChange-Id: I9af36bd45f19ad61e9725aaf10deb70cebfe8806\n'}]",0,743650,eef0bbcaa3a2d7a00d078a190eada9fda75dfa19,8,3,1,9816,,,0,"Remove deprecated parameters for failure notifications

Change-Id: I9af36bd45f19ad61e9725aaf10deb70cebfe8806
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/50/743650/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove-deprecated-opts-for-failure-notification-8525eb14964260fd.yaml']",2,eef0bbcaa3a2d7a00d078a190eada9fda75dfa19,cleanup-failure-notification-opts,--- upgrade: - | The following parameters have been removed. - ``nova::notify_api_faults`` - ``nova::notify_on_api_faults`` ,,7,20
openstack%2Fos-brick~stable%2Fstein~Id507109df80391699074773f4787f74507c4b882,openstack/os-brick,stable/stein,Id507109df80391699074773f4787f74507c4b882,rbd: Use showmapped to find the root RBD device during disconnect_volume,MERGED,2020-04-15 10:38:11.000000000,2020-07-29 16:24:19.000000000,2020-07-29 16:22:16.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-04-15 10:38:11.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3ce686a9fa41210fb4c08017220ce063cc869c75', 'message': 'rbd: Use showmapped to find the root RBD device during disconnect_volume\n\nThe original method of unmapping the higher level RBD device found under\n/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to\nthe volume locally. This is due to a symlink being created that points\nto the the decrypted dm-crypt device, breaking any attempt to unmap the\nRBD volume.\n\nTo avoid this we can simply find and unmap the lower level RBD device of\n/dev/rbd*.\n\nChange-Id: Id507109df80391699074773f4787f74507c4b882\n(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)\n(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)\n'}]",2,720179,3ce686a9fa41210fb4c08017220ce063cc869c75,17,7,1,10135,,,0,"rbd: Use showmapped to find the root RBD device during disconnect_volume

The original method of unmapping the higher level RBD device found under
/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to
the volume locally. This is due to a symlink being created that points
to the the decrypted dm-crypt device, breaking any attempt to unmap the
RBD volume.

To avoid this we can simply find and unmap the lower level RBD device of
/dev/rbd*.

Change-Id: Id507109df80391699074773f4787f74507c4b882
(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)
(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/79/720179/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,3ce686a9fa41210fb4c08017220ce063cc869c75,,"from oslo_serialization import jsonutils def _find_root_device(self, connection_properties): """"""Find the underlying /dev/rbd* device for a mapping. Use the showmapped command to list all acive mappings and find the underlying /dev/rbd* device that corresponds to our pool and volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :returns: '/dev/rbd*' or None if no active mapping is found. """""" __, volume = connection_properties['name'].split('/') cmd = ['rbd', 'showmapped', '--format=json'] (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) for index, mapping in jsonutils.loads(out).items(): if mapping['name'] == volume: return mapping['device'] return None root_device = self._find_root_device(connection_properties) if root_device: cmd = ['rbd', 'unmap', root_device] cmd += self._get_rbd_args(connection_properties) self._execute(*cmd, root_helper=self._root_helper, run_as_root=True)"," pool, volume = connection_properties['name'].split('/') dev_name = RBDConnector.get_rbd_device_name(pool, volume) cmd = ['rbd', 'unmap', dev_name] cmd += self._get_rbd_args(connection_properties) self._execute(*cmd, root_helper=self._root_helper, run_as_root=True)",74,11
openstack%2Fkuryr-kubernetes~master~If09c65e895a31daac56afff846861815390a520c,openstack/kuryr-kubernetes,master,If09c65e895a31daac56afff846861815390a520c,Fix coverage environment in tox.,MERGED,2020-07-27 07:49:22.000000000,2020-07-29 16:22:42.000000000,2020-07-29 16:21:05.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-27 07:49:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b53bcf946fe7aa3c08c94e9529d38d67e66d6389', 'message': 'Fix coverage environment in tox.\n\nCurrently, running tox -e coverage will result with error. Shamelessly\nstolen commands from Nova project to fix that.\n\nChange-Id: If09c65e895a31daac56afff846861815390a520c\n'}]",0,743159,b53bcf946fe7aa3c08c94e9529d38d67e66d6389,10,4,1,13692,,,0,"Fix coverage environment in tox.

Currently, running tox -e coverage will result with error. Shamelessly
stolen commands from Nova project to fix that.

Change-Id: If09c65e895a31daac56afff846861815390a520c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/59/743159/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b53bcf946fe7aa3c08c94e9529d38d67e66d6389,coverage-fix,setenv = {[testenv]setenv} PYTHON=coverage run --source kuryr_kubernetes --parallel-mode coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml, rm -f .testrepository/times.dbm python setup.py test --coverage --testr-args={posargs} \ --coverage-package-name=kuryr_kubernetes,8,3
openstack%2Frequirements~master~Ie9c304546c058c895cc42d41ba766e034cdf6e0d,openstack/requirements,master,Ie9c304546c058c895cc42d41ba766e034cdf6e0d,update constraint for oslotest to new release 4.4.0,ABANDONED,2020-06-16 20:46:39.000000000,2020-07-29 16:18:54.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-16 20:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/80585e3feda1cf56550c5d08da7f4b8e6f2eac9d', 'message': 'update constraint for oslotest to new release 4.4.0\n\nChange-Id: Ie9c304546c058c895cc42d41ba766e034cdf6e0d\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I5f2d9e775e166f33dc122a6addad0e48602b55e3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-17 09:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e7be8df86529e3b0ff9621a44a57c823557e06e', 'message': 'update constraint for oslotest to new release 4.4.0\n\nDepends-on: https://review.opendev.org/736143\nDepends-on: https://review.opendev.org/736146\nDepends-on: https://review.opendev.org/714676\nDepends-on: https://review.opendev.org/734442\n\nChange-Id: Ie9c304546c058c895cc42d41ba766e034cdf6e0d\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I5f2d9e775e166f33dc122a6addad0e48602b55e3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-06-17 09:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2a3043698d6b02538b30fca652dc3f5a726f7a3', 'message': 'update constraint for oslotest to new release 4.4.0\n\nDepends-on: https://review.opendev.org/736143\nDepends-on: https://review.opendev.org/736146\nDepends-on: https://review.opendev.org/714676\nDepends-on: https://review.opendev.org/734442\n\nChange-Id: Ie9c304546c058c895cc42d41ba766e034cdf6e0d\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I5f2d9e775e166f33dc122a6addad0e48602b55e3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-06-17 09:54:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ead49ad71c6d6835a619551c9100e60738b8c309', 'message': 'update constraint for oslotest to new release 4.4.0\n\nDepends-on: https://review.opendev.org/736143\nDepends-on: https://review.opendev.org/736146\nDepends-on: https://review.opendev.org/734442\n\nChange-Id: Ie9c304546c058c895cc42d41ba766e034cdf6e0d\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I5f2d9e775e166f33dc122a6addad0e48602b55e3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,736030,ead49ad71c6d6835a619551c9100e60738b8c309,37,4,4,11131,,,0,"update constraint for oslotest to new release 4.4.0

Depends-on: https://review.opendev.org/736143
Depends-on: https://review.opendev.org/736146
Depends-on: https://review.opendev.org/734442

Change-Id: Ie9c304546c058c895cc42d41ba766e034cdf6e0d
meta:version: 4.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I5f2d9e775e166f33dc122a6addad0e48602b55e3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/736030/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,80585e3feda1cf56550c5d08da7f4b8e6f2eac9d,new-release,oslotest===4.4.0,oslotest===4.3.0,1,1
openstack%2Ftripleo-common~stable%2Fussuri~Ibc7ba230bce3464482a91cfea3cc4791544e3abf,openstack/tripleo-common,stable/ussuri,Ibc7ba230bce3464482a91cfea3cc4791544e3abf,Add update and post update tasks to step generated file.,MERGED,2020-07-23 13:55:30.000000000,2020-07-29 16:13:47.000000000,2020-07-29 16:10:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-23 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31ad6a3bd58f6cd2deb42a793af7ad74daa2ed19', 'message': ""Add update and post update tasks to step generated file.\n\nThis will create update_tasks_stepX.yaml for X from 0 to 5 and\npost_update_tasks_stepX.yaml for X from 0 to 3.\n\nThe usuals <ROLE>/post_update_tasks.yaml and <ROLE>/update_tasks.yaml\nare still created so that patch won't break current deployment but it\nwill open the way to load each step file instead of looping over the\nstep.\n\nChange-Id: Ibc7ba230bce3464482a91cfea3cc4791544e3abf\n(cherry picked from commit 642e396f280e3041c8b674fdf22d70b0f857a4ec)\n""}, {'number': 2, 'created': '2020-07-28 08:42:03.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4396f91bf4a3e13dd0da75f7c373d19973010953', 'message': ""Add update and post update tasks to step generated file.\n\nThis will create update_tasks_stepX.yaml for X from 0 to 5 and\npost_update_tasks_stepX.yaml for X from 0 to 3.\n\nThe usuals <ROLE>/post_update_tasks.yaml and <ROLE>/update_tasks.yaml\nare still created so that patch won't break current deployment but it\nwill open the way to load each step file instead of looping over the\nstep.\n\nChange-Id: Ibc7ba230bce3464482a91cfea3cc4791544e3abf\n(cherry picked from commit 642e396f280e3041c8b674fdf22d70b0f857a4ec)\n""}]",0,742675,4396f91bf4a3e13dd0da75f7c373d19973010953,13,6,2,8297,,,0,"Add update and post update tasks to step generated file.

This will create update_tasks_stepX.yaml for X from 0 to 5 and
post_update_tasks_stepX.yaml for X from 0 to 3.

The usuals <ROLE>/post_update_tasks.yaml and <ROLE>/update_tasks.yaml
are still created so that patch won't break current deployment but it
will open the way to load each step file instead of looping over the
step.

Change-Id: Ibc7ba230bce3464482a91cfea3cc4791544e3abf
(cherry picked from commit 642e396f280e3041c8b674fdf22d70b0f857a4ec)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/742675/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,31ad6a3bd58f6cd2deb42a793af7ad74daa2ed19,," 'deploy_steps_tasks': _PER_STEP_TASK_STRICTNESS, 'update_tasks': _PER_STEP_TASK_STRICTNESS, 'post_update_tasks': [False, False, False, False]", 'deploy_steps_tasks': _PER_STEP_TASK_STRICTNESS,3,1
openstack%2Ftripleo-common~stable%2Fussuri~I2033efd47c09707797a4b48a853517d42f584e76,openstack/tripleo-common,stable/ussuri,I2033efd47c09707797a4b48a853517d42f584e76,Add a strict option to per role tasks file generation.,MERGED,2020-07-23 13:55:30.000000000,2020-07-29 16:12:23.000000000,2020-07-29 16:10:56.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-23 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2bda338d472d40386a14996e512a529d134fbe3b', 'message': ""Add a strict option to per role tasks file generation.\n\nFor upgrade and deployment we generate tasks files based on the step\ntasks must run in.\n\nBy default, all tasks that doesn't have a matching conditional are\nincluded in all step files.\n\nWe add a option to be able to control this behavior.\n\nPER_STEP_TASKS becomes a dictionary with key being the current config\ncollected and the value is an array.  Each element of the array map to\nthe steps: element 0 is step0 and so on.  That element tell the\n_write_tasks_per_step function if we include tasks with no\nconditional when it is False or excluded when it is True.\n\nThis structure opens four possibilities:\n\n - allow to have step task of different length: for instance if we\n   want to expand post update tasks which have a length of four (not\n   DEFAULT_STEPS_MAX)\n\n - In testing, we can identify the tasks with no conditional by\n   putting all normal step to strict (set True for every step) and add\n   a extra one set to False.  The extra one will have the steps with\n   no conditional.\n\n - Identify when the conditional matcher in _write_tasks_per_step\n   fails.\n\n - Eventually, set everything to strict to force the developer to\n   properly add conditional to every tasks.\n\nAs it is, the change has no impact and keep the current default\nbehavior.\n\nChange-Id: I2033efd47c09707797a4b48a853517d42f584e76\n(cherry picked from commit 7c67777f4a256bfc8c5285294769671f0922d479)\n""}, {'number': 2, 'created': '2020-07-28 08:42:03.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e56cdbff2e9562668092069d1d3e07a0e80b5da1', 'message': ""Add a strict option to per role tasks file generation.\n\nFor upgrade and deployment we generate tasks files based on the step\ntasks must run in.\n\nBy default, all tasks that doesn't have a matching conditional are\nincluded in all step files.\n\nWe add a option to be able to control this behavior.\n\nPER_STEP_TASKS becomes a dictionary with key being the current config\ncollected and the value is an array.  Each element of the array map to\nthe steps: element 0 is step0 and so on.  That element tell the\n_write_tasks_per_step function if we include tasks with no\nconditional when it is False or excluded when it is True.\n\nThis structure opens four possibilities:\n\n - allow to have step task of different length: for instance if we\n   want to expand post update tasks which have a length of four (not\n   DEFAULT_STEPS_MAX)\n\n - In testing, we can identify the tasks with no conditional by\n   putting all normal step to strict (set True for every step) and add\n   a extra one set to False.  The extra one will have the steps with\n   no conditional.\n\n - Identify when the conditional matcher in _write_tasks_per_step\n   fails.\n\n - Eventually, set everything to strict to force the developer to\n   properly add conditional to every tasks.\n\nAs it is, the change has no impact and keep the current default\nbehavior.\n\nChange-Id: I2033efd47c09707797a4b48a853517d42f584e76\n(cherry picked from commit 7c67777f4a256bfc8c5285294769671f0922d479)\n""}]",0,742674,e56cdbff2e9562668092069d1d3e07a0e80b5da1,11,9,2,8297,,,0,"Add a strict option to per role tasks file generation.

For upgrade and deployment we generate tasks files based on the step
tasks must run in.

By default, all tasks that doesn't have a matching conditional are
included in all step files.

We add a option to be able to control this behavior.

PER_STEP_TASKS becomes a dictionary with key being the current config
collected and the value is an array.  Each element of the array map to
the steps: element 0 is step0 and so on.  That element tell the
_write_tasks_per_step function if we include tasks with no
conditional when it is False or excluded when it is True.

This structure opens four possibilities:

 - allow to have step task of different length: for instance if we
   want to expand post update tasks which have a length of four (not
   DEFAULT_STEPS_MAX)

 - In testing, we can identify the tasks with no conditional by
   putting all normal step to strict (set True for every step) and add
   a extra one set to False.  The extra one will have the steps with
   no conditional.

 - Identify when the conditional matcher in _write_tasks_per_step
   fails.

 - Eventually, set everything to strict to force the developer to
   properly add conditional to every tasks.

As it is, the change has no impact and keep the current default
behavior.

Change-Id: I2033efd47c09707797a4b48a853517d42f584e76
(cherry picked from commit 7c67777f4a256bfc8c5285294769671f0922d479)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/742674/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/config.py']",2,2bda338d472d40386a14996e512a529d134fbe3b,," def _write_tasks_per_step(self, tasks, role, filepath, step, strict=False): def step_in_task(task, step, strict): if not strict: # If no step is defined, it will be executed for all # steps if strict is false return True else: # We only want the task with the step defined. return False # No match if strict: return False tasks_per_step = [task for task in tasks if step_in_task(task, step, strict)] if config in constants.PER_STEP_TASKS.keys(): for i in range(len(constants.PER_STEP_TASKS[config])): self._write_tasks_per_step( role[config], role_name, filepath, i, constants.PER_STEP_TASKS[config][i])"," def _write_tasks_per_step(self, tasks, role, filepath, step): def step_in_task(task, step): # If no step is defined, it will be executed for all # steps. return True tasks_per_step = [task for task in tasks if step_in_task(task, step)] if config in constants.PER_STEP_TASKS: for i in range(constants.DEFAULT_STEPS_MAX): self._write_tasks_per_step(role[config], role_name, filepath, i)",27,11
openstack%2Ftempest~master~I38e445ae3a2b4b3c1bd909becf17504b42636c82,openstack/tempest,master,I38e445ae3a2b4b3c1bd909becf17504b42636c82,Adding description for testcases - network part2,MERGED,2020-04-26 02:43:01.000000000,2020-07-29 16:11:59.000000000,2020-07-29 16:10:06.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-04-26 02:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc1a6df03f3cdb25b2f46b2402714e3c7142adfc', 'message': 'Adding description for testcases - network part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I38e445ae3a2b4b3c1bd909becf17504b42636c82\npartially-implements: blueprint testcase-description\n'}, {'number': 2, 'created': '2020-05-19 06:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50ac19e8ea0baca140dae10566c06eef4d986fac', 'message': 'Adding description for testcases - network part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I38e445ae3a2b4b3c1bd909becf17504b42636c82\npartially-implements: blueprint testcase-description\n'}, {'number': 3, 'created': '2020-05-22 06:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dabcd7d25e30a81c1bb06e8877a00d35e43ba374', 'message': 'Adding description for testcases - network part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I38e445ae3a2b4b3c1bd909becf17504b42636c82\npartially-implements: blueprint testcase-description\n'}, {'number': 4, 'created': '2020-05-22 07:07:42.000000000', 'files': ['tempest/api/network/admin/test_routers.py', 'tempest/api/network/test_service_providers.py', 'tempest/api/network/admin/test_external_network_extension.py', 'tempest/api/network/admin/test_metering_extensions.py', 'tempest/api/network/test_subnetpools_extensions.py', 'tempest/api/network/admin/test_external_networks_negative.py', 'tempest/api/network/admin/test_dhcp_agent_scheduler.py', 'tempest/api/network/test_routers.py', 'tempest/api/network/test_routers_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/05fc4f72b615b782f7117d6f0aa52a3dec1230ed', 'message': 'Adding description for testcases - network part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I38e445ae3a2b4b3c1bd909becf17504b42636c82\npartially-implements: blueprint testcase-description\n'}]",1,723131,05fc4f72b615b782f7117d6f0aa52a3dec1230ed,24,7,4,20190,,,0,"Adding description for testcases - network part2

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I38e445ae3a2b4b3c1bd909becf17504b42636c82
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/723131/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/admin/test_routers.py', 'tempest/api/network/test_service_providers.py', 'tempest/api/network/admin/test_external_network_extension.py', 'tempest/api/network/admin/test_metering_extensions.py', 'tempest/api/network/test_subnetpools_extensions.py', 'tempest/api/network/admin/test_external_networks_negative.py', 'tempest/api/network/admin/test_dhcp_agent_scheduler.py', 'tempest/api/network/test_routers.py', 'tempest/api/network/test_routers_negative.py']",9,dc1a6df03f3cdb25b2f46b2402714e3c7142adfc,bp/testcase-description," """"""Negative tests of routers"""""" """"""Test adding gateway with invalid network for router"""""" """"""Test adding gateway with not external network for router"""""" """"""Test adding router interface which is on overlapping subnets"""""" """"""Test removing in-use interface from router"""""" """"""Test showing non existent router"""""" """"""Test updating non existent router"""""" """"""Test deleting non existent router"""""" """"""Negative tests of DVR router"""""" """"""Non admin user is not allowed to create distributed router""""""",,65,13
openstack%2Fmanila~stable%2Fstein~Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9,openstack/manila,stable/stein,Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9,Update LVM volume extend,MERGED,2020-07-29 10:05:22.000000000,2020-07-29 16:00:29.000000000,2020-07-29 15:52:37.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-29 10:05:22.000000000', 'files': ['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e378f44598a9a2560f35948e108bc03f2bbb0adb', 'message': ""Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nDue to an issue with Gerrit, we're unable\nto preserve the Change-ID for this change.\nThe change-id in stable/ussuri and in the\nmain branch is I67ac549e790322c56d02db4424ec01a5449e6633\n\nCloses-bug: #1887694\nChange-Id: Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9\n(cherry picked from commit c94e1deff1bde93d4167ceeb9dafc494d12cd60c)\n(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)\n(cherry picked from commit 2063c93c078c990f4865994dc0221662cbc4c5d5)\n""}]",0,743711,e378f44598a9a2560f35948e108bc03f2bbb0adb,11,4,1,9003,,,0,"Update LVM volume extend

- do *not* skip fsck when extending
- have extend resize the filesystem itself
  rather than making a separate execution
  of ``resize2fs``

Due to an issue with Gerrit, we're unable
to preserve the Change-ID for this change.
The change-id in stable/ussuri and in the
main branch is I67ac549e790322c56d02db4424ec01a5449e6633

Closes-bug: #1887694
Change-Id: Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9
(cherry picked from commit c94e1deff1bde93d4167ceeb9dafc494d12cd60c)
(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)
(cherry picked from commit 2063c93c078c990f4865994dc0221662cbc4c5d5)
",git fetch https://review.opendev.org/openstack/manila refs/changes/11/743711/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",2,e378f44598a9a2560f35948e108bc03f2bbb0adb,bug/1887694," cmd = ['lvextend', '-L', '%sG' % size, '-r', device_name]"," cmd = ['lvextend', '-L', '%sG' % size, '-n', device_name] self._execute('resize2fs', device_name, run_as_root=True)",2,5
openstack%2Fopenstack-helm~master~I2e431bf3a34f40f58254e4f2b61554453471e0de,openstack/openstack-helm,master,I2e431bf3a34f40f58254e4f2b61554453471e0de,feat(tls): keystone domain manage script to pass cert,MERGED,2020-07-29 13:24:50.000000000,2020-07-29 15:57:48.000000000,2020-07-29 15:56:21.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}]","[{'number': 1, 'created': '2020-07-29 13:24:50.000000000', 'files': ['keystone/templates/bin/_domain-manage.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c12ada72241cf7e4788ccc2bcd0e13eb4177f850', 'message': 'feat(tls): keystone domain manage script to pass cert\n\nThis patch add capability to pass certificate in request method.\n\nChange-Id: I2e431bf3a34f40f58254e4f2b61554453471e0de\n'}]",2,743758,c12ada72241cf7e4788ccc2bcd0e13eb4177f850,11,5,1,24780,,,0,"feat(tls): keystone domain manage script to pass cert

This patch add capability to pass certificate in request method.

Change-Id: I2e431bf3a34f40f58254e4f2b61554453471e0de
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/743758/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/bin/_domain-manage.py.tpl'],1,c12ada72241cf7e4788ccc2bcd0e13eb4177f850,,"import os verify = os.getenv('OS_CACERT', True) response = requests.request(""GET"", url, headers=headers, verify=verify) headers=headers, verify=verify)"," response = requests.request(""GET"", url, headers=headers) headers=headers)",5,2
openstack%2Fpython-ironic-inspector-client~master~Id8d2d3621385e0ef982a531609ce8c02739987a5,openstack/python-ironic-inspector-client,master,Id8d2d3621385e0ef982a531609ce8c02739987a5,Support retrieving unprocessed data,MERGED,2020-07-28 12:13:27.000000000,2020-07-29 15:44:08.000000000,2020-07-29 15:42:25.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-07-28 12:13:27.000000000', 'files': ['ironic_inspector_client/v1.py', 'releasenotes/notes/unprocessed-7ebb1c48427bfee4.yaml', 'doc/source/cli/index.rst', 'ironic_inspector_client/test/test_v1.py', 'ironic_inspector_client/test/test_shell.py', 'ironic_inspector_client/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/0f65bcf699681af7d566eaa9355cb0ace334b9eb', 'message': 'Support retrieving unprocessed data\n\nChange-Id: Id8d2d3621385e0ef982a531609ce8c02739987a5\nDepends-On: https://review.opendev.org/743504\n'}]",0,743518,0f65bcf699681af7d566eaa9355cb0ace334b9eb,10,5,1,10239,,,0,"Support retrieving unprocessed data

Change-Id: Id8d2d3621385e0ef982a531609ce8c02739987a5
Depends-On: https://review.opendev.org/743504
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/18/743518/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_client/v1.py', 'releasenotes/notes/unprocessed-7ebb1c48427bfee4.yaml', 'doc/source/cli/index.rst', 'ironic_inspector_client/test/test_v1.py', 'ironic_inspector_client/test/test_shell.py', 'ironic_inspector_client/shell.py']",6,0f65bcf699681af7d566eaa9355cb0ace334b9eb,unprocessed," parser.add_argument('--unprocessed', action='store_true', help=""download the unprocessed data"") raw=bool(parsed_args.file), processed=not parsed_args.unprocessed)", raw=bool(parsed_args.file)),47,6
openstack%2Ftacker~master~I7f2a36cd67eeea5497adc4d38efffd0230e90ec9,openstack/tacker,master,I7f2a36cd67eeea5497adc4d38efffd0230e90ec9,Fix: flavour_description is not updated when instantiating,MERGED,2020-06-15 05:19:04.000000000,2020-07-29 15:38:19.000000000,2020-07-29 15:36:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}]","[{'number': 1, 'created': '2020-06-15 05:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b59c0696e3b1477fdf7c71e281bfa4d340e6ae68', 'message': 'Fix: flavour_description is not updated when instantiating\n\n""flavour_description"" and other proerties for top-level VNF\nshould be updated in instantiation. Otherwise, it may fail\nwith the default of """" (empty string).\n\nThis patch fixes the issue for updating the properties in\ninstantiation and adds a UT case for vnflcm.utils.\n\nChange-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9\nCloses-Bug: #1882869\n'}, {'number': 2, 'created': '2020-07-14 05:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d75b4fa186141186cccbe3e23daea09b621ebe63', 'message': 'Fix: flavour_description is not updated when instantiating\n\n""flavour_description"" and other properties for top-level VNFD\nshould be updated in instantiation. Otherwise, it may fail\nwith the default of """" (empty string).\n\nThis patch fixes the issue for updating the properties in\ninstantiation and adds a UT case for vnflcm.utils.\n\nChange-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9\nCloses-Bug: #1882869\n'}, {'number': 3, 'created': '2020-07-14 05:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d85a112c48b22a40c3babef29359cd94f5e4fb0d', 'message': 'Fix: flavour_description is not updated when instantiating\n\n""flavour_description"" and other properties for top-level VNFD\nshould be updated in instantiation. Otherwise, it may fail\nwith the default of """" (empty string).\n\nThis patch fixes the issue for updating the properties in\ninstantiation and adds a UT case for vnflcm.utils.\n\nChange-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9\nCloses-Bug: #1882869\n'}, {'number': 4, 'created': '2020-07-17 07:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3a4c4828d6c55c08f6ae480edc759bf357d654f0', 'message': 'Fix: flavour_description is not updated when instantiating\n\n""flavour_description"" and other properties for top-level VNFD\nshould be updated in instantiation. Otherwise, it may fail\nwith the default of """" (empty string).\n\nThis patch fixes the issue for updating the properties in\ninstantiation and adds a UT case for vnflcm.utils.\n\nChange-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9\nCloses-Bug: #1882869\n'}, {'number': 5, 'created': '2020-07-20 05:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7d00d30ecda85bfa09c501114915d021a5d8f947', 'message': 'Fix: flavour_description is not updated when instantiating\n\n""flavour_description"" and other properties for top-level VNFD\nshould be updated in instantiation. Otherwise, it may fail\nwith the default of """" (empty string).\n\nThis patch fixes the issue for updating the properties in\ninstantiation and adds a UT case for vnflcm.utils.\n\nChange-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9\nCloses-Bug: #1882869\n'}, {'number': 6, 'created': '2020-07-27 03:11:15.000000000', 'files': ['tacker/vnflcm/utils.py', 'tacker/tests/unit/vnflcm/test_utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2274c780be7421ea5af6ac9fc6908b1c14bcb0a4', 'message': 'Fix: flavour_description is not updated when instantiating\n\n""flavour_description"" and other properties for top-level VNFD\nshould be updated in instantiation. Otherwise, it may fail\nwith the default of """" (empty string).\n\nThis patch fixes the issue for updating the properties in\ninstantiation and adds a UT case for vnflcm.utils.\n\nChange-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9\nCloses-Bug: #1882869\n'}]",19,735500,2274c780be7421ea5af6ac9fc6908b1c14bcb0a4,32,6,6,27880,,,0,"Fix: flavour_description is not updated when instantiating

""flavour_description"" and other properties for top-level VNFD
should be updated in instantiation. Otherwise, it may fail
with the default of """" (empty string).

This patch fixes the issue for updating the properties in
instantiation and adds a UT case for vnflcm.utils.

Change-Id: I7f2a36cd67eeea5497adc4d38efffd0230e90ec9
Closes-Bug: #1882869
",git fetch https://review.opendev.org/openstack/tacker refs/changes/00/735500/5 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnflcm/utils.py', 'tacker/tests/unit/vnflcm/test_utils.py']",2,b59c0696e3b1477fdf7c71e281bfa4d340e6ae68,bug/1882869," def test_get_param_data_with_flavour_description(self): vnfd_dict = fakes.get_vnfd_dict() vnfd_dict.update({'imports': []}) instantiate_vnf_req = fakes.get_instantiate_vnf_request_obj() param_value = vnflcm_utils._get_param_data(vnfd_dict, instantiate_vnf_req) expected_flavour_description = 'A simple flavor' self.assertEqual(expected_flavour_description, param_value['flavour_description'])",,27,1
openstack%2Ftempest~master~Ia6c3ba8e7ff220be0b0b9bcd64ae2680bec75c4a,openstack/tempest,master,Ia6c3ba8e7ff220be0b0b9bcd64ae2680bec75c4a,Adding description for testcases - identity part4,MERGED,2020-04-29 02:10:22.000000000,2020-07-29 15:35:50.000000000,2020-07-29 15:34:26.000000000,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-04-29 02:10:22.000000000', 'files': ['tempest/api/identity/admin/v3/test_credentials.py', 'tempest/api/identity/admin/v3/test_endpoints_negative.py', 'tempest/api/identity/admin/v3/test_trusts.py', 'tempest/api/identity/admin/v3/test_users_negative.py', 'tempest/api/identity/admin/v3/test_domain_configuration.py', 'tempest/api/identity/admin/v3/test_inherits.py', 'tempest/api/identity/admin/v3/test_groups.py', 'tempest/api/identity/admin/v3/test_application_credentials.py', 'tempest/api/identity/admin/v3/test_endpoint_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/23925882003df98efec750d1d5ff63f6e7b3466c', 'message': 'Adding description for testcases - identity part4\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Ia6c3ba8e7ff220be0b0b9bcd64ae2680bec75c4a\npartially-implements: blueprint testcase-description\n'}]",0,724210,23925882003df98efec750d1d5ff63f6e7b3466c,10,5,1,20190,,,0,"Adding description for testcases - identity part4

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: Ia6c3ba8e7ff220be0b0b9bcd64ae2680bec75c4a
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/724210/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_credentials.py', 'tempest/api/identity/admin/v3/test_endpoints_negative.py', 'tempest/api/identity/admin/v3/test_domain_configuration.py', 'tempest/api/identity/admin/v3/test_trusts.py', 'tempest/api/identity/admin/v3/test_users_negative.py', 'tempest/api/identity/admin/v3/test_inherits.py', 'tempest/api/identity/admin/v3/test_groups.py', 'tempest/api/identity/admin/v3/test_application_credentials.py', 'tempest/api/identity/admin/v3/test_endpoint_groups.py']",9,23925882003df98efec750d1d5ff63f6e7b3466c,bp/testcase-description," """"""Test endpoint groups"""""" """"""Test create/list/show/check/delete of endpoint group"""""" """"""Test updating endpoint group""""""",,77,19
openstack%2Fpuppet-openstack-integration~master~Ifac2f574c735f033b0ca99d0692659356cea712b,openstack/puppet-openstack-integration,master,Ifac2f574c735f033b0ca99d0692659356cea712b,Updated from Puppet OpenStack modules constraints,MERGED,2020-07-29 06:17:45.000000000,2020-07-29 15:32:19.000000000,2020-07-29 15:32:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 06:17:45.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/576cbecdd03e460c04e99a8c62cf176a82bef962', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ifac2f574c735f033b0ca99d0692659356cea712b\n'}]",0,743681,576cbecdd03e460c04e99a8c62cf176a82bef962,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ifac2f574c735f033b0ca99d0692659356cea712b
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/81/743681/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,576cbecdd03e460c04e99a8c62cf176a82bef962,openstack/puppet/constraints, :ref => 'v2.5.0', :ref => 'v2.4.0',1,1
openstack%2Fopenstack-helm~master~I07dfb5bb55a86b34ff0c1af3b5c183efdc0c892a,openstack/openstack-helm,master,I07dfb5bb55a86b34ff0c1af3b5c183efdc0c892a,Use default stein OPENSTACK_RELEASE for client setup,MERGED,2020-07-27 20:13:24.000000000,2020-07-29 15:26:51.000000000,2020-07-29 15:24:56.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28719}]","[{'number': 1, 'created': '2020-07-27 20:13:24.000000000', 'files': ['tools/deployment/common/setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3aa712e818c98ff51de53f0f75f3e38487e8a5c2', 'message': 'Use default stein OPENSTACK_RELEASE for client setup\n\nChange-Id: I07dfb5bb55a86b34ff0c1af3b5c183efdc0c892a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,743395,3aa712e818c98ff51de53f0f75f3e38487e8a5c2,9,4,1,8863,,,0,"Use default stein OPENSTACK_RELEASE for client setup

Change-Id: I07dfb5bb55a86b34ff0c1af3b5c183efdc0c892a
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/743395/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/setup-client.sh'],1,3aa712e818c98ff51de53f0f75f3e38487e8a5c2,, -c${UPPER_CONSTRAINTS_FILE:=https://releases.openstack.org/constraints/upper/${OPENSTACK_RELEASE:-stein}} \, -c${UPPER_CONSTRAINTS_FILE:=https://releases.openstack.org/constraints/upper/${OPENSTACK_RELEASE}} \,1,1
openstack%2Fmanila~stable%2Ftrain~I58603032fb215ac0be2f76c8cd9fbce775be41dd,openstack/manila,stable/train,I58603032fb215ac0be2f76c8cd9fbce775be41dd,[devstack][ci] Stop requiring g-reg service,ABANDONED,2020-05-20 16:13:36.000000000,2020-07-29 15:25:56.000000000,,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-05-20 16:13:36.000000000', 'files': ['doc/source/contributor/development-environment-devstack.rst', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run-ipv6.yaml', 'devstack/plugin.sh', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/ed21972e74162e23913cd86d89b1583bd986fe4d', 'message': ""[devstack][ci] Stop requiring g-reg service\n\nWhen using manila's devstack plugin, we pull down\nthe latest manila testing image created with the\nmanila-image-elements project, and upload it to the\nstack's Glance/Image service.\n\nGlance's V2 API no longer needs g-reg which was a\nlegacy database proxy service for the older glance\nAPI. Our devstack plugin should not have a hard\ndependency on this service.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2016-May/094773.html\n[2] https://specs.openstack.org/openstack/glance-specs/specs/newton/approved/glance/deprecate-registry.html\n\nChange-Id: I58603032fb215ac0be2f76c8cd9fbce775be41dd\nCloses-Bug: #1859847\n(cherry picked from commit ffb283a04a27d87ff7f9c74ead7778efb68b0255)\n(cherry picked from commit 58105a2d68a3530d13f262b9604500eab3a3c941)\n""}]",0,729647,ed21972e74162e23913cd86d89b1583bd986fe4d,17,4,1,16643,,,0,"[devstack][ci] Stop requiring g-reg service

When using manila's devstack plugin, we pull down
the latest manila testing image created with the
manila-image-elements project, and upload it to the
stack's Glance/Image service.

Glance's V2 API no longer needs g-reg which was a
legacy database proxy service for the older glance
API. Our devstack plugin should not have a hard
dependency on this service.

[1] http://lists.openstack.org/pipermail/openstack-dev/2016-May/094773.html
[2] https://specs.openstack.org/openstack/glance-specs/specs/newton/approved/glance/deprecate-registry.html

Change-Id: I58603032fb215ac0be2f76c8cd9fbce775be41dd
Closes-Bug: #1859847
(cherry picked from commit ffb283a04a27d87ff7f9c74ead7778efb68b0255)
(cherry picked from commit 58105a2d68a3530d13f262b9604500eab3a3c941)
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/729647/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/development-environment-devstack.rst', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run-ipv6.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'devstack/plugin.sh', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml']",5,ed21972e74162e23913cd86d89b1583bd986fe4d,bug/1859847," OVERRIDE_ENABLED_SERVICES+=,g-api"," OVERRIDE_ENABLED_SERVICES+=,g-api,g-reg",6,8
openstack%2Fneutron~master~I7d0aa51468dbd2c298395c3dccd8f222e87032d8,openstack/neutron,master,I7d0aa51468dbd2c298395c3dccd8f222e87032d8,[ovn]: port forwarding -- IDL changes,MERGED,2020-07-14 16:29:39.000000000,2020-07-29 15:22:29.000000000,2020-07-29 15:20:21.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-14 16:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/188ee5156d8c284b82dee528394dce6ab292f22f', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 2, 'created': '2020-07-14 16:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d78056576162d17538c68f2b8c532865d524a44a', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 3, 'created': '2020-07-15 16:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1101e31c7ddfc8713c25de5f27b66f2d83c8e24', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 4, 'created': '2020-07-15 16:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23e30f65b3584f795e4dfcea982f984fb8b568d3', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 5, 'created': '2020-07-15 19:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bff91885e9a18825b7ce9eaa85fa2fa745c71e6c', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 6, 'created': '2020-07-15 22:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46ca528f3fa3c01510810c6c411f9be1c7628d04', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 7, 'created': '2020-07-20 15:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4a77163cabcaeba9350b393d6169dd6688aff14', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 8, 'created': '2020-07-20 15:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8befc3493bd811869a1c17ceaee0a8fcef917c2', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 9, 'created': '2020-07-20 17:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21ea9534f248d3ca79b13cf118d0fd9723c3ddc4', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 10, 'created': '2020-07-21 10:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca00b84dbbf4c7301e0d1c296f468de1539f3f9', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 11, 'created': '2020-07-21 10:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/177900c4a5f9764dcd428b4fd518627def58d939', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 12, 'created': '2020-07-23 00:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bccb4c0754d5bc0f2b402e5254d22eb3be7a00c', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 13, 'created': '2020-07-23 00:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2b1f898dc064bd3675e965146b311eb62e579b8', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 14, 'created': '2020-07-24 09:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce144cd4063f561aba93e80df09f14778240d7b3', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 15, 'created': '2020-07-26 13:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d2b9dfda45813a5e88cea330b174649e5769d16', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 16, 'created': '2020-07-27 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8b7a3084e1553b465544df91e9bf225b42cc2dd', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 17, 'created': '2020-07-27 23:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f93cbbc4bc71a8ec5f519a2c621e7e865f1651e2', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 18, 'created': '2020-07-27 23:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fd04a620b15699837c4b6c5023717a0dad45a97', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 19, 'created': '2020-07-28 01:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c7e345186d273370cc11f9ab3744def255ef8b9', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 20, 'created': '2020-07-28 02:15:10.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/597bb0d1877f92f9300d7d337bb9920ac82cab9a', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}]",37,741000,597bb0d1877f92f9300d7d337bb9920ac82cab9a,129,11,20,11952,,,0,"[ovn]: port forwarding -- IDL changes

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset covers the additions to northbound api needed for
handling load balancer entries created on behalf of port forwarding.

Depends-On: https://review.opendev.org/#/c/729354/
Change-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/741000/20 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",4,188ee5156d8c284b82dee528394dce6ab292f22f,ovn/port_forwarding," class UpdateLbExternalIds(command.BaseCommand): def __init__(self, api, lb_name, values, if_exists): super(UpdateLbExternalIds, self).__init__(api) self.lb_name = lb_name self.values = values self.if_exists = if_exists def run_idl(self, txn): lb_row = self.api.lookup('Load_Balancer', self.lb_name, None) if not lb_row: if self.if_exists: return msg = ""Load Balancer %s does not exist"" % self.lb_name raise RuntimeError(msg) for key, value in self.values.items(): lb_row.setkey('external_ids', key, value)",,73,0
openstack%2Ftripleo-common~master~Ic0bfdec756a23460f9257e78c508d167d21f0792,openstack/tripleo-common,master,Ic0bfdec756a23460f9257e78c508d167d21f0792,container-images: add librados2 to gnocchi-base,MERGED,2020-07-27 15:49:09.000000000,2020-07-29 15:17:58.000000000,2020-07-29 15:13:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-27 15:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e6e6862cf9a9047a6219fa6332e5397dbc94544', 'message': 'WIP - container-images: add librados2 to gnocchi-base\n\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n'}, {'number': 2, 'created': '2020-07-28 11:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/303147039b4aaa9b4e09d94d01345b4555737f1d', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n'}, {'number': 3, 'created': '2020-07-28 12:01:14.000000000', 'files': ['container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c6e680e180f457b8b9085d503ea8e8b6ccdad90d', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n'}]",0,743263,c6e680e180f457b8b9085d503ea8e8b6ccdad90d,23,13,3,3153,,,0,"container-images: add librados2 to gnocchi-base

This package is needed so the right dependencies are installed in the
gnocchi base container images and db_sync can run fine when ceph is
used as a backend.


Partial-Bug: #1889192
Change-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/743263/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml'],1,2e6e6862cf9a9047a6219fa6332e5397dbc94544,librados2, - librados2,,1,0
openstack%2Ftripleo-common~master~Ic911bb6d999caf2dc4afd4cff3d44047c03dc8e4,openstack/tripleo-common,master,Ic911bb6d999caf2dc4afd4cff3d44047c03dc8e4,Switch 55-heat-config to async,MERGED,2020-07-28 20:09:18.000000000,2020-07-29 15:15:00.000000000,2020-07-29 15:13:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 20:09:18.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/43aaaaa1190d7f5e808c906e82abcf116e0508c9', 'message': ""Switch 55-heat-config to async\n\nIf while a task is executing the ssh connection is severed, ansible will\nautomagically rerun the command under the covers. This causes problems\nfor long running 55-heat-config tasks as first process may have written\nout the deployed json but not the notify.json that we use use to\ndetermine if it was successful or not. This can lead to a failure\nbecause the process either never runs to completion.  This change\nswitches the execution to always be run async to ensure that ssh\ninterruptions won't cause inconsistent failures.\n\nWe previously saw a similar issue when invoking the NetworkDeployments\nusing this process. We've moved the network configurations to the\nNetworkConfig task in THT/common/deploy-steps.j2 but this code is still\nused to invoked with OS::Heat::SoftwareDeploymentGroup\n\nChange-Id: Ic911bb6d999caf2dc4afd4cff3d44047c03dc8e4\nRelated-Bug: #1792343\nCloses-Bug: #1887846\n""}]",0,743626,43aaaaa1190d7f5e808c906e82abcf116e0508c9,11,4,1,14985,,,0,"Switch 55-heat-config to async

If while a task is executing the ssh connection is severed, ansible will
automagically rerun the command under the covers. This causes problems
for long running 55-heat-config tasks as first process may have written
out the deployed json but not the notify.json that we use use to
determine if it was successful or not. This can lead to a failure
because the process either never runs to completion.  This change
switches the execution to always be run async to ensure that ssh
interruptions won't cause inconsistent failures.

We previously saw a similar issue when invoking the NetworkDeployments
using this process. We've moved the network configurations to the
NetworkConfig task in THT/common/deploy-steps.j2 but this code is still
used to invoked with OS::Heat::SoftwareDeploymentGroup

Change-Id: Ic911bb6d999caf2dc4afd4cff3d44047c03dc8e4
Related-Bug: #1792343
Closes-Bug: #1887846
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/743626/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,43aaaaa1190d7f5e808c906e82abcf116e0508c9,bug/1887846," async: ""{{ async_timeout | default(1800) }}"" when: not ansible_check_mode|bool","- name: Set fact for async_deployment set_fact: use_async_deployment: ""{{ (async_deployment | default(False)) or (item == 'NetworkDeployment') }}"" - name: ""Run deployment {{ item }}"" shell: | /usr/libexec/os-refresh-config/configure.d/55-heat-config timeout 20 bash -c -- 'while [ ! -f /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json ]; do sleep 1; done' exit $(jq .deploy_status_code /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json) become: true environment: HEAT_SHELL_CONFIG: /var/lib/heat-config/tripleo-config-download/{{ item ~ '-' ~ deployment_uuid }} register: deployment_sync_result ignore_errors: yes when: not use_async_deployment|bool timeout 20 bash -c -- 'while [ ! -f /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json ]; do sleep 1; done' when: use_async_deployment|bool async: ""{{ async_timeout | default(300) }}""- name: ""Output for sync deployment {{ item }}"" debug: msg: - stderr: ""{{ deployment_sync_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_sync_result.rc }}"" tags: - output failed_when: deployment_sync_result.rc != 0 when: not ansible_check_mode|bool and not use_async_deployment|bool when: not ansible_check_mode|bool and use_async_deployment|bool",2,30
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If249bbe8e93075d37e84cc050767515b89345020,openstack/tripleo-heat-templates,stable/ussuri,If249bbe8e93075d37e84cc050767515b89345020,Add missing config_files kolla directives,MERGED,2020-07-26 19:29:46.000000000,2020-07-29 14:59:05.000000000,2020-07-29 14:59:05.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-26 19:29:46.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bad56a5fddb4df595214337dd699aba649eece3b', 'message': ""Add missing config_files kolla directives\n\nThis is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b\nwhich didn't add the config_files instructions to copy the\nconfig files.\n\nCloses-Bug: #1887644\nResolves: rhbz#1853268\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\nDepends-On: https://review.opendev.org/731383\n(cherry picked from commit 86d5adf3afae9028c22f77a760df505fe66d98c3)\n""}]",0,743068,bad56a5fddb4df595214337dd699aba649eece3b,24,10,1,14250,,,0,"Add missing config_files kolla directives

This is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b
which didn't add the config_files instructions to copy the
config files.

Closes-Bug: #1887644
Resolves: rhbz#1853268
Change-Id: If249bbe8e93075d37e84cc050767515b89345020
Depends-On: https://review.opendev.org/731383
(cherry picked from commit 86d5adf3afae9028c22f77a760df505fe66d98c3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/743068/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,bad56a5fddb4df595214337dd699aba649eece3b,fix-novajoin-config-stable/ussuri," config_files: - source: ""/var/lib/kolla/config_files/src/etc/novajoin/join.conf"" dest: ""/etc/novajoin/"" merge: false preserve_properties: true config_files: - source: ""/var/lib/kolla/config_files/src/etc/novajoin/join.conf"" dest: ""/etc/novajoin/"" merge: false preserve_properties: true",,10,0
openstack%2Ftripleo-ansible~master~I80041738df05dbe0da678efa91e861390ad4657e,openstack/tripleo-ansible,master,I80041738df05dbe0da678efa91e861390ad4657e,tripleo_states: change wording,MERGED,2020-07-28 14:05:30.000000000,2020-07-29 14:48:35.000000000,2020-07-29 14:42:26.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 14:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1875dad1b13284076647ec7856e010ecf6562c0', 'message': 'tripleo_states: change wording\n\nChange the wording to replace ""This or these node(s) failed to deploy""\nby ""This or these node(s) had failures""; failures can happen at a\ndifferent level (not necessarily deploy). Update the wording to avoid\nany confusion.\n\nChange-Id: I80041738df05dbe0da678efa91e861390ad4657e\nRelated-Bug: #1889212\n'}, {'number': 2, 'created': '2020-07-28 17:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ffe754b1ec3ce2b7b457dc2daa2bf5c55591e7d', 'message': 'tripleo_states: change wording\n\nChange the wording to replace ""This or these node(s) failed to deploy""\nby ""This or these node(s) had failures""; failures can happen at a\ndifferent level (not necessarily deploy). Update the wording to avoid\nany confusion.\n\nChange-Id: I80041738df05dbe0da678efa91e861390ad4657e\nRelated-Bug: #1889212\n'}, {'number': 3, 'created': '2020-07-28 17:27:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_states.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1969830e095401040be66bf245d91d20a08b221', 'message': 'tripleo_states: change wording\n\nChange the wording to replace ""This or these node(s) failed to deploy""\nby ""The following node(s) had failures:""; failures can happen at a\ndifferent level (not necessarily deploy). Update the wording to avoid\nany confusion.\n\nChange-Id: I80041738df05dbe0da678efa91e861390ad4657e\nRelated-Bug: #1889212\n'}]",1,743549,f1969830e095401040be66bf245d91d20a08b221,15,4,3,3153,,,0,"tripleo_states: change wording

Change the wording to replace ""This or these node(s) failed to deploy""
by ""The following node(s) had failures:""; failures can happen at a
different level (not necessarily deploy). Update the wording to avoid
any confusion.

Change-Id: I80041738df05dbe0da678efa91e861390ad4657e
Related-Bug: #1889212
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/743549/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_states.py'],1,d1875dad1b13284076647ec7856e010ecf6562c0,state/undercloud, fail_msg = ' This or these node(s) had failures: ' + \, fail_msg = ' This or these node(s) failed to deploy: ' + \,1,1
openstack%2Fironic-inspector~master~I3c0070d0c1f5d12e98f914be44f4ed52b01ea043,openstack/ironic-inspector,master,I3c0070d0c1f5d12e98f914be44f4ed52b01ea043,Add support for retrieving unprocessed data,MERGED,2020-07-28 10:19:33.000000000,2020-07-29 14:42:55.000000000,2020-07-29 14:40:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-07-28 10:19:33.000000000', 'files': ['releasenotes/notes/unprocessed-07842e56eb60e253.yaml', 'ironic_inspector/main.py', 'ironic_inspector/test/functional.py', 'doc/source/user/http-api.rst', 'ironic_inspector/test/unit/test_main.py', 'api-ref/source/introspection-api-v1-introspection-management.inc'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/cc7fcf43324b218caf763c5e79e1665af43c0a0a', 'message': 'Add support for retrieving unprocessed data\n\nChange-Id: I3c0070d0c1f5d12e98f914be44f4ed52b01ea043\n'}]",0,743504,cc7fcf43324b218caf763c5e79e1665af43c0a0a,9,4,1,10239,,,0,"Add support for retrieving unprocessed data

Change-Id: I3c0070d0c1f5d12e98f914be44f4ed52b01ea043
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/04/743504/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/unprocessed-07842e56eb60e253.yaml', 'ironic_inspector/main.py', 'ironic_inspector/test/functional.py', 'doc/source/user/http-api.rst', 'ironic_inspector/test/unit/test_main.py', 'api-ref/source/introspection-api-v1-introspection-management.inc']",6,cc7fcf43324b218caf763c5e79e1665af43c0a0a,unprocessed,"Get Unprocessed Introspection data ================================== .. rest_method:: GET /v1/introspection/{node_id}/data/unprocessed Return stored raw (unprocessed) data from introspection. .. versionadded:: 1.17 Unprocessed introspection data can now be retrieved. .. note:: We do not provide any backward compatibility guarantees regarding the format and contents of the stored data. Notably, it depends on the ramdisk used and plugins enabled both in the ramdisk and in inspector itself. Normal response codes: 200 Error codes: * 400 - bad request * 401, 403 - missing or invalid authentication * 404 - data cannot be found or data storage not configured Request ------- .. rest_parameters:: parameters.yaml - node_id: node_id Response -------- The response will contain introspection data in the form of json string. **Example JSON representation of an introspection data:** .. literalinclude:: samples/api-v1-data-introspection-response.json :language: javascript ",,114,7
openstack%2Frpm-packaging~master~I03a82bf5c401189c80b0e3ef243233fc5eb56d7b,openstack/rpm-packaging,master,I03a82bf5c401189c80b0e3ef243233fc5eb56d7b,tooz: update to 2.7.0,MERGED,2020-07-29 09:52:35.000000000,2020-07-29 14:38:36.000000000,2020-07-29 14:38:36.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 09:52:35.000000000', 'files': ['openstack/tooz/tooz.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a496306b2b50c286a0ee98eaa89abd10c9477fde', 'message': 'tooz: update to 2.7.0\n\nThis seems to be needed by ironic now\n\nChange-Id: I03a82bf5c401189c80b0e3ef243233fc5eb56d7b\n'}]",0,743707,a496306b2b50c286a0ee98eaa89abd10c9477fde,11,6,1,6593,,,0,"tooz: update to 2.7.0

This seems to be needed by ironic now

Change-Id: I03a82bf5c401189c80b0e3ef243233fc5eb56d7b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/07/743707/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tooz/tooz.spec.j2'],1,a496306b2b50c286a0ee98eaa89abd10c9477fde,,{% set upstream_version = upstream_version('2.7.0') %},{% set upstream_version = upstream_version('2.6.0') %},1,1
openstack%2Ftripleo-operator-ansible~master~I271129d96637e8c76dae0c74959bbc681e0e1613,openstack/tripleo-operator-ansible,master,I271129d96637e8c76dae0c74959bbc681e0e1613,Generate reproducer script for tripleo_overcloud_node_provision,MERGED,2020-07-29 07:54:39.000000000,2020-07-29 14:36:51.000000000,2020-07-29 14:36:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 07:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b072a7e21760aebafb76650ddbb7667d952730f3', 'message': ""Generate reproducer script for tripleo_overcloud_node_provision\n\nMost of the options were present, but not the actual task. Let's correct\nthis!\n\nChange-Id: I271129d96637e8c76dae0c74959bbc681e0e1613\n""}, {'number': 2, 'created': '2020-07-29 08:40:43.000000000', 'files': ['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7977e21a2aab5b6c5096b56b6d3e383977ecd0ba', 'message': ""Generate reproducer script for tripleo_overcloud_node_provision\n\nMost of the options were present, but not the actual task. Let's correct\nthis!\n\nChange-Id: I271129d96637e8c76dae0c74959bbc681e0e1613\n""}]",0,743686,7977e21a2aab5b6c5096b56b6d3e383977ecd0ba,9,5,2,28223,,,0,"Generate reproducer script for tripleo_overcloud_node_provision

Most of the options were present, but not the actual task. Let's correct
this!

Change-Id: I271129d96637e8c76dae0c74959bbc681e0e1613
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/86/743686/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml']",2,b072a7e21760aebafb76650ddbb7667d952730f3,node_provision-generate-reproducer,"tripleo_overcloud_node_provision_generate_scripts_only: ""{{ tripleo_generate_scripts_only | default(False) }}""",,11,1
openstack%2Fbifrost~master~I26ad4ffc1fe5dc0b51b185c1c13cfa2a6e010e90,openstack/bifrost,master,I26ad4ffc1fe5dc0b51b185c1c13cfa2a6e010e90,bifrost_inventory: use stderr for logging,MERGED,2020-07-24 12:28:49.000000000,2020-07-29 14:36:18.000000000,2020-07-29 13:47:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 31643}]","[{'number': 1, 'created': '2020-07-24 12:28:49.000000000', 'files': ['bifrost/inventory.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ac2c1360496db9b72e1d1999de74fe2a9fe54c20', 'message': 'bifrost_inventory: use stderr for logging\n\nLogging to stdout is not visible to ansible, resulting in empty\nerror messages.\n\nChange-Id: I26ad4ffc1fe5dc0b51b185c1c13cfa2a6e010e90\n'}]",0,742869,ac2c1360496db9b72e1d1999de74fe2a9fe54c20,10,4,1,10239,,,0,"bifrost_inventory: use stderr for logging

Logging to stdout is not visible to ansible, resulting in empty
error messages.

Change-Id: I26ad4ffc1fe5dc0b51b185c1c13cfa2a6e010e90
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/742869/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/inventory.py'],1,ac2c1360496db9b72e1d1999de74fe2a9fe54c20,inventory-log," config.set_override('use_stderr', True)",,1,0
openstack%2Fironic-python-agent~master~Id84ac129bba97540338e25f0027aa0a0f51bde52,openstack/ironic-python-agent,master,Id84ac129bba97540338e25f0027aa0a0f51bde52,Return the final RAID configuration from apply_configuration,MERGED,2020-07-29 08:11:16.000000000,2020-07-29 14:35:51.000000000,2020-07-29 14:00:08.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 31643}]","[{'number': 1, 'created': '2020-07-29 08:11:16.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/apply-raid-aeca7848c6320d6b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f03d72019a9e1bd51d52fb7cb4b5d77a29e44658', 'message': ""Return the final RAID configuration from apply_configuration\n\nAgentRAID expects it and fails with TypeError if it's not provided.\n\nChange-Id: Id84ac129bba97540338e25f0027aa0a0f51bde52\nStory: #2006963\n""}]",0,743689,f03d72019a9e1bd51d52fb7cb4b5d77a29e44658,11,5,1,10239,,,0,"Return the final RAID configuration from apply_configuration

AgentRAID expects it and fails with TypeError if it's not provided.

Change-Id: Id84ac129bba97540338e25f0027aa0a0f51bde52
Story: #2006963
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/89/743689/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/apply-raid-aeca7848c6320d6b.yaml']",3,f03d72019a9e1bd51d52fb7cb4b5d77a29e44658,story/2006963,--- fixes: - | Fixes the return value of the ``apply_configuration`` deploy step: the ``agent`` RAID interface expects the final RAID configuration to be returned. ,,70,1
openstack%2Fneutron~master~Ieb3066c30511b9123ae91ef5ee041a56fad7ce7a,openstack/neutron,master,Ieb3066c30511b9123ae91ef5ee041a56fad7ce7a,[Trivial]Add missing space between words,MERGED,2020-07-28 07:00:02.000000000,2020-07-29 14:33:59.000000000,2020-07-29 14:31:32.000000000,"[{'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-28 07:00:02.000000000', 'files': ['neutron/conf/common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2172f19e76cbec4be4df20dd33f85871c85f981a', 'message': '[Trivial]Add missing space between words\n\nThis is to add missing space between words in help messages.\n\nChange-Id: Ieb3066c30511b9123ae91ef5ee041a56fad7ce7a\n'}]",0,743471,2172f19e76cbec4be4df20dd33f85871c85f981a,29,8,1,20190,,,0,"[Trivial]Add missing space between words

This is to add missing space between words in help messages.

Change-Id: Ieb3066c30511b9123ae91ef5ee041a56fad7ce7a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/743471/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/common.py'],1,2172f19e76cbec4be4df20dd33f85871c85f981a,white_space," ""should be retried on a failed HTTP call. 0 (zero) "" ""means connection is attempted only once (not retried). """," ""should be retried on a failed HTTP call. 0 (zero) means"" ""connection is attempted only once (not retried). """,2,2
openstack%2Fglance_store~master~Ibbac3240a99684de0dea2f690f4276a3d24e3fe1,openstack/glance_store,master,Ibbac3240a99684de0dea2f690f4276a3d24e3fe1,use stevedore to load extensions,MERGED,2020-07-25 17:43:02.000000000,2020-07-29 14:31:28.000000000,2020-07-29 14:29:57.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-07-25 17:43:02.000000000', 'files': ['glance_store/tests/unit/test_opts.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/30bd030681a7f871ed4d5b2f8ebf7e17c81b4f83', 'message': 'use stevedore to load extensions\n\nImporting pkg_resources causes the app to scan the entire import path\nfor all distributions, not just those providing entry points. The\nscanner in stevedore will have a cache of the entry point data, making\nit significantly faster.\n\nThis also more accurately reflects the way oslo.config loads option\nplugins.\n\nChange-Id: Ibbac3240a99684de0dea2f690f4276a3d24e3fe1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,743038,30bd030681a7f871ed4d5b2f8ebf7e17c81b4f83,9,4,1,2472,,,0,"use stevedore to load extensions

Importing pkg_resources causes the app to scan the entire import path
for all distributions, not just those providing entry points. The
scanner in stevedore will have a cache of the entry point data, making
it significantly faster.

This also more accurately reflects the way oslo.config loads option
plugins.

Change-Id: Ibbac3240a99684de0dea2f690f4276a3d24e3fe1
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/38/743038/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/tests/unit/test_opts.py'],1,30bd030681a7f871ed4d5b2f8ebf7e17c81b4f83,drop-pkg-resources,"import stevedoredef on_load_failure_callback(*args, **kwargs): raise mgr = stevedore.NamedExtensionManager( 'oslo.config.opts', names=[namespace], invoke_on_load=False, on_load_failure_callback=on_load_failure_callback, ) for ext in mgr: list_fn = ext.plugin opt_list = list_fn() break","import pkg_resourcesdef load_entry_point(entry_point, verify_requirements=False): """"""Load an entry-point without requiring dependencies."""""" resolve = getattr(entry_point, 'resolve', None) require = getattr(entry_point, 'require', None) if resolve is not None and require is not None: if verify_requirements: entry_point.require() return entry_point.resolve() else: return entry_point.load(require=verify_requirements) for ep in pkg_resources.iter_entry_points('oslo.config.opts'): if ep.name == namespace: list_fn = load_entry_point(ep) opt_list = list_fn() break",13,16
openstack%2Fmanila-tempest-plugin~master~I5660705f49ffd0044e7576c8baa192ca054e843b,openstack/manila-tempest-plugin,master,I5660705f49ffd0044e7576c8baa192ca054e843b,Workaround for running scenario tests when storage network is IPv6,ABANDONED,2020-07-23 07:50:58.000000000,2020-07-29 14:28:30.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-07-23 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/78ce376f7cc85f990326886368c9e22cbe100b03', 'message': 'Workaround for running scenario tests when storage network is IPv6\n\nCreated a Nova instance with 2 NICs, with NIC 2 defined on storage\nnetwork IPv6 address. VM was created successfully with the correct\ninterface config settings, however the Nova assigned IP address was\nnot added to NIC 2 interface.\nThis patch assigns the Nova IP address to be assigned to Eth1\ninterface as a workaround for [1].\n\nAdding a configuration option that will allow to handle in case the\nprivate network is IPv4 and the storage network is IPv6.\nCurrently, in such a case the scenario tests are skipped.\n\n[1] https://bugs.launchpad.net/cloud-init/+bug/1888568\n\nChange-Id: I5660705f49ffd0044e7576c8baa192ca054e843b\n'}, {'number': 2, 'created': '2020-07-23 10:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/676e275c5ff83962ce54b06e8be0e480b74e126f', 'message': 'Workaround for running scenario tests when storage network is IPv6\n\nCreated a Nova instance with 2 NICs, with NIC 2 defined on storage\nnetwork IPv6 address. VM was created successfully with the correct\ninterface config settings, however the Nova assigned IP address was\nnot added to NIC 2 interface.\nThis patch assigns the Nova IP address to be assigned to Eth1\ninterface as a workaround for [1].\n\nAdding a configuration option that will allow to handle in case the\nprivate network is IPv4 and the storage network is IPv6.\nCurrently, in such a case the scenario tests are skipped.\n\n[1] https://bugs.launchpad.net/cloud-init/+bug/1888568\n\nChange-Id: I5660705f49ffd0044e7576c8baa192ca054e843b\n'}, {'number': 3, 'created': '2020-07-23 10:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1033a4c4c822255675bcd82399a48ba83429782b', 'message': 'Workaround for running scenario tests when storage network is IPv6\n\nCreated a Nova instance with 2 NICs, with NIC 2 defined on storage\nnetwork IPv6 address. VM was created successfully with the correct\ninterface config settings, however the Nova assigned IP address was\nnot added to NIC 2 interface.\nThis patch assigns the Nova IP address to be assigned to Eth1\ninterface as a workaround for [1].\n\nAdding a configuration option that will allow to handle in case the\nprivate network is IPv4 and the storage network is IPv6.\nCurrently, in such a case the scenario tests are skipped.\n\n[1] https://bugs.launchpad.net/cloud-init/+bug/1888568\n\nChange-Id: I5660705f49ffd0044e7576c8baa192ca054e843b\n'}, {'number': 4, 'created': '2020-07-26 05:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ba2bbf823c85395a4491b4b78d4f106f3a3af876', 'message': 'Workaround for running scenario tests when storage network is IPv6\n\nCreated a Nova instance with 2 NICs, with NIC 2 defined on storage\nnetwork IPv6 address. VM was created successfully with the correct\ninterface config settings, however the Nova assigned IP address was\nnot added to NIC 2 interface.\nThis patch assigns the Nova IP address to be assigned to Eth1\ninterface as a workaround for [1].\n\nAdding a configuration option that will allow to handle in case the\nprivate network is IPv4 and the storage network is IPv6.\nCurrently, in such a case the scenario tests are skipped.\n\n[1] https://bugs.launchpad.net/cloud-init/+bug/1888568\n\nChange-Id: I5660705f49ffd0044e7576c8baa192ca054e843b\n'}, {'number': 5, 'created': '2020-07-26 11:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/252ec811b1f7d377bf7bb8d48da1f5b77ebab871', 'message': 'Workaround for running scenario tests when storage network is IPv6\n\nCreated a Nova instance with 2 NICs, with NIC 2 defined on storage\nnetwork IPv6 address. VM was created successfully with the correct\ninterface config settings, however the Nova assigned IP address was\nnot added to NIC 2 interface.\nThis patch assigns the Nova IP address to be assigned to Eth1\ninterface as a workaround for [1].\n\nAdding a configuration option that will allow to handle in case the\nprivate network is IPv4 and the storage network is IPv6.\nCurrently, in such a case the scenario tests are skipped.\n\n[1] https://bugs.launchpad.net/cloud-init/+bug/1888568\n\nChange-Id: I5660705f49ffd0044e7576c8baa192ca054e843b\n'}, {'number': 6, 'created': '2020-07-26 15:15:51.000000000', 'files': ['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8fd0789b33fab83eb2222f20dd3e4846cb33476d', 'message': 'Workaround for running scenario tests when storage network is IPv6\n\nCreated a Nova instance with 2 NICs, with NIC 2 defined on storage\nnetwork IPv6 address. VM was created successfully with the correct\ninterface config settings, however the Nova assigned IP address was\nnot added to NIC 2 interface.\nThis patch assigns the Nova IP address to be assigned to Eth1\ninterface as a workaround for [1].\n\nAdding a configuration option that will allow to handle in case the\nprivate network is IPv4 and the storage network is IPv6.\nCurrently, in such a case the scenario tests are skipped.\n\n[1] https://bugs.launchpad.net/cloud-init/+bug/1888568\n\nChange-Id: I5660705f49ffd0044e7576c8baa192ca054e843b\n'}]",0,742607,8fd0789b33fab83eb2222f20dd3e4846cb33476d,19,8,6,19262,,,0,"Workaround for running scenario tests when storage network is IPv6

Created a Nova instance with 2 NICs, with NIC 2 defined on storage
network IPv6 address. VM was created successfully with the correct
interface config settings, however the Nova assigned IP address was
not added to NIC 2 interface.
This patch assigns the Nova IP address to be assigned to Eth1
interface as a workaround for [1].

Adding a configuration option that will allow to handle in case the
private network is IPv4 and the storage network is IPv6.
Currently, in such a case the scenario tests are skipped.

[1] https://bugs.launchpad.net/cloud-init/+bug/1888568

Change-Id: I5660705f49ffd0044e7576c8baa192ca054e843b
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/07/742607/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/scenario/manager_share.py']",2,78ce376f7cc85f990326886368c9e22cbe100b03,StorageNFS_IPv," # Created a Nova instance with 2 NICs, with NIC 2 defined on storage # network IPv6 address. VM was created successfully with the correct # interface config settings, however the Nova assigned IP address was # not added to NIC 2 interface. # Below is a workaround for bug #1888568 as described above. # It assigns the Nova IP address to be assigned to Eth1 interface. if self.storage_network and CONF.share.storage_network_ip_version == 6: remote_client.exec_command( ""sudo ip address add {}/64 dev eth1"".format( self.storage_network_nic_ips[instance['id']])) x)[1] == CONF.share.storage_network_ip_version] ""ip_version %s"" % CONF.share.storage_network_ip_version)"," x)[1] == self.ip_version] ""ip_version %s"" % self.ip_version)",16,2
openstack%2Fironic-inspector~master~I1af55fa4ec47b345479b9e5687ad480648e502ac,openstack/ironic-inspector,master,I1af55fa4ec47b345479b9e5687ad480648e502ac,Relax extra_hardware data validation by default,MERGED,2020-07-28 09:58:29.000000000,2020-07-29 14:27:19.000000000,2020-07-29 14:25:57.000000000,"[{'_account_id': 15519}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 25241}]","[{'number': 1, 'created': '2020-07-28 09:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8ae8211ed25aaec7411f32f495da9126b95c2325', 'message': ""Relax extra_hardware data validation by default\n\nWe've seen reports that extra data sometimes contains empty lists.\nThere is no point to discard everything in this case. This change\nmakes ironic-inspector log a warning for any item of incorrect length\nby default. The old behavior can be returned via [extra_hardware]strict.\n\nAlso stops discarding the received data if parsing fails: maybe this\ndata is not for us?\n\nChange-Id: I1af55fa4ec47b345479b9e5687ad480648e502ac\n""}, {'number': 2, 'created': '2020-07-28 10:48:46.000000000', 'files': ['releasenotes/notes/extra-check-9cf0a7d89e534ccd.yaml', 'ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/conf/opts.py', 'ironic_inspector/conf/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'ironic_inspector/conf/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3243cac3fc0c7abc7fd64099b07cad2eb648a3d7', 'message': ""Relax extra_hardware data validation by default\n\nWe've seen reports that extra data sometimes contains empty lists.\nThere is no point to discard everything in this case. This change\nmakes ironic-inspector log a warning for any item of incorrect length\nby default. The old behavior can be returned via [extra_hardware]strict.\n\nAlso stops discarding the received data if parsing fails: maybe this\ndata is not for us?\n\nChange-Id: I1af55fa4ec47b345479b9e5687ad480648e502ac\n""}]",0,743498,3243cac3fc0c7abc7fd64099b07cad2eb648a3d7,12,6,2,10239,,,0,"Relax extra_hardware data validation by default

We've seen reports that extra data sometimes contains empty lists.
There is no point to discard everything in this case. This change
makes ironic-inspector log a warning for any item of incorrect length
by default. The old behavior can be returned via [extra_hardware]strict.

Also stops discarding the received data if parsing fails: maybe this
data is not for us?

Change-Id: I1af55fa4ec47b345479b9e5687ad480648e502ac
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/98/743498/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/extra-check-9cf0a7d89e534ccd.yaml', 'ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/conf/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'ironic_inspector/conf/__init__.py']",5,8ae8211ed25aaec7411f32f495da9126b95c2325,extra-check,from ironic_inspector.conf import extra_hardwareextra_hardware.register_opts(CONF),,149,42
openstack%2Fcharm-ceph-osd~master~If07335447789d1521e1cd745bffff90e4900c7c1,openstack/charm-ceph-osd,master,If07335447789d1521e1cd745bffff90e4900c7c1,Release sync for 20.08,MERGED,2020-07-27 19:49:56.000000000,2020-07-29 14:26:49.000000000,2020-07-29 14:26:49.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:49:56.000000000', 'files': ['requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e350ff6144c3e8b57998c9214b97ffe8ab0492fa', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: If07335447789d1521e1cd745bffff90e4900c7c1\n'}]",0,743339,e350ff6144c3e8b57998c9214b97ffe8ab0492fa,14,5,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: If07335447789d1521e1cd745bffff90e4900c7c1
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/39/743339/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini']",6,e350ff6144c3e8b57998c9214b97ffe8ab0492fa,batch-2008-release-sync,"ignore = E402,E226","ignore = E402,E226,W504",52,22
openstack%2Fcharm-nova-compute~master~I4f550537dd4c10719c0ea8a269e59d59e5634f15,openstack/charm-nova-compute,master,I4f550537dd4c10719c0ea8a269e59d59e5634f15,Release sync for 20.08,MERGED,2020-07-27 19:57:06.000000000,2020-07-29 14:25:18.000000000,2020-07-29 14:25:18.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:57:06.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'requirements.txt', 'hooks/charmhelpers/__init__.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'tox.ini', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7dea8da5fbb8b78099937c00ceac868f8428ab8d', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I4f550537dd4c10719c0ea8a269e59d59e5634f15\n'}]",0,743374,7dea8da5fbb8b78099937c00ceac868f8428ab8d,14,5,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I4f550537dd4c10719c0ea8a269e59d59e5634f15
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/74/743374/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'tox.ini', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",10,7dea8da5fbb8b78099937c00ceac868f8428ab8d,batch-2008-release-sync," # This section is based on Mozilla's recommendation # as the ""intermediate"" profile as of July 7th, 2020. # https://wiki.mozilla.org/Security/Server_Side_TLS SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 SSLHonorCipherOrder off ", SSLProtocol +TLSv1 +TLSv1.1 +TLSv1.2 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!EXP:!LOW:!MEDIUM,140,45
openstack%2Fkeystone~master~Iedde135b9de03229c27ed57638d0c404169f43ab,openstack/keystone,master,Iedde135b9de03229c27ed57638d0c404169f43ab,requirements: Drop os-testr,MERGED,2020-07-09 10:15:42.000000000,2020-07-29 14:20:08.000000000,2020-07-29 14:18:21.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 10:15:42.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5b552d878599ec69d7fa7a6a104ca1d07ad78cc9', 'message': ""requirements: Drop os-testr\n\nWe migrated to os-testr some time ago. There's no reason to keep this\naround as a dependency.\n\nChange-Id: Iedde135b9de03229c27ed57638d0c404169f43ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,740219,5b552d878599ec69d7fa7a6a104ca1d07ad78cc9,16,5,1,15334,,,0,"requirements: Drop os-testr

We migrated to os-testr some time ago. There's no reason to keep this
around as a dependency.

Change-Id: Iedde135b9de03229c27ed57638d0c404169f43ab
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/740219/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,5b552d878599ec69d7fa7a6a104ca1d07ad78cc9,drop-os-testr,,os-testr==1.0.0,1,3
openstack%2Fglance~stable%2Ftrain~I57d473572ca0a341082bacc3883cd9f763d77fa7,openstack/glance,stable/train,I57d473572ca0a341082bacc3883cd9f763d77fa7,Fix broken glance-cache-manage utility,MERGED,2020-07-24 14:10:47.000000000,2020-07-29 14:19:43.000000000,2020-07-29 14:18:23.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 14:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a32a3f9cb594858cf643a5531edd2e98f98410b9', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nCloses-Bug: #1888349\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n(cherry picked from commit ffd2f5e63f8b7aebc8986c05aea249c75a8a692b)\n(cherry picked from commit 1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a)\n""}, {'number': 2, 'created': '2020-07-24 17:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b652264c1dde728568d82fb9976449c5bc8ebd8c', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nConflicts:\n\tglance/common/wsgi.py\n        glance/tests/unit/test_cache_manage.py\n\nCloses-Bug: #1888349\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n(cherry picked from commit ffd2f5e63f8b7aebc8986c05aea249c75a8a692b)\n(cherry picked from commit 1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a)\n""}, {'number': 3, 'created': '2020-07-28 18:06:17.000000000', 'files': ['glance/common/wsgi.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/tests/functional/test_wsgi.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/test_cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/277322515c486b2cbc7f9e1729ae74894397c096', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nConflicts:\n\tglance/common/wsgi.py\n        glance/tests/unit/test_cache_manage.py\n\nCloses-Bug: #1888349\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n(cherry picked from commit ffd2f5e63f8b7aebc8986c05aea249c75a8a692b)\n(cherry picked from commit 1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a)\n""}]",5,742889,277322515c486b2cbc7f9e1729ae74894397c096,18,4,3,9303,,,0,"Fix broken glance-cache-manage utility

glance-cahce-manage is broken due to circilar imports.
Fixed the same by importing 'prefetcher' module right before
'Prefetcher' object is initialized.

Conflicts:
	glance/common/wsgi.py
        glance/tests/unit/test_cache_manage.py

Closes-Bug: #1888349
Change-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7
(cherry picked from commit ffd2f5e63f8b7aebc8986c05aea249c75a8a692b)
(cherry picked from commit 1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a)
",git fetch https://review.opendev.org/openstack/glance refs/changes/89/742889/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/tests/functional/test_wsgi.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/test_cache_manage.py']",5,a32a3f9cb594858cf643a5531edd2e98f98410b9,bug/1888349-stable/ussuri-stable/train,"# Copyright 2020 Red Hat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys from unittest import mock import fixtures from glance.cmd import cache_manage from glance.image_cache import client as cache_client from glance.tests import utils as test_utils UUID1 = 'c80a1a6c-bd1f-41c5-90ee-81afedb1d58d' class TestCacheManage(test_utils.BaseTestCase): def setUp(self): super(TestCacheManage, self).setUp() def _main_test_helper(self, argv, result=cache_manage.SUCCESS): self.useFixture(fixtures.MonkeyPatch('sys.argv', argv)) with mock.patch.object(cache_client, 'get_client'): with mock.patch.object(sys, 'exit') as mock_exit: cache_manage.main() mock_exit.assert_called_once_with(result) def test_list_cached_images(self): self._main_test_helper(['glance.cmd.cache_manage', 'list-cached']) def test_list_queued_images(self): self._main_test_helper(['glance.cmd.cache_manage', 'list-queued']) @mock.patch.object(cache_manage, 'user_confirm') def test_queue_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'queue-image', UUID1]) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_queue_image_invalid_image_id(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'queue-image', 'fake_id'], result=cache_manage.FAILURE) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_queued_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-queued-image', UUID1]) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_queued_image_invalid_image_id(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-queued-image', 'fake_id'], result=cache_manage.FAILURE) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_cached_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-cached-image', UUID1]) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_cached_image_invalid_image_id(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-cached-image', 'fake_id'], result=cache_manage.FAILURE) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_all_queued_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-all-queued-images']) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_all_cached_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-all-cached-images']) self.assertEqual(1, mock_user_confirm.call_count) ",,97,19
openstack%2Fbifrost~master~Ia9f1f6087d2bca6eb5aac69773a0aa1299be0de2,openstack/bifrost,master,Ia9f1f6087d2bca6eb5aac69773a0aa1299be0de2,Remove old kill dnsmasq command,ABANDONED,2020-07-29 12:47:27.000000000,2020-07-29 14:07:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-29 12:47:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a89d66b774c7cb61f4822c8ad06f12bbbc585a79', 'message': 'Remove old kill dnsmasq command\n\nThis command was added during the upstart phase.\nThis should be taken care of by systemd now.\n\nChange-Id: Ia9f1f6087d2bca6eb5aac69773a0aa1299be0de2\n'}]",0,743749,a89d66b774c7cb61f4822c8ad06f12bbbc585a79,3,1,1,23851,,,0,"Remove old kill dnsmasq command

This command was added during the upstart phase.
This should be taken care of by systemd now.

Change-Id: Ia9f1f6087d2bca6eb5aac69773a0aa1299be0de2
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/49/743749/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/start.yml'],1,a89d66b774c7cb61f4822c8ad06f12bbbc585a79,remove-upstart,,"# NOTE(Shrews) When testing, we want to use our custom dnsmasq.conf file, # not the one supplied by libvirt. And the libvirt started dnsmasq processes # are not controlled by upstart, so we need to manually kill those. - name: ""Stop existing libvirt dnsmasq processes"" command: killall -9 -w dnsmasq when: testing | bool == true and include_dhcp_server | bool == true ignore_errors: yes ",0,8
openstack%2Fironic-python-agent~master~I5293e38f119de367d4fc8a68029ee8d98c4fb6e5,openstack/ironic-python-agent,master,I5293e38f119de367d4fc8a68029ee8d98c4fb6e5,kexec standby extension,NEW,2019-10-14 23:23:18.000000000,2020-07-29 13:55:21.000000000,,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15064}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 31288}]","[{'number': 1, 'created': '2019-10-14 23:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2aced0e1674857216c1e3e0747dff6c8f78755ae', 'message': 'Crazy idea: kexec\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}, {'number': 2, 'created': '2019-10-15 22:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/604dd1fdd2987631b14b59636d868a5cd45902a8', 'message': 'Crazy idea: kexec\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}, {'number': 3, 'created': '2019-10-16 00:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2ed46f35f06f333f1e99d8b9be9b00902f32dbb2', 'message': 'Crazy idea: kexec\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}, {'number': 4, 'created': '2019-10-16 21:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0393b789bc30b8ccb56db347cafa7ca24860a1a3', 'message': 'Crazy idea: kexec\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}, {'number': 5, 'created': '2020-03-07 17:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/79a54793909715827394a7b079b2005a2ee6e33e', 'message': 'kexec\n\nAdds support to the standby extension for initiating a\nkexec command to the running ramdisk. This command, which\nwould require the node to already have the disk image\n(if applicable) written, allows a kernel and ramdisk to be\nloaded and that new kernel started without the need to perform\nthe system Power-On-Self-Test (POST) operation, which can\ntake a lengthy amount of time depending on the hardware.\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}, {'number': 6, 'created': '2020-03-22 01:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/11788a9be7952cca4533cf027bbadaafbcea7525', 'message': 'kexec standby extension\n\nAdds support to the standby extension for initiating a\nkexec command to the running ramdisk. This command, which\nwould require the node to already have the disk image\n(if applicable) written, allows a kernel and ramdisk to be\nloaded and that new kernel started without the need to perform\nthe system Power-On-Self-Test (POST) operation, which can\ntake a lengthy amount of time depending on the hardware.\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}, {'number': 7, 'created': '2020-03-22 21:02:50.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/99700e213412781c5ebbbab631d4f0f489ae11c3', 'message': 'kexec standby extension\n\nAdds support to the standby extension for initiating a\nkexec command to the running ramdisk. This command, which\nwould require the node to already have the disk image\n(if applicable) written, allows a kernel and ramdisk to be\nloaded and that new kernel started without the need to perform\nthe system Power-On-Self-Test (POST) operation, which can\ntake a lengthy amount of time depending on the hardware.\n\nChange-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\n'}]",8,688581,99700e213412781c5ebbbab631d4f0f489ae11c3,32,10,7,11655,,,0,"kexec standby extension

Adds support to the standby extension for initiating a
kexec command to the running ramdisk. This command, which
would require the node to already have the disk image
(if applicable) written, allows a kernel and ramdisk to be
loaded and that new kernel started without the need to perform
the system Power-On-Self-Test (POST) operation, which can
take a lengthy amount of time depending on the hardware.

Change-Id: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/81/688581/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/extensions/standby.py']",3,2aced0e1674857216c1e3e0747dff6c8f78755ae,kexec,"from ironic_python_agent.extensions import image @base.async_command('kexec') def kexec(self, kernel_image, ramdisk_image=None, root_uuid=None, kernel_extra_arguments=None): """"""Execute the new kernel kexec -l /path/to/kernel --initrd=/path/to/initrd --append="""" kexec -e And that's all folks! """""" if root_uuid: device = hardware.dispatch_to_managers('get_os_install_device') root_partition = image.get_partition(device, uuid=root_uuid) kernel_arguments = ""root=%s %s"" % (root_partition, kernel_extra_arguments) else: kernel_arguments = kernel_extra_arguments _download_image(kernel_image) kernel_location = _image_location(kernel_image) if ramdisk_image: _download_image(ramdisk_image) ramdisk_location = _image_location(ramdisk_image) kexec_command = ['kexec', '-l', kernel_location] if ramdisk_image: kexec_command.append('--initrd=%s' % ramdisk_location) if kernel_arguments: kexec_command.append('--append=""%s""' % kernel_arguments) utils.execute(kexec_command) utils.execute('kexec', '-e')",,52,18
openstack%2Ftacker~master~I3b46fff45290904abbdc5e1c356e0215b653b9f5,openstack/tacker,master,I3b46fff45290904abbdc5e1c356e0215b653b9f5,Cannot wait more than 10 minutes during VNF create,MERGED,2020-06-25 08:42:58.000000000,2020-07-29 13:21:12.000000000,2020-07-29 13:18:09.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31813}]","[{'number': 1, 'created': '2020-06-25 08:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/60eb70628f9e671326b1a72849c44c92d89ab477', 'message': 'Cannot wait more than ten minutes during VNF create\n\nThe timeout mins value of VNF create is changed from ""10"" to\n""(retry times) * (wait time)"".\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 2, 'created': '2020-06-26 01:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/605b785ea4f12a5d83a8ad4e1daad046369b442c', 'message': 'Cannot wait more than ten minutes during VNF create\n\nThe new code is devided into two lines so as not to exceed 80\ncharacters per line.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 3, 'created': '2020-06-30 04:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e8c968f89dd2bd213229030b74ffccb38c1f1f96', 'message': 'Cannot wait more than ten minutes during VNF create\n\nAdded ""timeout_mins"" key into the dummy stack field in the test\ncode.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 4, 'created': '2020-06-30 07:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/085c24d06f861fc4c49bf4477fc5f7fe9913ab2c', 'message': 'Cannot wait more than ten minutes during VNF create\n\nAdded ""timeout_mins"" culculation code also into\n_create_stack_with_user_data() function in OpenStack class.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 5, 'created': '2020-07-10 02:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1fbd069551ea9e79863422bb92da08abc8c48c66', 'message': 'Cannot wait more than 10 minutes during VNF create\n\nRemoved the existense check of timeout_mins value.\nAdded the creation of timeout_mins key if not exist.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 6, 'created': '2020-07-10 02:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b43d843c31be52987066a3716db9c5e16ca0f589', 'message': 'Cannot wait more than 10 minutes during VNF create\n\nUsed parentheses instead of the backslash for line continuation.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 7, 'created': '2020-07-10 08:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/24efc05edcf929a8f3ab9cf0bbfa937991f930be', 'message': 'Cannot wait more than 10 minutes during VNF create\n\nA time out occurs ten minutes after starting VNF create.\nIf the creation is not complete within ten minutes, it always\nfails.\n\nTo prevent this, the timeout mins value of VNF create is changed\nfrom ""10"" to ""(retry times) * (wait time)"" defined in the CONF.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}, {'number': 8, 'created': '2020-07-10 09:07:22.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/994f3f36bc65f1a98886a45b1eb3f1b7f64af824', 'message': 'Cannot wait more than 10 minutes during VNF create\n\nA time out occurs ten minutes after starting VNF create.\nIf the creation is not complete within ten minutes, it always\nfails.\n\nTo prevent this, the timeout mins value of Heat Stack create is\nchanged from ""10"" to ""(retry times) * (wait time)"" defined in\nTacker\'s CONF.\n\nChange-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5\nCloses-Bug: #1885080\n'}]",21,737924,994f3f36bc65f1a98886a45b1eb3f1b7f64af824,31,6,8,31813,,,0,"Cannot wait more than 10 minutes during VNF create

A time out occurs ten minutes after starting VNF create.
If the creation is not complete within ten minutes, it always
fails.

To prevent this, the timeout mins value of Heat Stack create is
changed from ""10"" to ""(retry times) * (wait time)"" defined in
Tacker's CONF.

Change-Id: I3b46fff45290904abbdc5e1c356e0215b653b9f5
Closes-Bug: #1885080
",git fetch https://review.opendev.org/openstack/tacker refs/changes/24/737924/8 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",2,60eb70628f9e671326b1a72849c44c92d89ab477,bug/1885080, fields['timeout_mins'] = self.STACK_RETRIES * self.STACK_RETRY_WAIT // 60 ,,6,3
openstack%2Ftacker~master~Ie4a59a57abe4476a2f25c4b53e7b5dc88fa3ca44,openstack/tacker,master,Ie4a59a57abe4476a2f25c4b53e7b5dc88fa3ca44,Delete BOM <U+FEFF> from test yaml files,MERGED,2020-07-28 05:24:54.000000000,2020-07-29 13:20:05.000000000,2020-07-29 13:18:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}]","[{'number': 1, 'created': '2020-07-28 05:24:54.000000000', 'files': ['tacker/tests/etc/samples/etsi/nfv/vnfpkgm1/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_multiple_sw_image_data/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_sw_image_data/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_policies/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm2/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm1/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_substitution_mappings_error.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_params_error.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_policies/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm2/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_translator_error.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_short_notation_for_artifacts_without_sw_image_data/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_invalid_default_instantiation_level/Definitions/main_tosca.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_scaling_invalid_inst_req.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_with_short_notation_for_artifacts/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_invalid_default_instantiation_level/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_flavour_info/Definitions/main_tosca.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_scaling.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm1/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_with_short_notation_for_artifacts/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_sw_image_data/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_instantiation_level/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_multiple_sw_image_data_with_short_notation/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_invalid_instantiation_level/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm4/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_flavour_info_in_main_template/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm2/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_with_short_notation_for_artifacts/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm2/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/sample_vnf_package_csar_with_short_notation/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm3/Definitions/helloworld3.vnfd.tosca.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_parser_error.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm1/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm3/Definitions/helloworld3simple.vnfd.tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_flavour_info/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/test_csar_utils_common/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm2/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_common/Definitions/sample_lcm_with_user_data_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm3/Definitions/helloworld3VNF.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_invalid_instantiation_level/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/sample_vnf_package_csar_with_short_notation/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm4/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm2/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm1/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_missing_sw_image_data_in_main_template/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm1/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_multiple_sw_image_data/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_common/Definitions/sample_lcm_with_user_data_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm4/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_instantiation_level/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/sample_vnf_package_csar_with_short_notation/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_vnfd_info/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_vnfd_info/Definitions/tosca_with_vdus.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1ee089451cd369b225acfc63266d056a3e825da6', 'message': 'Delete BOM <U+FEFF> from test yaml files\n\nSome yaml files that is definition file for testing have BOM(Byte Order\nMark) <U+FEFF> at the beginning.\nThis BOM is unnecessary information, so delete it with this patch.\n\nChange-Id: Ie4a59a57abe4476a2f25c4b53e7b5dc88fa3ca44\nCloses-Bug: 1889148\n'}]",0,743451,1ee089451cd369b225acfc63266d056a3e825da6,10,6,1,31857,,,0,"Delete BOM <U+FEFF> from test yaml files

Some yaml files that is definition file for testing have BOM(Byte Order
Mark) <U+FEFF> at the beginning.
This BOM is unnecessary information, so delete it with this patch.

Change-Id: Ie4a59a57abe4476a2f25c4b53e7b5dc88fa3ca44
Closes-Bug: 1889148
",git fetch https://review.opendev.org/openstack/tacker refs/changes/51/743451/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/etc/samples/etsi/nfv/vnfpkgm1/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_multiple_sw_image_data/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_sw_image_data/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_policies/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm2/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm1/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_substitution_mappings_error.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_params_error.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_policies/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm2/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_translator_error.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_short_notation_for_artifacts_without_sw_image_data/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_invalid_default_instantiation_level/Definitions/main_tosca.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_scaling_invalid_inst_req.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_with_short_notation_for_artifacts/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_invalid_default_instantiation_level/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_flavour_info/Definitions/main_tosca.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_with_scaling.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm1/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_with_short_notation_for_artifacts/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_sw_image_data/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_instantiation_level/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_multiple_sw_image_data_with_short_notation/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_invalid_instantiation_level/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm4/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_flavour_info_in_main_template/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm2/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/csar_with_short_notation_for_artifacts/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm2/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/sample_vnf_package_csar_with_short_notation/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm3/Definitions/helloworld3.vnfd.tosca.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca_parser_error.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm1/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm3/Definitions/helloworld3simple.vnfd.tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_flavour_info/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/test_csar_utils_common/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm2/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_generate_hot_from_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_common/Definitions/sample_lcm_with_user_data_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm3/Definitions/helloworld3VNF.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_invalid_instantiation_level/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/sample_vnf_package_csar_with_short_notation/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm4/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm2/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm1/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_missing_sw_image_data_in_main_template/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnfpkgm1/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_with_multiple_sw_image_data/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_common/Definitions/sample_lcm_with_user_data_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/vnflcm4/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_instantiation_level/Definitions/tosca_with_vdus.yaml', 'tacker/tests/etc/samples/etsi/nfv/sample_vnf_package_csar_with_short_notation/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_vnfd_info/Definitions/main_tosca.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_csar_utils_data/csar_without_vnfd_info/Definitions/tosca_with_vdus.yaml']",54,1ee089451cd369b225acfc63266d056a3e825da6,bug/1889148,tosca_definitions_version: tosca_simple_yaml_1_2,﻿tosca_definitions_version: tosca_simple_yaml_1_2,54,54
openstack%2Ftacker~master~I3616e4608821dec391208dd1920c393db3e9a375,openstack/tacker,master,I3616e4608821dec391208dd1920c393db3e9a375,Tacker documents trivial fix,MERGED,2020-07-27 17:34:18.000000000,2020-07-29 13:18:03.000000000,2020-07-29 13:18:02.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-27 17:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/695210a98b105478b48adce1ee70411fb8d65d05', 'message': 'Correct typo in Tacker documents\n\nFix misspelling and inconsistent spelling in Tacker documents.\n\nChange-Id: I3616e4608821dec391208dd1920c393db3e9a375\n'}, {'number': 2, 'created': '2020-07-28 03:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a9a0fb0e404188861d5f73df982b0cd6c7d12f13', 'message': 'Correct typo in Tacker documents\n\nFix misspelling and inconsistent spelling in Tacker documents.\n\nChange-Id: I3616e4608821dec391208dd1920c393db3e9a375\n'}, {'number': 3, 'created': '2020-07-28 05:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/53ef81a4249c850509b7952fcc1e245f8d8476de', 'message': 'Correct typo in Tacker documents\n\nFix misspelling and inconsistent spelling in Tacker documents.\n\nChange-Id: I3616e4608821dec391208dd1920c393db3e9a375\n'}, {'number': 4, 'created': '2020-07-28 06:36:17.000000000', 'files': ['doc/source/contributor/vnffgd_template_description.rst', 'doc/source/user/vnffg_usage_guide_advanced.rst', 'doc/source/contributor/tacker_functional_test.rst', 'doc/source/contributor/event_logging.rst', 'doc/source/contributor/zabbix-plugin.rst', 'doc/source/user/placement_policy_usage_guide.rst', 'doc/source/user/nsd_usage_guide.rst', 'doc/source/contributor/vnfd_template_description.rst', 'doc/source/reference/block_storage_usage_guide.rst', 'doc/source/user/vnffg_usage_guide.rst', 'doc/source/user/dynamic_vnffg_usage_guide.rst', 'doc/source/install/kubernetes_vim_installation.rst', 'doc/source/reference/reservation_policy_usage_guide.rst', 'doc/source/user/containerized_vnf_usage_guide.rst', 'doc/source/contributor/development.environment.rst', 'doc/source/user/multisite_vim_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/841756d72ae27d021be2f464a1a24f97dc2b6a98', 'message': 'Tacker documents trivial fix\n\n* Fix misspelling and inconsistent spelling\n* Change Tacker repo URL from github to opendev\n\nChange-Id: I3616e4608821dec391208dd1920c393db3e9a375\n'}]",12,743287,841756d72ae27d021be2f464a1a24f97dc2b6a98,18,7,4,17255,,,0,"Tacker documents trivial fix

* Fix misspelling and inconsistent spelling
* Change Tacker repo URL from github to opendev

Change-Id: I3616e4608821dec391208dd1920c393db3e9a375
",git fetch https://review.opendev.org/openstack/tacker refs/changes/87/743287/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/deploy_openwrt.rst', 'doc/source/user/vnffg_usage_guide.rst', 'doc/source/contributor/zabbix-plugin.rst', 'doc/source/user/placement_policy_usage_guide.rst', 'doc/source/reference/reservation_policy_usage_guide.rst', 'doc/source/contributor/development.environment.rst', 'doc/source/user/multisite_vim_usage_guide.rst']",7,695210a98b105478b48adce1ee70411fb8d65d05,docs-typo,"A single Tacker controller node can be used to manage multiple OpenStack sites* Tacker support multi-tenancy, that means a VIM registered by one tenant can","A single Tacker controller node can be used to manage multiple Openstack sites* Tacker support multi-tenancy, that means a VIM regisetered by one tenant can",10,10
openstack%2Fpython-novaclient~master~I8c2a6f91739d50baa283b37b16de67c542ea691b,openstack/python-novaclient,master,I8c2a6f91739d50baa283b37b16de67c542ea691b,Add a cleanup for a server in a functional test,MERGED,2020-07-28 16:36:54.000000000,2020-07-29 13:17:49.000000000,2020-07-28 20:52:08.000000000,"[{'_account_id': 679}, {'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 16:36:54.000000000', 'files': ['novaclient/tests/functional/v2/test_instance_action.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/1ce9edcd73c6da9dd4dcded12747957fc297cb21', 'message': 'Add a cleanup for a server in a functional test\n\nA VM instance is created in the following functional test.\n\n* novaclient.tests.functional.v2.test_instance_action.\n  TestInstanceActionCLIV262.test_show_actions_with_host\n\nHowever the VM instance is not deleted after the functional test.\nAdd a cleanup for the server in the functional test.\n\nChange-Id: I8c2a6f91739d50baa283b37b16de67c542ea691b\nCloses-Bug: #1889283\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",0,743589,1ce9edcd73c6da9dd4dcded12747957fc297cb21,9,3,1,7634,,,0,"Add a cleanup for a server in a functional test

A VM instance is created in the following functional test.

* novaclient.tests.functional.v2.test_instance_action.
  TestInstanceActionCLIV262.test_show_actions_with_host

However the VM instance is not deleted after the functional test.
Add a cleanup for the server in the functional test.

Change-Id: I8c2a6f91739d50baa283b37b16de67c542ea691b
Closes-Bug: #1889283
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/89/743589/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/v2/test_instance_action.py'],1,1ce9edcd73c6da9dd4dcded12747957fc297cb21,bug/1889283," self.addCleanup(self.client.servers.delete, server_id) ",,2,0
openstack%2Fopenstack-helm-infra~master~I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c,openstack/openstack-helm-infra,master,I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c,Add missing pod level security context template for mariadb-backup,MERGED,2020-07-20 15:10:49.000000000,2020-07-29 13:09:08.000000000,2020-07-22 15:42:16.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29131}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-20 15:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30fe987210c72f25f5e4da7256052c8d76821bc3', 'message': ""[FIX] Add missing pod level missing helm-toolkit snippet for mariadb-backup\n\nThis change adds security-context template at pod level and also it\nremoves duplicate run as user value for mariadb-backup container as\nit's already given at pod level\n\nChange-Id: I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c\n""}, {'number': 2, 'created': '2020-07-20 15:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94a9679b6bce1fce81a5c1944b5a2b29a6b9427e', 'message': ""[FIX] Add missing pod level helm-toolkit snippet for mariadb-backup\n\nThis change adds security-context template at pod level and also it\nremoves duplicate run as user value for mariadb-backup container as\nit's already given at pod level\n\nChange-Id: I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c\n""}, {'number': 3, 'created': '2020-07-21 04:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e417547a1fa2348db0dfd1a5f206e786df43d08', 'message': ""Add missing pod level security context template for mariadb-backup\n\nThis change adds security-context template at pod level and also it\nremoves duplicate run as user value for mariadb-backup container as\nit's already given at pod level\n\nChange-Id: I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c\n""}, {'number': 4, 'created': '2020-07-21 05:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97cd1910b73b820fbbbed537845fec2c0ce497e3', 'message': ""Add missing pod level security context template for mariadb-backup\n\nThis change adds security-context template at pod level and also it\nremoves duplicate run as user value for mariadb-backup container as\nit's already given at pod level\n\nChange-Id: I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c\n""}, {'number': 5, 'created': '2020-07-21 16:52:55.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0da55ad85ef621baa22887799e3146cecd93d368', 'message': ""Add missing pod level security context template for mariadb-backup\n\nThis change adds security-context template at pod level and also it\nremoves duplicate run as user value for mariadb-backup container as\nit's already given at pod level\n\nChange-Id: I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c\n""}]",2,741965,0da55ad85ef621baa22887799e3146cecd93d368,22,12,5,29161,,,0,"Add missing pod level security context template for mariadb-backup

This change adds security-context template at pod level and also it
removes duplicate run as user value for mariadb-backup container as
it's already given at pod level

Change-Id: I01da9d1b5a2b8d44f4bbf52e15842e2316c6086c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/741965/4 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/values.yaml']",2,30fe987210c72f25f5e4da7256052c8d76821bc3,,, runAsUser: 65534,1,1
openstack%2Fbifrost~master~I034a5fffb982a848ceda3db6635da841f869111e,openstack/bifrost,master,I034a5fffb982a848ceda3db6635da841f869111e,Store inspector ramdisk logs by default,MERGED,2020-07-24 14:09:50.000000000,2020-07-29 13:04:39.000000000,2020-07-29 13:02:55.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-24 14:09:50.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'releasenotes/notes/inspector-ramdisk-logs-0db7c111fd455cec.yaml', 'playbooks/roles/bifrost-ironic-install/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1606aad1a4f9d31eceff2f1fd0e78c21489ba4f6', 'message': 'Store inspector ramdisk logs by default\n\nThey have not been stored previously because the logs collector was not\nenabled. Also use the standard location for logs and save them in the CI.\n\nChange-Id: I034a5fffb982a848ceda3db6635da841f869111e\n'}]",0,742888,1606aad1a4f9d31eceff2f1fd0e78c21489ba4f6,10,4,1,10239,,,0,"Store inspector ramdisk logs by default

They have not been stored previously because the logs collector was not
enabled. Also use the standard location for logs and save them in the CI.

Change-Id: I034a5fffb982a848ceda3db6635da841f869111e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/88/742888/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'releasenotes/notes/inspector-ramdisk-logs-0db7c111fd455cec.yaml', 'playbooks/roles/bifrost-ironic-install/README.md']",6,1606aad1a4f9d31eceff2f1fd0e78c21489ba4f6,inspector-ramdisk-logs,,inspector_data_dir: Base path for ironic-inspector's temporary data and log files. The default location is `/opt/stack/ironic-inspector/var`. ,27,25
openstack%2Fopenstack-ansible~master~I09d6ab1e38732bead46eb03c112ea4f41e1fd6d2,openstack/openstack-ansible,master,I09d6ab1e38732bead46eb03c112ea4f41e1fd6d2,Imported Translations from Zanata,MERGED,2020-07-29 08:57:36.000000000,2020-07-29 12:40:00.000000000,2020-07-29 12:37:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-07-29 08:57:36.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/706ac12d58da63a6c0dd55a1a735231486cbbb9d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I09d6ab1e38732bead46eb03c112ea4f41e1fd6d2\n'}]",0,743698,706ac12d58da63a6c0dd55a1a735231486cbbb9d,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I09d6ab1e38732bead46eb03c112ea4f41e1fd6d2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/743698/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po']",2,706ac12d58da63a6c0dd55a1a735231486cbbb9d,zanata/translations,"""Project-Id-Version: openstack-ansible 21.1.0.dev70\n""""POT-Creation-Date: 2020-07-28 15:18+0000\n""""PO-Revision-Date: 2020-07-28 07:27+0000\n""""Copy the whole variable ``haproxy_default_services`` from ``/opt/openstack-"" ""ansible/inventory/group_vars/haproxy/haproxy.yml`` to ``/etc/"" ""openstack_deploy/group_vars/haproxy/haproxy_all.yml`` and update the section "" ""for horizon to include the ACL redirects http-01 challenges to the HAProxy "" ""``letsencrypt`` backend as follows:"" msgstr """" ""Salin seluruh variabel ``haproxy_default_services`` dari ``/opt/openstack-"" ""ansible/inventory/group_vars/haproxy/haproxy.yml`` ke ``/etc/"" ""openstack_deploy/group_vars/haproxy/haproxy_all.yml`` dan perbarui bagian "" ""untuk horizon untuk menyertakan ACL pengalihan tantangan HTTP-01 ke backend "" ""HAProxy ``letsencrypt`` sebagai berikut:"" msgid """"""Deployment of certificates using LetsEncrypt has been validated for "" ""openstack-ansible using Ubuntu Bionic. Other distributions should work but "" ""are not tested."" msgstr """" ""Penyebaran sertifikat menggunakan LetsEncrypt telah divalidasi untuk "" ""openstack-ansible menggunakan Ubuntu Bionic. Distribusi lain harus berfungsi "" ""tetapi tidak diuji."" msgid """"msgid ""LetsEncrypt certificates"" msgstr ""Sertifikat LetsEncrypt"" ""The HAProxy ansible role supports using LetsEncrypt to automatically deploy "" ""trusted SSL certificates for the public endpoint. Each HAProxy server will "" ""individually request a LetsEncrypt certificate."" msgstr """" ""Peran HAProxy yang didukung mendukung penggunaan LetsEncrypt untuk secara "" ""otomatis menggunakan sertifikat SSL tepercaya untuk public endpoint. Setiap "" ""server HAProxy secara individual akan meminta sertifikat LetsEncrypt."" msgid """"""The http-01 type challenge is used by certbot to deploy certificates so it "" ""is required that the public endpoint is accessible directly on the internet."" msgstr """" ""Tantangan jenis HTTP-01 digunakan oleh certbot untuk menyebarkan sertifikat "" ""sehingga diperlukan titik akhir publik yang dapat diakses langsung di "" ""internet."" msgid """"""To deploy certificates with LetsEncrypt, add the following to ``/etc/"" ""openstack_deploy/user_variables.yml`` to enable the letsencrypt function in "" ""the haproxy ansible role, and to create a new backend service called "" ""``letsencrypt`` to service http-01 challenge requests."" msgstr """" ""Untuk menggunakan sertifikat dengan LetsEncrypt, tambahkan berikut ini ke ``/"" ""etc/openstack_deploy/user_variables.yml`` untuk mengaktifkan fungsi "" ""letsencrypt dalam peran yang dimungkinkan haproxy, dan untuk membuat layanan "" ""backend baru yang disebut ``letsencrypt`` ke layanan HTTP- 01 permintaan "" ""tantangan."" msgid """"","""Project-Id-Version: openstack-ansible 21.1.0.dev69\n""""POT-Creation-Date: 2020-07-28 04:07+0000\n""""PO-Revision-Date: 2020-07-26 05:10+0000\n""",68,5
openstack%2Freleases~master~I26ce53a13d99ffb1a0d3b7fc959c26ef2a0fe347,openstack/releases,master,I26ce53a13d99ffb1a0d3b7fc959c26ef2a0fe347,Release OpenStack-Ansible Train,MERGED,2020-07-28 14:52:12.000000000,2020-07-29 12:31:38.000000000,2020-07-29 12:31:37.000000000,"[{'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-28 14:52:12.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e575fc7bed902db603f08f7fc9c21289082c9b09', 'message': 'Release OpenStack-Ansible Train\n\nChange-Id: I26ce53a13d99ffb1a0d3b7fc959c26ef2a0fe347\n'}]",0,743561,e575fc7bed902db603f08f7fc9c21289082c9b09,8,4,1,28619,,,0,"Release OpenStack-Ansible Train

Change-Id: I26ce53a13d99ffb1a0d3b7fc959c26ef2a0fe347
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/743561/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,e575fc7bed902db603f08f7fc9c21289082c9b09,release_osa, - projects: - hash: c2cd76addfcda99f21381f5985a5edb185d22628 repo: openstack/openstack-ansible version: 20.1.4,,4,0
openstack%2Freleases~master~Ibae82edf8a16fc85b209f8245c40ea599257bdcd,openstack/releases,master,Ibae82edf8a16fc85b209f8245c40ea599257bdcd,Release OpenStack-Ansible Stein,MERGED,2020-07-28 14:53:40.000000000,2020-07-29 12:31:36.000000000,2020-07-29 12:31:36.000000000,"[{'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-28 14:53:40.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7afab72955c6309a87ec95c5b8471a686f023e28', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: Ibae82edf8a16fc85b209f8245c40ea599257bdcd\n'}]",0,743563,7afab72955c6309a87ec95c5b8471a686f023e28,8,4,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: Ibae82edf8a16fc85b209f8245c40ea599257bdcd
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/743563/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,7afab72955c6309a87ec95c5b8471a686f023e28,release_osa, - version: 19.1.3 projects: - repo: openstack/openstack-ansible hash: 0195dace9abf20ee5abb3ab500d5cc806208277a,,4,0
openstack%2Fnetworking-l2gw~stable%2Fqueens~I1bf048df49c385a92fea55f99bd0a7c4283960cf,openstack/networking-l2gw,stable/queens,I1bf048df49c385a92fea55f99bd0a7c4283960cf,Retire networking-l2gw: remove zuul jobs,MERGED,2020-07-27 09:52:44.000000000,2020-07-29 12:26:08.000000000,2020-07-29 12:26:08.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 09:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/236d008141846b61e3981c0f107269734282ac36', 'message': 'Retire networking-l2gw: remove zuul jobs\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace. As a first step\ndisable zuul jobs to avoid collisions when the new repository will be\ncreated as x/networking-l2gw.\n\nConflicts: .zuul.yaml, on rocky there were no templates, and as the\nmain goal is to remove networking-l2gw-tempest-plugin those jobs are\nremoved.\nAdded bindep.txt to make sure that mysql and other things are in place.\n\nChange-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf\n(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)\n(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)\n(cherry picked from commit 243ea9820f539694b7bb3f2e9eb91eb98cb6ef66)\n'}, {'number': 2, 'created': '2020-07-27 12:18:11.000000000', 'files': ['bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/fe947e393000d242b91e7909d2ddfd7a978aec5d', 'message': 'Retire networking-l2gw: remove zuul jobs\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace. As a first step\ndisable zuul jobs to avoid collisions when the new repository will be\ncreated as x/networking-l2gw.\n\nConflicts: .zuul.yaml, on rocky there were no templates, and as the\nmain goal is to remove networking-l2gw-tempest-plugin those jobs are\nremoved.\nAdded bindep.txt to make sure that mysql and other things are in place.\n\nChange-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf\n(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)\n(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)\n(cherry picked from commit 243ea9820f539694b7bb3f2e9eb91eb98cb6ef66)\n(cherry picked from commit 4074c22b0af71d8e8ca92304291143120dcedcc0)\n'}]",0,743181,fe947e393000d242b91e7909d2ddfd7a978aec5d,8,4,2,8313,,,0,"Retire networking-l2gw: remove zuul jobs

networking-l2gw is not a neutron stadium project, and not governed by
openstack, so it is time to move it to x/ namespace. As a first step
disable zuul jobs to avoid collisions when the new repository will be
created as x/networking-l2gw.

Conflicts: .zuul.yaml, on rocky there were no templates, and as the
main goal is to remove networking-l2gw-tempest-plugin those jobs are
removed.
Added bindep.txt to make sure that mysql and other things are in place.

Change-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf
(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)
(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)
(cherry picked from commit 243ea9820f539694b7bb3f2e9eb91eb98cb6ef66)
(cherry picked from commit 4074c22b0af71d8e8ca92304291143120dcedcc0)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/81/743181/2 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml']",2,236d008141846b61e3981c0f107269734282ac36,review/lajos_katona/complete-retirement-networking-l2gw-stable/train-stable/stein-stable/rocky-stable/queens, - l2gw-tox-lower-constraints - l2gw-tox-lower-constraints - job: name: l2gw-tox-lower-constraints parent: openstack-tox-lower-constraints required-projects: - openstack/neutron, name: openstack/networking-l2gw - networking-l2gw-tempest-dummy - networking-l2gw-tempest-dummy,40,3
openstack%2Fcharm-trilio-data-mover~master~Id4c1f4ab2085409fb300d5a26e23599403538210,openstack/charm-trilio-data-mover,master,Id4c1f4ab2085409fb300d5a26e23599403538210,Add focal and groovy to metadata,MERGED,2020-07-29 10:15:16.000000000,2020-07-29 12:23:53.000000000,2020-07-29 12:23:53.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 10:15:16.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/9444234ef66ed77c0f22e53fef35bde67d9825ae', 'message': 'Add focal and groovy to metadata\n\nEnable deployment with focal and groovy for testing.\n\nChange-Id: Id4c1f4ab2085409fb300d5a26e23599403538210\n'}]",0,743715,9444234ef66ed77c0f22e53fef35bde67d9825ae,7,3,1,935,,,0,"Add focal and groovy to metadata

Enable deployment with focal and groovy for testing.

Change-Id: Id4c1f4ab2085409fb300d5a26e23599403538210
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/15/743715/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,9444234ef66ed77c0f22e53fef35bde67d9825ae,focal-n-groovy,- focal - groovy,,2,0
openstack%2Fmanila~stable%2Fussuri~Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,openstack/manila,stable/ussuri,Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,Harden LVM driver deletion paths,MERGED,2020-07-28 22:27:56.000000000,2020-07-29 12:22:49.000000000,2020-07-29 11:42:13.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-28 22:27:56.000000000', 'files': ['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8620f7efed1c2b669a06f13440add1eb20ef12e9', 'message': 'Harden LVM driver deletion paths\n\nDuring maintenance, administrators may decide\nto unmount shares, snapshots or remove them\nentirely prior to cleaning up LVM share resources\nin manila. The driver should not fail on deletion\nof missing resources.\n\nChange-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f\nCloses-Bug: #1888915\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit e57809fd74186714aec7dae305380a51c31fc7d5)\n'}]",0,743642,8620f7efed1c2b669a06f13440add1eb20ef12e9,14,5,1,16643,,,0,"Harden LVM driver deletion paths

During maintenance, administrators may decide
to unmount shares, snapshots or remove them
entirely prior to cleaning up LVM share resources
in manila. The driver should not fail on deletion
of missing resources.

Change-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f
Closes-Bug: #1888915
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit e57809fd74186714aec7dae305380a51c31fc7d5)
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/743642/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py']",5,8620f7efed1c2b669a06f13440add1eb20ef12e9,bug/1888915," err_pattern = re.compile("".*failed to find.*|.*not found.*"", re.IGNORECASE) if not err_pattern.match(exc.stderr): self._unmount_device(share, raise_if_missing=False) def _unmount_device(self, share_or_snapshot, raise_if_missing=True): if 'device is busy' in exc.stderr.lower(): elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) raise self._unmount_device(snapshot, raise_if_missing=False)"," if ""not found"" not in exc.stderr: self._unmount_device(share) def _unmount_device(self, share_or_snapshot): if 'device is busy' in six.text_type(exc): self._unmount_device(snapshot)",82,12
openstack%2Fpuppet-openstack-integration~master~Id0774727b5e86572e9aed3b3c519093e6219c7e9,openstack/puppet-openstack-integration,master,Id0774727b5e86572e9aed3b3c519093e6219c7e9,Use new repositories setup in integration tests,ABANDONED,2020-07-21 05:15:25.000000000,2020-07-29 12:19:40.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 05:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6d4850c04ad866b52d237ff2247bd84d715c0def', 'message': 'WIP: Use new repogitories setup\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 2, 'created': '2020-07-21 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/82200141d5d76bd53a4bd42a7bbb247ab1c8a0c4', 'message': 'WIP: Use new repogitories setup\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 3, 'created': '2020-07-21 23:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9cf6b680ce0a788eeb3252f7e5f5f6282c8be968', 'message': 'WIP: Use new repogitories setup\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 4, 'created': '2020-07-22 01:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ee16fe1a4d65aa0bad6e58675c81c8227801b544', 'message': 'WIP: Use new repogitories setup\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 5, 'created': '2020-07-22 03:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/98c94a6bf842be4f195ad33186a1031b4d401759', 'message': 'WIP: Use new repogitories setup\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 6, 'created': '2020-07-22 04:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d970f0c1c5b91c9d1d75f4f9aa82159acabb3a08', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 7, 'created': '2020-07-23 14:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/125bc1959eff5fc8cc404aba96f2dfdd88c96de3', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 8, 'created': '2020-07-27 04:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9414446cf9be8f58643b88c8f4e0a1204f95ffb8', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 9, 'created': '2020-07-27 04:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/126e2554011f3875a5d7f0d16f8cef9b029d84b8', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 10, 'created': '2020-07-27 04:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/509c677376f51148bd459cf082dd67e02ce7396f', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 11, 'created': '2020-07-29 04:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2b137d0f3fa13e552173e1595a66c98e7788aaf4', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}, {'number': 12, 'created': '2020-07-29 12:08:52.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ba210d87bc21563d64a2e027c0cecab58f656950', 'message': 'Use new repositories setup in integration tests\n\nChange-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9\n'}]",0,742069,ba210d87bc21563d64a2e027c0cecab58f656950,24,2,12,9816,,,0,"Use new repositories setup in integration tests

Change-Id: Id0774727b5e86572e9aed3b3c519093e6219c7e9
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/69/742069/11 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,6d4850c04ad866b52d237ff2247bd84d715c0def,centos8-beaker," $SUDO $PUPPET_FULL_PATH apply $PUPPET_ARGS -e ""include openstack_integration::repos"" RESULT=$?"," if [[ ""${REDHAT_SUPPORT_PRODUCT,,}"" = ""centos"" && ${REDHAT_SUPPORT_PRODUCT_VERSION} = ""8"" ]]; then $SUDO curl -o /etc/yum.repos.d/delorean.repo ${NODEPOOL_RDO_PROXY}/${DLRN_BASE_URL} $SUDO sed -i ""s|https://trunk.rdoproject.org|${NODEPOOL_RDO_PROXY}|"" /etc/yum.repos.d/delorean.repo $SUDO curl -o /etc/yum.repos.d/delorean-deps.repo ${NODEPOOL_RDO_PROXY}/${DLRN_DEPS_URL} $SUDO sed -i ""s|https://trunk.rdoproject.org|${NODEPOOL_RDO_PROXY}|"" /etc/yum.repos.d/delorean-deps.repo RESULT=$? else $SUDO $PUPPET_FULL_PATH apply $PUPPET_ARGS -e ""include openstack_integration::repos"" RESULT=$? fi",2,10
openstack%2Fnova~master~I0777e037fbc82c0ea0256f4ed5b71b26f93326af,openstack/nova,master,I0777e037fbc82c0ea0256f4ed5b71b26f93326af,WIP libvirt: Check if device is listed in the inactive config during detach,ABANDONED,2020-07-16 23:12:09.000000000,2020-07-29 12:19:21.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-16 23:12:09.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c31c629278ea399e5a72b7c9556c4173a5d14bd8', 'message': ""WIP libvirt: Check if device is listed in the inactive config during detach\n\nNova would previously assume that persistent domains always had the\ndevice listed in the inactive config. However this isn't the case if\nprevious attempts to detach a device from the live config had failed.\nSubsequent attempts to detach the device would first start by attempting\nto detach the device from both the live *and* inactive persistent\nconfig. This would result in an uncaught failure as the device is no\nlonger persent in the inactive config thanks to the initial attempt to\ndetach.\n\nThis change corrects this by removing the use of the domain wide\nhas_persistent_configuration check and instead wires up the ability to\ncheck for the specific device in the inactive config.\n\nCloses-Bug: #TODO\nChange-Id: I0777e037fbc82c0ea0256f4ed5b71b26f93326af\n""}]",0,741557,c31c629278ea399e5a72b7c9556c4173a5d14bd8,8,6,1,10135,,,0,"WIP libvirt: Check if device is listed in the inactive config during detach

Nova would previously assume that persistent domains always had the
device listed in the inactive config. However this isn't the case if
previous attempts to detach a device from the live config had failed.
Subsequent attempts to detach the device would first start by attempting
to detach the device from both the live *and* inactive persistent
config. This would result in an uncaught failure as the device is no
longer persent in the inactive config thanks to the initial attempt to
detach.

This change corrects this by removing the use of the domain wide
has_persistent_configuration check and instead wires up the ability to
check for the specific device in the inactive config.

Closes-Bug: #TODO
Change-Id: I0777e037fbc82c0ea0256f4ed5b71b26f93326af
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/741557/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,c31c629278ea399e5a72b7c9556c4173a5d14bd8,," def get_interface_by_cfg(self, cfg, inactive=False): def get_disk(self, device, inactive=False): doc = etree.fromstring(self.get_xml_desc(dump_inactive=inactive)) inactive_conf = get_device_conf_func(device, inactive=True) persistent = inactive_conf is not None"," def get_interface_by_cfg(self, cfg): def get_disk(self, device): doc = etree.fromstring(self._domain.XMLDesc(0)) persistent = self.has_persistent_configuration()",5,4
openstack%2Fcinderlib~stable%2Fussuri~Ic4a6bcede742da691b1ac1ab91c8f6d5786fceb1,openstack/cinderlib,stable/ussuri,Ic4a6bcede742da691b1ac1ab91c8f6d5786fceb1,Update .gitreview for stable/ussuri,MERGED,2020-07-23 09:21:23.000000000,2020-07-29 12:18:57.000000000,2020-07-29 12:16:34.000000000,"[{'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:21:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/40106f9c17282e887335704463cbe8cc7e894885', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Ic4a6bcede742da691b1ac1ab91c8f6d5786fceb1\n'}]",0,742619,40106f9c17282e887335704463cbe8cc7e894885,12,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Ic4a6bcede742da691b1ac1ab91c8f6d5786fceb1
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/19/742619/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,40106f9c17282e887335704463cbe8cc7e894885,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Freleases~master~Ie257805fe137a7eeeda902f181c9861e87f09317,openstack/releases,master,Ie257805fe137a7eeeda902f181c9861e87f09317,[Glance] Victoria milestone 2 release,MERGED,2020-07-29 09:11:37.000000000,2020-07-29 12:18:37.000000000,2020-07-29 12:18:36.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 09:11:37.000000000', 'files': ['deliverables/victoria/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/946c5c7128dd4d16e596466559538096b83cd64a', 'message': '[Glance] Victoria milestone 2 release\n\nChange-Id: Ie257805fe137a7eeeda902f181c9861e87f09317\n'}]",0,743701,946c5c7128dd4d16e596466559538096b83cd64a,8,4,1,9303,,,0,"[Glance] Victoria milestone 2 release

Change-Id: Ie257805fe137a7eeeda902f181c9861e87f09317
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/743701/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/glance.yaml'],1,946c5c7128dd4d16e596466559538096b83cd64a,victorial-m2-release,releases: - version: 21.0.0.0b1 projects: - repo: openstack/glance hash: cfbe5f7630c8b71c480f9a4bbbbf923c3e166a82,,5,0
openstack%2Fcharm-trilio-wlm~master~Ie4a78c99617a7b78cff1a2ccc0263fbd6e5585a8,openstack/charm-trilio-wlm,master,Ie4a78c99617a7b78cff1a2ccc0263fbd6e5585a8,Add focal and groovy to metadata,MERGED,2020-07-29 10:15:56.000000000,2020-07-29 12:16:32.000000000,2020-07-29 12:16:32.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 10:15:56.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/2429fc766ada80131b29383e1751caa68db06600', 'message': 'Add focal and groovy to metadata\n\nEnable deployment with focal and groovy for testing.\n\nChange-Id: Ie4a78c99617a7b78cff1a2ccc0263fbd6e5585a8\n'}]",0,743716,2429fc766ada80131b29383e1751caa68db06600,7,3,1,935,,,0,"Add focal and groovy to metadata

Enable deployment with focal and groovy for testing.

Change-Id: Ie4a78c99617a7b78cff1a2ccc0263fbd6e5585a8
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/16/743716/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2429fc766ada80131b29383e1751caa68db06600,focal-n-groovy,- focal - groovy,,2,0
openstack%2Fcharm-trilio-horizon-plugin~master~If5ee4711524cc0710565f6120288ca91a43151d2,openstack/charm-trilio-horizon-plugin,master,If5ee4711524cc0710565f6120288ca91a43151d2,Add focal and groovy to metadata,MERGED,2020-07-29 10:16:31.000000000,2020-07-29 12:16:31.000000000,2020-07-29 12:16:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 10:16:31.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/94b9b7f2376fe2f2d3cc6e775e47ae5e9b6bf3e4', 'message': 'Add focal and groovy to metadata\n\nEnable deployment with focal and groovy for testing.\n\nChange-Id: If5ee4711524cc0710565f6120288ca91a43151d2\n'}]",0,743717,94b9b7f2376fe2f2d3cc6e775e47ae5e9b6bf3e4,7,3,1,935,,,0,"Add focal and groovy to metadata

Enable deployment with focal and groovy for testing.

Change-Id: If5ee4711524cc0710565f6120288ca91a43151d2
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/17/743717/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,94b9b7f2376fe2f2d3cc6e775e47ae5e9b6bf3e4,focal-n-groovy,- focal - groovy,,2,0
openstack%2Fcharm-trilio-dm-api~master~I98b1d0a20eb1c7e2928b210261542e265d31585a,openstack/charm-trilio-dm-api,master,I98b1d0a20eb1c7e2928b210261542e265d31585a,Add focal and groovy to metadata,MERGED,2020-07-29 10:14:43.000000000,2020-07-29 12:16:30.000000000,2020-07-29 12:16:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 10:14:43.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/64cb46b0a4d98a3ee0869bf47825af4e5189b769', 'message': 'Add focal and groovy to metadata\n\nEnable deployment with focal and groovy for testing.\n\nChange-Id: I98b1d0a20eb1c7e2928b210261542e265d31585a\n'}]",0,743714,64cb46b0a4d98a3ee0869bf47825af4e5189b769,7,3,1,935,,,0,"Add focal and groovy to metadata

Enable deployment with focal and groovy for testing.

Change-Id: I98b1d0a20eb1c7e2928b210261542e265d31585a
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/14/743714/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,64cb46b0a4d98a3ee0869bf47825af4e5189b769,focal-n-groovy,- focal - groovy,,2,0
openstack%2Ftripleo-ci~master~I97ba6ab7f9440b616e19719ba28af0f7b2b6f805,openstack/tripleo-ci,master,I97ba6ab7f9440b616e19719ba28af0f7b2b6f805,"Revert ""Disable ubi8 job on train""",MERGED,2020-07-21 14:29:26.000000000,2020-07-29 12:11:39.000000000,2020-07-29 12:11:39.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-21 14:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a0e54d36c375518e939b770702556a3a20e872e', 'message': 'Revert ""Disable ubi8 job on train""\n\nThis reverts commit f0cb940efada3d9e2bcce33b48bd0ac4dec5896d.\n\nDepends-On: https://review.opendev.org/740095\nChange-Id: I97ba6ab7f9440b616e19719ba28af0f7b2b6f805\n'}, {'number': 2, 'created': '2020-07-21 19:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c72a658c94bd26ce94ecc90d4db735fe10f9f3c0', 'message': 'Revert ""Disable ubi8 job on train""\n\nThis reverts commit f0cb940efada3d9e2bcce33b48bd0ac4dec5896d.\n\nDepends-On: https://review.opendev.org/740095\nChange-Id: I97ba6ab7f9440b616e19719ba28af0f7b2b6f805\n'}, {'number': 3, 'created': '2020-07-29 02:31:56.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e42e1f54951ccd2b60d44067d6cce8eb03f6e12', 'message': 'Revert ""Disable ubi8 job on train""\n\nThis reverts commit f0cb940efada3d9e2bcce33b48bd0ac4dec5896d.\n\nDepends-On: https://review.opendev.org/740095\nChange-Id: I97ba6ab7f9440b616e19719ba28af0f7b2b6f805\n'}]",0,742208,2e42e1f54951ccd2b60d44067d6cce8eb03f6e12,29,6,3,3153,,,0,"Revert ""Disable ubi8 job on train""

This reverts commit f0cb940efada3d9e2bcce33b48bd0ac4dec5896d.

Depends-On: https://review.opendev.org/740095
Change-Id: I97ba6ab7f9440b616e19719ba28af0f7b2b6f805
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/742208/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,8a0e54d36c375518e939b770702556a3a20e872e,revert, branches: ^(?!stable/(pike|queens|rocky|stein)).*$, branches: ^(?!stable/(pike|queens|rocky|stein|train)).*$,1,1
openstack%2Freleases~master~I63e0bbb6d9091ee3bec1e13ced992dc5e2e3408d,openstack/releases,master,I63e0bbb6d9091ee3bec1e13ced992dc5e2e3408d,[manila] release 10.0.1 from stable/ussuri,MERGED,2020-07-27 22:13:49.000000000,2020-07-29 12:05:24.000000000,2020-07-29 12:05:24.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 22:13:49.000000000', 'files': ['deliverables/ussuri/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e71b67eeea5ecd5980e8c65d585d8dc766ed4047', 'message': ""[manila] release 10.0.1 from stable/ussuri\n\nA number of bug fixes have been committed to\nmanila's stable/ussuri branch, fixing:\n\nbug #1863021 - eventlet monkey patching issue\nbug #1879754 - neutron port lookup\nbug #1880747 - netapp default ipspace deletion\nbug #1703581 - lvm driver fails to extend cifs\nbug #1802424 - async message when shrinking fails\nbug #1841035 - dell emc unity cifs ace creation\nbug #1882590 - netapp vserver scoped driver auth\nbug #1878993 - netapp cert verification with py3.7\nbug #1688620 - netapp retrying migration abort\nbug #1885956 - share type api creates db record on failure\nbug #1887694 - lvm driver extension\nbug #1887695 - systemctl proxying\nbug #1887643 - netapp active directory config\n\nNo user facing API has been altered in a regressive\nmanner, no db schema changes have been committed\nand the new configuration option comes with\nan appropriate default, and has no upgrade impact.\n\nChange-Id: I63e0bbb6d9091ee3bec1e13ced992dc5e2e3408d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,743428,e71b67eeea5ecd5980e8c65d585d8dc766ed4047,9,5,1,16643,,,0,"[manila] release 10.0.1 from stable/ussuri

A number of bug fixes have been committed to
manila's stable/ussuri branch, fixing:

bug #1863021 - eventlet monkey patching issue
bug #1879754 - neutron port lookup
bug #1880747 - netapp default ipspace deletion
bug #1703581 - lvm driver fails to extend cifs
bug #1802424 - async message when shrinking fails
bug #1841035 - dell emc unity cifs ace creation
bug #1882590 - netapp vserver scoped driver auth
bug #1878993 - netapp cert verification with py3.7
bug #1688620 - netapp retrying migration abort
bug #1885956 - share type api creates db record on failure
bug #1887694 - lvm driver extension
bug #1887695 - systemctl proxying
bug #1887643 - netapp active directory config

No user facing API has been altered in a regressive
manner, no db schema changes have been committed
and the new configuration option comes with
an appropriate default, and has no upgrade impact.

Change-Id: I63e0bbb6d9091ee3bec1e13ced992dc5e2e3408d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/743428/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/manila.yaml'],1,e71b67eeea5ecd5980e8c65d585d8dc766ed4047,manila, - version: 10.0.1 projects: - repo: openstack/manila hash: 2088ac90327b9d1cc04610383da07098ddc9e53b,,4,0
openstack%2Fkeystone~master~I03f6c58dce7d140d62055a97063aeb480498e5e6,openstack/keystone,master,I03f6c58dce7d140d62055a97063aeb480498e5e6,"Fix ""allow expired"" feature for JWT",MERGED,2020-07-07 14:56:39.000000000,2020-07-29 12:04:34.000000000,2020-07-29 12:01:25.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9373}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-07-07 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c536a637156ba7b47b8e95f4135502e07aeea69', 'message': 'Fix ""allow expired"" feature for JWT\n\nGET /v3/auth/tokens?allow_expired=1 works fine with fernet tokens\nreturning the expired token data, whereas it returns exception\nTokenNotFound for JWT. This patch fixes the same.\n\nChange-Id: I03f6c58dce7d140d62055a97063aeb480498e5e6\nCloses-Bug: #1886017\n'}, {'number': 2, 'created': '2020-07-08 12:01:03.000000000', 'files': ['releasenotes/notes/bug-1886017-bc2ad648d57101a2.yaml', 'keystone/tests/unit/test_v3_auth.py', 'keystone/token/providers/jws/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2707498474003883530688a222e4143cf04ad2a7', 'message': 'Fix ""allow expired"" feature for JWT\n\nGET /v3/auth/tokens?allow_expired=1 works fine with fernet tokens\nreturning the expired token data, whereas it returns exception\nTokenNotFound for JWT. This patch fixes the same.\n\nChange-Id: I03f6c58dce7d140d62055a97063aeb480498e5e6\nCloses-Bug: #1886017\n'}]",4,739784,2707498474003883530688a222e4143cf04ad2a7,18,7,2,27621,,,0,"Fix ""allow expired"" feature for JWT

GET /v3/auth/tokens?allow_expired=1 works fine with fernet tokens
returning the expired token data, whereas it returns exception
TokenNotFound for JWT. This patch fixes the same.

Change-Id: I03f6c58dce7d140d62055a97063aeb480498e5e6
Closes-Bug: #1886017
",git fetch https://review.opendev.org/openstack/keystone refs/changes/84/739784/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1886017-bc2ad648d57101a2.yaml', 'keystone/tests/unit/test_v3_auth.py', 'keystone/token/providers/jws/core.py']",3,2c536a637156ba7b47b8e95f4135502e07aeea69,," options = dict() options['verify_exp'] = False token_id, public_key, algorithms=JWSFormatter.algorithm, options=options"," token_id, public_key, algorithms=JWSFormatter.algorithm",26,1
openstack%2Frequirements~master~Icc3b05558f8caec395cd8b194cd99b4db2e8636a,openstack/requirements,master,Icc3b05558f8caec395cd8b194cd99b4db2e8636a,Deprecate os_congress project,MERGED,2020-07-22 19:58:03.000000000,2020-07-29 11:58:42.000000000,2020-07-29 11:57:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-22 19:58:03.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/41837ddc482e67c10c3e6651c3fb5d1661e69764', 'message': 'Deprecate os_congress project\n\nChange-Id: Icc3b05558f8caec395cd8b194cd99b4db2e8636a\n'}]",1,742530,41837ddc482e67c10c3e6651c3fb5d1661e69764,11,4,1,28619,,,0,"Deprecate os_congress project

Change-Id: Icc3b05558f8caec395cd8b194cd99b4db2e8636a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/742530/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,41837ddc482e67c10c3e6651c3fb5d1661e69764,osa/os_congress,,openstack/openstack-ansible-os_congress,0,1
openstack%2Fheat~stable%2Fstein~I6b74faed820caccd39210bd48a212b2dedca46b9,openstack/heat,stable/stein,I6b74faed820caccd39210bd48a212b2dedca46b9,Don't store signal_url for ec2 signaling of deployments,MERGED,2020-06-08 09:25:29.000000000,2020-07-29 11:50:56.000000000,2020-07-27 12:34:39.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/17c1033d8f2ad90ae06e514667d4abb61bb7c230', 'message': ""Don't store signal_url for ec2 signaling of deployments\n\nAs part of a CVE keystone has started checking[1] the timestamp\nof signed ec2 token with default TTL of 15 mins. We can't\nstore the ec2 url anymore for future use for those.\n\nThis moves the caching logic to BaseWaitConditionHandle class.\n\nConflicts:\n\theat/engine/resources/signal_responder.py\n\theat/tests/test_signal.py\n\n[1] https://review.opendev.org/#/c/724124/\n\nChange-Id: I6b74faed820caccd39210bd48a212b2dedca46b9\nTask: 39985\nRelated-Bug: #1872737\n(cherry picked from commit 3047ca7d36baaa59ab2960602da956d2087a2a62)\n""}, {'number': 2, 'created': '2020-06-10 06:36:13.000000000', 'files': ['heat/tests/test_metadata_refresh.py', 'heat/engine/resources/signal_responder.py', 'heat/tests/test_signal.py', 'heat/tests/aws/test_waitcondition.py', 'heat/engine/resources/wait_condition.py', 'heat/tests/engine/service/test_stack_resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/913c428b3030c67b3110af75f24dd8f99be00dbf', 'message': ""Don't store signal_url for ec2 signaling of deployments\n\nAs part of a CVE keystone has started checking[1] the timestamp\nof signed ec2 token with default TTL of 15 mins. We can't\nstore the ec2 url anymore for future use for those.\n\nThis moves the caching logic to BaseWaitConditionHandle class.\n\nConflicts:\n\theat/engine/resources/signal_responder.py\n\theat/tests/test_signal.py\n\n[1] https://review.opendev.org/#/c/724124/\n\nChange-Id: I6b74faed820caccd39210bd48a212b2dedca46b9\nTask: 39985\nRelated-Bug: #1872737\n(cherry picked from commit 3047ca7d36baaa59ab2960602da956d2087a2a62)\n""}]",0,734049,913c428b3030c67b3110af75f24dd8f99be00dbf,26,4,2,8833,,,0,"Don't store signal_url for ec2 signaling of deployments

As part of a CVE keystone has started checking[1] the timestamp
of signed ec2 token with default TTL of 15 mins. We can't
store the ec2 url anymore for future use for those.

This moves the caching logic to BaseWaitConditionHandle class.

Conflicts:
	heat/engine/resources/signal_responder.py
	heat/tests/test_signal.py

[1] https://review.opendev.org/#/c/724124/

Change-Id: I6b74faed820caccd39210bd48a212b2dedca46b9
Task: 39985
Related-Bug: #1872737
(cherry picked from commit 3047ca7d36baaa59ab2960602da956d2087a2a62)
",git fetch https://review.opendev.org/openstack/heat refs/changes/49/734049/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_metadata_refresh.py', 'heat/engine/resources/signal_responder.py', 'heat/tests/test_signal.py', 'heat/tests/aws/test_waitcondition.py', 'heat/engine/resources/wait_condition.py', 'heat/tests/engine/service/test_stack_resources.py']",6,17c1033d8f2ad90ae06e514667d4abb61bb7c230,,"from heat.engine.clients.os import heat_plugin @mock.patch.object(heat_plugin.HeatClientPlugin, 'get_heat_cfn_url') mock_update, mock_get_cfn): mock_get_cfn.return_value = 'http://server.test:8000/v1'", mock_update):,27,12
openstack%2Frequirements~master~I0f177a2c20cbe039927dcc240eb7c7ae81941b88,openstack/requirements,master,I0f177a2c20cbe039927dcc240eb7c7ae81941b88,Remove skydive-client from global requirements,MERGED,2020-06-23 21:55:22.000000000,2020-07-29 11:45:35.000000000,2020-07-29 11:44:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 21:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a31bc1177f2931615307d7ae75d9ef98bb9971c', 'message': 'Remove skydive-client from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I0f177a2c20cbe039927dcc240eb7c7ae81941b88\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-29 17:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/98d614c14bdf8229959cdfc373ce82fce901aab4', 'message': 'Remove skydive-client from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I0f177a2c20cbe039927dcc240eb7c7ae81941b88\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-07-20 16:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3be6698289e26dd28cee7c044369d2e86ddeeb4d', 'message': 'Remove skydive-client from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I0f177a2c20cbe039927dcc240eb7c7ae81941b88\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-07-28 13:32:48.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/754ff258aae004834f0deb5adc15129fe0a0563b', 'message': 'Remove skydive-client from global requirements\n\nThis package was only used in openstack/dragonflow. Now that that\nproject is being retired we can remove this from g-r.\n\nDepends-on: https://review.opendev.org/737564\n\nChange-Id: I0f177a2c20cbe039927dcc240eb7c7ae81941b88\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,737645,754ff258aae004834f0deb5adc15129fe0a0563b,28,4,4,11904,,,0,"Remove skydive-client from global requirements

This package was only used in openstack/dragonflow. Now that that
project is being retired we can remove this from g-r.

Depends-on: https://review.opendev.org/737564

Change-Id: I0f177a2c20cbe039927dcc240eb7c7ae81941b88
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/737645/4 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,3a31bc1177f2931615307d7ae75d9ef98bb9971c,dragonflow,,skydive-client===0.8.0,0,4
openstack%2Ftripleo-ansible~master~Ic6b4750ebb5b1ca97ffae122387cc72c4df46112,openstack/tripleo-ansible,master,Ic6b4750ebb5b1ca97ffae122387cc72c4df46112,Updated call to first_found,ABANDONED,2020-02-25 08:43:22.000000000,2020-07-29 11:45:19.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-25 08:43:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/install_pkgs.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', '_skeleton_role_/tasks/main.yml.j2', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bd389f5b3f235446b834458363f5a86cb837b9e', 'message': 'Updated call to first_found\n\nWith newer ansible, the ""skip=true"" should be replaced|updated with\n""errors=ignore"" parameter. This is possible only if we update the way we\ncall that lookup.\n\nChange-Id: Ic6b4750ebb5b1ca97ffae122387cc72c4df46112\nCloses-Bug: #1864618\n'}]",0,709667,2bd389f5b3f235446b834458363f5a86cb837b9e,7,7,1,28223,,,0,"Updated call to first_found

With newer ansible, the ""skip=true"" should be replaced|updated with
""errors=ignore"" parameter. This is possible only if we update the way we
call that lookup.

Change-Id: Ic6b4750ebb5b1ca97ffae122387cc72c4df46112
Closes-Bug: #1864618
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/709667/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/install_pkgs.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', '_skeleton_role_/tasks/main.yml.j2', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml']",22,2bd389f5b3f235446b834458363f5a86cb837b9e,loop/first_found," loop: ""{{ q('first_found', params, errors='ignore', skip=true) }}"" vars: params:", with_first_found: - skip: true,73,49
openstack%2Ftripleo-heat-templates~master~I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525,openstack/tripleo-heat-templates,master,I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525,Validate DNS resolution before anything,ABANDONED,2019-04-08 13:00:57.000000000,2020-07-29 11:44:12.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26297}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-08 13:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbc844cdb3dccc534560d407e96e55bbc10cfd8e', 'message': 'Validate DNS resolution before anything\n\nThis shows how we can use the tripleo-validations roles\ndirectly into the tripleo-heat-templates.\n\nDepends-On: https://review.openstack.org/650852\nChange-Id: I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525\n'}, {'number': 2, 'created': '2019-05-16 09:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a34003a3d24906830bd653f04dc132b1489fc67', 'message': 'Validate DNS resolution before anything\n\nThis shows how we can use the tripleo-validations roles\ndirectly into the tripleo-heat-templates.\n\nDepends-On: https://review.openstack.org/650852\nChange-Id: I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525\n'}, {'number': 3, 'created': '2019-07-29 06:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9ff7aeaa111e378826e44be73bf9d2e6066ad55', 'message': 'Validate DNS resolution before anything\n\nThis shows how we can use the tripleo-validations roles\ndirectly into the tripleo-heat-templates.\n\nDepends-On: https://review.openstack.org/650852\nChange-Id: I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525\n'}, {'number': 4, 'created': '2019-09-06 06:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39e613f696b290a127cd83f69e97426aea41eb60', 'message': 'Validate DNS resolution before anything\n\nThis shows how we can use the tripleo-validations roles\ndirectly into the tripleo-heat-templates.\n\nDepends-On: https://review.openstack.org/650852\nChange-Id: I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525\n'}, {'number': 5, 'created': '2019-10-18 13:02:40.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/374c0eabfc416958b4964cdb0c4f7a84d9b2cbec', 'message': 'Validate DNS resolution before anything\n\nThis shows how we can use the tripleo-validations roles\ndirectly into the tripleo-heat-templates.\n\nDepends-On: https://review.openstack.org/650852\nChange-Id: I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525\n'}]",2,650884,374c0eabfc416958b4964cdb0c4f7a84d9b2cbec,25,8,5,28223,,,0,"Validate DNS resolution before anything

This shows how we can use the tripleo-validations roles
directly into the tripleo-heat-templates.

Depends-On: https://review.openstack.org/650852
Change-Id: I4d47f34c1b4d2a7c64a0ffeb24b43c29a6e44525
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/650884/5 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,dbc844cdb3dccc534560d407e96e55bbc10cfd8e,inflight/validate-dns, name: Run validations tasks: - name: validate DNS include_role: role: dns - hosts: all gather_facts: no,,8,0
openstack%2Fdevstack~master~I88fd967de456dd034fbf6e96536e9fd8ee08f060,openstack/devstack,master,I88fd967de456dd034fbf6e96536e9fd8ee08f060,Do note set parameters for g-reg if it's disabled,ABANDONED,2020-06-04 14:53:17.000000000,2020-07-29 11:43:57.000000000,,"[{'_account_id': 9816}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-04 14:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f7a0db207e35c838bb64d59a818e4a5cbe3649e8', 'message': ""Do note set parameters for g-reg if it's disabled\n\nThe glance-registry service was deprecated in Queens release and it\nis no more required.\nThis patch removes all configurations requied for g-reg service unless\nit is actually enabled, so that we can confirm that Glance works\nproperly without these configurations, which shouldn't be required.\n\nChange-Id: I88fd967de456dd034fbf6e96536e9fd8ee08f060\n""}, {'number': 2, 'created': '2020-06-04 14:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/449c0384d348a44399bbb6800126aa639c550299', 'message': ""Do note set parameters for g-reg if it's disabled\n\nThe glance-registry service was deprecated in Queens release and it\nis no longer required.\nThis patch removes all configurations for g-reg service unless it is\nactually enabled, so that we can confirm that Glance works properly\nwithout these configurations, which shouldn't be required.\n\nChange-Id: I88fd967de456dd034fbf6e96536e9fd8ee08f060\n""}, {'number': 3, 'created': '2020-06-04 15:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/100121e2517228893631b1c811112b2055d8daef', 'message': ""Do not set parameters for g-reg if it's disabled\n\nThe glance-registry service was deprecated in Queens release and it\nis no longer required.\nThis patch removes all configurations for g-reg service unless it is\nactually enabled, so that we can confirm that Glance works properly\nwithout these configurations, which shouldn't be required.\n\nChange-Id: I88fd967de456dd034fbf6e96536e9fd8ee08f060\n""}, {'number': 4, 'created': '2020-06-04 15:57:03.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0a1f04f474cc18e23433a15869b6352db9566be', 'message': ""Do note set parameters for g-reg if it's disabled\n\nThe glance-registry service was deprecated in Queens release and it\nis no longer required.\nThis patch removes all configurations for g-reg service unless it is\nactually enabled, so that we can confirm that Glance works properly\nwithout these configurations, which shouldn't be required.\n\nChange-Id: I88fd967de456dd034fbf6e96536e9fd8ee08f060\n""}]",3,733638,f0a1f04f474cc18e23433a15869b6352db9566be,10,4,4,9816,,,0,"Do note set parameters for g-reg if it's disabled

The glance-registry service was deprecated in Queens release and it
is no longer required.
This patch removes all configurations for g-reg service unless it is
actually enabled, so that we can confirm that Glance works properly
without these configurations, which shouldn't be required.

Change-Id: I88fd967de456dd034fbf6e96536e9fd8ee08f060
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/733638/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,f7a0db207e35c838bb64d59a818e4a5cbe3649e8,g-reg," if is_service_enabled g-reg; then # Set non-default configuration options for registry iniset $GLANCE_REGISTRY_CONF DEFAULT debug $ENABLE_DEBUG_LOG_LEVEL iniset $GLANCE_REGISTRY_CONF DEFAULT bind_host $GLANCE_SERVICE_LISTEN_ADDRESS iniset $GLANCE_REGISTRY_CONF DEFAULT workers $API_WORKERS local dburl dburl=`database_connection_url glance` iniset $GLANCE_REGISTRY_CONF database connection $dburl iniset $GLANCE_REGISTRY_CONF DEFAULT use_syslog $SYSLOG iniset $GLANCE_REGISTRY_CONF paste_deploy flavor keystone configure_keystone_authtoken_middleware $GLANCE_REGISTRY_CONF glance iniset $GLANCE_REGISTRY_CONF oslo_messaging_notifications driver messagingv2 iniset_rpc_backend glance $GLANCE_REGISTRY_CONF iniset $GLANCE_REGISTRY_CONF DEFAULT graceful_shutdown_timeout ""$SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT"" fi if is_service_enabled g-reg; then iniset $GLANCE_API_CONF DEFAULT registry_host $(ipv6_unquote $GLANCE_SERVICE_HOST) fi if is_service_enabled g-reg; then iniset $GLANCE_REGISTRY_CONF DEFAULT bind_port $GLANCE_REGISTRY_PORT_INT fi if is_service_enabled g-reg; then iniset $GLANCE_REGISTRY_CONF keystone_authtoken identity_uri $KEYSTONE_AUTH_URI fi if is_service_enabled g-reg; then iniset $GLANCE_API_CONF DEFAULT registry_client_protocol https fi if is_service_enabled g-reg; then setup_logging $GLANCE_REGISTRY_CONF fi if is_service_enabled g-reg; then cp -p $GLANCE_DIR/etc/glance-registry-paste.ini $GLANCE_REGISTRY_PASTE_INI fi if is_service_enabled g-reg; then iniset $GLANCE_CACHE_CONF DEFAULT registry_host $(ipv6_unquote $GLANCE_SERVICE_HOST) fi if is_service_enabled g-reg; then start_tls_proxy glance-registry '*' $GLANCE_REGISTRY_PORT $GLANCE_SERVICE_HOST $GLANCE_REGISTRY_PORT_INT fi"," # Set non-default configuration options for registry iniset $GLANCE_REGISTRY_CONF DEFAULT debug $ENABLE_DEBUG_LOG_LEVEL iniset $GLANCE_REGISTRY_CONF DEFAULT bind_host $GLANCE_SERVICE_LISTEN_ADDRESS iniset $GLANCE_REGISTRY_CONF DEFAULT workers $API_WORKERS local dburl dburl=`database_connection_url glance` iniset $GLANCE_REGISTRY_CONF database connection $dburl iniset $GLANCE_REGISTRY_CONF DEFAULT use_syslog $SYSLOG iniset $GLANCE_REGISTRY_CONF paste_deploy flavor keystone configure_keystone_authtoken_middleware $GLANCE_REGISTRY_CONF glance iniset $GLANCE_REGISTRY_CONF oslo_messaging_notifications driver messagingv2 iniset_rpc_backend glance $GLANCE_REGISTRY_CONF iniset $GLANCE_REGISTRY_CONF DEFAULT graceful_shutdown_timeout ""$SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT"" iniset $GLANCE_API_CONF DEFAULT registry_host $(ipv6_unquote $GLANCE_SERVICE_HOST) iniset $GLANCE_REGISTRY_CONF DEFAULT bind_port $GLANCE_REGISTRY_PORT_INT iniset $GLANCE_REGISTRY_CONF keystone_authtoken identity_uri $KEYSTONE_AUTH_URI iniset $GLANCE_API_CONF DEFAULT registry_client_protocol https setup_logging $GLANCE_REGISTRY_CONF cp -p $GLANCE_DIR/etc/glance-registry-paste.ini $GLANCE_REGISTRY_PASTE_INI iniset $GLANCE_CACHE_CONF DEFAULT registry_host $(ipv6_unquote $GLANCE_SERVICE_HOST) start_tls_proxy glance-registry '*' $GLANCE_REGISTRY_PORT $GLANCE_SERVICE_HOST $GLANCE_REGISTRY_PORT_INT",42,21
openstack%2Fmanila~master~I2be6fc12c787c05c7df68297990fcdca96f57c5d,openstack/manila,master,I2be6fc12c787c05c7df68297990fcdca96f57c5d,[victoria][goal] Native Zuulv3 CI jobs,MERGED,2019-07-19 21:50:06.000000000,2020-07-29 11:41:42.000000000,2020-07-29 11:36:41.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-07-19 21:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/778e57063b15ccff710e7fa0c020c95f7d41a42a', 'message': '[CI] WIP: Convert zfsonlinux job to zuulv3 native\n\nCookies and Dough\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 2, 'created': '2019-07-19 21:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3e97eef4ee52ec96b7cfa26c012505ccf685af8b', 'message': '[CI] WIP: Convert zfsonlinux job to zuulv3 native\n\nCookies and Dough\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 3, 'created': '2019-07-19 21:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d707d68e57bb0e45b8ad4fe838ed111646fdf5b5', 'message': '[CI] WIP: Convert zfsonlinux job to zuulv3 native\n\nCookies and Dough\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 4, 'created': '2019-07-19 23:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8688eb5efeefe22d49b218bfa8d115fcf0ca90bb', 'message': '[CI] WIP: Convert zfsonlinux job to zuulv3 native\n\nCookies and Dough\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 5, 'created': '2019-07-20 02:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ae0fffa4fd11f876d5d84f110d0be8a324186e9', 'message': '[CI] WIP: Convert zfsonlinux job to zuulv3 native\n\nCookie Dough\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 6, 'created': '2019-07-20 07:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/abfcf95822c1dd2d3bbd40d75f67c2d75357533e', 'message': '[CI] WIP: Convert zfsonlinux job to zuulv3 native\n\nCookie Dough\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 7, 'created': '2019-07-20 18:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0d1eafef0d49985359c024b780e94c998cb871ba', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 8, 'created': '2020-04-28 22:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f7fe48ef6ea4fee745c8fbd842253cbf9f08f035', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 9, 'created': '2020-04-28 23:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45f2d2f68970b156de56712d8706c07422532162', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nDepends-On: I58603032fb215ac0be2f76c8cd9fbce775be41dd\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 10, 'created': '2020-04-29 03:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/db042bc0648bf1b3b9f3c77e13cf758591622c44', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nDepends-On: I58603032fb215ac0be2f76c8cd9fbce775be41dd\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 11, 'created': '2020-04-29 14:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7c5902aaad09f5b1541e8ef67d7b32700fd772c9', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nDepends-On: I58603032fb215ac0be2f76c8cd9fbce775be41dd\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 12, 'created': '2020-04-29 17:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e1994cd6477a20cce3eb179c82675dfc19113250', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nDepends-On: I58603032fb215ac0be2f76c8cd9fbce775be41dd\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 13, 'created': '2020-04-29 22:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/43b851450db15072fda3b57acbc8aa38e867f52c', 'message': '[CI] Convert zfsonlinux job to zuulv3 native\n\nThe old/legacy job depends on components\nfrom OpenStack infra that are not maintained\nany longer.\n\nDepends-On: I58603032fb215ac0be2f76c8cd9fbce775be41dd\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\n'}, {'number': 14, 'created': '2020-05-05 15:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3cf369f227e409b48a99162e72fee742fcd36d41', 'message': ""[victoria][goal] Replace legacy zuulv3 zfsonlinux job\n\nThere's a new job for ZFSOnLinux in the manila-tempest-plugin\nrepository since [1]. It is identical in functionality\nto the existing legacy job in this repository. This job\nruns api and scenario tests that need a backend, and uses\na postgresql database.\n\n[1] https://review.opendev.org/724466/\n\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 15, 'created': '2020-07-21 20:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/424b149eacc0a57c3f116541184d1bc8213a9e11', 'message': '[victoria][goal] Native Zuulv3 CI jobs\n\nReplace ""legacy"" style jobs with native zuulv3\nones built within the manila-tempest-plugin\nrepository. This refactoring is driven by a\ncommunity wide goal to stop relying on devstack-gate,\na deprecated component of the OpenDev CI system [1]\n\nRemove in-tree devstack gate hook script portions that\nare no longer necessary; and mark the rest as deprecated,\nsince third party CI could still be relying on\nthese hooks.\n\nReplace ""manila-tempest-dsvm-mysql-generic"",\n""manila-tempest-dsvm-postgres-generic-singlebackend"",\n""manila-tempest-dsvm-generic-no-share-servers"" and\n""manila-tempest-dsvm-scenario"" jobs with\n""manila-tempest-plugin-generic"" which preserves\ncoverage for the generic driver, while removing\nunnecessary duplication/separation. See commit\nmessage in [2] for more details.\n\nThe dummy driver job has been split into two parts\nfor testing DHSS=True and DHSS=False in separate\njobs. Read more about the motivation in the commit\nmessage for the change that created that job [3]\n\nAlso remove older CentOS and HDFS jobs since they\nwere not being executed.\n\nWhile some name tags such as ""postgres"" and ""ipv6-only""\nhave been removed from the job names, the\nfunctionality of the job hasn\'t been changed.\n\nThis change will not be backported. Instead, new\nchanges akin to this may directly target older\nbranches of manila.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n[2] https://review.opendev.org/726291/\n[3] https://review.opendev.org/740534/\nDepends-On: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 16, 'created': '2020-07-22 00:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6867a4e970be8fb95e0590971ccab8008261ee73', 'message': '[victoria][goal] Native Zuulv3 CI jobs\n\nReplace ""legacy"" style jobs with native zuulv3\nones built within the manila-tempest-plugin\nrepository. This refactoring is driven by a\ncommunity wide goal to stop relying on devstack-gate,\na deprecated component of the OpenDev CI system [1]\n\nRemove in-tree devstack gate hook script portions that\nare no longer necessary; and mark the rest as deprecated,\nsince third party CI could still be relying on\nthese hooks.\n\nReplace ""manila-tempest-dsvm-mysql-generic"",\n""manila-tempest-dsvm-postgres-generic-singlebackend"",\n""manila-tempest-dsvm-generic-no-share-servers"" and\n""manila-tempest-dsvm-scenario"" jobs with\n""manila-tempest-plugin-generic"" which preserves\ncoverage for the generic driver, while removing\nunnecessary duplication/separation. See commit\nmessage in [2] for more details.\n\nThe dummy driver job has been split into two parts\nfor testing DHSS=True and DHSS=False in separate\njobs. Read more about the motivation in the commit\nmessage for the change that created that job [3]\n\nAlso remove older CentOS and HDFS jobs since they\nwere not being executed.\n\nWhile some name tags such as ""postgres"" and ""ipv6-only""\nhave been removed from the job names, the\nfunctionality of the job hasn\'t been changed.\n\nThis change will not be backported. Instead, new\nchanges akin to this may directly target older\nbranches of manila.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n[2] https://review.opendev.org/726291/\n[3] https://review.opendev.org/740534/\nDepends-On: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 17, 'created': '2020-07-22 15:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/319f368b7b4a8bf15bfd52838116a44a9e9f0d8c', 'message': '[victoria][goal] Native Zuulv3 CI jobs\n\nReplace ""legacy"" style jobs with native zuulv3\nones built within the manila-tempest-plugin\nrepository. This refactoring is driven by a\ncommunity wide goal to stop relying on devstack-gate,\na deprecated component of the OpenDev CI system [1]\n\nRemove in-tree devstack gate hook script portions that\nare no longer necessary; and mark the rest as deprecated,\nsince third party CI could still be relying on\nthese hooks.\n\nReplace ""manila-tempest-dsvm-mysql-generic"",\n""manila-tempest-dsvm-postgres-generic-singlebackend"",\n""manila-tempest-dsvm-generic-no-share-servers"" and\n""manila-tempest-dsvm-scenario"" jobs with\n""manila-tempest-plugin-generic"" which preserves\ncoverage for the generic driver, while removing\nunnecessary duplication/separation. See commit\nmessage in [2] for more details.\n\nThe dummy driver job has been split into two parts\nfor testing DHSS=True and DHSS=False in separate\njobs. Read more about the motivation in the commit\nmessage for the change that created that job [3]\n\nAlso remove older CentOS and HDFS jobs since they\nwere not being executed.\n\nWhile some name tags such as ""postgres"" and ""ipv6-only""\nhave been removed from the job names, the\nfunctionality of the job hasn\'t been changed.\n\nThis change will not be backported. Instead, new\nchanges akin to this may directly target older\nbranches of manila.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n[2] https://review.opendev.org/726291/\n[3] https://review.opendev.org/740534/\nDepends-On: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 18, 'created': '2020-07-28 05:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b318fa975a41ea659d31c55cf2691b82d55e7686', 'message': '[victoria][goal] Native Zuulv3 CI jobs\n\nReplace ""legacy"" style jobs with native zuulv3\nones built within the manila-tempest-plugin\nrepository. This refactoring is driven by a\ncommunity wide goal to stop relying on devstack-gate,\na deprecated component of the OpenDev CI system [1]\n\nRemove in-tree devstack gate hook script portions\nthat are no longer necessary; and mark the rest as\ndeprecated, since third party CI could still be\nrelying on these hooks.\n\nReplace ""manila-tempest-dsvm-mysql-generic"",\n""manila-tempest-dsvm-postgres-generic-singlebackend"",\n""manila-tempest-dsvm-generic-no-share-servers"" and\n""manila-tempest-dsvm-scenario"" jobs with\n""manila-tempest-plugin-generic"" which preserves\ncoverage for the generic driver, while removing\nunnecessary duplication/separation. See commit\nmessage in [2] for more details.\n\nRemove older CentOS and HDFS jobs since they\nwere not being executed.\n\nRemove ""custom"" image jobs targeting custom\nmanila-image-element based builds, the jobs\nnow originate in the manila-image-elements\nrepository. [3]\n\nThe dummy driver job has been split into two parts\nfor testing DHSS=True and DHSS=False in separate\njobs. Read more about the motivation in the commit\nmessage for the change that created that job [4]\n\nWhile some name tags such as ""postgres"" and\n""ipv6-only"" have been removed from the job\nnames, the functionality of the job hasn\'t\nbeen changed.\n\nThis change will not be backported. Instead, new\nchanges akin to this may directly target older\nbranches of manila.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n[2] https://review.opendev.org/726291/\n[3] https://opendev.org/openstack/manila-image-elements/src/commit/d9d2f1636066c7cd96e6cfd202c4db7ee3109b73/zuul.d/manila-image-elements-jobs.yaml#L34-L67\n[4] https://review.opendev.org/740534/\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 19, 'created': '2020-07-28 21:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8e1d5bb54858409309b32e7eaf4b4485fcf65fa1', 'message': '[victoria][goal] Native Zuulv3 CI jobs\n\nReplace ""legacy"" style jobs with native zuulv3\nones built within the manila-tempest-plugin\nrepository. This refactoring is driven by a\ncommunity wide goal to stop relying on devstack-gate,\na deprecated component of the OpenDev CI system [1]\n\nRemove in-tree devstack gate hook script portions\nthat are no longer necessary; and mark the rest as\ndeprecated, since third party CI could still be\nrelying on these hooks.\n\nReplace ""manila-tempest-dsvm-mysql-generic"",\n""manila-tempest-dsvm-postgres-generic-singlebackend"",\n""manila-tempest-dsvm-generic-no-share-servers"" and\n""manila-tempest-dsvm-scenario"" jobs with\n""manila-tempest-plugin-generic"" which preserves\ncoverage for the generic driver, while removing\nunnecessary duplication/separation. See commit\nmessage in [2] for more details.\n\nRemove older CentOS and HDFS jobs since they\nwere not being executed.\n\nRemove ""custom"" image jobs targeting custom\nmanila-image-element based builds, the jobs\nnow originate in the manila-image-elements\nrepository. [3]\n\nThe dummy driver job has been split into two parts\nfor testing DHSS=True and DHSS=False in separate\njobs. Read more about the motivation in the commit\nmessage for the change that created that job [4]\n\nWhile some name tags such as ""postgres"" and\n""ipv6-only"" have been removed from the job\nnames, the functionality of the job hasn\'t\nbeen changed.\n\nThis change will not be backported. Instead, new\nchanges akin to this may directly target older\nbranches of manila.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n[2] https://review.opendev.org/726291/\n[3] https://opendev.org/openstack/manila-image-elements/src/commit/d9d2f1636066c7cd96e6cfd202c4db7ee3109b73/zuul.d/manila-image-elements-jobs.yaml#L34-L67\n[4] https://review.opendev.org/740534/\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 20, 'created': '2020-07-28 21:55:22.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-dummy/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/post.yaml', 'contrib/ci/post_test_hook.sh', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'contrib/ci/pre_test_hook.sh', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run-ipv6.yaml', 'contrib/ci/common.sh', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/db3f3b5c991d199dc7fd65228223e587624166b8', 'message': '[victoria][goal] Native Zuulv3 CI jobs\n\nReplace ""legacy"" style jobs with native zuulv3\nones built within the manila-tempest-plugin\nrepository. This refactoring is driven by a\ncommunity wide goal to stop relying on devstack-gate,\na deprecated component of the OpenDev CI system [1]\n\nRemove in-tree devstack gate hook script portions\nthat are no longer necessary; and mark the rest as\ndeprecated, since third party CI could still be\nrelying on these hooks.\n\nReplace ""manila-tempest-dsvm-mysql-generic"",\n""manila-tempest-dsvm-postgres-generic-singlebackend"",\n""manila-tempest-dsvm-generic-no-share-servers"" and\n""manila-tempest-dsvm-scenario"" jobs with\n""manila-tempest-plugin-generic"" which preserves\ncoverage for the generic driver, while removing\nunnecessary duplication/separation. See commit\nmessage in [2] for more details.\n\nRemove older CentOS and HDFS jobs since they\nwere not being executed.\n\nRemove ""custom"" image jobs targeting custom\nmanila-image-element based builds, the jobs\nnow originate in the manila-image-elements\nrepository. [3]\n\nThe dummy driver job has been split into two parts\nfor testing DHSS=True and DHSS=False in separate\njobs. Read more about the motivation in the commit\nmessage for the change that created that job [4]\n\nWhile some name tags such as ""postgres"" and\n""ipv6-only"" have been removed from the job\nnames, the functionality of the job hasn\'t\nbeen changed.\n\nThis change will not be backported. Instead, new\nchanges akin to this may directly target older\nbranches of manila.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n[2] https://review.opendev.org/726291/\n[3] https://opendev.org/openstack/manila-image-elements/src/commit/d9d2f1636066c7cd96e6cfd202c4db7ee3109b73/zuul.d/manila-image-elements-jobs.yaml#L34-L67\n[4] https://review.opendev.org/740534/\nChange-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",8,671868,db3f3b5c991d199dc7fd65228223e587624166b8,145,15,20,16643,,,0,"[victoria][goal] Native Zuulv3 CI jobs

Replace ""legacy"" style jobs with native zuulv3
ones built within the manila-tempest-plugin
repository. This refactoring is driven by a
community wide goal to stop relying on devstack-gate,
a deprecated component of the OpenDev CI system [1]

Remove in-tree devstack gate hook script portions
that are no longer necessary; and mark the rest as
deprecated, since third party CI could still be
relying on these hooks.

Replace ""manila-tempest-dsvm-mysql-generic"",
""manila-tempest-dsvm-postgres-generic-singlebackend"",
""manila-tempest-dsvm-generic-no-share-servers"" and
""manila-tempest-dsvm-scenario"" jobs with
""manila-tempest-plugin-generic"" which preserves
coverage for the generic driver, while removing
unnecessary duplication/separation. See commit
message in [2] for more details.

Remove older CentOS and HDFS jobs since they
were not being executed.

Remove ""custom"" image jobs targeting custom
manila-image-element based builds, the jobs
now originate in the manila-image-elements
repository. [3]

The dummy driver job has been split into two parts
for testing DHSS=True and DHSS=False in separate
jobs. Read more about the motivation in the commit
message for the change that created that job [4]

While some name tags such as ""postgres"" and
""ipv6-only"" have been removed from the job
names, the functionality of the job hasn't
been changed.

This change will not be backported. Instead, new
changes akin to this may directly target older
branches of manila.

[1] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html
[2] https://review.opendev.org/726291/
[3] https://opendev.org/openstack/manila-image-elements/src/commit/d9d2f1636066c7cd96e6cfd202c4db7ee3109b73/zuul.d/manila-image-elements-jobs.yaml#L34-L67
[4] https://review.opendev.org/740534/
Change-Id: I2be6fc12c787c05c7df68297990fcdca96f57c5d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/671868/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', '.zuul.yaml']",3,778e57063b15ccff710e7fa0c020c95f7d41a42a,native-zuulv3-migration," irrelevant-files: &tempest-irrelevant-files parent: devstack-tempest irrelevant-files: *tempest-irrelevant-files vars: devstack_localrc: USE_PYTHON3: True LIBS_FROM_GIT: python-manilaclient SHARE_DRIVER: manila.share.drivers.zfsonlinux.driver.ZFSonLinuxShareDriver MANILA_ENABLED_BACKENDS: london,paris MANILA_BACKEND1_CONFIG_GROUP_NAME: london MANILA_BACKEND2_CONFIG_GROUP_NAME: paris MANILA_SHARE_BACKEND1_NAME: LONDON MANILA_SHARE_BACKEND2_NAME: PARIS MANILA_OPTGROUP_london_driver_handles_share_servers: false MANILA_OPTGROUP_paris_driver_handles_share_servers: false MANILA_USE_SERVICE_INSTANCE_PASSWORD: true MANILA_USE_DOWNGRADE_MIGRATIONS: true MANILA_MULTI_BACKEND: true MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_REPLICA_STATE_UPDATE_INTERVAL: 60 MANILA_ZFSONLINUX_SERVICE_IP: 127.0.0.1 MANILA_ZFSONLINUX_USE_SSH: true MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True' ENABLE_ISOLATED_METADATA: true TEMPEST_USE_TEST_ACCOUNTS: true devstack_plugins: manila: https://opendev.org/openstack/manila manila-tempest-plugin: https://opendev.org/openstack/manila-tempest-plugin devstack_services: mysql: false postgresql: true cinder: false swift: false horizon: false etcd3: true tls-proxy: true tempest_plugins: - manila-tempest-plugin tempest_test_regex: (^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\]) tempest_concurrency: 8 test-config: $TEMPEST_CONFIG: share: default_share_type_name: default run_driver_assisted_migration_tests: True run_host_assisted_migration_tests: True run_replication_tests: True run_manage_unmanage_snapshot_tests: True run_manage_unmanage_tests: True backend_replication_type: readable enable_protocols: nfs capability_storage_protocol: NFS build_timeout: 180 enable_ip_rules_for_protocols: nfs multitenancy_enabled: False backend_names: LONDON,PARIS multi_backend: True image_password: manila required-projects:", irrelevant-files: parent: manila-tempest-base run: playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml post-run: playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/post.yaml required-projects: - openstack/devstack-gate,58,109
openstack%2Fmanila~stable%2Fqueens~If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,openstack/manila,stable/queens,If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,Get ports filtered by subnet id on share-server cleanup,MERGED,2020-07-28 14:20:22.000000000,2020-07-29 11:41:26.000000000,2020-07-29 11:36:40.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30238}]","[{'number': 1, 'created': '2020-07-28 14:20:22.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'releasenotes/notes/bug-1879754-teardown-network-d1887cdf6eb83388.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/f8103b5e588444705e0d82b27c2b0adf63c7381f', 'message': ""Get ports filtered by subnet id on share-server cleanup\n\nNeutron can filter ports by subnet-id by itself, so:\n- Don't send all ports in Neutron on every share-server removal\n- Don't send fixed-ips fields (which are nearly half of total data)\n\nCloses-Bug: #1879754\nChange-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97\nSigned-off-by: George Melikov <mail@gmelikov.ru>\n(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)\n(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)\n(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)\n(cherry picked from commit 908041c4569ead060c2c9c3a7ed054bcd7b6f6e9)\n(cherry picked from commit ab799060277e5813f652e5176f78b9d912bbd012)\n""}]",0,743554,f8103b5e588444705e0d82b27c2b0adf63c7381f,13,6,1,16643,,,0,"Get ports filtered by subnet id on share-server cleanup

Neutron can filter ports by subnet-id by itself, so:
- Don't send all ports in Neutron on every share-server removal
- Don't send fixed-ips fields (which are nearly half of total data)

Closes-Bug: #1879754
Change-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97
Signed-off-by: George Melikov <mail@gmelikov.ru>
(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)
(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)
(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)
(cherry picked from commit 908041c4569ead060c2c9c3a7ed054bcd7b6f6e9)
(cherry picked from commit ab799060277e5813f652e5176f78b9d912bbd012)
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/743554/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'releasenotes/notes/bug-1879754-teardown-network-d1887cdf6eb83388.yaml']",3,f8103b5e588444705e0d82b27c2b0adf63c7381f,bug/1879754,"--- fixes: - Fixed unneeded all ports list request to Neutron in service instance helper module on tearing down service subnet, Neutron can filter them by subnet_id itself. ",,21,23
openstack%2Fopenstacksdk~master~I7a4ab19022b49dd30656abf7a0a2f7e31dac317f,openstack/openstacksdk,master,I7a4ab19022b49dd30656abf7a0a2f7e31dac317f,DNM nothing to see here,ABANDONED,2020-07-24 12:49:26.000000000,2020-07-29 11:38:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-24 12:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/59eaefa3137af9ec59c46cbff465839dfce03683', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}, {'number': 2, 'created': '2020-07-24 13:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0a399b9086bc9a3b74afbed552cb60d7529ac1a0', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}, {'number': 3, 'created': '2020-07-24 13:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/52dec350626b9ff2fbde96ce89d32f423e69f9c9', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}, {'number': 4, 'created': '2020-07-24 14:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/24e1a140bc2886ada4ed42581645ce21b67b80a7', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}, {'number': 5, 'created': '2020-07-27 10:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d1dc8a0f15a8ab95570b18aac860b39fc4c88a43', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}, {'number': 6, 'created': '2020-07-27 10:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/12feb50a3148ed49153c5392b1f7de0dbf561e36', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}, {'number': 7, 'created': '2020-07-27 11:08:18.000000000', 'files': ['openstack/service_description.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f0d12e17a608b2fa57f4ac7e2282a9bc7d58244', 'message': 'DNM nothing to see here\n\nChange-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f\n'}]",0,742870,4f0d12e17a608b2fa57f4ac7e2282a9bc7d58244,10,1,7,10239,,,0,"DNM nothing to see here

Change-Id: I7a4ab19022b49dd30656abf7a0a2f7e31dac317f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/70/742870/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/service_description.py'],1,59eaefa3137af9ec59c46cbff465839dfce03683,test," _logger.info('Version %s, override %s', version_string, endpoint_override) _logger.info('Temp %s: %s', self.service_type, temp_adapter.get_endpoint_data()) _logger.info('Proxy %s: %s', self.service_type, data) _logger.info('Version kwargs: %s', version_kwargs)",,6,0
openstack%2Fkeystone~master~I5d5d31c8d89b0d2812a5e9be18a81611041e6da8,openstack/keystone,master,I5d5d31c8d89b0d2812a5e9be18a81611041e6da8,Port the grenade multinode job to Zuul v3,MERGED,2020-06-05 09:58:39.000000000,2020-07-29 11:26:19.000000000,2020-07-29 11:21:02.000000000,"[{'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 10459}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 09:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/941cf20625ae02d6e99270cad3310f89ca9572cd', 'message': ""Port the grenade multinode job to Zuul v3\n\nIt implements the same behavior of the old one.\n\nIt is worth noting that the existing job the MULTI_KEYSTONE does not\nproduce any effect because this change hasn't been merged yet:\n- https://review.opendev.org/399472\nand when that merges, the following devstack-gate changes should be\napplied directly to this new job definition instead:\n- https://review.opendev.org/394895\n\nBoth changes are out of scope for this porting.\n\nChange-Id: I5d5d31c8d89b0d2812a5e9be18a81611041e6da8\n""}, {'number': 2, 'created': '2020-06-05 10:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c023008e600317fa77aaa2e31df729eab8dfc73f', 'message': ""Port the grenade multinode job to Zuul v3\n\nIt implements the same behavior of the old one.\n\nIt is worth noting that the existing job the MULTI_KEYSTONE does not\nproduce any effect because this change hasn't been merged yet:\n- https://review.opendev.org/399472\nand when that merges, the following devstack-gate changes should be\napplied directly to this new job definition instead:\n- https://review.opendev.org/394895\n\nBoth changes are out of scope for this porting.\n\nChange-Id: I5d5d31c8d89b0d2812a5e9be18a81611041e6da8\n""}, {'number': 3, 'created': '2020-06-05 12:25:50.000000000', 'files': ['playbooks/legacy/keystone-dsvm-grenade-multinode/run.yaml', '.zuul.yaml', 'playbooks/legacy/keystone-dsvm-grenade-multinode/post.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3be8d40fc56f876f3dea30812e6352e1e482bb86', 'message': ""Port the grenade multinode job to Zuul v3\n\nIt implements the same behavior of the old one.\n\nIt is worth noting that the existing job the MULTI_KEYSTONE does not\nproduce any effect because this change hasn't been merged yet:\n- https://review.opendev.org/399472\nand when that merges, the following devstack-gate changes should be\napplied directly to this new job definition instead:\n- https://review.opendev.org/394895\n\nBoth changes are out of scope for this porting.\n\nChange-Id: I5d5d31c8d89b0d2812a5e9be18a81611041e6da8\n""}]",1,733801,3be8d40fc56f876f3dea30812e6352e1e482bb86,27,5,3,10459,,,0,"Port the grenade multinode job to Zuul v3

It implements the same behavior of the old one.

It is worth noting that the existing job the MULTI_KEYSTONE does not
produce any effect because this change hasn't been merged yet:
- https://review.opendev.org/399472
and when that merges, the following devstack-gate changes should be
applied directly to this new job definition instead:
- https://review.opendev.org/394895

Both changes are out of scope for this porting.

Change-Id: I5d5d31c8d89b0d2812a5e9be18a81611041e6da8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/733801/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/keystone-dsvm-grenade-multinode/run.yaml', '.zuul.yaml', 'playbooks/legacy/keystone-dsvm-grenade-multinode/post.yaml']",3,941cf20625ae02d6e99270cad3310f89ca9572cd,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,7,69
openstack%2Fkarbor-dashboard~master~I924383062fb936f7ec682d46cc5d1de5997fcefb,openstack/karbor-dashboard,master,I924383062fb936f7ec682d46cc5d1de5997fcefb,Stop to use the __future__ module.,NEW,2020-06-02 18:19:42.000000000,2020-07-29 11:01:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-02 18:19:42.000000000', 'files': ['karbor_dashboard/api/karbor.py', 'tools/install_venv_common.py'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/4aecc794ab333289fc6a60ce1e28dcec9e846cbd', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I924383062fb936f7ec682d46cc5d1de5997fcefb\n""}]",0,732850,4aecc794ab333289fc6a60ce1e28dcec9e846cbd,5,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I924383062fb936f7ec682d46cc5d1de5997fcefb
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/50/732850/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor_dashboard/api/karbor.py', 'tools/install_venv_common.py']",2,4aecc794ab333289fc6a60ce1e28dcec9e846cbd,drop_future_imports,,from __future__ import print_function ,0,4
openstack%2Fkolla-ansible~master~I65d911670649960708b9f6a4c110d1a7df1ad8f7,openstack/kolla-ansible,master,I65d911670649960708b9f6a4c110d1a7df1ad8f7,Performance: use import_tasks for check-containers.yml,MERGED,2020-07-02 17:14:56.000000000,2020-07-29 10:54:17.000000000,2020-07-29 10:52:07.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 29543}]","[{'number': 1, 'created': '2020-07-02 17:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20d232cba27f8b511b0254cc8f8398bb198443c4', 'message': 'Performance: use import_tasks for check-containers.yml\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the check-containers.yml include, the\nincluded file only has a single task, so the overhead of skipping this\ntask will not be greater than the overhead of the task import. It\ntherefore makes sense to switch to use import_tasks there.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I65d911670649960708b9f6a4c110d1a7df1ad8f7\n'}, {'number': 2, 'created': '2020-07-07 14:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd397d77e7680ac4afc35fa48ed3811dc4f9119c', 'message': 'Performance: use import_tasks for check-containers.yml\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the check-containers.yml include, the\nincluded file only has a single task, so the overhead of skipping this\ntask will not be greater than the overhead of the task import. It\ntherefore makes sense to switch to use import_tasks there.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I65d911670649960708b9f6a4c110d1a7df1ad8f7\n'}, {'number': 3, 'created': '2020-07-07 14:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab4421df5b10457af189e70a64fb8df4b09dde8f', 'message': 'Performance: use import_tasks for check-containers.yml\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the check-containers.yml include, the\nincluded file only has a single task, so the overhead of skipping this\ntask will not be greater than the overhead of the task import. It\ntherefore makes sense to switch to use import_tasks there.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I65d911670649960708b9f6a4c110d1a7df1ad8f7\n'}, {'number': 4, 'created': '2020-07-28 11:13:03.000000000', 'files': ['ansible/roles/skydive/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/zookeeper/tasks/config.yml', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/kafka/tasks/config.yml', 'ansible/roles/ovn/tasks/config.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/qinling/tasks/config.yml', 'ansible/roles/influxdb/tasks/config.yml', 'ansible/roles/mariadb/tasks/config.yml', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/tempest/tasks/config.yml', 'ansible/roles/vmtp/tasks/config.yml', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/roles/ovs-dpdk/tasks/config.yml', 'ansible/roles/chrony/tasks/config.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/redis/tasks/config.yml', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/grafana/tasks/config.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/iscsi/tasks/config.yml', 'ansible/roles/collectd/tasks/config.yml', 'ansible/roles/karbor/tasks/config.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/nova-cell/tasks/config.yml', 'ansible/roles/searchlight/tasks/config.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/memcached/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/qdrouterd/tasks/config.yml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/freezer/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9702d4c3c3f4abad671f48b97d82280a2ae32a71', 'message': 'Performance: use import_tasks for check-containers.yml\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the check-containers.yml include, the\nincluded file only has a single task, so the overhead of skipping this\ntask will not be greater than the overhead of the task import. It\ntherefore makes sense to switch to use import_tasks there.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I65d911670649960708b9f6a4c110d1a7df1ad8f7\n'}]",0,739108,9702d4c3c3f4abad671f48b97d82280a2ae32a71,19,5,4,14826,,,0,"Performance: use import_tasks for check-containers.yml

Including tasks has a performance penalty when compared with importing
tasks. If the include has a condition associated with it, then the
overhead of the include may be lower than the overhead of skipping all
imported tasks. In the case of the check-containers.yml include, the
included file only has a single task, so the overhead of skipping this
task will not be greater than the overhead of the task import. It
therefore makes sense to switch to use import_tasks there.

Partially-Implements: blueprint performance-improvements

Change-Id: I65d911670649960708b9f6a4c110d1a7df1ad8f7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/739108/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/skydive/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/zookeeper/tasks/config.yml', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/kafka/tasks/config.yml', 'ansible/roles/ovn/tasks/config.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/qinling/tasks/config.yml', 'ansible/roles/influxdb/tasks/config.yml', 'ansible/roles/mariadb/tasks/config.yml', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/tempest/tasks/config.yml', 'ansible/roles/vmtp/tasks/config.yml', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/roles/ovs-dpdk/tasks/config.yml', 'ansible/roles/chrony/tasks/config.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/redis/tasks/config.yml', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/grafana/tasks/config.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/iscsi/tasks/config.yml', 'ansible/roles/collectd/tasks/config.yml', 'ansible/roles/karbor/tasks/config.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/nova-cell/tasks/config.yml', 'ansible/roles/searchlight/tasks/config.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/memcached/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/qdrouterd/tasks/config.yml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/freezer/tasks/config.yml']",66,20d232cba27f8b511b0254cc8f8398bb198443c4,bp/performance-improvements,- import_tasks: check-containers.yml,- include_tasks: check-containers.yml,66,66
openstack%2Fpython-tripleoclient~master~I75cbde83dda1a79ad65bf522e57c8ef326bbc54d,openstack/python-tripleoclient,master,I75cbde83dda1a79ad65bf522e57c8ef326bbc54d,Add --transport argument to tripleo deploy,MERGED,2020-05-06 21:12:08.000000000,2020-07-29 10:44:48.000000000,2020-07-29 10:42:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-06 21:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1ef029a2fe97df57dc7edf9d91ffee5cc11122d', 'message': 'Add --transport argument to tripleo deploy\n\nThe new --transport argument allows for specifying a transport\nconfiguration to have set in the generated ansible configuration file.\nThe default value of ""local"" matches the previous hardcoded value.\n\nTo deploy multiple nodes with tripleo deploy, ""--transport ssh"" can be\nused.\n\nChange-Id: I75cbde83dda1a79ad65bf522e57c8ef326bbc54d\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2020-05-07 01:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/412ae8efe559bbc2c7f10403827f338b9a7d6216', 'message': 'Add --transport argument to tripleo deploy\n\nThe new --transport argument allows for specifying a transport\nconfiguration to have set in the generated ansible configuration file.\nThe default value of ""local"" matches the previous hardcoded value.\n\nTo deploy multiple nodes with tripleo deploy, ""--transport ssh"" can be\nused.\n\nblueprint tripleo-deploy-multinode\nChange-Id: I75cbde83dda1a79ad65bf522e57c8ef326bbc54d\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2020-05-27 19:06:12.000000000', 'files': ['releasenotes/notes/tripleo-deploy-transport-ccc72043ce0eb776.yaml', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a56361f5ad7257b2c154c5037c1a69cd316792f5', 'message': 'Add --transport argument to tripleo deploy\n\nThe new --transport argument allows for specifying a transport\nconfiguration to have set in the generated ansible configuration file.\nThe default value of ""local"" matches the previous hardcoded value.\n\nTo deploy multiple nodes with tripleo deploy, ""--transport ssh"" can be\nused.\n\nblueprint tripleo-deploy-multinode\nChange-Id: I75cbde83dda1a79ad65bf522e57c8ef326bbc54d\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,725994,a56361f5ad7257b2c154c5037c1a69cd316792f5,31,6,3,7144,,,0,"Add --transport argument to tripleo deploy

The new --transport argument allows for specifying a transport
configuration to have set in the generated ansible configuration file.
The default value of ""local"" matches the previous hardcoded value.

To deploy multiple nodes with tripleo deploy, ""--transport ssh"" can be
used.

blueprint tripleo-deploy-multinode
Change-Id: I75cbde83dda1a79ad65bf522e57c8ef326bbc54d
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/725994/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tripleo-deploy-transport-ccc72043ce0eb776.yaml', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",3,d1ef029a2fe97df57dc7edf9d91ffee5cc11122d,tripleo-deploy-multinode," @mock.patch('os.path.exists', return_value=True) @mock.patch('os.chdir') @mock.patch('tripleoclient.utils.reset_cmdline') @mock.patch('tripleoclient.utils.copy_clouds_yaml') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_stack_outputs') @mock.patch('tripleo_common.actions.ansible.' 'write_default_ansible_cfg') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.chmod') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.mkdir') @mock.patch('six.moves.builtins.open') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_populate_templates_dir') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_install_artifact', return_value='/tmp/foo.tar.bzip2') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_cleanup_working_dirs') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_working_dirs') @mock.patch('tripleoclient.utils.wait_api_port_ready', autospec=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_deploy_tripleo_heat_templates', autospec=True, return_value='undercloud, 0') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_ansible_playbooks', autospec=True, return_value='/foo') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_launch_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_kill_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_configure_puppet') @mock.patch('os.geteuid', return_value=0) @mock.patch('os.environ', return_value='CREATE_COMPLETE') @mock.patch('tripleoclient.utils.wait_for_stack_ready', return_value=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_set_default_plan') def test_standalone_deploy_transport( self, mock_def_plan, mock_poll, mock_environ, mock_geteuid, mock_puppet, mock_killheat, mock_launchheat, mock_download, mock_tht, mock_wait_for_port, mock_createdirs, mock_cleanupdirs, mock_tarball, mock_templates_dir, mock_open, mock_os, mock_chmod, mock_ac, mock_outputs, mock_copy, mock_cmdline, mock_chdir, mock_file_exists): # Test default transport ""local"" parsed_args = self.check_parser(self.cmd, ['--local-ip', '127.0.0.1', '--templates', '/tmp/thtroot', '--stack', 'undercloud', '--output-dir', '/my', '--output-only'], []) self.cmd.take_action(parsed_args) self.assertEqual(1, mock_ac.call_count) self.assertEqual( ""local"", mock_ac.call_args_list[0].kwargs[""transport""]) # Test transport ""ssh"" mock_ac.reset_mock() parsed_args = self.check_parser(self.cmd, ['--local-ip', '127.0.0.1', '--templates', '/tmp/thtroot', '--stack', 'undercloud', '--output-dir', '/my', '--output-only', '--transport', 'ssh'], []) self.cmd.take_action(parsed_args) self.assertEqual(1, mock_ac.call_count) self.assertEqual(""ssh"", mock_ac.call_args_list[0].kwargs[""transport""])",,97,2
openstack%2Fhorizon~master~I6dc8c750bcced84d205c9eb3094f64a6732d94a0,openstack/horizon,master,I6dc8c750bcced84d205c9eb3094f64a6732d94a0,Imported Translations from Zanata,MERGED,2020-07-29 07:09:03.000000000,2020-07-29 10:37:09.000000000,2020-07-29 10:35:01.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-29 07:09:03.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb86389fa4eb97e975d0098007bdde4a81899d22', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6dc8c750bcced84d205c9eb3094f64a6732d94a0\n'}]",0,743683,eb86389fa4eb97e975d0098007bdde4a81899d22,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6dc8c750bcced84d205c9eb3094f64a6732d94a0
",git fetch https://review.opendev.org/openstack/horizon refs/changes/83/743683/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,eb86389fa4eb97e975d0098007bdde4a81899d22,zanata/translations,"""POT-Creation-Date: 2020-07-27 10:21+0000\n""""PO-Revision-Date: 2020-07-09 08:04+0000\n""","""POT-Creation-Date: 2020-07-21 09:30+0000\n""""PO-Revision-Date: 2020-07-24 11:19+0000\n""msgid ""18.4.1-8"" msgstr ""18.4.1-8"" ",6,9
openstack%2Ftripleo-common~stable%2Fussuri~I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887,openstack/tripleo-common,stable/ussuri,I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887,First pass at script cleanup,MERGED,2020-07-23 00:11:50.000000000,2020-07-29 10:24:31.000000000,2020-07-29 10:22:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-23 00:11:50.000000000', 'files': ['container-images/kolla/base/httpd_setup.sh', 'container-images/kolla/horizon/extend_start.sh', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/kolla/barbican-base/sudoers', 'container-images/kolla/neutron-base/neutron_sudoers', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/kolla/base/sudoers'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8e544693eccb212c03e6169102dfdf1fb1346b53', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}]",0,742562,8e544693eccb212c03e6169102dfdf1fb1346b53,26,6,1,3153,,,0,"First pass at script cleanup

This change removes bits from our imported scripts that are irrelevant
for a TripleO environment. All of the sudoers implementations have been
moved into files which are copied into containers. This move will unify
how we deploy privledge escallations.

The kolla user will now be able to execute any kolla* command which
should allow us to generally simplify how we handle sudoers across
our container base.

Story: 2007780
Task: 40014
Change-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/742562/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/base/httpd_setup.sh', 'container-images/kolla/horizon/extend_start.sh', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/kolla/barbican-base/sudoers', 'container-images/kolla/neutron-base/neutron_sudoers', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/kolla/base/sudoers']",7,8e544693eccb212c03e6169102dfdf1fb1346b53,images/new-stable/ussuri,%kolla ALL=(root) NOPASSWD: /usr/local/bin/kolla*,%kolla ALL=(root) NOPASSWD: /usr/local/bin/kolla_set_configs,7,7
openstack%2Fmanila~stable%2Ftrain~I24cda6be69ef9258c6c637be48be32b93d835e0a,openstack/manila,stable/train,I24cda6be69ef9258c6c637be48be32b93d835e0a,[NetApp] Fix default ipspace deletion issue,MERGED,2020-07-28 15:23:43.000000000,2020-07-29 10:19:09.000000000,2020-07-29 04:56:29.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-28 15:23:43.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1880747-netapp-fix-do-not-delete-default-ipspace-aee638279e0f8e93.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/bf97dcc9d4918ef4ae871ea96886a89a01ac9989', 'message': '[NetApp] Fix default ipspace deletion issue\n\nThe NetApp driver is fixed to avoid the deletion of cluster\nipspaces when deleting a share server. Now the share server\ndeletion skip ipspace removal if the ipspace is one of the\nfollowing: Cluster or Default.\n\nChange-Id: I24cda6be69ef9258c6c637be48be32b93d835e0a\nCloses-Bug: #1880747\n(cherry picked from commit dbe34c08e2278eb472bc2cbf7f086d6deff7cab2)\n(cherry picked from commit 2fe7452b1bf8b8975dcd663db3ecce98b5fb499c)\n'}]",0,743567,bf97dcc9d4918ef4ae871ea96886a89a01ac9989,12,6,1,30002,,,0,"[NetApp] Fix default ipspace deletion issue

The NetApp driver is fixed to avoid the deletion of cluster
ipspaces when deleting a share server. Now the share server
deletion skip ipspace removal if the ipspace is one of the
following: Cluster or Default.

Change-Id: I24cda6be69ef9258c6c637be48be32b93d835e0a
Closes-Bug: #1880747
(cherry picked from commit dbe34c08e2278eb472bc2cbf7f086d6deff7cab2)
(cherry picked from commit 2fe7452b1bf8b8975dcd663db3ecce98b5fb499c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/67/743567/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1880747-netapp-fix-do-not-delete-default-ipspace-aee638279e0f8e93.yaml']",2,bf97dcc9d4918ef4ae871ea96886a89a01ac9989,bug/1880747,--- fixes: - | NetApp ONTAP driver is now fixed to avoid the deletion of `Cluster` and `Default` ipspaces when deleting a share server. This issue was happening only when operating in `driver_handles_share_servers` enabled mode and creating shares using `flat` network type. See `Launchpad bug 1880747 <https://launchpad.net/bugs/1880747>`_ for more details. ,,13,2
openstack%2Fmanila~stable%2Ftrain~I76e11fef27c9723f019cfdfdc6ea86878db78776,openstack/manila,stable/train,I76e11fef27c9723f019cfdfdc6ea86878db78776,[NetApp] Fix falsely report migration cancelation success,MERGED,2020-07-28 15:18:51.000000000,2020-07-29 10:17:53.000000000,2020-07-29 05:08:42.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 31528}]","[{'number': 1, 'created': '2020-07-28 15:18:51.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c915918f3c6ac608469263dd05e3f2b5eb61dc4e', 'message': '[NetApp] Fix falsely report migration cancelation success\n\nNetApp ONTAP share delete operation can fail sometimes when is triggered\nimmediately after migration cancelation on a overloaded NetApp backend.\nMigration cancelation invokes ""abort_volume_move"" which is an asynchronous\nAPI. If share delete operation is requested immediately after call the\nformer API, it fails because the ""abort_volume_move"" is still in progress.\nNow NetApp cDOT driver checks, for a period of time, if the\n``volume-move-abort`` operation has ended before report migration\ncancelation success.\n\nThis patch squash the following commit that improves the release note\nfor this fix:\n[NetApp] Updating the release note for bugfix 1688620\n(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)\n\nChange-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776\nCloses-Bug: #1688620\n(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)\n(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)\n'}]",0,743565,c915918f3c6ac608469263dd05e3f2b5eb61dc4e,13,7,1,30002,,,0,"[NetApp] Fix falsely report migration cancelation success

NetApp ONTAP share delete operation can fail sometimes when is triggered
immediately after migration cancelation on a overloaded NetApp backend.
Migration cancelation invokes ""abort_volume_move"" which is an asynchronous
API. If share delete operation is requested immediately after call the
former API, it fails because the ""abort_volume_move"" is still in progress.
Now NetApp cDOT driver checks, for a period of time, if the
``volume-move-abort`` operation has ended before report migration
cancelation success.

This patch squash the following commit that improves the release note
for this fix:
[NetApp] Updating the release note for bugfix 1688620
(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)

Change-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776
Closes-Bug: #1688620
(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)
(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/743565/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,c915918f3c6ac608469263dd05e3f2b5eb61dc4e,bug/1688620," @ddt.data({'state': 'failed'}, {'state': 'healthy'}) @ddt.unpack def test_migration_cancel(self, state): self.library.configuration.netapp_migration_cancel_timeout = 15 mock.Mock(return_value={'state': state})) if state == 'failed': retval = self.library.migration_cancel( self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance(), source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') self.assertIsNone(retval) mock_info_log.assert_called_once() else: self.assertRaises( (exception.NetAppException), self.library.migration_cancel, self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance, source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') @ddt.data({'already_canceled': True, 'effect': exception.NetAppException}, {'already_canceled': False, 'effect': (None, exception.NetAppException)}) @ddt.unpack def test_migration_cancel_exception_volume_status(self, already_canceled, effect): source_snapshots = mock.Mock() snapshot_mappings = mock.Mock() self.library.configuration.netapp_migration_cancel_timeout = 1 mock_exception_log = self.mock_object(lib_base.LOG, 'exception') mock_info_log = self.mock_object(lib_base.LOG, 'info') self.mock_object(self.library, '_get_vserver', mock.Mock(return_value=(fake.VSERVER1, mock.Mock()))) self.mock_object(self.library, '_get_backend_share_name', mock.Mock(return_value=fake.SHARE_NAME)) self.mock_object(self.client, 'abort_volume_move') self.mock_object(self.client, 'get_volume_move_status', mock.Mock(side_effect=effect)) self.library.migration_cancel( mock_exception_log.assert_called_once() if not already_canceled:"," @ddt.data(utils.annotated('already_canceled', (True, )), utils.annotated('not_canceled_yet', (False, ))) def test_migration_cancel(self, already_canceled): already_canceled = already_canceled[0] mock_exception_log = self.mock_object(lib_base.LOG, 'exception') vol_move_side_effect = (exception.NetAppException if already_canceled else None) mock.Mock(side_effect=vol_move_side_effect)) retval = self.library.migration_cancel( self.assertIsNone(retval) if already_canceled: mock_exception_log.assert_called_once() else:",103,14
openstack%2Fmanila~stable%2Ftrain~Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9,openstack/manila,stable/train,Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9,Update LVM volume extend,MERGED,2020-07-28 22:21:45.000000000,2020-07-29 10:05:22.000000000,2020-07-29 08:03:06.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-28 22:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/237d15ab1737d7436460a7f68993ec788cc5ba1b', 'message': ""Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nDue to an issue with Gerrit, we're unable\nto preserve the Change-ID for this change.\nThe change-id in stable/ussuri and in the\nmain branch is I67ac549e790322c56d02db4424ec01a5449e6633\n\nCloses-bug: #1887694\n(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)\n\nChange-Id: Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9\n""}, {'number': 2, 'created': '2020-07-28 22:23:25.000000000', 'files': ['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2063c93c078c990f4865994dc0221662cbc4c5d5', 'message': ""Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nDue to an issue with Gerrit, we're unable\nto preserve the Change-ID for this change.\nThe change-id in stable/ussuri and in the\nmain branch is I67ac549e790322c56d02db4424ec01a5449e6633\n\nCloses-bug: #1887694\nChange-Id: Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9\n(cherry picked from commit c94e1deff1bde93d4167ceeb9dafc494d12cd60c)\n(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)\n""}]",0,743640,2063c93c078c990f4865994dc0221662cbc4c5d5,15,6,2,16643,,,0,"Update LVM volume extend

- do *not* skip fsck when extending
- have extend resize the filesystem itself
  rather than making a separate execution
  of ``resize2fs``

Due to an issue with Gerrit, we're unable
to preserve the Change-ID for this change.
The change-id in stable/ussuri and in the
main branch is I67ac549e790322c56d02db4424ec01a5449e6633

Closes-bug: #1887694
Change-Id: Ieebd69ec9671d48f2d9de0ae3e110518cba4f6f9
(cherry picked from commit c94e1deff1bde93d4167ceeb9dafc494d12cd60c)
(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/743640/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",2,237d15ab1737d7436460a7f68993ec788cc5ba1b,bug/1887694," cmd = ['lvextend', '-L', '%sG' % size, '-r', device_name]"," cmd = ['lvextend', '-L', '%sG' % size, '-n', device_name] self._execute('resize2fs', device_name, run_as_root=True)",2,5
openstack%2Fpython-tripleoclient~master~I0cbf2a0522a843ee73cc58c61cfafcb0b4ffd410,openstack/python-tripleoclient,master,I0cbf2a0522a843ee73cc58c61cfafcb0b4ffd410,Deprecated overcloud container image build (kolla) command,MERGED,2020-07-27 14:02:32.000000000,2020-07-29 10:02:42.000000000,2020-07-29 10:01:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-27 14:02:32.000000000', 'files': ['tripleoclient/v1/container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/091d847794db8b37b4805b53240adb4a5eb6acd6', 'message': 'Deprecated overcloud container image build (kolla) command\n\nWith the switch to TCIB, we now deprecate the ""openstack overcloud\ncontainer image build"" command in favor of the ""openstack tripleo\ncontainer image build"" that doesn\'t use Kolla anymore.\n\nChange-Id: I0cbf2a0522a843ee73cc58c61cfafcb0b4ffd410\n'}]",0,743235,091d847794db8b37b4805b53240adb4a5eb6acd6,12,5,1,3153,,,0,"Deprecated overcloud container image build (kolla) command

With the switch to TCIB, we now deprecate the ""openstack overcloud
container image build"" command in favor of the ""openstack tripleo
container image build"" that doesn't use Kolla anymore.

Change-Id: I0cbf2a0522a843ee73cc58c61cfafcb0b4ffd410
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/743235/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/container_image.py'],1,091d847794db8b37b4805b53240adb4a5eb6acd6,deprecate/kolla," self.log.warning('This command is deprecated. Please use ""openstack ' 'tripleo container image build"" instead.')",,2,0
openstack%2Fneutron~master~Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1,openstack/neutron,master,Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1,[OVN] Add segments to ML2_SUPPORTED_API_EXTENSIONS,MERGED,2020-07-17 12:34:52.000000000,2020-07-29 10:01:58.000000000,2020-07-27 23:11:25.000000000,"[{'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-17 12:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0412bc71017fd16fd5cc700d6ad73a42745ae104', 'message': '[OVN] Add segments to ML2_SUPPORTED_API_EXTENSIONS\n\nWe recently added segmented network features to OVN,\nthat means we could add this extension here to the list.\n\nChange-Id: Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1\n'}, {'number': 2, 'created': '2020-07-17 13:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ab68c4c5751274a6c264642bebec10b984918ba', 'message': '[OVN] Add segments to ML2_SUPPORTED_API_EXTENSIONS\n\nWe recently added segmented network features to OVN,\nthat means we could add this extension here to the list.\n\nChange-Id: Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1\n'}, {'number': 3, 'created': '2020-07-21 06:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25e2956c9da876ccb84568480d8c1bc7ddd80a8b', 'message': '[OVN] Add segments to ML2_SUPPORTED_API_EXTENSIONS\n\nWe recently added segmented network features to OVN,\nthat means we could add this extension here to the list.\n\nChange-Id: Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1\n'}, {'number': 4, 'created': '2020-07-22 07:15:29.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9df1ca82c56c488769835f40dfe6ff7a0494c480', 'message': '[OVN] Add segments to ML2_SUPPORTED_API_EXTENSIONS\n\nWe recently added segmented network features to OVN,\nthat means we could add this extension here to the list.\n\nChange-Id: Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1\n'}]",2,741630,9df1ca82c56c488769835f40dfe6ff7a0494c480,37,9,4,24791,,,0,"[OVN] Add segments to ML2_SUPPORTED_API_EXTENSIONS

We recently added segmented network features to OVN,
that means we could add this extension here to the list.

Change-Id: Iab1fa9d810b3cc2e0384144cf33fc6732d55bec1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/741630/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,0412bc71017fd16fd5cc700d6ad73a42745ae104,," 'segments',",,1,0
openstack%2Fopenstack-tempest-skiplist~master~I3aea7903841716e0314232c156ed70b7dfa21a45,openstack/openstack-tempest-skiplist,master,I3aea7903841716e0314232c156ed70b7dfa21a45,Fix variable,MERGED,2020-07-29 09:00:29.000000000,2020-07-29 09:44:38.000000000,2020-07-29 09:43:02.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-29 09:00:29.000000000', 'files': ['roles/install_skiplist/defaults/main.yaml', 'roles/list_skipped/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/94cd57605967edf189dbb17865c28bc6f9f279f6', 'message': 'Fix variable\n\nThe variable used by quickstart is local_working_dir instead of\nlocal_working_directory\n\nChange-Id: I3aea7903841716e0314232c156ed70b7dfa21a45\n'}]",0,743699,94cd57605967edf189dbb17865c28bc6f9f279f6,8,3,1,8367,,,0,"Fix variable

The variable used by quickstart is local_working_dir instead of
local_working_directory

Change-Id: I3aea7903841716e0314232c156ed70b7dfa21a45
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/99/743699/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/install_skiplist/defaults/main.yaml', 'roles/list_skipped/defaults/main.yaml']",2,94cd57605967edf189dbb17865c28bc6f9f279f6,fix-variable,"_local_path: ""{{ local_working_dir | default('') }}/usr/local/share/ansible""","_local_path: ""{{ local_working_directory | default('') }}/usr/local/share/ansible""",2,2
openstack%2Fcharm-octavia~master~I63cea56e82da526198ae87890697af062152eb28,openstack/charm-octavia,master,I63cea56e82da526198ae87890697af062152eb28,Release sync for 20.08,MERGED,2020-07-27 19:57:20.000000000,2020-07-29 09:27:24.000000000,2020-07-29 09:27:23.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:57:20.000000000', 'files': ['rebuild', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/83893afc30206ab617ca995c072a700721a9a86f', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I63cea56e82da526198ae87890697af062152eb28\n'}]",0,743375,83893afc30206ab617ca995c072a700721a9a86f,12,4,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I63cea56e82da526198ae87890697af062152eb28
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/75/743375/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'tox.ini']",3,83893afc30206ab617ca995c072a700721a9a86f,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,25,9
openstack%2Fkeystonemiddleware~master~If16335d8257ed9328dbb57b13a6da82dbd2b7bc2,openstack/keystonemiddleware,master,If16335d8257ed9328dbb57b13a6da82dbd2b7bc2,support sasl,ABANDONED,2020-07-29 09:13:21.000000000,2020-07-29 09:19:47.000000000,,[],"[{'number': 1, 'created': '2020-07-29 09:13:21.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'releasenotes/notes/enable-sasl-protocol-946149083f604216.yaml', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/35c9c5f6f00b4dbef8736f3df6efa10644f9cb85', 'message': 'support sasl\n\nChange-Id: If16335d8257ed9328dbb57b13a6da82dbd2b7bc2\n'}]",0,743702,35c9c5f6f00b4dbef8736f3df6efa10644f9cb85,3,0,1,31827,,,0,"support sasl

Change-Id: If16335d8257ed9328dbb57b13a6da82dbd2b7bc2
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/02/743702/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'releasenotes/notes/enable-sasl-protocol-946149083f604216.yaml', 'keystonemiddleware/auth_token/__init__.py']",4,35c9c5f6f00b4dbef8736f3df6efa10644f9cb85,bp/enable-sasl-protocol," sasl_enable=self._conf.get('memcache_sasl_enable'), usrname=self._conf.get('memcache_usrname'), password=self._conf.get('memcache_password'),",,49,9
openstack%2Ftripleo-ansible~stable%2Fussuri~I74f3d5b51bde1ec33b69b2488174eef9cc4a330d,openstack/tripleo-ansible,stable/ussuri,I74f3d5b51bde1ec33b69b2488174eef9cc4a330d,container_systemd: improve debugging if service never starts,MERGED,2020-07-28 17:45:52.000000000,2020-07-29 09:10:25.000000000,2020-07-29 09:10:25.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 17:45:52.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5aa885860025735109015ca3cede9953a8addfa7', 'message': 'container_systemd: improve debugging if service never starts\n\nIf a service never starts, the ""status"" key won\'t exist so Ansible\nraises with KeyError which is very misleading (we don\'t even have the\nservice name).\n\nThis make pass the KeyError exception, so we fail at the end of the loop\nof attempts with proper Ansible raise and we give the service name.\n\nChange-Id: I74f3d5b51bde1ec33b69b2488174eef9cc4a330d\n(cherry picked from commit 67d78a753ccf0cc925627c6acc3fabad9905a03b)\n'}]",0,743604,5aa885860025735109015ca3cede9953a8addfa7,7,4,1,3153,,,0,"container_systemd: improve debugging if service never starts

If a service never starts, the ""status"" key won't exist so Ansible
raises with KeyError which is very misleading (we don't even have the
service name).

This make pass the KeyError exception, so we fail at the end of the loop
of attempts with proper Ansible raise and we give the service name.

Change-Id: I74f3d5b51bde1ec33b69b2488174eef9cc4a330d
(cherry picked from commit 67d78a753ccf0cc925627c6acc3fabad9905a03b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/743604/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/container_systemd.py'],1,5aa885860025735109015ca3cede9953a8addfa7,systemd/debug-stable/ussuri," try: if 'Result' in results['status']: if results['status']['Result'] == 'success': if results.get('changed', False): self.changed = True self.restarted.append('tripleo_{}' '.service'.format(name)) return except KeyError: # if 'systemd' task failed to start the service, the 'status' # key doesn't exist, so we'll use the final raise to report the # issue if the service never start after the attempts. pass"," if 'Result' in results['status']: if results['status']['Result'] == 'success': if results.get('changed', False): self.changed = True self.restarted.append('tripleo_{}.service'.format(name)) return",13,6
openstack%2Fansible-role-openstack-operations~master~I7edf9291438f7f4bd79e8cfe7eaec10783b96c75,openstack/ansible-role-openstack-operations,master,I7edf9291438f7f4bd79e8cfe7eaec10783b96c75,[WIP] - Added rear backup,ABANDONED,2019-10-30 07:25:33.000000000,2020-07-29 09:05:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2019-10-30 07:25:33.000000000', 'files': ['tasks/backup_rear.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/d0559cc4c12bdc3245e3236fed3dc658c2639148', 'message': '[WIP] - Added rear backup\n\nChange-Id: I7edf9291438f7f4bd79e8cfe7eaec10783b96c75\n'}]",1,692055,d0559cc4c12bdc3245e3236fed3dc658c2639148,5,2,1,22954,,,0,"[WIP] - Added rear backup

Change-Id: I7edf9291438f7f4bd79e8cfe7eaec10783b96c75
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/55/692055/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/backup_rear.yml', 'defaults/main.yml']",2,d0559cc4c12bdc3245e3236fed3dc658c2639148,rear_backup," # nfs server for rear nfs_server: 192.168.24.1 nfs_backup_directory: ctl_plane_backups deployment_control: systemd rear_local_config: ISO_DEFAULT: '""automatic""' USING_UEFI_BOOTLOADER: 0 OUTPUT: ISO BACKUP: NETFS BACKUP_PROG_COMPRESS_OPTIONS: '( --gzip)' BACKUP_PROG_COMPRESS_SUFFIX: '"".gz""' OUTPUT_URL: ""nfs://{{nfs_server}}/{{nfs_backup_directory}}"" BACKUP_URL: ""nfs://{{nfs_server}}/{{nfs_backup_directory}}"" BACKUP_PROG_EXCLUDE: ( '/tmp/*' '/data/*' '/media' '/var/tmp' '/var/crash' ) POST_RECOVERY_SCRIPT: /bin/poweroff NETFS_KEEP_OLD_BACKUP_COPY: BOOTLOADER: GRUB_RESCUE: 1 ",,105,0
openstack%2Ftripleo-ansible~master~I309820f62786b782b43c2b0abe77b58470630739,openstack/tripleo-ansible,master,I309820f62786b782b43c2b0abe77b58470630739,DNM-Testing,ABANDONED,2020-02-03 13:04:41.000000000,2020-07-29 09:05:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-03 13:04:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/faebef81b1a93b417770b43c9e5a86c0b74dee07', 'message': 'DNM-Testing\n\nDo not merge.\nJust testing\n\nChange-Id: I309820f62786b782b43c2b0abe77b58470630739\n'}]",0,705439,faebef81b1a93b417770b43c9e5a86c0b74dee07,3,1,1,22954,,,0,"DNM-Testing

Do not merge.
Just testing

Change-Id: I309820f62786b782b43c2b0abe77b58470630739
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/705439/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/molecule/default/playbook.yml'],1,faebef81b1a93b417770b43c9e5a86c0b74dee07,test, # It's just for testing purpose,,2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic98277b8980e43604c639d62f4526356879ab90c,openstack/tripleo-heat-templates,stable/queens,Ic98277b8980e43604c639d62f4526356879ab90c,WIP-Test fluentd,ABANDONED,2020-06-10 17:08:08.000000000,2020-07-29 09:04:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 17:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14a7f4c6c7c879b65c9e725e55e44a567a0d866e', 'message': 'WIP-Test fluentd\n\nChange-Id: Ic98277b8980e43604c639d62f4526356879ab90c\n'}, {'number': 2, 'created': '2020-06-10 22:52:17.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25521798d93f447e45371d3fdc50cfd6dcf64fa9', 'message': 'WIP-Test fluentd\n\nDepends-On: I16ca6882e82fa2abf0db61b76adadc13941c623d\n\nChange-Id: Ic98277b8980e43604c639d62f4526356879ab90c\n'}]",0,734892,25521798d93f447e45371d3fdc50cfd6dcf64fa9,6,2,2,22954,,,0,"WIP-Test fluentd

Depends-On: I16ca6882e82fa2abf0db61b76adadc13941c623d

Change-Id: Ic98277b8980e43604c639d62f4526356879ab90c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/734892/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-multinode-containers.yaml'],1,14a7f4c6c7c879b65c9e725e55e44a567a0d866e,test_fluentd, OS::TripleO::Services::Fluentd: ../../docker/services/fluentd.yaml - OS::TripleO::Services::Fluentd LoggingExtraSources: - format: multiline format_firstline: /(?<time>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d+) (?<pid>\d+) (?<priority>\S+) (?<component>\S+) (?<message> Traceback .*)$/ format1: /(?<time>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d+) (?<pid>\d+) (?<priority>\S+) (?<component>\S+) (?<message> .*)$/ format2: /(?<time>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d+) (?<pid>\d+) (?<priority>\S+) (?<component>\S+) (?<traceback> \S.*)$/ path: /var/log/nova/nova-conductor.log tag: openstack.nova.conductor.traceback,,9,0
openstack%2Fkayobe~master~Ic7e1a5457026018994d2ea451b5ed17d1d50529e,openstack/kayobe,master,Ic7e1a5457026018994d2ea451b5ed17d1d50529e,WIP: Network configuration listing,NEW,2020-07-29 07:40:26.000000000,2020-07-29 09:04:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-29 07:40:26.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'requirements.txt', 'ansible/filter_plugins/networks.py', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'kayobe/cli/commands.py', 'kayobe/utils.py', 'setup.cfg', 'ansible/dump-config.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/43183349fd6d0c5c243e9d64d1ad3507c90fb081', 'message': 'WIP: Network configuration listing\n\nChange-Id: Ic7e1a5457026018994d2ea451b5ed17d1d50529e\n'}]",3,743684,43183349fd6d0c5c243e9d64d1ad3507c90fb081,2,1,1,14826,,,0,"WIP: Network configuration listing

Change-Id: Ic7e1a5457026018994d2ea451b5ed17d1d50529e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/743684/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'requirements.txt', 'ansible/filter_plugins/networks.py', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'kayobe/cli/commands.py', 'kayobe/utils.py', 'setup.cfg', 'ansible/dump-config.yml']",9,43183349fd6d0c5c243e9d64d1ad3507c90fb081,,"# - dump_json_query: JMESPath query to perform on data (optional) # - dump_expression: Jinja2 expression to resolve (optional) dump_json_query: dump_expression: - name: set_fact: result: ""{{ dump_expression }}"" when: dump_expression is not none - block: - name: set_fact: result: ""{{ hostvars[inventory_hostname] }}"" when: dump_var_name is not defined - name: set_fact: result: ""{{ hostvars[inventory_hostname][dump_var_name] }}"" when: dump_var_name is defined - name: set_fact: result: ""{{ {dump_var_name|default('hostvars'): result} | json_query(dump_json_query) }}"" when: dump_json_query is not none when: dump_expression is none content: ""{{ result | to_nice_yaml }}"""," content: ""{{ hostvars[inventory_hostname] | to_nice_yaml }}"" when: dump_var_name is not defined - name: Write host variable to file local_action: module: copy content: ""{{ hostvars[inventory_hostname][dump_var_name] | to_nice_yaml }}"" dest: ""{{ dump_path }}/{{ inventory_hostname }}.yml"" when: dump_var_name is defined # - name: Write merged config to file # local_action: # module: copy # content: ""{{ hostvars | merge_config | to_nice_yaml }}"" # dest: ""{{ dump_path }}/merged.yml",452,32
openstack%2Fopenstack-tempest-skiplist~master~I85f43d6167babeabf94ee5778a928bcf571ab39e,openstack/openstack-tempest-skiplist,master,I85f43d6167babeabf94ee5778a928bcf571ab39e,Add option to install tempest-skiplist from git,ABANDONED,2020-07-29 08:35:09.000000000,2020-07-29 09:00:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-29 08:35:09.000000000', 'files': ['roles/install_skiplist/tasks/main.yaml', 'roles/install_skiplist/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fc2ccda6b0b5c878773511c2eb442751820f647a', 'message': 'Add option to install tempest-skiplist from git\n\nThis option is when the zuul is not defined, we assume we are running it\nin other CI, like jenkins, and the role will not be executed locally.\n\nChange-Id: I85f43d6167babeabf94ee5778a928bcf571ab39e\n'}]",0,743694,fc2ccda6b0b5c878773511c2eb442751820f647a,3,1,1,8367,,,0,"Add option to install tempest-skiplist from git

This option is when the zuul is not defined, we assume we are running it
in other CI, like jenkins, and the role will not be executed locally.

Change-Id: I85f43d6167babeabf94ee5778a928bcf571ab39e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/94/743694/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/install_skiplist/tasks/main.yaml', 'roles/install_skiplist/defaults/main.yaml']",2,fc2ccda6b0b5c878773511c2eb442751820f647a,git-install,"_local_path: ""{{ ansible_user_dir | default('') }}/.local/usr/local/share/ansible""","_local_path: ""{{ local_working_directory | default('') }}/usr/local/share/ansible""",8,1
openstack%2Fneutron~master~I6fd72bf83def28ae633d720b8495888cea3ac0a3,openstack/neutron,master,I6fd72bf83def28ae633d720b8495888cea3ac0a3,ovn migration: Support stack name,MERGED,2020-07-14 12:37:24.000000000,2020-07-29 08:34:12.000000000,2020-07-24 09:44:20.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 23811}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-14 12:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bc634f9ad0a48f091bfa9d95bd6bba6f20f0214', 'message': 'ovn migration: Support stack name\n\nThe heat stack name is variable. This patch adds a new environment\nvariable to support migrating stacks that are different name than\novercloud.\n\nChange-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-22 16:33:32.000000000', 'files': ['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afd63d0b36c664ca42cdda498c6b0478cf9774dd', 'message': 'ovn migration: Support stack name\n\nThe heat stack name is variable. This patch adds a new environment\nvariable to support migrating stacks that are different name than\novercloud.\n\nChange-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",2,740949,afd63d0b36c664ca42cdda498c6b0478cf9774dd,25,7,2,8655,,,0,"ovn migration: Support stack name

The heat stack name is variable. This patch adds a new environment
variable to support migrating stacks that are different name than
overcloud.

Change-Id: I6fd72bf83def28ae633d720b8495888cea3ac0a3
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/740949/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",2,9bc634f9ad0a48f091bfa9d95bd6bba6f20f0214,adopt_tripleo_change,": ${STACK_NAME:=overcloud} /usr/bin/tripleo-ansible-inventory --stack $STACK_NAME --static-yaml-inventory ""$inventory_file""# Check if the stack exists function check_stack { source $STACKRC_FILE openstack stack show $STACK_NAME 1> /dev/null || { echo ""ERROR: STACK_NAME=${STACK_NAME} does not exist. Please provide the stack name or its ID "" echo "" via STACK_NAME environment variable."" exit 1 } } check_stack"," /usr/bin/tripleo-ansible-inventory --static-yaml-inventory ""$inventory_file""",18,1
openstack%2Fironic~master~Icc834c3f8febd45c2548314ee00b85a7f9cebd2c,openstack/ironic,master,Icc834c3f8febd45c2548314ee00b85a7f9cebd2c,Deprecate http_basic_username and http_basic_password in [json_rpc],MERGED,2020-07-22 16:10:41.000000000,2020-07-29 08:25:15.000000000,2020-07-28 19:14:00.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-22 16:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21ca26a00f0221173fca641515692ccd5531e67e', 'message': ""Deprecate http_basic_username and http_basic_password in [json_rpc]\n\nIt's very confusing that we use username/password everywhere, except\nfor [json_rpc]. Just use the standard options.\n\nChange-Id: Icc834c3f8febd45c2548314ee00b85a7f9cebd2c\n""}, {'number': 2, 'created': '2020-07-23 11:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3912afc2dc870912273a065a0e7afd64a0735c01', 'message': ""Deprecate http_basic_username and http_basic_password in [json_rpc]\n\nIt's very confusing that we use username/password everywhere, except\nfor [json_rpc]. Just use the standard options.\n\nAlso the version if keystoneauth is bumpted to one that supports\nhttp_basic.\n\nChange-Id: Icc834c3f8febd45c2548314ee00b85a7f9cebd2c\n""}, {'number': 3, 'created': '2020-07-24 09:51:52.000000000', 'files': ['devstack/lib/ironic', 'requirements.txt', 'releasenotes/notes/json_rpc_http_basic-42dfc6ca2471a30e.yaml', 'ironic/common/json_rpc/client.py', 'lower-constraints.txt', 'doc/source/install/standalone.rst', 'ironic/tests/unit/common/test_json_rpc.py', 'ironic/conf/json_rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/74e9e1d82a09b5255d2dd326387ac624ac1ba447', 'message': ""Deprecate http_basic_username and http_basic_password in [json_rpc]\n\nIt's very confusing that we use username/password everywhere, except\nfor [json_rpc]. Just use the standard options.\n\nAlso the version if keystoneauth is bumpted to one that supports\nhttp_basic.\n\nChange-Id: Icc834c3f8febd45c2548314ee00b85a7f9cebd2c\n""}]",6,742474,74e9e1d82a09b5255d2dd326387ac624ac1ba447,35,8,3,10239,,,0,"Deprecate http_basic_username and http_basic_password in [json_rpc]

It's very confusing that we use username/password everywhere, except
for [json_rpc]. Just use the standard options.

Also the version if keystoneauth is bumpted to one that supports
http_basic.

Change-Id: Icc834c3f8febd45c2548314ee00b85a7f9cebd2c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/742474/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'releasenotes/notes/json_rpc_http_basic-42dfc6ca2471a30e.yaml', 'ironic/common/json_rpc/client.py', 'doc/source/install/standalone.rst', 'ironic/tests/unit/common/test_json_rpc.py', 'ironic/conf/json_rpc.py']",6,21ca26a00f0221173fca641515692ccd5531e67e,json_rpc_http_basic," deprecated_for_removal=True, deprecated_reason=_(""Use username instead""), ""client requests."")), deprecated_for_removal=True, deprecated_reason=_(""Use password instead""), ""client requests."")),"," default='', ""client requests. Required when "" ""auth_strategy=http_basic."")), default='', ""client requests. Required when "" ""auth_strategy=http_basic."")),",58,30
openstack%2Fglance~master~Ie8b8e8557098e756399b106bafc03bbcb39c29b0,openstack/glance,master,Ie8b8e8557098e756399b106bafc03bbcb39c29b0,Refresh Glance example configs for Victoria milestone 2,MERGED,2020-07-28 05:37:47.000000000,2020-07-29 08:02:27.000000000,2020-07-29 08:00:45.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 05:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/62b61191372c30d1cb3acf7721189be5fb38030d', 'message': 'Refresh Glance example configs for Victoria milestone 2\n\nChange-Id: Ie8b8e8557098e756399b106bafc03bbcb39c29b0\n'}, {'number': 2, 'created': '2020-07-28 15:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ce788690da6c3e20612fa8179224583e978fb371', 'message': 'Refresh Glance example configs for Victoria milestone 2\n\nChange-Id: Ie8b8e8557098e756399b106bafc03bbcb39c29b0\n'}, {'number': 3, 'created': '2020-07-28 16:07:35.000000000', 'files': ['etc/glance-api.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/5071a60c97bc48526ac381fe7d5e468712beb056', 'message': 'Refresh Glance example configs for Victoria milestone 2\n\nChange-Id: Ie8b8e8557098e756399b106bafc03bbcb39c29b0\n'}]",2,743453,5071a60c97bc48526ac381fe7d5e468712beb056,24,7,3,9303,,,0,"Refresh Glance example configs for Victoria milestone 2

Change-Id: Ie8b8e8557098e756399b106bafc03bbcb39c29b0
",git fetch https://review.opendev.org/openstack/glance refs/changes/53/743453/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/glance-api.conf'],1,62b61191372c30d1cb3acf7721189be5fb38030d,victoria-m2-config-refresh,"# The number of threads (per worker process) in the pool for processing # asynchronous tasks. This controls how many asynchronous tasks (i.e. for # image interoperable import) each worker can run at a time. If this is # too large, you *may* have increased memory footprint per worker and/or you # may overwhelm other system resources such as disk or outbound network # bandwidth. If this is too small, image import requests will have to wait # until a thread becomes available to begin processing. (integer value) # Minimum value: 1 #task_pool_threads = 16 # # Path to the python interpreter to use when spawning external # processes. By default this is sys.executable, which should be the # same interpreter running Glance itself. However, in some situations # (i.e. uwsgi) this may not actually point to a python interpreter # itself. (string value) #python_interpreter = /bin/python #",,19,0
openstack%2Fcharm-trilio-wlm~master~Idc38c507445475313a0451633a455e80ec7d3344,openstack/charm-trilio-wlm,master,Idc38c507445475313a0451633a455e80ec7d3344,WIP do not land,ABANDONED,2020-07-28 14:19:13.000000000,2020-07-29 08:00:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 14:19:13.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/899cdb4da991cb5245c84494abcbba82f85f30ff', 'message': 'WIP do not land\n\nChange-Id: Idc38c507445475313a0451633a455e80ec7d3344\n'}]",0,743553,899cdb4da991cb5245c84494abcbba82f85f30ff,4,2,1,935,,,0,"WIP do not land

Change-Id: Idc38c507445475313a0451633a455e80ec7d3344
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/53/743553/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,899cdb4da991cb5245c84494abcbba82f85f30ff,no-change-retest,,,0,0
openstack%2Fkeystone~master~I5929cdda7c0c7c0c6bf63284d462b1ee346ea5e1,openstack/keystone,master,I5929cdda7c0c7c0c6bf63284d462b1ee346ea5e1,Raise exeption when passing invalid filters in CURL request,ABANDONED,2020-07-23 17:34:45.000000000,2020-07-29 07:40:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-07-23 17:34:45.000000000', 'files': ['keystone/server/flask/common.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/exception.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1aacef6925e6dea3cd2ae0674c8210d21b7ebb4d', 'message': 'Raise exeption when passing invalid filters in CURL request\n\nChange-Id: I5929cdda7c0c7c0c6bf63284d462b1ee346ea5e1\nCloses-Bug: #1693498\n'}]",0,742715,1aacef6925e6dea3cd2ae0674c8210d21b7ebb4d,4,2,1,27621,,,0,"Raise exeption when passing invalid filters in CURL request

Change-Id: I5929cdda7c0c7c0c6bf63284d462b1ee346ea5e1
Closes-Bug: #1693498
",git fetch https://review.opendev.org/openstack/keystone refs/changes/15/742715/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/server/flask/common.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/exception.py']",3,1aacef6925e6dea3cd2ae0674c8210d21b7ebb4d,," class InvalidRequestFilter(ValidationError): message_format = _(""Invalid query params: %(key)s."")",,27,0
openstack%2Fglance~master~I03dbd676c1189507eccaedc0606dda5179ecb77b,openstack/glance,master,I03dbd676c1189507eccaedc0606dda5179ecb77b,Add new config options in sample config generator,MERGED,2020-07-28 05:37:47.000000000,2020-07-29 07:34:14.000000000,2020-07-29 07:32:33.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 05:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b198fe3af99381f8f7a4ce095c7f297d98f1b21b', 'message': 'Add new config options in sample config generator\n\nChange-Id: I03dbd676c1189507eccaedc0606dda5179ecb77b\n'}, {'number': 2, 'created': '2020-07-28 15:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d1aa280d0997c59b7cb8bfde576fc51a0e24280d', 'message': 'Add new config options in sample config generator\n\nChange-Id: I03dbd676c1189507eccaedc0606dda5179ecb77b\n'}, {'number': 3, 'created': '2020-07-28 16:07:35.000000000', 'files': ['glance/opts.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/013bdad8b0519ecb059e4879d376326a05ad34d4', 'message': 'Add new config options in sample config generator\n\nChange-Id: I03dbd676c1189507eccaedc0606dda5179ecb77b\n'}]",4,743452,013bdad8b0519ecb059e4879d376326a05ad34d4,24,7,3,9303,,,0,"Add new config options in sample config generator

Change-Id: I03dbd676c1189507eccaedc0606dda5179ecb77b
",git fetch https://review.opendev.org/openstack/glance refs/changes/52/743452/3 && git format-patch -1 --stdout FETCH_HEAD,['glance/opts.py'],1,b198fe3af99381f8f7a4ce095c7f297d98f1b21b,victoria-m2-config-refresh," glance.common.config.wsgi_opts,",,1,0
openstack%2Fopenstack-helm~master~If25cabc5e70897337dfef7e5401936a79878443b,openstack/openstack-helm,master,If25cabc5e70897337dfef7e5401936a79878443b,keystone: Fix indentation,MERGED,2020-07-28 22:27:56.000000000,2020-07-29 07:33:48.000000000,2020-07-29 07:32:27.000000000,"[{'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}]","[{'number': 1, 'created': '2020-07-28 22:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a59b4efbe40b31039706c554e0a9eed9ac523569', 'message': 'keystone: Fix indentation\n\nChange-Id: If25cabc5e70897337dfef7e5401936a79878443b\n'}, {'number': 2, 'created': '2020-07-28 23:39:11.000000000', 'files': ['keystone/templates/job-domain-manage.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74dfea1ce964ce6071ce16fdfd24ac2983df0e0a', 'message': 'keystone: Fix indentation\n\nChange-Id: If25cabc5e70897337dfef7e5401936a79878443b\n'}]",0,743641,74dfea1ce964ce6071ce16fdfd24ac2983df0e0a,20,5,2,24780,,,0,"keystone: Fix indentation

Change-Id: If25cabc5e70897337dfef7e5401936a79878443b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/41/743641/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/job-domain-manage.yaml'],1,a59b4efbe40b31039706c554e0a9eed9ac523569,,"{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 8 }}","{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}",1,1
openstack%2Fcharm-vault~master~I3ada82412445ab91cead3ed1b48cda798d279068,openstack/charm-vault,master,I3ada82412445ab91cead3ed1b48cda798d279068,Release sync for 20.08,MERGED,2020-07-27 20:01:07.000000000,2020-07-29 07:23:32.000000000,2020-07-29 07:23:31.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 20:01:07.000000000', 'files': ['rebuild', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8352f7ba54ba474789409da25e76d1d64db88f1c', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I3ada82412445ab91cead3ed1b48cda798d279068\n'}]",0,743393,8352f7ba54ba474789409da25e76d1d64db88f1c,15,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I3ada82412445ab91cead3ed1b48cda798d279068
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/93/743393/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'tox.ini']",3,8352f7ba54ba474789409da25e76d1d64db88f1c,batch-2008-release-sync,passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY CHARM_INTERFACES_DIR,8,3
openstack%2Fmanila~stable%2Frocky~If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,openstack/manila,stable/rocky,If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,Get ports filtered by subnet id on share-server cleanup,MERGED,2020-07-01 20:13:01.000000000,2020-07-29 07:22:17.000000000,2020-07-29 07:20:13.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 30238}]","[{'number': 1, 'created': '2020-07-01 20:13:01.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'releasenotes/notes/bug-1879754-teardown-network-d1887cdf6eb83388.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/ab799060277e5813f652e5176f78b9d912bbd012', 'message': ""Get ports filtered by subnet id on share-server cleanup\n\nNeutron can filter ports by subnet-id by itself, so:\n- Don't send all ports in Neutron on every share-server removal\n- Don't send fixed-ips fields (which are nearly half of total data)\n\nCloses-Bug: #1879754\nChange-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97\nSigned-off-by: George Melikov <mail@gmelikov.ru>\n(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)\n(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)\n(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)\n(cherry picked from commit 908041c4569ead060c2c9c3a7ed054bcd7b6f6e9)\n""}]",0,738930,ab799060277e5813f652e5176f78b9d912bbd012,29,7,1,16643,,,0,"Get ports filtered by subnet id on share-server cleanup

Neutron can filter ports by subnet-id by itself, so:
- Don't send all ports in Neutron on every share-server removal
- Don't send fixed-ips fields (which are nearly half of total data)

Closes-Bug: #1879754
Change-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97
Signed-off-by: George Melikov <mail@gmelikov.ru>
(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)
(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)
(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)
(cherry picked from commit 908041c4569ead060c2c9c3a7ed054bcd7b6f6e9)
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/738930/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'releasenotes/notes/bug-1879754-teardown-network-d1887cdf6eb83388.yaml']",3,ab799060277e5813f652e5176f78b9d912bbd012,bug/1879754,"--- fixes: - Fixed unneeded all ports list request to Neutron in service instance helper module on tearing down service subnet, Neutron can filter them by subnet_id itself. ",,21,23
openstack%2Fcharm-manila~master~Ibc2632c8371eb82b43278d8477fc29c8850211ce,openstack/charm-manila,master,Ibc2632c8371eb82b43278d8477fc29c8850211ce,Release sync for 20.08,MERGED,2020-07-27 19:54:23.000000000,2020-07-29 07:15:48.000000000,2020-07-29 07:15:48.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:54:23.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/6b294e6037ba1b28bc4247ca4c8bbae746094721', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ibc2632c8371eb82b43278d8477fc29c8850211ce\n'}]",0,743361,6b294e6037ba1b28bc4247ca4c8bbae746094721,12,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ibc2632c8371eb82b43278d8477fc29c8850211ce
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/61/743361/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",5,6b294e6037ba1b28bc4247ca4c8bbae746094721,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,27,13
openstack%2Fcharm-tempest~master~I623f452d966bd27d826322b784b32d6b20fdf5b0,openstack/charm-tempest,master,I623f452d966bd27d826322b784b32d6b20fdf5b0,Release sync for 20.08,MERGED,2020-07-27 20:00:06.000000000,2020-07-29 07:14:14.000000000,2020-07-29 07:14:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 20:00:06.000000000', 'files': ['rebuild', 'src/tox.ini', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/64cc0c998aa17dad6e81334a9cdf3be4a6c1d948', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I623f452d966bd27d826322b784b32d6b20fdf5b0\n'}]",0,743388,64cc0c998aa17dad6e81334a9cdf3be4a6c1d948,12,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I623f452d966bd27d826322b784b32d6b20fdf5b0
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/88/743388/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/tox.ini', 'tox.ini']",3,64cc0c998aa17dad6e81334a9cdf3be4a6c1d948,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,7,2
openstack%2Fcharm-swift-proxy~master~Ifb867d30fa0357972356ba683947a2b7083e8df9,openstack/charm-swift-proxy,master,Ifb867d30fa0357972356ba683947a2b7083e8df9,Release sync for 20.08,MERGED,2020-07-27 19:59:40.000000000,2020-07-29 07:13:43.000000000,2020-07-29 07:13:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:59:40.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/bc534ac09b5267cb11af72a844c37d4bad18b56f', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ifb867d30fa0357972356ba683947a2b7083e8df9\n'}]",0,743386,bc534ac09b5267cb11af72a844c37d4bad18b56f,12,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ifb867d30fa0357972356ba683947a2b7083e8df9
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/86/743386/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/__init__.py']",7,bc534ac09b5267cb11af72a844c37d4bad18b56f,batch-2008-release-sync," The date which is a string in semi-ISO8660 format indicates the year-month :param warning: String to indicate what is to be used instead. :param date: Optional string in YYYY-MM format to indicate when the :param log: The log function to call in order to log. If None, logs to stdout"," The date, which is a string in semi-ISO8660 format indicate the year-month :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the :param log: The log function to call to log. If not, logs to stdout",67,25
openstack%2Fcharm-keystone~master~Ieb9afed0a6442fac48f8e1ccc0f5c34626a3be18,openstack/charm-keystone,master,Ieb9afed0a6442fac48f8e1ccc0f5c34626a3be18,endpoint notification v2 API compatibility,MERGED,2020-07-28 09:15:19.000000000,2020-07-29 07:09:42.000000000,2020-07-28 21:07:28.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-28 09:15:19.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e02f0590a70ccc0c7e8f31d6db6116afa2ca543f', 'message': 'endpoint notification v2 API compatibility\n\nFallback to v2 API behaviour for processing endpoints for older\nOpenStack releases where the v2 API is still the default.\n\nChange-Id: Ieb9afed0a6442fac48f8e1ccc0f5c34626a3be18\nCloses-Bug: 1889180\n'}]",0,743488,e02f0590a70ccc0c7e8f31d6db6116afa2ca543f,11,3,1,935,,,0,"endpoint notification v2 API compatibility

Fallback to v2 API behaviour for processing endpoints for older
OpenStack releases where the v2 API is still the default.

Change-Id: Ieb9afed0a6442fac48f8e1ccc0f5c34626a3be18
Closes-Bug: 1889180
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/88/743488/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,e02f0590a70ccc0c7e8f31d6db6116afa2ca543f,bug/1889180," if 'interface' in endpoint: # NOTE: v3 API response - endpoint per interface endpoint_dict[endpoint['interface']] = endpoint['url'] else: # NOTE: v2 API response - endpoint has all interfaces for interface in ('public', 'internal', 'admin'): endpoint_url = endpoint.get('{}url'.format(interface)) if endpoint_url: endpoint_dict[interface] = endpoint_url", endpoint_dict[endpoint['interface']] = endpoint['url'],50,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I59233aeb488ae3938128d0ed6b86649a671ba526,openstack/tripleo-ansible,stable/ussuri,I59233aeb488ae3938128d0ed6b86649a671ba526,Fix parameter_defaults for nova less deploy,MERGED,2020-07-28 17:44:27.000000000,2020-07-29 05:46:33.000000000,2020-07-29 05:46:33.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 17:44:27.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cfd705b9eb4bd418d3d8cf94649a6c4828c4366f', 'message': ""Fix parameter_defaults for nova less deploy\n\nWe seem to be using incorrect parameters for HostnameFormat and\nCount when generating environment for nova less deploy.\n\nIt's always {{role.name}}Count and {{role.name}}HostnameFormat\n\nChange-Id: I59233aeb488ae3938128d0ed6b86649a671ba526\n(cherry picked from commit d958b45ebbc986e8381a540f69508e8f91f13081)\n""}]",0,743603,cfd705b9eb4bd418d3d8cf94649a6c4828c4366f,8,5,1,3153,,,0,"Fix parameter_defaults for nova less deploy

We seem to be using incorrect parameters for HostnameFormat and
Count when generating environment for nova less deploy.

It's always {{role.name}}Count and {{role.name}}HostnameFormat

Change-Id: I59233aeb488ae3938128d0ed6b86649a671ba526
(cherry picked from commit d958b45ebbc986e8381a540f69508e8f91f13081)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/743603/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,cfd705b9eb4bd418d3d8cf94649a6c4828c4366f,, parameter_defaults['%sHostnameFormat' % name] = ( parameter_defaults['%sCount' % name] = (, parameter_defaults['%sDeployedServerHostnameFormat' % name] = ( parameter_defaults['%sDeployedServerCount' % name] = (,26,26
openstack%2Ftripleo-ansible~stable%2Ftrain~I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463,openstack/tripleo-ansible,stable/train,I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463,[train-only] container_systemd: clean and test requires for systemd,MERGED,2020-07-23 19:57:01.000000000,2020-07-29 05:46:32.000000000,2020-07-29 05:46:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 19:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80f9488224ba34aaefd47e13509be7e62349ec94', 'message': '[train-only] container_systemd: create requires files for systemd\n\nThey are needed so the healthchecks depend on their respective services.\nWhen a service will be stopped, the healthcheck will be stopped as well.\n\nAlso adding molecule testing for it.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 2, 'created': '2020-07-24 15:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9c8752b539532718cf794201e86011ab5df1824', 'message': '[train-only] container_systemd: create requires files for systemd\n\nThey are needed so the healthchecks depend on their respective services.\nWhen a service will be stopped, the healthcheck will be stopped as well.\n\nAlso adding molecule testing for it.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 3, 'created': '2020-07-24 18:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d51169cc7d3db6aaa8ab4dc7a324d252f906b92', 'message': '[train-only] container_systemd: do ont manage requires for systemd\n\nThe requires are automatically managed by systemd unit files (PartOf)\nand therefore there is no need to create them manually.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 4, 'created': '2020-07-24 18:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d79c284f95a2429c83f7b25d7b469f63a5ac7df8', 'message': '[train-only] container_systemd: do ont manage requires for systemd\n\nThe requires are automatically managed by systemd unit files (PartOf)\nand therefore there is no need to create them manually.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 5, 'created': '2020-07-24 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a0a27e28905ceb56aa9d834e3ae3bd118df69c1', 'message': '[train-only] container_systemd: do ont manage requires for systemd\n\nThe requires are automatically managed by systemd unit files (PartOf)\nand therefore there is no need to create them manually.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 6, 'created': '2020-07-24 19:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97be60730210cce8341a1e018c089e88e6a15b12', 'message': '[train-only] container_systemd: do ont manage requires for systemd\n\nThe requires are automatically managed by systemd unit files (PartOf)\nand therefore there is no need to create them manually.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 7, 'created': '2020-07-24 19:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb29e05e05883af49778e446560c53e9cbcd2d68', 'message': '[train-only] container_systemd: do ont manage requires for systemd\n\nThe requires are automatically managed by systemd unit files (PartOf)\nand therefore there is no need to create them manually.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 8, 'created': '2020-07-24 20:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afdac2944e9100c2f98bd1d98302bf4cf08c9149', 'message': '[train-only] container_systemd: do ont manage requires for systemd\n\nThe requires are automatically managed by systemd unit files (PartOf)\nand therefore there is no need to create them manually.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 9, 'created': '2020-07-24 20:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/13203accc7aa96ad6d5f90a7f7f28fb6eed1a9b3', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 10, 'created': '2020-07-24 22:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/336017879d372a89e8fd69cb6c40fcecaf8f1318', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 11, 'created': '2020-07-26 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81d5370f12e943488e6a56279a585b190bd4fe60', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 12, 'created': '2020-07-26 17:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f4eb6d5879a974c04ec91eecf50ef87bb13ae7fb', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 13, 'created': '2020-07-26 22:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd69137783d14986c264bb6e1b2063bf19020342', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 14, 'created': '2020-07-27 16:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7c8d8cb393a7b813c8c82128c66b24709da62a1', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 15, 'created': '2020-07-27 18:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/519fade15b2d386803ef5e920778e205f3c8b3ec', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 16, 'created': '2020-07-27 18:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34978cf357078dbaafc2e33b04f8c5a426e36cfa', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}, {'number': 17, 'created': '2020-07-28 12:12:52.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b76154404363ea83f647eb153cf321734172a192', 'message': '[train-only] container_systemd: clean and test requires for systemd\n\nClean some old functions and test the healthcheck dependencies on their\nunits.\n\nThis adds a test case in molecule where we:\n\n- Stop a service and check its healthcheck is also stopped by systemd.\n- Start a service and check its healthcheck is also started by systemd.\n\nChange-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463\n'}]",2,742734,b76154404363ea83f647eb153cf321734172a192,40,4,17,3153,,,0,"[train-only] container_systemd: clean and test requires for systemd

Clean some old functions and test the healthcheck dependencies on their
units.

This adds a test case in molecule where we:

- Stop a service and check its healthcheck is also stopped by systemd.
- Start a service and check its healthcheck is also started by systemd.

Change-Id: I5e759d1fed4fe1f7bc2b542d0981e5ce9531d463
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/742734/13 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml']",2,80f9488224ba34aaefd47e13509be7e62349ec94,requires, - name: Check if tripleo_fedora has systemd require file stat: path: /etc/systemd/system/tripleo_fedora.requires register: stat_tripleo_fedora_require - name: Assert that tripleo_fedora has systemd require file assert: that: - stat_tripleo_fedora_require.stat.exists fail_msg: 'tripleo_fedora has no systemd require file' success_msg: 'tripleo_fedora has systemd require file',,22,3
openstack%2Fmanila~master~Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,openstack/manila,master,Id5a9467247df1d8f0ec6dee3fae842ba673c34ed,Fix fallback share group snapshot implementation,MERGED,2020-07-24 22:57:10.000000000,2020-07-29 05:04:18.000000000,2020-07-28 18:18:46.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-24 22:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bacaa32e3c399474d8790ce4f5f68850becbd53f', 'message': 'Fix fallback share group snapshot implementation\n\nWhen a share driver does not provide the capability\nto create share group snapshots, the share manager\niterates over the shares in the group and invokes the\ndriver method to snapshot the shares. However, the\ncreate and delete routines in this fallback path\ndid not include some attributes necessary for the\noperation in many drivers.\n\nChange-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nCloses-Bug: #1888905\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-24 23:05:31.000000000', 'files': ['manila/tests/share/test_driver.py', 'manila/share/driver.py', 'releasenotes/notes/bug-1888905-fix-group-snapshot-create-delete-0595f9d7a4c0c343.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/a398743264023660c1c6dc441a9847ba9a3cabfa', 'message': 'Fix fallback share group snapshot implementation\n\nWhen a share driver does not provide the capability\nto create share group snapshots, the share manager\niterates over the shares in the group and invokes the\ndriver method to snapshot the shares. However, the\ncreate and delete routines in this fallback path\ndid not include some attributes necessary for the\noperation in many drivers.\n\nChange-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nCloses-Bug: #1888905\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,743009,a398743264023660c1c6dc441a9847ba9a3cabfa,19,9,2,16643,,,0,"Fix fallback share group snapshot implementation

When a share driver does not provide the capability
to create share group snapshots, the share manager
iterates over the shares in the group and invokes the
driver method to snapshot the shares. However, the
create and delete routines in this fallback path
did not include some attributes necessary for the
operation in many drivers.

Change-Id: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed
Closes-Bug: #1888905
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/743009/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_driver.py', 'manila/share/driver.py']",2,bacaa32e3c399474d8790ce4f5f68850becbd53f,bug/1888905," 'share_name': 'share_some_fake_uuid', 'name': 'share-snapshot-some_fake_uuid', 'share_name': member['share_name'], 'name': member['name'], 'share_name':'share_some_fake_uuid', 'name': 'share-snapshot-some_fake_uuid', 'share_name': member['share_name'], 'name': member['name'],",,28,0
openstack%2Fmanila~stable%2Fqueens~I077d12785f94c940716f0e479d43dbb29ddc3c3c,openstack/manila,stable/queens,I077d12785f94c940716f0e479d43dbb29ddc3c3c,[devstack] Allow cephfs daemon port access,MERGED,2020-06-22 18:59:11.000000000,2020-07-29 04:56:28.000000000,2020-07-29 04:56:28.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-06-22 18:59:11.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/89a129a5555d7a35ec1b2d218e0b148c0281b2ee', 'message': ""[devstack] Allow cephfs daemon port access\n\nIf the cephfs protocol is enabled, clients\nneed to access the ceph daemons.\n\nWe also don't need to enable access to NFS\nports when not using NFS.\n\nChange-Id: I077d12785f94c940716f0e479d43dbb29ddc3c3c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 341b5777b2350cf07d06327e998394f3795cb283)\n(cherry picked from commit 5d1c30676e8deb906eddc59852a9b1b60d3ee7d6)\n(cherry picked from commit 51b918a86a6481b181f562d8f5b31ab99bf62572)\n(cherry picked from commit b983eda9037a8ad3389d44d91bf817468841b23f)\n(cherry picked from commit 58f1f2107345940ab3e174072c11a21885feab35)\n""}]",0,737358,89a129a5555d7a35ec1b2d218e0b148c0281b2ee,17,7,1,16643,,,0,"[devstack] Allow cephfs daemon port access

If the cephfs protocol is enabled, clients
need to access the ceph daemons.

We also don't need to enable access to NFS
ports when not using NFS.

Change-Id: I077d12785f94c940716f0e479d43dbb29ddc3c3c
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 341b5777b2350cf07d06327e998394f3795cb283)
(cherry picked from commit 5d1c30676e8deb906eddc59852a9b1b60d3ee7d6)
(cherry picked from commit 51b918a86a6481b181f562d8f5b31ab99bf62572)
(cherry picked from commit b983eda9037a8ad3389d44d91bf817468841b23f)
(cherry picked from commit 58f1f2107345940ab3e174072c11a21885feab35)
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/737358/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,89a129a5555d7a35ec1b2d218e0b148c0281b2ee,improve-host-port-rules," if [[ $MANILA_ENABLED_SHARE_PROTOCOLS =~ NFS ]]; then # 111 and 2049 are for rpcbind and NFS # Other ports are for NFSv3 statd, mountd and lockd daemons MANILA_TCP_PORTS=(2049 111 32803 892 875 662) MANILA_UDP_PORTS=(111 32769 892 875 662) fi if [[ $MANILA_ENABLED_SHARE_PROTOCOLS =~ CEPHFS ]]; then # clients need access to the ceph daemons MANILA_TCP_PORTS=(${MANILA_TCP_PORTS[*]} 6789 6800:7300) fi if [[ -v MANILA_TCP_PORTS || -v MANILA_UDP_PORTS ]]; then for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-storage sudo $ipcmd -I INPUT 1 -j manila-storage for port in ${MANILA_TCP_PORTS[*]}; do sudo $ipcmd -A manila-storage -m tcp -p tcp --dport $port -j ACCEPT done for port in ${MANILA_UDP_PORTS[*]}; do sudo $ipcmd -A manila-storage -m udp -p udp --dport $port -j ACCEPT done fi", TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do # (aovchinnikov): extra rules are needed to allow instances talk to # host. sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done done,22,13
openstack%2Fpython-tripleoclient~master~I6d390f3b201ad681d977a12fd627e610ad7b65f0,openstack/python-tripleoclient,master,I6d390f3b201ad681d977a12fd627e610ad7b65f0,Deprecate --standalone argument,MERGED,2020-05-06 21:12:08.000000000,2020-07-29 04:26:08.000000000,2020-07-29 04:23:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-06 21:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d18977370e319af29afefe21e003813f810b7a42', 'message': ""Deprecate --standalone argument\n\nThe only effect the argument had previously was to prevent the command\nfrom throwing an exception when it was not passed.\n\nHowever, the argument did not actually prevent non-standalone\ndeployments. It was still possible to deploy multinode or single remote\nnode deployments using tripleo deploy even when passing --standalone.\n\nThis patch deprecates the --standalone argument and adds help text to\nindicate that it's no longer needed. Continuing to pass the argument\nwill have no change in behavior.\n\nChange-Id: I6d390f3b201ad681d977a12fd627e610ad7b65f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2020-05-07 01:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fbb11a009dd9bbf094adf19bf2d3a5e0192994c', 'message': ""Deprecate --standalone argument\n\nThe only effect the argument had previously was to prevent the command\nfrom throwing an exception when it was not passed.\n\nHowever, the argument did not actually prevent non-standalone\ndeployments. It was still possible to deploy multinode or single remote\nnode deployments using tripleo deploy even when passing --standalone.\n\nThis patch deprecates the --standalone argument and adds help text to\nindicate that it's no longer needed. Continuing to pass the argument\nwill have no change in behavior.\n\nblueprint tripleo-deploy-multinode\nChange-Id: I6d390f3b201ad681d977a12fd627e610ad7b65f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 3, 'created': '2020-05-27 19:06:05.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'releasenotes/notes/deprecate-standalone-argument-57660f3023dc3220.yaml', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a5381b21694ef8c0ca2f587ea2e58a24a57736e5', 'message': ""Deprecate --standalone argument\n\nThe only effect the argument had previously was to prevent the command\nfrom throwing an exception when it was not passed.\n\nHowever, the argument did not actually prevent non-standalone\ndeployments. It was still possible to deploy multinode or single remote\nnode deployments using tripleo deploy even when passing --standalone.\n\nThis patch deprecates the --standalone argument and adds help text to\nindicate that it's no longer needed. Continuing to pass the argument\nwill have no change in behavior.\n\nblueprint tripleo-deploy-multinode\nChange-Id: I6d390f3b201ad681d977a12fd627e610ad7b65f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",0,725993,a5381b21694ef8c0ca2f587ea2e58a24a57736e5,21,7,3,7144,,,0,"Deprecate --standalone argument

The only effect the argument had previously was to prevent the command
from throwing an exception when it was not passed.

However, the argument did not actually prevent non-standalone
deployments. It was still possible to deploy multinode or single remote
node deployments using tripleo deploy even when passing --standalone.

This patch deprecates the --standalone argument and adds help text to
indicate that it's no longer needed. Continuing to pass the argument
will have no change in behavior.

blueprint tripleo-deploy-multinode
Change-Id: I6d390f3b201ad681d977a12fd627e610ad7b65f0
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/725993/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'releasenotes/notes/deprecate-standalone-argument-57660f3023dc3220.yaml', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",3,d18977370e319af29afefe21e003813f810b7a42,tripleo-deploy-multinode," '-e', '../../../outside.yaml'], []) '--output-dir', '/my'], []) '--output-dir', '/my'], []) '--output-dir', '/my'], []) '--output-only'], [])"," '-e', '../../../outside.yaml', '--standalone'], []) '--output-dir', '/my', '--standalone'], []) '--output-dir', '/my', '--standalone'], []) '--output-dir', '/my', '--standalone'], []) '--standalone', '--standalone', '--standalone', '--output-only', '--standalone'], [])",18,22
openstack%2Fpython-tripleoclient~master~Ie116b4c600317d618a9e55b91a945d03e71fb780,openstack/python-tripleoclient,master,Ie116b4c600317d618a9e55b91a945d03e71fb780,"Initially set rc to 0, not 1",MERGED,2020-05-06 21:12:08.000000000,2020-07-29 04:24:52.000000000,2020-07-29 04:23:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-06 21:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/192ce1259131ddb29383b93e45998ac7e183e9b4', 'message': 'Initially set rc to 0, not 1\n\nWith rc being set to 1 initially, it was never reset to 0 when using\n--output-only. This meant when running tripleo deploy with\n--output-only, it always exited 1, causing an exception.\n\nThis patch instead initially sets the value to 0. The only other place\nwhere rc is used is to capture the return from running ansible, so if\nthat returns non-zero, rc will be updated accordingly so that the\ndeployment will fail.\n\nChange-Id: Ie116b4c600317d618a9e55b91a945d03e71fb780\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2020-05-07 01:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/930b1f5def30583e22c6b3bc6dbaa3398ff8eada', 'message': 'Initially set rc to 0, not 1\n\nWith rc being set to 1 initially, it was never reset to 0 when using\n--output-only. This meant when running tripleo deploy with\n--output-only, it always exited 1, causing an exception.\n\nThis patch instead initially sets the value to 0. The only other place\nwhere rc is used is to capture the return from running ansible, so if\nthat returns non-zero, rc will be updated accordingly so that the\ndeployment will fail.\n\nblueprint tripleo-deploy-multinode\nChange-Id: Ie116b4c600317d618a9e55b91a945d03e71fb780\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2020-05-27 19:05:53.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c8736dff0cf4bd6407205502d9e861d36566eb02', 'message': 'Initially set rc to 0, not 1\n\nWith rc being set to 1 initially, it was never reset to 0 when using\n--output-only. This meant when running tripleo deploy with\n--output-only, it always exited 1, causing an exception.\n\nThis patch instead initially sets the value to 0. The only other place\nwhere rc is used is to capture the return from running ansible, so if\nthat returns non-zero, rc will be updated accordingly so that the\ndeployment will fail.\n\nblueprint tripleo-deploy-multinode\nChange-Id: Ie116b4c600317d618a9e55b91a945d03e71fb780\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,725992,c8736dff0cf4bd6407205502d9e861d36566eb02,35,7,3,7144,,,0,"Initially set rc to 0, not 1

With rc being set to 1 initially, it was never reset to 0 when using
--output-only. This meant when running tripleo deploy with
--output-only, it always exited 1, causing an exception.

This patch instead initially sets the value to 0. The only other place
where rc is used is to capture the return from running ansible, so if
that returns non-zero, rc will be updated accordingly so that the
deployment will fail.

blueprint tripleo-deploy-multinode
Change-Id: Ie116b4c600317d618a9e55b91a945d03e71fb780
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/725992/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,192ce1259131ddb29383b93e45998ac7e183e9b4,tripleo-deploy-multinode," @mock.patch('os.path.exists', return_value=True) @mock.patch('os.chdir') @mock.patch('tripleoclient.utils.reset_cmdline') @mock.patch('tripleoclient.utils.copy_clouds_yaml') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_stack_outputs') @mock.patch('tripleo_common.actions.ansible.' 'write_default_ansible_cfg') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.chmod') # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.mkdir') @mock.patch('six.moves.builtins.open') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_populate_templates_dir') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_install_artifact', return_value='/tmp/foo.tar.bzip2') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_cleanup_working_dirs') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_create_working_dirs') @mock.patch('tripleoclient.utils.wait_api_port_ready', autospec=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_deploy_tripleo_heat_templates', autospec=True, return_value='undercloud, 0') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_download_ansible_playbooks', autospec=True, return_value='/foo') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_launch_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_kill_heat') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_configure_puppet') @mock.patch('os.geteuid', return_value=0) @mock.patch('os.environ', return_value='CREATE_COMPLETE') @mock.patch('tripleoclient.utils.wait_for_stack_ready', return_value=True) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_set_default_plan') def test_standalone_deploy_rc_output_only( self, mock_def_plan, mock_poll, mock_environ, mock_geteuid, mock_puppet, mock_killheat, mock_launchheat, mock_download, mock_tht, mock_wait_for_port, mock_createdirs, mock_cleanupdirs, mock_tarball, mock_templates_dir, mock_open, mock_os, mock_chmod, mock_ac, mock_outputs, mock_copy, mock_cmdline, mock_chdir, mock_file_exists): parsed_args = self.check_parser(self.cmd, ['--local-ip', '127.0.0.1', '--templates', '/tmp/thtroot', '--stack', 'undercloud', '--output-dir', '/my', '--output-only', '--standalone'], []) rc = self.cmd.take_action(parsed_args) self.assertEqual(None, rc)",,64,1
openstack%2Ftripleo-ansible~master~I435c86306ecd5e0cafeda9d8d468483b7a34f040,openstack/tripleo-ansible,master,I435c86306ecd5e0cafeda9d8d468483b7a34f040,Increase validity period of Octavia CA and certificates,MERGED,2020-03-26 13:46:47.000000000,2020-07-29 04:11:13.000000000,2020-07-29 04:11:13.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-03-26 13:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dcd879a1ae1de5aa421ddcd93d269baad22abd2c', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 5 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}, {'number': 2, 'created': '2020-03-26 17:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7054796f639470378cfc6c7faf031ee6eee46d0f', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 5 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}, {'number': 3, 'created': '2020-04-27 14:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0eeb4acda3f966bf24709bdb6b3ecc5986bc6e2', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 5 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}, {'number': 4, 'created': '2020-04-29 06:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/105347db49b6cd898fbca54000b82cbe93c1ec8d', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 5 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}, {'number': 5, 'created': '2020-05-04 12:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1dd4882ab40534d8de03a24507484cd1f274e6c6', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 5 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}, {'number': 6, 'created': '2020-05-26 13:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b10cc60dd4354dfaca74a49f07fd192254c6c15', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 5 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}, {'number': 7, 'created': '2020-06-11 06:13:46.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f168dc9ca5b01fe616f196c2f49001d7882a2c8', 'message': 'Increase validity period of Octavia CA and certificates\n\nCurrent validity period of Octavia CA and certificates is one year, this\nis too short for cloud deployments: Octavia services can no longer\ncontrol a load balancer that has been running for more than one year\n(dataplane still works, but cannot be configured).\n\nThis commit defines these values:\n- Octavia CA validity period is 50 years.\n- Octavia client certificate validity period is 10 years.\n\nFor existing deployment, the existing CA private key is fetched from\ncontrollers, is updated using AES256 cipher if needed, then the key is\nused to generate a new CA. Using an existing private key for this CA\nallows to keep compability with existing client certificates.\n\nChange-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040\nRelated-Bug: #1869203\n'}]",14,715209,0f168dc9ca5b01fe616f196c2f49001d7882a2c8,52,7,7,29244,,,0,"Increase validity period of Octavia CA and certificates

Current validity period of Octavia CA and certificates is one year, this
is too short for cloud deployments: Octavia services can no longer
control a load balancer that has been running for more than one year
(dataplane still works, but cannot be configured).

This commit defines these values:
- Octavia CA validity period is 50 years.
- Octavia client certificate validity period is 10 years.

For existing deployment, the existing CA private key is fetched from
controllers, is updated using AES256 cipher if needed, then the key is
used to generate a new CA. Using an existing private key for this CA
allows to keep compability with existing client certificates.

Change-Id: I435c86306ecd5e0cafeda9d8d468483b7a34f040
Related-Bug: #1869203
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/715209/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml']",4,dcd879a1ae1de5aa421ddcd93d269baad22abd2c,octavia_certs," - name: Read CA details openssl_certificate_info: path: ""{{ octavia_confd_prefix }}/{{ ca_cert_path }}"" register: ca_cert_info - name: Force CA update if validity is only 1 year set_fact: force_certs_update: true when: - (not_after | int - not_before | int) == 10000000000 vars: not_after: ""{{ ca_cert_info['not_after'][:-1] }}"" not_before: ""{{ ca_cert_info['not_before'][:-1] }}"" - name: Store CA private key - name: Detect if key is encrypted with AES256 shell: grep -q 'AES-256-CBC' {{ octavia_confd_prefix }}/{{ ca_private_key_path }} failed_when: false register: ca_private_key_aes_256 - name: Store flag if a private key update is required set_fact: force_private_key_update: true force_certs_update: true when: ca_private_key_aes_256.rc != 0", - name: Store CA data,63,5
openstack%2Fmanila~master~I8588e8f988d85dc64e19e7a44a25c3dd0b776892,openstack/manila,master,I8588e8f988d85dc64e19e7a44a25c3dd0b776892,Add verify-noapi testcase to grenade,MERGED,2020-07-23 04:27:22.000000000,2020-07-29 03:11:05.000000000,2020-07-24 15:40:01.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-23 04:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dc2cc1971471bde1f1570adc42eaf51cee534ef1', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-23 04:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f5f5c959101e65b5dd5d2ac79fe8736c5abdbe2a', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-07-23 04:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0d2c6c6b7a743b5e93a7e9e42a322892bb510958', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-07-23 05:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/67758e7855315e31796f917393425e2958f09db5', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-07-23 06:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c916aa260b60c14e9952c32bcd8900db2cd54ac3', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-07-23 14:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/be308749a02317922655a63ad885354b0eaa319a', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-07-23 16:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/843dc17bd22d61cedb57a0d52c9d9e8ddddc46bc', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2020-07-23 17:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e85684a2aee64f596cd384648ee91fc83dac9a78', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2020-07-23 18:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8dd47f0676578437b5286eb7450dd9b2da8a6760', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2020-07-23 20:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ebb8746ef1957a8b54f1d287417ffe74683bbcb9', 'message': 'Add verify-noapi testcase to grenade\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 11, 'created': '2020-07-23 21:41:09.000000000', 'files': ['contrib/ci/pre_test_hook.sh', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/8cccb73f46df763f907171e63d960fb1e6a81fd0', 'message': 'Add verify-noapi testcase to grenade\n\nSwitch to using the LVM driver in the grenade\njob that allows us to add a minor data\npath test to prove that upgrading manila\nhas no impact on data path connectivity\nto resources created by manila.\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,742585,8cccb73f46df763f907171e63d960fb1e6a81fd0,46,11,11,16643,,,0,"Add verify-noapi testcase to grenade

Switch to using the LVM driver in the grenade
job that allows us to add a minor data
path test to prove that upgrading manila
has no impact on data path connectivity
to resources created by manila.

Change-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/85/742585/10 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,dc2cc1971471bde1f1570adc42eaf51cee534ef1,manila-grenade,"MANILA_GRENADE_ACCESS_TO=${MANILA_GRENADE_ACCESS_TO:-""0.0.0.0/0""} resource_save manila share_protocol $share_protocol # grab the export location export_path=$(manila share-export-location-list \ $MANILA_GRENADE_SHARE_NAME | grep "":/"" | \ cut -d ""|"" -f 3 | head -1) resource_save manila export_path $export_path ##### function scenario_6_do_share_mount_and_write_data { mkdir -p /tmp/manila-share export_path=$(resource_get manila export_path) share_protocol=$(resource_get manila share_protocol) sudo mount -t $share_protocol $export_path /tmp/manila-share test_msg=""Hello from the past"" echo $test_msg | sudo tee /tmp/manila-share/testfile && sudo sync } function scenario_6_verify_share_mount_and_read_data { export_path=$(resource_get manila export_path) share_is_mounted=$(sudo mount | grep $export_path) [[ -z $share_is_mounted ]] && die $LINENO ""Share $export_path is not mounted"" read_data=$(sudo cat /tmp/manila-share/testfile|xargs) if [[ $read_data == ""Hello from the past"" ]]; then echo ""Share data remains unmodified."" else die $LINENO ""Share data does not match what was written before upgrade."" fi } scenario_6_do_share_mount_and_write_data scenario_6_verify_share_mount_and_read_data scenario_6_verify_share_mount_and_read_data","MANILA_GRENADE_ACCESS_TO=${MANILA_GRENADE_ACCESS_TO:-""127.0.0.1""} :",39,2
openstack%2Fmanila~stable%2Fussuri~I67ac549e790322c56d02db4424ec01a5449e6633,openstack/manila,stable/ussuri,I67ac549e790322c56d02db4424ec01a5449e6633,Update LVM volume extend,MERGED,2020-07-16 15:51:38.000000000,2020-07-29 03:07:57.000000000,2020-07-21 21:37:36.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-16 15:51:38.000000000', 'files': ['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a3c18edcd9c4f7def293f18a6cac286ec00bc49', 'message': 'Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nCloses-bug: #1887694\nChange-Id: I67ac549e790322c56d02db4424ec01a5449e6633\n'}]",0,741488,2a3c18edcd9c4f7def293f18a6cac286ec00bc49,18,6,1,16643,,,0,"Update LVM volume extend

- do *not* skip fsck when extending
- have extend resize the filesystem itself
  rather than making a separate execution
  of ``resize2fs``

Closes-bug: #1887694
Change-Id: I67ac549e790322c56d02db4424ec01a5449e6633
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/741488/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",2,2a3c18edcd9c4f7def293f18a6cac286ec00bc49,bug/1887694," cmd = ['lvextend', '-L', '%sG' % size, '-r', device_name]"," cmd = ['lvextend', '-L', '%sG' % size, '-n', device_name] self._execute('resize2fs', device_name, run_as_root=True)",2,5
openstack%2Fpython-tripleoclient~master~Ida92643820e04563cc5ea75788a07d73955efe9e,openstack/python-tripleoclient,master,Ida92643820e04563cc5ea75788a07d73955efe9e,Close session objects in container_image.py,MERGED,2020-07-23 06:42:30.000000000,2020-07-29 02:43:44.000000000,2020-07-28 09:39:09.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-23 06:42:30.000000000', 'files': ['tripleoclient/v1/container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b407f78a8467130fc239e797d28a131ee9bcce65', 'message': ""Close session objects in container_image.py\n\nWe don't seem to close the request session objects we create,\nafter using them and this results in unclosed sockets and\nthe warning.\n\nResourceWarning: unclosed <socket.socket fd=17...\n\nChange-Id: Ida92643820e04563cc5ea75788a07d73955efe9e\n""}]",0,742600,b407f78a8467130fc239e797d28a131ee9bcce65,23,6,1,8833,,,0,"Close session objects in container_image.py

We don't seem to close the request session objects we create,
after using them and this results in unclosed sockets and
the warning.

ResourceWarning: unclosed <socket.socket fd=17...

Change-Id: Ida92643820e04563cc5ea75788a07d73955efe9e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/742600/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/container_image.py'],1,b407f78a8467130fc239e797d28a131ee9bcce65,," session = uploader.authenticate(reg_url, parsed_args.username, parsed_args.password) finally: session.close() finally: session.close() try: results = uploader.list(url.geturl(), session=session) finally: session.close() try: image_inspect_result = uploader.inspect( parsed_args.image_to_inspect, session=session) finally: session.close()"," uploader.authenticate(reg_url, parsed_args.username, parsed_args.password) results = uploader.list(url.geturl(), session=session) image_inspect_result = uploader.inspect(parsed_args.image_to_inspect, session=session)",18,7
openstack%2Fswift~master~Ic0d4a24ea6e94e7227396e3af862db81b673ffca,openstack/swift,master,Ic0d4a24ea6e94e7227396e3af862db81b673ffca,py3: formpost key-encoding follow-up,NEW,2019-06-06 22:54:48.000000000,2020-07-29 01:03:08.000000000,,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 22:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f50183f5df778c933cd48e7dde589a15b53e308a', 'message': 'py3: formpost key-encoding follow-up\n\nBe more explicit that something is a py2/3 branch.\n\nAdd a unit test to cover a key with UTF-8 data.\n\nChange-Id: Ic0d4a24ea6e94e7227396e3af862db81b673ffca\nRelated-Change: I69974cc8a39731c980b54137b799a36b2e63a44a\n'}, {'number': 2, 'created': '2019-06-18 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bbbf3072fb7dd52e49ea5675d4baecdb5fa551da', 'message': 'py3: formpost key-encoding follow-up\n\nBe more explicit that something is a py2/3 branch.\n\nAdd a unit test to cover a key with UTF-8 data.\n\nChange-Id: Ic0d4a24ea6e94e7227396e3af862db81b673ffca\nRelated-Change: I69974cc8a39731c980b54137b799a36b2e63a44a\n'}, {'number': 3, 'created': '2020-07-28 19:02:00.000000000', 'files': ['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1ccc7e29d61aa9851955c6b03dbeba0f5e421e00', 'message': 'py3: formpost key-encoding follow-up\n\nAdd a unit test to cover a key with UTF-8 data.\n\nChange-Id: Ic0d4a24ea6e94e7227396e3af862db81b673ffca\nRelated-Change: I69974cc8a39731c980b54137b799a36b2e63a44a\n'}]",1,663793,1ccc7e29d61aa9851955c6b03dbeba0f5e421e00,9,3,3,15343,,,0,"py3: formpost key-encoding follow-up

Add a unit test to cover a key with UTF-8 data.

Change-Id: Ic0d4a24ea6e94e7227396e3af862db81b673ffca
Related-Change: I69974cc8a39731c980b54137b799a36b2e63a44a
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/663793/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py']",2,f50183f5df778c933cd48e7dde589a15b53e308a,py3-tempurl, if six.PY3: :returns: list of (native string) tempurl keys," if not isinstance(key, six.binary_type): :returns: list of tempurl keys",10,12
openstack%2Fopenstack-helm-infra~master~I11876e7ca9af3e37071716c34ccdb9361f98828d,openstack/openstack-helm-infra,master,I11876e7ca9af3e37071716c34ccdb9361f98828d,[FIX] Apparmor to Node-problem Detector,MERGED,2020-07-28 21:22:16.000000000,2020-07-29 01:02:58.000000000,2020-07-29 01:01:42.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-28 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fce6a50b8fc51d83b3e8045e84951a471e69aced', 'message': '[FIX] Apparmor to Node-problem Detector\n\nChange-Id: I11876e7ca9af3e37071716c34ccdb9361f98828d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-07-28 21:31:57.000000000', 'files': ['kubernetes-node-problem-detector/values_overrides/apparmor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b82a146640b1c20411d0e4b978609b127beb642b', 'message': '[FIX] Apparmor to Node-problem Detector\n\nChange-Id: I11876e7ca9af3e37071716c34ccdb9361f98828d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}]",0,743632,b82a146640b1c20411d0e4b978609b127beb642b,10,5,2,29131,,,0,"[FIX] Apparmor to Node-problem Detector

Change-Id: I11876e7ca9af3e37071716c34ccdb9361f98828d
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/743632/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fce6a50b8fc51d83b3e8045e84951a471e69aced,Fix_Apparmor,,,0,0
openstack%2Fopenstack-helm-infra~master~Iebe39607b2c1111b790fd6f0f431941dd75b3464,openstack/openstack-helm-infra,master,Iebe39607b2c1111b790fd6f0f431941dd75b3464,feat(tls): add tls to mariadb  SST user,ABANDONED,2020-07-28 12:56:56.000000000,2020-07-29 00:37:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-28 12:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f605b64fa1430fa736fa8c2a465600551908b46f', 'message': '[DNM] - mariabd SST user testing only\n\nChange-Id: Iebe39607b2c1111b790fd6f0f431941dd75b3464\n'}, {'number': 2, 'created': '2020-07-28 13:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97027100fabdcf4c382908fd955a93de47a8f0fc', 'message': '[DNM] - mariabd SST user testing only\n\nChange-Id: Iebe39607b2c1111b790fd6f0f431941dd75b3464\n'}, {'number': 3, 'created': '2020-07-28 19:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/85e741262584770cf038c317dcc0273b25b6e1ac', 'message': '[DNM] - mariabd SST user testing only\n\nChange-Id: Iebe39607b2c1111b790fd6f0f431941dd75b3464\n'}, {'number': 4, 'created': '2020-07-28 19:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf5c559d878ccc193066ae7f228e3bcef5a677b6', 'message': 'feat(tls): add tls to mariadb  SST user\n\nThe patchset add REQUIRE X509 for sst user\n\nChange-Id: Iebe39607b2c1111b790fd6f0f431941dd75b3464\n'}, {'number': 5, 'created': '2020-07-28 22:10:13.000000000', 'files': ['mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/values.yaml', 'mariadb/templates/secrets/_admin_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user_internal.cnf.tpl', 'mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91bd5bb2080eea4912119b547324898188140d56', 'message': 'feat(tls): add tls to mariadb  SST user\n\nThe patchset add REQUIRE X509 for sst user\n\nChange-Id: Iebe39607b2c1111b790fd6f0f431941dd75b3464\n'}]",0,743525,91bd5bb2080eea4912119b547324898188140d56,9,1,5,24780,,,0,"feat(tls): add tls to mariadb  SST user

The patchset add REQUIRE X509 for sst user

Change-Id: Iebe39607b2c1111b790fd6f0f431941dd75b3464
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/743525/2 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,f605b64fa1430fa736fa8c2a465600551908b46f,," ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' {4};\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' {6} ;\n"""," ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1';\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' ;\n""",2,2
openstack%2Fmanila~stable%2Ftrain~I67ac549e790322c56d02db4424ec01a5449e6633,openstack/manila,stable/train,I67ac549e790322c56d02db4424ec01a5449e6633,Update LVM volume extend,ABANDONED,2020-07-21 21:38:30.000000000,2020-07-29 00:31:26.000000000,,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-21 21:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8c177685f4fe45b5595ae3aabf7cbb0665bde97e', 'message': 'Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nCloses-bug: #1887694\nChange-Id: I67ac549e790322c56d02db4424ec01a5449e6633\n(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)\n'}, {'number': 2, 'created': '2020-07-27 21:08:31.000000000', 'files': ['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/daca5b62e7aee79be2516cdea18aec68efcd44fa', 'message': 'Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nCloses-bug: #1887694\nChange-Id: I67ac549e790322c56d02db4424ec01a5449e6633\n(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)\n'}]",0,742289,daca5b62e7aee79be2516cdea18aec68efcd44fa,17,3,2,9003,,,0,"Update LVM volume extend

- do *not* skip fsck when extending
- have extend resize the filesystem itself
  rather than making a separate execution
  of ``resize2fs``

Closes-bug: #1887694
Change-Id: I67ac549e790322c56d02db4424ec01a5449e6633
(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/742289/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",2,8c177685f4fe45b5595ae3aabf7cbb0665bde97e,bug/1887694," cmd = ['lvextend', '-L', '%sG' % size, '-r', device_name]"," cmd = ['lvextend', '-L', '%sG' % size, '-n', device_name] self._execute('resize2fs', device_name, run_as_root=True)",2,5
openstack%2Fpython-swiftclient~master~I45f5d3009e0e2015c7366384ee826113fc27c70b,openstack/python-swiftclient,master,I45f5d3009e0e2015c7366384ee826113fc27c70b,Add max_backoff and starting_backoff for get_conn in swift service,MERGED,2020-07-28 14:17:33.000000000,2020-07-29 00:14:06.000000000,2020-07-29 00:12:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32246}]","[{'number': 1, 'created': '2020-07-28 14:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9ad38010dcf3af42f334035e4a9a8ad6f64346ad', 'message': 'Add max_backoff and starting_backoff for get_conn in swift service\n\nChange-Id: I45f5d3009e0e2015c7366384ee826113fc27c70b\n'}, {'number': 2, 'created': '2020-07-28 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/f9004844598615d6199ce68da6eee3233cdbf2a5', 'message': 'Add max_backoff and starting_backoff for get_conn in swift service\n\nChange-Id: I45f5d3009e0e2015c7366384ee826113fc27c70b\n'}, {'number': 3, 'created': '2020-07-28 18:03:53.000000000', 'files': ['swiftclient/service.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/842086d27fbb8ae8b5b723a0167d33ca2050feea', 'message': 'Add max_backoff and starting_backoff for get_conn in swift service\n\nChange-Id: I45f5d3009e0e2015c7366384ee826113fc27c70b\n'}]",0,743551,842086d27fbb8ae8b5b723a0167d33ca2050feea,14,3,3,32246,,,0,"Add max_backoff and starting_backoff for get_conn in swift service

Change-Id: I45f5d3009e0e2015c7366384ee826113fc27c70b
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/51/743551/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/service.py'],1,9ad38010dcf3af42f334035e4a9a8ad6f64346ad,add_backoff_option," retries=options['retries'], force_auth_retry=options['force_auth_retry'], starting_backoff=options['starting_backoff'], max_backoff=options['max_backoff'])"," options['retries'], force_auth_retry=options['force_auth_retry'])",4,2
openstack%2Fswift~stable%2Ftrain~I918ab4ccbf4d081b26f4117937410cdad1caf8d3,openstack/swift,stable/train,I918ab4ccbf4d081b26f4117937410cdad1caf8d3,Stop syncing empty suffixes list,MERGED,2020-07-28 18:37:56.000000000,2020-07-29 00:07:48.000000000,2020-07-29 00:06:04.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 18:37:56.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/69225ada606c00e5a68d82c297c7c5c100bf33ab', 'message': 'Stop syncing empty suffixes list\n\nChange-Id: I918ab4ccbf4d081b26f4117937410cdad1caf8d3\nCloses-Bug: #1862645\nCloses-Bug: #1886782\n(cherry picked from commit 907942eb4743e5a4213b1f84fd57a58386594bb6)\n'}]",0,743614,69225ada606c00e5a68d82c297c7c5c100bf33ab,7,2,1,15343,,,0,"Stop syncing empty suffixes list

Change-Id: I918ab4ccbf4d081b26f4117937410cdad1caf8d3
Closes-Bug: #1862645
Closes-Bug: #1886782
(cherry picked from commit 907942eb4743e5a4213b1f84fd57a58386594bb6)
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/743614/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,69225ada606c00e5a68d82c297c7c5c100bf33ab,bug/1862645-stable/ussuri-stable/train," resp.read.return_value = b'garbage' self.assertEqual(stats.hashmatch, 0) self.assertEqual(stats.hashmatch, 0) @mock.patch('swift.obj.replicator.tpool.execute') @mock.patch('swift.obj.replicator.http_connect', autospec=True) @mock.patch('swift.obj.replicator._do_listdir') def test_update_local_hash_changes_during_replication( self, mock_do_listdir, mock_http, mock_tpool_execute): mock_http.return_value = answer = mock.MagicMock() answer.getresponse.return_value = resp = mock.MagicMock() resp.status = 200 resp.read.return_value = pickle.dumps({ 'a83': 'c130a2c17ed45102aada0f4eee69494ff'}) self.replicator.sync = fake_sync = \ mock.MagicMock(return_value=(True, [])) local_job = [ job for job in self.replicator.collect_jobs() if not job['delete'] and job['partition'] == '0' and int(job['policy']) == 0 ][0] mock_tpool_execute.side_effect = [ (1, {'a83': 'ba47fd314242ec8c7efb91f5d57336e4'}), (1, {'a83': 'c130a2c17ed45102aada0f4eee69494ff'}), ] self.replicator.update(local_job) self.assertEqual(fake_sync.call_count, 0) self.assertEqual(mock_http.call_count, 2) stats = self.replicator.total_stats self.assertEqual(stats.attempted, 1) self.assertEqual(stats.suffix_sync, 0) self.assertEqual(stats.suffix_hash, 1) self.assertEqual(stats.suffix_count, 1) self.assertEqual(stats.hashmatch, 2) ", resp.read.return_value = 'garbage',39,1
openstack%2Fneutron-tempest-plugin~master~I28bd5c086c3b47b25725efa73577fcc1cf965141,openstack/neutron-tempest-plugin,master,I28bd5c086c3b47b25725efa73577fcc1cf965141,Add flag to forbid packet loss during remote ping test,MERGED,2020-07-27 10:31:58.000000000,2020-07-29 00:06:03.000000000,2020-07-29 00:06:03.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-07-27 10:31:58.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/12663cf4bca0d075c293df25e0c64ef02761ea03', 'message': 'Add flag to forbid packet loss during remote ping test\n\nBy default ping returns success in case target host responded only\non a part of requests. For some tests this may be not suitable.\nThis patch adds a flag which will allow to configure\ncheck_remote_connectivity function to fail in case packet loss\ndiffers from 0%.\n\nChange-Id: I28bd5c086c3b47b25725efa73577fcc1cf965141\n'}]",0,743187,12663cf4bca0d075c293df25e0c64ef02761ea03,8,7,1,29350,,,0,"Add flag to forbid packet loss during remote ping test

By default ping returns success in case target host responded only
on a part of requests. For some tests this may be not suitable.
This patch adds a flag which will allow to configure
check_remote_connectivity function to fail in case packet loss
differs from 0%.

Change-Id: I28bd5c086c3b47b25725efa73577fcc1cf965141
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/87/743187/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,12663cf4bca0d075c293df25e0c64ef02761ea03,add_flag_for_packet_loss," timeout=None, pattern=None, forbid_packet_loss=False): :param forbid_packet_loss: forbid or allow some lost packets if forbid_packet_loss and ' 0% packet loss' not in result: LOG.debug('Packet loss detected') return not should_succeed pattern=None, forbid_packet_loss=False): timeout=timeout, pattern=pattern, forbid_packet_loss=forbid_packet_loss))"," timeout=None, pattern=None): pattern=None): timeout=timeout, pattern=pattern))",10,3
openstack%2Foslo.messaging~master~I5c468d10230f05438df780e045f1e92662edf070,openstack/oslo.messaging,master,I5c468d10230f05438df780e045f1e92662edf070,Catch ConnectionForced Exception,MERGED,2020-06-30 01:01:19.000000000,2020-07-29 00:04:00.000000000,2020-07-28 16:25:33.000000000,"[{'_account_id': 8770}, {'_account_id': 12907}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-06-30 01:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/540e128c2f83ee3c67df34fb665bfe1086fd3f4f', 'message': 'Catach ConnecionForced Exception\n\nOccassionally I saw large number of connectionforced exceptions.\nsuch exceptions cannot be healed automatically and requires a reboot.\ncatch it and ensure connection established.\n\nChange-Id: I5c468d10230f05438df780e045f1e92662edf070\nCloses-Bug: #1883038\n'}, {'number': 2, 'created': '2020-07-18 23:41:22.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/26e8bb4cc9097fddf3c2e34599b131e3f5d73867', 'message': 'Catch ConnectionForced Exception\n\nOccasionally I saw large number of connectionforced exceptions.\nsuch exceptions cannot be healed automatically and requires a reboot.\ncatch it and ensure connection established.\n\nChange-Id: I5c468d10230f05438df780e045f1e92662edf070\nCloses-Bug: #1883038\n'}]",2,738538,26e8bb4cc9097fddf3c2e34599b131e3f5d73867,14,5,2,29071,,,0,"Catch ConnectionForced Exception

Occasionally I saw large number of connectionforced exceptions.
such exceptions cannot be healed automatically and requires a reboot.
catch it and ensure connection established.

Change-Id: I5c468d10230f05438df780e045f1e92662edf070
Closes-Bug: #1883038
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/38/738538/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,540e128c2f83ee3c67df34fb665bfe1086fd3f4f,bug/1883038,"from amqp import exceptions as amqp_exec kombu.exceptions.OperationalError, amqp_exec.ConnectionForced) as exc:", kombu.exceptions.OperationalError) as exc:,3,1
openstack%2Fneutron~master~I53372524c9cdc75c4b24e1f3c973f8f87a73a8f9,openstack/neutron,master,I53372524c9cdc75c4b24e1f3c973f8f87a73a8f9,"Remove ""vf_management"" and ""vf_extended_management"" checks",MERGED,2020-07-27 10:51:09.000000000,2020-07-29 00:02:45.000000000,2020-07-29 00:01:22.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-27 10:51:09.000000000', 'files': ['doc/source/cli/neutron-sanity-check.rst', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da99368141e9be53be9d013de9180a527bcbd90', 'message': 'Remove ""vf_management"" and ""vf_extended_management"" checks\n\nSince [1], the SR-IOV commands are executed using Pyroute2. The\nsupport to execute those commands is guaranteed by the requested\nminimum version of this library.\n\n[1]https://review.opendev.org/#/c/727811/\n\nChange-Id: I53372524c9cdc75c4b24e1f3c973f8f87a73a8f9\nCloses-Bug: #1888920\n'}]",0,743190,6da99368141e9be53be9d013de9180a527bcbd90,12,7,1,16688,,,0,"Remove ""vf_management"" and ""vf_extended_management"" checks

Since [1], the SR-IOV commands are executed using Pyroute2. The
support to execute those commands is guaranteed by the requested
minimum version of this library.

[1]https://review.opendev.org/#/c/727811/

Change-Id: I53372524c9cdc75c4b24e1f3c973f8f87a73a8f9
Closes-Bug: #1888920
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/743190/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/neutron-sanity-check.rst', 'neutron/cmd/sanity_check.py']",2,6da99368141e9be53be9d013de9180a527bcbd90,bug/1888920,," cfg.CONF.set_default('vf_management', True) if ('sriovnicswitch' in cfg.CONF.ml2.mechanism_drivers and 'qos' in cfg.CONF.ml2.extension_drivers): cfg.CONF.set_default('vf_extended_management', True)",1,19
openstack%2Fneutron-lib~master~I3155a4f1de664e4ff8e32ccc4314927ea462048c,openstack/neutron-lib,master,I3155a4f1de664e4ff8e32ccc4314927ea462048c,Neutron agent-list API added with sort_key keyword,MERGED,2020-06-29 16:00:50.000000000,2020-07-28 23:54:28.000000000,2020-07-28 23:53:09.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31916}]","[{'number': 1, 'created': '2020-06-29 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8a68dd0b05b96906976fdc1833230b1d727d52f6', 'message': 'Neutron agent-list API added with sort_key\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nRelated-Bug: #1877254\n'}, {'number': 2, 'created': '2020-06-30 07:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e0f4a85c3d30c26555bf7d654929e62b3c7aef33', 'message': 'Neutron agent-list API added with sort_key keyword\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nRelated-Bug: #1877254\n'}, {'number': 3, 'created': '2020-06-30 14:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d806c8af5eab3c543d2b8791f5921a1371ffb407', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefine a Shim API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nRelated-Bug: #1877254\n'}, {'number': 4, 'created': '2020-07-01 11:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cb1e7aa014a7fb11fd45b58fc73e61636344632e', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefine a Shim API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nRelated-Bug: #1877254\n'}, {'number': 5, 'created': '2020-07-09 14:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/399efca129bbbac340bb8e705df7e93d05691768', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 6, 'created': '2020-07-10 11:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f8c839761583c053e7c9562d3c905b84cdddac2c', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 7, 'created': '2020-07-14 09:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1fdc1382b8e5e33440bf0076b52c2eab284fb63e', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 8, 'created': '2020-07-14 09:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8862ec7826cd98811936c93bfa1327b99dafbfb3', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 9, 'created': '2020-07-15 13:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/40ca1da5a7b44d34a8cc0ef9e99aee0c51f24222', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 10, 'created': '2020-07-17 12:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8b147113701b0d4db4d06a06721c7dbbd993e252', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 11, 'created': '2020-07-17 16:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a8b349311d00d034e6aee5e6d83740bf109cfdd4', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nCloses-Bug: #1877254\n'}, {'number': 12, 'created': '2020-07-28 05:13:30.000000000', 'files': ['neutron_lib/api/definitions/agent_sort_key.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/agents.inc', 'neutron_lib/tests/unit/api/definitions/test_agent_sort_key.py', 'releasenotes/notes/bug-1877254-2b997b3911e98079.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5b035972e567e1426657218c52b0ebc06860d3ef', 'message': 'Neutron agent-list API added with sort_key keyword\n\nDefining a API Extention for enabling sorting in agent\n-list attributes.\n\nAdded ""is_sort_key"" keyword for attributes of agent.\nNeutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted\nlist.\n\nChange-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c\nRelated-Bug: #1877254\n'}]",55,738471,5b035972e567e1426657218c52b0ebc06860d3ef,43,7,12,31916,,,0,"Neutron agent-list API added with sort_key keyword

Defining a API Extention for enabling sorting in agent
-list attributes.

Added ""is_sort_key"" keyword for attributes of agent.
Neutron API can use ""sort_key"" and ""sort_dir"" for sorting on resulted
list.

Change-Id: I3155a4f1de664e4ff8e32ccc4314927ea462048c
Related-Bug: #1877254
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/71/738471/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/agent_sort_key.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/agents.inc', 'neutron_lib/tests/unit/api/definitions/test_agent_sort_key.py', 'releasenotes/notes/bug-1877254-2b997b3911e98079.yaml']",6,8a68dd0b05b96906976fdc1833230b1d727d52f6,bug/1877254,--- features: - | Add keyword ``is_sort_key`` to agents. Make the agent's attribute can be used as a sort key for sorting list result. ,,131,0
openstack%2Fopenstack-helm-infra~master~I8d50948a867c18a510539afd04a5cd1949d83705,openstack/openstack-helm-infra,master,I8d50948a867c18a510539afd04a5cd1949d83705,[DNM] TESTING,ABANDONED,2020-07-28 23:53:02.000000000,2020-07-28 23:53:51.000000000,,[],"[{'number': 1, 'created': '2020-07-28 23:53:02.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fa7fc4dc70de8a359b5426c28eb28fde0f8151a', 'message': '[DNM] TESTING\n\nChange-Id: I8d50948a867c18a510539afd04a5cd1949d83705\n'}]",0,743645,7fa7fc4dc70de8a359b5426c28eb28fde0f8151a,2,0,1,24780,,,0,"[DNM] TESTING

Change-Id: I8d50948a867c18a510539afd04a5cd1949d83705
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/743645/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,7fa7fc4dc70de8a359b5426c28eb28fde0f8151a,," ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1';\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' ;\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' ;\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' ;\n"""," ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' {4};\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' {6} ;\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' {4} ;\n"" ""GRANT PROCESS, RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO '{2}'@'127.0.0.1' {6} ;\n""",4,4
openstack%2Fos-brick~master~I8263f2eb7476f80f1d744b7435c48173821eb90e,openstack/os-brick,master,I8263f2eb7476f80f1d744b7435c48173821eb90e,Bump hacking to 3.1.0,MERGED,2020-07-16 14:20:19.000000000,2020-07-28 23:47:37.000000000,2020-07-28 23:46:28.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-07-16 14:20:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e24bf5fd48f6a14518b1a9aa44b84fbdc53c67d8', 'message': 'Bump hacking to 3.1.0\n\nChange-Id: I8263f2eb7476f80f1d744b7435c48173821eb90e\n'}]",0,741467,e24bf5fd48f6a14518b1a9aa44b84fbdc53c67d8,14,9,1,4523,,,0,"Bump hacking to 3.1.0

Change-Id: I8263f2eb7476f80f1d744b7435c48173821eb90e
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/67/741467/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e24bf5fd48f6a14518b1a9aa44b84fbdc53c67d8,,"hacking>=3.1.0,<3.2.0 # Apache-2.0","hacking>=3.0.1,<3.1.0 # Apache-2.0",1,1
openstack%2Fproject-config~master~I99759f107aaa99e87ddbe83eea462ff725d949ee,openstack/project-config,master,I99759f107aaa99e87ddbe83eea462ff725d949ee,Add pyca 3rd-party CI tenant,MERGED,2020-07-27 02:25:36.000000000,2020-07-28 23:34:46.000000000,2020-07-28 23:19:22.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 02:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a96a53c89ce7506b171fafa9ea7c65b5b7c81ca', 'message': 'Add OpenDev 3rd-party CI tenant\n\nThis is a separate tenant for 3rd party CI where we/projects want to\nkeep their configuration in their project, but are not gated by Zuul.\nThis opens a small window for job name conflicts or other config\nerrors that may affect more than just the project making the mistake.\nKeeping things in a separate tenant means our main projects will not\nbe affected.\n\nIt also gives us a place to have a separate trusted repository so we\nhave a home for things like uploading with API keys should we need to.\n\nChange-Id: I99759f107aaa99e87ddbe83eea462ff725d949ee\n'}, {'number': 2, 'created': '2020-07-27 07:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/612f1c446a4870c776919028459a2b1ddd74df16', 'message': 'Add OpenDev 3rd-party CI tenant\n\nThis is a separate tenant for 3rd party CI where we/projects want to\nkeep their configuration in their project, but are not gated by Zuul.\nThis opens a small window for job name conflicts or other config\nerrors that may affect more than just the project making the mistake.\nKeeping things in a separate tenant means our main projects will not\nbe affected.\n\nIt also gives us a place to have a separate trusted repository so we\nhave a home for things like uploading with API keys should we need to.\n\nChange-Id: I99759f107aaa99e87ddbe83eea462ff725d949ee\n'}, {'number': 3, 'created': '2020-07-27 22:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/91fcaf670f8bdd483043fbf688d3ad30949f92ee', 'message': 'Add OpenDev 3rd-party CI tenant\n\nThis is a separate tenant for 3rd party CI where we/projects want to\nkeep their configuration in their project, but are not gated by Zuul.\nThis opens a small window for job name conflicts or other config\nerrors that may affect more than just the project making the mistake.\nKeeping things in a separate tenant means our main projects will not\nbe affected.\n\nIt also gives us a place to have a separate trusted repository so we\nhave a home for things like uploading with API keys should we need to.\n\nChange-Id: I99759f107aaa99e87ddbe83eea462ff725d949ee\n'}, {'number': 4, 'created': '2020-07-28 19:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3f78517d3bc23c2788a3e22209029e2484288b55', 'message': 'Add pyca 3rd-party CI tenant\n\nThis is a separate tenant for pyca 3rd party CI testing/wheel\nbuilding/etc.  pyca want to keep their configuration in their project,\nbut are not gated by Zuul.  This opens a small window for job name\nconflicts or other config errors that may affect more than just the\nproject making the mistake.  Keeping things in a separate tenant means\nour main projects will not be affected.\n\nIt also gives us a place to have a separate trusted repository so we\nhave a home for things like uploading with API keys should we need to.\n\nChange-Id: I99759f107aaa99e87ddbe83eea462ff725d949ee\n'}, {'number': 5, 'created': '2020-07-28 20:28:12.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/05014b6b3d20677ae3acbae1f202f77987689b72', 'message': 'Add pyca 3rd-party CI tenant\n\nThis is a separate tenant for pyca 3rd party CI testing/wheel\nbuilding/etc.  pyca want to keep their configuration in their project,\nbut are not gated by Zuul.  This opens a small window for job name\nconflicts or other config errors that may affect more than just the\nproject making the mistake.  Keeping things in a separate tenant means\nour main projects will not be affected.\n\nIt also gives us a place to have a separate trusted repository so we\nhave a home for things like uploading with API keys should we need to.\n\nChange-Id: I99759f107aaa99e87ddbe83eea462ff725d949ee\n'}]",2,743144,05014b6b3d20677ae3acbae1f202f77987689b72,20,5,5,7118,,,0,"Add pyca 3rd-party CI tenant

This is a separate tenant for pyca 3rd party CI testing/wheel
building/etc.  pyca want to keep their configuration in their project,
but are not gated by Zuul.  This opens a small window for job name
conflicts or other config errors that may affect more than just the
project making the mistake.  Keeping things in a separate tenant means
our main projects will not be affected.

It also gives us a place to have a separate trusted repository so we
have a home for things like uploading with API keys should we need to.

Change-Id: I99759f107aaa99e87ddbe83eea462ff725d949ee
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/743144/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,0a96a53c89ce7506b171fafa9ea7c65b5b7c81ca,opendev-3pci," # This tenant is ""OpenDev third-party CI"". It is for the intersection # of external projects that are useful/interesting/important to # OpenDev such that we wish to run CI against them AND where the # tested project wants to keep their Zuul configuration in an un-gated # location (e.g. usually it's own source tree) so we can not guarantee # that a bad configuration such as duplicate jobs names won't be # merged. This keeps the small number of potential problems isolated # from the main tenant. - tenant: name: opendev-3pci max-nodes-per-job: 1 report-build-page: true source: gerrit: config-projects: - opendev-3pci/project-config # Only use jobs and secrets from this repo, we do not want # the project definition. - opendev/base-jobs: include: - job - secret - nodeset untrusted-projects: - zuul/zuul-jobs github: untrusted-projects: # Don't load any configuration from these projects because we # don't gate them, so they could wedge our config. - include: [] projects: - pyca/cryptography",,33,0
openstack%2Fpython-cinderclient~master~Ia545bb689cfdfb57962d74e3957dfb372fd3782b,openstack/python-cinderclient,master,Ia545bb689cfdfb57962d74e3957dfb372fd3782b,Bump hacking to 3.1.0,MERGED,2020-07-16 14:57:51.000000000,2020-07-28 23:30:05.000000000,2020-07-28 23:28:36.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 14:57:51.000000000', 'files': ['cinderclient/client.py', 'test-requirements.txt', 'cinderclient/tests/unit/v2/test_limits.py', 'cinderclient/shell.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1dc592a6fd6693288f479ad770b0ccdac0b48607', 'message': 'Bump hacking to 3.1.0\n\npycodestyle does not know about ""importutils.try_import""\ncalls, so we have to either\n  a) put them inside a ""try"" block\nor\n  b) add ""# noqa: E402"" to each import after the\n     try_import call\n\nChange-Id: Ia545bb689cfdfb57962d74e3957dfb372fd3782b\n'}]",0,741475,1dc592a6fd6693288f479ad770b0ccdac0b48607,8,3,1,4523,,,0,"Bump hacking to 3.1.0

pycodestyle does not know about ""importutils.try_import""
calls, so we have to either
  a) put them inside a ""try"" block
or
  b) add ""# noqa: E402"" to each import after the
     try_import call

Change-Id: Ia545bb689cfdfb57962d74e3957dfb372fd3782b
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/75/741475/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/client.py', 'test-requirements.txt', 'cinderclient/tests/unit/v2/test_limits.py', 'cinderclient/shell.py', 'cinderclient/utils.py']",5,1dc592a6fd6693288f479ad770b0ccdac0b48607,, return [unicode_key_value_to_string(item) for item in src], return [unicode_key_value_to_string(l) for l in src],12,6
openstack%2Fcinder~master~Iafb120957b262bbbff8bf98aeeaed7662e6e4d34,openstack/cinder,master,Iafb120957b262bbbff8bf98aeeaed7662e6e4d34,Bump hacking version to 3.1.0,MERGED,2020-07-14 21:06:08.000000000,2020-07-28 23:23:53.000000000,2020-07-28 23:20:56.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10379}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-07-14 21:06:08.000000000', 'files': ['test-requirements.txt', 'cinder/tests/unit/policies/test_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'cinder/tests/unit/targets/test_iet_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3418aba17803898531faffd79bd7ab87d16da35a', 'message': 'Bump hacking version to 3.1.0\n\nFixes a small number of issues required for this\nupgrade.\n\nChange-Id: Iafb120957b262bbbff8bf98aeeaed7662e6e4d34\n'}]",0,741052,3418aba17803898531faffd79bd7ab87d16da35a,52,31,1,4523,,,0,"Bump hacking version to 3.1.0

Fixes a small number of issues required for this
upgrade.

Change-Id: Iafb120957b262bbbff8bf98aeeaed7662e6e4d34
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/741052/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/policies/test_volume.py', 'test-requirements.txt', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'cinder/tests/unit/targets/test_iet_driver.py']",5,3418aba17803898531faffd79bd7ab87d16da35a,," 'tid:1 name:iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45\n' ' sid:844427031282176 initiator:' 'iqn.1994-05.com.redhat:5a6894679665\n' 'iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45' )) 'tid:1 name:iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45\n' ' sid:844427031282176 initiator:' 'iqn.1994-05.com.redhat:5a6894679665\n' '1', 'iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45', 'volume-83c2e877-feed-46be-8435-77884fe55b45' ))"," 'tid:1 name:iqn.2010-10.org.openstack:volume-83c2e877-feed-46be-8435-77884fe55b45\n' # noqa ' sid:844427031282176 initiator:iqn.1994-05.com.redhat:5a6894679665\n' # noqa 'iqn.2010-10.org.openstack:volume-83c2e877-feed-46be-8435-77884fe55b45' # noqa )) 'tid:1 name:iqn.2010-10.org.openstack:volume-83c2e877-feed-46be-8435-77884fe55b45\n' # noqa ' sid:844427031282176 initiator:iqn.1994-05.com.redhat:5a6894679665\n' # noqa '1', 'iqn.2010-10.org.openstack:volume-83c2e877-feed-46be-8435-77884fe55b45', # noqa 'volume-83c2e877-feed-46be-8435-77884fe55b45' # noqa ))",28,22
openstack%2Fcinder~master~I6b3f826dee5c901b50159656a72ad2399818fcc5,openstack/cinder,master,I6b3f826dee5c901b50159656a72ad2399818fcc5,PowerMax Driver -  Changing from 91 to 92 REST endpoints,MERGED,2020-06-24 15:12:09.000000000,2020-07-28 23:22:31.000000000,2020-07-28 23:20:52.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-06-24 15:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9fa5b77ed6ce03a4e27d1cc2e483b171e9cf1a5', 'message': 'PowerMax driver -  changing from 91 to 92 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 91 to 92.\n\nChange-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5\n'}, {'number': 2, 'created': '2020-06-24 16:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbe73d416aea830416bf6bbbbd45fa17fcb56274', 'message': 'PowerMax Driver -  Changing from 91 to 92 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 91 to 92.\n\nChange-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5\n'}, {'number': 3, 'created': '2020-07-10 10:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9d852bc6d7ed1c73f90cf75ebccb0a6aa06e08b', 'message': 'PowerMax Driver -  Changing from 91 to 92 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 91 to 92.\n\nChange-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5\n'}, {'number': 4, 'created': '2020-07-13 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89150133cb535ce922f554bc566524dd5dc46217', 'message': 'PowerMax Driver -  Changing from 91 to 92 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 91 to 92.\n\nChange-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5\n'}, {'number': 5, 'created': '2020-07-13 09:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d975ff7ed1d6ad5414dc14cf20efa50246cb278a', 'message': 'PowerMax Driver -  Changing from 91 to 92 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 91 to 92.\nImprovements have been made to the method by with URIs are\ncreated to allow for full coverage of all possible Unisphere\nREST API endpoints.\n\nChange-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5\n'}, {'number': 6, 'created': '2020-07-13 10:42:50.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_fc.py', 'cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/powermax-91-to-92-endpoints-bb467c8aca0165dd.yaml', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d592b2ad0d4eeab2fbbf25427d63b80fd0c5d72b', 'message': 'PowerMax Driver -  Changing from 91 to 92 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 91 to 92.\nImprovements have been made to the method by with URIs are\ncreated to allow for full coverage of all possible Unisphere\nREST API endpoints.\n\nChange-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5\n'}]",1,737828,d592b2ad0d4eeab2fbbf25427d63b80fd0c5d72b,150,36,6,12670,,,0,"PowerMax Driver -  Changing from 91 to 92 REST endpoints

Changing unisphere for powermax REST endpoint from 91 to 92.
Improvements have been made to the method by with URIs are
created to allow for full coverage of all possible Unisphere
REST API endpoints.

Change-Id: I6b3f826dee5c901b50159656a72ad2399818fcc5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/737828/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/powermax-91-to-92-endpoints-bb467c8aca0165dd.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",5,a9fa5b77ed6ce03a4e27d1cc2e483b171e9cf1a5,92_endpoints,"import reU4V_VERSION = '92' MIN_U4P_VERSION = '9.2.0.0'POPULATE_SG_LIST = ""Populating Storage Group(s) with volumes"" elif POPULATE_SG_LIST in desc: regex_str = (r'Populating Storage Group\(s\) ' + r'with volumes : \[(.+)\]$') full_str = re.compile(regex_str) match = full_str.match(desc) device_id = match.group(1) if match else None snap_tgt_dict['source_vol_id'] = snap_tgt.get('linkSourceName') snap_tgt_dict['state'] = snap_tgt.get('state') snap_tgt_dict['copy_mode'] = snap_tgt.get('copy') if vol_info.get('timeFinderInfo'): vol_tf_sessions = vol_info.get( 'timeFinderInfo').get('snapVXSession') if vol_tf_sessions: for session in vol_tf_sessions: if session.get('tgtSrcSnapshotGenInfo'): snap_tgt_link = session.get( 'tgtSrcSnapshotGenInfo') snap_tgt_dict['snap_name'] = snap_tgt_link.get( 'snapshotName') snap_tgt_dict['expired'] = snap_tgt_link.get( 'expired') snap_tgt_dict['generation'] = snap_tgt_link.get( 'generation')",U4V_VERSION = '91' MIN_U4P_VERSION = '9.1.0.14' snap_tgt_dict['source_vol_id'] = snap_tgt['linkSourceName'] snap_tgt_dict['state'] = snap_tgt['state'] snap_tgt_dict['copy_mode'] = snap_tgt['copy'] vol_tf_sessions = vol_info['timeFinderInfo']['snapVXSession'] for session in vol_tf_sessions: if session.get('tgtSrcSnapshotGenInfo'): snap_tgt_link = session.get('tgtSrcSnapshotGenInfo') snap_tgt_dict['snap_name'] = snap_tgt_link['snapshotName'] snap_tgt_dict['expired'] = snap_tgt_link['expired'] snap_tgt_dict['generation'] = snap_tgt_link['generation'],63,24
openstack%2Fpython-tripleoclient~stable%2Ftrain~Id60bf618f6cd778970c5ff3aee19bcc40d294c3b,openstack/python-tripleoclient,stable/train,Id60bf618f6cd778970c5ff3aee19bcc40d294c3b,Correct ansible playbook execution handler,MERGED,2020-07-22 16:49:23.000000000,2020-07-28 23:22:13.000000000,2020-07-28 23:20:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-22 16:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bde80700c3af5ed348370217d5574c005b96428b', 'message': 'Correct ansible playbook execution handler\n\nThis change modifies the `run_ansible_playbook` method so that its correctly handling\noutput. When a playbook has a lot output the method will hang in an S+ state waiting\nfor stdout to be read and the FD closed. To correct this issue the method has been\nmodified to return only the rc information and allow the `run_command_and_log` to\nhandle stdout, which ensures this subprocess invocation is handled in the same way\nas all other invocations.\n\n> All uses of `run_ansible_playbook` have been updated to ensure we\'re handling\n  the process correctly throughout the client.\n> The method `run_ansible_playbook` will now execute and return None. In the event\n  of a failure, the method will still raise a ""Runtime"" exception and log a warning.\n> This change only impacts stable/train, this issue has been resolved in future\n  releases through the use of Ansible-Runner.\n\nChange-Id: Id60bf618f6cd778970c5ff3aee19bcc40d294c3b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-07-23 14:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3ccd7dad0f6d0b381c60c6393c14287cb31d8e8b', 'message': 'Correct ansible playbook execution handler\n\nThis change modifies the `run_ansible_playbook` method so that its correctly handling\noutput. When a playbook has a lot output the method will hang in an S+ state waiting\nfor stdout to be read and the FD closed. To correct this issue the method has been\nmodified to return only the rc information and allow the `run_command_and_log` to\nhandle stdout, which ensures this subprocess invocation is handled in the same way\nas all other invocations.\n\n> All uses of `run_ansible_playbook` have been updated to ensure we\'re handling\n  the process correctly throughout the client.\n> The method `run_ansible_playbook` will now execute and return None. In the event\n  of a failure, the method will still raise a ""Runtime"" exception and log a warning.\n> This change only impacts stable/train, this issue has been resolved in future\n  releases through the use of Ansible-Runner.\n\nChange-Id: Id60bf618f6cd778970c5ff3aee19bcc40d294c3b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-07-23 23:26:12.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/v1/overcloud_delete.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aedc61466f7f535e051d1dc6670faa1be52b28e4', 'message': 'Correct ansible playbook execution handler\n\nThis change modifies the `run_ansible_playbook` method so that its correctly handling\noutput. When a playbook has a lot output the method will hang in an S+ state waiting\nfor stdout to be read and the FD closed. To correct this issue the method has been\nmodified to return only the rc information and allow the `run_command_and_log` to\nhandle stdout, which ensures this subprocess invocation is handled in the same way\nas all other invocations.\n\n> All uses of `run_ansible_playbook` have been updated to ensure we\'re handling\n  the process correctly throughout the client.\n> The method `run_ansible_playbook` will now execute and return None. In the event\n  of a failure, the method will still raise a ""Runtime"" exception and log a warning.\n> This change only impacts stable/train, this issue has been resolved in future\n  releases through the use of Ansible-Runner.\n> Tests have been updated to support the changes within the `run_ansible_playbook`\n  method.\n\nChange-Id: Id60bf618f6cd778970c5ff3aee19bcc40d294c3b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",5,742483,aedc61466f7f535e051d1dc6670faa1be52b28e4,37,7,3,7353,,,0,"Correct ansible playbook execution handler

This change modifies the `run_ansible_playbook` method so that its correctly handling
output. When a playbook has a lot output the method will hang in an S+ state waiting
for stdout to be read and the FD closed. To correct this issue the method has been
modified to return only the rc information and allow the `run_command_and_log` to
handle stdout, which ensures this subprocess invocation is handled in the same way
as all other invocations.

> All uses of `run_ansible_playbook` have been updated to ensure we're handling
  the process correctly throughout the client.
> The method `run_ansible_playbook` will now execute and return None. In the event
  of a failure, the method will still raise a ""Runtime"" exception and log a warning.
> This change only impacts stable/train, this issue has been resolved in future
  releases through the use of Ansible-Runner.
> Tests have been updated to support the changes within the `run_ansible_playbook`
  method.

Change-Id: Id60bf618f6cd778970c5ff3aee19bcc40d294c3b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/742483/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/v1/overcloud_delete.py']",4,bde80700c3af5ed348370217d5574c005b96428b,fix-run_ansible_playbook, utils.run_ansible_playbook( python_interpreter=python_interpreter )," rc, output = utils.run_ansible_playbook( python_interpreter=python_interpreter) if rc != 0: self.log.warning( ""{} did not complete successfully."".format(playbook) )",24,33
openstack%2Fnetworking-odl~master~Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6,openstack/networking-odl,master,Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6,Fix pep8 job  and small fixes for functional jobs,MERGED,2020-07-15 09:04:00.000000000,2020-07-28 23:07:21.000000000,2020-07-28 23:03:50.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 09:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/45c140a3571d47f3dedfdb3b7b64a01de76118ba', 'message': ""Small fixes for functional jobs\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}, {'number': 2, 'created': '2020-07-15 09:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f0f92565808bd9ecc4ed0cf98450811f663a31f8', 'message': ""Fix pep8 job  and small fixes for functional jobs\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}, {'number': 3, 'created': '2020-07-15 14:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/20d28112f1e889a3d8a2fd2adf82e2f916a97fbd', 'message': ""Fix pep8 job  and small fixes for functional jobs\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}, {'number': 4, 'created': '2020-07-28 07:58:51.000000000', 'files': ['playbooks/functional/pre.yaml', 'test-requirements.txt', 'lower-constraints.txt', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e4367d791702c3e40a3796dd753b58546599cef8', 'message': ""Fix pep8 job  and small fixes for functional jobs\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}]",3,741124,e4367d791702c3e40a3796dd753b58546599cef8,22,8,4,8313,,,0,"Fix pep8 job  and small fixes for functional jobs

New versions of isort broke pylint. This patch fixes it at 4.3.21.

The issue appeared on stable branches that functional jobs can't find
correct pip version and failed due to not actual neutron version.

Change-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/24/741124/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/functional/pre.yaml', '.zuul.d/jobs.yaml']",2,45c140a3571d47f3dedfdb3b7b64a01de76118ba,pep8-error, required-projects: - openstack/neutron - openstack/neutron-lib,,4,0
openstack%2Ftripleo-ci~master~I76a0891f0d0acbf52d59dabba3e427fcd8a57ae0,openstack/tripleo-ci,master,I76a0891f0d0acbf52d59dabba3e427fcd8a57ae0,Move job python.,MERGED,2020-06-11 08:06:27.000000000,2020-07-28 22:59:15.000000000,2020-07-28 22:59:14.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-06-11 08:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fce375452ace55f3c545a969b286af41baf02eae', 'message': 'Move job python.\n\nMove the python3.5 job to python3.6 a more recent version.\n\nChange-Id: I76a0891f0d0acbf52d59dabba3e427fcd8a57ae0\n'}, {'number': 2, 'created': '2020-06-11 08:13:08.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1d331e6739c461367683ecc095634e022285678f', 'message': 'Move job python.\n\nMove the python3.5 job to python3.6 a more recent version.\n\nChange-Id: I76a0891f0d0acbf52d59dabba3e427fcd8a57ae0\n'}]",0,735072,1d331e6739c461367683ecc095634e022285678f,16,6,2,31245,,,0,"Move job python.

Move the python3.5 job to python3.6 a more recent version.

Change-Id: I76a0891f0d0acbf52d59dabba3e427fcd8a57ae0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/72/735072/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fce375452ace55f3c545a969b286af41baf02eae,drop_mock, - openstack-tox-py36: - openstack-tox-py36:, - openstack-tox-py35: - openstack-tox-py35:,2,2
openstack%2Ftripleo-ci~master~I7c8db8bc3f6ae0d26739b999d15f4544b9c42164,openstack/tripleo-ci,master,I7c8db8bc3f6ae0d26739b999d15f4544b9c42164,the standalone template and periodic are running 3 times each,MERGED,2020-07-23 16:28:37.000000000,2020-07-28 22:59:13.000000000,2020-07-28 22:59:13.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-23 16:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6dddfed0e2bf84f377528beae6411dba9a3a68ad', 'message': 'the standalone template and periodic are running 3 times each\n\nThis is caused because the standalone-full template\nis called in other projects. See:\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&pipeline=periodic\n\nChange-Id: I7c8db8bc3f6ae0d26739b999d15f4544b9c42164\n'}, {'number': 2, 'created': '2020-07-23 21:28:44.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/432f401686244c60e85cc84d6bf4baca18cbd63c', 'message': 'the standalone template and periodic are running 3 times each\n\nThis is caused because the standalone-full template\nis called in other projects. See:\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&pipeline=periodic\n\nChange-Id: I7c8db8bc3f6ae0d26739b999d15f4544b9c42164\n'}]",0,742701,432f401686244c60e85cc84d6bf4baca18cbd63c,25,7,2,9592,,,0,"the standalone template and periodic are running 3 times each

This is caused because the standalone-full template
is called in other projects. See:
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&pipeline=periodic

Change-Id: I7c8db8bc3f6ae0d26739b999d15f4544b9c42164
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/742701/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/periodic.yaml']",2,6dddfed0e2bf84f377528beae6411dba9a3a68ad,, - tripleo-ci-centos-8-scenario002-standalone: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario003-standalone: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario004-standalone: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario010-standalone: vars: force_non_periodic: true - tripleo-ci-centos-7-standalone-upgrade-stein: vars: force_non_periodic: true - tripleo-ci-centos-7-standalone-upgrade-train: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone: vars: force_non_periodic: true ,,22,27
openstack%2Fproject-config~master~I52deb23eb0a60b92492a034f85dbaa736add2cf5,openstack/project-config,master,I52deb23eb0a60b92492a034f85dbaa736add2cf5,Add pyca/project-config,MERGED,2020-07-27 02:25:36.000000000,2020-07-28 22:52:15.000000000,2020-07-28 22:46:13.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 02:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fee15cc2d2eac7ff5785d7885bb050dbb9b642d6', 'message': 'Add opendev-3pci/project-config\n\nThis is the project-config repo for the OpenDev 3rd-party CI tenant\nproposed in a follow-on I99759f107aaa99e87ddbe83eea462ff725d949ee.\nThis gives us a place to do things in a trusted repo like store keys\nfor uploading results to an API, etc.\n\nChange-Id: I52deb23eb0a60b92492a034f85dbaa736add2cf5\n'}, {'number': 2, 'created': '2020-07-27 07:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e64967e27a2c779b3a6d33395c21f9ab25185b5', 'message': 'Add opendev-3pci/project-config\n\nThis is the project-config repo for the OpenDev 3rd-party CI tenant\nproposed in a follow-on I99759f107aaa99e87ddbe83eea462ff725d949ee.\nThis gives us a place to do things in a trusted repo like store keys\nfor uploading results to an API, etc.\n\nChange-Id: I52deb23eb0a60b92492a034f85dbaa736add2cf5\n'}, {'number': 3, 'created': '2020-07-27 22:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/df8591c1c2cddb4713c4c5e35a18b7dcb469a597', 'message': 'Add opendev-3pci/project-config\n\nThis is the project-config repo for the OpenDev 3rd-party CI tenant\nproposed in a follow-on I99759f107aaa99e87ddbe83eea462ff725d949ee.\nThis gives us a place to do things in a trusted repo like store keys\nfor uploading results to an API, etc.\n\nChange-Id: I52deb23eb0a60b92492a034f85dbaa736add2cf5\n'}, {'number': 4, 'created': '2020-07-28 19:54:44.000000000', 'files': ['gerrit/acls/pyca/project-config.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2079fa61cd253d4f43a23be3d40b3b672c8a7b93', 'message': 'Add pyca/project-config\n\nThis is the project-config repo for the pyca CI tenant proposed in a\nfollow-on I99759f107aaa99e87ddbe83eea462ff725d949ee.  This gives us a\nplace to do things in a trusted repo like store keys for uploading\nresults to an API, etc.\n\nChange-Id: I52deb23eb0a60b92492a034f85dbaa736add2cf5\n'}]",2,743143,2079fa61cd253d4f43a23be3d40b3b672c8a7b93,18,5,4,7118,,,0,"Add pyca/project-config

This is the project-config repo for the pyca CI tenant proposed in a
follow-on I99759f107aaa99e87ddbe83eea462ff725d949ee.  This gives us a
place to do things in a trusted repo like store keys for uploading
results to an API, etc.

Change-Id: I52deb23eb0a60b92492a034f85dbaa736add2cf5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/743143/4 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,fee15cc2d2eac7ff5785d7885bb050dbb9b642d6,opendev-3pci,- project: opendev-3pci/project-config description: Project configuration for 3rd party CI run by OpenDev,,2,0
openstack%2Fpython-swiftclient~master~I89f7d222572767704928da0131ce0fc847e45add,openstack/python-swiftclient,master,I89f7d222572767704928da0131ce0fc847e45add,Apply defaults in process_options,NEW,2020-07-28 18:28:22.000000000,2020-07-28 22:48:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-28 18:28:22.000000000', 'files': ['test/unit/test_service.py', 'swiftclient/shell.py', 'swiftclient/service.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/0454700fcbd71bb7b0e76dbbf0392ea7846a3f3d', 'message': ""Apply defaults in process_options\n\nAs a side-effect, stop mutating the dict that's passed in.\n\nChange-Id: I89f7d222572767704928da0131ce0fc847e45add\n""}]",0,743612,0454700fcbd71bb7b0e76dbbf0392ea7846a3f3d,2,1,1,15343,,,0,"Apply defaults in process_options

As a side-effect, stop mutating the dict that's passed in.

Change-Id: I89f7d222572767704928da0131ce0fc847e45add
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/12/743612/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/test_service.py', 'swiftclient/shell.py', 'swiftclient/service.py']",3,0454700fcbd71bb7b0e76dbbf0392ea7846a3f3d,," options = dict( _default_global_options, **dict(_default_local_options, **(options or {})) ) return options self._options = process_options(options)"," if options is not None: self._options = dict( _default_global_options, **dict(_default_local_options, **options) ) else: self._options = dict( _default_global_options, **_default_local_options ) process_options(self._options)",24,20
openstack%2Frequirements~master~I7b4b873944bac3b00dda9ec75ae26427866d8288,openstack/requirements,master,I7b4b873944bac3b00dda9ec75ae26427866d8288,update constraint for debtcollector to new release 2.2.0,MERGED,2020-07-28 14:49:52.000000000,2020-07-28 22:37:37.000000000,2020-07-28 22:36:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 14:49:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/44f264bbb8bc8a40ec4b673cb56c6504ba737748', 'message': 'update constraint for debtcollector to new release 2.2.0\n\nChange-Id: I7b4b873944bac3b00dda9ec75ae26427866d8288\nmeta:version: 2.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ib9a30a954f01279df3bd4522d4324cbf7e361839\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743560,44f264bbb8bc8a40ec4b673cb56c6504ba737748,9,3,1,11131,,,0,"update constraint for debtcollector to new release 2.2.0

Change-Id: I7b4b873944bac3b00dda9ec75ae26427866d8288
meta:version: 2.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ib9a30a954f01279df3bd4522d4324cbf7e361839
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/743560/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,44f264bbb8bc8a40ec4b673cb56c6504ba737748,new-release,debtcollector===2.2.0,debtcollector===2.1.0,1,1
openstack%2Frequirements~master~I7844355de3839bff762611c255df10b9142d0ccf,openstack/requirements,master,I7844355de3839bff762611c255df10b9142d0ccf,update constraint for metalsmith to new release 1.1.0,MERGED,2020-07-28 14:47:33.000000000,2020-07-28 22:33:40.000000000,2020-07-28 22:31:57.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 14:47:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb063694bb1238fad5b32f85e8c37a20da461855', 'message': 'update constraint for metalsmith to new release 1.1.0\n\nChange-Id: I7844355de3839bff762611c255df10b9142d0ccf\nmeta:version: 1.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Iafed7f35283f95dc0e14a7f0d4b8c5c9cf059799\nmeta:release:Code-Review+1: Mark Goddard <mark@stackhpc.com>\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743558,fb063694bb1238fad5b32f85e8c37a20da461855,9,3,1,11131,,,0,"update constraint for metalsmith to new release 1.1.0

Change-Id: I7844355de3839bff762611c255df10b9142d0ccf
meta:version: 1.1.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Iafed7f35283f95dc0e14a7f0d4b8c5c9cf059799
meta:release:Code-Review+1: Mark Goddard <mark@stackhpc.com>
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/743558/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fb063694bb1238fad5b32f85e8c37a20da461855,new-release,metalsmith===1.1.0,metalsmith===1.0.0,1,1
openstack%2Fmanila~master~Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,openstack/manila,master,Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f,Harden LVM driver deletion paths,MERGED,2020-07-28 01:06:28.000000000,2020-07-28 22:27:56.000000000,2020-07-28 21:24:18.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-28 01:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2acafd41fcc1f39e047cb008eddea5487af191f2', 'message': 'Harden LVM driver deletion paths\n\nDuring maintenance, administrators may decide\nto unmount shares, snapshots or remove them\nentirely prior to cleaning up LVM share resources\nin manila. The driver should not fail on deletion\nof missing resources.\n\nChange-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f\nCloses-Bug: #1888915\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-28 18:20:44.000000000', 'files': ['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e57809fd74186714aec7dae305380a51c31fc7d5', 'message': 'Harden LVM driver deletion paths\n\nDuring maintenance, administrators may decide\nto unmount shares, snapshots or remove them\nentirely prior to cleaning up LVM share resources\nin manila. The driver should not fail on deletion\nof missing resources.\n\nChange-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f\nCloses-Bug: #1888915\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",4,743438,e57809fd74186714aec7dae305380a51c31fc7d5,32,11,2,16643,,,0,"Harden LVM driver deletion paths

During maintenance, administrators may decide
to unmount shares, snapshots or remove them
entirely prior to cleaning up LVM share resources
in manila. The driver should not fail on deletion
of missing resources.

Change-Id: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f
Closes-Bug: #1888915
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/743438/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888915-harden-lvm-deletions-2a735ab0ee4a4903.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py', 'manila/share/drivers/lvm.py']",5,2acafd41fcc1f39e047cb008eddea5487af191f2,bug/1888915," err_pattern = re.compile("".*failed to find.*|.*not found.*"", re.IGNORECASE) if not err_pattern.match(exc.stderr): self._unmount_device(share, raise_if_missing=False) def _unmount_device(self, share_or_snapshot, raise_if_missing=True): if 'device is busy' in exc.stderr.lower(): elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) raise self._unmount_device(snapshot, raise_if_missing=False)"," if ""not found"" not in exc.stderr: self._unmount_device(share) def _unmount_device(self, share_or_snapshot): if 'device is busy' in six.text_type(exc): self._unmount_device(snapshot)",80,12
openstack%2Fkuryr-kubernetes~master~I665e03f80102a08b2c3ec412a4417c3a32f9384b,openstack/kuryr-kubernetes,master,I665e03f80102a08b2c3ec412a4417c3a32f9384b,Implement add_finalizer and remove_finalizer,MERGED,2020-07-24 13:57:21.000000000,2020-07-28 22:24:49.000000000,2020-07-28 22:23:05.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-24 13:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aea988f9d4f913c8644a97ee5738d2d516dbd83f', 'message': 'Implement add_finalizer and remove_finalizer\n\nThis commit adds helper client methods that will aid in working with\nfinalizers of the CRDs and other stuff. Also one place where we remove\nthe finalizer already is updated to use the methods.\n\nChange-Id: I665e03f80102a08b2c3ec412a4417c3a32f9384b\n'}, {'number': 2, 'created': '2020-07-28 16:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/59fcacf169ff52d7debad1044c1a045072e2e0d3', 'message': 'Implement add_finalizer and remove_finalizer\n\nThis commit adds helper client methods that will aid in working with\nfinalizers of the CRDs and other stuff. Also one place where we remove\nthe finalizer already is updated to use the methods.\n\nChange-Id: I665e03f80102a08b2c3ec412a4417c3a32f9384b\n'}, {'number': 3, 'created': '2020-07-28 17:03:37.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b6c89debdd61a463ecf55b34708da641783e8794', 'message': 'Implement add_finalizer and remove_finalizer\n\nThis commit adds helper client methods that will aid in working with\nfinalizers of the CRDs and other stuff. Also one place where we remove\nthe finalizer already is updated to use the methods.\n\nChange-Id: I665e03f80102a08b2c3ec412a4417c3a32f9384b\n'}]",0,742887,b6c89debdd61a463ecf55b34708da641783e8794,20,4,3,11600,,,0,"Implement add_finalizer and remove_finalizer

This commit adds helper client methods that will aid in working with
finalizers of the CRDs and other stuff. Also one place where we remove
the finalizer already is updated to use the methods.

Change-Id: I665e03f80102a08b2c3ec412a4417c3a32f9384b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/87/742887/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/k8s_client.py']",4,aea988f9d4f913c8644a97ee5738d2d516dbd83f,np-crd," if response.status_code == requests.codes.conflict: raise exc.K8sConflict(response.text) # TODO(dulek): add_finalizer() and remove_finalizer() have some code # duplication, but I don't see a nice way to avoid it. def add_finalizer(self, obj, finalizer): if finalizer in obj['metadata'].get('finalizers', []): return obj path = obj['metadata']['selfLink'] LOG.debug(f""Add finalizer {finalizer} to {path}"") url, headers = self._get_url_and_header( path, 'application/merge-patch+json') for i in range(3): # Let's make sure it's not infinite loop finalizers = obj['metadata'].get('finalizers', []).copy() finalizers.append(finalizer) data = { 'metadata': { 'finalizers': finalizers, 'resourceVersion': obj['metadata']['resourceVersion'], }, } response = self.session.patch(url, json=data, headers=headers, cert=self.cert, verify=self.verify_server) if response.ok: return response.json() try: self._raise_from_response(response) except exc.K8sConflict: obj = self.get(path) if finalizer in obj['metadata'].get('finalizers', []): # Finalizer is there, return. return obj # If after 3 iterations there's still conflict, just raise. self._raise_from_response(response) def remove_finalizer(self, obj, finalizer): path = obj['metadata']['selfLink'] LOG.debug(f""Remove finalizer {finalizer} from {path}"") url, headers = self._get_url_and_header( path, 'application/merge-patch+json') for i in range(3): # Let's make sure it's not infinite loop finalizers = obj['metadata'].get('finalizers', []).copy() try: finalizers.remove(finalizer) except ValueError: # Finalizer is not there, return. return obj data = { 'metadata': { 'finalizers': finalizers, 'resourceVersion': obj['metadata']['resourceVersion'], }, } response = self.session.patch(url, json=data, headers=headers, cert=self.cert, verify=self.verify_server) if response.ok: return response.json() try: try: self._raise_from_response(response) except exc.K8sConflict: obj = self.get(path) except exc.K8sResourceNotFound: # Object is gone already, stop. return None # If after 3 iterations there's still conflict, just raise. self._raise_from_response(response) ",,94,9
openstack%2Frequirements~master~Ifc57812b2ab9947936f5e9eb3a1ef286fe84ec28,openstack/requirements,master,Ifc57812b2ab9947936f5e9eb3a1ef286fe84ec28,update constraint for python-magnumclient to new release 3.2.0,MERGED,2020-07-28 14:37:47.000000000,2020-07-28 22:23:59.000000000,2020-07-28 22:22:38.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 14:37:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1a1ea527bd72fa866874a22ad459af770f85293d', 'message': 'update constraint for python-magnumclient to new release 3.2.0\n\nChange-Id: Ifc57812b2ab9947936f5e9eb3a1ef286fe84ec28\nmeta:version: 3.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I2fe6508f5106e90f1c8c008a07eeebb1b1e81a8a\nmeta:release:Code-Review+1: Feilong Wang <flwang@catalyst.net.nz>\nmeta:release:Code-Review+1: Spyros Trigazis <strigazi@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743557,1a1ea527bd72fa866874a22ad459af770f85293d,9,3,1,11131,,,0,"update constraint for python-magnumclient to new release 3.2.0

Change-Id: Ifc57812b2ab9947936f5e9eb3a1ef286fe84ec28
meta:version: 3.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I2fe6508f5106e90f1c8c008a07eeebb1b1e81a8a
meta:release:Code-Review+1: Feilong Wang <flwang@catalyst.net.nz>
meta:release:Code-Review+1: Spyros Trigazis <strigazi@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/743557/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1a1ea527bd72fa866874a22ad459af770f85293d,new-release,python-magnumclient===3.2.0,python-magnumclient===3.1.0,1,1
openstack%2Frequirements~master~Ic458ceaf5f5959c64dd5fca43a5eabe18367ac74,openstack/requirements,master,Ic458ceaf5f5959c64dd5fca43a5eabe18367ac74,update constraint for automaton to new release 2.2.0,MERGED,2020-07-28 14:49:51.000000000,2020-07-28 22:21:52.000000000,2020-07-28 22:20:11.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 14:49:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/902a13f52971a119112878369c96492ff65d7a36', 'message': 'update constraint for automaton to new release 2.2.0\n\nChange-Id: Ic458ceaf5f5959c64dd5fca43a5eabe18367ac74\nmeta:version: 2.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: If196e5a7a236215a626c15c70ad0b422dcbfa1ed\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743559,902a13f52971a119112878369c96492ff65d7a36,9,3,1,11131,,,0,"update constraint for automaton to new release 2.2.0

Change-Id: Ic458ceaf5f5959c64dd5fca43a5eabe18367ac74
meta:version: 2.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If196e5a7a236215a626c15c70ad0b422dcbfa1ed
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/743559/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,902a13f52971a119112878369c96492ff65d7a36,new-release,automaton===2.2.0,automaton===2.1.0,1,1
openstack%2Ftripleo-heat-templates~master~Ie938d9dd7d74db3907eb546765236b025bff1abe,openstack/tripleo-heat-templates,master,Ie938d9dd7d74db3907eb546765236b025bff1abe,Remove redundant file management for /run/redis,MERGED,2020-07-27 06:05:31.000000000,2020-07-28 21:53:30.000000000,2020-07-28 21:53:29.000000000,"[{'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-27 06:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/039d471edaf68dbad26f51e9f77635dc6f828574', 'message': 'Remove redundant file management for /run/redis\n\nWe can remove the systemd options since the directory is managed by\ntmpdir, and the mount has the needed ""z"" flag for relabelling.\n\nThe RuntimeDirectory instructs systemd to create AND remove the\ndirectory - this might lead to an issue where init_t isn\'t allowed to\nunlink a container_file_t file/directory\n\nThe ExecStartPre is running in init_t context, and might be denied to\nchcon file/directory to container_file_t.\n\nIt should resolves rhbz#1860423 while making things cleaner and clearer.\nThis is also the only place where we actually use the\n`systemd_exec_flags`.\n\nChange-Id: Ie938d9dd7d74db3907eb546765236b025bff1abe\n'}, {'number': 2, 'created': '2020-07-27 17:48:15.000000000', 'files': ['deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b894ecb69d1a0875c89cc20cf4ecf7ffdd79a16', 'message': 'Remove redundant file management for /run/redis\n\nWe can remove the systemd options since the directory is managed by\ntmpdir, and the mount has the needed ""z"" flag for relabelling.\n\nThe RuntimeDirectory instructs systemd to create AND remove the\ndirectory - this might lead to an issue where init_t isn\'t allowed to\nunlink a container_file_t file/directory\n\nThe ExecStartPre is running in init_t context, and might be denied to\nchcon file/directory to container_file_t.\n\nIt should resolves rhbz#1860423 while making things cleaner and clearer.\nThis is also the only place where we actually use the\n`systemd_exec_flags`.\n\nChange-Id: Ie938d9dd7d74db3907eb546765236b025bff1abe\n'}]",0,743149,9b894ecb69d1a0875c89cc20cf4ecf7ffdd79a16,23,8,2,28223,,,0,"Remove redundant file management for /run/redis

We can remove the systemd options since the directory is managed by
tmpdir, and the mount has the needed ""z"" flag for relabelling.

The RuntimeDirectory instructs systemd to create AND remove the
directory - this might lead to an issue where init_t isn't allowed to
unlink a container_file_t file/directory

The ExecStartPre is running in init_t context, and might be denied to
chcon file/directory to container_file_t.

It should resolves rhbz#1860423 while making things cleaner and clearer.
This is also the only place where we actually use the
`systemd_exec_flags`.

Change-Id: Ie938d9dd7d74db3907eb546765236b025bff1abe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/743149/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-container-puppet.yaml'],1,039d471edaf68dbad26f51e9f77635dc6f828574,redis/remove-redundant-file-management,, systemd_exec_flags: RuntimeDirectory: redis ExecStartPre: /bin/chcon -t container_file_t /run/redis,0,3
openstack%2Fneutron~master~Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0,openstack/neutron,master,Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0,[DNM] [FT] TestMaintenance.test_port failing,ABANDONED,2020-07-24 12:21:38.000000000,2020-07-28 21:47:13.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-24 12:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0038558a01177e46083fbd0f1bb023bcb67367', 'message': '[DNM] [FT] TestMaintenance.test_port failing\n\nChange-Id: Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0\nRelated-Bug: #1888828\n'}, {'number': 2, 'created': '2020-07-27 07:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2397048b1daaff034718e7bc6c38ea93fe0c7bac', 'message': '[DNM] [FT] TestMaintenance.test_port failing\n\nChange-Id: Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0\nRelated-Bug: #1888828\n'}, {'number': 3, 'created': '2020-07-27 12:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7a6dff746ee79baa733463fd23c0a7dec41d55b', 'message': '[DNM] [FT] TestMaintenance.test_port failing\n\nChange-Id: Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0\nRelated-Bug: #1888828\n'}, {'number': 4, 'created': '2020-07-28 16:09:51.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovsdb/impl_idl.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aab076ead1009969006bb553d15232c9a3fd5283', 'message': '[DNM] [FT] TestMaintenance.test_port failing\n\nChange-Id: Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0\nRelated-Bug: #1888828\n'}]",0,742868,aab076ead1009969006bb553d15232c9a3fd5283,32,7,4,16688,,,0,"[DNM] [FT] TestMaintenance.test_port failing

Change-Id: Id6435fc09df8c7f2bbe50413c8779aa01ef2f0a0
Related-Bug: #1888828
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/742868/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovsdb/impl_idl.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",3,aa0038558a01177e46083fbd0f1bb023bcb67367,bug/1888828," - neutron-functional-2 - neutron-functional-3 - neutron-functional-4 - neutron-functional-5 - neutron-functional-6 - neutron-functional-7 - neutron-functional-8 - neutron-functional-9 - neutron-functional-10 - neutron-functional-11 - neutron-functional-12 - neutron-functional-13 - neutron-functional-14 - neutron-functional-15 - neutron-functional-16 - neutron-functional-17 - neutron-functional-18 - neutron-functional-19 - neutron-functional-20 # - neutron-functional-with-uwsgi # - neutron-fullstack # - neutron-fullstack-with-uwsgi # - neutron-rally-task # - neutron-grenade-multinode # - neutron-grenade-dvr-multinode # - neutron-tempest-linuxbridge # - neutron-tempest-with-uwsgi # - neutron-tempest-multinode-full-py3 # - neutron-tempest-dvr-ha-multinode-full # - neutron-tempest-iptables_hybrid # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # # We don't run the job on things like neutron docs-only changes # irrelevant-files: &irrelevant-files # - ^(test-|)requirements.txt$ # - ^.*\.rst$ # - ^doc/.*$ # - ^neutron/locale/.*$ # - ^neutron/tests/unit/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ # - ^vagrant/.*$ # - ^migration/.*$ # - ^devstack/.*\.sample$ # - tempest-slow-py3: # irrelevant-files: *irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *irrelevant-files # - neutron-tempest-with-neutron-lib-master: # voting: false # irrelevant-files: *irrelevant-files # - neutron-ovn-tempest-ovs-release # - neutron-ovn-tempest-ovs-release-ipv6-only: # voting: false # # TODO(slaweq): add this job again to the check queue when it will be # # working fine on python 3 # #- networking-midonet-tempest-aio-ml2-centos-7: # # voting: false # # irrelevant-files: *irrelevant-files # - openstacksdk-functional-devstack-networking: # voting: false # - neutron-centos-8-tripleo-standalone # - neutron-ovn-rally-task: # voting: false # # TripleO jobs that deploy OVN. # # Note we don't use a project-template here, so it's easier # # to disable voting on one specific job if things go wrong. # # In Stein and beyond, fs010 will run using # # networking-ovn-tripleo-ci-centos-7-containers-multinode. # # If you need any support to debug these jobs in case of # # failures, please reach us on #tripleo IRC channel. # - neutron-ovn-tripleo-ci-centos-8-containers-multinode: # voting: false # - neutron-ovn-tempest-slow: # voting: false # - neutron-ovn-tempest-full-multinode-ovs-master: # voting: false # - openstack-tox-py36: # from openstack-python3-victoria-jobs template # timeout: 3600 # - openstack-tox-py38: # from openstack-python3-victoria-jobs template # timeout: 3600 # - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template # timeout: 3600 # - openstack-tox-cover: # from openstack-cover-jobs template # timeout: 4800# - neutron-fullstack # - neutron-tempest-linuxbridge # - neutron-tempest-iptables_hybrid # - neutron-tempest-multinode-full-py3 # - neutron-grenade-multinode # - neutron-grenade-dvr-multinode # - tempest-slow-py3: # irrelevant-files: *irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *irrelevant-files # - neutron-ovn-tempest-ovs-release # - openstack-tox-py36: # from openstack-python3-victoria-jobs template # timeout: 3600 # - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template # timeout: 3600"," - neutron-functional-with-uwsgi - neutron-fullstack - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-linuxbridge - neutron-tempest-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false # We don't run the job on things like neutron docs-only changes irrelevant-files: &irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - ^devstack/.*\.sample$ - tempest-slow-py3: irrelevant-files: *irrelevant-files - tempest-ipv6-only: irrelevant-files: *irrelevant-files - neutron-tempest-with-neutron-lib-master: voting: false irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only: voting: false # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-centos-8-tripleo-standalone - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - neutron-ovn-tripleo-ci-centos-8-containers-multinode: voting: false - neutron-ovn-tempest-slow: voting: false - neutron-ovn-tempest-full-multinode-ovs-master: voting: false - openstack-tox-py36: # from openstack-python3-victoria-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-victoria-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-fullstack - neutron-tempest-linuxbridge - neutron-tempest-iptables_hybrid - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-slow-py3: irrelevant-files: *irrelevant-files - tempest-ipv6-only: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release - openstack-tox-py36: # from openstack-python3-victoria-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600",162,85
openstack%2Fmanila~master~I1636c612ac2475f7a00c0888ef62daa6c516eef2,openstack/manila,master,I1636c612ac2475f7a00c0888ef62daa6c516eef2,Zuulv3 native grenade job,MERGED,2020-07-17 22:01:43.000000000,2020-07-28 21:38:18.000000000,2020-07-28 21:34:25.000000000,"[{'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-17 22:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5a6b5588eddc8f0b3e9a5bbc4736fd4dfdeff40b', 'message': 'WIP - Zuulv3 grenade job\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-18 01:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a69fb58e750f3b6534fa5e5b5f7f3144285c47fe', 'message': 'WIP - Zuulv3 grenade job\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-07-20 21:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5dea7f886bd1af1fa9c0524fe83c360f47171bdd', 'message': 'WIP - Zuulv3 grenade job\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-07-21 00:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48bcbd6cebbaaaf9d5df8ff1867bb4f417ec45ef', 'message': 'WIP - Zuulv3 grenade job\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-07-21 04:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/27cb246a261a741d21a77271656126437575db26', 'message': 'WIP - Zuulv3 grenade job\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-07-21 05:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c67b1ac00a81570d623baccf18d02aec8dcae6b8', 'message': 'WIP - Zuulv3 grenade job\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-07-21 16:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/770ed5cf817cb4268ab54aa71662ce1a899b2054', 'message': 'Zuulv3 native grenade job\n\nThe existing ""manila-grenade"" job relies on\ndevstack-gate, a deprecated project. The Grenade\nproject now has a native zuulv3 style job that\nwe can inherit and run manila\'s upgrade tests.\n\nManila\'s grenade tests are only going to run\nAPI tests, and hence this grenade job doesn\'t\nhave to enable nova, cinder, glance, neutron\nand swift. However, bug #1887835 prevents\nus from disabling nova at the moment,\nand nova requires glance, placement and neutron\nto be deployed, so we\'ll be enabling these\nservices too until that bug is addressed.\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2020-07-21 20:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/57af6480000101b5720056498d6400853d27ae6d', 'message': 'Zuulv3 native grenade job\n\nThe existing ""manila-grenade"" job relies on\ndevstack-gate, a deprecated project. The Grenade\nproject now has a native zuulv3 style job that\nwe can inherit and run manila\'s upgrade tests.\n\nManila\'s grenade tests are only going to run\nAPI tests, and hence this grenade job doesn\'t\nhave to enable nova, cinder, glance, neutron\nand swift. However, bug #1887835 prevents\nus from disabling nova at the moment,\nand nova requires glance, placement and neutron\nto be deployed, so we\'ll be enabling these\nservices too until that bug is addressed.\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2020-07-24 07:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/684f192bb08202177f3bffde675d71061d53ae53', 'message': 'Zuulv3 native grenade job\n\nThe existing ""manila-grenade"" job relies on\ndevstack-gate, a deprecated project. The Grenade\nproject now has a native zuulv3 style job that\nwe can inherit and run manila\'s upgrade tests.\n\nManila\'s grenade tests are only going to run\nAPI tests, and hence this grenade job doesn\'t\nhave to enable nova, cinder, glance, neutron\nand swift. However, bug #1887835 prevents\nus from disabling nova at the moment,\nand nova requires glance, placement and neutron\nto be deployed, so we\'ll be enabling these\nservices too until that bug is addressed.\n\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2020-07-27 21:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e4168cefa86ef4b8e0a42872c7e90c481c75afa', 'message': 'Zuulv3 native grenade job\n\nThe existing ""manila-grenade"" job relies on\ndevstack-gate, a deprecated project. The Grenade\nproject now has a native zuulv3 style job that\nwe can inherit and run manila\'s upgrade tests.\n\nManila\'s grenade tests are only going to run\nAPI tests, and hence this grenade job doesn\'t\nhave to enable nova, cinder, glance, neutron\nand swift. However, bug #1887835 prevents\nus from disabling nova at the moment,\nand nova requires glance, placement and neutron\nto be deployed, so we\'ll be enabling these\nservices too until that bug is addressed.\n\nDepends-On: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 11, 'created': '2020-07-28 01:07:02.000000000', 'files': ['zuul.d/grenade-jobs.yaml', 'playbooks/legacy/grenade-dsvm-manila/post.yaml', 'zuul.d/project.yaml', 'devstack/upgrade/settings', 'playbooks/legacy/grenade-dsvm-manila/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/660355eb867bb5a28e1d2bd950fc344a2b0772aa', 'message': 'Zuulv3 native grenade job\n\nThe existing ""manila-grenade"" job relies on\ndevstack-gate, a deprecated project. The Grenade\nproject now has a native zuulv3 style job that\nwe can inherit and run manila\'s upgrade tests.\n\nManila\'s grenade tests are only going to run\nAPI tests, and hence this grenade job doesn\'t\nhave to enable nova, cinder, glance, neutron\nand swift. However, bug #1887835 prevents\nus from disabling nova at the moment,\nand nova requires glance, placement and neutron\nto be deployed, so we\'ll be enabling these\nservices too until that bug is addressed.\n\nDepends-On: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed\nDepends-On: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f\nChange-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,741727,660355eb867bb5a28e1d2bd950fc344a2b0772aa,67,12,11,16643,,,0,"Zuulv3 native grenade job

The existing ""manila-grenade"" job relies on
devstack-gate, a deprecated project. The Grenade
project now has a native zuulv3 style job that
we can inherit and run manila's upgrade tests.

Manila's grenade tests are only going to run
API tests, and hence this grenade job doesn't
have to enable nova, cinder, glance, neutron
and swift. However, bug #1887835 prevents
us from disabling nova at the moment,
and nova requires glance, placement and neutron
to be deployed, so we'll be enabling these
services too until that bug is addressed.

Depends-On: Id5a9467247df1d8f0ec6dee3fae842ba673c34ed
Depends-On: Ieaf37ec10db9a8bdce6bb195b76335fea9b2b52f
Change-Id: I1636c612ac2475f7a00c0888ef62daa6c516eef2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/741727/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-manila/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-manila/run.yaml']",3,5a6b5588eddc8f0b3e9a5bbc4736fd4dfdeff40b,native-zuulv3-migration,,"- hosts: all name: Autoconverted job legacy-grenade-dsvm-manila from old job gate-grenade-dsvm-manila-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PROJECTS=""openstack/grenade $PROJECTS"" export PROJECTS=""openstack/manila-tempest-plugin $PROJECTS"" export DEVSTACK_PROJECT_FROM_GIT=""python-manilaclient"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=0 export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export DEVSTACK_GATE_GRENADE=pullup export MANILA_INSTALL_TEMPEST_PLUGIN_SYSTEMWIDE=False # Basic services needed for grenade manila job using dummy driver export OVERRIDE_ENABLED_SERVICES=key,mysql,rabbit export DEVSTACK_GATE_USE_PYTHON3=True # Enable manila grenade plugin. Provided repo should be # cloned by zuul before devstack run and below provided # link should not be used. export GRENADE_PLUGINRC=""enable_grenade_plugin manila https://opendev.org/openstack/manila"" # Keep localrc to be able to set some vars in pre_test_hook export KEEP_LOCALRC=1 function pre_test_hook { source $BASE/new/manila/contrib/ci/pre_test_hook.sh \ True \ dummy \ multibackend } export -f pre_test_hook export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",77,145
openstack%2Ftripleo-common~stable%2Ftrain~I2f3a08fa543642d2f9d5b5fbe11016b3cfa9f910,openstack/tripleo-common,stable/train,I2f3a08fa543642d2f9d5b5fbe11016b3cfa9f910,[TRAIN-and-older] Reduce wait time to send ansible output,MERGED,2020-07-23 19:36:49.000000000,2020-07-28 21:29:03.000000000,2020-07-28 21:27:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-23 19:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ffe8af7fe0ab9649a3f8327cc7f765d9f8640fcd', 'message': 'Reduce wait time to send ansible output back to client\n\nCurrently we wait 30 seconds before sending output back to the end user.\nThis can lead to really large messages and artificial delay for the user\nwatching the actions.  This change reduces the time we wait to 5 seconds\nto ensure the end user gets more frequent updates on the deployment\nstatus.\n\nChange-Id: I2f3a08fa543642d2f9d5b5fbe11016b3cfa9f910\n'}, {'number': 2, 'created': '2020-07-23 19:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/adb2d99ac79e9cc58d99e5bdd8fef1779c9b2e0e', 'message': '[TRAIN-and-older] Reduce wait time to send ansible output\n\nCurrently we wait 30 seconds before sending output back to the end user.\nThis can lead to really large messages and artificial delay for the user\nwatching the actions.  This change reduces the time we wait to 5 seconds\nto ensure the end user gets more frequent updates on the deployment\nstatus.\n\nWe dropped this in Ussuri so it only applies to Train and older.\n\nChange-Id: I2f3a08fa543642d2f9d5b5fbe11016b3cfa9f910\n'}, {'number': 3, 'created': '2020-07-24 21:34:49.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7cf3af6a01bf4fe3722bb05c44bc46d48cbc8abf', 'message': '[TRAIN-and-older] Reduce wait time to send ansible output\n\nCurrently we wait 30 seconds before sending output back to the end user.\nThis can lead to really large messages and artificial delay for the user\nwatching the actions.  This change reduces the time we wait to 5 seconds\nto ensure the end user gets more frequent updates on the deployment\nstatus.\n\nWe dropped this in Ussuri so it only applies to Train and older.\n\nChange-Id: I2f3a08fa543642d2f9d5b5fbe11016b3cfa9f910\n'}]",0,742729,7cf3af6a01bf4fe3722bb05c44bc46d48cbc8abf,14,6,3,14985,,,0,"[TRAIN-and-older] Reduce wait time to send ansible output

Currently we wait 30 seconds before sending output back to the end user.
This can lead to really large messages and artificial delay for the user
watching the actions.  This change reduces the time we wait to 5 seconds
to ensure the end user gets more frequent updates on the deployment
status.

We dropped this in Ussuri so it only applies to Train and older.

Change-Id: I2f3a08fa543642d2f9d5b5fbe11016b3cfa9f910
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/742729/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,ffe8af7fe0ab9649a3f8327cc7f765d9f8640fcd,improve-responsiveness, if lines and time.time() - start > 5:, if time.time() - start > 30:,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I39b8a846145fdc2fb3d0f6853df541c773ee455e,openstack/tripleo-heat-templates,stable/ussuri,I39b8a846145fdc2fb3d0f6853df541c773ee455e,Remove ffwd-upgrade leftovers from THT.,MERGED,2020-07-27 10:23:20.000000000,2020-07-28 21:29:00.000000000,2020-07-28 21:27:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 10:23:20.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/README.rst', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'deployment/deprecated/sahara/sahara-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'releasenotes/notes/remove_ffwd_tasks-d1ab630d96a66a59.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/729bb5259a96b1f4b597fd1b6105ec2982ff24ff', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n(cherry picked from commit 8783ec9c458aa7d55c523b3b48fdb38caed32384)\n'}]",0,743184,729bb5259a96b1f4b597fd1b6105ec2982ff24ff,14,9,1,26343,,,0,"Remove ffwd-upgrade leftovers from THT.

Now that the FFU process relies on the upgrade_tasks and deployment
tasts there is no need to keep the old fast_forward_upgrade_tasks.

This patch removes all the fast_forward_upgrade_tasks section from
the services, as well as from the common structures.

Change-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e
(cherry picked from commit 8783ec9c458aa7d55c523b3b48fdb38caed32384)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/743184/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/README.rst', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'deployment/deprecated/sahara/sahara-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'releasenotes/notes/remove_ffwd_tasks-d1ab630d96a66a59.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",61,729bb5259a96b1f4b597fd1b6105ec2982ff24ff,,," fast_forward_upgrade_tasks: - when: - step|int == 0 - release == 'rocky' - is_bootstrap_node|bool block: - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: show check_mode: false failed_when: false register: rabbitmq_res_result - name: Set fact rabbitmq_res set_fact: rabbitmq_res: ""{{ rabbitmq_res_result.rc == 0 }}"" - name: Disable the rabbitmq cluster resource pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: disable wait_for_resource: true register: rabbitmq_output retries: 5 until: rabbitmq_output.rc == 0 when: - step|int == 2 - release == 'rocky' - is_bootstrap_node|bool - rabbitmq_res|bool",9,1679
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I50924f4f4d9606b6263e33dfe38b5bd37a6b56a5,openstack/tripleo-heat-templates,stable/train,I50924f4f4d9606b6263e33dfe38b5bd37a6b56a5,[TRAIN ONLY] Wait until DB is ready for neutron DB rename,MERGED,2020-07-06 15:18:40.000000000,2020-07-28 21:27:32.000000000,2020-07-28 21:27:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-06 15:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97ed7c63f91bd321c591aab225d0016a4e2e776e', 'message': '[TRAIN ONLY] Wait until DB is ready for neutron DB rename\n\nOn resource-constrainted systems, the database may take a little\nextra time to come up. Currently this container fails if the\ndatabase is not immediately available.\n\nIn this patch we introduce a check to see if the database is\navailable, and a sleep/check cycle for up to two minutes before\ntiming out.\n\nChange-Id: I50924f4f4d9606b6263e33dfe38b5bd37a6b56a5\n'}, {'number': 2, 'created': '2020-07-06 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c7ea5ee4faa5ce198aaba2679eb9daf8939beba', 'message': '[TRAIN ONLY] Wait until DB is ready for neutron DB rename\n\nOn resource-constrainted systems, the database may take a little\nextra time to come up. Currently this container fails if the\ndatabase is not immediately available.\n\nIn this patch we introduce a check to see if the database is\navailable, and a sleep/check cycle for up to two minutes before\ntiming out.\n\nResolves: rhbz#1851445\nChange-Id: I50924f4f4d9606b6263e33dfe38b5bd37a6b56a5\n'}, {'number': 3, 'created': '2020-07-07 10:33:58.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'container_config_scripts/neutron_db_rename.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dfbdbbca67d392bceb646ac1d62b1d699c4bf58', 'message': '[TRAIN ONLY] Wait until DB is ready for neutron DB rename\n\nOn resource-constrainted systems, the database may take a little\nextra time to come up. Currently this container fails if the\ndatabase is not immediately available.\n\nIn this patch we introduce a check to see if the database is\navailable, and a sleep/check cycle for up to two minutes before\ntiming out.\n\nResolves: rhbz#1851445\nChange-Id: I50924f4f4d9606b6263e33dfe38b5bd37a6b56a5\n'}]",0,739518,6dfbdbbca67d392bceb646ac1d62b1d699c4bf58,28,8,3,6816,,,0,"[TRAIN ONLY] Wait until DB is ready for neutron DB rename

On resource-constrainted systems, the database may take a little
extra time to come up. Currently this container fails if the
database is not immediately available.

In this patch we introduce a check to see if the database is
available, and a sleep/check cycle for up to two minutes before
timing out.

Resolves: rhbz#1851445
Change-Id: I50924f4f4d9606b6263e33dfe38b5bd37a6b56a5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/739518/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'container_config_scripts/neutron_db_rename.sh']",2,97ed7c63f91bd321c591aab225d0016a4e2e776e,ffwd-upgrade2-stable/train,"#!/bin/bash # Copyright 2020 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -e retries=0 if [ -d /var/lib/mysql/neutron ] ; then # check whether the database is available and returning responses until mysql -e ""SELECT 1;"" &>/dev/null; do retries=$(( retries + 1 )) # 12 retries = 12 x 10sec = 2 minutes if [ $retries -ge 12 ]; then echo ""Database still not available. Terminating ..."" exit 1 else echo ""$retries: Waiting for database availability ..."" sleep 10 fi done mysql -e ""CREATE DATABASE IF NOT EXISTS \`ovs_neutron\`;"" for table in `mysql -B -N -e ""SHOW TABLES;"" neutron`; do mysql -e ""RENAME TABLE \`neutron\`.\`$table\` to \`ovs_neutron\`.\`$table\`"" done mysql -e ""DROP DATABASE \`neutron\`;"" fi ",,46,14
openstack%2Fdiskimage-builder~master~Id157840af57fc03cd1a4e05e60247623e648cde8,openstack/diskimage-builder,master,Id157840af57fc03cd1a4e05e60247623e648cde8,DNM: test revert of tls-proxy change,ABANDONED,2020-07-22 05:23:50.000000000,2020-07-28 21:11:06.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 05:23:50.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d72a094f7a4876d6f7d85738044b9124d04d7671', 'message': 'DNM: test revert of tls-proxy change\n\nChange-Id: Id157840af57fc03cd1a4e05e60247623e648cde8\nDepends-On: https://review.opendev.org/742344\n'}]",0,742345,d72a094f7a4876d6f7d85738044b9124d04d7671,5,2,1,7118,,,0,"DNM: test revert of tls-proxy change

Change-Id: Id157840af57fc03cd1a4e05e60247623e648cde8
Depends-On: https://review.opendev.org/742344
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/45/742345/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,d72a094f7a4876d6f7d85738044b9124d04d7671,tls-revert,# DNM ,,2,0
openstack%2Fcharm-placement~master~I487b03725a7c0f14ac51624abde83ddd5c8080a1,openstack/charm-placement,master,I487b03725a7c0f14ac51624abde83ddd5c8080a1,Release sync for 20.08,MERGED,2020-07-27 19:58:47.000000000,2020-07-28 21:07:16.000000000,2020-07-28 21:07:16.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:58:47.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/ad8cf2c3a4b1cd37195dd56d9aa0d73a17a11420', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I487b03725a7c0f14ac51624abde83ddd5c8080a1\n'}]",0,743382,ad8cf2c3a4b1cd37195dd56d9aa0d73a17a11420,12,4,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I487b03725a7c0f14ac51624abde83ddd5c8080a1
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/82/743382/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,ad8cf2c3a4b1cd37195dd56d9aa0d73a17a11420,batch-2008-release-sync,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters. INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYcommands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504",# within individual charm repos.# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATHcommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402,45,24
openstack%2Fcharm-hacluster~master~If2862938c3cd8b868c8b541016a8d9fe5ea861b0,openstack/charm-hacluster,master,If2862938c3cd8b868c8b541016a8d9fe5ea861b0,Release sync for 20.08,MERGED,2020-07-27 19:52:53.000000000,2020-07-28 21:06:28.000000000,2020-07-28 21:06:28.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:52:53.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/33d0721c21b5179df6d38a2b4ee1fb9e66b59475', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: If2862938c3cd8b868c8b541016a8d9fe5ea861b0\n'}]",0,743354,33d0721c21b5179df6d38a2b4ee1fb9e66b59475,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: If2862938c3cd8b868c8b541016a8d9fe5ea861b0
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/54/743354/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/__init__.py']",4,33d0721c21b5179df6d38a2b4ee1fb9e66b59475,batch-groovy-ch-libs," The date which is a string in semi-ISO8660 format indicates the year-month :param warning: String to indicate what is to be used instead. :param date: Optional string in YYYY-MM format to indicate when the :param log: The log function to call in order to log. If None, logs to stdout"," The date, which is a string in semi-ISO8660 format indicate the year-month :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the :param log: The log function to call to log. If not, logs to stdout",31,16
openstack%2Fcharm-gnocchi~master~I496700812abd189340ecdbef0d1c9b59857480d2,openstack/charm-gnocchi,master,I496700812abd189340ecdbef0d1c9b59857480d2,Release sync for 20.08,MERGED,2020-07-27 19:52:41.000000000,2020-07-28 21:02:31.000000000,2020-07-28 21:02:31.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:52:41.000000000', 'files': ['rebuild', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/50021b5359d7cace8dacbb4b440cc72e0db7c670', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I496700812abd189340ecdbef0d1c9b59857480d2\n'}]",0,743353,50021b5359d7cace8dacbb4b440cc72e0db7c670,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I496700812abd189340ecdbef0d1c9b59857480d2
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/53/743353/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'requirements.txt']",2,50021b5359d7cace8dacbb4b440cc72e0db7c670,batch-2008-release-sync,,boto3,1,2
openstack%2Fproject-config~master~I25fb4a3b1237b4027be2dede58d743212a6b4dda,openstack/project-config,master,I25fb4a3b1237b4027be2dede58d743212a6b4dda,Add repo for pyca/cryptography Zuul jobs,ABANDONED,2020-07-22 03:36:34.000000000,2020-07-28 20:37:57.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 03:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a1ba04940643559b64d3e6e7686375814c987a25', 'message': 'Add repo for pyca/cryptography Zuul jobs\n\nBecause we aren\'t gating on the upstream project, we can\'t read the\nZuul config from there because it might break Zuul configuration.\n\nCreate a new project to hold the jobs/playbooks/roles for running\ntesting againts this repo.\n\nIt seems like something we might want to do more for other projects\ntoo.  That\'s why I put this under a ""zuul-config-*"" namespace; I feel\nlike it might be a generically good place to keep things.\n\nChange-Id: I25fb4a3b1237b4027be2dede58d743212a6b4dda\n'}, {'number': 2, 'created': '2020-07-22 03:53:16.000000000', 'files': ['gerrit/acls/opendev/zuul-config-pyca-cryptography.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7394ca0c8e8196be70d656554aa08fbc0299a04c', 'message': 'Add repo for pyca/cryptography Zuul jobs\n\nBecause we aren\'t gating on the upstream project, we can\'t read the\nZuul config from there because it might break Zuul configuration.\n\nCreate a new project to hold the jobs/playbooks/roles for running\ntesting againts this repo.\n\nIt seems like something we might want to do more for other projects\ntoo.  That\'s why I put this under a ""zuul-config-*"" namespace; I feel\nlike it might be a generically good place to keep things.\n\nChange-Id: I25fb4a3b1237b4027be2dede58d743212a6b4dda\n'}]",0,742337,7394ca0c8e8196be70d656554aa08fbc0299a04c,6,2,2,7118,,,0,"Add repo for pyca/cryptography Zuul jobs

Because we aren't gating on the upstream project, we can't read the
Zuul config from there because it might break Zuul configuration.

Create a new project to hold the jobs/playbooks/roles for running
testing againts this repo.

It seems like something we might want to do more for other projects
too.  That's why I put this under a ""zuul-config-*"" namespace; I feel
like it might be a generically good place to keep things.

Change-Id: I25fb4a3b1237b4027be2dede58d743212a6b4dda
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/742337/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,a1ba04940643559b64d3e6e7686375814c987a25,pypa-cryptography, - opendev/zuul-config-pyca-cryptography,,5,0
openstack%2Fproject-config~master~I467371c3652371c96225a7fd79939d57925fda56,openstack/project-config,master,I467371c3652371c96225a7fd79939d57925fda56,Add pyca/cryptography to zuul config,ABANDONED,2020-07-22 00:46:27.000000000,2020-07-28 20:37:40.000000000,,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 00:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b8f6e8c14fc99e9b1b421badb090bbaf1e2d234a', 'message': 'Add pypa/cryptography to zuul config\n\nWe are trying to get up some ARM64 testing on this repsoitory\n\nChange-Id: I467371c3652371c96225a7fd79939d57925fda56\n'}, {'number': 2, 'created': '2020-07-22 01:37:14.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/715fbc4992a5e51ec98f4519b610d46f2332a306', 'message': 'Add pyca/cryptography to zuul config\n\nWe are trying to get up some ARM64 testing on this repsoitory\n\nChange-Id: I467371c3652371c96225a7fd79939d57925fda56\n'}]",0,742321,715fbc4992a5e51ec98f4519b610d46f2332a306,8,4,2,7118,,,0,"Add pyca/cryptography to zuul config

We are trying to get up some ARM64 testing on this repsoitory

Change-Id: I467371c3652371c96225a7fd79939d57925fda56
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/742321/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,b8f6e8c14fc99e9b1b421badb090bbaf1e2d234a,pypa-cryptography, - pypa/cryptography,,1,0
openstack%2Fironic~master~I635a69dfd7450a218474ccb7cecf1c9e29c0a43c,openstack/ironic,master,I635a69dfd7450a218474ccb7cecf1c9e29c0a43c,Mark IPv6 job as non-voting to unblock the gate,MERGED,2020-07-28 13:48:39.000000000,2020-07-28 20:25:11.000000000,2020-07-28 19:54:50.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-28 13:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1d5775f98c1302ebabb3f918b1fd86e9572b12d', 'message': 'Mark IPv6 job as non-voting to unblock the gate\n\nThe default dhcp client in tinycore does not automatically trigger\nIPv6 address acquisition.\n\nThis is a problem when the random spread of nodes and devstack\ncause tinycore to get pulled in for the v6 job.\n\nChange-Id: I635a69dfd7450a218474ccb7cecf1c9e29c0a43c\n'}, {'number': 2, 'created': '2020-07-28 13:53:16.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e144453c12a7012bed4a2ed7f02e1621cde9227a', 'message': 'Mark IPv6 job as non-voting to unblock the gate\n\nThe default dhcp client in tinycore does not automatically trigger\nIPv6 address acquisition.\n\nThis is a problem when the random spread of nodes and devstack\ncause tinycore to get pulled in for the v6 job.\n\nChange-Id: I635a69dfd7450a218474ccb7cecf1c9e29c0a43c\n'}]",1,743542,e144453c12a7012bed4a2ed7f02e1621cde9227a,16,4,2,11655,,,0,"Mark IPv6 job as non-voting to unblock the gate

The default dhcp client in tinycore does not automatically trigger
IPv6 address acquisition.

This is a problem when the random spread of nodes and devstack
cause tinycore to get pulled in for the v6 job.

Change-Id: I635a69dfd7450a218474ccb7cecf1c9e29c0a43c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/743542/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f1d5775f98c1302ebabb3f918b1fd86e9572b12d,, - ironic-tempest-ipxe-ipv6: voting: false - ironic-tempest-ipxe-ipv6: voting: false, - ironic-tempest-ipxe-ipv6 - ironic-tempest-ipxe-ipv6,4,2
openstack%2Fcastellan~master~Id913a9c9bedb7eb1366ac534ec1371945b0918a6,openstack/castellan,master,Id913a9c9bedb7eb1366ac534ec1371945b0918a6,Bump bandit version,MERGED,2020-07-24 15:31:46.000000000,2020-07-28 20:16:58.000000000,2020-07-28 20:15:31.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:31:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/62a826cf106ac8cce8d8ff0cdd523c63d4b9b007', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: Id913a9c9bedb7eb1366ac534ec1371945b0918a6\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742909,62a826cf106ac8cce8d8ff0cdd523c63d4b9b007,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: Id913a9c9bedb7eb1366ac534ec1371945b0918a6
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/castellan refs/changes/09/742909/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,62a826cf106ac8cce8d8ff0cdd523c63d4b9b007,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fmanila~master~Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac,openstack/manila,master,Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac,[ci] Remove explicit compression of log files,MERGED,2020-07-27 19:44:13.000000000,2020-07-28 20:00:41.000000000,2020-07-28 19:55:00.000000000,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13861}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-27 19:44:13.000000000', 'files': ['contrib/ci/common.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/770e57ff3192c3828b2d3162ae1f132d3858997b', 'message': ""[ci] Remove explicit compression of log files\n\nCompression is not needed post [1], explicit\ncompression renders them non-browsable.\n\nThis commit applies to legacy style jobs that\nwill soon be replaced with zuulv3 native jobs;\nhowever, fixing it isn't terrible, and we\ncan use this fix for stable branches\nwhere zuulv3 native jobs may not come for a\nwhile.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\nCo-Authored-By: yatinkarel <ykarel@redhat.com>\n\nChange-Id: Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,743328,770e57ff3192c3828b2d3162ae1f132d3858997b,16,11,1,16643,,,0,"[ci] Remove explicit compression of log files

Compression is not needed post [1], explicit
compression renders them non-browsable.

This commit applies to legacy style jobs that
will soon be replaced with zuulv3 native jobs;
however, fixing it isn't terrible, and we
can use this fix for stable branches
where zuulv3 native jobs may not come for a
while.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html
Co-Authored-By: yatinkarel <ykarel@redhat.com>

Change-Id: Icd4f9dc435a807f6f729e4eb2d4df4b282ec79ac
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/743328/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/common.sh'],1,770e57ff3192c3828b2d3162ae1f132d3858997b,swift-logs, sudo mv $src_dirname/tempest.txt $dst_dirname/tempest.txt sudo mv $src_dirname/tempest.subunit $dst_dirname/tempest.subunit sudo mv $src_dirname/testr_results.html $dst_dirname/testr_results.html,function archive_file { # First argument is expected to be filename local filename=$1 sudo gzip -9 $filename sudo chown $USER:stack $filename.gz sudo chmod a+r $filename.gz } archive_file $src_dirname/tempest.txt sudo mv $src_dirname/tempest.txt.gz $dst_dirname/tempest.txt.gz archive_file $src_dirname/tempest.subunit sudo mv $src_dirname/tempest.subunit.gz $dst_dirname/tempest.subunit.gz archive_file $src_dirname/testr_results.html sudo mv $src_dirname/testr_results.html.gz $dst_dirname/testr_results.html.gz,3,16
openstack%2Fkolla~master~I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3,openstack/kolla,master,I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3,WIP: Add uwsgi in Nova API container,ABANDONED,2020-07-13 21:20:17.000000000,2020-07-28 19:43:12.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-07-13 21:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14e04110af481425d8e91323433ad951899535ae', 'message': 'Add uwsgi in Nova API container\n\nThis patch installs uwsgi in the Nova API container.\n\nChange-Id: I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 2, 'created': '2020-07-15 23:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc5324f45a7329bb4b3b88a9495f5f9122ef8cf2', 'message': 'Add uwsgi in Nova API container\n\nThis patch installs uwsgi in the Nova API container.\n\nChange-Id: I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 3, 'created': '2020-07-16 23:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e79bdb5b496999cb64c5b5051898a85af41caba0', 'message': 'Add uwsgi in Nova API container\n\nThis patch installs uwsgi in the Nova API container.\n\nChange-Id: I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 4, 'created': '2020-07-28 19:43:01.000000000', 'files': ['docker/nova/nova-api/extend_start.sh', 'docker/nova/nova-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c3ea93c55911d781c7ca54e0c0677408b6faa9e', 'message': 'WIP: Add uwsgi in Nova API container\n\nThis patch installs uwsgi in the Nova API container.\n\nChange-Id: I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3\nPartially-Implements: blueprint add-ssl-internal-network\n'}]",0,740816,0c3ea93c55911d781c7ca54e0c0677408b6faa9e,19,6,4,30810,,,0,"WIP: Add uwsgi in Nova API container

This patch installs uwsgi in the Nova API container.

Change-Id: I196bdb9556e3e0b22cf2782a16e18b7e71dfb7c3
Partially-Implements: blueprint add-ssl-internal-network
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/740816/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-api/Dockerfile.j2'],1,14e04110af481425d8e91323433ad951899535ae,," 'uwsgi-plugin-python3' 'python3-memcache', 'uwsgi-plugin-python3' 'uwsgi-plugin-python3' 'libapache2-mod-wsgi-py3', 'uwsgi-plugin-python3'", 'python3-memcache' 'libapache2-mod-wsgi-py3',6,2
openstack%2Fcharm-heat~master~I5c7fc8d23b84e7073e82531fcdfc46d454ea399c,openstack/charm-heat,master,I5c7fc8d23b84e7073e82531fcdfc46d454ea399c,Release sync for 20.08,MERGED,2020-07-27 19:53:06.000000000,2020-07-28 19:10:49.000000000,2020-07-28 19:10:49.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:53:06.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/d0ac640e199d247f4d75736724ee71be47e1c4fc', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I5c7fc8d23b84e7073e82531fcdfc46d454ea399c\n'}]",0,743355,d0ac640e199d247f4d75736724ee71be47e1c4fc,13,5,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I5c7fc8d23b84e7073e82531fcdfc46d454ea399c
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/55/743355/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'requirements.txt', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",6,d0ac640e199d247f4d75736724ee71be47e1c4fc,batch-2008-release-sync," # This section is based on Mozilla's recommendation # as the ""intermediate"" profile as of July 7th, 2020. # https://wiki.mozilla.org/Security/Server_Side_TLS SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 SSLHonorCipherOrder off ", SSLProtocol +TLSv1 +TLSv1.1 +TLSv1.2 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!EXP:!LOW:!MEDIUM,51,20
openstack%2Fswift~stable%2Fussuri~I918ab4ccbf4d081b26f4117937410cdad1caf8d3,openstack/swift,stable/ussuri,I918ab4ccbf4d081b26f4117937410cdad1caf8d3,Stop syncing empty suffixes list,MERGED,2020-07-27 16:46:07.000000000,2020-07-28 18:37:56.000000000,2020-07-27 22:00:01.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 16:46:07.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0bdbbc4a655fb4f74cd087636fc136c0f9d57754', 'message': 'Stop syncing empty suffixes list\n\nChange-Id: I918ab4ccbf4d081b26f4117937410cdad1caf8d3\nCloses-Bug: #1862645\nCloses-Bug: #1886782\n(cherry picked from commit 907942eb4743e5a4213b1f84fd57a58386594bb6)\n'}]",0,743279,0bdbbc4a655fb4f74cd087636fc136c0f9d57754,8,2,1,15343,,,0,"Stop syncing empty suffixes list

Change-Id: I918ab4ccbf4d081b26f4117937410cdad1caf8d3
Closes-Bug: #1862645
Closes-Bug: #1886782
(cherry picked from commit 907942eb4743e5a4213b1f84fd57a58386594bb6)
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/743279/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,0bdbbc4a655fb4f74cd087636fc136c0f9d57754,bug/1862645-stable/ussuri," resp.read.return_value = b'garbage' self.assertEqual(stats.hashmatch, 0) self.assertEqual(stats.hashmatch, 0) @mock.patch('swift.obj.replicator.tpool.execute') @mock.patch('swift.obj.replicator.http_connect', autospec=True) @mock.patch('swift.obj.replicator._do_listdir') def test_update_local_hash_changes_during_replication( self, mock_do_listdir, mock_http, mock_tpool_execute): mock_http.return_value = answer = mock.MagicMock() answer.getresponse.return_value = resp = mock.MagicMock() resp.status = 200 resp.read.return_value = pickle.dumps({ 'a83': 'c130a2c17ed45102aada0f4eee69494ff'}) self.replicator.sync = fake_sync = \ mock.MagicMock(return_value=(True, [])) local_job = [ job for job in self.replicator.collect_jobs() if not job['delete'] and job['partition'] == '0' and int(job['policy']) == 0 ][0] mock_tpool_execute.side_effect = [ (1, {'a83': 'ba47fd314242ec8c7efb91f5d57336e4'}), (1, {'a83': 'c130a2c17ed45102aada0f4eee69494ff'}), ] self.replicator.update(local_job) self.assertEqual(fake_sync.call_count, 0) self.assertEqual(mock_http.call_count, 2) stats = self.replicator.total_stats self.assertEqual(stats.attempted, 1) self.assertEqual(stats.suffix_sync, 0) self.assertEqual(stats.suffix_hash, 1) self.assertEqual(stats.suffix_count, 1) self.assertEqual(stats.hashmatch, 2) ", resp.read.return_value = 'garbage',39,1
openstack%2Fdesignate~master~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,master,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-05-28 19:41:58.000000000,2020-07-28 18:26:36.000000000,2020-07-27 23:34:11.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 20104}, {'_account_id': 22078}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-05-28 19:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/164fe45deef0df1a4cb2bf0d6cfba1c13d0df0e1', 'message': ""Adds the --update_zones to designate-manage pool update.\n\nThis change allows operators running designate-manage\nto enforce the propagation of new masters to the zones\nbelong to a given pool, using pool's defined target(s) masters\nservers and force a update_zone.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 2, 'created': '2020-05-28 19:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8d30188f6869296a3afe7fdf9cf5b7b724dc88ad', 'message': ""Adds the --update_zones to designate-manage pool update.\n\nThis change allows operators running designate-manage\nto enforce the propagation of new masters to the zones\nbelong to a given pool, using pool's defined target(s) masters\nservers and force a update_zone.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 3, 'created': '2020-05-28 19:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0112307eee1432bb5345ddf2166f6de29ae5fcca', 'message': ""Adds the --update_zones to designate-manage pool update.\n\nThis change allows operators running designate-manage\nto enforce the propagation of new masters to the zones\nbelong to a given pool, using pool's defined target(s) masters\nservers and force a update_zone.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nCloses-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 4, 'created': '2020-06-09 20:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/28aff4ae9fcd401823afb8b140a2b433c5fd5e7e', 'message': ""Adds the --update_zones to designate-manage pool update.\n\nThis change allows operators running designate-manage\nto enforce the propagation of new masters to the zones\nbelong to a given pool, using pool's defined target(s) masters\nservers and force a update_zone.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 5, 'created': '2020-06-11 13:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bf0f94240e5b9b1f4f5bf7bc8050d9593a1eae3a', 'message': ""Adds the --update-zones to designate-manage pool update.\n\nThis change allows operators running designate-manage\nto enforce the propagation of new masters to the zones\nbelong to a given pool, using pool's defined target(s) masters\nservers and forces a update_zone.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 6, 'created': '2020-06-18 20:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/65bed9c7142f8e91f3f6111554a62e545d6783ac', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 7, 'created': '2020-07-14 22:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8ca41e8e61863f49a650ef750d17077ae0cbdc8f', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 8, 'created': '2020-07-27 19:44:56.000000000', 'files': ['designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/tests/test_manage/test_update_pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}]",13,731603,3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc,44,7,8,2276,,,0,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/03/731603/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/impl_akamai.py', 'designate/backend/impl_nsd4.py', 'designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/backend/impl_designate.py', 'designate/backend/impl_bind9.py', 'designate/backend/impl_pdns4.py', 'designate/backend/impl_akamai_v2.py', 'designate/backend/impl_dynect.py', 'designate/backend/impl_infoblox/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_fake.py']",12,164fe45deef0df1a4cb2bf0d6cfba1c13d0df0e1,bug/1879798," def update_zone(self, context, zone): LOG.info('Update Zone %r', zone)",,177,6
openstack%2Fopenstack-ansible~stable%2Ftrain~I09c5b790f86ae5a5504193b5dadc75c90770367d,openstack/openstack-ansible,stable/train,I09c5b790f86ae5a5504193b5dadc75c90770367d,Suppress errors when ara is not installed,MERGED,2020-05-27 18:26:05.000000000,2020-07-28 18:14:16.000000000,2020-07-28 18:12:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-05-27 18:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/89dd08955abfa4d7a3c92ed0ae539c181ade25b7', 'message': 'Suppress errors when ara is not installed\n\nChange-Id: I09c5b790f86ae5a5504193b5dadc75c90770367d\n(cherry picked from commit 51631a5e336b4a24057d735789e926862022338a)\n'}, {'number': 2, 'created': '2020-06-18 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7e0ffe2a0cd5314a6ec7329dc92945ebec18fd3', 'message': 'Suppress errors when ara is not installed\n\nChange-Id: I09c5b790f86ae5a5504193b5dadc75c90770367d\n(cherry picked from commit 51631a5e336b4a24057d735789e926862022338a)\n'}, {'number': 3, 'created': '2020-07-28 12:13:01.000000000', 'files': ['scripts/openstack-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb3af471cb27f13eaa318da6aee9b266990729c6', 'message': 'Suppress errors when ara is not installed\n\nChange-Id: I09c5b790f86ae5a5504193b5dadc75c90770367d\n(cherry picked from commit 51631a5e336b4a24057d735789e926862022338a)\n'}]",0,731289,fb3af471cb27f13eaa318da6aee9b266990729c6,34,4,3,28619,,,0,"Suppress errors when ara is not installed

Change-Id: I09c5b790f86ae5a5504193b5dadc75c90770367d
(cherry picked from commit 51631a5e336b4a24057d735789e926862022338a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/731289/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.sh'],1,89dd08955abfa4d7a3c92ed0ae539c181ade25b7,, ara_location=$(python -m ara.setup.callback_plugins 2>/dev/null || true), ara_location=$(python -m ara.setup.callback_plugins || true),1,1
openstack%2Fcinderlib~master~I1709952cf0d0329e9b56c20edef50eff1696af22,openstack/cinderlib,master,I1709952cf0d0329e9b56c20edef50eff1696af22,drop use of pkg_resources,MERGED,2020-07-25 17:09:13.000000000,2020-07-28 18:09:34.000000000,2020-07-28 18:08:14.000000000,"[{'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-25 17:09:13.000000000', 'files': ['requirements.txt', 'cinderlib/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/65227561155bda8623a06b2d67579315fed38812', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nChange-Id: I1709952cf0d0329e9b56c20edef50eff1696af22\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,743035,65227561155bda8623a06b2d67579315fed38812,13,5,1,2472,,,0,"drop use of pkg_resources

Importing pkg_resources scans all of the installed modules for data
that won't be used. Switch to using importlib.metdata, which more
efficiently loads the metadata for a package.

Change-Id: I1709952cf0d0329e9b56c20edef50eff1696af22
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/35/743035/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinderlib/__init__.py']",2,65227561155bda8623a06b2d67579315fed38812,drop-pkg-resources, try: # For python 3.8 and later import importlib.metadata as importlib_metadata except ImportError: # For everyone else import importlib_metadata __version__ = importlib_metadata.version('cinderlib') except importlib_metadata.PackageNotFoundError:,import pkg_resources __version__ = pkg_resources.get_distribution('cinderlib').version except pkg_resources.DistributionNotFound:,10,3
openstack%2Fkolla-ansible~stable%2Fstein~I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,openstack/kolla-ansible,stable/stein,I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,Set Kafka default replication factor,MERGED,2020-07-27 18:11:59.000000000,2020-07-28 18:07:51.000000000,2020-07-28 18:04:32.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 18:11:59.000000000', 'files': ['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af744bbdbcf62519437a8f59cf50e9543b5d8a5a', 'message': 'Set Kafka default replication factor\n\nThis ensures that when using automatic Kafka topic creation, with more than one\nnode in the Kafka cluster, all partitions in the topic are automatically\nreplicated. When a single node goes down in a >=3 node cluster, these topics will\ncontinue to accept writes providing there are at least two insync replicas.\n\nIn a two node cluster, no failures are tolerated. In a three node cluster, only a\nsingle node failure is tolerated. In a larger cluster the configuration may need\nmanual tuning.\n\nThis configuration follows advice given here:\n\n[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq\n\nCloses-Bug: #1888522\n\nChange-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3\n(cherry picked from commit a273e28e208eaf7c3d607bff220309ca3b3b0bd7)\n'}]",0,743298,af744bbdbcf62519437a8f59cf50e9543b5d8a5a,12,3,1,14826,,,0,"Set Kafka default replication factor

This ensures that when using automatic Kafka topic creation, with more than one
node in the Kafka cluster, all partitions in the topic are automatically
replicated. When a single node goes down in a >=3 node cluster, these topics will
continue to accept writes providing there are at least two insync replicas.

In a two node cluster, no failures are tolerated. In a three node cluster, only a
single node failure is tolerated. In a larger cluster the configuration may need
manual tuning.

This configuration follows advice given here:

[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq

Closes-Bug: #1888522

Change-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3
(cherry picked from commit a273e28e208eaf7c3d607bff220309ca3b3b0bd7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/743298/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml']",2,af744bbdbcf62519437a8f59cf50e9543b5d8a5a,,"--- fixes: - | An issue where when Kafka default topic creation was used to create a Kafka topic, no redundant replicas were created in a multi-node cluster. `LP#1888522 <https://launchpad.net/bugs/1888522>`__. This affects Monasca which uses Kafka, and was previously masked by the legacy Kafka client used by Monasca which has since been upgraded in Ussuri. Monasca users with multi-node Kafka clusters should consultant the Kafka `documentation <https://kafka.apache.org/documentation/>`__ to increase the number of replicas. ",,12,0
openstack%2Fansible-collections-openstack~master~I4d50b7c55727f022d79df85fb4a163fe3e5fca7b,openstack/ansible-collections-openstack,master,I4d50b7c55727f022d79df85fb4a163fe3e5fca7b,Do not require ironic_url if cloud or auth.endpoint is provided,MERGED,2020-07-24 15:48:05.000000000,2020-07-28 18:06:27.000000000,2020-07-28 18:06:27.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-07-24 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/51d6ca91ce7b7c837c4f8b715d1e17603af4c599', 'message': 'Do not require ironic_url if cloud is provided\n\nThe endpoint may be specified in clouds.yaml\n\nChange-Id: I4d50b7c55727f022d79df85fb4a163fe3e5fca7b\n'}, {'number': 2, 'created': '2020-07-26 11:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b40743d8c6032123ec7e558fbdf0f6553d060c52', 'message': 'Do not require ironic_url if cloud is provided\n\nThe endpoint may be specified in clouds.yaml\n\nChange-Id: I4d50b7c55727f022d79df85fb4a163fe3e5fca7b\n'}, {'number': 3, 'created': '2020-07-28 15:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6229238a0c80c2e88632c60a2d9ea14c51f284cc', 'message': 'Do not require ironic_url if cloud or auth.endpoint is provided\n\nThe endpoint may be specified in clouds.yaml or via auth, do not\nforce ironic_url in either of these cases.\n\nFinally, accept ""none"" as a valid no-auth plugin name.\n\nChange-Id: I4d50b7c55727f022d79df85fb4a163fe3e5fca7b\n'}, {'number': 4, 'created': '2020-07-28 15:10:09.000000000', 'files': ['plugins/modules/baremetal_inspect.py', 'plugins/modules/baremetal_node.py', 'plugins/modules/baremetal_node_action.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8731fcc64bd11e448e9299d36b5d4e1ddbe3527b', 'message': 'Do not require ironic_url if cloud or auth.endpoint is provided\n\nThe endpoint may be specified in clouds.yaml or via auth, do not\nforce ironic_url in either of these cases.\n\nFinally, accept ""none"" as a valid no-auth plugin name.\n\nChange-Id: I4d50b7c55727f022d79df85fb4a163fe3e5fca7b\n'}]",0,742932,8731fcc64bd11e448e9299d36b5d4e1ddbe3527b,13,4,4,10239,,,0,"Do not require ironic_url if cloud or auth.endpoint is provided

The endpoint may be specified in clouds.yaml or via auth, do not
force ironic_url in either of these cases.

Finally, accept ""none"" as a valid no-auth plugin name.

Change-Id: I4d50b7c55727f022d79df85fb4a163fe3e5fca7b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/32/742932/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/baremetal_inspect.py', 'plugins/modules/baremetal_node.py', 'plugins/modules/baremetal_node_action.py']",3,51d6ca91ce7b7c837c4f8b715d1e17603af4c599,ironic-url, and not module.params['cloud'],,3,0
openstack%2Fglance~master~I964a44e97cb71463d8cde19699b9cc1cc3f03a79,openstack/glance,master,I964a44e97cb71463d8cde19699b9cc1cc3f03a79,Victoria milestone 2 release notes,MERGED,2020-07-24 09:26:59.000000000,2020-07-28 18:05:10.000000000,2020-07-28 18:01:32.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 09:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e278b4ae725d4f9ea92013fc424d60f2b8b56dbb', 'message': 'Victoria milestone 2 release notes\n\nChange-Id: I964a44e97cb71463d8cde19699b9cc1cc3f03a79\n'}, {'number': 2, 'created': '2020-07-24 09:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9af39629b67f549f0fe8dd6a00d5d0a11c4031e5', 'message': 'Victoria milestone 2 release notes\n\nChange-Id: I964a44e97cb71463d8cde19699b9cc1cc3f03a79\n'}, {'number': 3, 'created': '2020-07-24 14:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/394836ed6503b8608409d0b8f63968e9b74dd947', 'message': 'Victoria milestone 2 release notes\n\nChange-Id: I964a44e97cb71463d8cde19699b9cc1cc3f03a79\n'}, {'number': 4, 'created': '2020-07-24 15:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a6b3dc9a19418fc0d937c310ddcb98904a56eb08', 'message': 'Victoria milestone 2 release notes\n\nChange-Id: I964a44e97cb71463d8cde19699b9cc1cc3f03a79\n'}, {'number': 5, 'created': '2020-07-28 04:55:41.000000000', 'files': ['releasenotes/notes/victoria-m2-release-notes-8a6ae2fdb3d29dae.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/a4638930d24578d3449aff405014d4ec630ae303', 'message': 'Victoria milestone 2 release notes\n\nChange-Id: I964a44e97cb71463d8cde19699b9cc1cc3f03a79\n'}]",7,742835,a4638930d24578d3449aff405014d4ec630ae303,26,7,5,9303,,,0,"Victoria milestone 2 release notes

Change-Id: I964a44e97cb71463d8cde19699b9cc1cc3f03a79
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/742835/5 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/victoria-m2-release-notes-8a6ae2fdb3d29dae.yaml'],1,e278b4ae725d4f9ea92013fc424d60f2b8b56dbb,victoria-m2-release-notes,--- features: - | * Added policy support to copy unwoned existing images to multiple stores fixes: - | Bug 1888349_: glance-cache-manage utility is broken - | Bug 1886374_: Improve lazy loading mechanism for multiple stores - | Bug 1885725_: 'copy-image' import job should not try to run additional plugins - | Bug 1885003_: Interrupted copy-image may break a subsequent operation - | Bug 1884587_: image import copy-image API should reflect proper authorization - | Bug 1881958_: read-only http store should not be used if --all-stores specified for import/copy image workflow - | Bug 1876419_: Failed to parse json file /etc/glance/metadefs/compute-vmware.json - | Bug 1856581_: metadefs: OS::Glance::CommonImageProperties out of date - | Bug 1843576_: Glance metadefs is missing Image property hw_vif_multiqueue_enabled - | Bug 1856578_: docs: image schema customization restrictions - | Bug 1808814_: admin docs: interoperable image import revision for stein - | Bug 1870336_: Update 'common image properties' doc .. _1888349: https://code.launchpad.net/bugs/1888349 .. _1886374: https://code.launchpad.net/bugs/1886374 .. _1885725: https://code.launchpad.net/bugs/1885725 .. _1885003: https://code.launchpad.net/bugs/1885003 .. _1884587: https://code.launchpad.net/bugs/1884587 .. _1881958: https://code.launchpad.net/bugs/1881958 .. _1876419: https://code.launchpad.net/bugs/1876419 .. _1856581: https://code.launchpad.net/bugs/1856581 .. _1843576: https://code.launchpad.net/bugs/1843576 .. _1856578: https://code.launchpad.net/bugs/1856578 .. _1808814: https://code.launchpad.net/bugs/1808814 .. _1870336: https://code.launchpad.net/bugs/1870336 ,,43,0
openstack%2Fkayobe~master~Idbdd494f9435d663564346fd0e0a053b656168c3,openstack/kayobe,master,Idbdd494f9435d663564346fd0e0a053b656168c3,Fix network configuration when no eth0 interface is present,MERGED,2020-07-10 13:07:01.000000000,2020-07-28 18:04:07.000000000,2020-07-28 16:50:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-07-10 13:07:01.000000000', 'files': ['requirements.yml', 'releasenotes/notes/remove-ifcfg-eth0-c179ea98fc34e164.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ca648622b1b2ca73989fe2011630aaeb3601f8c2', 'message': 'Fix network configuration when no eth0 interface is present\n\nChange-Id: Idbdd494f9435d663564346fd0e0a053b656168c3\nStory: 2007913\nTask: 40316\n'}]",0,740456,ca648622b1b2ca73989fe2011630aaeb3601f8c2,10,4,1,15197,,,0,"Fix network configuration when no eth0 interface is present

Change-Id: Idbdd494f9435d663564346fd0e0a053b656168c3
Story: 2007913
Task: 40316
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/56/740456/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.yml', 'releasenotes/notes/remove-ifcfg-eth0-c179ea98fc34e164.yaml']",2,ca648622b1b2ca73989fe2011630aaeb3601f8c2,story/2007913,"--- fixes: - | Removes the ``ifcfg-eth0`` network interface configuration file when not required, using a new version of the ``MichaelRigaert.interfaces`` Ansible role. This file ships with CentOS 8 cloud images and can prevent the ``network`` service from starting successfully when no ``eth0`` interface is present or being configured. See `story 2007913 <https://storyboard.openstack.org/#!/story/2007913>`__ for details. ",,10,1
openstack%2Fglance~master~If0fd74d9f2eecb21153493457c58d767f12ffdeb,openstack/glance,master,If0fd74d9f2eecb21153493457c58d767f12ffdeb,[Doc] Policy support to copy unowned images,MERGED,2020-07-24 07:52:20.000000000,2020-07-28 18:03:08.000000000,2020-07-28 18:01:30.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 07:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9566d6acaf870ef6bf6c4ffab80c60d040886b17', 'message': '[Doc] Policy support to copy unowned images\n\nChange-Id: If0fd74d9f2eecb21153493457c58d767f12ffdeb\n'}, {'number': 2, 'created': '2020-07-24 15:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1d47a6800ac6e5fb011aa5356cbc75b62489af94', 'message': '[Doc] Policy support to copy unowned images\n\nChange-Id: If0fd74d9f2eecb21153493457c58d767f12ffdeb\n'}, {'number': 3, 'created': '2020-07-27 16:54:10.000000000', 'files': ['api-ref/source/v2/images-import.inc', 'doc/source/admin/interoperable-image-import.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/52eaa56e40a5649c6c8da1c4e5204331d07b63aa', 'message': '[Doc] Policy support to copy unowned images\n\nChange-Id: If0fd74d9f2eecb21153493457c58d767f12ffdeb\n'}]",20,742810,52eaa56e40a5649c6c8da1c4e5204331d07b63aa,21,5,3,9303,,,0,"[Doc] Policy support to copy unowned images

Change-Id: If0fd74d9f2eecb21153493457c58d767f12ffdeb
",git fetch https://review.opendev.org/openstack/glance refs/changes/10/742810/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/images-import.inc', 'doc/source/admin/interoperable-image-import.rst']",2,9566d6acaf870ef6bf6c4ffab80c60d040886b17,docs/unowned-images,"as you have multiple glance backends configured in your environment. To allow ``copy-mage`` operation to users who does not own the image, operator can set `copy_image` policy to `role:admin` in policy.json file.Basically user will be able to copy only those images which are either owned by him or shared with him. Unless the copying of unowned images are allowed by cloud operator by enforcing policy check, user will be get Forbidden (Operation not permitted response) for such copy operations. Even if copying of unowned images is allowed by enforcing policy, ownership of the image remains unchanged. ",as you have multiple glance backends configured in your environment.,14,1
openstack%2Fmanila~master~I67ac549e790322c56d02db4424ec01a5449e6699,openstack/manila,master,I67ac549e790322c56d02db4424ec01a5449e6699,Don't restore. Dummy change,ABANDONED,2020-07-28 16:54:08.000000000,2020-07-28 18:02:32.000000000,,[],"[{'number': 1, 'created': '2020-07-28 16:54:08.000000000', 'files': ['dnm.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/dd3f8cff1b3adc0920ffd6254c4dea87b9825e49', 'message': ""Don't restore. Dummy change\n\nChange-Id: I67ac549e790322c56d02db4424ec01a5449e6699\n""}]",0,743590,dd3f8cff1b3adc0920ffd6254c4dea87b9825e49,3,0,1,16643,,,0,"Don't restore. Dummy change

Change-Id: I67ac549e790322c56d02db4424ec01a5449e6699
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/743590/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm.txt'],1,dd3f8cff1b3adc0920ffd6254c4dea87b9825e49,,,,0,0
openstack%2Fcinder~stable%2Fqueens~I08487575e52c5cfd5a268a23d97b6bd931aeaa45,openstack/cinder,stable/queens,I08487575e52c5cfd5a268a23d97b6bd931aeaa45,Fix service_uuid migration for volumes with no host,MERGED,2020-07-08 09:23:01.000000000,2020-07-28 18:01:29.000000000,2020-07-28 18:01:29.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-08 09:23:01.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69d0986e8f29e4dcc7fe22ed1b5dd407566eec06', 'message': ""Fix service_uuid migration for volumes with no host\n\nFor volumes that have no host assigned, this\nmigration will fail.  Skip those volumes, as they\ndon't need to be updated.\n\nCloses-Bug: #1821207\nChange-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45\n(cherry picked from commit 47d2a98fa63fb1bdf122c8a40bd06ea9c1709855)\n(cherry picked from commit 997af3aa6b55d24c55c7cb9d179ca63819e40157)\n(cherry picked from commit d70fc16718bce37404dd62aba24e2f0b7782a7cc)\n""}]",0,739937,69d0986e8f29e4dcc7fe22ed1b5dd407566eec06,30,16,1,27615,,,0,"Fix service_uuid migration for volumes with no host

For volumes that have no host assigned, this
migration will fail.  Skip those volumes, as they
don't need to be updated.

Closes-Bug: #1821207
Change-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45
(cherry picked from commit 47d2a98fa63fb1bdf122c8a40bd06ea9c1709855)
(cherry picked from commit 997af3aa6b55d24c55c7cb9d179ca63819e40157)
(cherry picked from commit d70fc16718bce37404dd62aba24e2f0b7782a7cc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/739937/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py']",2,69d0986e8f29e4dcc7fe22ed1b5dd407566eec06,bug/1821207-stable/rocky-stable/queens, models.Volume).filter_by(service_uuid=None).\ filter(models.Volume.host.isnot(None)), models.Volume).filter_by(service_uuid=None),8,3
openstack%2Fbarbican~master~I7efbf08e81177af3853f53cf26018094fe59f955,openstack/barbican,master,I7efbf08e81177af3853f53cf26018094fe59f955,Cap jsonschema 3.2.0 as the minimal version,MERGED,2020-05-26 19:46:07.000000000,2020-07-28 17:56:58.000000000,2020-07-28 17:55:29.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-26 19:46:07.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6f160e27f6d91f1f7afc69cb9a116e1e47691541', 'message': ""Cap jsonschema 3.2.0 as the minimal version\n\nPrevious versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].\nPython 3.8 is part of the victoria supported runtimes [2] so we now force\nto use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure\nthat everything works with python 3 in general.\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I7efbf08e81177af3853f53cf26018094fe59f955\n""}]",0,730941,6f160e27f6d91f1f7afc69cb9a116e1e47691541,10,4,1,28522,,,0,"Cap jsonschema 3.2.0 as the minimal version

Previous versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].
Python 3.8 is part of the victoria supported runtimes [2] so we now force
to use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure
that everything works with python 3 in general.

[1] https://github.com/Julian/jsonschema/pull/627
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I7efbf08e81177af3853f53cf26018094fe59f955
",git fetch https://review.opendev.org/openstack/barbican refs/changes/41/730941/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6f160e27f6d91f1f7afc69cb9a116e1e47691541,cap_jsonschema,jsonschema>=3.2.0 # MIT,jsonschema>=2.6.0 # MIT,1,1
openstack%2Fdesignate-tempest-plugin~master~I5861d47e20d559d64c203d38faf08f6f6648c421,openstack/designate-tempest-plugin,master,I5861d47e20d559d64c203d38faf08f6f6648c421,Stop to use the __future__ module.,MERGED,2020-06-02 18:10:36.000000000,2020-07-28 17:51:07.000000000,2020-07-28 17:49:31.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:10:36.000000000', 'files': ['tools/pretty_flake8.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a32ccf7e0843d6c92162770ba23c51ee52268247', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I5861d47e20d559d64c203d38faf08f6f6648c421\n""}]",0,732830,a32ccf7e0843d6c92162770ba23c51ee52268247,14,3,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I5861d47e20d559d64c203d38faf08f6f6648c421
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/30/732830/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/pretty_flake8.py'],1,a32ccf7e0843d6c92162770ba23c51ee52268247,drop_future_imports,,from __future__ import print_function,0,1
openstack%2Fbarbican~master~I1017da7f2819b3d6d83f648187ab28216f7a5efc,openstack/barbican,master,I1017da7f2819b3d6d83f648187ab28216f7a5efc,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-08 02:28:38.000000000,2020-07-28 17:50:06.000000000,2020-07-28 17:48:03.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-07-08 02:28:38.000000000', 'files': ['barbican/tests/model/repositories/test_repositories_quotas.py', 'barbican/tests/objects/test_ovo_project_quotas.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/03665ece43c357a212ace93067c55d84e1964fae', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I1017da7f2819b3d6d83f648187ab28216f7a5efc\n'}]",0,739874,03665ece43c357a212ace93067c55d84e1964fae,8,3,1,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I1017da7f2819b3d6d83f648187ab28216f7a5efc
",git fetch https://review.opendev.org/openstack/barbican refs/changes/74/739874/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/model/repositories/test_repositories_quotas.py', 'barbican/tests/objects/test_ovo_project_quotas.py']",2,03665ece43c357a212ace93067c55d84e1964fae,," self.assertCountEqual([self.project_id1, self.project_id2], self.assertCountEqual([self.external_id1, self.assertCountEqual([101, 201], self.assertCountEqual([102, 202], self.assertCountEqual([103, 203], self.assertCountEqual([105, 205], self.assertCountEqual([106, 206],"," self.assertItemsEqual([self.project_id1, self.project_id2], self.assertItemsEqual([self.external_id1, self.assertItemsEqual([101, 201], self.assertItemsEqual([102, 202], self.assertItemsEqual([103, 203], self.assertItemsEqual([105, 205], self.assertItemsEqual([106, 206],",14,14
openstack%2Ftripleo-ansible~stable%2Fussuri~I5110a9e2bd3888c9aae174fd27cede0e89d1046a,openstack/tripleo-ansible,stable/ussuri,I5110a9e2bd3888c9aae174fd27cede0e89d1046a,Stop caturing stdout for container-image-prepare,MERGED,2020-07-27 11:46:56.000000000,2020-07-28 17:49:40.000000000,2020-07-28 17:49:40.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 11:46:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d961c871e824770ec90e7d463f584beda26f37c', 'message': 'Stop caturing stdout for container-image-prepare\n\nWe log container-image-prepare to a file so we should just /dev/null\nstdout. stderr will still be captured if something goes wrong but the\nstdout is excessively large especially with --debug enabled.\n\nChange-Id: I5110a9e2bd3888c9aae174fd27cede0e89d1046a\n(cherry picked from commit 569b4284982f21f9e0fc9592912de28884e2cb28)\n'}]",0,743201,8d961c871e824770ec90e7d463f584beda26f37c,12,4,1,3153,,,0,"Stop caturing stdout for container-image-prepare

We log container-image-prepare to a file so we should just /dev/null
stdout. stderr will still be captured if something goes wrong but the
stdout is excessively large especially with --debug enabled.

Change-Id: I5110a9e2bd3888c9aae174fd27cede0e89d1046a
(cherry picked from commit 569b4284982f21f9e0fc9592912de28884e2cb28)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/743201/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml'],1,8d961c871e824770ec90e7d463f584beda26f37c,collect-image-prepare-no-stdout-stable/ussuri, shell: >- >/dev/null, command: >-,2,1
openstack%2Ftripleo-ansible~master~I74f3d5b51bde1ec33b69b2488174eef9cc4a330d,openstack/tripleo-ansible,master,I74f3d5b51bde1ec33b69b2488174eef9cc4a330d,container_systemd: improve debugging if service never starts,MERGED,2020-07-27 13:04:43.000000000,2020-07-28 17:45:52.000000000,2020-07-28 14:57:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-27 13:04:43.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/67d78a753ccf0cc925627c6acc3fabad9905a03b', 'message': 'container_systemd: improve debugging if service never starts\n\nIf a service never starts, the ""status"" key won\'t exist so Ansible\nraises with KeyError which is very misleading (we don\'t even have the\nservice name).\n\nThis make pass the KeyError exception, so we fail at the end of the loop\nof attempts with proper Ansible raise and we give the service name.\n\nChange-Id: I74f3d5b51bde1ec33b69b2488174eef9cc4a330d\n'}]",0,743221,67d78a753ccf0cc925627c6acc3fabad9905a03b,14,5,1,3153,,,0,"container_systemd: improve debugging if service never starts

If a service never starts, the ""status"" key won't exist so Ansible
raises with KeyError which is very misleading (we don't even have the
service name).

This make pass the KeyError exception, so we fail at the end of the loop
of attempts with proper Ansible raise and we give the service name.

Change-Id: I74f3d5b51bde1ec33b69b2488174eef9cc4a330d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/743221/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/container_systemd.py'],1,67d78a753ccf0cc925627c6acc3fabad9905a03b,systemd/debug," try: if 'Result' in results['status']: if results['status']['Result'] == 'success': if results.get('changed', False): self.changed = True self.restarted.append('tripleo_{}' '.service'.format(name)) return except KeyError: # if 'systemd' task failed to start the service, the 'status' # key doesn't exist, so we'll use the final raise to report the # issue if the service never start after the attempts. pass"," if 'Result' in results['status']: if results['status']['Result'] == 'success': if results.get('changed', False): self.changed = True self.restarted.append('tripleo_{}.service'.format(name)) return",13,6
openstack%2Ftripleo-ansible~master~I59233aeb488ae3938128d0ed6b86649a671ba526,openstack/tripleo-ansible,master,I59233aeb488ae3938128d0ed6b86649a671ba526,Fix parameter_defaults for nova less deploy,MERGED,2020-07-28 06:55:04.000000000,2020-07-28 17:44:27.000000000,2020-07-28 14:57:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-28 06:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bce00685370ab75fc8fb6ab376c73fd94db36bfe', 'message': ""Fix parameter_defaults for nova less deploy\n\nWe seem to be using incorrect parameters for HostnameFormat and\nCount when generating environment for nova less deploy.\n\nIt's always {{role.name}}Count and {{role.name}}HostnameFormat\n\nChange-Id: I59233aeb488ae3938128d0ed6b86649a671ba526\n""}, {'number': 2, 'created': '2020-07-28 07:17:10.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d958b45ebbc986e8381a540f69508e8f91f13081', 'message': ""Fix parameter_defaults for nova less deploy\n\nWe seem to be using incorrect parameters for HostnameFormat and\nCount when generating environment for nova less deploy.\n\nIt's always {{role.name}}Count and {{role.name}}HostnameFormat\n\nChange-Id: I59233aeb488ae3938128d0ed6b86649a671ba526\n""}]",0,743469,d958b45ebbc986e8381a540f69508e8f91f13081,12,6,2,8833,,,0,"Fix parameter_defaults for nova less deploy

We seem to be using incorrect parameters for HostnameFormat and
Count when generating environment for nova less deploy.

It's always {{role.name}}Count and {{role.name}}HostnameFormat

Change-Id: I59233aeb488ae3938128d0ed6b86649a671ba526
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/743469/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'],1,bce00685370ab75fc8fb6ab376c73fd94db36bfe,, parameter_defaults['%sHostnameFormat' % name] = ( parameter_defaults['%sCount' % name] = (, parameter_defaults['%sDeployedServerHostnameFormat' % name] = ( parameter_defaults['%sDeployedServerCount' % name] = (,2,2
openstack%2Fmanila~stable%2Fqueens~Iea90e3f04ae05e5783c3163bbf2d2dabd128c7b5,openstack/manila,stable/queens,Iea90e3f04ae05e5783c3163bbf2d2dabd128c7b5,[devstack][ci] Move bgp setup to plugin,MERGED,2020-05-26 16:19:23.000000000,2020-07-28 17:41:14.000000000,2020-07-28 17:41:14.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-05-26 16:19:23.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/e68f43a332e6a156757fa79e9c70becd96d0e470', 'message': '[devstack][ci] Move bgp setup to plugin\n\nWe currently use a legacy devstack-gate script\nto create the bgp speaker, and peer required\nto communicate to and from the tenant private\nIPv6 networks.\n\nMove this logic to the devstack plugin so that\nwe can invoke it automatically with the existing\ndevstack variable MANILA_SETUP_IPV6.\n\nChange-Id: Iea90e3f04ae05e5783c3163bbf2d2dabd128c7b5\n(cherry picked from commit 2277c20c02641c3a0cd0804ef53a54cd5492ce2d)\n(cherry picked from commit fc9ac3cb4944020645b9616fbf2b6b81675726bf)\n(cherry picked from commit d4e0627e93e5c4aa77d9609256a75d1295b79f9a)\n(cherry picked from commit 2bdb724c37aa8dc6f9efd094ff249f5d8efd2c28)\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,730874,e68f43a332e6a156757fa79e9c70becd96d0e470,19,7,1,16643,,,0,"[devstack][ci] Move bgp setup to plugin

We currently use a legacy devstack-gate script
to create the bgp speaker, and peer required
to communicate to and from the tenant private
IPv6 networks.

Move this logic to the devstack plugin so that
we can invoke it automatically with the existing
devstack variable MANILA_SETUP_IPV6.

Change-Id: Iea90e3f04ae05e5783c3163bbf2d2dabd128c7b5
(cherry picked from commit 2277c20c02641c3a0cd0804ef53a54cd5492ce2d)
(cherry picked from commit fc9ac3cb4944020645b9616fbf2b6b81675726bf)
(cherry picked from commit d4e0627e93e5c4aa77d9609256a75d1295b79f9a)
(cherry picked from commit 2bdb724c37aa8dc6f9efd094ff249f5d8efd2c28)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/74/730874/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh']",2,e68f43a332e6a156757fa79e9c70becd96d0e470,native-zuulv3-migration,"function setup_bgp_for_ipv6 { neutron bgp-speaker-create --ip-version 6 --local-as 100 bgpspeaker neutron bgp-speaker-network-add bgpspeaker $PUBLIC_NETWORK_NAME neutron bgp-peer-create --peer-ip ::1 --remote-as 200 bgppeer neutron bgp-speaker-peer-add bgpspeaker bgppeer } if [[ ""$(trueorfalse False MANILA_SETUP_IPV6)"" == ""True"" ]]; then # Now that all plugins are loaded, setup BGP echo_summary ""Setting up BGP speaker to advertise routes to project networks"" setup_bgp_for_ipv6 fi ",,13,8
openstack%2Fpuppet-tripleo~master~If6b8964a1ac28221604e138723e5971d1f616edb,openstack/puppet-tripleo,master,If6b8964a1ac28221604e138723e5971d1f616edb,Switch Octavia API to use source balancing,MERGED,2020-05-29 17:28:32.000000000,2020-07-28 17:35:55.000000000,2020-07-28 17:35:55.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 11816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-29 17:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e9c3d44e37170f6e608aafb6f0369dbc57f84bf1', 'message': 'Switch Octavia API to use source balancing\n\nRecent rolling upgrade testing showed an issue where the HAProxy\nin front of the Octavia API was blind round-robin distributing\nconnections. This leads to failures during a rolling upgrade event\nwhere consumers of the API doing version discovery may get different\nAPI instance/versions across API calls.\n\nThis patch switches the Octavia API to use source IP balancing with\nconsistent hashing to improve the rolling upgrade scenario where\nmultiple API requests from the same user should be directed to the\nsame API instance.\n\nIt also switches the healthcheck to do a simple HEAD / check. This\nshould reduce load on both the Octavia API process and the HAProxy\nprocess, but also lines us up for enabling /healthcheck later in\nVictoria (A Ussuri Octavia feature).\n\nChange-Id: If6b8964a1ac28221604e138723e5971d1f616edb\n'}, {'number': 2, 'created': '2020-05-29 17:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c1f71881e30bb708815fcea62a15808a18b811d', 'message': 'Switch Octavia API to use source balancing\n\nRecent rolling upgrade testing showed an issue where the HAProxy\nin front of the Octavia API was blind round-robin distributing\nconnections. This leads to failures during a rolling upgrade event\nwhere consumers of the API doing version discovery may get different\nAPI instance/versions across API calls.\n\nThis patch switches the Octavia API to use source IP balancing with\nconsistent hashing to improve the rolling upgrade scenario where\nmultiple API requests from the same user should be directed to the\nsame API instance.\n\nIt also switches the healthcheck to do a simple HEAD / check. This\nshould reduce load on both the Octavia API process and the HAProxy\nprocess, but also lines us up for enabling /healthcheck later in\nVictoria (A Ussuri Octavia feature).\n\nChange-Id: If6b8964a1ac28221604e138723e5971d1f616edb\n'}, {'number': 3, 'created': '2020-05-29 18:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c96080629a219d1a1ebc6f6a0a0510ac66820a73', 'message': 'Switch Octavia API to use source balancing\n\nRecent rolling upgrade testing showed an issue where the HAProxy\nin front of the Octavia API was blind round-robin distributing\nconnections. This leads to failures during a rolling upgrade event\nwhere consumers of the API doing version discovery may get different\nAPI instance/versions across API calls.\n\nThis patch switches the Octavia API to use source IP balancing with\nconsistent hashing to improve the rolling upgrade scenario where\nmultiple API requests from the same user should be directed to the\nsame API instance.\n\nIt also switches the healthcheck to do a simple HEAD / check. This\nshould reduce load on both the Octavia API process and the HAProxy\nprocess, but also lines us up for enabling /healthcheck later in\nVictoria (A Ussuri Octavia feature).\n\nChange-Id: If6b8964a1ac28221604e138723e5971d1f616edb\n'}, {'number': 4, 'created': '2020-06-15 15:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a268494c775611db9cf0e98e801046b21538089b', 'message': 'Switch Octavia API to use source balancing\n\nRecent rolling upgrade testing showed an issue where the HAProxy\nin front of the Octavia API was blind round-robin distributing\nconnections. This leads to failures during a rolling upgrade event\nwhere consumers of the API doing version discovery may get different\nAPI instance/versions across API calls.\n\nThis patch switches the Octavia API to use source IP balancing with\nconsistent hashing to improve the rolling upgrade scenario where\nmultiple API requests from the same user should be directed to the\nsame API instance.\n\nIt also switches the healthcheck to do a simple HEAD / check. This\nshould reduce load on both the Octavia API process and the HAProxy\nprocess, but also lines us up for enabling /healthcheck later in\nVictoria (A Ussuri Octavia feature).\n\nChange-Id: If6b8964a1ac28221604e138723e5971d1f616edb\n'}, {'number': 5, 'created': '2020-06-15 15:16:06.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e868ea5d40adba96c4285e903896b0b7972f2768', 'message': 'Switch Octavia API to use source balancing\n\nRecent rolling upgrade testing showed an issue where the HAProxy\nin front of the Octavia API was blind round-robin distributing\nconnections. This leads to failures during a rolling upgrade event\nwhere consumers of the API doing version discovery may get different\nAPI instance/versions across API calls.\n\nThis patch switches the Octavia API to use source IP balancing with\nconsistent hashing to improve the rolling upgrade scenario where\nmultiple API requests from the same user should be directed to the\nsame API instance.\n\nIt also switches the healthcheck to do a simple HEAD / check. This\nshould reduce load on both the Octavia API process and the HAProxy\nprocess, but also lines us up for enabling /healthcheck later in\nVictoria (A Ussuri Octavia feature).\n\nChange-Id: If6b8964a1ac28221604e138723e5971d1f616edb\n'}]",2,731816,e868ea5d40adba96c4285e903896b0b7972f2768,51,10,5,11628,,,0,"Switch Octavia API to use source balancing

Recent rolling upgrade testing showed an issue where the HAProxy
in front of the Octavia API was blind round-robin distributing
connections. This leads to failures during a rolling upgrade event
where consumers of the API doing version discovery may get different
API instance/versions across API calls.

This patch switches the Octavia API to use source IP balancing with
consistent hashing to improve the rolling upgrade scenario where
multiple API requests from the same user should be directed to the
same API instance.

It also switches the healthcheck to do a simple HEAD / check. This
should reduce load on both the Octavia API process and the HAProxy
process, but also lines us up for enabling /healthcheck later in
Victoria (A Ussuri Octavia feature).

Change-Id: If6b8964a1ac28221604e138723e5971d1f616edb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/16/731816/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb']",2,e9c3d44e37170f6e608aafb6f0369dbc57f84bf1,leastconn," :octavia => true, %w(etcd ceph_grafana ceph_dashboard nova_novncproxy octavia).each do |svc|", %w(etcd ceph_grafana ceph_dashboard nova_novncproxy).each do |svc|,7,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I70560f80775dacddd82262e8079c13f86b0eb0e6,openstack/tripleo-heat-templates,stable/train,I70560f80775dacddd82262e8079c13f86b0eb0e6,Ensure redis_tls_proxy starts after all redis instances,MERGED,2020-07-27 15:50:27.000000000,2020-07-28 17:35:54.000000000,2020-07-28 17:35:54.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-07-27 15:50:27.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'container_config_scripts/wait-port-and-run.sh', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e965239d60b6e2b76aeca0c0aa8ef8998029bbdd', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n(cherry picked from commit b91a1a09cb25f042adb7094947eb3416c80af88f)\n""}]",0,743265,e965239d60b6e2b76aeca0c0aa8ef8998029bbdd,11,4,1,30126,,,0,"Ensure redis_tls_proxy starts after all redis instances

When converting a HA control plane to TLS-e, 1) the bootstrap node
tells pacemaker to restart all redis instances to take into
account the new TLS-e config; 2) a new container redis_tls_proxy
is started on every controller to encapsulate redis traffic in TLS
tunnels. This happens during step 2.

Redis servers have to be restarted everywhere for redis_tls_proxy
to be able to start tunnels properly. Since we can't guarantee that
across several nodes during the same step, tweak the startup of
redis_tls_proxy instead; make sure to only create the tunnels once
the targeted host:port can be bound (i.e. redis was restarted).

Change-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6
Closes-Bug: #1883096
(cherry picked from commit b91a1a09cb25f042adb7094947eb3416c80af88f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/743265/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'container_config_scripts/wait-port-and-run.sh', 'tools/yaml-validate.py']",4,e965239d60b6e2b76aeca0c0aa8ef8998029bbdd,bug/1883096-stable/train, # Omit if it is not a hiera config setting if path[1] in ['kolla_config']: continue ,,34,1
openstack%2Fhorizon~master~If8e58e8324bad919ea45d0ccb10e21371d97f470,openstack/horizon,master,If8e58e8324bad919ea45d0ccb10e21371d97f470,Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST,MERGED,2019-12-17 06:26:57.000000000,2020-07-28 17:29:58.000000000,2020-01-06 15:22:11.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-17 06:26:57.000000000', 'files': ['doc/source/configuration/settings.rst', 'releasenotes/notes/deprecate-nova-extensions-blacklist-b6285bf02c4011f8.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/523fbce3deeb7a79da34ad28e609ca25c3346c38', 'message': 'Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST\n\nAll of the nova API extensions have been mainlined several releases ago\nand there is no potential performance issue in the nova API.\nThis option is used only to toggle features in horizon and\nthere seems no performance issues controlled by the option in horizon.\nConsidering this situation, this option is deprecated now.\n\nChange-Id: If8e58e8324bad919ea45d0ccb10e21371d97f470\n'}]",0,699345,523fbce3deeb7a79da34ad28e609ca25c3346c38,9,3,1,841,,,0,"Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST

All of the nova API extensions have been mainlined several releases ago
and there is no potential performance issue in the nova API.
This option is used only to toggle features in horizon and
there seems no performance issues controlled by the option in horizon.
Considering this situation, this option is deprecated now.

Change-Id: If8e58e8324bad919ea45d0ccb10e21371d97f470
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/699345/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/settings.rst', 'releasenotes/notes/deprecate-nova-extensions-blacklist-b6285bf02c4011f8.yaml']",2,523fbce3deeb7a79da34ad28e609ca25c3346c38,deprecate-nova-ext-blacklist,"--- deprecations: - | ``OPENSTACK_NOVA_EXTENSIONS_BLACKLIST`` option is deprecated. All of the nova API extensions have been mainlined several releases ago and there is no potential performance issue in the nova API. This option is used only to toggle features in horizon and there seems no performance issues controlled by the option in horizon. Considering this situation, this option is deprecated now. ",,11,0
openstack%2Fopenstack-health~master~I9e39e88049d6fc775c365277fff9bb3f0bd16b93,openstack/openstack-health,master,I9e39e88049d6fc775c365277fff9bb3f0bd16b93,Use unittest.mock instead of third party mock,ABANDONED,2020-04-03 22:15:56.000000000,2020-07-28 17:20:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-04-03 22:15:56.000000000', 'files': ['openstack_health/tests/test_api.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/0909049d4ab3034fa168a4e4a0bcfb50f2f6e386', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I9e39e88049d6fc775c365277fff9bb3f0bd16b93\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,717412,0909049d4ab3034fa168a4e4a0bcfb50f2f6e386,7,3,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I9e39e88049d6fc775c365277fff9bb3f0bd16b93
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/12/717412/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_health/tests/test_api.py', 'test-requirements.txt']",2,0909049d4ab3034fa168a4e4a0bcfb50f2f6e386,unittest.mock,,mock>=2.0 # BSD,1,2
openstack%2Fkayobe~master~I3f96c877b24d4a400578dc618a6dc488c0fdeeef,openstack/kayobe,master,I3f96c877b24d4a400578dc618a6dc488c0fdeeef,Support configuration of Bifrost's Ironic extra kernel parameters,MERGED,2020-06-19 10:19:43.000000000,2020-07-28 17:12:09.000000000,2020-07-28 17:10:00.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-19 10:19:43.000000000', 'files': ['doc/source/configuration/bifrost.rst', 'etc/kayobe/bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'ansible/roles/kolla-bifrost/templates/bifrost.yml.j2', 'releasenotes/notes/bifrost-ironic-extra-kernel-params-e3e56a9dcdf24bb6.yaml', 'ansible/group_vars/all/bifrost'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5b44571248b6251942928538da5689ecf7b81abe', 'message': ""Support configuration of Bifrost's Ironic extra kernel parameters\n\nChange-Id: I3f96c877b24d4a400578dc618a6dc488c0fdeeef\nStory: 2001987\nTask: 19607\n""}]",0,736971,5b44571248b6251942928538da5689ecf7b81abe,9,4,1,15197,,,0,"Support configuration of Bifrost's Ironic extra kernel parameters

Change-Id: I3f96c877b24d4a400578dc618a6dc488c0fdeeef
Story: 2001987
Task: 19607
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/736971/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/bifrost.rst', 'etc/kayobe/bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'ansible/roles/kolla-bifrost/templates/bifrost.yml.j2', 'releasenotes/notes/bifrost-ironic-extra-kernel-params-e3e56a9dcdf24bb6.yaml', 'ansible/group_vars/all/bifrost']",6,5b44571248b6251942928538da5689ecf7b81abe,bifrost-kernel-options,# List of extra kernel parameters for Bifrost's Ironic PXE configuration. # Default is empty. kolla_bifrost_extra_kernel_options: [] ,,29,0
openstack%2Fironic-python-agent~master~I75f156dd76b0e3aaa1592ba24fe42fb2a7057cc8,openstack/ironic-python-agent,master,I75f156dd76b0e3aaa1592ba24fe42fb2a7057cc8,Allow erase_devices_metadata to be used as a deploy step,MERGED,2020-07-27 15:58:02.000000000,2020-07-28 17:08:57.000000000,2020-07-28 17:07:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-27 15:58:02.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/erase-deploy-step-3e952fa863bca908.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/eb8765149627f83384e8e639882c86c71b21b112', 'message': 'Allow erase_devices_metadata to be used as a deploy step\n\nChange-Id: I75f156dd76b0e3aaa1592ba24fe42fb2a7057cc8\nStory: #2006963\n'}]",0,743272,eb8765149627f83384e8e639882c86c71b21b112,14,5,1,10239,,,0,"Allow erase_devices_metadata to be used as a deploy step

Change-Id: I75f156dd76b0e3aaa1592ba24fe42fb2a7057cc8
Story: #2006963
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/72/743272/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/erase-deploy-step-3e952fa863bca908.yaml']",3,eb8765149627f83384e8e639882c86c71b21b112,story/2006963,--- features: - | The ``deploy.erase_devices_metadata`` clean step can now also be used as a deploy step. ,,19,0
openstack%2Fbifrost~master~I6771015f2b062233eeff85704655c8e2ab64364d,openstack/bifrost,master,I6771015f2b062233eeff85704655c8e2ab64364d,Use random passwords by default,MERGED,2020-07-21 14:15:54.000000000,2020-07-28 17:07:19.000000000,2020-07-28 17:05:33.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 14:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/89f32c574914ebcf21e88145be37b9df8f973649', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 2, 'created': '2020-07-21 14:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f380cbcf1bc2f632a3854278a8f330a05b630748', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 3, 'created': '2020-07-21 14:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b154fd73321e6bcfaaf530981183c8efd26f3ca2', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 4, 'created': '2020-07-22 10:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8d39cd53dc4e8a8b3383c7ee1bfed23cddcff70d', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 5, 'created': '2020-07-22 11:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6f73eabb51aa2c64f84973bfe26e0710d99e0e92', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 6, 'created': '2020-07-22 12:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4af97991918d9fcfa8ed4662bea57048f64c42ee', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 7, 'created': '2020-07-22 13:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b5b6814fc9a58df65aa947c6971b7b0a727812b3', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 8, 'created': '2020-07-22 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f76166758ffa6583db2f67d5e51f287638e29e9', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 9, 'created': '2020-07-22 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fd3c97a7251bc8381b1c370ffa3b0cc0a7c2beeb', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 10, 'created': '2020-07-22 14:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e08ed583ee2c3c29cf5a8e826a9e92c20573fb51', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 11, 'created': '2020-07-22 14:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e4bab9277874668d9ba6d4d6ed17466b3626d606', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 12, 'created': '2020-07-25 12:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/352413e61ad1ae99f415a222d2ae43a6de19df92', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}, {'number': 13, 'created': '2020-07-25 19:59:12.000000000', 'files': ['playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-keystone-client-config/templates/openrc.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'doc/source/install/keystone.rst', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'releasenotes/notes/random-passwords-b33b8de010ee82b6.yaml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2a6fc72559a8248aebc32dd52e19bdb38db17c40', 'message': ""Use random passwords by default\n\nIt's easy to forget to override them, and you'll end up with a well known\npassword used in your keystone and database. Use the password module\nto generate secure random passwords instead. Operators of production\nenvironments are still expected to provide their own passwords.\n\nThe generated passwords are stored in /etc/bifrost and reused on the next\ninstallation. A new task is provided for upgrading the bootstrap (admin)\nuser in keystone to the new password.\n\nChange-Id: I6771015f2b062233eeff85704655c8e2ab64364d\n""}]",0,742203,2a6fc72559a8248aebc32dd52e19bdb38db17c40,30,5,13,10239,,,0,"Use random passwords by default

It's easy to forget to override them, and you'll end up with a well known
password used in your keystone and database. Use the password module
to generate secure random passwords instead. Operators of production
environments are still expected to provide their own passwords.

The generated passwords are stored in /etc/bifrost and reused on the next
installation. A new task is provided for upgrading the bootstrap (admin)
user in keystone to the new password.

Change-Id: I6771015f2b062233eeff85704655c8e2ab64364d
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/03/742203/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/random-passwords-b33b8de010ee82b6.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml']",3,89f32c574914ebcf21e88145be37b9df8f973649,passwords,"admin_username: admin admin_password: ""{{ lookup('password', bifrost_venv_dir + '/admin-password') }}"" service_password: ""{{ lookup('password', bifrost_venv_dir + '/service-password') }}"" username: ""{{ admin_username }}"" password: ""{{ admin_password }}"" password: ""{{ service_password }}"" password: ""{{ service_password }}""", username: admin password: ChangeThisPa55w0rd password: ChangeThisPa55w0rd password: ChangeThisPa55w0rd,50,48
openstack%2Fbarbican~master~I4c8528ad1b6f8f1a22975bb571c1b7d7707b6347,openstack/barbican,master,I4c8528ad1b6f8f1a22975bb571c1b7d7707b6347,delete invalid url in README.rst,MERGED,2020-05-18 07:07:42.000000000,2020-07-28 16:56:18.000000000,2020-07-28 16:54:45.000000000,"[{'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 27383}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-05-18 07:07:42.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2f157e09b6839c657646bbe17ff96bf9ad84af9c', 'message': 'delete invalid url in README.rst\n\nChange-Id: I4c8528ad1b6f8f1a22975bb571c1b7d7707b6347\n'}]",0,728754,2f157e09b6839c657646bbe17ff96bf9ad84af9c,10,13,1,27383,,,0,"delete invalid url in README.rst

Change-Id: I4c8528ad1b6f8f1a22975bb571c1b7d7707b6347
",git fetch https://review.opendev.org/openstack/barbican refs/changes/54/728754/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2f157e09b6839c657646bbe17ff96bf9ad84af9c,fix_url, of `policies for all secrets`., of `policies for all secrets <https://github.com/cloudkeep/barbican/wiki/Policies>`_.,1,2
openstack%2Fmanila~stable%2Ftrain~I67ac549e790322c56d02db4424ec01a5449e6633,openstack/manila,stable/train,I67ac549e790322c56d02db4424ec01a5449e6633,Don't restore. Dummy change,ABANDONED,2020-07-21 21:38:30.000000000,2020-07-28 16:55:11.000000000,,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}]","[{'number': 1, 'created': '2020-07-21 21:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4e6a54fe747418d09a245cc40415cc9c5363680e', 'message': 'Update LVM volume extend\n\n- do *not* skip fsck when extending\n- have extend resize the filesystem itself\n  rather than making a separate execution\n  of ``resize2fs``\n\nCloses-bug: #1887694\nChange-Id: I67ac549e790322c56d02db4424ec01a5449e6633\n(cherry picked from commit 2a3c18edcd9c4f7def293f18a6cac286ec00bc49)\n'}, {'number': 2, 'created': '2020-07-28 16:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/528357bed6640fe28557832e1a6a3c6a1de2cff9', 'message': ""Don't restore. Dummy change\n\nChange-Id: I67ac549e790322c56d02db4424ec01a5449e6699\n""}]",0,742290,528357bed6640fe28557832e1a6a3c6a1de2cff9,10,3,2,16643,,,0,"Don't restore. Dummy change

Change-Id: I67ac549e790322c56d02db4424ec01a5449e6699
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/742290/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",2,4e6a54fe747418d09a245cc40415cc9c5363680e,bug/1887694," cmd = ['lvextend', '-L', '%sG' % size, '-r', device_name]"," cmd = ['lvextend', '-L', '%sG' % size, '-n', device_name] self._execute('resize2fs', device_name, run_as_root=True)",2,5
openstack%2Fkayobe~master~Ib27deac4ddf4976a571b192ee5d1b8ca57701916,openstack/kayobe,master,Ib27deac4ddf4976a571b192ee5d1b8ca57701916,Add support for custom options in static routes,MERGED,2020-06-19 11:08:00.000000000,2020-07-28 16:54:10.000000000,2020-07-28 16:50:28.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-19 11:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c1e00fff38e1609d7c2ce968233bee930db626ba', 'message': ""Add support for custom options in static routes\n\nCurrently it is possible to set the CIDR, gateway and route table for\nstatic routes. Other options cannot be set. This change adds support for\nsetting arbitrary options via an 'options' attribute in the route, which\nshould be a list of additional options to apply.\n\nDepends on\nhttps://github.com/michaelrigart/ansible-role-interfaces/pull/74.\n\nStory: 2007835\nTask: 40122\n\nChange-Id: Ib27deac4ddf4976a571b192ee5d1b8ca57701916\n""}, {'number': 2, 'created': '2020-07-08 17:26:02.000000000', 'files': ['ansible/filter_plugins/networks.py', 'releasenotes/notes/custom-route-options-2ed446961262a34a.yaml', 'requirements.yml', 'doc/source/configuration/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2b86fd9945cbee93eb5c74772cf6a66b87158db8', 'message': ""Add support for custom options in static routes\n\nCurrently it is possible to set the CIDR, gateway and route table for\nstatic routes. Other options cannot be set. This change adds support for\nsetting arbitrary options via an 'options' attribute in the route, which\nshould be a list of additional options to apply.\n\nDepends on\nhttps://github.com/michaelrigart/ansible-role-interfaces/pull/74.\n\nStory: 2007835\nTask: 40122\n\nChange-Id: Ib27deac4ddf4976a571b192ee5d1b8ca57701916\n""}]",0,736976,2b86fd9945cbee93eb5c74772cf6a66b87158db8,14,5,2,14826,,,0,"Add support for custom options in static routes

Currently it is possible to set the CIDR, gateway and route table for
static routes. Other options cannot be set. This change adds support for
setting arbitrary options via an 'options' attribute in the route, which
should be a list of additional options to apply.

Depends on
https://github.com/michaelrigart/ansible-role-interfaces/pull/74.

Story: 2007835
Task: 40122

Change-Id: Ib27deac4ddf4976a571b192ee5d1b8ca57701916
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/76/736976/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/filter_plugins/networks.py', 'releasenotes/notes/custom-route-options-2ed446961262a34a.yaml', 'requirements.yml', 'doc/source/configuration/network.rst']",4,c1e00fff38e1609d7c2ce968233bee930db626ba,custom-route-options," item ``cidr``, and optionally ``gateway``, ``table`` and ``options``. ``cidr`` is the CIDR representation of the route's destination. ``gateway`` is the IP address of the next hop. ``table`` is the name or ID of a routing table to which the route will be added. ``options`` is a list of option strings to add to the route.If necessary, custom options may be added to the route: .. code-block:: yaml :caption: ``networks.yml`` example_routes: - cidr: 10.1.0.0/24 gateway: 10.0.0.1 options: - onlink - metric 400 "," item ``cidr``, and optionally ``gateway`` and ``table``. ``cidr`` is the CIDR representation of the route's destination. ``gateway`` is the IP address of the next hop. ``table`` is the name or ID of a routing table to which the route will be added.",26,6
openstack%2Fcharm-glance-simplestreams-sync~master~I44e4f9d41433f23f71684e10e28fd5b01d8fa5f1,openstack/charm-glance-simplestreams-sync,master,I44e4f9d41433f23f71684e10e28fd5b01d8fa5f1,Release sync for 20.08,MERGED,2020-07-27 19:52:27.000000000,2020-07-28 16:41:53.000000000,2020-07-28 16:41:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f56aa965da5286fe3a87a8901a3bcb1682221a72', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I44e4f9d41433f23f71684e10e28fd5b01d8fa5f1\n'}, {'number': 2, 'created': '2020-07-28 09:35:55.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'files/glance_simplestreams_sync.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/7c27ca366d4f167619c1d8361888500cbf4b606c', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n- Fix style error due to W503\n\nChange-Id: I44e4f9d41433f23f71684e10e28fd5b01d8fa5f1\n'}]",0,743351,7c27ca366d4f167619c1d8361888500cbf4b606c,13,3,2,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt
- Fix style error due to W503

Change-Id: I44e4f9d41433f23f71684e10e28fd5b01d8fa5f1
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/51/743351/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'test-requirements.txt', 'charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini', 'charmhelpers/__init__.py']",9,f56aa965da5286fe3a87a8901a3bcb1682221a72,batch-2008-release-sync," The date which is a string in semi-ISO8660 format indicates the year-month :param warning: String to indicate what is to be used instead. :param date: Optional string in YYYY-MM format to indicate when the :param log: The log function to call in order to log. If None, logs to stdout"," The date, which is a string in semi-ISO8660 format indicate the year-month :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the :param log: The log function to call to log. If not, logs to stdout",69,27
openstack%2Fcharm-neutron-api-plugin-ovn~master~I6f5b40ed335db16d112d0b7db93c43405df425ed,openstack/charm-neutron-api-plugin-ovn,master,I6f5b40ed335db16d112d0b7db93c43405df425ed,Release sync for 20.08,MERGED,2020-07-27 19:55:49.000000000,2020-07-28 16:41:43.000000000,2020-07-28 16:41:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:55:49.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/4751846159230819eada85820fc97c0a3ecf2d64', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I6f5b40ed335db16d112d0b7db93c43405df425ed\n'}]",0,743368,4751846159230819eada85820fc97c0a3ecf2d64,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I6f5b40ed335db16d112d0b7db93c43405df425ed
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/68/743368/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,4751846159230819eada85820fc97c0a3ecf2d64,batch-2008-release-sync,# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = False LAYER_PATH={toxinidir}/layers INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYcommands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} stestr run --slowest {posargs},# within individual charm repos. CHARM_LAYERS_DIR={toxinidir}/layers CHARM_INTERFACES_DIR={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATHcommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs},68,28
openstack%2Fmanila~stable%2Frocky~I077d12785f94c940716f0e479d43dbb29ddc3c3c,openstack/manila,stable/rocky,I077d12785f94c940716f0e479d43dbb29ddc3c3c,[devstack] Allow cephfs daemon port access,MERGED,2020-06-22 18:56:51.000000000,2020-07-28 16:37:35.000000000,2020-07-28 16:37:35.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-06-22 18:56:51.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/58f1f2107345940ab3e174072c11a21885feab35', 'message': ""[devstack] Allow cephfs daemon port access\n\nIf the cephfs protocol is enabled, clients\nneed to access the ceph daemons.\n\nWe also don't need to enable access to NFS\nports when not using NFS.\n\nChange-Id: I077d12785f94c940716f0e479d43dbb29ddc3c3c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 341b5777b2350cf07d06327e998394f3795cb283)\n(cherry picked from commit 5d1c30676e8deb906eddc59852a9b1b60d3ee7d6)\n(cherry picked from commit 51b918a86a6481b181f562d8f5b31ab99bf62572)\n(cherry picked from commit b983eda9037a8ad3389d44d91bf817468841b23f)\n""}]",0,737357,58f1f2107345940ab3e174072c11a21885feab35,17,6,1,16643,,,0,"[devstack] Allow cephfs daemon port access

If the cephfs protocol is enabled, clients
need to access the ceph daemons.

We also don't need to enable access to NFS
ports when not using NFS.

Change-Id: I077d12785f94c940716f0e479d43dbb29ddc3c3c
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 341b5777b2350cf07d06327e998394f3795cb283)
(cherry picked from commit 5d1c30676e8deb906eddc59852a9b1b60d3ee7d6)
(cherry picked from commit 51b918a86a6481b181f562d8f5b31ab99bf62572)
(cherry picked from commit b983eda9037a8ad3389d44d91bf817468841b23f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/737357/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,58f1f2107345940ab3e174072c11a21885feab35,improve-host-port-rules," if [[ $MANILA_ENABLED_SHARE_PROTOCOLS =~ NFS ]]; then # 111 and 2049 are for rpcbind and NFS # Other ports are for NFSv3 statd, mountd and lockd daemons MANILA_TCP_PORTS=(2049 111 32803 892 875 662) MANILA_UDP_PORTS=(111 32769 892 875 662) fi if [[ $MANILA_ENABLED_SHARE_PROTOCOLS =~ CEPHFS ]]; then # clients need access to the ceph daemons MANILA_TCP_PORTS=(${MANILA_TCP_PORTS[*]} 6789 6800:7300) fi if [[ -v MANILA_TCP_PORTS || -v MANILA_UDP_PORTS ]]; then for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-storage sudo $ipcmd -I INPUT 1 -j manila-storage for port in ${MANILA_TCP_PORTS[*]}; do sudo $ipcmd -A manila-storage -m tcp -p tcp --dport $port -j ACCEPT done for port in ${MANILA_UDP_PORTS[*]}; do sudo $ipcmd -A manila-storage -m udp -p udp --dport $port -j ACCEPT done fi", TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do # (aovchinnikov): extra rules are needed to allow instances talk to # host. sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done done,22,13
openstack%2Fkolla~stable%2Ftrain~Ia980be14fdf9c4fc15bb379b940ae491de035725,openstack/kolla,stable/train,Ia980be14fdf9c4fc15bb379b940ae491de035725,Fix masakari-monitors image on CentOS 8,MERGED,2020-07-27 09:41:03.000000000,2020-07-28 16:37:24.000000000,2020-07-28 16:35:20.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-27 09:41:03.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/fix-masakari-monitors-centos8-6b030ab9531505be.yaml', 'docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3e2da2e92302a7ba2eca2bc394529b0eeb24358', 'message': 'Fix masakari-monitors image on CentOS 8\n\nTrain only.\n\nThe version of libvirt-python allowed by upper-constraints in Train\n(5.7.0) does not support CentOS 8. This prevented the masakari-monitors\nimage from building.\n\nThis change modifies the upper constraints file in the masakari-monitors\nimage to use 5.10.0, the earliest version that does support CentOS 8.\n\nChange-Id: Ia980be14fdf9c4fc15bb379b940ae491de035725\n'}]",0,743178,e3e2da2e92302a7ba2eca2bc394529b0eeb24358,8,3,1,14826,,,0,"Fix masakari-monitors image on CentOS 8

Train only.

The version of libvirt-python allowed by upper-constraints in Train
(5.7.0) does not support CentOS 8. This prevented the masakari-monitors
image from building.

This change modifies the upper constraints file in the masakari-monitors
image to use 5.10.0, the earliest version that does support CentOS 8.

Change-Id: Ia980be14fdf9c4fc15bb379b940ae491de035725
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/743178/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/fix-masakari-monitors-centos8-6b030ab9531505be.yaml', 'docker/masakari/masakari-monitors/Dockerfile.j2']",3,e3e2da2e92302a7ba2eca2bc394529b0eeb24358,, {% if distro_package_manager == 'dnf' %}&& sed -i -e 's/libvirt-python===.*/libvirt-python===5.10.0/' /requirements/upper-constraints.txt {% endif %}\,,5,1
openstack%2Foslo.messaging~master~I9235560667f664643007b8ca0be1707eab4126ad,openstack/oslo.messaging,master,I9235560667f664643007b8ca0be1707eab4126ad,Bump bandit version,MERGED,2020-07-24 15:34:38.000000000,2020-07-28 16:34:29.000000000,2020-07-28 16:25:34.000000000,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/09f098c519fb8446c5612db3f34174078f245ec9', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I9235560667f664643007b8ca0be1707eab4126ad\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-25 09:48:02.000000000', 'files': ['test-requirements.txt', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6659cb8d192d127f314dcf8e6036b2f59b3c3540', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I9235560667f664643007b8ca0be1707eab4126ad\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742917,6659cb8d192d127f314dcf8e6036b2f59b3c3540,12,4,2,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I9235560667f664643007b8ca0be1707eab4126ad
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/17/742917/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,09f098c519fb8446c5612db3f34174078f245ec9,bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fdevstack-plugin-nfs~master~Ia65c0739f9e8454e7bc8ada7cc076f42c68fe7ce,openstack/devstack-plugin-nfs,master,Ia65c0739f9e8454e7bc8ada7cc076f42c68fe7ce,Migrate devstack-plugin-nfs jobs to focal,MERGED,2020-07-09 20:51:33.000000000,2020-07-28 16:32:43.000000000,2020-07-28 16:26:25.000000000,"[{'_account_id': 4523}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 20:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/99206520d39810c9322a39f532c14e745d5650bf', 'message': 'Migrate devstack-plugin-nfs jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\ndevstack-plugin-nfs jobs will be migrate automatically to Focal\nonce devstack base job start running on Focal(Depends-On).\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nDepends-On: https://review.opendev.org/#/c/734700\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Ia65c0739f9e8454e7bc8ada7cc076f42c68fe7ce\n'}, {'number': 2, 'created': '2020-07-26 22:24:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/8313334259e5dc66631c1d17594109b75f84b58c', 'message': 'Migrate devstack-plugin-nfs jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\ndevstack-plugin-nfs jobs will be migrate automatically to Focal\nonce devstack base job start running on Focal(Depends-On).\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Ia65c0739f9e8454e7bc8ada7cc076f42c68fe7ce\n'}]",2,740375,8313334259e5dc66631c1d17594109b75f84b58c,26,6,2,8556,,,0,"Migrate devstack-plugin-nfs jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

devstack-plugin-nfs jobs will be migrate automatically to Focal
once devstack base job start running on Focal(Depends-On).

stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.


[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: Ia65c0739f9e8454e7bc8ada7cc076f42c68fe7ce
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/75/740375/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,99206520d39810c9322a39f532c14e745d5650bf,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic,,3,0
openstack%2Fironic~master~I2231de30778a2ab3adffa8a5b68ff7216717534c,openstack/ironic,master,I2231de30778a2ab3adffa8a5b68ff7216717534c,Make the final deploy step validation actually fail deploy,MERGED,2020-07-27 15:52:18.000000000,2020-07-28 16:19:59.000000000,2020-07-28 15:56:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-27 15:52:18.000000000', 'files': ['releasenotes/notes/deploy-step-validate-76b2aa97e02ba669.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1e079caec1a6a9026d687cb87acc6e228f8e4bf', 'message': 'Make the final deploy step validation actually fail deploy\n\nSince continue_node_deploy is an async RPC call, currently it ends up\njust logging InvalidParameterValue, making deployment hang.\n\nRelated Story: #2006963\n\nChange-Id: I2231de30778a2ab3adffa8a5b68ff7216717534c\n'}]",0,743266,a1e079caec1a6a9026d687cb87acc6e228f8e4bf,17,7,1,10239,,,0,"Make the final deploy step validation actually fail deploy

Since continue_node_deploy is an async RPC call, currently it ends up
just logging InvalidParameterValue, making deployment hang.

Related Story: #2006963

Change-Id: I2231de30778a2ab3adffa8a5b68ff7216717534c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/743266/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deploy-step-validate-76b2aa97e02ba669.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py']",3,a1e079caec1a6a9026d687cb87acc6e228f8e4bf,story/2006963," @mock.patch.object(conductor_steps, 'validate_deploy_templates', autospec=True) @mock.patch('ironic.conductor.manager.ConductorManager._spawn_worker', autospec=True) def test_continue_node_steps_validation(self, mock_spawn, mock_validate): prv_state = states.DEPLOYWAIT tgt_prv_state = states.ACTIVE mock_validate.side_effect = exception.InvalidParameterValue('boom') driver_info = {'deploy_steps': self.deploy_steps, 'deploy_step_index': 0, 'steps_validated': False} node = obj_utils.create_test_node(self.context, driver='fake-hardware', provision_state=prv_state, target_provision_state=tgt_prv_state, last_error=None, driver_internal_info=driver_info, deploy_step=self.deploy_steps[0]) self._start_service() mock_spawn.reset_mock() self.service.continue_node_deploy(self.context, node.uuid) self._stop_service() node.refresh() self.assertEqual(states.DEPLOYFAIL, node.provision_state) self.assertIn('Failed to validate the final deploy steps', node.last_error) self.assertIn('boom', node.last_error) self.assertEqual(tgt_prv_state, node.target_provision_state) self.assertFalse(mock_spawn.called) ",,43,3
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fussuri~I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d,openstack/openstack-ansible-os_ceilometer,stable/ussuri,I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d,Add centos-8 and ubuntu focal support,MERGED,2020-07-27 18:38:28.000000000,2020-07-28 16:09:31.000000000,2020-07-28 16:01:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:38:28.000000000', 'files': ['vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/7a7b13f2efe1bbb00c425fa6c9f1e7715627f203', 'message': ""Add centos-8 and ubuntu focal support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\nAlso as we've fully migrated to py3, no need to install py2 libraries.\n\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n(cherry picked from commit 9ae178f3123fb54577ad35eadc4a834c2d1af23c)\n""}]",0,743313,7a7b13f2efe1bbb00c425fa6c9f1e7715627f203,8,4,1,25023,,,0,"Add centos-8 and ubuntu focal support

we need separate redhat-8.yml file to handle libvirt libraries condition.
Also as we've fully migrated to py3, no need to install py2 libraries.

Change-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d
(cherry picked from commit 9ae178f3123fb54577ad35eadc4a834c2d1af23c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/13/743313/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'zuul.d/project.yaml']",4,7a7b13f2efe1bbb00c425fa6c9f1e7715627f203,osa/el8-stable/ussuri, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false,,55,11
openstack%2Fironic-inspector~stable%2Fussuri~I814b12cbc05c6a110dc5593113b948e3f89e80c1,openstack/ironic-inspector,stable/ussuri,I814b12cbc05c6a110dc5593113b948e3f89e80c1,Make inspector base CI job use 2 CPUs,MERGED,2020-07-13 18:54:49.000000000,2020-07-28 16:06:55.000000000,2020-07-28 15:56:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-13 18:54:49.000000000', 'files': ['zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/19e0281bd8e3372690516b5ad3be2f11c0ca3aa3', 'message': 'Make inspector base CI job use 2 CPUs\n\nUncompressing the ramdisk on a single core CPU can take a\nsubstantial amount of time and elongate the overall initial\nperiod between VM start and OS becoming operational.\n\nAdditionally, multiple CPUs allows for the software with-in\nthe job to execute more quickly with multiple running processes.\n\nChange-Id: I814b12cbc05c6a110dc5593113b948e3f89e80c1\n'}]",0,740747,19e0281bd8e3372690516b5ad3be2f11c0ca3aa3,29,6,1,11655,,,0,"Make inspector base CI job use 2 CPUs

Uncompressing the ramdisk on a single core CPU can take a
substantial amount of time and elongate the overall initial
period between VM start and OS becoming operational.

Additionally, multiple CPUs allows for the software with-in
the job to execute more quickly with multiple running processes.

Change-Id: I814b12cbc05c6a110dc5593113b948e3f89e80c1
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/47/740747/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,19e0281bd8e3372690516b5ad3be2f11c0ca3aa3,740344-stable/ussuri, IRONIC_VM_SPECS_CPU: 2,,1,0
openstack%2Fmonasca-transform~master~I67ec6c5ea47b927e2ef44864afa9313e0956a90b,openstack/monasca-transform,master,I67ec6c5ea47b927e2ef44864afa9313e0956a90b,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:26:19.000000000,2020-07-28 16:06:47.000000000,2020-07-28 16:06:47.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-12 03:26:19.000000000', 'files': ['tests/functional/builder/test_transform_builder.py', 'tests/functional/usage/test_usage_component.py', 'tests/functional/setter/test_set_aggregated_metric_name.py', 'tests/functional/setter/test_setter_component.py'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/326483ee4cc3831490d035758821a3b85641bed0', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I67ec6c5ea47b927e2ef44864afa9313e0956a90b\n""}]",0,740574,326483ee4cc3831490d035758821a3b85641bed0,7,3,1,30356,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I67ec6c5ea47b927e2ef44864afa9313e0956a90b
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/74/740574/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/builder/test_transform_builder.py', 'tests/functional/usage/test_usage_component.py', 'tests/functional/setter/test_set_aggregated_metric_name.py', 'tests/functional/setter/test_setter_component.py']",4,326483ee4cc3831490d035758821a3b85641bed0,," self.assertCountEqual(result_list, expected_result)"," self.assertItemsEqual(result_list, expected_result)",4,4
openstack%2Fopenstack-ansible-os_octavia~stable%2Fussuri~I1f11ba98140b0fef396dcb1d8af4609e35f79104,openstack/openstack-ansible-os_octavia,stable/ussuri,I1f11ba98140b0fef396dcb1d8af4609e35f79104,Add centos-8 support,MERGED,2020-07-27 18:38:18.000000000,2020-07-28 16:01:21.000000000,2020-07-28 15:55:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:38:18.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/55d1371a7f76c386f35e6ebb9869c5f4d2fed20a', 'message': 'Add centos-8 support\n\nReverting systemd-devel\n\nChange-Id: I1f11ba98140b0fef396dcb1d8af4609e35f79104\n(cherry picked from commit 9c108039ffea744a24651448ab32ce4c07abfb98)\n'}]",0,743312,55d1371a7f76c386f35e6ebb9869c5f4d2fed20a,8,4,1,25023,,,0,"Add centos-8 support

Reverting systemd-devel

Change-Id: I1f11ba98140b0fef396dcb1d8af4609e35f79104
(cherry picked from commit 9c108039ffea744a24651448ab32ce4c07abfb98)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/12/743312/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,55d1371a7f76c386f35e6ebb9869c5f4d2fed20a,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Fopenstack-ansible-os_aodh~stable%2Fussuri~Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878,openstack/openstack-ansible-os_aodh,stable/ussuri,Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878,Add centos-8 support,MERGED,2020-07-27 18:37:54.000000000,2020-07-28 16:01:16.000000000,2020-07-28 15:50:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:37:54.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/6c01755fe8b75f1ef591b65578c30e89f7ea22fc', 'message': 'Add centos-8 support\n\nChange-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878\n(cherry picked from commit daf883d3170cfb49443a2978fcf78823e9ce227a)\n'}]",0,743310,6c01755fe8b75f1ef591b65578c30e89f7ea22fc,8,4,1,25023,,,0,"Add centos-8 support

Change-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878
(cherry picked from commit daf883d3170cfb49443a2978fcf78823e9ce227a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/10/743310/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'zuul.d/project.yaml']",2,6c01755fe8b75f1ef591b65578c30e89f7ea22fc,osa/el8-stable/ussuri, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,,17,1
openstack%2Fkolla-ansible~stable%2Fussuri~I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,openstack/kolla-ansible,stable/ussuri,I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,fluentd: log to a file instead of stdout,MERGED,2020-07-28 05:48:29.000000000,2020-07-28 15:55:52.000000000,2020-07-28 15:50:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 05:48:29.000000000', 'files': ['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a38592ebff44181b518bd40072ce2007d3893fc', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nCloses-Bug: #1888852\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n(cherry picked from commit 696533f22883d0b23f4a428dbdf5e22f3f1910ea)\n'}]",0,743456,9a38592ebff44181b518bd40072ce2007d3893fc,9,3,1,22629,,,0,"fluentd: log to a file instead of stdout

fluentd logs currently to stdout, which is known to produce big docker logs
in /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.

Closes-Bug: #1888852
Change-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90
(cherry picked from commit 696533f22883d0b23f4a428dbdf5e22f3f1910ea)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/743456/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2']",4,9a38592ebff44181b518bd40072ce2007d3893fc,fluentd_log_to_file-stable/ussuri,"""/var/log/kolla/fluentd/*.log"" { } ",,15,1
openstack%2Fopenstack-ansible-os_sahara~stable%2Fussuri~Ia5ad3a561615378d8de854ece5117ca7c8aca795,openstack/openstack-ansible-os_sahara,stable/ussuri,Ia5ad3a561615378d8de854ece5117ca7c8aca795,Add centos-8 support,MERGED,2020-07-27 18:37:03.000000000,2020-07-28 15:48:46.000000000,2020-07-28 15:47:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:37:03.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/d85a25d169706c65ebdcd3b7c73702eb34160065', 'message': 'Add centos-8 support\n\nReverting systemd-devel\n\nChange-Id: Ia5ad3a561615378d8de854ece5117ca7c8aca795\n(cherry picked from commit e48f0bcb0334ac236204586d3c28504d0e0b8e62)\n'}]",0,743307,d85a25d169706c65ebdcd3b7c73702eb34160065,8,4,1,25023,,,0,"Add centos-8 support

Reverting systemd-devel

Change-Id: Ia5ad3a561615378d8de854ece5117ca7c8aca795
(cherry picked from commit e48f0bcb0334ac236204586d3c28504d0e0b8e62)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/07/743307/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,d85a25d169706c65ebdcd3b7c73702eb34160065,osa/el8-stable/ussuri,,,0,0
openstack%2Fopenstack-ansible-os_blazar~stable%2Fussuri~I91c3b848bb0967d282742113d16326018aa7f7b9,openstack/openstack-ansible-os_blazar,stable/ussuri,I91c3b848bb0967d282742113d16326018aa7f7b9,Add centos-8 support,MERGED,2020-07-27 18:37:46.000000000,2020-07-28 15:34:36.000000000,2020-07-28 15:32:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:37:46.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/14759e5b63a0475a7f8863411adc7128e27205cf', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support with python3-antlr3 for debian distro.\n\nChange-Id: I91c3b848bb0967d282742113d16326018aa7f7b9\n(cherry picked from commit f00ced3c380bbffea9b56c280793bbadf1ecfad2)\n'}]",0,743309,14759e5b63a0475a7f8863411adc7128e27205cf,8,4,1,25023,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support with python3-antlr3 for debian distro.

Change-Id: I91c3b848bb0967d282742113d16326018aa7f7b9
(cherry picked from commit f00ced3c380bbffea9b56c280793bbadf1ecfad2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/09/743309/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,14759e5b63a0475a7f8863411adc7128e27205cf,osa/el8-stable/ussuri, - python3-dev - python3-antlr3 - python3-setuptools - python3-mysqldb - python3-systemd, - python-dev - python-antlr3 - python-setuptools - python-mysqldb - python-systemd,5,5
openstack%2Fopenstack-ansible-os_tacker~stable%2Fussuri~If16832b24c89a02d04abd947688f291c0d50c7e9,openstack/openstack-ansible-os_tacker,stable/ussuri,If16832b24c89a02d04abd947688f291c0d50c7e9,Add centos-8 support,MERGED,2020-07-27 18:37:32.000000000,2020-07-28 15:33:32.000000000,2020-07-28 15:31:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-27 18:37:32.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/5ef62fa3e81660a2d203dd7099c01075239b5671', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: If16832b24c89a02d04abd947688f291c0d50c7e9\n(cherry picked from commit b5ddb23860adfa4a76b05cd7701f27fe412097a7)\n'}]",0,743308,5ef62fa3e81660a2d203dd7099c01075239b5671,8,4,1,25023,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: If16832b24c89a02d04abd947688f291c0d50c7e9
(cherry picked from commit b5ddb23860adfa4a76b05cd7701f27fe412097a7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/08/743308/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5ef62fa3e81660a2d203dd7099c01075239b5671,osa/el8-stable/ussuri,,,0,0
openstack%2Fmanila~stable%2Fussuri~I24cda6be69ef9258c6c637be48be32b93d835e0a,openstack/manila,stable/ussuri,I24cda6be69ef9258c6c637be48be32b93d835e0a,[NetApp] Fix default ipspace deletion issue,MERGED,2020-05-29 18:25:36.000000000,2020-07-28 15:23:43.000000000,2020-07-21 21:07:05.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-05-29 18:25:36.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1880747-netapp-fix-do-not-delete-default-ipspace-aee638279e0f8e93.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/2fe7452b1bf8b8975dcd663db3ecce98b5fb499c', 'message': '[NetApp] Fix default ipspace deletion issue\n\nThe NetApp driver is fixed to avoid the deletion of cluster\nipspaces when deleting a share server. Now the share server\ndeletion skip ipspace removal if the ipspace is one of the\nfollowing: Cluster or Default.\n\nChange-Id: I24cda6be69ef9258c6c637be48be32b93d835e0a\nCloses-Bug: #1880747\n(cherry picked from commit dbe34c08e2278eb472bc2cbf7f086d6deff7cab2)\n'}]",0,731828,2fe7452b1bf8b8975dcd663db3ecce98b5fb499c,19,7,1,30002,,,0,"[NetApp] Fix default ipspace deletion issue

The NetApp driver is fixed to avoid the deletion of cluster
ipspaces when deleting a share server. Now the share server
deletion skip ipspace removal if the ipspace is one of the
following: Cluster or Default.

Change-Id: I24cda6be69ef9258c6c637be48be32b93d835e0a
Closes-Bug: #1880747
(cherry picked from commit dbe34c08e2278eb472bc2cbf7f086d6deff7cab2)
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/731828/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1880747-netapp-fix-do-not-delete-default-ipspace-aee638279e0f8e93.yaml']",2,2fe7452b1bf8b8975dcd663db3ecce98b5fb499c,bug/1880747,--- fixes: - | NetApp ONTAP driver is now fixed to avoid the deletion of `Cluster` and `Default` ipspaces when deleting a share server. This issue was happening only when operating in `driver_handles_share_servers` enabled mode and creating shares using `flat` network type. See `Launchpad bug 1880747 <https://launchpad.net/bugs/1880747>`_ for more details. ,,13,2
openstack%2Fopenstack-ansible~stable%2Fussuri~I57ad90da8f2547a693a1ffd78bfa702e8d67add6,openstack/openstack-ansible,stable/ussuri,I57ad90da8f2547a693a1ffd78bfa702e8d67add6,Fix mysql binary name,MERGED,2020-07-24 10:01:32.000000000,2020-07-28 15:11:43.000000000,2020-07-28 15:08:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-24 10:01:32.000000000', 'files': ['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3a0384e24922b22335b829c75195a95ed8b3c3d', 'message': 'Fix mysql binary name\n\nWith upgrade of mariadb to 10.4, mysql service is not present anymore\nfor CentOS in case of upgrade from 10.3.\n\nChange-Id: I57ad90da8f2547a693a1ffd78bfa702e8d67add6\n(cherry picked from commit dfc5f0f1059fb1daed722a70f3dca146135a38a0)\n'}]",0,742841,e3a0384e24922b22335b829c75195a95ed8b3c3d,10,4,1,28619,,,0,"Fix mysql binary name

With upgrade of mariadb to 10.4, mysql service is not present anymore
for CentOS in case of upgrade from 10.3.

Change-Id: I57ad90da8f2547a693a1ffd78bfa702e8d67add6
(cherry picked from commit dfc5f0f1059fb1daed722a70f3dca146135a38a0)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/742841/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'],1,e3a0384e24922b22335b829c75195a95ed8b3c3d,, name: mariadb name: mariadb, name: mysql name: mysql,2,2
openstack%2Fopenstack-ansible~master~I83bbc020df87d3354fe7bb08df8b45fcad831a43,openstack/openstack-ansible,master,I83bbc020df87d3354fe7bb08df8b45fcad831a43,Imported Translations from Zanata,MERGED,2020-07-27 08:15:36.000000000,2020-07-28 15:11:02.000000000,2020-07-28 15:08:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-07-27 08:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/399cc3521b7819bd4f6f673070bbdef924e72bb6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I83bbc020df87d3354fe7bb08df8b45fcad831a43\n'}, {'number': 2, 'created': '2020-07-28 08:11:38.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/afe775b24171bf12ddd3cd88a29faa150d89d39e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I83bbc020df87d3354fe7bb08df8b45fcad831a43\n'}]",0,743163,afe775b24171bf12ddd3cd88a29faa150d89d39e,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I83bbc020df87d3354fe7bb08df8b45fcad831a43
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/743163/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po']",5,399cc3521b7819bd4f6f673070bbdef924e72bb6,zanata/translations,"""Project-Id-Version: openstack-ansible 21.1.0.dev60\n""""POT-Creation-Date: 2020-07-25 12:36+0000\n""","""Project-Id-Version: openstack-ansible\n""""POT-Creation-Date: 2020-04-26 22:09+0000\n""msgid """" ""The |current_release_formal_name| release is only compatible with Debian 9 "" ""(stretch), Debian 10 (buster), Ubuntu 18.04 (Bionic Beaver), CentOS 7 and "" ""openSUSE Leap 15.X."" msgstr """" ""Die |current_release_formal_name| Version ist nur kompatibel mit Debian 9 "" ""(Stretch), Debian 10 (Buster), Ubuntu 18.04 (Bionic Beaver), Centos 7 und "" ""openSUSE Leap 15.X."" ",352,35
openstack%2Fopenstack-helm-infra~master~Ibef80effb626024f9dc947bc1c372df3120bff2d,openstack/openstack-helm-infra,master,Ibef80effb626024f9dc947bc1c372df3120bff2d,mariadb: Fix the indentation,MERGED,2020-07-28 12:30:30.000000000,2020-07-28 15:10:47.000000000,2020-07-28 15:09:13.000000000,"[{'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}]","[{'number': 1, 'created': '2020-07-28 12:30:30.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/pod-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/347ec225eddbb3e00c116aa5cd96e214c39e6e53', 'message': 'mariadb: Fix the indentation\n\nChange-Id: Ibef80effb626024f9dc947bc1c372df3120bff2d\n'}]",0,743521,347ec225eddbb3e00c116aa5cd96e214c39e6e53,10,5,1,24780,,,0,"mariadb: Fix the indentation

Change-Id: Ibef80effb626024f9dc947bc1c372df3120bff2d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/743521/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/pod-test.yaml']",2,347ec225eddbb3e00c116aa5cd96e214c39e6e53,,"{{ dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.secrets.tls.oslo_db.server.internal ""path"" ""/etc/mysql/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 8 }}{{ dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.secrets.tls.oslo_db.server.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 4 }}","{{ dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.secrets.tls.oslo_db.server.internal ""path"" ""/etc/mysql/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{ dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.secrets.tls.oslo_db.server.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",4,4
openstack%2Ftempest~master~Ie7f9ff208b047d431b3a5c4f39d7b8281b087a8a,openstack/tempest,master,Ie7f9ff208b047d431b3a5c4f39d7b8281b087a8a,Terminate volume extend tests upon failure,ABANDONED,2018-05-02 13:55:25.000000000,2020-07-28 14:59:30.000000000,,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-05-02 13:55:25.000000000', 'files': ['tempest/api/volume/test_volumes_extend.py', 'tempest/common/waiters.py', 'tempest/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f36117299c9d361d1cb3629fddcc14246dbdf46', 'message': ""Terminate volume extend tests upon failure\n\nIf a volume reaches 'error_extending' status, the\ntest does not need to poll until it times out, it\ncan just fail.\n\nChange-Id: Ie7f9ff208b047d431b3a5c4f39d7b8281b087a8a\n""}]",3,565766,7f36117299c9d361d1cb3629fddcc14246dbdf46,10,9,1,4523,,,0,"Terminate volume extend tests upon failure

If a volume reaches 'error_extending' status, the
test does not need to poll until it times out, it
can just fail.

Change-Id: Ie7f9ff208b047d431b3a5c4f39d7b8281b087a8a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/565766/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_extend.py', 'tempest/common/waiters.py', 'tempest/exceptions.py']",3,7f36117299c9d361d1cb3629fddcc14246dbdf46,,"class VolumeResourceBuildException(exceptions.TempestException): message = (""%(resource_name)s %(resource_id)s failed to build and is in "" ""%(status)s status"") ",,15,3
openstack%2Fkayobe~master~Id595a12845f445203993fc6ed567e7f7f393742f,openstack/kayobe,master,Id595a12845f445203993fc6ed567e7f7f393742f,Update hook link instructions to use relative path,MERGED,2020-07-10 15:42:35.000000000,2020-07-28 14:52:54.000000000,2020-07-28 14:50:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-07-10 15:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c4e75e83b40c6488e20fcbe811a926e980f10e04', 'message': 'Update hook link instructions to use relative path\n\nThe original instructions used an absolute path for the symbolic link,\nwhich would not be valid if the kayobe-config repository was cloned in a\ndifferent location.\n\nChange-Id: Id595a12845f445203993fc6ed567e7f7f393742f\n'}, {'number': 2, 'created': '2020-07-10 15:43:04.000000000', 'files': ['doc/source/custom-ansible-playbooks.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fa19513ed476198b8225d2a4a48157c02b3ee970', 'message': 'Update hook link instructions to use relative path\n\nThe original instructions used an absolute path for the symbolic link,\nwhich would not be valid if the kayobe-config repository was cloned in a\ndifferent location.\n\nChange-Id: Id595a12845f445203993fc6ed567e7f7f393742f\n'}]",0,740494,fa19513ed476198b8225d2a4a48157c02b3ee970,10,4,2,15197,,,0,"Update hook link instructions to use relative path

The original instructions used an absolute path for the symbolic link,
which would not be valid if the kayobe-config repository was cloned in a
different location.

Change-Id: Id595a12845f445203993fc6ed567e7f7f393742f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/740494/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/custom-ansible-playbooks.rst'],1,c4e75e83b40c6488e20fcbe811a926e980f10e04,docs-hooks-symlink, (kayobe) $ mkdir -p ${KAYOBE_CONFIG_PATH}/hooks/overcloud-host-configure/post.d (kayobe) $ cd ${KAYOBE_CONFIG_PATH}/hooks/overcloud-host-configure/post.d (kayobe) $ ln -s ../../../ansible/foo.yml 10-foo.yml, (kayobe) $ mkdir -p $KAYOBE_CONFIG_PATH/hooks/overcloud-host-configure/post.d (kayobe) $ ln -s $KAYOBE_CONFIG_PATH/ansible/foo.yml \ $KAYOBE_CONFIG_PATH/hooks/overcloud-host-configure/post.d/10-foo.yml,3,3
openstack%2Fcharm-trilio-dm-api~master~I501312178657d7fbfb38ba5b9732eaa10b483609,openstack/charm-trilio-dm-api,master,I501312178657d7fbfb38ba5b9732eaa10b483609,Remove groovy from metadata,MERGED,2020-07-28 10:01:47.000000000,2020-07-28 14:45:51.000000000,2020-07-28 14:45:51.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-28 10:01:47.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/d6512a50b4d65b64dd8cad355997090764c235f7', 'message': ""Remove groovy from metadata\n\nThe charm shouldn't support it as the vendor's system doens't support\nit.\n\nChange-Id: I501312178657d7fbfb38ba5b9732eaa10b483609\n""}]",0,743500,d6512a50b4d65b64dd8cad355997090764c235f7,9,4,1,20870,,,0,"Remove groovy from metadata

The charm shouldn't support it as the vendor's system doens't support
it.

Change-Id: I501312178657d7fbfb38ba5b9732eaa10b483609
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/00/743500/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,d6512a50b4d65b64dd8cad355997090764c235f7,remove-groovy-metadata,,- groovy,0,1
openstack%2Fcharm-octavia~master~I222e37c44aa8e866099e26404b2342bbd992969b,openstack/charm-octavia,master,I222e37c44aa8e866099e26404b2342bbd992969b,Add Victoria test bundles,MERGED,2020-07-27 09:22:19.000000000,2020-07-28 14:44:17.000000000,2020-07-28 14:44:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 09:22:19.000000000', 'files': ['src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/overlays/focal-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha.yaml.j2', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/overlays/focal-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/314ef2155ce1728d23c21fb6fc4097ec6234d97f', 'message': 'Add Victoria test bundles\n\nChange-Id: I222e37c44aa8e866099e26404b2342bbd992969b\n'}]",0,743173,314ef2155ce1728d23c21fb6fc4097ec6234d97f,9,4,1,31289,,,0,"Add Victoria test bundles

Change-Id: I222e37c44aa8e866099e26404b2342bbd992969b
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/73/743173/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/overlays/focal-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha.yaml.j2', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/overlays/focal-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml', 'src/tests/tests.yaml']",9,314ef2155ce1728d23c21fb6fc4097ec6234d97f,victoria-charm-tests,- groovy-victoria-ha-ovn - groovy-victoria-ha - focal-victoria-ha-ovn - focal-victoria-ha - groovy-victoria-ha-ovn - groovy-victoria-ha, - focal-ussuri-ha-ovn - focal-ussuri-ha,790,2
openstack%2Fcharm-trilio-data-mover~master~I8b74199d9267f3a2c43d06555026d285f2a4f421,openstack/charm-trilio-data-mover,master,I8b74199d9267f3a2c43d06555026d285f2a4f421,Remove groovy from metadata,MERGED,2020-07-28 10:00:15.000000000,2020-07-28 14:43:55.000000000,2020-07-28 14:43:55.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-28 10:00:15.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/5bf9d13cadaa9e2743427729f348c3a932c80f6c', 'message': ""Remove groovy from metadata\n\nThe charm shouldn't support it as the vendor's system doens't support\nit.\n\nChange-Id: I8b74199d9267f3a2c43d06555026d285f2a4f421\n""}]",0,743499,5bf9d13cadaa9e2743427729f348c3a932c80f6c,7,3,1,20870,,,0,"Remove groovy from metadata

The charm shouldn't support it as the vendor's system doens't support
it.

Change-Id: I8b74199d9267f3a2c43d06555026d285f2a4f421
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/99/743499/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,5bf9d13cadaa9e2743427729f348c3a932c80f6c,remove-groovy-metadata,,- groovy,0,1
openstack%2Fcharm-trilio-horizon-plugin~master~Ief5c2380b742023eb65258e407b1e164d955860a,openstack/charm-trilio-horizon-plugin,master,Ief5c2380b742023eb65258e407b1e164d955860a,Remove groovy from metadata,MERGED,2020-07-28 10:03:02.000000000,2020-07-28 14:42:36.000000000,2020-07-28 14:42:36.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-28 10:03:02.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/63f52866ce5340e13d502496bcf927ff1dda08e2', 'message': ""Remove groovy from metadata\n\nThe charm shouldn't support it as the vendor's system doens't support\nit.\n\nChange-Id: Ief5c2380b742023eb65258e407b1e164d955860a\n""}]",0,743501,63f52866ce5340e13d502496bcf927ff1dda08e2,9,4,1,20870,,,0,"Remove groovy from metadata

The charm shouldn't support it as the vendor's system doens't support
it.

Change-Id: Ief5c2380b742023eb65258e407b1e164d955860a
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/01/743501/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,63f52866ce5340e13d502496bcf927ff1dda08e2,remove-groovy-metadata,,- groovy,0,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~I95769a8da54e1f7d577d55a294fbceff4cbe3329,openstack/openstack-ansible-os_tempest,stable/ussuri,I95769a8da54e1f7d577d55a294fbceff4cbe3329,Install py3 distro packages,MERGED,2020-07-28 09:41:23.000000000,2020-07-28 14:41:21.000000000,2020-07-28 14:39:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-28 09:41:23.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e8ee3d03ab71181a73c55bbbe4ddebc8be89091b', 'message': 'Install py3 distro packages\n\nFix naming of the distro packages that needs to be installed\nfrom py2 to py3 ones for debian family OS.\n\nChange-Id: I95769a8da54e1f7d577d55a294fbceff4cbe3329\n(cherry picked from commit 955a982557c03ee6a768061a93e95b11fa95e4ac)\n'}]",0,743494,e8ee3d03ab71181a73c55bbbe4ddebc8be89091b,8,3,1,29865,,,0,"Install py3 distro packages

Fix naming of the distro packages that needs to be installed
from py2 to py3 ones for debian family OS.

Change-Id: I95769a8da54e1f7d577d55a294fbceff4cbe3329
(cherry picked from commit 955a982557c03ee6a768061a93e95b11fa95e4ac)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/94/743494/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,e8ee3d03ab71181a73c55bbbe4ddebc8be89091b,, - python3-junitxml - python3-pip - python3-subunit, - python-junitxml - python-pip - python-subunit,3,3
openstack%2Fcinder~master~Ibb8f56a89d3f188be18cc4ee7de493910a02fb98,openstack/cinder,master,Ibb8f56a89d3f188be18cc4ee7de493910a02fb98,"cinder:api-ref replace mention of ""policy.json""",MERGED,2020-07-07 15:31:17.000000000,2020-07-28 14:30:05.000000000,2020-07-28 14:25:48.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-07-07 15:31:17.000000000', 'files': ['api-ref/source/v2/consistencygroups-v2.inc', 'api-ref/source/v2/volumes-v2-volumes-actions.inc', 'api-ref/source/v3/consistencygroups-v3.inc', 'api-ref/source/v3/volumes-v3-volumes-actions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/780a23b4a2fb1290b7e8f76c99663b99fed54add', 'message': 'cinder:api-ref replace mention of ""policy.json""\n\nAs end user can use either of ""policy.json"" or ""policy.yaml"" , so need\nreplace the mentioning of ""policy.json"" to the just ""policy\nconfiguration file"" in api-ref.\n\nChange-Id: Ibb8f56a89d3f188be18cc4ee7de493910a02fb98\nCloses-Bug: #1875643\n'}]",0,739798,780a23b4a2fb1290b7e8f76c99663b99fed54add,32,24,1,31916,,,0,"cinder:api-ref replace mention of ""policy.json""

As end user can use either of ""policy.json"" or ""policy.yaml"" , so need
replace the mentioning of ""policy.json"" to the just ""policy
configuration file"" in api-ref.

Change-Id: Ibb8f56a89d3f188be18cc4ee7de493910a02fb98
Closes-Bug: #1875643
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/739798/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/consistencygroups-v2.inc', 'api-ref/source/v2/volumes-v2-volumes-actions.inc', 'api-ref/source/v3/consistencygroups-v3.inc', 'api-ref/source/v3/volumes-v3-volumes-actions.inc']",4,780a23b4a2fb1290b7e8f76c99663b99fed54add,bug/1875643,the policy configuration file.permissions through the policy configuration file.policy configuration file.,the ``policy.json`` file.permissions through the policy.json file.policy.json file.,8,8
openstack%2Fdevstack~master~I8da4b4ad6105bb64c4045ca80db9742591d01564,openstack/devstack,master,I8da4b4ad6105bb64c4045ca80db9742591d01564,Remove standalone requirement for glance import,MERGED,2020-07-22 02:42:50.000000000,2020-07-28 14:28:19.000000000,2020-07-28 14:25:46.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 02:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/19c18effa082c34c33c3f427c90ee45b0aa2925b', 'message': 'Remove standalone requirement for glance import\n\nAs of the referenced patch in glance, we can do import in wsgi mode\n\nChange-Id: I8da4b4ad6105bb64c4045ca80db9742591d01564\nDepends-On: https://review.opendev.org/#/c/742065\n'}, {'number': 2, 'created': '2020-07-22 14:52:34.000000000', 'files': ['functions', 'lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/33f8f6e68419702df3cb4b8d8af2f6587ebae527', 'message': 'Remove standalone requirement for glance import\n\nAs of the referenced patch in glance, we can do import in wsgi mode.\nAlso remove the enforcement that import methods are disabled.\n\nChange-Id: I8da4b4ad6105bb64c4045ca80db9742591d01564\nDepends-On: https://review.opendev.org/#/c/742065\n'}]",0,742332,33f8f6e68419702df3cb4b8d8af2f6587ebae527,12,4,2,4393,,,0,"Remove standalone requirement for glance import

As of the referenced patch in glance, we can do import in wsgi mode.
Also remove the enforcement that import methods are disabled.

Change-Id: I8da4b4ad6105bb64c4045ca80db9742591d01564
Depends-On: https://review.opendev.org/#/c/742065
",git fetch https://review.opendev.org/openstack/devstack refs/changes/32/742332/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,19c18effa082c34c33c3f427c90ee45b0aa2925b,glance-wsgi-import," useimport=""--import"""," if [[ ""$GLANCE_STANDALONE"" == ""True"" ]]; then useimport=""--import"" else echo ""*** Unable to use glance import workflow because glance is not standalone! ***"" fi",1,5
openstack%2Fkeystoneauth~master~Iead4b95c1f5b8d84cec705da32f41049e2eea641,openstack/keystoneauth,master,Iead4b95c1f5b8d84cec705da32f41049e2eea641,Fix get_endpoint_data for non-keystone plugins,MERGED,2020-07-27 13:26:50.000000000,2020-07-28 14:25:32.000000000,2020-07-28 14:22:47.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 13:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ab9021ce929ef505a12187abbc1e1c9f168acf16', 'message': ""Add unit test for httpbasicauth and discovery\n\nIn bifrost we're seeing issues with get_api_major_version and\nhttpbasic.\n\nChange-Id: Iead4b95c1f5b8d84cec705da32f41049e2eea641\n""}, {'number': 2, 'created': '2020-07-27 15:21:07.000000000', 'files': ['keystoneauth1/http_basic.py', 'keystoneauth1/plugin.py', 'keystoneauth1/noauth.py', 'keystoneauth1/tests/unit/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b95a89e3ff65f175b0b4b422ffa968d676adacbf', 'message': ""Fix get_endpoint_data for non-keystone plugins\n\nWe expect endpoint_override, but these plugins won't necessary\nhave it, they have endpoint instead.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: Iead4b95c1f5b8d84cec705da32f41049e2eea641\n""}]",1,743227,b95a89e3ff65f175b0b4b422ffa968d676adacbf,12,3,2,2,,,0,"Fix get_endpoint_data for non-keystone plugins

We expect endpoint_override, but these plugins won't necessary
have it, they have endpoint instead.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: Iead4b95c1f5b8d84cec705da32f41049e2eea641
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/27/743227/2 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/tests/unit/test_discovery.py'],1,ab9021ce929ef505a12187abbc1e1c9f168acf16,,"from keystoneauth1 import http_basic def test_endpoint_data_htt_basic_no_discover(self): plugin = http_basic.HTTPBasicAuth() data = plugin.get_endpoint_data( self.session, endpoint_override=V3_URL, discover_versions=False) self.assertEqual(data.api_version, (3, 0)) self.assertEqual(data.url, V3_URL) self.assertEqual( plugin.get_api_major_version( self.session, endpoint_override=V3_URL), (3, 0)) self.assertEqual( plugin.get_endpoint(self.session, endpoint_override=V3_URL), V3_URL) ",,16,0
openstack%2Fcharm-nova-cell-controller~master~I635df238fde900be5b04cc060279c6fbcff581e6,openstack/charm-nova-cell-controller,master,I635df238fde900be5b04cc060279c6fbcff581e6,Release sync for 20.08,MERGED,2020-07-27 19:56:41.000000000,2020-07-28 14:23:02.000000000,2020-07-28 14:23:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:56:41.000000000', 'files': ['rebuild', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/0f9d80856f8cdab37c6dc750b7844086adfd1f33', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I635df238fde900be5b04cc060279c6fbcff581e6\n'}]",0,743372,0f9d80856f8cdab37c6dc750b7844086adfd1f33,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I635df238fde900be5b04cc060279c6fbcff581e6
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/72/743372/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'tox.ini']",2,0f9d80856f8cdab37c6dc750b7844086adfd1f33,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,6,1
openstack%2Fpython-barbicanclient~master~Ida4233cfab3ce14bbf170cdc3037f6b0c3a087df,openstack/python-barbicanclient,master,Ida4233cfab3ce14bbf170cdc3037f6b0c3a087df,add py38 package metadata,MERGED,2020-06-16 08:17:27.000000000,2020-07-28 14:21:05.000000000,2020-07-28 14:18:08.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-06-16 08:17:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/f7faf9bdb1b1c153dd908835bed22b8584af28ed', 'message': 'add py38 package metadata\n\nChange-Id: Ida4233cfab3ce14bbf170cdc3037f6b0c3a087df\n'}]",0,735803,f7faf9bdb1b1c153dd908835bed22b8584af28ed,10,3,1,30455,,,0,"add py38 package metadata

Change-Id: Ida4233cfab3ce14bbf170cdc3037f6b0c3a087df
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/03/735803/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f7faf9bdb1b1c153dd908835bed22b8584af28ed,, Programming Language :: Python :: 3.8,,1,0
openstack%2Freleases~master~Iafed7f35283f95dc0e14a7f0d4b8c5c9cf059799,openstack/releases,master,Iafed7f35283f95dc0e14a7f0d4b8c5c9cf059799,Victoria-2 Release for metalsmith,MERGED,2020-07-27 20:48:34.000000000,2020-07-28 14:21:04.000000000,2020-07-28 14:21:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:48:34.000000000', 'files': ['deliverables/victoria/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e92af8e9b318f5930aa7ab92483607e3b271581', 'message': 'Victoria-2 Release for metalsmith\n\nThis is the victoria milestone-2 release for metalsmith.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: Iafed7f35283f95dc0e14a7f0d4b8c5c9cf059799\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743407,8e92af8e9b318f5930aa7ab92483607e3b271581,10,5,1,11904,,,0,"Victoria-2 Release for metalsmith

This is the victoria milestone-2 release for metalsmith.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: Iafed7f35283f95dc0e14a7f0d4b8c5c9cf059799
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/743407/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/metalsmith.yaml'],1,8e92af8e9b318f5930aa7ab92483607e3b271581,victoria-2,releases: - version: 1.1.0 projects: - repo: openstack/metalsmith hash: 67431c91371496bcf34eae4a3faf70592bceefd0,,5,0
openstack%2Freleases~master~I2fe6508f5106e90f1c8c008a07eeebb1b1e81a8a,openstack/releases,master,I2fe6508f5106e90f1c8c008a07eeebb1b1e81a8a,Victoria-2 Release for python-magnumclient,MERGED,2020-07-27 20:55:30.000000000,2020-07-28 14:21:02.000000000,2020-07-28 14:21:02.000000000,"[{'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:55:30.000000000', 'files': ['deliverables/victoria/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c396e567dc4e549af77c6f4b641ef0e70d144b37', 'message': 'Victoria-2 Release for python-magnumclient\n\nThis is the victoria milestone-2 release for python-magnumclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: I2fe6508f5106e90f1c8c008a07eeebb1b1e81a8a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743411,c396e567dc4e549af77c6f4b641ef0e70d144b37,10,4,1,11904,,,0,"Victoria-2 Release for python-magnumclient

This is the victoria milestone-2 release for python-magnumclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: I2fe6508f5106e90f1c8c008a07eeebb1b1e81a8a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/743411/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-magnumclient.yaml'],1,c396e567dc4e549af77c6f4b641ef0e70d144b37,victoria-2, - version: 3.2.0 projects: - repo: openstack/python-magnumclient hash: 3da3b4896fa5f7525a346966501c80ab971c8706,,4,0
openstack%2Freleases~master~If196e5a7a236215a626c15c70ad0b422dcbfa1ed,openstack/releases,master,If196e5a7a236215a626c15c70ad0b422dcbfa1ed,Victoria-2 Release for automaton,MERGED,2020-07-27 20:46:03.000000000,2020-07-28 14:21:01.000000000,2020-07-28 14:21:01.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 20:46:03.000000000', 'files': ['deliverables/victoria/automaton.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/811ce892097877aa337eab88123065310a9c3b18', 'message': 'Victoria-2 Release for automaton\n\nThis is the victoria milestone-2 release for automaton.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: If196e5a7a236215a626c15c70ad0b422dcbfa1ed\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743403,811ce892097877aa337eab88123065310a9c3b18,9,4,1,11904,,,0,"Victoria-2 Release for automaton

This is the victoria milestone-2 release for automaton.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: If196e5a7a236215a626c15c70ad0b422dcbfa1ed
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/743403/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/automaton.yaml'],1,811ce892097877aa337eab88123065310a9c3b18,victoria-2, - version: 2.2.0 projects: - repo: openstack/automaton hash: a30803c50ee8551e8e3d168c318a0c49559e0899,,4,0
openstack%2Freleases~master~Ib9a30a954f01279df3bd4522d4324cbf7e361839,openstack/releases,master,Ib9a30a954f01279df3bd4522d4324cbf7e361839,Victoria-2 Release for debtcollector,MERGED,2020-07-27 20:47:04.000000000,2020-07-28 14:20:15.000000000,2020-07-28 14:20:14.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 20:47:04.000000000', 'files': ['deliverables/victoria/debtcollector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ef8f86279ee6a521c6b7b13541bd1d8daf05c96', 'message': 'Victoria-2 Release for debtcollector\n\nThis is the victoria milestone-2 release for debtcollector.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: Ib9a30a954f01279df3bd4522d4324cbf7e361839\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743405,0ef8f86279ee6a521c6b7b13541bd1d8daf05c96,9,4,1,11904,,,0,"Victoria-2 Release for debtcollector

This is the victoria milestone-2 release for debtcollector.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: Ib9a30a954f01279df3bd4522d4324cbf7e361839
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/743405/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/debtcollector.yaml'],1,0ef8f86279ee6a521c6b7b13541bd1d8daf05c96,victoria-2, - version: 2.2.0 projects: - repo: openstack/debtcollector hash: 649189dbc4701f5352c0b9961edd9d26af828053,,4,0
openstack%2Fcharm-pacemaker-remote~master~I92d284b9307e68e9f1d81abdc4809213a46d89a8,openstack/charm-pacemaker-remote,master,I92d284b9307e68e9f1d81abdc4809213a46d89a8,Release sync for 20.08,MERGED,2020-07-27 19:58:35.000000000,2020-07-28 14:11:11.000000000,2020-07-28 14:11:11.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:58:35.000000000', 'files': ['rebuild', 'requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/4a3cc8c98b12d88012548192ddfc103f44d967f4', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I92d284b9307e68e9f1d81abdc4809213a46d89a8\n'}]",0,743381,4a3cc8c98b12d88012548192ddfc103f44d967f4,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I92d284b9307e68e9f1d81abdc4809213a46d89a8
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/81/743381/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'requirements.txt', 'tox.ini']",3,4a3cc8c98b12d88012548192ddfc103f44d967f4,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,8,1
openstack%2Fkuryr-kubernetes~stable%2Ftrain~Ie990da4e68e82d998768fa0c047cca4cccd59915,openstack/kuryr-kubernetes,stable/train,Ie990da4e68e82d998768fa0c047cca4cccd59915,Remove dragonflow,MERGED,2020-06-24 13:54:23.000000000,2020-07-28 14:07:36.000000000,2020-07-28 13:59:34.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-24 13:54:23.000000000', 'files': ['.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4b331132907e3b7bbc6d3ccc57d799ef0ff65101', 'message': 'Remove dragonflow\n\nDragonflow was removed from governance in 2018 and is now being retired.\nThis cleans up references to dragonflow jobs and configuration.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html\n\nThis backport drops sample config file and docs changes and only removes\nthe zuul configuration since conceivable the project could still be used\nwith older branches.\n\nChange-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)\n(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)\n'}]",0,737792,4b331132907e3b7bbc6d3ccc57d799ef0ff65101,19,5,1,11904,,,0,"Remove dragonflow

Dragonflow was removed from governance in 2018 and is now being retired.
This cleans up references to dragonflow jobs and configuration.

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

This backport drops sample config file and docs changes and only removes
the zuul configuration since conceivable the project could still be used
with older branches.

Change-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)
(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/92/737792/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/sdn.yaml'],1,4b331132907e3b7bbc6d3ccc57d799ef0ff65101,dragonflow,, - job: name: kuryr-kubernetes-tempest-dragonflow parent: kuryr-kubernetes-tempest description: | Kuryr-Kubernetes tempest job using Dragonflow required-projects: - openstack/dragonflow vars: devstack_localrc: Q_ENABLE_DRAGONFLOW_LOCAL_CONTROLLER: true DF_RUNNING_IN_GATE: true TUNNEL_TYPE: vxlan DF_L2_RESPONDER: true OVS_INSTALL_FROM_GIT: false OVS_BRANCH: master devstack_services: q-agt: false q-dhcp: false q-l3: false q-trunk: true df-redis: true df-redis-server: true df-controller: true df-ext-services: true df-l3-agent: true devstack_plugins: dragonflow: https://github.com/openstack/dragonflow voting: false,0,29
openstack%2Fcharm-rabbitmq-server~master~Ib9324fe3e5829c172e853980fd599de9e97ca86c,openstack/charm-rabbitmq-server,master,Ib9324fe3e5829c172e853980fd599de9e97ca86c,Release sync for 20.08,MERGED,2020-07-27 19:59:27.000000000,2020-07-28 14:04:41.000000000,2020-07-28 14:04:41.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:59:27.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/4bbb5a8cc011955033a2d6211527cb0fa12ee438', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ib9324fe3e5829c172e853980fd599de9e97ca86c\n'}]",0,743385,4bbb5a8cc011955033a2d6211527cb0fa12ee438,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ib9324fe3e5829c172e853980fd599de9e97ca86c
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/85/743385/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'test-requirements.txt', 'charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini', 'charmhelpers/__init__.py']",9,4bbb5a8cc011955033a2d6211527cb0fa12ee438,batch-2008-release-sync," The date which is a string in semi-ISO8660 format indicates the year-month :param warning: String to indicate what is to be used instead. :param date: Optional string in YYYY-MM format to indicate when the :param log: The log function to call in order to log. If None, logs to stdout"," The date, which is a string in semi-ISO8660 format indicate the year-month :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the :param log: The log function to call to log. If not, logs to stdout",92,42
openstack%2Fcharm-mysql-router~master~Ie1f68f07abe763195de55f0e2f86e481b125d837,openstack/charm-mysql-router,master,Ie1f68f07abe763195de55f0e2f86e481b125d837,Release sync for 20.08,MERGED,2020-07-27 19:55:11.000000000,2020-07-28 14:04:40.000000000,2020-07-28 14:04:40.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:55:11.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/aca857a3d392e5f2d968b2bbfcb6531f38a3e907', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ie1f68f07abe763195de55f0e2f86e481b125d837\n'}]",0,743365,aca857a3d392e5f2d968b2bbfcb6531f38a3e907,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ie1f68f07abe763195de55f0e2f86e481b125d837
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/65/743365/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'tox.ini']",4,aca857a3d392e5f2d968b2bbfcb6531f38a3e907,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,7,2
openstack%2Fcinder~master~I2d8ca2b948350aac68e26460205ecf858ee47215,openstack/cinder,master,I2d8ca2b948350aac68e26460205ecf858ee47215,Remove 'message' from format argument from exception,ABANDONED,2018-06-14 03:03:32.000000000,2020-07-28 14:01:02.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16203}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-06-14 03:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a349aa75918e1f43383dbce0d9575ad8c851043d', 'message': ""Remove 'message' from format argument from exception\n\nThis patch removes 'message' from format argument\nof 'DotHillConnectionError', 'DotHillAuthenticationError'\nand 'DotHillRequestError' exceptions.\n\nWe should not use 'message' as a format argument\nand the reason is described here [1]. From a long\ntime view we need remove them from exceptions rather\nthan remove it when initialized.\n\n[1]: https://review.openstack.org/#/c/572674/\n\nChange-Id: I2d8ca2b948350aac68e26460205ecf858ee47215\n""}, {'number': 2, 'created': '2018-06-19 07:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b11008094e9cf99c82c6e18d0d57d437cb2b62e', 'message': ""Remove 'message' from format argument from exception\n\nThis patch removes 'message' from format argument\nof 'DotHillConnectionError', 'DotHillAuthenticationError'\nand 'DotHillRequestError' exceptions.\n\nWe should not use 'message' as a format argument\nand the reason is described here [1]. From a long\ntime view we need remove them from exceptions rather\nthan remove it when initialized.\n\n[1]: https://review.openstack.org/#/c/572674/\n\nChange-Id: I2d8ca2b948350aac68e26460205ecf858ee47215\n""}, {'number': 3, 'created': '2019-04-16 17:37:15.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/exception.py', 'cinder/volume/drivers/dothill/dothill_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/229c0be9af021d0f3836409df8666bf84ba639b7', 'message': ""Remove 'message' from format argument from exception\n\nThis patch removes 'message' from format argument\nof 'DotHillConnectionError', 'DotHillAuthenticationError'\nand 'DotHillRequestError' exceptions.\n\nWe should not use 'message' as a format argument\nand the reason is described here [1]. From a long\ntime view we need remove them from exceptions rather\nthan remove it when initialized.\n\n[1]: https://review.openstack.org/#/c/572674/\n\nChange-Id: I2d8ca2b948350aac68e26460205ecf858ee47215\n""}]",0,575318,229c0be9af021d0f3836409df8666bf84ba639b7,54,31,3,23083,,,0,"Remove 'message' from format argument from exception

This patch removes 'message' from format argument
of 'DotHillConnectionError', 'DotHillAuthenticationError'
and 'DotHillRequestError' exceptions.

We should not use 'message' as a format argument
and the reason is described here [1]. From a long
time view we need remove them from exceptions rather
than remove it when initialized.

[1]: https://review.openstack.org/#/c/572674/

Change-Id: I2d8ca2b948350aac68e26460205ecf858ee47215
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/575318/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/dothill/dothill_common.py']",3,a349aa75918e1f43383dbce0d9575ad8c851043d,bug/fix_message_error, raise exception.DotHillConnectionError(msg) raise exception.DotHillAuthenticationError(msg), raise exception.DotHillConnectionError(message=msg) raise exception.DotHillAuthenticationError(message=msg),13,13
openstack%2Fcinder~master~Iddcd796394d944c772744df1a05ca85f016d961a,openstack/cinder,master,Iddcd796394d944c772744df1a05ca85f016d961a,Move NFS CI job to .zuul.yaml,ABANDONED,2017-11-27 14:50:13.000000000,2020-07-28 13:52:12.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-27 14:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b52e31ce73f7207e5e7dac730ec79b3dec0749f', 'message': 'Move NFS CI job to .zuul.yaml\n\nThis replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs\njob.\n\nChange-Id: Iddcd796394d944c772744df1a05ca85f016d961a\n'}, {'number': 2, 'created': '2017-11-27 15:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ab0d0ccfde555f34d23ae565f1546e82f580081', 'message': 'Move NFS CI job to .zuul.yaml\n\nThis replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs\njob.\n\nChange-Id: Iddcd796394d944c772744df1a05ca85f016d961a\n'}, {'number': 3, 'created': '2017-11-27 15:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/897dd1f7c99aa99b23228982bd7d3b02e4dd81f1', 'message': 'Move NFS CI job to .zuul.yaml\n\nThis replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs\njob.\n\nChange-Id: Iddcd796394d944c772744df1a05ca85f016d961a\n'}, {'number': 4, 'created': '2017-11-27 17:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bda63562b31e352bad18deaeac986c39b90081d', 'message': 'Move NFS CI job to .zuul.yaml\n\nThis replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs\njob.\n\nChange-Id: Iddcd796394d944c772744df1a05ca85f016d961a\n'}, {'number': 5, 'created': '2017-11-28 17:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17e7c03ee65f404d3f345bfe0539c1c56fca7130', 'message': 'Move NFS CI job to .zuul.yaml\n\nThis replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs\njob.\n\nSkip two tests that are currently failing.\nRelated-Bug: #1731992\n\nChange-Id: Iddcd796394d944c772744df1a05ca85f016d961a\n'}, {'number': 6, 'created': '2017-11-28 18:56:00.000000000', 'files': ['playbooks/cinder-tempest-dsvm-devstack-plugin-nfs/post.yaml', 'playbooks/cinder-tempest-dsvm-devstack-plugin-nfs/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f04cde00d00c2a78406cb46748f37ea8b9cb5f2', 'message': 'Move NFS CI job to .zuul.yaml\n\nThis replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs\njob.\n\nSkip two tests that are currently failing.\nRelated-Bug: #1731992\n\nChange-Id: Iddcd796394d944c772744df1a05ca85f016d961a\n'}]",1,523138,3f04cde00d00c2a78406cb46748f37ea8b9cb5f2,91,37,6,4523,,,0,"Move NFS CI job to .zuul.yaml

This replaces the legacy-tempest-dsvm-full-devstack-plugin-nfs
job.

Skip two tests that are currently failing.
Related-Bug: #1731992

Change-Id: Iddcd796394d944c772744df1a05ca85f016d961a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/523138/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/cinder-tempest-dsvm-devstack-plugin-nfs/post.yaml', 'playbooks/cinder-tempest-dsvm-devstack-plugin-nfs/run.yaml', '.zuul.yaml']",3,5b52e31ce73f7207e5e7dac730ec79b3dec0749f,523138, - job: name: cinder-tempest-dsvm-devstack-plugin-nfs parent: legacy-dsvm-base run: playbooks/cinder-tempest-dsvm-devstack-plugin-nfs/run.yaml post-run: playbooks/cinder-tempest-dsvm-devstack-plugin-nfs/post.yaml timeout: 10800 required-projects: - openstack-infra/devstack-gate - openstack/tempest - openstack/os-brick irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$,,97,0
openstack%2Fkarma-subunit-reporter~master~Idf991b9e4b3d52f5ca2c4157440341d1c9920fd6,openstack/karma-subunit-reporter,master,Idf991b9e4b3d52f5ca2c4157440341d1c9920fd6,migrate to victoria testing runtime,MERGED,2020-07-09 20:46:04.000000000,2020-07-28 13:45:16.000000000,2020-07-26 17:15:41.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 20:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karma-subunit-reporter/commit/1589bdc93e52619cd0ed7601ae3b4c7754017009', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/738327/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Idf991b9e4b3d52f5ca2c4157440341d1c9920fd6\n'}, {'number': 2, 'created': '2020-07-09 20:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karma-subunit-reporter/commit/e2fd6a95c7ff767be184e8b44dedaba4dfbc4319', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/738328/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Idf991b9e4b3d52f5ca2c4157440341d1c9920fd6\n'}, {'number': 3, 'created': '2020-07-26 17:02:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karma-subunit-reporter/commit/87c01132abd03ea24297bb2e1d59de656d3b150c', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Idf991b9e4b3d52f5ca2c4157440341d1c9920fd6\n'}]",0,740372,87c01132abd03ea24297bb2e1d59de656d3b150c,13,4,3,8556,,,0,"migrate to victoria testing runtime

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04)
and Node.js 10.

Story: #2007865
Task: #40212

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: Idf991b9e4b3d52f5ca2c4157440341d1c9920fd6
",git fetch https://review.opendev.org/openstack/karma-subunit-reporter refs/changes/72/740372/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1589bdc93e52619cd0ed7601ae3b4c7754017009,migrate-to-focal, - nodejs10-jobs, - nodejs4-jobs,1,1
openstack%2Fopenstack-ansible-os_cinder~stable%2Fussuri~Idc9a71d722b7443cf1437c2d95f75c615b6035a4,openstack/openstack-ansible-os_cinder,stable/ussuri,Idc9a71d722b7443cf1437c2d95f75c615b6035a4,Explicitly enable/disable active/active,MERGED,2020-07-27 18:30:33.000000000,2020-07-28 13:41:35.000000000,2020-07-28 13:39:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-27 18:30:33.000000000', 'files': ['releasenotes/notes/cinder_active_active_cluster-62674205a3259902.yaml', 'defaults/main.yml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/39ecf537ba7cc810a0d622a306c0604c0f7e85bd', 'message': 'Explicitly enable/disable active/active\n\nAs deployers may have usecases with several different backends being\nserved with the same cinder volume,\nwe should provide an option to easily override default behaviour\n\nChange-Id: Idc9a71d722b7443cf1437c2d95f75c615b6035a4\n(cherry picked from commit c6b9f011b777aa0513e99a35fba7d976a4c9d4c1)\n'}]",0,743303,39ecf537ba7cc810a0d622a306c0604c0f7e85bd,8,3,1,25023,,,0,"Explicitly enable/disable active/active

As deployers may have usecases with several different backends being
served with the same cinder volume,
we should provide an option to easily override default behaviour

Change-Id: Idc9a71d722b7443cf1437c2d95f75c615b6035a4
(cherry picked from commit c6b9f011b777aa0513e99a35fba7d976a4c9d4c1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/03/743303/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder_active_active_cluster-62674205a3259902.yaml', 'defaults/main.yml', 'templates/cinder.conf.j2']",3,39ecf537ba7cc810a0d622a306c0604c0f7e85bd,,{% if cinder_active_active_cluster | bool %} cluster = {{ cinder_active_active_cluster_name }},{% if cinder_backend_rbd_inuse | bool %} cluster = ceph,12,2
openstack%2Fdevstack~master~I28f5a71204dfa5bb80605e0cbd3185238e1983fa,openstack/devstack,master,I28f5a71204dfa5bb80605e0cbd3185238e1983fa,Add f30 as supported distro,ABANDONED,2019-08-23 09:11:19.000000000,2020-07-28 13:29:39.000000000,,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-23 09:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a2f47c1134fdf455343f3f3dffa37a7369c4839c', 'message': 'Add f30 as supported distro\n\nIf you start from minimal image the rsync-daemon package\nis still required for swift.\n\niscsi_tcp is part of the kernel-core so no extra modules\npackages required.\n\nThis change also removes the fedora related NOPRIME packages,\nwhich are no longer referenced by devstack.\n\nos-brick vs. iscsi still can have issues,\nyou can try to use ceph.\n\nhttps://bugs.launchpad.net/os-brick/+bug/1814849\n\nChange-Id: I28f5a71204dfa5bb80605e0cbd3185238e1983fa\n'}, {'number': 2, 'created': '2019-09-13 06:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0cf632993aa82d5b87a2302a7146dce9503599aa', 'message': 'Add f30 as supported distro\n\nIf you start from minimal image the rsync-daemon package\nis still required for swift.\n\niscsi_tcp is part of the kernel-core so no extra modules\npackages required.\n\nThis change also removes the fedora related NOPRIME packages,\nwhich are no longer referenced by devstack.\n\nUpdate the latest nodeset to f30\n\nChange-Id: I28f5a71204dfa5bb80605e0cbd3185238e1983fa\n'}, {'number': 3, 'created': '2019-09-17 14:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4d1fc5fabbad6ee67adaa21f5f66b49c00660c5', 'message': 'Add f30 as supported distro\n\nIf you start from minimal image the rsync-daemon package\nis still required for swift.\n\niscsi_tcp is part of the kernel-core so no extra modules\npackages required.\n\nThis change also removes the fedora related NOPRIME packages,\nwhich are no longer referenced by devstack.\n\nUpdate the latest nodeset to f30\n\nChange-Id: I28f5a71204dfa5bb80605e0cbd3185238e1983fa\n'}, {'number': 4, 'created': '2020-01-27 11:36:46.000000000', 'files': ['files/rpms/general', '.zuul.yaml', 'files/rpms/nova', 'files/rpms/swift', 'files/rpms/cinder', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e8bee7629fef9649b1f5458e3c00af15b16ed14b', 'message': 'Add f30 as supported distro\n\nIf you start from minimal image the rsync-daemon package\nis still required for swift.\n\niscsi_tcp is part of the kernel-core so no extra modules\npackages required.\n\nThis change also removes the fedora related NOPRIME packages,\nwhich are no longer referenced by devstack.\n\nUpdate the latest nodeset to f30\n\nChange-Id: I28f5a71204dfa5bb80605e0cbd3185238e1983fa\n'}]",5,678184,e8bee7629fef9649b1f5458e3c00af15b16ed14b,26,4,4,5803,,,0,"Add f30 as supported distro

If you start from minimal image the rsync-daemon package
is still required for swift.

iscsi_tcp is part of the kernel-core so no extra modules
packages required.

This change also removes the fedora related NOPRIME packages,
which are no longer referenced by devstack.

Update the latest nodeset to f30

Change-Id: I28f5a71204dfa5bb80605e0cbd3185238e1983fa
",git fetch https://review.opendev.org/openstack/devstack refs/changes/84/678184/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rpms/general', 'files/rpms/swift', 'files/rpms/cinder', 'stack.sh']",4,a2f47c1134fdf455343f3f3dffa37a7369c4839c,fedora-latest,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f28|f29|f30|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f28|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then,3,6
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52,openstack/openstack-ansible-tests,stable/ussuri,Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52,Make nodepool vars work with centos 8,MERGED,2020-07-27 18:34:08.000000000,2020-07-28 13:27:43.000000000,2020-07-28 13:26:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-27 18:34:08.000000000', 'files': ['common-tasks/test-set-nodepool-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/541e257ed38948097a5db339c1e27c9e2b6f5bd8', 'message': 'Make nodepool vars work with centos 8\n\nChange-Id: Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52\n(cherry picked from commit 9e43b7adc3d67cccbcb02a4aeb6371bcdb5e2fe4)\n'}]",0,743305,541e257ed38948097a5db339c1e27c9e2b6f5bd8,10,3,1,25023,,,0,"Make nodepool vars work with centos 8

Change-Id: Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52
(cherry picked from commit 9e43b7adc3d67cccbcb02a4aeb6371bcdb5e2fe4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/05/743305/1 && git format-patch -1 --stdout FETCH_HEAD,['common-tasks/test-set-nodepool-vars.yml'],1,541e257ed38948097a5db339c1e27c9e2b6f5bd8,osa/el8-stable/ussuri," source /etc/os-release if [[ $ID == 'centos' && VERSION_ID == '7' ]]; then echo ""lxc_centos_package_baseurl=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/epel-7-x86_64/"" echo ""lxc_centos_package_key=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/pubkey.gpg"" # NOTE(mnaser): We need to make sure we pull the latest RDO mirror # which is hashed to avoid cache going stale during CI. # TODO(mnaser): Share this with Puppet # https://github.com/openstack/puppet-openstack-integration/blob/master/configure_facts.sh#L66-L71 export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci} rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi RDO_MIRROR_HOST=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} echo ""openstack_hosts_rdo_repo_url=${RDO_MIRROR_HOST}""s elif [[ $ID == 'centos' && VERSION_ID == '8' ]]; then echo ""openstack_hosts_rdo_mirror_url=${NODEPOOL_RDO_PROXY}"""," echo ""lxc_centos_package_baseurl=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/epel-7-x86_64/"" echo ""lxc_centos_package_key=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/pubkey.gpg"" # NOTE(mnaser): We need to make sure we pull the latest RDO mirror # which is hashed to avoid cache going stale during CI. # TODO(mnaser): Share this with Puppet # https://github.com/openstack/puppet-openstack-integration/blob/master/configure_facts.sh#L66-L71 export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci} rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 RDO_MIRROR_HOST=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} echo ""openstack_hosts_rdo_repo_url=${RDO_MIRROR_HOST}""",19,13
openstack%2Ftripleo-heat-templates~master~Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f,openstack/tripleo-heat-templates,master,Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f,Add dashboard_protocol variable when internal_tls is enabled,MERGED,2020-07-25 13:12:56.000000000,2020-07-28 13:08:45.000000000,2020-07-28 12:56:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-25 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c532a52b742f90418dac5a92a2d817c56ef05199', 'message': ""Add dashboard_protocol variable when internal_tls is enabled\n\nWhen the Ceph dashboard is deployed using tls everywhere, ceph-ansible\nrequires the dashboard_protocol variable set to 'https' to avoid the\ncert/key related tasks getting skipped.\nThis change just adds the required variable, setting its value to 'https'\nwhen the condition is met.\n\nChange-Id: Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f\n""}, {'number': 2, 'created': '2020-07-26 08:40:57.000000000', 'files': ['deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ff794663b292adbf9d532bd597e9c9a75d0aacd', 'message': ""Add dashboard_protocol variable when internal_tls is enabled\n\nWhen the Ceph dashboard is deployed using tls everywhere, ceph-ansible\nrequires the dashboard_protocol variable set to 'https' to avoid the\ncert/key related tasks getting skipped.\nThis change just adds the required variable, setting its value to 'https'\nwhen the condition is met.\n\nCloses-Bug: 1888982\nChange-Id: Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f\n""}]",0,743030,7ff794663b292adbf9d532bd597e9c9a75d0aacd,19,8,2,25402,,,0,"Add dashboard_protocol variable when internal_tls is enabled

When the Ceph dashboard is deployed using tls everywhere, ceph-ansible
requires the dashboard_protocol variable set to 'https' to avoid the
cert/key related tasks getting skipped.
This change just adds the required variable, setting its value to 'https'
when the condition is met.

Closes-Bug: 1888982
Change-Id: Ice0ca431fe45fb20e1398dc9581bdffbd1a88f4f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/743030/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mgr.yaml'],1,c532a52b742f90418dac5a92a2d817c56ef05199,, - dashboard_protocol: 'https',,1,0
openstack%2Ftempest~master~I522388e474c205aa2bdf2e5167193f4e6b3381a4,openstack/tempest,master,I522388e474c205aa2bdf2e5167193f4e6b3381a4,Stop to use the __future__ module.,MERGED,2020-06-02 19:02:06.000000000,2020-07-28 13:03:13.000000000,2020-07-28 13:01:45.000000000,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 19:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2d45e8b37a8723a6dd2dd6d5ae500406b527051d', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I522388e474c205aa2bdf2e5167193f4e6b3381a4\n""}, {'number': 2, 'created': '2020-07-24 04:28:03.000000000', 'files': ['tempest/config.py', 'tempest/lib/common/thread.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8aea021537f72821b2015fe945629982d4aae8ce', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I522388e474c205aa2bdf2e5167193f4e6b3381a4\n""}]",1,732960,8aea021537f72821b2015fe945629982d4aae8ce,19,6,2,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I522388e474c205aa2bdf2e5167193f4e6b3381a4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/732960/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'tempest/lib/common/thread.py']",2,2d45e8b37a8723a6dd2dd6d5ae500406b527051d,drop_future_imports,,from __future__ import absolute_import,0,3
openstack%2Fkolla-ansible~stable%2Ftrain~I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,openstack/kolla-ansible,stable/train,I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,Set Kafka default replication factor,MERGED,2020-07-27 18:11:30.000000000,2020-07-28 13:00:16.000000000,2020-07-28 12:58:16.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 18:11:30.000000000', 'files': ['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/410e66eec7dbfcc2b099f015a6d89b5aea38ec1d', 'message': 'Set Kafka default replication factor\n\nThis ensures that when using automatic Kafka topic creation, with more than one\nnode in the Kafka cluster, all partitions in the topic are automatically\nreplicated. When a single node goes down in a >=3 node cluster, these topics will\ncontinue to accept writes providing there are at least two insync replicas.\n\nIn a two node cluster, no failures are tolerated. In a three node cluster, only a\nsingle node failure is tolerated. In a larger cluster the configuration may need\nmanual tuning.\n\nThis configuration follows advice given here:\n\n[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq\n\nCloses-Bug: #1888522\n\nChange-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3\n(cherry picked from commit a273e28e208eaf7c3d607bff220309ca3b3b0bd7)\n'}]",0,743297,410e66eec7dbfcc2b099f015a6d89b5aea38ec1d,8,3,1,14826,,,0,"Set Kafka default replication factor

This ensures that when using automatic Kafka topic creation, with more than one
node in the Kafka cluster, all partitions in the topic are automatically
replicated. When a single node goes down in a >=3 node cluster, these topics will
continue to accept writes providing there are at least two insync replicas.

In a two node cluster, no failures are tolerated. In a three node cluster, only a
single node failure is tolerated. In a larger cluster the configuration may need
manual tuning.

This configuration follows advice given here:

[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq

Closes-Bug: #1888522

Change-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3
(cherry picked from commit a273e28e208eaf7c3d607bff220309ca3b3b0bd7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/743297/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml']",2,410e66eec7dbfcc2b099f015a6d89b5aea38ec1d,,"--- fixes: - | An issue where when Kafka default topic creation was used to create a Kafka topic, no redundant replicas were created in a multi-node cluster. `LP#1888522 <https://launchpad.net/bugs/1888522>`__. This affects Monasca which uses Kafka, and was previously masked by the legacy Kafka client used by Monasca which has since been upgraded in Ussuri. Monasca users with multi-node Kafka clusters should consultant the Kafka `documentation <https://kafka.apache.org/documentation/>`__ to increase the number of replicas. ",,12,0
openstack%2Fkolla-ansible~stable%2Fussuri~I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,openstack/kolla-ansible,stable/ussuri,I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,Set Kafka default replication factor,MERGED,2020-07-27 18:11:18.000000000,2020-07-28 12:58:16.000000000,2020-07-28 12:56:33.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 18:11:18.000000000', 'files': ['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a82e233706e2da87c9ef613eaa04559b66089230', 'message': 'Set Kafka default replication factor\n\nThis ensures that when using automatic Kafka topic creation, with more than one\nnode in the Kafka cluster, all partitions in the topic are automatically\nreplicated. When a single node goes down in a >=3 node cluster, these topics will\ncontinue to accept writes providing there are at least two insync replicas.\n\nIn a two node cluster, no failures are tolerated. In a three node cluster, only a\nsingle node failure is tolerated. In a larger cluster the configuration may need\nmanual tuning.\n\nThis configuration follows advice given here:\n\n[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq\n\nCloses-Bug: #1888522\n\nChange-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3\n(cherry picked from commit a273e28e208eaf7c3d607bff220309ca3b3b0bd7)\n'}]",0,743296,a82e233706e2da87c9ef613eaa04559b66089230,9,3,1,14826,,,0,"Set Kafka default replication factor

This ensures that when using automatic Kafka topic creation, with more than one
node in the Kafka cluster, all partitions in the topic are automatically
replicated. When a single node goes down in a >=3 node cluster, these topics will
continue to accept writes providing there are at least two insync replicas.

In a two node cluster, no failures are tolerated. In a three node cluster, only a
single node failure is tolerated. In a larger cluster the configuration may need
manual tuning.

This configuration follows advice given here:

[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq

Closes-Bug: #1888522

Change-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3
(cherry picked from commit a273e28e208eaf7c3d607bff220309ca3b3b0bd7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/743296/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml']",2,a82e233706e2da87c9ef613eaa04559b66089230,,"--- fixes: - | An issue where when Kafka default topic creation was used to create a Kafka topic, no redundant replicas were created in a multi-node cluster. `LP#1888522 <https://launchpad.net/bugs/1888522>`__. This affects Monasca which uses Kafka, and was previously masked by the legacy Kafka client used by Monasca which has since been upgraded in Ussuri. Monasca users with multi-node Kafka clusters should consultant the Kafka `documentation <https://kafka.apache.org/documentation/>`__ to increase the number of replicas. ",,12,0
openstack%2Fdesignate~master~Id54c22f820b1aa6315d721e354ce150c657bd4fd,openstack/designate,master,Id54c22f820b1aa6315d721e354ce150c657bd4fd,Remove translation sections from setup.cfg,MERGED,2020-05-23 06:30:39.000000000,2020-07-28 12:44:38.000000000,2020-07-28 12:42:00.000000000,"[{'_account_id': 6547}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-05-23 06:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/04548bc6428840ed4afb8a0fa799bed643b21a6f', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Id54c22f820b1aa6315d721e354ce150c657bd4fd\n'}, {'number': 2, 'created': '2020-06-20 14:05:28.000000000', 'files': ['requirements.txt', 'babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/fa421e9178aa9bf2e327b13e3685974b0494a813', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Id54c22f820b1aa6315d721e354ce150c657bd4fd\n'}]",0,730429,fa421e9178aa9bf2e327b13e3685974b0494a813,16,5,2,30356,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Id54c22f820b1aa6315d721e354ce150c657bd4fd
",git fetch https://review.opendev.org/openstack/designate refs/changes/29/730429/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,04548bc6428840ed4afb8a0fa799bed643b21a6f,,, [egg_info] tag_build = tag_date = 0 tag_svn_revision = 0 [compile_catalog] directory = designate/locale domain = designate [update_catalog] domain = designate output_dir = designate/locale input_file = designate/locale/designate.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = designate/locale/designate.pot,0,21
openstack%2Fkolla-ansible~stable%2Ftrain~I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,openstack/kolla-ansible,stable/train,I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,fluentd: log to a file instead of stdout,MERGED,2020-07-28 05:48:41.000000000,2020-07-28 12:35:39.000000000,2020-07-28 12:32:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 05:48:41.000000000', 'files': ['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9648a0aa461e93da36cfe2f63b1f8d184bead8c0', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nCloses-Bug: #1888852\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n(cherry picked from commit 696533f22883d0b23f4a428dbdf5e22f3f1910ea)\n'}]",0,743457,9648a0aa461e93da36cfe2f63b1f8d184bead8c0,7,2,1,22629,,,0,"fluentd: log to a file instead of stdout

fluentd logs currently to stdout, which is known to produce big docker logs
in /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.

Closes-Bug: #1888852
Change-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90
(cherry picked from commit 696533f22883d0b23f4a428dbdf5e22f3f1910ea)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/743457/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2']",4,9648a0aa461e93da36cfe2f63b1f8d184bead8c0,fluentd_log_to_file-stable/train,"""/var/log/kolla/fluentd/*.log"" { } ",,15,1
openstack%2Fkolla-ansible~stable%2Ftrain~I3e0e077ba6a6f43667df042eb593107418a06c39,openstack/kolla-ansible,stable/train,I3e0e077ba6a6f43667df042eb593107418a06c39,Improve Grafana DB bootstrap,MERGED,2020-07-27 18:17:21.000000000,2020-07-28 12:25:16.000000000,2020-07-28 12:22:55.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 18:17:21.000000000', 'files': ['ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/fix-multi-instance-grafana-db-bootstrap-298feba3e1750aca.yaml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2031fc8a1c6b985d931532ee532af7fdc3fa266', 'message': ""Improve Grafana DB bootstrap\n\nThis fixes an issue where multiple Grafana instances would race\nto bootstrap the Grafana DB. The following changes are made:\n\n- Only start additional Grafana instances after the DB has been\n  configured.\n\n- During upgrade, don't allow old instances to run with an\n  upgraded DB schema.\n\nChange-Id: I3e0e077ba6a6f43667df042eb593107418a06c39\nCloses-Bug: #1888681\n(cherry picked from commit 2c730590d72e7b6d3056c53804f924d43dab8363)\n""}]",0,743300,f2031fc8a1c6b985d931532ee532af7fdc3fa266,8,3,1,14826,,,0,"Improve Grafana DB bootstrap

This fixes an issue where multiple Grafana instances would race
to bootstrap the Grafana DB. The following changes are made:

- Only start additional Grafana instances after the DB has been
  configured.

- During upgrade, don't allow old instances to run with an
  upgraded DB schema.

Change-Id: I3e0e077ba6a6f43667df042eb593107418a06c39
Closes-Bug: #1888681
(cherry picked from commit 2c730590d72e7b6d3056c53804f924d43dab8363)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/743300/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/fix-multi-instance-grafana-db-bootstrap-298feba3e1750aca.yaml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml']",5,f2031fc8a1c6b985d931532ee532af7fdc3fa266,bug/1888681,"- name: Restart first grafana container listen: Restart grafana container - inventory_hostname == groups[service.group]|first - name: Waiting for grafana to start on first node listen: Restart grafana container vars: service_name: ""grafana"" service: ""{{ grafana_services[service_name] }}"" become: true kolla_toolbox: module_name: uri module_args: url: ""http://{{ api_interface_address | put_address_in_context('url') }}:{{ grafana_server_port }}/login"" status_code: 200 register: result until: result.get('status') == 200 retries: 10 delay: 2 when: - inventory_hostname == groups[service.group]|first - name: Restart remaining grafana containers listen: Restart grafana container vars: service_name: ""grafana"" service: ""{{ grafana_services[service_name] }}"" become: true kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" dimensions: ""{{ service.dimensions }}"" when: - kolla_action != ""config"" - inventory_hostname != groups[service.group]|first",- name: Restart grafana container,136,2
openstack%2Fkolla-ansible~stable%2Fussuri~I3e0e077ba6a6f43667df042eb593107418a06c39,openstack/kolla-ansible,stable/ussuri,I3e0e077ba6a6f43667df042eb593107418a06c39,Improve Grafana DB bootstrap,MERGED,2020-07-27 18:15:23.000000000,2020-07-28 12:25:07.000000000,2020-07-28 12:22:54.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 18:15:23.000000000', 'files': ['ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/fix-multi-instance-grafana-db-bootstrap-298feba3e1750aca.yaml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d9650ab2d79540123525486ef17f5185bed120d', 'message': ""Improve Grafana DB bootstrap\n\nThis fixes an issue where multiple Grafana instances would race\nto bootstrap the Grafana DB. The following changes are made:\n\n- Only start additional Grafana instances after the DB has been\n  configured.\n\n- During upgrade, don't allow old instances to run with an\n  upgraded DB schema.\n\nChange-Id: I3e0e077ba6a6f43667df042eb593107418a06c39\nCloses-Bug: #1888681\n(cherry picked from commit 2c730590d72e7b6d3056c53804f924d43dab8363)\n""}]",0,743299,4d9650ab2d79540123525486ef17f5185bed120d,9,3,1,14826,,,0,"Improve Grafana DB bootstrap

This fixes an issue where multiple Grafana instances would race
to bootstrap the Grafana DB. The following changes are made:

- Only start additional Grafana instances after the DB has been
  configured.

- During upgrade, don't allow old instances to run with an
  upgraded DB schema.

Change-Id: I3e0e077ba6a6f43667df042eb593107418a06c39
Closes-Bug: #1888681
(cherry picked from commit 2c730590d72e7b6d3056c53804f924d43dab8363)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/743299/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/fix-multi-instance-grafana-db-bootstrap-298feba3e1750aca.yaml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml']",5,4d9650ab2d79540123525486ef17f5185bed120d,bug/1888681,"- name: Restart first grafana container listen: Restart grafana container - inventory_hostname == groups[service.group]|first - name: Waiting for grafana to start on first node listen: Restart grafana container vars: service_name: ""grafana"" service: ""{{ grafana_services[service_name] }}"" become: true kolla_toolbox: module_name: uri module_args: url: ""http://{{ api_interface_address | put_address_in_context('url') }}:{{ grafana_server_port }}/login"" status_code: 200 register: result until: result.get('status') == 200 retries: 10 delay: 2 when: - inventory_hostname == groups[service.group]|first - name: Restart remaining grafana containers listen: Restart grafana container vars: service_name: ""grafana"" service: ""{{ grafana_services[service_name] }}"" become: true kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" dimensions: ""{{ service.dimensions }}"" when: - kolla_action != ""config"" - inventory_hostname != groups[service.group]|first",- name: Restart grafana container,136,2
openstack%2Ftrove~master~I2e719772fe7abc719255ea2a705d9ec342aced2a,openstack/trove,master,I2e719772fe7abc719255ea2a705d9ec342aced2a,Resize replicas (volume) together with primary,MERGED,2020-07-27 21:37:40.000000000,2020-07-28 12:22:51.000000000,2020-07-28 12:20:54.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 28691}]","[{'number': 1, 'created': '2020-07-27 21:37:40.000000000', 'files': ['releasenotes/notes/victoria-resize-vollume-for-replication.yaml', 'trove/instance/models.py', 'trove/quota/quota.py', 'api-ref/source/instance-actions.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/8e48d757e64d7f88058584bbf2c2898a7a94b619', 'message': 'Resize replicas (volume) together with primary\n\nWhen resizing volume for an instance which is the primary of a\nreplication, cluster, Trove also resizes the volume for all the replicas\nautomatically.\n\nChange-Id: I2e719772fe7abc719255ea2a705d9ec342aced2a\n'}]",0,743422,8e48d757e64d7f88058584bbf2c2898a7a94b619,7,3,1,6732,,,0,"Resize replicas (volume) together with primary

When resizing volume for an instance which is the primary of a
replication, cluster, Trove also resizes the volume for all the replicas
automatically.

Change-Id: I2e719772fe7abc719255ea2a705d9ec342aced2a
",git fetch https://review.opendev.org/openstack/trove refs/changes/22/743422/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/victoria-resize-vollume-for-replication.yaml', 'trove/instance/models.py', 'trove/quota/quota.py', 'api-ref/source/instance-actions.inc']",4,8e48d757e64d7f88058584bbf2c2898a7a94b619,resize-volume,"For replication cluster, resizing volume of the primary will also resize replicas automatically. ",,39,19
openstack%2Ftrove-tempest-plugin~master~Id08df79f064ddf9a31247853fb19625e695f7bd0,openstack/trove-tempest-plugin,master,Id08df79f064ddf9a31247853fb19625e695f7bd0,Add volume resize functional test for replication,MERGED,2020-07-27 21:07:03.000000000,2020-07-28 12:22:27.000000000,2020-07-28 12:20:55.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 21:07:03.000000000', 'files': ['trove_tempest_plugin/tests/scenario/base_replication.py', 'trove_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/5371dbbd92b1a0bf58e2a47954e90a43168e0a5d', 'message': 'Add volume resize functional test for replication\n\nChange-Id: Id08df79f064ddf9a31247853fb19625e695f7bd0\n'}]",0,743415,5371dbbd92b1a0bf58e2a47954e90a43168e0a5d,7,2,1,6732,,,0,"Add volume resize functional test for replication

Change-Id: Id08df79f064ddf9a31247853fb19625e695f7bd0
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/15/743415/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_tempest_plugin/tests/scenario/base_replication.py', 'trove_tempest_plugin/tests/base.py']",2,5371dbbd92b1a0bf58e2a47954e90a43168e0a5d,create-replica," # Flavor, volume, datastore are not needed for creating replica. if replica_of: body = { ""instance"": { ""name"": name, ""nics"": [{""net-id"": cls.private_network}], ""access"": {""is_public"": True}, ""replica_of"": replica_of, } } elif not datastore_version: if not datastore_version: message = ('Failed to get available datastore version.') raise exceptions.TempestException(message) if not replica_of: body = { ""instance"": { ""name"": name, ""datastore"": { ""type"": cls.datastore, ""version"": datastore_version }, ""flavorRef"": CONF.database.flavor_id, ""volume"": { ""size"": 1, ""type"": CONF.database.volume_type }, ""nics"": [{""net-id"": cls.private_network}], ""databases"": [{""name"": database}], ""users"": [ { ""name"": username, ""password"": password, ""databases"": [{""name"": database}] } ], ""access"": {""is_public"": True} } } if backup_id: body['instance'].update( {'restorePoint': {'backupRef': backup_id}})"," if not datastore_version: if not datastore_version: message = ('Failed to get available datastore version.') raise exceptions.TempestException(message) body = { ""instance"": { ""name"": name, ""datastore"": { ""type"": cls.datastore, ""version"": datastore_version }, ""flavorRef"": CONF.database.flavor_id, ""volume"": { ""size"": 1, ""type"": CONF.database.volume_type }, ""nics"": [{""net-id"": cls.private_network}], ""databases"": [{""name"": database}], ""users"": [ { ""name"": username, ""password"": password, ""databases"": [{""name"": database}] } ], ""access"": {""is_public"": True} } } if backup_id: body['instance'].update({'restorePoint': {'backupRef': backup_id}}) if replica_of: body['instance']['replica_of'] = replica_of body['instance'].pop('databases', None) body['instance'].pop('users', None)",62,35
openstack%2Fopenstack-ansible~master~I8d8bea95d55b984a3e47de76adf6dfa16a8bcfdc,openstack/openstack-ansible,master,I8d8bea95d55b984a3e47de76adf6dfa16a8bcfdc,Bump SHAs for master,ABANDONED,2020-07-12 15:33:50.000000000,2020-07-28 12:12:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-12 15:33:50.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/glance_registry-0a1a1f8c60f5a368.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e573a300969638779c4121ed8ba49581ebd9aeef', 'message': 'Bump SHAs for master\n\nChange-Id: I8d8bea95d55b984a3e47de76adf6dfa16a8bcfdc\n'}]",0,740592,e573a300969638779c4121ed8ba49581ebd9aeef,3,1,1,28619,,,0,"Bump SHAs for master

Change-Id: I8d8bea95d55b984a3e47de76adf6dfa16a8bcfdc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/740592/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/glance_registry-0a1a1f8c60f5a368.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",6,e573a300969638779c4121ed8ba49581ebd9aeef,bump_osa,tempest_git_install_branch: a7203be653f25fa4c16703ad6839a5e51e2de4be # HEAD as of 12.07.2020,tempest_git_install_branch: fdde1314db23e907159ad1288a6189aa0e577abf # HEAD as of 28.06.2020,62,50
openstack%2Fmanila~stable%2Fussuri~I9c0b1f332ead25634f3dc3aebfdc8b51dfbc4178,openstack/manila,stable/ussuri,I9c0b1f332ead25634f3dc3aebfdc8b51dfbc4178,[NetApp] Fix HTTPS connection for python 3.7,MERGED,2020-06-24 12:15:09.000000000,2020-07-28 12:10:51.000000000,2020-06-25 18:59:31.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 31721}]","[{'number': 1, 'created': '2020-06-24 12:15:09.000000000', 'files': ['manila/share/drivers/netapp/dataontap/client/api.py', 'releasenotes/notes/bug-1878993-netapp-fix-https-3eddf9eb5b762f3a.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_api.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2dbdace6616d34bfb43c72905dda04c91bcf1dc6', 'message': '[NetApp] Fix HTTPS connection for python 3.7\n\nWith python3.7, the eventlet is breaking the ssl.py, so the https\nis not working. This patch fixes it by changing the request library\n(urllib by requests), the new library can be built over the\npyopenssl.py instead of ssl.py.\n\nCloses-Bug: #1878993\nChange-Id: I9c0b1f332ead25634f3dc3aebfdc8b51dfbc4178\n(cherry picked from commit 29622725e411402b835e3e45328a9e695f75ea78)\n'}]",0,737756,2dbdace6616d34bfb43c72905dda04c91bcf1dc6,14,6,1,30002,,,0,"[NetApp] Fix HTTPS connection for python 3.7

With python3.7, the eventlet is breaking the ssl.py, so the https
is not working. This patch fixes it by changing the request library
(urllib by requests), the new library can be built over the
pyopenssl.py instead of ssl.py.

Closes-Bug: #1878993
Change-Id: I9c0b1f332ead25634f3dc3aebfdc8b51dfbc4178
(cherry picked from commit 29622725e411402b835e3e45328a9e695f75ea78)
",git fetch https://review.opendev.org/openstack/manila refs/changes/56/737756/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/client/api.py', 'releasenotes/notes/bug-1878993-netapp-fix-https-3eddf9eb5b762f3a.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_api.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py']",4,2dbdace6616d34bfb43c72905dda04c91bcf1dc6,bug/1878993,import requestsFAKE_HTTP_SESSION = requests.Session(),from six.moves import urllibFAKE_HTTP_OPENER = urllib.request.build_opener(),58,50
openstack%2Fneutron~stable%2Fussuri~I2b9661d06b30eeb7752bdb4fad73778d2ed940d7,openstack/neutron,stable/ussuri,I2b9661d06b30eeb7752bdb4fad73778d2ed940d7,ovn-migration: Remove docker references,MERGED,2020-07-24 06:38:23.000000000,2020-07-28 12:03:52.000000000,2020-07-28 12:01:58.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-24 06:38:23.000000000', 'files': ['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'tools/ovn_migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/reduce-dhcp-renewal-time.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/clone-br-int.sh.j2', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a678c43646bd7fe3ac9f6d5a719d9733a3ccbe33', 'message': 'ovn-migration: Remove docker references\n\nDocker commands are replaced with podman. References to docker resources\nis fixed. Some improvements to avoid storing container ids and\nperforming operations is also done in this patch.\n\nChange-Id: I2b9661d06b30eeb7752bdb4fad73778d2ed940d7\n(cherry picked from commit 0e597a36d3315f67c0d1430f4b363c96115d9d18)\n'}]",0,742798,a678c43646bd7fe3ac9f6d5a719d9733a3ccbe33,32,5,1,8655,,,0,"ovn-migration: Remove docker references

Docker commands are replaced with podman. References to docker resources
is fixed. Some improvements to avoid storing container ids and
performing operations is also done in this patch.

Change-Id: I2b9661d06b30eeb7752bdb4fad73778d2ed940d7
(cherry picked from commit 0e597a36d3315f67c0d1430f4b363c96115d9d18)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/742798/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'tools/ovn_migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/reduce-dhcp-renewal-time.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/clone-br-int.sh.j2', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2']",6,a678c43646bd7fe3ac9f6d5a719d9733a3ccbe33,remove_docker-stable/ussuri,podman stop ovn_controllerpodman start ovn_controller,docker stop ovn_controllerdocker start ovn_controller,27,32
openstack%2Fneutron~stable%2Fpike~I388391cf697dade1a163d15ab568b33134f7b2d9,openstack/neutron,stable/pike,I388391cf697dade1a163d15ab568b33134f7b2d9,Switch isolated metadata proxy to bind to 169.254.169.254,MERGED,2020-06-02 15:22:38.000000000,2020-07-28 12:01:54.000000000,2020-07-28 12:01:54.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-02 15:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/562ea322bc8b9b4fc956c9df656a72be76c14620', 'message': 'Switch isolated metadata proxy to bind to 169.254.169.254\n\nCurrently the metadata proxy binds to default 0.0.0.0, which does not\nadd any advantage (metadata requests are not sent to random IP\naddresses), and may allow access to cloud information from\nthird parties.\n\nThis changes the generated configuration to bind to METADATA_DEFAULT_IP\naddress instead.\n\nThis is not enabled in other metadata proxy configuration (in the L3\nagent), as this would require net.ipv4.ip_nonlocal_bind everywhere\n(currently only enabled for DVR) or transparent mode in haproxy (which\nrequires net.ipv4.ip_nonlocal_bind anyway)\n\nChanged set_ip_nonlocal_bind_for_namespace() to support setting the\nvalue in both the given and root namespace correctly, since it was\nonly used from inside the neutron codebase according to codesearch.\n\nConflicts:\n\tneutron/agent/linux/dhcp.py\n\tneutron/tests/unit/agent/linux/test_ip_lib.py\n\nChange-Id: I388391cf697dade1a163d15ab568b33134f7b2d9\nCo-Authored-By: Andrey Arapov <andrey.arapov@nixaid.com>\nCloses-Bug: #1745618\n(cherry picked from commit 6124f6029729c3c800287f3f02329901d93ea021)\n(cherry picked from commit 13d23ba36340023bceaed46c5c13942b64f9e42f)\n'}, {'number': 2, 'created': '2020-06-03 11:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/121e930548a11d5900fb8e35a1f4c565282945c8', 'message': 'Switch isolated metadata proxy to bind to 169.254.169.254\n\nCurrently the metadata proxy binds to default 0.0.0.0, which does not\nadd any advantage (metadata requests are not sent to random IP\naddresses), and may allow access to cloud information from\nthird parties.\n\nThis changes the generated configuration to bind to METADATA_DEFAULT_IP\naddress instead.\n\nThis is not enabled in other metadata proxy configuration (in the L3\nagent), as this would require net.ipv4.ip_nonlocal_bind everywhere\n(currently only enabled for DVR) or transparent mode in haproxy (which\nrequires net.ipv4.ip_nonlocal_bind anyway)\n\nChanged set_ip_nonlocal_bind_for_namespace() to support setting the\nvalue in both the given and root namespace correctly, since it was\nonly used from inside the neutron codebase according to codesearch.\n\nConflicts:\n\tneutron/agent/linux/dhcp.py\n\tneutron/tests/unit/agent/linux/test_ip_lib.py\n\nChange-Id: I388391cf697dade1a163d15ab568b33134f7b2d9\nCo-Authored-By: Andrey Arapov <andrey.arapov@nixaid.com>\nCloses-Bug: #1745618\n(cherry picked from commit 6124f6029729c3c800287f3f02329901d93ea021)\n(cherry picked from commit 13d23ba36340023bceaed46c5c13942b64f9e42f)\n'}, {'number': 3, 'created': '2020-06-12 14:25:32.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/l3/dvr_snat_ns.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffe8080a91e27233299a38eb845a028682bde167', 'message': 'Switch isolated metadata proxy to bind to 169.254.169.254\n\nCurrently the metadata proxy binds to default 0.0.0.0, which does not\nadd any advantage (metadata requests are not sent to random IP\naddresses), and may allow access to cloud information from\nthird parties.\n\nThis changes the generated configuration to bind to METADATA_DEFAULT_IP\naddress instead.\n\nThis is not enabled in other metadata proxy configuration (in the L3\nagent), as this would require net.ipv4.ip_nonlocal_bind everywhere\n(currently only enabled for DVR) or transparent mode in haproxy (which\nrequires net.ipv4.ip_nonlocal_bind anyway)\n\nChanged set_ip_nonlocal_bind_for_namespace() to support setting the\nvalue in both the given and root namespace correctly, since it was\nonly used from inside the neutron codebase according to codesearch.\n\nConflicts:\n\tneutron/agent/linux/dhcp.py\n\tneutron/tests/unit/agent/linux/test_ip_lib.py\n\nChange-Id: I388391cf697dade1a163d15ab568b33134f7b2d9\nCo-Authored-By: Andrey Arapov <andrey.arapov@nixaid.com>\nCloses-Bug: #1745618\n(cherry picked from commit 6124f6029729c3c800287f3f02329901d93ea021)\n(cherry picked from commit 13d23ba36340023bceaed46c5c13942b64f9e42f)\n'}]",0,732712,ffe8080a91e27233299a38eb845a028682bde167,34,7,3,2733,,,0,"Switch isolated metadata proxy to bind to 169.254.169.254

Currently the metadata proxy binds to default 0.0.0.0, which does not
add any advantage (metadata requests are not sent to random IP
addresses), and may allow access to cloud information from
third parties.

This changes the generated configuration to bind to METADATA_DEFAULT_IP
address instead.

This is not enabled in other metadata proxy configuration (in the L3
agent), as this would require net.ipv4.ip_nonlocal_bind everywhere
(currently only enabled for DVR) or transparent mode in haproxy (which
requires net.ipv4.ip_nonlocal_bind anyway)

Changed set_ip_nonlocal_bind_for_namespace() to support setting the
value in both the given and root namespace correctly, since it was
only used from inside the neutron codebase according to codesearch.

Conflicts:
	neutron/agent/linux/dhcp.py
	neutron/tests/unit/agent/linux/test_ip_lib.py

Change-Id: I388391cf697dade1a163d15ab568b33134f7b2d9
Co-Authored-By: Andrey Arapov <andrey.arapov@nixaid.com>
Closes-Bug: #1745618
(cherry picked from commit 6124f6029729c3c800287f3f02329901d93ea021)
(cherry picked from commit 13d23ba36340023bceaed46c5c13942b64f9e42f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/732712/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/l3/dvr_snat_ns.py']",10,562ea322bc8b9b4fc956c9df656a72be76c14620,bug/1745618," ip_lib.set_ip_nonlocal_bind_for_namespace(self.name, 0)", ip_lib.set_ip_nonlocal_bind_for_namespace(self.name),45,28
openstack%2Fdiskimage-builder~master~I736bffe6dd9fb57e450505d62c6ca000f678ded2,openstack/diskimage-builder,master,I736bffe6dd9fb57e450505d62c6ca000f678ded2,Adds gnupg2 for apt-keys in ubuntu-minimal,MERGED,2020-07-27 13:41:01.000000000,2020-07-28 11:59:41.000000000,2020-07-28 11:56:33.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 13:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/367096a9507647f97b44b831c5aa98c9e2fafdf0', 'message': 'Adds gnupg2 for apt-keys in ubuntu-minimal\n\nChange present in debian-minimal pushed to ubuntu-minimal.\n\nChange-Id: I736bffe6dd9fb57e450505d62c6ca000f678ded2\nCloses-Bug: #188907\n'}, {'number': 2, 'created': '2020-07-27 14:46:13.000000000', 'files': ['diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/840f8ed2b2a5938be14c42d935a30d7f062ba5d9', 'message': 'Adds gnupg2 for apt-keys in ubuntu-minimal\n\nChange present in debian-minimal pushed to ubuntu-minimal.\n\nChange-Id: I736bffe6dd9fb57e450505d62c6ca000f678ded2\nCloses-Bug: #1889076\n'}]",0,743229,840f8ed2b2a5938be14c42d935a30d7f062ba5d9,13,7,2,23518,,,0,"Adds gnupg2 for apt-keys in ubuntu-minimal

Change present in debian-minimal pushed to ubuntu-minimal.

Change-Id: I736bffe6dd9fb57e450505d62c6ca000f678ded2
Closes-Bug: #1889076
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/29/743229/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall'],1,367096a9507647f97b44b831c5aa98c9e2fafdf0,bug/1889076,"# required for dpkg element to be able to add apt keys to_install+=""gnupg2 """,,2,0
openstack%2Fcharm-trilio-horizon-plugin~master~Ic1f31a21d50f69d8639c3b007c80d99de35a569c,openstack/charm-trilio-horizon-plugin,master,Ic1f31a21d50f69d8639c3b007c80d99de35a569c,Release sync for 20.08,MERGED,2020-07-27 20:00:43.000000000,2020-07-28 11:46:13.000000000,2020-07-28 11:46:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 20:00:43.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/c28adacad19a15d2a4c615a1fdc8969e3f692393', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ic1f31a21d50f69d8639c3b007c80d99de35a569c\n'}]",0,743391,c28adacad19a15d2a4c615a1fdc8969e3f692393,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ic1f31a21d50f69d8639c3b007c80d99de35a569c
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/91/743391/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/test-requirements.txt']",5,c28adacad19a15d2a4c615a1fdc8969e3f692393,batch-2008-release-sync,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,git+https://github.com/javacruft/zaza-openstack-tests.git@triliovault-testing#egg=zaza.openstack,30,7
openstack%2Fcharm-octavia-dashboard~master~Icec73224db6d61370af014d1e0a38f9efac8a070,openstack/charm-octavia-dashboard,master,Icec73224db6d61370af014d1e0a38f9efac8a070,Release sync for 20.08,MERGED,2020-07-27 19:57:32.000000000,2020-07-28 11:42:47.000000000,2020-07-28 11:42:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:57:32.000000000', 'files': ['rebuild', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/e7443c7438a786cea6088d25344119f58170818c', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Icec73224db6d61370af014d1e0a38f9efac8a070\n'}]",0,743376,e7443c7438a786cea6088d25344119f58170818c,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Icec73224db6d61370af014d1e0a38f9efac8a070
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/76/743376/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'tox.ini']",2,e7443c7438a786cea6088d25344119f58170818c,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,6,1
openstack%2Fcharm-trilio-wlm~master~Iaf412e8cc8b438dff38b39ed7f4967147f321448,openstack/charm-trilio-wlm,master,Iaf412e8cc8b438dff38b39ed7f4967147f321448,Release sync for 20.08,MERGED,2020-07-27 20:00:55.000000000,2020-07-28 11:41:37.000000000,2020-07-28 11:41:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 20:00:55.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/fac705abdf261a0d97f0d7716b82c6380d01a00a', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Iaf412e8cc8b438dff38b39ed7f4967147f321448\n'}]",0,743392,fac705abdf261a0d97f0d7716b82c6380d01a00a,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Iaf412e8cc8b438dff38b39ed7f4967147f321448
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/92/743392/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt']",4,fac705abdf261a0d97f0d7716b82c6380d01a00a,batch-2008-release-sync,"# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # Lint and unit test requirements flake8>=2.2.4,<=2.4.1requests>=2.18.4nose>=1.3.7git+https://github.com/openstack/charms.openstack.git#egg=charms.openstack # # Revisit for removal / mock improvement: netifaces # vault psycopg2-binary # vault tenacity # vault pbr # vault cryptography # vault, keystone-saml-mellon lxml # keystone-saml-mellon hvac # vault, barbican-vault",# Unit test requirements flake8>=2.2.4git+https://github.com/openstack/charms.openstack#egg=charms.openstack,29,6
openstack%2Fcharm-trilio-dm-api~master~I975e7042bf5670495054b4a5f58c38ba6cd43995,openstack/charm-trilio-dm-api,master,I975e7042bf5670495054b4a5f58c38ba6cd43995,Release sync for 20.08,MERGED,2020-07-27 20:00:30.000000000,2020-07-28 11:37:47.000000000,2020-07-28 11:37:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 20:00:30.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/8c51cd325cc63c2bcf2f32fe749e7531e8c350bf', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I975e7042bf5670495054b4a5f58c38ba6cd43995\n'}]",0,743390,8c51cd325cc63c2bcf2f32fe749e7531e8c350bf,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I975e7042bf5670495054b4a5f58c38ba6cd43995
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/90/743390/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/test-requirements.txt']",5,8c51cd325cc63c2bcf2f32fe749e7531e8c350bf,batch-2008-release-sync,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,git+https://github.com/javacruft/zaza-openstack-tests.git@triliovault-testing#egg=zaza.openstack,30,7
openstack%2Fcharm-trilio-wlm~master~Icf8d6c416f52ef812a8ad21e407aa67843e6eeb9,openstack/charm-trilio-wlm,master,Icf8d6c416f52ef812a8ad21e407aa67843e6eeb9,Remove groovy from metadata,MERGED,2020-07-28 09:58:00.000000000,2020-07-28 11:37:34.000000000,2020-07-28 11:37:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-28 09:58:00.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/4de7d78a98875d38755518e5f13c281bb642cc9e', 'message': ""Remove groovy from metadata\n\nThe charm shouldn't support it as the vendor's system doens't support\nit.\n\nChange-Id: Icf8d6c416f52ef812a8ad21e407aa67843e6eeb9\n""}]",0,743497,4de7d78a98875d38755518e5f13c281bb642cc9e,7,3,1,20870,,,0,"Remove groovy from metadata

The charm shouldn't support it as the vendor's system doens't support
it.

Change-Id: Icf8d6c416f52ef812a8ad21e407aa67843e6eeb9
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/97/743497/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,4de7d78a98875d38755518e5f13c281bb642cc9e,remove-groovy-metadata,,- groovy,0,1
openstack%2Fcharm-percona-cluster~master~Ib42a0228f299acbd9dc6a9b9c6c232f0fedbfc16,openstack/charm-percona-cluster,master,Ib42a0228f299acbd9dc6a9b9c6c232f0fedbfc16,Release sync for 20.08,MERGED,2020-07-27 19:59:14.000000000,2020-07-28 11:34:30.000000000,2020-07-28 11:34:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:59:14.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/f2916a4f0957cc93d8f0f9a3b17213c7360c0397', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ib42a0228f299acbd9dc6a9b9c6c232f0fedbfc16\n'}]",0,743384,f2916a4f0957cc93d8f0f9a3b17213c7360c0397,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ib42a0228f299acbd9dc6a9b9c6c232f0fedbfc16
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/84/743384/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/__init__.py']",8,f2916a4f0957cc93d8f0f9a3b17213c7360c0397,batch-2008-release-sync," The date which is a string in semi-ISO8660 format indicates the year-month :param warning: String to indicate what is to be used instead. :param date: Optional string in YYYY-MM format to indicate when the :param log: The log function to call in order to log. If None, logs to stdout"," The date, which is a string in semi-ISO8660 format indicate the year-month :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the :param log: The log function to call to log. If not, logs to stdout",81,25
openstack%2Fneutron~master~I8ed1fc85c2f78710bf6589ba3deca518471339b8,openstack/neutron,master,I8ed1fc85c2f78710bf6589ba3deca518471339b8,Set OVS manager command timeout and inactiviy probe,MERGED,2020-04-17 13:33:03.000000000,2020-07-28 11:30:58.000000000,2020-07-28 11:27:37.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-17 13:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e36805d9beee21ea0a7207db43f16ab6c22b4a3e', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 2, 'created': '2020-04-17 17:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4930b11c0f1cbcf5f8571cd45ac7152dead8f5c', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 3, 'created': '2020-04-18 09:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/421e62ab915c9d05bc1f7a845d1b13a8d6770f33', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 4, 'created': '2020-04-23 16:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e99abba84c7ac33fa9c0bf7d94fdb4199bc430b7', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 5, 'created': '2020-05-26 08:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5db70c8c4a9323af6cf5854c984db983a9f2e9e8', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 6, 'created': '2020-05-27 17:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e67a00a1137a67ef1480f92c3940b7f1b5eb911', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 7, 'created': '2020-05-28 13:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8cda2536d034987e527d124b349dd8a51a3d95c', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 8, 'created': '2020-07-06 17:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b1fc6c4181ac1fef79d93e1cfd64a0583cd36a3', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 9, 'created': '2020-07-07 18:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4b2a3756499cf27a2a6cc4fccfff4adf2bf26f9', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}, {'number': 10, 'created': '2020-07-16 15:56:27.000000000', 'files': ['requirements.txt', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_ovs_bridge.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/ovsdb/native/test_helpers.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'lower-constraints.txt', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/agent/ovsdb/native/helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de4c10882fc31f91c58f341d1e25cc769edac5af', 'message': 'Set OVS manager command timeout and inactiviy probe\n\nWhen creating the OVS manager, define the command timeout\n(CONF.OVS.ovsdb_timeout) and inactivity probe time\n(CONF.OVS.of_inactivity_probe)\n\nNOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the\nparameter should be passed to ovs-vsctl in milliseconds [1].\n\n[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt\n\nDepends-On: https://review.opendev.org/#/c/720785\n\nChange-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8\nCloses-Bug: #1868686\n'}]",12,720711,de4c10882fc31f91c58f341d1e25cc769edac5af,65,13,10,16688,,,0,"Set OVS manager command timeout and inactiviy probe

When creating the OVS manager, define the command timeout
(CONF.OVS.ovsdb_timeout) and inactivity probe time
(CONF.OVS.of_inactivity_probe)

NOTE: CONF.OVS.of_inactivity_probe is defined in seconds but the
parameter should be passed to ovs-vsctl in milliseconds [1].

[1]http://www.openvswitch.org/support/dist-docs/ovs-vswitchd.conf.db.5.txt

Depends-On: https://review.opendev.org/#/c/720785

Change-Id: I8ed1fc85c2f78710bf6589ba3deca518471339b8
Closes-Bug: #1868686
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/720711/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/agent/ovsdb/native/helpers.py']",3,e36805d9beee21ea0a7207db43f16ab6c22b4a3e,bug/1868686,"from oslo_config import cfg log_fail_as_error=False, check_exit_code=False, timeout=cfg.CONF.OVS.ovsdb_timeout, inactivity_probe=int(cfg.CONF.OVS.of_inactivity_probe) * 1000)"," log_fail_as_error=False, check_exit_code=False)",4,59
openstack%2Fneutron~master~I57a4508f42820db7876a9a8a63bb4d46e7b7ac28,openstack/neutron,master,I57a4508f42820db7876a9a8a63bb4d46e7b7ac28,Remove DbBasePluginCommon._get_subnet unused method,MERGED,2020-07-24 09:13:13.000000000,2020-07-28 11:29:04.000000000,2020-07-28 11:27:34.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-24 09:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed2707dca6ed5c493f7ab2403f07d76cbd3c8a62', 'message': 'Remove DbBasePluginCommon._get_subnet unused method\n\nChange-Id: I57a4508f42820db7876a9a8a63bb4d46e7b7ac28\n'}, {'number': 2, 'created': '2020-07-24 17:07:58.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0c9cc4c8fca0b146504c82824ff6477cc4cc692', 'message': 'Remove DbBasePluginCommon._get_subnet unused method\n\nChange-Id: I57a4508f42820db7876a9a8a63bb4d46e7b7ac28\n'}]",0,742829,d0c9cc4c8fca0b146504c82824ff6477cc4cc692,25,10,2,16688,,,0,"Remove DbBasePluginCommon._get_subnet unused method

Change-Id: I57a4508f42820db7876a9a8a63bb4d46e7b7ac28
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/742829/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_common.py'],1,ed2707dca6ed5c493f7ab2403f07d76cbd3c8a62,remove_get_subnet,," def _get_subnet(self, context, id): # TODO(slaweq): remove this method when all will be switched to use OVO # objects only try: subnet = model_query.get_by_id(context, models_v2.Subnet, id) except exc.NoResultFound: raise exceptions.SubnetNotFound(subnet_id=id) return subnet ",0,9
openstack%2Fnova~master~I2a3805cb80c4cebfeb6930fc4442499641deda96,openstack/nova,master,I2a3805cb80c4cebfeb6930fc4442499641deda96,DNM: tesging nova greande job,ABANDONED,2020-07-20 14:28:35.000000000,2020-07-28 11:17:37.000000000,,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-20 14:28:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2703018cce5f4bbc98919e9bf9759fb8873eaa4', 'message': 'DNM: tesging nova greande job\n\nDepends-On: https://review.opendev.org/#/c/741955/\nChange-Id: I2a3805cb80c4cebfeb6930fc4442499641deda96\n'}]",0,741956,c2703018cce5f4bbc98919e9bf9759fb8873eaa4,6,4,1,8556,,,0,"DNM: tesging nova greande job

Depends-On: https://review.opendev.org/#/c/741955/
Change-Id: I2a3805cb80c4cebfeb6930fc4442499641deda96
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/741956/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2703018cce5f4bbc98919e9bf9759fb8873eaa4,, Base job for multinode nova devstack/tempest jobs., Base job for multinode nova devstack/tempest jobs.,1,1
openstack%2Fnova~master~Ie30829c45b4f28747f75cda1ff4e17e12350c3a1,openstack/nova,master,Ie30829c45b4f28747f75cda1ff4e17e12350c3a1,DNM: testing only,ABANDONED,2020-06-16 17:34:32.000000000,2020-07-28 11:17:27.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-16 17:34:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d24635452fab5aa3762fb7f8e645078f93278bd4', 'message': 'DNM: testing only\n\nDepends-On: https://review.opendev.org/#/c/708062\nChange-Id: Ie30829c45b4f28747f75cda1ff4e17e12350c3a1\n'}]",0,735978,d24635452fab5aa3762fb7f8e645078f93278bd4,12,9,1,8556,,,0,"DNM: testing only

Depends-On: https://review.opendev.org/#/c/708062
Change-Id: Ie30829c45b4f28747f75cda1ff4e17e12350c3a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/735978/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d24635452fab5aa3762fb7f8e645078f93278bd4,, Base job for multinode nova devstack/tempest jobs., Base job for multinode nova devstack/tempest jobs.,1,1
openstack%2Fneutron~stable%2Ftrain~Ib51cde89ed873f48db4daebc27a0980da9cc0f19,openstack/neutron,stable/train,Ib51cde89ed873f48db4daebc27a0980da9cc0f19,[OVN] Allow IP allocation with different segments for OVN service ports,MERGED,2020-07-24 12:52:52.000000000,2020-07-28 11:14:38.000000000,2020-07-28 11:12:30.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-24 12:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d59b9f03737ee00e73475ccbabfe59197c1cbdb0', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nConflicts:\n   neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)\n'}, {'number': 2, 'created': '2020-07-27 11:54:12.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'doc/source/admin/intro-os-networking.rst', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f1912a1d195dc69eed9d9aa8ff8c4ef12448b75', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\nFor stable branches we decide if a port is distributed or not\nby looking for DEVICE_OWNER_DHCP device owner  and `ovn` device_id,\ninstead DEVICE_OWNER_DISTRIBUTED device owner.\n\nConflicts:\n   neutron/db/ipam_backend_mixin.py\n   neutron/tests/unit/db/test_ipam_pluggable_backend.py\n   neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)\n'}]",0,742872,8f1912a1d195dc69eed9d9aa8ff8c4ef12448b75,13,4,2,24791,,,0,"[OVN] Allow IP allocation with different segments for OVN service ports

OVN creates localport [1] for each network that has metadata
and allocate IP address from subnet within this network that has
DHCP enabled. The traffic from this port will never go outside
the chassis.

While using multiple segments with subnet linked to each segment
OVN needs to create an allocation of IP address for each of those
subnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.

The change [3] started to validate that condition, while multiple
IP addresses from different segments are tried to be allocated on
one port. We can skip this for OVN Metadata port, because there
is no reason to prevent those kind of allocation for OVN.

For stable branches we decide if a port is distributed or not
by looking for DEVICE_OWNER_DHCP device owner  and `ovn` device_id,
instead DEVICE_OWNER_DISTRIBUTED device owner.

Conflicts:
   neutron/db/ipam_backend_mixin.py
   neutron/tests/unit/db/test_ipam_pluggable_backend.py
   neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html
[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279
[3] https://review.opendev.org/#/c/709444/

Change-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19
Closes-Bug: 1871608
(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/742872/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'doc/source/admin/intro-os-networking.rst', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'doc/source/admin/config-routed-networks.rst']",7,d59b9f03737ee00e73475ccbabfe59197c1cbdb0,bug/1871608,"available on the particular compute node. Neutron port could be associated with only one network segment, but there is an exception for OVN distributed services like OVN Metadata. ",available on the particular compute node.,86,16
openstack%2Fneutron~stable%2Fussuri~Ib51cde89ed873f48db4daebc27a0980da9cc0f19,openstack/neutron,stable/ussuri,Ib51cde89ed873f48db4daebc27a0980da9cc0f19,[OVN] Allow IP allocation with different segments for OVN service ports,MERGED,2020-07-24 10:44:41.000000000,2020-07-28 11:14:13.000000000,2020-07-28 11:12:26.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-24 10:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c6039b2c5d413d8ffabc64cc15cddaddda109ab', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)\n'}, {'number': 2, 'created': '2020-07-24 12:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c557f9d42e68c61ea19b687e59c0e9823fcdc039', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)\n'}, {'number': 3, 'created': '2020-07-27 11:52:25.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'doc/source/admin/intro-os-networking.rst', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab32d7ae64fada57863565f2c924971a42c4145b', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\nFor stable branches we decide if a port is distributed or not\nby looking for DEVICE_OWNER_DHCP device owner  and `ovn` device_id,\ninstead DEVICE_OWNER_DISTRIBUTED device owner.\n\nConflicts:\n   neutron/db/ipam_backend_mixin.py\n   neutron/tests/unit/db/test_ipam_pluggable_backend.py\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)\n'}]",0,742851,ab32d7ae64fada57863565f2c924971a42c4145b,16,5,3,24791,,,0,"[OVN] Allow IP allocation with different segments for OVN service ports

OVN creates localport [1] for each network that has metadata
and allocate IP address from subnet within this network that has
DHCP enabled. The traffic from this port will never go outside
the chassis.

While using multiple segments with subnet linked to each segment
OVN needs to create an allocation of IP address for each of those
subnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.

The change [3] started to validate that condition, while multiple
IP addresses from different segments are tried to be allocated on
one port. We can skip this for OVN Metadata port, because there
is no reason to prevent those kind of allocation for OVN.

For stable branches we decide if a port is distributed or not
by looking for DEVICE_OWNER_DHCP device owner  and `ovn` device_id,
instead DEVICE_OWNER_DISTRIBUTED device owner.

Conflicts:
   neutron/db/ipam_backend_mixin.py
   neutron/tests/unit/db/test_ipam_pluggable_backend.py

[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html
[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279
[3] https://review.opendev.org/#/c/709444/

Change-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19
Closes-Bug: 1871608
(cherry picked from commit 8d1512afb07a9a77958c44f2e7f5d47865c8a475)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/742851/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'doc/source/admin/intro-os-networking.rst', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'doc/source/admin/config-routed-networks.rst']",8,6c6039b2c5d413d8ffabc64cc15cddaddda109ab,bug/1871608,"available on the particular compute node. Neutron port could be associated with only one network segment, but there is an exception for OVN distributed services like OVN Metadata. ",available on the particular compute node.,198,16
openstack%2Fmanila~stable%2Fqueens~I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f,openstack/manila,stable/queens,I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f,CIFS extension failing because of volume in use,MERGED,2020-07-25 11:10:39.000000000,2020-07-28 11:12:07.000000000,2020-07-28 09:34:33.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26768}]","[{'number': 1, 'created': '2020-07-25 11:10:39.000000000', 'files': ['manila/share/drivers/helpers.py', 'releasenotes/notes/bug-1703581-cifs-extension-failing-because-of-volume-in-use-3fea31c4a58e2f1b.yaml', 'manila/tests/share/drivers/test_helpers.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/48b2c835bba0346df6d06090a12d492196f9c19f', 'message': 'CIFS extension failing because of volume in use\n\nUnmouting of the volume from service instance sometimes fails because\nWindows clients tends to check the availability of shares even if not\nmounted and the volume is in use then.\n\nFix finds out processes via smbstatus and kill them before unmounting.\n\nCloses-Bug: 1703581\nChange-Id: I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 2c9fbc75059ac724cd845317473b7df4a8dcdc35)\n(cherry picked from commit 95d251e38b4b4526c862a428da93f568fe7a23ad)\n(cherry picked from commit b07c2484b6f0d5165d867651fbc123280e7b012d)\n(cherry picked from commit a26b027b73669efb2a99530574051d284595b264)\n(cherry picked from commit a627a29e7225202475a8cdc927911b3cd80b487c)\n'}]",0,743028,48b2c835bba0346df6d06090a12d492196f9c19f,15,4,1,9003,,,0,"CIFS extension failing because of volume in use

Unmouting of the volume from service instance sometimes fails because
Windows clients tends to check the availability of shares even if not
mounted and the volume is in use then.

Fix finds out processes via smbstatus and kill them before unmounting.

Closes-Bug: 1703581
Change-Id: I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 2c9fbc75059ac724cd845317473b7df4a8dcdc35)
(cherry picked from commit 95d251e38b4b4526c862a428da93f568fe7a23ad)
(cherry picked from commit b07c2484b6f0d5165d867651fbc123280e7b012d)
(cherry picked from commit a26b027b73669efb2a99530574051d284595b264)
(cherry picked from commit a627a29e7225202475a8cdc927911b3cd80b487c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/743028/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/helpers.py', 'releasenotes/notes/bug-1703581-cifs-extension-failing-because-of-volume-in-use-3fea31c4a58e2f1b.yaml', 'manila/tests/share/drivers/test_helpers.py']",3,48b2c835bba0346df6d06090a12d492196f9c19f,bug/1703581," kickoff_user_cmd = ['sudo', 'smbstatus', '-S'] self._helper._ssh_exec.assert_any_call( self.server_details, kickoff_user_cmd) self._helper._ssh_exec.assert_any_call( def test__kick_out_users_success(self): smbstatus_return = """"""Service pid machine Connected at ------------------------------------------------------- fake_share_name 1001 fake_machine1 Thu Sep 14 14:59:07 2017 fake_share_name 1002 fake_machine2 Thu Sep 14 14:59:07 2017 """""" self.mock_object(self._helper, '_ssh_exec', mock.Mock( side_effect=[(smbstatus_return, ""fake_stderr""), (""fake"", ""fake"")])) self._helper._kick_out_users(self.server_details, self.share_name) self._helper._ssh_exec.assert_any_call( self.server_details, ['sudo', 'smbstatus', '-S']) self._helper._ssh_exec.assert_any_call( self.server_details, [""sudo"", ""kill"", ""-15"", ""1001"", ""1002""]) def test__kick_out_users_failed(self): smbstatus_return = """"""Service pid machine Connected at ------------------------------------------------------- fake line """""" self.mock_object(self._helper, '_ssh_exec', mock.Mock( return_value=(smbstatus_return, ""fake_stderr""))) self.assertRaises(exception.ShareBackendException, self._helper._kick_out_users, self.server_details, self.share_name) ", self._helper._ssh_exec.assert_called_once_with(,57,1
openstack%2Fkolla-ansible~master~I4c83f1810ef1222aaa3560174c1ba39328853c4e,openstack/kolla-ansible,master,I4c83f1810ef1222aaa3560174c1ba39328853c4e,Move TLS documentation to its own page,MERGED,2020-07-27 09:50:43.000000000,2020-07-28 10:33:53.000000000,2020-07-28 10:30:41.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-07-27 09:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e27955d1d9ff46e192538b2f14796a496ae26f94', 'message': 'Move TLS documentation to its own page\n\nMoved the TLS documentation from ""advanced-configuration"" doc to it\'s\nown TLS document. This is in preparation for improving it.\n\nChange-Id: I4c83f1810ef1222aaa3560174c1ba39328853c4e\nCo-Authored-By: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 2, 'created': '2020-07-27 10:06:00.000000000', 'files': ['doc/source/admin/tls.rst', 'doc/source/admin/index.rst', 'doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3870c74d0b31a3348d440f890d6a879e8232dd84', 'message': 'Move TLS documentation to its own page\n\nMoved the TLS documentation from ""advanced-configuration"" doc to its\nown TLS document. This is in preparation for improving it.\n\nChange-Id: I4c83f1810ef1222aaa3560174c1ba39328853c4e\nCo-Authored-By: James Kirsch <generalfuzz@gmail.com>\n'}]",0,743180,3870c74d0b31a3348d440f890d6a879e8232dd84,11,4,2,14826,,,0,"Move TLS documentation to its own page

Moved the TLS documentation from ""advanced-configuration"" doc to its
own TLS document. This is in preparation for improving it.

Change-Id: I4c83f1810ef1222aaa3560174c1ba39328853c4e
Co-Authored-By: James Kirsch <generalfuzz@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/743180/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/tls.rst', 'doc/source/admin/index.rst', 'doc/source/admin/advanced-configuration.rst']",3,e27955d1d9ff46e192538b2f14796a496ae26f94,,Configuration of TLS is now covered :doc:`here <tls>`.,"An additional endpoint configuration option is to enable or disable TLS protection for the internal and/or external VIP. TLS allows a client to authenticate the OpenStack service endpoint and allows for encryption of the requests and responses. The configuration variables that control TLS networking are: - kolla_enable_tls_external - kolla_external_fqdn_cert - kolla_enable_tls_internal - kolla_internal_fqdn_cert .. note:: If TLS is enabled only on the internal or the external network the kolla_internal_vip_address and kolla_external_vip_address must be different. If there is only a single network configured in your network topology (opposed to configuring seperate internal and external networks), TLS can be enabled using only the internal network configuration variables. The default for TLS is disabled, to enable TLS networking: .. code-block:: yaml kolla_enable_tls_external: ""yes"" kolla_external_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert.pem"" and/or kolla_enable_tls_internal: ""yes"" kolla_internal_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert-internal.pem"" .. note:: TLS authentication is based on certificates that have been signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org is a CA that will provide trusted certificates at no charge. Many company's IT departments will provide certificates within that company's domain. If using a trusted CA is not possible for your situation, you can use `OpenSSL <https://www.openssl.org>`__ to create your own company's domain or see the section below about kolla generated self-signed certificates. Two certificate files are required to use TLS securely with authentication. These two files will be provided by your Certificate Authority. These two files are the server certificate with private key and the CA certificate with any intermediate certificates. The server certificate needs to be installed with the kolla deployment and is configured with the ``kolla_external_fqdn_cert`` or ``kolla_internal_fqdn_cert`` parameter. If the server certificate provided is not already trusted by the client, then the CA certificate file will need to be distributed to the client. When using TLS to connect to a public endpoint, an OpenStack client will have settings similar to this: .. code-block:: shell export OS_PROJECT_DOMAIN_ID=default export OS_USER_DOMAIN_ID=default export OS_PROJECT_NAME=demo export OS_USERNAME=demo export OS_PASSWORD=demo-password export OS_AUTH_URL=https://mykolla.example.net:5000 # os_cacert is optional for trusted certificates export OS_CACERT=/etc/pki/ca/mykolla-cacert.crt export OS_IDENTITY_API_VERSION=3 Self-Signed Certificates ~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: Self-signed certificates should never be used in production. It is not always practical to get a certificate signed by a well-known trust CA, for example a development or internal test kolla deployment. In these cases it can be useful to have a self-signed certificate to use. For convenience, the ``kolla-ansible`` command will generate the necessary certificate files based on the information in the ``globals.yml`` configuration file: .. code-block:: console kolla-ansible certificates The certificate file haproxy.pem will be generated and stored in the ``/etc/kolla/certificates/`` directory, and the CA cert will be in the ``/etc/kolla/certificates/ca/`` directory. Adding CA Certificates to the Service Containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To copy CA certificate files to the service containers .. code-block:: yaml kolla_copy_ca_into_containers: ""yes"" When ``kolla_copy_ca_into_containers`` is configured to ""yes"", the CA certificate files in /etc/kolla/certificates/ca will be copied into service containers to enable trust for those CA certificates. This is required for any certificates that are either self-signed or signed by a private CA, and are not already present in the service image trust store. All certificate file names will have the ""kolla-customca-"" prefix prepended to it when it is copied into the containers. For example, if a certificate file is named ""internal.crt"", it will be named ""kolla-customca-internal.crt"" in the containers. For Debian and Ubuntu containers, the certificate files will be copied to the ``/usr/local/share/ca-certificates/`` directory. For Centos and Red Hat Linux containers, the certificate files will be copied to the ``/etc/pki/ca-trust/source/anchors/`` directory. In addition, the ``openstack_cacert`` should be configured with the path to the cacert in the container. For example, if the self-signed certificate task was used and the deployment is on ubuntu, the path would be: ""/etc/pki/ca-trust/source/anchors/kolla-customca-haproxy-internal.crt""",130,124
openstack%2Fkolla-ansible~master~Iea4d0499b92e2449ef8bc01651af6d3548ceab20,openstack/kolla-ansible,master,Iea4d0499b92e2449ef8bc01651af6d3548ceab20,Drop a no-longer-relevant note,MERGED,2020-07-27 15:35:48.000000000,2020-07-28 10:32:30.000000000,2020-07-28 10:30:39.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 15:35:48.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fffe9021ffc8c8e2b95581f45fd9043080b2a005', 'message': 'Drop a no-longer-relevant note\n\nModern Ansible handles this just fine.\n\nChange-Id: Iea4d0499b92e2449ef8bc01651af6d3548ceab20\n'}]",0,743261,fffe9021ffc8c8e2b95581f45fd9043080b2a005,9,3,1,30491,,,0,"Drop a no-longer-relevant note

Modern Ansible handles this just fine.

Change-Id: Iea4d0499b92e2449ef8bc01651af6d3548ceab20
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/743261/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,fffe9021ffc8c8e2b95581f45fd9043080b2a005,drop-note,,# NOTE(gmmaha): Please do not change the order listed here. The current order is a # workaround to fix the bug https://bugs.launchpad.net/kolla/+bug/1546789,0,2
openstack%2Fblazar-tempest-plugin~master~I30cf367a40620ce6c57d43df4be48a9a9d18ced6,openstack/blazar-tempest-plugin,master,I30cf367a40620ce6c57d43df4be48a9a9d18ced6,Port the blazar jobs to native Zuul v3,MERGED,2020-06-02 14:41:33.000000000,2020-07-28 10:14:56.000000000,2020-07-28 10:09:37.000000000,"[{'_account_id': 10459}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-06-02 14:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/d92c4dced0e584b9b42a04924f96f2465450cd12', 'message': 'Port the blazar jobs to native Zuul v3\n\n- move the base devstack jobs to blazar-tempest-plugin,\n  following the pattern used by other jobs, and make it\n  easier to use them on all branches;\n- rename the jobs using the current convention;\n- make the branch-specific jobs inherit from the base\n  (IPv4) job.\n\nChange-Id: I30cf367a40620ce6c57d43df4be48a9a9d18ced6\n'}, {'number': 2, 'created': '2020-06-02 14:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/7458519310c75a37928149b551d8147316fdcd86', 'message': 'Port the blazar jobs to native Zuul v3\n\n- move the base devstack jobs to blazar-tempest-plugin,\n  following the pattern used by other jobs, and make it\n  easier to use them on all branches;\n- rename the jobs using the current convention;\n- make the branch-specific jobs inherit from the base\n  (IPv4) job.\n\nChange-Id: I30cf367a40620ce6c57d43df4be48a9a9d18ced6\n'}, {'number': 3, 'created': '2020-07-24 08:48:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/064d2ae486aa0a38129768def3918993302ba9e0', 'message': 'Port the blazar jobs to native Zuul v3\n\n- move the base devstack jobs to blazar-tempest-plugin,\n  following the pattern used by other jobs, and make it\n  easier to use them on all branches;\n- rename the jobs using the current convention;\n- make the branch-specific jobs inherit from the base\n  (IPv4) job.\n\nChange-Id: I30cf367a40620ce6c57d43df4be48a9a9d18ced6\n'}]",1,732694,064d2ae486aa0a38129768def3918993302ba9e0,18,4,3,10459,,,0,"Port the blazar jobs to native Zuul v3

- move the base devstack jobs to blazar-tempest-plugin,
  following the pattern used by other jobs, and make it
  easier to use them on all branches;
- rename the jobs using the current convention;
- make the branch-specific jobs inherit from the base
  (IPv4) job.

Change-Id: I30cf367a40620ce6c57d43df4be48a9a9d18ced6
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/94/732694/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d92c4dced0e584b9b42a04924f96f2465450cd12,native-zuulv3-migration, - blazar-tempest-plugin-base - blazar-tempest-plugin-ipv6-only - blazar-tempest-plugin-ussuri - blazar-tempest-plugin-train - blazar-tempest-plugin-stein - blazar-tempest-plugin-base name: blazar-tempest-plugin-base description: | This is a base devstack job for Blazar. Former names for this job were: * blazar-devstack-dsvm parent: devstack-tempest required-projects: &blazar_required_projects - opendev.org/openstack/blazar - opendev.org/openstack/blazar-nova - opendev.org/openstack/python-blazarclient - opendev.org/openstack/blazar-tempest-plugin host-vars: controller: devstack_plugins: blazar: https://opendev.org/openstack/blazar vars: &blazar_base_vars tempest_test_regex: '^blazar_tempest_plugin' tox_envlist: all devstack_services: blazar: true blazar-a: true blazar-m: true tempest_plugins: - blazar-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: blazar-tempest-plugin-ipv6-only description: | This is a base IPv6 devstack job for Blazar Former names for this job were: * blazar-devstack-dsvm-ipv6-only parent: devstack-tempest-ipv6-only required-projects: *blazar_required_projects host-vars: controller: devstack_plugins: blazar: https://opendev.org/openstack/blazar vars: *blazar_base_vars irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: blazar-tempest-plugin-ussuri parent: blazar-tempest-plugin-base name: blazar-tempest-plugin-train parent: blazar-tempest-plugin-base name: blazar-tempest-plugin-stein parent: blazar-tempest-plugin-base, - blazar-devstack-dsvm - blazar-devstack-dsvm-ussuri - blazar-devstack-dsvm-train - blazar-devstack-dsvm-stein - blazar-devstack-dsvm name: blazar-devstack-dsvm-ussuri parent: blazar-devstack-dsvm name: blazar-devstack-dsvm-train parent: blazar-devstack-dsvm name: blazar-devstack-dsvm-stein parent: blazar-devstack-dsvm,60,11
openstack%2Fcharm-specs~master~I6b7384c8371f422615041913682d02b268d785de,openstack/charm-specs,master,I6b7384c8371f422615041913682d02b268d785de,Specification opening for Victoria cycle,MERGED,2020-07-09 11:46:14.000000000,2020-07-28 10:13:26.000000000,2020-07-28 10:09:14.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-09 11:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/420f444d35a11ec31cc578d9bd8b215d52beae2a', 'message': 'Specification opening for Victoria cycle\n\nRe-organise specification for Victoria development cycle.\n\nChange-Id: I6b7384c8371f422615041913682d02b268d785de\n'}, {'number': 2, 'created': '2020-07-09 12:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/acb42488c724df0cb2305c858d3d6b07629f74a8', 'message': 'Specification opening for Victoria cycle\n\nRe-organise specification for Victoria development cycle.\n\nChange-Id: I6b7384c8371f422615041913682d02b268d785de\n'}, {'number': 3, 'created': '2020-07-28 07:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/259cf9bac6c2ee078ca9e811291ef618702b05c1', 'message': 'Specification opening for Victoria cycle\n\nRe-organise specification for Victoria development cycle.\n\nChange-Id: I6b7384c8371f422615041913682d02b268d785de\n'}, {'number': 4, 'created': '2020-07-28 09:32:47.000000000', 'files': ['specs/victoria/backlog/charm-panko.rst', 'specs/victoria/backlog/openstack-load-balancer.rst', 'specs/victoria/approved/.keep', 'doc/source/specs/victoria/backlog', 'specs/ussuri/implemented/mysql8.rst', 'specs/victoria/backlog/controlled-service-restarts.rst', 'specs/victoria/backlog/numa-live-migration.rst', 'doc/source/specs/victoria/template.rst', 'specs/victoria/backlog/audit-middleware.rst', 'specs/victoria/redirects', 'specs/victoria/implemented/.keep', 'specs/ussuri/implemented/mellanox-hw-offload.rst', 'specs/victoria/backlog/service-discovery.rst', 'specs/victoria/backlog/ceph-storage-action.rst', 'doc/source/specs/ussuri/index.rst', 'doc/source/specs/victoria/implemented', 'doc/source/specs/ussuri/backlog', 'specs/victoria/backlog/swift-extended-cluster-operations.rst', 'specs/victoria/backlog/release-notes-migration-to-reno.rst', 'doc/source/specs/victoria/index.rst', 'doc/source/specs/victoria/approved', 'specs/ussuri/approved/.keep', 'doc/source/index.rst', 'specs/ussuri/implemented/ceph-fs-nfs-with-manilla.rst', 'doc/source/specs/victoria/redirects', 'specs/victoria/backlog/cinder-backup-swift.rst', 'specs/victoria/implemented/gnocchi-s3.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ef3dd02a7427d67b5b6553bfd0070480472cdbcc', 'message': 'Specification opening for Victoria cycle\n\nRe-organise specification for Victoria development cycle.\n\nChange-Id: I6b7384c8371f422615041913682d02b268d785de\n'}]",1,740248,ef3dd02a7427d67b5b6553bfd0070480472cdbcc,17,3,4,935,,,0,"Specification opening for Victoria cycle

Re-organise specification for Victoria development cycle.

Change-Id: I6b7384c8371f422615041913682d02b268d785de
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/48/740248/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/victoria/backlog/swift-extended-cluster-operations.rst', 'specs/victoria/backlog/charm-panko.rst', 'specs/victoria/backlog/openstack-load-balancer.rst', 'specs/victoria/backlog/release-notes-migration-to-reno.rst', 'doc/source/specs/victoria/index.rst', 'doc/source/specs/victoria/approved', 'doc/source/specs/victoria/backlog', 'specs/ussuri/implemented/mysql8.rst', 'specs/victoria/backlog/controlled-service-restarts.rst', 'specs/victoria/backlog/numa-live-migration.rst', 'specs/ussuri/approved/.keep', 'doc/source/specs/victoria/template.rst', 'specs/victoria/backlog/audit-middleware.rst', 'specs/victoria/redirects', 'doc/source/index.rst', 'specs/ussuri/implemented/ceph-fs-nfs-with-manilla.rst', 'doc/source/specs/victoria/redirects', 'specs/ussuri/implemented/mellanox-hw-offload.rst', 'specs/victoria/backlog/cinder-backup-swift.rst', 'specs/victoria/backlog/service-discovery.rst', 'specs/victoria/backlog/ceph-storage-action.rst', 'doc/source/specs/ussuri/index.rst', 'doc/source/specs/victoria/implemented']",23,420f444d35a11ec31cc578d9bd8b215d52beae2a,victoria-opening,../../../../specs/victoria/implemented,,166,2
openstack%2Fkarbor~stable%2Fqueens~Iaa2c0a19ddc77ef4d3bb635c5572f128af23861a,openstack/karbor,stable/queens,Iaa2c0a19ddc77ef4d3bb635c5572f128af23861a,modify nova server backup,ABANDONED,2020-07-28 09:44:19.000000000,2020-07-28 10:02:54.000000000,,[],"[{'number': 1, 'created': '2020-07-28 09:44:19.000000000', 'files': ['karbor/services/protection/protection_plugins/server/nova_protection_plugin.py', 'karbor/services/protection/protection_plugins/image/image_protection_plugin.py', 'karbor/services/protection/protectable_plugins/image.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b3ec9c984b0562ef36e4c22ebfc024ce951ca02b', 'message': 'modify nova server backup\n\n1.原先image plugin通过server_id获取启动的镜像image_id\n修改为调用novaclient.servers.create_image()获取new_image_id,\n以新的快照镜像替换原先的启动镜像\n\n2.虚拟机恢复时不再使用之前的启动镜像，使用新的快照镜像\n\nChange-Id: Iaa2c0a19ddc77ef4d3bb635c5572f128af23861a\n'}]",0,743495,b3ec9c984b0562ef36e4c22ebfc024ce951ca02b,2,0,1,32245,,,0,"modify nova server backup

1.原先image plugin通过server_id获取启动的镜像image_id
修改为调用novaclient.servers.create_image()获取new_image_id,
以新的快照镜像替换原先的启动镜像

2.虚拟机恢复时不再使用之前的启动镜像，使用新的快照镜像

Change-Id: Iaa2c0a19ddc77ef4d3bb635c5572f128af23861a
",git fetch https://review.opendev.org/openstack/karbor refs/changes/95/743495/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protection_plugins/server/nova_protection_plugin.py', 'karbor/services/protection/protection_plugins/image/image_protection_plugin.py', 'karbor/services/protection/protectable_plugins/image.py']",3,b3ec9c984b0562ef36e4c22ebfc024ce951ca02b,kc/queens,"from functools import partialfrom karbor.services.protection.protection_plugins import utils def _get_image_status(self, glance_client, image_id): try: image = glance_client.images.get(image_id) status = image.get('status') except exception.NotFound: status = 'not-found' LOG.info('..._get_image_status (image_id: %s: %s)', image_id, status) return status def _nova_create_image(self, nova_client, glance_client, server_id): LOG.info('=> _nova_create_image, server_id: %s', server_id) image_name = server_id image_id = nova_client.servers.create_image( server=server_id, image_name=image_name ) status = self._get_image_status(glance_client, image_id) if status not in ['active', 'queued', 'saving']: is_success = utils.status_poll( partial(self._get_image_status, glance_client, image_id), interval=self._interval, success_statuses={'active', 'queued', 'saving'}, failure_statuses={'killed', 'deleted', 'pending_delete', 'deactivated', 'NotFound'} ) if is_success is not True: # TODO(get the fail reason) raise Exception(""(image_id:%s) status is not success"", image_id) return image_id, image_name # try: # image = self._glance_client(context).images.get( # server.image['id']) # except Exception as e: # LOG.exception(""Getting image from glance failed."") # raise exception.ListProtectableResourceFailed( # type=self._SUPPORT_RESOURCE_TYPE, # reason=six.text_type(e)) # return [resource.Resource(type=self._SUPPORT_RESOURCE_TYPE, # id=server.image['id'], # name=image.name)] glance_client = self._glance_client(context) nova_client = self._nova_client(context) try: new_image_id, new_image_name = self._nova_create_image( nova_client, glance_client, server.id) except Exception as e: LOG.exception(""create image snapshot from nova failed."") id=new_image_id, name=new_image_name)]"," try: image = self._glance_client(context).images.get(server.image['id']) except Exception as e: LOG.exception(""Getting image from glance failed."") id=server.image['id'], name=image.name)]",58,7
openstack%2Fopenstack-ansible-os_tempest~master~I95769a8da54e1f7d577d55a294fbceff4cbe3329,openstack/openstack-ansible-os_tempest,master,I95769a8da54e1f7d577d55a294fbceff4cbe3329,Install py3 distro packages,MERGED,2020-07-08 05:47:08.000000000,2020-07-28 09:41:23.000000000,2020-07-22 20:20:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-08 05:47:08.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/955a982557c03ee6a768061a93e95b11fa95e4ac', 'message': 'Install py3 distro packages\n\nFix naming of the distro packages that needs to be installed\nfrom py2 to py3 ones for debian family OS.\n\nChange-Id: I95769a8da54e1f7d577d55a294fbceff4cbe3329\n'}]",0,739896,955a982557c03ee6a768061a93e95b11fa95e4ac,14,4,1,28619,,,0,"Install py3 distro packages

Fix naming of the distro packages that needs to be installed
from py2 to py3 ones for debian family OS.

Change-Id: I95769a8da54e1f7d577d55a294fbceff4cbe3329
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/96/739896/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,955a982557c03ee6a768061a93e95b11fa95e4ac,, - python3-junitxml - python3-pip - python3-subunit, - python-junitxml - python-pip - python-subunit,3,3
openstack%2Fovn-octavia-provider~master~I18ccbe1a6f0896ff51440a245acd979321fce3bb,openstack/ovn-octavia-provider,master,I18ccbe1a6f0896ff51440a245acd979321fce3bb,Set the CONF.load_balancer.enabled_provider_drivers tempest conf,MERGED,2020-07-22 13:31:20.000000000,2020-07-28 09:34:54.000000000,2020-07-28 09:26:46.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 13:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/29812aba8825e05883bd098a4d6a92176d5a4148', 'message': 'Set the CONF.load_balancer.enabled_provider_drivers tempest conf\n\nWithout this config the tempest API test\noctavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list\nfails.\n\nChange-Id: I18ccbe1a6f0896ff51440a245acd979321fce3bb\n'}, {'number': 2, 'created': '2020-07-22 14:30:00.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c287fda67bb3509b2428c1d5f30e805c1c1cecb6', 'message': 'Set the CONF.load_balancer.enabled_provider_drivers tempest conf\n\nWithout this config the tempest API test\noctavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list\nfails.\n\nChange-Id: I18ccbe1a6f0896ff51440a245acd979321fce3bb\n'}]",0,742428,c287fda67bb3509b2428c1d5f30e805c1c1cecb6,11,3,2,24791,,,0,"Set the CONF.load_balancer.enabled_provider_drivers tempest conf

Without this config the tempest API test
octavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list
fails.

Change-Id: I18ccbe1a6f0896ff51440a245acd979321fce3bb
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/28/742428/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,29812aba8825e05883bd098a4d6a92176d5a4148,, enabled_provider_drivers: 'ovn:OVN provider driver',,1,0
openstack%2Fironic~master~Id42f26660d3fa861453854e03b8df3df935dd1b4,openstack/ironic,master,Id42f26660d3fa861453854e03b8df3df935dd1b4,Create altbaremetal flavor,NEW,2020-07-22 09:51:40.000000000,2020-07-28 09:32:34.000000000,,"[{'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-22 09:51:40.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f70eb1d99325806ca57db75b97b19080516f6baa', 'message': 'Create altbaremetal flavor\n\nSince nova overrides the capabilities of the node based on the flavor,\nwe need a flavor that have `boot_option=netboot` so we can test both\npartition and wholedisk with tempest.\n\nChange-Id: Id42f26660d3fa861453854e03b8df3df935dd1b4\n'}]",0,742381,f70eb1d99325806ca57db75b97b19080516f6baa,19,5,1,15519,,,0,"Create altbaremetal flavor

Since nova overrides the capabilities of the node based on the flavor,
we need a flavor that have `boot_option=netboot` so we can test both
partition and wholedisk with tempest.

Change-Id: Id42f26660d3fa861453854e03b8df3df935dd1b4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/742381/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,f70eb1d99325806ca57db75b97b19080516f6baa,new_flavor," openstack flavor create --ephemeral $ironic_ephemeral_disk --ram $ironic_node_ram --disk $adjusted_disk --vcpus $ironic_node_cpu altbaremetal openstack flavor set altbaremetal --property ""resources:CUSTOM_$resource_class""=""1"" openstack flavor set altbaremetal --property ""resources:DISK_GB""=""0"" openstack flavor set altbaremetal --property ""resources:MEMORY_MB""=""0"" openstack flavor set altbaremetal --property ""resources:VCPU""=""0"" openstack flavor set altbaremetal --property ""cpu_arch""=""$ironic_node_arch"" # Set the boot_option for the altbaremetal for netboot openstack flavor set altbaremetal --property ""capabilities:boot_option""=""netboot"" openstack flavor set altbaremetal --property ""capabilities:boot_mode""=""uefi"" openstack flavor set altbaremetal --property ""trait:$trait""=""required"" if [[ -n ""$IRONIC_DEFAULT_BOOT_OPTION"" ]]; then iniset $TEMPEST_CONFIG baremetal default_boot_option $IRONIC_DEFAULT_BOOT_OPTION fi local altbm_flavor_id altbm_flavor_id=$(openstack flavor show altbaremetal -f value -c id) die_if_not_set $LINENO altbm_flavor_id ""Failed to get id of altbaremetal flavor"" iniset $TEMPEST_CONFIG compute flavor_ref_alt $altbm_flavor_id", iniset $TEMPEST_CONFIG compute flavor_ref_alt $bm_flavor_id,19,1
openstack%2Fovn-octavia-provider~master~If7c22a690e26d27941684ff910dc83ff471cd28d,openstack/ovn-octavia-provider,master,If7c22a690e26d27941684ff910dc83ff471cd28d,Add installation of octavia-tempest-plugin to sample local.conf,MERGED,2020-07-22 10:53:54.000000000,2020-07-28 09:29:50.000000000,2020-07-28 09:26:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 10:53:54.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/65c25a4006d5c1e0e50b8d45b1d4052355282a49', 'message': ""Add installation of octavia-tempest-plugin to sample local.conf\n\nWe don't run neutron-tempest-plugin tests, so just change\nneutron-tempest-plugin tests to octavia-tempest-plugin.\n\nChange-Id: If7c22a690e26d27941684ff910dc83ff471cd28d\n""}]",0,742391,65c25a4006d5c1e0e50b8d45b1d4052355282a49,8,3,1,24791,,,0,"Add installation of octavia-tempest-plugin to sample local.conf

We don't run neutron-tempest-plugin tests, so just change
neutron-tempest-plugin tests to octavia-tempest-plugin.

Change-Id: If7c22a690e26d27941684ff910dc83ff471cd28d
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/91/742391/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,65c25a4006d5c1e0e50b8d45b1d4052355282a49,,# Enable octavia tempest plugin tests enable_plugin octavia-tempest-plugin https://opendev.org/openstack/octavia-tempest-plugin,# Enable neutron tempest plugin tests enable_plugin neutron-tempest-plugin https://opendev.org/openstack/neutron-tempest-plugin,2,2
openstack%2Fovn-octavia-provider~master~I0ac14de29ff92416f103c880bcdc28dd76e00865,openstack/ovn-octavia-provider,master,I0ac14de29ff92416f103c880bcdc28dd76e00865,Fix member_batch_update function to follow api v2,MERGED,2020-07-22 12:30:05.000000000,2020-07-28 09:26:46.000000000,2020-07-28 09:26:46.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 12:30:05.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/57dbca6c5e24f65b5579e7136f1db12e02ea6f93', 'message': 'Fix member_batch_update function to follow api v2\n\nThe member_batch_update function signature was missing\npool_id parameter. [1]\n\n[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html\n\nChange-Id: I0ac14de29ff92416f103c880bcdc28dd76e00865\nCloses-Bug: 1888489\n'}]",0,742410,57dbca6c5e24f65b5579e7136f1db12e02ea6f93,7,3,1,24791,,,0,"Fix member_batch_update function to follow api v2

The member_batch_update function signature was missing
pool_id parameter. [1]

[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html

Change-Id: I0ac14de29ff92416f103c880bcdc28dd76e00865
Closes-Bug: 1888489
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/10/742410/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,57dbca6c5e24f65b5579e7136f1db12e02ea6f93,bug/1888489," def member_batch_update(self, pool_id, members):"," def member_batch_update(self, members): # Note(rbanerje): all members belong to the same pool. pool_id = None try: pool_id = members[0].pool_id except IndexError: msg = _('No member information has been passed') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) except AttributeError: msg = _('Member does not have proper pool information') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",9,28
openstack%2Fkolla-ansible~stable%2Fstein~I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,openstack/kolla-ansible,stable/stein,I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,fluentd: log to a file instead of stdout,ABANDONED,2020-07-28 05:48:50.000000000,2020-07-28 09:20:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-28 05:48:50.000000000', 'files': ['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11803dcf6843060411425353848ea215b610c1d4', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nCloses-Bug: #1888852\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n(cherry picked from commit 696533f22883d0b23f4a428dbdf5e22f3f1910ea)\n'}]",0,743458,11803dcf6843060411425353848ea215b610c1d4,3,1,1,22629,,,0,"fluentd: log to a file instead of stdout

fluentd logs currently to stdout, which is known to produce big docker logs
in /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.

Closes-Bug: #1888852
Change-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90
(cherry picked from commit 696533f22883d0b23f4a428dbdf5e22f3f1910ea)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/743458/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2']",4,11803dcf6843060411425353848ea215b610c1d4,fluentd_log_to_file-stable/stein,"""/var/log/kolla/fluentd/*.log"" { } ",,15,1
openstack%2Fdevstack~master~I27084ec6da76b9c43ea0899fc6f1e842286b3dd3,openstack/devstack,master,I27084ec6da76b9c43ea0899fc6f1e842286b3dd3,Enable extend attached volume tests for Cinder generic NFS driver,NEW,2020-07-02 14:07:19.000000000,2020-07-28 08:56:36.000000000,,"[{'_account_id': 10135}, {'_account_id': 13915}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 14:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2caae9249ec7f971314373dd05fcc685283d306', 'message': ""Enable extend attached volume tests for Cinder generic NFS driver\n\nCinder has a feature 'extend attached volume' that the drivers might\nimplement. Such drivers should run the specific tests for this feature,\nbut the flag to enable those tests is disabled for generic NFS driver.\n\nThis patch enables the 'extend attached volume' tests for the generic\nNFS driver, as it's reporting that it supports the feature.\n\nThe tests will fail until bug #1870367 is fixed. This patch is necessary\nto validate the bugfix patches.\n\nChange-Id: I27084ec6da76b9c43ea0899fc6f1e842286b3dd3\nRelated-Bug: #1870367\n""}, {'number': 2, 'created': '2020-07-11 00:11:51.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6762ad806436a1e007de1ff783956c11bbce6eb3', 'message': ""Enable extend attached volume tests for Cinder generic NFS driver\n\nCinder has a feature 'extend attached volume' that the drivers might\nimplement. Such drivers should run the specific tests for this feature,\nbut the flag to enable those tests is disabled for generic NFS driver.\n\nThis patch enables the 'extend attached volume' tests for the generic\nNFS driver, as it's reporting that it supports the feature.\n\nThe tests will fail until bug #1870367 is fixed. This patch is necessary\nto validate the bugfix patches.\n\nChange-Id: I27084ec6da76b9c43ea0899fc6f1e842286b3dd3\nDepends-On: https://review.opendev.org/#/c/739077\nDepends-On: https://review.opendev.org/#/c/739079\nRelated-Bug: #1870367\n""}]",0,739049,6762ad806436a1e007de1ff783956c11bbce6eb3,6,3,2,18058,,,0,"Enable extend attached volume tests for Cinder generic NFS driver

Cinder has a feature 'extend attached volume' that the drivers might
implement. Such drivers should run the specific tests for this feature,
but the flag to enable those tests is disabled for generic NFS driver.

This patch enables the 'extend attached volume' tests for the generic
NFS driver, as it's reporting that it supports the feature.

The tests will fail until bug #1870367 is fixed. This patch is necessary
to validate the bugfix patches.

Change-Id: I27084ec6da76b9c43ea0899fc6f1e842286b3dd3
Depends-On: https://review.opendev.org/#/c/739077
Depends-On: https://review.opendev.org/#/c/739079
Related-Bug: #1870367
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/739049/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,c2caae9249ec7f971314373dd05fcc685283d306,bug/1870367," # Only turn on TEMPEST_EXTEND_ATTACHED_VOLUME by default for ""lvm"" and ""nfs"" backends if [ ""$VIRT_DRIVER"" = ""libvirt"" ]; then if [[ ""$CINDER_ENABLED_BACKENDS"" == *""lvm""* ]] || [[ ""$CINDER_ENABLED_BACKENDS"" == *""nfs""* ]]; then TEMPEST_EXTEND_ATTACHED_VOLUME=${TEMPEST_EXTEND_ATTACHED_VOLUME:-True} fi"," # Only turn on TEMPEST_EXTEND_ATTACHED_VOLUME by default for ""lvm"" backends if [[ ""$CINDER_ENABLED_BACKENDS"" == *""lvm""* ]] && [ ""$VIRT_DRIVER"" = ""libvirt"" ]; then TEMPEST_EXTEND_ATTACHED_VOLUME=${TEMPEST_EXTEND_ATTACHED_VOLUME:-True}",5,3
openstack%2Fcinder~master~I40cda4b6a382c6f8f3223e2c1b5a2b0253fee8c6,openstack/cinder,master,I40cda4b6a382c6f8f3223e2c1b5a2b0253fee8c6,DNM Patch to test the fix for NFS online extend,NEW,2020-07-11 00:15:43.000000000,2020-07-28 08:56:04.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-07-11 00:15:43.000000000', 'files': ['cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f9aa6f4228b5c88a9344b089055da8fcf22562b', 'message': 'DNM Patch to test the fix for NFS online extend\n\nChange-Id: I40cda4b6a382c6f8f3223e2c1b5a2b0253fee8c6\nDepends-On: https://review.opendev.org/#/c/739049\nDepends-On: https://review.opendev.org/#/c/739079\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n'}]",0,740531,8f9aa6f4228b5c88a9344b089055da8fcf22562b,77,33,1,18058,,,0,"DNM Patch to test the fix for NFS online extend

Change-Id: I40cda4b6a382c6f8f3223e2c1b5a2b0253fee8c6
Depends-On: https://review.opendev.org/#/c/739049
Depends-On: https://review.opendev.org/#/c/739079
Depends-On: https://review.opendev.org/#/c/739077
Partial-Bug: #1870367
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/740531/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,8f9aa6f4228b5c88a9344b089055da8fcf22562b,bug/1870367, pass,,1,0
openstack%2Fnova~master~Ia255a25da081e7ac42b4caba7a4cbd8d76ac5848,openstack/nova,master,Ia255a25da081e7ac42b4caba7a4cbd8d76ac5848,Implement extend_volume for libvirt NFS volume driver,MERGED,2020-07-02 15:40:44.000000000,2020-07-28 08:55:54.000000000,2020-07-27 15:32:58.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-02 15:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e3323641cd2db7676173d92c4587dcca854f438', 'message': 'Implement extend_volume for libvirt NFS volume driver\n\nAdd missing extend_volume to libvirt NFS volume driver.\n\nThis allows LibvirtDriver.extend_volume to resize an NFS volume in QEMU.\n\nChange-Id: Ia255a25da081e7ac42b4caba7a4cbd8d76ac5848\nPartial-Bug: #1870367\n'}, {'number': 2, 'created': '2020-07-03 14:23:52.000000000', 'files': ['nova/virt/libvirt/volume/nfs.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87fc1748f30bd54f041ae6ff3cfb480602fcbf79', 'message': 'Implement extend_volume for libvirt NFS volume driver\n\nAdd missing extend_volume to libvirt NFS volume driver.\n\nThis allows LibvirtDriver.extend_volume to resize an NFS volume in QEMU.\n\nChange-Id: Ia255a25da081e7ac42b4caba7a4cbd8d76ac5848\nPartial-Bug: #1870367\n'}]",2,739077,87fc1748f30bd54f041ae6ff3cfb480602fcbf79,56,15,2,18058,,,0,"Implement extend_volume for libvirt NFS volume driver

Add missing extend_volume to libvirt NFS volume driver.

This allows LibvirtDriver.extend_volume to resize an NFS volume in QEMU.

Change-Id: Ia255a25da081e7ac42b4caba7a4cbd8d76ac5848
Partial-Bug: #1870367
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/739077/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/nfs.py'],1,5e3323641cd2db7676173d92c4587dcca854f438,bug/1870367," def extend_volume(self, connection_info, instance, requested_size): # There is nothing to do for NFS volumes. Libvirt will update the # volume size within the instance calling blockResize. return requested_size",,5,0
openstack%2Fopenstack-helm~master~I299726464f13ef947aa76d8ac1bc8a64beadd1fa,openstack/openstack-helm,master,I299726464f13ef947aa76d8ac1bc8a64beadd1fa,Imported Translations from Zanata,MERGED,2020-07-28 08:09:35.000000000,2020-07-28 08:49:17.000000000,2020-07-28 08:47:18.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 08:09:35.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b027a36c4828be33879aa7baf2e620da2d0320c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I299726464f13ef947aa76d8ac1bc8a64beadd1fa\n'}]",0,743480,0b027a36c4828be33879aa7baf2e620da2d0320c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I299726464f13ef947aa76d8ac1bc8a64beadd1fa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/80/743480/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po'],1,0b027a36c4828be33879aa7baf2e620da2d0320c,zanata/translations,"# SeongHo Park <glgl2131@naver.com>, 2020. #zanata""Project-Id-Version: openstack-helm 0.1.1.dev3114\n""""POT-Creation-Date: 2020-07-27 18:12+0000\n""""PO-Revision-Date: 2020-07-28 12:33+0000\n"" ""Last-Translator: SeongHo Park <glgl2131@naver.com>\n""""By default, this installation will use Google DNS Server IPs (8.8.8.8, "" ""8.8.4.4) and will update resolv.conf as a result. If those IPs are blocked "" ""by the proxy, this will overwrite the original DNS entries and result in the "" ""inability to connect to anything on the network behind the proxy. These DNS "" ""nameserver entries can be changed by updating the "" ""``external_dns_nameservers`` entry in this file:"" msgstr """" ""기본적으로, 이 설치는 구글 DNS 서버 IP(8.8.8.8, 8.8.4.4)를 사용하며 결과적으"" ""로 resolv.conf를 업데이트 합니다. 해당 IP가 프록시에 의해 차단된 경우 원래 "" ""DNS 항목을 덮어 쓰고 프록시 뒤에 있는 어떤 항목에도 연결할 수 없습니다. 이 "" ""DNS 네임서버 항목은 이 파일에서 ``external_dns_nameservers`` 항목을 업데이트"" ""하여 변경할 수 있습니다."" msgid """"msgid ""Deploy OVS-DPDK"" msgstr ""OVS-DPDK 배포"" ","""Project-Id-Version: openstack-helm 0.1.1.dev3067\n""""POT-Creation-Date: 2020-07-09 22:40+0000\n""""PO-Revision-Date: 2019-08-28 09:26+0000\n"" ""Last-Translator: Jongwon Lee <tothebinaryworld@gmail.com>\n""",22,4
openstack%2Fcharm-glance-simplestreams-sync~master~I5e84ebd23fd487f64b2902327ce3f33739ed9840,openstack/charm-glance-simplestreams-sync,master,I5e84ebd23fd487f64b2902327ce3f33739ed9840,Ensure all config files written on config-changed,MERGED,2020-07-23 06:11:55.000000000,2020-07-28 08:31:39.000000000,2020-07-28 08:31:39.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 06:11:55.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/bfddde02acb84e15c81e3cbcdb93937ed780a39b', 'message': 'Ensure all config files written on config-changed\n\nWrite all configuration files when charm configuration options\nchange to ensure that the ssl_ca is written into the identity.yaml\nfile.\n\nThis commit also drops some parts of the unit tests for hooks\nwhich to be honest need reworking as they have a number of\nboundary violations.\n\nChange-Id: I5e84ebd23fd487f64b2902327ce3f33739ed9840\nCloses-Bug: 1843484\n'}]",0,742593,bfddde02acb84e15c81e3cbcdb93937ed780a39b,7,3,1,935,,,0,"Ensure all config files written on config-changed

Write all configuration files when charm configuration options
change to ensure that the ssl_ca is written into the identity.yaml
file.

This commit also drops some parts of the unit tests for hooks
which to be honest need reworking as they have a number of
boundary violations.

Change-Id: I5e84ebd23fd487f64b2902327ce3f33739ed9840
Closes-Bug: 1843484
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/93/742593/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_hooks.py']",2,bfddde02acb84e15c81e3cbcdb93937ed780a39b,bug/1843484," 'get_configs', self.mock_configs = mock.MagicMock() self.get_configs.return_value = self.mock_configs self.mock_configs.write_all.assert_called_once_with() self.mock_configs.write_all.assert_called_once_with() ","import yaml mirrors_fname = os.path.basename(hooks.MIRRORS_CONF_FILE_NAME) self.mirrors_conf_fpath = os.path.join(self.tmpdir, mirrors_fname) hooks.MIRRORS_CONF_FILE_NAME = self.mirrors_conf_fpath self.assertTrue(os.path.isfile(self.mirrors_conf_fpath)) with open(self.mirrors_conf_fpath, 'r') as f: mirrors = yaml.safe_load(f) for k in ['cloud_name', 'region', 'use_swift']: self.assertEqual(self.test_config[k], mirrors[k]) mirror_list = yaml.safe_load(self.test_config['mirror_list']) self.assertEqual(mirrors['mirror_list'], mirror_list) @mock.patch('os.symlink') @mock.patch('charmhelpers.core.hookenv.config') @mock.patch('charmhelpers.core.hookenv.relations_of_type') @mock.patch('charmhelpers.contrib.charmsupport.nrpe.get_nagios_hostname') @mock.patch('charmhelpers.contrib.charmsupport.nrpe.config') @mock.patch('charmhelpers.contrib.charmsupport.nrpe.local_unit') def test_custom_properties_config(self, local_unit, nrpe_config, nag_host, relations_of_type, config, symlink, update_nrpe_config): local_unit.return_value = 'juju/0' nag_host.return_value = ""nagios_hostname"" nrpe_config.return_value = self.test_config setattr(self.test_config, ""changed"", lambda x: False) self.test_config.config[""custom_properties""] = ( ""hypervisor_type=kvm hw_firmware_type=uefi"" ) config.return_value = self.test_config hooks.config_changed() self.assertTrue(os.path.isfile(self.mirrors_conf_fpath)) with open(self.mirrors_conf_fpath, 'r') as f: mirrors = yaml.safe_load(f) self.assertEqual( self.test_config.config['custom_properties'], mirrors['custom_properties'] ) update_nrpe_config.assert_called() @mock.patch.object(hooks, 'update_nrpe_config')",8,45
openstack%2Fcharm-hacluster~master~I495ee093a8395433412d890396cd991c6acd97f3,openstack/charm-hacluster,master,I495ee093a8395433412d890396cd991c6acd97f3,Ensure setup is only run on leader.,MERGED,2020-07-20 17:08:25.000000000,2020-07-28 08:26:37.000000000,2020-07-28 08:26:37.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 17:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e98e8b6f8723005380cf298a9f5ef9ca4b999aa9', 'message': 'Ensure setup is only run on leader.\n\nconfigure_cluster_global, configure_monitor_host and configure_stonith should\nonly be run by the leader, otherwise there is the risk of the updates\nhappening simultaneously and failing.\n\nChange-Id: I495ee093a8395433412d890396cd991c6acd97f3\nCloses-Bug: #1884797\n'}, {'number': 2, 'created': '2020-07-20 18:06:56.000000000', 'files': ['hooks/hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/ca345745923d26da480531976a1ec7bcbd474386', 'message': 'Ensure setup is only run on leader.\n\nconfigure_cluster_global, configure_monitor_host and configure_stonith should\nonly be run by the leader, otherwise there is the risk of the updates\nhappening simultaneously and failing.\n\nChange-Id: I495ee093a8395433412d890396cd991c6acd97f3\nCloses-Bug: #1884797\n'}]",0,741991,ca345745923d26da480531976a1ec7bcbd474386,14,4,2,12549,,,0,"Ensure setup is only run on leader.

configure_cluster_global, configure_monitor_host and configure_stonith should
only be run by the leader, otherwise there is the risk of the updates
happening simultaneously and failing.

Change-Id: I495ee093a8395433412d890396cd991c6acd97f3
Closes-Bug: #1884797
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/91/741991/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,e98e8b6f8723005380cf298a9f5ef9ca4b999aa9,bug/1884797,"def run_initial_steup(): """"""Run global stetup."""""" failure_timeout = config('failure_timeout') configure_cluster_global(failure_timeout) configure_monitor_host() configure_stonith() if is_leader(): run_initial_steup() run_initial_steup()", failure_timeout = config('failure_timeout') configure_cluster_global(failure_timeout) configure_monitor_host() configure_stonith() failure_timeout = config('failure_timeout') configure_cluster_global(failure_timeout) configure_monitor_host() configure_stonith(),11,8
openstack%2Fos-net-config~master~Ie48291011bb145452b6bf8e6aa843311266a07bd,openstack/os-net-config,master,Ie48291011bb145452b6bf8e6aa843311266a07bd,Add NIC Partitioning support for Mellanox VFs,MERGED,2020-07-08 15:42:20.000000000,2020-07-28 08:11:51.000000000,2020-07-28 06:30:34.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-08 15:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f7ad834087de5865203eee2da05b5ad8a26348d7', 'message': 'WIP: Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}, {'number': 2, 'created': '2020-07-14 09:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5157fe74d1d7e4ec48f6479453974d6a54f595d7', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}, {'number': 3, 'created': '2020-07-14 16:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ec00319a2685ee9308c0c2ac7edbe1266d5aee71', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}, {'number': 4, 'created': '2020-07-14 16:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c4a5ab7eda366e4805007a737ebb4a2809493a0a', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}, {'number': 5, 'created': '2020-07-14 17:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e409ce0dd3a93f14dd7af7c4af1657ea41b88880', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}, {'number': 6, 'created': '2020-07-21 12:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6e8f6cec84e42224afbd6390a3ade9c736e9dbdc', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}, {'number': 7, 'created': '2020-07-24 05:12:36.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/878e6bc3ff0edb67f51d942e2d0e42ed4dca0134', 'message': 'Add NIC Partitioning support for Mellanox VFs\n\nChange-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd\n'}]",11,740022,878e6bc3ff0edb67f51d942e2d0e42ed4dca0134,41,7,7,18904,,,0,"Add NIC Partitioning support for Mellanox VFs

Change-Id: Ie48291011bb145452b6bf8e6aa843311266a07bd
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/22/740022/3 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,f7ad834087de5865203eee2da05b5ad8a26348d7,mellanox_nicp," else: pci_addr = get_stored_pci_address(ifname, noop) if _is_vf(pci_addr): # For Mellanox devices the VFs bound with DPDK shall # be treated the same as VFs of other devices dpdk_devargs = pci_addr ",,7,0
openstack%2Fpython-keystoneclient~stable%2Fstein~I81a663a7389ba6ca76412789a0de9232ae99e995,openstack/python-keystoneclient,stable/stein,I81a663a7389ba6ca76412789a0de9232ae99e995,Fix the unicode error on project list.,ABANDONED,2020-04-22 08:37:39.000000000,2020-07-28 08:11:20.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8482}, {'_account_id': 9107}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-04-22 08:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/56119b9aa1956aa8833f953674768526b0f69e01', 'message': ""Fix the unicode error on project list.\n\nFix the unicode error in a very special case. If the values from the\ndatabase is encoding in unicode but your system use another local. In\nthis case, the idea is remove every character non ascii. That works\nalready like that with Python 3 and train. With my patch, if you have a\nname project with an accent like tést:\n\n(undercloud) [stack@undercloud-0 ~]$ LANG=an_ES.iso885915 openstack project list\n+----------------------------------+------------------------------------------------------------------+\n| ID                               | Name                                                             |\n+----------------------------------+------------------------------------------------------------------+\n| 0924c0d911af47ee80a402ab6dbf7900 | 34a74ee1fcd94a5c89d3ec65649ecacf-ac7d14b8-f584-4c0e-b14f-adf8645 |\n| 34a74ee1fcd94a5c89d3ec65649ecacf | admin                                                            |\n| 9b222cde236e436b9a4f84dc173f0096 | service                                                          |\n| bb276e9d9a484984809f100882d59e32 | tst                                                              |\n+----------------------------------+------------------------------------------------------------------+\n\nSo we remove the é in the display. In train, the result:\n\n(overcloud) [stack@undercloud-0 ~]$ LANG=an_ES.iso885915 openstack project list\n+----------------------------------+----------+\n| ID                               | Name     |\n+----------------------------------+----------+\n| 3b783401d15341ff9a279621284f00e0 | service  |\n| 5ed00097b7bb4d3bb85272575b44bfea | foo      |\n| 88a565aad4f64472843c1290ecc31eb2 | w       |\n| bd50dc921a7f43a391e1f90cff6026bf | demo     |\n| cc633ce05946453bb60be61a2993ccb2 | alt_demo |\n| ec60d38ad69149f5a474f499dfffe00f | admin    |\n| f853a11b1f924a988c1a52e43f79db10 | gee      |\n+----------------------------------+----------+\n\nThe name of the project is wé and the é is remove too. In stein or less,\nwithout the patch:\n\n'ascii' codec can't encode character u'\\xe9' in position 662: ordinal not in range(128)\n\nWe get this error and it's normal. But I think my patch is legitim\nbecause that works like that on train and more.\n\nChange-Id: I81a663a7389ba6ca76412789a0de9232ae99e995\n""}, {'number': 2, 'created': '2020-04-22 11:46:20.000000000', 'files': ['keystoneclient/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/59e5fa1a2cca9b4d90ef3d09e93d1abcf50d1f1d', 'message': ""Fix the unicode error on project list.\n\nFix the unicode error in a very special case. If the values from the\ndatabase is encoding in unicode but your system use another local. In\nthis case, the idea is remove every character non ascii. That works\nalready like that with Python 3 and train. With my patch, if you have a\nname project with an accent like tést:\n\n(undercloud) [stack@undercloud-0 ~]$ LANG=an_ES.iso885915 openstack project list\n+----------------------------------+------------------------------------------------------------------+\n| ID                               | Name                                                             |\n+----------------------------------+------------------------------------------------------------------+\n| 0924c0d911af47ee80a402ab6dbf7900 | 34a74ee1fcd94a5c89d3ec65649ecacf-ac7d14b8-f584-4c0e-b14f-adf8645 |\n| 34a74ee1fcd94a5c89d3ec65649ecacf | admin                                                            |\n| 9b222cde236e436b9a4f84dc173f0096 | service                                                          |\n| bb276e9d9a484984809f100882d59e32 | tst                                                              |\n+----------------------------------+------------------------------------------------------------------+\n\nSo we remove the é in the display. In train, the result:\n\n(overcloud) [stack@undercloud-0 ~]$ LANG=an_ES.iso885915 openstack project list\n+----------------------------------+----------+\n| ID                               | Name     |\n+----------------------------------+----------+\n| 3b783401d15341ff9a279621284f00e0 | service  |\n| 5ed00097b7bb4d3bb85272575b44bfea | foo      |\n| 88a565aad4f64472843c1290ecc31eb2 | w       |\n| bd50dc921a7f43a391e1f90cff6026bf | demo     |\n| cc633ce05946453bb60be61a2993ccb2 | alt_demo |\n| ec60d38ad69149f5a474f499dfffe00f | admin    |\n| f853a11b1f924a988c1a52e43f79db10 | gee      |\n+----------------------------------+----------+\n\nThe name of the project is wé and the é is remove too. In stein or less,\nwithout the patch:\n\n'ascii' codec can't encode character u'\\xe9' in position 662: ordinal not in range(128)\n\nWe get this error and it's normal. But I think my patch is legitim\nbecause that works like that on train and more.\n\nChange-Id: I81a663a7389ba6ca76412789a0de9232ae99e995\n""}]",6,721792,59e5fa1a2cca9b4d90ef3d09e93d1abcf50d1f1d,14,9,2,31245,,,0,"Fix the unicode error on project list.

Fix the unicode error in a very special case. If the values from the
database is encoding in unicode but your system use another local. In
this case, the idea is remove every character non ascii. That works
already like that with Python 3 and train. With my patch, if you have a
name project with an accent like tést:

(undercloud) [stack@undercloud-0 ~]$ LANG=an_ES.iso885915 openstack project list
+----------------------------------+------------------------------------------------------------------+
| ID                               | Name                                                             |
+----------------------------------+------------------------------------------------------------------+
| 0924c0d911af47ee80a402ab6dbf7900 | 34a74ee1fcd94a5c89d3ec65649ecacf-ac7d14b8-f584-4c0e-b14f-adf8645 |
| 34a74ee1fcd94a5c89d3ec65649ecacf | admin                                                            |
| 9b222cde236e436b9a4f84dc173f0096 | service                                                          |
| bb276e9d9a484984809f100882d59e32 | tst                                                              |
+----------------------------------+------------------------------------------------------------------+

So we remove the é in the display. In train, the result:

(overcloud) [stack@undercloud-0 ~]$ LANG=an_ES.iso885915 openstack project list
+----------------------------------+----------+
| ID                               | Name     |
+----------------------------------+----------+
| 3b783401d15341ff9a279621284f00e0 | service  |
| 5ed00097b7bb4d3bb85272575b44bfea | foo      |
| 88a565aad4f64472843c1290ecc31eb2 | w       |
| bd50dc921a7f43a391e1f90cff6026bf | demo     |
| cc633ce05946453bb60be61a2993ccb2 | alt_demo |
| ec60d38ad69149f5a474f499dfffe00f | admin    |
| f853a11b1f924a988c1a52e43f79db10 | gee      |
+----------------------------------+----------+

The name of the project is wé and the é is remove too. In stein or less,
without the patch:

'ascii' codec can't encode character u'\xe9' in position 662: ordinal not in range(128)

We get this error and it's normal. But I think my patch is legitim
because that works like that on train and more.

Change-Id: I81a663a7389ba6ca76412789a0de9232ae99e995
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/92/721792/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/base.py'],1,56119b9aa1956aa8833f953674768526b0f69e01,stein,"import locale get_locale = locale.getdefaultlocale()[1] # https://bugzilla.redhat.com/show_bug.cgi?id=1824513 # Check if the value of the variable of v is unicode and # if the system is not unicode, if it's the case remove # the non ascii characters. It's already how that works # in train with python 3. if isinstance(v, unicode) and get_locale != 'UTF-8': v = v.encode('ascii', 'ignore').decode('ascii') ",,11,0
openstack%2Fglance~master~I6b5ef161548f224e18def89c0a01132b3ef70c7c,openstack/glance,master,I6b5ef161548f224e18def89c0a01132b3ef70c7c,Remove remaining files for v1 API,ABANDONED,2020-05-25 05:33:31.000000000,2020-07-28 08:04:15.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-25 05:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/800f98d5ea7d0f7253c2b55654a6b5fa263c5dda', 'message': 'Remove remaining files for v1 API\n\nChange-Id: I6b5ef161548f224e18def89c0a01132b3ef70c7c\n'}, {'number': 2, 'created': '2020-05-25 05:34:25.000000000', 'files': ['glance/tests/integration/v2/base.py', 'glance/api/v1/router.py', 'glance/tests/unit/test_cached_images.py', 'glance/tests/stubs.py', 'glance/api/v1/upload_utils.py', 'glance/api/v1/__init__.py', 'glance/tests/functional/__init__.py', 'glance/api/v1/filters.py', 'glance/api/v1/controller.py', 'etc/glance-api-paste.ini', 'glance/api/cached_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/376545a66f216317083d110147cb24ff853830bb', 'message': 'Remove remaining files for v1 API\n\nChange-Id: I6b5ef161548f224e18def89c0a01132b3ef70c7c\n'}]",0,730556,376545a66f216317083d110147cb24ff853830bb,8,2,2,9816,,,0,"Remove remaining files for v1 API

Change-Id: I6b5ef161548f224e18def89c0a01132b3ef70c7c
",git fetch https://review.opendev.org/openstack/glance refs/changes/56/730556/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/integration/v2/base.py', 'glance/tests/unit/test_cached_images.py', 'glance/tests/stubs.py', 'glance/tests/functional/__init__.py', 'glance/api/v1/controller.py', 'etc/glance-api-paste.ini', 'glance/api/cached_images.py']",7,800f98d5ea7d0f7253c2b55654a6b5fa263c5dda,remove-v1-api,,"# Copyright 2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Controller for Image Cache Management API """""" from oslo_log import log as logging import webob.exc from glance.api import policy from glance.api.v1 import controller from glance.common import exception from glance.common import wsgi from glance import image_cache LOG = logging.getLogger(__name__) class Controller(controller.BaseController): """""" A controller for managing cached images. """""" def __init__(self): self.cache = image_cache.ImageCache() self.policy = policy.Enforcer() def _enforce(self, req): """"""Authorize request against 'manage_image_cache' policy"""""" try: self.policy.enforce(req.context, 'manage_image_cache', {}) except exception.Forbidden: LOG.debug(""User not permitted to manage the image cache"") raise webob.exc.HTTPForbidden() def get_cached_images(self, req): """""" GET /cached_images Returns a mapping of records about cached images. """""" self._enforce(req) images = self.cache.get_cached_images() return dict(cached_images=images) def delete_cached_image(self, req, image_id): """""" DELETE /cached_images/<IMAGE_ID> Removes an image from the cache. """""" self._enforce(req) self.cache.delete_cached_image(image_id) def delete_cached_images(self, req): """""" DELETE /cached_images - Clear all active cached images Removes all images from the cache. """""" self._enforce(req) return dict(num_deleted=self.cache.delete_all_cached_images()) def get_queued_images(self, req): """""" GET /queued_images Returns a mapping of records about queued images. """""" self._enforce(req) images = self.cache.get_queued_images() return dict(queued_images=images) def queue_image(self, req, image_id): """""" PUT /queued_images/<IMAGE_ID> Queues an image for caching. We do not check to see if the image is in the registry here. That is done by the prefetcher... """""" self._enforce(req) self.cache.queue_image(image_id) def delete_queued_image(self, req, image_id): """""" DELETE /queued_images/<IMAGE_ID> Removes an image from the cache. """""" self._enforce(req) self.cache.delete_queued_image(image_id) def delete_queued_images(self, req): """""" DELETE /queued_images - Clear all active queued images Removes all images from the cache. """""" self._enforce(req) return dict(num_deleted=self.cache.delete_all_queued_images()) class CachedImageDeserializer(wsgi.JSONRequestDeserializer): pass class CachedImageSerializer(wsgi.JSONResponseSerializer): pass def create_resource(): """"""Cached Images resource factory method"""""" deserializer = CachedImageDeserializer() serializer = CachedImageSerializer() return wsgi.Resource(Controller(), deserializer, serializer) ",1,387
openstack%2Ftrove-dashboard~master~I40301c69287242132b714ed354ee8fd421e1a94c,openstack/trove-dashboard,master,I40301c69287242132b714ed354ee8fd421e1a94c,Switch to newer openstackdocstheme and reno versions,MERGED,2020-06-01 14:12:16.000000000,2020-07-28 07:26:05.000000000,2020-07-28 07:23:27.000000000,"[{'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-01 14:12:16.000000000', 'files': ['test-requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a324079a7972f067e58785aa87d1620ebe6e3a56', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I40301c69287242132b714ed354ee8fd421e1a94c\n""}]",0,732378,a324079a7972f067e58785aa87d1620ebe6e3a56,18,5,1,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I40301c69287242132b714ed354ee8fd421e1a94c
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/78/732378/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'releasenotes/source/conf.py']",2,a324079a7972f067e58785aa87d1620ebe6e3a56,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/trove-dashboard' openstackdocs_auto_name = False openstackdocs_bug_project = 'trove-dashboard' openstackdocs_bug_tag = ''pygments_style = 'native',"repository_name = 'openstack/trove-dashboard' bug_project = 'trove-dashboard' bug_tag = '' # Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M' pygments_style = 'sphinx'",8,11
openstack%2Fcharm-designate-bind~master~Ia3edbe7fbf491218ecd3279179dd2c16ba390da0,openstack/charm-designate-bind,master,Ia3edbe7fbf491218ecd3279179dd2c16ba390da0,Release sync for 20.08,MERGED,2020-07-27 19:52:02.000000000,2020-07-28 07:17:37.000000000,2020-07-28 07:17:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:52:02.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/c72f509c0c6da8a59d38e9a33b5748344762a180', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Ia3edbe7fbf491218ecd3279179dd2c16ba390da0\n'}]",0,743349,c72f509c0c6da8a59d38e9a33b5748344762a180,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Ia3edbe7fbf491218ecd3279179dd2c16ba390da0
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/49/743349/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,c72f509c0c6da8a59d38e9a33b5748344762a180,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,21,6
openstack%2Fcharm-glance~master~Idf6be388233fc6554cb83f6ee6cdae9b1ed29fb5,openstack/charm-glance,master,Idf6be388233fc6554cb83f6ee6cdae9b1ed29fb5,Release sync for 20.08,MERGED,2020-07-27 19:52:15.000000000,2020-07-28 07:13:38.000000000,2020-07-28 07:13:38.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:52:15.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/544bc3761813d334b298d49344beda1666e7172e', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Idf6be388233fc6554cb83f6ee6cdae9b1ed29fb5\n'}]",0,743350,544bc3761813d334b298d49344beda1666e7172e,9,3,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Idf6be388233fc6554cb83f6ee6cdae9b1ed29fb5
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/50/743350/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/__init__.py']",7,544bc3761813d334b298d49344beda1666e7172e,batch-2008-release-sync," The date which is a string in semi-ISO8660 format indicates the year-month :param warning: String to indicate what is to be used instead. :param date: Optional string in YYYY-MM format to indicate when the :param log: The log function to call in order to log. If None, logs to stdout"," The date, which is a string in semi-ISO8660 format indicate the year-month :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the :param log: The log function to call to log. If not, logs to stdout",67,25
openstack%2Ftrove-dashboard~master~Ia242e9ac90e7d44f59a565a9dd67036e845fe8b3,openstack/trove-dashboard,master,Ia242e9ac90e7d44f59a565a9dd67036e845fe8b3,Add py38 package metadata,MERGED,2020-05-28 13:33:00.000000000,2020-07-28 07:12:27.000000000,2020-07-28 07:12:27.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-28 13:33:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/c1feafab7a2f8debf5c973dbe3dc0cfdbbc94596', 'message': 'Add py38 package metadata\n\nNow that we are running the Victoria tests that include a\nvoting py38, we can now add the Python 3.8 metadata to the\npackage information to reflect that support.\n\nChange-Id: Ia242e9ac90e7d44f59a565a9dd67036e845fe8b3\n'}]",0,731531,c1feafab7a2f8debf5c973dbe3dc0cfdbbc94596,11,3,1,29313,,,0,"Add py38 package metadata

Now that we are running the Victoria tests that include a
voting py38, we can now add the Python 3.8 metadata to the
package information to reflect that support.

Change-Id: Ia242e9ac90e7d44f59a565a9dd67036e845fe8b3
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/31/731531/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c1feafab7a2f8debf5c973dbe3dc0cfdbbc94596,add-py38-meta, Programming Language :: Python :: 3.8,,1,0
openstack%2Ftrove-dashboard~master~I3983dc16a07cbb4e2754fc7e0ee79b97070e182f,openstack/trove-dashboard,master,I3983dc16a07cbb4e2754fc7e0ee79b97070e182f,Bump default tox env from py37 to py38,MERGED,2020-05-28 13:35:23.000000000,2020-07-28 07:06:28.000000000,2020-07-28 07:04:37.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-28 13:35:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a0f7502d615689e8e72db5506d4414db1a4248aa', 'message': 'Bump default tox env from py37 to py38\n\nPython 3.8 is now our highest level supported python runtime.\nThis updates the default tox target environments to swap out\npy37 for py38 to make sure local development testing is\ncovering this version.\n\nThis does not impact zuul jobs in any way, nor prevent local\ntests against py37. It just changes the default if none is\nexplicitly provided.\n\nChange-Id: I3983dc16a07cbb4e2754fc7e0ee79b97070e182f\n'}]",0,731532,a0f7502d615689e8e72db5506d4414db1a4248aa,12,3,1,29313,,,0,"Bump default tox env from py37 to py38

Python 3.8 is now our highest level supported python runtime.
This updates the default tox target environments to swap out
py37 for py38 to make sure local development testing is
covering this version.

This does not impact zuul jobs in any way, nor prevent local
tests against py37. It just changes the default if none is
explicitly provided.

Change-Id: I3983dc16a07cbb4e2754fc7e0ee79b97070e182f
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/32/731532/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0f7502d615689e8e72db5506d4414db1a4248aa,py38-tox,"envlist = py38,pep8","envlist = py37,pep8",1,1
openstack%2Fceilometer~stable%2Ftrain~I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c,openstack/ceilometer,stable/train,I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c,Remove [ and ] around parameter values in http url,MERGED,2020-07-27 13:20:47.000000000,2020-07-28 06:53:08.000000000,2020-07-28 06:50:58.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 13:20:47.000000000', 'files': ['ceilometer/publisher/http.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/35c73570eb7a900b4cb9a2ba20c5092f9bac1a94', 'message': ""Remove [ and ] around parameter values in http url\n\nWithout this patch, using a publisher like\n  - http://host.com/?a=b&c=d\nleads to calling a http post to\nhttp://host.com/?a=['b']&c=['d']\nURLs without additional parameters are not affected.\n\nChange-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c\n(cherry picked from commit 4c859ad4dfe7a704fc596c041de5b67db7b065ce)\n(cherry picked from commit af90111c142ba171fe0b8ce497414687a6a3bd58)\n""}]",0,743225,35c73570eb7a900b4cb9a2ba20c5092f9bac1a94,7,2,1,4264,,,0,"Remove [ and ] around parameter values in http url

Without this patch, using a publisher like
  - http://host.com/?a=b&c=d
leads to calling a http post to
http://host.com/?a=['b']&c=['d']
URLs without additional parameters are not affected.

Change-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c
(cherry picked from commit 4c859ad4dfe7a704fc596c041de5b67db7b065ce)
(cherry picked from commit af90111c142ba171fe0b8ce497414687a6a3bd58)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/25/743225/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/publisher/http.py'],1,35c73570eb7a900b4cb9a2ba20c5092f9bac1a94,querystring-stable/ussuri-stable/train," urlparse.urlencode(params, doseq=True),"," urlparse.urlencode(params),",1,1
openstack%2Fmanila~stable%2Fqueens~If5fe32c155fe0861b3ed86b862335e062796056b,openstack/manila,stable/queens,If5fe32c155fe0861b3ed86b862335e062796056b,Enforce policy checks getting share-type by name,MERGED,2020-07-25 11:07:15.000000000,2020-07-28 06:34:23.000000000,2020-07-28 06:32:06.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-25 11:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/872ed8d5c0e6c64f2b181b246df2b6201a1e7259', 'message': ""Enforce policy checks getting share-type by name\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)\n(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)\n(cherry picked from commit 2f2ed258f7c273543495b5476af2c3558d51384d)\n(cherry picked from commit 644cdf4e4ff965cb96b8cce5396042b6ac8abe7e)\n(cherry picked from commit 11971a94d3205b42ee9e2f7c9978b4bb979fdd71)\n""}, {'number': 2, 'created': '2020-07-25 11:07:55.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/9b1b3957b992baf68624d1b8786949f4a4bc191a', 'message': ""Enforce policy checks getting share-type by name\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)\n(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)\n(cherry picked from commit 2f2ed258f7c273543495b5476af2c3558d51384d)\n(cherry picked from commit 644cdf4e4ff965cb96b8cce5396042b6ac8abe7e)\n(cherry picked from commit 11971a94d3205b42ee9e2f7c9978b4bb979fdd71)\n""}]",0,743026,9b1b3957b992baf68624d1b8786949f4a4bc191a,14,3,2,9003,,,0,"Enforce policy checks getting share-type by name

Policy checks are skipped when looking up a share-type
by name.  This causes share creation attempts that specify
a valid share-type to pass the early API check on share type
even if the share type named is private and not shared with
the user's project.  The share creation fails later, but after
the database record for the share is created.  Although the
operation fails with an ERROR, the share is stuck in CREATING
state.

Fix this issue by checking the user's project in the database
API just as we do for share type lookups by uuid.

Closes-bug: #1885956
Change-Id: If5fe32c155fe0861b3ed86b862335e062796056b
(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)
(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)
(cherry picked from commit 2f2ed258f7c273543495b5476af2c3558d51384d)
(cherry picked from commit 644cdf4e4ff965cb96b8cce5396042b6ac8abe7e)
(cherry picked from commit 11971a94d3205b42ee9e2f7c9978b4bb979fdd71)
",git fetch https://review.opendev.org/openstack/manila refs/changes/26/743026/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml']",3,872ed8d5c0e6c64f2b181b246df2b6201a1e7259,bug/1885956,--- fixes: - | Fixed `launchpad bug #1885956 <https://bugs.launchpad.net/manila/+bug/1885956>`_ by ensuring that policy checks are enforced when looking up a share-type by name. This prevents a problem where shares could be stuck in CREATING status when a user attempts to create a share using the name of a private share-type to which the user lacks access. ,,11,3
openstack%2Fopenstack-ansible~master~Ie7f0710f78d7cf1683fd98496b89c0879175352b,openstack/openstack-ansible,master,Ie7f0710f78d7cf1683fd98496b89c0879175352b,Add ubuntu focal distro jobs,MERGED,2020-06-25 15:49:39.000000000,2020-07-28 06:32:16.000000000,2020-07-28 03:45:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-25 15:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c26a750406fd5b489f85fd2a50080718b849d49a', 'message': 'Add ubuntu focal distro jobs\n\nChange-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b\n'}, {'number': 2, 'created': '2020-06-26 08:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f3d43f8aaabd3993a7b0b212d97caf6fe44d8bf', 'message': 'Add ubuntu focal distro jobs\n\nChange-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b\n'}, {'number': 3, 'created': '2020-07-08 05:47:59.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34b6ed80a966c26b044cbebb30cd659c92d24c6a', 'message': 'Add ubuntu focal distro jobs\n\nDepends-On: https://review.opendev.org/739896\nChange-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b\n'}]",9,738054,34b6ed80a966c26b044cbebb30cd659c92d24c6a,18,4,3,28619,,,0,"Add ubuntu focal distro jobs

Depends-On: https://review.opendev.org/739896
Change-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/738054/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,c26a750406fd5b489f85fd2a50080718b849d49a,osa-focal,- job: name: openstack-ansible-deploy-aio_distro_metal-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal ,,6,0
openstack%2Fpython-tripleoclient~master~I76ab3b7562b37e09d54b00bfee91664f1ac1b815,openstack/python-tripleoclient,master,I76ab3b7562b37e09d54b00bfee91664f1ac1b815,"Revert ""[ussuri] TCIB: change default namespace to triploeu""",MERGED,2020-07-27 23:30:07.000000000,2020-07-28 06:32:11.000000000,2020-07-28 06:30:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 23:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/39c95c1af994838c63d4550ff0b2408e581ccd43', 'message': 'Revert ""[ussuri] TCIB: change default namespace to triploeu""\n\nI applied that patch to the wrong branch...\n\nThis reverts commit c623396ff9cc0c7dbeeb1f1e7e122aa0ac42e09a.\n\nChange-Id: I76ab3b7562b37e09d54b00bfee91664f1ac1b815\n'}, {'number': 2, 'created': '2020-07-27 23:30:11.000000000', 'files': ['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f90b82189825319dcd26b4efd77eed80714e3d3', 'message': 'Revert ""[ussuri] TCIB: change default namespace to triploeu""\n\nI applied that patch to the wrong branch...\n\nThis reverts commit c623396ff9cc0c7dbeeb1f1e7e122aa0ac42e09a.\n\nChange-Id: I76ab3b7562b37e09d54b00bfee91664f1ac1b815\n'}]",0,743435,2f90b82189825319dcd26b4efd77eed80714e3d3,9,3,2,3153,,,0,"Revert ""[ussuri] TCIB: change default namespace to triploeu""

I applied that patch to the wrong branch...

This reverts commit c623396ff9cc0c7dbeeb1f1e7e122aa0ac42e09a.

Change-Id: I76ab3b7562b37e09d54b00bfee91664f1ac1b815
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/743435/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v2/tripleo_container_image.py']",2,39c95c1af994838c63d4550ff0b2408e581ccd43,tripleou," default=""tripleomaster"","," default=""tripleou"",",3,3
openstack%2Fpython-tripleoclient~stable%2Fussuri~I75a0f2ff33b184dada9ba6d49f43b1022743d018,openstack/python-tripleoclient,stable/ussuri,I75a0f2ff33b184dada9ba6d49f43b1022743d018,[ussuri] TCIB: change default namespace to tripleou,MERGED,2020-07-27 23:31:34.000000000,2020-07-28 06:32:02.000000000,2020-07-28 06:30:37.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 23:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7dd2d7db05e4f118017fc09968d4ac2e33ae8121', 'message': '[ussuri] TCIB: change default namespace to triploeu\n\n... instead of tripleomaster.\n\nChange-Id: I75a0f2ff33b184dada9ba6d49f43b1022743d018\n'}, {'number': 2, 'created': '2020-07-27 23:32:01.000000000', 'files': ['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/87aa47cab3e32c92472dac81efda607509992d83', 'message': '[ussuri] TCIB: change default namespace to tripleou\n\n... instead of tripleomaster.\n\nChange-Id: I75a0f2ff33b184dada9ba6d49f43b1022743d018\n'}]",0,743436,87aa47cab3e32c92472dac81efda607509992d83,8,2,2,3153,,,0,"[ussuri] TCIB: change default namespace to tripleou

... instead of tripleomaster.

Change-Id: I75a0f2ff33b184dada9ba6d49f43b1022743d018
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/743436/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v2/tripleo_container_image.py']",2,7dd2d7db05e4f118017fc09968d4ac2e33ae8121,tripleou," default=""tripleou"","," default=""tripleomaster"",",3,3
openstack%2Fopenstack-ansible~master~Ib1160a4b84292595f18b5cb47e19e15c33b081ab,openstack/openstack-ansible,master,Ib1160a4b84292595f18b5cb47e19e15c33b081ab,Always use the utility host for service setup tasks,MERGED,2020-06-05 14:20:54.000000000,2020-07-28 06:31:39.000000000,2020-07-28 03:45:29.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-05 14:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a97d0181b9ed16f4326b55423eebac717b184693', 'message': 'Always use the utility host for service setup tasks\n\nThis used to be discretionary at the choice of the operator but\nmaking it the default gives certainty about the python version used\nand that suitable python modules are available for the interpreter\nused by ansible on the service setup host.\n\nChange-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab\n'}, {'number': 2, 'created': '2020-06-05 14:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7fc4432f92d1a2a621b971b5f6dc7dea3f4f1924', 'message': 'Always use the utility host for service setup tasks\n\nThis used to be discretionary at the choice of the operator but\nmaking it the default gives certainty about the python version used\nand that suitable python modules are available for the interpreter\nused by ansible on the service setup host.\n\nChange-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab\n'}, {'number': 3, 'created': '2020-06-05 15:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/71849e56b78e9a9c1ac9da62bbea874e38520cdb', 'message': 'Always use the utility host for service setup tasks\n\nThis used to be discretionary at the choice of the operator but\nmaking it the default gives certainty about the python version used\nand that suitable python modules are available for the interpreter\nused by ansible on the service setup host.\n\nChange-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab\n'}, {'number': 4, 'created': '2020-06-09 05:46:17.000000000', 'files': ['playbooks/defaults/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0de309e7a38b40e3a20b28827a5d128a3d7f69ae', 'message': 'Always use the utility host for service setup tasks\n\nThis used to be discretionary at the choice of the operator but\nmaking it the default gives certainty about the python version used\nand that suitable python modules are available for the interpreter\nused by ansible on the service setup host.\n\nChange-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab\n'}]",3,733854,0de309e7a38b40e3a20b28827a5d128a3d7f69ae,22,4,4,25023,,,0,"Always use the utility host for service setup tasks

This used to be discretionary at the choice of the operator but
making it the default gives certainty about the python version used
and that suitable python modules are available for the interpreter
used by ansible on the service setup host.

Change-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/733854/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,a97d0181b9ed16f4326b55423eebac717b184693,bind-to-mgmt,"## Delegate all service setup tasks to the utility host, and use the utility venv python interpreter openstack_service_setup_host: ""{{ groups['utility_all'][0] }}"" openstack_service_setup_host_python_interpreter: ""/openstack/venvs/utility-{{ openstack_release }}/bin/python"" ",,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5a337a67893241e1443ca2c3721f4c9dd78b95c8,openstack/tripleo-heat-templates,stable/train,I5a337a67893241e1443ca2c3721f4c9dd78b95c8,Generated passthrough_whitelist shall use all the user_configs fields,MERGED,2020-07-27 11:46:45.000000000,2020-07-28 06:30:32.000000000,2020-07-28 06:30:32.000000000,"[{'_account_id': 14985}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 11:46:45.000000000', 'files': ['deployment/neutron/derive_pci_passthrough_whitelist.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9076cb5950c2d1d6ed31bb1a5352366c3818ea0', 'message': ""Generated passthrough_whitelist shall use all the user_configs fields\n\nEarlier, the derived pci passthrough whitelist includes the address,\nvendor and product details only. This is not sufficient for nova to\nallocate the VFs to the guests. Now, all the fields of the user_config\nshall be used in the derived passthrough_whitelist. Only either of 'address'\nor 'devname' shall be provided in passthrough_whitelist, and since the\n'address' fields are must have to specify the induvidual VF's, the\n'devname' is removed if present.\n\nChange-Id: I5a337a67893241e1443ca2c3721f4c9dd78b95c8\n(cherry picked from commit d5820dba4abc9fc531b4155cb9f95038f956710c)\n""}]",0,743200,a9076cb5950c2d1d6ed31bb1a5352366c3818ea0,8,4,1,3153,,,0,"Generated passthrough_whitelist shall use all the user_configs fields

Earlier, the derived pci passthrough whitelist includes the address,
vendor and product details only. This is not sufficient for nova to
allocate the VFs to the guests. Now, all the fields of the user_config
shall be used in the derived passthrough_whitelist. Only either of 'address'
or 'devname' shall be provided in passthrough_whitelist, and since the
'address' fields are must have to specify the induvidual VF's, the
'devname' is removed if present.

Change-Id: I5a337a67893241e1443ca2c3721f4c9dd78b95c8
(cherry picked from commit d5820dba4abc9fc531b4155cb9f95038f956710c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/743200/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/derive_pci_passthrough_whitelist.py'],1,a9076cb5950c2d1d6ed31bb1a5352366c3818ea0,nicp_failing_vfs-stable/train, pci_passthrough = dict(user_config) # devname and address fields can't co exist if 'devname' in pci_passthrough: del pci_passthrough['devname'] , pci_passthrough = {} pci_passthrough['vendor_id'] = device_info[pf][0] pci_passthrough['product_id'] = device_info[pf][1] if 'trusted' in user_config: pci_passthrough['trusted'] = user_config['trusted'],6,5
openstack%2Fpython-muranoclient~master~I8b2a8c06de0282f797fab51d90aeac1ca2eef9c4,openstack/python-muranoclient,master,I8b2a8c06de0282f797fab51d90aeac1ca2eef9c4,Small cleanups,MERGED,2020-06-18 06:24:47.000000000,2020-07-28 06:20:22.000000000,2020-07-28 06:19:06.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 06:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/adaf42ac7b8a9861219344f8c3395f2f0b7e1e96', 'message': ""Small cleanups\n\n- Remove Babel from requirements, it's not needed for running.\n- remove unused file setup.sh\n- Update to hacking 3.1.0\n- Remove hacking and friends from lower-constraints, they are not\n  needed there at all.\n\nChange-Id: I8b2a8c06de0282f797fab51d90aeac1ca2eef9c4\n""}, {'number': 2, 'created': '2020-06-18 07:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/56340715226b133383ad7268d1043c1ba9039e9d', 'message': ""Small cleanups\n\n- Remove Babel from requirements, it's not needed for running.\n- remove unused file setup.sh\n- Update to hacking 3.1.0; fix problems found.\n- Remove hacking and friends from lower-constraints, they are not\n  needed there at all.\n\nDepends-On: https://review.opendev.org/736473\nChange-Id: I8b2a8c06de0282f797fab51d90aeac1ca2eef9c4\n""}, {'number': 3, 'created': '2020-06-18 07:43:54.000000000', 'files': ['requirements.txt', 'muranoclient/v1/package_creator/mpl_package.py', 'test-requirements.txt', 'setup.sh', 'lower-constraints.txt', 'muranoclient/v1/schemas.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/8054a326d1c47a128d2f1b9f2e6a80e79ab51a4a', 'message': ""Small cleanups\n\n- Remove Babel from requirements, it's not needed for running.\n- remove unused file setup.sh\n- Update to hacking 3.1.0; fix problems found.\n- Remove hacking and friends from lower-constraints, they are not\n  needed there at all.\n\nDepends-On: https://review.opendev.org/736382\nChange-Id: I8b2a8c06de0282f797fab51d90aeac1ca2eef9c4\n""}]",0,736449,8054a326d1c47a128d2f1b9f2e6a80e79ab51a4a,11,2,3,6547,,,0,"Small cleanups

- Remove Babel from requirements, it's not needed for running.
- remove unused file setup.sh
- Update to hacking 3.1.0; fix problems found.
- Remove hacking and friends from lower-constraints, they are not
  needed there at all.

Depends-On: https://review.opendev.org/736382
Change-Id: I8b2a8c06de0282f797fab51d90aeac1ca2eef9c4
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/49/736449/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.sh', 'lower-constraints.txt']",4,adaf42ac7b8a9861219344f8c3395f2f0b7e1e96,cleanup-py27-support,,Babel==2.3.4flake8==2.5.5hacking==0.12.0mccabe==0.2.1pep8==1.5.7pyflakes==0.8.1,1,175
openstack%2Fglance_store~master~Ide3cefdcf5e99f9593890a8f9bd4c8520af12d29,openstack/glance_store,master,Ide3cefdcf5e99f9593890a8f9bd4c8520af12d29,[goal] Migrate glance_store jobs to focal,MERGED,2020-07-26 23:47:29.000000000,2020-07-28 06:09:16.000000000,2020-07-28 06:05:48.000000000,"[{'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 23:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a3b8ddb98f44692fd724e77101473f2b47011a6a', 'message': '[goal] Migrate glance_store jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for rest all.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: Ide3cefdcf5e99f9593890a8f9bd4c8520af12d29\nStory: #2007865\nTask: #40185\n'}, {'number': 2, 'created': '2020-07-27 13:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/47c7be7553cd75f39a3877f894c13c6ebe323411', 'message': '[goal] Migrate glance_store jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for rest all.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: Ide3cefdcf5e99f9593890a8f9bd4c8520af12d29\nStory: #2007865\nTask: #40185\n'}, {'number': 3, 'created': '2020-07-27 15:44:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/100fe260bfb6698795ae5d6fce6aeadecbed1772', 'message': '[goal] Migrate glance_store jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for rest all.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: Ide3cefdcf5e99f9593890a8f9bd4c8520af12d29\nStory: #2007865\nTask: #40185\n'}]",2,743109,100fe260bfb6698795ae5d6fce6aeadecbed1772,17,4,3,8556,,,0,"[goal] Migrate glance_store jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Set bionic nodeset for py36 job and focal nodeset for rest all.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Change-Id: Ide3cefdcf5e99f9593890a8f9bd4c8520af12d29
Story: #2007865
Task: #40185
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/09/743109/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a3b8ddb98f44692fd724e77101473f2b47011a6a,migrate-to-focal,#test focal nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic,,9,0
openstack%2Fkolla~master~I15c5d20df83bf3ecb83ba390a01c7ad711c9d889,openstack/kolla,master,I15c5d20df83bf3ecb83ba390a01c7ad711c9d889,"CI: Add jobs for mariadb, masakari, linuxbridge, ovn, prometheus-efk",MERGED,2020-07-23 12:47:56.000000000,2020-07-28 06:07:33.000000000,2020-07-28 06:04:15.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 12:47:56.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e68cc2054a698f0c6dd43b623d6c9788574ecf5e', 'message': 'CI: Add jobs for mariadb, masakari, linuxbridge, ovn, prometheus-efk\n\nThese jobs exist in kolla-ansible but have not yet been added to kolla.\n\nChange-Id: I15c5d20df83bf3ecb83ba390a01c7ad711c9d889\n'}]",0,742658,e68cc2054a698f0c6dd43b623d6c9788574ecf5e,8,3,1,14826,,,0,"CI: Add jobs for mariadb, masakari, linuxbridge, ovn, prometheus-efk

These jobs exist in kolla-ansible but have not yet been added to kolla.

Change-Id: I15c5d20df83bf3ecb83ba390a01c7ad711c9d889
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/742658/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml']",2,e68cc2054a698f0c6dd43b623d6c9788574ecf5e,, - kolla-ansible-ubuntu-source-mariadb: files: ^docker/(base|mariadb)/ - kolla-ansible-ubuntu-source-masakari: files: ^docker/(base|masakari|openstack-base)/ - kolla-ansible-ubuntu-source-linuxbridge: files: ^docker/(base|neutron|openstack-base)/ - kolla-ansible-ubuntu-source-ovn: files: ^docker/(base|neutron|openstack-base|openvswitch|ovn)/ - kolla-ansible-ubuntu-source-prometheus-efk: files: ^docker/(base|elasticsearch|grafana|kibana|prometheus)/,,18,0
openstack%2Fcharm-octavia~master~I40d464733b1f9085256d52b87b3831fc8bf0cac7,openstack/charm-octavia,master,I40d464733b1f9085256d52b87b3831fc8bf0cac7,[DNM] Test octavia-diskimage-retrofit edge snap,ABANDONED,2020-02-13 07:54:22.000000000,2020-07-28 06:07:12.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-02-13 07:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e65e1ac9834bbc854b3a39d691f46db0a4ca4716', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7\n'}, {'number': 2, 'created': '2020-05-13 09:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/187ff0e1803addf99fa4b9f2da6c2a99ad955385', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nThe ha overlay has been modified to use a instrumented version\nof the octavia-diskimage-retrofit charm that installs snap from\nedge.\n\nSmoke gate has been modified to run both bionic and focal tests.\n\nChange-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7\n'}, {'number': 3, 'created': '2020-05-13 14:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e2e9b154f104d6b6959023aeffad970364cd88b7', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nThe ha overlay has been modified to use a instrumented version\nof the octavia-diskimage-retrofit charm that installs snap from\nedge.\n\nSmoke gate has been modified to run both bionic and focal tests.\n\nChange-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7\n'}, {'number': 4, 'created': '2020-07-15 09:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/d1296feef190218ca962798532674b28af37ffaf', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nThe ha overlay has been modified to use a instrumented version\nof the octavia-diskimage-retrofit charm that installs snap from\nedge.\n\nSmoke gate has been modified to run both bionic and focal tests.\n\nChange-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7\n'}, {'number': 5, 'created': '2020-07-15 14:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dc3675f819a4a77d1f989bcbb470ec7b0c2f5bb2', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nThe ha overlay has been modified to use a instrumented version\nof the octavia-diskimage-retrofit charm that installs snap from\nedge.\n\nSmoke gate has been modified to run both bionic and focal tests.\n\nChange-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7\n'}, {'number': 6, 'created': '2020-07-16 11:50:16.000000000', 'files': ['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/overlays/ha.j2', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b38cdc0bd7aa9e5e0423dfe8275576d3201b675c', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nThe ha overlay has been modified to use a instrumented version\nof the octavia-diskimage-retrofit charm that installs snap from\nedge.\n\nSmoke gate has been modified to run both bionic and focal tests.\n\nChange-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7\n'}]",0,707576,b38cdc0bd7aa9e5e0423dfe8275576d3201b675c,40,4,6,13686,,,0,"[DNM] Test octavia-diskimage-retrofit edge snap

The ha overlay has been modified to use a instrumented version
of the octavia-diskimage-retrofit charm that installs snap from
edge.

Smoke gate has been modified to run both bionic and focal tests.

Change-Id: I40d464733b1f9085256d52b87b3831fc8bf0cac7
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/76/707576/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/ha.j2'],1,e65e1ac9834bbc854b3a39d691f46db0a4ca4716,enable-focal, octavia-diskimage-retrofit: charm: cs:~fnordahl/octavia-diskimage-retrofit-edge,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I5a337a67893241e1443ca2c3721f4c9dd78b95c8,openstack/tripleo-heat-templates,stable/ussuri,I5a337a67893241e1443ca2c3721f4c9dd78b95c8,Generated passthrough_whitelist shall use all the user_configs fields,MERGED,2020-07-27 11:46:38.000000000,2020-07-28 05:49:27.000000000,2020-07-28 05:49:27.000000000,"[{'_account_id': 14985}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-27 11:46:38.000000000', 'files': ['deployment/neutron/derive_pci_passthrough_whitelist.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b66f39550a0eaf83c15912287657e0b858b2f21d', 'message': ""Generated passthrough_whitelist shall use all the user_configs fields\n\nEarlier, the derived pci passthrough whitelist includes the address,\nvendor and product details only. This is not sufficient for nova to\nallocate the VFs to the guests. Now, all the fields of the user_config\nshall be used in the derived passthrough_whitelist. Only either of 'address'\nor 'devname' shall be provided in passthrough_whitelist, and since the\n'address' fields are must have to specify the induvidual VF's, the\n'devname' is removed if present.\n\nChange-Id: I5a337a67893241e1443ca2c3721f4c9dd78b95c8\n(cherry picked from commit d5820dba4abc9fc531b4155cb9f95038f956710c)\n""}]",0,743199,b66f39550a0eaf83c15912287657e0b858b2f21d,9,5,1,3153,,,0,"Generated passthrough_whitelist shall use all the user_configs fields

Earlier, the derived pci passthrough whitelist includes the address,
vendor and product details only. This is not sufficient for nova to
allocate the VFs to the guests. Now, all the fields of the user_config
shall be used in the derived passthrough_whitelist. Only either of 'address'
or 'devname' shall be provided in passthrough_whitelist, and since the
'address' fields are must have to specify the induvidual VF's, the
'devname' is removed if present.

Change-Id: I5a337a67893241e1443ca2c3721f4c9dd78b95c8
(cherry picked from commit d5820dba4abc9fc531b4155cb9f95038f956710c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/743199/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/derive_pci_passthrough_whitelist.py'],1,b66f39550a0eaf83c15912287657e0b858b2f21d,nicp_failing_vfs-stable/ussuri, pci_passthrough = dict(user_config) # devname and address fields can't co exist if 'devname' in pci_passthrough: del pci_passthrough['devname'] , pci_passthrough = {} pci_passthrough['vendor_id'] = device_info[pf][0] pci_passthrough['product_id'] = device_info[pf][1] if 'trusted' in user_config: pci_passthrough['trusted'] = user_config['trusted'],6,5
openstack%2Fkolla-ansible~master~I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,openstack/kolla-ansible,master,I8fe0e54cb764a26d26c6196cef68aadc6fd57b90,fluentd: log to a file instead of stdout,MERGED,2020-07-23 13:23:30.000000000,2020-07-28 05:48:50.000000000,2020-07-27 10:57:42.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 13:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9ba9cd569ec1f10ff08cad384a08b17cda366a3', 'message': 'WIP: Make fluentd to log to a file instead of stdout\n\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n'}, {'number': 2, 'created': '2020-07-23 17:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3ce403cc8df618747ec9034eb23ae4d9cf03e11', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n'}, {'number': 3, 'created': '2020-07-24 13:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6dc08a0c57fbbd27df3be474e886c33b4159524', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nCloses-Bug: #1888852\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n'}, {'number': 4, 'created': '2020-07-24 17:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52d6044dcbf2be632c95f7f68af7c8e6888ce8a4', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nCloses-Bug: #1888852\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n'}, {'number': 5, 'created': '2020-07-27 07:13:43.000000000', 'files': ['releasenotes/notes/bug-1888852-8735ee29f69f77b5.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/cron-logrotate-fluentd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/696533f22883d0b23f4a428dbdf5e22f3f1910ea', 'message': 'fluentd: log to a file instead of stdout\n\nfluentd logs currently to stdout, which is known to produce big docker logs\nin /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.\n\nCloses-Bug: #1888852\nChange-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90\n'}]",2,742663,696533f22883d0b23f4a428dbdf5e22f3f1910ea,30,5,5,22629,,,0,"fluentd: log to a file instead of stdout

fluentd logs currently to stdout, which is known to produce big docker logs
in /var/lib/docker. This change makes fluentd to log to /var/log/kolla/fluentd.

Closes-Bug: #1888852
Change-Id: I8fe0e54cb764a26d26c6196cef68aadc6fd57b90
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/742663/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/fluentd.json.j2'],1,a9ba9cd569ec1f10ff08cad384a08b17cda366a3,fluentd_log_to_file," ""command"": ""{{ fluentd_cmd }} -o /var/log/kolla/fluentd/fluentd.log"", ""path"": ""/var/log/kolla/fluentd"", ""owner"": ""{{ fluentd_user }}:{{ fluentd_user }}"", ""recurse"": true }, {"," ""command"": ""{{ fluentd_cmd }}"",",6,1
openstack%2Foslo.utils~master~Ie44a17a898934c5cc1a1db5fe2c3422ebd2ec766,openstack/oslo.utils,master,Ie44a17a898934c5cc1a1db5fe2c3422ebd2ec766,migrate testing to ubuntu focal,ABANDONED,2020-07-14 06:12:18.000000000,2020-07-28 05:43:08.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 06:12:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7a751e4833767cefe5bc53dd8f39413bf86483fe', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ie44a17a898934c5cc1a1db5fe2c3422ebd2ec766\n'}]",1,740890,7a751e4833767cefe5bc53dd8f39413bf86483fe,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: Ie44a17a898934c5cc1a1db5fe2c3422ebd2ec766
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/90/740890/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7a751e4833767cefe5bc53dd8f39413bf86483fe,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Foctavia~master~I7236326948ce152242c1aea7a6ffd5f4848dc52f,openstack/octavia,master,I7236326948ce152242c1aea7a6ffd5f4848dc52f,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:39:01.000000000,2020-07-28 05:42:54.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 03:39:01.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d14c62ed935a6a47bde8f893529fbc06d7323c05', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I7236326948ce152242c1aea7a6ffd5f4848dc52f\n'}]",0,740860,d14c62ed935a6a47bde8f893529fbc06d7323c05,6,4,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I7236326948ce152242c1aea7a6ffd5f4848dc52f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/740860/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d14c62ed935a6a47bde8f893529fbc06d7323c05,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fheat-dashboard~master~Iacbd2cae4447badc4ef648aa278bcfd415a508d4,openstack/heat-dashboard,master,Iacbd2cae4447badc4ef648aa278bcfd415a508d4,migrate testing to ubuntu focal,ABANDONED,2020-07-14 03:07:34.000000000,2020-07-28 05:42:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-14 03:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/c8e9ac2882dcd805d364ff23ac82f28928ab5c68', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Iacbd2cae4447badc4ef648aa278bcfd415a508d4\n'}, {'number': 2, 'created': '2020-07-27 11:37:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/a634a78f53fab152784ca8f629ebb18ad36d3ff7', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nFew job like tempest-full-multinode and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Bionic till stable/ussuri and\non focal from master(victoria) onwards.\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nChange-Id: Iacbd2cae4447badc4ef648aa278bcfd415a508d4\n'}]",0,740852,a634a78f53fab152784ca8f629ebb18ad36d3ff7,11,4,2,30384,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Few job like tempest-full-multinode and plugin sanity job needs to override
the nodeset. multinode job needs to run on Bionic till stable/ussuri and
on focal from master(victoria) onwards.

stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

Change-Id: Iacbd2cae4447badc4ef648aa278bcfd415a508d4
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/52/740852/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c8e9ac2882dcd805d364ff23ac82f28928ab5c68,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fmurano-dashboard~master~Ia57576b7dd7ba7f1dd34cd4f17942fbf753ea6f8,openstack/murano-dashboard,master,Ia57576b7dd7ba7f1dd34cd4f17942fbf753ea6f8,Switch to py3 syntax for dictionary contains test,MERGED,2020-07-22 23:44:25.000000000,2020-07-28 05:40:43.000000000,2020-07-28 05:40:43.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 23:44:25.000000000', 'files': ['muranodashboard/local/local_settings.d/_50_murano.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8fe073043a9e701f0a30c7137896b017d2780d83', 'message': 'Switch to py3 syntax for dictionary contains test\n\nChange-Id: Ia57576b7dd7ba7f1dd34cd4f17942fbf753ea6f8\n'}]",0,742553,8fe073043a9e701f0a30c7137896b017d2780d83,6,2,1,3031,,,0,"Switch to py3 syntax for dictionary contains test

Change-Id: Ia57576b7dd7ba7f1dd34cd4f17942fbf753ea6f8
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/53/742553/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/local/local_settings.d/_50_murano.py'],1,8fe073043a9e701f0a30c7137896b017d2780d83,, DATABASES_CONFIG = 'default' in DATABASES, DATABASES_CONFIG = DATABASES.has_key('default'),1,1
openstack%2Ftempest~master~Iaed564689588b1a4fe0a9118e9de330ec0a63e61,openstack/tempest,master,Iaed564689588b1a4fe0a9118e9de330ec0a63e61,Add response schema validation for show_default_group_type,MERGED,2020-05-27 08:32:58.000000000,2020-07-28 05:00:14.000000000,2020-07-28 04:58:58.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-05-27 08:32:58.000000000', 'files': ['tempest/lib/services/volume/v3/group_types_client.py', 'tempest/lib/api_schema/response/volume/group_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7454db5d4c52832c964531309de8ff87589b5fc7', 'message': 'Add response schema validation for show_default_group_type\n\nThis is to add response schema validation for show_default_group_type.\n\nChange-Id: Iaed564689588b1a4fe0a9118e9de330ec0a63e61\npartially-implements: blueprint volume-response-schema-validation\n'}]",0,731112,7454db5d4c52832c964531309de8ff87589b5fc7,21,6,1,20190,,,0,"Add response schema validation for show_default_group_type

This is to add response schema validation for show_default_group_type.

Change-Id: Iaed564689588b1a4fe0a9118e9de330ec0a63e61
partially-implements: blueprint volume-response-schema-validation
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/731112/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/group_types_client.py', 'tempest/lib/api_schema/response/volume/group_types.py']",2,7454db5d4c52832c964531309de8ff87589b5fc7,bp/volume-response-schema-validation,"show_default_group_type = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'group_type': common_show_group_type }, 'additionalProperties': False, 'required': ['group_type'] } } ",,13,1
openstack%2Fmanila~stable%2Fqueens~Ib71a6cec939288498e48736f129fbfdacaabe9da,openstack/manila,stable/queens,Ib71a6cec939288498e48736f129fbfdacaabe9da,[NetApp] Fix svm scoped account,MERGED,2020-06-23 12:21:26.000000000,2020-07-28 03:50:32.000000000,2020-07-28 03:46:45.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-06-23 12:21:26.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'releasenotes/notes/bug-1882590-fix-svm-scoped-netapp-85b53830135f7558.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/bbf4d7255636a571252d05497bbab59efc039540', 'message': '[NetApp] Fix svm scoped account\n\nWhen the NetApp backend starts, it needs to know whether the\n`revert_to_snapshot` support exist. So, it was retrieving the\nlicenses and checking if the `SnapRestore` is included. Using a\nscoped account, the backend cannot retrieve that information,\nthough. So, this patch solves it by sending a fake operation\n`revert_to_snapshot` that must fail. Analyzing the given error, it\nsets the backend support field.\n\nCloses-Bug: #1882590\nChange-Id: Ib71a6cec939288498e48736f129fbfdacaabe9da\n(cherry picked from commit 6f58af1ae39b4151db5feaa72deecafb9365ca16)\n(cherry picked from commit b5e541a6284200d28c7e6298ec46cb1f2f1eb9b9)\n(cherry picked from commit b252cb801d547c9a9717d705303c3206a079c27f)\n(cherry picked from commit 036908dd59684e9f5f44e305535cdc81dc563f2c)\n(cherry picked from commit a9bc395407fcc897c689911842c4bd277c5728fc)\n'}]",0,737516,bbf4d7255636a571252d05497bbab59efc039540,15,4,1,30002,,,0,"[NetApp] Fix svm scoped account

When the NetApp backend starts, it needs to know whether the
`revert_to_snapshot` support exist. So, it was retrieving the
licenses and checking if the `SnapRestore` is included. Using a
scoped account, the backend cannot retrieve that information,
though. So, this patch solves it by sending a fake operation
`revert_to_snapshot` that must fail. Analyzing the given error, it
sets the backend support field.

Closes-Bug: #1882590
Change-Id: Ib71a6cec939288498e48736f129fbfdacaabe9da
(cherry picked from commit 6f58af1ae39b4151db5feaa72deecafb9365ca16)
(cherry picked from commit b5e541a6284200d28c7e6298ec46cb1f2f1eb9b9)
(cherry picked from commit b252cb801d547c9a9717d705303c3206a079c27f)
(cherry picked from commit 036908dd59684e9f5f44e305535cdc81dc563f2c)
(cherry picked from commit a9bc395407fcc897c689911842c4bd277c5728fc)
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/737516/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'releasenotes/notes/bug-1882590-fix-svm-scoped-netapp-85b53830135f7558.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,bbf4d7255636a571252d05497bbab59efc039540,bug/1882590," self.mock_object( self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object( self.library, '_get_licenses', mock.Mock(return_value=fake.LICENSES)) self.assertEqual(fake.LICENSES, self.library._licenses) self.mock_object( self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) def test_check_snaprestore_license_admin_notfound(self): self.library._have_cluster_creds = True def test_check_snaprestore_license_admin_found(self): self.library._have_cluster_creds = True self.library._licenses = fake.LICENSES def test_check_snaprestore_license_svm_scoped_notfound(self): self.library._have_cluster_creds = False self.mock_object(self.library._client, 'restore_snapshot', mock.Mock(side_effect=netapp_api.NaApiError( code=netapp_api.EAPIERROR, message=fake.NO_SNAPRESTORE_LICENSE))) result = self.library._check_snaprestore_license() self.assertIs(False, result) def test_check_snaprestore_license_svm_scoped_found(self): self.library._have_cluster_creds = False self.mock_object(self.library._client, 'restore_snapshot', mock.Mock(side_effect=netapp_api.NaApiError( code=netapp_api.EAPIERROR, message='Other error'))) result = self.library._check_snaprestore_license() self.assertIs(True, result) def test_check_snaprestore_license_svm_scoped_found_exception(self): self.mock_object(lib_base.LOG, 'exception') self.library._have_cluster_creds = False self.mock_object(self.library._client, 'restore_snapshot', mock.Mock(return_value=None)) self.assertRaises( exception.NetAppException, self.library._check_snaprestore_license) lib_base.LOG.exception.assert_called_once() self.library._revert_to_snapshot_support = True self.library._revert_to_snapshot_support = True"," self.library._licenses = [] self.mock_object(self.library, '_get_licenses', mock.Mock(return_value=['fake_license'])) self.assertEqual(['fake_license'], self.library._licenses) def test_check_snaprestore_license_notfound(self): def test_check_snaprestore_license_found(self): self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=fake.LICENSES)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True))",86,26
openstack%2Fopenstack-ansible~stable%2Fussuri~I98d527b8e804685b8d933de2dc5e2efeb78bbd31,openstack/openstack-ansible,stable/ussuri,I98d527b8e804685b8d933de2dc5e2efeb78bbd31,Remove package cache proxy cleanup,MERGED,2020-07-24 06:55:19.000000000,2020-07-28 03:47:43.000000000,2020-07-28 03:45:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-24 06:55:19.000000000', 'files': ['playbooks/containers-nspawn-create.yml', 'playbooks/os-congress-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-murano-install.yml', 'playbooks/common-tasks/package-cache-proxy.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb4c00c78e8f7857d3e1a0c74265239205632bc6', 'message': ""Remove package cache proxy cleanup\n\nThis should have been removed in Train so it's really time to\nget rid of these tasks now. The package cache was retired in Rocky.\n\nChange-Id: I98d527b8e804685b8d933de2dc5e2efeb78bbd31\n(cherry picked from commit 1b18926bbfda48507eb8b4b883c477661512b1eb)\n""}]",0,742800,fb4c00c78e8f7857d3e1a0c74265239205632bc6,14,3,1,25023,,,0,"Remove package cache proxy cleanup

This should have been removed in Train so it's really time to
get rid of these tasks now. The package cache was retired in Rocky.

Change-Id: I98d527b8e804685b8d933de2dc5e2efeb78bbd31
(cherry picked from commit 1b18926bbfda48507eb8b4b883c477661512b1eb)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/742800/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/containers-nspawn-create.yml', 'playbooks/os-congress-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-murano-install.yml', 'playbooks/common-tasks/package-cache-proxy.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/openstack-hosts-setup.yml']",9,fb4c00c78e8f7857d3e1a0c74265239205632bc6,,," - include_tasks: common-tasks/package-cache-proxy.yml when: install_method == ""source""",0,102
openstack%2Frequirements~master~I2f3f5a613d63058a9f940099ec2c3ea8d74dfb10,openstack/requirements,master,I2f3f5a613d63058a9f940099ec2c3ea8d74dfb10,Bump pyroute2 upper version to 0.5.13,MERGED,2020-07-27 16:30:21.000000000,2020-07-28 03:41:59.000000000,2020-07-28 03:40:39.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 16:30:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa9a4f8670c971e68e9adc96ed1513510cf5228b', 'message': 'Bump pyroute2 upper version to 0.5.13\n\nThis version contains a patch needed in Neutron:\n- https://github.com/svinota/pyroute2/issues/702\n\nChange-Id: I2f3f5a613d63058a9f940099ec2c3ea8d74dfb10\n'}]",0,743277,aa9a4f8670c971e68e9adc96ed1513510cf5228b,13,6,1,16688,,,0,"Bump pyroute2 upper version to 0.5.13

This version contains a patch needed in Neutron:
- https://github.com/svinota/pyroute2/issues/702

Change-Id: I2f3f5a613d63058a9f940099ec2c3ea8d74dfb10
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/743277/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aa9a4f8670c971e68e9adc96ed1513510cf5228b,bump_pyroute2_0_5_13,pyroute2===0.5.13,pyroute2===0.5.12,1,1
openstack%2Fmanila~stable%2Fqueens~Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,openstack/manila,stable/queens,Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,Update NFS helper restart,MERGED,2020-07-25 11:09:56.000000000,2020-07-28 03:18:19.000000000,2020-07-28 03:18:19.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-25 11:09:56.000000000', 'files': ['manila/share/drivers/helpers.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/81611fb5e807752972500f59aa9aa26b5ab88157', 'message': 'Update NFS helper restart\n\nBecause ``service`` commands are deprecated in favor of\n``systemctl` commands, the check to see if the service\ncommand succeeds in the NFS helper used by e.g. the\nlvm and generic back ends fails.  The string sought to\nindicate an error is never present.\n\nUpdate the helper to use ``systemctl`` commands instead\nand error check for them correctly.\n\nCloses-bug: #1887695\nChange-Id: Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f\n(cherry picked from commit 391ec7dffa701f54843b3aafdc6d2f8b4dfe0504)\n(cherry picked from commit eb0de241b395fdc309d3b13b1adac464316f3f10)\n(cherry picked from commit 0a3125439627da84bddfdf075b833f998f1935a7)\n(cherry picked from commit a2f21e25e8796311f395a1e83bac3e3a5769c038)\n(cherry picked from commit 92ea44b393d1d69bcb671eaa0de5b8a21707f146)\n'}]",0,743027,81611fb5e807752972500f59aa9aa26b5ab88157,10,3,1,9003,,,0,"Update NFS helper restart

Because ``service`` commands are deprecated in favor of
``systemctl` commands, the check to see if the service
command succeeds in the NFS helper used by e.g. the
lvm and generic back ends fails.  The string sought to
indicate an error is never present.

Update the helper to use ``systemctl`` commands instead
and error check for them correctly.

Closes-bug: #1887695
Change-Id: Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f
(cherry picked from commit 391ec7dffa701f54843b3aafdc6d2f8b4dfe0504)
(cherry picked from commit eb0de241b395fdc309d3b13b1adac464316f3f10)
(cherry picked from commit 0a3125439627da84bddfdf075b833f998f1935a7)
(cherry picked from commit a2f21e25e8796311f395a1e83bac3e3a5769c038)
(cherry picked from commit 92ea44b393d1d69bcb671eaa0de5b8a21707f146)
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/743027/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/helpers.py'],1,81611fb5e807752972500f59aa9aa26b5ab88157,bug/1887695," server, ['sudo', 'systemctl', 'is-active', 'nfs-kernel-server'], if ""inactive"" in out: server, ['sudo', 'systemctl', 'restart', 'nfs-kernel-server'])"," server, ['sudo', 'service', 'nfs-kernel-server', 'status'], if ""not"" in out: server, ['sudo', 'service', 'nfs-kernel-server', 'restart'])",4,3
openstack%2Ftacker~master~I9a2a58a804ff65dff356b424e12f605066717844,openstack/tacker,master,I9a2a58a804ff65dff356b424e12f605066717844,Revise installation guides,MERGED,2020-06-22 17:33:06.000000000,2020-07-28 02:39:48.000000000,2020-07-28 02:38:02.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27180}, {'_account_id': 27880}, {'_account_id': 31072}]","[{'number': 1, 'created': '2020-06-22 17:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4fe05c56348e9cfd1e0d005a0023bd920c9230fe', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 2, 'created': '2020-06-22 17:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f7e5d35a98872bfdb3dd58a29492e3a3a2a41f93', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 3, 'created': '2020-06-22 17:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a2147a14f9654ffd1c15e200d07e5cd962617774', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 4, 'created': '2020-06-26 06:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/311910caed83fd58fca174def93e52d70991216d', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 5, 'created': '2020-06-26 06:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4f4a44465d2654a845e79b3686f6874e95efd1ab', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 6, 'created': '2020-06-27 15:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/264581d09f1deea4ca2527829b1fa6b13920ee79', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 7, 'created': '2020-06-29 03:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1da3e03fabb74cbd531cdf606758a01999e06348', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 8, 'created': '2020-07-05 16:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b2c628e6607934148369bef0a20e349b21472e8a', 'message': 'WIP: Revise installation guides\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 9, 'created': '2020-07-06 11:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fe0eeb9bfcf005f0bc10baa248efd37475f80b66', 'message': 'Revise installation guides\n\nThis update is for revising contents of documents, especially for styles,\nbecause current tacker documentation does not follow the guidelines [1].\n\nOther than styles, this patch revises things bellow. However, [2] and\n[3] are still remained old because they are very different situation\nwith other parts, too old and redhat distro based. It seems better to\nremove the contentents insteads of upudate, but neet to have a\ndiscussion before to decide.\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\n[1] https://docs.openstack.org/doc-contrib-guide/rst-conv.html\n[2] https://docs.openstack.org/tacker/latest/install/openstack_vim_installation.html\n[3] https://docs.openstack.org/tacker/latest/install/kolla.html\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 10, 'created': '2020-07-06 16:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3633d0c355e97184545fb0c530d421f715f3b1c7', 'message': 'Revise installation guides\n\nThis update is for revising contents of documents, especially for styles,\nbecause current tacker documentation does not follow the guidelines [1].\n\nOther than styles, this patch revises things bellow. However, [2] and\n[3] are still remained old because they are very different situation\nwith other parts, too old and redhat distro based. It seems better to\nremove the contentents insteads of upudate, but neet to have a\ndiscussion before to decide.\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\n[1] https://docs.openstack.org/doc-contrib-guide/rst-conv.html\n[2] https://docs.openstack.org/tacker/latest/install/openstack_vim_installation.html\n[3] https://docs.openstack.org/tacker/latest/install/kolla.html\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 11, 'created': '2020-07-17 18:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1cd6d6b93cca23a15511f5a962fded53efe8cb25', 'message': 'Revise installation guides\n\nThis update is for revising contents of documents, especially for styles,\nbecause current tacker documentation does not follow the guidelines [1].\n\nOther than styles, this patch revises things bellow. However, [2] and\n[3] are still remained old because they are very different situation\nwith other parts, too old and redhat distro based. It seems better to\nremove the contentents insteads of upudate, but neet to have a\ndiscussion before to decide.\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\n[1] https://docs.openstack.org/doc-contrib-guide/rst-conv.html\n[2] https://docs.openstack.org/tacker/latest/install/openstack_vim_installation.html\n[3] https://docs.openstack.org/tacker/latest/install/kolla.html\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 12, 'created': '2020-07-21 17:28:36.000000000', 'files': ['doc/source/install/manual_installation.rst', 'doc/source/install/openstack_vim_installation.rst', 'doc/source/install/deploy_openwrt.rst', 'doc/source/install/getting_started.rst', 'doc/source/install/kubernetes_vim_installation.rst', 'samples/vim/vim_config.yaml', 'doc/source/install/kolla.rst', 'doc/source/install/devstack.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/64cc7f7e445716bc26b75588103df12229f29e74', 'message': 'Revise installation guides\n\nThis update is for revising contents of documents, especially for styles,\nbecause current tacker documentation does not follow the guidelines [1].\n\nOther than styles, this patch revises things bellow. However, [2] and\n[3] are still remained old because they are very different situation\nwith other parts, too old and redhat distro based. It seems better to\nremove the contentents insteads of upudate, but neet to have a\ndiscussion before to decide.\n\n* Update old links, such as referring to github.com.\n\n* Correct explanations which are not wrong, but misunderstanding.\n\n* Replace code blocks of `local.conf` with literalinclude to reduce\n  unnecessary lines.\n\n* Fix collapsed descriptions in format.\n\n[1] https://docs.openstack.org/doc-contrib-guide/rst-conv.html\n[2] https://docs.openstack.org/tacker/latest/install/openstack_vim_installation.html\n[3] https://docs.openstack.org/tacker/latest/install/kolla.html\n\nChange-Id: I9a2a58a804ff65dff356b424e12f605066717844\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",18,737335,64cc7f7e445716bc26b75588103df12229f29e74,42,9,12,25701,,,0,"Revise installation guides

This update is for revising contents of documents, especially for styles,
because current tacker documentation does not follow the guidelines [1].

Other than styles, this patch revises things bellow. However, [2] and
[3] are still remained old because they are very different situation
with other parts, too old and redhat distro based. It seems better to
remove the contentents insteads of upudate, but neet to have a
discussion before to decide.

* Update old links, such as referring to github.com.

* Correct explanations which are not wrong, but misunderstanding.

* Replace code blocks of `local.conf` with literalinclude to reduce
  unnecessary lines.

* Fix collapsed descriptions in format.

[1] https://docs.openstack.org/doc-contrib-guide/rst-conv.html
[2] https://docs.openstack.org/tacker/latest/install/openstack_vim_installation.html
[3] https://docs.openstack.org/tacker/latest/install/kolla.html

Change-Id: I9a2a58a804ff65dff356b424e12f605066717844
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/35/737335/12 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/devstack.rst'],1,4fe05c56348e9cfd1e0d005a0023bd920c9230fe,rev-install-guide,"Overview -------- Tacker provides some examples, or templates, of **local.conf** used for Devstack. You can find them in ``${TACKER_ROOT}/devstack`` directory in the tacker repository. Devstack supports installation from different code branch by specifying branch name in your **local.conf** as described in below. If you install the latest version, use ``master`` branch. On the other hand, if you install specific release, suppose ``ussuri`` in this case, branch name must be ``stable/ussuri``. For installation, ``stack.sh`` script in Devstack should be run as a non-root user with sudo enabled. Add a separate user ``stack`` and granting relevant privileges is a good way to install via Devstack [#f0]_. Install ------- Devstack expects to be provided ``local.conf`` before running install script. The first step of installing tacker is to clone Devstack and prepare your ``local.conf``. #. Download DevStack: Get Devstack via git, with specific branch optionally if you prefer, and go down to the directory. .. code-block:: console $ git clone https://opendev.org/openstack-dev/devstack -b <branch-name> $ cd devstack #. Enable tacker related Devstack plugins in **local.conf** file: ``local.conf`` needs to be created by manual, or copied from Tacker repo [#f1]_ renamed as **local.conf**. We have two choices for configuration basically. First one is the ``all-in-one`` mode that installs full Devstack environment including Tacker in one PC or Laptop. Second, it is ``standalone`` mode which only will install only Tacker environment with some mandatory OpenStack services. Nova, Neutron or other essential components are not included in this mode. #. All-in-one mode There are two examples for ``all-in-one`` mode, targetting OpenStack as Kubernetes as VIM. **local.conf** for ``all-in-one`` mode with OpenStack [#f2]_ is shown as below. .. literalinclude:: ../../../devstack/local.conf.example :language: ini The difference between ``all-in-one`` mode with Kubernetes is to deploy kuryr-kubernetes and octavia. .. literalinclude:: ../../../devstack/local.conf.kubernetes :language: ini :emphasize-lines: 60-65 #. Standalone mode The **local.conf** file of standalone mode from [#f4]_ is shown as below: .. literalinclude:: ../../../devstack/local.conf.standalone :language: ini #. Installation After saving the **local.conf**, we can run **stack.sh** in the terminal to start setting up: .. code-block:: console $ ./stack.sh.. [#f1] https://opendev.org/openstack/tacker/src/branch/master/devstack .. [#f2] https://opendev.org/openstack/tacker/src/branch/master/devstack/local.conf.example .. [#f3] https://opendev.org/openstack/tacker/src/branch/master/devstack/local.conf.kubernetes .. [#f4] https://opendev.org/openstack/tacker/src/branch/master/devstack/local.conf.standalone","The Devstack supports installation from different code branch by specifying <branch-name> below. If there is no preference, it is recommended to install Tacker from master branch, i.e. the <branch-name> is master. If pike branch is the target branch, the <branch-name> is stable/pike. Devstack should be run as a non-root with sudo enabled(standard logins to cloud images such as ""ubuntu"" or ""cloud-user"" are usually fine). Creating a separate user and granting relevant privileges please refer [#f0]_. 1. Download DevStack: .. code-block:: console $ git clone https://opendev.org/openstack-dev/devstack -b <branch-name> $ cd devstack .. 2. Enable tacker related Devstack plugins in **local.conf** file: First, the **local.conf** file needs to be created by manual or copied from Tacker Repo [#f1]_ and renamed to **local.conf**. We have two Tacker configuration installation files. First, it is the all-in-one mode that installs full Devstack environment including Tacker in one PC or Laptop. Second, it is the standalone mode which only will install a standalone Tacker environment with some mandatory OpenStack services. 2.1. All-in-one mode The **local.conf** file of all-in-one mode from [#f2]_ is shown as below: .. code-block:: ini [[local|localrc]] ############################################################ # Customize the following HOST_IP based on your installation ############################################################ HOST_IP=127.0.0.1 ADMIN_PASSWORD=devstack MYSQL_PASSWORD=devstack RABBIT_PASSWORD=devstack SERVICE_PASSWORD=$ADMIN_PASSWORD SERVICE_TOKEN=devstack ############################################################ # Customize the following section based on your installation ############################################################ # Pip PIP_USE_MIRRORS=False USE_GET_PIP=1 #OFFLINE=False #RECLONE=True # Logging LOGFILE=$DEST/logs/stack.sh.log VERBOSE=True ENABLE_DEBUG_LOG_LEVEL=True ENABLE_VERBOSE_LOG_LEVEL=True # Neutron ML2 with OpenVSwitch Q_PLUGIN=ml2 Q_AGENT=openvswitch # Disable security groups Q_USE_SECGROUP=False LIBVIRT_FIREWALL_DRIVER=nova.virt.firewall.NoopFirewallDriver # Enable heat, networking-sfc, barbican and mistral enable_plugin heat https://opendev.org/openstack/heat master enable_plugin networking-sfc https://opendev.org/openstack/networking-sfc master enable_plugin barbican https://opendev.org/openstack/barbican master enable_plugin mistral https://opendev.org/openstack/mistral master # Ceilometer #CEILOMETER_PIPELINE_INTERVAL=300 enable_plugin ceilometer https://opendev.org/openstack/ceilometer master enable_plugin aodh https://opendev.org/openstack/aodh master # Blazar enable_plugin blazar https://github.com/openstack/blazar.git master # Tacker enable_plugin tacker https://opendev.org/openstack/tacker master enable_service n-novnc enable_service n-cauth disable_service tempest # Enable kuryr-kubernetes, docker, octavia KUBERNETES_VIM=True enable_plugin kuryr-kubernetes https://opendev.org/openstack/kuryr-kubernetes master enable_plugin octavia https://opendev.org/openstack/octavia master enable_plugin devstack-plugin-container https://opendev.org/openstack/devstack-plugin-container master #KURYR_K8S_CLUSTER_IP_RANGE=""10.0.0.0/24"" [[post-config|/etc/neutron/dhcp_agent.ini]] [DEFAULT] enable_isolated_metadata = True [[post-config|$OCTAVIA_CONF]] [controller_worker] amp_active_retries=9999 .. 2.2. Standalone mode The **local.conf** file of standalone mode from [#f3]_ is shown as below: .. code-block:: ini [[local|localrc]] ############################################################ # Customize the following HOST_IP based on your installation ############################################################ HOST_IP=127.0.0.1 SERVICE_HOST=127.0.0.1 SERVICE_PASSWORD=devstack ADMIN_PASSWORD=devstack SERVICE_TOKEN=devstack DATABASE_PASSWORD=root RABBIT_PASSWORD=password ENABLE_HTTPD_MOD_WSGI_SERVICES=True KEYSTONE_USE_MOD_WSGI=True # Logging LOGFILE=$DEST/logs/stack.sh.log VERBOSE=True ENABLE_DEBUG_LOG_LEVEL=True ENABLE_VERBOSE_LOG_LEVEL=True GIT_BASE=${GIT_BASE:-https://opendev.org} TACKER_MODE=standalone USE_BARBICAN=True TACKER_BRANCH=<branch-name> enable_plugin networking-sfc ${GIT_BASE}/openstack/networking-sfc $TACKER_BRANCH enable_plugin barbican ${GIT_BASE}/openstack/barbican $TACKER_BRANCH enable_plugin mistral ${GIT_BASE}/openstack/mistral $TACKER_BRANCH enable_plugin tacker ${GIT_BASE}/openstack/tacker $TACKER_BRANCH .. 3. Installation After saving the **local.conf**, we can run **stack.sh** in the terminal to start setting up: .. code-block:: console $ ./stack.sh .... [#f1] https://github.com/openstack/tacker/tree/master/devstack .. [#f2] https://github.com/openstack/tacker/blob/master/devstack/local.conf.kubernetes .. [#f3] https://github.com/openstack/tacker/blob/master/devstack/local.conf.standalone ",62,137
openstack%2Ftripleo-quickstart~master~I93d53118f3310d05b8969efef80e53284d9ae8fe,openstack/tripleo-quickstart,master,I93d53118f3310d05b8969efef80e53284d9ae8fe,enable local container builds on periodic jobs,ABANDONED,2020-07-27 19:39:09.000000000,2020-07-28 02:17:28.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 19:39:09.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/27d233eb3c674fa1928eb5c1685aa093c85de6e0', 'message': 'enable local container builds on periodic jobs\n\nBased on https://review.opendev.org/#/c/737234/\nEnable periodic jobs to build and use the local\ncontainer registry for the deployment vs. ci\nregistry servers\n\nChange-Id: I93d53118f3310d05b8969efef80e53284d9ae8fe\n'}]",0,743325,27d233eb3c674fa1928eb5c1685aa093c85de6e0,5,3,1,9592,,,0,"enable local container builds on periodic jobs

Based on https://review.opendev.org/#/c/737234/
Enable periodic jobs to build and use the local
container registry for the deployment vs. ci
registry servers

Change-Id: I93d53118f3310d05b8969efef80e53284d9ae8fe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/25/743325/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,27d233eb3c674fa1928eb5c1685aa093c85de6e0,,"docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', 'trunk.registry.rdoproject.org') }}""",docker_registry_host: trunk.registry.rdoproject.org,1,1
openstack%2Frequirements~master~I9e274eeb55a0455a5f15740a192791babd38b7d5,openstack/requirements,master,I9e274eeb55a0455a5f15740a192791babd38b7d5,update constraint for oslo.policy to new release 3.3.2,MERGED,2020-07-27 20:23:57.000000000,2020-07-28 02:16:36.000000000,2020-07-28 02:14:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:23:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/deacd387487a147e9bde0aa2414d6a589db3d0ca', 'message': 'update constraint for oslo.policy to new release 3.3.2\n\nChange-Id: I9e274eeb55a0455a5f15740a192791babd38b7d5\nmeta:version: 3.3.2\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743401,deacd387487a147e9bde0aa2414d6a589db3d0ca,8,2,1,11131,,,0,"update constraint for oslo.policy to new release 3.3.2

Change-Id: I9e274eeb55a0455a5f15740a192791babd38b7d5
meta:version: 3.3.2
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/743401/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,deacd387487a147e9bde0aa2414d6a589db3d0ca,new-release,oslo.policy===3.3.2,oslo.policy===3.3.1,1,1
openstack%2Frequirements~master~If2c8cdddaf48e435a23a7b2461530462c73789e3,openstack/requirements,master,If2c8cdddaf48e435a23a7b2461530462c73789e3,update constraint for oslo.utils to new release 4.4.0,MERGED,2020-07-27 20:20:44.000000000,2020-07-28 02:15:20.000000000,2020-07-28 02:14:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:20:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/26e99c8f1cb31b787a21e49b536afa652e74ee39', 'message': 'update constraint for oslo.utils to new release 4.4.0\n\nChange-Id: If2c8cdddaf48e435a23a7b2461530462c73789e3\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743396,26e99c8f1cb31b787a21e49b536afa652e74ee39,8,2,1,11131,,,0,"update constraint for oslo.utils to new release 4.4.0

Change-Id: If2c8cdddaf48e435a23a7b2461530462c73789e3
meta:version: 4.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/743396/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,26e99c8f1cb31b787a21e49b536afa652e74ee39,new-release,oslo.utils===4.4.0,oslo.utils===4.3.0,1,1
openstack%2Frequirements~master~I3efa573166d5e67d31b7a4ed501d64ee9c752c9e,openstack/requirements,master,I3efa573166d5e67d31b7a4ed501d64ee9c752c9e,update constraint for python-troveclient to new release 5.0.0,MERGED,2020-07-27 20:22:25.000000000,2020-07-28 02:14:13.000000000,2020-07-28 02:14:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:22:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7852aceccb7e99c84cd7795802f66489df2e2241', 'message': 'update constraint for python-troveclient to new release 5.0.0\n\nChange-Id: I3efa573166d5e67d31b7a4ed501d64ee9c752c9e\nmeta:version: 5.0.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: I3ecb4927f69874f167276651718ff3aa878f6755\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743398,7852aceccb7e99c84cd7795802f66489df2e2241,7,2,1,11131,,,0,"update constraint for python-troveclient to new release 5.0.0

Change-Id: I3efa573166d5e67d31b7a4ed501d64ee9c752c9e
meta:version: 5.0.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: I3ecb4927f69874f167276651718ff3aa878f6755
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/743398/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7852aceccb7e99c84cd7795802f66489df2e2241,new-release,python-troveclient===5.0.0,python-troveclient===4.1.0,1,1
openstack%2Frequirements~master~I1b3619e98a23194df825ce94e969ac6aef4223e9,openstack/requirements,master,I1b3619e98a23194df825ce94e969ac6aef4223e9,update constraint for oslo.config to new release 8.3.1,MERGED,2020-07-27 20:22:14.000000000,2020-07-28 02:14:11.000000000,2020-07-28 02:14:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:22:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/12311b7bb456f1cc115501277d7699668d5b4a6c', 'message': 'update constraint for oslo.config to new release 8.3.1\n\nChange-Id: I1b3619e98a23194df825ce94e969ac6aef4223e9\nmeta:version: 8.3.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743397,12311b7bb456f1cc115501277d7699668d5b4a6c,7,2,1,11131,,,0,"update constraint for oslo.config to new release 8.3.1

Change-Id: I1b3619e98a23194df825ce94e969ac6aef4223e9
meta:version: 8.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/743397/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,12311b7bb456f1cc115501277d7699668d5b4a6c,new-release,oslo.config===8.3.1,oslo.config===8.3.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If249bbe8e93075d37e84cc050767515b89345020,openstack/tripleo-heat-templates,stable/train,If249bbe8e93075d37e84cc050767515b89345020,Add missing config_files kolla directives,MERGED,2020-07-26 19:30:19.000000000,2020-07-28 02:09:38.000000000,2020-07-28 02:09:38.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-26 19:30:19.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7036d8baf95c599d5100095b8905795bafe9ac5', 'message': ""Add missing config_files kolla directives\n\nThis is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b\nwhich didn't add the config_files instructions to copy the\nconfig files.\n\nCloses-Bug: #1887644\nResolves: rhbz#1853268\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\nDepends-On: https://review.opendev.org/731383\n(cherry picked from commit 86d5adf3afae9028c22f77a760df505fe66d98c3)\n""}]",0,743069,c7036d8baf95c599d5100095b8905795bafe9ac5,14,10,1,14250,,,0,"Add missing config_files kolla directives

This is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b
which didn't add the config_files instructions to copy the
config files.

Closes-Bug: #1887644
Resolves: rhbz#1853268
Change-Id: If249bbe8e93075d37e84cc050767515b89345020
Depends-On: https://review.opendev.org/731383
(cherry picked from commit 86d5adf3afae9028c22f77a760df505fe66d98c3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/743069/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,c7036d8baf95c599d5100095b8905795bafe9ac5,fix-novajoin-config-stable/train," config_files: - source: ""/var/lib/kolla/config_files/src/etc/novajoin/join.conf"" dest: ""/etc/novajoin/"" merge: false preserve_properties: true config_files: - source: ""/var/lib/kolla/config_files/src/etc/novajoin/join.conf"" dest: ""/etc/novajoin/"" merge: false preserve_properties: true",,10,0
openstack%2Frequirements~master~I9f31247d9e233bb0fe5566db9284f3c8a6df5497,openstack/requirements,master,I9f31247d9e233bb0fe5566db9284f3c8a6df5497,Updated from generate-constraints,MERGED,2020-07-21 06:27:12.000000000,2020-07-28 01:49:37.000000000,2020-07-28 01:48:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-21 06:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e22c5907fa4b3add227f36ca55f2ea169029b30c', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\n'}, {'number': 2, 'created': '2020-07-22 06:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/465c4e4ad896b6639ba7e6af8d21a617527e290c', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\n'}, {'number': 3, 'created': '2020-07-23 06:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/05dfc7306962dce912622f18b4fafcd129726652', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\n'}, {'number': 4, 'created': '2020-07-24 06:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/88bae228c268ca4edc9534095d0b261874f02c25', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\n'}, {'number': 5, 'created': '2020-07-25 06:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1f38c608a5c8103c7acec9ac9cd905d829de692b', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\n'}, {'number': 6, 'created': '2020-07-27 06:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2fc6732cbb5cc509c3cb92295eb226220a524308', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\n'}, {'number': 7, 'created': '2020-07-27 15:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0369046d9d4d10456ece82bb52319236b110b12f', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 8, 'created': '2020-07-27 15:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4d7269756170b35751782fd3daf9e42ae5782b9a', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 9, 'created': '2020-07-27 18:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc7a1855ed573fb9c6b4a81a868ce55a1799a5ae', 'message': 'Updated from generate-constraints\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 10, 'created': '2020-07-27 23:07:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7654c5464598630962767af587ab11739d771e09', 'message': 'Updated from generate-constraints\n\npymysql held back for keystone issues\n\nChange-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,742073,7654c5464598630962767af587ab11739d771e09,40,4,10,11131,,,0,"Updated from generate-constraints

pymysql held back for keystone issues

Change-Id: I9f31247d9e233bb0fe5566db9284f3c8a6df5497
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/742073/10 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e22c5907fa4b3add227f36ca55f2ea169029b30c,openstack/requirements/constraints/noclob,mock===4.0.2cryptography===3.0docutils===0.16boto3===1.14.24msgpack===1.0.0PyMySQL===0.10.0dogpile.cache===1.0.0botocore===1.17.24pkg-resources===0.0.0,mock===3.0.5cryptography===2.9.2docutils===0.15.2boto3===1.14.23msgpack===0.6.1PyMySQL===0.9.3dogpile.cache===0.9.2botocore===1.17.23,9,8
openstack%2Ftripleo-common~stable%2Ftrain~I2781cae14663094d531ad70c3d412b3153b46612,openstack/tripleo-common,stable/train,I2781cae14663094d531ad70c3d412b3153b46612,config-download remove role arg from _write_tasks_per_step(),MERGED,2020-07-24 19:13:33.000000000,2020-07-28 01:28:21.000000000,2020-07-28 01:27:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 19:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b015d59f61100170ad9b30d5a533bcc7a589311d', 'message': ""config-download remove role arg from _write_tasks_per_step()\n\nThis arg has never been used, let's just remove it.\n\nChange-Id: I2781cae14663094d531ad70c3d412b3153b46612\n(cherry picked from commit d9811e94eaaaad9109caba79d5a2bc582c83cc6c)\n(cherry picked from commit d31c419d7eaae3f52a94a4d3fb89f973f4a246fb)\n""}, {'number': 2, 'created': '2020-07-26 17:39:00.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/19efd014ee7415f18db8b3b16441440a78c38b0a', 'message': ""config-download remove role arg from _write_tasks_per_step()\n\nThis arg has never been used, let's just remove it.\n\nChange-Id: I2781cae14663094d531ad70c3d412b3153b46612\n(cherry picked from commit d9811e94eaaaad9109caba79d5a2bc582c83cc6c)\n(cherry picked from commit d31c419d7eaae3f52a94a4d3fb89f973f4a246fb)\n""}]",0,742978,19efd014ee7415f18db8b3b16441440a78c38b0a,11,3,2,3153,,,0,"config-download remove role arg from _write_tasks_per_step()

This arg has never been used, let's just remove it.

Change-Id: I2781cae14663094d531ad70c3d412b3153b46612
(cherry picked from commit d9811e94eaaaad9109caba79d5a2bc582c83cc6c)
(cherry picked from commit d31c419d7eaae3f52a94a4d3fb89f973f4a246fb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/742978/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,b015d59f61100170ad9b30d5a533bcc7a589311d,role/train," ['upgrade_tasks'], filepath, step)"," ['upgrade_tasks'], role, filepath, step)",3,3
openstack%2Fneutron~master~I21e1d6296e250623f311aa58470b13114e0fc371,openstack/neutron,master,I21e1d6296e250623f311aa58470b13114e0fc371,WIP please ignore,ABANDONED,2020-07-27 19:22:46.000000000,2020-07-28 01:26:54.000000000,,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-27 19:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f8619af61cd9653b1dc2640db98c895c9d86ff9', 'message': 'WIP please ignore\n\nChange-Id: I21e1d6296e250623f311aa58470b13114e0fc371\n'}, {'number': 2, 'created': '2020-07-27 19:37:30.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5bed0cfcd106233e66be151788bc66089362f6c', 'message': 'WIP please ignore\n\nChange-Id: I21e1d6296e250623f311aa58470b13114e0fc371\n'}]",0,743320,d5bed0cfcd106233e66be151788bc66089362f6c,10,6,2,11952,,,0,"WIP please ignore

Change-Id: I21e1d6296e250623f311aa58470b13114e0fc371
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/743320/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",3,3f8619af61cd9653b1dc2640db98c895c9d86ff9,," def get_router_floatingip_lbs(self, lrouter_name): ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: lrouter_name}))"," def get_router_floatingip_lbs(self, rtr_name): ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: rtr_name}))",53,2
openstack%2Fansible-role-tripleo-modify-image~master~Ib4856722a79d01329295727ac6381dd7ffb829f9,openstack/ansible-role-tripleo-modify-image,master,Ib4856722a79d01329295727ac6381dd7ffb829f9,Update README,ABANDONED,2020-05-21 22:16:42.000000000,2020-07-28 01:26:53.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16615}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-21 22:16:42.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/9c8b99363d443166d4034d65f54aa77190a718f2', 'message': 'Update README\n\nWhen rpms_path is specified, one must also include modify_dir_path\ndue to this task:\n\n- name: Copy RPMs to context dir\n  copy:\n    src: ""{{ item }}""\n    dest: ""{{ modify_dir_path }}""\n  with_list: ""{{ rpms_list }}""\n  when: rpms_path is defined\n\nChange-Id: Ib4856722a79d01329295727ac6381dd7ffb829f9\n'}]",0,730140,9c8b99363d443166d4034d65f54aa77190a718f2,7,5,1,16615,,,0,"Update README

When rpms_path is specified, one must also include modify_dir_path
due to this task:

- name: Copy RPMs to context dir
  copy:
    src: ""{{ item }}""
    dest: ""{{ modify_dir_path }}""
  with_list: ""{{ rpms_list }}""
  when: rpms_path is defined

Change-Id: Ib4856722a79d01329295727ac6381dd7ffb829f9
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/40/730140/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9c8b99363d443166d4034d65f54aa77190a718f2,, modify_dir_path: /path/to/example_modify_dir modify_dir_path: /path/to/example_modify_dir,,2,0
openstack%2Fneutron~stable%2Fussuri~I0a708ae63d6a2c8933324157a4bbbd229fc43073,openstack/neutron,stable/ussuri,I0a708ae63d6a2c8933324157a4bbbd229fc43073,Fix neutron-ovn-tempest-ovs-master-fedora job,MERGED,2020-07-22 19:21:06.000000000,2020-07-28 01:17:08.000000000,2020-07-28 01:14:39.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-22 19:21:06.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b00041f4dcf9b36355037beb6d352526ae67e1a', 'message': 'Fix neutron-ovn-tempest-ovs-master-fedora job\n\nThe job should use OVN_BRANCH = master and OVS_BRANCH = master,\nbecause based on its definition, it should use master code.\n\nChange-Id: I0a708ae63d6a2c8933324157a4bbbd229fc43073\nRelated-Bug: #1877377\n(cherry picked from commit 294720fcd28485326e62eb38de5d6ba9683120a2)\n'}]",0,742519,2b00041f4dcf9b36355037beb6d352526ae67e1a,17,6,1,24791,,,0,"Fix neutron-ovn-tempest-ovs-master-fedora job

The job should use OVN_BRANCH = master and OVS_BRANCH = master,
because based on its definition, it should use master code.

Change-Id: I0a708ae63d6a2c8933324157a4bbbd229fc43073
Related-Bug: #1877377
(cherry picked from commit 294720fcd28485326e62eb38de5d6ba9683120a2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/742519/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,2b00041f4dcf9b36355037beb6d352526ae67e1a,, vars: devstack_localrc: OVN_BRANCH: master OVS_BRANCH: master,,4,0
openstack%2Fdesignate~master~I8f24431db0ec88385b4b916e181d6da3e598c764,openstack/designate,master,I8f24431db0ec88385b4b916e181d6da3e598c764,Add a /healthcheck middleware,MERGED,2020-05-16 15:34:35.000000000,2020-07-28 01:06:02.000000000,2020-07-28 01:03:42.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-05-16 15:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5c991e94e0c80ef3fc81d69a298a2e8db8d93b2d', 'message': ""Add a /healthcheck middleware\n\nThe /healthcheck URL, as provided by oslo.middleware, is very\nuseful for operators to setup haproxy and to do monitoring.\nSuch feature is already in many services like Keystone, Glance,\nand others.\n\nThe same type of patch has been approved in Neutronm, Heat, and\nCinder. It's under discussion in Nova, where they want to check\nmore than just the wsgi app, though the pricinple to add it has\nbeen accepted already.\n\nChange-Id: I8f24431db0ec88385b4b916e181d6da3e598c764\n""}, {'number': 2, 'created': '2020-07-24 22:21:05.000000000', 'files': ['etc/designate/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/3321092928a91e1a6b6d8b8a4d68b809798a4492', 'message': ""Add a /healthcheck middleware\n\nThe /healthcheck URL, as provided by oslo.middleware, is very\nuseful for operators to setup haproxy and to do monitoring.\nSuch feature is already in many services like Keystone, Glance,\nand others.\n\nThe same type of patch has been approved in Neutronm, Heat, and\nCinder. It's under discussion in Nova, where they want to check\nmore than just the wsgi app, though the pricinple to add it has\nbeen accepted already.\n\nChange-Id: I8f24431db0ec88385b4b916e181d6da3e598c764\n""}]",0,728641,3321092928a91e1a6b6d8b8a4d68b809798a4492,10,3,2,6476,,,0,"Add a /healthcheck middleware

The /healthcheck URL, as provided by oslo.middleware, is very
useful for operators to setup haproxy and to do monitoring.
Such feature is already in many services like Keystone, Glance,
and others.

The same type of patch has been approved in Neutronm, Heat, and
Cinder. It's under discussion in Nova, where they want to check
more than just the wsgi app, though the pricinple to add it has
been accepted already.

Change-Id: I8f24431db0ec88385b4b916e181d6da3e598c764
",git fetch https://review.opendev.org/openstack/designate refs/changes/41/728641/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/designate/api-paste.ini'],1,5c991e94e0c80ef3fc81d69a298a2e8db8d93b2d,add-healthcheck-url,/healthcheck: healthcheck [app:healthcheck] paste.app_factory = oslo_middleware:Healthcheck.app_factory backends = disable_by_file disable_by_file_path = /etc/designate/healthcheck_disable,,6,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I175511acef0e661bd1f282f37b1e528959c118a5,openstack/networking-ovn,stable/train,I175511acef0e661bd1f282f37b1e528959c118a5,[OVN] Enable qos service plugin in tempest jobs,MERGED,2020-05-25 07:36:40.000000000,2020-07-28 00:57:21.000000000,2020-07-28 00:54:51.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-25 07:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2422eb67fdda132b2c854731b0db3c696f2963df', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}, {'number': 2, 'created': '2020-05-25 07:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4279d159bbebd120d1e6a58cc937526d6b3f358f', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}, {'number': 3, 'created': '2020-05-28 09:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4afce77596eb048dabe118f18c77a4e8aef77975', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}, {'number': 4, 'created': '2020-06-04 12:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2e63e3cac0d5eb011a7264950a3f79b0c97a61f6', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}, {'number': 5, 'created': '2020-07-17 13:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0085e2b1db7389350bab74dec10b7c6a9453aec1', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}, {'number': 6, 'created': '2020-07-17 14:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/222f4293e1b1801c15da4ca2b9861eac26fdf877', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n* Update BRANCH_OVS to point 51e9479da62edb04a5be47a7655de75c299b9fa1\n  (hash for which compilation under Bionic works)\n* Update BRANCH_OVS in master jobs, to point OVS and OVN master\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}, {'number': 7, 'created': '2020-07-20 10:12:50.000000000', 'files': ['devstack/override-defaults', 'devstack/lib/ovn', 'devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c2ce6a6546e760d1dff0bf5c527fcb6167bb3095', 'message': '[OVN] Enable qos service plugin in tempest jobs\n\nThis patch adds QoS service plugin and enable QoS\ntests while using OVN as a backend.\n\nNote that:\n* We need to compile OVS kernel module, in order to support\n  OpenFlow Meter action in Ubuntu [1]\n* Added qos extension to the list of neutron extensions in tempest\n  config file to be able to run qos related tests.\n* Update BRANCH_OVS to point 51e9479da62edb04a5be47a7655de75c299b9fa1\n  (hash for which compilation under Bionic works)\n* Update BRANCH_OVS in master jobs, to point OVS and OVN master\n\nNot-trival cherry-pick of Neutron patch:\nhttps://review.opendev.org/#/c/704833\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I175511acef0e661bd1f282f37b1e528959c118a5\n'}]",2,730567,c2ce6a6546e760d1dff0bf5c527fcb6167bb3095,24,7,7,24791,,,0,"[OVN] Enable qos service plugin in tempest jobs

This patch adds QoS service plugin and enable QoS
tests while using OVN as a backend.

Note that:
* We need to compile OVS kernel module, in order to support
  OpenFlow Meter action in Ubuntu [1]
* Added qos extension to the list of neutron extensions in tempest
  config file to be able to run qos related tests.
* Update BRANCH_OVS to point 51e9479da62edb04a5be47a7655de75c299b9fa1
  (hash for which compilation under Bionic works)
* Update BRANCH_OVS in master jobs, to point OVS and OVN master

Not-trival cherry-pick of Neutron patch:
https://review.opendev.org/#/c/704833

[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1782834

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Change-Id: I175511acef0e661bd1f282f37b1e528959c118a5
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/67/730567/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/override-defaults', 'devstack/lib/networking-ovn', 'devstack/lib/ovn', 'zuul.d/networking-ovn-jobs.yaml']",4,2422eb67fdda132b2c854731b0db3c696f2963df,, # TODO(mjozefcz): Stop compiling OVS modules when meter action in kernel # will be released in Ubuntu Bionic. # More info: https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html OVN_BUILD_MODULES: True q-qos: true # TODO(mjozefcz): Stop compiling OVS modules when meter action in kernel # will be released in Ubuntu Bionic. # More info: https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html OVN_BUILD_MODULES: True q-qos: true,,16,1
openstack%2Fcyborg-specs~master~I5690129986aa143ab5b0578ea69e2a3328666edf,openstack/cyborg-specs,master,I5690129986aa143ab5b0578ea69e2a3328666edf,Add Inspur FPGA driver specification.,MERGED,2020-05-26 11:11:24.000000000,2020-07-28 00:41:42.000000000,2020-07-28 00:40:40.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-05-26 11:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/bd78440f7b7ca1b8164321e48c40766bb7c4d548', 'message': 'Add IInspur FPGAdriver specification..\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n'}, {'number': 2, 'created': '2020-05-27 06:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/9a86c7c5b230b1e9c8c76088394bbee0d35b0e46', 'message': 'Add IInspur FPGAdriver specification..\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n'}, {'number': 3, 'created': '2020-07-01 07:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/40ec2054e9c980a8d8475e5bb352097ec744f5e9', 'message': ""Add Inspur® FPGA driver specification.\n\nThis spec proposes to provide the initial design for\nCyborg's Inspur® FPGA driver.\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n""}, {'number': 4, 'created': '2020-07-01 07:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/1297a0251ab7e2e2b3e36941ce760719e13711dc', 'message': ""Add Inspur® FPGA driver specification.\n\nThis spec proposes to provide the initial design for\nCyborg's Inspur® FPGA driver.\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n""}, {'number': 5, 'created': '2020-07-17 08:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/36765ebd957cfd1bdfef45c1c2a3fafefa4fb795', 'message': ""Add Inspur FPGA driver specification.\n\nThis spec proposes to provide the initial design for\nCyborg's Inspur® FPGA driver.\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n""}, {'number': 6, 'created': '2020-07-27 11:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/d00a6d3f711ad5aad6cb4f20b7f4fad87d07a510', 'message': ""Add Inspur FPGA driver specification.\n\nThis spec proposes to provide the initial design for\nCyborg's Inspur® FPGA driver.\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n""}, {'number': 7, 'created': '2020-07-27 11:45:08.000000000', 'files': ['specs/victoria/approved/inspur-fpga-driver-proposal.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/f6521b72a558b7a535f3fc41578034c0b1e40d43', 'message': ""Add Inspur FPGA driver specification.\n\nThis spec proposes to provide the initial design for\nCyborg's Inspur® FPGA driver.\n\nChange-Id: I5690129986aa143ab5b0578ea69e2a3328666edf\n""}]",37,730760,f6521b72a558b7a535f3fc41578034c0b1e40d43,29,7,7,31412,,,0,"Add Inspur FPGA driver specification.

This spec proposes to provide the initial design for
Cyborg's Inspur® FPGA driver.

Change-Id: I5690129986aa143ab5b0578ea69e2a3328666edf
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/60/730760/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/inspur-fpga-driver-proposal.rst'],1,bd78440f7b7ca1b8164321e48c40766bb7c4d548,inspur-fpga-driver-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Cyborg Inspur® FPGA Driver Proposal ================================= This spec proposes to provide the initial design for Cyborg's Inspur® FPGA driver. Problem description =================== This spec will add a Inspur® FPGA driver for Cyborg to manage specific Inspur® FPGA devices. Use Cases --------- * When user want to boot up a VM with Inspur® FPGA card attached in order to accelerate TLS workload. Cyborg should be able to manage this kind of acceleration resources and to assign it to the VM(binding). Proposed changes ================ In general, the goal is to develop a Cyborg Inspur® FPGA driver that supports discover() interfaces, this driver is reponsible to encapsule the device information to Cyborg's unified data model, such as Device, Deployale, AttachHandle and so on. The driver should include discover functions which will be called by agent periodically. Image Format ---------------------------- Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Wenping Song Work Items ---------- * Implement Inspur® FPGA driver in Cyborg * Add related test cases. Dependencies ============ None Testing ======== * Unit tests will be added to test this driver. Documentation Impact ==================== Document Inspur® FPGA driver in Cyborg project. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release - Description * - Victoria - Introduced References ========== None ",,138,0
openstack%2Fneutron~stable%2Fussuri~I5e98297acefb62f9a9c1200ccfaac0672eeeed2c,openstack/neutron,stable/ussuri,I5e98297acefb62f9a9c1200ccfaac0672eeeed2c,[OVN] Extra DHCP options validation: Log invalid options,MERGED,2020-07-27 08:00:15.000000000,2020-07-28 00:00:10.000000000,2020-07-27 23:58:42.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-27 08:00:15.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d07e87920826c5b4a1077939bbf5f9c9870d6511', 'message': '[OVN] Extra DHCP options validation: Log invalid options\n\nBy raising an exception when an option is invalid we broke the Ironic +\nOVN + Neutron DHCP agent combination that enabled deploying baremetal\nmachines.\n\nThis patch is changing the approach to just log the invalid options\ninstead of failing the request so that the OVN driver can still be used\nwith Ironic.\n\nChange-Id: I5e98297acefb62f9a9c1200ccfaac0672eeeed2c\nCloses-Bug: #1888649\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 8c4b23f8128fa396164293d74837fa3b391e9974)\n'}]",0,743160,d07e87920826c5b4a1077939bbf5f9c9870d6511,13,7,1,6773,,,0,"[OVN] Extra DHCP options validation: Log invalid options

By raising an exception when an option is invalid we broke the Ironic +
OVN + Neutron DHCP agent combination that enabled deploying baremetal
machines.

This patch is changing the approach to just log the invalid options
instead of failing the request so that the OVN driver can still be used
with Ironic.

Change-Id: I5e98297acefb62f9a9c1200ccfaac0672eeeed2c
Closes-Bug: #1888649
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 8c4b23f8128fa396164293d74837fa3b391e9974)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/743160/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,d07e87920826c5b4a1077939bbf5f9c9870d6511,," LOG.info('The following extra DHCP options for port %(port_id)s ' 'IPv6: ""%(ipv6_opts)s""', {'port_id': port['id'], 'ipv4_opts': ipv4_opts, 'ipv6_opts': ipv6_opts})"," msg = (_('The following extra DHCP options for port %(port_id)s ' 'IPv6: ""%(ipv6_opts)s""') % {'port_id': port['id'], 'ipv4_opts': ipv4_opts, 'ipv6_opts': ipv6_opts}) raise OVNPortUpdateError(resource='port', msg=msg)",33,23
openstack%2Fopenstack-tempest-skiplist~master~Iefe2357d740dd4a298118b6b685fcbe3bc2d16ff,openstack/openstack-tempest-skiplist,master,Iefe2357d740dd4a298118b6b685fcbe3bc2d16ff,Add installation from git for tempest skip,ABANDONED,2020-07-24 12:14:06.000000000,2020-07-27 23:54:57.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 12:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/d14c989618cf56ff8db3e91a3c630e3c657687bb', 'message': 'DNM - testing tempest skip list installation from git\n\nChange-Id: Iefe2357d740dd4a298118b6b685fcbe3bc2d16ff\n'}, {'number': 2, 'created': '2020-07-24 12:34:11.000000000', 'files': ['roles/install_skiplist/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5b2b85666044b52f64791a26b0094217db298abb', 'message': 'Add installation from git for tempest skip\n\nThis is called when zuul is not defined, for cases where the job is\nexecuted outside zuul. For example in jenkins\n\nChange-Id: Iefe2357d740dd4a298118b6b685fcbe3bc2d16ff\n'}]",0,742867,5b2b85666044b52f64791a26b0094217db298abb,6,2,2,8367,,,0,"Add installation from git for tempest skip

This is called when zuul is not defined, for cases where the job is
executed outside zuul. For example in jenkins

Change-Id: Iefe2357d740dd4a298118b6b685fcbe3bc2d16ff
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/67/742867/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/install_skiplist/tasks/main.yaml'],1,d14c989618cf56ff8db3e91a3c630e3c657687bb,install-git," - name: Download from git repository git: repo: https://opendev.org/openstack/openstack-tempest-skiplist.git dest: ""{{ ansible_user_dir }}/openstack-tempest-skiplist"" - name: Override tempest-skip-path set_fact: tempest_skip_path: ""{{ ansible_user_dir }}/openstack-tempest-skiplist"" # When zuul is not defined when: true - block:",,12,0
openstack%2Fopenstack-helm-infra~master~I5aff6821f2649f55dd4444896379491b504415bb,openstack/openstack-helm-infra,master,I5aff6821f2649f55dd4444896379491b504415bb,feat(tls): add tls to mariadb  exporter charts,MERGED,2020-07-27 21:10:24.000000000,2020-07-27 23:54:48.000000000,2020-07-27 23:53:36.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4f129f857c1ce392ce3f11a5b27a80bd404a54c9', 'message': 'feat(tls): add tls to mariadb  exporter charts\n\nThis patchset updates the .cnf files to support tls and mount\nthe certificates where needed.\n\nChange-Id: I5aff6821f2649f55dd4444896379491b504415bb\n'}, {'number': 2, 'created': '2020-07-27 21:42:09.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/pod-test.yaml', 'mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'mariadb/templates/secrets/_admin_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user_internal.cnf.tpl', 'mariadb/templates/monitoring/prometheus/bin/_create-mysql-user.sh.tpl', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d458e888a921d315f1be15686139267def4dc515', 'message': 'feat(tls): add tls to mariadb  exporter charts\n\nThis patchset updates the .cnf files to support tls and mount\nthe certificates where needed.\n\nChange-Id: I5aff6821f2649f55dd4444896379491b504415bb\n'}]",0,743416,d458e888a921d315f1be15686139267def4dc515,10,3,2,24780,,,0,"feat(tls): add tls to mariadb  exporter charts

This patchset updates the .cnf files to support tls and mount
the certificates where needed.

Change-Id: I5aff6821f2649f55dd4444896379491b504415bb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/743416/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/templates/pod-test.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'mariadb/templates/secrets/_admin_user.cnf.tpl', 'mariadb/templates/secrets/_admin_user_internal.cnf.tpl']",6,4f129f857c1ce392ce3f11a5b27a80bd404a54c9,,{{- if .Values.manifests.certificates -}} ssl-ca = /etc/mysql/certs/ca.crt ssl-key = /etc/mysql/certs/tls.key ssl-cert = /etc/mysql/certs/tls.crt {{- end -}},,22,0
openstack%2Fpython-tripleoclient~master~I233c8e842e9f5dc92eb7a04b8346356dcf098cfb,openstack/python-tripleoclient,master,I233c8e842e9f5dc92eb7a04b8346356dcf098cfb,[ussuri] TCIB: change default namespace to triploeu,MERGED,2020-07-22 19:56:00.000000000,2020-07-27 23:30:07.000000000,2020-07-24 00:23:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 19:56:00.000000000', 'files': ['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c623396ff9cc0c7dbeeb1f1e7e122aa0ac42e09a', 'message': '[ussuri] TCIB: change default namespace to triploeu\n\n... instead of tripleomaster.\n\nChange-Id: I233c8e842e9f5dc92eb7a04b8346356dcf098cfb\n'}]",0,742529,c623396ff9cc0c7dbeeb1f1e7e122aa0ac42e09a,9,3,1,3153,,,0,"[ussuri] TCIB: change default namespace to triploeu

... instead of tripleomaster.

Change-Id: I233c8e842e9f5dc92eb7a04b8346356dcf098cfb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/742529/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v2/tripleo_container_image.py']",2,c623396ff9cc0c7dbeeb1f1e7e122aa0ac42e09a,tripleou," default=""tripleou"","," default=""tripleomaster"",",3,3
openstack%2Ftripleo-ansible~stable%2Ftrain~I5110a9e2bd3888c9aae174fd27cede0e89d1046a,openstack/tripleo-ansible,stable/train,I5110a9e2bd3888c9aae174fd27cede0e89d1046a,Stop caturing stdout for container-image-prepare,MERGED,2020-07-27 11:56:39.000000000,2020-07-27 23:21:06.000000000,2020-07-27 23:21:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 11:56:39.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-image-prepare/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a936714ebf1ec6611a043ee1c06b8805bdd7607', 'message': 'Stop caturing stdout for container-image-prepare\n\nWe log container-image-prepare to a file so we should just /dev/null\nstdout. stderr will still be captured if something goes wrong but the\nstdout is excessively large especially with --debug enabled.\n\nChange-Id: I5110a9e2bd3888c9aae174fd27cede0e89d1046a\n(cherry picked from commit 569b4284982f21f9e0fc9592912de28884e2cb28)\n(cherry picked from commit 8d961c871e824770ec90e7d463f584beda26f37c)\n'}]",0,743202,8a936714ebf1ec6611a043ee1c06b8805bdd7607,7,3,1,3153,,,0,"Stop caturing stdout for container-image-prepare

We log container-image-prepare to a file so we should just /dev/null
stdout. stderr will still be captured if something goes wrong but the
stdout is excessively large especially with --debug enabled.

Change-Id: I5110a9e2bd3888c9aae174fd27cede0e89d1046a
(cherry picked from commit 569b4284982f21f9e0fc9592912de28884e2cb28)
(cherry picked from commit 8d961c871e824770ec90e7d463f584beda26f37c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/743202/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-image-prepare/tasks/main.yml'],1,8a936714ebf1ec6611a043ee1c06b8805bdd7607,cip/train," shell: >- >/dev/null no_log: ""{{ not tripleo_container_image_prepare_debug | bool }}"""," command: >- no_log: ""{{ not (tripleo_container_image_prepare_debug | bool) }}""",3,2
openstack%2Fproject-config~master~Ie8fa80835a758a9da1b089204e0f6a92c9e6e994,openstack/project-config,master,Ie8fa80835a758a9da1b089204e0f6a92c9e6e994,Fix copy-paste error for the ceph grafana nova ussuri panel,MERGED,2020-07-27 16:03:07.000000000,2020-07-27 23:19:57.000000000,2020-07-27 23:07:23.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 16:03:07.000000000', 'files': ['grafana/ceph.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ebfce65178c216e6cf3feaef452da8db50dbe895', 'message': 'Fix copy-paste error for the ceph grafana nova ussuri panel\n\nIn change I061e82b2cd8becf992d7fb0ba9e37ebc90ed4239 we added a panel\nfor the nova ceph jobs running on stable/ussuri but had a copy-paste\nerror where the jobs are specifying ""train"" instead of ""ussuri"".\n\nChange-Id: Ie8fa80835a758a9da1b089204e0f6a92c9e6e994\n'}]",0,743273,ebfce65178c216e6cf3feaef452da8db50dbe895,8,3,1,4690,,,0,"Fix copy-paste error for the ceph grafana nova ussuri panel

In change I061e82b2cd8becf992d7fb0ba9e37ebc90ed4239 we added a panel
for the nova ceph jobs running on stable/ussuri but had a copy-paste
error where the jobs are specifying ""train"" instead of ""ussuri"".

Change-Id: Ie8fa80835a758a9da1b089204e0f6a92c9e6e994
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/743273/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/ceph.yaml'],1,ebfce65178c216e6cf3feaef452da8db50dbe895,run-service-grafana," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_ussuri.job.tempest-integrated-compute.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_ussuri.job.tempest-integrated-compute.{SUCCESS,FAILURE})),'24hours'), 'tempest-integrated-compute') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_ussuri.job.devstack-plugin-ceph-tempest-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_ussuri.job.devstack-plugin-ceph-tempest-py3.{SUCCESS,FAILURE})),'24hours'), 'devstack-plugin-ceph-tempest-py3')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.tempest-integrated-compute.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.tempest-integrated-compute.{SUCCESS,FAILURE})),'24hours'), 'tempest-integrated-compute') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.devstack-plugin-ceph-tempest-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.devstack-plugin-ceph-tempest-py3.{SUCCESS,FAILURE})),'24hours'), 'devstack-plugin-ceph-tempest-py3')",2,2
openstack%2Fnova~stable%2Fpike~I4afaa0808b75cc31a8dd14663912c162281a1a42,openstack/nova,stable/pike,I4afaa0808b75cc31a8dd14663912c162281a1a42,Check cherry-pick hashes in pep8 tox target,MERGED,2020-07-21 14:43:20.000000000,2020-07-27 23:15:03.000000000,2020-07-27 23:11:36.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-21 14:43:20.000000000', 'files': ['tox.ini', 'tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d97bfcdff1e179b82ea8c94e0b935efd378c7b9', 'message': ""Check cherry-pick hashes in pep8 tox target\n\nNOTE(elod.illes): This is a combination of 2 commits: the cherry-pick\nhash checker script and a fix for the script.\n\n1. Check cherry-pick hashes in pep8 tox target\n\nThis adds a tools/ script that checks any cherry-picked hashes\non the current commit (or a provided commit) to make sure that\nall the hashes exist on at least master or stable/.* branches.\nThis should help avoid accidentally merging stable backports\nwhere one of the hashes along the line has changed due to conflicts.\n\n2. Fix cherry-pick check for merge patch\n\nCherry-pick check script validates the proposed patch's commit message.\nIf a patch is not on top of the given branch then Zuul rebases it to\nthe top and the patch becomes a merge patch. In this case the script\nvalidates the merge patch's commit message instead of the original\npatch's commit message and fails.\n\nThis fix selects the parent of the patch if it is a merge patch.\n\n(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)\n(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)\n(cherry picked from commit 7a5111ba2943014b6fd53a5fe7adcd9bc445315e)\n\nChange-Id: I4afaa0808b75cc31a8dd14663912c162281a1a42\n(cherry picked from commit aebc829c4e0d39a160eaaa5ad949c1256c8179e6)\n(cherry picked from commit 5cacfaab82853241022d3a2a0734f82dae59a34b)\n(cherry picked from commit d307b964ce380f2fa57debc6c4c8346ac8736afe)\n(cherry picked from commit c3dd9f86f13a86c901443054de5ad3ab57953901)\n(cherry picked from commit f1ab10b8252bab4123c55a9fc10583710f347cef)\n(cherry picked from commit e605600d9e45f1b88ecc5c68c1ec4e24ceea6bd5)\n""}]",0,742212,2d97bfcdff1e179b82ea8c94e0b935efd378c7b9,14,7,1,17685,,,0,"Check cherry-pick hashes in pep8 tox target

NOTE(elod.illes): This is a combination of 2 commits: the cherry-pick
hash checker script and a fix for the script.

1. Check cherry-pick hashes in pep8 tox target

This adds a tools/ script that checks any cherry-picked hashes
on the current commit (or a provided commit) to make sure that
all the hashes exist on at least master or stable/.* branches.
This should help avoid accidentally merging stable backports
where one of the hashes along the line has changed due to conflicts.

2. Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)
(cherry picked from commit 7a5111ba2943014b6fd53a5fe7adcd9bc445315e)

Change-Id: I4afaa0808b75cc31a8dd14663912c162281a1a42
(cherry picked from commit aebc829c4e0d39a160eaaa5ad949c1256c8179e6)
(cherry picked from commit 5cacfaab82853241022d3a2a0734f82dae59a34b)
(cherry picked from commit d307b964ce380f2fa57debc6c4c8346ac8736afe)
(cherry picked from commit c3dd9f86f13a86c901443054de5ad3ab57953901)
(cherry picked from commit f1ab10b8252bab4123c55a9fc10583710f347cef)
(cherry picked from commit e605600d9e45f1b88ecc5c68c1ec4e24ceea6bd5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/742212/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/check-cherry-picks.sh']",2,2d97bfcdff1e179b82ea8c94e0b935efd378c7b9,backport-hash-check,"#!/bin/sh # # A tool to check the cherry-pick hashes from the current git commit message # to verify that they're all on either master or stable/ branches # commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p') checked=0 branches+="""" for hash in $hashes; do branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)') if [ $? -ne 0 ]; then echo ""Cherry pick hash $hash not on any master or stable branches"" exit 1 fi branches+="" $branch"" checked=$(($checked + 1)) done if [ $checked -eq 0 ]; then if ! grep -q '^defaultbranch=stable/' .gitreview; then echo ""Checked $checked cherry-pick hashes: OK"" exit 0 else if ! git show --format='%B' --quiet | grep -qi 'stable.*only'; then echo 'Stable branch requires either cherry-pick -x headers or [stable-only] tag!' exit 1 fi fi else echo Checked $checked cherry-pick hashes on branches: $(echo $branches | tr ' ' '\n' | sort | uniq) fi ",,43,0
openstack%2Fpython-openstackclient~master~Ib9af40da96e66354fe878e79a80048a58f8dd6fe,openstack/python-openstackclient,master,Ib9af40da96e66354fe878e79a80048a58f8dd6fe,Delete the testcases that arent needed anymore,MERGED,2020-07-15 21:30:12.000000000,2020-07-27 23:14:50.000000000,2020-07-27 23:11:29.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6873}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 30690}]","[{'number': 1, 'created': '2020-07-15 21:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f59973f4504d065fe1bdc89cb0f79cbb28eefc4b', 'message': ""Fix the functional tests that run example files\n\nCurrently, these functional test cases are just running 'python' command\nand not testing if the files present in python-openstackclient's examples dir\ngets executed as expected. So updating the test cases\n\nChange-Id: Ib9af40da96e66354fe878e79a80048a58f8dd6fe\n""}, {'number': 2, 'created': '2020-07-16 14:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2a734bc1a7f05a1b056334861547dd9efbce30a7', 'message': ""Fix the functional tests that run example files\n\nCurrently, these functional test cases are just running 'python' command\nand not testing if the files present in python-openstackclient's examples dir\ngets executed as expected. So updating the test cases\n\nChange-Id: Ib9af40da96e66354fe878e79a80048a58f8dd6fe\n""}, {'number': 3, 'created': '2020-07-16 17:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/627ef90fa2364adfe484538b1df14f007c1fe686', 'message': ""Fix the functional tests that run example files\n\nCurrently, these functional test cases are just running 'python' command\nand not testing if the files present in python-openstackclient's examples dir\ngets executed as expected. So updating the test cases\n\nChange-Id: Ib9af40da96e66354fe878e79a80048a58f8dd6fe\n""}, {'number': 4, 'created': '2020-07-16 21:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aa10d885b553359bf0b6862391689436dc6932f6', 'message': ""Fix the functional tests that run example files\n\nCurrently, these functional test cases are just running 'python' command\nand not testing if the files present in python-openstackclient's examples dir\ngets executed as expected. So updating the test cases\n\nChange-Id: Ib9af40da96e66354fe878e79a80048a58f8dd6fe\n""}, {'number': 5, 'created': '2020-07-23 21:10:01.000000000', 'files': ['openstackclient/tests/functional/base.py', 'openstackclient/tests/functional/examples/__init__.py', 'openstackclient/tests/functional/examples/test_examples.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4e2aefb5fa2ce236473187650149cf421c5f8c53', 'message': 'Delete the testcases that arent needed anymore\n\nThe file test_examples.py has never worked since its written and and cli in\nthe example directory are covered by other functional tests for container,\nflavor and object lists and they have better asserts. So, deleting the file\n\nChange-Id: Ib9af40da96e66354fe878e79a80048a58f8dd6fe\n'}]",9,741320,4e2aefb5fa2ce236473187650149cf421c5f8c53,23,10,5,30690,,,0,"Delete the testcases that arent needed anymore

The file test_examples.py has never worked since its written and and cli in
the example directory are covered by other functional tests for container,
flavor and object lists and they have better asserts. So, deleting the file

Change-Id: Ib9af40da96e66354fe878e79a80048a58f8dd6fe
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/741320/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/base.py', 'openstackclient/tests/functional/examples/test_examples.py']",2,f59973f4504d065fe1bdc89cb0f79cbb28eefc4b,, base.execute('python ' + base.EXAMPLE_DIR + '/common.py --debug') base.execute('python ' + base.EXAMPLE_DIR + '/object_api.py --debug') base.execute('python ' + base.EXAMPLE_DIR + '/osc-lib.py --debug')," base.execute('python', base.EXAMPLE_DIR + '/common.py --debug') base.execute('python', base.EXAMPLE_DIR + '/object_api.py --debug') base.execute('python', base.EXAMPLE_DIR + '/osc-lib.py --debug')",5,4
openstack%2Ftripleo-common~stable%2Fussuri~I2781cae14663094d531ad70c3d412b3153b46612,openstack/tripleo-common,stable/ussuri,I2781cae14663094d531ad70c3d412b3153b46612,config-download remove role arg from _write_tasks_per_step(),MERGED,2020-07-24 19:12:54.000000000,2020-07-27 23:13:15.000000000,2020-07-27 23:10:12.000000000,"[{'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 19:12:54.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d31c419d7eaae3f52a94a4d3fb89f973f4a246fb', 'message': ""config-download remove role arg from _write_tasks_per_step()\n\nThis arg has never been used, let's just remove it.\n\nChange-Id: I2781cae14663094d531ad70c3d412b3153b46612\n(cherry picked from commit d9811e94eaaaad9109caba79d5a2bc582c83cc6c)\n""}]",0,742977,d31c419d7eaae3f52a94a4d3fb89f973f4a246fb,9,4,1,3153,,,0,"config-download remove role arg from _write_tasks_per_step()

This arg has never been used, let's just remove it.

Change-Id: I2781cae14663094d531ad70c3d412b3153b46612
(cherry picked from commit d9811e94eaaaad9109caba79d5a2bc582c83cc6c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/742977/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,d31c419d7eaae3f52a94a4d3fb89f973f4a246fb,role/ussuri," ['upgrade_tasks'], filepath, step)"," ['upgrade_tasks'], role, filepath, step)",3,3
openstack%2Fneutron-tempest-plugin~master~Ibc12a80fad28bb54b0416de7dfe14ef67e4420ef,openstack/neutron-tempest-plugin,master,Ibc12a80fad28bb54b0416de7dfe14ef67e4420ef,Verify admin deletion not to fail,MERGED,2020-05-15 10:15:32.000000000,2020-07-27 23:11:28.000000000,2020-07-27 23:11:28.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 31039}]","[{'number': 1, 'created': '2020-05-15 10:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/853a636ba6701316427c6f0679991da67c7e4df1', 'message': 'Verify admin deletion not to fail\n\nThis is the test for the scenario described in bug [0], where an admin\ndeletes resources from a different project, resulting in orphaned DNS\nrecords.\n\n[0] https://launchpad.net/bugs/1875981\n\nChange-Id: Ibc12a80fad28bb54b0416de7dfe14ef67e4420ef\nRelated-Bug: 1875981\nDepends-On: https://review.opendev.org/728385\n'}, {'number': 2, 'created': '2020-07-10 08:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/79fec55e384313ca21b33f95fda1bac72464a036', 'message': 'Verify admin deletion not to fail\n\nThis is the test for the scenario described in bug [0], where an admin\ndeletes resources from a different project, resulting in orphaned DNS\nrecords.\n\n[0] https://launchpad.net/bugs/1875981\n\nChange-Id: Ibc12a80fad28bb54b0416de7dfe14ef67e4420ef\nRelated-Bug: 1875981\nDepends-On: https://review.opendev.org/728385\n'}, {'number': 3, 'created': '2020-07-13 11:34:36.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9e101bfcbecae77aa76d0acdecf5e99fd34a6fba', 'message': 'Verify admin deletion not to fail\n\nThis is the test for the scenario described in bug [0], where an admin\ndeletes resources from a different project, resulting in orphaned DNS\nrecords.\n\n[0] https://launchpad.net/bugs/1875981\n\nChange-Id: Ibc12a80fad28bb54b0416de7dfe14ef67e4420ef\nRelated-Bug: 1875981\nDepends-On: https://review.opendev.org/740675\nDepends-On: https://review.opendev.org/740676\nDepends-On: https://review.opendev.org/740677\n'}]",0,728409,9e101bfcbecae77aa76d0acdecf5e99fd34a6fba,16,6,3,13252,,,0,"Verify admin deletion not to fail

This is the test for the scenario described in bug [0], where an admin
deletes resources from a different project, resulting in orphaned DNS
records.

[0] https://launchpad.net/bugs/1875981

Change-Id: Ibc12a80fad28bb54b0416de7dfe14ef67e4420ef
Related-Bug: 1875981
Depends-On: https://review.opendev.org/740675
Depends-On: https://review.opendev.org/740676
Depends-On: https://review.opendev.org/740677
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/09/728409/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_dns_integration.py'],1,853a636ba6701316427c6f0679991da67c7e4df1,bug/1875981," @decorators.idempotent_id('d44cd5b8-ac67-4965-96ff-cb77ab6aea8b') def test_fip_admin_delete(self): name = data_utils.rand_name('fip-test') fip = self._create_floatingip_with_dns(name) addr = fip['floating_ip_address'] self._verify_dns_records(addr, name) self.delete_floatingip(fip, client=self.admin_client) self._verify_dns_records(addr, name, found=False) ",,9,0
openstack%2Fproject-config~master~I65bf5fb28688738ffdd2b7c8011801e52959dae3,openstack/project-config,master,I65bf5fb28688738ffdd2b7c8011801e52959dae3,Run the grafana ansnible when grafana dashboard change,MERGED,2020-07-27 15:56:19.000000000,2020-07-27 23:07:21.000000000,2020-07-27 23:07:21.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 15:56:19.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c0eabf9342848c7050771a297848b6183e74b4a8', 'message': ""Run the grafana ansnible when grafana dashboard change\n\nThe grafana service is now managed with ansible and docker containers.\nWe need to rerun the grafana playbook (and role) when we update the\nconfigs in project-config in order to apply the new configs. Add the\ninfra-prod-service-grafana job to project-config's deploy pipeline to\nmake this happen.\n\nChange-Id: I65bf5fb28688738ffdd2b7c8011801e52959dae3\n""}]",1,743270,c0eabf9342848c7050771a297848b6183e74b4a8,7,3,1,4146,,,0,"Run the grafana ansnible when grafana dashboard change

The grafana service is now managed with ansible and docker containers.
We need to rerun the grafana playbook (and role) when we update the
configs in project-config in order to apply the new configs. Add the
infra-prod-service-grafana job to project-config's deploy pipeline to
make this happen.

Change-Id: I65bf5fb28688738ffdd2b7c8011801e52959dae3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/743270/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,c0eabf9342848c7050771a297848b6183e74b4a8,run-service-grafana, - infra-prod-service-grafana: dependencies: [] files: - grafana/,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie35ab109d69ab5d2005f641ae48ee9272bf99c17,openstack/tripleo-heat-templates,stable/queens,Ie35ab109d69ab5d2005f641ae48ee9272bf99c17,Fixing the copy failure of derive_pci_passthrough_whitelist.py,MERGED,2020-07-20 11:53:33.000000000,2020-07-27 22:48:29.000000000,2020-07-27 22:48:29.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-20 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9b041109859f7b96ce3d5dcfa35e5c764d3f43e', 'message': 'Fixing the copy failure of derive_pci_passthrough_whitelist.py\n\nCopy operation in non-config download will run in the localhost within\nthe overcloud node. In this case, the copy should use content rather than\nthe absolute path.\n\nChange-Id: Ie35ab109d69ab5d2005f641ae48ee9272bf99c17\n'}, {'number': 2, 'created': '2020-07-27 08:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6aa269636716068564d9274c742722289c90d0f', 'message': 'Fixing the copy failure of derive_pci_passthrough_whitelist.py\n\nCopy operation in non-config download will run in the localhost within\nthe overcloud node. In this case, the copy should use content rather than\nthe absolute path.\n\nChange-Id: Ie35ab109d69ab5d2005f641ae48ee9272bf99c17\n'}, {'number': 3, 'created': '2020-07-27 08:40:52.000000000', 'files': ['docker/services/neutron-sriov-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/788d282960cf21c9687e85e721abd236db8699c8', 'message': 'Fixing the copy failure of derive_pci_passthrough_whitelist.py\n\nCopy operation in non-config download will run in the localhost within\nthe overcloud node. In this case, the copy should use content rather than\nthe absolute path.\n\nChange-Id: Ie35ab109d69ab5d2005f641ae48ee9272bf99c17\n'}]",4,741922,788d282960cf21c9687e85e721abd236db8699c8,22,6,3,18904,,,0,"Fixing the copy failure of derive_pci_passthrough_whitelist.py

Copy operation in non-config download will run in the localhost within
the overcloud node. In this case, the copy should use content rather than
the absolute path.

Change-Id: Ie35ab109d69ab5d2005f641ae48ee9272bf99c17
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/741922/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/derive_pci_passthrough_whitelist.py', 'docker/services/neutron-sriov-agent.yaml']",2,e9b041109859f7b96ce3d5dcfa35e5c764d3f43e,," # in queens, ansible ""host_tasks"" are executed inside the overcloud node via os-collect-config # in later versions (with config download), ansible is executed from the undercloud # so in queens, abosolute path in the undercloud cannot be provided, instead file content is copied content: {get_file: ./derive_pci_passthrough_whitelist.py}", src: /usr/share/openstack-tripleo-heat-templates/docker/services/derive_pci_passthrough_whitelist.py,6,1
openstack%2Fmanila~stable%2Fussuri~Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb,openstack/manila,stable/ussuri,Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb,Monkey patch original current_thread _active,MERGED,2020-05-14 13:32:50.000000000,2020-07-27 22:37:49.000000000,2020-05-19 11:54:54.000000000,"[{'_account_id': 9003}, {'_account_id': 11805}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-05-14 13:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/22d347af771b1a9e9b86a0b59da24dea3b82e00e', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb\nCloses-Bug: #1863021\n'}, {'number': 2, 'created': '2020-05-18 20:31:44.000000000', 'files': ['manila/cmd/share.py', 'manila/cmd/scheduler.py', 'manila/cmd/data.py', 'manila/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7196cfcb091d66856a1ca0db53816198249196db', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb\nCloses-Bug: #1863021\n(cherry picked from commit 5e9f694a5a8f90c72680acb1181318930f55aa30)\n'}]",1,728079,7196cfcb091d66856a1ca0db53816198249196db,17,6,2,20634,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: Ifc6420d927c0ce9e04ff3b3253e81a474591e9bb
Closes-Bug: #1863021
(cherry picked from commit 5e9f694a5a8f90c72680acb1181318930f55aa30)
",git fetch https://review.opendev.org/openstack/manila refs/changes/79/728079/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/cmd/share.py', 'manila/cmd/scheduler.py', 'manila/cmd/data.py', 'manila/cmd/api.py']",4,22d347af771b1a9e9b86a0b59da24dea3b82e00e,bug/1863021,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,24,0
openstack%2Fmanila~stable%2Fussuri~I76e11fef27c9723f019cfdfdc6ea86878db78776,openstack/manila,stable/ussuri,I76e11fef27c9723f019cfdfdc6ea86878db78776,[NetApp] Fix falsely report migration cancelation success,MERGED,2020-05-22 17:55:10.000000000,2020-07-27 22:30:24.000000000,2020-07-20 22:21:54.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31528}]","[{'number': 1, 'created': '2020-05-22 17:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9efbc09648871639f5d7b23e6c8de3de835ffc03', 'message': '[NetApp] Fix falsely report migration cancelation success\n\nNetApp ONTAP share delete operation can fail sometimes when is triggered\nimmediately after migration cancelation on a overloaded NetApp backend.\nMigration cancelation invokes ""abort_volume_move"" which is an asynchronous\nAPI. If share delete operation is requested immediately after call the\nformer API, it fails because the ""abort_volume_move"" is still in progress.\nNow NetApp cDOT driver checks, for a period of time, if the\n``volume-move-abort`` operation has ended before report migration\ncancelation success.\n\nChange-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776\nCloses-Bug: #1688620\n(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)\n'}, {'number': 2, 'created': '2020-07-01 19:06:06.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/71c3a08ead50e8aa68cef3a26c8f8485922895b6', 'message': '[NetApp] Fix falsely report migration cancelation success\n\nNetApp ONTAP share delete operation can fail sometimes when is triggered\nimmediately after migration cancelation on a overloaded NetApp backend.\nMigration cancelation invokes ""abort_volume_move"" which is an asynchronous\nAPI. If share delete operation is requested immediately after call the\nformer API, it fails because the ""abort_volume_move"" is still in progress.\nNow NetApp cDOT driver checks, for a period of time, if the\n``volume-move-abort`` operation has ended before report migration\ncancelation success.\n\nThis patch squash the following commit that improves the release note\nfor this fix:\n[NetApp] Updating the release note for bugfix 1688620\n(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)\n\nChange-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776\nCloses-Bug: #1688620\n(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)\n'}]",0,730383,71c3a08ead50e8aa68cef3a26c8f8485922895b6,42,7,2,30002,,,0,"[NetApp] Fix falsely report migration cancelation success

NetApp ONTAP share delete operation can fail sometimes when is triggered
immediately after migration cancelation on a overloaded NetApp backend.
Migration cancelation invokes ""abort_volume_move"" which is an asynchronous
API. If share delete operation is requested immediately after call the
former API, it fails because the ""abort_volume_move"" is still in progress.
Now NetApp cDOT driver checks, for a period of time, if the
``volume-move-abort`` operation has ended before report migration
cancelation success.

This patch squash the following commit that improves the release note
for this fix:
[NetApp] Updating the release note for bugfix 1688620
(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)

Change-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776
Closes-Bug: #1688620
(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/730383/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,9efbc09648871639f5d7b23e6c8de3de835ffc03,bug/1688620," @ddt.data({'state': 'failed'}, {'state': 'healthy'}) @ddt.unpack def test_migration_cancel(self, state): self.library.configuration.netapp_migration_cancel_timeout = 15 mock.Mock(return_value={'state': state})) if state == 'failed': retval = self.library.migration_cancel( self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance(), source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') self.assertIsNone(retval) mock_info_log.assert_called_once() else: self.assertRaises( (exception.NetAppException), self.library.migration_cancel, self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance, source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') @ddt.data({'already_canceled': True, 'effect': exception.NetAppException}, {'already_canceled': False, 'effect': (None, exception.NetAppException)}) @ddt.unpack def test_migration_cancel_exception_volume_status(self, already_canceled, effect): source_snapshots = mock.Mock() snapshot_mappings = mock.Mock() self.library.configuration.netapp_migration_cancel_timeout = 1 mock_exception_log = self.mock_object(lib_base.LOG, 'exception') mock_info_log = self.mock_object(lib_base.LOG, 'info') self.mock_object(self.library, '_get_vserver', mock.Mock(return_value=(fake.VSERVER1, mock.Mock()))) self.mock_object(self.library, '_get_backend_share_name', mock.Mock(return_value=fake.SHARE_NAME)) self.mock_object(self.client, 'abort_volume_move') self.mock_object(self.client, 'get_volume_move_status', mock.Mock(side_effect=effect)) self.library.migration_cancel( mock_exception_log.assert_called_once() if not already_canceled:"," @ddt.data(utils.annotated('already_canceled', (True, )), utils.annotated('not_canceled_yet', (False, ))) def test_migration_cancel(self, already_canceled): already_canceled = already_canceled[0] mock_exception_log = self.mock_object(lib_base.LOG, 'exception') vol_move_side_effect = (exception.NetAppException if already_canceled else None) mock.Mock(side_effect=vol_move_side_effect)) retval = self.library.migration_cancel( self.assertIsNone(retval) if already_canceled: mock_exception_log.assert_called_once() else:",91,14
openstack%2Fkeystoneauth~master~If8c08d22dde3e570cdc6fb7092bc131e2e3bcc18,openstack/keystoneauth,master,If8c08d22dde3e570cdc6fb7092bc131e2e3bcc18,Fix docs builds for modern stevedors,MERGED,2020-07-27 16:13:18.000000000,2020-07-27 22:22:17.000000000,2020-07-27 22:20:16.000000000,"[{'_account_id': 2}, {'_account_id': 5046}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 16:13:18.000000000', 'files': ['doc/ext/list_plugins.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a4ac1ea1939da65b4df2892b4f6c9a7943aa2332', 'message': 'Fix docs builds for modern stevedors\n\nWe have a custom doc build extension that scans module names, but\nthe api for that changed.\n\nChange-Id: If8c08d22dde3e570cdc6fb7092bc131e2e3bcc18\n'}]",0,743274,a4ac1ea1939da65b4df2892b4f6c9a7943aa2332,9,4,1,2,,,0,"Fix docs builds for modern stevedors

We have a custom doc build extension that scans module names, but
the api for that changed.

Change-Id: If8c08d22dde3e570cdc6fb7092bc131e2e3bcc18
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/74/743274/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/list_plugins.py'],1,a4ac1ea1939da65b4df2892b4f6c9a7943aa2332,," ep = mgr[name] try: module_name = ep.entry_point.module_name except AttributeError: try: module_name = ep.entry_point.module except AttributeError: module_name = ep.entry_point.value result.append(l, module_name)"," result.append(l, mgr[name].entry_point.module_name)",9,1
openstack%2Fmanila~stable%2Fqueens~I4a9ae0744757d1c9bfe4f2b213eb04364992af0d,openstack/manila,stable/queens,I4a9ae0744757d1c9bfe4f2b213eb04364992af0d,[extended-maintenance-branches-only] Replace LVM job,MERGED,2020-07-24 20:13:56.000000000,2020-07-27 22:17:30.000000000,2020-07-27 22:17:30.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-24 20:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/59c2ce56be30f0659230073ae845dc6b28b2c12b', 'message': '[extended-maintenance-branches-only] Replace LVM job\n\nthe voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)\nhas been failing for a while due to the issue identified\nin [1]. The fix for the issues didn\'t suffice for CentOS,\nand we use CentOS because of missing IPv6 related fixes\nin Xenial\'s nfs-utils package. to avoid impacting helpful\nbackports to these branches, this commit introduces a\nnew voting job called ""manila-tempest-dsvm-lvm-em-only""\nthat deploys manila with the LVM driver on Xenial and\nruns IPv4 scenario tests.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html\nRelated-Bug: #1888717\nChange-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 9a1345b2eaa2fefb13f70c54bbcbdef6115e44ce)\n'}, {'number': 2, 'created': '2020-07-27 19:18:22.000000000', 'files': ['playbooks/legacy/manila-tempest-dsvm-lvm-em-only/run.yaml', 'contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh', '.zuul.yaml', 'playbooks/legacy/manila-tempest-dsvm-lvm-em-only/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/4ce9180d6c427139c7d5d9594e03947d131c03a2', 'message': '[extended-maintenance-branches-only] Replace LVM job\n\nthe voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)\nhas been failing for a while due to the issue identified\nin [1]. The fix for the issues didn\'t suffice for CentOS,\nand we use CentOS because of missing IPv6 related fixes\nin Xenial\'s nfs-utils package. to avoid impacting helpful\nbackports to these branches, this commit introduces a\nnew voting job called ""manila-tempest-dsvm-lvm-em-only""\nthat deploys manila with the LVM driver on Xenial and\nruns IPv4 scenario tests.\n\nThis isn\'t a perfect cherry-pick since the base job\nwas named differently on this branch.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html\nRelated-Bug: #1888717\nChange-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 9a1345b2eaa2fefb13f70c54bbcbdef6115e44ce)\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,742987,4ce9180d6c427139c7d5d9594e03947d131c03a2,14,4,2,16643,,,0,"[extended-maintenance-branches-only] Replace LVM job

the voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)
has been failing for a while due to the issue identified
in [1]. The fix for the issues didn't suffice for CentOS,
and we use CentOS because of missing IPv6 related fixes
in Xenial's nfs-utils package. to avoid impacting helpful
backports to these branches, this commit introduces a
new voting job called ""manila-tempest-dsvm-lvm-em-only""
that deploys manila with the LVM driver on Xenial and
runs IPv4 scenario tests.

This isn't a perfect cherry-pick since the base job
was named differently on this branch.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html
Related-Bug: #1888717
Change-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 9a1345b2eaa2fefb13f70c54bbcbdef6115e44ce)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/742987/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-dsvm-lvm-em-only/run.yaml', 'contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh', '.zuul.yaml', 'playbooks/legacy/manila-tempest-dsvm-lvm-em-only/post.yaml']",5,59c2ce56be30f0659230073ae845dc6b28b2c12b,bug/1888717,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,116,4
openstack%2Fglance~master~I0cec7771ab8ce471607825eb4721fee1c6bdd1e6,openstack/glance,master,I0cec7771ab8ce471607825eb4721fee1c6bdd1e6,Make wsgi_app support graceful shutdown,MERGED,2020-07-22 17:05:48.000000000,2020-07-27 22:06:08.000000000,2020-07-27 22:04:55.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 17:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/281308f6b23e852b8da2d62e8dd7a58dd30cd864', 'message': 'Make wsgi_app support graceful shutdown\n\nThis makes us wait for all running threads in the tasks_pool threadpool\nbefore exiting. Tested with uwsgi via devstack, with a long-running\nimage conversion task. Indeed, uwsgi triggers a graceful shutdown, we\nwait for the remaining thread, and then exit when the conversion has\ncompleted.\n\nChange-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6\n'}, {'number': 2, 'created': '2020-07-22 17:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/79e413b1f18234315110849eb38052f567c387ee', 'message': 'Make wsgi_app support graceful shutdown\n\nThis makes us wait for all running threads in the tasks_pool threadpool\nbefore exiting. Tested with uwsgi via devstack, with a long-running\nimage conversion task. Indeed, uwsgi triggers a graceful shutdown, we\nwait for the remaining thread, and then exit when the conversion has\ncompleted.\n\nChange-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6\n'}, {'number': 3, 'created': '2020-07-23 17:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a4b2cedc14c3bb5de11dfb07c25bcf4bd761d72b', 'message': 'Make wsgi_app support graceful shutdown\n\nThis makes us wait for all running threads in the tasks_pool threadpool\nbefore exiting. Tested with uwsgi via devstack, with a long-running\nimage conversion task. Indeed, uwsgi triggers a graceful shutdown, we\nwait for the remaining thread, and then exit when the conversion has\ncompleted.\n\nCloses-Bug: #1888713\nChange-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6\n'}, {'number': 4, 'created': '2020-07-24 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a21f2912fe22ac37b98dfd8f685fecf07f5b3694', 'message': 'Make wsgi_app support graceful shutdown\n\nThis makes us wait for all running threads in the tasks_pool threadpool\nbefore exiting. Tested with uwsgi via devstack, with a long-running\nimage conversion task. Indeed, uwsgi triggers a graceful shutdown, we\nwait for the remaining thread, and then exit when the conversion has\ncompleted.\n\nCloses-Bug: #1888713\nChange-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6\n'}, {'number': 5, 'created': '2020-07-24 18:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/41c6e79c42c08e5c04ae87cf6accb9ca4e371a75', 'message': 'Make wsgi_app support graceful shutdown\n\nThis makes us wait for all running threads in the tasks_pool threadpool\nbefore exiting. Tested with uwsgi via devstack, with a long-running\nimage conversion task. Indeed, uwsgi triggers a graceful shutdown, we\nwait for the remaining thread, and then exit when the conversion has\ncompleted.\n\nCloses-Bug: #1888713\nChange-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6\n'}, {'number': 6, 'created': '2020-07-27 16:57:28.000000000', 'files': ['glance/common/wsgi_app.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f4b78606bafd0c118de67f6e1ccdad8e0c5f555d', 'message': 'Make wsgi_app support graceful shutdown\n\nThis makes us wait for all running threads in the tasks_pool threadpool\nbefore exiting. Tested with uwsgi via devstack, with a long-running\nimage conversion task. Indeed, uwsgi triggers a graceful shutdown, we\nwait for the remaining thread, and then exit when the conversion has\ncompleted.\n\nCloses-Bug: #1888713\nChange-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6\n'}]",1,742493,f4b78606bafd0c118de67f6e1ccdad8e0c5f555d,32,5,6,4393,,,0,"Make wsgi_app support graceful shutdown

This makes us wait for all running threads in the tasks_pool threadpool
before exiting. Tested with uwsgi via devstack, with a long-running
image conversion task. Indeed, uwsgi triggers a graceful shutdown, we
wait for the remaining thread, and then exit when the conversion has
completed.

Closes-Bug: #1888713
Change-Id: I0cec7771ab8ce471607825eb4721fee1c6bdd1e6
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/742493/5 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi_app.py', 'glance/tests/unit/common/test_wsgi_app.py']",2,281308f6b23e852b8da2d62e8dd7a58dd30cd864,async-native-threads,"from glance.api import common import glance.async_ @mock.patch('atexit.register') @mock.patch('glance.common.config.load_paste_app') @mock.patch('glance.async_.set_threadpool_model') @mock.patch('glance.common.wsgi_app._get_config_files') def test_wsgi_init_registers_exit_handler(self, mock_config_files, mock_set_model, mock_load, mock_exit): mock_config_files.return_value = [] wsgi_app.init_app() mock_exit.assert_called_once_with(wsgi_app.drain_threadpools) @mock.patch('glance.async_._THREADPOOL_MODEL', new=None) def test_drain_threadpools(self): # Initialize the thread pool model and tasks_pool, like API # under WSGI would, and so we have a pointer to that exact # pool object in the cache glance.async_.set_threadpool_model('native') model = common.get_thread_pool('tasks_pool') with mock.patch.object(model.pool, 'shutdown') as mock_shutdown: wsgi_app.drain_threadpools() # Make sure that shutdown() was called on the tasks_pool # ThreadPoolExecutor mock_shutdown.assert_called_once_with()",,41,0
openstack%2Fglance~master~I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6,openstack/glance,master,I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6,Make image conversion use a proper python interpreter for prlimit,MERGED,2020-07-21 23:30:02.000000000,2020-07-27 22:04:24.000000000,2020-07-27 22:01:45.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 23:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2921d17f8eae48df1cc2493b8e7da9a953089787', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 2, 'created': '2020-07-22 02:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cc983bc43ae53772a7bd1daf342ddfcbf340a54b', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 3, 'created': '2020-07-22 13:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b362f303e9e776903182751021dc430c30a39c58', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 4, 'created': '2020-07-22 13:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d5132af97a00c51b5563c97856666f6b36c0dc51', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 5, 'created': '2020-07-22 13:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/476a82e513df9e7bb40e74fd6f4826c8f5f3b08d', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 6, 'created': '2020-07-22 14:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d13e77b34644c03506f08cc88431db95a294d33', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 7, 'created': '2020-07-23 17:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1de3a1b281a1def8cf77f98fe3fde45052cda376', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nPartial-Bug: #1888713\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 8, 'created': '2020-07-24 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dd41dca4327dea45c43addf06b51e397f0f31a07', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nPartial-Bug: #1888713\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 9, 'created': '2020-07-24 18:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/708c36b1ec1f05dc197fb9751b712fd3aaac5d1c', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nPartial-Bug: #1888713\nDepends-On: https://review.opendev.org/#/c/742332/\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}, {'number': 10, 'created': '2020-07-27 16:57:28.000000000', 'files': ['glance/common/config.py', 'glance/async_/flows/plugins/image_conversion.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/783fa72f481d68962509e708585fea4c163d5bf4', 'message': ""Make image conversion use a proper python interpreter for prlimit\n\nThe image conversion plugin does a processutils exec(), which needs\nto spawn python for prlimit support. Under uwsgi, sys.executable\npoints to uwsgi itself, which won't work in this case. This introduces\na [wsgi]/python_interpreter config option (because I don't think\nthere is any way to get this from uwsgi itself) which we use for\nthe exec. By default, it's sys.executable, which is what is used\nright now so nobody should notice a change unless they need it.\n\nNote: Making this depend on the devstack change to remove the wsgi\nimport restriction so we can get a test on it.\n\nPartial-Bug: #1888713\nChange-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6\n""}]",0,742314,783fa72f481d68962509e708585fea4c163d5bf4,50,5,10,4393,,,0,"Make image conversion use a proper python interpreter for prlimit

The image conversion plugin does a processutils exec(), which needs
to spawn python for prlimit support. Under uwsgi, sys.executable
points to uwsgi itself, which won't work in this case. This introduces
a [wsgi]/python_interpreter config option (because I don't think
there is any way to get this from uwsgi itself) which we use for
the exec. By default, it's sys.executable, which is what is used
right now so nobody should notice a change unless they need it.

Note: Making this depend on the devstack change to remove the wsgi
import restriction so we can get a test on it.

Partial-Bug: #1888713
Change-Id: I7cb2e135d6ea2cb21de55060df3f7bf40b3e64b6
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/742314/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/config.py', 'glance/async_/flows/plugins/image_conversion.py', '.zuul.yaml']",3,2921d17f8eae48df1cc2493b8e7da9a953089787,async-native-threads," $GLANCE_IMAGE_IMPORT_CONF: image_import_opts: image_import_plugins: ""['image_conversion']"" image_conversion: output_format: raw",,22,0
openstack%2Ftripleo-docs~master~Ieea23577095dd910c9923a8d1285561a72038a46,openstack/tripleo-docs,master,Ieea23577095dd910c9923a8d1285561a72038a46,Refactor TLS introduction,MERGED,2020-05-19 01:19:18.000000000,2020-07-27 21:30:17.000000000,2020-07-27 21:28:57.000000000,"[{'_account_id': 5046}, {'_account_id': 7144}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28011}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-19 01:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e1d5533a6846cccdcc41402dac2aeac37ec2c5a0', 'message': 'Refactor TLS introduction\n\nThe TLS-everywhere introduction contains some useful information for the\nways you can deploy TLS (public TLS and TLS everywhere). As well as\nprimers on the components used to implement TLS.\n\nThis commit generalizes the introduction so we can re-use it for public\nTLS and TLS-everywhere. Subsequent patches will add separate guides that\ndescribe how to accomplish both deployment techniques.\n\nChange-Id: Ieea23577095dd910c9923a8d1285561a72038a46\n'}, {'number': 2, 'created': '2020-05-20 01:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5991266b004eac1733b2158a8999b959eb5df585', 'message': 'Refactor TLS introduction\n\nThe TLS-everywhere introduction contains some useful information for the\nways you can deploy TLS (public TLS and TLS everywhere). As well as\nprimers on the components used to implement TLS.\n\nThis commit generalizes the introduction so we can re-use it for public\nTLS and TLS-everywhere. Subsequent patches will add separate guides that\ndescribe how to accomplish both deployment techniques.\n\nChange-Id: Ieea23577095dd910c9923a8d1285561a72038a46\n'}, {'number': 3, 'created': '2020-06-01 14:23:47.000000000', 'files': ['deploy-guide/source/features/index.rst', 'deploy-guide/source/features/tls-introduction.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dcec202b783a232425afa83ad7629eb7b61aef09', 'message': 'Refactor TLS introduction\n\nThe TLS-everywhere introduction contains some useful information for the\nways you can deploy TLS (public TLS and TLS everywhere). As well as\nprimers on the components used to implement TLS.\n\nThis commit generalizes the introduction so we can re-use it for public\nTLS and TLS-everywhere. Subsequent patches will add separate guides that\ndescribe how to accomplish both deployment techniques.\n\nChange-Id: Ieea23577095dd910c9923a8d1285561a72038a46\n'}]",4,729076,dcec202b783a232425afa83ad7629eb7b61aef09,16,8,3,5046,,,0,"Refactor TLS introduction

The TLS-everywhere introduction contains some useful information for the
ways you can deploy TLS (public TLS and TLS everywhere). As well as
primers on the components used to implement TLS.

This commit generalizes the introduction so we can re-use it for public
TLS and TLS-everywhere. Subsequent patches will add separate guides that
describe how to accomplish both deployment techniques.

Change-Id: Ieea23577095dd910c9923a8d1285561a72038a46
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/76/729076/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/index.rst', 'deploy-guide/source/features/tls-introduction.rst']",2,e1d5533a6846cccdcc41402dac2aeac37ec2c5a0,,"TLS Introduction ================exposed to end-users. Traffic between internal endpoints is not encrypted.everywhere we can, encrypting as much network traffic as possible. Certificate management automation is critical with this approach because the number of certificates scales linearly with the number of services in your deployment. TripleO uses several components to help ease the burden of managing certificates. This option is desirable for deployments susceptible to industry regulation or those who have a higher security risk. Healthcare, telecommunications, and the public sector are but a few industries that make extensive use of *TLS-everywhere*. You can think of *public TLS* as a subset of what *TLS-everywhere* offers. TripleO uses the following components to implement *public TLS* and-----------------OpenStack. For example, if you use FreeIPA in your deployment, you can sign~~~~~~~~~~~~~~~~~~--------functionality and you use it when you want to deploy *TLS-everywhere*. When the undercloud creates new nodes for the overcloud, novajoin creates a host entry in FreeIPA to enable the overcloud node to enroll as a FreeIPA client.-----------TripleO deployments and you use it when you want to deploy *TLS-everywhere*. These playbooks support deployments using nova and ironic in the undercloud as well as :doc:`deployed_server`. This project was introduced in Train and effectively replaces the novajoin metadata service.","TLS-Everywhere ============== Introduction ------------exposed to end-users. Traffic between internal endpoints is not encrypted. We do not describe how to deploy *public TLS* in this document.everywhere we can, encrypting as much network traffic as possible. Certificate management is critical with this approach because the number of certificates scales linearly with the number of services in your deployment. TripleO uses several components to help ease the burden of managing certificates. This option is desirable for deployments susceptible to industry regulation or those who have a higher security risk. Healthcare, telecommunications, and the public sector are but a few industries that make extensive use of *TLS-everywhere*. This document contains all the details to deploy *TLS-everywhere*. TripleO makes use of the following components to implement *TLS-everywhere*. The sections below describe each component and the role it plays in~~~~~~~~~~~~~~~~~OpenStack. For example, if you use FreeIPA in your deployment, you can sign^^^^^^^^^^^^^^^^^^~~~~~~~~functionality. When the undercloud creates new nodes for the overcloud, novajoin creates a host entry in FreeIPA to enable the overcloud node to enroll as a FreeIPA client.~~~~~~~~~~~TripleO deployments. These playbooks support deployments using nova and ironic in the undercloud as well as :doc:`deployed_server`. This project was introduced in Train and effectively replaces the novajoin metadata service.",27,31
openstack%2Frequirements~master~I07017fc61b03362c2cbc6967c9a92dcb0b4ae0af,openstack/requirements,master,I07017fc61b03362c2cbc6967c9a92dcb0b4ae0af,update constraint for XStatic-lodash to new release 4.16.4.2,MERGED,2020-07-27 06:17:22.000000000,2020-07-27 21:08:48.000000000,2020-07-27 21:07:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 06:17:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8648192c59b52253a03a33f246449385a0bdc9bd', 'message': 'update constraint for XStatic-lodash to new release 4.16.4.2\n\nChange-Id: I07017fc61b03362c2cbc6967c9a92dcb0b4ae0af\nmeta:version: 4.16.4.2\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Thierry Carrez <thierry@openstack.org>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Eyal <eyal.bar-ilan@nokia.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,743153,8648192c59b52253a03a33f246449385a0bdc9bd,11,3,1,11131,,,0,"update constraint for XStatic-lodash to new release 4.16.4.2

Change-Id: I07017fc61b03362c2cbc6967c9a92dcb0b4ae0af
meta:version: 4.16.4.2
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Thierry Carrez <thierry@openstack.org>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Eyal <eyal.bar-ilan@nokia.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/743153/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8648192c59b52253a03a33f246449385a0bdc9bd,new-release,XStatic-lodash===4.16.4.2,XStatic-lodash===4.16.4.1,1,1
openstack%2Fdevstack~master~I853e8a3815187f0aa8f05c70488ec948a97e55a6,openstack/devstack,master,I853e8a3815187f0aa8f05c70488ec948a97e55a6,Enable image import test,MERGED,2020-07-23 01:55:09.000000000,2020-07-27 21:08:10.000000000,2020-07-27 21:06:58.000000000,"[{'_account_id': 4393}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 01:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f93f9449eb4efaf30f8af4865a4764b8f0feac63', 'message': 'Enable image import test\n\nIf glance is in standalone mode, image import works\nfine so enable the tempest tests. Once we will have image\nimport or other async tasks working with glance under uwsgi\nthen we can remove this flag and run import tests by default.\n\nDepends-On: https://review.opendev.org/#/c/741425/\nChange-Id: I853e8a3815187f0aa8f05c70488ec948a97e55a6\n'}, {'number': 2, 'created': '2020-07-23 13:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e4c209613d468c9dd105d1471ee2e6451add4e2a', 'message': 'Enable image import test\n\nIf glance is in standalone mode, image import works\nfine so enable the tempest tests. Once we will have image\nimport or other async tasks working with glance under uwsgi\nthen we can remove this flag and run import tests by default.\n\nDepends-On: https://review.opendev.org/#/c/741425/\nChange-Id: I853e8a3815187f0aa8f05c70488ec948a97e55a6\n'}, {'number': 3, 'created': '2020-07-23 18:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/873ff0f36f28d9efe66871935961f047f2140840', 'message': 'Enable image import test\n\nIf glance is in standalone mode, image import works\nfine so enable the tempest tests. Once we will have image\nimport or other async tasks working with glance under uwsgi\nthen we can remove this flag and run import tests by default.\n\nDepends-On: https://review.opendev.org/#/c/741425/\nChange-Id: I853e8a3815187f0aa8f05c70488ec948a97e55a6\n'}, {'number': 4, 'created': '2020-07-24 17:58:02.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/32d5b1ea2f7908b3558dd38d32553abeaf5db40b', 'message': 'Enable image import test\n\nIf glance is in standalone mode, image import works\nfine so enable the tempest tests. Once we will have image\nimport or other async tasks working with glance under uwsgi\nthen we can remove this flag and run import tests by default.\n\nDepends-On: https://review.opendev.org/#/c/741425/\nChange-Id: I853e8a3815187f0aa8f05c70488ec948a97e55a6\n'}]",0,742574,32d5b1ea2f7908b3558dd38d32553abeaf5db40b,22,6,4,8556,,,0,"Enable image import test

If glance is in standalone mode, image import works
fine so enable the tempest tests. Once we will have image
import or other async tasks working with glance under uwsgi
then we can remove this flag and run import tests by default.

Depends-On: https://review.opendev.org/#/c/741425/
Change-Id: I853e8a3815187f0aa8f05c70488ec948a97e55a6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/742574/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,f93f9449eb4efaf30f8af4865a4764b8f0feac63,image-import-tests, iniset $TEMPEST_CONFIG image_feature_enabled image_import $GLANCE_STANDALONE,,1,1
openstack%2Fcinder-tempest-plugin~master~I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6,openstack/cinder-tempest-plugin,master,I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6,Add test cases for bugs 1869746 and 1873518,MERGED,2020-05-14 20:44:22.000000000,2020-07-27 21:06:57.000000000,2020-07-27 21:06:57.000000000,"[{'_account_id': 5997}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 14567}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-05-14 20:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f9d4e4968ffeca73b199cc9112328ddc4e336d0e', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\n'}, {'number': 2, 'created': '2020-05-14 21:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6bff5be38d98bfb518c24e8e3bc6c21ce3e9f652', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\n'}, {'number': 3, 'created': '2020-05-18 15:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5b84dc124acb5f2478a63c815c1c268090db96e4', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\n'}, {'number': 4, 'created': '2020-05-18 15:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f470eeb3115ab5d7d42be83139579c8ca3c88431', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\n'}, {'number': 5, 'created': '2020-05-18 18:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/86f6017c58d192b5a6f9b17b7d64f3fa3f149876', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\n'}, {'number': 6, 'created': '2020-05-18 21:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/acc89414f42afe5682ab1970e22eb877f331d281', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\nDepends-on: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n'}, {'number': 7, 'created': '2020-05-19 15:43:41.000000000', 'files': ['cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/api/volume/admin/test_volume_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e2eeff1c6ebd031ca82afeb3452e22244b7c5981', 'message': 'Add test cases for bugs 1869746 and 1873518\n\nTests 1 and 2 (negative):\n- Try to create an incremental backup from a backup\n  previously created by another tenant (admin/user).\n\nTest 3 (positive):\n- Create backups as different tenants and confirm their\n  incremental backups follow the respective parents.\n\nChange-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6\nDepends-on: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n'}]",8,728289,e2eeff1c6ebd031ca82afeb3452e22244b7c5981,50,7,7,14567,,,0,"Add test cases for bugs 1869746 and 1873518

Tests 1 and 2 (negative):
- Try to create an incremental backup from a backup
  previously created by another tenant (admin/user).

Test 3 (positive):
- Create backups as different tenants and confirm their
  incremental backups follow the respective parents.

Change-Id: I1d7896d9d7e20f7e6ac816af379f59cc86a3daa6
Depends-on: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/89/728289/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/api/volume/admin/test_volume_backup.py']",2,f9d4e4968ffeca73b199cc9112328ddc4e336d0e,,"# Copyright (C) 2020 Canonical Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common import waiters from tempest import config from tempest.lib import decorators from cinder_tempest_plugin.api.volume import base CONF = config.CONF class VolumesBackupsV2Test(base.BaseBackupAdminTest): @classmethod def setup_clients(cls): cls._api_version = 2 super(VolumesBackupsV2Test, cls).setup_clients() cls.admin_volume_client = cls.os_admin.volumes_v2_client cls.backups_client = cls.os_primary.backups_client_latest cls.volumes_client = cls.os_primary.volumes_client_latest # create vol as user cls.volume = cls.volumes_client.create_volume({'size': 1})['volume'] waiters.wait_for_volume_resource_status( cls.volumes_client, cls.volume['id'], 'available') @classmethod def skip_checks(cls): super(VolumesBackupsV2Test, cls).skip_checks() if not CONF.volume_feature_enabled.backup: raise cls.skipException(""Cinder backup feature disabled"") @decorators.idempotent_id('2daadb2e-409a-4ede-a6ce-6002ec324372') def test_backup_crossproject_admin_negative(self): # create backup as user backup = self.backups_client.create_backup( volume_id=self.volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.backups_client, backup['id'], 'available') # try to create incremental backup as admin self.assertRaises( Exception, self.admin_backups_client.create_backup, volume_id=self.volume['id'], incremental=True) @decorators.idempotent_id('b9feb593-5809-4207-90d3-28e627730f13') def test_backup_crossproject_user_negative(self): # create backup as admin backup = self.admin_backups_client.create_backup( volume_id=self.volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.admin_backups_client, backup['id'], 'available') # try to create incremental backup as user self.assertRaises( Exception, self.backups_client.create_backup, volume_id=self.volume['id'], incremental=True) @decorators.idempotent_id('ce15f528-bfc1-492d-81db-b6168b631587') def test_incremental_backup_respective_parents(self): # create backup as admin backup_adm = self.admin_backups_client.create_backup( volume_id=self.volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.admin_backups_client, backup_adm['id'], 'available') # create backup as user backup_usr = self.backups_client.create_backup( volume_id=self.volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.backups_client, backup_usr['id'], 'available') # refresh admin backup and assert no child backups backup_adm = self.admin_backups_client.get_backup(backup_adm['id']) self.assertFalse(backup_adm['has_dependent_backups']) # create incremental backup as admin backup_adm_inc = self.admin_backups_client.create_backup( volume_id=self.volume['id'], incremental=True)['backup'] waiters.wait_for_volume_resource_status( self.admin_backups_client, backup_adm_inc['id'], 'available') # refresh user backup and assert no child backups backup_usr = self.backups_client.get_backup(backup_usr['id']) self.assertFalse(backup_usr['has_dependent_backups']) # refresh admin backup and assert it has childs backup_adm = self.admin_backups_client.get_backup(backup_adm['id']) self.assertTrue(backup_adm['has_dependent_backups']) # create incremental backup as user backup_usr_inc = self.backups_client.create_backup( volume_id=self.volume['id'],incremental=True)['backup'] waiters.wait_for_volume_resource_status( self.backups_client, backup_usr_inc['id'], 'available') # refresh user backup and assert it has childs backup_usr = self.backups_client.get_backup(backup_usr['id']) self.assertTrue(backup_usr['has_dependent_backups']) ",,122,0
openstack%2Fmanila~stable%2Fqueens~I51278c4af60e8b23fe272b4f8d2ee7bd459c464d,openstack/manila,stable/queens,I51278c4af60e8b23fe272b4f8d2ee7bd459c464d,[DNM] Testing stable/queens CI,ABANDONED,2020-05-15 15:32:51.000000000,2020-07-27 21:06:32.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-05-15 15:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/15b5f2ca87db7dd873c79e6eee91890b2e8471b3', 'message': '[DNM] Testing CephFS jobs\n\nChange-Id: I51278c4af60e8b23fe272b4f8d2ee7bd459c464d\n'}, {'number': 2, 'created': '2020-05-15 20:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/309e9a8d6f6c45db68c0ae2d9919445573b1e8d9', 'message': '[DNM] Testing CephFS jobs\n\nChange-Id: I51278c4af60e8b23fe272b4f8d2ee7bd459c464d\n'}, {'number': 3, 'created': '2020-07-15 18:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6bfe7bd5aaaf7d93460b962b3b5d7cd8419487de', 'message': '[DNM] Testing stable/queens CI\n\nDepends-On: https://review.opendev.org/736189/\nChange-Id: I51278c4af60e8b23fe272b4f8d2ee7bd459c464d\n'}]",0,728472,6bfe7bd5aaaf7d93460b962b3b5d7cd8419487de,14,5,3,6413,,,0,"[DNM] Testing stable/queens CI

Depends-On: https://review.opendev.org/736189/
Change-Id: I51278c4af60e8b23fe272b4f8d2ee7bd459c464d
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/728472/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,15b5f2ca87db7dd873c79e6eee91890b2e8471b3,,,,0,0
openstack%2Foctavia~master~I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230,openstack/octavia,master,I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230,Add quota support to octavia's l7policy and l7rule,MERGED,2018-08-10 03:19:24.000000000,2020-07-27 21:04:01.000000000,2020-07-27 21:01:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 8871}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 28329}, {'_account_id': 29244}, {'_account_id': 31525}]","[{'number': 1, 'created': '2018-08-10 03:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/022a8cb95ae9fb4644d00e5909c3fafd69ab86fc', 'message': ""[WIP]Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 2, 'created': '2018-08-10 03:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8bd24774d9e4dbca8a05f39e8d51cd3df6af986e', 'message': ""[WIP] Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 3, 'created': '2018-08-10 09:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cdc37a6609c3fd1466b10d4dad4a6ed7f7a24011', 'message': ""[WIP] Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 4, 'created': '2018-08-10 13:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f6ba901080d0b534d6af98502314090cccb6e231', 'message': ""[WIP] Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 5, 'created': '2018-08-11 10:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f227aa991841b4dcc42496e5de17693a63c7a761', 'message': ""[WIP] Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 6, 'created': '2018-08-11 12:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/72a2d99e1396a4da62683cfee6ceb1ddeda108b6', 'message': ""[WIP] Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 7, 'created': '2018-08-14 08:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/26eec0c9ef2e10c3c103b1e5f3dbecf33a8d9378', 'message': ""[WIP] Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 8, 'created': '2018-08-14 09:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/618564b34ccda5be328b05c63ce62eecf88b568c', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\nStory: 2003382\nTask: 24457\n""}, {'number': 9, 'created': '2018-08-14 09:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/690e02dd386f66814275c12fb07545c13740ade6', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 10, 'created': '2018-08-23 11:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ed7d0dd89ad3754448d81b0f8547959ad01529b', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 11, 'created': '2018-08-23 11:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1a4b89a5376df23efa88200a9688a98c8468f0e3', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 12, 'created': '2018-08-27 08:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/23ba1e28166b576e538efbbe0ba064528c2a313c', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 13, 'created': '2018-08-28 11:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8ad0cb449fd68dd3b49ec0b4810f970a53bf713', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 14, 'created': '2018-08-28 11:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9410d3c95aa2ebe7e3d32e6627bb8f094215da15', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 15, 'created': '2018-09-11 02:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3f3461556162059a87000fe6afd48a4d43e2689', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 16, 'created': '2018-09-20 09:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/10ef961d9aef0387cd519a5b87059b93534f5dee', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 17, 'created': '2018-10-15 05:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f84a5a0fbdb80e20019a232bc76aa8958a4d8874', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 18, 'created': '2018-10-15 06:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/18fcf03c58ee38f3c66edd2be5b4ac96d75634b9', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 19, 'created': '2018-10-15 08:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bfc3bdc7a8c038c40829eccd54d06d251703737a', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 20, 'created': '2018-11-16 08:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/acdb596924f711c4fa1c82ab177599de5c085f36', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 21, 'created': '2020-01-13 11:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/76c1a11e81af832d4ae4762bb6af926050132433', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 22, 'created': '2020-01-13 12:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/300b2ead751be9d27b1ab6936dbfb7102fb3ae62', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 23, 'created': '2020-01-13 21:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/327041a7353107ac5bbc9ba1643e9a07f18827b4', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 24, 'created': '2020-05-12 03:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2f1e9a715079e0906e093868ee0baf7f62a4e64', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 25, 'created': '2020-05-12 08:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8aa876bbb8b1858c8678fb12b721eef11b5043ea', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 26, 'created': '2020-05-12 11:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bed1bbae19c43c0f491bdb93de9c6742ab54cd7e', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 27, 'created': '2020-05-12 11:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c4ec8350a7bcfe760bac50ddc5f2e85c0399f077', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 28, 'created': '2020-05-18 02:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a0c190042cca8b7cb1859b94f79f4834714c2b55', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 29, 'created': '2020-06-05 21:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/30192b78245a40f9b46eb4a561a14574351a2657', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}, {'number': 30, 'created': '2020-06-08 02:29:07.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/common/config.py', 'octavia/controller/worker/v1/flows/l7rule_flows.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/test_root_controller.py', 'api-ref/source/v2/examples/quotas-defaults-response.json', 'octavia/controller/worker/v2/flows/l7rule_flows.py', 'etc/octavia.conf', 'octavia/api/v2/types/quotas.py', 'api-ref/source/v2/quota.inc', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/common/test_data_models.py', 'octavia/db/repositories.py', 'api-ref/source/v2/examples/quotas-show-response.json', 'octavia/api/v2/controllers/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks_quota.py', 'api-ref/source/v2/examples/quota-update-curl', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'api-ref/source/v2/examples/quotas-list-response.json', 'octavia/db/models.py', 'octavia/controller/worker/v1/flows/l7policy_flows.py', 'api-ref/source/v2/examples/quota-update-response.json', 'octavia/db/migration/alembic_migrations/versions/32e5c35b26a8_add_l7policy_and_l7rule_quota.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'releasenotes/notes/add-l7policy-and-l7rule-to-quota-4b873c77f1e608e6.yaml', 'api-ref/source/v2/examples/quota-update-request.json', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/root_controller.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/controller/worker/v2/flows/l7policy_flows.py', 'octavia/tests/unit/api/v2/types/test_quotas.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d919131362f197264dd84d75df5139921cf3b1f', 'message': ""Add quota support to octavia's l7policy and l7rule\n\nCurrent octavia has no l7policy and l7rule quota definitions. But\nthey are necessary for some scenarios. For example, implement\nproduct design compatible with Neutron Lbaas.\n\nStory: 2003382\nTask: 24457\nChange-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230\n""}]",57,590620,5d919131362f197264dd84d75df5139921cf3b1f,91,11,30,28329,,,0,"Add quota support to octavia's l7policy and l7rule

Current octavia has no l7policy and l7rule quota definitions. But
they are necessary for some scenarios. For example, implement
product design compatible with Neutron Lbaas.

Story: 2003382
Task: 24457
Change-Id: I09ee23dcb83f5f08a56e25cc05ff77caa3ad4230
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/590620/25 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/data_models.py', 'octavia/controller/worker/flows/l7policy_flows.py', 'octavia/controller/worker/flows/l7rule_flows.py', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/controller/worker/tasks/database_tasks.py', 'octavia/api/v2/controllers/base.py', 'octavia/db/migration/alembic_migrations/versions/32e5c35b26a8_add_l7policy_and_l7rule_quota.py', 'octavia/api/v2/types/quotas.py']",11,022a8cb95ae9fb4644d00e5909c3fafd69ab86fc,l7_quota," l7policy = wtypes.wsattr(wtypes.IntegerType( minimum=consts.MIN_QUOTA, maximum=consts.MAX_QUOTA)) l7rule = wtypes.wsattr(wtypes.IntegerType( minimum=consts.MIN_QUOTA, maximum=consts.MAX_QUOTA)) l7policy = wtypes.wsattr(wtypes.IntegerType()) l7rule = wtypes.wsattr(wtypes.IntegerType())",,267,2
openstack%2Freleases~master~I61542508e8566eb797b0e304a6914d25e3b07e14,openstack/releases,master,I61542508e8566eb797b0e304a6914d25e3b07e14,Fix a bug on list_unreleased_changes during tag retrieving,MERGED,2020-07-27 10:24:37.000000000,2020-07-27 20:51:11.000000000,2020-07-27 20:51:11.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 10:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/893bd687cafa04a319f66a2d54fc37469d1fe909', 'message': 'Fix a bug on list_unreleased_changes during tag retrieving\n\nIndeed `gitutils.gitutils.stable_branch_exists` is waiting for a branch\nname not prefixed with `stable/`. This was not an issue with the\nprevious shell version. These changes fix that.\n\nWithout these changes the master branch will be analyzed and stable\nbranches will be ignored.\n\nAlso we ensure to remove the master clone to be sure to workout on\na clone from a specific branch if user ask for a stable branch analyze.\n\nChange-Id: I61542508e8566eb797b0e304a6914d25e3b07e14\n'}, {'number': 2, 'created': '2020-07-27 20:04:29.000000000', 'files': ['openstack_releases/cmds/list_unreleased_changes.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/d63b38783a98902e5dacc6e550420fb1048b1532', 'message': 'Fix a bug on list_unreleased_changes during tag retrieving\n\nIndeed `gitutils.gitutils.stable_branch_exists` is waiting for a branch\nname not prefixed with `stable/`. This was not an issue with the\nprevious shell version. These changes fix that.\n\nWithout these changes the master branch will be analyzed and stable\nbranches will be ignored.\n\nChange-Id: I61542508e8566eb797b0e304a6914d25e3b07e14\n'}]",1,743185,d63b38783a98902e5dacc6e550420fb1048b1532,9,2,2,28522,,,0,"Fix a bug on list_unreleased_changes during tag retrieving

Indeed `gitutils.gitutils.stable_branch_exists` is waiting for a branch
name not prefixed with `stable/`. This was not an issue with the
previous shell version. These changes fix that.

Without these changes the master branch will be analyzed and stable
branches will be ignored.

Change-Id: I61542508e8566eb797b0e304a6914d25e3b07e14
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/743185/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/list_unreleased_changes.py'],1,893bd687cafa04a319f66a2d54fc37469d1fe909,fix-nits," branch = args.branch.replace('stable/', '') if gitutils.stable_branch_exists(workdir, repo, branch): branch = 'stable/' + branch # Remove previously checkout repo (master) # to avoid git clone issues shutil.rmtree(os.path.join(workdir, repo), True)"," if gitutils.stable_branch_exists(workdir, repo, args.branch): branch = 'stable/' + args.branch",6,2
openstack%2Fstevedore~master~I109410752dd4225c2eb7ac60d0ed226a56bc89ab,openstack/stevedore,master,I109410752dd4225c2eb7ac60d0ed226a56bc89ab,restore support for python 3.5,ABANDONED,2020-07-21 15:56:18.000000000,2020-07-27 20:49:09.000000000,,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-21 15:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/469749de2175896369083ae76ff186f97a931a27', 'message': ""restore support for python 3.5\n\nConsumers of stevedore outside of OpenStack should not be required to\nupdate to python 3.6.  There shouldn't be any reason for us to drop\npython 3.5 from the supported python range, even if we aren't testing\nit. The change was made as part of\n1aca4bcbb740e3498fa64b4a6d279b022c74db66 when python 2.7 support was\ndropped.\n\nChange-Id: I109410752dd4225c2eb7ac60d0ed226a56bc89ab\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2020-07-21 17:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/5ee101eefa7dfba1d68ed33c58b21851f38df305', 'message': ""restore support for python 3.5\n\nConsumers of stevedore outside of OpenStack should not be required to\nupdate to python 3.6.  There shouldn't be any reason for us to drop\npython 3.5 from the supported python range, even if we aren't testing\nit. The change was made as part of\n1aca4bcbb740e3498fa64b4a6d279b022c74db66 when python 2.7 support was\ndropped.\n\nChange-Id: I109410752dd4225c2eb7ac60d0ed226a56bc89ab\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2020-07-21 17:45:16.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/b41ae76e9d517fe3a686ad0401928024817e1378', 'message': ""restore support for python 3.5\n\nConsumers of stevedore outside of OpenStack should not be required to\nupdate to python 3.6.  There shouldn't be any reason for us to drop\npython 3.5 from the supported python range, even if we aren't testing\nit. The change was made as part of\n1aca4bcbb740e3498fa64b4a6d279b022c74db66 when python 2.7 support was\ndropped.\n\nChange-Id: I109410752dd4225c2eb7ac60d0ed226a56bc89ab\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,742234,b41ae76e9d517fe3a686ad0401928024817e1378,22,8,3,2472,,,0,"restore support for python 3.5

Consumers of stevedore outside of OpenStack should not be required to
update to python 3.6.  There shouldn't be any reason for us to drop
python 3.5 from the supported python range, even if we aren't testing
it. The change was made as part of
1aca4bcbb740e3498fa64b4a6d279b022c74db66 when python 2.7 support was
dropped.

Change-Id: I109410752dd4225c2eb7ac60d0ed226a56bc89ab
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/34/742234/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,469749de2175896369083ae76ff186f97a931a27,python35,python-requires = >=3.5 Programming Language :: Python :: 3.5,python-requires = >=3.6,2,1
openstack%2Fneutron-specs~master~I308fbd407a56ef2984ac81a0ad9175c98077bfda,openstack/neutron-specs,master,I308fbd407a56ef2984ac81a0ad9175c98077bfda,Port NUMA affinity policy,MERGED,2020-07-08 14:48:17.000000000,2020-07-27 20:47:40.000000000,2020-07-27 20:46:08.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 14:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a246df8869e6eb3aa75bb1cff73eff5b41d71e6', 'message': 'Port NUMA affinity policy\n\nChange-Id: I308fbd407a56ef2984ac81a0ad9175c98077bfda\nRelated-Bug: #1886798\n'}, {'number': 2, 'created': '2020-07-10 16:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/30dff05fd84d64f5cc70fe31f200dfaf9c5e74f1', 'message': 'Port NUMA affinity policy\n\nChange-Id: I308fbd407a56ef2984ac81a0ad9175c98077bfda\nRelated-Bug: #1886798\n'}, {'number': 3, 'created': '2020-07-13 17:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/11e21ff0771766161058ebdbe642118456ddf024', 'message': 'Port NUMA affinity policy\n\nChange-Id: I308fbd407a56ef2984ac81a0ad9175c98077bfda\nRelated-Bug: #1886798\n'}, {'number': 4, 'created': '2020-07-20 16:41:15.000000000', 'files': ['specs/victoria/port-numa-affinity-policy.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a6fa3a5925206107dd2b834694ad4b0450a5077d', 'message': 'Port NUMA affinity policy\n\nChange-Id: I308fbd407a56ef2984ac81a0ad9175c98077bfda\nRelated-Bug: #1886798\n'}]",40,740011,a6fa3a5925206107dd2b834694ad4b0450a5077d,27,8,4,16688,,,0,"Port NUMA affinity policy

Change-Id: I308fbd407a56ef2984ac81a0ad9175c98077bfda
Related-Bug: #1886798
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/11/740011/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/port-numa-affinity-policy.rst'],1,8a246df8869e6eb3aa75bb1cff73eff5b41d71e6,bug/1886798,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Port NUMA affinity policy ========================= https://bugs.launchpad.net/neutron/+bug/1886798 Add a new parameter to ""port"" object setting the NUMA affinity policy. Problem Description =================== Currently Nova allows to define the ""numa_affinity_policy"" for PCI devices. Those PCI devices could be, for example, network cards. When a port is created using this physical device (an SR-IOV port with VNIC type ""direct"" or ""direct-physical""), Nova will select the host to spawn the virtual machine depending on the host NUMA topology availability and the NUMA nodes associated to this PCI network device [1]_. However this filtering cannot be done currently for other backends than SR-IOV. For example, Open vSwitch with DPDK will run the PMD threads attached to specific CPU cores (and to specific NUMA nodes) [2]_. In order to optimize the port performance, that should be created on the same NUMA nodes of the PMD threads. Open vSwitch with hardware offload is another NUMA node sensitive example. The hardware accelerator (network card) will be placed in a specific NUMA node; to improve the performance, the traffic should not came from other nodes. Proposed Change =============== The goal of this RFE is to create a ""numa_affinity_policy"" parameter applicable to all ports. This information will be provided to Nova that will use it while scheluding the virtual machine, independently of the network backend. Of course, Nova should have the network backend NUMA information topology. For example, since [3]_, Nova can be statically configured with the physical networks NUMA location. With the port ""numa_affinity_policy"" parameter, the Nova scheduler will filter those hosts matching the required policy. This RFE proposes to add a new parameter to the ""port"" object. This parameter, ""numa_affinity_policy"", will be an string defining the NUMA affinity policy, based on the PCINUMAAffinityPolicy [4]_ enum defined in Nova. That field could have different values: ""required"", ""legacy"" and ""preferred"". By default, the value of this new parameter will be ""None"", to keep backwards compatibility. Neutron will extend the ""port"" resource to add this new field, that will be passed to Nova. This information will be stored in the ""resource_request"" field. This parameter, if not null, will add a new required trait to the port request: .. code-block:: python port_resource['resource_request'] = { 'required': [os_traits.NUMA_POLICY_REQUIRED]} Data Model Impact ----------------- A new table, ""portnumaaffinitypolicy"", will be created: ==================== ======== ==== ============= ===================== Attribute Name Type CRUD Default Value Validation/Conversion ==================== ======== ==== ============= ===================== port_id uuid-str R numa_affinity_policy str CRU None enum (including None) ==================== ======== ==== ============= ===================== This child table will depend on ""ports"" table. Each register will have a 1:1 relationship with a ""port"" register and will be deleted when the ""port"" register is deleted too. REST API Impact --------------- The parameter ""numa_affinity_policy"" in ""port"" API: .. code-block:: python NUMA_AFFINITY_POLICY_VALUES = (None, 'required', 'preferred', 'legacy') RESOURCE_ATTRIBUTE_MAP = { 'port': { 'numa_affinity_policy': { 'allow_post': True, 'allow_put': True, 'validate': {'type:values': NUMA_AFFINITY_POLICY_VALUES} 'default': None, 'is_visible': True} } } The parameter could be updated only if the port is not bound. That check does not depend on the API but on the server. Security Impact --------------- None Performance Impact ------------------ None Operators CLI Impact -------------------- An additional parameter will be added to the OSC ""port"" CLI interface, in the create, set and delete commands. For logging resource:: openstack port create [--numa_affinity_policy <nap>] Implementation ============== Assignee(s) ----------- Primary assignee: Rodolfo Alonso Hernandez <ralonsoh@redhat.com> (IRC: ralonsoh) Testing ======= * Unit Test * Functional test * API test Documentation Impact ==================== User Documentation ------------------ * Add CLI usage into the networking guide for operator. References ========== .. [1] https://specs.openstack.org/openstack/nova-specs/specs/queens/implemented/share-pci-between-numa-nodes.html .. [2] http://docs.openvswitch.org/en/latest/intro/install/dpdk/ .. [3] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/numa-aware-vswitches.html .. [4] https://github.com/openstack/nova/blob/d4c857dfcb1ccfa5410de55671e69c722bbc990e/nova/objects/fields.py#L740-L746 ",,167,0
openstack%2Fopenstack-helm-infra~master~I5194012714bb45a62fa84151bacecc204204ad68,openstack/openstack-helm-infra,master,I5194012714bb45a62fa84151bacecc204204ad68,[WIP] Check Apparmor to ceph-client test,ABANDONED,2020-05-06 23:00:44.000000000,2020-07-27 20:33:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-05-06 23:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b158f7ce432b7f9a347c5f4ebd227e76325203c', 'message': '[FIX] Check Apparmor to ingress\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-05-13 01:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef3dfc7adbdd585333ac4d9c9e1e1ebd6110d710', 'message': '[FIX] Check Apparmor to ingress\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-05-18 17:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0214d7086f49e740f38c2133948b35267b37528', 'message': '[FIX] Check Apparmor to ingress\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 4, 'created': '2020-05-20 17:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0cc4f5f35418e3b5435b16412f219d2b8259887', 'message': '[FIX] Check Apparmor to ingress\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 5, 'created': '2020-05-20 17:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f8b1af73dfd3c4de3d5ebc2e2bca5d3eab7805a', 'message': '[FIX] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-05-22 22:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8317f3ffac6249745901bfb8e175f48099784a2', 'message': '[FIX] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-06-03 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9bbef48034a46322cbaee29fd2a5c2a36a5f6b1', 'message': '[FIX] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-06-05 01:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15223750309817e2975d8d6219ac4e4852638edd', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 9, 'created': '2020-06-05 01:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9ceb611ede96d80b5b306d460ad06f9cd536130', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 10, 'created': '2020-07-22 15:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e236e23adbd559e3874ed829965702cffed69e28', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 11, 'created': '2020-07-22 18:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e7ee3f4501a1588e99e35db8af8d052835b19ee', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 12, 'created': '2020-07-22 19:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78458110efdd2662fca3387d0dcfca4f517b0458', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 13, 'created': '2020-07-22 22:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d972c74a9bf28b91488f4e53b372c9ce5d23757a', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 14, 'created': '2020-07-22 22:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30869403ee568586c63858f68460411a1ab18ed6', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 15, 'created': '2020-07-22 22:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/945fdfd059d9758aa88688f4b7a0467206c6896a', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 16, 'created': '2020-07-23 15:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19c235ce663a438fba52c774785b0074e2f77f05', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 17, 'created': '2020-07-23 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4dfe13302d593f81877adcab72e3670a1802fe53', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 18, 'created': '2020-07-23 18:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b033bcea62f56d500310b35f34d78ef02955a6a', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 19, 'created': '2020-07-24 15:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5fc2d8501c48cdb02003404f1442a8ea31b8ab4', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 20, 'created': '2020-07-24 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/659127f6c88d89b2d39d0fa3c6ffadac47b44fc8', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 21, 'created': '2020-07-26 18:07:03.000000000', 'files': ['ceph-provisioners/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ae1082c2a977ab7b63dbed5cb5ca8d392e8f834', 'message': '[WIP] Check Apparmor to ceph-client test\n\nChange-Id: I5194012714bb45a62fa84151bacecc204204ad68\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,726019,7ae1082c2a977ab7b63dbed5cb5ca8d392e8f834,68,2,21,29131,,,0,"[WIP] Check Apparmor to ceph-client test

Change-Id: I5194012714bb45a62fa84151bacecc204204ad68
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/726019/21 && git format-patch -1 --stdout FETCH_HEAD,[],0,8b158f7ce432b7f9a347c5f4ebd227e76325203c,apparmor,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I933380892a205670baed242a4948316bfd444bf8,openstack/tripleo-heat-templates,stable/train,I933380892a205670baed242a4948316bfd444bf8,Ensure rhel enforcement always happen after changing the repos.,ABANDONED,2020-06-07 23:37:07.000000000,2020-07-27 20:10:29.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-07 23:37:07.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/deploy-steps.j2', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/779548ba4c904dce7f883aa9c7f33bdfa2cbc13e', 'message': 'Ensure rhel enforcement always happen after changing the repos.\n\nWe need to enforce a certain policy during update (and deployment as\nwell) for subscribed OSP.  Problem is that the current ordering force\nthe user to change its subscription manually before update.\n\nSo we move the enforcement call to be run just after we call the\nsubscription role.\n\nWe also make sure the host_prep_tasks happens before running all the\nupdate tasks.  So that we run yum upgrade on the right repos.\n\nThe new ordering is now :\n - hiera,\n - host prep tasks\n - update tasks\n - deploy step tasks 0\n - deploy step tasks 1\n - deploy step tasks 1-5\n - post update step tasks\n\nBefore this change host prep tasks was happening before deploy step\ntasks 0.\n\nChange-Id: I933380892a205670baed242a4948316bfd444bf8\n(cherry picked from commit 6f333c056575174214f16d2fd58462256cb7e2ed)\n(cherry picked from commit 91d00d2eea4576a46d662a7fc34176b8a3e15fd4)\n'}]",0,733995,779548ba4c904dce7f883aa9c7f33bdfa2cbc13e,5,3,1,8297,,,0,"Ensure rhel enforcement always happen after changing the repos.

We need to enforce a certain policy during update (and deployment as
well) for subscribed OSP.  Problem is that the current ordering force
the user to change its subscription manually before update.

So we move the enforcement call to be run just after we call the
subscription role.

We also make sure the host_prep_tasks happens before running all the
update tasks.  So that we run yum upgrade on the right repos.

The new ordering is now :
 - hiera,
 - host prep tasks
 - update tasks
 - deploy step tasks 0
 - deploy step tasks 1
 - deploy step tasks 1-5
 - post update step tasks

Before this change host prep tasks was happening before deploy step
tasks 0.

Change-Id: I933380892a205670baed242a4948316bfd444bf8
(cherry picked from commit 6f333c056575174214f16d2fd58462256cb7e2ed)
(cherry picked from commit 91d00d2eea4576a46d662a7fc34176b8a3e15fd4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/733995/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/deploy-steps.j2', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'deployment/undercloud/undercloud-upgrade.yaml']",4,779548ba4c904dce7f883aa9c7f33bdfa2cbc13e,,, SkipRhelEnforcement: default: 'false' description: Whether to avoid or not RHEL/OSP policies enforcement on Red Hat. Mainly for CI purpose. It shouldn't matter on other distributions where it's disabled in the role. Set to true to skip the enforcement. type: string - name: Enforce RHOSP rules regarding subscription. include_role: name: tripleo-redhat-enforce vars: skip_rhel_enforcement: {get_param: SkipRhelEnforcement} when: - step|int == 0 - ansible_distribution == 'RedHat' - not (skip_rhel_enforcement | bool),18,34
openstack%2Fgovernance~master~If82b2a602d108d9205a3a6ffa12d733af91c5f1a,openstack/governance,master,If82b2a602d108d9205a3a6ffa12d733af91c5f1a,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-27 14:47:59.000000000,2020-07-27 20:09:29.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 14:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/276695629853a1a08bc12f31cf07aa85705bfbb6', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: If82b2a602d108d9205a3a6ffa12d733af91c5f1a\n'}, {'number': 2, 'created': '2020-07-27 15:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/fe4110e9ea1f0809e593c3ebae27f9ad99e6057d', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nDepends-On: https://review.opendev.org/#/c/734700/\nDepends-On: https://review.opendev.org/#/c/743267/1\n\nChange-Id: If82b2a602d108d9205a3a6ffa12d733af91c5f1a\n'}, {'number': 3, 'created': '2020-07-27 18:42:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e43fdb54e1231fb3041798dbf3c0c2ae3fb0fa09', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: If82b2a602d108d9205a3a6ffa12d733af91c5f1a\n'}]",0,743249,e43fdb54e1231fb3041798dbf3c0c2ae3fb0fa09,8,2,3,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs
Story: #2007865
Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: If82b2a602d108d9205a3a6ffa12d733af91c5f1a
",git fetch https://review.opendev.org/openstack/governance refs/changes/49/743249/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,276695629853a1a08bc12f31cf07aa85705bfbb6,migrate-to-focal,#test focal,,1,0
openstack%2Freleases~master~I59e8f2ed73a1038a3df2757898205a1fbcff9e35,openstack/releases,master,I59e8f2ed73a1038a3df2757898205a1fbcff9e35,Release tripleo-operator-ansible,MERGED,2020-07-24 14:12:34.000000000,2020-07-27 20:07:19.000000000,2020-07-27 20:07:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 14:12:34.000000000', 'files': ['deliverables/_independent/tripleo-operator-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b9d44d5d71d7d7bde788817c6bc48164417262a', 'message': 'Release tripleo-operator-ansible\n\nChange-Id: I59e8f2ed73a1038a3df2757898205a1fbcff9e35\nDepends-On: https://review.opendev.org/#/c/742890/\n'}]",0,742891,8b9d44d5d71d7d7bde788817c6bc48164417262a,14,6,1,14985,,,0,"Release tripleo-operator-ansible

Change-Id: I59e8f2ed73a1038a3df2757898205a1fbcff9e35
Depends-On: https://review.opendev.org/#/c/742890/
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/742891/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tripleo-operator-ansible.yaml'],1,8b9d44d5d71d7d7bde788817c6bc48164417262a,t-o-a, - version: 0.3.0 projects: - repo: openstack/tripleo-operator-ansible hash: d724d69f5a18041c1fe45d684066ffe1397e38ef,,4,0
openstack%2Ftripleo-ansible~master~Ia0a5023d24a6712535d0dc962351ea3672f7bfbb,openstack/tripleo-ansible,master,Ia0a5023d24a6712535d0dc962351ea3672f7bfbb,Add a new role: tripleo_import.,ABANDONED,2020-07-17 15:49:29.000000000,2020-07-27 19:57:51.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 15:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/086167c63abedd78b12cf25d4eadbab65667794e', 'message': ""Add a new role: tripleo_import.\n\nThis is as small wrapper around the a classical import.  It requires\nthe user to pass in a clear human description of the import tasks and\nin case of step file, what each step is doing.  This enable the user\nto grep for '==>' in the log to get all the stages.  Furthermore when\na error occur the context is repeated to make debugging easier.\n\nChange-Id: Ia0a5023d24a6712535d0dc962351ea3672f7bfbb\n""}, {'number': 2, 'created': '2020-07-17 20:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e8e4a75939dfec7af57fb44ad136e1c984c6429', 'message': ""Add a new role: tripleo_import.\n\nThis is as small wrapper around the a classical import.  It requires\nthe user to pass in a clear human description of the import tasks and\nin case of step file, what each step is doing.  This enable the user\nto grep for '==>' in the log to get all the stages.  Furthermore when\na error occur the context is repeated to make debugging easier.\n\nChange-Id: Ia0a5023d24a6712535d0dc962351ea3672f7bfbb\n""}, {'number': 3, 'created': '2020-07-17 21:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2040d465f9e26bf3d61a1343aaeed938f281a2a9', 'message': ""Add a new role: tripleo_import.\n\nThis is as small wrapper around the a classical import.  It requires\nthe user to pass in a clear human description of the import tasks and\nin case of step file, what each step is doing.  This enable the user\nto grep for '==>' in the log to get all the stages.  Furthermore when\na error occur the context is repeated to make debugging easier.\n\nChange-Id: Ia0a5023d24a6712535d0dc962351ea3672f7bfbb\n""}, {'number': 4, 'created': '2020-07-17 22:13:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_import/molecule/default/fail-playbook.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo_import.rst', 'tripleo_ansible/roles/tripleo_import/molecule/default/ansible-test-env.rc', 'tripleo_ansible/roles/tripleo_import/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_import/tasks/rescue_error.yml', 'tripleo_ansible/roles/tripleo_import/handlers/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/test-output.yml', 'tripleo_ansible/roles/tripleo_import/tasks/headers.yml', 'tripleo_ansible/roles/tripleo_import/vars/main.yml', 'tripleo_ansible/roles/tripleo_import/tasks/main.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/verify.yml', 'releasenotes/notes/new-import-role-wrapper-for-better-user-xp-49f2a6db1f90e417.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/fail-task.yaml', 'tripleo_ansible/roles/tripleo_import/meta/main.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/success-task.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/success-task-step.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_import/defaults/main.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_import/tasks/step_tasks.yml', 'tripleo_ansible/roles/tripleo_import/tasks/footers.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/fail-playbook-step.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17b27e1cb75925492fad586a332cc646be2a3e9f', 'message': ""Add a new role: tripleo_import.\n\nThis is as small wrapper around the a classical import.  It requires\nthe user to pass in a clear human description of the import tasks and\nin case of step file, what each step is doing.  This enable the user\nto grep for '==>' in the log to get all the stages.  Furthermore when\na error occur the context is repeated to make debugging easier.\n\nChange-Id: Ia0a5023d24a6712535d0dc962351ea3672f7bfbb\n""}]",43,741665,17b27e1cb75925492fad586a332cc646be2a3e9f,20,6,4,8297,,,0,"Add a new role: tripleo_import.

This is as small wrapper around the a classical import.  It requires
the user to pass in a clear human description of the import tasks and
in case of step file, what each step is doing.  This enable the user
to grep for '==>' in the log to get all the stages.  Furthermore when
a error occur the context is repeated to make debugging easier.

Change-Id: Ia0a5023d24a6712535d0dc962351ea3672f7bfbb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/741665/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_import/vars/role.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/fail-playbook.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo_import.rst', 'tripleo_ansible/roles/tripleo_import/molecule/default/ansible-test-env.rc', 'tripleo_ansible/roles/tripleo_import/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_import/tasks/rescue_error.yml', 'tripleo_ansible/roles/tripleo_import/handlers/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/test-output.yml', 'tripleo_ansible/roles/tripleo_import/vars/step.yml', 'tripleo_ansible/roles/tripleo_import/tasks/headers.yml', 'tripleo_ansible/roles/tripleo_import/vars/main.yml', 'tripleo_ansible/roles/tripleo_import/tasks/main.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/verify.yml', 'releasenotes/notes/new-import-role-wrapper-for-better-user-xp-49f2a6db1f90e417.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/fail-task.yaml', 'tripleo_ansible/roles/tripleo_import/meta/main.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/success-task.yaml', 'tripleo_ansible/roles/tripleo_import/tasks/tasks.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/success-task-step.yaml', 'tripleo_ansible/roles/tripleo_import/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_import/defaults/main.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_import/tasks/step_tasks.yml', 'tripleo_ansible/roles/tripleo_import/tasks/footers.yml', 'tripleo_ansible/roles/tripleo_import/molecule/default/fail-playbook-step.yaml']",27,086167c63abedd78b12cf25d4eadbab65667794e,,"- hosts: localhost gather_facts: true tasks: - import_role: name: tripleo_import vars: tripleo_import_task_name: 'Test failure with step defined' tripleo_import_file: 'fail-task' tripleo_import_step: 1 tripleo_import_step_name: 'step failure' - name: This fail if we reach here. fail: msg: ""This should happen, failure should be caught for step and triggered."" ",,593,1
openstack%2Freleases~master~I405c7ae3f41261b16e8a2408f04626ead2e28076,openstack/releases,master,I405c7ae3f41261b16e8a2408f04626ead2e28076,Release oslo for victoria - 2020-07-27,MERGED,2020-07-27 06:11:10.000000000,2020-07-27 19:57:10.000000000,2020-07-27 19:57:10.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 06:11:10.000000000', 'files': ['deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/oslo.config.yaml', 'deliverables/victoria/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dca31a3a0c7cdbda497e2dd161485468ebc2b101', 'message': 'Release oslo for victoria - 2020-07-27\n\nChange-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076\n'}]",0,743151,dca31a3a0c7cdbda497e2dd161485468ebc2b101,7,3,1,28522,,,0,"Release oslo for victoria - 2020-07-27

Change-Id: I405c7ae3f41261b16e8a2408f04626ead2e28076
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/743151/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/oslo.config.yaml', 'deliverables/victoria/oslo.utils.yaml']",3,dca31a3a0c7cdbda497e2dd161485468ebc2b101,oslo-victoria-07-27, - version: 4.4.0 projects: - repo: openstack/oslo.utils hash: 0c2ca1afedf596a325f262198913c3698169a45c,,12,0
openstack%2Freleases~master~I3ecb4927f69874f167276651718ff3aa878f6755,openstack/releases,master,I3ecb4927f69874f167276651718ff3aa878f6755,Release python-troveclient 5.0.0 for Victoria,MERGED,2020-07-26 23:28:38.000000000,2020-07-27 19:57:09.000000000,2020-07-27 19:57:09.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-26 23:28:38.000000000', 'files': ['deliverables/victoria/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/16640bcd721f2c24a0b47a3d8ded2c43ea54cf81', 'message': 'Release python-troveclient 5.0.0 for Victoria\n\nBumping the major version because incompatible CLI changes are\nintroduced in\nhttps://github.com/openstack/python-troveclient/commit/c23da586e9466cf77a8fca314871b3cba58028f9\n\nChange-Id: I3ecb4927f69874f167276651718ff3aa878f6755\n'}]",1,743097,16640bcd721f2c24a0b47a3d8ded2c43ea54cf81,8,3,1,6732,,,0,"Release python-troveclient 5.0.0 for Victoria

Bumping the major version because incompatible CLI changes are
introduced in
https://github.com/openstack/python-troveclient/commit/c23da586e9466cf77a8fca314871b3cba58028f9

Change-Id: I3ecb4927f69874f167276651718ff3aa878f6755
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/743097/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-troveclient.yaml'],1,16640bcd721f2c24a0b47a3d8ded2c43ea54cf81,python-troveclient-5.0.0, - version: 5.0.0 projects: - repo: openstack/python-troveclient hash: c23da586e9466cf77a8fca314871b3cba58028f9,,4,0
openstack%2Freleases~master~I444fc8f48d5d17437814b7a31f7c5b90775e3543,openstack/releases,master,I444fc8f48d5d17437814b7a31f7c5b90775e3543,Add some whitespaces on helps to fix rendering.,MERGED,2020-07-27 09:21:30.000000000,2020-07-27 19:57:07.000000000,2020-07-27 19:57:07.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 09:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5f149afb8e921cf6cca8a2354f7d02c17dbb6687', 'message': 'Add some whitespaces to helps to fix rendering.\n\nChange-Id: I444fc8f48d5d17437814b7a31f7c5b90775e3543\n'}, {'number': 2, 'created': '2020-07-27 09:23:20.000000000', 'files': ['openstack_releases/cmds/list_unreleased_changes.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/85d8c3eb31247679edb13205dc4688d61e7ec5ef', 'message': 'Add some whitespaces on helps to fix rendering.\n\nChange-Id: I444fc8f48d5d17437814b7a31f7c5b90775e3543\n'}]",0,743172,85d8c3eb31247679edb13205dc4688d61e7ec5ef,7,2,2,28522,,,0,"Add some whitespaces on helps to fix rendering.

Change-Id: I444fc8f48d5d17437814b7a31f7c5b90775e3543
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/743172/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/list_unreleased_changes.py'],1,5f149afb8e921cf6cca8a2354f7d02c17dbb6687,fix-nits," help=""Ignore projects without difference between the HEAD and "" ""the retrieved previous tag. "" help=""Ignore projects without difference between the HEAD and "" ""previous tag, projects not yet released, projects in error. "" "" They will be ignored in the command output."")"," help=""Ignore projects without difference between the HEAD and"" ""the retrieved previous tag."" help=""Ignore projects without difference between the HEAD and"" ""previous tag, projects not yet released, projects in error."" ""They will be ignored in the command output."")",5,5
openstack%2Freleases~master~Ieba8ca24016e92e18e18e6957f5d4e1b5cc1a8f0,openstack/releases,master,Ieba8ca24016e92e18e18e6957f5d4e1b5cc1a8f0,Release networking-ovn for stable/stein,MERGED,2020-07-17 22:18:25.000000000,2020-07-27 19:51:58.000000000,2020-07-27 19:51:58.000000000,"[{'_account_id': 841}, {'_account_id': 8655}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:18:25.000000000', 'files': ['deliverables/stein/networking-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9e4131ee22aa71542c1a3e0f25bdbda8ee05e792', 'message': 'Release networking-ovn for stable/stein\n\nThis release picks up new commits to networking-ovn since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ieba8ca24016e92e18e18e6957f5d4e1b5cc1a8f0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741756,9e4131ee22aa71542c1a3e0f25bdbda8ee05e792,10,6,1,11904,,,0,"Release networking-ovn for stable/stein

This release picks up new commits to networking-ovn since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ieba8ca24016e92e18e18e6957f5d4e1b5cc1a8f0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/741756/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/networking-ovn.yaml'],1,9e4131ee22aa71542c1a3e0f25bdbda8ee05e792,stein-stable, - version: 6.1.1 projects: - repo: openstack/networking-ovn hash: 84e74585fc47ef0355009f5f01a71a75476654ea,,4,0
openstack%2Freleases~master~I9f5f0c990b660117517958ec0fe5b03d42550941,openstack/releases,master,I9f5f0c990b660117517958ec0fe5b03d42550941,Release swift for stable/stein,ABANDONED,2020-07-17 22:34:47.000000000,2020-07-27 19:40:48.000000000,,"[{'_account_id': 11904}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:34:47.000000000', 'files': ['deliverables/stein/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/be1ee80e9549692945be281f2b95e6675593d90c', 'message': 'Release swift for stable/stein\n\nThis release picks up new commits to swift since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I9f5f0c990b660117517958ec0fe5b03d42550941\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741777,be1ee80e9549692945be281f2b95e6675593d90c,4,3,1,11904,,,0,"Release swift for stable/stein

This release picks up new commits to swift since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I9f5f0c990b660117517958ec0fe5b03d42550941
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/741777/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/swift.yaml'],1,be1ee80e9549692945be281f2b95e6675593d90c,stein-stable, - version: 2.21.2 projects: - repo: openstack/swift hash: 8ba5a6e536a46c4a988299ce13abc05aa82c775c,,4,0
openstack%2Freleases~master~Ic395497f6d982c63fb3bec527a060c622fecff0c,openstack/releases,master,Ic395497f6d982c63fb3bec527a060c622fecff0c,Release watcher for stable/stein,ABANDONED,2020-07-17 22:38:22.000000000,2020-07-27 19:40:42.000000000,,"[{'_account_id': 11904}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:38:22.000000000', 'files': ['deliverables/stein/watcher.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a80bded2402940f544db7616ba9716afec7019f9', 'message': 'Release watcher for stable/stein\n\nThis release picks up new commits to watcher since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ic395497f6d982c63fb3bec527a060c622fecff0c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741781,a80bded2402940f544db7616ba9716afec7019f9,4,3,1,11904,,,0,"Release watcher for stable/stein

This release picks up new commits to watcher since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ic395497f6d982c63fb3bec527a060c622fecff0c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/741781/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/watcher.yaml'],1,a80bded2402940f544db7616ba9716afec7019f9,stein-stable, - version: 2.0.1 projects: - repo: openstack/watcher hash: ba394096fd853d09c7e4ad162b6852b09b109532,,4,0
openstack%2Freleases~master~I5c39de87cd5f0566c859376cf64b8963afff48ae,openstack/releases,master,I5c39de87cd5f0566c859376cf64b8963afff48ae,Release python-mistralclient for stable/stein,ABANDONED,2020-07-17 22:30:33.000000000,2020-07-27 19:40:39.000000000,,"[{'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:30:33.000000000', 'files': ['deliverables/stein/python-mistralclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7d0157e122867c811357c7e1cbc26e90550c173b', 'message': 'Release python-mistralclient for stable/stein\n\nThis release picks up new commits to python-mistralclient since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I5c39de87cd5f0566c859376cf64b8963afff48ae\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741766,7d0157e122867c811357c7e1cbc26e90550c173b,4,3,1,11904,,,0,"Release python-mistralclient for stable/stein

This release picks up new commits to python-mistralclient since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I5c39de87cd5f0566c859376cf64b8963afff48ae
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/741766/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-mistralclient.yaml'],1,7d0157e122867c811357c7e1cbc26e90550c173b,stein-stable, - version: 3.8.2 projects: - repo: openstack/python-mistralclient hash: a999a9b8ac51290bba73fed57f588ede5045e856,,4,0
openstack%2Freleases~master~I5157a332a9ebe5081bb294d56e6eed942305e1d5,openstack/releases,master,I5157a332a9ebe5081bb294d56e6eed942305e1d5,Release python-heatclient for stable/stein,ABANDONED,2020-07-17 22:29:25.000000000,2020-07-27 19:40:33.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:29:25.000000000', 'files': ['deliverables/stein/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b5264b80f2ca1839b1edcfa31c1456358a3d75e', 'message': 'Release python-heatclient for stable/stein\n\nThis release picks up new commits to python-heatclient since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I5157a332a9ebe5081bb294d56e6eed942305e1d5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741765,2b5264b80f2ca1839b1edcfa31c1456358a3d75e,3,2,1,11904,,,0,"Release python-heatclient for stable/stein

This release picks up new commits to python-heatclient since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I5157a332a9ebe5081bb294d56e6eed942305e1d5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/741765/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-heatclient.yaml'],1,2b5264b80f2ca1839b1edcfa31c1456358a3d75e,stein-stable, - version: 1.17.1 projects: - repo: openstack/python-heatclient hash: 39cda16fb0ccdc8f919f99cbc92593c7535d9142,,4,0
openstack%2Freleases~master~Ie744abc09a92f412763d73921857098ff8dd0cbe,openstack/releases,master,Ie744abc09a92f412763d73921857098ff8dd0cbe,Release karbor-dashboard for stable/stein,ABANDONED,2020-07-17 22:10:33.000000000,2020-07-27 19:40:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-17 22:10:33.000000000', 'files': ['deliverables/stein/karbor-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e5c019534e26833bd8057d73d885f40fa4b995ff', 'message': 'Release karbor-dashboard for stable/stein\n\nThis release picks up new commits to karbor-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ie744abc09a92f412763d73921857098ff8dd0cbe\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741741,e5c019534e26833bd8057d73d885f40fa4b995ff,3,1,1,11904,,,0,"Release karbor-dashboard for stable/stein

This release picks up new commits to karbor-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie744abc09a92f412763d73921857098ff8dd0cbe
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/741741/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/karbor-dashboard.yaml'],1,e5c019534e26833bd8057d73d885f40fa4b995ff,stein-stable, - version: 1.2.2 projects: - repo: openstack/karbor-dashboard hash: a53e70d3c95a74e071306bb9e819548002872683,,4,0
openstack%2Freleases~master~I651e7e4ab63553e5d4c6bc87bef13b827ff7955d,openstack/releases,master,I651e7e4ab63553e5d4c6bc87bef13b827ff7955d,Release keystone for stable/stein,ABANDONED,2020-07-17 22:11:14.000000000,2020-07-27 19:40:25.000000000,,"[{'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:11:14.000000000', 'files': ['deliverables/stein/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ef185ec8f6667a43045225c43f6c19d49a8e97bd', 'message': 'Release keystone for stable/stein\n\nThis release picks up new commits to keystone since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I651e7e4ab63553e5d4c6bc87bef13b827ff7955d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741742,ef185ec8f6667a43045225c43f6c19d49a8e97bd,3,2,1,11904,,,0,"Release keystone for stable/stein

This release picks up new commits to keystone since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I651e7e4ab63553e5d4c6bc87bef13b827ff7955d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/741742/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/keystone.yaml'],1,ef185ec8f6667a43045225c43f6c19d49a8e97bd,stein-stable, - version: 15.0.2 projects: - repo: openstack/keystone hash: 353a656dc40dd3bb4a33b3cc4b6d33c1d1dfa7f7,,4,0
openstack%2Freleases~master~I731c339d694d4dbb242f84c06f1a18b5e1c27dce,openstack/releases,master,I731c339d694d4dbb242f84c06f1a18b5e1c27dce,Release heat-dashboard for stable/stein,ABANDONED,2020-07-17 22:07:35.000000000,2020-07-27 19:40:21.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:07:35.000000000', 'files': ['deliverables/stein/heat-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5294fce22498dabc2ac69527497ccae1f2d9f421', 'message': 'Release heat-dashboard for stable/stein\n\nThis release picks up new commits to heat-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I731c339d694d4dbb242f84c06f1a18b5e1c27dce\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741736,5294fce22498dabc2ac69527497ccae1f2d9f421,3,2,1,11904,,,0,"Release heat-dashboard for stable/stein

This release picks up new commits to heat-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I731c339d694d4dbb242f84c06f1a18b5e1c27dce
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/741736/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/heat-dashboard.yaml'],1,5294fce22498dabc2ac69527497ccae1f2d9f421,stein-stable, - version: 1.5.1 projects: - repo: openstack/heat-dashboard hash: 7269ad11d7905c4a7a955c7ad2b03e0cc389561d,,4,0
openstack%2Freleases~master~Iba4595f60232a6a93d402fb1d4976425ff3557ea,openstack/releases,master,Iba4595f60232a6a93d402fb1d4976425ff3557ea,Release designate-dashboard for stable/stein,ABANDONED,2020-07-17 22:06:25.000000000,2020-07-27 19:40:15.000000000,,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 22:06:25.000000000', 'files': ['deliverables/stein/designate-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a5d626d39a43b78eeeb00214daa4578df468938a', 'message': 'Release designate-dashboard for stable/stein\n\nThis release picks up new commits to designate-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Iba4595f60232a6a93d402fb1d4976425ff3557ea\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741734,a5d626d39a43b78eeeb00214daa4578df468938a,3,2,1,11904,,,0,"Release designate-dashboard for stable/stein

This release picks up new commits to designate-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Iba4595f60232a6a93d402fb1d4976425ff3557ea
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/741734/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/designate-dashboard.yaml'],1,a5d626d39a43b78eeeb00214daa4578df468938a,stein-stable, - version: 8.0.1 projects: - repo: openstack/designate-dashboard hash: a3a7a0e73b2640d3218c66da2fa19527fbbe0401,,4,0
openstack%2Freleases~master~Idc785c297104f7594f94a6b2b36bef8bc403afba,openstack/releases,master,Idc785c297104f7594f94a6b2b36bef8bc403afba,Release cloudkitty for stable/stein,ABANDONED,2020-07-17 22:05:53.000000000,2020-07-27 19:40:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-17 22:05:53.000000000', 'files': ['deliverables/stein/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a604d964b7dd7471eb902ff71c68ed5e4a0c8cba', 'message': 'Release cloudkitty for stable/stein\n\nThis release picks up new commits to cloudkitty since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Idc785c297104f7594f94a6b2b36bef8bc403afba\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741733,a604d964b7dd7471eb902ff71c68ed5e4a0c8cba,3,1,1,11904,,,0,"Release cloudkitty for stable/stein

This release picks up new commits to cloudkitty since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Idc785c297104f7594f94a6b2b36bef8bc403afba
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/741733/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/cloudkitty.yaml'],1,a604d964b7dd7471eb902ff71c68ed5e4a0c8cba,stein-stable, - version: 9.0.1 projects: - repo: openstack/cloudkitty hash: 7d6b82b8a8153a7c2c886a1edd8c3505516e3af1,,4,0
openstack%2Fkolla-ansible~master~Ib451b154893e5cedc366aed83c35f48d92c7ab82,openstack/kolla-ansible,master,Ib451b154893e5cedc366aed83c35f48d92c7ab82,Drop RDP console variables,MERGED,2020-07-27 13:39:40.000000000,2020-07-27 19:32:15.000000000,2020-07-27 19:29:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-07-27 13:39:40.000000000', 'files': ['ansible/group_vars/all.yml', 'doc/source/reference/compute/nova-guide.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1e8533c89a655d2526772adff9b2024b782ab8d', 'message': 'Drop RDP console variables\n\nThese are noop after Hyper-V support was removed.\n\nChange-Id: Ib451b154893e5cedc366aed83c35f48d92c7ab82\n'}]",0,743228,e1e8533c89a655d2526772adff9b2024b782ab8d,9,3,1,30491,,,0,"Drop RDP console variables

These are noop after Hyper-V support was removed.

Change-Id: Ib451b154893e5cedc366aed83c35f48d92c7ab82
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/743228/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'doc/source/reference/compute/nova-guide.rst', 'etc/kolla/globals.yml']",3,e1e8533c89a655d2526772adff9b2024b782ab8d,drop-rdp,"# Valid options are [ none, novnc, spice ]","# Valid options are [ none, novnc, spice, rdp ]",3,5
openstack%2Fopenstack-ansible~master~I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26,openstack/openstack-ansible,master,I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26,Fix ceph deployment for CentOS 7,MERGED,2020-07-21 18:11:54.000000000,2020-07-27 18:38:57.000000000,2020-07-27 14:07:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-21 18:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f413cf58f56a4273eee1828c188bc2577e5c4601', 'message': '[WIP] Install py3 for centos7 by default\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n'}, {'number': 2, 'created': '2020-07-21 18:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9e8c8498ac2154b85e754b7db62dcc7ccdd84807', 'message': '[WIP] Fix ceph deployment for CentOS 7\n\nSince centos dropped pyhton-pip from their repos, we should use\nepel now to get pip2 and install required for ceph libraries (ie PyYAML)\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n'}, {'number': 3, 'created': '2020-07-21 18:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b2b222bd36767ee192fd0032f1c4326cd711ccc', 'message': 'Fix ceph deployment for CentOS 7\n\nSince centos dropped pyhton-pip from their repos, we should use\nepel now to get pip2 and install required for ceph libraries (ie PyYAML)\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n'}, {'number': 4, 'created': '2020-07-21 18:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5c554e302b08769e00102516e9061e350cb9b17', 'message': 'Fix ceph deployment for CentOS 7\n\nSince centos dropped pyhton-pip from their repos, we should use\nepel now to get pip2 and install required for ceph libraries (ie PyYAML)\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n'}, {'number': 5, 'created': '2020-07-22 06:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76b0546bca548641f6c768ed5e41f709115e03c1', 'message': 'Fix ceph deployment for CentOS 7\n\nSince centos dropped pyhton-pip from their repos, we should use\nepel now to get pip2 and install required for ceph libraries (ie PyYAML)\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n'}, {'number': 6, 'created': '2020-07-24 16:23:04.000000000', 'files': ['playbooks/common-tasks/ceph-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/39a4622ef7c43db51e098169906883a0fd34a326', 'message': 'Fix ceph deployment for CentOS 7\n\nSince centos dropped pyhton-pip from their repos, we should use\nepel now to get pip2 and install required for ceph libraries (ie PyYAML)\n\nChange-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26\n'}]",0,742262,39a4622ef7c43db51e098169906883a0fd34a326,19,4,6,28619,,,0,"Fix ceph deployment for CentOS 7

Since centos dropped pyhton-pip from their repos, we should use
epel now to get pip2 and install required for ceph libraries (ie PyYAML)

Change-Id: I9d0bc341de4ebcd89df6c3c8c5ce3cd5cd6e5b26
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/742262/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/common-tasks/ceph-server.yml', 'inventory/group_vars/all/ceph.yml', 'playbooks/openstack-hosts-setup.yml']",3,f413cf58f56a4273eee1828c188bc2577e5c4601,, elif which yum >/dev/null && ! which python3 >/dev/null ; then yum install python3 exit 2,,5,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d,openstack/openstack-ansible-os_ceilometer,master,I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d,Add centos-8 and ubuntu focal support,MERGED,2020-07-21 17:15:48.000000000,2020-07-27 18:38:28.000000000,2020-07-25 17:37:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-21 17:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/7d0532fe7b6a5d42f89ae1122d45aaf4d09db641', 'message': 'Add centos-8 support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\n\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n'}, {'number': 2, 'created': '2020-07-22 01:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/992fdaa7766df026eb9b619dd066e28754f333e1', 'message': 'Add centos-8 support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\n\nDepends-On: https://review.opendev.org/742324\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n'}, {'number': 3, 'created': '2020-07-22 13:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/85064c31bc79eb01a301ca80270e886d71ec24a1', 'message': ""Add centos-8 and ubuntu focal support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\nAlso as we've fully migrated to py3, no need to install py2 libraries.\n\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n""}, {'number': 4, 'created': '2020-07-24 07:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/b2a80ef9764eff14997df449fe9968111ee45001', 'message': ""Add centos-8 and ubuntu focal support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\nAlso as we've fully migrated to py3, no need to install py2 libraries.\n\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n""}, {'number': 5, 'created': '2020-07-24 08:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/14f058b3609106299d97ad67c003dd5ce6cd1898', 'message': ""Add centos-8 and ubuntu focal support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\nAlso as we've fully migrated to py3, no need to install py2 libraries.\n\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n""}, {'number': 6, 'created': '2020-07-24 12:00:37.000000000', 'files': ['vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/9ae178f3123fb54577ad35eadc4a834c2d1af23c', 'message': ""Add centos-8 and ubuntu focal support\n\nwe need separate redhat-8.yml file to handle libvirt libraries condition.\nAlso as we've fully migrated to py3, no need to install py2 libraries.\n\nChange-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d\n""}]",0,742253,9ae178f3123fb54577ad35eadc4a834c2d1af23c,28,4,6,28752,,,0,"Add centos-8 and ubuntu focal support

we need separate redhat-8.yml file to handle libvirt libraries condition.
Also as we've fully migrated to py3, no need to install py2 libraries.

Change-Id: I2db9cdfa2500c9a4858fd4b43e636d728c8dec6d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/53/742253/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,7d0532fe7b6a5d42f89ae1122d45aaf4d09db641,osa/el8,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ceilometer_distro_packages: - git - ""{{ (ansible_distribution_major_version|int <= 7) | ternary('libvirt-devel', 'python3-libvirt') }}"" ceilometer_devel_distro_packages: - systemd-devel - which - libxml2-devel - libxslt-devel ceilometer_service_distro_packages: - openstack-ceilometer-central - openstack-ceilometer-compute - openstack-ceilometer-ipmi - openstack-ceilometer-notification - openstack-ceilometer-polling - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}"" ceilometer_oslomsg_amqp1_distro_packages: - cyrus-sasl-lib - cyrus-sasl-plain - cyrus-sasl-md5 ceilometer_packages_to_symlink: |- {% set packages = [] %} {% if ansible_distribution_major_version|int > 7 %} {% set _ = packages.extend(['python3-libvirt']) %} {% endif %} {{ packages }} ",,44,0
openstack%2Fopenstack-ansible-os_octavia~master~I1f11ba98140b0fef396dcb1d8af4609e35f79104,openstack/openstack-ansible-os_octavia,master,I1f11ba98140b0fef396dcb1d8af4609e35f79104,Add centos-8 support,MERGED,2020-07-06 05:54:26.000000000,2020-07-27 18:38:18.000000000,2020-07-25 23:58:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-06 05:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/569ff6d597a038759ed647766579460b7e9b785f', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I1f11ba98140b0fef396dcb1d8af4609e35f79104\n'}, {'number': 2, 'created': '2020-07-07 04:50:07.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9c108039ffea744a24651448ab32ce4c07abfb98', 'message': 'Add centos-8 support\n\nReverting systemd-devel\n\nChange-Id: I1f11ba98140b0fef396dcb1d8af4609e35f79104\n'}]",0,739408,9c108039ffea744a24651448ab32ce4c07abfb98,25,4,2,28752,,,0,"Add centos-8 support

Reverting systemd-devel

Change-Id: I1f11ba98140b0fef396dcb1d8af4609e35f79104
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/08/739408/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,569ff6d597a038759ed647766579460b7e9b785f,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-devel - systemd-python,2,2
openstack%2Fopenstack-ansible-os_gnocchi~master~I95c2c7c158cfcad6746188b24a0e06ffd2564244,openstack/openstack-ansible-os_gnocchi,master,I95c2c7c158cfcad6746188b24a0e06ffd2564244,Add centos-8 support,MERGED,2020-07-22 01:28:03.000000000,2020-07-27 18:38:04.000000000,2020-07-25 23:51:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-22 01:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/2e0aa083c14deb4275dbcd4e3cd23a8cfeaac7c6', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml to support centos-8.\n\nChange-Id: I95c2c7c158cfcad6746188b24a0e06ffd2564244\n'}, {'number': 2, 'created': '2020-07-22 04:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/e3f01b9f1992e6ef61bee07e0fc10ba6513c2ec7', 'message': 'Add centos-8 support\n\nrenaming redhat-7.yml to redhat.yml to support centos-8.\n\nChange-Id: I95c2c7c158cfcad6746188b24a0e06ffd2564244\n'}, {'number': 3, 'created': '2020-07-22 17:00:00.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/99b671d98471ae4c91a3fea9da227bf2d4fc7c23', 'message': 'Add centos-8 support\n\nrenaming redhat-7.yml to redhat.yml to support centos-8. (setting non-voting to break telemetry dependency)\n\nChange-Id: I95c2c7c158cfcad6746188b24a0e06ffd2564244\n'}]",0,742324,99b671d98471ae4c91a3fea9da227bf2d4fc7c23,23,3,3,28752,,,0,"Add centos-8 support

renaming redhat-7.yml to redhat.yml to support centos-8. (setting non-voting to break telemetry dependency)

Change-Id: I95c2c7c158cfcad6746188b24a0e06ffd2564244
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/24/742324/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,2e0aa083c14deb4275dbcd4e3cd23a8cfeaac7c6,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - systemd-devel,1,1
openstack%2Fopenstack-ansible-os_aodh~master~Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878,openstack/openstack-ansible-os_aodh,master,Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878,Add centos-8 support,MERGED,2020-07-06 05:23:43.000000000,2020-07-27 18:37:54.000000000,2020-07-25 17:09:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-06 05:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/5736593b754c82d8abcebb1d3930b8c78930dd1b', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878\n'}, {'number': 2, 'created': '2020-07-07 04:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/00c425b9cff006871bf544c053fd0fafb99eb98a', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878\n'}, {'number': 3, 'created': '2020-07-20 00:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/185e372b9bd98e4a4481466f3e3a781eaaea3488', 'message': 'Add centos-8 support\n\nDepends-On: https://review.opendev.org/740513\nChange-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878\n'}, {'number': 4, 'created': '2020-07-22 17:16:40.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/daf883d3170cfb49443a2978fcf78823e9ce227a', 'message': 'Add centos-8 support\n\nChange-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878\n'}]",0,739401,daf883d3170cfb49443a2978fcf78823e9ce227a,35,4,4,28752,,,0,"Add centos-8 support

Change-Id: Ie16ad8e0cac74fe2d92663bc9ddb8d04c21c2878
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/01/739401/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5736593b754c82d8abcebb1d3930b8c78930dd1b,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-devel - systemd-python,2,2
openstack%2Fopenstack-ansible-os_blazar~master~I91c3b848bb0967d282742113d16326018aa7f7b9,openstack/openstack-ansible-os_blazar,master,I91c3b848bb0967d282742113d16326018aa7f7b9,Add centos-8 support,MERGED,2020-07-07 03:29:14.000000000,2020-07-27 18:37:46.000000000,2020-07-24 22:18:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-07 03:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/5ecc785fb7e96aa7a16e79499160220844f09a01', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I91c3b848bb0967d282742113d16326018aa7f7b9\n'}, {'number': 2, 'created': '2020-07-22 18:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/36c1487445111f61b7b9321c90641eaf782449ae', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support with python3-antlr3 for debian distro.\n\nChange-Id: I91c3b848bb0967d282742113d16326018aa7f7b9\n'}, {'number': 3, 'created': '2020-07-23 03:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/2fba5f9c44c455eb7b05671f8e6720bbb10bf973', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support with python3-antlr3 for debian distro.\n\nChange-Id: I91c3b848bb0967d282742113d16326018aa7f7b9\n'}, {'number': 4, 'created': '2020-07-24 16:13:59.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/f00ced3c380bbffea9b56c280793bbadf1ecfad2', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support with python3-antlr3 for debian distro.\n\nChange-Id: I91c3b848bb0967d282742113d16326018aa7f7b9\n'}]",1,739647,f00ced3c380bbffea9b56c280793bbadf1ecfad2,19,4,4,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support with python3-antlr3 for debian distro.

Change-Id: I91c3b848bb0967d282742113d16326018aa7f7b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/47/739647/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5ecc785fb7e96aa7a16e79499160220844f09a01,osa/el8,,,0,0
openstack%2Fopenstack-ansible-os_tacker~master~If16832b24c89a02d04abd947688f291c0d50c7e9,openstack/openstack-ansible-os_tacker,master,If16832b24c89a02d04abd947688f291c0d50c7e9,Add centos-8 support,MERGED,2020-07-07 03:32:34.000000000,2020-07-27 18:37:32.000000000,2020-07-24 17:01:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-07 03:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/123ffd68c921432529931d19317e4aa5be58cf0c', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: If16832b24c89a02d04abd947688f291c0d50c7e9\n'}, {'number': 2, 'created': '2020-07-07 05:19:13.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/b5ddb23860adfa4a76b05cd7701f27fe412097a7', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: If16832b24c89a02d04abd947688f291c0d50c7e9\n'}]",0,739648,b5ddb23860adfa4a76b05cd7701f27fe412097a7,13,3,2,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: If16832b24c89a02d04abd947688f291c0d50c7e9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/48/739648/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,123ffd68c921432529931d19317e4aa5be58cf0c,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - systemd-devel,1,1
openstack%2Fopenstack-ansible-os_sahara~master~Ia5ad3a561615378d8de854ece5117ca7c8aca795,openstack/openstack-ansible-os_sahara,master,Ia5ad3a561615378d8de854ece5117ca7c8aca795,Add centos-8 support,MERGED,2020-07-06 05:47:23.000000000,2020-07-27 18:37:03.000000000,2020-07-24 16:44:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-06 05:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/02bd8cdd3e2b3217d8bc23c89b71d170895451b0', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Ia5ad3a561615378d8de854ece5117ca7c8aca795\n'}, {'number': 2, 'created': '2020-07-07 04:52:06.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/e48f0bcb0334ac236204586d3c28504d0e0b8e62', 'message': 'Add centos-8 support\n\nReverting systemd-devel\n\nChange-Id: Ia5ad3a561615378d8de854ece5117ca7c8aca795\n'}]",0,739405,e48f0bcb0334ac236204586d3c28504d0e0b8e62,15,3,2,28752,,,0,"Add centos-8 support

Reverting systemd-devel

Change-Id: Ia5ad3a561615378d8de854ece5117ca7c8aca795
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/05/739405/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,02bd8cdd3e2b3217d8bc23c89b71d170895451b0,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - systemd-devel,1,1
openstack%2Fopenstack-ansible-haproxy_server~master~I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24,openstack/openstack-ansible-haproxy_server,master,I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24,Update log socket workaround to be for all Centos versions,MERGED,2020-07-21 09:28:36.000000000,2020-07-27 18:36:24.000000000,2020-07-21 14:19:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-21 09:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/da778d139ffbc07897228316a2e516e77e3251c2', 'message': 'Remove workaround for Centos-7 log socket\n\nCentos-7 is no longer supported by openstack-ansible\n\nChange-Id: I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24\n'}, {'number': 2, 'created': '2020-07-21 12:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/6d632a9e069ba95af59fec2d693eabb13bcfeeda', 'message': 'Update log socket workaround to be for all Centos versions\n\nChange-Id: I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24\n'}, {'number': 3, 'created': '2020-07-21 12:44:02.000000000', 'files': ['tasks/haproxy_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/a777bf072126941b3190cb0d192d52247b036437', 'message': 'Update log socket workaround to be for all Centos versions\n\nChange-Id: I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24\n'}]",0,742111,a777bf072126941b3190cb0d192d52247b036437,12,3,3,25023,,,0,"Update log socket workaround to be for all Centos versions

Change-Id: I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/11/742111/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_post_install.yml'],1,da778d139ffbc07897228316a2e516e77e3251c2,,,"#NOTE(jrosser) The next task fails on Centos7 without this, #an empty directory rather than a file is made and the bind mount fails - name: Ensure empty file is availble to bind mount log socket file: state: touch path: ""{{ haproxy_log_mount_point }}"" access_time: preserve modification_time: preserve ",0,9
openstack%2Fansible-collections-openstack~master~I3d46996edb4f8165a559ed70b908316e82a13353,openstack/ansible-collections-openstack,master,I3d46996edb4f8165a559ed70b908316e82a13353,Add non-voting bifrost jobs,MERGED,2020-07-27 09:37:43.000000000,2020-07-27 18:34:54.000000000,2020-07-27 18:34:54.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-27 09:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/38ec13ecb78a59e078f1f8f2e4be293d9adae1d7', 'message': 'Add non-voting bifrost jobs\n\nBifrost has fully switched to the collection, use its jobs to verify\nchanges. This adds two jobs: one with no-auth, one with keystone.\n\nDepends-On: https://review.opendev.org/#/c/743167/\nChange-Id: I3d46996edb4f8165a559ed70b908316e82a13353\n'}, {'number': 2, 'created': '2020-07-27 10:47:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f6a7cf53433df7253163d309e30ec321e3111c93', 'message': 'Add non-voting bifrost jobs\n\nBifrost has fully switched to the collection, use its jobs to verify\nchanges. This adds two jobs: one with no-auth, one with keystone.\n\nDepends-On: https://review.opendev.org/#/c/743167/\nChange-Id: I3d46996edb4f8165a559ed70b908316e82a13353\n'}]",1,743176,f6a7cf53433df7253163d309e30ec321e3111c93,10,4,2,10239,,,0,"Add non-voting bifrost jobs

Bifrost has fully switched to the collection, use its jobs to verify
changes. This adds two jobs: one with no-auth, one with keystone.

Depends-On: https://review.opendev.org/#/c/743167/
Change-Id: I3d46996edb4f8165a559ed70b908316e82a13353
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/76/743176/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,38ec13ecb78a59e078f1f8f2e4be293d9adae1d7,bifrost-ci,# Cross-checks with other projects - job: name: bifrost-collections-src parent: bifrost-integration-tinyipa-ubuntu-bionic required-projects: - openstack/ansible-collections-openstack - job: name: bifrost-keystone-collections-src parent: bifrost-integration-tinyipa-keystone-ubuntu-bionic required-projects: - openstack/ansible-collections-openstack - bifrost-collections-src: voting: false - bifrost-keystone-collections-src: voting: false ,,18,0
openstack%2Fopenstack-ansible-tests~master~Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52,openstack/openstack-ansible-tests,master,Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52,Make nodepool vars work with centos 8,MERGED,2020-07-01 18:54:42.000000000,2020-07-27 18:34:08.000000000,2020-07-05 18:21:20.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-01 18:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/603f288bc021cf8d32f65b77d2af2495f7760198', 'message': 'Make nodepool vars work with centos 8\n\nChange-Id: Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52\n'}, {'number': 2, 'created': '2020-07-01 20:53:47.000000000', 'files': ['common-tasks/test-set-nodepool-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9e43b7adc3d67cccbcb02a4aeb6371bcdb5e2fe4', 'message': 'Make nodepool vars work with centos 8\n\nChange-Id: Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52\n'}]",2,738913,9e43b7adc3d67cccbcb02a4aeb6371bcdb5e2fe4,16,4,2,28619,,,0,"Make nodepool vars work with centos 8

Change-Id: Iaf3cea16c2a7e80641a5a3a9af63f2f60f619b52
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/13/738913/1 && git format-patch -1 --stdout FETCH_HEAD,['common-tasks/test-set-nodepool-vars.yml'],1,603f288bc021cf8d32f65b77d2af2495f7760198,osa/el8," source /etc/os-release if [[ $ID == 'centos' && VERSION_ID == '7' ]]; then echo ""lxc_centos_package_baseurl=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/epel-7-x86_64/"" echo ""lxc_centos_package_key=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/pubkey.gpg"" # NOTE(mnaser): We need to make sure we pull the latest RDO mirror # which is hashed to avoid cache going stale during CI. # TODO(mnaser): Share this with Puppet # https://github.com/openstack/puppet-openstack-integration/blob/master/configure_facts.sh#L66-L71 export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci} rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi RDO_MIRROR_HOST=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} echo ""openstack_hosts_rdo_repo_url=${RDO_MIRROR_HOST}""s"," echo ""lxc_centos_package_baseurl=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/epel-7-x86_64/"" echo ""lxc_centos_package_key=http://${NODEPOOL_MIRROR_HOST}:8080/copr-lxc2/pubkey.gpg"" # NOTE(mnaser): We need to make sure we pull the latest RDO mirror # which is hashed to avoid cache going stale during CI. # TODO(mnaser): Share this with Puppet # https://github.com/openstack/puppet-openstack-integration/blob/master/configure_facts.sh#L66-L71 export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci} rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 RDO_MIRROR_HOST=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} echo ""openstack_hosts_rdo_repo_url=${RDO_MIRROR_HOST}""",17,13
openstack%2Fopenstack-ansible~master~I9bedbf2821deb1411c038373c388e60df41e01b4,openstack/openstack-ansible,master,I9bedbf2821deb1411c038373c388e60df41e01b4,Rename mysql to mariadb for registered var,MERGED,2020-06-22 11:58:37.000000000,2020-07-27 18:33:35.000000000,2020-07-03 10:37:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-22 11:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b2a979d0bbcc4e69478612ceb0098ab5f8b46e39', 'message': 'Prefer to use the name of mariadb rather mysql\n\nTo avoid confusing in code these changes rename a `register`\nto `mariadb` rather than `mysql` since mysql service is not present\nanymore for CentOS in case of upgrade from 10.3.\n\nChange-Id: I9bedbf2821deb1411c038373c388e60df41e01b4\n'}, {'number': 2, 'created': '2020-06-22 12:00:44.000000000', 'files': ['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fc249bf2d4a7d3d1c52d0675cd2d07c04137c38a', 'message': 'Rename mysql to mariadb for registered var\n\nTo avoid confusing in code these changes rename a `register`\nto `mariadb` rather than `mysql` since mysql service is not present\nanymore for CentOS in case of upgrade from 10.3.\n\nChange-Id: I9bedbf2821deb1411c038373c388e60df41e01b4\n'}]",0,737263,fc249bf2d4a7d3d1c52d0675cd2d07c04137c38a,16,4,2,28522,,,0,"Rename mysql to mariadb for registered var

To avoid confusing in code these changes rename a `register`
to `mariadb` rather than `mysql` since mysql service is not present
anymore for CentOS in case of upgrade from 10.3.

Change-Id: I9bedbf2821deb1411c038373c388e60df41e01b4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/737263/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'],1,b2a979d0bbcc4e69478612ceb0098ab5f8b46e39,," register: mariadb_ready until: - mariadb_ready.rc == 0 - (mariadb_ready.stdout).find(""Synced"") != -1"," register: mysql_ready until: - mysql_ready.rc == 0 - (mysql_ready.stdout).find(""Synced"") != -1",3,3
openstack%2Ftripleo-common~stable%2Ftrain~I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,openstack/tripleo-common,stable/train,I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,Fix stdout_callback,MERGED,2020-07-03 20:51:24.000000000,2020-07-27 18:18:54.000000000,2020-07-08 03:17:29.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 20:51:24.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e91a484711d946a3f560b28398d5b493211da4c3', 'message': 'Fix stdout_callback\n\nWe switched to tripleo_dense but the default ansible.cfg that is created\nstill has tripleo.\n\nChange-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81\n(cherry picked from commit ed3fdb77645ec3d563cd49161423661d21a3f642)\n'}]",0,739283,e91a484711d946a3f560b28398d5b493211da4c3,22,5,1,3153,,,0,"Fix stdout_callback

We switched to tripleo_dense but the default ansible.cfg that is created
still has tripleo.

Change-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81
(cherry picked from commit ed3fdb77645ec3d563cd49161423661d21a3f642)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/739283/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,e91a484711d946a3f560b28398d5b493211da4c3,callback-improvement-stable/train," config.set('defaults', 'stdout_callback', 'tripleo_dense')"," config.set('defaults', 'stdout_callback', 'tripleo')",1,1
openstack%2Fkolla-ansible~master~I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,openstack/kolla-ansible,master,I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3,Set Kafka default replication factor,MERGED,2020-07-22 16:22:39.000000000,2020-07-27 18:11:59.000000000,2020-07-27 11:57:45.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 16:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a21169731192bf375a82f6d89e19729627d4dcfd', 'message': 'Set Kafka default replication factor\n\nThis ensures that when using automatic Kafka topic creation, with more than one\nnode in the Kafka cluster, all partitions in the topic are automatically\nreplicated. When a single node goes down in a >=3 node cluster, these topics will\ncontinue to accept writes providing there are at least two insync replicas.\n\nIn a two node cluster, no failures are tolerated. In a three node cluster, only a\nsingle node failure is tolerated. In a larger cluster the configuration may need\nmanual tuning.\n\nThis configuration follows advice given here:\n\n[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq\n\nCloses-Bug: #1888522\n\nChange-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3\n'}, {'number': 2, 'created': '2020-07-23 14:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9ea0b1bee0843b89529a5f64c31ff4e691a49ef', 'message': 'Set Kafka default replication factor\n\nThis ensures that when using automatic Kafka topic creation, with more than one\nnode in the Kafka cluster, all partitions in the topic are automatically\nreplicated. When a single node goes down in a >=3 node cluster, these topics will\ncontinue to accept writes providing there are at least two insync replicas.\n\nIn a two node cluster, no failures are tolerated. In a three node cluster, only a\nsingle node failure is tolerated. In a larger cluster the configuration may need\nmanual tuning.\n\nThis configuration follows advice given here:\n\n[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq\n\nCloses-Bug: #1888522\n\nChange-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3\n'}, {'number': 3, 'created': '2020-07-27 08:24:53.000000000', 'files': ['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a273e28e208eaf7c3d607bff220309ca3b3b0bd7', 'message': 'Set Kafka default replication factor\n\nThis ensures that when using automatic Kafka topic creation, with more than one\nnode in the Kafka cluster, all partitions in the topic are automatically\nreplicated. When a single node goes down in a >=3 node cluster, these topics will\ncontinue to accept writes providing there are at least two insync replicas.\n\nIn a two node cluster, no failures are tolerated. In a three node cluster, only a\nsingle node failure is tolerated. In a larger cluster the configuration may need\nmanual tuning.\n\nThis configuration follows advice given here:\n\n[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq\n\nCloses-Bug: #1888522\n\nChange-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3\n'}]",0,742479,a273e28e208eaf7c3d607bff220309ca3b3b0bd7,20,6,3,17669,,,0,"Set Kafka default replication factor

This ensures that when using automatic Kafka topic creation, with more than one
node in the Kafka cluster, all partitions in the topic are automatically
replicated. When a single node goes down in a >=3 node cluster, these topics will
continue to accept writes providing there are at least two insync replicas.

In a two node cluster, no failures are tolerated. In a three node cluster, only a
single node failure is tolerated. In a larger cluster the configuration may need
manual tuning.

This configuration follows advice given here:

[1] https://docs.cloudera.com/documentation/kafka/1-2-x/topics/kafka_ha.html#xd_583c10bfdbd326ba-590cb1d1-149e9ca9886--6fec__section_d2t_ff2_lq

Closes-Bug: #1888522

Change-Id: I7d38c6ccb22061aa88d9ac6e2e25c3e095fdb8c3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/742479/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kafka/templates/kafka.server.properties.j2', 'releasenotes/notes/improve-kafka-default-topic-replication-0debd5eb89f0c50d.yaml']",2,a21169731192bf375a82f6d89e19729627d4dcfd,,"--- fixes: - | An issue where when Kafka default topic creation was used to create a Kafka topic, no redundant replicas were created in a multi-node cluster. `LP#1888522 <https://launchpad.net/bugs/1888522>`__. This affects Monasca which uses Kafka, and was previously masked by the legacy Kafka client used by Monasca which has since been upgraded in Ussuri. Monasca users with multi-node Kafka clusters should consultant the Kafka `documentation <https://kafka.apache.org/documentation/>`__ to increase the number of replicas. ",,12,0
openstack%2Fheat~stable%2Fstein~If2ebc3deacb770294004ae023500367af603b59e,openstack/heat,stable/stein,If2ebc3deacb770294004ae023500367af603b59e,Use never expiring alarm_url for resource attributes,MERGED,2020-06-10 06:36:13.000000000,2020-07-27 18:09:21.000000000,2020-07-27 18:07:51.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 06:36:13.000000000', 'files': ['heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/sahara/job.py', 'heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/scaling_policy.py', 'heat/tests/autoscaling/test_heat_scaling_policy.py', 'heat/engine/resources/aws/autoscaling/scaling_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e6598a50d60e73d8f19d856e74756b327496fd45', 'message': ""Use never expiring alarm_url for resource attributes\n\nDon't use timestamp when generating ec2 signed url for alarm url\nattributes of resource.\n\nThis will resolve the issue for new resources even if they are cached\nin attributes or resource_data.\n\nHowever, for existing stacks containing these resources the current\nbest option is to not cache these attributes and allow alarm resources\nto be able to get a new never expiring urls in the next forced update.\n\nChange-Id: If2ebc3deacb770294004ae023500367af603b59e\nTask: 39985\nRelated-Bug: #1872737\n(cherry picked from commit d0e44ded0a07cfe6b3413693d79c7f1f67b27701)\n""}]",0,734752,e6598a50d60e73d8f19d856e74756b327496fd45,20,4,1,8833,,,0,"Use never expiring alarm_url for resource attributes

Don't use timestamp when generating ec2 signed url for alarm url
attributes of resource.

This will resolve the issue for new resources even if they are cached
in attributes or resource_data.

However, for existing stacks containing these resources the current
best option is to not cache these attributes and allow alarm resources
to be able to get a new never expiring urls in the next forced update.

Change-Id: If2ebc3deacb770294004ae023500367af603b59e
Task: 39985
Related-Bug: #1872737
(cherry picked from commit d0e44ded0a07cfe6b3413693d79c7f1f67b27701)
",git fetch https://review.opendev.org/openstack/heat refs/changes/52/734752/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/sahara/job.py', 'heat/engine/resources/signal_responder.py', 'heat/engine/resources/aws/autoscaling/scaling_policy.py', 'heat/engine/resources/openstack/heat/scaling_policy.py', 'heat/tests/autoscaling/test_heat_scaling_policy.py']",6,e6598a50d60e73d8f19d856e74756b327496fd45,,," self.assertEqual('Timestamp', args[4].split('=')[0])",21,16
openstack%2Fironic-python-agent~master~Ic2c8e787a2857ab80d35a7bc81b8272701f99d36,openstack/ironic-python-agent,master,Ic2c8e787a2857ab80d35a7bc81b8272701f99d36,Update version of hacking,MERGED,2020-07-27 13:16:14.000000000,2020-07-27 18:04:26.000000000,2020-07-27 17:55:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 13:16:14.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bc57788756ec595530a19f9e19d247fcd9e7bf55', 'message': 'Update version of hacking\n\nNow with a safe version of flake8!\n\nChange-Id: Ic2c8e787a2857ab80d35a7bc81b8272701f99d36\n'}]",0,743224,bc57788756ec595530a19f9e19d247fcd9e7bf55,9,4,1,23851,,,0,"Update version of hacking

Now with a safe version of flake8!

Change-Id: Ic2c8e787a2857ab80d35a7bc81b8272701f99d36
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/24/743224/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,bc57788756ec595530a19f9e19d247fcd9e7bf55,hacking-310,hacking==3.1.0,hacking==3.0.1,2,2
openstack%2Fopenstack-helm~master~I44eed213cc9235266faf4a0119ed8700206cdad2,openstack/openstack-helm,master,I44eed213cc9235266faf4a0119ed8700206cdad2,feat(tls): add tls support to openstack services,MERGED,2020-07-27 14:54:47.000000000,2020-07-27 18:03:44.000000000,2020-07-27 18:00:51.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 14:54:47.000000000', 'files': ['keystone/templates/job-domain-manage.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b94340008e8c952255a24faa44946c0062965dea', 'message': 'feat(tls): add tls support to openstack services\n\nMount tls certs to keystone-domain-manage job containers.\n\nChange-Id: I44eed213cc9235266faf4a0119ed8700206cdad2\n'}]",0,743251,b94340008e8c952255a24faa44946c0062965dea,8,3,1,24780,,,0,"feat(tls): add tls support to openstack services

Mount tls certs to keystone-domain-manage job containers.

Change-Id: I44eed213cc9235266faf4a0119ed8700206cdad2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/743251/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/job-domain-manage.yaml'],1,b94340008e8c952255a24faa44946c0062965dea,,"{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin ""useCA"" .Values.manifests.certificates }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin ""useCA"" .Values.manifests.certificates }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}","{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }}{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }}",5,2
openstack%2Fironic-tempest-plugin~master~I7a791c8239ae54b74e714145a69e9af00c96bc6f,openstack/ironic-tempest-plugin,master,I7a791c8239ae54b74e714145a69e9af00c96bc6f,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:43:24.000000000,2020-07-27 18:02:10.000000000,2020-07-27 17:55:27.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:43:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6ac070b95ba25628d8b5e62d2d2545616b15c7bd', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I7a791c8239ae54b74e714145a69e9af00c96bc6f\n'}]",0,741201,6ac070b95ba25628d8b5e62d2d2545616b15c7bd,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I7a791c8239ae54b74e714145a69e9af00c96bc6f
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/01/741201/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6ac070b95ba25628d8b5e62d2d2545616b15c7bd,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fironic-python-agent~master~Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb,openstack/ironic-python-agent,master,Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb,Revert jobs to dib,MERGED,2020-06-29 13:10:32.000000000,2020-07-27 18:02:10.000000000,2020-07-27 17:55:25.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-29 13:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7975580d78fc19448b0fb0d57fb7a5cdb30abc10', 'message': 'Revert jobs to dib\n\nWe need to be sure that the issue with the EPEL repo is fixed\nbefore reverting to dib.\n\nChange-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb\n'}, {'number': 2, 'created': '2020-07-03 09:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/155d70a5923dd139d621bb0688eaaf3574518e84', 'message': 'Revert jobs to dib\n\nWe need to be sure that the issue with the EPEL repo is fixed\nbefore reverting to dib.\n\nChange-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb\n'}, {'number': 3, 'created': '2020-07-25 19:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6a33d88a4b2255e2234e35ce40c5a607520619d4', 'message': 'Revert jobs to dib\n\nWe need to be sure that the issue with the EPEL repo is fixed\nbefore reverting to dib.\n\nChange-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb\n'}, {'number': 4, 'created': '2020-07-25 19:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/430bbb082495fefd49bd1268d32a62b962c8f35f', 'message': 'Revert jobs to dib\n\nWe need to be sure that the issue with the EPEL repo is fixed\nbefore reverting to dib.\n\nChange-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb\n'}, {'number': 5, 'created': '2020-07-25 19:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a3185be44788453cec4946dea3717e6a62b86e84', 'message': 'Revert jobs to dib\n\nWe need to be sure that the issue with the EPEL repo is fixed\nbefore reverting to dib.\n\nChange-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb\n'}, {'number': 6, 'created': '2020-07-25 19:46:39.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/52cc87e788cdf87c205ba7cf6a6ffae5aba51a62', 'message': 'Revert jobs to dib\n\nWe need to be sure that the issue with the EPEL repo is fixed\nbefore reverting to dib.\n\nChange-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb\n'}]",1,738442,52cc87e788cdf87c205ba7cf6a6ffae5aba51a62,26,6,6,23851,,,0,"Revert jobs to dib

We need to be sure that the issue with the EPEL repo is fixed
before reverting to dib.

Change-Id: Ib0a80a35dcfc9d51009cc1a6816b191c6926cfdb
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/42/738442/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7975580d78fc19448b0fb0d57fb7a5cdb30abc10,temp-tinyipa, - ipa-tempest-partition-bios-ipmi-direct-src - ipa-tempest-partition-bios-ipmi-iscsi-dib-src - ipa-tempest-wholedisk-bios-ipmi-direct-dib-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-src - ipa-tempest-partition-bios-ipmi-direct-src - ipa-tempest-partition-bios-ipmi-iscsi-dib-src - ipa-tempest-wholedisk-bios-ipmi-direct-dib-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-src, - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src,8,8
openstack%2Fironic-inspector~stable%2Fussuri~Iefac618d73ccba3b58baefdc6b993758622b8811,openstack/ironic-inspector,stable/ussuri,Iefac618d73ccba3b58baefdc6b993758622b8811,Add variable to set inspection timeout in tempest tests,MERGED,2020-07-27 09:43:25.000000000,2020-07-27 18:01:42.000000000,2020-07-27 17:55:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-27 09:43:25.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1f676f9d8eda0be94331c98b9691b0ca73e61248', 'message': 'Add variable to set inspection timeout in tempest tests\n\nInspection can sometimes take longer based on multiple factors.\nThis patch adds a variable to control the node inspection timeout.\n\nChange-Id: Iefac618d73ccba3b58baefdc6b993758622b8811\n(cherry picked from commit a02fcd1e75d331d1d212b8ddb41d982d368c4b7e)\n'}]",0,743179,1f676f9d8eda0be94331c98b9691b0ca73e61248,11,4,1,23851,,,0,"Add variable to set inspection timeout in tempest tests

Inspection can sometimes take longer based on multiple factors.
This patch adds a variable to control the node inspection timeout.

Change-Id: Iefac618d73ccba3b58baefdc6b993758622b8811
(cherry picked from commit a02fcd1e75d331d1d212b8ddb41d982d368c4b7e)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/79/743179/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,1f676f9d8eda0be94331c98b9691b0ca73e61248,intro-timeout-stable/ussuri,"IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT=${IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT:-} if [[ -n ""${IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT}"" ]]; then iniset $TEMPEST_CONFIG baremetal_introspection introspection_timeout $IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT fi",,4,0
openstack%2Fironic-prometheus-exporter~master~I64d0055bf043fc080c3dc9b07b47fee3e957a7de,openstack/ironic-prometheus-exporter,master,I64d0055bf043fc080c3dc9b07b47fee3e957a7de,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:42:48.000000000,2020-07-27 18:01:42.000000000,2020-07-27 17:55:26.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:42:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/f8fc38676653f00f468c79d9828a67160a6b4d3c', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I64d0055bf043fc080c3dc9b07b47fee3e957a7de\n'}]",0,741200,f8fc38676653f00f468c79d9828a67160a6b4d3c,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I64d0055bf043fc080c3dc9b07b47fee3e957a7de
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/00/741200/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8fc38676653f00f468c79d9828a67160a6b4d3c,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fansible-hardening~master~I204db302995d779d390444f3f6a865ead750fed5,openstack/ansible-hardening,master,I204db302995d779d390444f3f6a865ead750fed5,Cleanup ansible_python_interpreter,MERGED,2020-06-17 15:14:02.000000000,2020-07-27 17:56:54.000000000,2020-06-24 11:54:08.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-17 15:14:02.000000000', 'files': ['tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/17ccd9f06c62116573f40ddca354adab2120f655', 'message': ""Cleanup ansible_python_interpreter\n\nansible_pyhton_interpreter is set to auto, it's not needed anywhere now.\n\nChange-Id: I204db302995d779d390444f3f6a865ead750fed5\n""}]",0,736260,17ccd9f06c62116573f40ddca354adab2120f655,21,4,1,13095,,,0,"Cleanup ansible_python_interpreter

ansible_pyhton_interpreter is set to auto, it's not needed anywhere now.

Change-Id: I204db302995d779d390444f3f6a865ead750fed5
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/60/736260/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,17ccd9f06c62116573f40ddca354adab2120f655,cleanup-interpreter,," - name: Set ansible_python_interpreter set_fact: ansible_python_interpreter: ""/usr/bin/{{ (ansible_distribution == 'CentOS' and ansible_distribution_version is version('8', '<')) | ternary('python2', 'python3') }}""",0,3
openstack%2Fopenstack-ansible-tests~master~I3fcd9fe5d0cb9e857ee881a3e775789b6479377d,openstack/openstack-ansible-tests,master,I3fcd9fe5d0cb9e857ee881a3e775789b6479377d,Remove python3 specific test job,MERGED,2020-06-16 11:23:02.000000000,2020-07-27 17:55:26.000000000,2020-06-18 13:35:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-16 11:23:02.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/037c6441ed850e542a816b00d04eced07ac9a59f', 'message': 'Remove python3 specific test job\n\nAll tests are now run under python3 by default so there is no need\nfor a specific python3 job.\n\nDepends-On: https://review.opendev.org/735873\nChange-Id: I3fcd9fe5d0cb9e857ee881a3e775789b6479377d\n'}]",0,735875,037c6441ed850e542a816b00d04eced07ac9a59f,10,4,1,25023,,,0,"Remove python3 specific test job

All tests are now run under python3 by default so there is no need
for a specific python3 job.

Depends-On: https://review.opendev.org/735873
Change-Id: I3fcd9fe5d0cb9e857ee881a3e775789b6479377d
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/75/735875/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,037c6441ed850e542a816b00d04eced07ac9a59f,,, - job: name: openstack-ansible-python3-ubuntu-bionic parent: openstack-ansible-functional-ubuntu-bionic vars: tox_env: func_py3,0,6
openstack%2Fopenstack-ansible-os_gnocchi~master~I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f,openstack/openstack-ansible-os_gnocchi,master,I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f,Cleanup ansible_python_interpreter,MERGED,2020-06-17 15:14:18.000000000,2020-07-27 17:54:45.000000000,2020-06-18 12:09:21.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-17 15:14:18.000000000', 'files': ['tests/test-gnocchi-functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/95d02e709ade6ebedc38e125214b4bab64473d02', 'message': ""Cleanup ansible_python_interpreter\n\nansible_pyhton_interpreter is set to auto, it's not needed anywhere now.\n\nChange-Id: I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f\n""}]",0,736265,95d02e709ade6ebedc38e125214b4bab64473d02,11,4,1,13095,,,0,"Cleanup ansible_python_interpreter

ansible_pyhton_interpreter is set to auto, it's not needed anywhere now.

Change-Id: I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/65/736265/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-gnocchi-functional.yml'],1,95d02e709ade6ebedc38e125214b4bab64473d02,cleanup-interpreter,," vars: ansible_python_interpreter: ""{{ ansible_playbook_python }}""",0,2
openstack%2Fwhitebox-tempest-plugin~master~Ibd82a11c7aaa7588f617829882728341ab5d05c1,openstack/whitebox-tempest-plugin,master,Ibd82a11c7aaa7588f617829882728341ab5d05c1,Add setuptools>=17.1 to requirements.txt,MERGED,2020-07-21 16:50:40.000000000,2020-07-27 17:52:49.000000000,2020-07-27 17:52:49.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-07-21 16:50:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a642d1a254a63525b3312d063428f6a845863983', 'message': 'Add setuptools>=17.1 to requirements.txt\n\nAfter [1] was introduced, the plugin is now installed\nthrough requirements.txt instead of test-requirements.txt.\nCloning [2] change but to requirements.txt\n\n[1] https://review.gerrithub.io/c/redhat-openstack/infrared/+/496003\n[2] https://review.opendev.org/#/c/728456/2\n\nChange-Id: Ibd82a11c7aaa7588f617829882728341ab5d05c1\n'}]",0,742247,a642d1a254a63525b3312d063428f6a845863983,11,6,1,27478,,,0,"Add setuptools>=17.1 to requirements.txt

After [1] was introduced, the plugin is now installed
through requirements.txt instead of test-requirements.txt.
Cloning [2] change but to requirements.txt

[1] https://review.gerrithub.io/c/redhat-openstack/infrared/+/496003
[2] https://review.opendev.org/#/c/728456/2

Change-Id: Ibd82a11c7aaa7588f617829882728341ab5d05c1
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/47/742247/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a642d1a254a63525b3312d063428f6a845863983,update-requirements.txt,setuptools>=17.1 # setuptools needs to be upgraded below to ensure we have # a new enough setuptools version to support using >= # for the python_version marker,,4,0
openstack%2Fopenstack-ansible~master~Ie093bdc90e756404a984afed70a80ed7d4a5c7bc,openstack/openstack-ansible,master,Ie093bdc90e756404a984afed70a80ed7d4a5c7bc,Add documentation for deploying letsencrypt certificates,MERGED,2020-07-06 11:47:09.000000000,2020-07-27 17:43:05.000000000,2020-07-27 16:09:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-06 11:47:09.000000000', 'files': ['doc/source/user/security/ssl-certificates.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d7969f5880b5cd69c7a22e549d9e7f71843cf2c', 'message': 'Add documentation for deploying letsencrypt certificates\n\nChange-Id: Ie093bdc90e756404a984afed70a80ed7d4a5c7bc\n'}]",0,739466,9d7969f5880b5cd69c7a22e549d9e7f71843cf2c,9,3,1,25023,,,0,"Add documentation for deploying letsencrypt certificates

Change-Id: Ie093bdc90e756404a984afed70a80ed7d4a5c7bc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/739466/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/security/ssl-certificates.rst'],1,9d7969f5880b5cd69c7a22e549d9e7f71843cf2c,," LetsEncrypt certificates ~~~~~~~~~~~~~~~~~~~~~~~~ The HAProxy ansible role supports using LetsEncrypt to automatically deploy trusted SSL certificates for the public endpoint. Each HAProxy server will individually request a LetsEncrypt certificate. The http-01 type challenge is used by certbot to deploy certificates so it is required that the public endpoint is accessible directly on the internet. Deployment of certificates using LetsEncrypt has been validated for openstack-ansible using Ubuntu Bionic. Other distributions should work but are not tested. To deploy certificates with LetsEncrypt, add the following to ``/etc/openstack_deploy/user_variables.yml`` to enable the letsencrypt function in the haproxy ansible role, and to create a new backend service called ``letsencrypt`` to service http-01 challenge requests. .. code-block:: shell-session haproxy_ssl: true haproxy_ssl_letsencrypt_enable: True haproxy_ssl_letsencrypt_install_method: ""distro"" haproxy_ssl_letsencrypt_setup_extra_params: ""--http-01-address {{ ansible_host }} --http-01-port 8888"" haproxy_ssl_letsencrypt_email: ""email.address@example.com"" haproxy_extra_services: # an internal only service for acme-challenge whose backend is certbot running on any haproxy instance - service: haproxy_service_name: letsencrypt haproxy_backend_nodes: ""{{ groups['haproxy_all'] }}"" backend_rise: 1 #rise quickly to detect certbot running without delay backend_fall: 2 haproxy_bind: - 127.0.0.1 #bind to the localhost as the host internal IP will be used by certbot haproxy_port: 8888 haproxy_balance_type: http Copy the whole variable ``haproxy_default_services`` from ``/opt/openstack-ansible/inventory/group_vars/haproxy/haproxy.yml`` to ``/etc/openstack_deploy/group_vars/haproxy/haproxy_all.yml`` and update the section for horizon to include the ACL redirects http-01 challenges to the HAProxy ``letsencrypt`` backend as follows: .. code-block:: shell-session - service: haproxy_service_name: horizon haproxy_backend_nodes: ""{{ groups['horizon_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: true haproxy_port: ""{{ haproxy_ssl | ternary(443,80) }}"" haproxy_backend_port: 80 haproxy_redirect_http_port: 80 haproxy_balance_type: http haproxy_balance_alg: source haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['horizon_all'] is defined and groups['horizon_all'] | length > 0 }}"" haproxy_redirect_scheme: ""https if !{ ssl_fc } !{ path_beg /.well-known/acme-challenge/ }"" #redirect all non-ssl traffic to ssl except acme-challenge haproxy_frontend_acls: #use a frontend ACL specify the backend to use for acme-challenge letsencrypt-acl: rule: ""path_beg /.well-known/acme-challenge/"" backend_name: letsencrypt",,69,0
