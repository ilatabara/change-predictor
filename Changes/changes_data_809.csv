id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnetworking-midonet~master~I74c3a9ab06a8cc8585adb7e61673c6ba86a4ed19,openstack/networking-midonet,master,I74c3a9ab06a8cc8585adb7e61673c6ba86a4ed19,l3: Clean up router-interface-fip code,MERGED,2016-11-29 06:15:30.000000000,2016-11-30 05:05:06.000000000,2016-11-30 04:25:09.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2016-11-29 06:15:30.000000000', 'files': ['midonet/neutron/db/l3_db_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7ab5045458bb25aee57d49b968279c256a449804', 'message': ""l3: Clean up router-interface-fip code\n\nAfter [1], we don't need to override the whole method.\nThis also fixes AttributeError after the recent Neutron change. [2]\n\n[1] Ied3bd9eac8bf2c3e6af9d4281aa8aa5a78e49870\n[2] I1d17706652811383d4bc968812d5cd6526febc4b\n\nCloses-Bug: #1645569\nChange-Id: I74c3a9ab06a8cc8585adb7e61673c6ba86a4ed19\n""}]",0,404028,7ab5045458bb25aee57d49b968279c256a449804,10,4,1,6854,,,0,"l3: Clean up router-interface-fip code

After [1], we don't need to override the whole method.
This also fixes AttributeError after the recent Neutron change. [2]

[1] Ied3bd9eac8bf2c3e6af9d4281aa8aa5a78e49870
[2] I1d17706652811383d4bc968812d5cd6526febc4b

Closes-Bug: #1645569
Change-Id: I74c3a9ab06a8cc8585adb7e61673c6ba86a4ed19
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/28/404028/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/l3_db_midonet.py'],1,7ab5045458bb25aee57d49b968279c256a449804,bug/1645569," def router_gw_port_has_floating_ips(self, context, router_id): router = self._get_router(context, router_id) return any([self._subnet_has_fip(context, router_id, ip['subnet_id']) for ip in router.gw_port['fixed_ips']])"," # REVISIT(yamamoto): This method is a copy of the base class method, # with modified RouterExternalGatewayInUseByFloatingIp validation. def _delete_current_gw_port(self, context, router_id, router, new_network_id): """"""Delete gw port if attached to an old network."""""" port_requires_deletion = ( router.gw_port and router.gw_port['network_id'] != new_network_id) if not port_requires_deletion: return admin_ctx = context.elevated() old_network_id = router.gw_port['network_id'] for ip in router.gw_port['fixed_ips']: if self._subnet_has_fip(admin_ctx, router_id, ip['subnet_id']): raise l3.RouterExternalGatewayInUseByFloatingIp( router_id=router_id, net_id=router.gw_port['network_id']) gw_ips = [x['ip_address'] for x in router.gw_port.fixed_ips] with context.session.begin(subtransactions=True): gw_port = router.gw_port router.gw_port = None context.session.add(router) context.session.expire(gw_port) self._check_router_gw_port_in_use(context, router_id) self._core_plugin.delete_port( admin_ctx, gw_port['id'], l3_port_check=False) registry.notify(resources.ROUTER_GATEWAY, events.AFTER_DELETE, self, router_id=router_id, network_id=old_network_id, gateway_ips=gw_ips)",4,30
openstack%2Ftempest~master~I63102ba02a20f0ba27cd322262dbcff4e5a48178,openstack/tempest,master,I63102ba02a20f0ba27cd322262dbcff4e5a48178,Move some network tests from Neutron to Tempest,MERGED,2016-09-22 09:28:32.000000000,2016-11-30 05:02:48.000000000,2016-11-29 09:27:48.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 16437}, {'_account_id': 22678}]","[{'number': 1, 'created': '2016-09-22 09:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d2360abefc5884cfe8d78535e100fba0e21de9a', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nRelated-Bug: #1552960\n'}, {'number': 2, 'created': '2016-09-28 06:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/02b0454fe6b4e344dc50334f08380f48600a0f3d', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nRelated-Bug: #1552960\n'}, {'number': 3, 'created': '2016-10-04 07:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e79b4f7a9541534fa9ead63c808b9b086810df7', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nDepends-On: Ic4a6292390a88e732f7460cf558c479baa8771b1\nRelated-Bug: #1552960\n'}, {'number': 4, 'created': '2016-10-04 14:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e6c67b3c03c5cc80bbf14eb52fa479ba4f1932ce', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nDepends-On: Ic4a6292390a88e732f7460cf558c479baa8771b1\nRelated-Bug: #1552960\n'}, {'number': 5, 'created': '2016-10-21 07:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a77d69a110fd13ec80f6c935fe68cd179b16430', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nDepends-On: Ic4a6292390a88e732f7460cf558c479baa8771b1\nRelated-Bug: #1552960\n'}, {'number': 6, 'created': '2016-10-21 13:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7109ace492af4a245c383cf3b1feb69d84758fd', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nRelated-Bug: #1552960\n'}, {'number': 7, 'created': '2016-10-21 16:37:35.000000000', 'files': ['tempest/api/network/test_networks.py', 'tempest/api/network/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3e9b4a6ff64cb8e1981137581b70b5d6c0f17af', 'message': 'Move some network tests from Neutron to Tempest\n\nTests for core network resources should move from Neutron to Tempest.\nFor the cases with identical names (already exist in Tempest), apply\nthe implementation from Neutron, which is slightly better implemented.\n\nChange-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178\nDepends-On: Ic4a6292390a88e732f7460cf558c479baa8771b1\nRelated-Bug: #1552960\n'}]",4,374645,d3e9b4a6ff64cb8e1981137581b70b5d6c0f17af,61,9,7,22678,,,0,"Move some network tests from Neutron to Tempest

Tests for core network resources should move from Neutron to Tempest.
For the cases with identical names (already exist in Tempest), apply
the implementation from Neutron, which is slightly better implemented.

Change-Id: I63102ba02a20f0ba27cd322262dbcff4e5a48178
Depends-On: Ic4a6292390a88e732f7460cf558c479baa8771b1
Related-Bug: #1552960
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/374645/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/test_networks.py', 'tempest/api/network/base.py']",2,1d2360abefc5884cfe8d78535e100fba0e21de9a,bug/1552960," def create_network(cls, network_name=None, **kwargs): body = cls.networks_client.create_network(name=network_name, **kwargs)"," def create_network(cls, network_name=None): body = cls.networks_client.create_network(name=network_name)",23,2
openstack%2Fmagnum-ui~master~Ie8a4cdf31d0b3cb7c4872a293a74f1668607d764,openstack/magnum-ui,master,Ie8a4cdf31d0b3cb7c4872a293a74f1668607d764,Imported Translations from Zanata,MERGED,2016-11-29 08:30:53.000000000,2016-11-30 04:53:08.000000000,2016-11-30 04:53:08.000000000,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 16352}]","[{'number': 1, 'created': '2016-11-29 08:30:53.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/9273ecbc7c0704f4cf1c885dfc5e1f5e8cd587a3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ie8a4cdf31d0b3cb7c4872a293a74f1668607d764\n'}]",0,404077,9273ecbc7c0704f4cf1c885dfc5e1f5e8cd587a3,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ie8a4cdf31d0b3cb7c4872a293a74f1668607d764
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/77/404077/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",2,9273ecbc7c0704f4cf1c885dfc5e1f5e8cd587a3,zanata/translations,"""POT-Creation-Date: 2016-11-28 05:08+0000\n""""PO-Revision-Date: 2016-11-28 09:16+0000\n""msgid ""2.1.0-87"" msgstr ""2.1.0-87""","""POT-Creation-Date: 2016-11-24 01:02+0000\n""""PO-Revision-Date: 2016-11-24 04:04+0000\n""msgid ""2.1.0-86"" msgstr ""2.1.0-86""",9,6
openstack%2Ftripleo-heat-templates~master~I06209ab782240f05844793e56270135d48792f3d,openstack/tripleo-heat-templates,master,I06209ab782240f05844793e56270135d48792f3d,Fix grammar,MERGED,2016-11-29 22:29:01.000000000,2016-11-30 04:48:58.000000000,2016-11-30 04:33:39.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 12715}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 22:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7165c953a04cfc58314e088db257d96d30ebb642', 'message': ""Fix grammar\n\nI'm not Texan, I'm just a french guy who sometimes learn English from his\nco-workers, and some of them are from Texas :-)\n\nChange-Id: I06209ab782240f05844793e56270135d48792f3d\n""}, {'number': 2, 'created': '2016-11-29 22:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/960f258ad7e23ea8b5b9fa418c0c24f69383025f', 'message': 'Fix grammar\n\nFix English grammar error I did in a previous commit.\n\nChange-Id: I06209ab782240f05844793e56270135d48792f3d\n'}, {'number': 3, 'created': '2016-11-30 02:49:25.000000000', 'files': ['ci/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c7cbcffef34535c6830aacbdabadc69bb7802df', 'message': 'Fix grammar\n\nFix English grammar error I did in a previous commit.\n\nChange-Id: I06209ab782240f05844793e56270135d48792f3d\n'}]",1,404442,0c7cbcffef34535c6830aacbdabadc69bb7802df,14,5,3,3153,,,0,"Fix grammar

Fix English grammar error I did in a previous commit.

Change-Id: I06209ab782240f05844793e56270135d48792f3d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/404442/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/README.rst'],1,7165c953a04cfc58314e088db257d96d30ebb642,grammar,They should not be used in production and we don't garantee they work outside,They ain't to be used in production and we don't garantee they work outside,1,1
openstack%2Fstevedore~master~I81aa361c3a50bc76dd360002712a3a7b786621c4,openstack/stevedore,master,I81aa361c3a50bc76dd360002712a3a7b786621c4,Add Apache 2.0 license to source file,MERGED,2016-11-28 06:34:40.000000000,2016-11-30 04:36:37.000000000,2016-11-30 04:36:37.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-11-28 06:34:40.000000000', 'files': ['stevedore/dispatch.py', 'stevedore/tests/utils.py', 'stevedore/tests/manager.py', 'stevedore/tests/test_example_simple.py', 'stevedore/tests/test_named.py', 'stevedore/hook.py', 'stevedore/enabled.py', 'stevedore/tests/test_enabled.py', 'stevedore/tests/test_driver.py', 'stevedore/tests/test_test_manager.py', 'stevedore/tests/test_example_fields.py', 'stevedore/exception.py', 'stevedore/tests/test_hook.py', 'stevedore/tests/test_extension.py', 'stevedore/driver.py', 'stevedore/tests/test_callback.py', 'stevedore/extension.py', 'stevedore/tests/test_dispatch.py', 'stevedore/named.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/b43ac31d0e23111a5671fded793a1bd1ff251a2c', 'message': 'Add Apache 2.0 license to source file\n\nAs per OpenStack licensing guide lines [1]:\n[H102 H103] Newly contributed Source Code should be licensed under\nthe Apache 2.0 license.\n\n[1] http://docs.openstack.org/developer/hacking/#openstack-licensing\n\nChange-Id: I81aa361c3a50bc76dd360002712a3a7b786621c4\n'}]",0,403517,b43ac31d0e23111a5671fded793a1bd1ff251a2c,7,3,1,15905,,,0,"Add Apache 2.0 license to source file

As per OpenStack licensing guide lines [1]:
[H102 H103] Newly contributed Source Code should be licensed under
the Apache 2.0 license.

[1] http://docs.openstack.org/developer/hacking/#openstack-licensing

Change-Id: I81aa361c3a50bc76dd360002712a3a7b786621c4
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/17/403517/1 && git format-patch -1 --stdout FETCH_HEAD,"['stevedore/dispatch.py', 'stevedore/tests/utils.py', 'stevedore/tests/manager.py', 'stevedore/tests/test_example_simple.py', 'stevedore/tests/test_named.py', 'stevedore/hook.py', 'stevedore/enabled.py', 'stevedore/tests/test_enabled.py', 'stevedore/tests/test_driver.py', 'stevedore/tests/test_test_manager.py', 'stevedore/tests/test_example_fields.py', 'stevedore/exception.py', 'stevedore/tests/test_hook.py', 'stevedore/tests/test_extension.py', 'stevedore/driver.py', 'stevedore/tests/test_callback.py', 'stevedore/extension.py', 'stevedore/tests/test_dispatch.py', 'stevedore/named.py']",19,b43ac31d0e23111a5671fded793a1bd1ff251a2c,add_apache_license,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",,229,0
openstack%2Fneutron~master~Ie0b0c549fc96645bed08bfc087df81b0b0550a29,openstack/neutron,master,Ie0b0c549fc96645bed08bfc087df81b0b0550a29,Add unit test in test_allowedaddresspairs_db,MERGED,2016-10-27 09:37:45.000000000,2016-11-30 04:32:53.000000000,2016-11-22 04:02:24.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 14611}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22524}, {'_account_id': 22574}, {'_account_id': 23360}]","[{'number': 1, 'created': '2016-10-27 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d190222b03a84fcd88c384ff0c3d557bb337d7b', 'message': 'Add unit test in test_allowedaddresspairs_db\n\nChange-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29\n'}, {'number': 2, 'created': '2016-10-28 10:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/767ea4409ece6b4c53c8b7298c91d9a7b06d0b04', 'message': 'Add unit test in test_allowedaddresspairs_db\n\nChange-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29\n'}, {'number': 3, 'created': '2016-10-31 02:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f15752653ddf72f0aabb8f07ca2dc2d79b2eed30', 'message': 'Add unit test in test_allowedaddresspairs_db\n\nThis patch add a unit test about missing mac field\nChange-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29\n'}, {'number': 4, 'created': '2016-11-03 10:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63a300cbd0d41b2c79c25a8076e143cdfa17d9e4', 'message': 'Add unit test in test_allowedaddresspairs_db\n\nThis patch add a unit test about missing mac field\nChange-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29\n'}, {'number': 5, 'created': '2016-11-10 07:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ce58a4a087c0a0e560175a4c26980efd50bacd1', 'message': 'Add unit test in test_allowedaddresspairs_db\n\nThis patch add a unit test about missing mac field\nChange-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29\n'}, {'number': 6, 'created': '2016-11-21 12:02:25.000000000', 'files': ['neutron/tests/unit/db/test_allowedaddresspairs_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/138179a4fa291ef83a3eb8c39f750ea6fc4affd6', 'message': 'Add unit test in test_allowedaddresspairs_db\n\nThis patch add a unit test about missing mac field\nChange-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29\n'}]",2,391076,138179a4fa291ef83a3eb8c39f750ea6fc4affd6,50,14,6,22574,,,0,"Add unit test in test_allowedaddresspairs_db

This patch add a unit test about missing mac field
Change-Id: Ie0b0c549fc96645bed08bfc087df81b0b0550a29
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/391076/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/db/test_allowedaddresspairs_db.py'],1,2d190222b03a84fcd88c384ff0c3d557bb337d7b,allowedaddress," def test_create_port_bad_mac_and_bad_ip(self): address_pairs = [{'mac_address': 'invalid_mac', 'ip_address': '10.0.0.1222'}] self._create_port_with_address_pairs(address_pairs, 400) def test_create_missing_mac_field(self): address_pairs = [{'ip_address': '10.0.0.1'}] self._create_port_with_address_pairs(address_pairs, 201) ",,9,0
openstack%2Fnova~master~Ic57eccb2d48fe36618830468e1ffe6c866e0309c,openstack/nova,master,Ic57eccb2d48fe36618830468e1ffe6c866e0309c,conf: Fix indentation of network,MERGED,2016-11-09 15:57:47.000000000,2016-11-30 04:29:24.000000000,2016-11-30 04:29:24.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 14511}, {'_account_id': 16376}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-11-09 15:57:47.000000000', 'files': ['nova/conf/network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/059872e2818ba28cacaeaeba53d3bd9541685f9a', 'message': 'conf: Fix indentation of network\n\nThis lets us keep actual content changes separately.\n\nChange-Id: Ic57eccb2d48fe36618830468e1ffe6c866e0309c\n'}]",4,395682,059872e2818ba28cacaeaeba53d3bd9541685f9a,24,8,1,15334,,,0,"conf: Fix indentation of network

This lets us keep actual content changes separately.

Change-Id: Ic57eccb2d48fe36618830468e1ffe6c866e0309c
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/395682/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/network.py'],1,059872e2818ba28cacaeaeba53d3bd9541685f9a,bp/centralize-config-options-ocata," help="""""" default=""8.8.4.4"", help="""""" default=False, help="""""" help="""""" default=100, min=1, max=4094, help="""""" help="""""" default=1, min=1, help="""""" default=""$my_ip"", help="""""" default=1000, help="""""" default=256, min=1, help="""""" default=""fd00::/48"", help="""""" help="""""" help="""""" default=0, min=0, help="""""" default=600, min=0, help="""""" default=5, min=1, help="""""" default=False, help="""""" default=True, help="""""" default=False, help="""""" default=-1, min=-1, help="""""" default=""novalocal"", help="""""" default=""nova.network.l3.LinuxNetL3"", help="""""" default=False, deprecated_for_removal=True, deprecated_since='2014.2', help="""""" default=False, help=""Whether to use Neutron or Nova Network as the back end "" ""for networking. Defaults to False (indicating Nova "" ""network).Set to True to use neutron."") default=['/etc/nova/nova-dhcpbridge.conf'], help="""""" default=paths.state_path_def('networks'), help="""""" default='eth0', help="""""" default=paths.bindir_def('nova-dhcpbridge'), help="""""" default='$my_ip', help="""""" default=86400, min=1, help="""""" default=False, help="""""" default=[], help="""""" default=[], help="""""" default="""", help="""""" default=""nova.network.linux_net.LinuxBridgeInterfaceDriver"", help="""""" default=""br-int"", help="""""" default=False, help="""""" default=3, help="""""" default=False, help="""""" default=[""all""], help="""""" default=""$my_ip"", help="""""" default=8775, help="""""" default="""", help="""""" default="""", help="""""" default=""DROP"", help="""""" default=120, min=0, help="""""" default=False, help="""""" default=3, min=1, help="""""" default=1.0, help="""""" default='ldap://ldap.example.com:389', help='URL for LDAP server which will store DNS entries'), default='uid=admin,ou=people,dc=example,dc=org', help='User for LDAP DNS'), default='password', help='Password for LDAP DNS', secret=True), default='hostmaster@example.org', help='Hostmaster for LDAP DNS driver Statement of Authority'), default=['dns.example.org'], help='DNS Servers for LDAP DNS driver'), default='ou=hosts,dc=example,dc=org', help='Base DN for DNS entries in LDAP'), default=1800, help='Refresh interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default=3600, help='Retry interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default=86400, help='Expiry interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default=7200, help='Minimum interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default='nova.network.linux_net', help='Driver to use for network creation'), default='network', deprecated_for_removal=True, deprecated_since='15.0.0', deprecated_reason="""""" help='The topic network nodes listen on'), default=False, help='Default value for multi_host in networks. Also, if set, ' 'some rpc network calls will be sent directly to host.'),"," help="""""" default=""8.8.4.4"", help="""""" default=False, help="""""" help="""""" default=100, min=1, max=4094, help="""""" help="""""" default=1, min=1, help="""""" default=""$my_ip"", help="""""" default=1000, help="""""" default=256, min=1, help="""""" default=""fd00::/48"", help="""""" help="""""" help="""""" default=0, min=0, help="""""" default=600, min=0, help="""""" default=5, min=1, help="""""" default=False, help="""""" default=True, help="""""" default=False, help="""""" default=-1, min=-1, help="""""" default=""novalocal"", help="""""" default=""nova.network.l3.LinuxNetL3"", help="""""" default=False, deprecated_for_removal=True, deprecated_since='2014.2', help="""""" default=False, help=""Whether to use Neutron or Nova Network as the back end "" ""for networking. Defaults to False (indicating Nova "" ""network).Set to True to use neutron."") default=['/etc/nova/nova-dhcpbridge.conf'], help="""""" default=paths.state_path_def('networks'), help="""""" default='eth0', help="""""" default=paths.bindir_def('nova-dhcpbridge'), help="""""" default='$my_ip', help="""""" default=86400, min=1, help="""""" default=False, help="""""" default=[], help="""""" default=[], help="""""" default="""", help="""""" default=""nova.network.linux_net.LinuxBridgeInterfaceDriver"", help="""""" default=""br-int"", help="""""" default=False, help="""""" default=3, help="""""" default=False, help="""""" default=[""all""], help="""""" default=""$my_ip"", help="""""" default=8775, help="""""" default="""", help="""""" default="""", help="""""" default=""DROP"", help="""""" default=120, min=0, help="""""" default=False, help="""""" default=3, min=1, help="""""" default=1.0, help="""""" default='ldap://ldap.example.com:389', help='URL for LDAP server which will store DNS entries'), default='uid=admin,ou=people,dc=example,dc=org', help='User for LDAP DNS'), default='password', help='Password for LDAP DNS', secret=True), default='hostmaster@example.org', help='Hostmaster for LDAP DNS driver Statement of Authority'), default=['dns.example.org'], help='DNS Servers for LDAP DNS driver'), default='ou=hosts,dc=example,dc=org', help='Base DN for DNS entries in LDAP'), default=1800, help='Refresh interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default=3600, help='Retry interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default=86400, help='Expiry interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default=7200, help='Minimum interval (in seconds) for LDAP DNS driver ' 'Statement of Authority'), default='nova.network.linux_net', help='Driver to use for network creation'), default='network', deprecated_for_removal=True, deprecated_since='15.0.0', deprecated_reason="""""" help='The topic network nodes listen on'), default=False, help='Default value for multi_host in networks. Also, if set, ' 'some rpc network calls will be sent directly to host.'),",143,143
openstack%2Foslo.privsep~stable%2Fnewton~Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2,openstack/oslo.privsep,stable/newton,Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2,[Backport] Ignore timeout error when receiving message,MERGED,2016-11-29 15:23:45.000000000,2016-11-30 04:28:05.000000000,2016-11-30 04:28:04.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-11-29 15:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/482ffcb7f7377682e557dde71d64ace9e6fa42f6', 'message': ""Ignore timeout error when receiving message from sockect\n\nWhen the clientchannel's receiver thread had crashed with\ntimeout error. the upside main procedure will contine with-\nout any notifications,it may get stocked when no thread can\nhandle the messages later on.\n\nthis change just fix this situation by ignore the timeout\nexception, maybe it's a arbitary decision and have a widely\neffect.\n\nI will abandon this change if better solution can provide\n\nChange-Id: Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2\nCloses-Bug: #1623286\n(cherry picked from commit 3b536190176aa339e2751cf5b47b76a7ac6c5d67)\n""}, {'number': 2, 'created': '2016-11-29 15:37:18.000000000', 'files': ['oslo_privsep/comm.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/d186635525310548b10ad48de6327b8eb1a3e7b3', 'message': ""[Backport] Ignore timeout error when receiving message\n\nBug has been fixed in oslo.privsep 1.14.0, this patch intends\nto backport this patch in stable/newton.\n\nWhen the clientchannel's receiver thread had crashed with\ntimeout error. the upside main procedure will contine with-\nout any notifications, it may get stucked when no thread can\nhandle the messages later on.\n\nThis change just fix this situation by ignore the timeout\nexception.\n\nChange-Id: Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2\nCloses-Bug: #1645172\n(cherry picked from commit 3b536190176aa339e2751cf5b47b76a7ac6c5d67)\n""}]",0,404272,d186635525310548b10ad48de6327b8eb1a3e7b3,8,3,2,23083,,,0,"[Backport] Ignore timeout error when receiving message

Bug has been fixed in oslo.privsep 1.14.0, this patch intends
to backport this patch in stable/newton.

When the clientchannel's receiver thread had crashed with
timeout error. the upside main procedure will contine with-
out any notifications, it may get stucked when no thread can
handle the messages later on.

This change just fix this situation by ignore the timeout
exception.

Change-Id: Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2
Closes-Bug: #1645172
(cherry picked from commit 3b536190176aa339e2751cf5b47b76a7ac6c5d67)
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/72/404272/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/comm.py'],1,482ffcb7f7377682e557dde71d64ace9e6fa42f6,bug/1623286, try: buf = self.readsock.recv(4096) if not buf: raise self.unpacker.feed(buf) except socket.timeout: pass, buf = self.readsock.recv(4096) if not buf: raise self.unpacker.feed(buf),7,4
openstack%2Fdiskimage-builder~master~Iebe82e616eed2d9b9a99a9714230d480adbd055b,openstack/diskimage-builder,master,Iebe82e616eed2d9b9a99a9714230d480adbd055b,Fix a typo,MERGED,2016-11-18 02:31:01.000000000,2016-11-30 04:20:56.000000000,2016-11-30 04:20:56.000000000,"[{'_account_id': 3}, {'_account_id': 7118}]","[{'number': 1, 'created': '2016-11-18 02:31:01.000000000', 'files': ['elements/element-manifest/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f9244a8fcefd0ebb79b3ed171d511e6f3eac4a6c', 'message': 'Fix a typo\n\nTrivialFix\n\nChange-Id: Iebe82e616eed2d9b9a99a9714230d480adbd055b\n'}]",0,399341,f9244a8fcefd0ebb79b3ed171d511e6f3eac4a6c,7,2,1,21387,,,0,"Fix a typo

TrivialFix

Change-Id: Iebe82e616eed2d9b9a99a9714230d480adbd055b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/41/399341/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/element-manifest/README.rst'],1,f9244a8fcefd0ebb79b3ed171d511e6f3eac4a6c,fixtypo,build the image. The file path can be overridden by setting,build the image. The file path can be overriden by setting,1,1
openstack%2Fnova~master~Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f,openstack/nova,master,Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f,Fix config option types,MERGED,2015-03-27 20:41:41.000000000,2016-11-30 04:13:09.000000000,2016-11-30 04:13:09.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7400}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 8119}, {'_account_id': 8300}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 12952}, {'_account_id': 14084}, {'_account_id': 14358}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17106}, {'_account_id': 17255}, {'_account_id': 18339}, {'_account_id': 19590}, {'_account_id': 23304}, {'_account_id': 23312}]","[{'number': 1, 'created': '2015-03-27 20:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/591af74461db7dc6e5e1c8677e346d35045c5552', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 2, 'created': '2015-03-27 20:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5ceef2f4726268093204a097492ede56776885b', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 3, 'created': '2015-03-29 05:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/795a3348e8fccece717ab28c7241c9904cec14f7', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 4, 'created': '2015-03-29 20:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b973df137a2e575a23da9860a7929eefec145f89', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 5, 'created': '2015-03-30 07:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/432aa6064316e09a144266c94c9f3478f6bb2fdd', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 6, 'created': '2015-03-30 07:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/122f63ed01454b24e93e9e0f117168cab640c9ba', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nThe tests for tenant_networks also had to be repaired. There were\nfalse positives due to the improper compare of a boolean and string.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 7, 'created': '2015-03-30 17:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e847665e6096d77d4e3a09e27884afe9cd09753c', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 8, 'created': '2015-03-30 17:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ee2f3680173c8df88c25d7466eca3efa1e040c9', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 9, 'created': '2015-05-14 05:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3dba73d01c096954cc74d705c99416c5e605513', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be BoolOpt or IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 10, 'created': '2015-10-10 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88afa694d28c4584a5727a1b46e3b122bd35da89', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 11, 'created': '2015-11-28 02:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aaa007eac8acd31b03fd0dd29d38bc82ec491c8', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 12, 'created': '2015-11-28 05:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa39d9d57b7a5bfa77bcfa261aacfb18cb610bc', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 13, 'created': '2015-11-28 06:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52ed71ea54ee309479a60458ed73ba60c6ce4f83', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 14, 'created': '2015-12-08 23:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/189c2de700caf5c62a049218eed69fa4b11e090b', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 15, 'created': '2015-12-08 23:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d1cb75ca755dbae6760c080462450a9d90bec18', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 16, 'created': '2015-12-09 05:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f37df7a4966ca8900530441c5e45680e8a997272', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 17, 'created': '2015-12-10 00:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67368b07f2669a78be06299e7f0a924186cadf72', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 18, 'created': '2016-01-11 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1caa4a463da4257d3a951ee59e44080577db0836', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 19, 'created': '2016-01-14 06:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fddc00fc961f511e8d03e4fefdff57df566d5ac8', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 20, 'created': '2016-01-17 03:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b56f547d35c262e8f8aab6fe6cc32fbfb5076d1e', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 21, 'created': '2016-06-10 00:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/846a34b59731d8e41bcf803baf5252c8e66435e4', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 22, 'created': '2016-08-05 03:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a28caefe7a325fa8dd6135452c7c57306d33d572', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 23, 'created': '2016-08-05 03:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d68505985e2118523641537e97e21ba5648d378', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 24, 'created': '2016-08-05 03:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9239f4ba6135a69470199348ff9d185255353086', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 25, 'created': '2016-08-05 03:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9767adb2824b1ce9231dbae4ff10ba8c9486bb1b', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 26, 'created': '2016-09-08 16:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f74f39a8f4ca4a5c7dfa05dd0e969da8e287d68e', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 27, 'created': '2016-09-23 22:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cb799487c3b8b08f570ce8505efc0711e5f35f6', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 28, 'created': '2016-10-17 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d1ae103ff8a55e07ce5f49ae3b24580c038fc09', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nblueprint centralize-config-options-ocata\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}, {'number': 29, 'created': '2016-11-09 15:57:47.000000000', 'files': ['nova/conf/network.py', 'nova/network/ldapdns.py', 'nova/scheduler/filters/trusted_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3ac2a3f554927ae25d1c7fc042153a24c93a6a9', 'message': 'Fix config option types\n\nSome of the config option types were StrOpt when they should more\nappropriately be IntOpt or PortOpt.\n\nblueprint centralize-config-options-ocata\n\nChange-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f\n'}]",31,168481,c3ac2a3f554927ae25d1c7fc042153a24c93a6a9,332,45,29,8119,,,0,"Fix config option types

Some of the config option types were StrOpt when they should more
appropriately be IntOpt or PortOpt.

blueprint centralize-config-options-ocata

Change-Id: Idc7e4e6bd93aa30ea3b4442c66a5d8c3db1fe04f
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/168481/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/driver.py', 'nova/network/ldapdns.py', 'nova/api/openstack/compute/contrib/os_tenant_networks.py', 'nova/api/openstack/compute/plugins/v3/tenant_networks.py', 'nova/scheduler/filters/trusted_filter.py']",5,591af74461db7dc6e5e1c8677e346d35045c5552,bp/centralize-config-options-ocata," cfg.IntOpt('attestation_port', default=8443, action_url = ""https://%s:%d%s/%s"" % (self.host, self.port,"," cfg.StrOpt('attestation_port', default='8443', action_url = ""https://%s:%s%s/%s"" % (self.host, self.port,",12,12
openstack%2Fdragonflow~master~I48339059f399aeb5e16e6038f0a5d00deffe3fcd,openstack/dragonflow,master,I48339059f399aeb5e16e6038f0a5d00deffe3fcd,Fix broken fullstack due to tempest,MERGED,2016-11-29 06:30:48.000000000,2016-11-30 04:07:26.000000000,2016-11-30 04:07:26.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 18903}, {'_account_id': 20229}, {'_account_id': 23766}]","[{'number': 1, 'created': '2016-11-29 06:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/743997dff0a70143ede0a9ca0aedf40b88ea155e', 'message': '[WIP] Test Fullstack\n\nChange-Id: I48339059f399aeb5e16e6038f0a5d00deffe3fcd\n'}, {'number': 2, 'created': '2016-11-29 08:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/caed037217a4a38b426bb716bf93339c71382979', 'message': '[WIP] Test Fullstack\n\nChange-Id: I48339059f399aeb5e16e6038f0a5d00deffe3fcd\n'}, {'number': 3, 'created': '2016-11-29 09:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/16ef1cc5dd585cfb3f5a37765227991e1d8c0e05', 'message': '[WIP] Test Fullstack\n\nChange-Id: I48339059f399aeb5e16e6038f0a5d00deffe3fcd\n'}, {'number': 4, 'created': '2016-11-30 01:32:01.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c071bf08f36db0be75196009a53c79cc8fbd3a39', 'message': 'Fix broken fullstack due to tempest\n\nCloses-Bug: #1645623\nChange-Id: I48339059f399aeb5e16e6038f0a5d00deffe3fcd\n'}]",0,404031,c071bf08f36db0be75196009a53c79cc8fbd3a39,18,6,4,7805,,,0,"Fix broken fullstack due to tempest

Closes-Bug: #1645623
Change-Id: I48339059f399aeb5e16e6038f0a5d00deffe3fcd
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/31/404031/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,743997dff0a70143ede0a9ca0aedf40b88ea155e,bug/1645623,,"export DEVSTACK_LOCAL_CONFIG+=$'\n'""NEUTRON_CREATE_INITIAL_NETWORKS=False""",0,1
openstack%2Fcinder~master~I5c1f23dcb32e89fcbd25f74dcde8e99ad337737b,openstack/cinder,master,I5c1f23dcb32e89fcbd25f74dcde8e99ad337737b,Remove logging import unused,MERGED,2016-10-20 08:37:00.000000000,2016-11-30 03:53:48.000000000,2016-10-21 12:38:22.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16941}, {'_account_id': 18444}, {'_account_id': 21531}, {'_account_id': 22248}, {'_account_id': 22510}]","[{'number': 1, 'created': '2016-10-20 08:37:00.000000000', 'files': ['cinder/tests/tempest/api/volume/test_consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4aaf78b87a6561528a16ab4beb22d2e041f0e9fd', 'message': 'Remove logging import unused\n\nremoves logging import unused\n\nChange-Id: I5c1f23dcb32e89fcbd25f74dcde8e99ad337737b\n'}]",0,389063,4aaf78b87a6561528a16ab4beb22d2e041f0e9fd,63,24,1,23825,,,0,"Remove logging import unused

removes logging import unused

Change-Id: I5c1f23dcb32e89fcbd25f74dcde8e99ad337737b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/389063/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_consistencygroups.py'],1,4aaf78b87a6561528a16ab4beb22d2e041f0e9fd,cinder_chenyingnan,,from oslo_log import log as loggingLOG = logging.getLogger(__name__),0,2
openstack%2Fnova~master~I178fb3b1c93db2f2435ef03349a67d83d705b87a,openstack/nova,master,I178fb3b1c93db2f2435ef03349a67d83d705b87a,Remove tests from tests-py3.txt,MERGED,2016-11-18 12:26:54.000000000,2016-11-30 03:46:32.000000000,2016-11-30 03:46:32.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9796}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-11-18 12:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a71ffba9e3bd50d374066816919a64907fb5d84', 'message': 'Port test_floating_ip_dns  to Python 3\n\nThese two testcases can run on Python 3, just enable them:\nnova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSDomainPolicyEnforcementV21\nnova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSEntryPolicyEnforcementV21\n\nPartially-Implements: blueprint goal-python35\n\nChange-Id: I178fb3b1c93db2f2435ef03349a67d83d705b87a\n'}, {'number': 2, 'created': '2016-11-25 02:43:03.000000000', 'files': ['tests-py3.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/a3382747209fe1245511ad7723fa4faeb834123e', 'message': 'Remove tests from tests-py3.txt\n\nThese tests can run on Python 3, just enable them:\n\n nova.tests.unit.api.openstack.compute.test_extended_server_attributes.ExtendedServerAttributesTestV21\n nova.tests.unit.api.openstack.compute.test_extended_server_attributes.ExtendedServerAttributesTestV23\n nova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSDomainPolicyEnforcementV21\n nova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSEntryPolicyEnforcementV21\n nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21\n nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21WithV2CompatibleWrapper\n\nPartially-Implements: blueprint goal-python35\n\nChange-Id: I178fb3b1c93db2f2435ef03349a67d83d705b87a\n'}]",0,399571,a3382747209fe1245511ad7723fa4faeb834123e,32,14,2,9796,,,0,"Remove tests from tests-py3.txt

These tests can run on Python 3, just enable them:

 nova.tests.unit.api.openstack.compute.test_extended_server_attributes.ExtendedServerAttributesTestV21
 nova.tests.unit.api.openstack.compute.test_extended_server_attributes.ExtendedServerAttributesTestV23
 nova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSDomainPolicyEnforcementV21
 nova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSEntryPolicyEnforcementV21
 nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21
 nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21WithV2CompatibleWrapper

Partially-Implements: blueprint goal-python35

Change-Id: I178fb3b1c93db2f2435ef03349a67d83d705b87a
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/399571/2 && git format-patch -1 --stdout FETCH_HEAD,['tests-py3.txt'],1,9a71ffba9e3bd50d374066816919a64907fb5d84,bp/goal-python35,,nova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSDomainPolicyEnforcementV21 nova.tests.unit.api.openstack.compute.test_floating_ip_dns.FloatingIPDNSEntryPolicyEnforcementV21,0,2
openstack%2Frequirements~stable%2Fmitaka~I71c9b6da1c2204df0b04b954b08ce73b52fc8452,openstack/requirements,stable/mitaka,I71c9b6da1c2204df0b04b954b08ce73b52fc8452,Restrict the versions of xstatic-angular-bootstrap,ABANDONED,2016-11-11 00:26:36.000000000,2016-11-30 03:39:34.000000000,,"[{'_account_id': 3}, {'_account_id': 9155}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-11-11 00:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/020801af919a687328199c32081b210ab71f53af', 'message': 'Restrict the versions of xstatic-angular-bootstrap\n\nA new release of xstatic-angular-bootstrap is imminent\nwhich is not backwards-compatible. Horizon breaks if\nthe new version is used. Since Mitaka Horizon does not\nsubscribe to upper-constraints we need to restrict\nthe valid versions here.\n\nChange-Id: I71c9b6da1c2204df0b04b954b08ce73b52fc8452\n'}, {'number': 2, 'created': '2016-11-11 01:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/08dde42689e3470f2329382353592de692affb02', 'message': 'Restrict the versions of xstatic-angular-bootstrap\n\nA new release of xstatic-angular-bootstrap is imminent\nwhich is not backwards-compatible. Horizon breaks if\nthe new version is used. Since Mitaka Horizon does not\nsubscribe to upper-constraints we need to restrict\nthe valid versions here.\n\nCompatibility was broken in the 0.14 release.\n\nChange-Id: I71c9b6da1c2204df0b04b954b08ce73b52fc8452\n'}, {'number': 3, 'created': '2016-11-11 02:50:32.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3874a8626cf299ef21a468651cb9d2593348f4a', 'message': 'Restrict the versions of xstatic-angular-bootstrap\n\nA new release of xstatic-angular-bootstrap is imminent\nwhich is not backwards-compatible. Horizon breaks if\nthe new version is used. Since Mitaka Horizon does not\nsubscribe to upper-constraints we need to restrict\nthe valid versions here.\n\nCompatibility was broken in the 0.14 release.\n\nChange-Id: I71c9b6da1c2204df0b04b954b08ce73b52fc8452\n'}]",4,396447,c3874a8626cf299ef21a468651cb9d2593348f4a,13,6,3,12071,,,0,"Restrict the versions of xstatic-angular-bootstrap

A new release of xstatic-angular-bootstrap is imminent
which is not backwards-compatible. Horizon breaks if
the new version is used. Since Mitaka Horizon does not
subscribe to upper-constraints we need to restrict
the valid versions here.

Compatibility was broken in the 0.14 release.

Change-Id: I71c9b6da1c2204df0b04b954b08ce73b52fc8452
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/396447/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,020801af919a687328199c32081b210ab71f53af,limit-angular-bootstrap,"XStatic-Angular-Bootstrap>=0.11.0.2,<=0.11.0.8 # MIT License",XStatic-Angular-Bootstrap>=0.11.0.2 # MIT License,1,1
openstack%2Finstack-undercloud~master~I682167d10828280a031f6f84c1de11b9bd840db5,openstack/instack-undercloud,master,I682167d10828280a031f6f84c1de11b9bd840db5,Fix package update cases,MERGED,2016-11-22 20:43:47.000000000,2016-11-30 03:37:34.000000000,2016-11-30 03:37:34.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-22 20:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/dc51ba105f74782ad991042ccc799a39a6dbf889', 'message': ""Fix package update cases\n\nThis change addresses two issues with the existing\npuppet-stack-config. The first being if run on a non-RedHat osfamily,\nthe existing code will fail with a non-helpful message. The second issue\nbeing that if update_packages is disabled, the resource dependency will\nfail because Exec['package-upgrade] is not defined.\n\nChange-Id: I682167d10828280a031f6f84c1de11b9bd840db5\nCloses-Bug: #1639868\n""}, {'number': 2, 'created': '2016-11-28 15:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/6dfbf96ccb08eadd47f89332a2d03309e34bb93f', 'message': ""Fix package update cases\n\nThis change addresses two issues with the existing\npuppet-stack-config. The first being if run on a non-RedHat osfamily,\nthe existing code will fail with a non-helpful message. The second issue\nbeing that if update_packages is disabled, the resource dependency will\nfail because Exec['package-upgrade] is not defined.\n\nChange-Id: I682167d10828280a031f6f84c1de11b9bd840db5\nCloses-Bug: #1639868\n""}, {'number': 3, 'created': '2016-11-28 20:39:00.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0a316cb503f4be8b80e194ced4b285b4767d6ec4', 'message': ""Fix package update cases\n\nThis change addresses two issues with the existing\npuppet-stack-config. The first being if run on a non-RedHat osfamily,\nthe existing code will fail with a non-helpful message. The second issue\nbeing that if update_packages is disabled, the resource dependency will\nfail because Exec['package-upgrade] is not defined.\n\nChange-Id: I682167d10828280a031f6f84c1de11b9bd840db5\nCloses-Bug: #1639868\n""}]",5,400956,0a316cb503f4be8b80e194ced4b285b4767d6ec4,22,6,3,14985,,,0,"Fix package update cases

This change addresses two issues with the existing
puppet-stack-config. The first being if run on a non-RedHat osfamily,
the existing code will fail with a non-helpful message. The second issue
being that if update_packages is disabled, the resource dependency will
fail because Exec['package-upgrade] is not defined.

Change-Id: I682167d10828280a031f6f84c1de11b9bd840db5
Closes-Bug: #1639868
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/56/400956/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,dc51ba105f74782ad991042ccc799a39a6dbf889,bug/1639868, fail('Unsupported OS for update_packages. Set to false to skip this.')Package<| tag == 'openstack' |> -> Exec<| title == 'package-upgrade' |>, warning('Please specify a package upgrade command for distribution.')Package<| tag == 'openstack' |> -> Exec['package-upgrade'],2,2
openstack%2Fsenlin~master~I860a86aa4dad68c63fc86856d029cbaaaf06d677,openstack/senlin,master,I860a86aa4dad68c63fc86856d029cbaaaf06d677,Trivial: revise class InternalError comment,MERGED,2016-11-29 08:28:49.000000000,2016-11-30 03:28:31.000000000,2016-11-30 03:28:31.000000000,"[{'_account_id': 3}, {'_account_id': 11034}]","[{'number': 1, 'created': '2016-11-29 08:28:49.000000000', 'files': ['senlin/common/exception.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/9e9d03776d043fd6900c30966a80380ffb5f9b9f', 'message': 'Trivial: revise class InternalError comment\n\nInternalError inherit from SenlinException not InternalError, this patch\nrevises comment.\n\nChange-Id: I860a86aa4dad68c63fc86856d029cbaaaf06d677\n'}]",0,404076,9e9d03776d043fd6900c30966a80380ffb5f9b9f,6,2,1,23984,,,0,"Trivial: revise class InternalError comment

InternalError inherit from SenlinException not InternalError, this patch
revises comment.

Change-Id: I860a86aa4dad68c63fc86856d029cbaaaf06d677
",git fetch https://review.opendev.org/openstack/senlin refs/changes/76/404076/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/common/exception.py'],1,9e9d03776d043fd6900c30966a80380ffb5f9b9f,exc, The internal exception classes which inherit from :class:`SenlinException`, The internal exception classes which inherit from :class:`InternalError`,1,1
openstack%2Fdevstack~master~Iefa6c43451dd1f95927528d2ce0003c84248847f,openstack/devstack,master,Iefa6c43451dd1f95927528d2ce0003c84248847f,Tune apache connections for tls proxy,MERGED,2016-11-29 18:46:59.000000000,2016-11-30 03:26:15.000000000,2016-11-29 22:27:44.000000000,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-29 18:46:59.000000000', 'files': ['lib/tls', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cfb9f057ea5896687d95cdcc5aa5216ef32b87f8', 'message': 'Tune apache connections for tls proxy\n\nWe are seeing connection errors to the proxy occasionally. These errors\ndo not result in a logged http request or error to the backends,\nresulting in a theory that the proxy itself may just not be able to\nhandle the number of connections. More than double the total number of\nconnections that will be accepted by the proxy in an attempt to fix\nthis.\n\nChange-Id: Iefa6c43451dd1f95927528d2ce0003c84248847f\nRelated-bug: 1630664\n'}]",0,404383,cfb9f057ea5896687d95cdcc5aa5216ef32b87f8,10,4,1,4146,,,0,"Tune apache connections for tls proxy

We are seeing connection errors to the proxy occasionally. These errors
do not result in a logged http request or error to the backends,
resulting in a theory that the proxy itself may just not be able to
handle the number of connections. More than double the total number of
connections that will be accepted by the proxy in an attempt to fix
this.

Change-Id: Iefa6c43451dd1f95927528d2ce0003c84248847f
Related-bug: 1630664
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/404383/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tls', 'lib/apache']",2,cfb9f057ea5896687d95cdcc5aa5216ef32b87f8,bug/1630664,# Note that APACHE_CONF_DIR is really more accurately apache's vhost # configuration dir but we can't just change this because public interfaces. APACHE_SETTINGS_DIR=${APACHE_SETTINGS_DIR:-/etc/$APACHE_NAME/conf-enabled} APACHE_SETTINGS_DIR=${APACHE_SETTINGS_DIR:-/etc/$APACHE_NAME/conf.d} APACHE_SETTINGS_DIR=${APACHE_SETTINGS_DIR:-/etc/$APACHE_NAME/conf.d},,53,0
openstack%2Fnova~master~Ib885c102a59b3c339b0e7986145a1c2defb346fc,openstack/nova,master,Ib885c102a59b3c339b0e7986145a1c2defb346fc,Mention API V2 should no longer be used,MERGED,2016-10-18 03:36:06.000000000,2016-11-30 03:17:39.000000000,2016-11-30 03:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17922}, {'_account_id': 23314}]","[{'number': 1, 'created': '2016-10-18 03:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11f9e863e455099e26308fbb1d53abdfd9e58a5d', 'message': 'Mention API V2 should no longer be used\n\nAdding a reminder that V2 APIs should no longer be used and are only available for backward compatibility purposes.\n\nChange-Id: Ib885c102a59b3c339b0e7986145a1c2defb346fc\nCloses-bug: 1580552\n'}, {'number': 2, 'created': '2016-10-18 23:52:25.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/200d50b3261eb14fb0c84d63bbeedd0b6da3fbd8', 'message': 'Mention API V2 should no longer be used\n\nAdding a reminder that V2 APIs should no longer be used and are only\navailable for backward compatibility purposes.\n\nChange-Id: Ib885c102a59b3c339b0e7986145a1c2defb346fc\nCloses-bug: 1580552\n'}]",2,387778,200d50b3261eb14fb0c84d63bbeedd0b6da3fbd8,23,11,2,22013,,,0,"Mention API V2 should no longer be used

Adding a reminder that V2 APIs should no longer be used and are only
available for backward compatibility purposes.

Change-Id: Ib885c102a59b3c339b0e7986145a1c2defb346fc
Closes-bug: 1580552
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/387778/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,11f9e863e455099e26308fbb1d53abdfd9e58a5d,bug/1580552,"**Please note:** only Version 2.1 APIs should be used from this point forward, Version 2.0 APIs are only provided for backward compatibility purposes.",,2,0
openstack%2Fnova~master~I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3,openstack/nova,master,I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3,conf: move console_host to console group,ABANDONED,2016-11-08 12:39:40.000000000,2016-11-30 03:08:58.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-11-08 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b0ebae65a242d7a026541096ff508363e8b0777', 'message': 'conf: move console_host to console group\n\n``console_host`` config option has been renamed to ``host`` and moved from\nthe ``default`` group to the ``console`` group.\n\nChange-Id: I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3\nImplements: bp centralize-config-options-ocata\n'}, {'number': 2, 'created': '2016-11-08 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a74619e282e15f06f3acbd8e45240274932c3d1', 'message': 'conf: move console_host to console group\n\n``console_host`` config option has been renamed to ``host`` and moved from\nthe ``default`` group to the ``console`` group.\n\nChange-Id: I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3\nImplements: bp centralize-config-options-ocata\n'}, {'number': 3, 'created': '2016-11-23 16:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3407bec967787117634521be92f8942f74bac1e3', 'message': 'conf: move console_host to console group\n\n``console_host`` config option has been renamed to ``host`` and moved from\nthe ``default`` group to the ``console`` group.\n\nChange-Id: I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3\nImplements: bp centralize-config-options-ocata\n'}, {'number': 4, 'created': '2016-11-24 23:50:50.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/move_console_host_opt_to_console_group-a7f1eddbfcde67b0.yaml', 'nova/conf/console.py', 'nova/compute/manager.py', 'nova/tests/functional/api_sample_tests/test_consoles.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42ddabeae1d170a5acfb1684a900c9ce747867ef', 'message': 'conf: move console_host to console group\n\n``console_host`` config option has been renamed to ``host`` and moved from\nthe ``default`` group to the ``console`` group.\n\nChange-Id: I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3\nImplements: bp centralize-config-options-ocata\n'}]",5,394934,42ddabeae1d170a5acfb1684a900c9ce747867ef,50,17,4,14511,,,0,"conf: move console_host to console group

``console_host`` config option has been renamed to ``host`` and moved from
the ``default`` group to the ``console`` group.

Change-Id: I4a4d7483ad0bd2893a5edaf6c960fba7468df9b3
Implements: bp centralize-config-options-ocata
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/394934/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/console.py', 'nova/releasenotes/notes/move-console-opt-to-console-group-de693ac26bc9b090.yaml', 'nova/compute/manager.py', 'nova/tests/functional/api_sample_tests/test_consoles.py']",5,6b0ebae65a242d7a026541096ff508363e8b0777,bp/centralize-config-options-ocata," self.flags(host='fake', group='console')", self.flags(console_host='fake'),19,16
openstack%2Ftacker~master~I62934c0f78beb38af709e65a1d43aa73c43cbd35,openstack/tacker,master,I62934c0f78beb38af709e65a1d43aa73c43cbd35,Add missing %s in print message,ABANDONED,2016-10-12 03:48:46.000000000,2016-11-30 02:59:50.000000000,,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 10487}, {'_account_id': 15950}, {'_account_id': 16237}, {'_account_id': 23209}]","[{'number': 1, 'created': '2016-10-12 03:48:46.000000000', 'files': ['tacker/extensions/nfvo.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e3ba8558d84b6862c2f482ffaa2e9d125c01402', 'message': 'Add missing %s in print message\n\nThis patch add missing %s in print message\n\nChange-Id: I62934c0f78beb38af709e65a1d43aa73c43cbd35\n'}]",0,385251,6e3ba8558d84b6862c2f482ffaa2e9d125c01402,8,6,1,21387,,,0,"Add missing %s in print message

This patch add missing %s in print message

Change-Id: I62934c0f78beb38af709e65a1d43aa73c43cbd35
",git fetch https://review.opendev.org/openstack/tacker refs/changes/51/385251/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/extensions/nfvo.py'],1,6e3ba8558d84b6862c2f482ffaa2e9d125c01402,missing_s," message = _(""Resource type %(type)s is unsupported by VIM"")"," message = _(""Resource type %(type) is unsupported by VIM"")",1,1
openstack%2Ftacker~master~Ib652aa67d274d2ebfaa80d5cfa880742f061c003,openstack/tacker,master,Ib652aa67d274d2ebfaa80d5cfa880742f061c003,Replace LOG.warn with LOG.warning,ABANDONED,2016-11-16 06:48:50.000000000,2016-11-30 02:59:40.000000000,,"[{'_account_id': 3}, {'_account_id': 16237}, {'_account_id': 18955}, {'_account_id': 22588}]","[{'number': 1, 'created': '2016-11-16 06:48:50.000000000', 'files': ['tacker/nfvo/drivers/vim/openstack_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4ef06fd51264ac73554c23eb9ca1adc3ebb8d15b', 'message': 'Replace LOG.warn with LOG.warning\n\nlogging.warn is deprecated in Python 3.[1]\n[1] https://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: Ib652aa67d274d2ebfaa80d5cfa880742f061c003\n'}]",1,398132,4ef06fd51264ac73554c23eb9ca1adc3ebb8d15b,6,4,1,21387,,,0,"Replace LOG.warn with LOG.warning

logging.warn is deprecated in Python 3.[1]
[1] https://docs.python.org/3/library/logging.html#logging.warning

Change-Id: Ib652aa67d274d2ebfaa80d5cfa880742f061c003
",git fetch https://review.opendev.org/openstack/tacker refs/changes/32/398132/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/nfvo/drivers/vim/openstack_driver.py'],1,4ef06fd51264ac73554c23eb9ca1adc3ebb8d15b,logwarn," LOG.warning(_(""Authorization failed for user""))"," LOG.warn(_(""Authorization failed for user""))",1,1
openstack%2Fbarbican~master~I24fbf16d0bcbe5ca9780770212b511f49927303d,openstack/barbican,master,I24fbf16d0bcbe5ca9780770212b511f49927303d,Fix hacking check error,MERGED,2016-11-13 03:04:31.000000000,2016-11-30 02:59:38.000000000,2016-11-30 02:59:38.000000000,"[{'_account_id': 3}, {'_account_id': 7872}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-11-13 03:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a53556db2caa8f7f6110b6a0557a761c135f958c', 'message': 'Fix hacking check error\n\nChange-Id: I24fbf16d0bcbe5ca9780770212b511f49927303d\n'}, {'number': 2, 'created': '2016-11-13 03:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6dcf51ff2a8d704df4c2da6b08f295ea749fbb88', 'message': ""Fix hacking check error\n\nThis patch includes changes:\n\n  1. use more specified 'assert' check\n  2. remove use of str() on an exception\n  3. use a dict comprehension instead of a dict constructor\n\nChange-Id: I24fbf16d0bcbe5ca9780770212b511f49927303d\n""}, {'number': 3, 'created': '2016-11-15 01:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4f9245dc5595bf7fc4f0a2e1d8b961e3f793dcf7', 'message': ""Fix hacking check error\n\nThis patch includes changes:\n\n  1. use more specified 'assert' check\n  2. remove use of str() on an exception\n  3. use a dict comprehension instead of a dict constructor\n\nChange-Id: I24fbf16d0bcbe5ca9780770212b511f49927303d\n""}, {'number': 4, 'created': '2016-11-15 07:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e524ae69bb762f2c48716c39ec4e207cb6e8f94c', 'message': ""Fix hacking check error\n\nThis patch includes changes:\n\n  1. use more specified 'assert' check\n  2. remove use of str() on an exception\n  3. use a dict comprehension instead of a dict constructor\n\nChange-Id: I24fbf16d0bcbe5ca9780770212b511f49927303d\n""}, {'number': 5, 'created': '2016-11-18 03:30:52.000000000', 'files': ['barbican/tests/plugin/test_kmip.py', 'barbican/tests/api/controllers/test_secretstores.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/tests/plugin/test_snakeoil_ca.py', 'barbican/model/repositories.py', 'barbican/tests/plugin/util/test_multiple_backends.py', 'functionaltests/api/v1/functional/test_secretstores.py', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/api/middleware/context.py', 'barbican/tests/common/test_validators.py', 'barbican/plugin/kmip_secret_store.py', 'barbican/tests/model/test_models.py', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9ef8efbc923d50eaff6bce4dde1107f584c969ca', 'message': ""Fix hacking check error\n\nThis patch includes changes:\n\n  1. use more specified 'assert' check\n  2. remove use of str() on an exception\n  3. use a dict comprehension instead of a dict constructor\n\nChange-Id: I24fbf16d0bcbe5ca9780770212b511f49927303d\n""}]",2,396910,9ef8efbc923d50eaff6bce4dde1107f584c969ca,40,9,5,21797,,,0,"Fix hacking check error

This patch includes changes:

  1. use more specified 'assert' check
  2. remove use of str() on an exception
  3. use a dict comprehension instead of a dict constructor

Change-Id: I24fbf16d0bcbe5ca9780770212b511f49927303d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/10/396910/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/plugin/test_kmip.py', 'barbican/tests/api/controllers/test_secretstores.py', 'barbican/tests/model/repositories/test_repositores_secret_stores.py', 'barbican/model/repositories.py', 'barbican/tests/plugin/util/test_multiple_backends.py', 'functionaltests/api/v1/functional/test_secretstores.py', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/api/middleware/context.py', 'barbican/tests/common/test_validators.py', 'barbican/plugin/kmip_secret_store.py', 'barbican/tests/model/test_models.py', 'barbican/plugin/dogtag.py']",12,a53556db2caa8f7f6110b6a0557a761c135f958c,fix-hacking-check," LOG.error(u._LE(""Error in importing transport cert."" "" KRA may not be enabled: %s""), e)"," LOG.error(""Error in importing transport cert."" "" KRA may not be enabled: "" + str(e))",23,26
openstack%2Fnova~master~I1c8ea8ea6b31ebceee44ef506f38ded548788d8b,openstack/nova,master,I1c8ea8ea6b31ebceee44ef506f38ded548788d8b,Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers,ABANDONED,2015-08-03 09:56:05.000000000,2016-11-30 02:44:12.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5538}, {'_account_id': 5638}, {'_account_id': 8802}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 14027}, {'_account_id': 14384}, {'_account_id': 14447}, {'_account_id': 15751}, {'_account_id': 16237}, {'_account_id': 16376}, {'_account_id': 17185}, {'_account_id': 18339}]","[{'number': 1, 'created': '2015-08-03 09:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8c32bd3d8792247e46d5da5db6b7cb7aef6159a', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelative-Bug: 1479172\n'}, {'number': 2, 'created': '2015-08-05 07:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2912defd4819cfd40d9be44539c6e6c3e052eafc', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelative-Bug: 1479172k\n'}, {'number': 3, 'created': '2015-08-05 07:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0c826ea530b9750b1be8d9a97dadddaf92ad4d2', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelative-Bug: 1479172k\n'}, {'number': 4, 'created': '2015-08-08 06:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fd50865da20eb5d723501938f4c35086c5a4598', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelative-Bug: 1479172\n'}, {'number': 5, 'created': '2015-10-02 08:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c318b1beefc8a57fa300636e4bfb8fed7670e30c', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelative-Bug: 1479172\n'}, {'number': 6, 'created': '2015-10-02 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64a1e3bef7177d7033d0b2c0685444761ff82f0f', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelated-Bug: 1479172\n'}, {'number': 7, 'created': '2016-02-22 08:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/160da78dba8359e94025dc7738403771b438af93', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelated-Bug: 1479172\n'}, {'number': 8, 'created': '2016-03-08 10:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8aebcbdf638a5be7b3fc1258bcae27ccfac79b4', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers after os-brick\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelated-Bug: 1479172\n'}, {'number': 9, 'created': '2016-08-23 06:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd07dd2e36d09b39c5dc7fadb9a94bedc70de806', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelated-Bug: 1479172\n'}, {'number': 10, 'created': '2016-08-23 06:41:01.000000000', 'files': ['nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/tests/unit/virt/libvirt/volume/test_aoe.py', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6edd895ac21fb9f4cb4e1ad9ad6a4cdda3f3afb7', 'message': 'Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers\n\nWith change https://review.openstack.org/#/c/175569/ we lost some unit\ntest coverage of connect_volume/disconnect_volume/get_config methods in\nthe libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual\nlow-level parts of those are now handled in os-brick but we still need\nto unit test the calls to os-brick in nova.\n\nChange-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b\nRelated-Bug: 1479172\n'}]",3,208401,6edd895ac21fb9f4cb4e1ad9ad6a4cdda3f3afb7,75,19,10,14447,,,0,"Add unit tests for libvirt fibrechannel/iser/iscsi/aoe volume drivers

With change https://review.openstack.org/#/c/175569/ we lost some unit
test coverage of connect_volume/disconnect_volume/get_config methods in
the libvirt iscsi/fibrechannel/iser/aoe volume drivers, since the actual
low-level parts of those are now handled in os-brick but we still need
to unit test the calls to os-brick in nova.

Change-Id: I1c8ea8ea6b31ebceee44ef506f38ded548788d8b
Related-Bug: 1479172
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/208401/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/volume/test_volume.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b8c32bd3d8792247e46d5da5db6b7cb7aef6159a,bug/1479172,,"CONF.import_opt('iscsi_use_multipath', 'nova.virt.libvirt.volume', 'libvirt')",104,89
openstack%2Fnova~master~I801b0a180e3081a7eca44250e7762c4f7c9591d1,openstack/nova,master,I801b0a180e3081a7eca44250e7762c4f7c9591d1,do not merge,ABANDONED,2016-08-30 14:43:20.000000000,2016-11-30 02:44:11.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-08-30 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6b992955cfdaaddafbe1ac0973cbc65a73df366', 'message': 'do not merge\n\nceph for live-migration\n\nChange-Id: I801b0a180e3081a7eca44250e7762c4f7c9591d1\n'}, {'number': 2, 'created': '2016-08-30 16:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8319083baab0de6c2205c2a25b043a094dd7eeff', 'message': 'do not merge\n\nceph for live-migration\n\nChange-Id: I801b0a180e3081a7eca44250e7762c4f7c9591d1\n'}, {'number': 3, 'created': '2016-08-30 20:42:57.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh', 'nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/a75d5b9ae07dd504ec83e8354f49b1bf2f35df1d', 'message': 'do not merge\n\nceph for live-migration\n\nChange-Id: I801b0a180e3081a7eca44250e7762c4f7c9591d1\n'}]",0,362922,a75d5b9ae07dd504ec83e8354f49b1bf2f35df1d,19,6,3,14819,,,0,"do not merge

ceph for live-migration

Change-Id: I801b0a180e3081a7eca44250e7762c4f7c9591d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/362922/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,a6b992955cfdaaddafbe1ac0973cbc65a73df366,,"#echo '3. Ceph testing is skipped due to setup failures with Ubuntu 16.04' echo '3. test with Ceph for root + ephemeral disks' source $BASE/new/devstack/lib/ceph reset output set -xe setup_ceph_cluster configure_and_start_glance configure_and_start_nova run_tempest ""Ceph nova&glance test"" ""live_migration""","echo '3. Ceph testing is skipped due to setup failures with Ubuntu 16.04' #echo '3. test with Ceph for root + ephemeral disks' #source $BASE/new/devstack/lib/ceph #reset output #set -xe #setup_ceph_cluster #configure_and_start_glance #configure_and_start_nova #run_tempest ""Ceph nova&glance test"" ""live_migration""",9,9
openstack%2Fnova~master~I44aeb6d0a462c329ebc486e668fd18d9972ec126,openstack/nova,master,I44aeb6d0a462c329ebc486e668fd18d9972ec126,Fix missing 'pf_interface=True' of get_mac_by_pci_address(),ABANDONED,2016-07-31 14:45:10.000000000,2016-11-30 02:44:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17973}]","[{'number': 1, 'created': '2016-07-31 14:45:10.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca3d9f69316d32ce5d80654869c1d387654a01ba', 'message': ""Fix missing 'pf_interface=True' of get_mac_by_pci_address()\n\nCalling of get_mac_by_pci_address in _populate_pci_mac_address()\nmissed parameter 'pf_interface' of True although\n'pci_dev.dev_type == obj_fields.PciDeviceType.SRIOV_PF'.\nThis will result in incorrectly 'dev_path' and\nincorrectly 'if_name' after calling of get_mac_by_pci_address().\n\nChange-Id: I44aeb6d0a462c329ebc486e668fd18d9972ec126\nCloses-Bug: #1607574\n""}]",0,349271,ca3d9f69316d32ce5d80654869c1d387654a01ba,17,15,1,20251,,,0,"Fix missing 'pf_interface=True' of get_mac_by_pci_address()

Calling of get_mac_by_pci_address in _populate_pci_mac_address()
missed parameter 'pf_interface' of True although
'pci_dev.dev_type == obj_fields.PciDeviceType.SRIOV_PF'.
This will result in incorrectly 'dev_path' and
incorrectly 'if_name' after calling of get_mac_by_pci_address().

Change-Id: I44aeb6d0a462c329ebc486e668fd18d9972ec126
Closes-Bug: #1607574
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/349271/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,ca3d9f69316d32ce5d80654869c1d387654a01ba,bug/1607574," mac = pci_utils.get_mac_by_pci_address(pci_dev.address, True)", mac = pci_utils.get_mac_by_pci_address(pci_dev.address),2,1
openstack%2Fnova~master~I5f4143d66c021c37495bb76839b19191f0760480,openstack/nova,master,I5f4143d66c021c37495bb76839b19191f0760480,Fix failed snapshot on VMs with SRIOV ports,ABANDONED,2016-03-02 23:47:38.000000000,2016-11-30 02:44:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7543}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11189}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15427}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 17973}, {'_account_id': 20066}]","[{'number': 1, 'created': '2016-03-02 23:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aea724f43da0223e1eb164f1288cc2f9494dc9f3', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports, logs them as an error and continues as if nothing\nhappened. Thus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 2, 'created': '2016-03-02 23:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/385917b492c7675cd3e68845ca84b6c029a7d3c6', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 3, 'created': '2016-03-07 07:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e706d6ef4750da1d0a573cfb0e802f7a99e21e81', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 4, 'created': '2016-03-09 16:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b866f8a0c3bd001f30e9638faa65aba75b7221f0', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 5, 'created': '2016-03-11 00:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/025b6d84a02ae6ee25cb5fcd1c53b2a5f37b8d39', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 6, 'created': '2016-03-15 15:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eee6ce61c238da78ec85ce9d67dc30e1b4ab5dbd', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 7, 'created': '2016-03-15 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/280c7475fedfc1da36f9f91c7af76028e288a1b4', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 8, 'created': '2016-06-28 20:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2724fc12e9d46400f04a97211ea26ea432d1aa97', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 9, 'created': '2016-07-07 09:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63f250c5938251602c67ab8e255b21a10e47c75b', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 10, 'created': '2016-07-10 14:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/454886d6bca372e6617c4c36911665e26e4dd2a4', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline).\nPlus, on a best-effort base the code tries to find out if a snapshot\noperation is going to leave a VM in a suboptimal state and if so, the\nsnapshot operation does not start (stops with exception)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}, {'number': 11, 'created': '2016-07-13 05:23:39.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/network/linux_net.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a025510da109018394c8a9c8e75e2c4e5339893', 'message': ""Fix failed snapshot on VMs with SRIOV ports\n\nAfter taking a snapshot of a VM that contains SRIOV port/s, if there is\na problem with the PF (for example, it's offline for some reason), the\nVM will resume without the corresponding port and the snapshot will be\ndeleted.\n\nThis is due to an exception thrown by the driver's _attach_sriov_ports.\nThis fix catches all of the exceptions that are raised by\n_attach_sriov_ports when it is called from _snapshot_domain,\nlogs them as an error and continues as if nothing happened.\nThus, both the VM is resumed (as before) and the snapshot is\nnot deleted (==the expected behavior of taking a snapshot of a\nsuboptimal VM)\n\nDuring the review process due to a discussion I've added also the\n_attach_pci_devices to support the PCI passthrough use-case (e.g. a\nfailure to attach the pci device due to error/the device being offline).\nPlus, on a best-effort base the code tries to find out if a snapshot\noperation is going to leave a VM in a suboptimal state and if so, the\nsnapshot operation does not start (stops with exception). Since PCI-PT\ndevices are not visible to the host (ip link show doesn't include them),\nI'm checking the state before the snapshot operation only for SR-IOV\nports (VFs)\n\nChange-Id: I5f4143d66c021c37495bb76839b19191f0760480\nCloses-Bug: #1551154\n""}]",73,287515,9a025510da109018394c8a9c8e75e2c4e5339893,152,26,11,15427,,,0,"Fix failed snapshot on VMs with SRIOV ports

After taking a snapshot of a VM that contains SRIOV port/s, if there is
a problem with the PF (for example, it's offline for some reason), the
VM will resume without the corresponding port and the snapshot will be
deleted.

This is due to an exception thrown by the driver's _attach_sriov_ports.
This fix catches all of the exceptions that are raised by
_attach_sriov_ports when it is called from _snapshot_domain,
logs them as an error and continues as if nothing happened.
Thus, both the VM is resumed (as before) and the snapshot is
not deleted (==the expected behavior of taking a snapshot of a
suboptimal VM)

During the review process due to a discussion I've added also the
_attach_pci_devices to support the PCI passthrough use-case (e.g. a
failure to attach the pci device due to error/the device being offline).
Plus, on a best-effort base the code tries to find out if a snapshot
operation is going to leave a VM in a suboptimal state and if so, the
snapshot operation does not start (stops with exception). Since PCI-PT
devices are not visible to the host (ip link show doesn't include them),
I'm checking the state before the snapshot operation only for SR-IOV
ports (VFs)

Change-Id: I5f4143d66c021c37495bb76839b19191f0760480
Closes-Bug: #1551154
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/287515/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,aea724f43da0223e1eb164f1288cc2f9494dc9f3,bug/1551154," @mock.patch('nova.virt.libvirt.driver.LOG') def _snapshot(self, image_id, sriov, mock_log, mock_get_domain, mock_resolve): with mock.patch.object(driver, '_attach_sriov_ports') as mock_sriov: # If SRIOV snapshot, fake an exception thrown from # _attach_sriov_ports if sriov: mock_sriov.side_effect = Exception('Fake attach error') driver.snapshot(self.context, self.instance_ref, image_id, self.mock_update_task_state) snapshot = self.image_service.show(self.context, image_id) # If SRIOV snapshot, make sure that the exception thrown from # _attach_sriov_ports is caught and logged if sriov: self.assertTrue(mock_log.error.called) return snapshot def _test_snapshot(self, disk_format, extra_properties=None, sriov=False): snapshot = self._snapshot(recv_meta['id'], sriov) def test_qcow2_and_kvm_sriov(self): self.flags(virt_type='kvm', group='libvirt') self._test_snapshot(disk_format='qcow2', sriov=True) "," def _snapshot(self, image_id, mock_get_domain, mock_resolve): driver.snapshot(self.context, self.instance_ref, image_id, self.mock_update_task_state) snapshot = self.image_service.show(self.context, image_id) return snapshot def _test_snapshot(self, disk_format, extra_properties=None): snapshot = self._snapshot(recv_meta['id'])",35,9
openstack%2Fnova~master~I4322c7d5076e3783bff9b5a11a6395fd2466336a,openstack/nova,master,I4322c7d5076e3783bff9b5a11a6395fd2466336a,Do not merge: quick sketch of a service user for vd2,ABANDONED,2016-08-31 11:55:29.000000000,2016-11-30 02:44:07.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-08-31 11:55:29.000000000', 'files': ['nova/conf/api.py', 'nova/api/metadata/vendordata_dynamic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95158c687dc0cf49cc2634a8d6e0464ae37828f9', 'message': 'Do not merge: quick sketch of a service user for vd2\n\nThis is a quick sketch of what I think a service user would look\nlike. It needs some flags moved around because of the new group\nand some tests, but you get the idea.\n\nChange-Id: I4322c7d5076e3783bff9b5a11a6395fd2466336a\n'}]",0,363606,95158c687dc0cf49cc2634a8d6e0464ae37828f9,11,9,1,2271,,,0,"Do not merge: quick sketch of a service user for vd2

This is a quick sketch of what I think a service user would look
like. It needs some flags moved around because of the new group
and some tests, but you get the idea.

Change-Id: I4322c7d5076e3783bff9b5a11a6395fd2466336a
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/363606/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/api.py', 'nova/api/metadata/vendordata_dynamic.py']",2,95158c687dc0cf49cc2634a8d6e0464ae37828f9,vendordata-keystone-service-user,"from keystoneauth1 import loading as ks_loading_KEYSTONE_SESSION = None # If we have a user context, do that thing if context: return { 'X-Auth-Token': getattr(context, 'auth_token', None), 'X-User-Id': getattr(context, 'user', None), 'X-Project-Id': getattr(context, 'tenant', None), 'X-Roles': ','.join(getattr(context, 'roles', [])), 'X-Identity-Status': status, } # Otherwise, use a service account global _KEYSTONE_SESSION if not _KEYSTONE_SESSION: _KEYSTONE_SESSION = ks_loading.load_session_from_conf_options( CONF, nova.conf.api.metadata_group.name) return _KEYSTONE_SESSION.get_auth_headers()"," return { 'X-Auth-Token': getattr(context, 'auth_token', None), 'X-User-Id': getattr(context, 'user', None), 'X-Project-Id': getattr(context, 'tenant', None), 'X-Roles': ','.join(getattr(context, 'roles', [])), 'X-Identity-Status': status, }",53,19
openstack%2Fnova~master~Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a,openstack/nova,master,Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a,Recover instances when physical data is missing,ABANDONED,2016-05-27 22:17:47.000000000,2016-11-30 02:44:06.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18599}, {'_account_id': 18600}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20146}, {'_account_id': 21239}]","[{'number': 1, 'created': '2016-05-27 22:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09622eaba644f452f01c7079fc140d20a1fd8fa1', 'message': ""[WIP] Recover instances when physical data is missing and resume_guests_state is True\n\nNova tries to recover instances to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\n\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 2, 'created': '2016-05-28 11:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c4d678a37e21abe718232bd8c4d50f63b507a92', 'message': ""[WIP] Recover instances when physical data is missing and resume_guests_state is True\n\nNova tries to recover instances to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\n\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 3, 'created': '2016-05-28 11:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efc2faecc704a461f07ff0282bd09cdfc56144cc', 'message': ""[WIP]Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\n\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 4, 'created': '2016-06-13 09:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bc00bc2880b790df76d6211cf1be112f329c878', 'message': ""[WIP]Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 5, 'created': '2016-06-18 14:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8722ad3b1209ee6c33da0c836f351b8456466738', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 6, 'created': '2016-06-18 17:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3283cbe8ded98f9f55838659e1bb3c973aa390a4', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 7, 'created': '2016-06-18 17:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb0493de7a626f8866af2868949c5ee6c7f1efa8', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 8, 'created': '2016-06-20 09:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01dd51ee71a5bb326f504a66ec2c274e1d1911b2', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 9, 'created': '2016-06-20 13:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b28fc5dfe9972387a8112ab675f954a69a2a4d7f', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 10, 'created': '2016-06-20 14:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b5af019c7079dd7718a51c7ec042cfea0fea9be', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 11, 'created': '2016-06-20 17:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cb219d838820ee92ef5f88dd33d6bf7a17d150d', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 12, 'created': '2016-06-20 17:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a6e6bc5b40e8120ab495c416a326a7d829ab53c', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 13, 'created': '2016-06-27 12:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81d3862403b66360e0a91de125758555db526ad7', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 14, 'created': '2016-06-27 12:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62d966c461fed650cbd06052d3b95182915a8e68', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: hardware failure), Nova can't recover instances. But we\nshould try to rebuild instances with the original data (which are stored\nin the database).\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 15, 'created': '2016-06-28 21:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49ab809258f3ccc2a54f29b60710a7812bec3a6d', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 16, 'created': '2016-07-12 11:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fc4d54a6dede161c965476eb2fbaf1f7ea5801a', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 17, 'created': '2016-07-18 09:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18e9d4cd70059dde40c264ebc180f5fe1818d153', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 18, 'created': '2016-07-25 15:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b315b0dbd70e7e094e5372a41f9a0bc4fd4e75fa', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 19, 'created': '2016-08-03 12:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b142eebee1d9e54d6464fb0471ee0b5518f93824', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 20, 'created': '2016-08-03 12:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49adf704285d06749acae03596b0bec78b99d8f4', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 21, 'created': '2016-08-03 12:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8df944df14176fd3ec12ad09cc5b38912456845b', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 22, 'created': '2016-08-03 21:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/909e50964beff5b424d7a9cf78c12c164cbf9b7e', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 23, 'created': '2016-08-04 10:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86b71b0e86205d84a15d76c98dfcfc749aa6422a', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 24, 'created': '2016-08-04 10:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90e2c808665871305bc1d5f1c5e04aa4b9a4507c', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 25, 'created': '2016-08-23 11:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbf0041dfdeb628d731f716311bb87225587ddaa', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}, {'number': 26, 'created': '2016-08-31 13:29:05.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/555d304b70742a1f56c2285db2c1c0530371b426', 'message': ""Recover instances when physical data is missing\n\nNova tries to recover instances at start to the last state, in case of the\nresume_guests_state_on_host_boot option is True. If physical data is missing\nfrom the disk (e.g.: compute blade replacement due to hardware failure),\nnova can't recover instances. But we should try to rebuild instances with\nthe original data (which are stored in the database).\n\nCloses-Bug: 1585494\nDepends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0\nChange-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a\n""}]",16,322341,555d304b70742a1f56c2285db2c1c0530371b426,277,26,26,21239,,,0,"Recover instances when physical data is missing

Nova tries to recover instances at start to the last state, in case of the
resume_guests_state_on_host_boot option is True. If physical data is missing
from the disk (e.g.: compute blade replacement due to hardware failure),
nova can't recover instances. But we should try to rebuild instances with
the original data (which are stored in the database).

Closes-Bug: 1585494
Depends-On: I2cb9bbc8ebac43135c1b318441f3a71f996d78f0
Change-Id: Ifbf13a064c56204dbf3c41ac5f0b4f6d6fb0ff2a
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/322341/26 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,09622eaba644f452f01c7079fc140d20a1fd8fa1,bug/1585494," # NOTE(xavvior): The instance failed to resume, so we set the # so we try rebuild. If this was unsuccess, we set # the instance to error and attempt to continue. try: LOG.info(_LW('Failed to resume instance, try rebuild')) bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) self.rebuild_instance( context=context, instance=instance, orig_image_ref=instance.image_ref, image_ref=None, injected_files=[], new_pass=None, orig_sys_metadata=dict(instance.system_metadata), bdms=bdms, recreate=False, ) except Exception as e: LOG.warning(_LW('Failed to resume instance'), self._set_instance_obj_error_state(context, instance) instance.save()"," # NOTE(vish): The instance failed to resume, so we set the # instance to error and attempt to continue. LOG.warning(_LW('Failed to resume instance'), self._set_instance_obj_error_state(context, instance) instance.save(expected_task_state=[task_states.REBUILDING])",22,5
openstack%2Fnova~master~Idecc0b19882d6fdbed0c45ed879fb52b654a22b8,openstack/nova,master,Idecc0b19882d6fdbed0c45ed879fb52b654a22b8,Add Image Remote Authentication Verification,ABANDONED,2016-06-16 20:25:58.000000000,2016-11-30 02:44:04.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10342}, {'_account_id': 10385}, {'_account_id': 11642}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20522}]","[{'number': 1, 'created': '2016-06-16 20:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2b57fa249ccaeb6fc1dc618151ba683850bcf13', 'message': 'Add Image Remote Authentication Verification\n\nAdds a module which checks for the presence supplied authentication\ncredentials in a server create request against image metadata. If image\nmetadata includes information indicating the methods of remote\nauthentication supported by that image, then the module will check to\nsee if at least one supported credential (ssh public key, x509 certificate,\nadmin password) has been provided.\n\nAdds a call to the auth_validation module from\nnova.compute.api._create_instance.\n\nAdds configuration options to configure auth_validation, including how\nmuch of the request will be inspected to find credentials.\nauth_validation is configured to be off by default.\n\nChange-Id: Idecc0b19882d6fdbed0c45ed879fb52b654a22b8\n'}, {'number': 2, 'created': '2016-07-15 22:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3848909d89efd8a3446e5f098a0acb0bfceaeab', 'message': 'Add Image Remote Authentication Verification\n\nAdds a module which checks for the presence supplied authentication\ncredentials in a server create request against image metadata. If image\nmetadata includes information indicating the methods of remote\nauthentication supported by that image, then the module will check to\nsee if at least one supported credential (ssh public key, x509 certificate,\nadmin password) has been provided.\n\nAdds a call to the auth_validation module from\nnova.compute.api._create_instance.\n\nAdds configuration options to configure auth_validation, including how\nmuch of the request will be inspected to find credentials.\nauth_validation is configured to be off by default.\n\nImplements: https://review.openstack.org/#/c/326073\nChange-Id: Idecc0b19882d6fdbed0c45ed879fb52b654a22b8\n'}, {'number': 3, 'created': '2016-07-25 20:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/606e3e46fc379cf82597cf74df53c13d4fd789a5', 'message': 'Add Image Remote Authentication Verification\n\nAdds a module which checks for the presence supplied authentication\ncredentials in a server create request against image metadata. If image\nmetadata includes information indicating the methods of remote\nauthentication supported by that image, then the module will check to\nsee if at least one supported credential (ssh public key, x509 certificate,\nadmin password) has been provided.\n\nAdds a call to the auth_validation module from\nnova.compute.api._create_instance.\n\nAdds configuration options to configure auth_validation, including how\nmuch of the request will be inspected to find credentials.\nauth_validation is configured to be off by default.\n\nImplements: https://review.openstack.org/#/c/326073\nChange-Id: Idecc0b19882d6fdbed0c45ed879fb52b654a22b8\n'}, {'number': 4, 'created': '2016-07-27 19:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfdd753da56f3b2281d6d4493c1c049a363342ed', 'message': 'Add Image Remote Authentication Verification\n\nAdds a module which checks for the presence supplied authentication\ncredentials in a server create request against image metadata. If image\nmetadata includes information indicating the methods of remote\nauthentication supported by that image, then the module will check to\nsee if at least one supported credential (ssh public key, x509 certificate,\nadmin password) has been provided.\n\nAdds a call to the auth_validation module from\nnova.compute.api._create_instance.\n\nAdds configuration options to configure auth_validation, including how\nmuch of the request will be inspected to find credentials.\nauth_validation is configured to be off by default.\n\nImplements: https://review.openstack.org/#/c/326073\nChange-Id: Idecc0b19882d6fdbed0c45ed879fb52b654a22b8\n'}, {'number': 5, 'created': '2016-08-31 15:19:26.000000000', 'files': ['nova/conf/image_auth_validation.py', 'nova/exception.py', 'nova/conf/__init__.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/image/test_auth_validation.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/image/auth_validation.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fd106bf1f837489a67df59a39394528c953d744f', 'message': 'Add Image Remote Authentication Verification\n\nAdds a module which checks for the presence supplied authentication\ncredentials in a server create request against image metadata. If image\nmetadata includes information indicating the methods of remote\nauthentication supported by that image, then the module will check to\nsee if at least one supported credential (ssh public key, x509 certificate,\nadmin password) has been provided.\n\nAdds a call to the auth_validation module from\nnova.compute.api._create_instance.\n\nAdds configuration options to configure auth_validation, including how\nmuch of the request will be inspected to find credentials.\nauth_validation is configured to be off by default.\n\nImplements: https://review.openstack.org/#/c/326073\nChange-Id: Idecc0b19882d6fdbed0c45ed879fb52b654a22b8\n'}]",0,330773,fd106bf1f837489a67df59a39394528c953d744f,57,16,5,14228,,,0,"Add Image Remote Authentication Verification

Adds a module which checks for the presence supplied authentication
credentials in a server create request against image metadata. If image
metadata includes information indicating the methods of remote
authentication supported by that image, then the module will check to
see if at least one supported credential (ssh public key, x509 certificate,
admin password) has been provided.

Adds a call to the auth_validation module from
nova.compute.api._create_instance.

Adds configuration options to configure auth_validation, including how
much of the request will be inspected to find credentials.
auth_validation is configured to be off by default.

Implements: https://review.openstack.org/#/c/326073
Change-Id: Idecc0b19882d6fdbed0c45ed879fb52b654a22b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/330773/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/image_auth_validation.py', 'nova/exception.py', 'nova/conf/__init__.py', 'nova/tests/unit/image/test_auth_validation.py', 'nova/image/auth_validation.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",7,d2b57fa249ccaeb6fc1dc618151ba683850bcf13,add_image_remote_authentication_verification," exception.NoRemoteAuthProvided,",,535,1
openstack%2Fnova~master~I5f6635e7a9a282b41ac2f856a443ee8d42e43105,openstack/nova,master,I5f6635e7a9a282b41ac2f856a443ee8d42e43105,Wrap servers detail API call in single transaction,ABANDONED,2016-08-09 14:54:40.000000000,2016-11-30 02:44:03.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-08-09 14:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67cc3dc92151ad7560e2514e1894be5c1a98cd77', 'message': ""WIP Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB and\nafter that we use extended_server_attributes module to update host\nstatus (it also goes to DB).  If instance delete call comes between\nthese  actions we've got InstanceNotFound response because some\ninstances are in delete state and they are eliminated from results of the second DB request.\n\nThis change adds ability to wrap controller code and extensions code\nin one DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: 1610153\n""}, {'number': 2, 'created': '2016-08-10 08:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c2b83ed8ee5789d10722c8f0e74e2c9e5a12305', 'message': ""Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB\nand after that we use extended_server_attributes module to update host\nstatus (it also goes to DB). If instance delete call comes between\nthese actions we've got InstanceNotFound response because some instances\nare in delete state and they are eliminated from results of the second\nDB request.\n\nThis change adds ability to wrap controller code and extensions code in\none DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: 1610153\n""}, {'number': 3, 'created': '2016-08-10 09:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/013dcc9d07633148b6d191f09746de1953d7a8f2', 'message': ""Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB\nand after that we use extended_server_attributes module to update host\nstatus (it also goes to DB). If instance delete call comes between\nthese actions we've got InstanceNotFound response because some instances\nare in delete state and they are eliminated from results of the second\nDB request.\n\nThis change adds ability to wrap controller code and extensions code in\none DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: 1610153\n""}, {'number': 4, 'created': '2016-08-10 11:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c9e07204a50dc468dc3aaa29a7b54a02d8bc0dd', 'message': ""Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB\nand after that we use extended_server_attributes module to update host\nstatus (it also goes to DB). If instance delete call comes between\nthese actions we've got InstanceNotFound response because some instances\nare in delete state and they are eliminated from results of the second\nDB request.\n\nThis change adds ability to wrap controller code and extensions code in\none DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: 1610153\n""}, {'number': 5, 'created': '2016-08-15 11:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfd646508c72b984c61fba06ff12d6fd3b83ce10', 'message': ""Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB\nand after that we use extended_server_attributes module to update host\nstatus (it also goes to DB). If instance delete call comes between\nthese actions we've got InstanceNotFound response because some instances\nare in delete state and they are eliminated from results of the second\nDB request.\n\nThis change adds ability to wrap controller code and extensions code in\none DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: 1610153\n""}, {'number': 6, 'created': '2016-08-24 16:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de7096e7fd5b6642806ac344c54802388c458a83', 'message': ""Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB\nand after that we use extended_server_attributes module to update host\nstatus (it also goes to DB). If instance delete call comes between\nthese actions we've got InstanceNotFound response because some instances\nare in delete state and they are eliminated from results of the second\nDB request.\n\nThis change adds ability to wrap controller code and extensions code in\none DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: #1610153\n""}, {'number': 7, 'created': '2016-08-31 15:24:05.000000000', 'files': ['nova/api/openstack/wsgi.py', 'nova/api/openstack/__init__.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7a000185e5c845cbe6176a8a963a02544b36983', 'message': ""Wrap servers detail API call in single transaction\n\nIt's possible to get non-repeatable read kind of problem with\nservers/detail API call. First, we've got the list of instances from DB\nand after that we use extended_server_attributes module to update host\nstatus (it also goes to DB). If instance delete call comes between\nthese actions we've got InstanceNotFound response because some instances\nare in delete state and they are eliminated from results of the second\nDB request.\n\nThis change adds ability to wrap controller code and extensions code in\none DB transaction and apply that ability to ServersController.detail\nmethod.\n\nChange-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105\nCloses-Bug: #1610153\n""}]",2,352950,d7a000185e5c845cbe6176a8a963a02544b36983,75,17,7,21813,,,0,"Wrap servers detail API call in single transaction

It's possible to get non-repeatable read kind of problem with
servers/detail API call. First, we've got the list of instances from DB
and after that we use extended_server_attributes module to update host
status (it also goes to DB). If instance delete call comes between
these actions we've got InstanceNotFound response because some instances
are in delete state and they are eliminated from results of the second
DB request.

This change adds ability to wrap controller code and extensions code in
one DB transaction and apply that ability to ServersController.detail
method.

Change-Id: I5f6635e7a9a282b41ac2f856a443ee8d42e43105
Closes-Bug: #1610153
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/352950/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/__init__.py', 'nova/tests/unit/api/openstack/compute/test_extended_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_extended_volumes.py', 'nova/tests/unit/api/openstack/compute/test_flavor_rxtx.py', 'nova/tests/unit/api/openstack/compute/test_extended_status.py', 'nova/tests/unit/api/openstack/compute/test_flavorextradata.py', 'nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_auth.py', 'nova/tests/unit/api/openstack/compute/test_config_drive.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/compute/test_extended_ips.py', 'nova/tests/unit/api/openstack/compute/test_flavor_swap.py', 'nova/tests/unit/api/openstack/compute/test_flavor_disabled.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_extended_ips_mac.py', 'nova/tests/unit/api/openstack/compute/test_hide_server_addresses.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py']",18,67cc3dc92151ad7560e2514e1894be5c1a98cd77,bug/1610153, req = fakes.HTTPRequest.blank(url), req = webob.Request.blank(url),52,29
openstack%2Fnova~master~Ic9790365425c2d0bfcec9d5a21a172a133a6e7a7,openstack/nova,master,Ic9790365425c2d0bfcec9d5a21a172a133a6e7a7,Fix auth_conf options for [cinder] config,ABANDONED,2016-08-22 15:04:21.000000000,2016-11-30 02:44:02.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7102}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18466}]","[{'number': 1, 'created': '2016-08-22 15:04:21.000000000', 'files': ['nova/conf/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b862ee3ef22ec0f3329f79a6917b3716a58b425', 'message': 'Fix auth_conf options for [cinder] config\n\nRegister the auth_conf options for the [cinder] section and also add the\nmissing options to the sample config file.\n\nChange-Id: Ic9790365425c2d0bfcec9d5a21a172a133a6e7a7\nCloses-Bug: #1615666\n'}]",0,358701,1b862ee3ef22ec0f3329f79a6917b3716a58b425,20,14,1,7102,,,0,"Fix auth_conf options for [cinder] config

Register the auth_conf options for the [cinder] section and also add the
missing options to the sample config file.

Change-Id: Ic9790365425c2d0bfcec9d5a21a172a133a6e7a7
Closes-Bug: #1615666
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/358701/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/cinder.py'],1,1b862ee3ef22ec0f3329f79a6917b3716a58b425,bug/1615666,"import copy cinder_options = None def _gen_opts_from_plugins(): opts = copy.deepcopy(cinder_options) opts.insert(0, ks_loading.get_auth_common_conf_options()[0]) # NOTE(dims): There are a lot of auth plugins, we just generate # the config options for a few common ones plugins = ['password', 'v2password', 'v3password'] for name in plugins: plugin = ks_loading.get_plugin_loader(name) for plugin_option in ks_loading.get_auth_plugin_conf_options(plugin): for option in opts: if option.name == plugin_option.name: break else: opts.append(plugin_option) opts.sort(key=lambda x: x.name) return opts def register_opts(conf): global cinder_options cinder_options = ks_loading.register_session_conf_options( conf, cinder_group.name, deprecated_opts=deprecated) ks_loading.register_auth_conf_options(conf, cinder_group.name) cinder_group.name: cinder_opts + _gen_opts_from_plugins()","def register_opts(conf): ks_loading.register_session_conf_options(conf, cinder_group.name, deprecated_opts=deprecated) cinder_group.name: cinder_opts",27,4
openstack%2Fnova~master~Iae44e5c387fa451eadd312107bad0e955ffb1ad1,openstack/nova,master,Iae44e5c387fa451eadd312107bad0e955ffb1ad1,'unmap' is written without considering the configuration,ABANDONED,2016-09-01 07:53:34.000000000,2016-11-30 02:44:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 21428}]","[{'number': 1, 'created': '2016-09-01 07:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdb97d0d60d59fb6f49dbf4ab3ad7b6f8d04e6da', 'message': ""'unmap' is written without considering the configuration\n\nThe original code is as follows:\n    if data.get('discard', False) is True:\n        min_qemu = nova.virt.libvirt.driver.MIN_QEMU_DISCARD_VERSION\n        if self.connection._host.has_min_version(\n                hv_ver=min_qemu,\n                hv_type=host.HV_DRIVER_QEMU):\n            conf.driver_discard = 'unmap'\n\nNo consideration is given to the case when the configuration file\nis not configured as hw_disk_discard=unmap\nwhen the backend report can support discard,it will write the unmap\nto XML.\nThis patch fix it.\n\nChange-Id: Iae44e5c387fa451eadd312107bad0e955ffb1ad1\nCloses-Bug: #1616782\n""}, {'number': 2, 'created': '2016-09-01 13:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38f991a4354fe05b6a966a11af2a277d2d1504de', 'message': ""'unmap' is written without considering the configuration\n\nThe original code is as follows:\n    if data.get('discard', False) is True:\n        min_qemu = nova.virt.libvirt.driver.MIN_QEMU_DISCARD_VERSION\n        if self.connection._host.has_min_version(\n                hv_ver=min_qemu,\n                hv_type=host.HV_DRIVER_QEMU):\n            conf.driver_discard = 'unmap'\n\nNo consideration is given to the case when the configuration file\nis not configured as hw_disk_discard=unmap\nwhen the backend report can support discard,it will write the unmap\nto XML.\nThis patch fix it.\n\nChange-Id: Iae44e5c387fa451eadd312107bad0e955ffb1ad1\nCloses-Bug: #1616782\n""}, {'number': 3, 'created': '2016-09-02 08:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a579cdddd7e142bb720068ba8ac43944267eefd', 'message': ""'unmap' is written without considering the configuration\n\nThe original code as follows:\n    if data.get('discard', False) is True:\n        min_qemu = nova.virt.libvirt.driver.MIN_QEMU_DISCARD_VERSION\n        if self.connection._host.has_min_version(\n                hv_ver=min_qemu,\n                hv_type=host.HV_DRIVER_QEMU):\n            conf.driver_discard = 'unmap'\n\nNo consideration is given to the case when the configuration file\nis not configured as hw_disk_discard=unmap\nwhen the backend report can support discard,it will write the unmap\nto XML.\nThis patch fix it.\n\nChange-Id: Iae44e5c387fa451eadd312107bad0e955ffb1ad1\nCloses-Bug: #1616782\n""}, {'number': 4, 'created': '2016-09-05 11:50:46.000000000', 'files': ['nova/virt/libvirt/volume/volume.py', 'nova/tests/unit/virt/libvirt/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c518d976852528ca4e37c3577bf1abb2eafe9f1b', 'message': ""'unmap' is written without considering the configuration\n\nThe original code as follows:\n    if data.get('discard', False) is True:\n        min_qemu = nova.virt.libvirt.driver.MIN_QEMU_DISCARD_VERSION\n        if self.connection._host.has_min_version(\n                hv_ver=min_qemu,\n                hv_type=host.HV_DRIVER_QEMU):\n            conf.driver_discard = 'unmap'\n\nNo consideration is given to the case when the configuration file\nis not configured as hw_disk_discard=unmap\nwhen the backend report can support discard,it will write the unmap\nto XML.\nThis patch fix it.\n\nChange-Id: Iae44e5c387fa451eadd312107bad0e955ffb1ad1\nCloses-Bug: #1616782\n""}]",2,364122,c518d976852528ca4e37c3577bf1abb2eafe9f1b,35,14,4,21428,,,0,"'unmap' is written without considering the configuration

The original code as follows:
    if data.get('discard', False) is True:
        min_qemu = nova.virt.libvirt.driver.MIN_QEMU_DISCARD_VERSION
        if self.connection._host.has_min_version(
                hv_ver=min_qemu,
                hv_type=host.HV_DRIVER_QEMU):
            conf.driver_discard = 'unmap'

No consideration is given to the case when the configuration file
is not configured as hw_disk_discard=unmap
when the backend report can support discard,it will write the unmap
to XML.
This patch fix it.

Change-Id: Iae44e5c387fa451eadd312107bad0e955ffb1ad1
Closes-Bug: #1616782
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/364122/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/volume.py'],1,fdb97d0d60d59fb6f49dbf4ab3ad7b6f8d04e6da,bug/1616782, if CONF.libvirt.hw_disk_discard = 'unmap': conf.driver_discard = 'unmap', conf.driver_discard = 'unmap',2,1
openstack%2Fnova~master~Ia2a202cdee0732ce87d6085bd3de7647dcd552cd,openstack/nova,master,Ia2a202cdee0732ce87d6085bd3de7647dcd552cd,Remove mox from unit/api/openstack/compute/test_serversV21.py,ABANDONED,2016-05-25 08:00:31.000000000,2016-11-30 02:43:59.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 18320}]","[{'number': 1, 'created': '2016-05-25 08:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4930068d3f2f27dd359867eb01110c0e09cde75c', 'message': 'Remove mox from unit/api/openstack/compute/test_serversV21.py\n\nnova/tests/unit/api/openstack/compute/test_serversV21.py\n\nReplaced self.stubs.Set with self.stub_out\nReplaced self.mox.StubOutWithMock with @mock.patch\n\nPartially implements: blueprint remove-mox-newton\n\nChange-Id: Ia2a202cdee0732ce87d6085bd3de7647dcd552cd\n'}, {'number': 2, 'created': '2016-06-21 02:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7de549192260ac3de42db40a0293386089715b5d', 'message': 'Remove mox from unit/api/openstack/compute/test_serversV21.py\n\nnova/tests/unit/api/openstack/compute/test_serversV21.py\n\nReplaced self.stubs.Set with self.stub_out\nReplaced self.mox.StubOutWithMock with @mock.patch\n\nPartially implements: blueprint remove-mox-newton\n\nChange-Id: Ia2a202cdee0732ce87d6085bd3de7647dcd552cd\n'}, {'number': 3, 'created': '2016-08-02 07:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64f6c90a75370fbb92fbf3cc87c19fe8eebaf71c', 'message': 'Remove mox from unit/api/openstack/compute/test_serversV21.py\n\nnova/tests/unit/api/openstack/compute/test_serversV21.py\n\nReplaced self.stubs.Set with self.stub_out\nReplaced self.mox.StubOutWithMock with @mock.patch\n\nPartially implements: blueprint remove-mox-newton\n\nChange-Id: Ia2a202cdee0732ce87d6085bd3de7647dcd552cd\n'}, {'number': 4, 'created': '2016-08-15 05:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9e0a15528cba1a6f86d12fce0e14203c15f3122', 'message': 'Remove mox from unit/api/openstack/compute/test_serversV21.py\n\nnova/tests/unit/api/openstack/compute/test_serversV21.py\n\nReplaced self.stubs.Set with self.stub_out\nReplaced self.mox.StubOutWithMock with @mock.patch\n\nPartially implements: blueprint remove-mox-newton\n\nChange-Id: Ia2a202cdee0732ce87d6085bd3de7647dcd552cd\n'}, {'number': 5, 'created': '2016-09-05 02:14:44.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/886c36db86e473c567becbd4ef2f84b43df63d45', 'message': 'Remove mox from unit/api/openstack/compute/test_serversV21.py\n\nReplaced stubs.Set() with stub_out().\nReplaced mox.StubOutWithMock with @mock.patch.\n\nPartially-Implements: blueprint remove-mox-ocata\n\nChange-Id: Ia2a202cdee0732ce87d6085bd3de7647dcd552cd\n'}]",0,320821,886c36db86e473c567becbd4ef2f84b43df63d45,49,10,5,18320,,,0,"Remove mox from unit/api/openstack/compute/test_serversV21.py

Replaced stubs.Set() with stub_out().
Replaced mox.StubOutWithMock with @mock.patch.

Partially-Implements: blueprint remove-mox-ocata

Change-Id: Ia2a202cdee0732ce87d6085bd3de7647dcd552cd
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/320821/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_serversV21.py'],1,4930068d3f2f27dd359867eb01110c0e09cde75c,bp/remove-mox-ocata," self.stub_out('nova.compute.api.API.get_all', lambda api, *a, **k: return_servers(*a, **k)) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: return_server(*a, **k)) self.stub_out('nova.compute.api.API.get', fake_get) self.stub_out('nova.compute.api.API.get', return_instance_with_host) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: new_return_server(*a, **k)) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: new_return_server(*a, **k)) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: return_server(*a, **k)) self.stub_out('nova.compute.api.API.get', fake_instance_get) self.stub_out('nova.compute.api.API.get_all', return_servers_empty) self.stub_out('nova.compute.api.API.get_all', return_servers_empty) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.get_all', return_servers_with_host) self.stub_out('nova.compute.api.API.get_all', fake_get_all) self.stub_out('nova.compute.api.API.delete', fake_delete) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: fake_get(*a, **k)) self.stub_out('nova.compute.api.API.soft_delete', fakes.fake_actions_to_locked_server) self.stub_out('nova.compute.api.API.delete', fakes.fake_actions_to_locked_server) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: fake_get(*a, **k)) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: fake_get(*a, **k)) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: fake_get(*a, **k)) self.stub_out('nova.tests.unit.image.fake._FakeImageService.show', fake_get_image) self.stub_out('nova.tests.unit.image.fake._FakeImageService.show', fake_get_image) self.stub_out('nova.tests.unit.image.fake._FakeImageService.show', fake_get_image) self.stub_out('nova.tests.unit.image.fake._FakeImageService.show', fake_get_image) self.stub_out('nova.tests.unit.image.fake._FakeImageService.show', fake_get_image) @mock.patch.object(compute_api.API, 'start') def test_start(self, mock_start): self.assertTrue(mock_start.call_count == 1) self.stub_out('nova.compute.api.API.start', fake_start_stop_not_ready) self.stub_out('nova.compute.api.API.start', fakes.fake_actions_to_locked_server) self.stub_out('nova.compute.api.API.start', fake_start_stop_invalid_state) @mock.patch.object(compute_api.API, 'stop') def test_stop(self, mock_stop): self.assertTrue(mock_stop.call_count == 1) self.stub_out('nova.compute.api.API.stop', fake_start_stop_not_ready) self.stub_out('nova.compute.api.API.stop', fakes.fake_actions_to_locked_server) self.stub_out('nova.compute.api.API.stop', fake_start_stop_invalid_state) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: fake_get(*a, **k)) self.stub_out('nova.compute.api.API.get', lambda api, *a, **k: fake_get(*a, **k)) self.stub_out('nova.compute.api.API.get', fake_get) @mock.patch.object(self.controller, '_get_server') def _do_test(mock_get_server): mock_get_server.return_value = fakes.stub_instance('1234') rule = {'compute:reboot': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank('/fake/servers/1234/action') self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_reboot, req, '1234', body={'reboot': {'type': 'HARD'}}) self.assertFalse(mock_get_server.called) _do_test() @mock.patch.object(self.controller, '_get_server') def _do_test(mock_get_server): mock_get_server.return_value = fakes.stub_instance('1234') rule = {'compute:confirm_resize': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank('/fake/servers/1234/action') self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_confirm_resize, req, '1234', {}) self.assertFalse(mock_get_server.called) _do_test() @mock.patch.object(self.controller, '_get_server') def _do_test(mock_get_server): mock_get_server.return_value = fakes.stub_instance('1234') rule = {'compute:revert_resize': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank('/fake/servers/1234/action') self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_revert_resize, req, '1234', {}) self.assertFalse(mock_get_server.called) _do_test() self.stub_out('uuid.uuid4', fake_gen_uuid) server_update_and_get_original) self.stub_out('nova.network.manager.VlanManager.allocate_fixed_ip', fake_method) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', create) self.stub_out('nova.compute.api.API.create', create) self.stub_out( 'nova.api.openstack.compute.keypairs.Keypairs.server_create', fake_keypair_server_create) self.stub_out('nova.tests.unit.api.openstack.fakes.QUOTAS.count', fake_count) self.stub_out('nova.tests.unit.api.openstack.fakes.QUOTAS.limit_check', fake_limit_check) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.compute.api.API.create', fake_create) self.stub_out('nova.api.openstack.compute.disk_config.DiskConfig', FakeExt) self.stub_out('nova.api.openstack.compute.disk_config.DiskConfig', FakeExt)","from mox3 import moxfrom nova.api.openstack.compute import disk_configfrom nova.api.openstack.compute import keypairsfrom nova.network import manager self.stubs.Set(compute_api.API, 'get_all', lambda api, *a, **k: return_servers(*a, **k)) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: return_server(*a, **k)) self.stubs.Set(compute_api.API, 'get', fake_get) self.stubs.Set(compute_api.API, 'get', return_instance_with_host) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: new_return_server(*a, **k)) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: new_return_server(*a, **k)) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: return_server(*a, **k)) self.stubs.Set(compute_api.API, 'get', fake_instance_get) self.stubs.Set(compute_api.API, 'get_all', return_servers_empty) self.stubs.Set(compute_api.API, 'get_all', return_servers_empty) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'get_all', return_servers_with_host) self.stubs.Set(compute_api.API, 'get_all', fake_get_all) self.stubs.Set(compute_api.API, 'delete', fake_delete) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: fake_get(*a, **k)) self.stubs.Set(compute_api.API, 'soft_delete', fakes.fake_actions_to_locked_server) self.stubs.Set(compute_api.API, 'delete', fakes.fake_actions_to_locked_server) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: fake_get(*a, **k)) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: fake_get(*a, **k)) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: fake_get(*a, **k)) self.stubs.Set(fake._FakeImageService, 'show', fake_get_image) self.stubs.Set(fake._FakeImageService, 'show', fake_get_image) self.stubs.Set(fake._FakeImageService, 'show', fake_get_image) self.stubs.Set(fake._FakeImageService, 'show', fake_get_image) self.stubs.Set(fake._FakeImageService, 'show', fake_get_image) def test_start(self): self.mox.StubOutWithMock(compute_api.API, 'start') compute_api.API.start(mox.IgnoreArg(), mox.IgnoreArg()) self.mox.ReplayAll() self.stubs.Set(compute_api.API, 'start', fake_start_stop_not_ready) self.stubs.Set(compute_api.API, 'start', fakes.fake_actions_to_locked_server) self.stubs.Set(compute_api.API, 'start', fake_start_stop_invalid_state) def test_stop(self): self.mox.StubOutWithMock(compute_api.API, 'stop') compute_api.API.stop(mox.IgnoreArg(), mox.IgnoreArg()) self.mox.ReplayAll() self.stubs.Set(compute_api.API, 'stop', fake_start_stop_not_ready) self.stubs.Set(compute_api.API, 'stop', fakes.fake_actions_to_locked_server) self.stubs.Set(compute_api.API, 'stop', fake_start_stop_invalid_state) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: fake_get(*a, **k)) self.stubs.Set(compute_api.API, 'get', lambda api, *a, **k: fake_get(*a, **k)) self.stubs.Set(compute_api.API, 'get', fake_get) def fake_get_server(context, req, id): return fakes.stub_instance(id) self.stubs.Set(self.controller, '_get_server', fake_get_server) rule = {'compute:reboot': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank('/fake/servers/1234/action') self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_reboot, req, '1234', body={'reboot': {'type': 'HARD'}}) def fake_get_server(context, req, id): return fakes.stub_instance(id) self.stubs.Set(self.controller, '_get_server', fake_get_server) rule = {'compute:confirm_resize': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank('/fake/servers/1234/action') self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_confirm_resize, req, '1234', {}) def fake_get_server(context, req, id): return fakes.stub_instance(id) self.stubs.Set(self.controller, '_get_server', fake_get_server) rule = {'compute:revert_resize': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank('/fake/servers/1234/action') self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_revert_resize, req, '1234', {}) self.stubs.Set(uuid, 'uuid4', fake_gen_uuid) server_update_and_get_original) self.stubs.Set(manager.VlanManager, 'allocate_fixed_ip', fake_method) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', create) self.stubs.Set(compute_api.API, 'create', create) self.stubs.Set(keypairs.Keypairs, 'server_create', fake_keypair_server_create) self.stubs.Set(fakes.QUOTAS, 'count', fake_count) self.stubs.Set(fakes.QUOTAS, 'limit_check', fake_limit_check) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(compute_api.API, 'create', fake_create) self.stubs.Set(disk_config, 'DiskConfig', FakeExt) self.stubs.Set(disk_config, 'DiskConfig', FakeExt)",143,136
openstack%2Fnova~master~I42a3b8349f0fec92b0ae8d3a995608b3548ad16b,openstack/nova,master,I42a3b8349f0fec92b0ae8d3a995608b3548ad16b,Stop using mox in api/openstack/compute/test_floating_ips.py,ABANDONED,2016-05-30 07:10:38.000000000,2016-11-30 02:43:56.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 18320}]","[{'number': 1, 'created': '2016-05-30 07:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a6bb83e0abecd5d43a8b04e3026f9d41c46b697', 'message': 'Remove mox from api/openstack/compute/test_floating_ips.py\n\nReplaced stubs.Set() with stub_out() and mock.patch() in\nnova/tests/unit/api/openstack/compute/test_floating_ips.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I42a3b8349f0fec92b0ae8d3a995608b3548ad16b\n'}, {'number': 2, 'created': '2016-08-02 08:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6007523115014d52eccb5f9e88973ad1d4974f6', 'message': 'Remove mox from api/openstack/compute/test_floating_ips.py\n\nReplaced stubs.Set() with stub_out() and mock.patch() in\nnova/tests/unit/api/openstack/compute/test_floating_ips.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I42a3b8349f0fec92b0ae8d3a995608b3548ad16b\n'}, {'number': 3, 'created': '2016-09-06 07:06:07.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/70b795aeccf80b5445f0c9d4a4fe09dd2c3bc360', 'message': 'Stop using mox in api/openstack/compute/test_floating_ips.py\n\nPartially-Implements: blueprint remove-mox-ocata\n\nChange-Id: I42a3b8349f0fec92b0ae8d3a995608b3548ad16b\n'}]",0,322668,70b795aeccf80b5445f0c9d4a4fe09dd2c3bc360,27,9,3,18320,,,0,"Stop using mox in api/openstack/compute/test_floating_ips.py

Partially-Implements: blueprint remove-mox-ocata

Change-Id: I42a3b8349f0fec92b0ae8d3a995608b3548ad16b
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/322668/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_floating_ips.py'],1,0a6bb83e0abecd5d43a8b04e3026f9d41c46b697,bp/remove-mox-ocata," self.stub_out(""nova.compute.api.API.get"", compute_api_get) self.stub_out(""nova.network.api.API.get_floating_ip"", network_api_get_floating_ip) self.stub_out(""nova.network.api.API.get_floating_ip_by_address"", network_api_get_floating_ip_by_address) self.stub_out(""nova.network.api.API.get_floating_ips_by_project"", network_api_get_floating_ips_by_project) self.stub_out(""nova.network.api.API.release_floating_ip"", network_api_release) self.stub_out(""nova.network.api.API.disassociate_floating_ip"", network_api_disassociate) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.compute.utils.get_nw_info_for_instance"", stub_nw_info(self)) self.stub_out(""nova.network.api.API.get_floating_ip"", fake_get_floating_ip) self.stub_out(""nova.network.api.API.get_floating_ip"", fake_get_floating_ip) with test.nested( mock.patch.object( self.floating_ips, ""get_instance_by_floating_ip_addr"", side_effect=fake_get_instance_by_floating_ip_addr), mock.patch.object( self.floating_ips, ""disassociate_floating_ip"", side_effect=fake_disassociate_floating_ip), ) as (mock_get, mock_disassociate): res = self.controller.delete(self.fake_req, '9876') # NOTE: on v2.1, http status code is set as wsgi_code of API # method instead of status_int in a response object. if isinstance(self.controller, fips_v21.FloatingIPController): status_int = self.controller.delete.wsgi_code else: status_int = res.status_int self.assertEqual(202, status_int) # Only mock_get is called self.assertTrue(mock_get.called) self.assertFalse(mock_disassociate.called) self.stub_out(""nova.network.api.API.get_floating_ip"", fake_get_floating_ip) self.stub_out(""nova.network.api.API.get_floating_ip"", get_floating_ip) self.stub_out(""nova.network.api.API.allocate_floating_ip"", fake_allocate) self.stub_out(""nova.network.api.API.allocate_floating_ip"", fake_allocate) self.stub_out(""nova.network.api.API.allocate_floating_ip"", fake1) self.stub_out(""nova.network.api.API.get_floating_ip_by_address"", fake2) self.stub_out(""nova.network.api.API.associate_floating_ip"", fake_associate_floating_ip) self.stub_out(""nova.compute.api.API.get"", fake_get) self.stub_out(""nova.network.api.API.associate_floating_ip"", fake_associate_floating_ip) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.network.api.API.associate_floating_ip"", fake_network_api_associate) self.stub_out(""nova.network.api.API.get_floating_ip_by_address"", network_api_get_floating_ip_by_address) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.network.api.API.get_floating_ip_by_address"", fake_get_floating_ip_addr_auto_assigned) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.network.api.API.disassociate_floating_ip"", network_api_disassociate) self.stub_out(""nova.network.api.API.get_floating_ip_by_address"", fake_get_floating_ip_addr_auto_assigned) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.network.api.API.disassociate_floating_ip"", network_api_disassociate) self.stub_out(""nova.compute.api.API.get"", compute_api_get) self.stub_out(""nova.network.api.API.get_floating_ip"", network_api_get_floating_ip) self.stub_out(""nova.network.api.API.get_floating_ip_by_address"", network_api_get_floating_ip_by_address) self.stub_out(""nova.network.api.API.get_floating_ips_by_project"", network_api_get_floating_ips_by_project) self.stub_out(""nova.network.api.API.release_floating_ip"", network_api_release) self.stub_out(""nova.network.api.API.disassociate_floating_ip"", network_api_disassociate) self.stub_out(""nova.network.api.API."" ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stub_out(""nova.compute.utils.get_nw_info_for_instance"", stub_nw_info(self)) self.stub_out(""nova.network.api.API.associate_floating_ip"", fake_associate_floating_ip) self.stub_out(""nova.network.api.API.associate_floating_ip"", fake_associate_floating_ip)","from nova import compute from nova.compute import utils as compute_utils self.stubs.Set(compute.api.API, ""get"", compute_api_get) self.stubs.Set(network.api.API, ""get_floating_ip"", network_api_get_floating_ip) self.stubs.Set(network.api.API, ""get_floating_ip_by_address"", network_api_get_floating_ip_by_address) self.stubs.Set(network.api.API, ""get_floating_ips_by_project"", network_api_get_floating_ips_by_project) self.stubs.Set(network.api.API, ""release_floating_ip"", network_api_release) self.stubs.Set(network.api.API, ""disassociate_floating_ip"", network_api_disassociate) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(compute_utils, ""get_nw_info_for_instance"", stub_nw_info(self)) self.stubs.Set(network.api.API, ""get_floating_ip"", fake_get_floating_ip) self.stubs.Set(network.api.API, ""get_floating_ip"", fake_get_floating_ip) self.stubs.Set(self.floating_ips, ""get_instance_by_floating_ip_addr"", fake_get_instance_by_floating_ip_addr) self.stubs.Set(self.floating_ips, ""disassociate_floating_ip"", fake_disassociate_floating_ip) res = self.controller.delete(self.fake_req, '9876') # NOTE: on v2.1, http status code is set as wsgi_code of API # method instead of status_int in a response object. if isinstance(self.controller, fips_v21.FloatingIPController): status_int = self.controller.delete.wsgi_code else: status_int = res.status_int self.assertEqual(status_int, 202) self.stubs.Set(network.api.API, ""get_floating_ip"", fake_get_floating_ip) self.stubs.Set(network.api.API, ""get_floating_ip"", get_floating_ip) self.stubs.Set(network.api.API, ""allocate_floating_ip"", fake_allocate) self.stubs.Set(network.api.API, ""allocate_floating_ip"", fake_allocate) self.stubs.Set(network.api.API, ""allocate_floating_ip"", fake1) self.stubs.Set(network.api.API, ""get_floating_ip_by_address"", fake2) self.stubs.Set(network.api.API, ""associate_floating_ip"", fake_associate_floating_ip) self.stubs.Set(compute.api.API, ""get"", fake_get) self.stubs.Set(network.api.API, ""associate_floating_ip"", fake_associate_floating_ip) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(network.api.API, ""associate_floating_ip"", fake_network_api_associate) self.stubs.Set(network.api.API, ""get_floating_ip_by_address"", network_api_get_floating_ip_by_address) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(network.api.API, ""get_floating_ip_by_address"", fake_get_floating_ip_addr_auto_assigned) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(network.api.API, ""disassociate_floating_ip"", network_api_disassociate) self.stubs.Set(network.api.API, ""get_floating_ip_by_address"", fake_get_floating_ip_addr_auto_assigned) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(network.api.API, ""disassociate_floating_ip"", network_api_disassociate) self.stubs.Set(compute.api.API, ""get"", compute_api_get) self.stubs.Set(network.api.API, ""get_floating_ip"", network_api_get_floating_ip) self.stubs.Set(network.api.API, ""get_floating_ip_by_address"", network_api_get_floating_ip_by_address) self.stubs.Set(network.api.API, ""get_floating_ips_by_project"", network_api_get_floating_ips_by_project) self.stubs.Set(network.api.API, ""release_floating_ip"", network_api_release) self.stubs.Set(network.api.API, ""disassociate_floating_ip"", network_api_disassociate) self.stubs.Set(network.api.API, ""get_instance_id_by_floating_address"", get_instance_by_floating_ip_addr) self.stubs.Set(compute_utils, ""get_nw_info_for_instance"", stub_nw_info(self)) self.stubs.Set(network.api.API, ""associate_floating_ip"", fake_associate_floating_ip) self.stubs.Set(network.api.API, ""associate_floating_ip"", fake_associate_floating_ip)",106,91
openstack%2Fnova~master~I7579636e5e5a6a69ffa4b143cce21293a41642ba,openstack/nova,master,I7579636e5e5a6a69ffa4b143cce21293a41642ba,Stop using mox in unit/virt/xenapi/test_vm_utils.py (1),ABANDONED,2016-07-19 06:59:58.000000000,2016-11-30 02:43:52.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-07-19 06:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1a01307ba55a5ef25a0a98e7a4558783783518c', 'message': 'Stop using mox from unit/virt/xenapi/test_vm_utils.py (1)\n\nReplaced mox with mock in\nnova/tests/unit/virt/xenapi/test_vm_utils.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I7579636e5e5a6a69ffa4b143cce21293a41642ba\n'}, {'number': 2, 'created': '2016-09-06 09:35:26.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_vm_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27467b343b94dcf12b6be56de6efd0b6fb09fd22', 'message': 'Stop using mox in unit/virt/xenapi/test_vm_utils.py (1)\n\nPartially-Implements: blueprint remove-mox-ocata\n\nChange-Id: I7579636e5e5a6a69ffa4b143cce21293a41642ba\n'}]",0,344054,27467b343b94dcf12b6be56de6efd0b6fb09fd22,15,7,2,18320,,,0,"Stop using mox in unit/virt/xenapi/test_vm_utils.py (1)

Partially-Implements: blueprint remove-mox-ocata

Change-Id: I7579636e5e5a6a69ffa4b143cce21293a41642ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/344054/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/xenapi/test_vm_utils.py'],1,c1a01307ba55a5ef25a0a98e7a4558783783518c,bp/remove-mox-ocata," self.session = mock.MagicMock() def test_normal(self): self.session.reset_mock() self.session.call_xenapi.return_value = ['x'] self.session.call_xenapi.assert_called_once_with( ""VM.get_by_name_label"", self.name_label) self.session.reset_mock() self.session.call_xenapi.return_value = [] self.session.call_xenapi.assert_called_once_with( ""VM.get_by_name_label"", self.name_label) self.session.reset_mock() self.session.call_xenapi.return_value = ['a', 'b'] self.session.call_xenapi.assert_called_once_with( ""VM.get_by_name_label"", self.name_label) self.session.reset_mock() self.session.call_xenapi.side_effect = [[], ['x']] self.session.call_xenapi.assert_has_calls([ mock.call(""VM.get_by_name_label"", self.name_label + '-rescue'), mock.call(""VM.get_by_name_label"", self.name_label)]) self.session.reset_mock() self.session.call_xenapi.return_value = ['y'] self.session.call_xenapi.assert_called_once_with( ""VM.get_by_name_label"", self.name_label + '-rescue') self.session.reset_mock() self.session.call_xenapi.return_value = ['a', 'b', 'c'] self.session.call_xenapi.assert_called_once_with( ""VM.get_by_name_label"", self.name_label + '-rescue') @mock.patch.object(vm_utils, '_get_sys_hypervisor_uuid') def test_get_this_vm_uuid_new_kernel(self, mock_hyper_uuid): mock_hyper_uuid.return_value = '2f46f0f5-f14c-ef1b-1fac-9eeca0888a3f' mock_hyper_uuid.assert_called_once_with() @mock.patch.object(vm_utils, '_get_sys_hypervisor_uuid') @mock.patch.object(utils, 'execute') def test_get_this_vm_uuid_old_kernel_reboot(self, mock_utils_exec, mock_hyper_uuid): mock_hyper_uuid.side_effect = IOError(13, 'Permission denied') mock_utils_exec.side_effect = [ ('27', ''), ('/vm/2f46f0f5-f14c-ef1b-1fac-9eeca0888a3f', '') ] mock_hyper_uuid.assert_called_once_with() mock_utils_exec.assert_has_calls([ mock.call('xenstore-read', 'domid', run_as_root=True), mock.call('xenstore-read', '/local/domain/27/vm', run_as_root=True) ])"," self.session = self.mox.CreateMockAnything('Fake Session') def _do_mock(self, result): self.session.call_xenapi( ""VM.get_by_name_label"", self.name_label).AndReturn(result) self.mox.ReplayAll() def test_normal(self): self._do_mock(['x']) self._do_mock([]) self._do_mock(['a', 'b']) self.session.call_xenapi( ""VM.get_by_name_label"", self.name_label + '-rescue').AndReturn([]) self._do_mock(['x']) self.session.call_xenapi( ""VM.get_by_name_label"", self.name_label + '-rescue').AndReturn(['y']) self.mox.ReplayAll() self.session.call_xenapi( ""VM.get_by_name_label"", self.name_label + '-rescue').AndReturn(['a', 'b', 'c']) self.mox.ReplayAll() def test_get_this_vm_uuid_new_kernel(self): self.mox.StubOutWithMock(vm_utils, '_get_sys_hypervisor_uuid') vm_utils._get_sys_hypervisor_uuid().AndReturn( '2f46f0f5-f14c-ef1b-1fac-9eeca0888a3f') self.mox.ReplayAll() self.mox.VerifyAll() def test_get_this_vm_uuid_old_kernel_reboot(self): self.mox.StubOutWithMock(vm_utils, '_get_sys_hypervisor_uuid') self.mox.StubOutWithMock(utils, 'execute') vm_utils._get_sys_hypervisor_uuid().AndRaise( IOError(13, 'Permission denied')) utils.execute('xenstore-read', 'domid', run_as_root=True).AndReturn( ('27', '')) utils.execute('xenstore-read', '/local/domain/27/vm', run_as_root=True).AndReturn( ('/vm/2f46f0f5-f14c-ef1b-1fac-9eeca0888a3f', '')) self.mox.ReplayAll() self.mox.VerifyAll()",49,40
openstack%2Fnova~master~I7dcbcea3bc76340ab7d347489b6a3344092f5868,openstack/nova,master,I7dcbcea3bc76340ab7d347489b6a3344092f5868,Stop using mox in unit/cells/test_cells_rpc_driver.py,ABANDONED,2016-06-23 03:59:18.000000000,2016-11-30 02:43:50.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18320}]","[{'number': 1, 'created': '2016-06-23 03:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958140ad3de8d9d1cc4082fa0e54e9481a388784', 'message': 'Stop using mox from unit/cells/test_cells_rpc_driver.py\n\nAdded class test.py/ParamValidator as a alternative\nof mox.Func().\n\nReplaced mox with mock in\nnova/tests/unit/cells/test_cells_rpc_driver.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I7dcbcea3bc76340ab7d347489b6a3344092f5868\n'}, {'number': 2, 'created': '2016-06-23 08:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2030fd278586440409609568ce8d7c10d51141e8', 'message': 'Stop using mox from unit/cells/test_cells_rpc_driver.py\n\nAdded class test.py/ParamValidator as a alternative\nof mox.Func().\n\nReplaced mox with mock in\nnova/tests/unit/cells/test_cells_rpc_driver.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I7dcbcea3bc76340ab7d347489b6a3344092f5868\n'}, {'number': 3, 'created': '2016-07-12 04:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f81de1362d90271fec74f3272db539b8380eba0', 'message': 'Stop using mox from unit/cells/test_cells_rpc_driver.py\n\nAdded class test.py/ParamValidator as a alternative\nof mox.Func().\n\nReplaced mox with mock in\nnova/tests/unit/cells/test_cells_rpc_driver.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I7dcbcea3bc76340ab7d347489b6a3344092f5868\n'}, {'number': 4, 'created': '2016-09-06 09:39:50.000000000', 'files': ['nova/tests/unit/cells/test_cells_rpc_driver.py', 'nova/test.py', 'nova/tests/unit/test_test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/745ba2ec7013ed2f0234358284057638b12a1845', 'message': 'Stop using mox in unit/cells/test_cells_rpc_driver.py\n\nAdded class test.py/ParamValidator as a alternative\nof mox.Func().\n\nReplaced mox with mock in\nnova/tests/unit/cells/test_cells_rpc_driver.py\n\nPartially-Implements: blueprint remove-mox-ocata\n\nChange-Id: I7dcbcea3bc76340ab7d347489b6a3344092f5868\n'}]",0,333101,745ba2ec7013ed2f0234358284057638b12a1845,48,14,4,18320,,,0,"Stop using mox in unit/cells/test_cells_rpc_driver.py

Added class test.py/ParamValidator as a alternative
of mox.Func().

Replaced mox with mock in
nova/tests/unit/cells/test_cells_rpc_driver.py

Partially-Implements: blueprint remove-mox-ocata

Change-Id: I7dcbcea3bc76340ab7d347489b6a3344092f5868
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/333101/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cells/test_cells_rpc_driver.py', 'nova/test.py']",2,958140ad3de8d9d1cc4082fa0e54e9481a388784,bp/remove-mox-ocata," class ParamValidator(object): """"""Validates a function param The ParamValidator class is a helper for use with the mock.assert_called_with() method that lets you validate a particular parameter using a function. It enables strict check than the built in mock.ANY helper, and is the equivalent of the mox.Func() from the legacy mox library. Example usage could be: def my_param_validator(param): return param == 1234 mock_some_method.assert_called_once_with( ""hello"", ParamValidator(my_param_validator), mock.ANY, ""world"", MatchType(objects.KeyPair)) """""" def __init__(self, wanttype): self.wanttype = wanttype def __eq__(self, other): return self.wanttype(other) def __repr__(self): return ""<ParamValidator:"" + str(self.wanttype) + "">""",,85,60
openstack%2Fnova~master~I5d777a7d152eb92bcb6ba35e0d1edfe6206cdc64,openstack/nova,master,I5d777a7d152eb92bcb6ba35e0d1edfe6206cdc64,Stop using mox int unit/virt/xenapi/stubs.py,ABANDONED,2016-06-28 08:39:10.000000000,2016-11-30 02:43:49.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17920}, {'_account_id': 18320}]","[{'number': 1, 'created': '2016-06-28 08:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec0d98b4663e4fc75dace93281b55f39eca075e2', 'message': 'Stop using mox from unit/virt/xenapi/stubs.py\n\nReplaced stub.Set() with stub_out() in\nnova/tests/unit/virt/xenapi/stubs.py and related files.\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I5d777a7d152eb92bcb6ba35e0d1edfe6206cdc64\n'}, {'number': 2, 'created': '2016-06-29 09:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/702d6da5b7187c232e3af0a56f79ae48d558be4f', 'message': 'Stop using mox from unit/virt/xenapi/stubs.py\n\nReplaced stub.Set() with stub_out() in\nnova/tests/unit/virt/xenapi/stubs.py and related files.\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I5d777a7d152eb92bcb6ba35e0d1edfe6206cdc64\n'}, {'number': 3, 'created': '2016-09-06 09:43:29.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/compute/test_compute_xen.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/image/test_bittorrent.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa26dadb5d7824c1b98812a9dc342bcf6d7da91d', 'message': 'Stop using mox int unit/virt/xenapi/stubs.py\n\nReplaced stub.Set() with stub_out() in\nnova/tests/unit/virt/xenapi/stubs.py and related files.\n\nPartially-Implements: blueprint remove-mox-ocata\n\nChange-Id: I5d777a7d152eb92bcb6ba35e0d1edfe6206cdc64\n'}]",0,334848,fa26dadb5d7824c1b98812a9dc342bcf6d7da91d,26,11,3,18320,,,0,"Stop using mox int unit/virt/xenapi/stubs.py

Replaced stub.Set() with stub_out() in
nova/tests/unit/virt/xenapi/stubs.py and related files.

Partially-Implements: blueprint remove-mox-ocata

Change-Id: I5d777a7d152eb92bcb6ba35e0d1edfe6206cdc64
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/334848/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/compute/test_compute_xen.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/image/test_bittorrent.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py']",8,ec0d98b4663e4fc75dace93281b55f39eca075e2,bp/remove-mox-ocata," stubs.stubout_session(self, fake.SessionBase)"," stubs.stubout_session(self.stubs, fake.SessionBase)",135,110
openstack%2Fnova~master~I9b3bf47605ce3848ddfe1a8c686bfd5048c7224f,openstack/nova,master,I9b3bf47605ce3848ddfe1a8c686bfd5048c7224f,Stop using mox in unit/virt/xenapi/test_vmops.py (2/2),ABANDONED,2016-07-19 04:14:24.000000000,2016-11-30 02:43:46.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-07-19 04:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7ad184df44d86cbd4fdc25266e11f47c89d2012', 'message': 'Stop using mox from unit/virt/xenapi/test_vmops.py (end)\n\nReplaced mox with mock in\nnova/tests/unit/virt/xenapi/test_vmops.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I9b3bf47605ce3848ddfe1a8c686bfd5048c7224f\n'}, {'number': 2, 'created': '2016-07-19 04:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4b1239315e714ae20891955278a1bf6ef9b2069', 'message': 'Stop using mox from unit/virt/xenapi/test_vmops.py (end)\n\nReplaced mox with mock in\nnova/tests/unit/virt/xenapi/test_vmops.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: I9b3bf47605ce3848ddfe1a8c686bfd5048c7224f\n'}, {'number': 3, 'created': '2016-09-06 09:46:07.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc9b4e35ff01a1ca3f3e6edb62877fb881d0c4f7', 'message': 'Stop using mox in unit/virt/xenapi/test_vmops.py (2/2)\n\nPartially-Implements: blueprint remove-mox-ocata\n\nChange-Id: I9b3bf47605ce3848ddfe1a8c686bfd5048c7224f\n'}]",0,344010,bc9b4e35ff01a1ca3f3e6edb62877fb881d0c4f7,17,7,3,18320,,,0,"Stop using mox in unit/virt/xenapi/test_vmops.py (2/2)

Partially-Implements: blueprint remove-mox-ocata

Change-Id: I9b3bf47605ce3848ddfe1a8c686bfd5048c7224f
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/344010/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/xenapi/test_vmops.py'],1,c7ad184df44d86cbd4fdc25266e11f47c89d2012,bp/remove-mox-ocata," with mock.patch.object(self._session, 'call_xenapi') as mock_xenapi: # self._session.call_xenapi(""VM.remove_from_xenstore_data"", vm_ref, # ""vm-data/hostname"") # # self.mox.ReplayAll() self.vmops._remove_hostname(instance, vm_ref) mock_xenapi.assert_called_once_with( ""VM.remove_from_xenstore_data"", vm_ref, ""vm-data/hostname"") agent = mock.MagicMock() with test.nested( mock.patch.object(self.vmops, 'agent_enabled', return_value=True), mock.patch.object(self.vmops, '_get_agent', return_value=agent), mock.patch.object(self.vmops, '_inject_hostname'), mock.patch.object(self.vmops, '_remove_hostname'), ): self.vmops.reset_network(instance) agent.resetnetwork.assert_called_once_with() self.vmops.agent_enabled.assert_called_once_with( instance) self.vmops._get_agent.assert_called_once_with( instance, vm_ref) self.vmops._inject_hostname.assert_called_once_with( instance, vm_ref, False) self.vmops._remove_hostname.assert_called_once_with( instance, vm_ref) with mock.patch.object(self.vmops, '_add_to_param_xenstore' ) as mock_xen_add: self.vmops._inject_hostname(instance, vm_ref, rescue=False) mock_xen_add.assert_called_once_with( vm_ref, 'vm-data/hostname', 'dummy') with mock.patch.object(self.vmops, '_add_to_param_xenstore' ) as mock_xen_add: self.vmops._inject_hostname(instance, vm_ref, rescue=True) mock_xen_add.assert_called_once_with( vm_ref, 'vm-data/hostname', 'RESCUE-dummy') with mock.patch.object(self.vmops, '_add_to_param_xenstore' ) as mock_xen_add: self.vmops._inject_hostname(instance, vm_ref, rescue=True) mock_xen_add.assert_called_once_with( vm_ref, 'vm-data/hostname', 'RESCUE-dummydum') @mock.patch.object(vm_utils, 'get_power_state') @mock.patch.object(greenthread, 'sleep') def test_wait_for_instance_to_start(self, mock_sleep, mock_power_state): mock_power_state.side_effect = [power_state.SHUTDOWN, power_state.RUNNING] mock_sleep.assert_called_once_with(0.5) mock_power_state.assert_has_calls([mock.call(self._session, vm_ref), mock.call(self._session, vm_ref)]) with test.nested( mock.patch.object(xenapi_agent, 'should_use_agent', return_value=True), mock.patch.object(self.vmops, '_get_agent', return_value=agent), mock.patch.object(agent, 'get_version', return_value='1.2.3'), mock.patch.object(agent, 'resetnetwork'), mock.patch.object(agent, 'update_if_needed'), ): self.vmops._configure_new_instance_with_agent(instance, vm_ref, None, None) xenapi_agent.should_use_agent.assert_called_once_with(instance) self.vmops._get_agent.assert_called_once_with(instance, vm_ref) agent.get_version.assert_called_once_with() agent.resetnetwork.assert_called_once_with() agent.update_if_needed.assert_called_once_with('1.2.3')"," self.mox.StubOutWithMock(self._session, 'call_xenapi') self._session.call_xenapi(""VM.remove_from_xenstore_data"", vm_ref, ""vm-data/hostname"") self.mox.ReplayAll() self.vmops._remove_hostname(instance, vm_ref) self.mox.VerifyAll() class mock_agent(object): def __init__(self): self.called = False def resetnetwork(self): self.called = True agent = mock_agent() self.mox.StubOutWithMock(self.vmops, 'agent_enabled') self.mox.StubOutWithMock(self.vmops, '_get_agent') self.mox.StubOutWithMock(self.vmops, '_inject_hostname') self.mox.StubOutWithMock(self.vmops, '_remove_hostname') self.vmops.agent_enabled(instance).AndReturn(True) self.vmops._get_agent(instance, vm_ref).AndReturn(agent) self.vmops._inject_hostname(instance, vm_ref, False) self.vmops._remove_hostname(instance, vm_ref) self.mox.ReplayAll() self.vmops.reset_network(instance) self.assertTrue(agent.called) self.mox.VerifyAll() self.mox.StubOutWithMock(self.vmops, '_add_to_param_xenstore') self.vmops._add_to_param_xenstore(vm_ref, 'vm-data/hostname', 'dummy') self.mox.ReplayAll() self.vmops._inject_hostname(instance, vm_ref, rescue=False) self.mox.StubOutWithMock(self.vmops, '_add_to_param_xenstore') self.vmops._add_to_param_xenstore(vm_ref, 'vm-data/hostname', 'RESCUE-dummy') self.mox.ReplayAll() self.vmops._inject_hostname(instance, vm_ref, rescue=True) self.mox.StubOutWithMock(self.vmops, '_add_to_param_xenstore') self.vmops._add_to_param_xenstore(vm_ref, 'vm-data/hostname', 'RESCUE-dummydum') self.mox.ReplayAll() self.vmops._inject_hostname(instance, vm_ref, rescue=True) def test_wait_for_instance_to_start(self): self.mox.StubOutWithMock(vm_utils, 'get_power_state') self.mox.StubOutWithMock(greenthread, 'sleep') vm_utils.get_power_state(self._session, vm_ref).AndReturn( power_state.SHUTDOWN) greenthread.sleep(0.5) vm_utils.get_power_state(self._session, vm_ref).AndReturn( power_state.RUNNING) self.mox.ReplayAll() self.mox.StubOutWithMock(xenapi_agent, 'should_use_agent') self.mox.StubOutWithMock(self.vmops, '_get_agent') self.mox.StubOutWithMock(agent, 'get_version') self.mox.StubOutWithMock(agent, 'resetnetwork') self.mox.StubOutWithMock(agent, 'update_if_needed') xenapi_agent.should_use_agent(instance).AndReturn(True) self.vmops._get_agent(instance, vm_ref).AndReturn(agent) agent.get_version().AndReturn('1.2.3') agent.resetnetwork() agent.update_if_needed('1.2.3') self.mox.ReplayAll() self.vmops._configure_new_instance_with_agent(instance, vm_ref, None, None)",68,67
openstack%2Fsenlin-dashboard~master~Ib361b357a3b192d4289db0dd013ab68b36cb0866,openstack/senlin-dashboard,master,Ib361b357a3b192d4289db0dd013ab68b36cb0866,Show team and repo badges on README,MERGED,2016-11-25 16:49:58.000000000,2016-11-30 02:39:29.000000000,2016-11-30 02:39:29.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 9576}, {'_account_id': 11034}, {'_account_id': 16237}]","[{'number': 1, 'created': '2016-11-25 16:49:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/3f0fcf4bf9150220ce2bc2ae94d11c9d184e6e7d', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nhttps://gist.github.com/f0fdb350dc34ec2c7fbd701779def705\n\nChange-Id: Ib361b357a3b192d4289db0dd013ab68b36cb0866\n""}]",0,403081,3f0fcf4bf9150220ce2bc2ae94d11c9d184e6e7d,9,5,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

https://gist.github.com/f0fdb350dc34ec2c7fbd701779def705

Change-Id: Ib361b357a3b192d4289db0dd013ab68b36cb0866
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/81/403081/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3f0fcf4bf9150220ce2bc2ae94d11c9d184e6e7d,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/senlin-dashboard.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Ftempest~master~Ibe17a797192766e185f6765927aaaeb361bd9cee,openstack/tempest,master,Ibe17a797192766e185f6765927aaaeb361bd9cee,WIP: ssh into active instance before and after live migration,ABANDONED,2016-03-01 21:51:36.000000000,2016-11-30 02:39:15.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1921}, {'_account_id': 5948}, {'_account_id': 6873}, {'_account_id': 7016}, {'_account_id': 7461}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12299}, {'_account_id': 15739}]","[{'number': 1, 'created': '2016-03-01 21:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b9556c56b32726eae4a73e8ba03a41bfe581262', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 2, 'created': '2016-03-02 19:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7986cedab33646f845f5121e9b5aa9cd2e97319a', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 3, 'created': '2016-03-02 21:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e75feaac1a3dc4662bee4bde8b398acf898c163', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 4, 'created': '2016-03-03 00:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a65a18c37e3da7ea3a137aba911ef5c2ddb2651', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 5, 'created': '2016-03-03 15:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/23c999d196f51cbce19c6869bde7a7952a5d39ba', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 6, 'created': '2016-06-01 00:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c462d850bd0671341038bbb6bbf91af297fe1401', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 7, 'created': '2016-06-03 17:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/891e4fbf5ddde9cd0872ce24f5fa61686b097485', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\n'}, {'number': 8, 'created': '2016-06-13 16:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a0c2a4f4a896e44846ca9e73ac62e526c2b469e', 'message': 'DNM: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\nCo-Authored-By: Hardik Italia <hardik.italia@hpe.com>\n'}, {'number': 9, 'created': '2016-07-06 16:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5b3c7fc4d3d402e3a79b7274537fd5d7de2b1514', 'message': 'ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Idfbea7f3c66d6a1df5d3050912d620591c69b614\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\nCo-Authored-By: Hardik Italia <hardik.italia@hpe.com>\n'}, {'number': 10, 'created': '2016-07-20 19:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ed0eb88198a3da889379e29a5884b47b6ccf81f', 'message': 'ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\nCo-Authored-By: Hardik Italia <hardik.italia@hpe.com>\n'}, {'number': 11, 'created': '2016-09-06 16:12:12.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py', 'tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/400669a30fb8e9bb20371bde318056a2176bfa85', 'message': 'WIP: ssh into active instance before and after live migration\n\nApparently there are problems with neutron DVR plus live migration\ntrashing your floating IPs. Who would have guessed?!\n\nThere is a series of neutron changes which are dependent on a\nnova change to fix this. This change depends on the top-level\nneutron change which eventually depends on the nova change.\n\nThe gate-tempest-dsvm-neutron-dvr-multinode-full job is also\ntesting this code and runs live migration tests with floating IPs,\nand is in the Tempest experimental queue, so we can run that job\non this change to test the neutron/nova changes underneath it.\n\nRelated-Bug: #1456073\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\n\nChange-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee\nCo-Authored-By: Hardik Italia <hardik.italia@hpe.com>\n'}]",12,286855,400669a30fb8e9bb20371bde318056a2176bfa85,98,13,11,6873,,,0,"WIP: ssh into active instance before and after live migration

Apparently there are problems with neutron DVR plus live migration
trashing your floating IPs. Who would have guessed?!

There is a series of neutron changes which are dependent on a
nova change to fix this. This change depends on the top-level
neutron change which eventually depends on the nova change.

The gate-tempest-dsvm-neutron-dvr-multinode-full job is also
testing this code and runs live migration tests with floating IPs,
and is in the Tempest experimental queue, so we can run that job
on this change to test the neutron/nova changes underneath it.

Related-Bug: #1456073

Depends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68

Change-Id: Ibe17a797192766e185f6765927aaaeb361bd9cee
Co-Authored-By: Hardik Italia <hardik.italia@hpe.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/286855/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_live_migration.py', 'tempest/common/waiters.py']",2,6b9556c56b32726eae4a73e8ba03a41bfe581262,bug/1456073, return body, return,32,3
openstack%2Fneutron~master~If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c,openstack/neutron,master,If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c,Adjustment method execution order,MERGED,2016-09-21 03:13:16.000000000,2016-11-30 02:24:02.000000000,2016-11-22 20:54:46.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 14208}, {'_account_id': 14611}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 17292}, {'_account_id': 21784}, {'_account_id': 22574}, {'_account_id': 23304}, {'_account_id': 23312}, {'_account_id': 23382}]","[{'number': 1, 'created': '2016-09-21 03:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afa07c6c0cfcedee2164d7f5a3a061cdefa06089', 'message': 'Adjustment method execution order\n\nMaybe we could execute setup_tunnel_br and than setup_tunnel_br_flows\n\nChange-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c\n'}, {'number': 2, 'created': '2016-10-12 04:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcb522a509a1ccd9bdfbbb22d93f76f4379a8558', 'message': 'Adjustment method execution order\n\nMaybe we could execute setup_tunnel_br and than setup_tunnel_br_flows\n\nChange-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c\n'}, {'number': 3, 'created': '2016-10-27 11:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a704a9e5375e4ead7162d22be07dca1ace4f144', 'message': 'Adjustment method execution order\n\nMaybe we could execute setup_tunnel_br and than setup_tunnel_br_flows\n\nChange-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c\n'}, {'number': 4, 'created': '2016-11-01 01:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76cdca8c6bb3b84b2ba723e4d84bde3861bf44b1', 'message': 'Adjustment method execution order\n\nMaybe we could execute setup_tunnel_br and then setup_tunnel_br_flows\n\nChange-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c\n'}, {'number': 5, 'created': '2016-11-03 10:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03f406daf094d1bbc0612dc3a2d45fb594ed5332', 'message': 'Adjustment method execution order\n\nMaybe we could execute setup_tunnel_br and then setup_tunnel_br_flows\n\nChange-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c\n'}, {'number': 6, 'created': '2016-11-21 11:41:41.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90398a3c55cf0898e497c091c702f7990cd28ccb', 'message': 'Adjustment method execution order\n\nMaybe we could execute setup_tunnel_br and then setup_tunnel_br_flows\n\nChange-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c\n'}]",2,373609,90398a3c55cf0898e497c091c702f7990cd28ccb,79,20,6,22574,,,0,"Adjustment method execution order

Maybe we could execute setup_tunnel_br and then setup_tunnel_br_flows

Change-Id: If4c9bcc1cc0d06c6acf976f1f3b950a3ef86072c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/373609/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,afa07c6c0cfcedee2164d7f5a3a061cdefa06089,adjust_method_order, self.setup_tunnel_br_flows(), if self.enable_tunneling: self.setup_tunnel_br_flows() ,1,3
openstack%2Fui-cookiecutter~master~If95c352e739b52e639d7700f695f5f52c3235578,openstack/ui-cookiecutter,master,If95c352e739b52e639d7700f695f5f52c3235578,Fix checkbox and checkboxes on workflow,ABANDONED,2016-11-25 08:09:49.000000000,2016-11-30 02:21:05.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-25 08:09:49.000000000', 'files': ['{{cookiecutter.repo_name}}/{{cookiecutter.module_folder}}/static/dashboard/{{cookiecutter.panel_group}}/{{cookiecutter.panel}}s/workflow/recipe/{{cookiecutter.panel}}.recipe.controller.js', '{{cookiecutter.repo_name}}/{{cookiecutter.module_folder}}/static/dashboard/{{cookiecutter.panel_group}}/{{cookiecutter.panel}}s/workflow/info/{{cookiecutter.panel}}.info.controller.js'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/7bd29f1d9c5a7dedee5d7ccb9fc73d52b5b2a901', 'message': 'Fix checkbox and checkboxes on workflow\n\nThis patch fixes how to use json-schema-form on checkbox\nand checkboxes.\n\nChange-Id: If95c352e739b52e639d7700f695f5f52c3235578\n'}]",0,402346,7bd29f1d9c5a7dedee5d7ccb9fc73d52b5b2a901,3,1,1,16352,,,0,"Fix checkbox and checkboxes on workflow

This patch fixes how to use json-schema-form on checkbox
and checkboxes.

Change-Id: If95c352e739b52e639d7700f695f5f52c3235578
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/46/402346/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/{{cookiecutter.module_folder}}/static/dashboard/{{cookiecutter.panel_group}}/{{cookiecutter.panel}}s/workflow/recipe/{{cookiecutter.panel}}.recipe.controller.js', '{{cookiecutter.repo_name}}/{{cookiecutter.module_folder}}/static/dashboard/{{cookiecutter.panel_group}}/{{cookiecutter.panel}}s/workflow/info/{{cookiecutter.panel}}.info.controller.js']",2,7bd29f1d9c5a7dedee5d7ccb9fc73d52b5b2a901,fix-repo, type: 'checkbox'," type: 'checkbox', titleMap: [ {value: true, name: ''} ]",2,6
openstack%2Fnova~master~I5436d51ab0528055cebdcec29f0feef10311cf83,openstack/nova,master,I5436d51ab0528055cebdcec29f0feef10311cf83,libvirt: refactor console device creation methods,MERGED,2016-10-12 09:48:56.000000000,2016-11-30 02:16:00.000000000,2016-11-24 22:19:23.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5044}, {'_account_id': 5170}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11303}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-10-12 09:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62891546ca2d36120233ebc7369825f3abf2648a', 'message': 'libvirt: Merge all console device creation into one method\n\nDifferent combinations of virt_types, architectures and config options\nrequire different console devices for libvirt guests. This logic is\nspread over different methods and make it hard to read and understand.\nIntroducing changes to this creates reviews which are very hard to read.\nFor example, a future change will introduce the ""virtlogd"" feature, which\nwill add even more conditionals.\n\nThis change merges all logic of console creation into one method. Two\nunit tests had to be altered for this to work. Although the amount of\nconditionals is not reduced, it is easier to understand what\'s happening\nfor which condition.\n\nChange-Id: I5436d51ab0528055cebdcec29f0feef10311cf83\n'}, {'number': 2, 'created': '2016-10-17 16:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee7ad5e1e4f2f2a211286d6a46d014c498e5c078', 'message': 'libvirt: Merge all console device creation into one method\n\nDifferent combinations of virt_types, architectures and config options\nrequire different console devices for libvirt guests. This logic is\nspread over different methods and make it hard to read and understand.\nIntroducing changes to this creates reviews which are very hard to read.\nFor example, a future change will introduce the ""virtlogd"" feature, which\nwill add even more conditionals.\n\nThis change merges all logic of console creation into one method. Two\nunit tests had to be altered for this to work. Although the amount of\nconditionals is not reduced, it is easier to understand what\'s happening\nfor which condition.\n\nChange-Id: I5436d51ab0528055cebdcec29f0feef10311cf83\n'}, {'number': 3, 'created': '2016-11-07 16:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d23745625897a3f7db2f2a5b06c81273d37997d', 'message': 'libvirt: refactor console device creation methods\n\nDifferent combinations of virt_types, architectures and config options\nrequire different console devices for libvirt guests. This logic is\nspread over different methods and make it hard to read and understand.\nIntroducing changes to this creates reviews which are very hard to read.\nFor example, a future change will introduce the ""virtlogd"" feature, which\nwill add even more conditionals.\n\nThis change merges all logic of console creation into one method. Although\nthe amount of conditionals is not reduced, it is easier to understand\nwhat\'s happening for which condition.\nThis change also removed the instance as a method argument and replaced\nit by the path of the potential ""console.log"" file. Having this path was\nthe only reason to provide an instance as an argument.\n\nChange-Id: I5436d51ab0528055cebdcec29f0feef10311cf83\n'}, {'number': 4, 'created': '2016-11-08 15:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ebdf2d3e157f743c1a39472c3b54b4239ce5757', 'message': 'libvirt: refactor console device creation methods\n\nDifferent combinations of virt_types, architectures and config options\nrequire different console devices for libvirt guests. This logic is\nspread over different methods and make it hard to read and understand.\nIntroducing changes to this creates reviews which are very hard to read.\nFor example, a future change will introduce the ""virtlogd"" feature, which\nwill add even more conditionals.\n\nThis change merges all logic of console creation into one method. Although\nthe amount of conditionals is not reduced, it is easier to understand\nwhat\'s happening for which condition.\nThis change also removed the instance as a method argument and replaced\nit by the path of the potential ""console.log"" file. Having this path was\nthe only reason to provide an instance as an argument.\n\nChange-Id: I5436d51ab0528055cebdcec29f0feef10311cf83\n'}, {'number': 5, 'created': '2016-11-09 13:09:42.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f11188f17b1b8a71e7fde740e439673361c0e688', 'message': 'libvirt: refactor console device creation methods\n\nDifferent combinations of virt_types, architectures and config options\nrequire different console devices for libvirt guests. This logic is\nspread over different methods and make it hard to read and understand.\nIntroducing changes to this creates reviews which are very hard to read.\nFor example, a future change will introduce the ""virtlogd"" feature, which\nwill add even more conditionals.\n\nThis change merges all logic of console creation into one method. Although\nthe amount of conditionals is not reduced, it is easier to understand\nwhat\'s happening for which condition.\nThis change also removed the instance as a method argument and replaced\nit by the path of the potential ""console.log"" file. Having this path was\nthe only reason to provide an instance as an argument.\n\nChange-Id: I5436d51ab0528055cebdcec29f0feef10311cf83\n'}]",9,385367,f11188f17b1b8a71e7fde740e439673361c0e688,84,17,5,11303,,,0,"libvirt: refactor console device creation methods

Different combinations of virt_types, architectures and config options
require different console devices for libvirt guests. This logic is
spread over different methods and make it hard to read and understand.
Introducing changes to this creates reviews which are very hard to read.
For example, a future change will introduce the ""virtlogd"" feature, which
will add even more conditionals.

This change merges all logic of console creation into one method. Although
the amount of conditionals is not reduced, it is easier to understand
what's happening for which condition.
This change also removed the instance as a method argument and replaced
it by the path of the potential ""console.log"" file. Having this path was
the only reason to provide an instance as an argument.

Change-Id: I5436d51ab0528055cebdcec29f0feef10311cf83
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/385367/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,62891546ca2d36120233ebc7369825f3abf2648a,bp/libvirt-virtlogd," caps = drvr._host.get_capabilities() drvr._create_consoles(virt_type=""kvm"", guest=guest, instance=None, flavor={}, image_meta={}, caps=caps) self.assertEqual(2, len(guest.devices)) caps = drvr._host.get_capabilities() instance = None drvr._create_consoles, ""kvm"", guest, instance, flavor, image_meta, caps) drvr._create_consoles(""kvm"", guest, instance, flavor, image_meta, caps) drvr._create_consoles(""kvm"", guest, instance, flavor, image_meta, caps)"," drvr._create_serial_console_devices(guest, instance=None, flavor={}, image_meta={}) self.assertEqual(1, len(guest.devices)) drvr._create_serial_console_devices, guest, None, flavor, image_meta) drvr._create_serial_console_devices(guest, None, flavor, image_meta) drvr._create_serial_console_devices(guest, None, flavor, image_meta)",53,53
openstack%2Ftempest~master~Ic15de7be1000c82bc13517f0bc5cf20d5248873b,openstack/tempest,master,Ic15de7be1000c82bc13517f0bc5cf20d5248873b,Add hypervisor_type option,MERGED,2016-08-12 22:28:44.000000000,2016-11-30 02:13:33.000000000,2016-11-29 08:19:47.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9152}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 16437}, {'_account_id': 17130}]","[{'number': 1, 'created': '2016-08-12 22:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9107eff33c6bc5fc43a6ccd6372fbece334c19cb', 'message': 'Add hypervisor_type option\n\nIn general, Tempest sends a request to Nova without any specific host\nin most tests for booting a server, and Nova selects a valid host.\nHowever some tests specify a host and this option is a hint to select\nthe host on heterogeneous compute environment.\n\nCloses-Bug: #1611683\n\nChange-Id: Ic15de7be1000c82bc13517f0bc5cf20d5248873b\n'}, {'number': 2, 'created': '2016-08-22 20:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/460d8d016de3e27c835fecc880cf43664e09f8bd', 'message': 'Add hypervisor_type option\n\nIn general, Tempest sends a request to Nova without any specific host\nin most tests for booting a server, and Nova selects a valid host.\nHowever some tests specify a host and this option is a hint to select\nthe host on heterogeneous compute environment.\n\nCloses-Bug: #1611683\n\nChange-Id: Ic15de7be1000c82bc13517f0bc5cf20d5248873b\n'}, {'number': 3, 'created': '2016-09-20 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de0c956a17fc63f496dfb2e377319532924ab06a', 'message': 'Add hypervisor_type option\n\nIn general, Tempest sends a request to Nova without any specific host\nin most tests for booting a server, and Nova selects a valid host.\nHowever some tests specify a host and this option is a hint to select\nthe host on heterogeneous compute environment.\n\nCloses-Bug: #1611683\n\nChange-Id: Ic15de7be1000c82bc13517f0bc5cf20d5248873b\n'}, {'number': 4, 'created': '2016-11-23 02:48:07.000000000', 'files': ['tempest/config.py', 'tempest/api/compute/admin/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/49db4fe4baa3ce8258fe0c7c5aba022af8aa0c10', 'message': 'Add hypervisor_type option\n\nIn general, Tempest sends a request to Nova without any specific host\nin most tests for booting a server, and Nova selects a valid host.\nHowever some tests specify a host and this option is a hint to select\nthe host on heterogeneous compute environment.\n\nCloses-Bug: #1611683\n\nChange-Id: Ic15de7be1000c82bc13517f0bc5cf20d5248873b\n'}]",2,355103,49db4fe4baa3ce8258fe0c7c5aba022af8aa0c10,39,11,4,6167,,,0,"Add hypervisor_type option

In general, Tempest sends a request to Nova without any specific host
in most tests for booting a server, and Nova selects a valid host.
However some tests specify a host and this option is a hint to select
the host on heterogeneous compute environment.

Closes-Bug: #1611683

Change-Id: Ic15de7be1000c82bc13517f0bc5cf20d5248873b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/03/355103/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'tempest/api/compute/admin/test_aggregates.py']",2,9107eff33c6bc5fc43a6ccd6372fbece334c19cb,bug/1611683,from tempest import configCONF = config.CONF if CONF.compute.hypervisor_type: hypers = [hyper for hyper in hypers if (hyper['hypervisor_type'] == CONF.compute.hypervisor_type)] ,,18,0
openstack%2Fceilometer-powervm~master~I4bc15383452cead51b4125df0960fc488079aecc,openstack/ceilometer-powervm,master,I4bc15383452cead51b4125df0960fc488079aecc,Changed author and author-email,MERGED,2016-11-18 04:18:01.000000000,2016-11-30 02:13:12.000000000,2016-11-30 02:13:11.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 13883}, {'_account_id': 14070}, {'_account_id': 15905}]","[{'number': 1, 'created': '2016-11-18 04:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/3291adf2542993266325647ce8bfd31145f9046f', 'message': 'Changed author and author-email\n\nChanged author to OpenStack and author-email to\nopenstack-dev@lists.openstack.org\n\nChange-Id: I4bc15383452cead51b4125df0960fc488079aecc\n'}, {'number': 2, 'created': '2016-11-30 01:48:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/85a7997f752df6e96975cf972e79b063ea8556c0', 'message': 'Changed author and author-email\n\nChanged author to OpenStack and author-email to\nopenstack-dev@lists.openstack.org\n\nChange-Id: I4bc15383452cead51b4125df0960fc488079aecc\n'}]",2,399372,85a7997f752df6e96975cf972e79b063ea8556c0,10,5,2,15905,,,0,"Changed author and author-email

Changed author to OpenStack and author-email to
openstack-dev@lists.openstack.org

Change-Id: I4bc15383452cead51b4125df0960fc488079aecc
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/72/399372/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3291adf2542993266325647ce8bfd31145f9046f,author_update,author = OpenStack author-email = openstack-dev@lists.openstack.org home-page = https://github.com/openstack/ceilometer-powervm,author = IBM author-email = thorst@us.ibm.com home-page = https://launchpad.net/ceilometer-powervm,3,3
openstack%2Ffreezer-api~master~Ic5c4861e52d86477bd0ccd71ca9f4a555e57a0ff,openstack/freezer-api,master,Ic5c4861e52d86477bd0ccd71ca9f4a555e57a0ff,Fix inconsistent freezer-api log output,MERGED,2016-11-24 17:11:31.000000000,2016-11-30 02:12:13.000000000,2016-11-30 02:12:13.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14509}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-11-24 17:11:31.000000000', 'files': ['install-guide/source/install.rst', 'devstack/files/apache-freezer-api.template'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/102acddd1403fbe5603e14fe435673059b16515b', 'message': 'Fix inconsistent freezer-api log output\n\nfreezer-api.log prints mod_wsgi format string before\nprinting actual log message. There is need to define\nerror log format directly to print messages without\nmod_wsgi prefix. More about edited parameters you can\nfind here [1] and here [2].\n\n[1] https://httpd.apache.org/docs/2.4/mod/core.html#errorlogformat\n[2] https://httpd.apache.org/docs/2.4/mod/core.html#loglevel\n\nChange-Id: Ic5c4861e52d86477bd0ccd71ca9f4a555e57a0ff\nCloses-Bug: #1644603\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\n'}]",0,402157,102acddd1403fbe5603e14fe435673059b16515b,18,5,1,16768,,,0,"Fix inconsistent freezer-api log output

freezer-api.log prints mod_wsgi format string before
printing actual log message. There is need to define
error log format directly to print messages without
mod_wsgi prefix. More about edited parameters you can
find here [1] and here [2].

[1] https://httpd.apache.org/docs/2.4/mod/core.html#errorlogformat
[2] https://httpd.apache.org/docs/2.4/mod/core.html#loglevel

Change-Id: Ic5c4861e52d86477bd0ccd71ca9f4a555e57a0ff
Closes-Bug: #1644603
Signed-off-by: Ruslan Aliev <raliev@mirantis.com>
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/57/402157/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/install.rst', 'devstack/files/apache-freezer-api.template']",2,102acddd1403fbe5603e14fe435673059b16515b,bug/1644603," ErrorLogFormat ""%M""", LogLevel info,2,2
openstack%2Fsearchlight~master~I1e84caa55467fcab2aadd808016470cee4a698ec,openstack/searchlight,master,I1e84caa55467fcab2aadd808016470cee4a698ec,Use ConfigParser instead of SafeConfigParser in Python 3,MERGED,2016-11-28 01:29:59.000000000,2016-11-30 01:59:57.000000000,2016-11-30 01:59:57.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 15888}]","[{'number': 1, 'created': '2016-11-28 01:29:59.000000000', 'files': ['searchlight/common/property_utils.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/6126674e6956fe7f7f6f1207d816440d8fbab831', 'message': 'Use ConfigParser instead of SafeConfigParser in Python 3\n\nThe SafeConfigParser class has been renamed to ConfigParser in Python\n3.2 [1]. The alias SafeConfigParser maybe removed in future versions of\nPython 3. Use ConfigParser instead of SafeConfigParser in Python 3\n\n[1] http://bugs.python.org/issue10627\n\nChange-Id: I1e84caa55467fcab2aadd808016470cee4a698ec\nCloses-Bug: #1618666\n'}]",0,403464,6126674e6956fe7f7f6f1207d816440d8fbab831,7,3,1,22255,,,0,"Use ConfigParser instead of SafeConfigParser in Python 3

The SafeConfigParser class has been renamed to ConfigParser in Python
3.2 [1]. The alias SafeConfigParser maybe removed in future versions of
Python 3. Use ConfigParser instead of SafeConfigParser in Python 3

[1] http://bugs.python.org/issue10627

Change-Id: I1e84caa55467fcab2aadd808016470cee4a698ec
Closes-Bug: #1618666
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/64/403464/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight/common/property_utils.py'],1,6126674e6956fe7f7f6f1207d816440d8fbab831,bug/1618666,import six from six.moves import configparser# SafeConfigParser was deprecated in Python 3.2 if six.PY3: CONFIG = configparser.ConfigParser(dict_type=OrderedDict) else: CONFIG = configparser.SafeConfigParser(dict_type=OrderedDict),from six.moves import configparserCONFIG = configparser.SafeConfigParser(dict_type=OrderedDict),7,2
openstack%2Fkeystone~master~I052c79d80baaacd3cb4cb181458afe966de3dd58,openstack/keystone,master,I052c79d80baaacd3cb4cb181458afe966de3dd58,Fix title for role-assignments api-ref,ABANDONED,2016-11-29 04:43:08.000000000,2016-11-30 01:59:46.000000000,,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 7725}, {'_account_id': 8556}]","[{'number': 1, 'created': '2016-11-29 04:43:08.000000000', 'files': ['api-ref/source/v3/inherit.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b937a7fe9ac76020939f7266106837adfaef1785', 'message': 'Fix title for role-assignments api-ref\n\nTitle for role-assignment identity v3 api-ref is not\nappropriate, as this API is to list all role assignment\nand depends on query (effective), it will return filtered\nrole assignments.\n\nSo title should be ""List role assignments"" instead of\n""List effective role assignments""\n\nChange-Id: I052c79d80baaacd3cb4cb181458afe966de3dd58\nCloses-Bug: #1645554\n'}]",0,404021,b937a7fe9ac76020939f7266106837adfaef1785,6,4,1,8556,,,0,"Fix title for role-assignments api-ref

Title for role-assignment identity v3 api-ref is not
appropriate, as this API is to list all role assignment
and depends on query (effective), it will return filtered
role assignments.

So title should be ""List role assignments"" instead of
""List effective role assignments""

Change-Id: I052c79d80baaacd3cb4cb181458afe966de3dd58
Closes-Bug: #1645554
",git fetch https://review.opendev.org/openstack/keystone refs/changes/21/404021/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/inherit.inc'],1,b937a7fe9ac76020939f7266106837adfaef1785,api-ref,List role assignments =====================,List effective role assignments ===============================,2,2
openstack%2Fsearchlight~master~I378ad332e0e70f1566d2083b9d212950951a9ffb,openstack/searchlight,master,I378ad332e0e70f1566d2083b9d212950951a9ffb,Fix typo in Helper.py,MERGED,2016-11-28 01:51:34.000000000,2016-11-30 01:55:34.000000000,2016-11-30 01:55:34.000000000,"[{'_account_id': 3}, {'_account_id': 10063}, {'_account_id': 16150}]","[{'number': 1, 'created': '2016-11-28 01:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/93a18d8a73eddc3d903e0f47b8c1d0189357e4bd', 'message': 'Fix typo in Helper.py\n\nMaybe trivailfix.\nFor example:\nin Helper.py ""LOG.warning(_LI"" should be ""LOG.warning(_LW""\n\nChange-Id: I378ad332e0e70f1566d2083b9d212950951a9ffb\n'}, {'number': 2, 'created': '2016-11-28 01:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/7675f227a20c05d7e09daa82ee7051310a4d0868', 'message': 'Fix typo in Helper.py\n\nMaybe trivailfix.\nFor example:\nin Helper.py ""LOG.warning(_LI"" should be ""LOG.warning(_LW""\n\nChange-Id: I378ad332e0e70f1566d2083b9d212950951a9ffb\n'}, {'number': 3, 'created': '2016-11-28 02:25:52.000000000', 'files': ['searchlight/elasticsearch/plugins/helper.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/ba05d5f152b5405ff26bcc3d3fffa4844ae052ed', 'message': 'Fix typo in Helper.py\n\nMaybe trivailfix.\nFor example:\nin Helper.py ""LOG.warning(_LI"" should be ""LOG.warning(_LW""\n\nChange-Id: I378ad332e0e70f1566d2083b9d212950951a9ffb\n'}]",0,403467,ba05d5f152b5405ff26bcc3d3fffa4844ae052ed,10,3,3,22104,,,0,"Fix typo in Helper.py

Maybe trivailfix.
For example:
in Helper.py ""LOG.warning(_LI"" should be ""LOG.warning(_LW""

Change-Id: I378ad332e0e70f1566d2083b9d212950951a9ffb
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/67/403467/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,93a18d8a73eddc3d903e0f47b8c1d0189357e4bd,,,,0,0
openstack%2Fmistral~master~Ia57ef84c52f07e6fb15e4dc31aa231ffa1e51d35,openstack/mistral,master,Ia57ef84c52f07e6fb15e4dc31aa231ffa1e51d35,Add PyV8 into requirement.txt,ABANDONED,2016-11-29 10:33:00.000000000,2016-11-30 01:50:30.000000000,,"[{'_account_id': 3}, {'_account_id': 9712}]","[{'number': 1, 'created': '2016-11-29 10:33:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d8eadf6dca3b794d2d9aee04d133ede93f93ef09', 'message': 'Add PyV8 into requirement.txt\n\nChange-Id: Ia57ef84c52f07e6fb15e4dc31aa231ffa1e51d35\nCloses-Bug: #1551561\n'}]",1,404135,d8eadf6dca3b794d2d9aee04d133ede93f93ef09,4,2,1,24086,,,0,"Add PyV8 into requirement.txt

Change-Id: Ia57ef84c52f07e6fb15e4dc31aa231ffa1e51d35
Closes-Bug: #1551561
",git fetch https://review.opendev.org/openstack/mistral refs/changes/35/404135/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d8eadf6dca3b794d2d9aee04d133ede93f93ef09,bug/1551561,PyV8>=0.5 # Apache-2.0,,1,0
openstack%2Fdevstack-gate~master~Ic6835ad261986235ef58bd672efc193496140863,openstack/devstack-gate,master,Ic6835ad261986235ef58bd672efc193496140863,Add note to README about GPL in callback plugin,MERGED,2016-11-29 23:18:51.000000000,2016-11-30 01:44:09.000000000,2016-11-30 01:44:09.000000000,"[{'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2016-11-29 23:18:51.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c2631249a0f6fbc12ee26a60153ba9643e7fb04b', 'message': 'Add note to README about GPL in callback plugin\n\nThe introduction of the Ansible callback plugin introduced a GPLv3 file\ninto the repo. While it has a license header - go ahead and mention that\nin the contributing section so that people are aware.\n\nChange-Id: Ic6835ad261986235ef58bd672efc193496140863\n'}]",0,404469,c2631249a0f6fbc12ee26a60153ba9643e7fb04b,6,2,1,2,,,0,"Add note to README about GPL in callback plugin

The introduction of the Ansible callback plugin introduced a GPLv3 file
into the repo. While it has a license header - go ahead and mention that
in the contributing section so that people are aware.

Change-Id: Ic6835ad261986235ef58bd672efc193496140863
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/69/404469/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c2631249a0f6fbc12ee26a60153ba9643e7fb04b,zuulv3," It's worth noting that, while devstack-gate is generally licensed under the Apache license, `playbooks/plugins/callback/devstack.py` is GPLv3 due to having derived from the Ansible source code.",,4,0
openstack%2Fshade~master~Ic39679d30b49d461feaed81ff162f3e8f4a694ac,openstack/shade,master,Ic39679d30b49d461feaed81ff162f3e8f4a694ac,Re-add metadata to image in non-strict mode,MERGED,2016-11-29 14:47:55.000000000,2016-11-30 01:42:58.000000000,2016-11-30 01:42:58.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-11-29 14:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0edae3e2c6dc6d237740326086c09f1fe97ffd6a', 'message': 'Re-add metadata to image in non-strict mode\n\nIn the old shade normalization we always made sure that properties\nshowed up in a field called metadata. When we reworked the normalization\nrecently, we missed that field. Add it back.\n\nChange-Id: Ic39679d30b49d461feaed81ff162f3e8f4a694ac\n'}, {'number': 2, 'created': '2016-11-29 17:04:08.000000000', 'files': ['shade/tests/unit/test_normalize.py', 'shade/_normalize.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/93191ebe9b58b085cb1fde2040e450bcc2ab5ccb', 'message': 'Re-add metadata to image in non-strict mode\n\nIn the old shade normalization we always made sure that properties\nshowed up in a field called metadata. When we reworked the normalization\nrecently, we missed that field. Add it back.\n\nChange-Id: Ic39679d30b49d461feaed81ff162f3e8f4a694ac\n'}]",0,404250,93191ebe9b58b085cb1fde2040e450bcc2ab5ccb,18,4,2,2,,,0,"Re-add metadata to image in non-strict mode

In the old shade normalization we always made sure that properties
showed up in a field called metadata. When we reworked the normalization
recently, we missed that field. Add it back.

Change-Id: Ic39679d30b49d461feaed81ff162f3e8f4a694ac
",git fetch https://review.opendev.org/openstack/shade refs/changes/50/404250/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/_normalize.py'],1,0edae3e2c6dc6d237740326086c09f1fe97ffd6a,, new_image['metadata'] = properties,,1,0
openstack%2Fneutron-lbaas~master~If79212448f3916af156cc72dc857de5f8f99048f,openstack/neutron-lbaas,master,If79212448f3916af156cc72dc857de5f8f99048f,Use DB field sizes instead of _MAX_LEN constants,MERGED,2016-11-26 06:29:55.000000000,2016-11-30 01:40:12.000000000,2016-11-30 01:40:12.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 12040}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-11-26 06:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/d8b156752f21ecbeb8b289f650d73540136829b6', 'message': 'Use DB field sizes instead of _MAX_LEN constants\n\nThe following _MAX_LEN constants are being removed from\nneutron/api/v2/attributes.py in [1]. The corresponding DB field size\nconstants from neutron_lib.db.constants should be used instead.\n\n NAME_MAX_LEN              -->  NAME_FIELD_SIZE\n TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE\n DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE\n LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE\n DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE\n DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE\n\nIn alembic migration scripts, the raw numerical value shall be used.\n\nFor more information, see [2].\n\n[1] https://review.openstack.org/399891\n[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html\n\nChange-Id: If79212448f3916af156cc72dc857de5f8f99048f\n'}, {'number': 2, 'created': '2016-11-29 17:08:34.000000000', 'files': ['neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/models.py', 'neutron_lbaas/extensions/l7.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/aa63f5b20152911418653ac4178361bc39992c25', 'message': 'Use DB field sizes instead of _MAX_LEN constants\n\nThe following _MAX_LEN constants are being removed from\nneutron/api/v2/attributes.py in [1]. The corresponding DB field size\nconstants from neutron_lib.db.constants should be used instead.\n\n NAME_MAX_LEN              -->  NAME_FIELD_SIZE\n TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE\n DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE\n LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE\n DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE\n DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE\n\nIn alembic migration scripts, the raw numerical value shall be used.\n\nFor more information, see [2].\n\n[1] https://review.openstack.org/399891\n[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html\n\nChange-Id: If79212448f3916af156cc72dc857de5f8f99048f\n'}]",0,403317,aa63f5b20152911418653ac4178361bc39992c25,18,6,2,6524,,,0,"Use DB field sizes instead of _MAX_LEN constants

The following _MAX_LEN constants are being removed from
neutron/api/v2/attributes.py in [1]. The corresponding DB field size
constants from neutron_lib.db.constants should be used instead.

 NAME_MAX_LEN              -->  NAME_FIELD_SIZE
 TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE
 DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE
 LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE
 DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE
 DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE

In alembic migration scripts, the raw numerical value shall be used.

For more information, see [2].

[1] https://review.openstack.org/399891
[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html

Change-Id: If79212448f3916af156cc72dc857de5f8f99048f
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/17/403317/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/models.py', 'neutron_lbaas/extensions/l7.py']",3,d8b156752f21ecbeb8b289f650d73540136829b6,use-db-field-sizes,"from neutron_lib.db import constants as db_const 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, 'validate': { 'type:string': db_const.DESCRIPTION_FIELD_SIZE},","from neutron.api.v2 import attributes as attr 'validate': {'type:string': attr.NAME_MAX_LEN}, 'validate': {'type:string': attr.DESCRIPTION_MAX_LEN},",25,21
openstack%2Fnova~master~I3ad85f9062b5cb19962d9e6a7af52440166def45,openstack/nova,master,I3ad85f9062b5cb19962d9e6a7af52440166def45,Fix expected_attrs kwarg in server_external_events,MERGED,2016-11-28 21:47:24.000000000,2016-11-30 01:39:10.000000000,2016-11-29 11:26:13.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-28 21:47:24.000000000', 'files': ['nova/api/openstack/compute/server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbcff11b6a206a58093017fb9471d818d484ca34', 'message': ""Fix expected_attrs kwarg in server_external_events\n\nThe Instance.get_by_uuid method takes an expected_attrs\nkwarg which needs to be a list or tuple, not just any old\niterable like a string. Because of how the underlying\nInstance object code massages this value, it's not a hard\nfailure but does mean you don't join the columns you expect\nwhen getting the instance.\n\nThis makes it a list and makes sure the stub in the unit\ntests is checking for valid values.\n\nChange-Id: I3ad85f9062b5cb19962d9e6a7af52440166def45\nCloses-Bug: #1645479\n""}]",0,403917,cbcff11b6a206a58093017fb9471d818d484ca34,16,5,1,6873,,,0,"Fix expected_attrs kwarg in server_external_events

The Instance.get_by_uuid method takes an expected_attrs
kwarg which needs to be a list or tuple, not just any old
iterable like a string. Because of how the underlying
Instance object code massages this value, it's not a hard
failure but does mean you don't join the columns you expect
when getting the instance.

This makes it a list and makes sure the stub in the unit
tests is checking for valid values.

Change-Id: I3ad85f9062b5cb19962d9e6a7af52440166def45
Closes-Bug: #1645479
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/403917/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py']",2,cbcff11b6a206a58093017fb9471d818d484ca34,bug/1645479,"from nova.objects import instance as instance_obj if 'expected_attrs' in kwargs: expected_attrs_set = set(kwargs['expected_attrs']) full_expected_attrs_set = set(instance_obj.INSTANCE_OPTIONAL_ATTRS) assert expected_attrs_set.issubset(full_expected_attrs_set), \ ('%s is not a subset of %s' % (expected_attrs_set, full_expected_attrs_set))",,8,1
openstack%2Fdevstack-gate~master~I8378880d1a722be21b61311f3979483909b87fea,openstack/devstack-gate,master,I8378880d1a722be21b61311f3979483909b87fea,Add ansible callback plugin to make output nicer,MERGED,2016-11-29 15:59:13.000000000,2016-11-30 01:37:18.000000000,2016-11-30 01:37:18.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2016-11-29 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/72f680a4b4c63e3f14f7c231fea4eaaff628b397', 'message': ""Add ansible callback plugin to make output nicer\n\nBased on the in-tree minimal plugin, this reduces the amount of output,\nand also adds timestamps. It also automatically outputs stdout, so we\ncan skip adding that ourselves. Finally - it gives us the framework to\npoke with it, should we desire to morph things further.\n\nThe assumption is that CWD is $WORKSPACE when we're executing\nansible-playbook\n\nChange-Id: I8378880d1a722be21b61311f3979483909b87fea\n""}, {'number': 2, 'created': '2016-11-29 17:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/6e6349e311f0d140c80025cdc4321521363fa25a', 'message': ""Add ansible callback plugin to make output nicer\n\nBased on the in-tree minimal plugin, this reduces the amount of output,\nand also adds timestamps. It also automatically outputs stdout, so we\ncan skip adding that ourselves. Finally - it gives us the framework to\npoke with it, should we desire to morph things further.\n\nThe assumption is that CWD is $WORKSPACE when we're executing\nansible-playbook\n\nChange-Id: I8378880d1a722be21b61311f3979483909b87fea\n""}, {'number': 3, 'created': '2016-11-29 18:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/0e558a893ee60933ea65bfadffeec9965356d1bd', 'message': ""Add ansible callback plugin to make output nicer\n\nBased on the in-tree minimal plugin, this reduces the amount of output,\nand also adds timestamps. It also automatically outputs stdout, so we\ncan skip adding that ourselves. Finally - it gives us the framework to\npoke with it, should we desire to morph things further.\n\nThe assumption is that CWD is $WORKSPACE when we're executing\nansible-playbook\n\nChange-Id: I8378880d1a722be21b61311f3979483909b87fea\n""}, {'number': 4, 'created': '2016-11-29 19:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/b7c3bcdb10bf3453912811fcc3594b1fe8c077e7', 'message': ""Add ansible callback plugin to make output nicer\n\nBased on the in-tree minimal plugin, this reduces the amount of output,\nand also adds timestamps. It also automatically outputs stdout, so we\ncan skip adding that ourselves. Finally - it gives us the framework to\npoke with it, should we desire to morph things further.\n\nThe assumption is that CWD is $WORKSPACE when we're executing\nansible-playbook\n\nChange-Id: I8378880d1a722be21b61311f3979483909b87fea\n""}, {'number': 5, 'created': '2016-11-29 20:22:19.000000000', 'files': ['playbooks/roles/gather_host_info/tasks/main.yaml', 'devstack-vm-gate-wrap.sh', 'playbooks/plugins/callback/devstack.py'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c0fdb2c2b05a6c4f6736e4fb43983e87a32cdce8', 'message': ""Add ansible callback plugin to make output nicer\n\nBased on the in-tree minimal plugin, this reduces the amount of output,\nand also adds timestamps. It also automatically outputs stdout, so we\ncan skip adding that ourselves. Finally - it gives us the framework to\npoke with it, should we desire to morph things further.\n\nThe assumption is that CWD is $WORKSPACE when we're executing\nansible-playbook\n\nChange-Id: I8378880d1a722be21b61311f3979483909b87fea\n""}]",7,404295,c0fdb2c2b05a6c4f6736e4fb43983e87a32cdce8,21,4,5,2,,,0,"Add ansible callback plugin to make output nicer

Based on the in-tree minimal plugin, this reduces the amount of output,
and also adds timestamps. It also automatically outputs stdout, so we
can skip adding that ourselves. Finally - it gives us the framework to
poke with it, should we desire to morph things further.

The assumption is that CWD is $WORKSPACE when we're executing
ansible-playbook

Change-Id: I8378880d1a722be21b61311f3979483909b87fea
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/95/404295/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/gather_host_info/tasks/main.yaml', 'playbooks/plugins/callback/__init__.py', 'devstack-vm-gate-wrap.sh', 'playbooks/plugins/callback/devstack.py']",4,72f680a4b4c63e3f14f7c231fea4eaaff628b397,zuulv3,"# (c) 2012-2014, Michael DeHaan <michael.dehaan@gmail.com> # # This file is part of Ansible # # Ansible is free software: you can redistribute it and/or modify # it under the terms of the GNU General Public License as published by # the Free Software Foundation, either version 3 of the License, or # (at your option) any later version. # # Ansible is distributed in the hope that it will be useful, # but WITHOUT ANY WARRANTY; without even the implied warranty of # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the # GNU General Public License for more details. # # You should have received a copy of the GNU General Public License # along with Ansible. If not, see <http://www.gnu.org/licenses/>. # Make coding more python3-ish from __future__ import (absolute_import, division, print_function) __metaclass__ = type from ansible.plugins.callback import CallbackBase from ansible import constants as C import datetime class CallbackModule(CallbackBase): ''' Callback plugin based on the minimal callback plugin from the ansible tree but which adds timestamps to the start of the lines. ''' CALLBACK_VERSION = 2.0 CALLBACK_TYPE = 'stdout' CALLBACK_NAME = 'devstack' def _command_generic_msg(self, host, result, caption): ''' output the result of a command run ''' buf = ""%s | %s | %s | rc=%s >>\n"" % ( datetime.datetime.now(), host, caption, result.get('rc',0)) buf += result.get('stdout','') buf += result.get('stderr','') buf += result.get('msg','') return buf + ""\n"" def v2_runner_on_failed(self, result, ignore_errors=False): if 'exception' in result._result: self._display.display( ""An exception occurred during task execution."" "" The full traceback is:\n"" + result._result['exception'], msg, color=C.COLOR_ERROR) if result._task.action in C.MODULE_NO_JSON: self._display.display( self._command_generic_msg( result._host.get_name(), result._result, ""FAILED""), color=C.COLOR_ERROR) else: self._display.display( ""%s | %s | FAILED! => %s"" % ( datetime.datetime.now(), result._host.get_name(), self._dump_results( result._result, indent=4)), color=C.COLOR_ERROR) def v2_runner_on_ok(self, result): self._clean_results(result._result, result._task.action) if result._task.action in C.MODULE_NO_JSON: self._display.display( self._command_generic_msg( result._host.get_name(), result._result, ""SUCCESS""), color=C.COLOR_OK) else: if 'changed' in result._result and result._result['changed']: self._display.display( ""%s | %s | SUCCESS => %s"" % ( datetime.datetime.now(), result._host.get_name(), self._dump_results( result._result, indent=4)), color=C.COLOR_CHANGED) else: self._display.display( ""%s | %s | SUCCESS => %s"" % ( datetime.datetime.now(), result._host.get_name(), self._dump_results( result._result, indent=4)), color=C.COLOR_OK) self._handle_warnings(result._result) def v2_runner_on_skipped(self, result): self._display.display( ""%s | %s | SKIPPED"" % ( datetime.datetime.now(), result._host.get_name()), color=C.COLOR_SKIP) def v2_runner_on_unreachable(self, result): self._display.display( ""%s | %s | UNREACHABLE! => %s"" % ( datetime.datetime.now(), result._host.get_name(), self._dump_results( result._result, indent=4)), color=C.COLOR_UNREACHABLE) def v2_on_file_diff(self, result): if 'diff' in result._result and result._result['diff']: self._display.display(self._get_diff(result._result['diff'])) ",,116,3
openstack%2Fnetworking-odl~stable%2Fmitaka~If896118452e11401723efdab23f044b3e85476ab,openstack/networking-odl,stable/mitaka,If896118452e11401723efdab23f044b3e85476ab,devstack: run tests with tempest run command,MERGED,2016-11-10 08:54:50.000000000,2016-11-30 01:32:04.000000000,2016-11-30 01:32:04.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 979}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 7787}, {'_account_id': 7921}, {'_account_id': 9656}, {'_account_id': 10980}, {'_account_id': 12898}, {'_account_id': 22342}, {'_account_id': 22816}]","[{'number': 1, 'created': '2016-11-10 08:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b003805b83af1335a2329c9035c6656b05c554f1', 'message': 'devstack: run tests with tempest run command\n\ntempest/tools/pretty_tox_serial.sh is deprecated way and caused test\nfailure due to version mismatch.\nSo use tempest run command with tox to run tests.\n\nChange-Id: If896118452e11401723efdab23f044b3e85476ab\n'}, {'number': 2, 'created': '2016-11-10 15:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/44601f9d8da5a6ccd1acad16a810403cfe1476c6', 'message': 'devstack: run tests with tempest run command\n\ntempest/tools/pretty_tox_serial.sh is deprecated way and caused test\nfailure due to version mismatch.\nSo use tempest run command with tox to run tests.\n\nChange-Id: If896118452e11401723efdab23f044b3e85476ab\n(cherry picked from commit e9e9843c9889b2214bcfb9f8907dda11bfc977ab)\n'}, {'number': 3, 'created': '2016-11-10 18:37:46.000000000', 'files': ['devstack/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/38608ddceccb8b488faa018c76f8a983e7a60949', 'message': 'devstack: run tests with tempest run command\n\ntempest/tools/pretty_tox_serial.sh is deprecated way and caused test\nfailure due to version mismatch.\nSo use tempest run command with tox to run tests.\n\nChange-Id: If896118452e11401723efdab23f044b3e85476ab\nRelated-bug: #1634940\n(cherry picked from commit c0f6114e6d91d6a4ea56c9a3d34fb7be01b400f7)\n'}]",0,396024,38608ddceccb8b488faa018c76f8a983e7a60949,21,22,3,333,,,0,"devstack: run tests with tempest run command

tempest/tools/pretty_tox_serial.sh is deprecated way and caused test
failure due to version mismatch.
So use tempest run command with tox to run tests.

Change-Id: If896118452e11401723efdab23f044b3e85476ab
Related-bug: #1634940
(cherry picked from commit c0f6114e6d91d6a4ea56c9a3d34fb7be01b400f7)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/24/396024/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/post_test_hook.sh'],1,b003805b83af1335a2329c9035c6656b05c554f1,stable-mitaka-tempest,sudo -H -u $owner $sudo_env tox -eall -- $DEVSTACK_GATE_TEMPEST_REGEX --serial,"sudo -H -u $owner $sudo_env tools/pretty_tox_serial.sh ""$DEVSTACK_GATE_TEMPEST_REGEX""",1,1
openstack%2Fkolla-kubernetes~master~I16b0768741201e593c028ad38b9084a0852afb0c,openstack/kolla-kubernetes,master,I16b0768741201e593c028ad38b9084a0852afb0c,Initial Helm support in the gate,MERGED,2016-11-29 16:37:43.000000000,2016-11-30 01:20:39.000000000,2016-11-30 01:00:19.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 17591}, {'_account_id': 23928}]","[{'number': 1, 'created': '2016-11-29 16:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/4223443b5314094a9fdc1b2f42646cf412bc4e87', 'message': 'Initial Helm support in the gate\n\nThis PS sets up a framework for testing helm in the gate.\n\nIt also converts a few of our existing templates to the new layout to\nkick the tires and changes the gate checks to test them.\n\nChange-Id: I16b0768741201e593c028ad38b9084a0852afb0c\n'}, {'number': 2, 'created': '2016-11-29 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/09c9ee19bb689fdcbae77eb16661ce37388d995c', 'message': 'Initial Helm support in the gate\n\nThis PS sets up a framework for testing helm in the gate.\n\nChange-Id: I16b0768741201e593c028ad38b9084a0852afb0c\n'}, {'number': 3, 'created': '2016-11-29 23:38:23.000000000', 'files': ['tools/setup_kubernetes.sh', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/acdc898a0ddd5da216d431559c5d4986afd6c441', 'message': 'Initial Helm support in the gate\n\nThis PS sets up a framework for testing helm in the gate.\n\nChange-Id: I16b0768741201e593c028ad38b9084a0852afb0c\n'}]",0,404332,acdc898a0ddd5da216d431559c5d4986afd6c441,17,5,3,9237,,,0,"Initial Helm support in the gate

This PS sets up a framework for testing helm in the gate.

Change-Id: I16b0768741201e593c028ad38b9084a0852afb0c
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/32/404332/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/setup_kubernetes.sh', 'tools/setup_gate.sh']",2,4223443b5314094a9fdc1b2f42646cf412bc4e87,helm-gate,mkdir -p ~/.helm/repository/local sed -i 's/local/kolla/' ~/.helm/repository/repositories.yaml tools/build_packages.py ~/.helm/repository/local helm serve & sleep 1 helm repo update helm search ,,12,0
openstack%2Ftrove~master~I5c1714b7839b2736c50f2daa2f4506c4006815a1,openstack/trove,master,I5c1714b7839b2736c50f2daa2f4506c4006815a1,Create net/subnet for alt_demo tenant,MERGED,2016-08-17 20:41:55.000000000,2016-11-30 01:08:54.000000000,2016-11-30 01:08:54.000000000,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 5293}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 12758}, {'_account_id': 14576}, {'_account_id': 15321}, {'_account_id': 20965}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-08-17 20:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0fc5e8f0bcd78de819f50b7f89da17cd3c3f391a', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default and trove-integration\nis switching to it as well, we need to create a private network\nand subnet in the alt_demo tenant for the int-tests to work locally.\n(see https://review.openstack.org/#/c/355492 )\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 2, 'created': '2016-08-17 20:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/80da74905fd0abebdac9a87c50d659354d1c846f', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default and trove-integration\nis switching to it as well, we need to create a private network\nand subnet in the alt_demo tenant for the int-tests to work locally.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 3, 'created': '2016-08-17 20:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a0ef10b607593e35caa2ff88db1e483d403997b5', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default and trove-integration\nis switching to it as well, we need to create a private network\nand subnet in the alt_demo tenant for the int-tests to work locally.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 4, 'created': '2016-08-18 19:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/76604a1db53092b2ed329b4a563c6841ef65c7d2', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default and trove-integration\nis switching to it as well, we need to create a private network\nand subnet in the alt_demo tenant for the int-tests to work locally.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 5, 'created': '2016-08-18 20:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9bbcc5c649d4cd099dcf6e8bb54fd87b34498ea0', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default and trove-integration\nis switching to it as well, we need to create a private network\nand subnet in the alt_demo tenant for the int-tests to work locally.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 6, 'created': '2016-11-11 21:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e41b789b59152ad75c0191df08320052b36dcf65', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 7, 'created': '2016-11-11 21:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/34ccf9595f4ecb9baf7df1257079dacdd7f555a8', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 8, 'created': '2016-11-11 22:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3a564f97aaba94d2279eb840ab73c6b2c0ed0fba', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 9, 'created': '2016-11-11 22:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4524994ff06c88295c347306e35de1489e692fb8', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 10, 'created': '2016-11-11 22:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ac480c698a9c7b7b006f2fc5b98bc7c99703c093', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 11, 'created': '2016-11-12 16:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c11849078fd145608745e5e977bc686c7d3b92cd', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 12, 'created': '2016-11-12 16:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5743086220eaf241ffd5be6e4874a24013e6c585', 'message': 'Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n'}, {'number': 13, 'created': '2016-11-12 17:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0f9b4a10bc7e6645a2cd8b8b08f944593acabc86', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 14, 'created': '2016-11-14 17:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a924e9452112bfd7196de671fb4f9a149a4a6c89', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I19a1a677ea4c29feefdf7c6c05612415fd3b11e6\nCloses-Bug: #1613889\n""}, {'number': 15, 'created': '2016-11-14 20:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ed3a6e25398689ca57576ed0301e0efa94348bbf', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I19a1a677ea4c29feefdf7c6c05612415fd3b11e6\nCloses-Bug: #1613889\n""}, {'number': 16, 'created': '2016-11-14 20:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bf601f5f145070cfb8a162f2642e909cd2cc412d', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I19a1a677ea4c29feefdf7c6c05612415fd3b11e6\nCloses-Bug: #1613889\n""}, {'number': 17, 'created': '2016-11-15 19:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6f54a94e2ef85f0e292253278fc050a009630842', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I19a1a677ea4c29feefdf7c6c05612415fd3b11e6\nCloses-Bug: #1613889\n""}, {'number': 18, 'created': '2016-11-15 19:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/687749cab05bba8d5216dcb4eb734661df4591c1', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nCloses-Bug: #1613889\n""}, {'number': 19, 'created': '2016-11-15 19:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fa6046e41ea466e3ae133e819c7ad8ee831fa0ce', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nCloses-Bug: #1613889\n""}, {'number': 20, 'created': '2016-11-15 22:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/974f24ca22b160938bd4ef92ac987ad4961f8c91', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nCloses-Bug: #1613889\n""}, {'number': 21, 'created': '2016-11-16 13:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0be3bf58c499fde63e9c5b92588a02aba32fad26', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nCloses-Bug: #1613889\n""}, {'number': 22, 'created': '2016-11-16 20:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/75ff0232e0a0e4e12089d56a76dbab1a133ebbc7', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nCloses-Bug: #1613889\n""}, {'number': 23, 'created': '2016-11-17 03:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/27a770fe9c5198fd11c2d9d4fe032ea12b2a9ae7', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: Ic0ddb3e5a3740b1d33f97533c23d0394e4a921f8\nCloses-Bug: #1613889\n""}, {'number': 24, 'created': '2016-11-17 03:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/307366937c2d1b993126dc49c30c5599f4cd6330', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: Ic0ddb3e5a3740b1d33f97533c23d0394e4a921f8\nCloses-Bug: #1613889\n""}, {'number': 25, 'created': '2016-11-17 04:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/00143b3622a3f962ca5e2f330b48c058bd77a3c4', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: Ic0ddb3e5a3740b1d33f97533c23d0394e4a921f8\nCloses-Bug: #1613889\n""}, {'number': 26, 'created': '2016-11-17 13:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8062f00582e17301e54803ae6d25b487d8d2c402', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: Ic0ddb3e5a3740b1d33f97533c23d0394e4a921f8\nCloses-Bug: #1613889\n""}, {'number': 27, 'created': '2016-11-17 17:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e3cc5d8dc6315220c14d0e396b13448be1414626', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nTests were changed to use just the IPV4 host address.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nCloses-Bug: #1613889\n""}, {'number': 28, 'created': '2016-11-17 21:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0ebb5fd6cff17f2cf8658a5264e66f160957c9fb', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nCloses-Bug: #1613889\n""}, {'number': 29, 'created': '2016-11-18 17:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/85877500609dff1a203f2467c928b6b934cfcc0b', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 30, 'created': '2016-11-18 18:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/75142db86d45d060b5c42a2a38fe83fbbc221ce4', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 31, 'created': '2016-11-18 23:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6a7119fd66676a9bb0064a5206038c1d3505efef', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 32, 'created': '2016-11-20 18:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fda37d26c5d72db2d432238655ec0a34c8d8ef7d', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 33, 'created': '2016-11-20 19:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/677e14ab0ed53c66cc9816f7b98adf8c14cea871', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 34, 'created': '2016-11-21 03:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c00c9cf23bc288446cd7561025bb96cd90353729', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 35, 'created': '2016-11-21 16:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4969a09979bb7dcbeb1e28225241ce8f62aa6476', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 36, 'created': '2016-11-21 17:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/95dcd1b2f6366cca346e60565fc5a6acfe58073d', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 37, 'created': '2016-11-21 17:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7310b2d9dfa17261c87d6dd1c7ce726df5d9205f', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'Depends-On' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: I8f3d0d2a77999fc15ba10044930b37c030ad63dd\nDepends-On: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\nDepends-On: I47cbe9e899cb0767c377d184f123e38eda5b6a05\nDepends-On: I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\nDepends-On: I6aff776680c9c0632d8965c3ed70ed26db0a63f2\nDepends-On: I54edc4acac09ca2278f525c08ad0d87576f0549e\nDepends-On: Iab530fe503336c83e9b948c2c008d371a8030a1e\nCloses-Bug: #1613889\n""}, {'number': 38, 'created': '2016-11-21 20:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/62c3d697bd3bea2c340e98e340ca35aee65d0de3', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 39, 'created': '2016-11-21 20:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1dc0fc37e89f8f5e87280ae65fb76806d0557eae', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 40, 'created': '2016-11-21 20:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e8b9e6a1bd8acd9c36a3c10c79cb8a397cd95c0d', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 41, 'created': '2016-11-22 04:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2ff8cbb1cd72642d97ebae5fc5d5d5dee928ff37', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 42, 'created': '2016-11-22 05:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/12a1c69bf322e8001ef72b52ed2b308d0916d133', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 43, 'created': '2016-11-22 12:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/41d01d8f2839bd1b8c62b39c8971befbc1f17175', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 44, 'created': '2016-11-22 15:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/344472c31d65ffdf191760d6973d62116428639c', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nCloses-Bug: #1613889\n""}, {'number': 45, 'created': '2016-11-23 17:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9a0ee5b6715d9df7151da5258eeb193723489445', 'message': ""(fix gate) Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nDepends-On: I6464c0031ba5b504ff103d8f62093d252deb87bb\nCloses-Bug: #1613889\n""}, {'number': 46, 'created': '2016-11-25 14:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ab3fdbeda791fe528bdc0d03cfa0dd9705f5012b', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nDepends-On: I6464c0031ba5b504ff103d8f62093d252deb87bb\nCloses-Bug: #1613889\n""}, {'number': 47, 'created': '2016-11-27 17:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b63715f9cd13ce3760030edf044a04fb110d6dd4', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n\nNote: This will be removed once we flip the gate to use\nNeutron again.\nDepends-On: I82d6fafc32068c646da0416d91d5f00352091ee2\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nDepends-On: I6464c0031ba5b504ff103d8f62093d252deb87bb\nCloses-Bug: #1613889\n""}, {'number': 48, 'created': '2016-11-28 18:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4205a4575455f031ebc376501baa41e47213fb70', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 49, 'created': '2016-11-28 21:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8f2abdd1d4f713191027278ee532fcd7bf65522d', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nWe need to have the new variable IPV4_ADDRS_SAFE_TO_USE defined:\nDepends-On: Depends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 50, 'created': '2016-11-28 22:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/075359a5804cd42e392f24fbb0d2221ef7e9e5f3', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nWe need to have the new variable IPV4_ADDRS_SAFE_TO_USE defined:\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 51, 'created': '2016-11-29 10:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3c67a245bae57d349e8437e6a0b931d6c9e538e5', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 52, 'created': '2016-11-29 11:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/99e5082b06501d23a605e791ec73c8827783f04d', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 53, 'created': '2016-11-29 14:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/661b841e087d1384eda0752d05090623503b6a8d', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nWe need to have the new variable IPV4_ADDRS_SAFE_TO_USE defined:\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}, {'number': 54, 'created': '2016-11-29 14:53:15.000000000', 'files': ['integration/scripts/localrc.rc', 'integration/scripts/trovestack', 'trove/tests/int_tests.py', 'integration/scripts/trovestack.rc', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/trove/commit/c666032b099838c1584538aa79bdf57036c0a329', 'message': ""Create net/subnet for alt_demo tenant\n\nNow that devstack uses Neutron by default (and so does the gate)\nwe need to create a private network and subnet in the alt_demo\ntenant for the int-tests to work.\n(see https://review.openstack.org/#/c/355492 )\nNote that we will not use this network to start as some issues\nstill need to be sorted out.\n\nThe tcp_ports configuration was also moved to facilitate both\nnetwork styles.\n\nThe 'PUBLIC_INTERFACE=eth0' line was also moved to be in just\nnova networking as it is not necessary for Neutron (and caused\nthe network to become unstable).  This should allow it to\ncontinue working for backwards compatibility if required.\n\nA number of changes to code and/or tests were also required.\nSince these are specifically tied to the switch to neutron\n(as they are equally valid for nova-net) they have been\nmade separately and referenced below in the 'dependencies' list.\nThis should also facilitate easier reviews and make it\npossible to backport any of the fixes if required.\n\nThe cluster tests for PXC and Redis were turned off until the\nnetworking issues with these two datastores can be sorted out.\n\nMerged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3\n                     I47cbe9e899cb0767c377d184f123e38eda5b6a05\n                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d\n                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2\n                     I54edc4acac09ca2278f525c08ad0d87576f0549e\n                     Iab530fe503336c83e9b948c2c008d371a8030a1e\n                     I6464c0031ba5b504ff103d8f62093d252deb87bb\n\nWe need to have the new variable IPV4_ADDRS_SAFE_TO_USE defined:\nDepends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\n\nChange-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1\nCloses-Bug: #1613889\n""}]",21,356701,c666032b099838c1584538aa79bdf57036c0a329,161,10,54,10215,,,0,"Create net/subnet for alt_demo tenant

Now that devstack uses Neutron by default (and so does the gate)
we need to create a private network and subnet in the alt_demo
tenant for the int-tests to work.
(see https://review.openstack.org/#/c/355492 )
Note that we will not use this network to start as some issues
still need to be sorted out.

The tcp_ports configuration was also moved to facilitate both
network styles.

The 'PUBLIC_INTERFACE=eth0' line was also moved to be in just
nova networking as it is not necessary for Neutron (and caused
the network to become unstable).  This should allow it to
continue working for backwards compatibility if required.

A number of changes to code and/or tests were also required.
Since these are specifically tied to the switch to neutron
(as they are equally valid for nova-net) they have been
made separately and referenced below in the 'dependencies' list.
This should also facilitate easier reviews and make it
possible to backport any of the fixes if required.

The cluster tests for PXC and Redis were turned off until the
networking issues with these two datastores can be sorted out.

Merged dependencies: I136141b3db78b7a0a1804bb5e3d4ca5cf4bc3bb3
                     I47cbe9e899cb0767c377d184f123e38eda5b6a05
                     I2ede074eb9bdf26420750f19f3aa4b8d057c5d7d
                     I6aff776680c9c0632d8965c3ed70ed26db0a63f2
                     I54edc4acac09ca2278f525c08ad0d87576f0549e
                     Iab530fe503336c83e9b948c2c008d371a8030a1e
                     I6464c0031ba5b504ff103d8f62093d252deb87bb

We need to have the new variable IPV4_ADDRS_SAFE_TO_USE defined:
Depends-On: Ic6720677a4a496d246a8f9be5ede1a53821f56dc

Change-Id: I5c1714b7839b2736c50f2daa2f4506c4006815a1
Closes-Bug: #1613889
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/356701/14 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,0fc5e8f0bcd78de819f50b7f89da17cd3c3f391a,bug/1613889, TROVE_PRIVATE_NETWORK_NAME=${TROVE_PRIVATE_NETWORK_NAME:-alt-private},,28,4
openstack%2Fneutron~master~Ifc9e27ce608ba235d41f665d640fb34d979fa17c,openstack/neutron,master,Ifc9e27ce608ba235d41f665d640fb34d979fa17c,"Correct resource name from ""floating_ip"" to ""floatingip""",ABANDONED,2016-10-17 06:58:17.000000000,2016-11-30 01:08:34.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11347}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 23598}]","[{'number': 1, 'created': '2016-10-17 06:58:17.000000000', 'files': ['neutron/callbacks/resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bbeeca4b574a94b939c12c15b7b92cddb8b78db', 'message': 'Correct resource name from ""floating_ip"" to ""floatingip""\n\nThe resource name for floating ip is ""floatingip"", and yet\nthe callback facility defines it as ""floating_ip"" which\ncauses the registered callbacks for ""floating_ip"" can not\nbe called as expected.\n\nCloses-Bug: #1633337\n\nChange-Id: Ifc9e27ce608ba235d41f665d640fb34d979fa17c\n'}]",2,387194,6bbeeca4b574a94b939c12c15b7b92cddb8b78db,14,12,1,11347,,,0,"Correct resource name from ""floating_ip"" to ""floatingip""

The resource name for floating ip is ""floatingip"", and yet
the callback facility defines it as ""floating_ip"" which
causes the registered callbacks for ""floating_ip"" can not
be called as expected.

Closes-Bug: #1633337

Change-Id: Ifc9e27ce608ba235d41f665d640fb34d979fa17c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/387194/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/callbacks/resources.py'],1,6bbeeca4b574a94b939c12c15b7b92cddb8b78db,bug/1633337,FLOATING_IP = 'floatingip',FLOATING_IP = 'floating_ip',1,1
openstack%2Fneutron-vpnaas~master~I26dbaa970acac0327ffd05986dc6bdac522740a4,openstack/neutron-vpnaas,master,I26dbaa970acac0327ffd05986dc6bdac522740a4,Use DB field sizes instead of _MAX_LEN constants,MERGED,2016-11-26 06:30:09.000000000,2016-11-30 01:05:15.000000000,2016-11-30 01:05:15.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}]","[{'number': 1, 'created': '2016-11-26 06:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ae78623ea24406858436039936d6a9778abaec24', 'message': 'Use DB field sizes instead of _MAX_LEN constants\n\nThe following _MAX_LEN constants are being removed from\nneutron/api/v2/attributes.py in [1]. The corresponding DB field size\nconstants from neutron_lib.db.constants should be used instead.\n\n NAME_MAX_LEN              -->  NAME_FIELD_SIZE\n TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE\n DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE\n LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE\n DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE\n DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE\n\nIn alembic migration scripts, the raw numerical value shall be used.\n\nFor more information, see [2].\n\n[1] https://review.openstack.org/399891\n[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html\n\nChange-Id: I26dbaa970acac0327ffd05986dc6bdac522740a4\n'}, {'number': 2, 'created': '2016-11-26 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/a7a166bcdcc9093a2543b6178dc16d045b86fe34', 'message': 'Use DB field sizes instead of _MAX_LEN constants\n\nThe following _MAX_LEN constants are being removed from\nneutron/api/v2/attributes.py in [1]. The corresponding DB field size\nconstants from neutron_lib.db.constants should be used instead.\n\n NAME_MAX_LEN              -->  NAME_FIELD_SIZE\n TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE\n DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE\n LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE\n DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE\n DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE\n\nIn alembic migration scripts, the raw numerical value shall be used.\n\nFor more information, see [2].\n\n[1] https://review.openstack.org/399891\n[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html\n\nChange-Id: I26dbaa970acac0327ffd05986dc6bdac522740a4\n'}, {'number': 3, 'created': '2016-11-26 21:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9ae025dbc64086e434356000f4fa9dbd70bd68f4', 'message': 'Use DB field sizes instead of _MAX_LEN constants\n\nThe following _MAX_LEN constants are being removed from\nneutron/api/v2/attributes.py in [1]. The corresponding DB field size\nconstants from neutron_lib.db.constants should be used instead.\n\n NAME_MAX_LEN              -->  NAME_FIELD_SIZE\n TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE\n DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE\n LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE\n DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE\n DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE\n\nIn alembic migration scripts, the raw numerical value shall be used.\n\nFor more information, see [2].\n\n[1] https://review.openstack.org/399891\n[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html\n\nChange-Id: I26dbaa970acac0327ffd05986dc6bdac522740a4\n'}, {'number': 4, 'created': '2016-11-29 15:57:51.000000000', 'files': ['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/mitaka/contract/2cb4ee992b41_multiple_local_subnets.py', 'neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/mitaka/expand/41b509d10b5e_vpnaas_endpoint_groups.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/tests/tempest/api/test_vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2ef3c0d44905d7465732630c68308b18f21c0b82', 'message': 'Use DB field sizes instead of _MAX_LEN constants\n\nThe following _MAX_LEN constants are being removed from\nneutron/api/v2/attributes.py in [1]. The corresponding DB field size\nconstants from neutron_lib.db.constants should be used instead.\n\n NAME_MAX_LEN              -->  NAME_FIELD_SIZE\n TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE\n DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE\n LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE\n DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE\n DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE\n\nIn alembic migration scripts, the raw numerical value shall be used.\n\nFor more information, see [2].\n\n[1] https://review.openstack.org/399891\n[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html\n\nChange-Id: I26dbaa970acac0327ffd05986dc6bdac522740a4\n'}]",0,403319,2ef3c0d44905d7465732630c68308b18f21c0b82,16,3,4,6524,,,0,"Use DB field sizes instead of _MAX_LEN constants

The following _MAX_LEN constants are being removed from
neutron/api/v2/attributes.py in [1]. The corresponding DB field size
constants from neutron_lib.db.constants should be used instead.

 NAME_MAX_LEN              -->  NAME_FIELD_SIZE
 TENANT_ID_MAX_LEN         -->  PROJECT_ID_FIELD_SIZE
 DESCRIPTION_MAX_LEN       -->  DESCRIPTION_FIELD_SIZE
 LONG_DESCRIPTION_MAX_LEN  -->  LONG_DESCRIPTION_FIELD_SIZE
 DEVICE_ID_MAX_LEN         -->  DEVICE_ID_FIELD_SIZE
 DEVICE_OWNER_MAX_LEN      -->  DEVICE_NAME_FIELD_SIZE

In alembic migration scripts, the raw numerical value shall be used.

For more information, see [2].

[1] https://review.openstack.org/399891
[2] http://lists.openstack.org/pipermail/openstack-dev/2016-October/105789.html

Change-Id: I26dbaa970acac0327ffd05986dc6bdac522740a4
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/19/403319/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/mitaka/contract/2cb4ee992b41_multiple_local_subnets.py', 'neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/mitaka/expand/41b509d10b5e_vpnaas_endpoint_groups.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/tests/tempest/api/test_vpnaas.py']",6,ae78623ea24406858436039936d6a9778abaec24,use-db-field-sizes,from neutron_lib.db import constants as db_const_LONG_NAME = 'x' * (db_const.NAME_FIELD_SIZE + 1) _LONG_DESCRIPTION = 'y' * (db_const.DESCRIPTION_FIELD_SIZE + 1),from neutron.api.v2 import attributes as attr_LONG_NAME = 'x' * (attr.NAME_MAX_LEN + 1) _LONG_DESCRIPTION = 'y' * (attr.DESCRIPTION_MAX_LEN + 1),48,41
openstack%2Fopenstack-manuals~master~I94495209e12237eff5e5f26e56785173289e0494,openstack/openstack-manuals,master,I94495209e12237eff5e5f26e56785173289e0494,[install] Remove chrony repositories on obs,MERGED,2016-11-29 16:57:33.000000000,2016-11-30 01:03:26.000000000,2016-11-30 01:03:26.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 9162}]","[{'number': 1, 'created': '2016-11-29 16:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d964b9fc7adb61c5345238081c0a29e41de61ada', 'message': '[install] Remove chrony repositories on obs\n\nThe chrony package is included in the standard Leap 42.2 and SLES-12-SP2\nrepositories. It is not necessary anymore to add a special repository.\n\nChange-Id: I94495209e12237eff5e5f26e56785173289e0494\n'}, {'number': 2, 'created': '2016-11-29 18:06:57.000000000', 'files': ['doc/install-guide/source/environment-ntp-other.rst', 'doc/install-guide/source/environment-ntp-controller.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b6291c1ec80e5d61b36eda634a57777bfddee264', 'message': '[install] Remove chrony repositories on obs\n\nThe chrony package is included in the standard Leap 42.2 and SLES-12-SP2\nrepositories. It is not necessary anymore to add a special repository.\n\nbackport: newton\nChange-Id: I94495209e12237eff5e5f26e56785173289e0494\n'}]",0,404342,b6291c1ec80e5d61b36eda634a57777bfddee264,13,3,2,19298,,,0,"[install] Remove chrony repositories on obs

The chrony package is included in the standard Leap 42.2 and SLES-12-SP2
repositories. It is not necessary anymore to add a special repository.

backport: newton
Change-Id: I94495209e12237eff5e5f26e56785173289e0494
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/42/404342/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/environment-ntp-other.rst', 'doc/install-guide/source/environment-ntp-controller.rst']",2,d964b9fc7adb61c5345238081c0a29e41de61ada,chrony,, On openSUSE: # zypper addrepo -f obs://network:time/openSUSE_Leap_42.2 network_time # zypper refresh On SLES: .. code-block:: console # zypper addrepo -f obs://network:time/SLE_12_SP2 network_time # zypper refresh # zypper install chrony .. end .. note:: The packages are signed by GPG key ``17280DDF``. You should verify the fingerprint of the imported GPG key before using it. .. code-block:: console Key Name: network OBS Project <network@build.opensuse.org> Key Fingerprint: 0080689B E757A876 CB7DC269 62EB1A09 17280DDF Key Created: Tue 24 Sep 2013 04:04:12 PM UTC Key Expires: Thu 03 Dec 2015 04:04:12 PM UTC .. end ,0,56
openstack%2Fpuppet-tripleo~master~I536a1a128c3a7eca49bcc4f34a1307bcd60b029e,openstack/puppet-tripleo,master,I536a1a128c3a7eca49bcc4f34a1307bcd60b029e,pacemaker: create Mysql_user once Galera is ready (puppet4),MERGED,2016-11-29 21:58:47.000000000,2016-11-30 01:00:48.000000000,2016-11-30 01:00:48.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 12715}, {'_account_id': 14985}, {'_account_id': 20775}]","[{'number': 1, 'created': '2016-11-29 21:58:47.000000000', 'files': ['manifests/profile/pacemaker/database/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f101ee540a450d3509e1c97aab00a97a2ecf8164', 'message': 'pacemaker: create Mysql_user once Galera is ready (puppet4)\n\nPuppet 4 ordering make things more strict in catalog, which is good.\nResources have to be orchestrated or Puppet will take them in the order\nthey are found in catalog.\n\nThis patch makes sure we create MySQL users only when Galera is actually\nready.\n\nCloses-Bug: #1645787\nChange-Id: I536a1a128c3a7eca49bcc4f34a1307bcd60b029e\n'}]",0,404437,f101ee540a450d3509e1c97aab00a97a2ecf8164,10,5,1,3153,,,0,"pacemaker: create Mysql_user once Galera is ready (puppet4)

Puppet 4 ordering make things more strict in catalog, which is good.
Resources have to be orchestrated or Puppet will take them in the order
they are found in catalog.

This patch makes sure we create MySQL users only when Galera is actually
ready.

Closes-Bug: #1645787
Change-Id: I536a1a128c3a7eca49bcc4f34a1307bcd60b029e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/404437/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql.pp'],1,f101ee540a450d3509e1c97aab00a97a2ecf8164,bug/1645787, # We create databases and users for services at step 2 as well. This ensures Exec['galera-ready'] -> Mysql_user<||>, # We create databases for services at step 2 as well. This ensures,2,1
openstack%2Fpython-tripleoclient~master~Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8,openstack/python-tripleoclient,master,Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8,Updated from global requirements,MERGED,2016-11-22 17:59:29.000000000,2016-11-30 01:00:40.000000000,2016-11-30 01:00:40.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9317}, {'_account_id': 9712}]","[{'number': 1, 'created': '2016-11-22 17:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33d364815c739c4a3d2b5744a07a4c663613cd2e', 'message': 'Updated from global requirements\n\nChange-Id: Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8\n'}, {'number': 2, 'created': '2016-11-24 18:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b9a9fb4939cf9c367ed67c7fefef180cce385717', 'message': 'Updated from global requirements\n\nChange-Id: Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8\n'}, {'number': 3, 'created': '2016-11-24 21:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/49624411c26dd794d748e3e9429b86a7e70579fa', 'message': 'Updated from global requirements\n\nChange-Id: Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8\n'}, {'number': 4, 'created': '2016-11-27 13:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4660aaf1f07a4a5d0274a1a84cdb7c2612b44f2', 'message': 'Updated from global requirements\n\nChange-Id: Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8\n'}, {'number': 5, 'created': '2016-11-29 01:50:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/010f6ab4be99c63a42c501eb029d37598d0d49df', 'message': 'Updated from global requirements\n\nChange-Id: Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8\n'}]",0,400911,010f6ab4be99c63a42c501eb029d37598d0d49df,22,4,5,11131,,,0,"Updated from global requirements

Change-Id: Ifd943434a099b6669dd1cd0cfccf3586ab8f95e8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/11/400911/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,33d364815c739c4a3d2b5744a07a4c663613cd2e,openstack/requirements,"python-heatclient!=1.6.0,>=1.5.0 # Apache-2.0",python-heatclient>=1.5.0 # Apache-2.0,1,1
openstack%2Fpython-tripleoclient~master~I50ac7d033b717e43609399180f92135d8be3057e,openstack/python-tripleoclient,master,I50ac7d033b717e43609399180f92135d8be3057e,Exit before post-deploy code if we are updating the plan only,MERGED,2016-11-24 12:58:45.000000000,2016-11-30 01:00:34.000000000,2016-11-30 01:00:34.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8532}, {'_account_id': 9317}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-11-24 12:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a830eb8f8e4f2b7dd4ac9e740dcd1fa988d74da1', 'message': ""Exit before post-deploy code if we are updating the plan only\n\nThis will fail if there isn't a Heat stack yet. Without a initial\ncreate, or a stack update the following code after this flag wont do\nanything.\n\nChange-Id: I50ac7d033b717e43609399180f92135d8be3057e\n""}, {'number': 2, 'created': '2016-11-24 13:01:08.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e19012342e745a4c5f8812c98122b3487723273a', 'message': ""Exit before post-deploy code if we are updating the plan only\n\nThis will fail if there isn't a Heat stack yet. Without a initial\ncreate, or a stack update the following code after this flag wont do\nanything.\n\nCloses-Bug: #1644549\nChange-Id: I50ac7d033b717e43609399180f92135d8be3057e\n""}]",0,402025,e19012342e745a4c5f8812c98122b3487723273a,11,5,2,9712,,,0,"Exit before post-deploy code if we are updating the plan only

This will fail if there isn't a Heat stack yet. Without a initial
create, or a stack update the following code after this flag wont do
anything.

Closes-Bug: #1644549
Change-Id: I50ac7d033b717e43609399180f92135d8be3057e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/402025/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,a830eb8f8e4f2b7dd4ac9e740dcd1fa988d74da1,bug/1644549," if parsed_args.update_plan_only: # If we are only updating the plan, then we either wont have a # stack yet or there wont be any changes and the following code # wont do anything. return ",,7,0
openstack%2Fnova~master~Ia670e4d326613fe295d91bae45a379d700c33a5f,openstack/nova,master,Ia670e4d326613fe295d91bae45a379d700c33a5f,hardware: Flatten functions,MERGED,2016-09-29 17:39:46.000000000,2016-11-30 00:50:38.000000000,2016-11-24 21:23:17.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 8802}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-09-29 17:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a977037e621f0e4a406eedafcb044bf07ba59ee0', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 2, 'created': '2016-09-30 13:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d1e9f4e128f9b8da001e62fd8e295e2420e65c2', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 3, 'created': '2016-10-03 09:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af63723b000c76d02d0f28f7a59437f71af1166b', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 4, 'created': '2016-10-12 09:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb9954f12b2847d9920e73375c463c7a4bc5ee0f', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 5, 'created': '2016-10-12 11:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f051251e096e8d8b287e6dbb6f29172cdd7ef25', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 6, 'created': '2016-11-07 16:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98b85de1a8d1cdad3fb88a512b7c392a2a00bcd2', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 7, 'created': '2016-11-08 10:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c338918dd993aa78d94b14292f4af1c65cc86750', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 8, 'created': '2016-11-08 12:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29bcb4bc74e8c82d40f137eda2c78538a74ca51b', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 9, 'created': '2016-11-08 13:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/036344976a7fc87a6628f76b6ad4d3bca82bd61a', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}, {'number': 10, 'created': '2016-11-24 17:30:50.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f0711c3e32b83bc2f5af01d0a60466976ffd193', 'message': 'hardware: Flatten functions\n\nThis will make subsquent changes easier to review.\n\nChange-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f\n'}]",4,379624,3f0711c3e32b83bc2f5af01d0a60466976ffd193,106,23,10,15334,,,0,"hardware: Flatten functions

This will make subsquent changes easier to review.

Change-Id: Ia670e4d326613fe295d91bae45a379d700c33a5f
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/379624/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,a977037e621f0e4a406eedafcb044bf07ba59ee0,bp/reserve-numa-with-pci," # TODO(ndipanov): We may want to sort permutations differently # depending on whether we want packing/spreading over NUMA nodes for host_cell_perm in itertools.permutations( host_topology.cells, len(instance_topology)): cells = [] for host_cell, instance_cell in zip( host_cell_perm, instance_topology.cells): try: got_cell = _numa_fit_instance_cell( host_cell, instance_cell, limits) except exception.MemoryPageSizeNotSupported: # This exception will been raised if instance cell's # custom pagesize is not supported with host cell in # _numa_cell_supports_pagesize_request function. break if got_cell is None: break cells.append(got_cell) if len(cells) != len(host_cell_perm): return if not pci_requests or ((pci_stats is not None) and pci_stats.support_requests(pci_requests, cells)): return objects.InstanceNUMATopology(cells=cells)"," else: # TODO(ndipanov): We may want to sort permutations differently # depending on whether we want packing/spreading over NUMA nodes for host_cell_perm in itertools.permutations( host_topology.cells, len(instance_topology)): cells = [] for host_cell, instance_cell in zip( host_cell_perm, instance_topology.cells): try: got_cell = _numa_fit_instance_cell( host_cell, instance_cell, limits) except exception.MemoryPageSizeNotSupported: # This exception will been raised if instance cell's # custom pagesize is not supported with host cell in # _numa_cell_supports_pagesize_request function. break if got_cell is None: break cells.append(got_cell) if len(cells) == len(host_cell_perm): if not pci_requests: return objects.InstanceNUMATopology(cells=cells) elif ((pci_stats is not None) and pci_stats.support_requests(pci_requests, cells)): return objects.InstanceNUMATopology(cells=cells)",26,26
openstack%2Fnetworking-odl~master~I27e645738ad8553c45b4321a1d309ce7492788c2,openstack/networking-odl,master,I27e645738ad8553c45b4321a1d309ce7492788c2,Configure L3 for grenade job,MERGED,2016-11-07 19:57:30.000000000,2016-11-30 00:46:59.000000000,2016-11-30 00:46:59.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 8871}, {'_account_id': 10386}, {'_account_id': 17120}]","[{'number': 1, 'created': '2016-11-07 19:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2acd3a9ea5137a18d15e5fabd822ee4cfdda5030', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 2, 'created': '2016-11-08 16:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/35600136fd108f589cef31ce90f33ce0ac109be0', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 3, 'created': '2016-11-11 20:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b02aedc52935d69f4fadb7f6851ca1ac57d3fc06', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 4, 'created': '2016-11-18 16:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/748b81ee7d79aea8b8a040c651a50b2e4b7e11e0', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 5, 'created': '2016-11-18 17:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4f642f118eb42c46d03e9021d117c164bf09a76e', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 6, 'created': '2016-11-19 01:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6fe08f5a1b3bad486d302426f8c46faa872fb05e', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 7, 'created': '2016-11-28 22:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/299b6c09ee4a7a9c0f13b89ea92b12e4ff6b6df7', 'message': 'WIP DONT MERGE GRENADE TEST\n\nThis patch is trying to enable smoke tests on grenade jobs\nand check if they are passing with current master.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 8, 'created': '2016-11-29 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e1912f1f28fb2491990a85739d820872030cc7f3', 'message': 'Configure L3 for grenade job\n\nGrenade job was broken because of missing L3 configuration,\nthis patch adds configuration for public network to test\nenvironment.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}, {'number': 9, 'created': '2016-11-29 17:18:50.000000000', 'files': ['devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5bfdefd6c1fcefdfcdb8cc835b2ef12f9eb304c3', 'message': 'Configure L3 for grenade job\n\nGrenade job was broken because of missing L3 configuration,\nthis patch adds configuration for public network to test\nenvironment.\n\nChange-Id: I27e645738ad8553c45b4321a1d309ce7492788c2\n'}]",0,394605,5bfdefd6c1fcefdfcdb8cc835b2ef12f9eb304c3,52,5,9,17120,,,0,"Configure L3 for grenade job

Grenade job was broken because of missing L3 configuration,
this patch adds configuration for public network to test
environment.

Change-Id: I27e645738ad8553c45b4321a1d309ce7492788c2
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/05/394605/9 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/settings'],1,2acd3a9ea5137a18d15e5fabd822ee4cfdda5030,394605,,export TARGET_RUN_SMOKE=False export BASE_RUN_SMOKE=False ,0,3
openstack%2Fpython-novaclient~stable%2Fnewton~I8be883215f27abb58d15b85e8542cbdf32000bac,openstack/python-novaclient,stable/newton,I8be883215f27abb58d15b85e8542cbdf32000bac,Use upper-constraints when running tox,MERGED,2016-11-29 19:51:22.000000000,2016-11-30 00:40:35.000000000,2016-11-30 00:40:35.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-29 19:51:22.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/85a6e7e56a38742ed45f4405d448dc9cd64d1948', 'message': 'Use upper-constraints when running tox\n\nThis is basically a copy of the template used in oslo.messaging\nunder change 78f113780510b741bc974c69eb9b0718cd657c1d.\n\nConflicts:\n        tox.ini\n\nNOTE(mriedem): The conflict was on the envlist value. The\nBRANCH_NAME variable is also changed from master to stable/newton.\n\nChange-Id: I8be883215f27abb58d15b85e8542cbdf32000bac\n(cherry picked from commit c7162854f7ddfc1d31a9356ae040f10e9e9bbec3)\n'}]",0,404404,85a6e7e56a38742ed45f4405d448dc9cd64d1948,9,3,1,6873,,,0,"Use upper-constraints when running tox

This is basically a copy of the template used in oslo.messaging
under change 78f113780510b741bc974c69eb9b0718cd657c1d.

Conflicts:
        tox.ini

NOTE(mriedem): The conflict was on the envlist value. The
BRANCH_NAME variable is also changed from master to stable/newton.

Change-Id: I8be883215f27abb58d15b85e8542cbdf32000bac
(cherry picked from commit c7162854f7ddfc1d31a9356ae040f10e9e9bbec3)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/04/404404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,85a6e7e56a38742ed45f4405d448dc9cd64d1948,use-constraints,minversion = 2.0passenv = ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} BRANCH_NAME=stable/newton CLIENT_NAME=python-novaclient deps = -r{toxinidir}/test-requirements.txt {[testenv]setenv} {[testenv]setenv},minversion = 1.6install_command = pip install -U {opts} {packages} deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,39,4
openstack%2Fnetworking-odl~stable%2Fmitaka~Ie524d68ac2602b7fb6e7bd4f0d0c3bc46cdfb8f6,openstack/networking-odl,stable/mitaka,Ie524d68ac2602b7fb6e7bd4f0d0c3bc46cdfb8f6,devstack: teach ODL carbon branch,ABANDONED,2016-11-10 08:54:50.000000000,2016-11-30 00:38:41.000000000,,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 979}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 7787}, {'_account_id': 7921}, {'_account_id': 10980}, {'_account_id': 12898}, {'_account_id': 22342}, {'_account_id': 22816}]","[{'number': 1, 'created': '2016-11-10 08:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0438e88eac49d3e96362b35e77a4eeb98cb3bffe', 'message': 'devstack: teach ODL carbon branch\n\nChange-Id: Ie524d68ac2602b7fb6e7bd4f0d0c3bc46cdfb8f6\n'}, {'number': 2, 'created': '2016-11-10 15:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/594687ab4732a0e340d7ce34f4bb47c5618d6727', 'message': 'devstack: teach ODL carbon branch\n\nChange-Id: Ie524d68ac2602b7fb6e7bd4f0d0c3bc46cdfb8f6\n'}, {'number': 3, 'created': '2016-11-10 18:37:46.000000000', 'files': ['devstack/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7114f2bfc1bd6b81c49332d2991e9467c4791545', 'message': 'devstack: teach ODL carbon branch\n\nChange-Id: Ie524d68ac2602b7fb6e7bd4f0d0c3bc46cdfb8f6\n'}]",0,396025,7114f2bfc1bd6b81c49332d2991e9467c4791545,16,21,3,333,,,0,"devstack: teach ODL carbon branch

Change-Id: Ie524d68ac2602b7fb6e7bd4f0d0c3bc46cdfb8f6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/25/396025/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/pre_test_hook.sh'],1,0438e88eac49d3e96362b35e77a4eeb98cb3bffe,stable-mitaka-tempest, carbon-snapshot) ODL_RELEASE=carbon-snapshot-0.6.0 ;;,,3,0
openstack%2Fpython-tripleoclient~master~I53805d2c805705c8f16e9a6f2ef5df3195f4f70e,openstack/python-tripleoclient,master,I53805d2c805705c8f16e9a6f2ef5df3195f4f70e,Clean up image exceptions,MERGED,2016-11-29 20:13:15.000000000,2016-11-30 00:33:16.000000000,2016-11-30 00:33:16.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7065}, {'_account_id': 8532}]","[{'number': 1, 'created': '2016-11-29 20:13:15.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9756b08181ff2a088bdeba478f328ec42972f9bf', 'message': ""Clean up image exceptions\n\nWhen tripleoclient queries for the deployment kernel and ramdisk in\nglance, it logs an exception to the console if they don't exist. These\nerrors are actually redundant since an error is logged later. Also, it\nis needlessly verbose on the console, especially when using the\ndeployed-server.yaml environment where these iamges do not actually have\nto exist.\n\nThis patch changes the behavior to ignore the exception so that the\ntraceback is not shown.\n\nChange-Id: I53805d2c805705c8f16e9a6f2ef5df3195f4f70e\n""}]",0,404408,9756b08181ff2a088bdeba478f328ec42972f9bf,9,4,1,7144,,,0,"Clean up image exceptions

When tripleoclient queries for the deployment kernel and ramdisk in
glance, it logs an exception to the console if they don't exist. These
errors are actually redundant since an error is logged later. Also, it
is needlessly verbose on the console, especially when using the
deployed-server.yaml environment where these iamges do not actually have
to exist.

This patch changes the behavior to ignore the exception so that the
traceback is not shown.

Change-Id: I53805d2c805705c8f16e9a6f2ef5df3195f4f70e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/404408/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,9756b08181ff2a088bdeba478f328ec42972f9bf,split-stack-2, # kernel_id=None will be returned and an error will be logged from # self._check_boot_images pass # ramdisk_id=None will be returned and an error will be logged from # self._check_boot_images pass," self.log.exception(""Error finding 'bm-deploy-kernel' in "" ""glance."") self.log.exception(""Error finding 'bm-deploy-ramdisk' in "" ""glance."")",6,4
openstack%2Finstack-undercloud~master~Icb24cb9d90a785ddeaaca7c11a146f0aebc54c36,openstack/instack-undercloud,master,Icb24cb9d90a785ddeaaca7c11a146f0aebc54c36,Changed author and author-email,MERGED,2016-11-18 04:02:49.000000000,2016-11-30 00:33:04.000000000,2016-11-30 00:33:04.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 15905}]","[{'number': 1, 'created': '2016-11-18 04:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/afc7e1ccb97265d494de182922ace0b9ef54fc86', 'message': 'Changed author and author-email\n\nChanged author to OpenStack and author-email to\nopenstack-dev@lists.openstack.org\n\nChange-Id: Icb24cb9d90a785ddeaaca7c11a146f0aebc54c36\n'}, {'number': 2, 'created': '2016-11-28 01:55:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/924e1b829648818436d39bb787478ea9b6644917', 'message': 'Changed author and author-email\n\nChanged author to OpenStack and author-email to\nopenstack-dev@lists.openstack.org\n\nChange-Id: Icb24cb9d90a785ddeaaca7c11a146f0aebc54c36\n'}]",2,399367,924e1b829648818436d39bb787478ea9b6644917,13,5,2,15905,,,0,"Changed author and author-email

Changed author to OpenStack and author-email to
openstack-dev@lists.openstack.org

Change-Id: Icb24cb9d90a785ddeaaca7c11a146f0aebc54c36
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/67/399367/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,afc7e1ccb97265d494de182922ace0b9ef54fc86,author_update,author = OpenStack author-email = openstack-dev@lists.openstack.org home-page = https://github.com/openstack/instack-undercloud,author = James Slagle author-email = jslagle@redhat.com home-page = http://www.redhat.com/,3,3
openstack%2Fpuppet-zaqar~master~I026b7d8f2b5994114d5a319200ed7c7d099b4fb5,openstack/puppet-zaqar,master,I026b7d8f2b5994114d5a319200ed7c7d099b4fb5,Add support for Debian system,MERGED,2016-11-20 15:57:22.000000000,2016-11-30 00:32:59.000000000,2016-11-30 00:32:59.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-20 15:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/98ab3ce97eb8069e5974ae314087b3a6cfe7c26b', 'message': 'To support ubuntu\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}, {'number': 2, 'created': '2016-11-21 00:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/520b9faa95ce75dd485f53a3fc64d79b51309523', 'message': 'To support ubuntu\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}, {'number': 3, 'created': '2016-11-21 05:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/3f59d0d285da5de9c18ea041ca0310849a896238', 'message': 'To support ubuntu\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}, {'number': 4, 'created': '2016-11-23 03:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/e1c317b5972d722f6f963bb25f9708a883c9e84b', 'message': 'To support ubuntu\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}, {'number': 5, 'created': '2016-11-23 04:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/1040fef50e55873f7491523f17f107816f380ff5', 'message': 'Add support for Debian system\n\nWe can add suport for Debian system due to Already have the\nzaqar package in Debian system.\nThe Debian system does not support the use of services to run\na second instance, because there is no zaqar-server@.service\nin zaqar package, so do not test it. I will Re-test it after\nthe zaqar package solve the problem.\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}, {'number': 6, 'created': '2016-11-29 00:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/1d72d8d7028505c9aa548858b7f4fefee2e5db4a', 'message': 'Add support for Debian system\n\nWe can add suport for Debian system due to have the\nzaqar package in Debian system.\nThe Debian system does not support the use of services to run\na second instance, because there is no zaqar-server@.service\nin zaqar package, so do not test it. I will Re-test it after\nthe zaqar package solve the problem.\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}, {'number': 7, 'created': '2016-11-29 04:53:51.000000000', 'files': ['spec/acceptance/zaqar_mongo_spec.rb', 'spec/classes/zaqar_init_spec.rb', 'spec/defines/zaqar_server_instance_spec.rb', 'manifests/params.pp', 'spec/classes/zaqar_server_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/7cf66df9e1c3b791b07a63fd6196d24bdc6dab42', 'message': 'Add support for Debian system\n\nWe can add suport for Debian system due to have the\nzaqar package in Debian system.\nThe Debian system does not support the use of services to run\na second instance, because there is no zaqar-server@.service\nin zaqar package, so do not test it. I will Re-test it after\nthe zaqar package solve the problem.\n\nChange-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5\n'}]",4,399980,7cf66df9e1c3b791b07a63fd6196d24bdc6dab42,30,7,7,9414,,,0,"Add support for Debian system

We can add suport for Debian system due to have the
zaqar package in Debian system.
The Debian system does not support the use of services to run
a second instance, because there is no zaqar-server@.service
in zaqar package, so do not test it. I will Re-test it after
the zaqar package solve the problem.

Change-Id: I026b7d8f2b5994114d5a319200ed7c7d099b4fb5
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/80/399980/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/zaqar_mongo_spec.rb', 'manifests/params.pp']",2,98ab3ce97eb8069e5974ae314087b3a6cfe7c26b,support_debian, $package_name = 'zaqar-server' $service_name = 'zaqar-server', $package_name = 'zaqar' $service_name = 'zaqar',19,26
openstack%2Fpuppet-trove~master~Ic185e6b83d22bc66e90f84c696b1084afd3dd66e,openstack/puppet-trove,master,Ic185e6b83d22bc66e90f84c696b1084afd3dd66e,Use lowercase project name for doc,MERGED,2016-11-14 03:57:42.000000000,2016-11-30 00:32:53.000000000,2016-11-30 00:32:53.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 20835}]","[{'number': 1, 'created': '2016-11-14 03:57:42.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/a44d0c259ecf6bfa49a39c93e9196c3ffc98ca22', 'message': 'Use lowercase project name for doc\n\nProjectname according to the relevant provisions of the new document\nstyle should use lowercase[1],In view of the project is not independent\nof the official document, so I think the README will have the effect\nof separate documents, so I modified document style.\n\n[1]:http://docs.openstack.org/contributor-guide/writing-style/openstack-components.html\n\nChange-Id: Ic185e6b83d22bc66e90f84c696b1084afd3dd66e\n'}]",0,396994,a44d0c259ecf6bfa49a39c93e9196c3ffc98ca22,9,5,1,22694,,,0,"Use lowercase project name for doc

Projectname according to the relevant provisions of the new document
style should use lowercase[1],In view of the project is not independent
of the official document, so I think the README will have the effect
of separate documents, so I modified document style.

[1]:http://docs.openstack.org/contributor-guide/writing-style/openstack-components.html

Change-Id: Ic185e6b83d22bc66e90f84c696b1084afd3dd66e
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/94/396994/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a44d0c259ecf6bfa49a39c93e9196c3ffc98ca22,use-lowcases,"* [trove](http://docs.openstack.org/developer/trove/), the database service for OpenStack.For security reasons, a separate in-cloud RabbitMQ cluster should be set up for trove to use. The reason for this is that the guest agent needs to communicate with RabbitMQ, so it is not advisable to give instances access to the same RabbitMQ server that the core OpenStack services are using for communication.","* [Trove](http://docs.openstack.org/developer/trove/), the database service for OpenStack.For security reasons, a separate in-cloud RabbitMQ cluster should be set up for Trove to use. The reason for this is that the guest agent needs to communicate with RabbitMQ, so it is not advisable to give instances access to the same RabbitMQ server that the core OpenStack services are using for communication.",2,2
openstack%2Fpuppet-nova~master~I7a4d5251e8cff6b72f14c645f44a46fb9c44623d,openstack/puppet-nova,master,I7a4d5251e8cff6b72f14c645f44a46fb9c44623d,remove ec2 related options,MERGED,2016-11-11 01:55:23.000000000,2016-11-30 00:32:44.000000000,2016-11-30 00:32:44.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7732}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17070}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-11 01:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bedc239171355b879d91cfaa8ef48c608bd30b60', 'message': ""remove ec2 related options\n\npreviously deprecated config option\n'''ec2_listen_port'''\n'''ec2_workers'''\n'''keystone_ec2_url'''\nto be removed, as they were never used in code.\n\nChange-Id: I7a4d5251e8cff6b72f14c645f44a46fb9c44623d\n""}, {'number': 2, 'created': '2016-11-22 02:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fe19c281c429217ca2dbcdf8825c7bc94bab52a0', 'message': ""remove ec2 related options\n\npreviously deprecated config option\n'''ec2_listen_port'''\n'''ec2_workers'''\n'''keystone_ec2_url'''\nto be removed, as they were never used in code.\n\nChange-Id: I7a4d5251e8cff6b72f14c645f44a46fb9c44623d\n""}, {'number': 3, 'created': '2016-11-22 02:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4ecc56c70edc0127ed1added91040bf324eaa781', 'message': ""remove ec2 related options\n\npreviously deprecated config option\n'''ec2_listen_port'''\n'''ec2_workers'''\n'''keystone_ec2_url'''\nto be removed, as they were never used in code.\n\nChange-Id: I7a4d5251e8cff6b72f14c645f44a46fb9c44623d\n""}, {'number': 4, 'created': '2016-11-23 01:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2840abab192b7593a977eba1fac4ad9e8ddf8b6a', 'message': ""remove ec2 related options\n\npreviously deprecated config option\n'''ec2_listen_port'''\n'''ec2_workers'''\n'''keystone_ec2_url'''\nto be removed, as they were never used in code.\n\nChange-Id: I7a4d5251e8cff6b72f14c645f44a46fb9c44623d\n""}, {'number': 5, 'created': '2016-11-24 01:45:26.000000000', 'files': ['releasenotes/notes/remove_deprecated_ec2_related_option-47bda9520a888853.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fd1b58e28d50929f13428415512323a536b8370e', 'message': ""remove ec2 related options\n\npreviously deprecated config option\n'''ec2_listen_port'''\n'''ec2_workers'''\n'''keystone_ec2_url'''\nto be removed, as they were never used in code.\n\nChange-Id: I7a4d5251e8cff6b72f14c645f44a46fb9c44623d\n""}]",6,396462,fd1b58e28d50929f13428415512323a536b8370e,39,8,5,17070,,,0,"remove ec2 related options

previously deprecated config option
'''ec2_listen_port'''
'''ec2_workers'''
'''keystone_ec2_url'''
to be removed, as they were never used in code.

Change-Id: I7a4d5251e8cff6b72f14c645f44a46fb9c44623d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/62/396462/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,bedc239171355b879d91cfaa8ef48c608bd30b60,,," $ec2_listen_port = undef, $ec2_workers = undef, $keystone_ec2_url = undef, if $ec2_listen_port or $ec2_workers or $keystone_ec2_url { warning('ec2_listen_port, ec2_workers and keystone_ec2_url are deprecated and have no effect. Deploy openstack/ec2-api instead.') } ",0,7
openstack%2Fironic~master~I5eb688604f1089b425fa97fd68149610ada40bdb,openstack/ironic,master,I5eb688604f1089b425fa97fd68149610ada40bdb,devstack: Use $HOME/.ssh/id_rsa for SSH private key location,ABANDONED,2016-10-06 21:46:07.000000000,2016-11-30 00:31:40.000000000,,"[{'_account_id': 3}, {'_account_id': 7080}, {'_account_id': 10118}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-10-06 21:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3376d46cfa8c51c77d35feae568bcf73499b221', 'message': 'Use the existing $HOME/.ssh/id_rsa public key\n\nInstead of having our own special Ironic key. Use the already existing\nkey. It is located in /opt/stack/new/.ssh/id_rsa\n\nChange-Id: I5eb688604f1089b425fa97fd68149610ada40bdb\n'}, {'number': 2, 'created': '2016-10-07 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d30f7f9ff4b0b8551fc8a4b72745192ac54bdc7f', 'message': 'Use $HOME/.ssh/id_rsa as location for SSH public key\n\nInstead of having our own special Ironic key location. Use the standard\nlocation. During devstack runs it is located in\n/opt/stack/new/.ssh/id_rsa. When a multi-node job is run the key will be\ncreated by devstack-gate.\n\nChange-Id: I5eb688604f1089b425fa97fd68149610ada40bdb\n'}, {'number': 3, 'created': '2016-10-07 16:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/46967bdd585787a05c0257f56d134b78314768d8', 'message': 'Use $HOME/.ssh/id_rsa as default location for SSH public key\n\nInstead of having our own special Ironic key location. Use the standard\nlocation by default. During devstack runs it is located in\n/opt/stack/new/.ssh/id_rsa. When a multi-node job is run the key will be\ncreated by devstack-gate.\n\nChange-Id: I5eb688604f1089b425fa97fd68149610ada40bdb\n'}, {'number': 4, 'created': '2016-10-07 16:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6bc58775f4c5f3a9a83c781ce6bbc088d81d8a7', 'message': 'Use $HOME/.ssh/id_rsa as default location for SSH private key\n\nInstead of having our own special Ironic key location. Use the standard\nlocation by default. During devstack runs it is located in\n/opt/stack/new/.ssh/id_rsa. When a multi-node job is run the key will be\ncreated by devstack-gate.\n\nChange-Id: I5eb688604f1089b425fa97fd68149610ada40bdb\n'}, {'number': 5, 'created': '2016-10-10 19:35:34.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6acc62c0c53422b6e1ed468e5433ce60fe8a20b', 'message': 'devstack: Use $HOME/.ssh/id_rsa for SSH private key location\n\nDuring devstack runs use the standard $HOME/.ssh/id_rsa location for\nthe location of the SSH private key file, this is\n/opt/stack/new/.ssh/id_rsa.\n\nWhen the private key does not already exist:\n * devstack/lib/ironic will create the key for non multi-node jobs.\n * For multi-node jobs the SSH private key will be created by\n   devstack-gate\n\nChange-Id: I5eb688604f1089b425fa97fd68149610ada40bdb\n'}]",4,383487,e6acc62c0c53422b6e1ed468e5433ce60fe8a20b,34,11,5,14760,,,0,"devstack: Use $HOME/.ssh/id_rsa for SSH private key location

During devstack runs use the standard $HOME/.ssh/id_rsa location for
the location of the SSH private key file, this is
/opt/stack/new/.ssh/id_rsa.

When the private key does not already exist:
 * devstack/lib/ironic will create the key for non multi-node jobs.
 * For multi-node jobs the SSH private key will be created by
   devstack-gate

Change-Id: I5eb688604f1089b425fa97fd68149610ada40bdb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/383487/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,a3376d46cfa8c51c77d35feae568bcf73499b221,,IRONIC_SSH_KEY_DIR=${IRONIC_SSH_KEY_DIR:-$HOME/.ssh} IRONIC_SSH_KEY_FILENAME=${IRONIC_SSH_KEY_FILENAME:-id_rsa},IRONIC_SSH_KEY_DIR=${IRONIC_SSH_KEY_DIR:-$IRONIC_DATA_DIR/ssh_keys} IRONIC_SSH_KEY_FILENAME=${IRONIC_SSH_KEY_FILENAME:-ironic_key},2,2
openstack%2Fcharm-ceilometer-agent~master~Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c,openstack/charm-ceilometer-agent,master,Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c,Fix support for Keystone v3 domain auth,MERGED,2016-11-08 18:12:48.000000000,2016-11-30 00:31:33.000000000,2016-11-30 00:31:33.000000000,"[{'_account_id': 3}, {'_account_id': 6737}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-08 18:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/dd51e8af250b8664adab8e3fddc5b0c3a2a754fc', 'message': 'Add support for Keystone v3 admin domain auth\n\nWhen api version > 2 get admin domain name from realtion data\nand use for Keystone v3 auth.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 2, 'created': '2016-11-10 16:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/30bc7f4788bf67574b1a4b876321f90605b34a2e', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n""}, {'number': 3, 'created': '2016-11-10 16:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/9ae23af0f8899700c36ba8ea150f893faf0ba759', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n""}, {'number': 4, 'created': '2016-11-11 15:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/35b271e7770e38399be0d6328157157c46d2324c', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n""}, {'number': 5, 'created': '2016-11-14 21:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/9e04e2c70fade5aaa21a43a87221d0d9a8dd4a4e', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n""}, {'number': 6, 'created': '2016-11-15 07:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/0c9af619a80d2881aae6cae3146b531d507cb724', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n""}, {'number': 7, 'created': '2016-11-21 17:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/66fddc0d002b6e13fdbfa0fe16eadde0ec589942', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 8, 'created': '2016-11-24 15:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/6f76fc3224eda99e441eba0c283df9c540de1b74', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 9, 'created': '2016-11-24 15:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/77034aa9d98d9ecc4fd0fc8698edb9c4633ee3ff', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 10, 'created': '2016-11-26 15:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/437951f264f9290f04599021c35e4d5cf9661052', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 11, 'created': '2016-11-28 11:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/700ea20f790faa7745b07c5476c3fc07ce865652', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 12, 'created': '2016-11-28 22:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/7564b9f0f77f6c12d18189235c0b6c4bfb6d80ca', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 13, 'created': '2016-11-29 07:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/cfecc16216d9df59a6d53d46aad3ab5b6f093ec4', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 14, 'created': '2016-11-29 13:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/6954fc6011ceae6ce5bba2a49ac9bd27f37b0db0', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 15, 'created': '2016-11-29 14:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/a58ebe381398592fffa9e0395759c53099d4d99d', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}, {'number': 16, 'created': '2016-11-29 22:37:06.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'templates/mitaka/ceilometer.conf', 'tests/basic_deployment.py', 'hooks/ceilometer_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/a904456fe3d353bbd972d7a3af91df9f49fbec5b', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nChange-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c\nCloses-Bug: 1636098\n'}]",1,395105,a904456fe3d353bbd972d7a3af91df9f49fbec5b,67,6,16,13686,,,0,"Fix support for Keystone v3 domain auth

When using v3 authentication and authorization Ceilometer must
authenticate to services project in service_domain.

Change-Id: Ibb19fa8476cf712ccb4bc524a48d3501f42fc62c
Closes-Bug: 1636098
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/05/395105/10 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'templates/mitaka/ceilometer.conf', 'hooks/charmhelpers/contrib/openstack/context.py']",3,dd51e8af250b8664adab8e3fddc5b0c3a2a754fc,bug/1636098," 'admin_domain_name': rdata.get('admin_domain_name'), 'admin_project_name': rdata.get('admin_project_name'),",,15,1
openstack%2Fpuppet-neutron~master~I9c49f3176ae62b947fd2c0c1f446bffad1d1d9ba,openstack/puppet-neutron,master,I9c49f3176ae62b947fd2c0c1f446bffad1d1d9ba,Add release note for updating fwaas configuration,MERGED,2016-11-28 05:59:17.000000000,2016-11-30 00:29:43.000000000,2016-11-30 00:29:43.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-28 05:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/630bce3889c19b99f4f961cf1e0b512b2690496a', 'message': 'Add release note for updating fwaas configuration\n\nThere is no release note for the review[0], so add it.\n\n[0]: https://review.openstack.org/#/c/400939/\n\nChange-Id: I9c49f3176ae62b947fd2c0c1f446bffad1d1d9ba\n'}, {'number': 2, 'created': '2016-11-29 00:36:07.000000000', 'files': ['releasenotes/notes/update_fwaas_configuration-8713a252ef12d145.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a3201c931aafef5a87971c30927565fcb15a8c17', 'message': 'Add release note for updating fwaas configuration\n\nThere is no release note for the review[0], so add it.\n\n[0]: https://review.openstack.org/#/c/400939/\n\nChange-Id: I9c49f3176ae62b947fd2c0c1f446bffad1d1d9ba\n'}]",1,403509,a3201c931aafef5a87971c30927565fcb15a8c17,12,5,2,9414,,,0,"Add release note for updating fwaas configuration

There is no release note for the review[0], so add it.

[0]: https://review.openstack.org/#/c/400939/

Change-Id: I9c49f3176ae62b947fd2c0c1f446bffad1d1d9ba
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/403509/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/update_fwaas_configuration-8713a252ef12d145.yaml'],1,630bce3889c19b99f4f961cf1e0b512b2690496a,add_releasenote_fwaas,--- features: - Allow to configure extensions in neutron l3 agent. - Allow to configure agent_version in fwaas sections. - Configure fwaas section in neutron.conf too. ,,5,0
openstack%2Fpuppet-cinder~master~Ie056aa304e61a369e99800a0ff01e1586e70c5d2,openstack/puppet-cinder,master,Ie056aa304e61a369e99800a0ff01e1586e70c5d2,Fix lint issue,MERGED,2016-11-29 09:38:37.000000000,2016-11-30 00:29:37.000000000,2016-11-30 00:29:37.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 09:38:37.000000000', 'files': ['spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6654e24f7ce730ced9e9798ab39e9ab9f6f14a15', 'message': 'Fix lint issue\n\nChange-Id: Ie056aa304e61a369e99800a0ff01e1586e70c5d2\n'}]",0,404113,6654e24f7ce730ced9e9798ab39e9ab9f6f14a15,11,3,1,9414,,,0,"Fix lint issue

Change-Id: Ie056aa304e61a369e99800a0ff01e1586e70c5d2
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/13/404113/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_api_spec.rb'],1,6654e24f7ce730ced9e9798ab39e9ab9f6f14a15,fix_lint," 'ensure' => 'running', 'tag' => 'cinder-service', 'nova_catalog_info' => 'compute:nova:publicURL', :enabled => true, :sync_db => false, :path => '/usr/bin:/bin:/usr/sbin:/sbin', :provider => 'shell', :tries => '10', :try_sleep => '2', :command => 'cinder --os-auth-url http://localhost:5000 --os-project-name services --os-username cinder --os-password foo list', :validate => true, :validation_options => { 'cinder-api' => { 'command' => 'my-script' } } :path => '/usr/bin:/bin:/usr/sbin:/sbin', :provider => 'shell', :tries => '10', :try_sleep => '2', :command => 'my-script', req_params.merge!({ :service_name => 'httpd' }) :ensure => 'stopped', :enable => false, :tag => ['cinder-service'], req_params.merge!({ :service_name => 'foobar' }) :use_ssl => true, :cert_file => '/path/to/cert', :ca_file => '/path/to/ca', :key_file => '/path/to/key', :use_ssl => true, :ca_file => '/path/to/ca', :key_file => '/path/to/key',"," 'ensure' => 'running', 'tag' => 'cinder-service', 'nova_catalog_info' => 'compute:nova:publicURL', :enabled => true, :sync_db => false, :path => '/usr/bin:/bin:/usr/sbin:/sbin', :provider => 'shell', :tries => '10', :try_sleep => '2', :command => 'cinder --os-auth-url http://localhost:5000 --os-project-name services --os-username cinder --os-password foo list', :validate => true, :validation_options => { 'cinder-api' => { 'command' => 'my-script' } } :path => '/usr/bin:/bin:/usr/sbin:/sbin', :provider => 'shell', :tries => '10', :try_sleep => '2', :command => 'my-script', req_params.merge!({ :service_name => 'httpd' }) :ensure => 'stopped', :enable => false, :tag => ['cinder-service'], req_params.merge!({ :service_name => 'foobar' }) :use_ssl => true, :cert_file => '/path/to/cert', :ca_file => '/path/to/ca', :key_file => '/path/to/key', :use_ssl => true, :ca_file => '/path/to/ca', :key_file => '/path/to/key',",29,29
openstack%2Fnetworking-l2gw~master~I4eebe015d0ece32d0fe490b177078dac27aba4e5,openstack/networking-l2gw,master,I4eebe015d0ece32d0fe490b177078dac27aba4e5,Use ExtensionDescriptor from neutron-lib,MERGED,2016-11-26 00:37:24.000000000,2016-11-30 00:29:00.000000000,2016-11-30 00:29:00.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 6558}, {'_account_id': 9656}, {'_account_id': 16237}]","[{'number': 1, 'created': '2016-11-26 00:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/7fe8f43b4601cf9ab8a8db7acc475faf54a9a587', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nChange-Id: I4eebe015d0ece32d0fe490b177078dac27aba4e5\n'}, {'number': 2, 'created': '2016-11-26 03:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/73c07ab847109cde2360c788630b22544b92666f', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nDepends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5\n\nChange-Id: I4eebe015d0ece32d0fe490b177078dac27aba4e5\n'}, {'number': 3, 'created': '2016-11-28 15:03:52.000000000', 'files': ['networking_l2gw/extensions/l2gateway.py', 'networking_l2gw/extensions/l2gatewayconnection.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/498df742237dd4a8468e1009826354ba610ac313', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nDepends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5\n\nChange-Id: I4eebe015d0ece32d0fe490b177078dac27aba4e5\n'}]",0,403294,498df742237dd4a8468e1009826354ba610ac313,15,5,3,6524,,,0,"Use ExtensionDescriptor from neutron-lib

ExtensionDescriptor has been rehomed to neutron-lib and is being
removed from neutron core.

See https://review.openstack.org/398113

Depends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5

Change-Id: I4eebe015d0ece32d0fe490b177078dac27aba4e5
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/94/403294/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw/extensions/l2gateway.py', 'networking_l2gw/extensions/l2gatewayconnection.py']",2,7fe8f43b4601cf9ab8a8db7acc475faf54a9a587,ExtensionDescriptor, from neutron_lib.api import extensions ,from neutron.api import extensions,7,4
openstack%2Fmonasca-persister~master~I65e1a75c65d44ff50c9ab0c2ff8c66faa99c227b,openstack/monasca-persister,master,I65e1a75c65d44ff50c9ab0c2ff8c66faa99c227b,Don't include openstack/common in flake8 exclude list,MERGED,2016-11-25 02:51:22.000000000,2016-11-30 00:25:52.000000000,2016-11-30 00:25:52.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 14273}]","[{'number': 1, 'created': '2016-11-25 02:51:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/313cbcda4488da01c7b4eca8e1e63418b68ba59e', 'message': ""Don't include openstack/common in flake8 exclude list\n\nThere is no this directory openstack/common which was used\nto keep codes from oslo-incubator, we have retired oslo-incubator.\nRemoving openstack/commonfrom all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release. So\ndon't use this directory any more. We should drop it for improving\nsearching efficiency.\n\nChange-Id: I65e1a75c65d44ff50c9ab0c2ff8c66faa99c227b\n""}]",0,402266,313cbcda4488da01c7b4eca8e1e63418b68ba59e,7,3,1,21387,,,0,"Don't include openstack/common in flake8 exclude list

There is no this directory openstack/common which was used
to keep codes from oslo-incubator, we have retired oslo-incubator.
Removing openstack/commonfrom all OpenStack code in favor of the
Oslo libraries is a project wide goal for the Ocata release. So
don't use this directory any more. We should drop it for improving
searching efficiency.

Change-Id: I65e1a75c65d44ff50c9ab0c2ff8c66faa99c227b
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/66/402266/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,313cbcda4488da01c7b4eca8e1e63418b68ba59e,common,"exclude=.venv,.git,.tox,dist,*egg,build","exclude=.venv,.git,.tox,dist,*openstack/common*,*egg,build",1,1
openstack%2Fhorizon~stable%2Fnewton~I46e4c6c70b212e1389e126c35f756b4f0cf6959c,openstack/horizon,stable/newton,I46e4c6c70b212e1389e126c35f756b4f0cf6959c,Remove local/enabled from test settings,MERGED,2016-11-28 17:01:33.000000000,2016-11-30 00:20:20.000000000,2016-11-30 00:20:20.000000000,"[{'_account_id': 3}, {'_account_id': 12071}]","[{'number': 1, 'created': '2016-11-28 17:01:33.000000000', 'files': ['openstack_dashboard/test/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/14260a29ee46efd656d2a8de93255e7c4878015e', 'message': 'Remove local/enabled from test settings\n\nChange-Id: I46e4c6c70b212e1389e126c35f756b4f0cf6959c\nCloses-Bug: 1639876\n(cherry picked from commit df68cfad4ae981802366579f64862b0194cab97c)\n'}]",0,403809,14260a29ee46efd656d2a8de93255e7c4878015e,6,2,1,12826,,,0,"Remove local/enabled from test settings

Change-Id: I46e4c6c70b212e1389e126c35f756b4f0cf6959c
Closes-Bug: 1639876
(cherry picked from commit df68cfad4ae981802366579f64862b0194cab97c)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/403809/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/settings.py'],1,14260a29ee46efd656d2a8de93255e7c4878015e,bug/1639876,,"import openstack_dashboard.local.enabled openstack_dashboard.local.enabled,",0,2
openstack%2Fpuppet-ceph~master~If30bf758d539d4becd970a63053ac1e5d55d9ec4,openstack/puppet-ceph,master,If30bf758d539d4becd970a63053ac1e5d55d9ec4,Use facts from puppet-openstack_spec_helper,MERGED,2016-11-29 13:14:08.000000000,2016-11-30 00:18:10.000000000,2016-11-30 00:18:10.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 13344}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 13:14:08.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5a47d93fd5e2aed013ce636a4d053567723ceb04', 'message': 'Use facts from puppet-openstack_spec_helper\n\nrspec-puppet-facts are available from puppet-openstack_spec_helper/facts\nso we can use it now\n\nChange-Id: If30bf758d539d4becd970a63053ac1e5d55d9ec4\n'}]",0,404207,5a47d93fd5e2aed013ce636a4d053567723ceb04,10,4,1,18795,,,0,"Use facts from puppet-openstack_spec_helper

rspec-puppet-facts are available from puppet-openstack_spec_helper/facts
so we can use it now

Change-Id: If30bf758d539d4becd970a63053ac1e5d55d9ec4
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/07/404207/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,5a47d93fd5e2aed013ce636a4d053567723ceb04,rspec-puppet-facts,require 'puppet-openstack_spec_helper/facts', require 'puppet-openstack_spec_helper/defaults' require 'rspec-puppet-facts' include RspecPuppetFacts # TODO(aschultz): remove this after all tests converted to use OSDefaults # instead of referencing @default_facts c.before :each do @default_facts = OSDefaults.get_facts end,1,9
openstack%2Fpuppet-ceilometer~master~I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4,openstack/puppet-ceilometer,master,I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4,Add hooks for external install & svc management,MERGED,2016-11-29 01:22:47.000000000,2016-11-30 00:18:05.000000000,2016-11-30 00:18:05.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-29 01:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8f6716786f69cf1b29ff320d5bcc5d4d5a917868', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4\n'}, {'number': 2, 'created': '2016-11-29 01:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6b559cd46864ea23312c1d46aa5ff6457e46166d', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4\n'}, {'number': 3, 'created': '2016-11-29 02:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/91ca9ae0774e78d583f38fb4e76c965099f82100', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4\n'}, {'number': 4, 'created': '2016-11-29 03:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5dcf540b4eddaddd477cf18e98644049277f2e65', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4\n'}, {'number': 5, 'created': '2016-11-29 09:32:51.000000000', 'files': ['releasenotes/notes/external_install_mgmt_hook-676123a45de9237f.yaml', 'manifests/db/sync.pp', 'spec/classes/ceilometer_agent_compute_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'manifests/db/mysql.pp', 'manifests/dispatcher/gnocchi.pp', 'spec/classes/ceilometer_api_spec.rb', 'spec/classes/ceilometer_init_spec.rb', 'spec/classes/ceilometer_agent_notification_spec.rb', 'manifests/agent/central.pp', 'spec/classes/ceilometer_expirer_spec.rb', 'manifests/deps.pp', 'manifests/logging.pp', 'spec/classes/ceilometer_agent_central_spec.rb', 'manifests/agent/polling.pp', 'manifests/db/postgresql.pp', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/init.pp', 'spec/classes/ceilometer_db_sync_spec.rb', 'manifests/agent/auth.pp', 'manifests/config.pp', 'manifests/agent/notification.pp', 'manifests/wsgi/apache.pp', 'spec/classes/ceilometer_client_spec.rb', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'manifests/collector.pp', 'manifests/expirer.pp', 'manifests/policy.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/fc4a0fd5100128280703dbb3f8e109fb9393a2d0', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4\n'}]",1,403964,fc4a0fd5100128280703dbb3f8e109fb9393a2d0,23,6,5,9414,,,0,"Add hooks for external install & svc management

This adds defined anchor points for external modules to hook into the
software install, config and service dependency chain.  This allows
external modules to manage software installation (virtualenv,
containers, etc) and service management (pacemaker) without needing rely
on resources that may change or be renamed.

Change-Id: I0d18ec6ffe6b54c85773a6dabb0ed7b6f59a12f4
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/64/403964/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/external_install_mgmt_hook-676123a45de9237f.yaml', 'manifests/db/sync.pp', 'spec/classes/ceilometer_agent_compute_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'manifests/db/mysql.pp', 'manifests/dispatcher/gnocchi.pp', 'spec/classes/ceilometer_api_spec.rb', 'spec/classes/ceilometer_init_spec.rb', 'spec/classes/ceilometer_agent_notification_spec.rb', 'manifests/agent/central.pp', 'spec/classes/ceilometer_expirer_spec.rb', 'manifests/deps.pp', 'manifests/logging.pp', 'spec/classes/ceilometer_agent_central_spec.rb', 'manifests/agent/polling.pp', 'manifests/db/postgresql.pp', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/init.pp', 'spec/classes/ceilometer_db_sync_spec.rb', 'manifests/agent/auth.pp', 'manifests/config.pp', 'manifests/agent/notification.pp', 'manifests/wsgi/apache.pp', 'spec/classes/ceilometer_client_spec.rb', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'manifests/collector.pp', 'manifests/expirer.pp', 'manifests/policy.pp', 'manifests/keystone/auth.pp']",31,8f6716786f69cf1b29ff320d5bcc5d4d5a917868,deps, include ::ceilometer::deps ,,118,53
openstack%2Fhorizon~stable%2Fnewton~Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1,openstack/horizon,stable/newton,Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1,Remove network name from create subnet error message,MERGED,2016-11-29 14:36:41.000000000,2016-11-30 00:14:37.000000000,2016-11-30 00:14:37.000000000,"[{'_account_id': 3}, {'_account_id': 11885}, {'_account_id': 12071}]","[{'number': 1, 'created': '2016-11-29 14:36:41.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ba47d159df0ad5340eaaa02e1cc7e66df1c1d48e', 'message': 'Remove network name from create subnet error message\n\nChange-Id: Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1\nCloses-bug: #1634272\n(cherry picked from commit 51410e5505cacccf18761722f997d4fd88fb4f32)\n'}]",0,404246,ba47d159df0ad5340eaaa02e1cc7e66df1c1d48e,7,3,1,12826,,,0,"Remove network name from create subnet error message

Change-Id: Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1
Closes-bug: #1634272
(cherry picked from commit 51410e5505cacccf18761722f997d4fd88fb4f32)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/404246/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,ba47d159df0ad5340eaaa02e1cc7e66df1c1d48e,bug/1634272," if network_name: msg = _('Failed to create subnet ""%(sub)s"" for network ' '""%(net)s"": %(reason)s') else: msg = _('Failed to create subnet ""%(sub)s"": %(reason)s')"," msg = _('Failed to create subnet ""%(sub)s"" for network ""%(net)s"": ' ' %(reason)s')",5,2
openstack%2Fnova~master~I269e05ddb62ec6c6cc7f7922c1344186ccf850d1,openstack/nova,master,I269e05ddb62ec6c6cc7f7922c1344186ccf850d1,Fix notification doc generator,MERGED,2016-11-10 15:09:07.000000000,2016-11-30 00:14:01.000000000,2016-11-30 00:14:01.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20411}, {'_account_id': 20581}, {'_account_id': 21111}, {'_account_id': 21239}, {'_account_id': 21242}]","[{'number': 1, 'created': '2016-11-10 15:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffd6703efa8e4a7d6fe9921e070b82ed7bcfc70c', 'message': 'Fix notification doc generator\n\nThe doc generator only picked up the event types related to\ninstance actions because doc generator looked up the registered\nnotification classes but only the instance related ones was\nimported in the doc generation environment so the other notification\nclasses were not registered.\n\nThis commit explicitly imports the modules that defines the notification\nclasses to make the doc complete.\n\nChange-Id: I269e05ddb62ec6c6cc7f7922c1344186ccf850d1\nCloses-bug: #1640818\n'}, {'number': 2, 'created': '2016-11-10 17:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47b62ccd2d76e922a03e97e7cf6fc47e0ae28930', 'message': 'Fix notification doc generator\n\nThe doc generator only picked up the event types related to\ninstance actions because doc generator looked up the registered\nnotification classes but only the instance related ones was\nimported in the doc generation environment so the other notification\nclasses were not registered.\n\nThis commit explicitly imports the modules that defines the notification\nclasses to make the doc complete.\n\nChange-Id: I269e05ddb62ec6c6cc7f7922c1344186ccf850d1\nCloses-bug: #1640818\n'}, {'number': 3, 'created': '2016-11-24 11:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12fb3e11269d0a48e821c79afa510bfd03a8588f', 'message': 'Fix notification doc generator\n\nThe doc generator only picked up the event types related to\ninstance actions because doc generator looked up the registered\nnotification classes only. Unit now only the instance related\nones was imported in the doc generation environment so the other\nnotification classes were not registered.\n\nThis commit explicitly imports the modules that defines the notification\nclasses to make the doc complete.\n\nChange-Id: I269e05ddb62ec6c6cc7f7922c1344186ccf850d1\nCloses-bug: #1640818\n'}, {'number': 4, 'created': '2016-11-24 13:26:02.000000000', 'files': ['doc/ext/versioned_notifications.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8897aba72497548934c4c9bb5a107c027bf0674', 'message': 'Fix notification doc generator\n\nThe doc generator only picked up the event types related to instance\nactions because the doc generator looked up the registered notification\nclasses only. Until now, only the instance related notifications were\nimported in the doc generation environment so the other notification\nclasses were not registered.\n\nThis commit explicitly imports the modules that defines the notification\nclasses to make the doc complete.\n\nChange-Id: I269e05ddb62ec6c6cc7f7922c1344186ccf850d1\nCloses-bug: #1640818\n'}]",4,396272,b8897aba72497548934c4c9bb5a107c027bf0674,33,19,4,9708,,,0,"Fix notification doc generator

The doc generator only picked up the event types related to instance
actions because the doc generator looked up the registered notification
classes only. Until now, only the instance related notifications were
imported in the doc generation environment so the other notification
classes were not registered.

This commit explicitly imports the modules that defines the notification
classes to make the doc complete.

Change-Id: I269e05ddb62ec6c6cc7f7922c1344186ccf850d1
Closes-bug: #1640818
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/396272/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/versioned_notifications.py'],1,ffd6703efa8e4a7d6fe9921e070b82ed7bcfc70c,bug/1640818, # Make sure that all the notification classes are defined so the # registration mechanism can pick them up later. from nova.notifications.objects import aggregate from nova.notifications.objects import exception from nova.notifications.objects import instance from nova.notifications.objects import service ,,7,0
openstack%2Fkeystone~master~I425d8740a2b1a08d12731b55e31f584750da966a,openstack/keystone,master,I425d8740a2b1a08d12731b55e31f584750da966a,Removes unused method from assignment core,MERGED,2016-11-29 20:28:06.000000000,2016-11-30 00:12:56.000000000,2016-11-30 00:12:56.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-11-29 20:28:06.000000000', 'files': ['keystone/assignment/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/73103752906ce278ace0c54d4156db5943b4f6bb', 'message': 'Removes unused method from assignment core\n\nChange-Id: I425d8740a2b1a08d12731b55e31f584750da966a\n'}]",1,404412,73103752906ce278ace0c54d4156db5943b4f6bb,7,3,1,7725,,,0,"Removes unused method from assignment core

Change-Id: I425d8740a2b1a08d12731b55e31f584750da966a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/404412/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/core.py'],1,73103752906ce278ace0c54d4156db5943b4f6bb,,," def _list_parent_ids_of_project(self, project_id): if CONF.os_inherit.enabled: return [x['id'] for x in ( self.resource_api.list_project_parents(project_id))] else: return [] ",0,7
openstack%2Fkeystone~master~I034352d8a8453b5e44e07de2087e6162df64cfe0,openstack/keystone,master,I034352d8a8453b5e44e07de2087e6162df64cfe0,Removes unused default_assignment_driver method,MERGED,2016-11-29 20:28:06.000000000,2016-11-30 00:12:49.000000000,2016-11-30 00:12:49.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-11-29 20:28:06.000000000', 'files': ['keystone/assignment/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/54b57e2510c9cf9080e400c2ce7c418248c9ce05', 'message': 'Removes unused default_assignment_driver method\n\nChange-Id: I034352d8a8453b5e44e07de2087e6162df64cfe0\n'}]",1,404411,54b57e2510c9cf9080e400c2ce7c418248c9ce05,7,3,1,7725,,,0,"Removes unused default_assignment_driver method

Change-Id: I034352d8a8453b5e44e07de2087e6162df64cfe0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/11/404411/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/backends/sql.py'],1,54b57e2510c9cf9080e400c2ce7c418248c9ce05,,, def default_resource_driver(self): return 'sql' ,0,3
openstack%2Fdevstack-gate~master~Ie7796f2d4d323197f5640793fa8df3765003a7c6,openstack/devstack-gate,master,Ie7796f2d4d323197f5640793fa8df3765003a7c6,WIP/DNM/DNR: Testing stuff.,ABANDONED,2016-11-29 17:01:05.000000000,2016-11-30 00:10:48.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-29 17:01:05.000000000', 'files': ['devstack-vm-gate.sh', 'test-matrix.py'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/758d603e8e7789aeababdc15473e30b158588008', 'message': 'WIP/DNM/DNR: Testing stuff.\n\nChange-Id: Ie7796f2d4d323197f5640793fa8df3765003a7c6\n'}]",0,404344,758d603e8e7789aeababdc15473e30b158588008,3,1,1,14760,,,0,"WIP/DNM/DNR: Testing stuff.

Change-Id: Ie7796f2d4d323197f5640793fa8df3765003a7c6
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/44/404344/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate.sh', 'test-matrix.py']",2,758d603e8e7789aeababdc15473e30b158588008,,"FALSE_VALUES = [None, '', '0', 'false'] sys.stderr.write(""JLV {}: {}\n"".format(k, v)) if v.lower() not in FALSE_VALUES:","FALSE_VALUES = [None, '', '0', 'false', 'False', 'FALSE'] if v not in FALSE_VALUES:",9,3
openstack%2Fironic~master~I152b111e2d50862382f65241ecc3f0c33993c2a4,openstack/ironic,master,I152b111e2d50862382f65241ecc3f0c33993c2a4,WIP/DNM: Test devstack-gate test-matrix.py changes,ABANDONED,2016-11-29 18:29:02.000000000,2016-11-30 00:10:11.000000000,,"[{'_account_id': 3}, {'_account_id': 10379}, {'_account_id': 14629}, {'_account_id': 19339}]","[{'number': 1, 'created': '2016-11-29 18:29:02.000000000', 'files': ['ironic/common/foo'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae4ff4c5cf663f1c818beaa5956e3c11e4057dbf', 'message': 'WIP/DNM: Test devstack-gate test-matrix.py changes\n\nChange-Id: I152b111e2d50862382f65241ecc3f0c33993c2a4\nDepends-On: Ief1b74cbc01235d9f52d08add930781f3a0ae71b\n'}]",0,404373,ae4ff4c5cf663f1c818beaa5956e3c11e4057dbf,12,4,1,14760,,,0,"WIP/DNM: Test devstack-gate test-matrix.py changes

Change-Id: I152b111e2d50862382f65241ecc3f0c33993c2a4
Depends-On: Ief1b74cbc01235d9f52d08add930781f3a0ae71b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/404373/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/foo'],1,ae4ff4c5cf663f1c818beaa5956e3c11e4057dbf,,,,0,0
openstack%2Fnova~master~I42ace61800a97ffa862c3c7cb83c6ac6488fd8c9,openstack/nova,master,I42ace61800a97ffa862c3c7cb83c6ac6488fd8c9,WIP libvirt: Make guest.BlockDevice args explicit,ABANDONED,2016-11-24 17:26:23.000000000,2016-11-30 00:05:03.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-24 17:26:23.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/60c970ad54b23c681a4eb63c8c4d8b76c1c36ed1', 'message': ""WIP libvirt: Make guest.BlockDevice args explicit\n\nPreviously callers to guest.get_block_device would provide a single\nargument of disk that could be either a target dev or source file\nidentifying a disk within the domain. While both are accepted by the\nrebase blockjobs the class wraps it's extremely confusing to anyone\nworking in this area of the driver to find BlockDevice._disk set to\neither of these.\n\nThis change adds kwargs to guest.BlockDevice and guest.get_block_device\nto help identify which is being of the two is being used at various\npoints within the driver. Future work should focus on replacing the use\nof source_file in favor of target_device.\n\nRelated-bug: 1643017\nChange-Id: I42ace61800a97ffa862c3c7cb83c6ac6488fd8c9\n""}]",0,402162,60c970ad54b23c681a4eb63c8c4d8b76c1c36ed1,15,10,1,10135,,,0,"WIP libvirt: Make guest.BlockDevice args explicit

Previously callers to guest.get_block_device would provide a single
argument of disk that could be either a target dev or source file
identifying a disk within the domain. While both are accepted by the
rebase blockjobs the class wraps it's extremely confusing to anyone
working in this area of the driver to find BlockDevice._disk set to
either of these.

This change adds kwargs to guest.BlockDevice and guest.get_block_device
to help identify which is being of the two is being used at various
points within the driver. Future work should focus on replacing the use
of source_file in favor of target_device.

Related-bug: 1643017
Change-Id: I42ace61800a97ffa862c3c7cb83c6ac6488fd8c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/402162/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,60c970ad54b23c681a4eb63c8c4d8b76c1c36ed1,bug/1643017," drvr._swap_volume(guest, 'vda', None, 0)"," drvr._swap_volume(guest, None, None, 0)",22,11
openstack%2Foctavia~master~I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc,openstack/octavia,master,I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc,Spec detailing capability gaps with n-lbaas API,MERGED,2016-04-28 05:23:31.000000000,2016-11-30 00:00:57.000000000,2016-11-29 23:56:16.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6579}, {'_account_id': 6732}, {'_account_id': 6951}, {'_account_id': 7293}, {'_account_id': 7812}, {'_account_id': 10273}, {'_account_id': 10806}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 13438}, {'_account_id': 14591}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-04-28 05:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b491be5eb723eb49b042ccc91df5788084bc72a5', 'message': 'Spec detailing capability gaps with n-lbaas API\n\nThis spec is meant to enumerate the features and capabilities needed from the\nOctavia API to achieve parity with the Neutron LBaaS API\n\nChange-Id: I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc\n'}, {'number': 2, 'created': '2016-04-28 19:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6ce0862868b073f9502a1783de6bd1b074665ff8', 'message': 'Spec detailing capability gaps with n-lbaas API\n\nThis spec is meant to enumerate the features and capabilities needed from the\nOctavia API to achieve parity with the Neutron LBaaS API\n\nChange-Id: I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc\n'}, {'number': 3, 'created': '2016-11-04 20:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d81eaad20eb699d08889f97fa1bf1727f039beb1', 'message': 'Spec detailing capability gaps with n-lbaas API\n\nThis spec is meant to enumerate the features and capabilities needed from the\nOctavia API to achieve parity with the Neutron LBaaS API\n\nChange-Id: I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc\n'}, {'number': 4, 'created': '2016-11-29 21:05:27.000000000', 'files': ['specs/version1/n-lbaas-api-parity.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0fbd683591e5cd51996cc9da82a1babd08fddf4a', 'message': 'Spec detailing capability gaps with n-lbaas API\n\nThis spec is meant to enumerate the features and capabilities needed from the\nOctavia API to achieve parity with the Neutron LBaaS API\n\nChange-Id: I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc\n'}]",20,310667,0fbd683591e5cd51996cc9da82a1babd08fddf4a,39,15,4,6951,,,0,"Spec detailing capability gaps with n-lbaas API

This spec is meant to enumerate the features and capabilities needed from the
Octavia API to achieve parity with the Neutron LBaaS API

Change-Id: I9bc348c6f86f868ec5e9ab2be2ae49947bfbacdc
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/310667/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/version1/n-lbaas-api-parity.rst'],1,b491be5eb723eb49b042ccc91df5788084bc72a5,nlbaas-api-parity,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Align Octavia API With Neutron LBaaS API ======================================== Problem description =================== For the Octavia API to truly be standalone, it needs to have capability parity with Neutron LBaaS's API. Neutron LBaaS has the luxury of piggy-backing off of Neutron's API. This gives Neutron LBaaS's API resources many capabilities for free. This document is meant to enumerate those capabilities that the Octavia API does not possess at the time of this writing. Proposed change =============== Implement the following API Capabilities: * Keystone Authentication * Policy Engine * Pagination * Quotas * Filtering lists by query parameter * Fields by query parameter * Add the same root API endpoints as n-lbaas Implement the following additional features: * API Handler layer to become the same as n-lbaas driver layer * Client (standalone or OSC?) * octavia-db-manage Other Possible Features: * Notifications for resource creating, updating, and deleting. Alternatives ------------ Implementation ============== Assignee(s) ----------- Work Items ---------- ",,57,0
openstack%2Fmonasca-common~master~I2e1a7ac2f9a8734ec60cf01ef04251fac3882452,openstack/monasca-common,master,I2e1a7ac2f9a8734ec60cf01ef04251fac3882452,Don't include openstack/common in flake8 exclude list,MERGED,2016-11-25 03:03:49.000000000,2016-11-29 23:59:06.000000000,2016-11-29 23:59:06.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 14273}]","[{'number': 1, 'created': '2016-11-25 03:03:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/b56e43aff74f09c5184e805008726adcd3a13a92', 'message': ""Don't include openstack/common in flake8 exclude list\n\nThere is no this directory openstack/common which was used\nto keep codes from oslo-incubator, we have retired oslo-incubator.\nRemoving openstack/commonfrom all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release. So\ndon't use this directory any more. We should drop it for improving\nsearching efficiency.\n\nChange-Id: I2e1a7ac2f9a8734ec60cf01ef04251fac3882452\n""}]",0,402269,b56e43aff74f09c5184e805008726adcd3a13a92,7,3,1,21387,,,0,"Don't include openstack/common in flake8 exclude list

There is no this directory openstack/common which was used
to keep codes from oslo-incubator, we have retired oslo-incubator.
Removing openstack/commonfrom all OpenStack code in favor of the
Oslo libraries is a project wide goal for the Ocata release. So
don't use this directory any more. We should drop it for improving
searching efficiency.

Change-Id: I2e1a7ac2f9a8734ec60cf01ef04251fac3882452
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/69/402269/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b56e43aff74f09c5184e805008726adcd3a13a92,common,"exclude=.venv,.git,.tox,dist,*egg,build","exclude=.venv,.git,.tox,dist,*openstack/common*,*egg,build",1,1
openstack%2Fbandit~master~I1566684c0ae5476374960095816cb1720ff465a2,openstack/bandit,master,I1566684c0ae5476374960095816cb1720ff465a2,Add capability to pipe a file into bandit,MERGED,2016-11-22 02:34:41.000000000,2016-11-29 23:58:58.000000000,2016-11-29 23:58:58.000000000,"[{'_account_id': 3}, {'_account_id': 1528}, {'_account_id': 8119}, {'_account_id': 11029}, {'_account_id': 11716}, {'_account_id': 11861}, {'_account_id': 12000}, {'_account_id': 22781}]","[{'number': 1, 'created': '2016-11-22 02:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/6fc7a0257261bc15069f57695f36c10ba66e4b44', 'message': ""Add capability to pipe a file into bandit\n\nAllows someone to feed a file/text into bandit from a pipe rather\nthan just the 'targets' argument.\n\nChange-Id: I1566684c0ae5476374960095816cb1720ff465a2\n""}, {'number': 2, 'created': '2016-11-22 05:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/82721e59672ce730cefcc46a62e5436f7d1b10e0', 'message': ""Add capability to pipe a file into bandit\n\nAllows someone to feed a file/text into bandit from a pipe rather\nthan just the 'targets' argument.\n\nChange-Id: I1566684c0ae5476374960095816cb1720ff465a2\n""}, {'number': 3, 'created': '2016-11-22 05:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/bf81fc4fd6cb86aaab3c62eb94b30a7c4a03c070', 'message': ""Add capability to pipe a file into bandit\n\nAllows someone to feed a file/text into bandit from a pipe rather\nthan just the 'targets' argument.\n\nChange-Id: I1566684c0ae5476374960095816cb1720ff465a2\n""}, {'number': 4, 'created': '2016-11-22 05:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/0f0b6ae19e404f2a7c029295002fc1feb220534e', 'message': ""Add capability to pipe a file into bandit\n\nAllows someone to feed a file/text into bandit from a pipe rather\nthan just the 'targets' argument.\n\nChange-Id: I1566684c0ae5476374960095816cb1720ff465a2\n""}, {'number': 5, 'created': '2016-11-28 16:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/88b85bf996b592415143a25d760b0b9ecb98bb3c', 'message': ""Add capability to pipe a file into bandit\n\nAllows someone to feed a file/text into bandit from a pipe rather\nthan just the 'targets' argument.\n\nChange-Id: I1566684c0ae5476374960095816cb1720ff465a2\n""}, {'number': 6, 'created': '2016-11-29 07:01:34.000000000', 'files': ['bandit/core/manager.py', 'README.rst', 'tests/functional/test_runtime.py', 'doc/source/man/bandit.rst'], 'web_link': 'https://opendev.org/openstack/bandit/commit/aae396e9bc43db5996119fef93231d26001ac527', 'message': ""Add capability to pipe a file into bandit\n\nAllows someone to feed a file/text into bandit from a pipe rather\nthan just the 'targets' argument.\n\nUsage example:\n   cat examples/imports.py | bandit -\n\nChange-Id: I1566684c0ae5476374960095816cb1720ff465a2\n""}]",0,400468,aae396e9bc43db5996119fef93231d26001ac527,23,8,6,8119,,,0,"Add capability to pipe a file into bandit

Allows someone to feed a file/text into bandit from a pipe rather
than just the 'targets' argument.

Usage example:
   cat examples/imports.py | bandit -

Change-Id: I1566684c0ae5476374960095816cb1720ff465a2
",git fetch https://review.opendev.org/openstack/bandit refs/changes/68/400468/6 && git format-patch -1 --stdout FETCH_HEAD,"['bandit/core/manager.py', 'README.rst', 'bandit/cli/main.py', 'tests/functional/test_runtime.py']",4,6fc7a0257261bc15069f57695f36c10ba66e4b44,stdin," def _test_runtime(self, cmdlist, data=None): stdout, stderr = process.communicate(input=data) def test_piped_input(self): with open('examples/imports.py') as f: (retcode, output) = self._test_runtime(['bandit', ], f.read()) self.assertEqual(1, retcode) self.assertIn(""Total lines of code: 4"", output) self.assertIn(""Low: 2"", output) self.assertIn(""High: 2"", output) self.assertIn(""Files skipped (0):"", output) self.assertIn(""Issue: [B403:blacklist] Consider possible"", output) self.assertIn(""<stdin>:2"", output) self.assertIn(""<stdin>:4"", output)","import six def _test_runtime(self, cmdlist): stdout, stderr = process.communicate() # test direct execution of bandit def test_no_arguments(self): (retcode, output) = self._test_runtime(['bandit', ]) self.assertEqual(2, retcode) if six.PY2: self.assertIn(""error: too few arguments"", output) else: self.assertIn(""arguments are required: targets"", output)",59,55
openstack%2Fmonasca-api~master~I76866652acb1d6b8bbc3b4a449edaa2492073db9,openstack/monasca-api,master,I76866652acb1d6b8bbc3b4a449edaa2492073db9,Monasca-notification config file,MERGED,2016-11-21 07:23:39.000000000,2016-11-29 23:53:58.000000000,2016-11-29 23:53:58.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11809}, {'_account_id': 14273}, {'_account_id': 15027}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 21922}]","[{'number': 1, 'created': '2016-11-21 07:23:39.000000000', 'files': ['devstack/files/monasca-notification/notification.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/2cb747ab99d70a78d946ed11583baa6e9972f772', 'message': 'Monasca-notification config file\n\nAdd new section to configure statsd port for monasca-notification.\n\nChange-Id: I76866652acb1d6b8bbc3b4a449edaa2492073db9\n'}]",0,400073,2cb747ab99d70a78d946ed11583baa6e9972f772,10,8,1,20033,,,0,"Monasca-notification config file

Add new section to configure statsd port for monasca-notification.

Change-Id: I76866652acb1d6b8bbc3b4a449edaa2492073db9
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/73/400073/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/monasca-notification/notification.yaml'],1,2cb747ab99d70a78d946ed11583baa6e9972f772,config_statsd,statsd: host: 'localhost' port: 8125,,3,0
openstack%2Fcinder~master~If74d23b9413209ee8db3c58fc71d215abeb580b2,openstack/cinder,master,If74d23b9413209ee8db3c58fc71d215abeb580b2,Fix UnBoundLocalError in update_consistencygroup,MERGED,2016-11-28 06:55:40.000000000,2016-11-29 23:48:24.000000000,2016-11-29 23:48:24.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10058}]","[{'number': 1, 'created': '2016-11-28 06:55:40.000000000', 'files': ['cinder/tests/unit/consistencygroup/test_cg.py', 'cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57d257f14904e27b2aeb38c030882e2984467a22', 'message': 'Fix UnBoundLocalError in update_consistencygroup\n\nThe existed codes use variables before assignement in\nupdate_consistencygroup. This patch is to fix the problem.\n\nChange-Id: If74d23b9413209ee8db3c58fc71d215abeb580b2\nRelated-Bug: 1645207\n'}]",0,403525,57d257f14904e27b2aeb38c030882e2984467a22,40,5,1,15961,,,0,"Fix UnBoundLocalError in update_consistencygroup

The existed codes use variables before assignement in
update_consistencygroup. This patch is to fix the problem.

Change-Id: If74d23b9413209ee8db3c58fc71d215abeb580b2
Related-Bug: 1645207
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/403525/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/consistencygroup/test_cg.py', 'cinder/volume/manager.py']",2,57d257f14904e27b2aeb38c030882e2984467a22,bug/1645207," {'volume_id': add_vol}, {'volume_id': remove_vol},"," {'volume_id': add_vol_ref['id']}, {'volume_id': remove_vol_ref['id']},",19,2
openstack%2Fglance~master~Ia054f8f637c826280722c0d2a6811fdbc0cf54ed,openstack/glance,master,Ia054f8f637c826280722c0d2a6811fdbc0cf54ed,Prepare for oslo.log 3.17.0,MERGED,2016-11-28 15:54:51.000000000,2016-11-29 23:45:17.000000000,2016-11-29 23:45:16.000000000,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 6484}, {'_account_id': 8158}, {'_account_id': 11391}, {'_account_id': 12000}, {'_account_id': 12807}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-28 15:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ddeb21d8830f4342fa0fba977d37fc378bad5737', 'message': 'Prepare for oslo.log 3.17.0\n\nThe 3.17.0 release of oslo.log changes the default value of ""use_stderr""\nto False (from True). We had tests that asserted that our glance-*\ncommands used stderr to provide information to administrators. This\nworks to preserve that default value for operators by overriding the\ndefault to True when we\'re running in one of those commands.\n\nWe deliberately excluded glance-api, glance-glare, and glance-registry\nbecause glance-api and glance-registry are usually not run manually and\nthey don\'t need to log to stderr by default and glance-glare is\ndeprecated.\n\nChange-Id: Ia054f8f637c826280722c0d2a6811fdbc0cf54ed\n'}, {'number': 2, 'created': '2016-11-29 16:20:12.000000000', 'files': ['glance/cmd/cache_pruner.py', 'glance/cmd/cache_cleaner.py', 'glance/cmd/cache_prefetcher.py', 'glance/cmd/manage.py', 'glance/cmd/scrubber.py', 'glance/cmd/replicator.py', 'releasenotes/notes/oslo-log-use-stderr-changes-07f5daf3e6abdcd6.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/b2cd0775ec8788df5f11099b22b1bf149f0f52ee', 'message': 'Prepare for oslo.log 3.17.0\n\nThe 3.17.0 release of oslo.log changes the default value of ""use_stderr""\nto False (from True). We had tests that asserted that our glance-*\ncommands used stderr to provide information to administrators. This\nworks to preserve that default value for operators by overriding the\ndefault to True when we\'re running in one of those commands.\n\nWe deliberately excluded glance-api, glance-glare, and glance-registry\nbecause glance-api and glance-registry are usually not run manually and\nthey don\'t need to log to stderr by default and glance-glare is\ndeprecated.\n\nChange-Id: Ia054f8f637c826280722c0d2a6811fdbc0cf54ed\n'}]",5,403775,b2cd0775ec8788df5f11099b22b1bf149f0f52ee,38,8,2,12000,,,0,"Prepare for oslo.log 3.17.0

The 3.17.0 release of oslo.log changes the default value of ""use_stderr""
to False (from True). We had tests that asserted that our glance-*
commands used stderr to provide information to administrators. This
works to preserve that default value for operators by overriding the
default to True when we're running in one of those commands.

We deliberately excluded glance-api, glance-glare, and glance-registry
because glance-api and glance-registry are usually not run manually and
they don't need to log to stderr by default and glance-glare is
deprecated.

Change-Id: Ia054f8f637c826280722c0d2a6811fdbc0cf54ed
",git fetch https://review.opendev.org/openstack/glance refs/changes/75/403775/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/cmd/cache_pruner.py', 'glance/cmd/cache_cleaner.py', 'glance/cmd/cache_prefetcher.py', 'glance/cmd/manage.py', 'glance/cmd/scrubber.py', 'glance/cmd/replicator.py', 'releasenotes/notes/oslo-log-use-stderr-changes-07f5daf3e6abdcd6.yaml']",7,ddeb21d8830f4342fa0fba977d37fc378bad5737,use-stderr-in-cmds,"--- upgrade: - To handle versions of oslo.log >= 3.17.0, we have overridden the default value of ``use_stderr`` to True only on glance commands (glance-replicator, glance-cache-manage, etc.). This does not include glance-api or glance-registry. To enable standard error logging for those, set ``use_stderr = True`` in their respective conf files upon deployment. ",,14,0
openstack%2Fdevstack~master~I9f1d7e58b861b04473b6a57c9ad404203fb7277a,openstack/devstack,master,I9f1d7e58b861b04473b6a57c9ad404203fb7277a,If plugin is enabled multiple times fail,MERGED,2016-11-11 23:29:32.000000000,2016-11-29 23:45:09.000000000,2016-11-29 23:45:09.000000000,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22226}]","[{'number': 1, 'created': '2016-11-11 23:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9361de953f6ca887d5c600df5456934a7ec8f11e', 'message': 'If plugin is enabled multiple times only register 1st time\n\nWhen using the enable_plugin command and grenade jobs it can be\neasy to enable the same plugin twice, as the grenade job has a\nregistration section and the configuration in project-config can also\nenable it due to code-reuse in project-config.\n\nThis change makes it so if it sees the same plugin name is enabled\nmore than once only the first entry will be enabled and registered.\n\nChange-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a\n'}, {'number': 2, 'created': '2016-11-11 23:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/59c8f3252d2b156f6ae3c44c17d53d72fcedb824', 'message': 'If plugin is enabled multiple times only register 1st time\n\nWhen using the enable_plugin command and grenade jobs it can be\neasy to enable the same plugin twice, as the grenade job has a\nregistration section and the configuration in project-config can also\nenable it due to code-reuse in project-config.\n\nThis change makes it so if it sees the same plugin name is enabled\nmore than once only the first entry will be enabled and registered.\n\nChange-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a\n'}, {'number': 3, 'created': '2016-11-12 18:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/923626a25bc49398d80ace7654584525399fb94e', 'message': 'If plugin is enabled multiple times only register 1st time\n\nWhen using the enable_plugin command and grenade jobs it can be\neasy to enable the same plugin twice, as the grenade job has a\nregistration section and the configuration in project-config can also\nenable it due to code-reuse in project-config.\n\nThis change makes it so if it sees the same plugin name is enabled\nmore than once only the first entry will be enabled and registered.\n\nChange-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a\n'}, {'number': 4, 'created': '2016-11-14 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab8f7202f75037958fa2c561e0a857c4a06d8b99', 'message': 'If plugin is enabled multiple times only register 1st time\n\nWhen using the enable_plugin command and grenade jobs it can be\neasy to enable the same plugin twice, as the grenade job has a\nregistration section and the configuration in project-config can also\nenable it due to code-reuse in project-config.\n\nThis change makes it so if it sees the same plugin name is enabled\nmore than once only the first entry will be enabled and registered.\n\nChange-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a\n'}, {'number': 5, 'created': '2016-11-16 16:56:50.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/21d84c29b22fb69b00739ae40d69f80d5182a94e', 'message': ""If plugin is enabled multiple times fail\n\nWhen using the enable_plugin command and grenade jobs it can be\neasy to enable the same plugin twice, as the grenade job has a\nregistration section and the configuration in project-config can also\nenable it due to code-reuse in project-config.\n\nIf a plugin is enabled twice it will likely fail, though it won't be\nobvious that it was due to the plugin being enabled multiple times.\n\nThis change makes it so if it sees the same plugin name is enabled\nmore than once it will die and an error message outputted.\n\nChange-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a\n""}]",4,396794,21d84c29b22fb69b00739ae40d69f80d5182a94e,40,11,5,14760,,,0,"If plugin is enabled multiple times fail

When using the enable_plugin command and grenade jobs it can be
easy to enable the same plugin twice, as the grenade job has a
registration section and the configuration in project-config can also
enable it due to code-reuse in project-config.

If a plugin is enabled twice it will likely fail, though it won't be
obvious that it was due to the plugin being enabled multiple times.

This change makes it so if it sees the same plugin name is enabled
more than once it will die and an error message outputted.

Change-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/94/396794/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,9361de953f6ca887d5c600df5456934a7ec8f11e,," # Check to see if this plugin has already been enabled, if so ignore. if [[ ""${DEVSTACK_PLUGINS}"" =~ ,${name}$ ]] || [[ ""${DEVSTACK_PLUGINS}"" =~ ,${name}, ]]; then return fi",,4,0
openstack%2Fdevstack~stable%2Fnewton~I6f441c6febb5070ad885569d9c798634d0272b6c,openstack/devstack,stable/newton,I6f441c6febb5070ad885569d9c798634d0272b6c,Fix devstack with linuxbridge without l3 agent,MERGED,2016-11-28 15:12:00.000000000,2016-11-29 23:42:26.000000000,2016-11-29 14:40:49.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 4656}]","[{'number': 1, 'created': '2016-11-28 15:12:00.000000000', 'files': ['lib/neutron_plugins/linuxbridge_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7d10bb199c1871b9d5c05890d64a3820c1b255d', 'message': ""Fix devstack with linuxbridge without l3 agent\n\nThe linuxbridge agent for Neutron expects that the public bridge will\nalready be created by the time it starts. On devstack, this only occurs\nas part of the l3 agent configuration. If a compute node doesn't have an\nl3 agent and is using a linuxbridge agent, then br-ex won't be created\nand the process will not be able to start (causing stack.sh to fail).\n\nThis causes the gate-grenade-dsvm-neutron-linuxbridge-multinode-nv gate\nto fail.\n\nCloses-Bug: #1643562\nChange-Id: I6f441c6febb5070ad885569d9c798634d0272b6c\n""}]",0,403752,d7d10bb199c1871b9d5c05890d64a3820c1b255d,12,4,1,12444,,,0,"Fix devstack with linuxbridge without l3 agent

The linuxbridge agent for Neutron expects that the public bridge will
already be created by the time it starts. On devstack, this only occurs
as part of the l3 agent configuration. If a compute node doesn't have an
l3 agent and is using a linuxbridge agent, then br-ex won't be created
and the process will not be able to start (causing stack.sh to fail).

This causes the gate-grenade-dsvm-neutron-linuxbridge-multinode-nv gate
to fail.

Closes-Bug: #1643562
Change-Id: I6f441c6febb5070ad885569d9c798634d0272b6c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/403752/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/linuxbridge_agent'],1,d7d10bb199c1871b9d5c05890d64a3820c1b255d,bug/1643562," if is_service_enabled neutron-l3; then iniset /$Q_PLUGIN_CONF_FILE linux_bridge bridge_mappings ""$PUBLIC_PHYSICAL_NETWORK:$PUBLIC_BRIDGE"" fi"," iniset /$Q_PLUGIN_CONF_FILE linux_bridge bridge_mappings ""$PUBLIC_PHYSICAL_NETWORK:$PUBLIC_BRIDGE""",3,1
openstack%2Fpuppet-manila~master~Id626dc7ed06b8b1492793805bfe034fdcf5bc981,openstack/puppet-manila,master,Id626dc7ed06b8b1492793805bfe034fdcf5bc981,Fix the annotation,MERGED,2016-11-29 03:58:50.000000000,2016-11-29 23:41:59.000000000,2016-11-29 23:41:59.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 03:58:50.000000000', 'files': ['manifests/volume/cinder.pp', 'manifests/compute/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/73c3b42a5cfceb709554c796897b613a75daa04d', 'message': 'Fix the annotation\n\nChange-Id: Id626dc7ed06b8b1492793805bfe034fdcf5bc981\n'}]",0,404007,73c3b42a5cfceb709554c796897b613a75daa04d,7,3,1,9414,,,0,"Fix the annotation

Change-Id: Id626dc7ed06b8b1492793805bfe034fdcf5bc981
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/07/404007/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/volume/cinder.pp', 'manifests/compute/nova.pp']",2,73c3b42a5cfceb709554c796897b613a75daa04d,fix_annotation,"# (optional) Info to match when looking for nova in the service # catalog. Format is : separated values of the form: # <service_type>:<service_name>:<endpoint_type> # Defaults to 'compute:nova:publicURL'# (optional) Same as nova_catalog_info, but for admin endpoint. # Defaults to 'compute:nova:adminURL'# (optional) Location of ca certificates file to use for nova client # requests. # Defaults to undef# (optional) Allow to perform insecure SSL requests to nova. # Defaults to false# (optional) Nova admin username. # Defaults to 'nova'# (optional) Nova admin password. # Defaults to undef# (optional) Nova admin tenant name. # Defaults to 'service'# (optional) Identity service url. # Defaults to 'http://localhost:5000/v2.0'","# (optional) Info to match when looking for nova in the service # catalog. Format is : separated values of the form: # <service_type>:<service_name>:<endpoint_type># (optional) Same as nova_catalog_info, but for admin endpoint. # # [*os_region_name*] # (optional) region name of this node# (optional) Location of ca certificates file to use for nova client # requests.# (optional) Allow to perform insecure SSL requests to nova# (optional) Nova admin username# (optional) Nova admin password# (optional) Nova admin tenant name# (optional) Identity service url",39,30
openstack%2Fpuppet-openstack-integration~master~Ie20346dd6c4618866da47cded612319c03348fec,openstack/puppet-openstack-integration,master,Ie20346dd6c4618866da47cded612319c03348fec,No longer modprobe br_netfilter on Ubuntu,MERGED,2016-11-29 21:36:38.000000000,2016-11-29 23:41:21.000000000,2016-11-29 23:41:21.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2016-11-29 21:36:38.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d78aa7a46a76b639ece36d7488e00eb763cc028b', 'message': 'No longer modprobe br_netfilter on Ubuntu\n\nThe launchpad bug was resolved+released\n\nChange-Id: Ie20346dd6c4618866da47cded612319c03348fec\n'}]",0,404427,d78aa7a46a76b639ece36d7488e00eb763cc028b,7,4,1,9061,,,0,"No longer modprobe br_netfilter on Ubuntu

The launchpad bug was resolved+released

Change-Id: Ie20346dd6c4618866da47cded612319c03348fec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/27/404427/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,d78aa7a46a76b639ece36d7488e00eb763cc028b,,, # https://bugs.launchpad.net/cloud-archive/+bug/1621651 $SUDO modprobe br_netfilter,0,2
openstack%2Ftripleo-docs~master~I36ddc04ae883f56ce0d816392630b330819120c5,openstack/tripleo-docs,master,I36ddc04ae883f56ce0d816392630b330819120c5,Mistral API Documentation,MERGED,2016-08-22 14:41:41.000000000,2016-11-29 23:36:42.000000000,2016-11-29 23:36:42.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4978}, {'_account_id': 7144}, {'_account_id': 7386}, {'_account_id': 7471}, {'_account_id': 8532}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 18893}]","[{'number': 1, 'created': '2016-08-22 14:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2412a1feb7c5ae069bb78b2e87bd4ba818ba5940', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Node registration & Introspection\n- Deploy\n- Debugging\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\nDepends-On: I7a61bf6fb71cc4a26aaf4322f2215683aafe20f3\n'}, {'number': 2, 'created': '2016-08-23 10:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/db1804cd722931007e88568b13a8b49993cedcda', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Node registration & Introspection\n- Create plan (documented the manual steps, we need a create plan command!)\n- Deploy (we have no deploy plan command!)\n- Debugging\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\nDepends-On: I7a61bf6fb71cc4a26aaf4322f2215683aafe20f3\n'}, {'number': 3, 'created': '2016-08-23 10:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b8fd8946c93111d25703d403a553b8d75fa81242', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Node registration & Introspection\n- Create plan (documented the manual steps, we need a create plan command!)\n- Deploy (we have no deploy plan command!)\n- Debugging\n\nDepends-On: I7a61bf6fb71cc4a26aaf4322f2215683aafe20f3\nDepends-On: I247747c7d641a70f320faf109c15745d00d62ff3\nDepends-On: I292958b277abf5b23f8e2e14330eca97f656effa\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 4, 'created': '2016-09-29 15:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/17e60cfcbda6a8f1248d76a3b457f2b4057d3f3c', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Node registration & Introspection\n- Create plan (documented the manual steps, we need a create plan command!)\n- Deploy (we have no deploy plan command!)\n- Debugging\n\nDepends-On: I7a61bf6fb71cc4a26aaf4322f2215683aafe20f3\nDepends-On: I247747c7d641a70f320faf109c15745d00d62ff3\nDepends-On: I292958b277abf5b23f8e2e14330eca97f656effa\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 5, 'created': '2016-09-30 15:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/566208f2e63394025a8728434272bdf2fd453c7d', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Node registration & Introspection\n- Create plan (documented the manual steps, we need a create plan command!)\n- Deploy (we have no deploy plan command!)\n- Debugging\n\nDepends-On: I7a61bf6fb71cc4a26aaf4322f2215683aafe20f3\nDepends-On: I247747c7d641a70f320faf109c15745d00d62ff3\nDepends-On: I292958b277abf5b23f8e2e14330eca97f656effa\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 6, 'created': '2016-10-04 11:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/89c81c1fe8e8ed87757f7c3bcd0b45215fd47263', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Node registration & Introspection\n- Create plan (documented the manual steps, we need a create plan command!)\n- Deploy (we have no deploy plan command!)\n- Debugging\n\nDepends-On: I7a61bf6fb71cc4a26aaf4322f2215683aafe20f3\nDepends-On: I247747c7d641a70f320faf109c15745d00d62ff3\nDepends-On: I292958b277abf5b23f8e2e14330eca97f656effa\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 7, 'created': '2016-10-04 16:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/84e26f70c178bd969cc93175843d9777601bf6bd', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Deploy\n- Debugging\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 8, 'created': '2016-10-28 08:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7d8564d069e61cfb98192d854d567223cb319a2e', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Deploy\n- Debugging\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 9, 'created': '2016-11-01 17:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f946c7f542a10eec3e20b942f962dc3747859604', 'message': '[WIP] Mistral API Documentation\n\nDocumentation TODO:\n\n- Debugging\n- How to use capabilities\n- Delete node\n- Validations\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 10, 'created': '2016-11-17 13:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b0cda9c9e9cadd6b3b0311c1848637e690c374af', 'message': 'Mistral API Documentation\n\nThis initial Mistral API documentation covers the following topics:\n\n- Register and introspect nodes\n- Create and update plans\n- Update and set Heat parameters\n- Deploy the plan.\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 11, 'created': '2016-11-28 12:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b3ce4ba5bac3db979986aa92714636d118681084', 'message': 'Mistral API Documentation\n\nThis initial Mistral API documentation covers the following topics:\n\n- Register and introspect nodes\n- Create and update plans\n- Update and set Heat parameters\n- Deploy the plan.\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 12, 'created': '2016-11-28 12:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a101d6850eb0b2cfbd0745477f63a4e02901f88a', 'message': 'Mistral API Documentation\n\nThis initial Mistral API documentation covers the following topics:\n\n- Register and introspect nodes\n- Create and update plans\n- Update and set Heat parameters\n- Deploy the plan.\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 13, 'created': '2016-11-28 13:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e0921ad57740cfdd52f477f2f4b551f68c828402', 'message': 'Mistral API Documentation\n\nThis initial Mistral API documentation covers the following topics:\n\n- Register and introspect nodes\n- Create and update plans\n- Update and set Heat parameters\n- Deploy the plan.\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}, {'number': 14, 'created': '2016-11-29 10:53:58.000000000', 'files': ['doc/source/mistral-api/mistral-api.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d927b28a10a676640ce83392a1a16bfcd884b4e4', 'message': 'Mistral API Documentation\n\nThis initial Mistral API documentation covers the following topics:\n\n- Register and introspect nodes\n- Create and update plans\n- Update and set Heat parameters\n- Deploy the plan.\n\nChange-Id: I36ddc04ae883f56ce0d816392630b330819120c5\n'}]",40,358685,d927b28a10a676640ce83392a1a16bfcd884b4e4,55,13,14,9712,,,0,"Mistral API Documentation

This initial Mistral API documentation covers the following topics:

- Register and introspect nodes
- Create and update plans
- Update and set Heat parameters
- Deploy the plan.

Change-Id: I36ddc04ae883f56ce0d816392630b330819120c5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/85/358685/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/mistral-api/mistral-api.rst']",2,2412a1feb7c5ae069bb78b2e87bd4ba818ba5940,mistral-api,"Mistral API =========== The public API for TripleO uses the OpenStack workflow service, `Mistral`_ to provide it's interface. Working with Mistral -------------------- TripleO functionality can be accessed via Mistral Workflows and Actions. Workflows define a set number of steps and typically use a number of actions. There is a set of actions which are intended to be used directly, these will be documented `below`_. Mistral can be used with the CLI interface or Python bindings which are both provided by `python-mistralclient` or via the `REST API` directly. This guide will use the Mistral CLI interface for brevity. When using the CLI, all of the tripleo workflows can be viewed with the command ``openstack workflow list``. All of the workflows provided by TripleO will have a name starting with ``tripleo.`` .. code-block:: bash $ openstack workflow list  +--------------------------------------+-----------------------------------------------------------+----------------------------------+--------+------------------------------+---------------------+------------+  | ID | Name | Project ID | Tags | Input | Created at | Updated at |  +--------------------------------------+-----------------------------------------------------------+----------------------------------+--------+------------------------------+---------------------+------------+  | 1ae040b6-d330-4181-acb9-8638dc486b79 | tripleo.baremetal.v1.set_node_state | 65c5259b7a96436f898fd518815c42c1 | <none> | node_uuid, state_action, ... | 2016-08-19 10:07:05 | None |  | 2ef20a58-b380-4b6b-a6cd-270352d0f3d2 | tripleo.deployment.v1.deploy_on_servers | 65c5259b7a96436f898fd518815c42c1 | <none> | server_name, config_name,... | 2016-08-19 10:07:07 | None |   +--------------------------------------+-----------------------------------------------------------+----------------------------------+--------+------------------------------+---------------------+------------+ To view the individual workflows in more detail and see the input's they accept use ``openstack workflow show $NAME`` .. code-block:: bash $ openstack workflow show tripleo.plan_management.v1.create_default_deployment_plan +------------+-----------------------------------------------------------+ | Field | Value | +------------+-----------------------------------------------------------+ | ID | fa8256ec-b585-476f-a83e-e800beb26684 | | Name | tripleo.plan_management.v1.create_default_deployment_plan | | Project ID | 65c5259b7a96436f898fd518815c42c1 | | Tags | <none> | | Input | container, queue_name=tripleo | | Created at | 2016-08-19 10:07:10 | | Updated at | None | +------------+-----------------------------------------------------------+ This workflow can then be executed with ``openstack workflow execution create``. .. code-block:: bash $ openstack workflow execution create tripleo.plan_management.v1.create_default_deployment_plan '{""container"": ""overcloud""}' +-------------------+-----------------------------------------------------------+ | Field | Value | +-------------------+-----------------------------------------------------------+ | ID | 824a8cf7-3306-4ef2-8efd-a2715dd0dbce | | Workflow ID | fa8256ec-b585-476f-a83e-e800beb26684 | | Workflow name | tripleo.plan_management.v1.create_default_deployment_plan | | Description | | | Task Execution ID | <none> | | State | RUNNING | | State info | None | | Created at | 2016-08-22 12:33:35.493135 | | Updated at | 2016-08-22 12:33:35.495764 | +-------------------+-----------------------------------------------------------+ After a workflow is executed it will be queued up by Mistral and executed asyncronosly. Mistral can either be polled until it is finished or you can subscribe to the Zaqar queue for messages from the running workflow. Actions can be used in a similar way to workflows, but the CLI commands are ``openstack action definition list``, ``openstack action definition show`` and ``openstack action execution run``. Creating a Deployment Plan -------------------------- Deployment plans consist of a Swift container and a Mistral Environment. .. _Mistral: http://docs.openstack.org/developer/mistral/ .. _python-mistralclient: http://docs.openstack.org/developer/mistral/guides/mistralclient_guide.html .. _REST API: http://docs.openstack.org/developer/mistral/developer/webapi/index.html ",,88,0
openstack%2Fneutron-lib~master~Ie466dc7ead1c4b87d3e74e19b4f601d42570f77d,openstack/neutron-lib,master,Ie466dc7ead1c4b87d3e74e19b4f601d42570f77d,Typo in ExtensionDescriptor.get_request_extensions(),MERGED,2016-11-28 16:47:19.000000000,2016-11-29 23:35:22.000000000,2016-11-29 23:35:22.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6951}]","[{'number': 1, 'created': '2016-11-28 16:47:19.000000000', 'files': ['neutron_lib/api/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ca996055573eec25fc6bdfee6c10f5c4dfac5edb', 'message': 'Typo in ExtensionDescriptor.get_request_extensions()\n\nFixed the docstring from RequestException to RequestExtension\n\nChange-Id: Ie466dc7ead1c4b87d3e74e19b4f601d42570f77d\n'}]",1,403800,ca996055573eec25fc6bdfee6c10f5c4dfac5edb,8,3,1,22524,,,0,"Typo in ExtensionDescriptor.get_request_extensions()

Fixed the docstring from RequestException to RequestExtension

Change-Id: Ie466dc7ead1c4b87d3e74e19b4f601d42570f77d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/00/403800/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/extensions.py'],1,ca996055573eec25fc6bdfee6c10f5c4dfac5edb,," """"""List of extensions.RequestExtension extension objects."," """"""List of extensions.RequestException extension objects.",1,1
openstack%2Fneutron-lib~master~I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d,openstack/neutron-lib,master,I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d,Correcting Networking API v2.0 flavor extension,MERGED,2016-08-22 03:55:44.000000000,2016-11-29 23:35:19.000000000,2016-11-29 23:35:19.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 7715}, {'_account_id': 15905}, {'_account_id': 17776}, {'_account_id': 19554}, {'_account_id': 20079}, {'_account_id': 21629}, {'_account_id': 22220}]","[{'number': 1, 'created': '2016-08-22 03:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e7813155fd83d681624a2e048f89e98eeb64e52b', 'message': 'Correcting Networking API v2.0 flavor extension\n\nThis patch corrects Networking API v2.0 flavor extension.\n\nChange-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d\n'}, {'number': 2, 'created': '2016-08-22 07:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3e6d2264e1dd2337c5307576a895f60d38c9ff2c', 'message': 'Correcting Networking API v2.0 flavor extension\n\nThis patch corrects Networking API v2.0 flavor extension.\n\nChange-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d\nPartially-Implements: blueprint neutron-in-tree-api-ref\n'}, {'number': 3, 'created': '2016-09-07 10:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/318fa7681af59af0c97a4ef197e92f2ee7fd4879', 'message': 'Correcting Networking API v2.0 flavor extension\n\nThis patch corrects Networking API v2.0 flavor extension.\n\nChange-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d\nPartially-Implements: blueprint neutron-in-tree-api-ref\n'}, {'number': 4, 'created': '2016-11-11 03:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/028f487442d2a529d7cb57cb19537f86f82e1bd1', 'message': 'Correcting Networking API v2.0 flavor extension\n\nThis patch corrects Networking API v2.0 flavor extension.\n\nChange-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d\nPartially-Implements: blueprint neutron-in-tree-api-ref\n'}, {'number': 5, 'created': '2016-11-24 01:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a20018a90692a42e50a81a27bb6e5774cd3cf936', 'message': 'Correcting Networking API v2.0 flavor extension\n\nThis patch corrects Networking API v2.0 flavor extension.\n\nChange-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d\nPartially-Implements: blueprint neutron-in-tree-api-ref\n'}, {'number': 6, 'created': '2016-11-24 10:05:21.000000000', 'files': ['api-ref/source/v2/flavors.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/flavors/service-profiles-list-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4af5c971ebf30dbe1c0d05d5ba59652af8720166', 'message': 'Correcting Networking API v2.0 flavor extension\n\nThis patch corrects Networking API v2.0 flavor extension.\n\nChange-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d\nPartially-Implements: blueprint neutron-in-tree-api-ref\n'}]",48,358387,4af5c971ebf30dbe1c0d05d5ba59652af8720166,29,11,6,20079,,,0,"Correcting Networking API v2.0 flavor extension

This patch corrects Networking API v2.0 flavor extension.

Change-Id: I9a72f0aaf69dcd9e7ff8841b5b4f9de5eb42617d
Partially-Implements: blueprint neutron-in-tree-api-ref
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/87/358387/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/flavors.inc', 'api-ref/source/v2/parameters.yaml']",2,e7813155fd83d681624a2e048f89e98eeb64e52b,bp/neutron-in-tree-api-ref, required: true required: trueflavor-description: description: | The human-readable description for the flavor. in: body required: true type: string flavor-description-request: description: | The human-readable description for the flavor. in: body required: false type: string flavor-enabled: description: | Indicates whether the flavor is enabled or not. Default is true. in: body required: true type: boolean flavor-enabled-request: description: | Indicates whether the flavor is enabled or not. Default is true. in: body required: false type: boolean flavor-id: description: | IThe UUID of the flavor. in: body required: false type: boolean flavor-name: description: | Name of the flavor. in: body required: true type: string flavor-name-request: description: | Name of the flavor. in: body required: false type: string flavor-service_profiles: description: | Service profile UUIDs associated with this flavor. in: body required: true type: array flavor-service_profiles-request: description: | Service profile UUIDs associated with this flavor. in: body required: false type: array flavor-service_type: description: | Service type (ex: LOADBALANCERV2) for the flavor. in: body required: true type: string flavor-service_type-request: description: | Service type (ex: LOADBALANCERV2) for the flavor. in: body required: true type: stringservice_profile-description: description: | The human-readable description for the service profile. in: body required: true type: string service_profile-description-request: description: | The human-readable description for the service profile. in: body required: false type: string service_profile-driver: description: | Provider driver to use for this profile. Example: ``neutron_lbaas.drivers.octavia.driver.OctaviaDriver`` in: body required: true type: string service_profile-driver-request: description: | Provider driver to use for this profile. Example: ``neutron_lbaas.drivers.octavia.driver.OctaviaDriver`` in: body required: false type: string service_profile-enabled: description: | Indicates whether this service profile is enabled or not. Default is ``true``. in: body required: true type: boolean service_profile-enabled-request: description: | Indicates whether this service profile is enabled or not. Default is ``true``. in: body required: false type: boolean service_profile-id: description: | The UUID of the service profile. in: body required: true type: string service_profile-metainfo: description: | JSON-formatted meta information of the service profile. in: body required: true type: string service_profile-metainfo-request: description: | JSON-formatted meta information of the service profile. in: body required: false type: string, required: false required: falseid_28: description: | The UUID of the service profile. in: body required: true type: string,188,70
openstack%2Fneutron-lib~master~Icb3bc570aa7ab1ed2f2304739e034127aecdbeed,openstack/neutron-lib,master,Icb3bc570aa7ab1ed2f2304739e034127aecdbeed,Replace six.iteritems() with .items(),MERGED,2016-11-22 08:42:48.000000000,2016-11-29 23:35:13.000000000,2016-11-29 23:35:13.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 16237}, {'_account_id': 16688}, {'_account_id': 17776}, {'_account_id': 20256}, {'_account_id': 20566}]","[{'number': 1, 'created': '2016-11-22 08:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6dfec7480bea092f2341ee07e6094a30bd70c460', 'message': 'Replace six.iteritems() with .items()\n\nChange-Id: Icb3bc570aa7ab1ed2f2304739e034127aecdbeed\n'}, {'number': 2, 'created': '2016-11-22 10:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bc80ed02fafb221904a7b9f9ea4e8e7a1ba10c9a', 'message': 'Replace six.iteritems() with .items()\n\nChange-Id: Icb3bc570aa7ab1ed2f2304739e034127aecdbeed\n'}, {'number': 3, 'created': '2016-11-22 13:00:22.000000000', 'files': ['neutron_lib/tests/_base.py', 'neutron_lib/api/validators.py', 'neutron_lib/utils/helpers.py', 'neutron_lib/api/converters.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3193c6df8a216ce7189f55d4a9c895c18b185c4e', 'message': 'Replace six.iteritems() with .items()\n\nChange-Id: Icb3bc570aa7ab1ed2f2304739e034127aecdbeed\n'}]",7,400596,3193c6df8a216ce7189f55d4a9c895c18b185c4e,24,11,3,20256,,,0,"Replace six.iteritems() with .items()

Change-Id: Icb3bc570aa7ab1ed2f2304739e034127aecdbeed
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/96/400596/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/_base.py', 'neutron_lib/api/validators.py', 'neutron_lib/utils/helpers.py', 'neutron_lib/api/converters.py']",4,6dfec7480bea092f2341ee07e6094a30bd70c460,replace_six.iteritems," return dict((x, list(y)) for x, y in kvp_map.items())"," return dict((x, list(y)) for x, y in six.iteritems(kvp_map))",6,6
openstack%2Fneutron-lib~master~I78b37534cba0fd9740b5290c72ec6150d0de07c8,openstack/neutron-lib,master,I78b37534cba0fd9740b5290c72ec6150d0de07c8,Add alembic branch constants,MERGED,2016-11-23 22:58:42.000000000,2016-11-29 23:34:58.000000000,2016-11-29 23:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-11-23 22:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/288f35b7ec190b08969ad88ee8dce3e7805928dd', 'message': 'Add alembic branch constants\n\nChange-Id: I78b37534cba0fd9740b5290c72ec6150d0de07c8\n'}, {'number': 2, 'created': '2016-11-25 20:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/595a3b4f9b7682d1da254a170d2eac546848d39b', 'message': 'Add alembic branch constants\n\nThese must be available in neutron-lib so that subprojects can\nremove their dependency on neutron.db.migration.cli.\n\nChange-Id: I78b37534cba0fd9740b5290c72ec6150d0de07c8\n'}, {'number': 3, 'created': '2016-11-28 18:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c184e6ca7d72ebd753259d6832a275a8728459fc', 'message': 'Add alembic branch constants\n\nThese must be available in neutron-lib so that subprojects can\nremove their dependency on neutron.db.migration.cli.\n\nChange-Id: I78b37534cba0fd9740b5290c72ec6150d0de07c8\n'}, {'number': 4, 'created': '2016-11-28 18:51:13.000000000', 'files': ['releasenotes/notes/alembic-branches-6d5947d141efd26e.yaml', 'neutron_lib/db/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c26dc8da9823a121ef7ce0ea5fafd59113482f35', 'message': 'Add alembic branch constants\n\nThese must be available in neutron-lib so that subprojects can\nremove their dependency on neutron.db.migration.cli.\n\nChange-Id: I78b37534cba0fd9740b5290c72ec6150d0de07c8\n'}]",3,401479,c26dc8da9823a121ef7ce0ea5fafd59113482f35,23,9,4,6524,,,0,"Add alembic branch constants

These must be available in neutron-lib so that subprojects can
remove their dependency on neutron.db.migration.cli.

Change-Id: I78b37534cba0fd9740b5290c72ec6150d0de07c8
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/79/401479/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/alembic-branches-6d5947d141efd26e.yaml', 'neutron_lib/db/constants.py']",2,288f35b7ec190b08969ad88ee8dce3e7805928dd,alembic-branch-consts," # Alembic branches EXPAND_BRANCH = 'expand' CONTRACT_BRANCH = 'contract' MIGRATION_BRANCHES = (EXPAND_BRANCH, CONTRACT_BRANCH)",,11,0
openstack%2Fpuppet-cloudkitty~master~Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75,openstack/puppet-cloudkitty,master,Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75,Add support for configuring common component,MERGED,2016-11-05 14:10:36.000000000,2016-11-29 23:34:14.000000000,2016-11-29 23:34:14.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-05 14:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/c6473565b2f90b34faa430056162f400703b9f47', 'message': 'Update cloudkitty class\n\nThis patch adds support for installing and configuring Cloudkitty\ncommon component.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 2, 'created': '2016-11-05 14:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/16600b0f34f35d3cf51a621fb985d1c4a6adf42c', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 3, 'created': '2016-11-07 03:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/925f0cbc5dca5008e2c8fe08a5191c3b01fb1555', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 4, 'created': '2016-11-07 03:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/73db4d4fe1418e6e51a00e303b8a332febb75ff6', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 5, 'created': '2016-11-07 06:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/3586c352b4c1bc5f67f73f6f600073f22dec700b', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 6, 'created': '2016-11-07 09:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/b21d9c5bc392fceefb7a16ab713e5bfd95b7494e', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 7, 'created': '2016-11-08 10:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/3cc0cf67345710615949ade79f319a696434fd81', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}, {'number': 8, 'created': '2016-11-28 11:04:22.000000000', 'files': ['spec/classes/cloudkitty_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/bc38be1f6a987a02fca06cc8075ef044f1611da8', 'message': 'Add support for configuring common component\n\nThis patch updates cloudkitty class and related spec test to\nadd support for installing and configuring Cloudkitty common\ncomponent.\n\nChange-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75\n'}]",21,394028,bc38be1f6a987a02fca06cc8075ef044f1611da8,38,6,8,1607,,,0,"Add support for configuring common component

This patch updates cloudkitty class and related spec test to
add support for installing and configuring Cloudkitty common
component.

Change-Id: Ia561fd6b0d44514dd5dd1b97ed71db7921a6ca75
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/28/394028/8 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/update-cloudkitty-init-class-a83a9224d3f46ce3.yaml']",3,c6473565b2f90b34faa430056162f400703b9f47,init_class,--- features: - Add support for installing and configuring Cloudkitty base components. ,,659,4
openstack%2Fpuppet-cloudkitty~master~If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260,openstack/puppet-cloudkitty,master,If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260,Introduce cloudkitty::deps and cloudkitty::storage,MERGED,2016-11-05 12:23:32.000000000,2016-11-29 23:34:00.000000000,2016-11-29 23:33:59.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-05 12:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/2f0ca73c97e0906ab84a262a2f6ea1335fc7b83b', 'message': 'Introduce cloudkitty::deps and cloudkitty::storage\n\nThis patch introduces two new classes:\n\n  - cloudkitty::deps to manage dependency among resources\n  - cloudkitty::storage to manage cloudkitty storage init\n\nBesides that, we update cloudkitty::db::sync to make use of deps class.\n\nChange-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260\n'}, {'number': 2, 'created': '2016-11-05 13:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/306b1d17ee1aa7001a287684a51012bd14b5862c', 'message': 'Introduce cloudkitty::deps and cloudkitty::storage\n\nThis patch introduces two new classes:\n\n  - cloudkitty::deps to manage dependency among resources\n  - cloudkitty::storage to manage cloudkitty storage init\n\nBesides that, we update cloudkitty::db::sync to make use of deps class.\n\nChange-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260\n'}, {'number': 3, 'created': '2016-11-07 03:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/bd70bcf786f1cc86bd74b19b31ae09ed0ecfe48e', 'message': 'Introduce cloudkitty::deps and cloudkitty::storage\n\nThis patch introduces two new classes:\n\n  - cloudkitty::deps to manage dependency among resources\n  - cloudkitty::storage to manage cloudkitty storage init\n\nBesides that, we update cloudkitty::db::sync to make use of deps class.\n\nChange-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260\n'}, {'number': 4, 'created': '2016-11-08 09:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/a328dafced5ef6853f54b498e2c2c48267578034', 'message': 'Introduce cloudkitty::deps and cloudkitty::storage\n\nThis patch introduces two new classes:\n\n  - cloudkitty::deps to manage dependency among resources\n  - cloudkitty::storage to manage cloudkitty storage init\n\nBesides that, we update cloudkitty::db::sync to make use of deps class.\n\nChange-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260\n'}, {'number': 5, 'created': '2016-11-28 00:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/b2bdaa57da02ba3c3e1e7881833e07e302dc643b', 'message': 'Introduce cloudkitty::deps and cloudkitty::storage\n\nThis patch introduces two new classes:\n\n  - cloudkitty::deps to manage dependency among resources\n  - cloudkitty::storage to manage cloudkitty storage init\n\nBesides that, we update cloudkitty::db::sync to make use of deps class.\n\nChange-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260\n'}, {'number': 6, 'created': '2016-11-28 01:11:28.000000000', 'files': ['manifests/db/sync.pp', 'manifests/storage.pp', 'manifests/deps.pp', 'spec/classes/cloudkitty_storage_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/e4b0613bfd523876b72d5e1f6ab7bb63da43cf1a', 'message': 'Introduce cloudkitty::deps and cloudkitty::storage\n\nThis patch introduces two new classes:\n\n  - cloudkitty::deps to manage dependency among resources\n  - cloudkitty::storage to manage cloudkitty storage init\n\nBesides that, we update cloudkitty::db::sync to make use of deps class.\n\nChange-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260\n'}]",4,394018,e4b0613bfd523876b72d5e1f6ab7bb63da43cf1a,27,6,6,1607,,,0,"Introduce cloudkitty::deps and cloudkitty::storage

This patch introduces two new classes:

  - cloudkitty::deps to manage dependency among resources
  - cloudkitty::storage to manage cloudkitty storage init

Besides that, we update cloudkitty::db::sync to make use of deps class.

Change-Id: If1c632d6a3cd4e40e7f24e0174c5af2f71cc7260
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/18/394018/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db/sync.pp', 'manifests/releasenotes/notes/add-cloudkitty-deps-and-storage-b65dbe38b6ffe388.yaml', 'manifests/storage.pp', 'manifests/deps.pp', 'spec/classes/cloudkitty_storage_spec.rb']",5,2f0ca73c97e0906ab84a262a2f6ea1335fc7b83b,deps_and_storage,"require 'spec_helper' describe 'cloudkitty::storage' do shared_examples_for 'cloudkitty-storage-init' do it 'runs cloudkitty-storage-init' do is_expected.to contain_exec('cloudkitty-storage-init').with( :command => 'cloudkitty-storage-init --config-file /etc/cloudkitty/cloudkitty.conf', :path => '/usr/bin', :refreshonly => 'true', :user => 'cloudkitty', :logoutput => 'on_failure' ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts({ :os_workers => 8, :concat_basedir => '/var/lib/puppet/concat' })) end it_configures 'cloudkitty-storage-init' end end end ",,115,3
openstack%2Fpuppet-openstack-guide~master~Ia4eae0851feb3c3785a153564e916a2992409d4e,openstack/puppet-openstack-guide,master,Ia4eae0851feb3c3785a153564e916a2992409d4e,Add meeting #99,MERGED,2016-11-29 15:27:27.000000000,2016-11-29 23:30:25.000000000,2016-11-29 23:30:25.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 15:27:27.000000000', 'files': ['doc/source/meetings.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/f43dcdded3031cac8b494460556a6b8ec4123a9e', 'message': 'Add meeting #99\n\nChange-Id: Ia4eae0851feb3c3785a153564e916a2992409d4e\n'}]",0,404276,f43dcdded3031cac8b494460556a6b8ec4123a9e,7,3,1,15519,,,0,"Add meeting #99

Change-Id: Ia4eae0851feb3c3785a153564e916a2992409d4e
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/76/404276/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/meetings.rst'],1,f43dcdded3031cac8b494460556a6b8ec4123a9e,," - http://www.timeanddate.com/worldclock/fixedtime.html?msg=Puppet+Meeting&iso=20161206T15- `Tuesday December 06, 2016 @ 1500 UTC =20161206T15>`_ on ``#openstack-meeting-4`` on freenodehttps://etherpad.openstack.org/p/puppet-openstack-weekly-meeting-20161206- Meeting #99 | 29 November, 2016 | `log <http://eavesdrop.openstack.org/meetings/puppet_openstack/2016/puppet_ openstack.2016-11-29-15.02.log.html>`_ | `agenda <https://etherpad.openstack.org/p/puppet-openstack-weekly-meeting- 20161129>`_"," - http://www.timeanddate.com/worldclock/fixedtime.html?msg=Puppet+Meeting&iso=20161129T15- `Tuesday November 29, 2016 @ 1500 UTC =20161129T15>`_ on ``#openstack-meeting-4`` on freenodehttps://etherpad.openstack.org/p/puppet-openstack-weekly-meeting-20161129",9,4
openstack%2Ftempest~master~I1ce5fb322bd75a5499666e184b68ea6e26835a55,openstack/tempest,master,I1ce5fb322bd75a5499666e184b68ea6e26835a55,Add possibility to pass prefix before cli command,MERGED,2016-02-24 19:08:33.000000000,2016-11-29 23:29:30.000000000,2016-11-29 11:24:04.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7872}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 19265}]","[{'number': 1, 'created': '2016-02-24 19:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d04b70d00709b4327f88791c00f49a0c4425186', 'message': 'Add possibility to pass prefix before cli command\n\nIn some case cli command should be called with prefix, e.g. for set\nsome environment variables like this `env LC_ALL=en_US.UTF-8`. Now\nCLIClient has optional argument in constructor - prefix, which will\napplying before each call\n\nChange-Id: I1ce5fb322bd75a5499666e184b68ea6e26835a55\n'}, {'number': 2, 'created': '2016-11-29 07:24:54.000000000', 'files': ['tempest/tests/lib/cli/test_execute.py', 'tempest/lib/cli/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d95375c039fa0897b63deb3d50dbc1965fbdd790', 'message': 'Add possibility to pass prefix before cli command\n\nIn some case cli command should be called with prefix, e.g. for set\nsome environment variables like this `env LC_ALL=en_US.UTF-8`. Now\nCLIClient has optional argument in constructor - prefix, which will\napplying before each call\n\nChange-Id: I1ce5fb322bd75a5499666e184b68ea6e26835a55\n'}]",0,284355,d95375c039fa0897b63deb3d50dbc1965fbdd790,19,13,2,19265,,,0,"Add possibility to pass prefix before cli command

In some case cli command should be called with prefix, e.g. for set
some environment variables like this `env LC_ALL=en_US.UTF-8`. Now
CLIClient has optional argument in constructor - prefix, which will
applying before each call

Change-Id: I1ce5fb322bd75a5499666e184b68ea6e26835a55
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/284355/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/cli/test_execute.py', 'tempest/lib/cli/base.py']",2,0d04b70d00709b4327f88791c00f49a0c4425186,cli_prefix," merge_stderr=False, cli_dir='/usr/bin', prefix=''): :param prefix: prefix to insert before command :type prefix: string cmd = ' '.join([prefix, os.path.join(cli_dir, cmd), cmd = cmd.strip() :param prefix: prefix to insert before commands :type prefix: string cli_dir='', insecure=False, prefix='', *args, **kwargs): self.prefix = prefix self.cli_dir, prefix=self.prefix)"," merge_stderr=False, cli_dir='/usr/bin'): cmd = ' '.join([os.path.join(cli_dir, cmd), cli_dir='', insecure=False, *args, **kwargs): self.cli_dir)",28,4
openstack%2Fneutron-fwaas~master~I1e50703a559392ac0e1ab50830ac6b3b0cad7224,openstack/neutron-fwaas,master,I1e50703a559392ac0e1ab50830ac6b3b0cad7224,Fix removing rule_association on updating a policy,MERGED,2016-11-29 09:17:18.000000000,2016-11-29 23:28:17.000000000,2016-11-29 23:28:17.000000000,"[{'_account_id': 3}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 13995}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-11-29 09:17:18.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fffd6bcb5a95d5d07852328049dab28b44009acc', 'message': ""Fix removing rule_association on updating a policy\n\nThis commit fixes removing rule_associations entry with updating\nfirewall-policy with empty firewall_rules like that:\n\n    {'firewall_policy': {'firewall_rules': []}}\n\nChange-Id: I1e50703a559392ac0e1ab50830ac6b3b0cad7224\nCloses-Bug: #1645620\n""}]",2,404103,fffd6bcb5a95d5d07852328049dab28b44009acc,10,5,1,13702,,,0,"Fix removing rule_association on updating a policy

This commit fixes removing rule_associations entry with updating
firewall-policy with empty firewall_rules like that:

    {'firewall_policy': {'firewall_rules': []}}

Change-Id: I1e50703a559392ac0e1ab50830ac6b3b0cad7224
Closes-Bug: #1645620
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/03/404103/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/firewall/v2/firewall_db_v2.py'],1,fffd6bcb5a95d5d07852328049dab28b44009acc,bug/1645620," for rule_id in [rule_assoc.firewall_rule_id for rule_assoc in fwp_db['rule_associations']]: fwpra_db = self._get_policy_rule_association( context, fwp_db['id'], rule_id) fwp_db.rule_associations.remove(fwpra_db) context.session.delete(fwpra_db)",,6,0
openstack%2Fneutron-lib~master~I24441b6bc468dd1a4635641f6945f0b4e97954a1,openstack/neutron-lib,master,I24441b6bc468dd1a4635641f6945f0b4e97954a1,Verify valid_values in validate_subnet,ABANDONED,2016-10-26 19:15:07.000000000,2016-11-29 23:07:21.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 6659}, {'_account_id': 14611}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-10-26 19:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e9f26339c7b3c411ca78823f3f0b57abec0a32c8', 'message': ""Verify valid_values in validate_subnet\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_subnet, validate_subnet_or_none and\nvalidate_subnet_list. Here, valid_values allows callers to\nconstrain the allowed subnet values all items in data may take on.\nUTs also included for completeness.\n\nCloses-Bug: #1636276\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I24441b6bc468dd1a4635641f6945f0b4e97954a1\n""}, {'number': 2, 'created': '2016-11-01 17:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8d2ebcaab3576eb0adf90574d3dbf1adc0253774', 'message': ""Verify valid_values in validate_subnet\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_subnet, validate_subnet_or_none and\nvalidate_subnet_list. Here, valid_values allows callers to\nconstrain the allowed subnet values all items in data may take on.\nUTs also included for completeness.\n\nCloses-Bug: #1636276\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I24441b6bc468dd1a4635641f6945f0b4e97954a1\n""}, {'number': 3, 'created': '2016-11-01 19:30:44.000000000', 'files': ['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py', 'releasenotes/notes/bug1636276-7025a46a60f92027.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/edc4fd90964ec74ff002e35b24015da58dee394a', 'message': ""Verify valid_values in validate_subnet\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_subnet, validate_subnet_or_none and\nvalidate_subnet_list. Here, valid_values allows callers to\nconstrain the allowed subnet values all items in data may take on.\nUTs also included for completeness.\n\nCloses-Bug: #1636276\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I24441b6bc468dd1a4635641f6945f0b4e97954a1\n""}]",0,390952,edc4fd90964ec74ff002e35b24015da58dee394a,13,5,3,5367,,,0,"Verify valid_values in validate_subnet

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to support valid_values
in validate_subnet, validate_subnet_or_none and
validate_subnet_list. Here, valid_values allows callers to
constrain the allowed subnet values all items in data may take on.
UTs also included for completeness.

Closes-Bug: #1636276

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: I24441b6bc468dd1a4635641f6945f0b4e97954a1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/52/390952/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py']",2,e9f26339c7b3c411ca78823f3f0b57abec0a32c8,bug/1636276," def test_validate_subnet_valid_values(self): valid = ['10.1.1.0/24', '11.1.1.0/24', '12.1.1.0/24'] self.assertIsNone(validators.validate_subnet( '11.1.1.0/24', valid_values=valid)) self.assertIsNotNone(validators.validate_subnet( '13.1.1.0/24', valid_values=valid)) self.assertEqual(u""Invalid format for 'subnet address'. "" def test_validate_subnet_list_valid_values(self): valid = ['10.1.1.0/24', '11.1.1.0/24', '12.1.1.0/24', '13.1.1.0/24'] self.assertIsNone(validators.validate_subnet_list( ['11.1.1.0/24', '13.1.1.0/24'], valid_values=valid)) self.assertIsNotNone(validators.validate_subnet_list( ['11.1.1.0/24', '14.1.1.0/24'], valid_values=valid)) "," self.assertEqual(u""Invalid format for 'data'. """,28,10
openstack%2Fneutron-lib~master~Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419,openstack/neutron-lib,master,Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419,Verify valid_values in validate_subnetpool_id,ABANDONED,2016-10-26 15:39:46.000000000,2016-11-29 23:07:07.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6659}, {'_account_id': 14611}, {'_account_id': 17776}, {'_account_id': 22220}]","[{'number': 1, 'created': '2016-10-26 15:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b180de617b2a93cbf97ae9e9d2178366db79d7f8', 'message': ""Verify valid_values in validate_subnetpool_id\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included for completeness.\n\nCloses-Bug: #1636277\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419\n""}, {'number': 2, 'created': '2016-11-01 17:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9728c35552c9e28393a4a2741929fae82065b592', 'message': ""Verify valid_values in validate_subnetpool_id\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included for completeness.\n\nCloses-Bug: #1636277\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419\n""}, {'number': 3, 'created': '2016-11-01 19:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5389b52838e18dd25d5ab47f680098e6541e5c45', 'message': ""Verify valid_values in validate_subnetpool_id\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included for completeness.\n\nCloses-Bug: #1636277\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419\n""}, {'number': 4, 'created': '2016-11-02 16:47:55.000000000', 'files': ['releasenotes/notes/bug1636277-dcc6a7eb3d53c638.yaml', 'neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/882be044d354f6ee635a6d373cd586feef9071ee', 'message': ""Verify valid_values in validate_subnetpool_id\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included for completeness.\n\nCloses-Bug: #1636277\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419\n""}]",2,390898,882be044d354f6ee635a6d373cd586feef9071ee,20,8,4,5367,,,0,"Verify valid_values in validate_subnetpool_id

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to support valid_values
as a means to scope the list of valid UUID's data may take on.
A Unit Test is also included for completeness.

Closes-Bug: #1636277

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: Ib369f39deb1f5d3fcf75c23fa58e05b8edb0c419
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/98/390898/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py']",2,b180de617b2a93cbf97ae9e9d2178366db79d7f8,bug/1636277," def test_validate_subnetpool_id_valid_values(self): valid = ['00000000-ffff-ffff-ffff-000000000000', '00000000-ffff-ffff-aaaa-000000000000', '00000000-ffff-ffff-bbbb-000000000000'] self.assertIsNone(validators.validate_subnetpool_id( '00000000-ffff-ffff-bbbb-000000000000', valid_values=valid)) self.assertIsNotNone(validators.validate_subnetpool_id( '00000000-ffff-ffff-cccc-000000000000', valid_values=valid)) ",,16,2
openstack%2Fneutron-lib~master~I21ee823e71ec6ed34b75931eb30c43a1b2ecfb56,openstack/neutron-lib,master,I21ee823e71ec6ed34b75931eb30c43a1b2ecfb56,Verify valid_values in validate_non_negative,ABANDONED,2016-10-26 15:26:42.000000000,2016-11-29 23:06:57.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 6659}, {'_account_id': 14611}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-10-26 15:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4fcdee96ca93ed60601f217f17187e8c106c42d3', 'message': ""Verify valid_values in validate_non_negative\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_non_negative(). When specified valid_values can be\nused to constrain the valid non-negative ints data may take on.\nA UT is included for completeness.\n\nCloses-Bug: #1636279\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I21ee823e71ec6ed34b75931eb30c43a1b2ecfb56\n""}, {'number': 2, 'created': '2016-11-01 17:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cc61963d33b4a299454500c5408a44e7fb0c950a', 'message': ""Verify valid_values in validate_non_negative\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_non_negative(). When specified valid_values can be\nused to constrain the valid non-negative ints data may take on.\nA UT is included for completeness.\n\nCloses-Bug: #1636279\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I21ee823e71ec6ed34b75931eb30c43a1b2ecfb56\n""}, {'number': 3, 'created': '2016-11-01 19:23:48.000000000', 'files': ['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py', 'releasenotes/notes/bug1636279-46561f8ad815717a.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dd767c5957f781a79a81a01d77642f5dcbca7f01', 'message': ""Verify valid_values in validate_non_negative\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_non_negative(). When specified valid_values can be\nused to constrain the valid non-negative ints data may take on.\nA UT is included for completeness.\n\nCloses-Bug: #1636279\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I21ee823e71ec6ed34b75931eb30c43a1b2ecfb56\n""}]",0,390894,dd767c5957f781a79a81a01d77642f5dcbca7f01,13,5,3,5367,,,0,"Verify valid_values in validate_non_negative

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to support valid_values
in validate_non_negative(). When specified valid_values can be
used to constrain the valid non-negative ints data may take on.
A UT is included for completeness.

Closes-Bug: #1636279

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: I21ee823e71ec6ed34b75931eb30c43a1b2ecfb56
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/94/390894/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py']",2,4fcdee96ca93ed60601f217f17187e8c106c42d3,bug/1636279," def test_validate_non_negative_valid_values(self): valid = [2, 4, 6] self.assertIsNone( validators.validate_non_negative(6, valid_values=valid)) self.assertIsNotNone( validators.validate_non_negative(8, valid_values=valid)) ",,12,2
openstack%2Fneutron-lib~master~I371ac284479d98e4c1c88c909fa5f3af8a357189,openstack/neutron-lib,master,I371ac284479d98e4c1c88c909fa5f3af8a357189,Verify valid_values in validate_uuid,ABANDONED,2016-10-25 20:02:05.000000000,2016-11-29 23:06:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 14611}, {'_account_id': 17776}, {'_account_id': 22220}]","[{'number': 1, 'created': '2016-10-25 20:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/54e52699b682c20af2ee500b7d126166ca0bb69a', 'message': ""Verify valid_values in validate_uuid\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636278\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I371ac284479d98e4c1c88c909fa5f3af8a357189\n""}, {'number': 2, 'created': '2016-10-26 15:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/57a89380a7dc60651316f9b8502f4b4231702885', 'message': ""Verify valid_values in validate_uuid\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636278\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I371ac284479d98e4c1c88c909fa5f3af8a357189\n""}, {'number': 3, 'created': '2016-10-26 19:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/61b722e4ce0d0c2ec5efbf631eb19cb3c3c88ca4', 'message': ""Verify valid_values in validate_uuid\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636278\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I371ac284479d98e4c1c88c909fa5f3af8a357189\n""}, {'number': 4, 'created': '2016-11-01 17:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/42f93eb5379ab4b26efe2293f7f386363fe34251', 'message': ""Verify valid_values in validate_uuid\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636278\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I371ac284479d98e4c1c88c909fa5f3af8a357189\n""}, {'number': 5, 'created': '2016-11-01 19:14:08.000000000', 'files': ['releasenotes/notes/bug1636278-7ccf13be665339a0.yaml', 'neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/af3dfd512fc3a7125dca6b6f48961ea256511d85', 'message': ""Verify valid_values in validate_uuid\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid UUID's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636278\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I371ac284479d98e4c1c88c909fa5f3af8a357189\n""}]",0,390657,af3dfd512fc3a7125dca6b6f48961ea256511d85,20,8,5,5367,,,0,"Verify valid_values in validate_uuid

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to support valid_values
as a means to scope the list of valid UUID's data may take on.
A Unit Test is also included.

Closes-Bug: #1636278

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: I371ac284479d98e4c1c88c909fa5f3af8a357189
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/57/390657/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py']",2,54e52699b682c20af2ee500b7d126166ca0bb69a,bug/1636278," msg = validators.validate_uuid_list(bad_uuid_list) msg = validators.validate_uuid_list(good_uuid_list) def test_validate_uuid_list_valid_values(self): valid = ['00000000-ffff-ffff-ffff-000000000000', '00000000-ffff-ffff-ffff-000000000001', '00000000-ffff-ffff-ffff-000000000002'] self.assertIsNone(validators.validate_uuid_list( valid[:-1], valid_values=valid)) self.assertIsNotNone(validators.validate_uuid_list( ['00000000-ffff-ffff-ffff-000000000003', '00000000-ffff-ffff-ffff-000000000004'], valid_values=valid)) def test_validate_uuid_valid_values(self): valid = ['00000000-ffff-ffff-ffff-000000000000', '00000000-ffff-ffff-ffff-000000000001', '00000000-ffff-ffff-ffff-000000000002'] self.assertIsNone(validators.validate_uuid( '00000000-ffff-ffff-ffff-000000000002', valid_values=valid)) self.assertIsNotNone(validators.validate_uuid( '00000000-ffff-ffff-ffff-000000000003', valid_values=valid)) "," msg = validators.validate_uuid_list(bad_uuid_list, valid_values='parameter not used') msg = validators.validate_uuid_list(good_uuid_list, valid_values='parameter not used')",38,14
openstack%2Fneutron-lib~master~I694aa79ecb40032cd72fa5d76eaa0cc188b44b86,openstack/neutron-lib,master,I694aa79ecb40032cd72fa5d76eaa0cc188b44b86,Verify valid_values in validate_ip_pools,ABANDONED,2016-10-25 16:42:34.000000000,2016-11-29 23:06:38.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 14611}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-10-25 16:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/33185b9cd6162c2ab3572e1324543b44a9de21d9', 'message': ""Verify valid_values in validate_ip_pools\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to validate valid_values\nin validate_ip_pools(). No UTs are needed because the\n_check_valid_values decorator is tested in [2] already.\n\nCloses-Bug: #1636270\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86\n""}, {'number': 2, 'created': '2016-10-26 15:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f36c159484805176801c1afa252a9f9fd29f4c4a', 'message': ""Verify valid_values in validate_ip_pools\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_ip_pools(). Here, valid_values allows callers to\nconstrain the allowed start/end IP addresses for all IPs\nin the data (a collection IP pools). A UT is also included for\ncompleteness.\n\nCloses-Bug: #1636270\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86\n""}, {'number': 3, 'created': '2016-11-01 17:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fd8acb8b7e8daebc62fa87a01673d11af49733f6', 'message': ""Verify valid_values in validate_ip_pools\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_ip_pools(). Here, valid_values allows callers to\nconstrain the allowed start/end IP addresses for all IPs\nin the data (a collection IP pools). A UT is also included for\ncompleteness.\n\nCloses-Bug: #1636270\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86\n""}, {'number': 4, 'created': '2016-11-01 19:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/839b3baa719cfb931a1addd08fc52f3223eea836', 'message': ""Verify valid_values in validate_ip_pools\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_ip_pools(). Here, valid_values allows callers to\nconstrain the allowed start/end IP addresses for all IPs\nin the data (a collection IP pools). A UT is also included for\ncompleteness.\n\nCloses-Bug: #1636270\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86\n""}, {'number': 5, 'created': '2016-11-02 16:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f84ae9cd792961265b166b5ef3471a75d4c642c1', 'message': ""Verify valid_values in validate_ip_pools\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_ip_pools(). Here, valid_values allows callers to\nconstrain the allowed start/end IP addresses for all IPs\nin the data (a collection IP pools). A UT is also included for\ncompleteness.\n\nCloses-Bug: #1636270\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86\n""}, {'number': 6, 'created': '2016-11-21 15:28:03.000000000', 'files': ['releasenotes/notes/bug1636270-3108fa61a3ec17d8.yaml', 'neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9bd7b244698ee9990780e150c88e427fe2418bb6', 'message': ""Verify valid_values in validate_ip_pools\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nin validate_ip_pools(). Here, valid_values allows callers to\nconstrain the allowed start/end IP addresses for all IPs\nin the data (a collection IP pools). A UT is also included for\ncompleteness.\n\nCloses-Bug: #1636270\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86\n""}]",7,390618,9bd7b244698ee9990780e150c88e427fe2418bb6,29,9,6,5367,,,0,"Verify valid_values in validate_ip_pools

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to support valid_values
in validate_ip_pools(). Here, valid_values allows callers to
constrain the allowed start/end IP addresses for all IPs
in the data (a collection IP pools). A UT is also included for
completeness.

Closes-Bug: #1636270

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: I694aa79ecb40032cd72fa5d76eaa0cc188b44b86
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/18/390618/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/validators.py'],1,33185b9cd6162c2ab3572e1324543b44a9de21d9,bug/1636270,"@_check_valid_values(iterate_on_data=True, data_debug_name='IP pool') :param valid_values: A collection of valid values data may take on. The values in this list are not type checked and are handled via the validate_values() function itself. Passing valid_values to this function is equivalent to calling validate_values with data and valid_values."," :param valid_values: Not used! if not isinstance(data, list): msg = _(""Invalid data format for IP pool: '%s'"") % data LOG.debug(msg) return msg",5,5
openstack%2Fneutron-lib~master~Ic0e1c388882b8649f1449f94ee3bd07435df026f,openstack/neutron-lib,master,Ic0e1c388882b8649f1449f94ee3bd07435df026f,Verify valid_values in validate_ip_address,ABANDONED,2016-10-25 16:37:02.000000000,2016-11-29 23:06:25.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 14611}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-10-25 16:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/079d6b5722a48f26e4273a4ef23899ce94639fb7', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to validate valid_values\nin validate_ip_address(). No UTs are needed because the\n_check_valid_values decorator is tested in [2] already.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}, {'number': 2, 'created': '2016-10-25 18:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f5249fc1cdbb90b68cd1f7ad614addc79044b393', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid IP's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}, {'number': 3, 'created': '2016-10-25 18:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/911f61454078969f56904536f8c1fe20cf628b0a', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid IP's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}, {'number': 4, 'created': '2016-10-26 14:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/156b4b084ee037f5145568909bdae5ebc0756832', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid IP's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}, {'number': 5, 'created': '2016-10-31 16:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/392b229bbdc715896eda501a9c154992d37b7e53', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid IP's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}, {'number': 6, 'created': '2016-11-01 17:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c073babce5cf8e12501a0ac09755e9538d8ce438', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid IP's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}, {'number': 7, 'created': '2016-11-01 19:06:53.000000000', 'files': ['releasenotes/notes/bug1636269-76ca9c0af2c75fda.yaml', 'neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dc2958fc351ea389239b60e303fd912fe78afff1', 'message': ""Verify valid_values in validate_ip_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to support valid_values\nas a means to scope the list of valid IP's data may take on.\nA Unit Test is also included.\n\nCloses-Bug: #1636269\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f\n""}]",0,390616,dc2958fc351ea389239b60e303fd912fe78afff1,20,7,7,5367,,,0,"Verify valid_values in validate_ip_address

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to support valid_values
as a means to scope the list of valid IP's data may take on.
A Unit Test is also included.

Closes-Bug: #1636269

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: Ic0e1c388882b8649f1449f94ee3bd07435df026f
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/16/390616/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/validators.py'],1,079d6b5722a48f26e4273a4ef23899ce94639fb7,bug/1636269,@_check_valid_values(iterate_on_data=False) :param valid_values: A collection of valid values data may take on. The values in this list are not type checked and are handled via the validate_values() function itself. Passing valid_values to this function is equivalent to calling validate_values with data and valid_values. :param valid_values: A collection of valid values data may take on. The values in this list are not type checked and are handled via the validate_values() function itself. Passing valid_values to this function is equivalent to calling validate_values with data and valid_values., :param valid_values: Not used! :param valid_values: An optional list of values data may take on.,9,2
openstack%2Fneutron-lib~master~Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b,openstack/neutron-lib,master,Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b,Verify valid_values in validate_mac_address,ABANDONED,2016-10-25 15:44:25.000000000,2016-11-29 23:06:11.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 6659}, {'_account_id': 11975}, {'_account_id': 14611}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-10-25 15:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/97b035ae48bb1ae216bb95567d704fb6e33df6e6', 'message': ""Verify valid_values in validate_mac_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to validate valid_values\nin validate_mac_address(). No UTs are needed because the\n_check_valid_values decorator is tested in [2] already.\n\nCloses-Bug: #1636268\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b\n""}, {'number': 2, 'created': '2016-10-25 20:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0a506f9de3ba357739165ffd58c9bf49b4c3d60c', 'message': ""Verify valid_values in validate_mac_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to validate valid_values\nin validate_mac_address(). No UTs are needed because the\n_check_valid_values decorator is tested in [2] already.\n\nCloses-Bug: #1636268\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b\n""}, {'number': 3, 'created': '2016-11-01 16:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c47ea1b45794bf3612f2282f2e0cfb44dcffca67', 'message': ""Verify valid_values in validate_mac_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to validate valid_values\nin validate_mac_address(). No UTs are needed because the\n_check_valid_values decorator is tested in [2] already.\n\nCloses-Bug: #1636268\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b\n""}, {'number': 4, 'created': '2016-11-01 18:32:08.000000000', 'files': ['neutron_lib/api/validators.py', 'releasenotes/notes/bug1636268-f6fb17c783d74467.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/048aad517253048a2c6a325840916a18f73981d2', 'message': ""Verify valid_values in validate_mac_address\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch uses the plumbing from [2] to validate valid_values\nin validate_mac_address(). No UTs are needed because the\n_check_valid_values decorator is tested in [2] already.\n\nCloses-Bug: #1636268\n\n[1] https://review.openstack.org/#/c/343799/\n[2] https://review.openstack.org/#/c/390398/\n\nChange-Id: Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b\n""}]",0,390596,048aad517253048a2c6a325840916a18f73981d2,23,7,4,5367,,,0,"Verify valid_values in validate_mac_address

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch uses the plumbing from [2] to validate valid_values
in validate_mac_address(). No UTs are needed because the
_check_valid_values decorator is tested in [2] already.

Closes-Bug: #1636268

[1] https://review.openstack.org/#/c/343799/
[2] https://review.openstack.org/#/c/390398/

Change-Id: Ic2c9b98671b1ba55b42db8f415c2b58b1b09ad9b
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/96/390596/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/validators.py'],1,97b035ae48bb1ae216bb95567d704fb6e33df6e6,bug/1636268,@_check_valid_values(iterate_on_data=False) :param valid_values: A collection of valid values data may take on. The values in this list are not type checked and are handled via the validate_values() function itself. Passing valid_values to this function is equivalent to calling validate_values with data and valid_values. :param valid_values: A collection of valid values data may take on. The values in this list are not type checked and are handled via the validate_values() function itself. Passing valid_values to this function is equivalent to calling validate_values with data and valid_values., :param valid_values: Not used! :param valid_values: Not used!,9,2
openstack%2Fneutron-lib~master~I396bd24667c00b4a816137f964d7643e4117a989,openstack/neutron-lib,master,I396bd24667c00b4a816137f964d7643e4117a989,Verify valid_values in validate_boolean/validate_nameservers,ABANDONED,2016-10-24 20:09:27.000000000,2016-11-29 23:05:11.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 14611}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-10-24 20:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c692161fc388884ed18f8171c30a81b006443e78', 'message': ""Support valid_values in validate_boolean()\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean (see bug). A unit test\nis also included.\n\nCloses-Bug: #1615088\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 2, 'created': '2016-10-25 13:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e6d196e763d52270668cf35bd36ee152d88ad447', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 3, 'created': '2016-10-25 15:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e13d14d1942643d534f5485809159940211b6f0c', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 4, 'created': '2016-10-25 17:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/41eb914b429e008ac617276289bb8bd8191bbd79', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 5, 'created': '2016-10-25 20:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3687bc2686ae6ac53d89cf74129d11fbd8ae10c5', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 6, 'created': '2016-10-31 16:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bd3981ccb9b4abff7d1611d7834f93760574d71e', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 7, 'created': '2016-11-01 16:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4ae424b82c2a86d49203d1dc809e5c540497c1c2', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}, {'number': 8, 'created': '2016-11-01 17:45:43.000000000', 'files': ['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py', 'releasenotes/notes/bug1615088-and-bug1636274-cef411411db31f8e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cf9caa67375260851f42e495ccac7e15c06a857c', 'message': ""Verify valid_values in validate_boolean/validate_nameservers\n\nToday in neutron_lib.api.validators:\n- Some validator functions use/support valid_values, while\nothers define and ignore it.\n- We have recently enhanced the validate_values function as per\n[1] and can leverage it to fill out our validator's support for\nvalid_values.\n\nThis patch introduces a simple decorator that can be used to call\nvalidate_values() when valid_values are passed on validator invocation.\nIt also adds the decorator to validate_boolean as well as for\nvalidate_nameservers. Unit tests are also included.\n\nCloses-Bug: #1615088\nCloses-Bug: #1636274\n\n[1] https://review.openstack.org/#/c/343799/\n\nChange-Id: I396bd24667c00b4a816137f964d7643e4117a989\n""}]",12,390398,cf9caa67375260851f42e495ccac7e15c06a857c,33,10,8,5367,,,0,"Verify valid_values in validate_boolean/validate_nameservers

Today in neutron_lib.api.validators:
- Some validator functions use/support valid_values, while
others define and ignore it.
- We have recently enhanced the validate_values function as per
[1] and can leverage it to fill out our validator's support for
valid_values.

This patch introduces a simple decorator that can be used to call
validate_values() when valid_values are passed on validator invocation.
It also adds the decorator to validate_boolean as well as for
validate_nameservers. Unit tests are also included.

Closes-Bug: #1615088
Closes-Bug: #1636274

[1] https://review.openstack.org/#/c/343799/

Change-Id: I396bd24667c00b4a816137f964d7643e4117a989
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/98/390398/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators.py', 'neutron_lib/tests/unit/api/test_validators.py']",2,c692161fc388884ed18f8171c30a81b006443e78,bug/1615088," def test_check_valid_values_scalar(self): self.assertIsNone(validators.validate_boolean( 'myfalse', [False, 'myfalse'])) self.assertIsNotNone(validators.validate_boolean('myfalse')) self.assertIsNone(validators.validate_boolean(False))",,34,1
openstack%2Fkeystone~master~If3b11e9dad10c8a6b545352cafd8d002a5fac1a2,openstack/keystone,master,If3b11e9dad10c8a6b545352cafd8d002a5fac1a2,Send the identity.deleted.role_assignment after the deletion,MERGED,2016-11-23 16:12:27.000000000,2016-11-29 23:04:56.000000000,2016-11-28 16:25:26.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 12932}, {'_account_id': 13055}, {'_account_id': 18338}]","[{'number': 1, 'created': '2016-11-23 16:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed9f0c27ec8e1b5707bde2c78cdd8d979fc7c785', 'message': ""Send the identity.deleted.role_assignment after the deletion\n\nPreviously this notification was emitted in the middle of\ndelete_grant(), before the deletion has actually been passed\nto the assignment driver.  That's wrong for two reasons:\n\n- The db reflects the pre-deletion state during the notification\n\n- The deletion still might fail; this notification is meant\n  to only be sent after the deletion code has completed without\n  throwing an exception.\n\nChange-Id: If3b11e9dad10c8a6b545352cafd8d002a5fac1a2\n""}, {'number': 2, 'created': '2016-11-28 06:18:26.000000000', 'files': ['keystone/assignment/core.py', 'keystone/tests/unit/common/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9a6ead6f5f60de6821bc33603c44d04b7e4b8e5', 'message': ""Send the identity.deleted.role_assignment after the deletion\n\nPreviously this notification was emitted in the middle of\ndelete_grant(), before the deletion has actually been passed\nto the assignment driver.  That's wrong for two reasons:\n\n- The db reflects the pre-deletion state during the notification\n\n- The deletion still might fail; this notification is meant\n  to only be sent after the deletion code has completed without\n  throwing an exception.\n\nChange-Id: If3b11e9dad10c8a6b545352cafd8d002a5fac1a2\n""}]",2,401332,d9a6ead6f5f60de6821bc33603c44d04b7e4b8e5,12,7,2,12932,,,0,"Send the identity.deleted.role_assignment after the deletion

Previously this notification was emitted in the middle of
delete_grant(), before the deletion has actually been passed
to the assignment driver.  That's wrong for two reasons:

- The db reflects the pre-deletion state during the notification

- The deletion still might fail; this notification is meant
  to only be sent after the deletion code has completed without
  throwing an exception.

Change-Id: If3b11e9dad10c8a6b545352cafd8d002a5fac1a2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/32/401332/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/core.py'],1,ed9f0c27ec8e1b5707bde2c78cdd8d979fc7c785,401332, @notifications.role_assignment('deleted'), @notifications.role_assignment('deleted'),1,1
openstack%2Fpython-keystoneclient~master~Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c,openstack/python-keystoneclient,master,Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c,Pass allow_expired to token validate,MERGED,2016-10-04 22:46:29.000000000,2016-11-29 23:02:41.000000000,2016-11-29 23:02:41.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2016-10-04 22:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5441d657e14c6fd1092745842f9592d9e48d9b69', 'message': 'Pass allow_expired to token validate\n\nAllow passing the allow_expired flag to v3 token validation to support\nextended service to service communication.\n\nImplements bp: allow-expired\nDepends-On: I784f719be88481048f5aa7a79d34a54907438cf3\nChange-Id: Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c\n'}, {'number': 2, 'created': '2016-10-04 23:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a189eebd1b72185a85600f4527f11ea1816a792e', 'message': 'Pass allow_expired to token validate\n\nAllow passing the allow_expired flag to v3 token validation to support\nextended service to service communication.\n\nImplements bp: allow-expired\nDepends-On: I784f719be88481048f5aa7a79d34a54907438cf3\nChange-Id: Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c\n'}, {'number': 3, 'created': '2016-10-22 01:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/777e85f23e3392ffdbdba011436fadbc47dd352f', 'message': 'Pass allow_expired to token validate\n\nAllow passing the allow_expired flag to v3 token validation to support\nextended service to service communication.\n\nImplements bp: allow-expired\nDepends-On: I784f719be88481048f5aa7a79d34a54907438cf3\nChange-Id: Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c\n'}, {'number': 4, 'created': '2016-11-20 13:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/b05f7fe9a92d25da59af644397a76d71fce9333c', 'message': 'Pass allow_expired to token validate\n\nAllow passing the allow_expired flag to v3 token validation to support\nextended service to service communication.\n\nImplements bp: allow-expired\nDepends-On: I784f719be88481048f5aa7a79d34a54907438cf3\nChange-Id: Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c\n'}, {'number': 5, 'created': '2016-11-29 21:23:29.000000000', 'files': ['keystoneclient/tests/unit/v3/test_tokens.py', 'releasenotes/notes/Add-allow-expired-flag-to-validate-25b8914f4deb359b.yaml', 'keystoneclient/v3/tokens.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9f5493747a404adc92960785848016a85c5a4acb', 'message': 'Pass allow_expired to token validate\n\nAllow passing the allow_expired flag to v3 token validation to support\nextended service to service communication.\n\nImplements bp: allow-expired\nChange-Id: Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c\n'}]",3,382099,9f5493747a404adc92960785848016a85c5a4acb,22,6,5,7191,,,0,"Pass allow_expired to token validate

Allow passing the allow_expired flag to v3 token validation to support
extended service to service communication.

Implements bp: allow-expired
Change-Id: Ia1763fedc1838ad3c58c7f8f98f00b7eaad55a5c
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/99/382099/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/v3/test_tokens.py', 'keystoneclient/v3/tokens.py']",2,5441d657e14c6fd1092745842f9592d9e48d9b69,bp/allow-expired," def get_token_data(self, token, include_catalog=True, allow_expired=False): :param allow_expired: If True the token will be validated and returned if it has already expired. flags = [] if not include_catalog: flags.append('nocatalog') if allow_expired: flags.append('allow_expired=1') if flags: url = '%s?%s' % (url, '&'.join(flags)) def validate(self, token, include_catalog=True, allow_expired=False): :param allow_expired: If True the token will be validated and returned if it has already expired. :type allow_expired: bool body = self.get_token_data(token_id, include_catalog=include_catalog, allow_expired=allow_expired)"," def get_token_data(self, token, include_catalog=True): if not include_catalog: url += '?nocatalog' def validate(self, token, include_catalog=True): body = self.get_token_data(token_id, include_catalog=include_catalog)",31,4
openstack%2Fceilometer~master~I17f9be70b7bd74353a1aa301432859685c575c34,openstack/ceilometer,master,I17f9be70b7bd74353a1aa301432859685c575c34,[MongoDB] improve creation of ttl indexes,ABANDONED,2016-03-09 11:54:46.000000000,2016-11-29 23:00:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 15843}, {'_account_id': 22587}]","[{'number': 1, 'created': '2016-03-09 11:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ab3889fb92f0285754afc188c3729ca552d4653c', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order \nascending for ttl_idx and descending for timestamp_index, \nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34'}, {'number': 2, 'created': '2016-03-09 16:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/24ccb7ea25fdad1b992dde2fe628ee8fcc020db0', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order \nascending for ttl_idx and descending for timestamp_index, \nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34'}, {'number': 3, 'created': '2016-03-21 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9b57fe354dada9bbdaeb5786f0313850a597b803', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order\nascending for ttl_idx and descending for timestamp_index,\nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34'}, {'number': 4, 'created': '2016-05-17 15:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/67cbcc6ac838448749ff38b69af1c29d61ed365f', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order\nascending for ttl_idx and descending for timestamp_index,\nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34\n'}, {'number': 5, 'created': '2016-05-26 09:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/07a7887b7abbe5554ca57be2345bee83272f6a57', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order\nascending for ttl_idx and descending for timestamp_index,\nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34\n'}, {'number': 6, 'created': '2016-05-31 13:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/817e9626998580de303abdd7dca138ed7a7e6ca3', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order\nascending for ttl_idx and descending for timestamp_index,\nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34\n'}, {'number': 7, 'created': '2016-06-01 09:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/11e8b38b1c09c5492a08dff93a689650b7c00d4a', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order\nascending for ttl_idx and descending for timestamp_index,\nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34'}, {'number': 8, 'created': '2016-06-01 10:14:41.000000000', 'files': ['ceilometer/tests/functional/storage/test_impl_mongodb.py', 'ceilometer/storage/impl_mongodb.py', 'ceilometer/tests/functional/gabbi/fixtures.py', 'ceilometer/event/storage/pymongo_base.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a7d8d1180f0cc9122775aeb02b845a41b3e3c22', 'message': '[MongoDB] improve creation of ttl indexes\n\nIn MongoDB one field cannot be indexes twice if index is not compound.\nIn our case it was happen because we use different indexing order\nascending for ttl_idx and descending for timestamp_index,\nthis patch improves it.\n\nCloses-bug: #1533294\nChange-Id: I17f9be70b7bd74353a1aa301432859685c575c34\n'}]",24,290433,3a7d8d1180f0cc9122775aeb02b845a41b3e3c22,40,10,8,10987,,,0,"[MongoDB] improve creation of ttl indexes

In MongoDB one field cannot be indexes twice if index is not compound.
In our case it was happen because we use different indexing order
ascending for ttl_idx and descending for timestamp_index,
this patch improves it.

Closes-bug: #1533294
Change-Id: I17f9be70b7bd74353a1aa301432859685c575c34
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/33/290433/6 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/storage/impl_mongodb.py', 'ceilometer/tests/functional/storage/test_impl_mongodb.py', 'ceilometer/event/storage/pymongo_base.py', 'ceilometer/event/storage/impl_mongodb.py']",4,ab3889fb92f0285754afc188c3729ca552d4653c,ttl_index," impl_mongodb.Connection.update_ttl('event_ttl', 'timestamp', self.db.event, ttl)"," impl_mongodb.Connection.update_ttl(ttl, 'event_ttl', 'timestamp', self.db.event)",38,27
openstack%2Fceilometer~master~I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b,openstack/ceilometer,master,I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b,[MongoDB] exchange compound index with single field indexes,ABANDONED,2016-02-04 14:21:02.000000000,2016-11-29 23:00:43.000000000,,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 15843}, {'_account_id': 22587}]","[{'number': 1, 'created': '2016-02-04 14:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8256ecb1576067c9c2c2bc3deb883b92eaea73df', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972\n'}, {'number': 2, 'created': '2016-02-05 15:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e1ccdf2c80bc7ea7b994ce5f57bd2b1320797525', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972\n'}, {'number': 3, 'created': '2016-02-24 10:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7aa94f111745885c00a8ce31106a7e8c457fdbc7', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972'}, {'number': 4, 'created': '2016-02-24 14:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/338daa7ea09c4a94236fa1b9d845aeb1f37e55a8', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972'}, {'number': 5, 'created': '2016-03-09 11:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/41906d33c65f61fd36282eec9fb317ad65f91b3f', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972'}, {'number': 6, 'created': '2016-03-09 16:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bbc3a9ea65ca44de2884534d233c64a0c83742ce', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972'}, {'number': 7, 'created': '2016-03-21 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3bff11e04a6732697d0ad27a58f61b7eff17d283', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972'}, {'number': 8, 'created': '2016-05-17 15:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e50a36f72e4184e84956e3508943f80e8ad7d639', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972\n'}, {'number': 9, 'created': '2016-05-31 13:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2cb771d72cb61dd28a7932e63ded74b02f890e5d', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972\n'}, {'number': 10, 'created': '2016-06-01 10:14:41.000000000', 'files': ['ceilometer/storage/impl_mongodb.py', 'ceilometer/event/storage/impl_mongodb.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d7a223efed91f644b0d519b429c0f98522e3a9d9', 'message': '[MongoDB] exchange compound index with single field indexes\n\nNow we create compound indexes in MongoDB collections. And we need to\nexchange them with single field indexes because compound indexes do not work\nfor queries without compound index\'s ""prefix"" among query parameters.\n\nChange-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b\nCloses-bug: #1540972\n'}]",11,276262,d7a223efed91f644b0d519b429c0f98522e3a9d9,57,8,10,10987,,,0,"[MongoDB] exchange compound index with single field indexes

Now we create compound indexes in MongoDB collections. And we need to
exchange them with single field indexes because compound indexes do not work
for queries without compound index's ""prefix"" among query parameters.

Change-Id: I3f67dd9108b9cf8bc1f95031747914c8f0b21a4b
Closes-bug: #1540972
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/62/276262/10 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/storage/impl_mongodb.py', 'ceilometer/event/storage/impl_mongodb.py']",2,8256ecb1576067c9c2c2bc3deb883b92eaea73df,ttl_index," self.db.event.create_index([('event_type', pymongo.ASCENDING)]) self.db.event.create_index([('timestamp', pymongo.ASCENDING)])"," self.db.event.create_index( [('event_type', pymongo.ASCENDING), ('timestamp', pymongo.ASCENDING)], name='event_type_idx' )",15,31
openstack%2Ftripleo-ci~master~Ife39af526927cbba16654b08e7010966eae1751f,openstack/tripleo-ci,master,Ife39af526927cbba16654b08e7010966eae1751f,WIP - Deploy TripleO with Puppet 4,ABANDONED,2016-09-15 23:09:55.000000000,2016-11-29 22:58:01.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-09-15 23:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1b0f74bb6c140273c61bc0695914834a2c7d283c', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 2, 'created': '2016-09-16 00:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3902a4b0cea113930b7cc359a97d573593736ad', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 3, 'created': '2016-09-20 16:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ee3bc55f25d19874b2316da9ca609bf6f7e0e62', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 4, 'created': '2016-09-20 17:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbd4341da4210079b8633e4004ec717728a8f664', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 5, 'created': '2016-09-20 17:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ccf947b6dbd741ed7fa323bf7c5c51b11fdca15', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nboo\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 6, 'created': '2016-09-20 18:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/03f20343faeed97650ca2849d8ee7a2ad238d908', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 7, 'created': '2016-09-20 18:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/92927a1d67ade7c9ed46c1ad17a122362d506774', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 8, 'created': '2016-09-20 19:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/870b67ebc070de87aa1fa5bce534fd462dca15b9', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\nboo\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 9, 'created': '2016-09-20 19:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7406f85719e6f9e771cc06dcfd75a366558a9d1e', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I4cf4a04bddb8f042e8e8f7e1d1b69f846c533e3b\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 10, 'created': '2016-09-20 20:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7196542dfdef1ce51b356932c5d16f7dae5dc53e', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\nbooooo\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I4cf4a04bddb8f042e8e8f7e1d1b69f846c533e3b\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 11, 'created': '2016-09-20 21:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/21714ada30e19d94a06b3e4955b42bbb4971f80e', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\nbooooo\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I08059431b97890596f2e754411feece8df62efc0\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 12, 'created': '2016-09-20 22:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/169d202839844b3ed6c0124ab2df5516c2902257', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I08059431b97890596f2e754411feece8df62efc0\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 13, 'created': '2016-09-20 23:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c403ff4d28ca143ddc2a6e3d3c919238007e408a', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I08059431b97890596f2e754411feece8df62efc0\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 14, 'created': '2016-09-21 00:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb04327408c4f315cc71fa10aaefd1feca8dd7a4', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I08059431b97890596f2e754411feece8df62efc0\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 15, 'created': '2016-09-21 01:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1890a1824b8cc32d45fe12c02619fc0cb1f56d1f', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I08059431b97890596f2e754411feece8df62efc0\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 16, 'created': '2016-09-21 02:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a440ab35ea6e537e07ff64a3a82d65e8056774ad', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I08059431b97890596f2e754411feece8df62efc0\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 17, 'created': '2016-09-21 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6bb3eb31bfa111a65d8912c8060e6945eb12e9e5', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I4cf4a04bddb8f042e8e8f7e1d1b69f846c533e3b\nDepends-On: Ie9227d7adb58ea3c791aa459a1ab5b17ad935919\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 18, 'created': '2016-09-21 13:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/92ca5b38e643c7b94aa1394a1c11379143652067', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I4cf4a04bddb8f042e8e8f7e1d1b69f846c533e3b\nDepends-On: Ie9227d7adb58ea3c791aa459a1ab5b17ad935919\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 19, 'created': '2016-09-21 19:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c296788f97af9fd211a08a5d2f4a138c4e812fd', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I50cea96d45e0eb46c19040d9a7105ab72c2dbef7\nDepends-On: Ie9227d7adb58ea3c791aa459a1ab5b17ad935919\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 20, 'created': '2016-09-21 20:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1a59d61efd6ed6203e2210476f19a902b2235f74', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nboo\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I50cea96d45e0eb46c19040d9a7105ab72c2dbef7\nDepends-On: Ie9227d7adb58ea3c791aa459a1ab5b17ad935919\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 21, 'created': '2016-09-22 12:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93ffb1193d3de964fe54cbca366665c3af649691', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nboo\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I50cea96d45e0eb46c19040d9a7105ab72c2dbef7\nDepends-On: Ie9227d7adb58ea3c791aa459a1ab5b17ad935919\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 22, 'created': '2016-09-22 23:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/701ce155fd7d4231fdf3c2d2510239d6527fd47f', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nboo\nDepends-On: Idaf36204d12c0c8730451b65babde3a7b935d673\nDepends-On: I50cea96d45e0eb46c19040d9a7105ab72c2dbef7\nDepends-On: Ie9227d7adb58ea3c791aa459a1ab5b17ad935919\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 23, 'created': '2016-09-26 11:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7d978b8603443b45b4930588fb05f253593b75a', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 24, 'created': '2016-09-26 11:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/66571c7c889872a239ae73102393879872b559b4', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 25, 'created': '2016-09-26 11:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/643267fca554882a3f61e5e35d57c84740d63402', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 26, 'created': '2016-09-27 03:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e81590e8d9f14175ea595f0dde3cbdcd2a3ff466', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 27, 'created': '2016-09-28 21:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/720488cc48c9ac3896a42bb65089327f6dc08046', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 28, 'created': '2016-10-03 02:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5dcda8474d451480cc5c282e4bad239387eee910', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 29, 'created': '2016-10-06 02:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/867746855a3a6ba7d43b4f9f177c60f523009edb', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 30, 'created': '2016-10-07 15:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/36f9c970c406cfe67196f5c27bd3fbbab8a61741', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 31, 'created': '2016-10-07 19:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/41b1b4a2677424042e5b89396356d68a13273538', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: I70037889e499846460357928f8637a35ac97bc7a\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 32, 'created': '2016-10-16 22:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d350f7b6965036b57909953f7ecbcaa9e5331954', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: I70037889e499846460357928f8637a35ac97bc7a\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 33, 'created': '2016-10-19 08:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8399b1473ed8b7a1c8bfb9692bb3702099b934fd', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: I70037889e499846460357928f8637a35ac97bc7a\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 34, 'created': '2016-10-21 21:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/73f0e7054eda1a4b8a962271d260c30fc8acf16e', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: I70037889e499846460357928f8637a35ac97bc7a\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 35, 'created': '2016-10-31 10:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02b93dbed8651107dcc44f922844c6896f89281d', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: I70037889e499846460357928f8637a35ac97bc7a\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 36, 'created': '2016-11-01 12:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb54f7b837f715d8cb8faa1b430646a4383b0b87', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: I70037889e499846460357928f8637a35ac97bc7a\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 37, 'created': '2016-11-01 12:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c76be20bfeef3c4d40ddffe03814b6bd6fe2d3d', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 38, 'created': '2016-11-21 00:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8242dea639d5b876a08b2c45f8e514879fbec578', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 39, 'created': '2016-11-21 20:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/46b713a4752735861cb05cbf75169e2dcf1726e5', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Iec4705d6b785a40ccf6f43809b94b726ccd47fef\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 40, 'created': '2016-11-23 15:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0402b3e64cf7aa762e6ae5bbcdea51755af3d43b', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nDepends-On: Iec4705d6b785a40ccf6f43809b94b726ccd47fef\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 41, 'created': '2016-11-23 15:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ca50c38504678bc6cbef882094f178918fa03fbf', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}, {'number': 42, 'created': '2016-11-24 15:10:59.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/134ea22a6fcfe368997516e8b386d67b103abc44', 'message': 'WIP - Deploy TripleO with Puppet 4\n\nThis patch will be used to test how TripleO works with Puppet 4.\nMy goal is to make it working during Ocata cycle.\n\nChange-Id: Ife39af526927cbba16654b08e7010966eae1751f\n'}]",0,371209,134ea22a6fcfe368997516e8b386d67b103abc44,166,3,42,3153,,,0,"WIP - Deploy TripleO with Puppet 4

This patch will be used to test how TripleO works with Puppet 4.
My goal is to make it working during Ocata cycle.

Change-Id: Ife39af526927cbba16654b08e7010966eae1751f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/09/371209/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,1b0f74bb6c140273c61bc0695914834a2c7d283c,tripleo/puppet4, curl https://copr.fedorainfracloud.org/coprs/hguemar/puppet4-el7/repo/epel-7/hguemar-puppet4-el7-epel-7.repo | sudo tee -a /etc/yum.repos.d/hguemar-puppet4-el7-epel-7.repo >/dev/null,,1,0
openstack%2Fpuppet-tripleo~master~I1366d17762bedfe03180be921a60c9c695427c67,openstack/puppet-tripleo,master,I1366d17762bedfe03180be921a60c9c695427c67,PoC with openvswitch - Composable service validation within profiles,ABANDONED,2016-07-14 14:32:15.000000000,2016-11-29 22:57:50.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}]","[{'number': 1, 'created': '2016-07-14 14:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a0b8b548796ff2043300791bfe7976be30ef9573', 'message': 'PoC with openvswitch - Composable service validation within profiles\n\nWhen deploying Open-vSwitch with Puppet during Step 4, validate OVS is\nactually running at the end of the step and fail if not.\n\nChange-Id: I1366d17762bedfe03180be921a60c9c695427c67\n'}, {'number': 2, 'created': '2016-07-14 16:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/27616ba8f258bd3e9fdeda541f5bf7014eeb9712', 'message': 'PoC with openvswitch - Composable service validation within profiles\n\nWhen deploying Open-vSwitch with Puppet during Step 4, validate OVS is\nactually running at the end of the step and fail if not.\n\nDepends-On: I43c9eff8516ea562bf9bde8d5651ddceeb496163\nChange-Id: I1366d17762bedfe03180be921a60c9c695427c67\n'}, {'number': 3, 'created': '2016-07-14 20:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f24a6b0972629262f05cddd44570a9139bf4c2d8', 'message': 'PoC with openvswitch - Composable service validation within profiles\n\nWhen deploying Open-vSwitch with Puppet during Step 4, validate OVS is\nactually running at the end of the step and fail if not.\n\nDepends-On: I43c9eff8516ea562bf9bde8d5651ddceeb496163\nChange-Id: I1366d17762bedfe03180be921a60c9c695427c67\n'}, {'number': 4, 'created': '2016-07-14 20:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ccd26220e4729cc4c878df863112772f391fe37c', 'message': 'PoC with openvswitch - Composable service validation within profiles\n\nWhen deploying Open-vSwitch with Puppet during Step 4, validate OVS is\nactually running at the end of the step and fail if not.\n\nDepends-On: I43c9eff8516ea562bf9bde8d5651ddceeb496163\nChange-Id: I1366d17762bedfe03180be921a60c9c695427c67\n'}, {'number': 5, 'created': '2016-07-15 00:09:01.000000000', 'files': ['manifests/profile/base/neutron/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/79f0113512e3284ca43c5edfda66533f05bcbc7f', 'message': 'PoC with openvswitch - Composable service validation within profiles\n\nWhen deploying Open-vSwitch with Puppet during Step 4, validate OVS is\nactually running at the end of the step and fail if not.\n\nDepends-On: I43c9eff8516ea562bf9bde8d5651ddceeb496163\nChange-Id: I1366d17762bedfe03180be921a60c9c695427c67\n'}]",0,342202,79f0113512e3284ca43c5edfda66533f05bcbc7f,16,4,5,3153,,,0,"PoC with openvswitch - Composable service validation within profiles

When deploying Open-vSwitch with Puppet during Step 4, validate OVS is
actually running at the end of the step and fail if not.

Depends-On: I43c9eff8516ea562bf9bde8d5651ddceeb496163
Change-Id: I1366d17762bedfe03180be921a60c9c695427c67
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/342202/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/ovs.pp'],1,a0b8b548796ff2043300791bfe7976be30ef9573,valid/vswitch," $validation_options_hash = { 'openvswitch' => { 'command' => 'ovs-vsctl show | grep br-int', } } create_resources( 'openstacklib::service_validation', $validation_options_hash, { 'subscribe' => 'Service[openvswitch]' } )",,11,0
openstack%2Ftripleo-ci~master~I8b859331ef03471efaf5e3f4fc451b1d0c19edfc,openstack/tripleo-ci,master,I8b859331ef03471efaf5e3f4fc451b1d0c19edfc,scenario001: deploy Ceph,ABANDONED,2016-09-07 15:10:42.000000000,2016-11-29 22:57:30.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-09-07 15:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f547ae7e0ffefa3b0bcc154711852ddcfae890cf', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 2, 'created': '2016-09-07 15:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/506f9d8316fc53b01c3408846534c59da11c899b', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 3, 'created': '2016-09-07 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/128976bd2dd5e59a9407956d7c9acfc2ed62085d', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 4, 'created': '2016-09-08 02:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f0dfe326e1af4f177f3eb8c315801f23a43bc50b', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 5, 'created': '2016-09-08 02:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ac957c194992aa508e0efd1ddffcacd7015cb524', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nDepends-On: Iaa668cd567b2eee9ebb250982d57b5696dbf8ed1\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 6, 'created': '2016-09-08 12:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/818de286c336388fcfadf79319c2a4f0e50b9cde', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nDepends-On: Iaa668cd567b2eee9ebb250982d57b5696dbf8ed1\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 7, 'created': '2016-09-08 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/acba1f269b0cf80e75c14506861acf413a317580', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 8, 'created': '2016-09-08 23:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7e521a10d39c603bf7409792bde5620035c14a6c', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 9, 'created': '2016-09-09 12:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ce252063a84e1114ae3047e839f577e8b5ac9ea', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 10, 'created': '2016-09-21 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a5df20136e8b21df985b851acc5281b180754819', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}, {'number': 11, 'created': '2016-09-23 18:33:57.000000000', 'files': ['test-environments/scenario001-multinode.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cc6e977f59568622400e0e592cbf6eb437085452', 'message': 'scenario001: deploy Ceph\n\nAdd Ceph to scenario001 and use it as a backend for Nova, Glance and\nGnocchi.\n\nChange-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc\n'}]",3,366810,cc6e977f59568622400e0e592cbf6eb437085452,40,5,11,3153,,,0,"scenario001: deploy Ceph

Add Ceph to scenario001 and use it as a backend for Nova, Glance and
Gnocchi.

Change-Id: I8b859331ef03471efaf5e3f4fc451b1d0c19edfc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/366810/11 && git format-patch -1 --stdout FETCH_HEAD,['test-environments/scenario001-multinode.yaml'],1,f547ae7e0ffefa3b0bcc154711852ddcfae890cf,scenario001/ceph, OS::TripleO::Services::CephMon: /usr/share/openstack-tripleo-heat-templates/puppet/services/ceph-mon.yaml OS::TripleO::Services::CephOSD: /usr/share/openstack-tripleo-heat-templates/puppet/services/ceph-osd.yaml OS::TripleO::Services::CephClient: /usr/share/openstack-tripleo-heat-templates/puppet/services/ceph-client.yamlparameter_defaults: - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephOSD - OS::TripleO::Services::CephClient #NOTE: These ID's and keys should be regenerated for # a production deployment. What is here is suitable for # developer and CI testing only. CephClusterFSID: '4b5c8c0a-ff60-454b-a1b4-9747aa737d19' CephMonKey: 'AQC+Ox1VmEr3BxAALZejqeHj50Nj6wJDvs96OQ==' CephAdminKey: 'AQDLOh1VgEp6FRAAFzT7Zw+Y9V6JJExQAsRnRQ==' CephClientKey: 'AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw==' NovaEnableRbdBackend: true CinderEnableRbdBackend: true CinderBackupBackend: ceph GlanceBackend: rbd GnocchiBackend: rbd CinderEnableIscsiBackend: false, # we don't deploy Swift so we switch to file backend. GlanceBackend: 'file' GnocchiBackend: 'file',20,3
openstack%2Fceilometer~master~I98f44305a61355769b80869746e8faf9142e7cf6,openstack/ceilometer,master,I98f44305a61355769b80869746e8faf9142e7cf6,cleanup gnocchi mapping,MERGED,2016-10-18 16:54:02.000000000,2016-11-29 22:56:26.000000000,2016-11-29 22:56:26.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 22752}, {'_account_id': 23360}]","[{'number': 1, 'created': '2016-10-18 16:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/05802fe2b0281d5934fb55e921067c1844ae4022', 'message': 'cleanup gnocchi mappings\n\n- instance_host metdata from pollster uses name instead of id like\n  host metadata from notification\n- we added some additional network metrics so lets deal with them.\n\nChange-Id: I98f44305a61355769b80869746e8faf9142e7cf6\n'}, {'number': 2, 'created': '2016-11-07 15:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6164ed7445b22220c5e5c402b928eea219306eba', 'message': 'cleanup gnocchi mappings\n\n- instance_host metadata from pollster uses name instead of id like\n  host metadata from notification\n- we added some additional network metrics so lets deal with them.\n\nChange-Id: I98f44305a61355769b80869746e8faf9142e7cf6\n'}, {'number': 3, 'created': '2016-11-07 22:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/648720ae805bdd75602bb76012d008d12335daa1', 'message': 'cleanup gnocchi mappings\n\n- instance_host metadata from pollster uses name instead of id like\n  host metadata from notification\n- we added some additional network metrics so lets deal with them.\n\nCloses-Bug: #1569037\nChange-Id: I98f44305a61355769b80869746e8faf9142e7cf6\n'}, {'number': 4, 'created': '2016-11-07 22:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f197c1216454fe0b6dfb95f2492de5fafa9e6fb5', 'message': 'cleanup gnocchi mappings\n\n- instance_host metadata from pollster uses name instead of id like\n  host metadata from notification\n- we added some additional network metrics so lets deal with them.\n\nCloses-Bug: #1569037\nChange-Id: I98f44305a61355769b80869746e8faf9142e7cf6\n'}, {'number': 5, 'created': '2016-11-29 15:33:38.000000000', 'files': ['ceilometer/dispatcher/data/gnocchi_resources.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dc183cfff2acf51bb361aae46e01e5ccf288cf27', 'message': 'cleanup gnocchi mapping\n\n- instance_host metadata from pollster uses name instead of id like\n  host metadata from notification\n\nCloses-Bug: #1569037\nChange-Id: I98f44305a61355769b80869746e8faf9142e7cf6\n'}]",2,388118,dc183cfff2acf51bb361aae46e01e5ccf288cf27,31,6,5,6537,,,0,"cleanup gnocchi mapping

- instance_host metadata from pollster uses name instead of id like
  host metadata from notification

Closes-Bug: #1569037
Change-Id: I98f44305a61355769b80869746e8faf9142e7cf6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/18/388118/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/ceilometer/gnocchi_resources.yaml'],1,05802fe2b0281d5934fb55e921067c1844ae4022,bug/1569037, host: resource_metadata.(instance_host|host) - 'network.outgoing.packets.drop' - 'network.incoming.packets.drop' - 'network.outgoing.packets.error' - 'network.incoming.packets.error', host: resource_metadata.host,5,1
openstack%2Fmagnum-ui~master~I4db92f0c66f5cb92ca90def0e796899c818b7fec,openstack/magnum-ui,master,I4db92f0c66f5cb92ca90def0e796899c818b7fec,Show team and repo badges on README,MERGED,2016-11-25 11:45:24.000000000,2016-11-29 22:48:51.000000000,2016-11-29 22:48:51.000000000,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 16237}, {'_account_id': 16352}]","[{'number': 1, 'created': '2016-11-25 11:45:24.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/a388fea75f2d8d9968927e2d4365d7c193033a51', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nb'https://gist.github.com/52fa1d697076523e17b9dc7a12470243\\n'\n\nChange-Id: I4db92f0c66f5cb92ca90def0e796899c818b7fec\n""}]",0,402426,a388fea75f2d8d9968927e2d4365d7c193033a51,8,4,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

b'https://gist.github.com/52fa1d697076523e17b9dc7a12470243\n'

Change-Id: I4db92f0c66f5cb92ca90def0e796899c818b7fec
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/26/402426/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a388fea75f2d8d9968927e2d4365d7c193033a51,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/magnum-ui.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Fnetworking-ovn~master~I8251fe542e156c8e8c07ad18d08e19b5cca5aef5,openstack/networking-ovn,master,I8251fe542e156c8e8c07ad18d08e19b5cca5aef5,Improve neutron-ovn-db-sync-util error messages,MERGED,2016-11-17 08:26:15.000000000,2016-11-29 22:48:30.000000000,2016-11-29 22:48:30.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 10237}]","[{'number': 1, 'created': '2016-11-17 08:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/263c9cc20617af06ee5901a5a3687e30f05ce6e8', 'message': 'Improve neutron-ovn-db-sync-util error messages\n\nChange-Id: I8251fe542e156c8e8c07ad18d08e19b5cca5aef5\nCloses-Bug: 1621350\n'}, {'number': 2, 'created': '2016-11-18 05:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/119fff13d6aea943b7794cf1c03dce8df87808de', 'message': 'Improve neutron-ovn-db-sync-util error messages\n\nChange-Id: I8251fe542e156c8e8c07ad18d08e19b5cca5aef5\nCloses-Bug: 1621350\n'}, {'number': 3, 'created': '2016-11-23 08:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/86c40070a785aa1fdc21c4e4b6027aa9a24324b5', 'message': 'Improve neutron-ovn-db-sync-util error messages\n\nChange-Id: I8251fe542e156c8e8c07ad18d08e19b5cca5aef5\nCloses-Bug: 1621350\n'}, {'number': 4, 'created': '2016-11-29 02:23:59.000000000', 'files': ['networking_ovn/cmd/neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/60fa7af1e82ea9eba313a596eb3ff7c177f8242c', 'message': 'Improve neutron-ovn-db-sync-util error messages\n\nChange-Id: I8251fe542e156c8e8c07ad18d08e19b5cca5aef5\nCloses-Bug: 1621350\n'}]",0,398809,60fa7af1e82ea9eba313a596eb3ff7c177f8242c,26,3,4,21550,,,0,"Improve neutron-ovn-db-sync-util error messages

Change-Id: I8251fe542e156c8e8c07ad18d08e19b5cca5aef5
Closes-Bug: 1621350
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/09/398809/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/cmd/neutron_ovn_db_sync_util.py'],1,263c9cc20617af06ee5901a5a3687e30f05ce6e8,bug/1621350, if not cfg.CONF.ml2.mechanism_drivers: LOG.error(_LE('please use --config-file to specify ' 'neutron and ml2 configuration file.')) return,,4,0
openstack%2Fsearchlight-ui~master~If74302207465a2e3dbd7362280bde49f679a2b8a,openstack/searchlight-ui,master,If74302207465a2e3dbd7362280bde49f679a2b8a,Show team and repo badges on README,MERGED,2016-11-25 11:58:10.000000000,2016-11-29 22:47:11.000000000,2016-11-29 22:47:11.000000000,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 10063}]","[{'number': 1, 'created': '2016-11-25 11:58:10.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/6f2a2d356b4c61c1847e428e783f14e5235ee580', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nb'https://gist.github.com/5ef3f5ccd15dab0eb09b2d309c413ba9\\n'\n\nChange-Id: If74302207465a2e3dbd7362280bde49f679a2b8a\n""}]",0,402445,6f2a2d356b4c61c1847e428e783f14e5235ee580,7,3,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

b'https://gist.github.com/5ef3f5ccd15dab0eb09b2d309c413ba9\n'

Change-Id: If74302207465a2e3dbd7362280bde49f679a2b8a
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/45/402445/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6f2a2d356b4c61c1847e428e783f14e5235ee580,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/searchlight-ui.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Fsearchlight-ui~master~I67aa039ab5c416a715b77ba9057969b9a1062bef,openstack/searchlight-ui,master,I67aa039ab5c416a715b77ba9057969b9a1062bef,Imported Translations from Zanata,MERGED,2016-11-25 07:08:44.000000000,2016-11-29 22:46:52.000000000,2016-11-29 22:46:52.000000000,"[{'_account_id': 3}, {'_account_id': 7665}, {'_account_id': 9576}]","[{'number': 1, 'created': '2016-11-25 07:08:44.000000000', 'files': ['searchlight_ui/locale/cs/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/2d57b937d5676962925fe598e2fc378f3c549d4f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I67aa039ab5c416a715b77ba9057969b9a1062bef\n'}]",0,402319,2d57b937d5676962925fe598e2fc378f3c549d4f,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I67aa039ab5c416a715b77ba9057969b9a1062bef
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/19/402319/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight_ui/locale/cs/LC_MESSAGES/djangojs.po'],1,2d57b937d5676962925fe598e2fc378f3c549d4f,zanata/translations,"# OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Zbynk Schwarz <zbynek.schwarz@gmail.com>, 2015. #zanata # Alex Eng <loones1595@gmail.com>, 2016. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # Lenka Huskov <lenka.husakova@ultimum.io>, 2016. #zanata # Stanislav Ulrych <stanislav.ulrych@ultimum.io>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: searchlight-ui 2.0.0.0b2.dev3\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2016-11-21 19:24+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-11-24 09:32+0000\n"" ""Last-Translator: Alex Eng <loones1595@gmail.com>\n"" ""Language-Team: Czech\n"" ""Language: cs\n"" ""X-Generator: Zanata 3.7.3\n"" ""Plural-Forms: nplurals=3; plural=(n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2\n"" #, python-format msgid ""%(resourceType)s: %(searchFacet)s"" msgstr ""%(resourceType)s: %(searchFacet)s"" #, python-format msgid ""%(total)s total results"" msgstr ""%(total)s vsledk celkem"" #, python-format msgid ""(%(doc_count)s)"" msgstr ""(%(doc_count)s)"" msgid ""-"" msgstr ""-"" msgid """" ""A snapshot is an image which preserves the disk state of a running instance."" msgstr ""Snapshot je obraz zachovvajc stav disku bc instance"" #, python-format msgid ""ALLOW %(type)s %(direction)s %(target)s"" msgstr ""ALLOW %(type)s %(direction)s %(target)s"" #, python-format msgid ""ALLOW %(type)s %(ports)s %(direction)s %(target)s"" msgstr ""ALLOW %(type)s %(ports)s %(direction)s %(target)s"" msgid ""ANY"" msgstr ""JAKKOLI"" msgid ""Action"" msgstr ""innost"" msgid ""Action Log"" msgstr ""Log innost"" msgid ""Actions"" msgstr ""innosti"" msgid ""Active"" msgstr ""Aktivn"" msgid ""Addresses"" msgstr ""Adresy"" msgid ""Admin State"" msgstr ""Stav sprvce"" msgid ""Alphabetical Name"" msgstr ""Abecedn poad"" msgid ""Attached Device"" msgstr ""Pipojen zazen"" msgid ""Attached Device ID"" msgstr ""ID pipojenho zazen"" msgid ""Attached To"" msgstr ""Pipojeno k"" msgid ""Availability Zone"" msgstr ""Zna dostupnosti"" msgid ""Availability Zones"" msgstr ""Zny dostupnosti"" msgid ""Available"" msgstr ""Dostupn"" msgid ""Blocked"" msgstr ""Blokovno"" msgid ""Boolean Operators"" msgstr ""Boolovsk opertory"" msgid ""Bootable"" msgstr ""Zavediteln"" msgid ""Build"" msgstr ""Sestavit"" msgid ""Building"" msgstr ""Sestavovn"" msgid ""Cancel"" msgstr ""Zruit"" msgid ""Close"" msgstr ""Zavt"" msgid ""Code"" msgstr ""Kd"" msgid ""Confirm Resize"" msgstr ""Potvrdit zmnu velikosti"" msgid ""Confirm or Revert Resize/Migrate"" msgstr ""Potvrdit nebo Vrtit zpt Zmnu velikosti/Pesun"" msgid ""Connect"" msgstr ""Pipojit"" msgid ""Connect in a new window"" msgstr ""Pipojit v novm okn"" msgid ""Console"" msgstr ""Konzole"" msgid ""Console is currently unavailable. Please try again later."" msgstr ""Konzole je nyn nedostupn. Zkuste to prosm pozdji."" msgid ""Crashed"" msgstr ""Spadlo"" msgid ""Create"" msgstr ""Vytvoit"" msgid ""Create Instance"" msgstr ""Vytvoit instanci"" msgid ""Create Instance Snapshot"" msgstr ""Vytvoit snapshot instance"" msgid ""Create Snapshot"" msgstr ""Vytvoit snapshot"" msgid ""Created"" msgstr ""Vytvoeno"" msgid ""Created At"" msgstr ""Vytvoeno"" msgid ""Creating Snapshot"" msgstr ""Vytven snmku"" msgid ""DNS Domain"" msgstr ""DNS domna"" msgid ""DNS Domains"" msgstr ""DNS domny"" msgid ""DNS Name"" msgstr ""Nzev DNS"" msgid ""DNS Nameservers"" msgstr ""Servery DNS"" msgid ""DNS Record"" msgstr ""DNS zznam"" msgid ""DNS Records"" msgstr ""DNS zznamy"" msgid ""Default Network"" msgstr ""Vchoz s"" msgid ""Delete"" msgstr ""Smazat"" msgid ""Delete Instance"" msgid_plural ""Delete Instances"" msgstr[0] ""Smazat instanci"" msgstr[1] ""Smazat instance"" msgstr[2] ""Smazat instance"" msgid ""Deleted"" msgstr ""Smazno"" #, python-format msgid ""Deleted Instance: %s."" msgid_plural ""Deleted Instances: %s."" msgstr[0] ""Smazna instance: %s."" msgstr[1] ""Smazany instance: %s."" msgstr[2] ""Smazano instanc: %s."" msgid ""Description"" msgstr ""Popis"" msgid ""Description:"" msgstr ""Popis:"" msgid ""Details"" msgstr ""Detaily"" msgid ""Direction"" msgstr ""Smr"" msgid ""Disk"" msgstr ""Disk"" #, python-format msgid ""Displaying %(numberDisplayed)s of %(total)s total results"" msgstr ""Zobrazeno %(numberDisplayed)s z %(total)s vsledk celkem"" msgid ""Distributed"" msgstr ""Distribuovan"" msgid ""Down"" msgstr ""Zaven"" msgid ""Enable DHCP"" msgstr ""Povolit DHCP"" msgid ""Encrypted"" msgstr ""Zaifrovno"" msgid ""Error"" msgstr ""Chyba"" #, python-format msgid ""Error initializing actions for plugin %(type)s: "" msgstr ""Chyba pi inicializaci akc pro plugin %(type)s: "" msgid ""Ether Type"" msgstr ""Typ ethernetu"" msgid ""External"" msgstr ""Extern"" msgid ""External Network"" msgstr ""Extern s"" msgid ""Failed"" msgstr ""Selhalo"" msgid ""Fault"" msgstr ""Chyba"" msgid ""Fixed IPs"" msgstr ""Statick IP"" msgid ""Flavor"" msgstr ""Typ"" msgid ""Flavor ID"" msgstr ""ID Typu"" msgid ""Flavor Name"" msgstr ""Nzev typu"" msgid ""Flavors"" msgstr ""Typy"" msgid ""Floating IP"" msgstr ""Plovouc IP"" msgid ""Floating IP Address"" msgstr ""Floating IP adresa"" msgid ""Floating IPs"" msgstr ""Plovouc IP adresy"" msgid ""Gateway IP"" msgstr ""IP gateway"" msgid ""Hard Reboot"" msgstr ""Studen restart"" msgid ""High Availability"" msgstr ""Vysok dostupnost"" msgid ""Host"" msgstr ""Hostitel"" msgid ""Hostname"" msgstr ""Nzev hostitele"" msgid ""Hypervisor"" msgstr ""Hypervizor"" msgid ""Hypervisors"" msgstr ""Hypervizory"" msgid ""ID"" msgstr ""ID"" msgid ""IP Addresses"" msgstr ""IP adresy"" msgid ""IP Version"" msgstr ""Verze IP"" msgid """" ""If the console is not responding to keyboard input, click the status bar in "" ""the screen below."" msgstr """" ""Pokud konzole nereaguje na vstup z klvesnice: kliknte na stavovou litu "" ""ne."" msgid ""Image"" msgstr ""Obraz"" msgid ""Instance"" msgstr ""Instance"" msgid ""Instance Action Log"" msgstr ""Log innost instance"" msgid ""Instance Console"" msgstr ""Konzole instance"" msgid ""Instance Console Log"" msgstr ""Log konzole instance"" msgid ""Instances"" msgstr ""Instance"" msgid ""Key Pair"" msgstr ""Kl"" msgid ""Key Pair Name"" msgstr ""Nzev kle"" msgid ""Key Pairs"" msgstr ""Kle"" msgid ""Killed"" msgstr ""Killed"" msgid ""Load Balancer Pool"" msgstr ""Zsobnk load balancer"" msgid ""Load Balancer Pool Member"" msgstr ""len load balancer zsobnku"" msgid ""Load Balancer Pool Members"" msgstr ""lenov load balancer zsobnku"" msgid ""Load Balancer Pools"" msgstr ""Zsobnky load balancer"" msgid ""Loading"" msgstr ""Natn"" msgid ""Log"" msgstr ""Log"" msgid ""Log Length"" msgstr ""Dlka logu"" msgid ""MTU"" msgstr ""MTU"" msgid ""Mapped Fixed IP Address"" msgstr ""Mapovan pevn IP adresa"" msgid ""Max Port"" msgstr ""Nejvy port"" msgid ""Members"" msgstr ""lenov"" msgid ""Message"" msgstr ""Zprva"" msgid ""Metadata"" msgstr ""Metadata"" msgid ""Metadata Definition"" msgstr ""Definice metadat"" msgid ""Metadata Definitions"" msgstr ""Definice metadat"" msgid ""Migrating"" msgstr ""Pesunovn"" msgid ""Min Port"" msgstr ""Nejni port"" msgid ""More Actions"" msgstr ""Dal innosti"" msgid ""More Actions..."" msgstr ""Dal innosti..."" msgid ""Name"" msgstr ""Nzev"" msgid ""Network"" msgstr ""S"" msgid ""Network Address"" msgstr ""Sov adresa"" msgid ""Network Health Monitor"" msgstr ""Sov monitor zdrav"" msgid ""Network Health Monitors"" msgstr ""Sov monitory zdrav"" msgid ""Network ID"" msgstr ""ID st"" msgid ""Networks"" msgstr ""St"" msgid ""Newest"" msgstr ""Nejnovj"" msgid ""No State"" msgstr ""dn stav"" msgid ""No Volumes Attached"" msgstr ""dn pipojen svazky"" msgid ""No rules defined"" msgstr ""dn pravidla nezadna."" msgid ""Object"" msgstr ""Objekt"" msgid ""Object Account"" msgstr ""et objektu"" msgid ""Object Accounts"" msgstr ""ty objekt"" msgid ""Object Container"" msgstr ""Kontejner"" msgid ""Object Containers"" msgstr ""Kontejnery"" msgid ""Objects"" msgstr ""Objekty"" msgid ""Oldest"" msgstr ""Nejstar"" msgid ""Overview"" msgstr ""Pehled"" msgid ""Password"" msgstr ""Heslo"" msgid ""Past 10 Minutes"" msgstr ""Poslednch 10 minut"" msgid ""Past Day"" msgstr ""Vera"" msgid ""Past Half Hour"" msgstr ""Posledn plhodina"" msgid ""Past Hour"" msgstr ""Posledn hodina"" msgid ""Past Month"" msgstr ""Msc"" msgid ""Past Week"" msgstr ""Tden"" msgid ""Past Year"" msgstr ""Rok"" msgid ""Pause"" msgstr ""Pozastavit"" msgid ""Paused"" msgstr ""Pozastaveno"" msgid ""Pending Delete"" msgstr ""ek na smazn"" msgid ""Phrases"" msgstr ""Frze"" msgid ""Please Wait"" msgstr ""ekejte prosm"" msgid ""Policies"" msgstr ""Politiky"" msgid ""Pool"" msgstr ""Zsoba"" msgid ""Port"" msgstr ""Port"" msgid ""Port ID"" msgstr ""ID portu"" msgid ""Port Security Enabled"" msgstr ""Bezpenostn port povolen"" msgid ""Ports"" msgstr ""Porty"" msgid ""Power State"" msgstr ""Stav napjen"" msgid ""Project"" msgstr ""Projekt"" msgid ""Project ID"" msgstr ""ID projektu"" msgid ""Protocol"" msgstr ""Protokol"" msgid ""Provider Network Type"" msgstr ""Typ st poskytovatele"" msgid ""Public"" msgstr ""Veejn"" msgid ""Queued"" msgstr ""Ve front"" msgid ""RAM"" msgstr ""RAM"" msgid ""Reboot"" msgstr ""Restartovat"" msgid ""Rebuild"" msgstr ""Znovu sestavit"" msgid ""Refresh"" msgstr ""Obnovit"" msgid ""Remote"" msgstr ""Vzdlen"" msgid ""Request"" msgstr ""Poadavek"" msgid ""Rescue"" msgstr ""Zachrnit"" msgid ""Rescued"" msgstr ""Zachrnno"" msgid ""Resize"" msgstr ""Zmnit velikost"" msgid ""Resize/Migrate"" msgstr ""Zmnit velikost/Pesunout"" msgid ""Resized"" msgstr ""Velikost zmnna"" msgid """" ""Results exceeds pagination limit. Please refine your search or\n"" "" increase the limit setting."" msgstr """" ""Poet vsledk pekrauje limit strnkovn. Prosm upravte vae vyhledvn "" ""nebo \n"" "" zvtete nastaven limitu."" msgid ""Resume"" msgstr ""Obnovit"" msgid ""Revert Resize/Migrate"" msgstr ""Vrtit zpt Zmnu velikosti/Migraci"" msgid ""Router"" msgstr ""Router"" msgid ""Router ID"" msgstr ""ID routeru"" msgid ""Routers"" msgstr ""Routery"" msgid ""Rules"" msgstr ""Pravidla"" msgid ""Running"" msgstr ""B"" msgid ""Saving"" msgstr ""Ukldn"" msgid ""Search"" msgstr ""Hledat"" msgid ""Search Settings"" msgstr ""Nastaven vyhledvn"" msgid ""Search all projects"" msgstr ""Hledat ve vech projektech"" msgid ""Security Group"" msgstr ""Bezpenostn skupina"" msgid ""Security Groups"" msgstr ""Bezpenostn skupiny"" msgid ""Server Group"" msgstr ""Skupina serveru"" msgid ""Server Groups"" msgstr ""Skupiny serveru"" msgid ""Shared"" msgstr ""Sdleno"" msgid ""Shared by Me"" msgstr ""Sdleno se mnou"" msgid ""Shared with Me"" msgstr ""Sdleno se mnou"" msgid ""Shelved"" msgstr ""Uskladnno"" msgid ""Shelved Offloaded"" msgstr ""Uskladnno Zt pevedena"" msgid ""Shutdown"" msgstr ""Vypnout"" msgid ""Shutoff"" msgstr ""Vypnout"" msgid ""Size"" msgstr ""Velikost"" #, python-format msgid ""Snapshot %s was successfully created."" msgstr ""Snapshot %s byl spn vytvoen."" msgid ""Snapshot ID"" msgstr ""ID Snapshotu"" msgid ""Snapshot Name"" msgstr ""Nzev snapshotu"" msgid ""Soft Deleted"" msgstr ""Mkce smazno"" msgid ""Soft Reboot"" msgstr ""Mkk restart"" msgid ""Sort"" msgstr ""Seadit"" msgid ""Source Volume ID"" msgstr ""ID zdrojovho svazku"" msgid ""Specs"" msgstr ""Specifikace"" msgid ""Start"" msgstr ""Zatek"" msgid ""Start Time"" msgstr ""as sputn"" msgid ""State"" msgstr ""Stav"" msgid ""Status"" msgstr ""Stav"" msgid ""Stop"" msgstr ""Zastavit"" msgid ""Stopped"" msgstr ""Zastaveno"" msgid ""Subnet"" msgstr ""Pods"" msgid ""Subnets"" msgstr ""Podst"" msgid ""Subnets Associated"" msgstr ""Pipojen podst"" msgid ""Suspend"" msgstr ""Uspat"" msgid ""Suspended"" msgstr ""Uspno"" msgid ""Swap"" msgstr ""Swap"" msgid ""Task State"" msgstr ""Stav lohy"" msgid ""The requested resource was not found."" msgstr ""Poadovan prostedek nebyl nalezen."" msgid ""Transfer"" msgstr ""Penos"" msgid ""Type"" msgstr ""Typ"" #, python-format msgid ""Unable to delete Instance: %s."" msgid_plural ""Unable to delete Instances: %s."" msgstr[0] ""Nelze smazat instanci: %s."" msgstr[1] ""Nelze smazat instance: %s."" msgstr[2] ""Nelze smazat instance: %s."" msgid ""Unable to execute the search."" msgstr ""Nelze provst vyhledvn."" msgid ""Unable to retrieve Searchlight resources types."" msgstr ""Nelze zskat typy prostedk Searchlight."" msgid ""Unavailable"" msgstr ""Nedostupn"" msgid ""Unpause"" msgstr ""Zruit pozastaven"" msgid ""Up"" msgstr ""Oteven"" msgid ""Update Interval (seconds)"" msgstr ""Interval aktualizace (sekund)"" msgid ""Updated"" msgstr ""Aktualizovno"" msgid ""Updated At"" msgstr ""Aktualizovno"" msgid ""User ID"" msgstr ""ID uivatele"" msgid ""VCPUs"" msgstr ""VCPU"" msgid ""Visibility"" msgstr ""Viditelnost"" msgid ""Volume"" msgstr ""Svazek"" msgid ""Volume Backup"" msgstr ""Zloha svazku"" msgid ""Volume Backups"" msgstr ""Zlohy svazku"" msgid ""Volume ID"" msgstr ""ID svazku"" msgid ""Volume Snapshot"" msgstr ""Snapshot svazku"" msgid ""Volume Snapshots"" msgstr ""Snapshoty svazku"" msgid ""Volumes"" msgstr ""Svazky"" msgid ""Volumes Attached"" msgstr ""Pipojen svazky"" #, python-format msgid ""You are not allowed to delete instances: %s"" msgstr ""Nemte oprvnn smazat instance: %s"" msgid ""You are not allowed to perform this request."" msgstr ""Nemte oprvnn provst tuto operaci"" #, python-format msgid ""You have selected \""%s\"". Deleted instance is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted instances are not recoverable."" msgstr[0] ""Vybrali jste \""%s\"". Smazanou instanci nelze obnovit."" msgstr[1] ""Vybrali jste \""%s\"". Smazan instance nelze obnovit."" msgstr[2] ""Vybrali jste \""%s\"". Smazan instance nelze obnovit."" msgid ""default"" msgstr ""vchoz"" msgid ""from"" msgstr ""od"" msgid ""to"" msgstr ""do"" msgid ""{$ table.queryResponse.statusCode | slQueryStatus $}"" msgstr ""{$ table.queryResponse.statusCode | slQueryStatus $}"" ",,804,0
openstack%2Fneutron-lbaas-dashboard~master~Ic50cae6a0ae61eac36961142565bbc69fb719c97,openstack/neutron-lbaas-dashboard,master,Ic50cae6a0ae61eac36961142565bbc69fb719c97,Imported Translations from Zanata,MERGED,2016-11-25 06:40:16.000000000,2016-11-29 22:46:45.000000000,2016-11-29 22:46:45.000000000,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 11628}]","[{'number': 1, 'created': '2016-11-25 06:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/ce083c513ec129a5628e8994c5589b5fc394c777', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ic50cae6a0ae61eac36961142565bbc69fb719c97\n'}, {'number': 2, 'created': '2016-11-26 06:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/ea37de34aded28037f4bbd8fda8462fcfb50123e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ic50cae6a0ae61eac36961142565bbc69fb719c97\n'}, {'number': 3, 'created': '2016-11-29 06:41:56.000000000', 'files': ['neutron_lbaas_dashboard/locale/ja/LC_MESSAGES/djangojs.po', 'neutron_lbaas_dashboard/locale/ja/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/9d6eb03f0535098fc4595da069c1491523b1fc45', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ic50cae6a0ae61eac36961142565bbc69fb719c97\n'}]",0,402312,9d6eb03f0535098fc4595da069c1491523b1fc45,12,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ic50cae6a0ae61eac36961142565bbc69fb719c97
",git fetch https://review.opendev.org/openstack/neutron-lbaas-dashboard refs/changes/12/402312/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas_dashboard/locale/ja/LC_MESSAGES/djangojs.po', 'neutron_lbaas_dashboard/locale/ja/LC_MESSAGES/django.po']",2,ce083c513ec129a5628e8994c5589b5fc394c777,zanata/translations,"""Project-Id-Version: neutron-lbaas-dashboard 1.0.1.dev37\n""""POT-Creation-Date: 2016-11-22 18:18+0000\n""""PO-Revision-Date: 2016-11-22 08:26+0000\n""msgid ""Certificate Chain (Optional)"" msgstr """" msgstr """"msgid ""Health Check Interval (in seconds)"" msgstr ""()"" msgid ""Intermediate Chain Certificates"" msgstr """" msgid ""LB Details"" msgstr ""LB"" msgid ""Least Connection"" msgstr """" msgid ""Least Sessions"" msgstr """" msgid ""Provide Load Balancer Description."" msgstr """" msgid ""Receive String"" msgstr """" msgid ""Retry count before markdown"" msgstr """" msgid ""Select from existing VIP IPs"" msgstr ""IPIPs"" msgid ""Send String"" msgstr """" ","""Project-Id-Version: neutron-lbaas-dashboard 1.0.1.dev36\n""""POT-Creation-Date: 2016-11-17 04:42+0000\n""""PO-Revision-Date: 2016-11-21 01:46+0000\n""msgstr """"",687,4
openstack%2Fzaqar-ui~master~I697a4e37e16bf682daf6526ffdc8c1c9790f8142,openstack/zaqar-ui,master,I697a4e37e16bf682daf6526ffdc8c1c9790f8142,Show team and repo badges on README,MERGED,2016-11-25 15:36:31.000000000,2016-11-29 22:46:38.000000000,2016-11-29 22:46:38.000000000,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 16237}, {'_account_id': 16352}]","[{'number': 1, 'created': '2016-11-25 15:36:31.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/4c10e97e765c5957642ea6dcccd328520b77f27a', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nhttps://gist.github.com/ce52e7222bb63b5cdb4e6d523ea5096e\n\nChange-Id: I697a4e37e16bf682daf6526ffdc8c1c9790f8142\n""}]",0,402846,4c10e97e765c5957642ea6dcccd328520b77f27a,8,4,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

https://gist.github.com/ce52e7222bb63b5cdb4e6d523ea5096e

Change-Id: I697a4e37e16bf682daf6526ffdc8c1c9790f8142
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/46/402846/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4c10e97e765c5957642ea6dcccd328520b77f27a,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/zaqar-ui.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Ftacker~master~I870dabfe88f3d9bc2b0d067d79581941fd13d2e2,openstack/tacker,master,I870dabfe88f3d9bc2b0d067d79581941fd13d2e2,Small correction in glance cli of openwrt document,MERGED,2016-11-08 12:43:51.000000000,2016-11-29 22:45:09.000000000,2016-11-29 22:45:09.000000000,"[{'_account_id': 3}, {'_account_id': 6348}, {'_account_id': 10487}, {'_account_id': 13380}, {'_account_id': 15950}, {'_account_id': 16237}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 22588}, {'_account_id': 23209}]","[{'number': 1, 'created': '2016-11-08 12:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f648116622d7e7b92aa574f537788920bc909f0c', 'message': 'Small correction in glance cli of openwrt document\n\nIn this patch I have added --visibility option in\nglance image-create command. without this it is creating\nwith private. And then if we use it for creating VNF,\nit is throwing error ""Image not found"". And also I have added\nopenstack cli\n\nChange-Id: I870dabfe88f3d9bc2b0d067d79581941fd13d2e2\n'}, {'number': 2, 'created': '2016-11-10 03:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6a947e42c20450a3278357268570acf4f581ba46', 'message': 'Small correction in glance cli of openwrt document\n\nIn this patch I have added --visibility option in\nglance image-create command. without this it is creating\nwith private. And then if we use it for creating VNF,\nit is throwing error ""Image not found"". And also I have added\nopenstack cli\n\nChange-Id: I870dabfe88f3d9bc2b0d067d79581941fd13d2e2\n'}, {'number': 3, 'created': '2016-11-15 03:34:14.000000000', 'files': ['doc/source/install/deploy_openwrt.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/979a1c07c7e9caf05a8aad128275bd80b20ce5e7', 'message': 'Small correction in glance cli of openwrt document\n\nIn this patch I have added --visibility option in\nglance image-create command. without this it is creating\nwith private. And then if we use it for creating VNF,\nit is throwing error ""Image not found"". And also I have added\nopenstack cli\n\nChange-Id: I870dabfe88f3d9bc2b0d067d79581941fd13d2e2\n'}]",4,394939,979a1c07c7e9caf05a8aad128275bd80b20ce5e7,24,10,3,16237,,,0,"Small correction in glance cli of openwrt document

In this patch I have added --visibility option in
glance image-create command. without this it is creating
with private. And then if we use it for creating VNF,
it is throwing error ""Image not found"". And also I have added
openstack cli

Change-Id: I870dabfe88f3d9bc2b0d067d79581941fd13d2e2
",git fetch https://review.opendev.org/openstack/tacker refs/changes/39/394939/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/deploy_openwrt.rst'],1,f648116622d7e7b92aa574f537788920bc909f0c,openwrt-doc, glance image-create --name OpenWRT \ --disk-format qcow2 \ --container-format bare \ --progress \ --file /path_to_image/openwrt-x86-kvm_guest-combined-ext4.img \ --visibility public .. .. code-block:: console openstack image create OpenWRT --disk-format qcow2 \ --container-format bare \ --file /path_to_image/openwrt-x86-kvm_guest-combined-ext4.img \ --visibility public, glance image-create --name OpenWRT \ --disk-format qcow2 \ --container-format bare \ --progress < openwrt-x86-kvm_guest-combined-ext4.img ,13,4
openstack%2Fgnocchi~master~I4933b99405c6c382b50d7ef5aa28146301ed5f0f,openstack/gnocchi,master,I4933b99405c6c382b50d7ef5aa28146301ed5f0f,storage: split the storage interface,MERGED,2016-11-24 13:12:33.000000000,2016-11-29 22:41:09.000000000,2016-11-29 22:41:09.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2016-11-24 13:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/d1f38a951b9e029d37fb1ad4ecb4d1c42c8d5e96', 'message': 'storage: split the storage interface\n\nChange-Id: I4933b99405c6c382b50d7ef5aa28146301ed5f0f\n'}, {'number': 2, 'created': '2016-11-25 10:19:49.000000000', 'files': ['gnocchi/storage/s3.py', 'gnocchi/tests/storage/test_carbonara.py', 'gnocchi/storage/__init__.py', 'gnocchi/storage/incoming/__init__.py', 'gnocchi/storage/_carbonara.py', 'gnocchi/statsd.py', 'gnocchi/tests/test_rest.py', 'gnocchi/tests/gabbi/fixtures.py', 'gnocchi/rest/__init__.py', 'gnocchi/storage/ceph.py', 'tools/measures_injector.py', 'gnocchi/tests/test_aggregates.py', 'gnocchi/storage/incoming/_carbonara.py', 'gnocchi/storage/swift.py', 'gnocchi/cli.py', 'gnocchi/tests/test_storage.py', 'gnocchi/storage/file.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/e413a93036952245d3cfd56347857b928e61ad4e', 'message': 'storage: split the storage interface\n\nChange-Id: I4933b99405c6c382b50d7ef5aa28146301ed5f0f\n'}]",0,402031,e413a93036952245d3cfd56347857b928e61ad4e,15,3,2,2813,,,0,"storage: split the storage interface

Change-Id: I4933b99405c6c382b50d7ef5aa28146301ed5f0f
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/31/402031/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/storage/s3.py', 'gnocchi/tests/storage/test_carbonara.py', 'gnocchi/storage/__init__.py', 'gnocchi/storage/incoming/__init__.py', 'gnocchi/storage/_carbonara.py', 'gnocchi/statsd.py', 'gnocchi/tests/test_rest.py', 'gnocchi/tests/gabbi/fixtures.py', 'gnocchi/rest/__init__.py', 'gnocchi/storage/ceph.py', 'gnocchi/tests/test_aggregates.py', 'gnocchi/storage/incoming/_carbonara.py', 'gnocchi/storage/swift.py', 'gnocchi/cli.py', 'gnocchi/tests/test_storage.py', 'gnocchi/storage/file.py']",16,d1f38a951b9e029d37fb1ad4ecb4d1c42c8d5e96,sileht/measures-driver,"from gnocchi.storage.incoming import _carbonara as incoming_carbonaraclass FileStorage(_carbonara.CarbonaraBasedStorage, incoming_carbonara.CarbonaraBasedStorage): def delete_unprocessed_measures_for_metric_id(self, metric_id): def process_measure_for_metric(self, metric):","class FileStorage(_carbonara.CarbonaraBasedStorage): def _delete_unprocessed_measures_for_metric_id(self, metric_id): def _process_measure_for_metric(self, metric):",219,138
openstack%2Fcharm-ceilometer-agent~master~Iec5c63b8b11b353e87791a346fb14676ff850dbf,openstack/charm-ceilometer-agent,master,Iec5c63b8b11b353e87791a346fb14676ff850dbf,Sync charmhelpers for Keystone v3 fixes,ABANDONED,2016-11-14 21:57:22.000000000,2016-11-29 22:38:47.000000000,,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-14 21:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/304c61089d22c2050a9a4a8977229e33ea1281ce', 'message': 'Sync charmhelpers\n\nChange-Id: Iec5c63b8b11b353e87791a346fb14676ff850dbf\n'}, {'number': 2, 'created': '2016-11-15 07:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/98008d4e471dc4d5a544eeff4149ecff1b9d9941', 'message': 'Sync charmhelpers for Keystone v3 fixes\n\nNeeded to get admin_domain_name relation data and updated version of\nsection-keystone-authtoken-mitaka\n\nPartial-Bug: 1636098\nChange-Id: Iec5c63b8b11b353e87791a346fb14676ff850dbf\n'}, {'number': 3, 'created': '2016-11-29 13:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/ae21c262889b4354cb723842ba8a365561e6b078', 'message': 'Sync charmhelpers for Keystone v3 fixes\n\nNeeded to get admin_domain_name relation data and updated version of\nsection-keystone-authtoken-mitaka\n\nPartial-Bug: 1636098\nChange-Id: Iec5c63b8b11b353e87791a346fb14676ff850dbf\n'}, {'number': 4, 'created': '2016-11-29 14:28:05.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/670ba5c9f50c7ff9d57c02fa3e390d05975b30e0', 'message': 'Sync charmhelpers for Keystone v3 fixes\n\nNeeded to get admin_domain_name relation data and updated version of\nsection-keystone-authtoken-mitaka\n\nPartial-Bug: 1636098\nChange-Id: Iec5c63b8b11b353e87791a346fb14676ff850dbf\n'}]",0,397389,670ba5c9f50c7ff9d57c02fa3e390d05975b30e0,22,5,4,13686,,,0,"Sync charmhelpers for Keystone v3 fixes

Needed to get admin_domain_name relation data and updated version of
section-keystone-authtoken-mitaka

Partial-Bug: 1636098
Change-Id: Iec5c63b8b11b353e87791a346fb14676ff850dbf
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/89/397389/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/fetch/ubuntu.py']",10,304c61089d22c2050a9a4a8977229e33ea1281ce,bug/1636098," # Ocata 'ocata': 'xenial-updates/ocata', 'xenial-ocata': 'xenial-updates/ocata', 'xenial-ocata/updates': 'xenial-updates/ocata', 'xenial-updates/ocata': 'xenial-updates/ocata', 'ocata/proposed': 'xenial-proposed/ocata', 'xenial-ocata/proposed': 'xenial-proposed/ocata', 'xenial-ocata/newton': 'xenial-proposed/ocata',",,79,3
openstack%2Fpython-novaclient~master~I8be883215f27abb58d15b85e8542cbdf32000bac,openstack/python-novaclient,master,I8be883215f27abb58d15b85e8542cbdf32000bac,Use upper-constraints when running tox,MERGED,2016-11-29 16:08:30.000000000,2016-11-29 22:37:47.000000000,2016-11-29 22:37:47.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-29 16:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4591f13eba45e4888035b3b741928dc2b55bdb26', 'message': 'Use upper-constraints when running tox\n\nThis is basically a copy of the template used in oslo.messaging\nunder change 78f113780510b741bc974c69eb9b0718cd657c1d.\n\nChange-Id: I8be883215f27abb58d15b85e8542cbdf32000bac\n'}, {'number': 2, 'created': '2016-11-29 16:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6e80a5ec4a3959f4bf78d092089200b3a477121b', 'message': 'Use upper-constraints when running tox\n\nThis is basically a copy of the template used in oslo.messaging\nunder change 78f113780510b741bc974c69eb9b0718cd657c1d.\n\nChange-Id: I8be883215f27abb58d15b85e8542cbdf32000bac\n'}, {'number': 3, 'created': '2016-11-29 16:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fd5f2781a8b0421176054180c94071866d544e0f', 'message': 'Use upper-constraints when running tox\n\nThis is basically a copy of the template used in oslo.messaging\nunder change 78f113780510b741bc974c69eb9b0718cd657c1d.\n\nChange-Id: I8be883215f27abb58d15b85e8542cbdf32000bac\n'}, {'number': 4, 'created': '2016-11-29 16:33:39.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c7162854f7ddfc1d31a9356ae040f10e9e9bbec3', 'message': 'Use upper-constraints when running tox\n\nThis is basically a copy of the template used in oslo.messaging\nunder change 78f113780510b741bc974c69eb9b0718cd657c1d.\n\nChange-Id: I8be883215f27abb58d15b85e8542cbdf32000bac\n'}]",0,404302,c7162854f7ddfc1d31a9356ae040f10e9e9bbec3,12,5,4,6873,,,0,"Use upper-constraints when running tox

This is basically a copy of the template used in oslo.messaging
under change 78f113780510b741bc974c69eb9b0718cd657c1d.

Change-Id: I8be883215f27abb58d15b85e8542cbdf32000bac
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/02/404302/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4591f13eba45e4888035b3b741928dc2b55bdb26,use-constraints,minversion = 2.0passenv = ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} BRANCH_NAME=master CLIENT_NAME=python-novaclient deps = -r{toxinidir}/test-requirements.txt,minversion = 1.6install_command = pip install -U {opts} {packages} deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,7,4
openstack%2Fceilometer~master~Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4,openstack/ceilometer,master,Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4,storage: stop using global conf,MERGED,2016-10-13 11:50:54.000000000,2016-11-29 22:34:58.000000000,2016-11-29 22:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 22020}]","[{'number': 1, 'created': '2016-10-13 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c17905c379373e3dd20b8d567cd1077afecb2880', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 2, 'created': '2016-10-13 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1d2a33521cacc03ab611f619caa5a7690414bdbd', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 3, 'created': '2016-10-13 15:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3846bf7c41e070b24026e3e8f078bbbf367a5567', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 4, 'created': '2016-10-13 15:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5eda3310bb34e3ff294932ed1e90753ba6b51f9b', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 5, 'created': '2016-10-13 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d9d4771d754ca11d95d85eb66694dc9957e6ca58', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 6, 'created': '2016-10-14 05:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e3076edc1124d1595247e09d2e56449c584d3976', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 7, 'created': '2016-10-14 06:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e6783e102f0e869547ceaa7062eebb2af106e2f2', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 8, 'created': '2016-10-14 09:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/927b3a2cd725ef805665685039c86b72fc60f9f8', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 9, 'created': '2016-10-14 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f479ee724d85a2c9e9f689d55784defbdb49111f', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 10, 'created': '2016-10-14 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ca40ca0665d84edfb9a960898f8391e5a99ea3f4', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 11, 'created': '2016-10-14 21:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e441556014467e4bd28b177f268db724eb9a7f0f', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 12, 'created': '2016-11-02 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2ee037b03308833ad6da245cec19d1627e7725b3', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 13, 'created': '2016-11-04 08:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c7c85d1180eb97ef2e9ffadad102a5effd4540fc', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 14, 'created': '2016-11-04 08:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bd66742270fdf6131589538f0c4f69b00994bf62', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 15, 'created': '2016-11-07 10:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b2da135682453cb38d31d7e476ed1d210f8de1ad', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 16, 'created': '2016-11-07 14:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/36d6bb9db0645651caf5ec46a11b609a073a70f8', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 17, 'created': '2016-11-07 16:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/001246f2b4fa91eba6a3d87dbafeaa90b82b1abb', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 18, 'created': '2016-11-21 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1e3a314ea3ff298bc4e3a2a6df94234eda302da3', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 19, 'created': '2016-11-22 13:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/24e93dae7d1a443a8bd12b21e4cf810938abaca8', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 20, 'created': '2016-11-23 20:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/11706b0bf2c7c3a696a89cb0e0f24720a13027f0', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}, {'number': 21, 'created': '2016-11-24 08:00:06.000000000', 'files': ['ceilometer/storage/base.py', 'ceilometer/tests/functional/storage/test_impl_mongodb.py', 'ceilometer/storage/impl_hbase.py', 'ceilometer/storage/hbase/base.py', 'ceilometer/tests/functional/storage/test_impl_log.py', 'ceilometer/storage/mongo/utils.py', 'ceilometer/storage/impl_sqlalchemy.py', 'ceilometer/tests/functional/storage/test_impl_hbase.py', 'ceilometer/storage/impl_mongodb.py', 'ceilometer/tests/unit/storage/test_get_connection.py', 'ceilometer/event/storage/impl_mongodb.py', 'ceilometer/event/storage/base.py', 'ceilometer/event/storage/impl_elasticsearch.py', 'ceilometer/storage/__init__.py', 'ceilometer/tests/functional/storage/test_impl_sqlalchemy.py', 'ceilometer/event/storage/impl_hbase.py', 'ceilometer/event/storage/impl_sqlalchemy.py', 'ceilometer/tests/db.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3219e8bbb2094b98b1079f6f27e2b3df158af74a', 'message': 'storage: stop using global conf\n\nChange-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4\n'}]",0,385935,3219e8bbb2094b98b1079f6f27e2b3df158af74a,68,5,21,2813,,,0,"storage: stop using global conf

Change-Id: Iadfc21edd63b9e8c529691c1ccb150b23d3ee8d4
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/35/385935/19 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/storage/base.py', 'ceilometer/tests/functional/storage/test_impl_mongodb.py', 'ceilometer/storage/impl_hbase.py', 'ceilometer/storage/hbase/base.py', 'ceilometer/tests/functional/storage/test_impl_log.py', 'ceilometer/storage/mongo/utils.py', 'ceilometer/storage/impl_sqlalchemy.py', 'ceilometer/tests/functional/storage/test_impl_hbase.py', 'ceilometer/storage/impl_mongodb.py', 'ceilometer/tests/unit/storage/test_get_connection.py', 'ceilometer/event/storage/impl_mongodb.py', 'ceilometer/event/storage/base.py', 'ceilometer/event/storage/impl_elasticsearch.py', 'ceilometer/storage/__init__.py', 'ceilometer/tests/functional/storage/test_impl_sqlalchemy.py', 'ceilometer/event/storage/impl_hbase.py', 'ceilometer/event/storage/impl_sqlalchemy.py', 'ceilometer/tests/db.py']",18,c17905c379373e3dd20b8d567cd1077afecb2880,sileht/nocfgconf,"class DBManager(fixtures.Fixture): def __init__(self, conf, url): self._conf = conf class MongoDbManager(DBManager): self._conf, self.url, 'ceilometer.metering.storage') self._conf, self.url, 'ceilometer.event.storage')class SQLManager(DBManager): def __init__(self, conf, url): super(SQLManager, self).__init__(conf, url) self._conf, self.url, 'ceilometer.metering.storage') self._conf, self.url, 'ceilometer.event.storage')class ElasticSearchManager(DBManager): self._conf, 'sqlite://', 'ceilometer.metering.storage') self._conf, self.url, 'ceilometer.event.storage')class HBaseManager(DBManager): self._conf, self.url, 'ceilometer.metering.storage') self._conn, self.url, 'ceilometer.event.storage')class SQLiteManager(DBManager): self.url = self._url self._conf, self._url, 'ceilometer.metering.storage') self._conf, self._url, 'ceilometer.event.storage') self.db_manager = manager(self.CONF, db_url) def _get_connection(self, conf, url, namespace):","class MongoDbManager(fixtures.Fixture): def __init__(self, url): self.url, 'ceilometer.metering.storage') self.url, 'ceilometer.event.storage')class SQLManager(fixtures.Fixture): def __init__(self, url): self.url, 'ceilometer.metering.storage') self.url, 'ceilometer.event.storage')class ElasticSearchManager(fixtures.Fixture): def __init__(self, url): self.url = url 'sqlite://', 'ceilometer.metering.storage') self.url, 'ceilometer.event.storage')class HBaseManager(fixtures.Fixture): def __init__(self, url): self._url = url self.url, 'ceilometer.metering.storage') self.url, 'ceilometer.event.storage')class SQLiteManager(fixtures.Fixture): def __init__(self, url): self.url = url self.url, 'ceilometer.metering.storage') self.url, 'ceilometer.event.storage') self.db_manager = manager(db_url) def _get_connection(self, url, namespace):",88,87
openstack%2Fcharm-nova-cloud-controller~master~I17729e2089cc658588eaea93f8de5051369e5dff,openstack/charm-nova-cloud-controller,master,I17729e2089cc658588eaea93f8de5051369e5dff,Update policy.json to give service role access,MERGED,2016-11-21 17:34:32.000000000,2016-11-29 22:33:34.000000000,2016-11-29 22:33:34.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-21 17:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3f5d039b4b6a3a9f893f0ef2f4a5ea3047ea31a9', 'message': 'Update policy.json to give service role access\n\nRole check is scoped to the configured service project and access\nis granted to os_compute_api:servers:detail:get_all_tenants.\n\nThis change is required to allow Ceilometer to operate using a\nnon-Admin user.\n\nChange-Id: I17729e2089cc658588eaea93f8de5051369e5dff\nCloses-Bug: 1636098\n'}, {'number': 2, 'created': '2016-11-28 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/de75e2e7d3f222c55bb6feb5f646db7d7c26b870', 'message': 'Update policy.json to give service role access\n\nRole check is scoped to the configured service project and access\nis granted to os_compute_api:servers:detail:get_all_tenants.\n\nThis change is required to allow Ceilometer to operate using a\nnon-Admin user.\n\nChange-Id: I17729e2089cc658588eaea93f8de5051369e5dff\nCloses-Bug: 1636098\n'}, {'number': 3, 'created': '2016-11-28 14:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/d92e0b99cc6f35731da0a27b37867c414ea211d5', 'message': 'Update policy.json to give service role access\n\nRole check is scoped to the configured service project and access\nis granted to os_compute_api:servers:detail:get_all_tenants.\n\nThis change is required to allow Ceilometer to operate using a\nnon-Admin user.\n\nChange-Id: I17729e2089cc658588eaea93f8de5051369e5dff\nCloses-Bug: 1636098\n'}, {'number': 4, 'created': '2016-11-29 07:42:16.000000000', 'files': ['hooks/nova_cc_utils.py', 'templates/mitaka/policy.json'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ec2579a8448281cdf1154018c0a56c9d4b174e36', 'message': 'Update policy.json to give service role access\n\nRole check is scoped to the configured service project and access\nis granted to os_compute_api:servers:detail:get_all_tenants.\n\nThis change is required to allow Ceilometer to operate using a\nnon-Admin user.\n\nChange-Id: I17729e2089cc658588eaea93f8de5051369e5dff\nCloses-Bug: 1636098\n'}]",0,400357,ec2579a8448281cdf1154018c0a56c9d4b174e36,20,4,4,13686,,,0,"Update policy.json to give service role access

Role check is scoped to the configured service project and access
is granted to os_compute_api:servers:detail:get_all_tenants.

This change is required to allow Ceilometer to operate using a
non-Admin user.

Change-Id: I17729e2089cc658588eaea93f8de5051369e5dff
Closes-Bug: 1636098
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/57/400357/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'templates/mitaka/policy.json']",3,3f5d039b4b6a3a9f893f0ef2f4a5ea3047ea31a9,bug/1636098,"{ ""context_is_admin"": ""role:admin"", ""service_role"": ""role:service and project_id:{{ admin_tenant_id }}"", ""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"", ""service_or_admin"": ""rule:context_is_admin or rule:service_role"", ""default"": ""rule:admin_or_owner"", ""cells_scheduler_filter:TargetCellFilter"": ""is_admin:True"", ""compute:create"": ""rule:admin_or_owner"", ""compute:create:attach_network"": ""rule:admin_or_owner"", ""compute:create:attach_volume"": ""rule:admin_or_owner"", ""compute:create:forced_host"": ""is_admin:True"", ""compute:get"": ""rule:admin_or_owner"", ""compute:get_all"": ""rule:admin_or_owner"", ""compute:get_all_tenants"": ""is_admin:True"", ""compute:update"": ""rule:admin_or_owner"", ""compute:get_instance_metadata"": ""rule:admin_or_owner"", ""compute:get_all_instance_metadata"": ""rule:admin_or_owner"", ""compute:get_all_instance_system_metadata"": ""rule:admin_or_owner"", ""compute:update_instance_metadata"": ""rule:admin_or_owner"", ""compute:delete_instance_metadata"": ""rule:admin_or_owner"", ""compute:get_diagnostics"": ""rule:admin_or_owner"", ""compute:get_instance_diagnostics"": ""rule:admin_or_owner"", ""compute:start"": ""rule:admin_or_owner"", ""compute:stop"": ""rule:admin_or_owner"", ""compute:lock"": ""rule:admin_or_owner"", ""compute:unlock"": ""rule:admin_or_owner"", ""compute:unlock_override"": ""rule:admin_api"", ""compute:get_vnc_console"": ""rule:admin_or_owner"", ""compute:get_spice_console"": ""rule:admin_or_owner"", ""compute:get_rdp_console"": ""rule:admin_or_owner"", ""compute:get_serial_console"": ""rule:admin_or_owner"", ""compute:get_mks_console"": ""rule:admin_or_owner"", ""compute:get_console_output"": ""rule:admin_or_owner"", ""compute:reset_network"": ""rule:admin_or_owner"", ""compute:inject_network_info"": ""rule:admin_or_owner"", ""compute:add_fixed_ip"": ""rule:admin_or_owner"", ""compute:remove_fixed_ip"": ""rule:admin_or_owner"", ""compute:attach_volume"": ""rule:admin_or_owner"", ""compute:detach_volume"": ""rule:admin_or_owner"", ""compute:swap_volume"": ""rule:admin_or_owner"", ""compute:attach_interface"": ""rule:admin_or_owner"", ""compute:detach_interface"": ""rule:admin_or_owner"", ""compute:set_admin_password"": ""rule:admin_or_owner"", ""compute:rescue"": ""rule:admin_or_owner"", ""compute:unrescue"": ""rule:admin_or_owner"", ""compute:suspend"": ""rule:admin_or_owner"", ""compute:resume"": ""rule:admin_or_owner"", ""compute:pause"": ""rule:admin_or_owner"", ""compute:unpause"": ""rule:admin_or_owner"", ""compute:shelve"": ""rule:admin_or_owner"", ""compute:shelve_offload"": ""rule:admin_or_owner"", ""compute:unshelve"": ""rule:admin_or_owner"", ""compute:snapshot"": ""rule:admin_or_owner"", ""compute:snapshot_volume_backed"": ""rule:admin_or_owner"", ""compute:backup"": ""rule:admin_or_owner"", ""compute:resize"": ""rule:admin_or_owner"", ""compute:confirm_resize"": ""rule:admin_or_owner"", ""compute:revert_resize"": ""rule:admin_or_owner"", ""compute:rebuild"": ""rule:admin_or_owner"", ""compute:reboot"": ""rule:admin_or_owner"", ""compute:delete"": ""rule:admin_or_owner"", ""compute:soft_delete"": ""rule:admin_or_owner"", ""compute:force_delete"": ""rule:admin_or_owner"", ""compute:security_groups:add_to_instance"": ""rule:admin_or_owner"", ""compute:security_groups:remove_from_instance"": ""rule:admin_or_owner"", ""compute:restore"": ""rule:admin_or_owner"", ""compute:volume_snapshot_create"": ""rule:admin_or_owner"", ""compute:volume_snapshot_delete"": ""rule:admin_or_owner"", ""admin_api"": ""is_admin:True"", ""compute_extension:accounts"": ""rule:admin_api"", ""compute_extension:admin_actions"": ""rule:admin_api"", ""compute_extension:admin_actions:pause"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:unpause"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:suspend"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:resume"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:lock"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:unlock"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:resetNetwork"": ""rule:admin_api"", ""compute_extension:admin_actions:injectNetworkInfo"": ""rule:admin_api"", ""compute_extension:admin_actions:createBackup"": ""rule:admin_or_owner"", ""compute_extension:admin_actions:migrateLive"": ""rule:admin_api"", ""compute_extension:admin_actions:resetState"": ""rule:admin_api"", ""compute_extension:admin_actions:migrate"": ""rule:admin_api"", ""compute_extension:aggregates"": ""rule:admin_api"", ""compute_extension:agents"": ""rule:admin_api"", ""compute_extension:attach_interfaces"": ""rule:admin_or_owner"", ""compute_extension:baremetal_nodes"": ""rule:admin_api"", ""compute_extension:cells"": ""rule:admin_api"", ""compute_extension:cells:create"": ""rule:admin_api"", ""compute_extension:cells:delete"": ""rule:admin_api"", ""compute_extension:cells:update"": ""rule:admin_api"", ""compute_extension:cells:sync_instances"": ""rule:admin_api"", ""compute_extension:certificates"": ""rule:admin_or_owner"", ""compute_extension:cloudpipe"": ""rule:admin_api"", ""compute_extension:cloudpipe_update"": ""rule:admin_api"", ""compute_extension:config_drive"": ""rule:admin_or_owner"", ""compute_extension:console_output"": ""rule:admin_or_owner"", ""compute_extension:consoles"": ""rule:admin_or_owner"", ""compute_extension:createserverext"": ""rule:admin_or_owner"", ""compute_extension:deferred_delete"": ""rule:admin_or_owner"", ""compute_extension:disk_config"": ""rule:admin_or_owner"", ""compute_extension:evacuate"": ""rule:admin_api"", ""compute_extension:extended_server_attributes"": ""rule:admin_api"", ""compute_extension:extended_status"": ""rule:admin_or_owner"", ""compute_extension:extended_availability_zone"": ""rule:admin_or_owner"", ""compute_extension:extended_ips"": ""rule:admin_or_owner"", ""compute_extension:extended_ips_mac"": ""rule:admin_or_owner"", ""compute_extension:extended_vif_net"": ""rule:admin_or_owner"", ""compute_extension:extended_volumes"": ""rule:admin_or_owner"", ""compute_extension:fixed_ips"": ""rule:admin_api"", ""compute_extension:flavor_access"": ""rule:admin_or_owner"", ""compute_extension:flavor_access:addTenantAccess"": ""rule:admin_api"", ""compute_extension:flavor_access:removeTenantAccess"": ""rule:admin_api"", ""compute_extension:flavor_disabled"": ""rule:admin_or_owner"", ""compute_extension:flavor_rxtx"": ""rule:admin_or_owner"", ""compute_extension:flavor_swap"": ""rule:admin_or_owner"", ""compute_extension:flavorextradata"": ""rule:admin_or_owner"", ""compute_extension:flavorextraspecs:index"": ""rule:admin_or_owner"", ""compute_extension:flavorextraspecs:show"": ""rule:admin_or_owner"", ""compute_extension:flavorextraspecs:create"": ""rule:admin_api"", ""compute_extension:flavorextraspecs:update"": ""rule:admin_api"", ""compute_extension:flavorextraspecs:delete"": ""rule:admin_api"", ""compute_extension:flavormanage"": ""rule:admin_api"", ""compute_extension:floating_ip_dns"": ""rule:admin_or_owner"", ""compute_extension:floating_ip_pools"": ""rule:admin_or_owner"", ""compute_extension:floating_ips"": ""rule:admin_or_owner"", ""compute_extension:floating_ips_bulk"": ""rule:admin_api"", ""compute_extension:fping"": ""rule:admin_or_owner"", ""compute_extension:fping:all_tenants"": ""rule:admin_api"", ""compute_extension:hide_server_addresses"": ""is_admin:False"", ""compute_extension:hosts"": ""rule:admin_api"", ""compute_extension:hypervisors"": ""rule:admin_api"", ""compute_extension:image_size"": ""rule:admin_or_owner"", ""compute_extension:instance_actions"": ""rule:admin_or_owner"", ""compute_extension:instance_actions:events"": ""rule:admin_api"", ""compute_extension:instance_usage_audit_log"": ""rule:admin_api"", ""compute_extension:keypairs"": ""rule:admin_or_owner"", ""compute_extension:keypairs:index"": ""rule:admin_or_owner"", ""compute_extension:keypairs:show"": ""rule:admin_or_owner"", ""compute_extension:keypairs:create"": ""rule:admin_or_owner"", ""compute_extension:keypairs:delete"": ""rule:admin_or_owner"", ""compute_extension:multinic"": ""rule:admin_or_owner"", ""compute_extension:networks"": ""rule:admin_api"", ""compute_extension:networks:view"": ""rule:admin_or_owner"", ""compute_extension:networks_associate"": ""rule:admin_api"", ""compute_extension:os-tenant-networks"": ""rule:admin_or_owner"", ""compute_extension:quotas:show"": ""rule:admin_or_owner"", ""compute_extension:quotas:update"": ""rule:admin_api"", ""compute_extension:quotas:delete"": ""rule:admin_api"", ""compute_extension:quota_classes"": ""rule:admin_or_owner"", ""compute_extension:rescue"": ""rule:admin_or_owner"", ""compute_extension:security_group_default_rules"": ""rule:admin_api"", ""compute_extension:security_groups"": ""rule:admin_or_owner"", ""compute_extension:server_diagnostics"": ""rule:admin_api"", ""compute_extension:server_groups"": ""rule:admin_or_owner"", ""compute_extension:server_password"": ""rule:admin_or_owner"", ""compute_extension:server_usage"": ""rule:admin_or_owner"", ""compute_extension:services"": ""rule:admin_api"", ""compute_extension:shelve"": ""rule:admin_or_owner"", ""compute_extension:shelveOffload"": ""rule:admin_api"", ""compute_extension:simple_tenant_usage:show"": ""rule:admin_or_owner"", ""compute_extension:simple_tenant_usage:list"": ""rule:admin_api"", ""compute_extension:unshelve"": ""rule:admin_or_owner"", ""compute_extension:users"": ""rule:admin_api"", ""compute_extension:virtual_interfaces"": ""rule:admin_or_owner"", ""compute_extension:virtual_storage_arrays"": ""rule:admin_or_owner"", ""compute_extension:volumes"": ""rule:admin_or_owner"", ""compute_extension:volume_attachments:index"": ""rule:admin_or_owner"", ""compute_extension:volume_attachments:show"": ""rule:admin_or_owner"", ""compute_extension:volume_attachments:create"": ""rule:admin_or_owner"", ""compute_extension:volume_attachments:update"": ""rule:admin_or_owner"", ""compute_extension:volume_attachments:delete"": ""rule:admin_or_owner"", ""compute_extension:volumetypes"": ""rule:admin_or_owner"", ""compute_extension:availability_zone:list"": ""rule:admin_or_owner"", ""compute_extension:availability_zone:detail"": ""rule:admin_api"", ""compute_extension:used_limits_for_admin"": ""rule:admin_api"", ""compute_extension:migrations:index"": ""rule:admin_api"", ""compute_extension:os-assisted-volume-snapshots:create"": ""rule:admin_api"", ""compute_extension:os-assisted-volume-snapshots:delete"": ""rule:admin_api"", ""compute_extension:console_auth_tokens"": ""rule:admin_api"", ""compute_extension:os-server-external-events:create"": ""rule:admin_api"", ""network:get_all"": ""rule:admin_or_owner"", ""network:get"": ""rule:admin_or_owner"", ""network:create"": ""rule:admin_or_owner"", ""network:delete"": ""rule:admin_or_owner"", ""network:associate"": ""rule:admin_or_owner"", ""network:disassociate"": ""rule:admin_or_owner"", ""network:get_vifs_by_instance"": ""rule:admin_or_owner"", ""network:allocate_for_instance"": ""rule:admin_or_owner"", ""network:deallocate_for_instance"": ""rule:admin_or_owner"", ""network:validate_networks"": ""rule:admin_or_owner"", ""network:get_instance_uuids_by_ip_filter"": ""rule:admin_or_owner"", ""network:get_instance_id_by_floating_address"": ""rule:admin_or_owner"", ""network:setup_networks_on_host"": ""rule:admin_or_owner"", ""network:get_backdoor_port"": ""rule:admin_or_owner"", ""network:get_floating_ip"": ""rule:admin_or_owner"", ""network:get_floating_ip_pools"": ""rule:admin_or_owner"", ""network:get_floating_ip_by_address"": ""rule:admin_or_owner"", ""network:get_floating_ips_by_project"": ""rule:admin_or_owner"", ""network:get_floating_ips_by_fixed_address"": ""rule:admin_or_owner"", ""network:allocate_floating_ip"": ""rule:admin_or_owner"", ""network:associate_floating_ip"": ""rule:admin_or_owner"", ""network:disassociate_floating_ip"": ""rule:admin_or_owner"", ""network:release_floating_ip"": ""rule:admin_or_owner"", ""network:migrate_instance_start"": ""rule:admin_or_owner"", ""network:migrate_instance_finish"": ""rule:admin_or_owner"", ""network:get_fixed_ip"": ""rule:admin_or_owner"", ""network:get_fixed_ip_by_address"": ""rule:admin_or_owner"", ""network:add_fixed_ip_to_instance"": ""rule:admin_or_owner"", ""network:remove_fixed_ip_from_instance"": ""rule:admin_or_owner"", ""network:add_network_to_project"": ""rule:admin_or_owner"", ""network:get_instance_nw_info"": ""rule:admin_or_owner"", ""network:get_dns_domains"": ""rule:admin_or_owner"", ""network:add_dns_entry"": ""rule:admin_or_owner"", ""network:modify_dns_entry"": ""rule:admin_or_owner"", ""network:delete_dns_entry"": ""rule:admin_or_owner"", ""network:get_dns_entries_by_address"": ""rule:admin_or_owner"", ""network:get_dns_entries_by_name"": ""rule:admin_or_owner"", ""network:create_private_dns_domain"": ""rule:admin_or_owner"", ""network:create_public_dns_domain"": ""rule:admin_or_owner"", ""network:delete_dns_domain"": ""rule:admin_or_owner"", ""network:attach_external_network"": ""rule:admin_api"", ""network:get_vif_by_mac_address"": ""rule:admin_or_owner"", ""os_compute_api:servers:detail:get_all_tenants"": ""rule:service_or_admin"", ""os_compute_api:servers:index:get_all_tenants"": ""is_admin:True"", ""os_compute_api:servers:confirm_resize"": ""rule:admin_or_owner"", ""os_compute_api:servers:create"": ""rule:admin_or_owner"", ""os_compute_api:servers:create:attach_network"": ""rule:admin_or_owner"", ""os_compute_api:servers:create:attach_volume"": ""rule:admin_or_owner"", ""os_compute_api:servers:create:forced_host"": ""rule:admin_api"", ""os_compute_api:servers:delete"": ""rule:admin_or_owner"", ""os_compute_api:servers:update"": ""rule:admin_or_owner"", ""os_compute_api:servers:detail"": ""rule:admin_or_owner"", ""os_compute_api:servers:index"": ""rule:admin_or_owner"", ""os_compute_api:servers:reboot"": ""rule:admin_or_owner"", ""os_compute_api:servers:rebuild"": ""rule:admin_or_owner"", ""os_compute_api:servers:resize"": ""rule:admin_or_owner"", ""os_compute_api:servers:revert_resize"": ""rule:admin_or_owner"", ""os_compute_api:servers:show"": ""rule:admin_or_owner"", ""os_compute_api:servers:show:host_status"": ""rule:admin_api"", ""os_compute_api:servers:create_image"": ""rule:admin_or_owner"", ""os_compute_api:servers:create_image:allow_volume_backed"": ""rule:admin_or_owner"", ""os_compute_api:servers:start"": ""rule:admin_or_owner"", ""os_compute_api:servers:stop"": ""rule:admin_or_owner"", ""os_compute_api:servers:trigger_crash_dump"": ""rule:admin_or_owner"", ""os_compute_api:servers:migrations:force_complete"": ""rule:admin_api"", ""os_compute_api:servers:migrations:delete"": ""rule:admin_api"", ""os_compute_api:servers:discoverable"": ""@"", ""os_compute_api:servers:migrations:index"": ""rule:admin_api"", ""os_compute_api:servers:migrations:show"": ""rule:admin_api"", ""os_compute_api:os-access-ips:discoverable"": ""@"", ""os_compute_api:os-access-ips"": ""rule:admin_or_owner"", ""os_compute_api:os-admin-actions"": ""rule:admin_api"", ""os_compute_api:os-admin-actions:discoverable"": ""@"", ""os_compute_api:os-admin-actions:reset_network"": ""rule:admin_api"", ""os_compute_api:os-admin-actions:inject_network_info"": ""rule:admin_api"", ""os_compute_api:os-admin-actions:reset_state"": ""rule:admin_api"", ""os_compute_api:os-admin-password"": ""rule:admin_or_owner"", ""os_compute_api:os-admin-password:discoverable"": ""@"", ""os_compute_api:os-aggregates:discoverable"": ""@"", ""os_compute_api:os-aggregates:index"": ""rule:admin_api"", ""os_compute_api:os-aggregates:create"": ""rule:admin_api"", ""os_compute_api:os-aggregates:show"": ""rule:admin_api"", ""os_compute_api:os-aggregates:update"": ""rule:admin_api"", ""os_compute_api:os-aggregates:delete"": ""rule:admin_api"", ""os_compute_api:os-aggregates:add_host"": ""rule:admin_api"", ""os_compute_api:os-aggregates:remove_host"": ""rule:admin_api"", ""os_compute_api:os-aggregates:set_metadata"": ""rule:admin_api"", ""os_compute_api:os-agents"": ""rule:admin_api"", ""os_compute_api:os-agents:discoverable"": ""@"", ""os_compute_api:os-attach-interfaces"": ""rule:admin_or_owner"", ""os_compute_api:os-attach-interfaces:discoverable"": ""@"", ""os_compute_api:os-baremetal-nodes"": ""rule:admin_api"", ""os_compute_api:os-baremetal-nodes:discoverable"": ""@"", ""os_compute_api:os-block-device-mapping-v1:discoverable"": ""@"", ""os_compute_api:os-cells"": ""rule:admin_api"", ""os_compute_api:os-cells:create"": ""rule:admin_api"", ""os_compute_api:os-cells:delete"": ""rule:admin_api"", ""os_compute_api:os-cells:update"": ""rule:admin_api"", ""os_compute_api:os-cells:sync_instances"": ""rule:admin_api"", ""os_compute_api:os-cells:discoverable"": ""@"", ""os_compute_api:os-certificates:create"": ""rule:admin_or_owner"", ""os_compute_api:os-certificates:show"": ""rule:admin_or_owner"", ""os_compute_api:os-certificates:discoverable"": ""@"", ""os_compute_api:os-cloudpipe"": ""rule:admin_api"", ""os_compute_api:os-cloudpipe:discoverable"": ""@"", ""os_compute_api:os-config-drive"": ""rule:admin_or_owner"", ""os_compute_api:os-consoles:discoverable"": ""@"", ""os_compute_api:os-consoles:create"": ""rule:admin_or_owner"", ""os_compute_api:os-consoles:delete"": ""rule:admin_or_owner"", ""os_compute_api:os-consoles:index"": ""rule:admin_or_owner"", ""os_compute_api:os-consoles:show"": ""rule:admin_or_owner"", ""os_compute_api:os-console-output:discoverable"": ""@"", ""os_compute_api:os-console-output"": ""rule:admin_or_owner"", ""os_compute_api:os-remote-consoles"": ""rule:admin_or_owner"", ""os_compute_api:os-remote-consoles:discoverable"": ""@"", ""os_compute_api:os-create-backup:discoverable"": ""@"", ""os_compute_api:os-create-backup"": ""rule:admin_or_owner"", ""os_compute_api:os-deferred-delete"": ""rule:admin_or_owner"", ""os_compute_api:os-deferred-delete:discoverable"": ""@"", ""os_compute_api:os-disk-config"": ""rule:admin_or_owner"", ""os_compute_api:os-disk-config:discoverable"": ""@"", ""os_compute_api:os-evacuate"": ""rule:admin_api"", ""os_compute_api:os-evacuate:discoverable"": ""@"", ""os_compute_api:os-extended-server-attributes"": ""rule:admin_api"", ""os_compute_api:os-extended-server-attributes:discoverable"": ""@"", ""os_compute_api:os-extended-status"": ""rule:admin_or_owner"", ""os_compute_api:os-extended-status:discoverable"": ""@"", ""os_compute_api:os-extended-availability-zone"": ""rule:admin_or_owner"", ""os_compute_api:os-extended-availability-zone:discoverable"": ""@"", ""os_compute_api:extensions"": ""rule:admin_or_owner"", ""os_compute_api:extensions:discoverable"": ""@"", ""os_compute_api:extension_info:discoverable"": ""@"", ""os_compute_api:os-extended-volumes"": ""rule:admin_or_owner"", ""os_compute_api:os-extended-volumes:discoverable"": ""@"", ""os_compute_api:os-fixed-ips"": ""rule:admin_api"", ""os_compute_api:os-fixed-ips:discoverable"": ""@"", ""os_compute_api:os-flavor-access"": ""rule:admin_or_owner"", ""os_compute_api:os-flavor-access:discoverable"": ""@"", ""os_compute_api:os-flavor-access:remove_tenant_access"": ""rule:admin_api"", ""os_compute_api:os-flavor-access:add_tenant_access"": ""rule:admin_api"", ""os_compute_api:os-flavor-rxtx"": ""rule:admin_or_owner"", ""os_compute_api:os-flavor-rxtx:discoverable"": ""@"", ""os_compute_api:flavors"": ""rule:admin_or_owner"", ""os_compute_api:flavors:discoverable"": ""@"", ""os_compute_api:os-flavor-extra-specs:discoverable"": ""@"", ""os_compute_api:os-flavor-extra-specs:index"": ""rule:admin_or_owner"", ""os_compute_api:os-flavor-extra-specs:show"": ""rule:admin_or_owner"", ""os_compute_api:os-flavor-extra-specs:create"": ""rule:admin_api"", ""os_compute_api:os-flavor-extra-specs:update"": ""rule:admin_api"", ""os_compute_api:os-flavor-extra-specs:delete"": ""rule:admin_api"", ""os_compute_api:os-flavor-manage:discoverable"": ""@"", ""os_compute_api:os-flavor-manage"": ""rule:admin_api"", ""os_compute_api:os-floating-ip-dns"": ""rule:admin_or_owner"", ""os_compute_api:os-floating-ip-dns:discoverable"": ""@"", ""os_compute_api:os-floating-ip-dns:domain:update"": ""rule:admin_api"", ""os_compute_api:os-floating-ip-dns:domain:delete"": ""rule:admin_api"", ""os_compute_api:os-floating-ip-pools"": ""rule:admin_or_owner"", ""os_compute_api:os-floating-ip-pools:discoverable"": ""@"", ""os_compute_api:os-floating-ips"": ""rule:admin_or_owner"", ""os_compute_api:os-floating-ips:discoverable"": ""@"", ""os_compute_api:os-floating-ips-bulk"": ""rule:admin_api"", ""os_compute_api:os-floating-ips-bulk:discoverable"": ""@"", ""os_compute_api:os-fping"": ""rule:admin_or_owner"", ""os_compute_api:os-fping:discoverable"": ""@"", ""os_compute_api:os-fping:all_tenants"": ""rule:admin_api"", ""os_compute_api:os-hide-server-addresses"": ""is_admin:False"", ""os_compute_api:os-hide-server-addresses:discoverable"": ""@"", ""os_compute_api:os-hosts"": ""rule:admin_api"", ""os_compute_api:os-hosts:discoverable"": ""@"", ""os_compute_api:os-hypervisors"": ""rule:admin_api"", ""os_compute_api:os-hypervisors:discoverable"": ""@"", ""os_compute_api:images:discoverable"": ""@"", ""os_compute_api:image-size"": ""rule:admin_or_owner"", ""os_compute_api:image-size:discoverable"": ""@"", ""os_compute_api:os-instance-actions"": ""rule:admin_or_owner"", ""os_compute_api:os-instance-actions:discoverable"": ""@"", ""os_compute_api:os-instance-actions:events"": ""rule:admin_api"", ""os_compute_api:os-instance-usage-audit-log"": ""rule:admin_api"", ""os_compute_api:os-instance-usage-audit-log:discoverable"": ""@"", ""os_compute_api:ips:discoverable"": ""@"", ""os_compute_api:ips:index"": ""rule:admin_or_owner"", ""os_compute_api:ips:show"": ""rule:admin_or_owner"", ""os_compute_api:os-keypairs:discoverable"": ""@"", ""os_compute_api:os-keypairs"": ""rule:admin_or_owner"", ""os_compute_api:os-keypairs:index"": ""rule:admin_api or user_id:%(user_id)s"", ""os_compute_api:os-keypairs:show"": ""rule:admin_api or user_id:%(user_id)s"", ""os_compute_api:os-keypairs:create"": ""rule:admin_api or user_id:%(user_id)s"", ""os_compute_api:os-keypairs:delete"": ""rule:admin_api or user_id:%(user_id)s"", ""os_compute_api:limits:discoverable"": ""@"", ""os_compute_api:limits"": ""rule:admin_or_owner"", ""os_compute_api:os-lock-server:discoverable"": ""@"", ""os_compute_api:os-lock-server:lock"": ""rule:admin_or_owner"", ""os_compute_api:os-lock-server:unlock"": ""rule:admin_or_owner"", ""os_compute_api:os-lock-server:unlock:unlock_override"": ""rule:admin_api"", ""os_compute_api:os-migrate-server:discoverable"": ""@"", ""os_compute_api:os-migrate-server:migrate"": ""rule:admin_api"", ""os_compute_api:os-migrate-server:migrate_live"": ""rule:admin_api"", ""os_compute_api:os-multinic"": ""rule:admin_or_owner"", ""os_compute_api:os-multinic:discoverable"": ""@"", ""os_compute_api:os-networks"": ""rule:admin_api"", ""os_compute_api:os-networks:view"": ""rule:admin_or_owner"", ""os_compute_api:os-networks:discoverable"": ""@"", ""os_compute_api:os-networks-associate"": ""rule:admin_api"", ""os_compute_api:os-networks-associate:discoverable"": ""@"", ""os_compute_api:os-pause-server:discoverable"": ""@"", ""os_compute_api:os-pause-server:pause"": ""rule:admin_or_owner"", ""os_compute_api:os-pause-server:unpause"": ""rule:admin_or_owner"", ""os_compute_api:os-pci:pci_servers"": ""rule:admin_or_owner"", ""os_compute_api:os-pci:discoverable"": ""@"", ""os_compute_api:os-pci:index"": ""rule:admin_api"", ""os_compute_api:os-pci:detail"": ""rule:admin_api"", ""os_compute_api:os-pci:show"": ""rule:admin_api"", ""os_compute_api:os-personality:discoverable"": ""@"", ""os_compute_api:os-preserve-ephemeral-rebuild:discoverable"": ""@"", ""os_compute_api:os-quota-sets:discoverable"": ""@"", ""os_compute_api:os-quota-sets:show"": ""rule:admin_or_owner"", ""os_compute_api:os-quota-sets:defaults"": ""@"", ""os_compute_api:os-quota-sets:update"": ""rule:admin_api"", ""os_compute_api:os-quota-sets:delete"": ""rule:admin_api"", ""os_compute_api:os-quota-sets:detail"": ""rule:admin_api"", ""os_compute_api:os-quota-class-sets:update"": ""rule:admin_api"", ""os_compute_api:os-quota-class-sets:show"": ""is_admin:True or quota_class:%(quota_class)s"", ""os_compute_api:os-quota-class-sets:discoverable"": ""@"", ""os_compute_api:os-rescue"": ""rule:admin_or_owner"", ""os_compute_api:os-rescue:discoverable"": ""@"", ""os_compute_api:os-scheduler-hints:discoverable"": ""@"", ""os_compute_api:os-security-group-default-rules:discoverable"": ""@"", ""os_compute_api:os-security-group-default-rules"": ""rule:admin_api"", ""os_compute_api:os-security-groups"": ""rule:admin_or_owner"", ""os_compute_api:os-security-groups:discoverable"": ""@"", ""os_compute_api:os-server-diagnostics"": ""rule:admin_api"", ""os_compute_api:os-server-diagnostics:discoverable"": ""@"", ""os_compute_api:os-server-password"": ""rule:admin_or_owner"", ""os_compute_api:os-server-password:discoverable"": ""@"", ""os_compute_api:os-server-usage"": ""rule:admin_or_owner"", ""os_compute_api:os-server-usage:discoverable"": ""@"", ""os_compute_api:os-server-groups"": ""rule:admin_or_owner"", ""os_compute_api:os-server-groups:discoverable"": ""@"", ""os_compute_api:os-services"": ""rule:admin_api"", ""os_compute_api:os-services:discoverable"": ""@"", ""os_compute_api:server-metadata:discoverable"": ""@"", ""os_compute_api:server-metadata:index"": ""rule:admin_or_owner"", ""os_compute_api:server-metadata:show"": ""rule:admin_or_owner"", ""os_compute_api:server-metadata:delete"": ""rule:admin_or_owner"", ""os_compute_api:server-metadata:create"": ""rule:admin_or_owner"", ""os_compute_api:server-metadata:update"": ""rule:admin_or_owner"", ""os_compute_api:server-metadata:update_all"": ""rule:admin_or_owner"", ""os_compute_api:os-shelve:shelve"": ""rule:admin_or_owner"", ""os_compute_api:os-shelve:shelve:discoverable"": ""@"", ""os_compute_api:os-shelve:shelve_offload"": ""rule:admin_api"", ""os_compute_api:os-simple-tenant-usage:discoverable"": ""@"", ""os_compute_api:os-simple-tenant-usage:show"": ""rule:admin_or_owner"", ""os_compute_api:os-simple-tenant-usage:list"": ""rule:admin_api"", ""os_compute_api:os-suspend-server:discoverable"": ""@"", ""os_compute_api:os-suspend-server:suspend"": ""rule:admin_or_owner"", ""os_compute_api:os-suspend-server:resume"": ""rule:admin_or_owner"", ""os_compute_api:os-tenant-networks"": ""rule:admin_or_owner"", ""os_compute_api:os-tenant-networks:discoverable"": ""@"", ""os_compute_api:os-shelve:unshelve"": ""rule:admin_or_owner"", ""os_compute_api:os-user-data:discoverable"": ""@"", ""os_compute_api:os-virtual-interfaces"": ""rule:admin_or_owner"", ""os_compute_api:os-virtual-interfaces:discoverable"": ""@"", ""os_compute_api:os-volumes"": ""rule:admin_or_owner"", ""os_compute_api:os-volumes:discoverable"": ""@"", ""os_compute_api:os-volumes-attachments:index"": ""rule:admin_or_owner"", ""os_compute_api:os-volumes-attachments:show"": ""rule:admin_or_owner"", ""os_compute_api:os-volumes-attachments:create"": ""rule:admin_or_owner"", ""os_compute_api:os-volumes-attachments:update"": ""rule:admin_or_owner"", ""os_compute_api:os-volumes-attachments:delete"": ""rule:admin_or_owner"", ""os_compute_api:os-volumes-attachments:discoverable"": ""@"", ""os_compute_api:os-availability-zone:list"": ""rule:admin_or_owner"", ""os_compute_api:os-availability-zone:discoverable"": ""@"", ""os_compute_api:os-availability-zone:detail"": ""rule:admin_api"", ""os_compute_api:os-used-limits"": ""rule:admin_api"", ""os_compute_api:os-used-limits:discoverable"": ""@"", ""os_compute_api:os-migrations:index"": ""rule:admin_api"", ""os_compute_api:os-migrations:discoverable"": ""@"", ""os_compute_api:os-assisted-volume-snapshots:create"": ""rule:admin_api"", ""os_compute_api:os-assisted-volume-snapshots:delete"": ""rule:admin_api"", ""os_compute_api:os-assisted-volume-snapshots:discoverable"": ""@"", ""os_compute_api:os-console-auth-tokens"": ""rule:admin_api"", ""os_compute_api:os-server-external-events:create"": ""rule:admin_api"" } ",,502,0
openstack%2Fcharm-ceilometer~master~I23354e7db0eef83de31f703fdf754ca3ae2db92d,openstack/charm-ceilometer,master,I23354e7db0eef83de31f703fdf754ca3ae2db92d,Fix support for Keystone v3 domain auth,MERGED,2016-11-02 14:20:45.000000000,2016-11-29 22:32:22.000000000,2016-11-29 22:32:22.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-02 14:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/fdbd865d768c2b04fb511cf6c352eb815f65346d', 'message': 'Add support for Keystone v3 admin domain auth\n\nWhen api version > 2 get admin domain name from realtion data\nand use for Keystone v3 auth.\n\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 2, 'created': '2016-11-08 18:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/155e9b76b7525b4a63571b37627402c862e55b9f', 'message': 'Add support for Keystone v3 admin domain auth\n\nWhen api version > 2 get admin domain name from realtion data\nand use for Keystone v3 auth.\n\nRequest service role, after refresh of policy and move of service\naccount to admin_domain this is required for ceilometer access to\nidentity:validate_token.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 3, 'created': '2016-11-10 16:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/c20edc679ab42cde94753fe3908b366b50bc9a1a', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n""}, {'number': 4, 'created': '2016-11-10 16:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2e0eb327b83a3e1c0def159b287246c85001a8b2', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n""}, {'number': 5, 'created': '2016-11-11 15:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/8dd3f44547efd7b32475521944d08c6459d7a7f5', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n""}, {'number': 6, 'created': '2016-11-14 21:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/4517de5864e1eedab2725bbf5799992cb5c11ff3', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n""}, {'number': 7, 'created': '2016-11-15 07:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/831f0919ccf235174e9c2be191cf0e2ab651d631', 'message': ""Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate with a project scoped token to the 'admin' project\nin ADMIN_DOMAIN.  This is because of Ceilometers dependency on\nlisting projects for all domains across the entire deployment.\n\nAs of Mitaka the v3 policy dictates that only the cloud_admin\ncan perform this action.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n""}, {'number': 8, 'created': '2016-11-21 17:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d4d4dc4464d87aa9e86e0d9f12403c015cfbdeb8', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 9, 'created': '2016-11-24 14:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f2de28381000c04ada22ca4c173912092113aded', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 10, 'created': '2016-11-28 11:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/da4de762ee86804f33253fed1093caf7e8f5d7ab', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 11, 'created': '2016-11-28 14:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/3021103e4b5c4020d8e55764229748886086f9b2', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 12, 'created': '2016-11-28 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9306463b25efb0b9c81767ee0656d3855827b922', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 13, 'created': '2016-11-28 22:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/03c7e27a127d59e480f73cff8032d981a23f571a', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 14, 'created': '2016-11-29 07:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d5a0019668e2cf63ed2bc3c58aeff45c0c892584', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 15, 'created': '2016-11-29 13:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/4dc0407131279f5f44c4306688ac5f8872e5fff1', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 16, 'created': '2016-11-29 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/3cac9eb338a444e46f46600778a18149638e7359', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}, {'number': 17, 'created': '2016-11-29 14:26:08.000000000', 'files': ['templates/mitaka/ceilometer.conf', 'tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/03f162e84bc3aaef50c90305025ab735e82a57bc', 'message': 'Fix support for Keystone v3 domain auth\n\nWhen using v3 authentication and authorization Ceilometer must\nauthenticate to services project in service_domain.\n\nCloses-Bug: 1636098\nChange-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d\n'}]",0,392677,03f162e84bc3aaef50c90305025ab735e82a57bc,76,4,17,13686,,,0,"Fix support for Keystone v3 domain auth

When using v3 authentication and authorization Ceilometer must
authenticate to services project in service_domain.

Closes-Bug: 1636098
Change-Id: I23354e7db0eef83de31f703fdf754ca3ae2db92d
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/77/392677/16 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'templates/mitaka/ceilometer.conf', 'charmhelpers/contrib/openstack/context.py']",3,fdbd865d768c2b04fb511cf6c352eb815f65346d,bug/1636098," 'admin_domain_name': rdata.get('admin_domain_name'),",,11,0
openstack%2Fcharm-ceilometer~master~If2be2265530d8f9535fc15e29a1a07748943d189,openstack/charm-ceilometer,master,If2be2265530d8f9535fc15e29a1a07748943d189,Sync charmhelpers for Keystone v3 fixes,MERGED,2016-11-14 21:53:48.000000000,2016-11-29 22:31:59.000000000,2016-11-29 22:31:59.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-14 21:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/01bd5044a32b807aff0c1435639ec08a4bfce3ab', 'message': 'Sync charmhelpers\n\nChange-Id: If2be2265530d8f9535fc15e29a1a07748943d189\n'}, {'number': 2, 'created': '2016-11-15 07:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/efc99d0793b1dbbf83db82a70b4d8ed2b734cedc', 'message': 'Sync charmhelpers for Keystone v3 fixes\n\nNeeded to get admin_domain_name relation data and updated version of\nsection-keystone-authtoken-mitaka\n\nPartial-Bug: 1636098\nChange-Id: If2be2265530d8f9535fc15e29a1a07748943d189\n'}, {'number': 3, 'created': '2016-11-29 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/77b3a6fe5d638a08e4653dfba3e3d858aa1fcff5', 'message': 'Sync charmhelpers for Keystone v3 fixes\n\nNeeded to get admin_domain_name relation data and updated version of\nsection-keystone-authtoken-mitaka\n\nPartial-Bug: 1636098\nChange-Id: If2be2265530d8f9535fc15e29a1a07748943d189\n'}, {'number': 4, 'created': '2016-11-29 14:26:08.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'charmhelpers/contrib/openstack/neutron.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/dae097c7dc86f1bd55d9bf92ea5683746ff9a966', 'message': 'Sync charmhelpers for Keystone v3 fixes\n\nNeeded to get admin_domain_name relation data and updated version of\nsection-keystone-authtoken-mitaka\n\nPartial-Bug: 1636098\nChange-Id: If2be2265530d8f9535fc15e29a1a07748943d189\n'}]",0,397388,dae097c7dc86f1bd55d9bf92ea5683746ff9a966,23,5,4,13686,,,0,"Sync charmhelpers for Keystone v3 fixes

Needed to get admin_domain_name relation data and updated version of
section-keystone-authtoken-mitaka

Partial-Bug: 1636098
Change-Id: If2be2265530d8f9535fc15e29a1a07748943d189
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/88/397388/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",10,01bd5044a32b807aff0c1435639ec08a4bfce3ab,bug/1636098," # Ocata 'ocata': 'xenial-updates/ocata', 'xenial-ocata': 'xenial-updates/ocata', 'xenial-ocata/updates': 'xenial-updates/ocata', 'xenial-updates/ocata': 'xenial-updates/ocata', 'ocata/proposed': 'xenial-proposed/ocata', 'xenial-ocata/proposed': 'xenial-proposed/ocata', 'xenial-ocata/newton': 'xenial-proposed/ocata',",,79,3
openstack%2Fceilometer~master~I50431af7b517b63864f3ca67ec05794b912081c0,openstack/ceilometer,master,I50431af7b517b63864f3ca67ec05794b912081c0,cmd.storage: stop using global conf,MERGED,2016-10-13 11:50:54.000000000,2016-11-29 22:29:56.000000000,2016-11-29 22:29:56.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 8871}, {'_account_id': 15843}, {'_account_id': 22020}]","[{'number': 1, 'created': '2016-10-13 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d2e0635f01f3c7a8793cb2501cf7d5b06ae9fa57', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 2, 'created': '2016-10-13 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/40b92f6710ba97a76b391baa5bdeed29f7f36246', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 3, 'created': '2016-10-13 15:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8536e891520278eb840e0fd6c8a35935b328131d', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 4, 'created': '2016-10-13 15:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d3f3cfc7b2b58c49a7784aa1eeb222132c5db0aa', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 5, 'created': '2016-10-13 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6d8ae0812c5eb00b5ba0d8c6fe9c5f0e015fce3e', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 6, 'created': '2016-10-14 05:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/08b979b89c1e79e86fe743880bc9e581190c8091', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 7, 'created': '2016-10-14 06:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6728a3b736bce1f30f51ab87b7f419a22a5e8e4f', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 8, 'created': '2016-10-14 09:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1768107060fad42f3cd1b9b43f4b976ec42838b0', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 9, 'created': '2016-10-14 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/877b4a43d04584cd1f271573de50b84cbe9a0b20', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 10, 'created': '2016-10-14 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8ee659e25697ab7d42dd66988aadf53019a00064', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 11, 'created': '2016-10-14 21:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/93e12c0ccbffb57030df6970826339b86199b042', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 12, 'created': '2016-11-02 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d28a211ba7849e6757664d4b024691b6ce6ac448', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 13, 'created': '2016-11-04 08:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/451e57983ac567375473323d693f587eb0127832', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 14, 'created': '2016-11-04 08:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7a75f0b12faad32628e131a364da160c734982d8', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 15, 'created': '2016-11-07 10:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7352f96907a1117be04f01052bf5d5a91c0fe0b3', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 16, 'created': '2016-11-07 14:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a928786eb0dde08a5b1b5e831e0427925af8befe', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 17, 'created': '2016-11-07 16:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/19a19014400cf7c6bb17fe1be46ed3bdfef76a1a', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 18, 'created': '2016-11-21 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/99af4aea3a496debf7d0db6e8ca019cc72c4dab9', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 19, 'created': '2016-11-22 13:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/af8580e1221652c15a2835f6bb5afb1066954058', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 20, 'created': '2016-11-23 20:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/069706e461f6bf93e9f8b46eee80cf0fb0f5829c', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}, {'number': 21, 'created': '2016-11-24 08:00:06.000000000', 'files': ['ceilometer/cmd/storage.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f7508d73ffd456d5c4073dcbdfd8b882b77ac777', 'message': 'cmd.storage: stop using global conf\n\nChange-Id: I50431af7b517b63864f3ca67ec05794b912081c0\n'}]",0,385934,f7508d73ffd456d5c4073dcbdfd8b882b77ac777,72,6,21,2813,,,0,"cmd.storage: stop using global conf

Change-Id: I50431af7b517b63864f3ca67ec05794b912081c0
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/34/385934/13 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/cmd/storage.py'],1,d2e0635f01f3c7a8793cb2501cf7d5b06ae9fa57,sileht/nocfgconf," # FIXME(sileht): Use cfg.ConfigOpts() conf = cfg.CONF conf.register_cli_opts([ service.prepare_service(conf=conf) if conf.skip_metering_database: storage.get_connection_from_config(conf, 'metering').upgrade() if conf.skip_event_database: storage.get_connection_from_config(conf, 'event').upgrade() if conf.skip_gnocchi_resource_types: gnocchi_client.upgrade_resource_types(conf) conf = service.prepare_service() if conf.database.metering_time_to_live > 0: storage_conn = storage.get_connection_from_config(conf, 'metering') conf.database.metering_time_to_live) if conf.database.event_time_to_live > 0: event_conn = storage.get_connection_from_config(conf, 'event') conf.database.event_time_to_live) # FIXME(sileht): Use cfg.ConfigOpts() conf = cfg.CONF conf.register_cli_opts([ if not conf.confirm_drop_alarm_table: service.prepare_service(conf=conf) for purpose in ['metering', 'event']: url = (getattr(conf.database, '%s_connection' % purpose) or conf.database.connection) conn = storage.get_connection_from_config(conf, purpose)"," cfg.CONF.register_cli_opts([ service.prepare_service() if cfg.CONF.skip_metering_database: storage.get_connection_from_config(cfg.CONF, 'metering').upgrade() if cfg.CONF.skip_event_database: storage.get_connection_from_config(cfg.CONF, 'event').upgrade() if cfg.CONF.skip_gnocchi_resource_types: gnocchi_client.upgrade_resource_types(cfg.CONF) service.prepare_service() if cfg.CONF.database.metering_time_to_live > 0: storage_conn = storage.get_connection_from_config(cfg.CONF, 'metering') cfg.CONF.database.metering_time_to_live) if cfg.CONF.database.event_time_to_live > 0: event_conn = storage.get_connection_from_config(cfg.CONF, 'event') cfg.CONF.database.event_time_to_live) cfg.CONF.register_cli_opts([ if not cfg.CONF.confirm_drop_alarm_table: service.prepare_service() for purpose in ['metering', 'event']: url = (getattr(cfg.CONF.database, '%s_connection' % purpose) or cfg.CONF.database.connection) conn = storage.get_connection_from_config(cfg.CONF, purpose)",25,21
openstack%2Fceilometer~master~Id73adbdeb8283fdc46fed746bea4558427fc4fd7,openstack/ceilometer,master,Id73adbdeb8283fdc46fed746bea4558427fc4fd7,test_storage_scenarios: stop using global conf,MERGED,2016-10-13 11:50:54.000000000,2016-11-29 22:29:49.000000000,2016-11-29 22:29:49.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 22020}]","[{'number': 1, 'created': '2016-10-13 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1eab81453db5760f112c2a4b1ed4efa846bf32fa', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 2, 'created': '2016-10-13 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/64c494b4b056a9de3adffc07caa23ab291541429', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 3, 'created': '2016-10-13 15:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a570333ffdc33fbed6026247462d7ac6bf3d4ede', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 4, 'created': '2016-10-13 15:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fa8f540a2ed845797b50b3e295f68d39f458cc91', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 5, 'created': '2016-10-13 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ea39f31a9df4ff142580251d27f189a6e024bd38', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 6, 'created': '2016-10-14 05:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2692f92b748c6fa0cd5b03de0b645303e92b2421', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 7, 'created': '2016-10-14 06:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/06b128cdb796591242cf82c7bc49b33b7974a824', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 8, 'created': '2016-10-14 09:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e784edfa83600a7f5499a3eb4c8d456ac8fa9fac', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 9, 'created': '2016-10-14 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d23d5cc18d38e18cfa032840b8d248d54268e9d5', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 10, 'created': '2016-10-14 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e8465abb4d0e2c7e529d359afd81fd3c3baedd06', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 11, 'created': '2016-10-14 21:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6333a224f8d421fd96ef7567d149646148030596', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 12, 'created': '2016-11-02 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/684625ae3a47b157199a3e103e774c33c642476d', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 13, 'created': '2016-11-04 08:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f270eb131f09cbca9e4cd690292c9f25543c778c', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 14, 'created': '2016-11-04 08:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9c3c2ae4e9f00e05753b18838f764fd5bfc63bea', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 15, 'created': '2016-11-07 10:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7c9e4d4919a7f14a9a5f0f487f986dee908070e6', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 16, 'created': '2016-11-07 14:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/82e6e86aa4be54f12aeb75a7c85d9c8e671fe0b8', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 17, 'created': '2016-11-07 16:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0c9a23da0a87ae6c0c19c8d0bcbd8fc9a454ac41', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 18, 'created': '2016-11-21 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6ce015bef2295113f315578ddd77191b907e5de1', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 19, 'created': '2016-11-22 13:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9e1eb09367fe117001658b537e2ea40985f09486', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 20, 'created': '2016-11-23 20:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9876819b97849b9234c46999c6e0f9893d23ccfb', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}, {'number': 21, 'created': '2016-11-24 08:00:06.000000000', 'files': ['ceilometer/tests/functional/storage/test_storage_scenarios.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4ba6c34035413de64cfd5a43a6c400fa5377bcc6', 'message': 'test_storage_scenarios: stop using global conf\n\nChange-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7\n'}]",0,385933,4ba6c34035413de64cfd5a43a6c400fa5377bcc6,68,5,21,2813,,,0,"test_storage_scenarios: stop using global conf

Change-Id: Id73adbdeb8283fdc46fed746bea4558427fc4fd7
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/33/385933/16 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/functional/storage/test_storage_scenarios.py'],1,1eab81453db5760f112c2a4b1ed4efa846bf32fa,sileht/nocfgconf,"from oslo_config import fixture as fixture_config self.CONF = self.useFixture(fixture_config.Config()).conf self.CONF.set_override('sql_expire_samples_only', True, 'database') self.CONF.set_override('metering_time_to_live', 5, group='database') self.CONF.set_override('metering_time_to_live', 5, group='database') self.CONF.set_override('metering_time_to_live', 15, group='database')","from oslo_config import cfg cfg.CONF.set_override('sql_expire_samples_only', True, 'database') cfg.CONF.set_override('metering_time_to_live', 5, group='database') cfg.CONF.set_override('metering_time_to_live', 5, group='database') cfg.CONF.set_override('metering_time_to_live', 15, group='database')",6,5
openstack%2Fceilometer~master~If5a08dfe78e14b3974c472ddbfba4a8848df2a27,openstack/ceilometer,master,If5a08dfe78e14b3974c472ddbfba4a8848df2a27,"Handling KeyError error, make gnocchi event dispatcher work",MERGED,2016-10-19 02:29:26.000000000,2016-11-29 22:29:41.000000000,2016-11-29 22:29:41.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 8358}, {'_account_id': 15843}, {'_account_id': 22514}, {'_account_id': 22752}]","[{'number': 1, 'created': '2016-10-19 02:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/09e33ce75fbd68639e27088fe4b17001ef4c4a0d', 'message': ""Handling KeyError error, make gnocchi event dispatcher work\n\nhttps://review.openstack.org/#/c/377374/, this patch error changes,\nmake dispatcher/gnocchi.py _delete_event() can't get instance_id\nTODO:\n     Modify the wrong test\n\nChange-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27\nCloses-bug: #1633848\n""}, {'number': 2, 'created': '2016-10-19 04:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/aef61b73d188fae603a47f2a684c8a4351e60f7a', 'message': ""Handling KeyError error, make gnocchi event dispatcher work\n\nhttps://review.openstack.org/#/c/377374/, this patch error changes,\nmake dispatcher/gnocchi.py _delete_event() can't get instance_id.\n\nChange-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27\nCloses-bug: #1633848\n""}, {'number': 3, 'created': '2016-10-19 06:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5807ec15215b09d58e66e81ea323ae5a0cd5b752', 'message': ""Handling KeyError error, make gnocchi event dispatcher work\n\nhttps://review.openstack.org/#/c/377374/, this patch error changes,\nmake dispatcher/gnocchi.py _delete_event() can't get instance_id.\n\nChange-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27\nCloses-bug: #1633848\n""}, {'number': 4, 'created': '2016-11-04 11:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e7701f6554f9a6a44e56aeddfe8475425b608403', 'message': ""Handling KeyError error, make gnocchi event dispatcher work\n\nhttps://review.openstack.org/#/c/377374/, this patch error changes,\nmake dispatcher/gnocchi.py _delete_event() can't get resource id,\nand fix image event_associated_resources, image has not associated\nresource, set it None.\n\nChange-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27\nCloses-bug: #1633848\n""}, {'number': 5, 'created': '2016-11-08 02:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6a74300196fa877e0398d0c369c2c7093dbcf4c3', 'message': ""Handling KeyError error, make gnocchi event dispatcher work\n\nEvents data through database models format conversion, and our code is\nnot considered conversion,make _delete_event() can't get resource id,\nimage has not associated resource,so set image 'event_associated_resources'\nis None.\n\nChange-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27\nCloses-bug: #1633848\n""}, {'number': 6, 'created': '2016-11-25 07:20:26.000000000', 'files': ['ceilometer/dispatcher/data/gnocchi_resources.yaml', 'ceilometer/tests/unit/dispatcher/test_gnocchi.py', 'ceilometer/dispatcher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eb7659f065fa3438bdad71aa8cc73369212c4e09', 'message': ""Handling KeyError error, make gnocchi event dispatcher work\n\nEvents data through database models format conversion, and our code is\nnot considered conversion,make _delete_event() can't get resource id,\nimage has not associated resource,so set image 'event_associated_resources'\nis None.\n\nChange-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27\nCloses-bug: #1633848\n""}]",6,388291,eb7659f065fa3438bdad71aa8cc73369212c4e09,57,7,6,22514,,,0,"Handling KeyError error, make gnocchi event dispatcher work

Events data through database models format conversion, and our code is
not considered conversion,make _delete_event() can't get resource id,
image has not associated resource,so set image 'event_associated_resources'
is None.

Change-Id: If5a08dfe78e14b3974c472ddbfba4a8848df2a27
Closes-bug: #1633848
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/388291/5 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ceilometer/gnocchi_resources.yaml', 'ceilometer/dispatcher/gnocchi.py']",2,09e33ce75fbd68639e27088fe4b17001ef4c4a0d,bug/1633848," attrs = {} traits = dict([(trait[0], trait[2]) for trait in event['traits']]) for attr, field in self.cfg.get('event_attributes', {}).items(): value = traits.get(field) if value is not None: attrs[attr] = value"," attrs = {'type': self.cfg['resource_type']} for name, definition in self._event_attributes.items(): value = definition.parse(event) if value is not None: attrs[name] = value",6,6
openstack%2Fceilometer~master~I32b6a79b6ecace3fc4635728e289b7881aa54ca3,openstack/ceilometer,master,I32b6a79b6ecace3fc4635728e289b7881aa54ca3,Corrected debug msg in CPUL3CachePollster,MERGED,2016-11-25 05:48:43.000000000,2016-11-29 22:29:35.000000000,2016-11-29 22:29:35.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 20100}]","[{'number': 1, 'created': '2016-11-25 05:48:43.000000000', 'files': ['ceilometer/compute/pollsters/cpu.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/64da0bb146361185e3f3234f042d8f49d81a9ebb', 'message': 'Corrected debug msg in CPUL3CachePollster\n\nThis patch fixed the KeyError exception when logging the debug message\nin CPUL3CachePollster.\n\nChange-Id: I32b6a79b6ecace3fc4635728e289b7881aa54ca3\n'}]",0,402298,64da0bb146361185e3f3234f042d8f49d81a9ebb,16,5,1,4491,,,0,"Corrected debug msg in CPUL3CachePollster

This patch fixed the KeyError exception when logging the debug message
in CPUL3CachePollster.

Change-Id: I32b6a79b6ecace3fc4635728e289b7881aa54ca3
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/98/402298/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/pollsters/cpu.py'],1,64da0bb146361185e3f3234f042d8f49d81a9ebb,l3_cpu, 'cache_size': cpu_cache.l3_cache_usage})), 'l3_cache_usage': cpu_cache.l3_cache_usage})),1,1
openstack%2Fceilometer~master~I0f8047b25c30be3562a6fd23d7688dd4d276ad98,openstack/ceilometer,master,I0f8047b25c30be3562a6fd23d7688dd4d276ad98,Modify unit of disk requests rate,MERGED,2016-11-25 07:58:48.000000000,2016-11-29 22:28:21.000000000,2016-11-29 22:28:21.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2016-11-25 07:58:48.000000000', 'files': ['ceilometer/compute/pollsters/disk.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e82cf207a1b294b49eb355524d965e7e0aba1f4a', 'message': 'Modify unit of disk requests rate\n\nUnit of disk requests rate should be request/s, so modify from\n""requests/s"" to ""request/s"".\n\nChange-Id: I0f8047b25c30be3562a6fd23d7688dd4d276ad98\n'}]",0,402342,e82cf207a1b294b49eb355524d965e7e0aba1f4a,15,3,1,20100,,,0,"Modify unit of disk requests rate

Unit of disk requests rate should be request/s, so modify from
""requests/s"" to ""request/s"".

Change-Id: I0f8047b25c30be3562a6fd23d7688dd4d276ad98
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/42/402342/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/pollsters/disk.py'],1,e82cf207a1b294b49eb355524d965e7e0aba1f4a,," instance, 'disk.read.requests.rate', 'request/s', disk_rates_info, 'disk.device.read.requests.rate', 'request/s') instance, 'disk.write.requests.rate', 'request/s', 'disk.device.write.requests.rate', 'request/s')"," instance, 'disk.read.requests.rate', 'requests/s', disk_rates_info, 'disk.device.read.requests.rate', 'requests/s') instance, 'disk.write.requests.rate', 'requests/s', 'disk.device.write.requests.rate', 'requests/s')",4,4
openstack%2Fnova~master~I3923e9c164dd5207c5fabbd388f8a841ab6a4f52,openstack/nova,master,I3923e9c164dd5207c5fabbd388f8a841ab6a4f52,config options: improve libvirt remotefs,MERGED,2016-09-15 13:47:56.000000000,2016-11-29 22:27:11.000000000,2016-11-29 22:27:11.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-09-15 13:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e13c035cddbdca2fe90c956a17573f313dc8bb2', 'message': 'WIP config options: improve libvirt\n\nChange-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 2, 'created': '2016-09-15 13:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/046c092a1c51e5722b4aa2e799f7422133bdf94f', 'message': 'WIP config options: improve libvirt\n\nChange-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 3, 'created': '2016-09-27 11:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23682cdde13d4a7fe71d009338a76e07260db2c8', 'message': 'WIP config options: improve libvirt\n\nChange-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 4, 'created': '2016-09-27 12:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a413646532904d31d0d6afb70f090e6e565791ea', 'message': 'config options: improve libvirt remotefs\n\nChange-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 5, 'created': '2016-11-25 11:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df7f0e77a97e259e1f40c5620b9f5a3ae5126113', 'message': 'config options: improve libvirt remotefs\n\nChange-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 6, 'created': '2016-11-25 11:24:34.000000000', 'files': ['nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce16fa80d9a45feeafbca998fe87dd21b4d5096d', 'message': 'config options: improve libvirt remotefs\n\nChange-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52\nImplements: blueprint centralize-config-options-ocata\n'}]",3,370843,ce16fa80d9a45feeafbca998fe87dd21b4d5096d,46,17,6,14511,,,0,"config options: improve libvirt remotefs

Change-Id: I3923e9c164dd5207c5fabbd388f8a841ab6a4f52
Implements: blueprint centralize-config-options-ocata
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/370843/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,9e13c035cddbdca2fe90c956a17573f313dc8bb2,bp/centralize-config-options-ocata,"),"," ),",1,1
openstack%2Fnova~master~I0a458c52ce618774abfe02bd7677d46d9fd5ddf2,openstack/nova,master,I0a458c52ce618774abfe02bd7677d46d9fd5ddf2,Improve consistency in libvirt,MERGED,2016-08-10 18:34:20.000000000,2016-11-29 22:26:38.000000000,2016-11-29 22:26:37.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 19590}, {'_account_id': 19741}, {'_account_id': 21784}, {'_account_id': 22771}, {'_account_id': 23312}]","[{'number': 1, 'created': '2016-08-10 18:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8aa0b0ae9b6b5fd5373f433aec9d4b9012a09f0', 'message': 'WIP: Improve consistency in serial_console\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 2, 'created': '2016-08-10 18:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f950512bece67bec84eda9b6710dc295c83b6f1', 'message': 'WIP: Improve consistency in libvirt\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 3, 'created': '2016-08-10 18:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2434423c3863228df9f66c79239a8aa2374e532', 'message': 'WIP: Improve consistency in libvirt\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 4, 'created': '2016-08-10 19:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd2892d0fe09f9e291f1f242e78a088c714649f', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n* changed StrOpt to URIOpt where needed\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 5, 'created': '2016-08-11 15:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dba1dfccdc2c78a94c781f7c2927bb3ae6528250', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 6, 'created': '2016-08-12 01:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a11c5baf238a9ec28cb86c55d0161f7448ce7a27', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 7, 'created': '2016-08-12 01:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e409dfde3fb3c6199f63104a5eea3c7081a7f356', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 8, 'created': '2016-08-15 16:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c5cf5359545a0d3203e0527ae0dfc7392502750', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 9, 'created': '2016-08-18 19:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f21f4b49c03ed6c47f776909654dd8370011b126', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 10, 'created': '2016-09-12 12:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/693dc5d324eaafcd5b04e566406c1f1e904c9eca', 'message': 'Improve consistency in libvirt\n\n* updated header flags\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 11, 'created': '2016-09-12 12:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98d04e9ab9cbbadeb0b08a8c6199e13942649622', 'message': 'Improve consistency in libvirt\n\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-newton\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 12, 'created': '2016-09-14 07:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1337a8487755c39fc325a181488e2171f7fc3cc4', 'message': 'Improve consistency in libvirt\n\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 13, 'created': '2016-09-19 13:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5d2f65e03c3f11c4fb260727d0f6cb88b926d8a', 'message': 'Improve consistency in libvirt\n\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 14, 'created': '2016-09-27 14:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/128f240858755cb4fdfd97be3efa5bf76ea55987', 'message': 'Improve consistency in libvirt\n\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}, {'number': 15, 'created': '2016-11-25 11:24:22.000000000', 'files': ['nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0502c30db14206cef69a3c43182457ec49d08fdc', 'message': 'Improve consistency in libvirt\n\n* moved asterisk in few opts\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2\n'}]",6,353679,0502c30db14206cef69a3c43182457ec49d08fdc,154,26,15,14511,,,0,"Improve consistency in libvirt

* moved asterisk in few opts

Blueprint centralize-config-options-ocata

Change-Id: I0a458c52ce618774abfe02bd7677d46d9fd5ddf2
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/353679/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,a8aa0b0ae9b6b5fd5373f433aec9d4b9012a09f0,bp/centralize-config-options-ocata,# TODO(macsz) dummy todo to have any change for rebase,,1,0
openstack%2Fnova~master~I92ffe5022a6b52eb66e134d8acc61684fa0f893e,openstack/nova,master,I92ffe5022a6b52eb66e134d8acc61684fa0f893e,Config options: improve libvirt help text (2),MERGED,2016-05-16 03:40:34.000000000,2016-11-29 22:26:00.000000000,2016-11-29 22:25:59.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 7764}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 18339}, {'_account_id': 19554}, {'_account_id': 19590}, {'_account_id': 19741}, {'_account_id': 21784}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-05-16 03:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bf7b7463a223013918ef63e4d58bd8b82e2a28e', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 2, 'created': '2016-06-01 01:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2823272401a44bb253dfdf74e67e6b0a3e3bd385', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 3, 'created': '2016-06-01 02:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fc7578c6317b870ab2877f9d85d94461ea4a308', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 4, 'created': '2016-06-10 06:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/656787dbf837aa29cde8118598340eac87b71ccb', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 5, 'created': '2016-06-10 06:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2c969cbae8bac98332770b6e12148b62e8114c6', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 6, 'created': '2016-06-17 00:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f50048cd4c43713fcb55e61f0c5510733f40309', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 7, 'created': '2016-06-20 01:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/416cba20aecb58bc976d0cf5252e69dd017074fb', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 8, 'created': '2016-06-29 01:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4c09fc42b1104d3d21b671a6719eb58aba1807f', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 9, 'created': '2016-07-06 06:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daa0304aa222042a30dbf07a3c12bc3ab52ec36d', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 10, 'created': '2016-07-12 06:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2790f0614a7d2962457126810a990f5a7fe02ed', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 11, 'created': '2016-07-21 01:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46200a1569317c62a1660bd04c51df26c6068aaa', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 12, 'created': '2016-08-10 03:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19b9adefe9736f53c051815604c4a556074ad0f1', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 13, 'created': '2016-08-11 01:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e823e8d1374959fbea854deb0b9efa09702ad045', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 14, 'created': '2016-08-12 01:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c07508a442b6ca79cb25f435ce76c34bb102ea0', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubbet of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 15, 'created': '2016-08-15 02:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19560c837467be50e8095d6579f5533b81febe94', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 16, 'created': '2016-08-15 05:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2a98c050f815c62c3995d46fa639b895dee5020', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 17, 'created': '2016-08-17 01:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4de895e877d4da6600cb8bb34f0258b06c77f3b0', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 18, 'created': '2016-08-18 01:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8548780242adbd6ba7e0b9e6b6ec5e617f92e9d9', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 19, 'created': '2016-09-12 12:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/456045bc80ab9db8236743909ed7c23fd6c6306e', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-newton\n'}, {'number': 20, 'created': '2016-09-14 00:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc2568d78773061e7f61af920e065e8d43ac71b7', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 21, 'created': '2016-09-20 23:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9263489f63a89c36a2fc4318944c32c85f9dbb16', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 22, 'created': '2016-09-22 06:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48f34722b078fb5f7cfde6462bf9cbbb56d022eb', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 23, 'created': '2016-09-23 07:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2566d46c4d868564c3bf608873e0219bd533c71c', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 24, 'created': '2016-10-12 02:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab43b924c1f3865c6879d0971bcb34b9b89d47c0', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 25, 'created': '2016-10-12 09:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5520c11bd35341b98e1152cf690cb9deba7b4ec1', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 26, 'created': '2016-11-24 07:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80d974d8fc8387af7fbceb8f71ba7be4466b37bb', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nThis commit also formats the help text of some of the other config\noptions and removes parts of the help texts of other config options\nwe agreed on to clean up.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}, {'number': 27, 'created': '2016-11-24 08:13:00.000000000', 'files': ['nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59204025e95d11c095503bcf3ddcb0aa0468f934', 'message': 'Config options: improve libvirt help text (2)\n\nThis commit adds additional help text to the following\nsubset of options: live_migration* and snapshot_image_format.\n\nThis commit also formats the help text of some of the other config\noptions and removes parts of the help texts of other config options\nwe agreed on to clean up.\n\nChange-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e\nImplements: blueprint centralize-config-options-ocata\n'}]",162,316550,59204025e95d11c095503bcf3ddcb0aa0468f934,376,29,27,19741,,,0,"Config options: improve libvirt help text (2)

This commit adds additional help text to the following
subset of options: live_migration* and snapshot_image_format.

This commit also formats the help text of some of the other config
options and removes parts of the help texts of other config options
we agreed on to clean up.

Change-Id: I92ffe5022a6b52eb66e134d8acc61684fa0f893e
Implements: blueprint centralize-config-options-ocata
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/316550/26 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,2bf7b7463a223013918ef63e4d58bd8b82e2a28e,bp/centralize-config-options-ocata," help="""""" The IP address or hostname to be used as the target for live migration traffic If this option is set to None, which is the default, the hostname of the migration target compute node will be used. Possible values: * Validated IP address or hostname Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """"""), help="""""" Override the default libvirt live migration target URI (which is dependent on virt_type). Any included ""%s"" is replaced with the migration target hostname. Possible values: * An URI like ``qemu+tcp://%s-lm/system`` for example if using with KVM/QEMU. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """"""), deprecated_reason="""""" The correct live migration flags can be inferred from the new live_migration_tunnelled config option. live_migration_flag will be removed to avoid potential misconfiguration. """"""), deprecated_reason="""""" The correct block migration flags can be inferred from the new live_migration_tunnelled config option. block_migration_flag will be removed to avoid potential misconfiguration. """"""), help="""""" Whether to use tunnelled migration, where migration data is transported over the libvirtd connection. If True, we use the VIR_MIGRATE_TUNNELLED migration flag, avoiding the need to configure the network to allow direct hypervisor to hypervisor communication. If False, use the native transport. If not set, Nova will choose a sensible default based on, for example the availability of native encryption support in the hypervisor. Possible values: * ``True``: enable tunnelled migration over libvirtd connection. * ``False``: disable tunnelled migration, using native transport. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """"""), help="""""" Maximum bandwidth(in MiB/s) to be used during migration. If set to 0, will choose a suitable default. Some hypervisors do not support this feature and will return an error if bandwidth is not 0. Please refer to the libvirt documentation for further details. Possible values: * Integer value. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """"""), help="""""" Maximum permitted downtime, in milliseconds, for live migration switchover. Will be rounded up to a minimum of %dms. Use a large value if guest liveness is unimportant. Possible values: * Integer value. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """""" % LIVE_MIGRATION_DOWNTIME_MIN), help="""""" Number of incremental steps to reach max downtime value. Will be rounded up to a minimum of %d steps. Possible values: * Integer value. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """""" % LIVE_MIGRATION_DOWNTIME_STEPS_MIN), help="""""" Time to wait, in seconds, between each step increase of the migration downtime. Minimum delay is %d seconds. Value is per GiB of guest RAM + disk to be transferred, with lower bound of a minimum of 2 GiB per device. Possible values: * Integer value. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """""" % LIVE_MIGRATION_DOWNTIME_DELAY_MIN), help="""""" Time to wait, in seconds, for migration to successfully complete transferring data before aborting the operation. Value is per GiB of guest RAM + disk to be transferred, with lower bound of a minimum of 2 GiB. Should usually be larger than downtime delay * downtime steps. Set to 0 to disable timeouts. Possible values: * Integer value. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """"""), help="""""" Time to wait, in seconds, for migration to make forward progress in transferring data before aborting the operation. Set to 0 to disable timeouts. Possible values: * Integer value. Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used that support live migration. """"""), help="""""" Snapshot image format. Defaults to same as source image. Possible values: * ``raw``: RAW disk format * ``qcow2``: KVM default disk format * ``vmdk``: VMWare default disk format * ``vdi``: VirtualBox default disk format Services which consume this: * ``nova-compute`` Related options: * ``virt_type``: Influences which hypervisor is used, which determines the suitable image format. """"""),"," help='Live migration target ip or hostname ' '(if this option is set to None, which is the default, ' 'the hostname of the migration target ' 'compute node will be used)'), help='Override the default libvirt live migration target URI ' '(which is dependent on virt_type) ' '(any included ""%s"" is replaced with ' 'the migration target hostname)'), deprecated_reason='The correct live migration flags can be ' 'inferred from the new ' 'live_migration_tunnelled config option. ' 'live_migration_flag will be removed to ' 'avoid potential misconfiguration.'), deprecated_reason='The correct block migration flags can be ' 'inferred from the new ' 'live_migration_tunnelled config option. ' 'block_migration_flag will be removed to ' 'avoid potential misconfiguration.'), help='Whether to use tunnelled migration, where migration ' 'data is transported over the libvirtd connection. If ' 'True, we use the VIR_MIGRATE_TUNNELLED migration flag, ' 'avoiding the need to configure the network to allow ' 'direct hypervisor to hypervisor communication. If ' 'False, use the native transport. If not set, Nova ' 'will choose a sensible default based on, for example ' 'the availability of native encryption support in the ' 'hypervisor.'), help='Maximum bandwidth(in MiB/s) to be used during migration. ' 'If set to 0, will choose a suitable default. Some ' 'hypervisors do not support this feature and will return ' 'an error if bandwidth is not 0. Please refer to the ' 'libvirt documentation for further details'), help='Maximum permitted downtime, in milliseconds, for live ' 'migration switchover. Will be rounded up to a minimum ' 'of %dms. Use a large value if guest liveness is ' 'unimportant.' % LIVE_MIGRATION_DOWNTIME_MIN), help='Number of incremental steps to reach max downtime value. ' 'Will be rounded up to a minimum of %d steps' % LIVE_MIGRATION_DOWNTIME_STEPS_MIN), help='Time to wait, in seconds, between each step increase ' 'of the migration downtime. Minimum delay is %d seconds. ' 'Value is per GiB of guest RAM + disk to be transferred, ' 'with lower bound of a minimum of 2 GiB per device' % LIVE_MIGRATION_DOWNTIME_DELAY_MIN), help='Time to wait, in seconds, for migration to successfully ' 'complete transferring data before aborting the ' 'operation. Value is per GiB of guest RAM + disk to be ' 'transferred, with lower bound of a minimum of 2 GiB. ' 'Should usually be larger than downtime delay * downtime ' 'steps. Set to 0 to disable timeouts.'), help='Time to wait, in seconds, for migration to make forward ' 'progress in transferring data before aborting the ' 'operation. Set to 0 to disable timeouts.'), help='Snapshot image format. Defaults to same as source image'),",196,54
openstack%2Fnova~master~I7170bf7c181b038bb3d70a3b86c87ee254d10efc,openstack/nova,master,I7170bf7c181b038bb3d70a3b86c87ee254d10efc,linux_net: allow for creation of multiqueue taps,MERGED,2016-11-01 14:51:54.000000000,2016-11-29 22:24:59.000000000,2016-11-28 12:35:07.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-01 14:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6180dfd9c2f3f7de94ca51b85bae45d1fc55485e', 'message': 'linux_net: allow for creation of multiqueue taps\n\nThis is useful for e.g. enabling multiqueue support for vrouter: tap\ndevices created by Nova and then passed to libvirt must have\nmultiqueue enabled.\n\nRelated-Bug: #1573067\n\nCo-Authored-By: Michal Dubiel <md@semihalf.com>\nChange-Id: I7170bf7c181b038bb3d70a3b86c87ee254d10efc\n'}, {'number': 2, 'created': '2016-11-04 10:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bba1f4cc0781cbe7b7996a8c12255af9b6bfdbc', 'message': 'linux_net: allow for creation of multiqueue taps\n\nThis is useful for e.g. enabling multiqueue support for vrouter: tap\ndevices created by Nova and then passed to libvirt must have\nmultiqueue enabled.\n\nImplements blueprint vif-vrouter-multiqueue\n\nCo-Authored-By: Michal Dubiel <md@semihalf.com>\nChange-Id: I7170bf7c181b038bb3d70a3b86c87ee254d10efc\n'}, {'number': 3, 'created': '2016-11-04 13:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00eb04769a255af31d1001c3ada2efa7e3a57cd2', 'message': 'linux_net: allow for creation of multiqueue taps\n\nThis is useful for e.g. enabling multiqueue support for vrouter: tap\ndevices created by Nova and then passed to libvirt must have\nmultiqueue enabled.\n\nImplements blueprint vif-vrouter-multiqueue\n\nCo-Authored-By: Michal Dubiel <md@semihalf.com>\nChange-Id: I7170bf7c181b038bb3d70a3b86c87ee254d10efc\n'}, {'number': 4, 'created': '2016-11-24 11:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbab48c6b7d4476a7c5932de6022aeb878c7503c', 'message': 'linux_net: allow for creation of multiqueue taps\n\nThis is useful for e.g. enabling multiqueue support for vrouter: tap\ndevices created by Nova and then passed to libvirt must have\nmultiqueue enabled.\n\nImplements blueprint vif-vrouter-multiqueue\n\nCo-Authored-By: Michal Dubiel <md@semihalf.com>\nChange-Id: I7170bf7c181b038bb3d70a3b86c87ee254d10efc\n'}, {'number': 5, 'created': '2016-11-24 13:58:50.000000000', 'files': ['nova/tests/unit/network/test_linux_net.py', 'nova/network/linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41d601851dc01c5ed1058ffedd23e7856200b628', 'message': 'linux_net: allow for creation of multiqueue taps\n\nThis is useful for e.g. enabling multiqueue support for vrouter: tap\ndevices created by Nova and then passed to libvirt must have\nmultiqueue enabled.\n\nImplements blueprint vif-vrouter-multiqueue\n\nCo-Authored-By: Michal Dubiel <md@semihalf.com>\nChange-Id: I7170bf7c181b038bb3d70a3b86c87ee254d10efc\n'}]",16,392185,41d601851dc01c5ed1058ffedd23e7856200b628,79,17,5,6849,,,0,"linux_net: allow for creation of multiqueue taps

This is useful for e.g. enabling multiqueue support for vrouter: tap
devices created by Nova and then passed to libvirt must have
multiqueue enabled.

Implements blueprint vif-vrouter-multiqueue

Co-Authored-By: Michal Dubiel <md@semihalf.com>
Change-Id: I7170bf7c181b038bb3d70a3b86c87ee254d10efc
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/392185/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_linux_net.py', 'nova/network/linux_net.py']",2,6180dfd9c2f3f7de94ca51b85bae45d1fc55485e,bp/to,"def create_tap_dev(dev, mac_address=None, multiqueue=False): cmd = ('ip', 'tuntap', 'add', dev, 'mode', 'tap') if multiqueue: cmd = cmd + ('multi_queue', ) utils.execute(*cmd, run_as_root=True, check_exit_code=[0, 2, 254]) except processutils.ProcessExecutionError: if multiqueue: raise ValueError(_('tunctl does not support creation ' 'of multi-queue tap devices'))","def create_tap_dev(dev, mac_address=None): utils.execute('ip', 'tuntap', 'add', dev, 'mode', 'tap', run_as_root=True, check_exit_code=[0, 2, 254]) except processutils.ProcessExecutionError:",77,3
openstack%2Fswift~master~I0b49d4f8bc7dd204d06258f4910cfc9a5ba4bdcb,openstack/swift,master,I0b49d4f8bc7dd204d06258f4910cfc9a5ba4bdcb,breaking up functional/tests.py a bit further,MERGED,2016-11-23 02:51:42.000000000,2016-11-29 22:24:49.000000000,2016-11-29 22:24:49.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 7847}]","[{'number': 1, 'created': '2016-11-23 02:51:42.000000000', 'files': ['test/functional/test_dlo.py', 'test/functional/tests.py', 'test/functional/test_slo.py', 'test/functional/test_tempurl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aa8bf827e24281f62530ed9fdd84b19a50f6c833', 'message': ""breaking up functional/tests.py a bit further\n\nThis patch removes the slo, dlo and tempurl tests from tests.py\nAs before, this patch does not refactor any code it's only a copy\nand paste to make it easy to review\n\nChange-Id: I0b49d4f8bc7dd204d06258f4910cfc9a5ba4bdcb\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n""}]",0,401047,aa8bf827e24281f62530ed9fdd84b19a50f6c833,8,3,1,9625,,,0,"breaking up functional/tests.py a bit further

This patch removes the slo, dlo and tempurl tests from tests.py
As before, this patch does not refactor any code it's only a copy
and paste to make it easy to review

Change-Id: I0b49d4f8bc7dd204d06258f4910cfc9a5ba4bdcb
Signed-off-by: Thiago da Silva <thiago@redhat.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/401047/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/test_dlo.py', 'test/functional/tests.py', 'test/functional/test_slo.py', 'test/functional/test_tempurl.py']",4,aa8bf827e24281f62530ed9fdd84b19a50f6c833,breakup_functional_tests,"#!/usr/bin/python -u # Copyright (c) 2010-2016 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import hmac import hashlib import json import time from copy import deepcopy from six.moves import urllib from unittest2 import SkipTest import test.functional as tf from test.functional import cluster_info from test.functional.tests import Utils, Base, Base2 from test.functional import requires_acls from test.functional.swift_test_client import Account, Connection, \ ResponseError def setUpModule(): tf.setup_package() def tearDownModule(): tf.teardown_package() class TestTempurlEnv(object): tempurl_enabled = None # tri-state: None initially, then True/False @classmethod def setUp(cls): cls.conn = Connection(tf.config) cls.conn.authenticate() if cls.tempurl_enabled is None: cls.tempurl_enabled = 'tempurl' in cluster_info if not cls.tempurl_enabled: return cls.tempurl_key = Utils.create_name() cls.tempurl_key2 = Utils.create_name() cls.account = Account( cls.conn, tf.config.get('account', tf.config['username'])) cls.account.delete_containers() cls.account.update_metadata({ 'temp-url-key': cls.tempurl_key, 'temp-url-key-2': cls.tempurl_key2 }) cls.container = cls.account.container(Utils.create_name()) if not cls.container.create(): raise ResponseError(cls.conn.response) cls.obj = cls.container.file(Utils.create_name()) cls.obj.write(""obj contents"") cls.other_obj = cls.container.file(Utils.create_name()) cls.other_obj.write(""other obj contents"") class TestTempurl(Base): env = TestTempurlEnv set_up = False def setUp(self): super(TestTempurl, self).setUp() if self.env.tempurl_enabled is False: raise SkipTest(""TempURL not enabled"") elif self.env.tempurl_enabled is not True: # just some sanity checking raise Exception( ""Expected tempurl_enabled to be True/False, got %r"" % (self.env.tempurl_enabled,)) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(self.env.obj.path), self.env.tempurl_key) self.obj_tempurl_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} def tempurl_sig(self, method, expires, path, key): return hmac.new( key, '%s\n%s\n%s' % (method, expires, urllib.parse.unquote(path)), hashlib.sha1).hexdigest() def test_GET(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") # GET tempurls also allow HEAD requests self.assertTrue(self.env.obj.info(parms=self.obj_tempurl_parms, cfg={'no_auth_token': True})) def test_GET_with_key_2(self): expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(self.env.obj.path), self.env.tempurl_key2) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} contents = self.env.obj.read(parms=parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") def test_GET_DLO_inside_container(self): seg1 = self.env.container.file( ""get-dlo-inside-seg1"" + Utils.create_name()) seg2 = self.env.container.file( ""get-dlo-inside-seg2"" + Utils.create_name()) seg1.write(""one fish two fish "") seg2.write(""red fish blue fish"") manifest = self.env.container.file(""manifest"" + Utils.create_name()) manifest.write( '', hdrs={""X-Object-Manifest"": ""%s/get-dlo-inside-seg"" % (self.env.container.name,)}) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(manifest.path), self.env.tempurl_key) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} contents = manifest.read(parms=parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""one fish two fish red fish blue fish"") def test_GET_DLO_outside_container(self): seg1 = self.env.container.file( ""get-dlo-outside-seg1"" + Utils.create_name()) seg2 = self.env.container.file( ""get-dlo-outside-seg2"" + Utils.create_name()) seg1.write(""one fish two fish "") seg2.write(""red fish blue fish"") container2 = self.env.account.container(Utils.create_name()) container2.create() manifest = container2.file(""manifest"" + Utils.create_name()) manifest.write( '', hdrs={""X-Object-Manifest"": ""%s/get-dlo-outside-seg"" % (self.env.container.name,)}) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(manifest.path), self.env.tempurl_key) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} # cross container tempurl works fine for account tempurl key contents = manifest.read(parms=parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""one fish two fish red fish blue fish"") self.assert_status([200]) def test_PUT(self): new_obj = self.env.container.file(Utils.create_name()) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'PUT', expires, self.env.conn.make_path(new_obj.path), self.env.tempurl_key) put_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} new_obj.write('new obj contents', parms=put_parms, cfg={'no_auth_token': True}) self.assertEqual(new_obj.read(), ""new obj contents"") # PUT tempurls also allow HEAD requests self.assertTrue(new_obj.info(parms=put_parms, cfg={'no_auth_token': True})) def test_PUT_manifest_access(self): new_obj = self.env.container.file(Utils.create_name()) # give out a signature which allows a PUT to new_obj expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'PUT', expires, self.env.conn.make_path(new_obj.path), self.env.tempurl_key) put_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} # try to create manifest pointing to some random container try: new_obj.write('', { 'x-object-manifest': '%s/foo' % 'some_random_container' }, parms=put_parms, cfg={'no_auth_token': True}) except ResponseError as e: self.assertEqual(e.status, 400) else: self.fail('request did not error') # create some other container other_container = self.env.account.container(Utils.create_name()) if not other_container.create(): raise ResponseError(self.conn.response) # try to create manifest pointing to new container try: new_obj.write('', { 'x-object-manifest': '%s/foo' % other_container }, parms=put_parms, cfg={'no_auth_token': True}) except ResponseError as e: self.assertEqual(e.status, 400) else: self.fail('request did not error') # try again using a tempurl POST to an already created object new_obj.write('', {}, parms=put_parms, cfg={'no_auth_token': True}) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'POST', expires, self.env.conn.make_path(new_obj.path), self.env.tempurl_key) post_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} try: new_obj.post({'x-object-manifest': '%s/foo' % other_container}, parms=post_parms, cfg={'no_auth_token': True}) except ResponseError as e: self.assertEqual(e.status, 400) else: self.fail('request did not error') def test_HEAD(self): expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'HEAD', expires, self.env.conn.make_path(self.env.obj.path), self.env.tempurl_key) head_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} self.assertTrue(self.env.obj.info(parms=head_parms, cfg={'no_auth_token': True})) # HEAD tempurls don't allow PUT or GET requests, despite the fact that # PUT and GET tempurls both allow HEAD requests self.assertRaises(ResponseError, self.env.other_obj.read, cfg={'no_auth_token': True}, parms=self.obj_tempurl_parms) self.assert_status([401]) self.assertRaises(ResponseError, self.env.other_obj.write, 'new contents', cfg={'no_auth_token': True}, parms=self.obj_tempurl_parms) self.assert_status([401]) def test_different_object(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") self.assertRaises(ResponseError, self.env.other_obj.read, cfg={'no_auth_token': True}, parms=self.obj_tempurl_parms) self.assert_status([401]) def test_changing_sig(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") parms = self.obj_tempurl_parms.copy() if parms['temp_url_sig'][0] == 'a': parms['temp_url_sig'] = 'b' + parms['temp_url_sig'][1:] else: parms['temp_url_sig'] = 'a' + parms['temp_url_sig'][1:] self.assertRaises(ResponseError, self.env.obj.read, cfg={'no_auth_token': True}, parms=parms) self.assert_status([401]) def test_changing_expires(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") parms = self.obj_tempurl_parms.copy() if parms['temp_url_expires'][-1] == '0': parms['temp_url_expires'] = parms['temp_url_expires'][:-1] + '1' else: parms['temp_url_expires'] = parms['temp_url_expires'][:-1] + '0' self.assertRaises(ResponseError, self.env.obj.read, cfg={'no_auth_token': True}, parms=parms) self.assert_status([401]) class TestTempurlUTF8(Base2, TestTempurl): set_up = False class TestContainerTempurlEnv(object): tempurl_enabled = None # tri-state: None initially, then True/False @classmethod def setUp(cls): cls.conn = Connection(tf.config) cls.conn.authenticate() if cls.tempurl_enabled is None: cls.tempurl_enabled = 'tempurl' in cluster_info if not cls.tempurl_enabled: return cls.tempurl_key = Utils.create_name() cls.tempurl_key2 = Utils.create_name() cls.account = Account( cls.conn, tf.config.get('account', tf.config['username'])) cls.account.delete_containers() # creating another account and connection # for ACL tests config2 = deepcopy(tf.config) config2['account'] = tf.config['account2'] config2['username'] = tf.config['username2'] config2['password'] = tf.config['password2'] cls.conn2 = Connection(config2) cls.conn2.authenticate() cls.account2 = Account( cls.conn2, config2.get('account', config2['username'])) cls.account2 = cls.conn2.get_account() cls.container = cls.account.container(Utils.create_name()) if not cls.container.create({ 'x-container-meta-temp-url-key': cls.tempurl_key, 'x-container-meta-temp-url-key-2': cls.tempurl_key2, 'x-container-read': cls.account2.name}): raise ResponseError(cls.conn.response) cls.obj = cls.container.file(Utils.create_name()) cls.obj.write(""obj contents"") cls.other_obj = cls.container.file(Utils.create_name()) cls.other_obj.write(""other obj contents"") class TestContainerTempurl(Base): env = TestContainerTempurlEnv set_up = False def setUp(self): super(TestContainerTempurl, self).setUp() if self.env.tempurl_enabled is False: raise SkipTest(""TempURL not enabled"") elif self.env.tempurl_enabled is not True: # just some sanity checking raise Exception( ""Expected tempurl_enabled to be True/False, got %r"" % (self.env.tempurl_enabled,)) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(self.env.obj.path), self.env.tempurl_key) self.obj_tempurl_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} def tempurl_sig(self, method, expires, path, key): return hmac.new( key, '%s\n%s\n%s' % (method, expires, urllib.parse.unquote(path)), hashlib.sha1).hexdigest() def test_GET(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") # GET tempurls also allow HEAD requests self.assertTrue(self.env.obj.info(parms=self.obj_tempurl_parms, cfg={'no_auth_token': True})) def test_GET_with_key_2(self): expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(self.env.obj.path), self.env.tempurl_key2) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} contents = self.env.obj.read(parms=parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") def test_PUT(self): new_obj = self.env.container.file(Utils.create_name()) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'PUT', expires, self.env.conn.make_path(new_obj.path), self.env.tempurl_key) put_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} new_obj.write('new obj contents', parms=put_parms, cfg={'no_auth_token': True}) self.assertEqual(new_obj.read(), ""new obj contents"") # PUT tempurls also allow HEAD requests self.assertTrue(new_obj.info(parms=put_parms, cfg={'no_auth_token': True})) def test_HEAD(self): expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'HEAD', expires, self.env.conn.make_path(self.env.obj.path), self.env.tempurl_key) head_parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} self.assertTrue(self.env.obj.info(parms=head_parms, cfg={'no_auth_token': True})) # HEAD tempurls don't allow PUT or GET requests, despite the fact that # PUT and GET tempurls both allow HEAD requests self.assertRaises(ResponseError, self.env.other_obj.read, cfg={'no_auth_token': True}, parms=self.obj_tempurl_parms) self.assert_status([401]) self.assertRaises(ResponseError, self.env.other_obj.write, 'new contents', cfg={'no_auth_token': True}, parms=self.obj_tempurl_parms) self.assert_status([401]) def test_different_object(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") self.assertRaises(ResponseError, self.env.other_obj.read, cfg={'no_auth_token': True}, parms=self.obj_tempurl_parms) self.assert_status([401]) def test_changing_sig(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") parms = self.obj_tempurl_parms.copy() if parms['temp_url_sig'][0] == 'a': parms['temp_url_sig'] = 'b' + parms['temp_url_sig'][1:] else: parms['temp_url_sig'] = 'a' + parms['temp_url_sig'][1:] self.assertRaises(ResponseError, self.env.obj.read, cfg={'no_auth_token': True}, parms=parms) self.assert_status([401]) def test_changing_expires(self): contents = self.env.obj.read( parms=self.obj_tempurl_parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""obj contents"") parms = self.obj_tempurl_parms.copy() if parms['temp_url_expires'][-1] == '0': parms['temp_url_expires'] = parms['temp_url_expires'][:-1] + '1' else: parms['temp_url_expires'] = parms['temp_url_expires'][:-1] + '0' self.assertRaises(ResponseError, self.env.obj.read, cfg={'no_auth_token': True}, parms=parms) self.assert_status([401]) @requires_acls def test_tempurl_keys_visible_to_account_owner(self): if not tf.cluster_info.get('tempauth'): raise SkipTest('TEMP AUTH SPECIFIC TEST') metadata = self.env.container.info() self.assertEqual(metadata.get('tempurl_key'), self.env.tempurl_key) self.assertEqual(metadata.get('tempurl_key2'), self.env.tempurl_key2) @requires_acls def test_tempurl_keys_hidden_from_acl_readonly(self): if not tf.cluster_info.get('tempauth'): raise SkipTest('TEMP AUTH SPECIFIC TEST') original_token = self.env.container.conn.storage_token self.env.container.conn.storage_token = self.env.conn2.storage_token metadata = self.env.container.info() self.env.container.conn.storage_token = original_token self.assertNotIn( 'tempurl_key', metadata, 'Container TempURL key found, should not be visible ' 'to readonly ACLs') self.assertNotIn( 'tempurl_key2', metadata, 'Container TempURL key-2 found, should not be visible ' 'to readonly ACLs') def test_GET_DLO_inside_container(self): seg1 = self.env.container.file( ""get-dlo-inside-seg1"" + Utils.create_name()) seg2 = self.env.container.file( ""get-dlo-inside-seg2"" + Utils.create_name()) seg1.write(""one fish two fish "") seg2.write(""red fish blue fish"") manifest = self.env.container.file(""manifest"" + Utils.create_name()) manifest.write( '', hdrs={""X-Object-Manifest"": ""%s/get-dlo-inside-seg"" % (self.env.container.name,)}) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(manifest.path), self.env.tempurl_key) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} contents = manifest.read(parms=parms, cfg={'no_auth_token': True}) self.assertEqual(contents, ""one fish two fish red fish blue fish"") def test_GET_DLO_outside_container(self): container2 = self.env.account.container(Utils.create_name()) container2.create() seg1 = container2.file( ""get-dlo-outside-seg1"" + Utils.create_name()) seg2 = container2.file( ""get-dlo-outside-seg2"" + Utils.create_name()) seg1.write(""one fish two fish "") seg2.write(""red fish blue fish"") manifest = self.env.container.file(""manifest"" + Utils.create_name()) manifest.write( '', hdrs={""X-Object-Manifest"": ""%s/get-dlo-outside-seg"" % (container2.name,)}) expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(manifest.path), self.env.tempurl_key) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} # cross container tempurl does not work for container tempurl key try: manifest.read(parms=parms, cfg={'no_auth_token': True}) except ResponseError as e: self.assertEqual(e.status, 401) else: self.fail('request did not error') try: manifest.info(parms=parms, cfg={'no_auth_token': True}) except ResponseError as e: self.assertEqual(e.status, 401) else: self.fail('request did not error') class TestContainerTempurlUTF8(Base2, TestContainerTempurl): set_up = False class TestSloTempurlEnv(object): enabled = None # tri-state: None initially, then True/False @classmethod def setUp(cls): cls.conn = Connection(tf.config) cls.conn.authenticate() if cls.enabled is None: cls.enabled = 'tempurl' in cluster_info and 'slo' in cluster_info cls.tempurl_key = Utils.create_name() cls.account = Account( cls.conn, tf.config.get('account', tf.config['username'])) cls.account.delete_containers() cls.account.update_metadata({'temp-url-key': cls.tempurl_key}) cls.manifest_container = cls.account.container(Utils.create_name()) cls.segments_container = cls.account.container(Utils.create_name()) if not cls.manifest_container.create(): raise ResponseError(cls.conn.response) if not cls.segments_container.create(): raise ResponseError(cls.conn.response) seg1 = cls.segments_container.file(Utils.create_name()) seg1.write('1' * 1024 * 1024) seg2 = cls.segments_container.file(Utils.create_name()) seg2.write('2' * 1024 * 1024) cls.manifest_data = [{'size_bytes': 1024 * 1024, 'etag': seg1.md5, 'path': '/%s/%s' % (cls.segments_container.name, seg1.name)}, {'size_bytes': 1024 * 1024, 'etag': seg2.md5, 'path': '/%s/%s' % (cls.segments_container.name, seg2.name)}] cls.manifest = cls.manifest_container.file(Utils.create_name()) cls.manifest.write( json.dumps(cls.manifest_data), parms={'multipart-manifest': 'put'}) class TestSloTempurl(Base): env = TestSloTempurlEnv set_up = False def setUp(self): super(TestSloTempurl, self).setUp() if self.env.enabled is False: raise SkipTest(""TempURL and SLO not both enabled"") elif self.env.enabled is not True: # just some sanity checking raise Exception( ""Expected enabled to be True/False, got %r"" % (self.env.enabled,)) def tempurl_sig(self, method, expires, path, key): return hmac.new( key, '%s\n%s\n%s' % (method, expires, urllib.parse.unquote(path)), hashlib.sha1).hexdigest() def test_GET(self): expires = int(time.time()) + 86400 sig = self.tempurl_sig( 'GET', expires, self.env.conn.make_path(self.env.manifest.path), self.env.tempurl_key) parms = {'temp_url_sig': sig, 'temp_url_expires': str(expires)} contents = self.env.manifest.read( parms=parms, cfg={'no_auth_token': True}) self.assertEqual(len(contents), 2 * 1024 * 1024) # GET tempurls also allow HEAD requests self.assertTrue(self.env.manifest.info( parms=parms, cfg={'no_auth_token': True})) class TestSloTempurlUTF8(Base2, TestSloTempurl): set_up = False ",,2009,1910
openstack%2Fdevstack-gate~master~I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95,openstack/devstack-gate,master,I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95,Add setup_host.yaml playbook and ansibly gather_host_info,MERGED,2016-10-28 15:24:28.000000000,2016-11-29 22:24:16.000000000,2016-11-29 22:24:16.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 4146}]","[{'number': 1, 'created': '2016-10-28 15:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/490a1df7e97577f6a57d71b5c89f6f3eebb1f473', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n'}, {'number': 2, 'created': '2016-10-28 15:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/18f82d190fd5a5b43e4368401345d815c7228bad', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n'}, {'number': 3, 'created': '2016-11-03 11:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/69125a9c45cd35d0ade3d38d402acdb390ef286c', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n'}, {'number': 4, 'created': '2016-11-23 11:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/5311c7663bb96a2d2b2d22baa3c2d213f7321ad2', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 5, 'created': '2016-11-23 11:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/364670b189fd2482917bd632adbd8c84d506762d', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 6, 'created': '2016-11-23 12:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/04fc50b110d01878f86de9ab9b3783de25493d1c', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 7, 'created': '2016-11-23 12:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ae52db7e1401a4745ed54086c408ef933b7392ab', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 8, 'created': '2016-11-23 12:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7b0bde55acc92fe1113c2344692b8f429270b239', 'message': 'WIP Add setup_host playbook\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 9, 'created': '2016-11-23 22:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/218b39092b2f13e476facc3bafe4ab3ab060479a', 'message': ""WIP Add setup_host playbook\n\nThis change adds the setup_host.yaml playbook.\nIt is meant to be a playbook replacing the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I0ff97660479379f769ba9a32c17126f8abcc5bfd\n""}, {'number': 10, 'created': '2016-11-23 22:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ed8ca83ccb8acc7e39d948dbb9f57b2a5c607b87', 'message': ""WIP Add setup_host playbook\n\nThis change adds the setup_host.yaml playbook.\nIt is meant to be a playbook replacing the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I0ff97660479379f769ba9a32c17126f8abcc5bfd\n""}, {'number': 11, 'created': '2016-11-23 22:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3bbb587fc298bf3a87125e3d049e9aed948f8569', 'message': ""WIP Add setup_host playbook\n\nThis change adds the setup_host.yaml playbook.\nIt is meant to be a playbook replacing the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I0ff97660479379f769ba9a32c17126f8abcc5bfd\n""}, {'number': 12, 'created': '2016-11-23 23:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/03f938c956a92990f124e2e3dc3c35ac63dbf7f0', 'message': ""Add setup_host playbook\n\nThis change adds the setup_host.yaml playbook.\nIt is meant to be a playbook replacing the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\nDepends-On: I0ff97660479379f769ba9a32c17126f8abcc5bfd\n""}, {'number': 13, 'created': '2016-11-28 23:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ba16a3132da0678ab7e1c85180e8a44010fc01f3', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 14, 'created': '2016-11-29 01:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a3a8fcbb53965cb62248dbc34f5c2414412b1a8d', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 15, 'created': '2016-11-29 08:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/02b387483d9e4fcd74008ebc1ebb9ba29e44dbad', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 16, 'created': '2016-11-29 09:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9f22c2dbe41577af887a82e0dfb3c07aa50eea37', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 17, 'created': '2016-11-29 11:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1fdeb6e027b9c5aec5a4d10dcdecab43d9a1667a', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 18, 'created': '2016-11-29 18:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/52b7523381da646c12c5363c78bedb64cb46e5b6', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 19, 'created': '2016-11-29 18:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ccf2ed0827a4d0820c106b19fb54a6b3a6bc23e2', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}, {'number': 20, 'created': '2016-11-29 19:02:28.000000000', 'files': ['playbooks/setup_host.yaml', 'playbooks/roles/gather_host_info/tasks/main.yaml', 'devstack-vm-gate-wrap.sh', 'functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/18f51e5d86a5b7ff24aa7cc81fc9441f85f6abd6', 'message': ""Add setup_host.yaml playbook and ansibly gather_host_info\n\nThis change adds the setup_host.yaml playbook, along with a playbook\nand role for gathering host info.\nThe setup_host playbook is meant to replace the setup_host function\nfrom functions.sh.\nIn this initial change it also invokes the gather_host_info playbook/role,\nwhen this lands I'll continue removing portions of logic from setup_host function\nand put equivalent plays/roles on the setup_host playbook.\n\nChange-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95\n""}]",1,391519,18f51e5d86a5b7ff24aa7cc81fc9441f85f6abd6,45,4,20,1106,,,0,"Add setup_host.yaml playbook and ansibly gather_host_info

This change adds the setup_host.yaml playbook, along with a playbook
and role for gathering host info.
The setup_host playbook is meant to replace the setup_host function
from functions.sh.
In this initial change it also invokes the gather_host_info playbook/role,
when this lands I'll continue removing portions of logic from setup_host function
and put equivalent plays/roles on the setup_host playbook.

Change-Id: I916e075d8ed3ee6079e4c4621f6eb10f1d30bf95
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/19/391519/20 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/setup_host.yaml'],1,490a1df7e97577f6a57d71b5c89f6f3eebb1f473,zuulv3,--- ,,1,0
openstack%2Fnova~master~I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f,openstack/nova,master,I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f,Remove deprecated compute_available_monitors option,MERGED,2016-09-15 19:03:22.000000000,2016-11-29 22:22:56.000000000,2016-11-29 22:22:56.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18603}, {'_account_id': 19590}, {'_account_id': 20217}, {'_account_id': 21511}]","[{'number': 1, 'created': '2016-09-15 19:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7827bede2d9b2f470bb16e864ca1a73b21253d74', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 2, 'created': '2016-09-15 22:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/879b8acdd536054629e2c2d2582ba2fc81125262', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 3, 'created': '2016-09-15 22:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b89e44fa239ac881874c5e1c0110a1eaace1f7e', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 4, 'created': '2016-10-04 21:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9aa92c71bfbf7f94e654e792d74d63a0bcd94662', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 5, 'created': '2016-10-13 21:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecf3a56d94146331b0c292a7a57055a93ee5a7fb', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 6, 'created': '2016-10-14 15:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e9bda72a42933e5f261ed2818d168bd20afbd42', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 7, 'created': '2016-10-21 08:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d2e69f75387e2119b00ffdfd4880556e865bea', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 8, 'created': '2016-10-31 15:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/565fdfe311fccf335c3cda4b3a985b9afaa4b592', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}, {'number': 9, 'created': '2016-11-25 11:45:05.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/rm-deprecated-compute_available_monitors-option-c8d0b81304452786.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d304690b7e8de9b8df9536b5ac5f4029bf5dbb11', 'message': 'Remove deprecated compute_available_monitors option\n\nBlueprint centralize-config-options-ocata\n\nChange-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f\n'}]",2,371062,d304690b7e8de9b8df9536b5ac5f4029bf5dbb11,116,22,9,20217,,,0,"Remove deprecated compute_available_monitors option

Blueprint centralize-config-options-ocata

Change-Id: I397ae8c2bbcbbcea29bbed09ca0ca60367ccdf4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/371062/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'releasenotes/notes/rm-deprecated-compute_available_monitors-option-c8d0b81304452786.yaml']",2,7827bede2d9b2f470bb16e864ca1a73b21253d74,bp/centralize-config-options-ocata,--- upgrade: - The deprecated config option ``compute_available_monitors`` has been removed from the compute config section. This option is not used in the code anymore. There is no impact. ,,5,10
openstack%2Fkeystone~master~I76397ca655342403805ce655db8b722cc3f6878c,openstack/keystone,master,I76397ca655342403805ce655db8b722cc3f6878c,Removed unused EXTENSION_TO_ADD test declarations,MERGED,2016-11-29 17:09:24.000000000,2016-11-29 22:22:21.000000000,2016-11-29 22:22:21.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2016-11-29 17:09:24.000000000', 'files': ['keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_identity.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f12020e0ea2300d6928bbc9bf6a81930b4cc088', 'message': 'Removed unused EXTENSION_TO_ADD test declarations\n\nThe last use of the declaration was removed in\nIf38e8cc496cc1c3909bbb7fe4da89fa85bdc02f5, but those functions were\nremoved because they were not being used.\n\nChange-Id: I76397ca655342403805ce655db8b722cc3f6878c\n'}]",0,404350,4f12020e0ea2300d6928bbc9bf6a81930b4cc088,9,3,1,7725,,,0,"Removed unused EXTENSION_TO_ADD test declarations

The last use of the declaration was removed in
If38e8cc496cc1c3909bbb7fe4da89fa85bdc02f5, but those functions were
removed because they were not being used.

Change-Id: I76397ca655342403805ce655db8b722cc3f6878c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/50/404350/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_identity.py']",2,4f12020e0ea2300d6928bbc9bf6a81930b4cc088,,, EXTENSION_TO_ADD = 'admin_token_auth',0,2
openstack%2Foctavia~master~Ic7aebf0674ba7036356bb3231c26fa309cd4c475,openstack/octavia,master,Ic7aebf0674ba7036356bb3231c26fa309cd4c475,Properly format IPv6 bind address strings,MERGED,2016-11-29 19:12:54.000000000,2016-11-29 22:20:41.000000000,2016-11-29 22:16:05.000000000,"[{'_account_id': 3}, {'_account_id': 11628}, {'_account_id': 14591}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-11-29 19:12:54.000000000', 'files': ['octavia/common/utils.py', 'octavia/cmd/agent.py', 'octavia/tests/unit/common/test_utils.py', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/126ec9701e5f300153642c3cffac185b5a09672a', 'message': ""Properly format IPv6 bind address strings\n\nThis fixes:\n    Error: '::9443' is not a valid port number.\n\nIntroduce unit test skeleton for amphora agent.\n\nChange-Id: Ic7aebf0674ba7036356bb3231c26fa309cd4c475\n""}]",0,404393,126ec9701e5f300153642c3cffac185b5a09672a,9,4,1,10558,,,0,"Properly format IPv6 bind address strings

This fixes:
    Error: '::9443' is not a valid port number.

Introduce unit test skeleton for amphora agent.

Change-Id: Ic7aebf0674ba7036356bb3231c26fa309cd4c475
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/404393/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/cmd/agent.py', 'octavia/tests/unit/common/test_utils.py', 'octavia/tests/unit/cmd/test_agent.py']",4,126ec9701e5f300153642c3cffac185b5a09672a,ipv6-lb-net,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from octavia.cmd import agent from octavia.tests.unit import base class TestAmphoraAgentCMD(base.TestCase): def setUp(self): super(TestAmphoraAgentCMD, self).setUp() @mock.patch('octavia.cmd.agent.AmphoraAgent') @mock.patch('octavia.amphorae.backends.agent.api_server.server.Server') @mock.patch('multiprocessing.Process') @mock.patch('octavia.common.service.prepare_service') def test_main(self, mock_service, mock_process, mock_server, mock_amp): mock_health_proc = mock.MagicMock() mock_server_instance = mock.MagicMock() mock_amp_instance = mock.MagicMock() mock_process.return_value = mock_health_proc mock_server.return_value = mock_server_instance mock_amp.return_value = mock_amp_instance agent.main() mock_health_proc.start.assert_called_once_with() mock_amp_instance.run.assert_called_once() ",,59,4
openstack%2Fneutron~master~Ie7af248b4609524631770f76398d06d8092c0f9d,openstack/neutron,master,Ie7af248b4609524631770f76398d06d8092c0f9d,functional: Pass string tag to other_config,MERGED,2016-11-21 09:23:17.000000000,2016-11-29 22:15:55.000000000,2016-11-25 16:27:30.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-21 09:23:17.000000000', 'files': ['neutron/tests/common/conn_testers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e5b4cb1f96fa786207eb4f3358219101d33ad61', 'message': 'functional: Pass string tag to other_config\n\nother_config is a map type expecting {""string"": ""string"", } values.\nThis patch makes sure string is passed when setting VLAN tag in\nother_config.\n\nChange-Id: Ie7af248b4609524631770f76398d06d8092c0f9d\nCloses-bug: 1643484\n'}]",0,400138,2e5b4cb1f96fa786207eb4f3358219101d33ad61,24,7,1,8655,,,0,"functional: Pass string tag to other_config

other_config is a map type expecting {""string"": ""string"", } values.
This patch makes sure string is passed when setting VLAN tag in
other_config.

Change-Id: Ie7af248b4609524631770f76398d06d8092c0f9d
Closes-bug: 1643484
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/400138/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/conn_testers.py'],1,2e5b4cb1f96fa786207eb4f3358219101d33ad61,bug/1643484, other_config['tag'] = str(tag), other_config['tag'] = tag,1,1
openstack%2Fcharm-ceilometer-agent~master~I55ee34c33f838af8907c0d3e0355c329d2e68a02,openstack/charm-ceilometer-agent,master,I55ee34c33f838af8907c0d3e0355c329d2e68a02,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 18:47:25.000000000,2016-11-29 22:13:05.000000000,2016-11-29 22:13:05.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 18:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/4d94859fdc2fac5a081ffde64f2e4d7bb502ec75', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 2, 'created': '2016-11-23 19:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/71ba6836781a3d6ef02e67db5f570339f6c76338', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 3, 'created': '2016-11-23 20:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/8231a2127dc8f81a467276ff0dece89155058439', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 4, 'created': '2016-11-23 20:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/64415e5f32a5dffadedf533a55b72c2f4283cfe9', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 5, 'created': '2016-11-23 20:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/3a7c49a1eaede866eda561c0a04a93ebce60053f', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 6, 'created': '2016-11-23 21:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/b5c9cd7b955843bea660437aef12d4266079e05e', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 7, 'created': '2016-11-28 11:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/c8dd9cd85d15f1033f11b7f832127bb47d1e0c9f', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}, {'number': 8, 'created': '2016-11-28 20:45:59.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/3ad0b4d8e0f3c7dce315257009c66f00d23112e7', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02\n'}]",0,401387,3ad0b4d8e0f3c7dce315257009c66f00d23112e7,26,4,8,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: I55ee34c33f838af8907c0d3e0355c329d2e68a02
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/87/401387/8 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",15,4d94859fdc2fac5a081ffde64f2e4d7bb502ec75,update-amulet-defs," # See LP 1484489 - this is to support <= 2.4.7 and >= 2.4.8 SSLCertificateChainFile /etc/apache2/ssl/{{ namespace }}/cert_{{ endpoint }} RequestHeader set X-Forwarded-Proto ""https""",,145,55
openstack%2Fcinder~master~Id7d2abde4c4124c556f46eaa8b95a641a70602b1,openstack/cinder,master,Id7d2abde4c4124c556f46eaa8b95a641a70602b1,Add current status to error msg in reserve_volume,MERGED,2016-10-17 19:35:02.000000000,2016-11-29 22:11:20.000000000,2016-10-26 10:25:12.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 21193}, {'_account_id': 21531}, {'_account_id': 21976}, {'_account_id': 22248}]","[{'number': 1, 'created': '2016-10-17 19:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/707c14ac9cb7f1eb2cc44a139bc58461c3e88a68', 'message': ""Add current status to error msg in reserve_volume\n\nWe are testing negative cases of attach-volume on Nova API.\nCinder returns InvalidInput responses in these cases but the responses\ndon't contain current volume status and it is a little hard to debug\non Tempest test: I594566704b9794457d224031802d9cbf132e765f\n\nThis patch adds current volume status on the message.\n\nChange-Id: Id7d2abde4c4124c556f46eaa8b95a641a70602b1\n""}, {'number': 2, 'created': '2016-10-17 20:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/074c37fc581c569f5a9f852249aa6e3d760b4a94', 'message': ""Add current status to error msg in reserve_volume\n\nWe are testing negative cases of attach-volume on Nova API.\nCinder returns InvalidInput responses in these cases but the responses\ndon't contain current volume status and it is a little hard to debug\non Tempest test: I594566704b9794457d224031802d9cbf132e765f\n\nThis patch adds current volume status on the message.\n\nChange-Id: Id7d2abde4c4124c556f46eaa8b95a641a70602b1\n""}, {'number': 3, 'created': '2016-10-17 20:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b13b00c332dae459ca3c0ca6dea7f3b6a0b0c3c', 'message': ""Add current status to error msg in reserve_volume\n\nWe are testing negative cases of attach-volume on Nova API.\nCinder returns InvalidInput responses in these cases but the responses\ndon't contain current volume status and it is a little hard to debug\non Tempest test: I594566704b9794457d224031802d9cbf132e765f\n\nThis patch adds current volume status on the message.\n\nChange-Id: Id7d2abde4c4124c556f46eaa8b95a641a70602b1\n""}, {'number': 4, 'created': '2016-10-19 16:56:54.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/50be507e6f2ff0bf5098d3f1d57cc405b1c88510', 'message': ""Add current status to error msg in reserve_volume\n\nWe are testing negative cases of attach-volume on Nova API.\nCinder returns InvalidInput responses in these cases but the responses\ndon't contain current volume status and it is a little hard to debug\non Tempest test: I594566704b9794457d224031802d9cbf132e765f\n\nThis patch adds current volume status on the message.\n\nChange-Id: Id7d2abde4c4124c556f46eaa8b95a641a70602b1\n""}]",2,387650,50be507e6f2ff0bf5098d3f1d57cc405b1c88510,91,38,4,6167,,,0,"Add current status to error msg in reserve_volume

We are testing negative cases of attach-volume on Nova API.
Cinder returns InvalidInput responses in these cases but the responses
don't contain current volume status and it is a little hard to debug
on Tempest test: I594566704b9794457d224031802d9cbf132e765f

This patch adds current volume status on the message.

Change-Id: Id7d2abde4c4124c556f46eaa8b95a641a70602b1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/387650/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,707c14ac9cb7f1eb2cc44a139bc58461c3e88a68,add-current-volume-status," msg = _('Volume status must be %s to reserve, but the status ' 'is %s.') % (expected_status, volume['status'])", msg = _('Volume status must be %s to reserve.') % expected_status,2,1
openstack%2Foslo.db~master~I3e238b6a97769cf0a352f11e718d5d73eebcfa8a,openstack/oslo.db,master,I3e238b6a97769cf0a352f11e718d5d73eebcfa8a,Restore provisioning of DBs in legacy test base,MERGED,2016-11-14 11:33:43.000000000,2016-11-29 22:09:29.000000000,2016-11-15 23:39:50.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6849}, {'_account_id': 9796}, {'_account_id': 11816}]","[{'number': 1, 'created': '2016-11-14 11:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/246e718a2042f70d41d4a291d5d0ebcff92dddba', 'message': 'Restore provisioning of DBs in legacy test base\n\nApparentely I0163e637ffef6d45d2573ebe29b5438911d01fce breaks Nova\ntests, as we no longer provision a new DB in DatabaseResource by\ndefault. While the recommended way is to use the new fixtures, we\nshould make sure the original behavior is preserved for the legacy\ntest cases.\n\nChange-Id: I3e238b6a97769cf0a352f11e718d5d73eebcfa8a\n'}, {'number': 2, 'created': '2016-11-15 11:22:20.000000000', 'files': ['oslo_db/sqlalchemy/test_base.py', 'oslo_db/tests/sqlalchemy/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/dd800458937a4ccb0b12b0f760eb515d64e0be88', 'message': 'Restore provisioning of DBs in legacy test base\n\nApparentely I0163e637ffef6d45d2573ebe29b5438911d01fce breaks Nova\ntests, as we no longer provision a new DB in DatabaseResource by\ndefault. While the recommended way is to use the new fixtures, we\nshould make sure the original behavior is preserved for the legacy\ntest cases.\n\nChange-Id: I3e238b6a97769cf0a352f11e718d5d73eebcfa8a\n'}]",3,397144,dd800458937a4ccb0b12b0f760eb515d64e0be88,13,5,2,6849,,,0,"Restore provisioning of DBs in legacy test base

Apparentely I0163e637ffef6d45d2573ebe29b5438911d01fce breaks Nova
tests, as we no longer provision a new DB in DatabaseResource by
default. While the recommended way is to use the new fixtures, we
should make sure the original behavior is preserved for the legacy
test cases.

Change-Id: I3e238b6a97769cf0a352f11e718d5d73eebcfa8a
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/44/397144/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/test_base.py', 'oslo_db/tests/sqlalchemy/test_fixtures.py']",2,246e718a2042f70d41d4a291d5d0ebcff92dddba,, class TestLegacyOpportunisticTestCase( legacy_test_base.MySQLOpportunisticTestCase): def test_setup_provisions_new_database(self): self.assertTrue(self.engine.url.database) self.engine.execute('select 1;').scalar() self.sessionmaker().execute('select 1;').scalar(),,10,1
openstack%2Fkeystone-specs~master~I8f5b8a179b8c944303ae673b833e0a53656ffb9c,openstack/keystone-specs,master,I8f5b8a179b8c944303ae673b833e0a53656ffb9c,Add spec for native SAML2,MERGED,2016-11-15 17:52:22.000000000,2016-11-29 22:05:38.000000000,2016-11-20 14:25:15.000000000,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 7725}, {'_account_id': 8119}, {'_account_id': 11022}, {'_account_id': 17860}, {'_account_id': 18338}, {'_account_id': 18666}]","[{'number': 1, 'created': '2016-11-15 17:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/be3a9eb95a519d667c82c51f7049f4029aa927e2', 'message': 'Add spec for native SAML2\n\nNative SAML2 is an implementation of the SAML protocol so that keystone can\nbe federated without the use of webserver plugins.\n\nChange-Id: I8f5b8a179b8c944303ae673b833e0a53656ffb9c\n'}, {'number': 2, 'created': '2016-11-16 12:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d2e832f1d9ef013a48d099e696ce29fc6f5f2e97', 'message': 'Add spec for native SAML2\n\nNative SAML2 is an implementation of the SAML protocol so that keystone can\nbe federated without the use of webserver plugins.\n\nChange-Id: I8f5b8a179b8c944303ae673b833e0a53656ffb9c\n'}, {'number': 3, 'created': '2016-11-16 13:24:28.000000000', 'files': ['specs/keystone/ocata/native-saml.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/38fd73d7b206343efaef6a44bba92b6f13fa92a4', 'message': 'Add spec for native SAML2\n\nNative SAML2 is an implementation of the SAML protocol so that keystone can\nbe federated without the use of webserver plugins.\n\nChange-Id: I8f5b8a179b8c944303ae673b833e0a53656ffb9c\n'}]",60,397860,38fd73d7b206343efaef6a44bba92b6f13fa92a4,26,10,3,7725,,,0,"Add spec for native SAML2

Native SAML2 is an implementation of the SAML protocol so that keystone can
be federated without the use of webserver plugins.

Change-Id: I8f5b8a179b8c944303ae673b833e0a53656ffb9c
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/60/397860/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/ocata/native-saml.rst'],1,be3a9eb95a519d667c82c51f7049f4029aa927e2,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== `bp example <https://blueprints.launchpad.net/keystone/+spec/native-saml>`_ We have had the ability for keystone to use a federated identity provider since the Icehouse release. This is done using Apache modules like `mod_shib`_ or `mod_auth_mellon`_. Unfortunately they have some key limitations: 1. No REST API to manage IdPs or other configuration 2. Must restart/reload Apache to reload configuration This works fine for small clouds where a single IdP is configured at bootstrap time, but falls down in a larger could where those IdPs may be a little more dynamic. .. _mod_shib: https://wiki.shibboleth.net/confluence/display/SHIB2 .. _mod_auth_mellon: https://github.com/UNINETT/mod_auth_mellon Problem Description =================== Usecases: 1. As a public/private cloud operator I do not want to setup and manage the federation configuration for every domain. I would like to deletegate that responsibility to the domain administrator. The domain admin can then make their domain members use whatever IdP they desire. Proposed Change =============== The following things would be changed in keystone: 1, Create APIs to manage IdPs in a backend 2. Create APIs to manage SAML attribute mapping in a backend 3. Create a new endpoint to do the SAML negotiation with an IdP The code to interpret SAML2 would not be written by the keystone team. Instead we will use the `pysaml2`_ library that we already have as a dependency. .. _pysaml2: https://github.com/rohe/pysaml2 Alternatives ------------ There are a couple of alternatives: 1. Do nothing, but this doesn't make anyone happy. 2. Fix mod_shib/mod_auth_mellon to be more dynamic. It is certainly possible for a C expert to make the modules reload their configuration more dynamically. It's having APIs to manage the config that makes this much more difficult. keystone would need to write the XML config files and distribute then to all keystone nodes. Security Impact --------------- This code will be managing the negotiation between keystone and the IdP. There is certainly a impact if we get it wrong. In the worst case we are opening a new attack vector. We are also making use of the pysaml2 library to do the heavy lifting. There is extra onus on us to make sure that code is correct and have a good process for dealing with security issues. We will be using x509 certificates to validate and sign SAML documents. Those certificates will need to be managed and rotated by the operator. (This is no different for operators that are currently using an Apache module for federation.) Notifications Impact -------------------- We may possibly an a notification for some IdP interactions. Nothing concrete yet. Other End User Impact --------------------- End users should not be able to tell that we are providing the federation bits. It will all be transparent to them. Performance Impact ------------------ This should have no direct significant performance impact. Signing/verifying documents may block a process a little longer, but that shouldn't impact keystone all that much. Other Deployer Impact --------------------- 1. Certificate rotations documented in the `Security Impact`_ section. 2. Middleware will have to be utilited to take advantage of the feature. 3. Depoyment processes will have to use APIs to manage IdP configuration instead of managing the existing XML files. Developer Impact ---------------- Nothing significant. Implementation ============== Assignee(s) ----------- Primary assignee: dstanek (David Stanek <dstanek@dstanek.com>) Work Items ---------- TBD Dependencies ============ None Documentation Impact ==================== 1. We'll need to change/augment federation documentation to show how to setup and use this feature. 2. Updates will need to be made to the keystone API docummentation References ========== None ",,149,0
openstack%2Foslo.policy~master~I43782d245d7652ba69613b26fe598ac79ec19929,openstack/oslo.policy,master,I43782d245d7652ba69613b26fe598ac79ec19929,Improved performance of parse_file_contents() method,MERGED,2016-11-29 17:35:53.000000000,2016-11-29 22:00:34.000000000,2016-11-29 22:00:34.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6486}, {'_account_id': 6849}, {'_account_id': 7725}, {'_account_id': 9569}, {'_account_id': 11022}]","[{'number': 1, 'created': '2016-11-29 17:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/72ca1276c093762e79b5e00b6c77b61c85cc071f', 'message': 'Improved performance of parse_file_contents() method\n\nBefore change Ic6236665f2d55b24a56a99120ac57fc2b18e32eb\npolicy file had been parsed by jsonutils.loads()\n\nFor some reasons jsonutils.loads() is much faster than\nyaml.safe_load(). For example this script takes 30 seconds:\n\n  s = \'{""a"": 3, ""b"": ""c""}\'\n  for i in xrange(100000):\n       yaml.safe_load(s)\n\nAnd this script takes only 1 second!\n\n  s = \'{""a"": 3, ""b"": ""c""}\'\n  for i in xrange(100000):\n      jsonutils.loads(s)\n\nMoreover policy rules are presented in JSON format\nby default (at least in Nova).\n\nThis patch proposes to parse file by jsonutils.loads().\nIf it was parsed - use parsed data. If it\'s failed - try to\nparse with yaml.safe_load().\n\nIt will have no/minimum performance effect on real env because,\nas I understand, we parse policy file only one time during\nservice start. But it will have great performance improvement\nin our jenkins jobs.\n\nStatistics for nova py27, py34 and functional jobs:\n\n * with this change I0c18e9746b742a2fff60795da8a5daddda7cf469\n * without this change Ie4af661f4ca16b63444692f3736835f9ce42adc1\n\nHere was taken pure time of running ""tox -e py27/py34/functional"" commands\n\n                 without (sec)         with (sec)\npy27                  421                 240\npy34                  330                 170\nfunctional            662                 495\n\nAs you see performance of unit tests was increased almost in two times.\n\nThese changes covered by tests in test_policy.py file. There we\ntest method Rules.load() with invalid/valid JSON/YAML. As you\ncan see method Rules.load() directly uses parse_file_contents().\n\nChange-Id: I43782d245d7652ba69613b26fe598ac79ec19929\n'}, {'number': 2, 'created': '2016-11-29 20:17:33.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f56b767dddea4736ce6097177ee599786665141e', 'message': 'Improved performance of parse_file_contents() method\n\nBefore change Ic6236665f2d55b24a56a99120ac57fc2b18e32eb\npolicy file had been parsed by jsonutils.loads()\n\nFor some reasons jsonutils.loads() is much faster than\nyaml.safe_load(). For example this script takes 30 seconds:\n\n  s = \'{""a"": 3, ""b"": ""c""}\'\n  for i in xrange(100000):\n       yaml.safe_load(s)\n\nAnd this script takes only 1 second!\n\n  s = \'{""a"": 3, ""b"": ""c""}\'\n  for i in xrange(100000):\n      jsonutils.loads(s)\n\nMoreover policy rules are presented in JSON format\nby default (at least in Nova).\n\nThis patch proposes to parse file by jsonutils.loads().\nIf it was parsed - use parsed data. If it\'s failed - try to\nparse with yaml.safe_load().\n\nIt will have no/minimum performance effect on real env because,\nas I understand, we parse policy file only one time during\nservice start. But it will have great performance improvement\nin our jenkins jobs.\n\nStatistics for nova py27, py34 and functional jobs:\n\n * with this change I0c18e9746b742a2fff60795da8a5daddda7cf469\n * without this change Ie4af661f4ca16b63444692f3736835f9ce42adc1\n\nHere was taken pure time of running ""tox -e py27/py34/functional"" commands\n\n                 without (sec)         with (sec)\npy27                  421                 240\npy34                  330                 170\nfunctional            662                 495\n\nAs you see performance of unit tests was increased almost in two times.\n\nThese changes covered by tests in test_policy.py file. There we\ntest method Rules.load() with invalid/valid JSON/YAML. As you\ncan see method Rules.load() directly uses parse_file_contents().\n\nChange-Id: I43782d245d7652ba69613b26fe598ac79ec19929\n'}]",5,404357,f56b767dddea4736ce6097177ee599786665141e,18,7,2,9569,,,0,"Improved performance of parse_file_contents() method

Before change Ic6236665f2d55b24a56a99120ac57fc2b18e32eb
policy file had been parsed by jsonutils.loads()

For some reasons jsonutils.loads() is much faster than
yaml.safe_load(). For example this script takes 30 seconds:

  s = '{""a"": 3, ""b"": ""c""}'
  for i in xrange(100000):
       yaml.safe_load(s)

And this script takes only 1 second!

  s = '{""a"": 3, ""b"": ""c""}'
  for i in xrange(100000):
      jsonutils.loads(s)

Moreover policy rules are presented in JSON format
by default (at least in Nova).

This patch proposes to parse file by jsonutils.loads().
If it was parsed - use parsed data. If it's failed - try to
parse with yaml.safe_load().

It will have no/minimum performance effect on real env because,
as I understand, we parse policy file only one time during
service start. But it will have great performance improvement
in our jenkins jobs.

Statistics for nova py27, py34 and functional jobs:

 * with this change I0c18e9746b742a2fff60795da8a5daddda7cf469
 * without this change Ie4af661f4ca16b63444692f3736835f9ce42adc1

Here was taken pure time of running ""tox -e py27/py34/functional"" commands

                 without (sec)         with (sec)
py27                  421                 240
py34                  330                 170
functional            662                 495

As you see performance of unit tests was increased almost in two times.

These changes covered by tests in test_policy.py file. There we
test method Rules.load() with invalid/valid JSON/YAML. As you
can see method Rules.load() directly uses parse_file_contents().

Change-Id: I43782d245d7652ba69613b26fe598ac79ec19929
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/57/404357/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,72ca1276c093762e79b5e00b6c77b61c85cc071f,perf," parsed = jsonutils.loads(data) except ValueError: try: parsed = yaml.safe_load(data) except yaml.YAMLError as e: # For backwards-compatibility, convert yaml error to ValueError, # which is what JSON loader raised. raise ValueError(six.text_type(e))"," parsed = yaml.safe_load(data) except yaml.YAMLError as e: # For backwards-compatibility, convert yaml error to ValueError, # which is what JSON loader raised. raise ValueError(six.text_type(e))",8,5
openstack%2Fnova~master~I33cbe27a9e772ad0bba3a37b677cc625ce2316c8,openstack/nova,master,I33cbe27a9e772ad0bba3a37b677cc625ce2316c8,objects: Move 'cpumodel' to 'fields.CPU*',MERGED,2016-08-17 11:27:59.000000000,2016-11-29 21:38:20.000000000,2016-11-29 12:12:09.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14287}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-08-17 11:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7f7e7abbd7e561713a72197666fcfe5f1c959f', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 2, 'created': '2016-08-17 11:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0266cccd5bfabe15cb8f005408fccc1942b4add0', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 3, 'created': '2016-08-18 09:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36eae7328cbefc7578e25e9d61a225530b6e34ce', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 4, 'created': '2016-08-23 10:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98d7141ed1c647525636235e399e25a946044ade', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 5, 'created': '2016-08-29 11:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6295234e834e8bf065340927e541e4b3db50bf1', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 6, 'created': '2016-09-12 09:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bc6e7ad51f8436f5a015ca37968a265722a6657', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 7, 'created': '2016-09-19 10:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7faaa2a490b283cf5e5496fe3d3697c3388210da', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 8, 'created': '2016-09-23 13:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b010e3786c82ed0e1618355b2a0adbf6ea2bcced', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 9, 'created': '2016-10-21 10:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e23e101a5232f6b537532e490689380d5dcb206', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 10, 'created': '2016-11-01 11:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96e53fef606ce8b671c9d1dfca9cdf9d6a932e97', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}, {'number': 11, 'created': '2016-11-25 16:20:19.000000000', 'files': ['nova/tests/unit/objects/test_vcpu_model.py', 'nova/tests/unit/objects/test_objects.py', 'nova/compute/cpumodel.py', 'nova/objects/fields.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33a52cd1c1f07c2f358eed001cff73b3d9b9e7f7', 'message': ""objects: Move 'cpumodel' to 'fields.CPU*'\n\nResolve the relevant TODO.\n\nChange-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8\n""}]",0,356398,33a52cd1c1f07c2f358eed001cff73b3d9b9e7f7,172,19,11,15334,,,0,"objects: Move 'cpumodel' to 'fields.CPU*'

Resolve the relevant TODO.

Change-Id: I33cbe27a9e772ad0bba3a37b677cc625ce2316c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/356398/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_vcpu_model.py', 'nova/compute/cpumodel.py', 'nova/objects/fields.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,ae7f7e7abbd7e561713a72197666fcfe5f1c959f,feat/resolve-fields-todos," feature.policy = fields.CPUFeaturePolicy.REQUIRE feature1.policy = fields.CPUFeaturePolicy.REQUIRE feature2.policy = fields.CPUFeaturePolicy.REQUIRE cpu.mode = fields.CPUMode.CUSTOM self.assertEqual(fields.CPUMatch.EXACT, vcpu_model.match) self.assertEqual(fields.CPUMode.CUSTOM, vcpu_model.mode) cpu.mode = fields.CPUMode.HOST_MODEL self.assertEqual(fields.CPUMode.HOST_MODEL, vcpu_model.mode) feature = objects.VirtCPUFeature( policy=fields.CPUFeaturePolicy.REQUIRE, name='sse') feature_1 = objects.VirtCPUFeature( policy=fields.CPUFeaturePolicy.FORBID, name='aes') vcpu_model = objects.VirtCPUModel(mode=fields.CPUMode.HOST_MODEL, self.assertEqual(fields.CPUMode.HOST_MODEL, cpu.mode) self.assertEqual(set([fields.CPUFeaturePolicy.REQUIRE, fields.CPUFeaturePolicy.FORBID]),","from nova.compute import cpumodel feature.policy = cpumodel.POLICY_REQUIRE feature1.policy = cpumodel.POLICY_REQUIRE feature2.policy = cpumodel.POLICY_REQUIRE cpu.mode = cpumodel.MODE_CUSTOM self.assertEqual(cpumodel.MATCH_EXACT, vcpu_model.match) self.assertEqual(cpumodel.MODE_CUSTOM, vcpu_model.mode) cpu.mode = cpumodel.MODE_HOST_MODEL self.assertEqual(cpumodel.MODE_HOST_MODEL, vcpu_model.mode) feature = objects.VirtCPUFeature(policy=cpumodel.POLICY_REQUIRE, name='sse') feature_1 = objects.VirtCPUFeature(policy=cpumodel.POLICY_FORBID, name='aes') vcpu_model = objects.VirtCPUModel(mode=cpumodel.MODE_HOST_MODEL, self.assertEqual(cpumodel.MODE_HOST_MODEL, cpu.mode) self.assertEqual(set([cpumodel.POLICY_REQUIRE, cpumodel.POLICY_FORBID]),",45,79
openstack%2Ftripleo-quickstart-extras~master~Icb36a45797bdb5e217ce9f33fa67e6697590b23c,openstack/tripleo-quickstart-extras,master,Icb36a45797bdb5e217ce9f33fa67e6697590b23c,Remove parameters from overcloud deploy,MERGED,2016-11-29 10:53:41.000000000,2016-11-29 21:35:28.000000000,2016-11-29 21:35:28.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 8652}, {'_account_id': 10873}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-11-29 10:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7349e1da6fb0592fc4092f9f2d38444e0727377', 'message': ""Remove parameters from overcloud deploy Review\n\nhttps://review.openstack.org/#/c/397312/ has removed some options in\ntripleoclient.\n\nSpecifically, --neutron-network-type and --neutron-tunnel-types\nare being used in tripleo-quickstart .This patch removes them\nfrom extra_args and scale_extra_args.\n\nThis parameters are being passed via environment files or using vxlan\nby default so i think it doesn't need any other adjustment.\n\nChange-Id: Icb36a45797bdb5e217ce9f33fa67e6697590b23c\n""}, {'number': 2, 'created': '2016-11-29 10:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/15420f6fae1c5222a8b3a14c5879b4ca955eb730', 'message': ""Remove parameters from overcloud deploy\n\nhttps://review.openstack.org/#/c/397312/ has removed some options in\ntripleoclient.\n\nSpecifically, --neutron-network-type and --neutron-tunnel-types\nare being used in tripleo-quickstart .This patch removes them\nfrom extra_args and scale_extra_args.\n\nThis parameters are being passed via environment files or using vxlan\nby default so i think it doesn't need any other adjustment.\n\nChange-Id: Icb36a45797bdb5e217ce9f33fa67e6697590b23c\n""}, {'number': 3, 'created': '2016-11-29 16:46:02.000000000', 'files': ['roles/baremetal-undercloud/README.md', 'roles/overcloud-scale/README.md', 'config/general_config/scale_compute.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2a14e3c9644611ba100eab6f11833329ac368cbf', 'message': ""Remove parameters from overcloud deploy\n\nhttps://review.openstack.org/#/c/397312/ has removed some options in\ntripleoclient.\n\nSpecifically, --neutron-network-type and --neutron-tunnel-types\nare being used in tripleo-quickstart .This patch removes them\nfrom extra_args and scale_extra_args.\n\nThis parameters are being passed via environment files or using vxlan\nby default so i think it doesn't need any other adjustment.\n\nChange-Id: Icb36a45797bdb5e217ce9f33fa67e6697590b23c\n""}]",0,404144,2a14e3c9644611ba100eab6f11833329ac368cbf,17,6,3,16312,,,0,"Remove parameters from overcloud deploy

https://review.openstack.org/#/c/397312/ has removed some options in
tripleoclient.

Specifically, --neutron-network-type and --neutron-tunnel-types
are being used in tripleo-quickstart .This patch removes them
from extra_args and scale_extra_args.

This parameters are being passed via environment files or using vxlan
by default so i think it doesn't need any other adjustment.

Change-Id: Icb36a45797bdb5e217ce9f33fa67e6697590b23c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/404144/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/scale_ceph.yml', 'roles/baremetal-undercloud/README.md', 'roles/overcloud-scale/README.md', 'config/general_config/scale_compute.yml']",4,b7349e1da6fb0592fc4092f9f2d38444e0727377,remove-parms,"extra_args: ""--compute-scale 1 -e {{ overcloud_templates_path }}/environments/network-isolation.yaml -e {{ overcloud_templates_path }}/environments/net-single-nic-with-vlans.yaml -e ~/network-environment.yaml --ntp-server pool.ntp.org""scale_extra_args: ""--{{ node_to_scale }}-scale {{ final_scale_value }} {{ scale_extra_configs }} --ntp-server pool.ntp.org""","extra_args: ""--compute-scale 1 --neutron-network-type vxlan --neutron-tunnel-types vxlan -e {{ overcloud_templates_path }}/environments/network-isolation.yaml -e {{ overcloud_templates_path }}/environments/net-single-nic-with-vlans.yaml -e ~/network-environment.yaml --ntp-server pool.ntp.org""scale_extra_args: ""--{{ node_to_scale }}-scale {{ final_scale_value }} --neutron-network-type vxlan --neutron-tunnel-types vxlan {{ scale_extra_configs }} --ntp-server pool.ntp.org""",6,6
openstack%2Fceilometer~master~Ie5a59f31a019bb0ebc2f001b07cce88073c0a0df,openstack/ceilometer,master,Ie5a59f31a019bb0ebc2f001b07cce88073c0a0df,[dnm] patch to check postgres fix,ABANDONED,2016-11-25 12:50:10.000000000,2016-11-29 21:31:34.000000000,,"[{'_account_id': 3}, {'_account_id': 15843}]","[{'number': 1, 'created': '2016-11-25 12:50:10.000000000', 'files': ['ceilometer/keystone_client.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f49d991a3742cfa45b4b9387d86f2d961ed1ad53', 'message': '[dnm] patch to check postgres fix\n\nChange-Id: Ie5a59f31a019bb0ebc2f001b07cce88073c0a0df\nDepends-On: I6a78578423b61d4e2055c272086b6c03e0546e12\n'}]",0,402524,f49d991a3742cfa45b4b9387d86f2d961ed1ad53,4,2,1,14819,,,0,"[dnm] patch to check postgres fix

Change-Id: Ie5a59f31a019bb0ebc2f001b07cce88073c0a0df
Depends-On: I6a78578423b61d4e2055c272086b6c03e0546e12
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/24/402524/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/keystone_client.py'],1,f49d991a3742cfa45b4b9387d86f2d961ed1ad53,,# TEST CHANGE,,1,0
openstack%2Fsearchlight~master~I77501936588a298a506f2079590dd5f9729af3d5,openstack/searchlight,master,I77501936588a298a506f2079590dd5f9729af3d5,Show team and repo badges on README,MERGED,2016-11-25 11:56:37.000000000,2016-11-29 21:25:25.000000000,2016-11-29 21:25:25.000000000,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 10063}]","[{'number': 1, 'created': '2016-11-25 11:56:37.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/6fca79ed80c4c588166ba33d38a8e4ba3b2b945b', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nb'https://gist.github.com/d75b2dffa2a8a2c84d6d11ea7b454f50\\n'\n\nChange-Id: I77501936588a298a506f2079590dd5f9729af3d5\n""}]",0,402443,6fca79ed80c4c588166ba33d38a8e4ba3b2b945b,8,3,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

b'https://gist.github.com/d75b2dffa2a8a2c84d6d11ea7b454f50\n'

Change-Id: I77501936588a298a506f2079590dd5f9729af3d5
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/43/402443/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6fca79ed80c4c588166ba33d38a8e4ba3b2b945b,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/searchlight.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Fneutron~master~I642abe5a40ef303efc2206df9b2d397b0d271200,openstack/neutron,master,I642abe5a40ef303efc2206df9b2d397b0d271200,functional: Use VLAN tags from range <1; 4094>,MERGED,2016-11-21 09:17:41.000000000,2016-11-29 21:23:39.000000000,2016-11-23 03:52:22.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-21 09:17:41.000000000', 'files': ['neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/tests/functional/agent/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/54beb5e14e6a88dd02eaee15eaca908b3678b2f4', 'message': 'functional: Use VLAN tags from range <1; 4094>\n\nPreviously, we generated set of usable VLAN tags in the range <0; 4095>.\n0 can be match with OpenFlow rules for empty VLAN tag header and 4095\nfails to be added to VLAN interface with RTNETLINK error.\n\nChange-Id: I642abe5a40ef303efc2206df9b2d397b0d271200\nCloses-bug: 1643319\n'}]",0,400134,54beb5e14e6a88dd02eaee15eaca908b3678b2f4,24,7,1,8655,,,0,"functional: Use VLAN tags from range <1; 4094>

Previously, we generated set of usable VLAN tags in the range <0; 4095>.
0 can be match with OpenFlow rules for empty VLAN tag header and 4095
fails to be added to VLAN interface with RTNETLINK error.

Change-Id: I642abe5a40ef303efc2206df9b2d397b0d271200
Closes-bug: 1643319
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/400134/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/tests/functional/agent/test_firewall.py']",2,54beb5e14e6a88dd02eaee15eaca908b3678b2f4,bug/1643319," vlan_range = set(range(1, test_constants.VLAN_COUNT - 1))", vlan_range = set(range(test_constants.VLAN_COUNT)),2,2
openstack%2Ftempest~master~I704a67f528232a22ed7daad0666ca8a739aba400,openstack/tempest,master,I704a67f528232a22ed7daad0666ca8a739aba400,"Rename ""VolumesCloneTest"" class name to ""VolumesV2CloneTest""",MERGED,2016-11-28 15:04:58.000000000,2016-11-29 21:21:13.000000000,2016-11-29 21:21:13.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 14985}, {'_account_id': 23825}]","[{'number': 1, 'created': '2016-11-28 15:04:58.000000000', 'files': ['tempest/api/volume/test_volumes_clone.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/57c0708fb6f7d2314eec940d723e0b81037fdef9', 'message': 'Rename ""VolumesCloneTest"" class name to ""VolumesV2CloneTest""\n\nThis class tests api version 2, so the class name should indicate this.\n\nChange-Id: I704a67f528232a22ed7daad0666ca8a739aba400\n'}]",0,403749,57c0708fb6f7d2314eec940d723e0b81037fdef9,18,5,1,19262,,,0,"Rename ""VolumesCloneTest"" class name to ""VolumesV2CloneTest""

This class tests api version 2, so the class name should indicate this.

Change-Id: I704a67f528232a22ed7daad0666ca8a739aba400
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/403749/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_clone.py'],1,57c0708fb6f7d2314eec940d723e0b81037fdef9,class_name,"class VolumesV2CloneTest(base.BaseVolumeTest): super(VolumesV2CloneTest, cls).skip_checks()class VolumesV1CloneTest(VolumesV2CloneTest):","class VolumesCloneTest(base.BaseVolumeTest): super(VolumesCloneTest, cls).skip_checks()class VolumesV1CloneTest(VolumesCloneTest):",3,3
openstack%2Ftripleo-quickstart-extras~master~If42af8db0822bc2be11ffabc0fb66adafc777a14,openstack/tripleo-quickstart-extras,master,If42af8db0822bc2be11ffabc0fb66adafc777a14,DO NOT MERGE: Testing change for internal gates,ABANDONED,2016-11-29 18:59:52.000000000,2016-11-29 21:18:39.000000000,,"[{'_account_id': 3}, {'_account_id': 9976}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-11-29 18:59:52.000000000', 'files': ['roles/gate-quickstart/tasks/checkout.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7ad0c0327e611054ef21d4cba0cdc25fdbd88d53', 'message': 'DO NOT MERGE: Testing change for internal gates\n\nThe internal gates are failing on setup.cfg copies.\nThis review modifes the replace change to requirements\nto see its impact on other entries in the\nrequirements file.\n\nChange-Id: If42af8db0822bc2be11ffabc0fb66adafc777a14\n'}]",0,404388,7ad0c0327e611054ef21d4cba0cdc25fdbd88d53,15,3,1,9976,,,0,"DO NOT MERGE: Testing change for internal gates

The internal gates are failing on setup.cfg copies.
This review modifes the replace change to requirements
to see its impact on other entries in the
requirements file.

Change-Id: If42af8db0822bc2be11ffabc0fb66adafc777a14
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/88/404388/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/gate-quickstart/tasks/checkout.yml'],1,7ad0c0327e611054ef21d4cba0cdc25fdbd88d53,modify-gate-requirements, replace: 'file:../{{ gated_project_name }}/#egg={{ gated_project_name }}'," replace: 'file://{{ lookup(""env"", ""WORKSPACE"") }}/{{ gated_project_name }}/#egg={{ gated_project_name }}'",1,1
openstack%2Fceilometer~master~Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a,openstack/ceilometer,master,Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a,DO NOT MERGE: Test Nova breakage with PostGre,ABANDONED,2016-11-25 17:00:40.000000000,2016-11-29 21:17:37.000000000,,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 7166}, {'_account_id': 15843}, {'_account_id': 21513}]","[{'number': 1, 'created': '2016-11-25 17:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6ed70015266b6cfc0eb96c6216cb30f73c64a447', 'message': 'DO NOT MERGE: Test Nova breakage with PostGre\n\nNova is broken atm, testing the related patch in your gate.\n\nChange-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a\nDepends-On: #If420fd3d44923f337a5bc383ff13c4a60d73ff84\n'}, {'number': 2, 'created': '2016-11-25 18:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2e306566b81fa396447230d59ec7ec68200945bb', 'message': 'DO NOT MERGE: Test Nova breakage with PostGre\n\nNova is broken atm, testing the related patch in your gate.\n\nChange-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a\nDepends-On: If420fd3d44923f337a5bc383ff13c4a60d73ff84\n'}, {'number': 3, 'created': '2016-11-28 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/048e87cb78c19cffbab624eb237c125f78ea44da', 'message': 'DO NOT MERGE: Test Nova breakage with PostGre\n\nNova is broken atm, testing the related patch in your gate.\n\nChange-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a\nDepends-On: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\n'}, {'number': 4, 'created': '2016-11-28 20:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/66e5cf4b9142e0dab40d71f4f488bf335624449c', 'message': 'DO NOT MERGE: Test Nova breakage with PostGre\n\nNova is broken atm, testing the related patch in your gate.\n\nChange-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a\nDepends-On: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nDepends-On: I828191f750a5978fed65a86e797388d11042b4a0\n'}, {'number': 5, 'created': '2016-11-29 14:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c74a0cbdb3e1360ebc7249e147c0ba2a04da3904', 'message': 'DO NOT MERGE: Test Nova breakage with PostGre\n\nNova is broken atm, testing the related patch in your gate.\n\nChange-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a\n\n'}, {'number': 6, 'created': '2016-11-29 15:04:01.000000000', 'files': ['ceilometer/cmd/storage.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2760f3b0b5152be5b7c63c3e9fe2171a65d51f5d', 'message': 'DO NOT MERGE: Test Nova breakage with PostGre\n\nNova is broken atm, testing the related patch in your gate.\n\nDepends-On: I67a340eea79b4423e77a00242ec6ae345e8c0e19\n\nChange-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a\n\n'}]",0,403101,2760f3b0b5152be5b7c63c3e9fe2171a65d51f5d,22,5,6,7166,,,0,"DO NOT MERGE: Test Nova breakage with PostGre

Nova is broken atm, testing the related patch in your gate.

Depends-On: I67a340eea79b4423e77a00242ec6ae345e8c0e19

Change-Id: Ie4db20dbecc3cd1b4184ef880a31599f4d8e524a

",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/01/403101/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/cmd/storage.py'],1,6ed70015266b6cfc0eb96c6216cb30f73c64a447,dnm/test_nova_breakage_for_postgre, # NOOP,,1,0
openstack%2Fironic~master~I23ff594ae3101e796e955015366552fa5e77bec4,openstack/ironic,master,I23ff594ae3101e796e955015366552fa5e77bec4,"dnm, showing gabriel-bezerra some thoughts",ABANDONED,2016-11-22 12:51:34.000000000,2016-11-29 21:09:50.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2016-11-22 12:51:34.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base_vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/19c2d4b6c91a5aca08e49be34b3838a700e0e7e7', 'message': 'dnm, showing gabriel-bezerra some thoughts\n\nChange-Id: I23ff594ae3101e796e955015366552fa5e77bec4\n'}]",0,400733,19c2d4b6c91a5aca08e49be34b3838a700e0e7e7,7,5,1,10343,,,0,"dnm, showing gabriel-bezerra some thoughts

Change-Id: I23ff594ae3101e796e955015366552fa5e77bec4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/400733/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base_vendor.py']",2,19c2d4b6c91a5aca08e49be34b3838a700e0e7e7,," try: task.driver.boot.prepare_instance(task) except Exception as e: LOG.error(_LE('Deploy failed for instance %(instance)s. ' 'Error: %(error)s'), {'instance': node.instance_uuid, 'error': e}) msg = _('Failed to continue agent deployment.') log_and_raise_deployment_error(task, msg) if iwdi: manager_utils.node_set_boot_device(task, 'disk', persistent=True) "," try: task.driver.boot.prepare_instance(task) except Exception as e: LOG.error(_LE('Deploy failed for instance %(instance)s. ' 'Error: %(error)s'), {'instance': node.instance_uuid, 'error': e}) msg = _('Failed to continue agent deployment.') log_and_raise_deployment_error(task, msg)",11,10
openstack%2Fnova~master~I828191f750a5978fed65a86e797388d11042b4a0,openstack/nova,master,I828191f750a5978fed65a86e797388d11042b4a0,Default deleted if the instance from BuildRequest is not having it,MERGED,2016-11-28 17:40:00.000000000,2016-11-29 20:48:06.000000000,2016-11-29 11:51:25.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-28 17:40:00.000000000', 'files': ['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37ec9b99c7ca85467f5d274505e86436d86657dc', 'message': ""Default deleted if the instance from BuildRequest is not having it\n\nWe should already have the rehydrated instance having the deleted field being\nset. That field is also a BooleanField type, so we should never try to cast it\nfrom an integer (even if we support it). Instead, we need to make sure that if\nthe field is not set for any reason (mostly because an Instance wasn't persisted\nbefore we persisted the BuildRequest object that was nesting it), then we would\ndefault the deleted field to False.\n\nChange-Id: I828191f750a5978fed65a86e797388d11042b4a0\nRelated-Bug: #1644513\n""}]",3,403821,37ec9b99c7ca85467f5d274505e86436d86657dc,30,5,1,7166,,,0,"Default deleted if the instance from BuildRequest is not having it

We should already have the rehydrated instance having the deleted field being
set. That field is also a BooleanField type, so we should never try to cast it
from an integer (even if we support it). Instead, we need to make sure that if
the field is not set for any reason (mostly because an Instance wasn't persisted
before we persisted the BuildRequest object that was nesting it), then we would
default the deleted field to False.

Change-Id: I828191f750a5978fed65a86e797388d11042b4a0
Related-Bug: #1644513
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/403821/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py']",2,37ec9b99c7ca85467f5d274505e86436d86657dc,bug/1644513,"from oslo_versionedobjects import base as o_vo_base def test_from_db_object_set_deleted(self): # Assert that if we persisted an instance not yet having the deleted # field being set, we still return a value for that field. fake_req = fake_build_request.fake_db_req() with mock.patch.object(o_vo_base.VersionedObject, 'obj_set_defaults') as mock_obj_set_defaults: build_request = objects.BuildRequest._from_db_object( self.context, objects.BuildRequest(), fake_req) mock_obj_set_defaults.assert_called_once_with('deleted') self.assertFalse(build_request.instance.deleted) ",,17,1
openstack%2Fopenstack-ansible~master~I4ffa621e72483957bbce0057b05a9e5b33d27b7c,openstack/openstack-ansible,master,I4ffa621e72483957bbce0057b05a9e5b33d27b7c,Add command to create consolidated AIO config,MERGED,2016-11-01 20:35:27.000000000,2016-11-29 20:42:13.000000000,2016-11-29 20:42:13.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 10881}, {'_account_id': 12000}, {'_account_id': 12807}, {'_account_id': 12892}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-11-01 20:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fa65125c37dd056d2b481743b2c101bdac816da7', 'message': 'Add command to create consolidated AIO config\n\nWith the AIO configuration spread amongst several different files, it\nmay be hard to see how they fit together. This command provides a way to\ngenerate a single, combined configuration to see what it would look like\nprior to being fed to the dynamic inventory.\n\nAlso, it can serve as a starting point for projects working on OSA\nintegration.\n\nChange-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c\n'}, {'number': 2, 'created': '2016-11-08 15:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1703ff7692b7a0f278eb0a8b5c60e54279f8fd38', 'message': 'Add command to create consolidated AIO config\n\nWith the AIO configuration spread amongst several different files, it\nmay be hard to see how they fit together. This command provides a way to\ngenerate a single, combined configuration to see what it would look like\nprior to being fed to the dynamic inventory.\n\nAlso, it can serve as a starting point for projects working on OSA\nintegration.\n\nChange-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c\n'}, {'number': 3, 'created': '2016-11-11 19:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6aa648cfd195649b8533dfa4bb1a6c521fb44fd', 'message': 'Add command to create consolidated AIO config\n\nWith the AIO configuration spread amongst several different files, it\nmay be hard to see how they fit together. This command provides a way to\ngenerate a single, combined configuration to see what it would look like\nprior to being fed to the dynamic inventory.\n\nAlso, it can serve as a starting point for projects working on OSA\nintegration.\n\nChange-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c\n'}, {'number': 4, 'created': '2016-11-22 17:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/042f02b9b38d882c26d3dc18bd0431271064e2f1', 'message': 'Add command to create consolidated AIO config\n\nWith the AIO configuration spread amongst several different files, it\nmay be hard to see how they fit together. This command provides a way to\ngenerate a single, combined configuration to see what it would look like\nprior to being fed to the dynamic inventory.\n\nAlso, it can serve as a starting point for projects working on OSA\nintegration.\n\nA new script, gen-config.py, is introduced to expose this functionality\nto end users.\n\nChange-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c\n'}, {'number': 5, 'created': '2016-11-22 17:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/45a20096b4cd3686a681cc9cdf0faa31f7a4a9a7', 'message': 'Add command to create consolidated AIO config\n\nWith the AIO configuration spread amongst several different files, it\nmay be hard to see how they fit together. This command provides a way to\ngenerate a single, combined configuration to see what it would look like\nprior to being fed to the dynamic inventory.\n\nAlso, it can serve as a starting point for projects working on OSA\nintegration.\n\nA new script, gen-config.py, is introduced to expose this functionality\nto end users.\n\nChange-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c\n'}, {'number': 6, 'created': '2016-11-23 16:01:48.000000000', 'files': ['scripts/gen-config.py', 'tests/test_inventory.py', 'lib/tools.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5548d3b9642e7830354b3d00778a96ad8eab7c77', 'message': 'Add command to create consolidated AIO config\n\nWith the AIO configuration spread amongst several different files, it\nmay be hard to see how they fit together. This command provides a way to\ngenerate a single, combined configuration to see what it would look like\nprior to being fed to the dynamic inventory.\n\nAlso, it can serve as a starting point for projects working on OSA\nintegration.\n\nA new script, gen-config.py, is introduced to expose this functionality\nto end users.\n\nParent-Id: I577cdbf4aadfcce846412edd7e2a394c257c0243\nChange-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c\n'}]",6,392300,5548d3b9642e7830354b3d00778a96ad8eab7c77,35,7,6,12892,,,0,"Add command to create consolidated AIO config

With the AIO configuration spread amongst several different files, it
may be hard to see how they fit together. This command provides a way to
generate a single, combined configuration to see what it would look like
prior to being fed to the dynamic inventory.

Also, it can serve as a starting point for projects working on OSA
integration.

A new script, gen-config.py, is introduced to expose this functionality
to end users.

Parent-Id: I577cdbf4aadfcce846412edd7e2a394c257c0243
Change-Id: I4ffa621e72483957bbce0057b05a9e5b33d27b7c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/392300/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_inventory.py', 'lib/tools.py']",2,fa65125c37dd056d2b481743b2c101bdac816da7,inventory-gen-config,"#!/usr/bin/env python # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # (c) 2016, Nolan Brubaker <nolan.brubaker@rackspace.com> import glob import os from os import path import yaml CONFIGS_DIR = path.join(os.getcwd(), 'etc', 'openstack_deploy') AIO_CONFIG_FILE = path.join(CONFIGS_DIR, 'openstack_user_config.yml.aio') CONFD = path.join(CONFIGS_DIR, 'conf.d') def make_example_config(aio_config_file, configs_dir): """"""Build an inventory configuration based on example AIO files :param aio_config_file: ``str`` Master AIO configuration example file :param configs_dir: ``str`` Directory containing independent conf.d files """""" files = glob.glob(os.path.join(configs_dir, '*.aio')) config = {} files = glob.glob(os.path.join(configs_dir, '*.aio')) for file_name in files: with open(file_name, 'r') as f: config.update(yaml.safe_load(f.read())) with open(aio_config_file, 'r') as f: config.update(yaml.safe_load(f.read())) return config def write_example_config(filename, config): """"""Dump generated configuration to a file. :param filename: ``str`` The filename which to write to. :param config: ``dict`` Dictionary containing the config which to write. """""" with open(filename, 'w') as f: f.write(yaml.dump(config)) ",,57,10
openstack%2Fgovernance~master~I9c75496f7b40d3fb78e8c4c92e6bfc2bc161e52f,openstack/governance,master,I9c75496f7b40d3fb78e8c4c92e6bfc2bc161e52f,Add project Zun to OpenStack big-tent,MERGED,2016-11-24 22:17:08.000000000,2016-11-29 20:41:27.000000000,2016-11-29 20:41:27.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6348}, {'_account_id': 6482}, {'_account_id': 6484}, {'_account_id': 9775}, {'_account_id': 10206}, {'_account_id': 11034}, {'_account_id': 12175}, {'_account_id': 12385}, {'_account_id': 12407}, {'_account_id': 13248}, {'_account_id': 13861}, {'_account_id': 16277}, {'_account_id': 16308}, {'_account_id': 16352}, {'_account_id': 21785}, {'_account_id': 22076}]","[{'number': 1, 'created': '2016-11-24 22:17:08.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/103dffcaa379ff530dc65cb0a3e6d2a6d09db232', 'message': ""Add project Zun to OpenStack big-tent\n\nAddition of the Zun Project - a collaboration of 22 engineers\nfrom 12 affiliations [1] to bring prevailing container technologies\nto Openstack.\n\nZun was originated from Magnum, but became an independent project\nbased on the decision made by the community in the OpenStack Austin\ndesign summit [2]. After the split, Zun focuses on providing\ncontainer service for OpenStack, while Magnum focus on deployment and\nmanagement of Container Orchestration Engines (COEs).\n\nZun aligns with the OpenStack Mission by providing an\nOpenStack-native container service backed by various container\ntechnologies. Zun directly builds on existing OpenStack services,\nsuch as Nova, Neutron, Glance, Keystone, Horizon, and potentially\nmore.\n\nZun uses the Apache v2.0 license. All library dependencies allow for\nunrestricted distribution and deployment.\n\nOur PTL is chosen by our contributors [3], and holds\nweekly IRC meetings in #openstack-meeting and are logged [4][5].\nWe are also available in #openstack-zun to for daily discussion and\nas a way for users to interact with our developers openly. Zun\nprovides a level and open collaboration playing field because it\ndoesn't benefit a specific vendor or contributors from a specific\nvendor.\n\nZun uses Gerrit for code reviews [6][7][8], and Launchpad [9][10]\nfor bugs and blueprints tracking. Our code is automatically tested\nby the OpenStack CI infrastructure. Our PTL serves as a contact for\ncross-project teams in OpenStack.\n\nWe make extensive use of existing software, and have not\ndeliberately reproduced functionality that already exists in other\necosystem projects. Zun doesn't compete with COEs, such as Swarm,\nMesos, or Kubernetes, but instead offers a pluggable architecture\nfor vendors to plugin COEs of their choice. We are open to\nintegrate prevailing container technologies that help OpenStack\noperators offer application containers to their cloud users.\n\nProject direction has been publicly discussed at the Austin and\nBarcelona OpenStack Design Summit, and in the weekly IRC meetings.\nWe also use the openstack-dev ML for project discussion.\n\nZun is compatible with OpenStack APIs, and uses Keystone middleware\nto integrate with OpenStack Identity.\n\nThere are numerous active contributors from several affiliations who\nhave significant contribution to Zun.\n\nThe Zun team is happy to participate in any goals specified by the\nTC, and meet any policies that the TC requires all projects to meet.\n\n[1] http://stackalytics.com/?project_type=openstack-others&release=all&metric=commits&module=zun\n[2] https://etherpad.openstack.org/p/newton-magnum-unified-abstraction\n[3] http://lists.openstack.org/pipermail/openstack-dev/2016-November/107887.html\n[4] http://eavesdrop.openstack.org/meetings/zun/2016/\n[5] http://eavesdrop.openstack.org/meetings/higgins/2016/\n[6] https://review.openstack.org/#/q/project:openstack/zun\n[7] https://review.openstack.org/#/q/project:openstack/python-zunclient\n[8] https://review.openstack.org/#/q/project:openstack/zun-ui\n[9] https://launchpad.net/zun\n[10] https://launchpad.net/zun-ui\n\nChange-Id: I9c75496f7b40d3fb78e8c4c92e6bfc2bc161e52f\n""}]",2,402227,103dffcaa379ff530dc65cb0a3e6d2a6d09db232,35,26,1,11536,,,0,"Add project Zun to OpenStack big-tent

Addition of the Zun Project - a collaboration of 22 engineers
from 12 affiliations [1] to bring prevailing container technologies
to Openstack.

Zun was originated from Magnum, but became an independent project
based on the decision made by the community in the OpenStack Austin
design summit [2]. After the split, Zun focuses on providing
container service for OpenStack, while Magnum focus on deployment and
management of Container Orchestration Engines (COEs).

Zun aligns with the OpenStack Mission by providing an
OpenStack-native container service backed by various container
technologies. Zun directly builds on existing OpenStack services,
such as Nova, Neutron, Glance, Keystone, Horizon, and potentially
more.

Zun uses the Apache v2.0 license. All library dependencies allow for
unrestricted distribution and deployment.

Our PTL is chosen by our contributors [3], and holds
weekly IRC meetings in #openstack-meeting and are logged [4][5].
We are also available in #openstack-zun to for daily discussion and
as a way for users to interact with our developers openly. Zun
provides a level and open collaboration playing field because it
doesn't benefit a specific vendor or contributors from a specific
vendor.

Zun uses Gerrit for code reviews [6][7][8], and Launchpad [9][10]
for bugs and blueprints tracking. Our code is automatically tested
by the OpenStack CI infrastructure. Our PTL serves as a contact for
cross-project teams in OpenStack.

We make extensive use of existing software, and have not
deliberately reproduced functionality that already exists in other
ecosystem projects. Zun doesn't compete with COEs, such as Swarm,
Mesos, or Kubernetes, but instead offers a pluggable architecture
for vendors to plugin COEs of their choice. We are open to
integrate prevailing container technologies that help OpenStack
operators offer application containers to their cloud users.

Project direction has been publicly discussed at the Austin and
Barcelona OpenStack Design Summit, and in the weekly IRC meetings.
We also use the openstack-dev ML for project discussion.

Zun is compatible with OpenStack APIs, and uses Keystone middleware
to integrate with OpenStack Identity.

There are numerous active contributors from several affiliations who
have significant contribution to Zun.

The Zun team is happy to participate in any goals specified by the
TC, and meet any policies that the TC requires all projects to meet.

[1] http://stackalytics.com/?project_type=openstack-others&release=all&metric=commits&module=zun
[2] https://etherpad.openstack.org/p/newton-magnum-unified-abstraction
[3] http://lists.openstack.org/pipermail/openstack-dev/2016-November/107887.html
[4] http://eavesdrop.openstack.org/meetings/zun/2016/
[5] http://eavesdrop.openstack.org/meetings/higgins/2016/
[6] https://review.openstack.org/#/q/project:openstack/zun
[7] https://review.openstack.org/#/q/project:openstack/python-zunclient
[8] https://review.openstack.org/#/q/project:openstack/zun-ui
[9] https://launchpad.net/zun
[10] https://launchpad.net/zun-ui

Change-Id: I9c75496f7b40d3fb78e8c4c92e6bfc2bc161e52f
",git fetch https://review.opendev.org/openstack/governance refs/changes/27/402227/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,103dffcaa379ff530dc65cb0a3e6d2a6d09db232,formal-vote, zun: ptl: name: Hongbin Lu irc: hongbin email: hongbin.lu@huawei.com irc-channel: openstack-zun service: Containers service mission: > To provide an OpenStack containers service that integrates with various container technologies for managing application containers on OpenStack. url: https://wiki.openstack.org/wiki/Zun deliverables: python-zunclient: repos: - openstack/python-zunclient zun: repos: - openstack/zun zun-ui: repos: - openstack/zun-ui,,22,0
openstack%2Fpuppet-openstack-integration~master~I934101ca8e3fbe8d3faf0f8155b68e85588c58b7,openstack/puppet-openstack-integration,master,I934101ca8e3fbe8d3faf0f8155b68e85588c58b7,Nothing to see here...,ABANDONED,2016-11-17 19:13:44.000000000,2016-11-29 20:33:51.000000000,,"[{'_account_id': 3}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-17 19:13:44.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/78afaaf2f7d2ae30dbfe4b9d17ba2c798bb9c5bc', 'message': 'Nothing to see here...\n\nChange-Id: I934101ca8e3fbe8d3faf0f8155b68e85588c58b7\n'}]",0,399194,78afaaf2f7d2ae30dbfe4b9d17ba2c798bb9c5bc,25,2,1,14985,,,0,"Nothing to see here...

Change-Id: I934101ca8e3fbe8d3faf0f8155b68e85588c58b7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/399194/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp']",3,78afaaf2f7d2ae30dbfe4b9d17ba2c798bb9c5bc,ci-testing, $ipv6 = false, $ipv6 = true,3,3
openstack%2Fneutron~master~I9db38ee1f2c74b7014f73a2a7277543659e4d643,openstack/neutron,master,I9db38ee1f2c74b7014f73a2a7277543659e4d643,Replace create_test_segment with NetworkSegment object,MERGED,2016-11-21 05:35:21.000000000,2016-11-29 20:32:09.000000000,2016-11-21 13:30:03.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}]","[{'number': 1, 'created': '2016-11-21 05:35:21.000000000', 'files': ['neutron/tests/unit/objects/test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f4a84c0d9a30b78f8f83ac59f1d99dfca6136ce', 'message': 'Replace create_test_segment with NetworkSegment object\n\nThis patch will replace the creation of network segment\nwith Network Segment object in the test_base file.\n\nChange-Id: I9db38ee1f2c74b7014f73a2a7277543659e4d643\n'}]",0,400052,8f4a84c0d9a30b78f8f83ac59f1d99dfca6136ce,12,6,1,22218,,,0,"Replace create_test_segment with NetworkSegment object

This patch will replace the creation of network segment
with Network Segment object in the test_base file.

Change-Id: I9db38ee1f2c74b7014f73a2a7277543659e4d643
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/400052/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/objects/test_base.py'],1,8f4a84c0d9a30b78f8f83ac59f1d99dfca6136ce,bp/adopt-oslo-versioned-objects-for-db," self._segment = net_obj.NetworkSegment(self.context, network_id=network['id'], network_type='vxlan') self._segment.create()","from neutron.db.models import segment as segments_model test_segment = { 'network_id': network['id'], 'network_type': 'vxlan', } # TODO(korzen): replace with segment.create() once we get an object # implementation for segments self._segment = obj_db_api.create_object( self.context, segments_model.NetworkSegment, test_segment)",4,9
openstack%2Fliberasurecode~master~I0b8883ea60a904d4dc0efef94a33946a44ecfe01,openstack/liberasurecode,master,I0b8883ea60a904d4dc0efef94a33946a44ecfe01,Fix posix_memalign handling,MERGED,2016-07-12 06:20:39.000000000,2016-11-29 20:21:53.000000000,2016-11-29 20:21:53.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-07-12 06:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/a06e1f1bfc846c1bb414a80b8b42a4f84de3054b', 'message': ""Fix posix_memalign handling\n\nDocs[1] says posix_memalign will return non-zero value if it failed\nbut currently it checked only if it's negative (or not) so that probably\nit can triggers something wrong (e.g. core dumped) if something like ENOTMEM\nreturned.\n\nChange-Id: I0b8883ea60a904d4dc0efef94a33946a44ecfe01\n1: http://pubs.opengroup.org/onlinepubs/009695399/functions/posix_memalign.html\n""}, {'number': 2, 'created': '2016-07-12 14:13:08.000000000', 'files': ['src/erasurecode_helpers.c'], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/bdc8503bb2e24d7f70f13503dc440d8f9276268e', 'message': ""Fix posix_memalign handling\n\nDocs[1] says posix_memalign will return non-zero value if it failed\nbut currently it checked only if it's negative (or not) so that probably\nit can triggers something wrong (e.g. core dumped) if something like ENOTMEM\nreturned.\n\nChange-Id: I0b8883ea60a904d4dc0efef94a33946a44ecfe01\n1: http://pubs.opengroup.org/onlinepubs/009695399/functions/posix_memalign.html\n""}]",0,340701,bdc8503bb2e24d7f70f13503dc440d8f9276268e,10,3,2,4608,,,0,"Fix posix_memalign handling

Docs[1] says posix_memalign will return non-zero value if it failed
but currently it checked only if it's negative (or not) so that probably
it can triggers something wrong (e.g. core dumped) if something like ENOTMEM
returned.

Change-Id: I0b8883ea60a904d4dc0efef94a33946a44ecfe01
1: http://pubs.opengroup.org/onlinepubs/009695399/functions/posix_memalign.html
",git fetch https://review.opendev.org/openstack/liberasurecode refs/changes/01/340701/2 && git format-patch -1 --stdout FETCH_HEAD,['src/erasurecode_helpers.c'],1,a06e1f1bfc846c1bb414a80b8b42a4f84de3054b,memalign," if (posix_memalign(&buf, 16, size) != 0) {"," if (posix_memalign(&buf, 16, size) < 0) {",1,1
openstack%2Fdevstack-gate~master~Ic6720677a4a496d246a8f9be5ede1a53821f56dc,openstack/devstack-gate,master,Ic6720677a4a496d246a8f9be5ede1a53821f56dc,Consume new variable IPV4_ADDRS_SAFE_TO_USE,MERGED,2016-11-16 22:14:28.000000000,2016-11-29 20:21:20.000000000,2016-11-29 18:54:37.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 10215}, {'_account_id': 13252}]","[{'number': 1, 'created': '2016-11-16 22:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7f35c048a257a4e733b32dca5d0fbb5d92fc7bb1', 'message': 'Consume new variable IPV4_ADDRS_SAFE_TO_USE\n\nChange-Id: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nDepends-On: I7b32804d47bec743c0b13e434e6a7958728896ea\n'}, {'number': 2, 'created': '2016-11-16 22:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f5ca892903178466ca5dfa9188619b0d89685547', 'message': 'Consume new variable IPV4_ADDRS_SAFE_TO_USE\n\nChange-Id: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nDepends-On: I7b32804d47bec743c0b13e434e6a7958728896ea\n'}, {'number': 3, 'created': '2016-11-29 14:43:58.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/08da6c623014b9d530e127f1d17fb59bd3b7f515', 'message': 'Consume new variable IPV4_ADDRS_SAFE_TO_USE\n\nChange-Id: Ic6720677a4a496d246a8f9be5ede1a53821f56dc\nDepends-On: I7b32804d47bec743c0b13e434e6a7958728896ea\n'}]",2,398611,08da6c623014b9d530e127f1d17fb59bd3b7f515,22,5,3,2,,,0,"Consume new variable IPV4_ADDRS_SAFE_TO_USE

Change-Id: Ic6720677a4a496d246a8f9be5ede1a53821f56dc
Depends-On: I7b32804d47bec743c0b13e434e6a7958728896ea
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/11/398611/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,7f35c048a257a4e733b32dca5d0fbb5d92fc7bb1,,IPV4_ADDRS_SAFE_TO_USE=${DEVSTACK_GATE_FIXED_RANGE:-10.1.0.0/20}IPV4_ADDRS_SAFE_TO_USE=$IPV4_ADDRS_SAFE_TO_USE,FIXED_RANGE=${DEVSTACK_GATE_FIXED_RANGE:-10.1.0.0/20}FIXED_RANGE=$FIXED_RANGE,2,2
openstack%2Foslo.versionedobjects~master~Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea,openstack/oslo.versionedobjects,master,Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea,Refactor get_schema for patterned FieldTypes,MERGED,2016-10-24 13:34:35.000000000,2016-11-29 20:16:02.000000000,2016-11-29 20:16:02.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 5638}, {'_account_id': 9708}, {'_account_id': 18462}, {'_account_id': 20411}]","[{'number': 1, 'created': '2016-10-24 13:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/c5f79bf55b9b88ce143228b4bcdf3511f0823e76', 'message': 'Refactor get_schema for address FieldTypes\n\nCreated a base class AddressBase that implements similar JSON schema for\naddress field types - UUID, PCI, MAC, IP Address\n\nimplements bp json-schema-for-versioned-object\n\nChange-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea\n'}, {'number': 2, 'created': '2016-10-24 13:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/fb9b92c2d0c7ce4a380126cf997a4533675ce080', 'message': 'Refactor get_schema for address FieldTypes\n\nCreated a base class AddressBase that implements similar JSON schema for\naddress field types - UUID, PCI, MAC, IP Address\n\nimplements bp json-schema-for-versioned-object\n\nChange-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea\n'}, {'number': 3, 'created': '2016-10-25 12:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/7e318a484ce0dab3b1cf585fbe2dfb46c2ceacdc', 'message': 'Refactor get_schema for address FieldTypes\n\nCreated a base class AddressBase that implements similar JSON schema for\naddress field types - UUID, PCI, MAC, IP Address\n\nimplements bp json-schema-for-versioned-object\n\nChange-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea\n'}, {'number': 4, 'created': '2016-10-25 13:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/2ee208491f56585f4dcf2bd6c3253d5120e29899', 'message': 'Refactor get_schema for address FieldTypes\n\nCreated a base class AddressBase that implements similar JSON schema for\naddress field types - UUID, PCI, MAC, IP Address\n\nimplements bp json-schema-for-versioned-object\n\nChange-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea\n'}, {'number': 5, 'created': '2016-10-31 15:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/d8a4d8d71853194a63b743445de5c05bf80ca1f3', 'message': 'Refactor get_schema for address FieldTypes\n\nCreated a base class AddressBase that implements similar JSON schema for\naddress field types - UUID, PCI, MAC, IP Address\n\nimplements bp json-schema-for-versioned-object\n\nChange-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea\n'}, {'number': 6, 'created': '2016-10-31 15:20:14.000000000', 'files': ['oslo_versionedobjects/fields.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/16e520b6d651d40319048c811529cd2243025578', 'message': 'Refactor get_schema for patterned FieldTypes\n\nCreated a base class StringPattern that implements similar JSON schema for\npatterned field types - UUID, PCI, MAC, IP Address\n\nimplements bp json-schema-for-versioned-object\n\nChange-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea\n'}]",4,390340,16e520b6d651d40319048c811529cd2243025578,20,7,6,20411,,,0,"Refactor get_schema for patterned FieldTypes

Created a base class StringPattern that implements similar JSON schema for
patterned field types - UUID, PCI, MAC, IP Address

implements bp json-schema-for-versioned-object

Change-Id: Ie44ad83ce0cb41bec538adcd336dacdcafebd3ea
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/40/390340/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/fields.py'],1,c5f79bf55b9b88ce143228b4bcdf3511f0823e76,bp/json-schema-for-versioned-object,"class AddressBase(FieldType): def get_schema(self): if hasattr(self, ""_PATTERN""): return {'type': ['string'], 'pattern': self._PATTERN} else: return super(AddressBase, self).get_schema() class UUID(AddressBase): class MACAddress(AddressBase): class PCIAddress(AddressBase):class IPAddress(AddressBase):","class UUID(FieldType): def get_schema(self): return {'type': ['string'], 'pattern': self._PATTERN} class MACAddress(FieldType): def get_schema(self): return {'type': ['string'], 'pattern': self._PATTERN} class PCIAddress(FieldType): def get_schema(self): return {'type': ['string'], 'pattern': self._PATTERN} class IPAddress(FieldType): def get_schema(self): return {'type': ['string'], 'pattern': self._PATTERN} def get_schema(self): return {'type': ['string'], 'pattern': self._PATTERN} ",12,19
openstack%2Fsearchlight~master~I790b7b02f0aeab95058b3bab947e096da5377a6b,openstack/searchlight,master,I790b7b02f0aeab95058b3bab947e096da5377a6b,Dummy: Testing that infra change works,ABANDONED,2016-11-29 19:24:33.000000000,2016-11-29 20:11:58.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-29 19:24:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/e355f554d14513b3062d1763cb1d30f1a73dd066', 'message': 'Dummy: Testing that infra change works\n\nDo not merge, this is for testing that\nhttps://review.openstack.org/#/c/399105/ works.\n\nChange-Id: I790b7b02f0aeab95058b3bab947e096da5377a6b\n'}]",0,404399,e355f554d14513b3062d1763cb1d30f1a73dd066,3,1,1,6547,,,0,"Dummy: Testing that infra change works

Do not merge, this is for testing that
https://review.openstack.org/#/c/399105/ works.

Change-Id: I790b7b02f0aeab95058b3bab947e096da5377a6b
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/99/404399/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e355f554d14513b3062d1763cb1d30f1a73dd066,dummy,,#,0,1
openstack%2Fpython-neutronclient~stable%2Fnewton~Ib39b4f1d9016b99426ce13fa1fd63570bd50680b,openstack/python-neutronclient,stable/newton,Ib39b4f1d9016b99426ce13fa1fd63570bd50680b,Make extension functional tests conditional,ABANDONED,2016-11-29 19:32:17.000000000,2016-11-29 20:07:50.000000000,,[],"[{'number': 1, 'created': '2016-11-29 19:32:17.000000000', 'files': ['neutronclient/tests/functional/base.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_fwaas.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_vpn.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cfc28527687b769ae29369b47838f2bb4b6c2071', 'message': 'Make extension functional tests conditional\n\nTo the presence of the extension under test.\n\nConflicts:\n\tneutronclient/tests/functional/base.py\n\n(cherry picked from commit dcffd06cd9cb0e167dcb2884dba638c33ad54fe5)\nChange-Id: Ib39b4f1d9016b99426ce13fa1fd63570bd50680b\n'}]",0,404402,cfc28527687b769ae29369b47838f2bb4b6c2071,3,0,1,748,,,0,"Make extension functional tests conditional

To the presence of the extension under test.

Conflicts:
	neutronclient/tests/functional/base.py

(cherry picked from commit dcffd06cd9cb0e167dcb2884dba638c33ad54fe5)
Change-Id: Ib39b4f1d9016b99426ce13fa1fd63570bd50680b
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/02/404402/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/functional/base.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_fwaas.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_vpn.py']",3,cfc28527687b769ae29369b47838f2bb4b6c2071,skip-disabled-exts," def setUp(self): super(SimpleReadOnlyNeutronVpnClientTest, self).setUp() if not self.is_extension_enabled('vpnaas'): self.skipTest('VPNaaS is not enabled')",,17,1
openstack%2Fpython-neutronclient~master~Ib39b4f1d9016b99426ce13fa1fd63570bd50680b,openstack/python-neutronclient,master,Ib39b4f1d9016b99426ce13fa1fd63570bd50680b,Make extension functional tests conditional,ABANDONED,2016-11-29 19:25:52.000000000,2016-11-29 20:07:32.000000000,,"[{'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 13995}]","[{'number': 1, 'created': '2016-11-29 19:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/fe60aceeccea74a94cf55b8857a9648ca5df94b7', 'message': 'Make extension functional tests conditional\n\nTo the presence of the extension under test.\n\nChange-Id: Ib39b4f1d9016b99426ce13fa1fd63570bd50680b\n'}, {'number': 2, 'created': '2016-11-29 19:30:05.000000000', 'files': ['neutronclient/tests/functional/base.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_fwaas.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_vpn.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/dcffd06cd9cb0e167dcb2884dba638c33ad54fe5', 'message': 'Make extension functional tests conditional\n\nTo the presence of the extension under test.\n\nChange-Id: Ib39b4f1d9016b99426ce13fa1fd63570bd50680b\n'}]",4,404400,dcffd06cd9cb0e167dcb2884dba638c33ad54fe5,8,4,2,748,,,0,"Make extension functional tests conditional

To the presence of the extension under test.

Change-Id: Ib39b4f1d9016b99426ce13fa1fd63570bd50680b
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/00/404400/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/functional/base.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_fwaas.py', 'neutronclient/tests/functional/adv-svcs/test_readonly_neutron_vpn.py']",3,fe60aceeccea74a94cf55b8857a9648ca5df94b7,skip-disabled-exts," def setUp(self): super(SimpleReadOnlyNeutronVpnClientTest, self).setUp() if not self.is_extension_enabled('vpnaas'): self.skipTest('VPNaaS is not enabled')",,17,1
openstack%2Fpuppet-openstack-integration~master~Ie9b8113351300ab8ab331f083a47fef7d4735e69,openstack/puppet-openstack-integration,master,Ie9b8113351300ab8ab331f083a47fef7d4735e69,Update scenario004 for updates to puppet-ceph,MERGED,2016-11-28 19:18:44.000000000,2016-11-29 20:06:35.000000000,2016-11-29 20:06:35.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2016-11-28 19:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/97d6ba853a24b01df7c16e68e4f35fa661620fdd', 'message': 'Update scenario004 for updates to puppet-ceph\n\npuppet ceph used hardcoded values in ceph::rgw::keystone::auth\nThis updates p-o-i scenario004 to provide values to the previously\nhardcoded parameters.\n\nChange-Id: Ie9b8113351300ab8ab331f083a47fef7d4735e69\nDepends-On: Ic55960841f4e42e66a4a04be1976a2b205db2cdc\n'}, {'number': 2, 'created': '2016-11-28 21:32:56.000000000', 'files': ['manifests/ceph.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/45d254d199a124886b81d299946d078dca434307', 'message': 'Update scenario004 for updates to puppet-ceph\n\npuppet ceph used hardcoded values in ceph::rgw::keystone::auth\nThis updates p-o-i scenario004 to provide values to the previously\nhardcoded parameters.\n\nChange-Id: Ie9b8113351300ab8ab331f083a47fef7d4735e69\n'}]",0,403865,45d254d199a124886b81d299946d078dca434307,13,3,2,19564,,,0,"Update scenario004 for updates to puppet-ceph

puppet ceph used hardcoded values in ceph::rgw::keystone::auth
This updates p-o-i scenario004 to provide values to the previously
hardcoded parameters.

Change-Id: Ie9b8113351300ab8ab331f083a47fef7d4735e69
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/65/403865/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceph.pp'],1,97d6ba853a24b01df7c16e68e4f35fa661620fdd,403865," user => $auth_name, tenant => $project,",,2,0
openstack%2Fpyeclib~master~I678e10008c3c5bc04640f7f19498334d94cb0cd6,openstack/pyeclib,master,I678e10008c3c5bc04640f7f19498334d94cb0cd6,Fix formatted get_metadata memory leak,MERGED,2016-10-11 22:57:19.000000000,2016-11-29 20:04:45.000000000,2016-11-29 20:04:45.000000000,"[{'_account_id': 3}, {'_account_id': 1179}]","[{'number': 1, 'created': '2016-10-11 22:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/d02765edc2bf548ee3b6fa05410ca02e75414086', 'message': 'Fix formatted get_metadata memory leak\n\nCo-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>\n\nChange-Id: I678e10008c3c5bc04640f7f19498334d94cb0cd6\n'}, {'number': 2, 'created': '2016-11-29 19:58:00.000000000', 'files': ['test/test_pyeclib_api.py', 'src/c/pyeclib_c/pyeclib_c.c'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/cc6f4bba26ee2a1e2dc18e17131ff5b5fbe7d6d9', 'message': 'Fix formatted get_metadata memory leak\n\nCo-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>\n\nChange-Id: I678e10008c3c5bc04640f7f19498334d94cb0cd6\n'}]",1,385185,cc6f4bba26ee2a1e2dc18e17131ff5b5fbe7d6d9,9,2,2,15343,,,0,"Fix formatted get_metadata memory leak

Co-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>

Change-Id: I678e10008c3c5bc04640f7f19498334d94cb0cd6
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/85/385185/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/test_pyeclib_api.py', 'src/c/pyeclib_c/pyeclib_c.c']",2,d02765edc2bf548ee3b6fa05410ca02e75414086,get_metadata-leak," const char *chksum_type_str = chksum_type_to_str(fragment_metadata->chksum_type); char *encoded_chksum = hex_encode_string((char*)fragment_metadata->chksum, chksum_length(fragment_metadata->chksum_type)); const char *backend_id_str = backend_id_to_str(fragment_metadata->backend_id); PyObject* metadata_dict = Py_BuildValue( ""{s:k, s:k, s:K, s:s, s:s, s:B, s:s, s:k}"", ""index"", fragment_metadata->idx, ""size"", fragment_metadata->size, ""orig_data_size"", fragment_metadata->orig_data_size, ""chksum_type"", chksum_type_str, ""chksum"", encoded_chksum, ""chksum_mismatch"", fragment_metadata->chksum_mismatch, ""backend_id"", backend_id_str, ""backend_version"", fragment_metadata->backend_version);"," PyObject* metadata_dict = NULL; metadata_dict = PyDict_New(); if (PyDict_SetItemString(metadata_dict, ""index"", PyLong_FromLong((unsigned long)fragment_metadata->idx)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict index ERROR: ""); return NULL; } if (PyDict_SetItemString(metadata_dict, ""size"", PyLong_FromLong(fragment_metadata->size)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict size ERROR: ""); return NULL; } if (PyDict_SetItemString(metadata_dict, ""orig_data_size"", PyLong_FromLong(fragment_metadata->orig_data_size)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict orig_data_size ERROR: ""); return NULL; } const char *chksum_type_str = chksum_type_to_str(fragment_metadata->chksum_type); if (PyDict_SetItemString(metadata_dict, ""chksum_type"", PyString_FromString(chksum_type_str)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict chksum_type ERROR: ""); return NULL; } char *encoded_chksum = hex_encode_string((char*)fragment_metadata->chksum, chksum_length(fragment_metadata->chksum_type)); if (PyDict_SetItemString(metadata_dict, ""chksum"", PyString_FromString(encoded_chksum)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict chksum ERROR: ""); return NULL; } if (PyDict_SetItemString(metadata_dict, ""chksum_mismatch"", PyLong_FromLong((unsigned long)fragment_metadata->chksum_mismatch)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict chksum_mismatch ERROR: ""); return NULL; } const char *backend_id_str = backend_id_to_str(fragment_metadata->backend_id); if (PyDict_SetItemString(metadata_dict, ""backend_id"", PyString_FromString(backend_id_str)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict backend_id ERROR: ""); return NULL; } if (PyDict_SetItemString(metadata_dict, ""backend_version"", PyLong_FromLong((unsigned long)fragment_metadata->backend_version)) < 0) { pyeclib_c_seterr(-EINVALIDPARAMS, ""fragment_metadata_to_dict backend_version ERROR: ""); return NULL; } ",38,56
openstack%2Fdevstack~master~I6171c13507e420f146801d323cb1011be36c1e8c,openstack/devstack,master,I6171c13507e420f146801d323cb1011be36c1e8c,Make the Neutron l3 plugin use the subnetpools,MERGED,2016-08-16 15:49:33.000000000,2016-11-29 19:55:00.000000000,2016-09-26 15:01:16.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2750}, {'_account_id': 4187}, {'_account_id': 4656}, {'_account_id': 7448}, {'_account_id': 10118}, {'_account_id': 10215}, {'_account_id': 10379}, {'_account_id': 10385}, {'_account_id': 15321}, {'_account_id': 16376}, {'_account_id': 16803}, {'_account_id': 17292}, {'_account_id': 21582}]","[{'number': 1, 'created': '2016-08-16 15:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aafcd39650ecf26046d018712d3ba14fd66f79bb', 'message': 'Make the Neutron l3 plugin use the subnetpools\n\nThe plugin creates subnetpools but does not use them when creating the\ndefault subnets. It uses CIDR values that overlap with the\ndefault pools. Change this to use the subnetpools.\n\nChange-Id: I6171c13507e420f146801d323cb1011be36c1e8c\nCloses-bug: 1613717\n'}, {'number': 2, 'created': '2016-08-17 20:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/604f1a3b2bb791731a6b900660d3b6558dbe5db6', 'message': 'Make the Neutron l3 plugin use the subnetpools\n\nThe plugin creates subnetpools but does not use them when creating the\ndefault subnets. It uses CIDR values that overlap with the\ndefault pools. Change this to use the subnetpools.\n\nChange-Id: I6171c13507e420f146801d323cb1011be36c1e8c\nCloses-bug: 1613717\n'}, {'number': 3, 'created': '2016-08-17 21:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9083aeb475795862b6ca220cb53e2aded82f013d', 'message': 'Make the Neutron l3 plugin use the subnetpools\n\nThe plugin creates subnetpools but does not use them when creating the\ndefault subnets. It uses CIDR values that overlap with the\ndefault pools. Change this to use the subnetpools.\n\nChange-Id: I6171c13507e420f146801d323cb1011be36c1e8c\nCloses-bug: 1613717\n'}, {'number': 4, 'created': '2016-08-17 22:01:14.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7a3f5c4cc55e61bdcb5eb57bf823cee2e059828', 'message': 'Make the Neutron l3 plugin use the subnetpools\n\nThe plugin creates subnetpools but does not use them when creating the\ndefault subnets. It uses CIDR values that overlap with the\ndefault pools. Change this to use the subnetpools.\n\nChange-Id: I6171c13507e420f146801d323cb1011be36c1e8c\nCloses-bug: 1613717\n'}]",9,356026,d7a3f5c4cc55e61bdcb5eb57bf823cee2e059828,65,15,4,15321,,,0,"Make the Neutron l3 plugin use the subnetpools

The plugin creates subnetpools but does not use them when creating the
default subnets. It uses CIDR values that overlap with the
default pools. Change this to use the subnetpools.

Change-Id: I6171c13507e420f146801d323cb1011be36c1e8c
Closes-bug: 1613717
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/356026/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,aafcd39650ecf26046d018712d3ba14fd66f79bb,bug/1613717," if is_networking_extension_supported ""auto-allocated-topology"" && is_networking_extension_supported ""subnet_allocation""; then if [[ ""$IP_VERSION"" =~ 4.* ]]; then SUBNETPOOL_V4_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnetpool-create $SUBNETPOOL_NAME --default-prefixlen $SUBNETPOOL_SIZE_V4 --pool-prefix $SUBNETPOOL_PREFIX_V4 --shared --is-default=True | grep ' id ' | get_field 2) fi if [[ ""$IP_VERSION"" =~ .*6 ]]; then SUBNETPOOL_V6_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnetpool-create $SUBNETPOOL_NAME --default-prefixlen $SUBNETPOOL_SIZE_V6 --pool-prefix $SUBNETPOOL_PREFIX_V6 --shared --is-default=True | grep ' id ' | get_field 2) fi fi if [ -z $SUBNETPOOL_V4_ID ]; then fixed_range_v4=$FIXED_RANGE fi SUBNET_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet-create --tenant_id $project_id --ip_version 4 ${ALLOCATION_POOL:+--allocation-pool $ALLOCATION_POOL} --name $PROVIDER_SUBNET_NAME --gateway $NETWORK_GATEWAY ${SUBNETPOOL_V4_ID:+--subnetpool $SUBNETPOOL_V4_ID} $NET_ID $fixed_range_v4 | grep ' id ' | get_field 2) if [ -z $SUBNETPOOL_V6_ID ]; then fixed_range_v6=$IPV6_PROVIDER_FIXED_RANGE fi SUBNET_V6_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet-create --tenant_id $project_id --ip_version 6 --ipv6-address-mode $IPV6_ADDRESS_MODE --gateway $IPV6_PROVIDER_NETWORK_GATEWAY --name $IPV6_PROVIDER_SUBNET_NAME ${SUBNETPOOL_V6_ID:+--subnetpool $SUBNETPOOL_V6_ID} $NET_ID $fixed_range_v6 | grep 'id' | get_field 2) if [ -z $SUBNETPOOL_V4_ID ]; then fixed_range_v4=$FIXED_RANGE fi subnet_params+=""${SUBNETPOOL_V4_ID:+--subnetpool $SUBNETPOOL_V4_ID} "" subnet_params+=""$NET_ID $fixed_range_v4"" if [ -z $SUBNETPOOL_V6_ID ]; then fixed_range_v6=$FIXED_RANGE_V6 fi subnet_params+=""${SUBNETPOOL_V6_ID:+--subnetpool $SUBNETPOOL_V6_ID} "" subnet_params+=""$NET_ID $fixed_range_v6 $ipv6_modes"""," SUBNET_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet-create --tenant_id $project_id --ip_version 4 ${ALLOCATION_POOL:+--allocation-pool $ALLOCATION_POOL} --name $PROVIDER_SUBNET_NAME --gateway $NETWORK_GATEWAY $NET_ID $FIXED_RANGE | grep ' id ' | get_field 2) SUBNET_V6_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet-create --tenant_id $project_id --ip_version 6 --ipv6-address-mode $IPV6_ADDRESS_MODE --gateway $IPV6_PROVIDER_NETWORK_GATEWAY --name $IPV6_PROVIDER_SUBNET_NAME $NET_ID $IPV6_PROVIDER_FIXED_RANGE | grep 'id' | get_field 2) if [[ ""$IP_VERSION"" =~ 4.* ]]; then SUBNETPOOL_V4_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnetpool-create $SUBNETPOOL_NAME --default-prefixlen $SUBNETPOOL_SIZE_V4 --pool-prefix $SUBNETPOOL_PREFIX_V4 --shared --is-default=True | grep ' id ' | get_field 2) fi if [[ ""$IP_VERSION"" =~ .*6 ]]; then SUBNETPOOL_V6_ID=$(neutron --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnetpool-create $SUBNETPOOL_NAME --default-prefixlen $SUBNETPOOL_SIZE_V6 --pool-prefix $SUBNETPOOL_PREFIX_V6 --shared --is-default=True | grep ' id ' | get_field 2) fi subnet_params+=""$NET_ID $FIXED_RANGE"" subnet_params+=""$NET_ID $FIXED_RANGE_V6 $ipv6_modes""",27,10
openstack%2Fgovernance~master~Ie07a2a44bfead450348fe13eb1685e267c9c1b13,openstack/governance,master,Ie07a2a44bfead450348fe13eb1685e267c9c1b13,Improve badge table padding,MERGED,2016-11-29 18:42:54.000000000,2016-11-29 19:46:50.000000000,2016-11-29 19:46:50.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-11-29 18:42:54.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/75c167f0c93d64ca89858f430990dd0e97e00915', 'message': ""Improve badge table padding\n\nDon't use the same horizontal padding for every column and fix the total\nwidth for the root svg.\n\nChange-Id: Ie07a2a44bfead450348fe13eb1685e267c9c1b13\n""}]",0,404382,75c167f0c93d64ca89858f430990dd0e97e00915,8,4,1,6159,,,0,"Improve badge table padding

Don't use the same horizontal padding for every column and fix the total
width for the root svg.

Change-Id: Ie07a2a44bfead450348fe13eb1685e267c9c1b13
",git fetch https://review.opendev.org/openstack/governance refs/changes/82/404382/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,75c167f0c93d64ca89858f430990dd0e97e00915,," ziped = list(izip_longest(*(iter(sbadges),) * 4)) col_x = 0 for x, badge in enumerate(group): width_badge = ziped[-1][x] if width_badge is None: if len(ziped) > 1: width_badge = ziped[-2][x] else: width_badge = badge # NOTE(flaper87): 3 is just an extra padding in case there are two badges # with the same width in the same row badge['svg_x'] = col_x col_x += width_badge['width'] + 3 root_width = badges[-1][-1]['svg_x'] + badges[-1][-1]['width']"," # NOTE(flaper87): 3 is just an extra padding in case there are two badges # with the same width in the same row col_width = sbadges[-1]['width'] + 3 ziped = izip_longest(*(iter(sbadges),) * 4) for x, badge in enumerate(group): badge['svg_x'] = x * col_width root_width = badges[0][-1]['svg_x'] + badges[0][-1]['width']",15,8
openstack%2Fgovernance~master~Ide754eae2ab9a2c6df3b150ff843358ceca69860,openstack/governance,master,Ide754eae2ab9a2c6df3b150ff843358ceca69860,[badge] Improves vertical layout,MERGED,2016-11-29 16:10:42.000000000,2016-11-29 19:45:55.000000000,2016-11-29 19:45:55.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 6159}, {'_account_id': 6482}, {'_account_id': 14482}]","[{'number': 1, 'created': '2016-11-29 16:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8d0872e229c6606716f960ab84485f63cf2f8431', 'message': '[badge] Improves vertical layout\n\nSome rst readers (e.g., GitHub) wrongly interpreted height property\nand caused unnecessary vertical heights.\nThis commit improves vertical layout by adding conventional\nproperties on SVG_ROOT.\n\nChange-Id: Ide754eae2ab9a2c6df3b150ff843358ceca69860\n'}, {'number': 2, 'created': '2016-11-29 17:01:17.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/7927ebf615ffb1b1f077cc21956d552114abe6f7', 'message': '[badge] Improves vertical layout\n\nSome rst readers (e.g., GitHub) wrongly interpreted height property\nand caused unnecessary vertical heights.\nThis commit improves vertical layout by adding conventional\nproperties on SVG_ROOT.\n\nChange-Id: Ide754eae2ab9a2c6df3b150ff843358ceca69860\n'}]",2,404304,7927ebf615ffb1b1f077cc21956d552114abe6f7,16,6,2,14482,,,0,"[badge] Improves vertical layout

Some rst readers (e.g., GitHub) wrongly interpreted height property
and caused unnecessary vertical heights.
This commit improves vertical layout by adding conventional
properties on SVG_ROOT.

Change-Id: Ide754eae2ab9a2c6df3b150ff843358ceca69860
",git fetch https://review.opendev.org/openstack/governance refs/changes/04/404304/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,8d0872e229c6606716f960ab84485f63cf2f8431,badges,"<svg contentScriptType=""text/ecmascript"" zoomAndPan=""magnify"" contentStyleType=""text/css"" height=""20"" preserveAspectRatio=""xMidYMid meet"" xmlns=""http://www.w3.org/2000/svg"" version=""1.1"" xmlns:xlink=""http://www.w3.org/1999/xlink"">","<svg xmlns=""http://www.w3.org/2000/svg"" version=""1.1"" xmlns:xlink=""http://www.w3.org/1999/xlink"">",3,1
openstack%2Fbifrost~master~Icb1c5dfded5574d901444bbca72e5d74a336093f,openstack/bifrost,master,Icb1c5dfded5574d901444bbca72e5d74a336093f,Add keystone installation playbook,MERGED,2016-09-30 12:36:28.000000000,2016-11-29 19:43:25.000000000,2016-11-29 19:43:25.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 12459}, {'_account_id': 22474}, {'_account_id': 23163}]","[{'number': 1, 'created': '2016-09-30 12:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8d063aa52f722b3dcd93682c07885295dd51e2d1', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 2, 'created': '2016-10-03 14:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f5df5f72d3f5a5bdc11ab46196ddcfff5e3cc0c6', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 3, 'created': '2016-10-04 14:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e7a658c38127441d9d3a7076ffe04b445d0c0baa', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 4, 'created': '2016-10-05 13:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6e9aab8bedeecb8b5309c1dfbb4f9e3195e7c114', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 5, 'created': '2016-10-05 14:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/70cebe0e70fc1d76ff968c3811756321d0ea5128', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 6, 'created': '2016-10-07 15:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c18371b14d95736aa50d6c50115ff5550f0eb11e', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 7, 'created': '2016-10-14 20:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8c072bf351cb8fa48ca877bb8fd472b22949c119', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 8, 'created': '2016-10-20 12:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/44189101b7f650688525ae1a6736c4d96a34f165', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}, {'number': 9, 'created': '2016-11-22 14:23:35.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-keystone-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-keystone-install/templates/upstart_template.j2', 'releasenotes/notes/keystone-installation-3b812d9f673c7bbe.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'scripts/env-setup.sh', 'playbooks/roles/bifrost-keystone-install/README.md', 'playbooks/roles/bifrost-keystone-install/templates/nginx_conf.d_bifrost-keystone.conf.j2', 'playbooks/roles/bifrost-keystone-install/templates/keystone-admin.ini.j2', 'playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-keystone-install/meta/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/templates/systemd_template.j2', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', 'playbooks/roles/bifrost-keystone-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone.conf.j2', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a5c688a9ab4cdb3dccc5cb9b939b094d08db86e2', 'message': 'Add keystone installation playbook\n\nIn order to support use of keystone, bifrost needs to be able to\ninstall keystone in a minimalistic fashion alongside of ironic.\n\nThis commit adds the role, and required changes for that\nconfiguration to be bootstrapped.\n\nChange-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f\n'}]",28,380225,a5c688a9ab4cdb3dccc5cb9b939b094d08db86e2,52,7,9,11655,,,0,"Add keystone installation playbook

In order to support use of keystone, bifrost needs to be able to
install keystone in a minimalistic fashion alongside of ironic.

This commit adds the role, and required changes for that
configuration to be bootstrapped.

Change-Id: Icb1c5dfded5574d901444bbca72e5d74a336093f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/25/380225/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-keystone-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-keystone-install/templates/upstart_template.j2', 'releasenotes/notes/keystone-installation-3b812d9f673c7bbe.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'scripts/env-setup.sh', 'playbooks/roles/bifrost-keystone-install/README.md', 'playbooks/roles/bifrost-keystone-install/templates/nginx_conf.d_bifrost-keystone.conf.j2', 'playbooks/roles/bifrost-keystone-install/templates/keystone-admin.ini.j2', 'playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-keystone-install/meta/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/templates/systemd_template.j2', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', 'playbooks/roles/bifrost-keystone-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone.conf.j2', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml']",26,8d063aa52f722b3dcd93682c07885295dd51e2d1,feature/keystone-auth,"--- keystone_source_install: true # *_git_url can be overridden by local clones for offline installs keystone_git_url: https://git.openstack.org/openstack/keystone keystone_git_folder: /opt/stack/keystone # set to true to skip installing ironic dependencies skip_package_install: False # set to true to skip generation of configs, ironic db and rabbitmq configuration skip_bootstrap: False # set to true to skip starting ironic services and dependencies skip_start: False # Parameters for connecting to mysql for database manipulation. mysql_username: ""root"" mysql_password: """" # Support for CORS configuration # By default CORS support is disabled. enable_cors: false # Origin to accept for CORS requests cors_allowed_origin: ""http://localhost:8000"" # bifrost utilizes noauth mode by default and as such # the setting should be set to false. This setting should # not need to be modified by the user. enable_cors_credential_support: false # Settings related to installing bifrost in a virtual environment enable_venv: false bifrost_venv_dir: ""{{ lookup('env', 'VENV') | default('/opt/stack/bifrost') }}"" bifrost_venv_env: VIRTUAL_ENV: ""{{ bifrost_venv_dir }}"" PATH: ""{{ bifrost_venv_dir }}/bin:{{ ansible_env.PATH }}"" # include regular path via lookup env pydoc: ""python -m pydoc"" keystone: debug: true bootstrap: enabled: true username: admin password: ChangeThisPa55w0rd project_name: admin admin_url: ""http://127.0.0.1:35357/v2.0/"" public_url: ""http://127.0.0.1:5000/v2.0/"" internal_url: ""http://127.0.0.1:5000/v2.0/"" region_name: ""RegionOne"" message_queue: username: keystone password: ChangeThisPa55w0rd host: 127.0.0.1 database: name: keystone username: keystone password: ChangeThisPa55w0rd host: 127.0.0.1 ",,866,0
openstack%2Fglance_store~master~I6c4fbaf03a4f1b2f4c19cf0bbb630114a90b3da3,openstack/glance_store,master,I6c4fbaf03a4f1b2f4c19cf0bbb630114a90b3da3,Fix a typo in help text,MERGED,2016-11-29 16:09:18.000000000,2016-11-29 19:43:07.000000000,2016-11-29 19:43:07.000000000,"[{'_account_id': 3}, {'_account_id': 8158}, {'_account_id': 12000}]","[{'number': 1, 'created': '2016-11-29 16:09:18.000000000', 'files': ['glance_store/backend.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/dea0aec18af83219dc8e172498bd72adaba5de58', 'message': ""Fix a typo in help text\n\nCame across a typo when looking for something else, might as well\nfix it since it's user-facing.\n\nTrivialFix\n\nChange-Id: I6c4fbaf03a4f1b2f4c19cf0bbb630114a90b3da3\n""}]",0,404303,dea0aec18af83219dc8e172498bd72adaba5de58,9,3,1,5314,,,0,"Fix a typo in help text

Came across a typo when looking for something else, might as well
fix it since it's user-facing.

TrivialFix

Change-Id: I6c4fbaf03a4f1b2f4c19cf0bbb630114a90b3da3
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/03/404303/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/backend.py'],1,dea0aec18af83219dc8e172498bd72adaba5de58,fix-a-typo,"deployment and help with the usage of this feature, please contact","deplyment and help with the usage of this feature, please contact",1,1
openstack%2Fneutron~master~I829429d698522a862f1ae0819d6b6583f6216e76,openstack/neutron,master,I829429d698522a862f1ae0819d6b6583f6216e76,Remove unused LOG,MERGED,2016-11-19 07:56:41.000000000,2016-11-29 19:36:54.000000000,2016-11-22 22:57:36.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 17292}, {'_account_id': 20246}, {'_account_id': 20256}]","[{'number': 1, 'created': '2016-11-19 07:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1f33fe317c194b7c40b3b21fd96b965db46c30a', 'message': 'Remove unused LOG\n\nChange-Id: I829429d698522a862f1ae0819d6b6583f6216e76\n'}, {'number': 2, 'created': '2016-11-19 08:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff36e6233edae1fcef3785b6b912c700987d96e9', 'message': 'Remove unused LOG\n\nChange-Id: I829429d698522a862f1ae0819d6b6583f6216e76\n'}, {'number': 3, 'created': '2016-11-19 08:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7558aa800e04b31f0d48b0b40246663c4d2cf678', 'message': 'Remove unused LOG\n\nChange-Id: I829429d698522a862f1ae0819d6b6583f6216e76\n'}, {'number': 4, 'created': '2016-11-21 03:54:45.000000000', 'files': ['neutron/db/models/flavor.py', 'neutron/db/common_db_mixin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/846cad8c755de6153b5f7aec1f1f017bfa735821', 'message': 'Remove unused LOG\n\nChange-Id: I829429d698522a862f1ae0819d6b6583f6216e76\n'}]",0,399834,846cad8c755de6153b5f7aec1f1f017bfa735821,60,13,4,20256,,,0,"Remove unused LOG

Change-Id: I829429d698522a862f1ae0819d6b6583f6216e76
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/399834/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/common_db_mixin.py'],1,e1f33fe317c194b7c40b3b21fd96b965db46c30a,fix_no_use,,LOG = logging.getLogger(__name__) ,0,2
openstack%2Fmurano~master~Ife3e157d9c3e8f0a6c1680b6134fd2c40dd62faf,openstack/murano,master,Ife3e157d9c3e8f0a6c1680b6134fd2c40dd62faf,Fix removes date_time items from dictionaries,MERGED,2016-11-29 06:34:44.000000000,2016-11-29 19:36:45.000000000,2016-11-29 19:36:45.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7821}, {'_account_id': 15168}, {'_account_id': 23382}, {'_account_id': 23815}, {'_account_id': 23871}]","[{'number': 1, 'created': '2016-11-29 06:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/bc6de0e4c96c679e79c2cc93516e59cef82bb1b5', 'message': ""Fix removes date_time items from dictionaries\n\nSome functional tests fail because they assert dictionaries\nwith date/time items. For example, test_environment_template_create\nchecks that dictionary env_template exists in env_template_list\ndicrionary list. All mentioned dictionaries have date/time items\nwith keys 'Created' and 'Updated'. If the system, where functional\ntests are executed will be quite slow - time in these dictionaries\ncould differ. This behavior will result corresponding test to fail\neven if all tasks will be executed successfully because time in\ndictionaries for 'Created' and 'Updated' keys will differ and\nassert will fail\n\nRemoving the date/time items from dictionaries will help to\nsuccessfully pass functional tests\n\nChange-Id: Ife3e157d9c3e8f0a6c1680b6134fd2c40dd62faf\nCloses-Bug: #1626733\n""}, {'number': 2, 'created': '2016-11-29 06:38:50.000000000', 'files': ['murano_tempest_tests/tests/api/application_catalog/test_env_templates.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/787f14baa273486c44e88f2dc5e6e0b9cae2a35e', 'message': ""Fix removes date_time items from dictionaries\n\nSome functional tests fail because they assert dictionaries\nwith date/time items. For example, test_environment_template_create\nchecks that dictionary env_template exists in env_template_list\ndicrionary list. All mentioned dictionaries have date/time items\nwith keys 'Created' and 'Updated'. If the system, where functional\ntests are executed will be quite slow - time in these dictionaries\ncould differ. This behavior will result corresponding test to fail\neven if all tasks will be executed successfully because time in\ndictionaries for 'Created' and 'Updated' keys will differ and\nassert will fail\n\nRemoving the date/time items from dictionaries will help to\nsuccessfully pass functional tests\n\nCloses-Bug: #1626733\n\nChange-Id: Ife3e157d9c3e8f0a6c1680b6134fd2c40dd62faf\n""}]",0,404035,787f14baa273486c44e88f2dc5e6e0b9cae2a35e,13,7,2,16198,,,0,"Fix removes date_time items from dictionaries

Some functional tests fail because they assert dictionaries
with date/time items. For example, test_environment_template_create
checks that dictionary env_template exists in env_template_list
dicrionary list. All mentioned dictionaries have date/time items
with keys 'Created' and 'Updated'. If the system, where functional
tests are executed will be quite slow - time in these dictionaries
could differ. This behavior will result corresponding test to fail
even if all tasks will be executed successfully because time in
dictionaries for 'Created' and 'Updated' keys will differ and
assert will fail

Removing the date/time items from dictionaries will help to
successfully pass functional tests

Closes-Bug: #1626733

Change-Id: Ife3e157d9c3e8f0a6c1680b6134fd2c40dd62faf
",git fetch https://review.opendev.org/openstack/murano refs/changes/35/404035/2 && git format-patch -1 --stdout FETCH_HEAD,['murano_tempest_tests/tests/api/application_catalog/test_env_templates.py'],1,bc6de0e4c96c679e79c2cc93516e59cef82bb1b5,fix_bug_#1626733," # Deleting dates from dictionaries to skip it in assert map(lambda x: x.pop('Updated', None), public_env_templates + [public_env_template] + [private_env_template] + [private_alt_env_template]) map(lambda x: x.pop('Created', None), public_env_templates + [public_env_template] + [private_env_template] + [private_alt_env_template]) # Deleting dates from dictionaries to skip it in assert map(lambda x: x.pop('Updated', None), private_env_templates) map(lambda x: x.pop('Created', None), private_env_templates) # Deleting dates from dictionaries to skip it in assert map(lambda x: x.pop('Updated', None), env_templates) map(lambda x: x.pop('Created', None), env_templates) # Deleting dates from dictionaries to skip it in assert map(lambda x: x.pop('Updated', None), alt_pub_templates) map(lambda x: x.pop('Created', None), alt_pub_templates) # Deleting dates from dictionaries to skip it in assert map(lambda x: x.pop('Updated', None), alt_priv_templates) map(lambda x: x.pop('Created', None), alt_priv_templates) # Deleting dates from dictionaries to skip it in assert map(lambda x: x.pop('Updated', None), alt_priv_templates) map(lambda x: x.pop('Created', None), alt_priv_templates) ",,34,0
openstack%2Ftripleo-quickstart~master~I8f9b52e7a0e78266fab0717e20a9710be264f5aa,openstack/tripleo-quickstart,master,I8f9b52e7a0e78266fab0717e20a9710be264f5aa,Remove parameters from overcloud deploy,MERGED,2016-11-29 10:42:06.000000000,2016-11-29 19:30:48.000000000,2016-11-29 19:30:48.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 12715}]","[{'number': 1, 'created': '2016-11-29 10:42:06.000000000', 'files': ['config/general_config/ceph.yml', 'config/general_config/minimal_pacemaker.yml', 'config/general_config/minimal.yml', 'config/general_config/ha_ipv6.yml', 'config/general_config/ha_big.yml', 'config/general_config/ha.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/881c8f2c53d474d45f13dbb02d35c86f3f54ff5d', 'message': ""Remove parameters from overcloud deploy\n\nReview https://review.openstack.org/#/c/397312/ has removed\nsome options in tripleoclient.\n\nSpecifically, --neutron-network-type and --neutron-tunnel-types\nare being used in tripleo-quickstart. This patch removes them\nfrom extra_args.\n\nThis parameters are being passed via environment files or using\nvxlan by default so i think it doesn't need any other adjustment.\n\nChange-Id: I8f9b52e7a0e78266fab0717e20a9710be264f5aa\n""}]",0,404137,881c8f2c53d474d45f13dbb02d35c86f3f54ff5d,12,6,1,16312,,,0,"Remove parameters from overcloud deploy

Review https://review.openstack.org/#/c/397312/ has removed
some options in tripleoclient.

Specifically, --neutron-network-type and --neutron-tunnel-types
are being used in tripleo-quickstart. This patch removes them
from extra_args.

This parameters are being passed via environment files or using
vxlan by default so i think it doesn't need any other adjustment.

Change-Id: I8f9b52e7a0e78266fab0717e20a9710be264f5aa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/404137/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/ceph.yml', 'config/general_config/minimal_pacemaker.yml', 'config/general_config/minimal.yml', 'config/general_config/ha_ipv6.yml', 'config/general_config/ha_big.yml', 'config/general_config/ha.yml']",6,881c8f2c53d474d45f13dbb02d35c86f3f54ff5d,remove-parms, --control-scale 3, --control-scale 3 --neutron-network-type vxlan --neutron-tunnel-types vxlan,2,12
openstack%2Ftrove-dashboard~master~Ifbb3424bc174829d66518c4a167a03a0cd1feb1c,openstack/trove-dashboard,master,Ifbb3424bc174829d66518c4a167a03a0cd1feb1c,Don't import ceilometer_data,MERGED,2016-11-29 16:38:03.000000000,2016-11-29 19:30:38.000000000,2016-11-29 19:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10215}]","[{'number': 1, 'created': '2016-11-29 16:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/fd3658bdce56c0c1c7db6e96afffd79edb7947f0', 'message': ""don't import ceilometer_data\n\nthis import is apparently not used and now no longer exists. don't\nimport it any longer. a bigger fix is required to get rid of all\nunneeded imports (like Ic121ac52d261b1f4eb972a0075cd3a09883fb100).\n\nChange-Id: Ifbb3424bc174829d66518c4a167a03a0cd1feb1c\n""}, {'number': 2, 'created': '2016-11-29 18:10:22.000000000', 'files': ['trove_dashboard/test/test_data/utils.py', 'trove_dashboard/content/database_backups/tables.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/db411a56eb46b8f45be4b8057c3dbdbd91f70141', 'message': ""Don't import ceilometer_data\n\nThis import is apparently not used and now no longer exists. don't\nimport it any longer. a bigger fix is required to get rid of all\nunneeded imports (like Ic121ac52d261b1f4eb972a0075cd3a09883fb100).\n\nAlso due to change in legacy swift panel we need to reverse some\nlogic in detecting the legacy panel.\n\nChange-Id: Ifbb3424bc174829d66518c4a167a03a0cd1feb1c\nCo-Authored-By: Duk Loi <duk@tesora.com>\n""}]",0,404334,db411a56eb46b8f45be4b8057c3dbdbd91f70141,17,3,2,9664,,,0,"Don't import ceilometer_data

This import is apparently not used and now no longer exists. don't
import it any longer. a bigger fix is required to get rid of all
unneeded imports (like Ic121ac52d261b1f4eb972a0075cd3a09883fb100).

Also due to change in legacy swift panel we need to reverse some
logic in detecting the legacy panel.

Change-Id: Ifbb3424bc174829d66518c4a167a03a0cd1feb1c
Co-Authored-By: Duk Loi <duk@tesora.com>
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/34/404334/2 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/test/test_data/utils.py'],1,fd3658bdce56c0c1c7db6e96afffd79edb7947f0,fix-gate,," from openstack_dashboard.test.test_data import ceilometer_data ceilometer_data.data,",0,2
openstack%2Fpyeclib~master~Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33,openstack/pyeclib,master,Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33,Assorted combinatoric-test fixes,MERGED,2016-11-17 00:04:43.000000000,2016-11-29 19:28:40.000000000,2016-11-29 19:28:40.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 4608}]","[{'number': 1, 'created': '2016-11-17 00:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/5453e8d3ba4e74fa2746bfd9e1bd2103bd429dd5', 'message': 'Assorted combinatoric-test fixes\n\n* Test flat_xor_hd decoding/reconstruction\n* Use random input\n* Make py3-friendly\n\nAdditionally:\n\n* Accept tuples of fragment payloads, rather than just lists\n* Add a __repr__ for ECDrivers\n\nChange-Id: Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33\n'}, {'number': 2, 'created': '2016-11-17 06:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/2f4e0b7633810da8eb475fef3ed69d72997213b2', 'message': 'Assorted combinatoric-test fixes\n\n* Test flat_xor_hd decoding/reconstruction\n* Use random input\n* Make py3-friendly\n\nAdditionally:\n\n* Accept tuples of fragment payloads, rather than just lists\n* Add a __repr__ for ECDrivers\n\nChange-Id: Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33\n'}, {'number': 3, 'created': '2016-11-17 06:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/82d0b668c9d3ec5a869c7d59a7645a783251a76f', 'message': 'Assorted combinatoric-test fixes\n\n* Test flat_xor_hd decoding/reconstruction\n* Use random input\n* Make py3-friendly\n\nAdditionally:\n\n* Accept tuples of fragment payloads, rather than just lists\n* Add a __repr__ for ECDrivers\n\nChange-Id: Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33\n'}, {'number': 4, 'created': '2016-11-17 17:58:08.000000000', 'files': ['pyeclib/core.py', 'test/test_pyeclib_api.py', 'pyeclib/ec_iface.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/9cc72f7ce8cc1db9e4116be99bee513f3169ed91', 'message': 'Assorted combinatoric-test fixes\n\n* Test flat_xor_hd decoding/reconstruction\n* Use random input\n* Make py3-friendly\n\nAdditionally:\n\n* Accept iterables as fragment payloads, rather than just lists\n* Add a __repr__ for ECDrivers\n\nChange-Id: Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33\n'}]",5,398648,9cc72f7ce8cc1db9e4116be99bee513f3169ed91,16,3,4,15343,,,0,"Assorted combinatoric-test fixes

* Test flat_xor_hd decoding/reconstruction
* Use random input
* Make py3-friendly

Additionally:

* Accept iterables as fragment payloads, rather than just lists
* Add a __repr__ for ECDrivers

Change-Id: Ic5b5e5ef2420afdc318b403fcbea1ff106e16a33
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/48/398648/4 && git format-patch -1 --stdout FETCH_HEAD,"['pyeclib/core.py', 'test/test_pyeclib_api.py', 'pyeclib/ec_iface.py']",3,5453e8d3ba4e74fa2746bfd9e1bd2103bd429dd5,greedy-testing," def __repr__(self): return '%s(ec_type=%r, k=%r, m=%r)' % ( type(self).__name__, 'flat_xor_hd_%s' % self.hd if self.ec_type.name == 'flat_xor_hd' else self.ec_type.name, self.k, self.m) ",,31,20
openstack%2Fpyeclib~master~Ieb46f4ab5c8f6cb60f35c632728cbcf4a1727c53,openstack/pyeclib,master,Ieb46f4ab5c8f6cb60f35c632728cbcf4a1727c53,Add greedy test for decode/reconstruct result solid,MERGED,2016-11-04 09:18:58.000000000,2016-11-29 19:27:41.000000000,2016-11-29 19:27:41.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-11-04 09:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/d8304137aee501acdbb3807807d4f64ee46ffa54', 'message': ""Add greedy test for decode/reconstruct result solid\n\nOnce using erasure code scheme in storage system, we have to trust the\nbackend's result consistency from decode/reconstruct. Otherwise, the\nstorage system can be broken easily. To trust the result, this patch\nadds greedy combination testing for decode/reconstruct for read-solomn\nbased backends.\n\nTesting:\n- decode result from any k fragments must be consistent with original\n  data\n- The Nth fragment reconstructed from other k fragments must be\n  consistent with the encoded Nth fragment\n\nWith this patch, we can confirm the consistency, at least, the testing\nspec defined at get_pyeclib_testspec() method paramters and if you want\nto test other parameter, you can do it with adding the spec there.\n\nChange-Id: Ieb46f4ab5c8f6cb60f35c632728cbcf4a1727c53\n""}, {'number': 2, 'created': '2016-11-17 05:55:45.000000000', 'files': ['test/test_pyeclib_api.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/ea46179001c0375a523b6b2e388a14012f6cb45c', 'message': ""Add greedy test for decode/reconstruct result solid\n\nOnce using erasure code scheme in storage system, we have to trust the\nbackend's result consistency from decode/reconstruct. Otherwise, the\nstorage system can be broken easily. To trust the result, this patch\nadds greedy combination testing for decode/reconstruct for read-solomn\nbased backends.\n\nTesting:\n- decode result from any k fragments must be consistent with original\n  data\n- The Nth fragment reconstructed from other k fragments must be\n  consistent with the encoded Nth fragment\n\nWith this patch, we can confirm the consistency, at least, the testing\nspec defined at get_pyeclib_testspec() method, and if you want to test\neither other parameters or backends, you can add the spec you want to\ntest.\n\nChange-Id: Ieb46f4ab5c8f6cb60f35c632728cbcf4a1727c53\n""}]",8,393656,ea46179001c0375a523b6b2e388a14012f6cb45c,13,4,2,4608,,,0,"Add greedy test for decode/reconstruct result solid

Once using erasure code scheme in storage system, we have to trust the
backend's result consistency from decode/reconstruct. Otherwise, the
storage system can be broken easily. To trust the result, this patch
adds greedy combination testing for decode/reconstruct for read-solomn
based backends.

Testing:
- decode result from any k fragments must be consistent with original
  data
- The Nth fragment reconstructed from other k fragments must be
  consistent with the encoded Nth fragment

With this patch, we can confirm the consistency, at least, the testing
spec defined at get_pyeclib_testspec() method, and if you want to test
either other parameters or backends, you can add the spec you want to
test.

Change-Id: Ieb46f4ab5c8f6cb60f35c632728cbcf4a1727c53
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/56/393656/2 && git format-patch -1 --stdout FETCH_HEAD,['test/test_pyeclib_api.py'],1,d8304137aee501acdbb3807807d4f64ee46ffa54,greedy-testing,"from itertools import combinations def test_rs_greedy_decode_reconstruct_combination(self): pyeclib_drivers = self.get_pyeclib_testspec() orig_data = 'a' * 1024 * 1024 for pyeclib_driver in pyeclib_drivers: if 'rs' not in str(pyeclib_driver.ec_type): continue encoded = pyeclib_driver.encode(orig_data) # make all fragment like (index, frag_data) format to feed # to combinations frags = [(i, frag) for i, frag in enumerate(encoded)] for check_frags in combinations(frags, pyeclib_driver.k): check_frags_dict = dict(check_frags) decoded = pyeclib_driver.decode(check_frags_dict.values()) self.assertEqual( orig_data, decoded, ""assertion fail in decode %s from:%s"" % (pyeclib_driver.ec_type, list(check_frags_dict))) holes = [index for index in range(pyeclib_driver.k) if index not in check_frags_dict] for hole in holes: reconed = pyeclib_driver.reconstruct( check_frags_dict.values(), [hole])[0] self.assertEqual( encoded[hole], reconed, ""assertion fail in reconstruct %s %s+%s target:%s "" ""from:%s"" % (pyeclib_driver.ec_type, pyeclib_driver.k, pyeclib_driver.m, hole, list(check_frags_dict))) ",,31,0
openstack%2Fopenstack-ansible~stable%2Fnewton~I5e80e0f9301a18c26c8c96212a8c05ac74823263,openstack/openstack-ansible,stable/newton,I5e80e0f9301a18c26c8c96212a8c05ac74823263,Fix deploy-guide conf.py,MERGED,2016-11-29 18:47:32.000000000,2016-11-29 19:24:48.000000000,2016-11-29 19:24:48.000000000,"[{'_account_id': 3}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-11-29 18:47:32.000000000', 'files': ['deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac8897ecf726b67543a9439bb6c5451ece5f0fc6', 'message': ""Fix deploy-guide conf.py\n\nFix missing '\n\nChange-Id: I5e80e0f9301a18c26c8c96212a8c05ac74823263\n""}]",0,404384,ac8897ecf726b67543a9439bb6c5451ece5f0fc6,8,2,1,6547,,,0,"Fix deploy-guide conf.py

Fix missing '

Change-Id: I5e80e0f9301a18c26c8c96212a8c05ac74823263
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/404384/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/conf.py'],1,ac8897ecf726b67543a9439bb6c5451ece5f0fc6,,previous_release_branch_name= 'mitaka',previous_release_branch_name= mitaka',1,1
openstack%2Fopenstack-ansible~stable%2Fmitaka~I701a6e8740c0afa326b6e2310b46822c37a3e50d,openstack/openstack-ansible,stable/mitaka,I701a6e8740c0afa326b6e2310b46822c37a3e50d,HAProxy extra endpoints,MERGED,2016-11-29 16:27:36.000000000,2016-11-29 19:24:36.000000000,2016-11-29 19:24:36.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 12807}, {'_account_id': 17068}]","[{'number': 1, 'created': '2016-11-29 16:27:36.000000000', 'files': ['playbooks/vars/configs/haproxy_config.yml', 'releasenotes/notes/haproxy-extra-configs-67a77803494d3e97.yaml', 'doc/source/install-guide/configure-haproxy.rst', 'playbooks/haproxy-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b21ca7340c63038085feb592641f5d250cd44399', 'message': 'HAProxy extra endpoints\n\nAllow the operator to define a list of additional HAProxy endpoints\nwithout overriding the entire haproxy_service_configs list.\n\nThis moves the default endpoints to a var called haproxy_default_services\nand combines the default services list with haproxy_extra_services if\ndefined.\n\nChange-Id: I701a6e8740c0afa326b6e2310b46822c37a3e50d\n(cherry picked from commit 693911d520435f5367b06de652614465caccc496)\n'}]",0,404328,b21ca7340c63038085feb592641f5d250cd44399,8,4,1,6816,,,0,"HAProxy extra endpoints

Allow the operator to define a list of additional HAProxy endpoints
without overriding the entire haproxy_service_configs list.

This moves the default endpoints to a var called haproxy_default_services
and combines the default services list with haproxy_extra_services if
defined.

Change-Id: I701a6e8740c0afa326b6e2310b46822c37a3e50d
(cherry picked from commit 693911d520435f5367b06de652614465caccc496)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/404328/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/vars/configs/haproxy_config.yml', 'releasenotes/notes/haproxy-extra-configs-67a77803494d3e97.yaml', 'doc/source/install-guide/configure-haproxy.rst', 'playbooks/haproxy-install.yml']",4,b21ca7340c63038085feb592641f5d250cd44399,haproxy-extra-configs," - role: ""haproxy_server"" haproxy_service_configs: ""{{ haproxy_default_services + haproxy_extra_services|default([]) }}"" tags: - ""haproxy-server"""," - { role: ""haproxy_server"", tags: [ ""haproxy-server"" ] }",34,2
openstack%2Fmurano~master~I0c60a522f4223fdc47f87b950da1a0822a8cbdbe,openstack/murano,master,I0c60a522f4223fdc47f87b950da1a0822a8cbdbe,Murano can now properly attach VMs to shared networks,MERGED,2016-11-29 15:22:05.000000000,2016-11-29 19:23:52.000000000,2016-11-29 19:23:52.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}]","[{'number': 1, 'created': '2016-11-29 15:22:05.000000000', 'files': ['meta/io.murano/Classes/SharedIp.yaml', 'releasenotes/notes/shared-net-port-creation-0eda66be4444cf2f.yaml', 'meta/io.murano/Classes/resources/ExistingNeutronNetwork.yaml', 'meta/io.murano/Classes/resources/NeutronNetworkBase.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/247c4bdfb91ebcedc941bd105346d49626537cf0', 'message': 'Murano can now properly attach VMs to shared networks\n\nWhen spawning VMs attached to pre-existing networks murano used to\ngenerate a Heat template with a fixed_ips property for Neutron ports.\nThis can cause a policy violation if the target network is not owned\nby the deploying tenant (i.e. the network is shared by some other\nproject).\n\nThis has been addressed: ExistingNeutronNetwork class no longer\ngenerates the fixed_ips property of the port if the target network is\nnot owned by a current project.\n\nChange-Id: I0c60a522f4223fdc47f87b950da1a0822a8cbdbe\nCloses-bug: #1644797\n'}]",0,404271,247c4bdfb91ebcedc941bd105346d49626537cf0,8,4,1,8127,,,0,"Murano can now properly attach VMs to shared networks

When spawning VMs attached to pre-existing networks murano used to
generate a Heat template with a fixed_ips property for Neutron ports.
This can cause a policy violation if the target network is not owned
by the deploying tenant (i.e. the network is shared by some other
project).

This has been addressed: ExistingNeutronNetwork class no longer
generates the fixed_ips property of the port if the target network is
not owned by a current project.

Change-Id: I0c60a522f4223fdc47f87b950da1a0822a8cbdbe
Closes-bug: #1644797
",git fetch https://review.opendev.org/openstack/murano refs/changes/71/404271/1 && git format-patch -1 --stdout FETCH_HEAD,"['meta/io.murano/Classes/SharedIp.yaml', 'releasenotes/notes/shared-net-port-creation-0eda66be4444cf2f.yaml', 'meta/io.murano/Classes/resources/ExistingNeutronNetwork.yaml', 'meta/io.murano/Classes/resources/NeutronNetworkBase.yaml']",4,247c4bdfb91ebcedc941bd105346d49626537cf0,bug/1644797, - If: $subnetRef Then: - $template: resources: $portName: properties: fixed_ips: - subnet: $subnetRef - $patchTemplate: $patchTemplate.mergeWith($template) , fixed_ips: - subnet: $subnetRef,41,8
openstack%2Ftempest~master~I860865612c92b2366699a6e3289c16bff016091e,openstack/tempest,master,I860865612c92b2366699a6e3289c16bff016091e,Fix compute test_attach_volume,MERGED,2016-09-13 11:20:20.000000000,2016-11-29 19:22:38.000000000,2016-11-29 19:22:38.000000000,"[{'_account_id': 3}, {'_account_id': 5690}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 14510}, {'_account_id': 16437}, {'_account_id': 19262}, {'_account_id': 21187}, {'_account_id': 22259}, {'_account_id': 22696}, {'_account_id': 22833}, {'_account_id': 23003}, {'_account_id': 23281}]","[{'number': 1, 'created': '2016-09-13 11:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d0876bea2fb942abb012b9b48d1ca35fd772188', 'message': 'Fix nova volume attach testcase.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 2, 'created': '2016-09-13 12:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f21216a380ed8756dd388e73af23e66a18cf15c6', 'message': 'Fix nova volume attach testcase.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 3, 'created': '2016-09-13 12:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2bb159b80fff781a4447529adc5e82dca7e4906d', 'message': 'Fix nova volume attach testcase.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 4, 'created': '2016-09-13 14:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/550e1dfb275b65a28f82453dafdf29d1d34c2c23', 'message': 'Fix compute test_attach_volume\n\nCurrent test takes time and i fixed these issues :\n   of re-creating for each testcase .\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 5, 'created': '2016-09-15 04:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48104566093cfa8af4186904f802920c734ed3b4', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nUse resource_setup for shared volume and instance.\nChange function names to attach_volume and detach_volume\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 6, 'created': '2016-09-15 14:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ea5624a4b0d13ae1ddb60c6b520beffd771c3d7', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume\nCreate instance create and volume functions.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 7, 'created': '2016-09-15 16:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c8920d13d436f9dd93f8e429b7a3316d3874e6f3', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume\nCreate instance create and volume functions.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 8, 'created': '2016-09-15 18:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/781a474324187081005b11cf94ce9e48b58f483e', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume\nCreate instance create and volume functions.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 9, 'created': '2016-09-15 18:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5a0e0753b7a5d131ab06d75967f45e2b086b682', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume\nCreate instance create and volume functions.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 10, 'created': '2016-09-18 05:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37da73a5a5c5b72aedc3eac7ab0efa753423489e', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume\nCreate instance create and volume functions.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 11, 'created': '2016-09-18 06:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/312154c9dda714bf6e97716117d31ece5fc35ee4', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 12, 'created': '2016-09-18 08:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/758aa6e6672a3a6ab31009c0db1c6a5ab0668429', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 13, 'created': '2016-09-25 05:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5aa1c8a410f2f655ac75d4e2493dba19962aab77', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 14, 'created': '2016-09-26 00:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5eb08a1f4862783245982105c8d916824b05410c', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 15, 'created': '2016-09-26 04:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/61ba094d114acb0de5dbc3f889c7e535cbde9d2b', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 16, 'created': '2016-09-26 15:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d15e2477f56c5adb460641310706af8ab76ccdd', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 17, 'created': '2016-09-27 08:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f33c1fb3154d09ed605530ce4ce8a34acba06486', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 18, 'created': '2016-09-28 08:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/41713de96bb3cfc96cc9d2eb664dbdf94a5f7543', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 19, 'created': '2016-10-25 09:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ddf2694617c25902f7d12dbace5ce4204fd8448', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 20, 'created': '2016-10-26 05:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3abca941714b0a25d5b22975138676b93176abd', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 21, 'created': '2016-11-26 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5796c988286a476356950299142a5db4f7e13884', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 22, 'created': '2016-11-27 09:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e60e5d2a4e5adb5eb9e3daa799a9e2fea7a4cb7c', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}, {'number': 23, 'created': '2016-11-27 16:33:48.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c5f7d8de5a31df2aeca0e62fb5a2373ed92d665', 'message': 'Fix compute test_attach_volume\n\nChanges:\nRemoved __init__ from code , not used in tempest testcases.\nChange function names to attach_volume and detach_volume.\nCreate instance and cleanup in testcase level.\nCreate  a volume create function.\n\nChange-Id: I860865612c92b2366699a6e3289c16bff016091e\n'}]",28,369355,5c5f7d8de5a31df2aeca0e62fb5a2373ed92d665,109,20,23,11075,,,0,"Fix compute test_attach_volume

Changes:
Removed __init__ from code , not used in tempest testcases.
Change function names to attach_volume and detach_volume.
Create instance and cleanup in testcase level.
Create  a volume create function.

Change-Id: I860865612c92b2366699a6e3289c16bff016091e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/369355/23 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume.py'],1,5d0876bea2fb942abb012b9b48d1ca35fd772188,fix_attach_volume," cls.server = cls.create_test_server( adminPass=cls.image_ssh_password) cls.volume = cls.volumes_client.create_volume( def _detach_volume(self, server_id, volume_id): self.servers_client.detach_volume(server_id, volume_id) waiters.wait_for_volume_status(self.volumes_client, volume_id, 'available') def _attach_volume(self, server, volume): attachment = self.servers_client.attach_volume( return attachment attached_volume = self._attach_volume(self.server, self.volume) self.servers_client.stop_server(self.server['id']) waiters.wait_for_server_status(self.servers_client, self.server['id'], self.servers_client.start_server(self.server['id']) waiters.wait_for_server_status(self.servers_client, self.server['id'], self.get_server_ip(self.server), server=self.server, self._detach_volume(self.server['id'], attached_volume['volumeId']) self.servers_client.stop_server(self.server['id']) waiters.wait_for_server_status(self.servers_client, self.server['id'], self.servers_client.start_server(self.server['id']) waiters.wait_for_server_status(self.servers_client, self.server['id'], self.get_server_ip(self.server), server=self.server, attached_volume = self._attach_volume(self.server, self.volume) self.server['id'])['volumeAttachments'] self.assertIn(attached_volume, body) self.server['id'], attached_volume['id'])['volumeAttachment'] self.assertEqual(self.server['id'], body['serverId']) self.assertEqual(self.volume['id'], body['volumeId']) self.assertEqual(attached_volume['id'], body['id']) # Count number of volumes on instance, shelve num_vol = self._count_volumes(self.server) self._shelve_server(self.server) attachment = self._attach_volume(self.server, self.volume) self._unshelve_server_and_check_volumes(self.server, num_vol + 1) self.server['id'], attachment['id'])['volumeAttachment'] self.assertEqual(self.server['id'], volume_attachment['serverId']) self._detach_volume(self.server['id'], self.volume['id']) # Count number of volumes on instance, shelve num_vol = self._count_volumes(self.server) self._shelve_server(self.server) self._attach_volume(self.server, self.volume) self._detach(self.server['id'], self.volume['id']) self._unshelve_server_and_check_volumes(self.server, num_vol)"," def __init__(self, *args, **kwargs): super(AttachVolumeTestJSON, self).__init__(*args, **kwargs) self.attachment = None def _detach(self, server_id, volume_id): if self.attachment: self.servers_client.detach_volume(server_id, volume_id) waiters.wait_for_volume_status(self.volumes_client, volume_id, 'available') def _create_server(self): # Start a server and wait for it to become ready server = self.create_test_server( adminPass=self.image_ssh_password) # Record addresses so that we can ssh later server['addresses'] = self.servers_client.list_addresses( server['id'])['addresses'] return server def _create_and_attach_volume(self, server): # Create a volume and wait for it to become ready volume = self.volumes_client.create_volume( self.addCleanup(self.delete_volume, volume['id']) waiters.wait_for_volume_status(self.volumes_client, volume['id'], 'available') self.attachment = self.servers_client.attach_volume( self.addCleanup(self._detach, server['id'], volume['id']) return volume server = self._create_server() volume = self._create_and_attach_volume(server) self.servers_client.stop_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], self.servers_client.start_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], self.get_server_ip(server), server=server, self._detach(server['id'], volume['id']) self.attachment = None self.servers_client.stop_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], self.servers_client.start_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], self.get_server_ip(server), server=server, # Create Server, Volume and attach that Volume to Server server = self._create_server() volume = self._create_and_attach_volume(server) server['id'])['volumeAttachments'] self.assertIn(self.attachment, body) server['id'], self.attachment['id'])['volumeAttachment'] self.assertEqual(server['id'], body['serverId']) self.assertEqual(volume['id'], body['volumeId']) self.assertEqual(self.attachment['id'], body['id']) # Create server, count number of volumes on it, shelve server = self._create_server() num_vol = self._count_volumes(server) self._shelve_server(server) self._create_and_attach_volume(server) self._unshelve_server_and_check_volumes(server, num_vol + 1) server['id'], self.attachment['id'])['volumeAttachment'] self.assertEqual(server['id'], volume_attachment['serverId']) # Create server, count number of volumes on it, shelve server = self._create_server() num_vol = self._count_volumes(server) self._shelve_server(server) volume = self._create_and_attach_volume(server) self._detach(server['id'], volume['id']) self.attachment = None self._unshelve_server_and_check_volumes(server, num_vol)",49,74
openstack%2Ffreezer~master~I404401d0046c5aaff463043b82d40b48708b7149,openstack/freezer,master,I404401d0046c5aaff463043b82d40b48708b7149,Fix upload Engine metafile to swift.,MERGED,2016-11-29 18:07:01.000000000,2016-11-29 19:08:59.000000000,2016-11-29 19:08:59.000000000,"[{'_account_id': 3}, {'_account_id': 14340}, {'_account_id': 14509}]","[{'number': 1, 'created': '2016-11-29 18:07:01.000000000', 'files': ['freezer/storage/swift.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/2a871b0690db6468d0931a414bbb73abc64ab147', 'message': ""Fix upload Engine metafile to swift.\n\nWe need to pass the content length to swift in case of uploading\nfiles, so we needed to calcuate the engine's metadata file size\nand pass it to swift during upload.\n\nChange-Id: I404401d0046c5aaff463043b82d40b48708b7149\n""}]",0,404365,2a871b0690db6468d0931a414bbb73abc64ab147,7,3,1,13940,,,0,"Fix upload Engine metafile to swift.

We need to pass the content length to swift in case of uploading
files, so we needed to calcuate the engine's metadata file size
and pass it to swift during upload.

Change-Id: I404401d0046c5aaff463043b82d40b48708b7149
",git fetch https://review.opendev.org/openstack/freezer refs/changes/65/404365/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/storage/swift.py'],1,2a871b0690db6468d0931a414bbb73abc64ab147,fix-swift-upload,"import os import requestsfrom oslo_log import log file_size = os.path.getsize(from_path) with open(from_path, 'r') as meta_fd: self.swift().put_object(split[0], split[1], meta_fd, content_length=file_size)","from oslo_log import log import requests.exceptions with open(from_path, 'r') as meta_fd: self.swift().put_object(split[0], split[1], meta_fd)",8,3
openstack%2Fneutron-vpnaas~master~I60717ea10bca27c8e77b2965514d0b7b37c45260,openstack/neutron-vpnaas,master,I60717ea10bca27c8e77b2965514d0b7b37c45260,DNM: switch to strongswan to validate xenial setup,ABANDONED,2016-11-29 18:15:25.000000000,2016-11-29 19:07:03.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-29 18:15:25.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1fd4d8419117f79f8c02469474f61c39d0097a50', 'message': 'DNM: switch to strongswan to validate xenial setup\n\nChange-Id: I60717ea10bca27c8e77b2965514d0b7b37c45260\nRelated-bug: 1645819\n'}]",0,404367,1fd4d8419117f79f8c02469474f61c39d0097a50,3,1,1,748,,,0,"DNM: switch to strongswan to validate xenial setup

Change-Id: I60717ea10bca27c8e77b2965514d0b7b37c45260
Related-bug: 1645819
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/67/404367/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,1fd4d8419117f79f8c02469474f61c39d0097a50,bug/1645819,"IPSEC_PACKAGE=${IPSEC_PACKAGE:-""strongswan""}","IPSEC_PACKAGE=${IPSEC_PACKAGE:-""openswan""}",1,1
openstack%2Fpython-neutronclient~master~I6e11fffd59aa178677b0e36003515c85ceb86345,openstack/python-neutronclient,master,I6e11fffd59aa178677b0e36003515c85ceb86345,DNM: see how strongswan works on xenial,ABANDONED,2016-11-29 18:16:56.000000000,2016-11-29 19:06:52.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-29 18:16:56.000000000', 'files': ['neutronclient/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cf2df61e3af762f2d84e611217857478ded9aaa3', 'message': 'DNM: see how strongswan works on xenial\n\nRelated-bug: 1645819\n\nDepends-on: I60717ea10bca27c8e77b2965514d0b7b37c45260\nChange-Id: I6e11fffd59aa178677b0e36003515c85ceb86345\n'}]",0,404369,cf2df61e3af762f2d84e611217857478ded9aaa3,3,1,1,748,,,0,"DNM: see how strongswan works on xenial

Related-bug: 1645819

Depends-on: I60717ea10bca27c8e77b2965514d0b7b37c45260
Change-Id: I6e11fffd59aa178677b0e36003515c85ceb86345
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/69/404369/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/__init__.py'],1,cf2df61e3af762f2d84e611217857478ded9aaa3,bug/1645819,# tip toe ,,1,0
openstack%2Fnetworking-odl~stable%2Fmitaka~I972843f0487a66ab2922e6371a7b25076d043bee,openstack/networking-odl,stable/mitaka,I972843f0487a66ab2922e6371a7b25076d043bee,devstack: update odl-releases versions,MERGED,2016-10-08 11:52:29.000000000,2016-11-29 19:01:23.000000000,2016-11-29 19:01:23.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 979}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 7787}, {'_account_id': 10980}, {'_account_id': 12898}, {'_account_id': 22342}, {'_account_id': 22816}, {'_account_id': 22908}]","[{'number': 1, 'created': '2016-10-08 11:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/377bafb8e4928679c3bee256d38cfb903465d931', 'message': 'devstack: update odl-releases versions\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}, {'number': 2, 'created': '2016-10-08 11:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b5e54a3c2aae71fcbf6cdbf77a099c5aa12abec1', 'message': 'devstack: update odl-releases versions\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}, {'number': 3, 'created': '2016-10-08 12:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e6757faa09f21b0c4dbf41564cc94e456d97922e', 'message': 'devstack: update odl-releases versions\n\nUpdate odl releases in mitaka branch to correctly represent\ncurrent available ODL releases/branches.\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}, {'number': 4, 'created': '2016-10-08 12:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cc9b6fb8e6060c7a300071a7d2ed5cb2820b782e', 'message': 'devstack: update odl-releases versions\n\nUpdate odl releases in mitaka branch to correctly represent\ncurrent available ODL releases/branches.\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}, {'number': 5, 'created': '2016-10-11 11:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ee5e3dc9091cb5178446288c10f92823cb35b9c9', 'message': 'devstack: update odl-releases versions\n\nUpdate odl releases in mitaka branch to correctly represent\ncurrently available ODL releases/branches.\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}, {'number': 6, 'created': '2016-11-06 14:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b0011d27c229472526dabc5e59d4322150a7bfc7', 'message': 'devstack: update odl-releases versions\n\nUpdate odl releases in mitaka branch to correctly represent\ncurrently available ODL releases/branches.\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}, {'number': 7, 'created': '2016-11-10 08:54:50.000000000', 'files': ['devstack/odl-releases/beryllium-0.4.2-SR2', 'devstack/odl-releases/boron-0.5.1-SR1', 'devstack/pre_test_hook.sh', 'devstack/settings.odl', 'devstack/odl-releases/boron-0.5.0', 'devstack/odl-releases/boron-snapshot-0.5.2', 'devstack/odl-releases/carbon-snapshot-0.6.0', 'devstack/odl-releases/boron-snapshot-0.5.0', 'devstack/odl-releases/boron-snapshot-0.5.1', 'devstack/odl-releases/beryllium-snapshot-0.4.4', 'devstack/odl-releases/lithium-snapshot-0.3.5', 'devstack/odl-releases/beryllium-0.4.3-SR3'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2e29b30b0859b9508b2b02fcd16a21986750479b', 'message': 'devstack: update odl-releases versions\n\nUpdate odl releases in mitaka branch to correctly represent\ncurrently available ODL releases/branches.\n\nChange-Id: I972843f0487a66ab2922e6371a7b25076d043bee\n'}]",0,384075,2e29b30b0859b9508b2b02fcd16a21986750479b,29,21,7,22342,,,0,"devstack: update odl-releases versions

Update odl releases in mitaka branch to correctly represent
currently available ODL releases/branches.

Change-Id: I972843f0487a66ab2922e6371a7b25076d043bee
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/75/384075/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/odl-releases/beryllium-0.4.2-SR2', 'devstack/odl-releases/boron-0.5.0', 'devstack/odl-releases/beryllium-snapshot-0.4.3', 'devstack/odl-releases/carbon-snapshot-0.6.0', 'devstack/odl-releases/boron-snapshot-0.5.0', 'devstack/odl-releases/boron-snapshot-0.5.1']",6,377bafb8e4928679c3bee256d38cfb903465d931,stable-mitaka-tempest,BUNDLEVERSION='0.5.1-SNAPSHOT',BUNDLEVERSION='0.4.2-SNAPSHOT',7,16
openstack%2Fpyeclib~master~Ice5e96f0a59096cc9067823f0d62d6c7065ed62f,openstack/pyeclib,master,Ice5e96f0a59096cc9067823f0d62d6c7065ed62f,Add soft warning log line when using liberasurecode <1.3.1,MERGED,2016-11-17 04:53:22.000000000,2016-11-29 18:59:25.000000000,2016-11-29 05:41:38.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 7485}, {'_account_id': 12261}, {'_account_id': 16896}]","[{'number': 1, 'created': '2016-11-17 04:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/910c953d0d09cceb0f0f0bb514e3702c50bf05d8', 'message': 'Add soft warning log line when using liberasurecode <1.3.1\n\nTo apply the fix for a liberasurecode issue [1], we need hard depencency\nof liberasurecode requires >=1.3.1. However current binary dependency\nmaintainance tool ""bindep"" works only for packagers\' repository. (i.e. it\nrefers the version of apt/yum/etc...) And nothing is cared for the binary\nbuilt from source.\n\nThis patch provides a way to detect incompatible liberasurecode and\nmakes a warning log line to syslog which suggest ""you\'re using older\nliberasurecode which will be deprecated, please upgrade it"".\n\nNOTE:\n- This dependency managemnet depends on erasurecode_version.h header\n  file in liberasurecode. i.e. it cannot care of overwritten .so library\n  after PyECLib built once.\n\nPartial-Bug: #1639691\n\n1: Icee788a0931fe692fe0de31fabc4ba450e338a87\n\nChange-Id: Ice5e96f0a59096cc9067823f0d62d6c7065ed62f\n'}, {'number': 2, 'created': '2016-11-17 04:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/7325304b25da9f08bcb51e1ffa07ee8d8262d17c', 'message': 'Add soft warning log line when using liberasurecode <1.3.1\n\nTo apply the fix for a liberasurecode issue [1], we need hard depencency\nof liberasurecode requires >=1.3.1. However current binary dependency\nmaintainance tool ""bindep"" works only for packagers\' repository. (i.e. it\nrefers the version of apt/yum/etc...) And nothing is cared for the binary\nbuilt from source.\n\nThis patch provides a way to detect incompatible liberasurecode and\nmakes a warning log line to syslog which suggest ""you\'re using older\nliberasurecode which will be deprecated, please upgrade it"".\n\nNOTE:\n- This dependency managemnet depends on erasurecode_version.h header\n  file in liberasurecode. i.e. it cannot care of overwritten .so library\n  after PyECLib built once.\n\nPartial-Bug: #1639691\n\n1: Icee788a0931fe692fe0de31fabc4ba450e338a87\n\nChange-Id: Ice5e96f0a59096cc9067823f0d62d6c7065ed62f\n'}, {'number': 3, 'created': '2016-11-28 02:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/30dfcdfbae8b70676ab3c0319817410663b01f46', 'message': 'Add soft warning log line when using liberasurecode <1.3.1\n\nTo apply the fix for a liberasurecode issue [1], we need hard depencency\nof liberasurecode requires >=1.3.1. However current binary dependency\nmaintainance tool ""bindep"" works only for packagers\' repository. (i.e. it\nrefers the version of apt/yum/etc...) And nothing is cared for the binary\nbuilt from source.\n\nThis patch provides a way to detect incompatible liberasurecode and\nmakes a warning log line to syslog which suggest ""you\'re using older\nliberasurecode which will be deprecated, please upgrade it"".\n\nNOTE:\n- This dependency managemnet depends on erasurecode_version.h header\n  file in liberasurecode. i.e. it cannot care of overwritten .so library\n  after PyECLib built once.\n\nPartial-Bug: #1639691\n\n1: Icee788a0931fe692fe0de31fabc4ba450e338a87\n\nChange-Id: Ice5e96f0a59096cc9067823f0d62d6c7065ed62f\n'}, {'number': 4, 'created': '2016-11-29 04:23:06.000000000', 'files': ['pyeclib/ec_iface.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/d163972bb04faf192d0ba65451dcc388b5bb19f0', 'message': 'Add soft warning log line when using liberasurecode <1.3.1\n\nTo apply the fix for a liberasurecode issue [1], we need hard depencency\nof liberasurecode requires >=1.3.1. However current binary dependency\nmaintainance tool ""bindep"" works only for packagers\' repository. (i.e. it\nrefers the version of apt/yum/etc...) And nothing is cared for the binary\nbuilt from source.\n\nThis patch provides a way to detect incompatible liberasurecode and\nmakes a warning log line to syslog which suggest ""you\'re using older\nliberasurecode which will be deprecated, please upgrade it"".\n\nNOTE:\n- This dependency managemnet depends on erasurecode_version.h header\n  file in liberasurecode. i.e. it cannot care of overwritten .so library\n  after PyECLib built once.\n\nPartial-Bug: #1639691\n\n1: Icee788a0931fe692fe0de31fabc4ba450e338a87\n\nChange-Id: Ice5e96f0a59096cc9067823f0d62d6c7065ed62f\n'}]",9,398744,d163972bb04faf192d0ba65451dcc388b5bb19f0,20,6,4,4608,,,0,"Add soft warning log line when using liberasurecode <1.3.1

To apply the fix for a liberasurecode issue [1], we need hard depencency
of liberasurecode requires >=1.3.1. However current binary dependency
maintainance tool ""bindep"" works only for packagers' repository. (i.e. it
refers the version of apt/yum/etc...) And nothing is cared for the binary
built from source.

This patch provides a way to detect incompatible liberasurecode and
makes a warning log line to syslog which suggest ""you're using older
liberasurecode which will be deprecated, please upgrade it"".

NOTE:
- This dependency managemnet depends on erasurecode_version.h header
  file in liberasurecode. i.e. it cannot care of overwritten .so library
  after PyECLib built once.

Partial-Bug: #1639691

1: Icee788a0931fe692fe0de31fabc4ba450e338a87

Change-Id: Ice5e96f0a59096cc9067823f0d62d6c7065ed62f
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/44/398744/1 && git format-patch -1 --stdout FETCH_HEAD,['pyeclib/ec_iface.py'],1,910c953d0d09cceb0f0f0bb514e3702c50bf05d8,bug/1639691,import logging from logging.handlers import SysLogHandler logger = logging.getLogger('pyeclib') syslog_handler = SysLogHandler() logger.addHandler(syslog_handler) # liberasurecode < 1.3.1 should be incompatible but # just warn until packagers build the required version # See https://bugs.launchpad.net/swift/+bug/1639691 in detail required_version = ((1 << 16) + (3 << 8) + 1) if version_int < required_version: logger.warning( 'DEPRECATED WARNING: your liberasurecode ' '%s will be deprecated in the future since the issue ' 'https://bugs.launchpad.net/swift/+bug/1639691; ' 'Please upgrade to >=1.3.1' % version_str),,16,0
openstack%2Fmurano~master~I50075b03cb2b61d97bf23300478c07d9d5d774cf,openstack/murano,master,I50075b03cb2b61d97bf23300478c07d9d5d774cf,Fixed SharedIp class,MERGED,2016-11-29 14:37:38.000000000,2016-11-29 18:58:28.000000000,2016-11-29 18:58:28.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}]","[{'number': 1, 'created': '2016-11-29 14:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d72358300472c1f22ddc81723c813426e2a868c0', 'message': ""Fixed SharedIp class\n\nSince the introduction of multi-region capabilities the\n`io.murano.SharedIp` class was not working, since it utilized but\ndidn't define the 'getRegion' method, and directly used the\ndefaultNetworks.environment property of the Environment assuming it is\na class (yet it became a template quite recently).\n\nBoth these issues have been addressed so the shared ips may be used\nagain.\n\nChange-Id: I50075b03cb2b61d97bf23300478c07d9d5d774cf\nCloses-bug: #1645724\n""}, {'number': 2, 'created': '2016-11-29 14:39:56.000000000', 'files': ['meta/io.murano/Classes/SharedIp.yaml', 'releasenotes/notes/region-aware-shared-ip-4441113c7cdd3c62.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/d76f236547e26dfdda2e2c5e8b809d4ed44c009d', 'message': ""Fixed SharedIp class\n\nSince the introduction of multi-region capabilities the\n`io.murano.SharedIp` class was not working, since it utilized but\ndidn't define the 'getRegion' method, and directly used the\ndefaultNetworks.environment property of the Environment assuming it is\na class (yet it became a template quite recently).\n\nBoth these issues have been addressed so the shared ips may be used\nagain.\n\nChange-Id: I50075b03cb2b61d97bf23300478c07d9d5d774cf\nCloses-bug: #1645724\n""}]",0,404247,d76f236547e26dfdda2e2c5e8b809d4ed44c009d,9,4,2,8127,,,0,"Fixed SharedIp class

Since the introduction of multi-region capabilities the
`io.murano.SharedIp` class was not working, since it utilized but
didn't define the 'getRegion' method, and directly used the
defaultNetworks.environment property of the Environment assuming it is
a class (yet it became a template quite recently).

Both these issues have been addressed so the shared ips may be used
again.

Change-Id: I50075b03cb2b61d97bf23300478c07d9d5d774cf
Closes-bug: #1645724
",git fetch https://review.opendev.org/openstack/murano refs/changes/47/404247/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano/Classes/SharedIp.yaml'],1,d72358300472c1f22ddc81723c813426e2a868c0,bug/1645724,Extends: CloudResource - $region: $.getRegion() - $network: $region.defaultNetworks.environment - $network.deploy() - $networkData: $network.describe() - $region.stack.updateTemplate($template) - $region.stack.updateTemplate($template) - $region.stack.push() - $outputs: $region.stack.output() - $region: $.getRegion() - $template: $region.stack.current() - $region.stack.setTemplate($template) - $region.stack.push(), - $._region: $.getRegion() - $.network: $._environment.defaultNetworks.environment - $.network.deploy() - $networkData: $.network.describe() - $._region.stack.updateTemplate($template) - $._region.stack.updateTemplate($template) - $._region.stack.push() - $outputs: $._region.stack.output() - $template: $._region.stack.current() - $._region.stack.setTemplate($template) - $._region.stack.push(),13,11
openstack%2Fproject-config~master~Ie038e9c9a38727c12532bded48a76fe2cecb7fd8,openstack/project-config,master,Ie038e9c9a38727c12532bded48a76fe2cecb7fd8,Remove special searchlight unit test setup,MERGED,2016-11-17 18:15:20.000000000,2016-11-29 18:51:10.000000000,2016-11-29 18:51:10.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 6547}, {'_account_id': 10063}]","[{'number': 1, 'created': '2016-11-17 18:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7d4b9f2850ccc5537966ecc1b80e10f984f5c69e', 'message': 'Remove special searchlight unit test setup\n\nWith the introduction of tools/test-setup.sh, we can move the setup for\nsearchlight to the repositories and remove the special setup for these\nrepos and use the normal python jobs instead.\n\nAlso, remove gate-searchlight-python27-searchlight-es1, this is broken\nsince August and PTL agreed that it should be removed.\n\nDepends-On: I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7\nDepends-On: I86d8be3b87f5c1006c8f756152799965bc7b05c9\nChange-Id: Ie038e9c9a38727c12532bded48a76fe2cecb7fd8\n'}, {'number': 2, 'created': '2016-11-21 18:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/31756b214d4d5fcd88ddcf692954cd7c08c60a34', 'message': 'Remove special searchlight unit test setup\n\nWith the introduction of tools/test-setup.sh, we can move the setup for\nsearchlight to the repositories and remove the special setup for these\nrepos and use the normal python jobs instead.\n\nAlso, remove gate-searchlight-python27-searchlight-es1, this is broken\nsince August and PTL agreed that it should be removed.\n\nNote that this is needed to fix liberty branch of searchlight - liberty\nneeds elasticsearch 1 while newer branches need elasticsearch 2.\n\nChange-Id: Ie038e9c9a38727c12532bded48a76fe2cecb7fd8\n'}, {'number': 3, 'created': '2016-11-25 09:23:54.000000000', 'files': ['jenkins/jobs/python-jobs.yaml', 'jenkins/jobs/searchlight.yaml', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/macros.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/793e260567456d91647ac01a282ba33df5dfc2ae', 'message': 'Remove special searchlight unit test setup\n\nWith the introduction of tools/test-setup.sh, we can move the setup for\nsearchlight to the repositories and remove the special setup for these\nrepos and use the normal python jobs instead.\n\nAlso, remove gate-searchlight-python27-searchlight-es1, this is broken\nsince August and PTL agreed that it should be removed.\n\nNote that this is needed to fix liberty branch of searchlight - liberty\nneeds elasticsearch 1 while newer branches need elasticsearch 2.\n\nChange-Id: Ie038e9c9a38727c12532bded48a76fe2cecb7fd8\n'}]",0,399169,793e260567456d91647ac01a282ba33df5dfc2ae,13,4,3,6547,,,0,"Remove special searchlight unit test setup

With the introduction of tools/test-setup.sh, we can move the setup for
searchlight to the repositories and remove the special setup for these
repos and use the normal python jobs instead.

Also, remove gate-searchlight-python27-searchlight-es1, this is broken
since August and PTL agreed that it should be removed.

Note that this is needed to fix liberty branch of searchlight - liberty
needs elasticsearch 1 while newer branches need elasticsearch 2.

Change-Id: Ie038e9c9a38727c12532bded48a76fe2cecb7fd8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/399169/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/python-jobs.yaml', 'jenkins/jobs/searchlight.yaml', 'jenkins/jobs/macros.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",5,7d4b9f2850ccc5537966ecc1b80e10f984f5c69e,test-setup, - name: python-jobs - name: python34-jobs - name: python35-jobs-nv - name: python-jobs - name: python34-jobs - name: python35-jobs-nv," # Invokes the same targets as python-jobs with one change: # python27-searchlight is used instead of python27. # The job python27-searchlight installs extra packages. # The job python27-searchlight-es1 installs extra packages. - name: python-jobs-searchlight check: - 'gate-{name}-docs-ubuntu-trusty' - 'gate-{name}-pep8-ubuntu-trusty' - 'gate-{name}-docs-ubuntu-xenial' - 'gate-{name}-pep8-ubuntu-xenial' - 'gate-{name}-python27-searchlight' - 'gate-{name}-python27-searchlight-es1' gate: - 'gate-{name}-docs-ubuntu-trusty' - 'gate-{name}-pep8-ubuntu-trusty' - 'gate-{name}-docs-ubuntu-xenial' - 'gate-{name}-pep8-ubuntu-xenial' - 'gate-{name}-python27-searchlight' - 'gate-{name}-python27-searchlight-es1' post: - '{name}-branch-tarball' # Invokes the same targets as python34-jobs, but sets up extra packages. # The job python34-searchlight installs extra packages. - name: python34-jobs-searchlight check: - 'gate-{name}-python34-searchlight' gate: - 'gate-{name}-python34-searchlight' # Invokes the same targets as python35-jobs, but sets up extra packages. # The job python35-searchlight installs extra packages. - name: python35-jobs-searchlight check: - 'gate-{name}-python35-searchlight-nv' # Broken by a recent client update; marking non-voting while we # determine whether or not to keep this test job - name: gate-searchlight-python27-searchlight-es1 voting: false - name: python-jobs-searchlight - name: python34-jobs-searchlight - name: python35-jobs-searchlight - name: python-jobs-searchlight - name: python34-jobs-searchlight - name: python35-jobs-searchlight",12,190
openstack%2Fnova~master~I9965d8e38d73351fea2ae97f84a7cf22dcc855e2,openstack/nova,master,I9965d8e38d73351fea2ae97f84a7cf22dcc855e2,Remove api compute.test_versions from python3 blacklist,ABANDONED,2016-11-24 11:02:47.000000000,2016-11-29 18:50:18.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-24 11:02:47.000000000', 'files': ['tests-py3.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/f56acb51f558a95ca83af11ee96154a999185dca', 'message': 'Remove api compute.test_versions from python3 blacklist\n\nWe can run following tests in Python 3, just enable them:\nnova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21\nnova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21WithV2CompatibleWrapper\n\nPartially-Implements: blueprint goal-python35\n\nChange-Id: I9965d8e38d73351fea2ae97f84a7cf22dcc855e2\n'}]",0,401969,f56acb51f558a95ca83af11ee96154a999185dca,10,8,1,9796,,,0,"Remove api compute.test_versions from python3 blacklist

We can run following tests in Python 3, just enable them:
nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21
nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21WithV2CompatibleWrapper

Partially-Implements: blueprint goal-python35

Change-Id: I9965d8e38d73351fea2ae97f84a7cf22dcc855e2
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/401969/1 && git format-patch -1 --stdout FETCH_HEAD,['tests-py3.txt'],1,f56acb51f558a95ca83af11ee96154a999185dca,bp/goal-python35,,nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21 nova.tests.unit.api.openstack.compute.test_versions.VersionsTestV21WithV2CompatibleWrapper,0,2
openstack%2Fnetworking-sfc~master~I28160373555dbe045889fccc47771cf22dcbc7a8,openstack/networking-sfc,master,I28160373555dbe045889fccc47771cf22dcbc7a8,Fix file permissions,MERGED,2016-11-20 10:24:22.000000000,2016-11-29 18:44:33.000000000,2016-11-29 18:44:33.000000000,"[{'_account_id': 3}, {'_account_id': 11313}, {'_account_id': 14605}, {'_account_id': 16237}, {'_account_id': 21798}]","[{'number': 1, 'created': '2016-11-20 10:24:22.000000000', 'files': ['networking_sfc/osc/common.py', 'networking_sfc/osc/plugin.py', 'networking_sfc/osc/sfc/__init__.py', 'networking_sfc/osc/sfc/port_pair.py', 'networking_sfc/osc/sfc/port_chain.py', 'networking_sfc/osc/flow_classifier/flow_classifier.py', 'networking_sfc/osc/__init__.py', 'networking_sfc/osc/flow_classifier/__init__.py', 'networking_sfc/osc/sfc/port_pair_group.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/34d13a5e867037d95a8e0477e1cd3291ec073093', 'message': 'Fix file permissions\n\nTrivialFix\n\nChange-Id: I28160373555dbe045889fccc47771cf22dcbc7a8\n'}]",0,399946,34d13a5e867037d95a8e0477e1cd3291ec073093,10,5,1,1653,,,0,"Fix file permissions

TrivialFix

Change-Id: I28160373555dbe045889fccc47771cf22dcbc7a8
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/46/399946/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/osc/common.py', 'networking_sfc/osc/plugin.py', 'networking_sfc/osc/sfc/__init__.py', 'networking_sfc/osc/sfc/port_pair.py', 'networking_sfc/osc/sfc/port_chain.py', 'networking_sfc/osc/flow_classifier/flow_classifier.py', 'networking_sfc/osc/__init__.py', 'networking_sfc/osc/flow_classifier/__init__.py', 'networking_sfc/osc/sfc/port_pair_group.py']",9,34d13a5e867037d95a8e0477e1cd3291ec073093,filepermissions,,,0,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie1907facbd43ac1c12a7a2db12014e883250b0d2,openstack/openstack-ansible-openstack_hosts,master,Ie1907facbd43ac1c12a7a2db12014e883250b0d2,Enable openstack_hosts role without network_hosts,MERGED,2016-11-28 23:02:00.000000000,2016-11-29 18:39:08.000000000,2016-11-29 16:56:46.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 13562}]","[{'number': 1, 'created': '2016-11-28 23:02:00.000000000', 'files': ['tasks/openstack_kernel_modules.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/317eadda632fef481ebc3ccdf25a70b99eff4ec6', 'message': 'Enable openstack_hosts role without network_hosts\n\nThe openstack_hosts role will no longer generate\na playbook error when the network_hosts group (used\nfor the Openstack Neutron service) is not defined.\n\nThe playbook error was not present in Openstack\nAnsible 13.1.0 but is present in Openstack Ansible\n13.3.5.\n\nChange-Id: Ie1907facbd43ac1c12a7a2db12014e883250b0d2\nSigned-off-by: Andrew Solomon <asolomon@us.ibm.com>\n'}]",0,403935,317eadda632fef481ebc3ccdf25a70b99eff4ec6,10,4,1,24409,,,0,"Enable openstack_hosts role without network_hosts

The openstack_hosts role will no longer generate
a playbook error when the network_hosts group (used
for the Openstack Neutron service) is not defined.

The playbook error was not present in Openstack
Ansible 13.1.0 but is present in Openstack Ansible
13.3.5.

Change-Id: Ie1907facbd43ac1c12a7a2db12014e883250b0d2
Signed-off-by: Andrew Solomon <asolomon@us.ibm.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/35/403935/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_kernel_modules.yml'],1,317eadda632fef481ebc3ccdf25a70b99eff4ec6,allow_no_network_hosts," - groups[""{{ item.group }}""] is defined",,1,0
openstack%2Fmurano-dashboard~master~I60d4a399b2068e861df42a71228233b0db9ec821,openstack/murano-dashboard,master,I60d4a399b2068e861df42a71228233b0db9ec821,Fixed output of lists in topology viewer,MERGED,2016-11-29 11:01:53.000000000,2016-11-29 18:38:29.000000000,2016-11-29 18:38:29.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-11-29 11:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/bc1c908bc83aeb73c51ff51e16d84fd42d50875a', 'message': 'Fixed output of lists in topology viewer\n\nTopology viewers treated lists of values as ""container"" properties,\neven if these lists contained atomic values. So these values were\nmissing from topology viewer diagram.\n\nThis patch introduces the pre-processing of item data in topology\nviewer, which detects list of atomic values and replaces them with\ncomma-separated strings joining all the values of the list.\n\nAmong others this fixes an issue when ip addresses of the virtual\nmachine were not displayed in topology viewer.\n\nChange-Id: I60d4a399b2068e861df42a71228233b0db9ec821\nCloses-bug: #1645668\n'}, {'number': 2, 'created': '2016-11-29 12:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/86a2cf57e6c3127d2257a3a1fa791e1796266e54', 'message': 'Fixed output of lists in topology viewer\n\nTopology viewers treated lists of values as ""container"" properties,\neven if these lists contained atomic values. So these values were\nmissing from topology viewer diagram.\n\nThis patch introduces the pre-processing of item data in topology\nviewer, which detects list of atomic values and replaces them with\ncomma-separated strings joining all the values of the list.\n\nAmong others this fixes an issue when ip addresses of the virtual\nmachine were not displayed in topology viewer.\n\nChange-Id: I60d4a399b2068e861df42a71228233b0db9ec821\nCloses-bug: #1645668\n'}, {'number': 3, 'created': '2016-11-29 15:35:17.000000000', 'files': ['muranodashboard/environments/topology.py', 'releasenotes/notes/ips-display-topology-5a45876dafc637eb.yaml'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/d3039ea9cb87844fd7e481fcd1419b9ddb00617c', 'message': 'Fixed output of lists in topology viewer\n\nTopology viewers treated lists of values as ""container"" properties,\neven if these lists contained atomic values. So these values were\nmissing from topology viewer diagram.\n\nThis patch introduces the pre-processing of item data in topology\nviewer, which detects list of atomic values and replaces them with\ncomma-separated strings joining all the values of the list.\n\nAmong others this fixes an issue when ip addresses of the virtual\nmachine were not displayed in topology viewer.\n\nChange-Id: I60d4a399b2068e861df42a71228233b0db9ec821\nCloses-bug: #1645668\n'}]",0,404148,d3039ea9cb87844fd7e481fcd1419b9ddb00617c,19,6,3,8127,,,0,"Fixed output of lists in topology viewer

Topology viewers treated lists of values as ""container"" properties,
even if these lists contained atomic values. So these values were
missing from topology viewer diagram.

This patch introduces the pre-processing of item data in topology
viewer, which detects list of atomic values and replaces them with
comma-separated strings joining all the values of the list.

Among others this fixes an issue when ip addresses of the virtual
machine were not displayed in topology viewer.

Change-Id: I60d4a399b2068e861df42a71228233b0db9ec821
Closes-bug: #1645668
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/48/404148/3 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/environments/topology.py'],1,bc1c908bc83aeb73c51ff51e16d84fd42d50875a,bug/1645668,"def _convert_lists(node_data): for key, value in six.iteritems(node_data): if isinstance(value, list) and all( map(lambda s: not isinstance(s, (dict, list)), value)): new_value = ','.join(str(v) for v in value) node_data[key] = new_value _convert_lists(node_data)",,9,0
openstack%2Fmurano-dashboard~master~I7903cf0b6e554eeea8ce8246811b480fb1881bd6,openstack/murano-dashboard,master,I7903cf0b6e554eeea8ce8246811b480fb1881bd6,Topology viewer now properly parses composite type names,MERGED,2016-11-29 11:28:26.000000000,2016-11-29 18:38:17.000000000,2016-11-29 18:38:17.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-11-29 11:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/4db4e322ae615e3781976fd115cfa7a8e926aa87', 'message': 'Topology viewer now properly parses composite type names\n\nIn one of previous releases \'type\' fields of object model were\nmodified to hold composite typenames of objects in form of\n\'fully.qualified.type.name/version@fully.qualified.package.name\'.\n\nThe topology viewer of Murano Dashboard was not aware of this change\nand used the whole value of the type field as a package fqn to\nretrieve the application icon from package catalog. This was resulting\nin inability find the appropriate package, thus the topology viewer\nwas always displaying a default icon (""stack"") instead of application\nicon.\n\nThis has been addressed.\n\nChange-Id: I7903cf0b6e554eeea8ce8246811b480fb1881bd6\nCloses-bug: #1645367\n'}, {'number': 2, 'created': '2016-11-29 15:37:35.000000000', 'files': ['muranodashboard/environments/topology.py', 'releasenotes/notes/topology-icon-fix-6572c069d127ed95.yaml'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/3a1790f57cea7f340a6da269230d6101782f5543', 'message': 'Topology viewer now properly parses composite type names\n\nIn one of previous releases \'type\' fields of object model were\nmodified to hold composite typenames of objects in form of\n\'fully.qualified.type.name/version@fully.qualified.package.name\'.\n\nThe topology viewer of Murano Dashboard was not aware of this change\nand used the whole value of the type field as a package fqn to\nretrieve the application icon from package catalog. This was resulting\nin inability find the appropriate package, thus the topology viewer\nwas always displaying a default icon (""stack"") instead of application\nicon.\n\nThis has been addressed.\n\nChange-Id: I7903cf0b6e554eeea8ce8246811b480fb1881bd6\nCloses-bug: #1645367\n'}]",0,404160,3a1790f57cea7f340a6da269230d6101782f5543,15,6,2,8127,,,0,"Topology viewer now properly parses composite type names

In one of previous releases 'type' fields of object model were
modified to hold composite typenames of objects in form of
'fully.qualified.type.name/version@fully.qualified.package.name'.

The topology viewer of Murano Dashboard was not aware of this change
and used the whole value of the type field as a package fqn to
retrieve the application icon from package catalog. This was resulting
in inability find the appropriate package, thus the topology viewer
was always displaying a default icon (""stack"") instead of application
icon.

This has been addressed.

Change-Id: I7903cf0b6e554eeea8ce8246811b480fb1881bd6
Closes-bug: #1645367
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/60/404160/2 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/environments/topology.py'],1,4db4e322ae615e3781976fd115cfa7a8e926aa87,bug/1645367," if '@' in app_fqdn: class_fqn, package_fqn = app_fqdn.split('@') if '/' in class_fqn: class_fqn, version = class_fqn.split('/') else: version = None else: package_fqn = app_fqdn version = None package = pkg_cli.app_by_fqn(request, package_fqn, version=version)"," package = pkg_cli.app_by_fqn(request, app_fqdn)",10,1
openstack%2Fnetworking-sfc~master~I37246515d62bfe1a9fd15b728ff29c45e3a4b29a,openstack/networking-sfc,master,I37246515d62bfe1a9fd15b728ff29c45e3a4b29a,Add script for neutron-lib source periodic job,MERGED,2016-11-23 16:53:03.000000000,2016-11-29 18:35:46.000000000,2016-11-29 18:35:46.000000000,"[{'_account_id': 3}, {'_account_id': 7776}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 21798}]","[{'number': 1, 'created': '2016-11-23 16:53:03.000000000', 'files': ['tools/ostestr_compat_shim.sh'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/35054cca14c0172cee27a9cdf792717f44cfb3b2', 'message': 'Add script for neutron-lib source periodic job\n\nThe neutron-lib source periodic job for networking-sfc requires the\ntools/ostestr_compat_shim.sh script. This script was copied from neutron.\n\nChange-Id: I37246515d62bfe1a9fd15b728ff29c45e3a4b29a\n'}]",1,401349,35054cca14c0172cee27a9cdf792717f44cfb3b2,9,5,1,11313,,,0,"Add script for neutron-lib source periodic job

The neutron-lib source periodic job for networking-sfc requires the
tools/ostestr_compat_shim.sh script. This script was copied from neutron.

Change-Id: I37246515d62bfe1a9fd15b728ff29c45e3a4b29a
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/49/401349/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ostestr_compat_shim.sh'],1,35054cca14c0172cee27a9cdf792717f44cfb3b2,bug/1644053,"#!/bin/sh # preserve old behavior of using an arg as a regex when '--' is not present case $@ in (*--*) ostestr $@;; ('') ostestr;; (*) ostestr --regex ""$@"" esac ",,8,0
openstack%2Fcharm-ceph-mon~stable%2F16.10~I87b68795c87135c879e0ac93ed3bfae3d01807fd,openstack/charm-ceph-mon,stable/16.10,I87b68795c87135c879e0ac93ed3bfae3d01807fd,Install lockfile-progs when related to nagios,MERGED,2016-11-29 17:07:16.000000000,2016-11-29 18:24:55.000000000,2016-11-29 17:16:38.000000000,"[{'_account_id': 3}, {'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-11-29 17:07:16.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/703885d1c6e215504862a3837742087666e824be', 'message': 'Install lockfile-progs when related to nagios\n\nThe nrpe ceph status script relies on lockfile-create, but\nlockfile-progs (package containing lockfile-create) was missing from\nthe install. Install it when related to nagios, and on upgrade-charm\nwhen related to nagios.\n\nChange-Id: I87b68795c87135c879e0ac93ed3bfae3d01807fd\nCloses-Bug: #1629104\n(cherry picked from commit a86543bedfb222812fdda38fd872c8be5214e958)\n'}]",0,404348,703885d1c6e215504862a3837742087666e824be,7,3,1,20797,,,0,"Install lockfile-progs when related to nagios

The nrpe ceph status script relies on lockfile-create, but
lockfile-progs (package containing lockfile-create) was missing from
the install. Install it when related to nagios, and on upgrade-charm
when related to nagios.

Change-Id: I87b68795c87135c879e0ac93ed3bfae3d01807fd
Closes-Bug: #1629104
(cherry picked from commit a86543bedfb222812fdda38fd872c8be5214e958)
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/48/404348/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,703885d1c6e215504862a3837742087666e824be,bug/1629104,"from mock import patch, MagicMock, DEFAULT def test_nrpe_dependency_installed(self): with patch.multiple(ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT) as mocks: ceph_hooks.update_nrpe_config() mocks[""apt_install""].assert_called_once_with( [""python-dbus"", ""lockfile-progs""]) def test_upgrade_charm_with_nrpe_relation_installs_dependencies(self): with patch.multiple( ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT, emit_cephconf=DEFAULT, upgrade_keys=DEFAULT, mon_relation_joined=DEFAULT, is_relation_made=DEFAULT) as mocks, patch( ""charmhelpers.contrib.hardening.harden.config""): mocks[""is_relation_made""].return_value = True ceph_hooks.upgrade_charm() mocks[""apt_install""].assert_called_with( [""python-dbus"", ""lockfile-progs""])","from mock import patch, MagicMock",34,2
openstack%2Fcharm-ceph-osd~stable%2F16.10~Ib57314945b1f0bf8995029f5506543bc1b53c89b,openstack/charm-ceph-osd,stable/16.10,Ib57314945b1f0bf8995029f5506543bc1b53c89b,Add minimum-size to osd-devices,ABANDONED,2016-10-18 14:51:39.000000000,2016-11-29 18:24:29.000000000,,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2016-10-18 14:51:39.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/1294dadf50d29e08679610fd158b126165f479bc', 'message': 'Add minimum-size to osd-devices\n\nThis stops an error that happens when size is not\nspecified when adding storage via Juju storage hooks.\nWithout a set minimum, Juju will give 1G to a disk\nwhich will cause ceph-disk to fail when connecting\nthe new disk.\n\nChange-Id: Ib57314945b1f0bf8995029f5506543bc1b53c89b\n(cherry picked from commit d045424c54bf98b47fcd3837b7c8717358425a4b)\n'}]",0,388058,1294dadf50d29e08679610fd158b126165f479bc,9,6,1,20634,,,0,"Add minimum-size to osd-devices

This stops an error that happens when size is not
specified when adding storage via Juju storage hooks.
Without a set minimum, Juju will give 1G to a disk
which will cause ceph-disk to fail when connecting
the new disk.

Change-Id: Ib57314945b1f0bf8995029f5506543bc1b53c89b
(cherry picked from commit d045424c54bf98b47fcd3837b7c8717358425a4b)
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/58/388058/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,1294dadf50d29e08679610fd158b126165f479bc,stable/bug/1629921, minimum-size: 1G,,1,0
openstack%2Fdevstack-gate~master~Ia665041aa149734f41f5d7785b86fec24ef1a476,openstack/devstack-gate,master,Ia665041aa149734f41f5d7785b86fec24ef1a476,Ansibly adding vz group to stack user,ABANDONED,2016-11-29 11:05:33.000000000,2016-11-29 18:21:40.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 12408}]","[{'number': 1, 'created': '2016-11-29 11:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a841d3ff9939efe0ae177481a02f495b76a95db7', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}, {'number': 2, 'created': '2016-11-29 11:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/20524df7802d520586aae5cfd29eefe5d19212c3', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}, {'number': 3, 'created': '2016-11-29 11:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cc6f8a7d9296e3a9e6b42bdb7827f2a8dd97a133', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}, {'number': 4, 'created': '2016-11-29 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/008cd63b491b43b2b58320b67aa801e778723356', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}, {'number': 5, 'created': '2016-11-29 15:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8075a076d7e45b1f7d9b8e40af1e6ab0c754721d', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}, {'number': 6, 'created': '2016-11-29 15:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a781bea9d1548b2fdbd9e428dbfd8a32c74bd715', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}, {'number': 7, 'created': '2016-11-29 16:55:16.000000000', 'files': ['playbooks/setup_host.yaml', 'playbooks/add_stack_to_vz_group.yaml', 'functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9b848bfb86a1fe4be3ccd62f932b3c8281d31829', 'message': 'Ansibly adding vz group to stack user\n\nReplace the addition of stack user to vz group bash function in case\nthe DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group\nplaybook/role\n\nChange-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476\n'}]",0,404151,9b848bfb86a1fe4be3ccd62f932b3c8281d31829,12,3,7,1106,,,0,"Ansibly adding vz group to stack user

Replace the addition of stack user to vz group bash function in case
the DEVSTACK_GATE_VIRT_DRIVER is openvz for add_stack_to_vz_group
playbook/role

Change-Id: Ia665041aa149734f41f5d7785b86fec24ef1a476
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/51/404151/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/add_stack_to_vz_group.yaml', 'functions.sh']",2,a841d3ff9939efe0ae177481a02f495b76a95db7,zuulv3,," # If we will be testing OpenVZ, make sure stack is a member of the vz group if [ ""$DEVSTACK_GATE_VIRT_DRIVER"" == ""openvz"" ]; then sudo usermod -a -G vz stack fi ",8,5
openstack%2Fnetworking-odl~stable%2Fliberty~Ib85060cdfc46717b68b46dbeadbd6fb9914b8814,openstack/networking-odl,stable/liberty,Ib85060cdfc46717b68b46dbeadbd6fb9914b8814,tools: catch up neutron-lbaas change,MERGED,2016-11-03 15:39:12.000000000,2016-11-29 18:19:34.000000000,2016-11-29 18:19:34.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 979}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6854}, {'_account_id': 6873}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 10980}, {'_account_id': 12898}, {'_account_id': 22816}]","[{'number': 1, 'created': '2016-11-03 15:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/84e884aea24dadfdc447bf8aa6757e24a3c657f4', 'message': 'tools: catch up neutron-lbaas change\n\nThe patch [1] was imcomplete to use the old version of\nneutron-lbaas. This patch catch up the lbaas changes.\n[1] https://review.openstack.org/#/c/389810\n\nConflicts:\n\ttools/tox_install_project.sh\n\nChange-Id: Ib85060cdfc46717b68b46dbeadbd6fb9914b8814\nCloses-bug: #1635680\n(cherry picked from commit 3ec40af94c349cc3b9b9e11f47bab4de09633af7)\n'}, {'number': 2, 'created': '2016-11-03 17:10:27.000000000', 'files': ['tools/tox_install.sh', 'tools/tox_install_project.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bd0f5ee461a95b36b86897b269b33a2679875f18', 'message': 'tools: catch up neutron-lbaas change\n\nThe patch [1] was imcomplete to use the old version of\nneutron-lbaas. This patch catch up the lbaas changes.\n[1] https://review.openstack.org/#/c/389810\n\nConflicts:\n\ttools/tox_install_project.sh\n\nChange-Id: Ib85060cdfc46717b68b46dbeadbd6fb9914b8814\nCloses-bug: #1635680\n(cherry picked from commit 3ec40af94c349cc3b9b9e11f47bab4de09633af7)\n'}]",0,393373,bd0f5ee461a95b36b86897b269b33a2679875f18,14,21,2,9656,,,0,"tools: catch up neutron-lbaas change

The patch [1] was imcomplete to use the old version of
neutron-lbaas. This patch catch up the lbaas changes.
[1] https://review.openstack.org/#/c/389810

Conflicts:
	tools/tox_install_project.sh

Change-Id: Ib85060cdfc46717b68b46dbeadbd6fb9914b8814
Closes-bug: #1635680
(cherry picked from commit 3ec40af94c349cc3b9b9e11f47bab4de09633af7)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/73/393373/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tools/tox_install_project.sh']",2,84e884aea24dadfdc447bf8aa6757e24a3c657f4,bug/1635680,"#!/usr/bin/env bash# This wrapper for tox's package installer will use # the local tree in home directory if exists, # else the existing package if it exists, # else use zuul-cloner if that program exists, # else grab it from project master via https://git.openstack.org/openstack, # That last case should only happen with devs running unit tests locally.NEUTRON_DIR=$HOME/${PROJ}set -x# The devstack based functional tests have neutron checked out in # $NEUTRON_DIR on the test systems - with the change to test in it. # Use this directory if it exists, so that this script installs the # neutron version to test here. # Note that the functional tests use sudo to run tox and thus # variables used for zuul-cloner to check out the correct version are # lost. if [ -d ""$NEUTRON_DIR"" ]; then echo ""FOUND ${PROJ} code at $NEUTRON_DIR - using"" $install_cmd -U -e $NEUTRON_DIR elif [ $neutron_installed -eq 0 ]; then location=$(python -c ""import ${MOD}; print(${MOD}.__file__)"") echo ""ALREADY INSTALLED at $location"" # Make this relative to current working directory so that # git clean can remove it. We cannot remove the directory directly # since it is referenced after $install_cmd -e. mkdir -p .tmp PROJECT_DIR=$(/bin/mktemp -d -p $(pwd)/.tmp) pushd $PROJECT_DIR popd","#!/bin/sh# This wrapper for tox's package installer will use the existing package # if it exists, else use zuul-cloner if that program exists, else grab it # from neutron master via a hard-coded URL. That last case should only # happen with devs running unit tests locally.if [ $neutron_installed -eq 0 ]; then cwd=$(/bin/pwd) cd /tmp cd ""$cwd""",32,10
openstack%2Frpm-packaging~master~I57b73db1189db26f32d1e2667966eb6b5478209e,openstack/rpm-packaging,master,I57b73db1189db26f32d1e2667966eb6b5478209e,Laws aodhclient url,MERGED,2016-11-29 10:18:21.000000000,2016-11-29 18:17:35.000000000,2016-11-29 18:15:47.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-29 10:18:21.000000000', 'files': ['openstack/aodhclient/aodhclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9d1e6b81ef191a7cd02c9f82da7bb0febbebae18', 'message': 'Laws aodhclient url\n\nhttps://github.com/openstack/python-aodhclient is the correct\naddress for aodhclient\n\nChange-Id: I57b73db1189db26f32d1e2667966eb6b5478209e\n'}]",0,404128,9d1e6b81ef191a7cd02c9f82da7bb0febbebae18,24,5,1,22694,,,0,"Laws aodhclient url

https://github.com/openstack/python-aodhclient is the correct
address for aodhclient

Change-Id: I57b73db1189db26f32d1e2667966eb6b5478209e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/28/404128/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/aodhclient/aodhclient.spec.j2'],1,9d1e6b81ef191a7cd02c9f82da7bb0febbebae18,url-aodhclient,Url: https://github.com/openstack/python-aodhclient,Url: https://github.com/openstack/%{name},1,1
openstack%2Fcharm-ceph~stable%2F16.10~I0addf9993d486a4d305dd554237efe554d4608d4,openstack/charm-ceph,stable/16.10,I0addf9993d486a4d305dd554237efe554d4608d4,Install lockfile-progs when related to nagios,MERGED,2016-11-29 17:06:10.000000000,2016-11-29 18:16:41.000000000,2016-11-29 17:14:38.000000000,"[{'_account_id': 3}, {'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-11-29 17:06:10.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/932d073b58f50992fb245df8aede97f64d245878', 'message': 'Install lockfile-progs when related to nagios\n\nThe nrpe ceph status script relies on lockfile-create, but\nlockfile-progs (package containing lockfile-create) was missing from\nthe install. Install it when related to nagios, and on upgrade-charm\nwhen related to nagios.\n\nChange-Id: I0addf9993d486a4d305dd554237efe554d4608d4\nCloses-Bug: #1629104\n(cherry picked from commit 5d635ae39480a8714d11c248c8ba373d087c878c)\n'}]",0,404346,932d073b58f50992fb245df8aede97f64d245878,7,3,1,20797,,,0,"Install lockfile-progs when related to nagios

The nrpe ceph status script relies on lockfile-create, but
lockfile-progs (package containing lockfile-create) was missing from
the install. Install it when related to nagios, and on upgrade-charm
when related to nagios.

Change-Id: I0addf9993d486a4d305dd554237efe554d4608d4
Closes-Bug: #1629104
(cherry picked from commit 5d635ae39480a8714d11c248c8ba373d087c878c)
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/46/404346/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,932d073b58f50992fb245df8aede97f64d245878,bug/1629104,"from mock import patch, DEFAULT def test_nrpe_dependency_installed(self): with patch.multiple(ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT) as mocks: ceph_hooks.update_nrpe_config() mocks[""apt_install""].assert_called_once_with( [""python-dbus"", ""lockfile-progs""]) def test_upgrade_charm_with_nrpe_relation_installs_dependencies(self): with patch.multiple( ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT, emit_cephconf=DEFAULT, upgrade_keys=DEFAULT, mon_relation_joined=DEFAULT, is_relation_made=DEFAULT) as mocks, patch( ""charmhelpers.contrib.hardening.harden.config""): mocks[""is_relation_made""].return_value = True ceph_hooks.upgrade_charm() mocks[""apt_install""].assert_called_with( [""python-dbus"", ""lockfile-progs""])","from mock import patch def setUp(self): super(CephHooksTestCase, self).setUp()",35,4
openstack%2Ffreezer~stable%2Fmitaka~I937af1d3e30c0034680bfdc52cf2842824f88ac5,openstack/freezer,stable/mitaka,I937af1d3e30c0034680bfdc52cf2842824f88ac5,Fix manifest upload with ceph backend,MERGED,2016-11-14 12:27:10.000000000,2016-11-29 18:16:25.000000000,2016-11-29 18:16:25.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 16768}, {'_account_id': 21644}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-11-14 12:27:10.000000000', 'files': ['freezer/storage/swift.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e12bd81a34deccd8029c1458c4a09c4bfdec30ee', 'message': 'Fix manifest upload with ceph backend\n\nChange-Id: I937af1d3e30c0034680bfdc52cf2842824f88ac5\n(cherry picked from commit 7498a6982104d4c97e541556280c91a4dc435c71)\n'}]",0,397162,e12bd81a34deccd8029c1458c4a09c4bfdec30ee,11,7,1,14509,,,0,"Fix manifest upload with ceph backend

Change-Id: I937af1d3e30c0034680bfdc52cf2842824f88ac5
(cherry picked from commit 7498a6982104d4c97e541556280c91a4dc435c71)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/62/397162/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/storage/swift.py'],1,e12bd81a34deccd8029c1458c4a09c4bfdec30ee,," contents=u'', headers=headers, content_length=len(u''))"," contents=u'', headers=headers)",2,1
openstack%2Fnova~master~I818d2232f3398489be6303414585840c151e4db7,openstack/nova,master,I818d2232f3398489be6303414585840c151e4db7,Use available port binding constants,MERGED,2016-10-18 07:18:52.000000000,2016-11-29 18:13:43.000000000,2016-11-26 17:12:24.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 3211}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17973}, {'_account_id': 18339}, {'_account_id': 21683}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-10-18 07:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1056277694d3603939ddadc9ac8ee683e815427a', 'message': ""Use available port binding constants\n\nWe define 'binding:host_id' and 'binding:profile' constants in\nthe neutronv2/api module, we should use them instead of hardcoded\nstrings.\n\nChange-Id: I818d2232f3398489be6303414585840c151e4db7\n""}, {'number': 2, 'created': '2016-11-07 13:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed1a83e04a13638138377b375d4abb6007525ade', 'message': ""Use available port binding constants\n\nWe define 'binding:host_id' and 'binding:profile' constants in\nthe neutronv2/api module, we should use them instead of hardcoded\nstrings.\n\nChange-Id: I818d2232f3398489be6303414585840c151e4db7\n""}, {'number': 3, 'created': '2016-11-17 09:58:28.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a67af1f110f160861f5cbbff987766c46d60198a', 'message': ""Use available port binding constants\n\nWe define 'binding:host_id' and 'binding:profile' constants in\nthe neutronv2/api module, we should use them instead of hardcoded\nstrings.\n\nChange-Id: I818d2232f3398489be6303414585840c151e4db7\n""}]",4,387830,a67af1f110f160861f5cbbff987766c46d60198a,78,20,3,21683,,,0,"Use available port binding constants

We define 'binding:host_id' and 'binding:profile' constants in
the neutronv2/api module, we should use them instead of hardcoded
strings.

Change-Id: I818d2232f3398489be6303414585840c151e4db7
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/387830/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,1056277694d3603939ddadc9ac8ee683e815427a,network_api_enum," port_req_body['port'][neutronapi.BINDING_HOST_ID] = ( neutronapi.BINDING_PROFILE: {'pci_vendor_info': '1137:0047', neutronapi.BINDING_PROFILE: {'pci_vendor_info': '1137:0047', self.assertEqual( requested_ports[index].get(neutronapi.BINDING_PROFILE), nw_info.get('profile')) neutronapi.BINDING_HOST_ID: instance.host}]} 'fake-port-1', {'port': {neutronapi.BINDING_HOST_ID: 'my-host', neutronapi.BINDING_HOST_ID: instance.host}, 'fake-port-2', {'port': {neutronapi.BINDING_HOST_ID: instance.host}}) neutronapi.BINDING_HOST_ID: 'fake-host-old', neutronapi.BINDING_PROFILE: neutronapi.BINDING_HOST_ID: instance.host}]} {neutronapi.BINDING_HOST_ID: 'fake-host', neutronapi.BINDING_PROFILE: {'pci_slot': '0000:0b:00.1', neutronapi.BINDING_HOST_ID: 'fake-host-old', neutronapi.BINDING_PROFILE: body['port'][neutronapi.BINDING_HOST_ID] = None body['port'][neutronapi.BINDING_PROFILE] = {} self.assertEqual(host_id, port_req_body['port'][neutronapi.BINDING_HOST_ID]) self.assertFalse(port_req_body['port'].get(neutronapi.BINDING_PROFILE)) self.assertEqual(profile, port_req_body['port'][neutronapi.BINDING_PROFILE]) {neutronapi.BINDING_HOST_ID: expected_bind_host}} {neutronapi.BINDING_HOST_ID: expected_bind_host}} neutronapi.BINDING_HOST_ID: bind_host_id,"," port_req_body['port']['binding:host_id'] = ( 'binding:profile': {'pci_vendor_info': '1137:0047', 'binding:profile': {'pci_vendor_info': '1137:0047', self.assertEqual(requested_ports[index].get('binding:profile'), nw_info.get('profile')) 'binding:host_id': instance.host}]} 'fake-port-1', {'port': {'binding:host_id': 'my-host', 'binding:host_id': instance.host}, 'fake-port-2', {'port': {'binding:host_id': instance.host}}) 'binding:host_id': 'fake-host-old', 'binding:profile': 'binding:host_id': instance.host}]} {'binding:host_id': 'fake-host', 'binding:profile': {'pci_slot': '0000:0b:00.1', 'binding:host_id': 'fake-host-old', 'binding:profile': body['port']['binding:host_id'] = None body['port']['binding:profile'] = {} self.assertEqual(host_id, port_req_body['port']['binding:host_id']) self.assertFalse(port_req_body['port'].get('binding:profile')) self.assertEqual(profile, port_req_body['port']['binding:profile']) {'binding:host_id': expected_bind_host}} {'binding:host_id': expected_bind_host}} 'binding:host_id': bind_host_id,",34,30
openstack%2Fproject-config~master~I370643277a3b23e7f47e413cf880daa9af1eb831,openstack/project-config,master,I370643277a3b23e7f47e413cf880daa9af1eb831,Create experimental Neutron DVR+HA multinode job,MERGED,2016-10-07 13:44:48.000000000,2016-11-29 18:12:23.000000000,2016-11-29 18:12:23.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4146}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 8788}, {'_account_id': 10267}, {'_account_id': 12444}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 23317}]","[{'number': 1, 'created': '2016-10-07 13:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/16799c23c9742308cae7ad6f9bc7296120d5ace1', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nLater a new change to devstack gate will be proposed to change\none compute node's agent_mode to dvr_snat, to make it DVR+HA.\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 2, 'created': '2016-10-12 18:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/40ce52b2cdca20fde5273aee614fcf5db8be92b6', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nLater a new change to devstack gate will be proposed to change\none compute node's agent_mode to dvr_snat, to make it DVR+HA.\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 3, 'created': '2016-10-13 20:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/de380eb89d6b1014582f9a2d166605a05fc7ca55', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 4, 'created': '2016-10-13 20:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/da47d2910ac0b669087fbb9b32d88e837d37508b', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 5, 'created': '2016-10-19 15:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d64f8d8af6bbddd1630c190f849d11b5878467e9', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 6, 'created': '2016-11-10 07:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/900bf9c0bdb530f6fe2dad548ed75dc7d40a69c1', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 7, 'created': '2016-11-10 14:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8804479b11e0b58593a648a720ad4a010759707e', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 8, 'created': '2016-11-14 06:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/01d13e065dc6c380abec606f37697769258b7c61', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 9, 'created': '2016-11-14 06:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6ea89dc198bea7098b2cf42a4db9995b18ff92cb', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 10, 'created': '2016-11-16 10:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2737193debdd3db605b1fb1e413ea267b0fce399', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 11, 'created': '2016-11-21 11:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/49b6a42239d6552d35dda135fe8153570a8ce706', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}, {'number': 12, 'created': '2016-11-29 16:20:40.000000000', 'files': ['nodepool/nodepool.yaml', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/neutron.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6556852ae09d56202e70bcfefe6d4f47c2b902e', 'message': ""Create experimental Neutron DVR+HA multinode job\n\nAdding a three node label to nodepool as we need a three node\nsetup to test DVR+HA with tempest.\nExisting Devstack gate will set agent_mode to 'dvr' in both compute\nnodes. So it is still a DVR only multinode setup with 3 nodes.\nChange[1] in devstack gate submitted to change one compute node's\nagent_mode to dvr_snat, to make it DVR+HA.\n\n[1] https://review.openstack.org/#/c/383827/\n\nChange-Id: I370643277a3b23e7f47e413cf880daa9af1eb831\n""}]",13,383742,d6556852ae09d56202e70bcfefe6d4f47c2b902e,61,11,12,10267,,,0,"Create experimental Neutron DVR+HA multinode job

Adding a three node label to nodepool as we need a three node
setup to test DVR+HA with tempest.
Existing Devstack gate will set agent_mode to 'dvr' in both compute
nodes. So it is still a DVR only multinode setup with 3 nodes.
Change[1] in devstack gate submitted to change one compute node's
agent_mode to dvr_snat, to make it DVR+HA.

[1] https://review.openstack.org/#/c/383827/

Change-Id: I370643277a3b23e7f47e413cf880daa9af1eb831
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/383742/5 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/neutron.yaml', 'zuul/layout.yaml']",4,16799c23c9742308cae7ad6f9bc7296120d5ace1,dvr_ha, - name: ^gate-tempest-dsvm-neutron-dvr-ha-multinode-full-ubuntu-(trusty|xenial)$ voting: false - gate-tempest-dsvm-neutron-dvr-ha-multinode-full-ubuntu-xenial,,66,0
openstack%2Ffreezer-dr~master~Ib39d8f44a19c88f4c0468a3fa024bcf3363d1213,openstack/freezer-dr,master,Ib39d8f44a19c88f4c0468a3fa024bcf3363d1213,Add gencofig tox target,MERGED,2016-11-29 17:24:05.000000000,2016-11-29 18:10:02.000000000,2016-11-29 18:10:02.000000000,"[{'_account_id': 3}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}]","[{'number': 1, 'created': '2016-11-29 17:24:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/fe782efcc6fd44fddd72493962621c39431dd966', 'message': 'Add gencofig tox target\n\nChange-Id: Ib39d8f44a19c88f4c0468a3fa024bcf3363d1213\n'}]",0,404353,fe782efcc6fd44fddd72493962621c39431dd966,10,4,1,22405,,,0,"Add gencofig tox target

Change-Id: Ib39d8f44a19c88f4c0468a3fa024bcf3363d1213
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/53/404353/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fe782efcc6fd44fddd72493962621c39431dd966,tox-gen-config,[testenv:genconfig] sitepackages = False envdir = {toxworkdir}/venv commands = oslo-config-generator --config-file=config-generator/freezer-dr.conf ,,6,0
openstack%2Fnova~master~I61376469a409dc5475886e6c79486b815129392a,openstack/nova,master,I61376469a409dc5475886e6c79486b815129392a,libvirt: handle os-brick InvalidConnectorProtocol on init,MERGED,2016-11-08 16:26:58.000000000,2016-11-29 18:00:01.000000000,2016-11-24 19:36:05.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 11307}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17600}, {'_account_id': 19991}, {'_account_id': 21511}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-11-08 16:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5434bf3251feb86e537a15ab96869e334fa78fde', 'message': ""libvirt: handle os-brick InvalidConnectorProtocol on init\n\nOn init the LibvirtDriver imports it's volume drivers into\na registry for later access during volume operations. Several\nof the libvirt volume drivers are using os-brick for the connector.\nos-brick can raise an exception when loading a connector class\nunder certain conditions, e.g. s390x + ISER is not a supported\nmapping in os-brick. This in turn causes the LibvirtDriver to\nfail to load which causes nova-compute to crash.\n\nThis change handles the os-brick specific InvalidConnectorProtocol\nexception when importing volume drivers, logs a debug message but\ndoesn't fail to init the LibvirtDriver.\n\nAs part of this change the driver_dict_from_config helper method\nis integrated with the _get_volume_drivers method as that was\nthe only thing using it, and it's cleaner if those are just a\nsingle method.\n\nChange-Id: I61376469a409dc5475886e6c79486b815129392a\nCloses-Bug: #1639239\n""}, {'number': 2, 'created': '2016-11-08 17:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9fe202aeae261f57493a36e8798b459b39b1b5c', 'message': ""libvirt: handle os-brick InvalidConnectorProtocol on init\n\nOn init the LibvirtDriver imports it's volume drivers into\na registry for later access during volume operations. Several\nof the libvirt volume drivers are using os-brick for the connector.\nos-brick can raise an exception when loading a connector class\nunder certain conditions, e.g. s390x + ISER is not a supported\nmapping in os-brick. This in turn causes the LibvirtDriver to\nfail to load which causes nova-compute to crash.\n\nThis change handles the os-brick specific InvalidConnectorProtocol\nexception when importing volume drivers, logs a debug message but\ndoesn't fail to init the LibvirtDriver.\n\nAs part of this change the driver_dict_from_config helper method\nis integrated with the _get_volume_drivers method as that was\nthe only thing using it, and it's cleaner if those are just a\nsingle method.\n\nDepends-On: I7183a479bc12c4e5509f52bf7fdd0fa7ccaa7247\n\nChange-Id: I61376469a409dc5475886e6c79486b815129392a\nCloses-Bug: #1639239\n""}, {'number': 3, 'created': '2016-11-09 17:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d5a573533a248bda1702f5bfe5dd295a5546ec9', 'message': ""libvirt: handle os-brick InvalidConnectorProtocol on init\n\nOn init the LibvirtDriver imports it's volume drivers into\na registry for later access during volume operations. Several\nof the libvirt volume drivers are using os-brick for the connector.\nos-brick can raise an exception when loading a connector class\nunder certain conditions, e.g. s390x + ISER is not a supported\nmapping in os-brick. This in turn causes the LibvirtDriver to\nfail to load which causes nova-compute to crash.\n\nThis change handles the os-brick specific InvalidConnectorProtocol\nexception when importing volume drivers, logs a debug message but\ndoesn't fail to init the LibvirtDriver.\n\nAs part of this change the driver_dict_from_config helper method\nis integrated with the _get_volume_drivers method as that was\nthe only thing using it, and it's cleaner if those are just a\nsingle method.\n\nDepends-On: I7183a479bc12c4e5509f52bf7fdd0fa7ccaa7247\n\nChange-Id: I61376469a409dc5475886e6c79486b815129392a\nCloses-Bug: #1639239\n""}, {'number': 4, 'created': '2016-11-16 09:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdfdb759b4b4c669a377dc6e8cd1c02253f831de', 'message': ""libvirt: handle os-brick InvalidConnectorProtocol on init\n\nOn init the LibvirtDriver imports it's volume drivers into\na registry for later access during volume operations. Several\nof the libvirt volume drivers are using os-brick for the connector.\nos-brick can raise an exception when loading a connector class\nunder certain conditions, e.g. s390x + ISER is not a supported\nmapping in os-brick. This in turn causes the LibvirtDriver to\nfail to load which causes nova-compute to crash.\n\nThis change handles the os-brick specific InvalidConnectorProtocol\nexception when importing volume drivers, logs a debug message but\ndoesn't fail to init the LibvirtDriver.\n\nAs part of this change the driver_dict_from_config helper method\nis integrated with the _get_volume_drivers method as that was\nthe only thing using it, and it's cleaner if those are just a\nsingle method.\n\nDepends-On: I7183a479bc12c4e5509f52bf7fdd0fa7ccaa7247\n\nChange-Id: I61376469a409dc5475886e6c79486b815129392a\nCloses-Bug: #1639239\n""}, {'number': 5, 'created': '2016-11-21 22:27:49.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57f46c1c28a2e3ba1f12ec8f883cf99ccd9979db', 'message': ""libvirt: handle os-brick InvalidConnectorProtocol on init\n\nOn init the LibvirtDriver imports it's volume drivers into\na registry for later access during volume operations. Several\nof the libvirt volume drivers are using os-brick for the connector.\nos-brick can raise an exception when loading a connector class\nunder certain conditions, e.g. s390x + ISER is not a supported\nmapping in os-brick. This in turn causes the LibvirtDriver to\nfail to load which causes nova-compute to crash.\n\nThis change handles the os-brick specific InvalidConnectorProtocol\nexception when importing volume drivers, logs a debug message but\ndoesn't fail to init the LibvirtDriver.\n\nAs part of this change the driver_dict_from_config helper method\nis integrated with the _get_volume_drivers method as that was\nthe only thing using it, and it's cleaner if those are just a\nsingle method.\n\nDepends-On: I7183a479bc12c4e5509f52bf7fdd0fa7ccaa7247\n\nChange-Id: I61376469a409dc5475886e6c79486b815129392a\nCloses-Bug: #1639239\n""}]",10,395067,57f46c1c28a2e3ba1f12ec8f883cf99ccd9979db,113,24,5,6873,,,0,"libvirt: handle os-brick InvalidConnectorProtocol on init

On init the LibvirtDriver imports it's volume drivers into
a registry for later access during volume operations. Several
of the libvirt volume drivers are using os-brick for the connector.
os-brick can raise an exception when loading a connector class
under certain conditions, e.g. s390x + ISER is not a supported
mapping in os-brick. This in turn causes the LibvirtDriver to
fail to load which causes nova-compute to crash.

This change handles the os-brick specific InvalidConnectorProtocol
exception when importing volume drivers, logs a debug message but
doesn't fail to init the LibvirtDriver.

As part of this change the driver_dict_from_config helper method
is integrated with the _get_volume_drivers method as that was
the only thing using it, and it's cleaner if those are just a
single method.

Depends-On: I7183a479bc12c4e5509f52bf7fdd0fa7ccaa7247

Change-Id: I61376469a409dc5475886e6c79486b815129392a
Closes-Bug: #1639239
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/395067/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,5434bf3251feb86e537a15ab96869e334fa78fde,bug/1639239,"from os_brick import exception as brick_exceptionclass FakeInvalidVolumeDriver(object): def __init__(self, *args, **kwargs): raise brick_exception.InvalidConnectorProtocol('oops!') @mock.patch.object(libvirt_driver.LOG, 'debug') def test_get_volume_driver_invalid_connector_exception(self, mock_debug): """"""Tests that the driver doesn't fail to initialize if one of the imported volume drivers raises InvalidConnectorProtocol from os-brick. """""" # make a copy of the normal list and add a volume driver that raises # the handled os-brick exception when imported. libvirt_volume_drivers_copy = copy.copy( libvirt_driver.libvirt_volume_drivers) libvirt_volume_drivers_copy.append( 'invalid=nova.tests.unit.virt.libvirt.test_driver.' 'FakeInvalidVolumeDriver' ) with mock.patch.object(libvirt_driver, 'libvirt_volume_drivers', libvirt_volume_drivers_copy): drvr = libvirt_driver.LibvirtDriver( fake.FakeVirtAPI(), read_only=True ) # make sure we didn't register the invalid volume driver self.assertNotIn('invalid', drvr.volume_drivers) # make sure we logged something mock_debug.assert_called_with( 'Unable to load volume driver %s. Error: %s', 'nova.tests.unit.virt.libvirt.test_driver.FakeInvalidVolumeDriver', six.text_type('oops!') ) ","class FakeVolumeDriver(object): def __init__(self, *args, **kwargs): pass def attach_volume(self, *args): pass def detach_volume(self, *args): pass def get_xml(self, *args): return """" def get_config(self, *args): """"""Connect the volume to a fake device."""""" conf = vconfig.LibvirtConfigGuestDisk() conf.source_type = ""network"" conf.source_protocol = ""fake"" conf.source_name = ""fake"" conf.target_dev = ""fake"" conf.target_bus = ""fake"" return conf def connect_volume(self, *args): """"""Connect the volume to a fake device."""""" pass volume_driver = ['iscsi=nova.tests.unit.virt.libvirt.test_driver' '.FakeVolumeDriver'] self.stubs.Set(libvirt_driver.LibvirtDriver, '_get_volume_drivers', lambda x: volume_driver) class FakeDriver(object): def __init__(self, *args, **kwargs): self.args = args self.kwargs = kwargs class FakeDriver2(FakeDriver): pass class ToDriverRegistryTestCase(test.NoDBTestCase): def assertDriverInstance(self, inst, class_, *args, **kwargs): self.assertEqual(class_, inst.__class__) self.assertEqual(args, inst.args) self.assertEqual(kwargs, inst.kwargs) def test_driver_dict_from_config(self): drvs = libvirt_driver.driver_dict_from_config( [ 'key1=nova.tests.unit.virt.libvirt.test_driver.FakeDriver', 'key2=nova.tests.unit.virt.libvirt.test_driver.FakeDriver2', ], 'arg1', 'arg2', param1='value1', param2='value2' ) self.assertEqual( sorted(['key1', 'key2']), sorted(drvs.keys()) ) self.assertDriverInstance( drvs['key1'], FakeDriver, 'arg1', 'arg2', param1='value1', param2='value2') self.assertDriverInstance( drvs['key2'], FakeDriver2, 'arg1', 'arg2', param1='value1', param2='value2')",44,84
openstack%2Fcharm-rabbitmq-server~master~Ie464603aef1ec68715873984da0f33ef1636e6cb,openstack/charm-rabbitmq-server,master,Ie464603aef1ec68715873984da0f33ef1636e6cb,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:36:32.000000000,2016-11-29 17:59:02.000000000,2016-11-29 17:59:02.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/136853fba42d015fa6880b442b056eba3b6280b2', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ie464603aef1ec68715873984da0f33ef1636e6cb\n'}, {'number': 2, 'created': '2016-11-28 20:58:05.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fa32ff65884d371f8088fbbd5949e9a3dc2d5288', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ie464603aef1ec68715873984da0f33ef1636e6cb\n'}]",0,401451,fa32ff65884d371f8088fbbd5949e9a3dc2d5288,9,3,2,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: Ie464603aef1ec68715873984da0f33ef1636e6cb
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/51/401451/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",19,136853fba42d015fa6880b442b056eba3b6280b2,update-amulet-defs," # See LP 1484489 - this is to support <= 2.4.7 and >= 2.4.8 SSLCertificateChainFile /etc/apache2/ssl/{{ namespace }}/cert_{{ endpoint }} RequestHeader set X-Forwarded-Proto ""https""",,166,57
openstack%2Fcharm-openstack-dashboard~master~I0b82bc8b3be780bcc05c5d63ae5f5212ced8827f,openstack/charm-openstack-dashboard,master,I0b82bc8b3be780bcc05c5d63ae5f5212ced8827f,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:34:45.000000000,2016-11-29 17:58:17.000000000,2016-11-29 17:58:17.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/27d32930cef89c059fa050f9a647faa4bd52d362', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I0b82bc8b3be780bcc05c5d63ae5f5212ced8827f\n'}, {'number': 2, 'created': '2016-11-28 20:57:20.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/7227cf9f4421068a0bedf67967c5fb5b085f21f4', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I0b82bc8b3be780bcc05c5d63ae5f5212ced8827f\n'}]",0,401448,7227cf9f4421068a0bedf67967c5fb5b085f21f4,10,3,2,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: I0b82bc8b3be780bcc05c5d63ae5f5212ced8827f
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/48/401448/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",17,27d32930cef89c059fa050f9a647faa4bd52d362,update-amulet-defs," # See LP 1484489 - this is to support <= 2.4.7 and >= 2.4.8 SSLCertificateChainFile /etc/apache2/ssl/{{ namespace }}/cert_{{ endpoint }} RequestHeader set X-Forwarded-Proto ""https""",,147,57
openstack%2Fproject-config~master~Ifc59bf61a5697e8cf2def9b3865142577b33d1fb,openstack/project-config,master,Ifc59bf61a5697e8cf2def9b3865142577b33d1fb,Use xenial as default node for gate-tempest-dsvm-neutron-src-neutron-lib,MERGED,2016-11-14 22:41:22.000000000,2016-11-29 17:57:56.000000000,2016-11-24 14:34:43.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 9656}, {'_account_id': 17120}]","[{'number': 1, 'created': '2016-11-14 22:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/10f1cd0dc728cc75202269d13e68aee39ebf8b9e', 'message': 'Use xenial as default node for gate-tempest-dsvm-neutron-src-neutron-lib\n\nThis patch also adds the node qualifier to the name of the job.\n\nChange-Id: Ifc59bf61a5697e8cf2def9b3865142577b33d1fb\n'}, {'number': 2, 'created': '2016-11-15 18:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/29d502aa239d5eb6ae7d25ce09e4d3901c87fa02', 'message': 'Use xenial as default node for gate-tempest-dsvm-neutron-src-neutron-lib\n\nThis patch also tweaks a comment that may lead to accidentally remove a\njob neutron/neutron-lib development very much rely on.\n\nChange-Id: Ifc59bf61a5697e8cf2def9b3865142577b33d1fb\n'}, {'number': 3, 'created': '2016-11-23 22:37:01.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/41bddf7bf9f177888a7f0b20d04bb2c21e1204d2', 'message': 'Use xenial as default node for gate-tempest-dsvm-neutron-src-neutron-lib\n\nThis patch also adds the node qualifier to the name of the job.\n\nChange-Id: Ifc59bf61a5697e8cf2def9b3865142577b33d1fb\n'}]",13,397401,41bddf7bf9f177888a7f0b20d04bb2c21e1204d2,24,6,3,748,,,0,"Use xenial as default node for gate-tempest-dsvm-neutron-src-neutron-lib

This patch also adds the node qualifier to the name of the job.

Change-Id: Ifc59bf61a5697e8cf2def9b3865142577b33d1fb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/397401/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,10f1cd0dc728cc75202269d13e68aee39ebf8b9e,lib-xenial-2, - gate-tempest-dsvm-neutron-src-neutron-lib-ubuntu-trusty - gate-tempest-dsvm-neutron-src-neutron-lib-ubuntu-xenial - gate-tempest-dsvm-neutron-src-neutron-lib-ubuntu-trusty - gate-tempest-dsvm-neutron-src-neutron-lib-ubuntu-xenial - gate-tempest-dsvm-neutron-src-neutron-lib-ubuntu-trusty - gate-tempest-dsvm-neutron-src-neutron-lib-ubuntu-xenial, - gate-tempest-dsvm-neutron-src-neutron-lib - gate-tempest-dsvm-neutron-src-neutron-lib - gate-tempest-dsvm-neutron-src-neutron-lib,8,5
openstack%2Ftempest~master~I0ef0e6fb03475d7ad4dd5481cfc1636fd73b66b9,openstack/tempest,master,I0ef0e6fb03475d7ad4dd5481cfc1636fd73b66b9,Remove self.attachment from AttachVolumeTestJSON,ABANDONED,2016-11-23 02:19:07.000000000,2016-11-29 17:52:13.000000000,,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}]","[{'number': 1, 'created': '2016-11-23 02:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/837499325ed505281c3b15fde08ea5917c3f5aab', 'message': 'Remove self.attachment from AttachVolumeTestJSON\n\nself.attachment was unreadable and buggy, and it was difficult to\nextend the test cases in the test class.\nThis patch changes the value to the returning value of the method\n_create_and_attach_volume() and the scope small.\n\nChange-Id: I0ef0e6fb03475d7ad4dd5481cfc1636fd73b66b9\n'}, {'number': 2, 'created': '2016-11-23 02:21:57.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/eea58b7dd8ba0eac7428ed1d57213b193b44859b', 'message': 'Remove self.attachment from AttachVolumeTestJSON\n\nself.attachment was unreadable and buggy, and it was difficult to\nextend the test cases in the test class.\nThis patch changes the value to the returning value of the method\n_create_and_attach_volume() and the scope small.\n\nChange-Id: I0ef0e6fb03475d7ad4dd5481cfc1636fd73b66b9\n'}]",0,401037,eea58b7dd8ba0eac7428ed1d57213b193b44859b,9,5,2,6167,,,0,"Remove self.attachment from AttachVolumeTestJSON

self.attachment was unreadable and buggy, and it was difficult to
extend the test cases in the test class.
This patch changes the value to the returning value of the method
_create_and_attach_volume() and the scope small.

Change-Id: I0ef0e6fb03475d7ad4dd5481cfc1636fd73b66b9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/401037/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume.py'],1,837499325ed505281c3b15fde08ea5917c3f5aab,bug/1633535," self.servers_client.detach_volume(server_id, volume_id) waiters.wait_for_volume_status(self.volumes_client, volume_id, 'available') attachment = self.servers_client.attach_volume( self.assertEqual(volume['id'], attachment['volumeId']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self._detach, server['id'], volume['id']) return attachment attachment = self._create_and_attach_volume(server, device=self.device) self._detach(server['id'], attachment['volumeId']) attachment = self._create_and_attach_volume(server, device=self.device) self.assertIn(attachment, body) attachment['volumeId'])['volumeAttachment'] self.assertEqual(attachment['volumeId'], body['volumeId']) self.assertEqual(attachment['id'], body['id']) attachment = self._create_and_attach_volume(server, device=self.device) attachment['id'])['volumeAttachment'] self.assertEqual(attachment['id'], volume_attachment['id'])"," def __init__(self, *args, **kwargs): super(AttachVolumeTestJSON, self).__init__(*args, **kwargs) self.attachment = None if self.attachment: self.servers_client.detach_volume(server_id, volume_id) waiters.wait_for_volume_status(self.volumes_client, volume_id, 'available') self.attachment = self.servers_client.attach_volume( self.addCleanup(self._detach, server['id'], volume['id']) return volume volume = self._create_and_attach_volume(server, device=self.device) self._detach(server['id'], volume['id']) self.attachment = None volume = self._create_and_attach_volume(server, device=self.device) self.assertIn(self.attachment, body) self.attachment['id'])['volumeAttachment'] self.assertEqual(volume['id'], body['volumeId']) self.assertEqual(self.attachment['id'], body['id']) self._create_and_attach_volume(server, device=self.device) self.attachment['id'])['volumeAttachment'] self.assertEqual(self.attachment['id'], volume_attachment['id']) self.attachment = None",18,23
openstack%2Fnova~master~I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb,openstack/nova,master,I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb,placement: handle generic PCI devices in inventory,ABANDONED,2016-09-22 10:34:03.000000000,2016-11-29 17:50:43.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12171}, {'_account_id': 13692}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15648}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 17973}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-09-22 10:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63fc33b3f44be16a13e9cf176bcfe2d5bae3a374', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 2, 'created': '2016-09-22 14:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccc6f65afea5d1edf8bbe9d5d27cb6c020dab8c4', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 3, 'created': '2016-09-23 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be24d948817e0fbc31fa29fa43985f47a9279fb1', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 4, 'created': '2016-09-23 19:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41142f28dec7594f9ac9295ce0cccfd30d6d8688', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 5, 'created': '2016-09-24 00:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c97e3e1c1699931f1dafc024b4979d0a057b03a', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 6, 'created': '2016-10-04 17:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e1b378d60b553b30c2158bb083b332be3f4980b', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 7, 'created': '2016-10-04 19:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb25187d26db0a7bbea26bbb24ad82e2d53edd87', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 8, 'created': '2016-10-12 23:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b23feae88c84636c1863c5225e4c1cab22c7b1', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}, {'number': 9, 'created': '2016-11-14 00:16:24.000000000', 'files': ['nova/scheduler/client/__init__.py', 'nova/tests/unit/scheduler/test_client.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec29ad8e277a41799a70cdcdba1af6fc273a9743', 'message': 'placement: handle generic PCI devices in inventory\n\nAdds tracking of generic PCI passthrough devices to the inventory\nhandling in the scheduler reporting client. For now, we only handle\nnon-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are\neasy to reason about given that they are managed as a simple single\nwhole unit that is allocated to a single consumer.\n\nblueprint: inventory-allocation-ocata\n\nChange-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb\n'}]",21,374681,ec29ad8e277a41799a70cdcdba1af6fc273a9743,123,26,9,7,,,0,"placement: handle generic PCI devices in inventory

Adds tracking of generic PCI passthrough devices to the inventory
handling in the scheduler reporting client. For now, we only handle
non-nested PCI devices (i.e. not SR-IOV PF/VF relationships), which are
easy to reason about given that they are managed as a simple single
whole unit that is allocated to a single consumer.

blueprint: inventory-allocation-ocata

Change-Id: I97a0584cf970ed19dbd0f47901f7d1e71bec5fbb
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/374681/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/__init__.py', 'nova/tests/unit/scheduler/test_client.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/compute/resource_tracker.py']",7,63fc33b3f44be16a13e9cf176bcfe2d5bae3a374,bp/inventory-allocations-ocata," self.scheduler_client.update_resource_stats( self.compute_node, self.pci_tracker.pci_devs) self.scheduler_client.update_resource_stats( self.compute_node, self.pci_tracker.pci_devs) self.scheduler_client.update_resource_stats( self.compute_node, self.pci_tracker.pci_devs) self.scheduler_client.update_resource_stats( self.compute_node, self.pci_tracker.pci_devs)", self.scheduler_client.update_resource_stats(self.compute_node) self.scheduler_client.update_resource_stats(self.compute_node) self.scheduler_client.update_resource_stats(self.compute_node) self.scheduler_client.update_resource_stats(self.compute_node),226,71
openstack%2Fnova~master~I860d82fac4deaf7cc891f42dc47e64e43861a9d9,openstack/nova,master,I860d82fac4deaf7cc891f42dc47e64e43861a9d9,Fix SAWarning in TestResourceProvider,MERGED,2016-10-26 19:31:27.000000000,2016-11-29 17:49:35.000000000,2016-11-29 17:49:35.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-10-26 19:31:27.000000000', 'files': ['nova/tests/unit/objects/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e9548c09bfcf45b01754d88fc63ebcb3269aee4', 'message': ""Fix SAWarning in TestResourceProvider\n\nFixes the following warning emitted from test_create_in_db.\n\n    SAWarning: Unicode type received non-unicode bind param value\n'a7f7228e-1b4d-4a53-a284-4...'.\n\nThe ResourceProvider name column expects unicode values.\n\n    class ResourceProvider(API_BASE):\n        ...\n        name = Column(Unicode(200), nullable=True)\n\nChange-Id: I860d82fac4deaf7cc891f42dc47e64e43861a9d9\n""}]",0,390958,2e9548c09bfcf45b01754d88fc63ebcb3269aee4,14,8,1,16907,,,0,"Fix SAWarning in TestResourceProvider

Fixes the following warning emitted from test_create_in_db.

    SAWarning: Unicode type received non-unicode bind param value
'a7f7228e-1b4d-4a53-a284-4...'.

The ResourceProvider name column expects unicode values.

    class ResourceProvider(API_BASE):
        ...
        name = Column(Unicode(200), nullable=True)

Change-Id: I860d82fac4deaf7cc891f42dc47e64e43861a9d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/390958/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/objects/test_resource_provider.py'],1,2e9548c09bfcf45b01754d88fc63ebcb3269aee4,unicode-warning,import six_RESOURCE_PROVIDER_NAME = six.text_type(uuids.resource_name),_RESOURCE_PROVIDER_NAME = uuids.resource_name,2,1
openstack%2Ftripleo-ci~master~I133fab15779e8c2d1e94e00f2ce15f9856d15473,openstack/tripleo-ci,master,I133fab15779e8c2d1e94e00f2ce15f9856d15473,Copy deploy and validate args to one place,ABANDONED,2016-11-28 19:31:52.000000000,2016-11-29 17:46:13.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 10969}]","[{'number': 1, 'created': '2016-11-28 19:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/282eaee7a6f2162a642e32a4f717ffccc082c271', 'message': ""Move deploy args to one place\n\nIf we already changes deploy args, let's do it in one place - the\nmain script toci_gate_test.sh, especially considering multiple\nruns of tripleo.sh on subnodes in multinode job\n\nChange-Id: I133fab15779e8c2d1e94e00f2ce15f9856d15473\n""}, {'number': 2, 'created': '2016-11-28 19:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e00b10d5b757b39f157183e9f38373879e6fe276', 'message': ""Move deploy and validate args to one place\n\nIf we already change deploy args, let's do it in one place - the\nmain script toci_gate_test.sh, especially considering multiple\nruns of tripleo.sh on subnodes in multinode job\n\nChange-Id: I133fab15779e8c2d1e94e00f2ce15f9856d15473\n""}, {'number': 3, 'created': '2016-11-28 21:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/74f297ac554b8d51eb38250e00c10256ff2ea236', 'message': ""Move deploy and validate args to one place\n\nIf we already change deploy args, let's do it in one place - the\nmain script toci_gate_test.sh, especially considering multiple\nruns of tripleo.sh on subnodes in multinode job\n\nChange-Id: I133fab15779e8c2d1e94e00f2ce15f9856d15473\n""}, {'number': 4, 'created': '2016-11-29 02:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0db9d2760f0609f4acccb48f316956c1e49a299f', 'message': ""Copy deploy and validate args to one place\n\nIf we already change deploy args, let's do it in one place - the\nmain script toci_gate_test.sh, leaving them in tripleo.sh for\nstandalone users.\n\nChange-Id: I133fab15779e8c2d1e94e00f2ce15f9856d15473\n""}, {'number': 5, 'created': '2016-11-29 16:55:46.000000000', 'files': ['scripts/common_functions.sh', 'toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fc6d6327ad5503d9a75df240515ce37a97faf7f5', 'message': ""Copy deploy and validate args to one place\n\nIf we already change deploy args, let's do it in one place - the\nmain script toci_gate_test.sh, leaving them in tripleo.sh for\nstandalone users.\n\nChange-Id: I133fab15779e8c2d1e94e00f2ce15f9856d15473\n""}]",2,403868,fc6d6327ad5503d9a75df240515ce37a97faf7f5,19,3,5,10969,,,0,"Copy deploy and validate args to one place

If we already change deploy args, let's do it in one place - the
main script toci_gate_test.sh, leaving them in tripleo.sh for
standalone users.

Change-Id: I133fab15779e8c2d1e94e00f2ce15f9856d15473
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/403868/5 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo.sh', 'toci_gate_test.sh']",2,282eaee7a6f2162a642e32a4f717ffccc082c271,valid,"# --validation-errors-fatal was deprecated in newton and removed in ocata OVERCLOUD_VALIDATE_ARGS=${OVERCLOUD_VALIDATE_ARGS-""--validation-errors-fatal --validation-warnings-fatal""} OVERCLOUD_VALIDATE_ARGS=${OVERCLOUD_VALIDATE_ARGS-""--validation-warnings-fatal""}",,3,6
openstack%2Fcharm-ceph~master~I0addf9993d486a4d305dd554237efe554d4608d4,openstack/charm-ceph,master,I0addf9993d486a4d305dd554237efe554d4608d4,Install lockfile-progs when related to nagios,MERGED,2016-11-29 14:28:11.000000000,2016-11-29 17:45:50.000000000,2016-11-29 17:04:42.000000000,"[{'_account_id': 3}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2016-11-29 14:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/95cb9fa92410a124ec70e9254dedf527113589c3', 'message': 'Install lockfile-progs when related to nagios\n\nThe nrpe ceph status script relies on lockfile-create, but\nlockfile-progs (package containing lockfile-create) was missing from\nthe install.\n\nChange-Id: I0addf9993d486a4d305dd554237efe554d4608d4\nCloses-Bug: #1629104\n'}, {'number': 2, 'created': '2016-11-29 16:13:03.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/5d635ae39480a8714d11c248c8ba373d087c878c', 'message': 'Install lockfile-progs when related to nagios\n\nThe nrpe ceph status script relies on lockfile-create, but\nlockfile-progs (package containing lockfile-create) was missing from\nthe install. Install it when related to nagios, and on upgrade-charm\nwhen related to nagios.\n\nChange-Id: I0addf9993d486a4d305dd554237efe554d4608d4\nCloses-Bug: #1629104\n'}]",0,404237,5d635ae39480a8714d11c248c8ba373d087c878c,14,4,2,20797,,,0,"Install lockfile-progs when related to nagios

The nrpe ceph status script relies on lockfile-create, but
lockfile-progs (package containing lockfile-create) was missing from
the install. Install it when related to nagios, and on upgrade-charm
when related to nagios.

Change-Id: I0addf9993d486a4d305dd554237efe554d4608d4
Closes-Bug: #1629104
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/37/404237/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,95cb9fa92410a124ec70e9254dedf527113589c3,bug/1629104,"from mock import patch, DEFAULT def test_nrpe_dependency_installed(self): with patch.multiple(ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT) as mocks: ceph_hooks.update_nrpe_config() mocks[""apt_install""].assert_called_once_with( [""python-dbus"", ""lockfile-progs""])","from mock import patch def setUp(self): super(CephHooksTestCase, self).setUp()",14,4
openstack%2Fsalt-formula-nova~master~Ib997e216eb120e742155abe30dc4a2177adebe5b,openstack/salt-formula-nova,master,Ib997e216eb120e742155abe30dc4a2177adebe5b,Documentation fix,MERGED,2016-11-29 17:38:09.000000000,2016-11-29 17:44:26.000000000,2016-11-29 17:44:26.000000000,"[{'_account_id': 3}, {'_account_id': 20194}]","[{'number': 1, 'created': '2016-11-29 17:38:09.000000000', 'files': ['nova/meta/sphinx.yml'], 'web_link': 'https://opendev.org/openstack/salt-formula-nova/commit/d1d4b2d156959b6f0058fef83e7aad05c06a6ff3', 'message': 'Documentation fix\n\nChange-Id: Ib997e216eb120e742155abe30dc4a2177adebe5b\n'}]",0,404358,d1d4b2d156959b6f0058fef83e7aad05c06a6ff3,6,2,1,20195,,,0,"Documentation fix

Change-Id: Ib997e216eb120e742155abe30dc4a2177adebe5b
",git fetch https://review.opendev.org/openstack/salt-formula-nova refs/changes/58/404358/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/meta/sphinx.yml'],1,d1d4b2d156959b6f0058fef83e7aad05c06a6ff3,, {%- if compute.reserved_host_memory_mb is defined %} {%- endif %},,2,0
openstack%2Fcharm-nova-compute~master~I2143861de903260cdf7c7f59a9f891e548339268,openstack/charm-nova-compute,master,I2143861de903260cdf7c7f59a9f891e548339268,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:33:10.000000000,2016-11-29 17:43:37.000000000,2016-11-29 17:43:37.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8031c3a1cd2c8b8f45509299c27c404c59c46982', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I2143861de903260cdf7c7f59a9f891e548339268\n'}, {'number': 2, 'created': '2016-11-23 21:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a9cc4c1a39557dc6fd27b53bb933d46d86c44d11', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I2143861de903260cdf7c7f59a9f891e548339268\n'}, {'number': 3, 'created': '2016-11-28 20:56:23.000000000', 'files': ['tests/charmhelpers/contrib/amulet/utils.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-xenial-mitaka', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'tests/gate-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'tests/dfs-basic-trusty-kilo', 'tests/dfs-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b296e2a130553a7671dcba6b9ab6d0eaa9e45458', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I2143861de903260cdf7c7f59a9f891e548339268\n'}]",0,401444,b296e2a130553a7671dcba6b9ab6d0eaa9e45458,12,3,3,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: I2143861de903260cdf7c7f59a9f891e548339268
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/44/401444/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/contrib/amulet/utils.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-xenial-mitaka', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'tests/gate-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'tests/dfs-basic-trusty-kilo', 'tests/dfs-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml']",25,8031c3a1cd2c8b8f45509299c27c404c59c46982,update-amulet-defs, - zesty, - precise,156,66
openstack%2Fkolla-ansible~master~I0ecb9004941aca9a9520ba8e91b9f1bffaa66b61,openstack/kolla-ansible,master,I0ecb9004941aca9a9520ba8e91b9f1bffaa66b61,Remove fragments of docker files,MERGED,2016-11-23 11:55:38.000000000,2016-11-29 17:43:15.000000000,2016-11-29 17:43:15.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-11-23 11:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/178f2ed0637d52eaab5f089598c96ad0209277ea', 'message': 'Remove fragments of docker files\n\nChange-Id: I0ecb9004941aca9a9520ba8e91b9f1bffaa66b61\n'}, {'number': 2, 'created': '2016-11-23 11:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0762f08663731b6c0fdeb6316ae92b5a5f21b658', 'message': 'Remove fragments of docker files\n\nChange-Id: I0ecb9004941aca9a9520ba8e91b9f1bffaa66b61\n'}, {'number': 3, 'created': '2016-11-23 12:11:39.000000000', 'files': ['docker/base/set_configs.py', 'docker/base/apt_preferences.ubuntu', 'docker/base/curlrc', 'docker/base/start.sh', 'docker/base/kolla_bashrc', 'docker/base/kibana.yum.repo', 'docker/base/sudoers', 'docker/base/elasticsearch.repo', 'docker/base/oraclelinux-extras.repo', 'docker/base/sources.list.ubuntu', 'docker/base/apt_preferences.debian', 'docker/base/dpkg_reducing_disk_footprint', 'docker/base/Dockerfile.j2', 'docker/base/grafana.repo', 'docker/base/MariaDB.repo', 'tests/test_set_config.py', 'docker/base/influxdb.repo', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b9206f4493ecb7fc3708564be223d072e30a229', 'message': 'Remove fragments of docker files\n\nChange-Id: I0ecb9004941aca9a9520ba8e91b9f1bffaa66b61\n'}]",0,401222,5b9206f4493ecb7fc3708564be223d072e30a229,24,4,3,16233,,,0,"Remove fragments of docker files

Change-Id: I0ecb9004941aca9a9520ba8e91b9f1bffaa66b61
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/401222/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/curlrc', 'docker/base/start.sh', 'docker/base/kolla_bashrc', 'docker/base/kibana.yum.repo', 'docker/base/sudoers', 'docker/base/elasticsearch.repo', 'docker/base/oraclelinux-extras.repo', 'docker/base/sources.list.ubuntu', 'docker/base/apt_preferences.debian', 'docker/base/dpkg_reducing_disk_footprint', 'docker/base/Dockerfile.j2', 'docker/base/grafana.repo', 'docker/base/MariaDB.repo', 'docker/base/influxdb.repo', 'docker/base/sources.list.debian']",16,178f2ed0637d52eaab5f089598c96ad0209277ea,,,"# Default repos deb http://httpredir.debian.org/debian jessie main # jessie-backports deb http://httpredir.debian.org/debian jessie-backports main contrib # jessie-updates, previously known as 'volatile' deb http://httpredir.debian.org/debian jessie-updates main # debian security updates deb http://security.debian.org jessie/updates main # need some packages from testing not available in stable deb http://httpredir.debian.org/debian stretch main # Ceph repo deb http://download.ceph.com/debian-jewel/ jessie main # Maria DB repo deb [arch=amd64,i386] http://nyc2.mirrors.digitalocean.com/mariadb/repo/10.0/debian jessie main # Kibana repo deb http://packages.elastic.co/kibana/4.6/debian stable main # docker deb http://apt.dockerproject.org/repo debian-jessie main # InfluxDB repo deb https://repos.influxdata.com/debian jessie stable # Grafana repo deb https://packagecloud.io/grafana/stable/debian/ jessie main ",0,460
openstack%2Fcharm-neutron-openvswitch~master~Ie3c1f208dbb4497ad99f7f930457b7e8e057e6b3,openstack/charm-neutron-openvswitch,master,Ie3c1f208dbb4497ad99f7f930457b7e8e057e6b3,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:31:49.000000000,2016-11-29 17:43:02.000000000,2016-11-29 17:43:02.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/8f4a0d9f4e3c9cdd7f09f8eb31bdbfac0456515b', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ie3c1f208dbb4497ad99f7f930457b7e8e057e6b3\n'}, {'number': 2, 'created': '2016-11-28 20:54:52.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/73e2e7b5948003514aaa653b1b55c0c9b670c673', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ie3c1f208dbb4497ad99f7f930457b7e8e057e6b3\n'}]",0,401442,73e2e7b5948003514aaa653b1b55c0c9b670c673,10,3,2,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: Ie3c1f208dbb4497ad99f7f930457b7e8e057e6b3
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/42/401442/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",18,8f4a0d9f4e3c9cdd7f09f8eb31bdbfac0456515b,update-amulet-defs," # See LP 1484489 - this is to support <= 2.4.7 and >= 2.4.8 SSLCertificateChainFile /etc/apache2/ssl/{{ namespace }}/cert_{{ endpoint }} RequestHeader set X-Forwarded-Proto ""https""",,149,58
openstack%2Fpuppet-horizon~stable%2Fnewton~I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,openstack/puppet-horizon,stable/newton,I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,Switch ensure_packages to ensure_resources for python-memcache,MERGED,2016-11-29 15:07:14.000000000,2016-11-29 17:41:55.000000000,2016-11-29 17:14:17.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 15:07:14.000000000', 'files': ['manifests/init.pp', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fa5028787413bcb31852cb5f3758a7bb89d0cded', 'message': 'Switch ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n(cherry picked from commit 7cbcc78baa5ebe91d0dc990f5f1235a9ff2159e6)\n'}]",0,404261,fa5028787413bcb31852cb5f3758a7bb89d0cded,8,4,1,11166,,,0,"Switch ensure_packages to ensure_resources for python-memcache

The ensure_packages resource forces ensure to present yielding
duplicate definition errors if we override default Package ensure
to latest. We should solve this by using ensure_resources which
does not enforce this.

Change-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f
Closes-Bug: #1644906
Resolves: rhbz#1392583
(cherry picked from commit 7cbcc78baa5ebe91d0dc990f5f1235a9ff2159e6)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/61/404261/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/horizon_init_spec.rb']",2,fa5028787413bcb31852cb5f3758a7bb89d0cded,bug/1644906,," :ensure => 'present',",2,3
openstack%2Fnova~master~Ib2709faecc956c6e8195454b093b3b5ee3341f12,openstack/nova,master,Ib2709faecc956c6e8195454b093b3b5ee3341f12,placement: allocations for generic PCI devices,ABANDONED,2016-09-23 00:08:25.000000000,2016-11-29 17:41:41.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12171}, {'_account_id': 12299}, {'_account_id': 13692}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-09-23 00:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b247b655c6bd4c50ce2c1cb5249ec3164ef2d87', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 2, 'created': '2016-09-23 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/862fcefafb73a642d753f23aff426082657383e2', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 3, 'created': '2016-09-23 19:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/996d03206208cc8ea2f14af32ce230f6f2980c91', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 4, 'created': '2016-09-26 17:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6729f701aeda70c147826d68de23410ff8abce8', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 5, 'created': '2016-10-04 17:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/576ed9c5ba13893999da36da27f266e649d68d2b', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 6, 'created': '2016-10-04 19:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72b39b74e448aa1541a60a3007e3e0c653b10ab5', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 7, 'created': '2016-10-07 16:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/065f1e7a40e34799cfb4329b6774472eb130c76f', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 8, 'created': '2016-10-12 23:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46cb3149647709eb773eaf5578d32b9b947754be', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}, {'number': 9, 'created': '2016-11-14 00:16:24.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/926c8159e50f8cc2b003325e222d9d4a65879573', 'message': 'placement: allocations for generic PCI devices\n\nAdds functionality for tracking allocations for instances that are\nconsuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough\ndevices. Note that this does not handle nested PCI devices like SR-IOV\nPF/VF relationships. This will come in future patches.\n\nChange-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12\nblueprint: inventory-allocations-ocata\n'}]",7,375168,926c8159e50f8cc2b003325e222d9d4a65879573,104,20,9,7,,,0,"placement: allocations for generic PCI devices

Adds functionality for tracking allocations for instances that are
consuming ""generic"" -- i.e.  dev_type == STANDARD) PCI passthrough
devices. Note that this does not handle nested PCI devices like SR-IOV
PF/VF relationships. This will come in future patches.

Change-Id: Ib2709faecc956c6e8195454b093b3b5ee3341f12
blueprint: inventory-allocations-ocata
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/375168/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/compute/resource_tracker.py']",5,4b247b655c6bd4c50ce2c1cb5249ec3164ef2d87,bp/inventory-allocations-ocata," pci_devs = self.pci_tracker.pci_devs else: pci_devs = objects.PciDeviceList() self.compute_node, instance, pci_devs, sign)"," self.compute_node, instance, sign)",88,26
openstack%2Fpuppet-openstacklib~master~I904be6d35ee828024f7689adf06804346fbae1ca,openstack/puppet-openstacklib,master,I904be6d35ee828024f7689adf06804346fbae1ca,Create multiple databases with same db username.,ABANDONED,2016-11-29 15:28:54.000000000,2016-11-29 17:39:32.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2016-11-29 15:28:54.000000000', 'files': ['manifests/db/mysql/host_access.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/d0ec25b7a323f2d0f7797b7f86779688ec0d1522', 'message': 'Create multiple databases with same db username.\n\nSince Mitaka nova uses two mysql databases. It is common to have two databases\nfor nova with the same username\n\nChange-Id: I904be6d35ee828024f7689adf06804346fbae1ca\nCloses-bug: #1612093\n'}]",0,404277,d0ec25b7a323f2d0f7797b7f86779688ec0d1522,4,2,1,17505,,,0,"Create multiple databases with same db username.

Since Mitaka nova uses two mysql databases. It is common to have two databases
for nova with the same username

Change-Id: I904be6d35ee828024f7689adf06804346fbae1ca
Closes-bug: #1612093
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/77/404277/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db/mysql/host_access.pp'],1,d0ec25b7a323f2d0f7797b7f86779688ec0d1522,bug/1612093," mysql_user { ""${user}@${host}/${database}"": require => Mysql_user[""${user}@${host}/${database}""],"," mysql_user { ""${user}@${host}"": require => Mysql_user[""${user}@${host}""],",2,2
openstack%2Fcharm-nova-cloud-controller~master~I42776be9284b0eee2fd58b62b0269a5a3c556453,openstack/charm-nova-cloud-controller,master,I42776be9284b0eee2fd58b62b0269a5a3c556453,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:32:39.000000000,2016-11-29 17:32:09.000000000,2016-11-29 17:32:09.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c32292306068f6ad5bcb67a6a2f811f208a0ff05', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I42776be9284b0eee2fd58b62b0269a5a3c556453\n'}, {'number': 2, 'created': '2016-11-23 21:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9654150517cbd60cba3cc0e78a0d9668ea2b745c', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I42776be9284b0eee2fd58b62b0269a5a3c556453\n'}, {'number': 3, 'created': '2016-11-28 11:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/d0068eafe7cac8ca3dd7c3c72080cb40260f1d5c', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I42776be9284b0eee2fd58b62b0269a5a3c556453\n'}, {'number': 4, 'created': '2016-11-28 20:55:45.000000000', 'files': ['tests/charmhelpers/contrib/amulet/utils.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-xenial-mitaka', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'tests/gate-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'tests/dfs-basic-trusty-kilo', 'tests/dfs-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/24df5f451dde42b2a83db8c4c779cfbc612cc2c9', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I42776be9284b0eee2fd58b62b0269a5a3c556453\n'}]",0,401443,24df5f451dde42b2a83db8c4c779cfbc612cc2c9,20,4,4,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: I42776be9284b0eee2fd58b62b0269a5a3c556453
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/43/401443/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/contrib/amulet/utils.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-xenial-mitaka', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'tests/gate-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'tests/dfs-basic-trusty-kilo', 'tests/dfs-basic-trusty-icehouse', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml']",26,c32292306068f6ad5bcb67a6a2f811f208a0ff05,update-amulet-defs, - zesty, - precise,159,71
openstack%2Fcharm-glance~master~I31ca7f79c5b99f3024162f7e699e20dee5b46f6d,openstack/charm-glance,master,I31ca7f79c5b99f3024162f7e699e20dee5b46f6d,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:22:55.000000000,2016-11-29 17:26:05.000000000,2016-11-29 17:26:05.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f1321a0a8b27cff8a46b95e6247b1df1a92ce4cb', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I31ca7f79c5b99f3024162f7e699e20dee5b46f6d\n'}, {'number': 2, 'created': '2016-11-28 20:49:30.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-xenial-ocata', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml', 'charmhelpers/contrib/openstack/neutron.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/cf5f820c354d8b7737bc1c97209c519dfcdebaa8', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: I31ca7f79c5b99f3024162f7e699e20dee5b46f6d\n'}]",0,401432,cf5f820c354d8b7737bc1c97209c519dfcdebaa8,12,4,2,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: I31ca7f79c5b99f3024162f7e699e20dee5b46f6d
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/32/401432/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-xenial-ocata', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml']",17,f1321a0a8b27cff8a46b95e6247b1df1a92ce4cb,update-amulet-defs, - zesty, - precise,147,57
openstack%2Fcharm-keystone~master~Ia81b03da3f2d4c5a36a147c152123b490843c0f6,openstack/charm-keystone,master,Ia81b03da3f2d4c5a36a147c152123b490843c0f6,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:24:31.000000000,2016-11-29 17:25:59.000000000,2016-11-29 17:25:59.000000000,"[{'_account_id': 3}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/ec2df53ed8eaa43a62912b2b372cba132186d749', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ia81b03da3f2d4c5a36a147c152123b490843c0f6\n'}, {'number': 2, 'created': '2016-11-24 15:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3e6662c1654e227598ff7af7d26e2715f4451f9e', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ia81b03da3f2d4c5a36a147c152123b490843c0f6\n'}, {'number': 3, 'created': '2016-11-28 20:51:52.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'tests/charmhelpers/core/hookenv.py', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-trusty-icehouse', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'tests/dfs-basic-trusty-kilo', 'tests/dfs-basic-trusty-icehouse', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9057c27b8fa8cf13fd7b707ccff9f8a5377051a2', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ia81b03da3f2d4c5a36a147c152123b490843c0f6\n'}]",0,401435,9057c27b8fa8cf13fd7b707ccff9f8a5377051a2,15,5,3,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: Ia81b03da3f2d4c5a36a147c152123b490843c0f6
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/35/401435/3 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'tests/charmhelpers/core/hookenv.py', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-trusty-icehouse', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'tests/dfs-basic-trusty-kilo', 'tests/dfs-basic-trusty-icehouse', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml']",27,ec2df53ed8eaa43a62912b2b372cba132186d749,update-amulet-defs, - zesty, - precise,159,67
openstack%2Ffreezer-dr~stable%2Fnewton~Iff395ad887f733245da338ec707b862a8ec42d8b,openstack/freezer-dr,stable/newton,Iff395ad887f733245da338ec707b862a8ec42d8b,Change according to preferred word choice,ABANDONED,2016-11-29 09:22:06.000000000,2016-11-29 17:25:10.000000000,,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 20835}, {'_account_id': 21644}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-11-29 09:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/9dd355d682645c9b2d53fde8bb315805d962a3de', 'message': 'Change according to preferred word choice\n\nAccording to preferred word choice document [1] we should use only\n""OpenStack"" term in our guides, READme documents and so on.\n\nThis patch fix our docs and other files according to these requirements.\n\n[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html\n\nChange-Id: Iff395ad887f733245da338ec707b862a8ec42d8b\n'}, {'number': 2, 'created': '2016-11-29 14:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/a6f462e527aff9a20c9417607895b65286c3791c', 'message': 'Change according to preferred word choice\n\nAccording to preferred word choice document [1] we should use only\n""OpenStack"" term in our guides, READme documents and so on.\n\nThis patch fix our docs and other files according to these requirements.\n\n[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html\n\nChange-Id: Iff395ad887f733245da338ec707b862a8ec42d8b\n'}, {'number': 3, 'created': '2016-11-29 16:59:43.000000000', 'files': ['freezer_dr/common/config.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/c2f9d93f0d75ac1f9c55fdfc56aeefbe9ec65ef1', 'message': 'Change according to preferred word choice\n\nAccording to preferred word choice document [1] we should use only\n""OpenStack"" term in our guides, READme documents and so on.\n\nThis patch fix our docs and other files according to these requirements.\n\n[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html\n\nChange-Id: Iff395ad887f733245da338ec707b862a8ec42d8b\n'}]",0,404106,c2f9d93f0d75ac1f9c55fdfc56aeefbe9ec65ef1,11,8,3,22405,,,0,"Change according to preferred word choice

According to preferred word choice document [1] we should use only
""OpenStack"" term in our guides, READme documents and so on.

This patch fix our docs and other files according to these requirements.

[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html

Change-Id: Iff395ad887f733245da338ec707b862a8ec42d8b
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/06/404106/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_dr/common/config.py', 'etc/freezer-dr.conf.sample', 'README.rst']",3,9dd355d682645c9b2d53fde8bb315805d962a3de,fix-word-choice,"freezer-dr, OpenStack Compute node High Available provides compute node high availability for OpenStack.1. Any monitoring system to monitor the compute nodes (currently we support only native OpenStack services status)","freezer-dr, Openstack Compute node High Available provides compute node high availability for OpenStack.1. Any monitoring system to monitor the compute nodes (currently we support only native openstack services status)",27,27
openstack%2Fcharm-ceph-radosgw~master~Ib402df72adf294dac1c565b96c1432bf5e65bf80,openstack/charm-ceph-radosgw,master,Ib402df72adf294dac1c565b96c1432bf5e65bf80,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 21:19:05.000000000,2016-11-29 17:23:16.000000000,2016-11-29 17:23:16.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 21:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/20e1b18aef65dcf069e2887f2b6da878b9bde444', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ib402df72adf294dac1c565b96c1432bf5e65bf80\n'}, {'number': 2, 'created': '2016-11-23 21:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/51a83d0a7f18ba7118ffa7d56373476db13a73c7', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ib402df72adf294dac1c565b96c1432bf5e65bf80\n'}, {'number': 3, 'created': '2016-11-28 20:47:55.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/8541b2946761a7fe7062554fedf0ba59a0fcb833', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ib402df72adf294dac1c565b96c1432bf5e65bf80\n'}]",0,401426,8541b2946761a7fe7062554fedf0ba59a0fcb833,13,3,3,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: Ib402df72adf294dac1c565b96c1432bf5e65bf80
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/26/401426/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/gate-basic-xenial-ocata', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'tests/gate-basic-zesty-ocata', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'tests/gate-basic-yakkety-newton', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf']",17,20e1b18aef65dcf069e2887f2b6da878b9bde444,update-amulet-defs," # See LP 1484489 - this is to support <= 2.4.7 and >= 2.4.8 SSLCertificateChainFile /etc/apache2/ssl/{{ namespace }}/cert_{{ endpoint }} RequestHeader set X-Forwarded-Proto ""https""",,147,57
openstack%2Ftripleo-heat-templates~master~Ifeceb0c3ba01e81403903401ebfe69b9e9d7d2f2,openstack/tripleo-heat-templates,master,Ifeceb0c3ba01e81403903401ebfe69b9e9d7d2f2,"Revert ""Set NeutronL3HA to false when deploying DVR""",MERGED,2016-11-28 09:15:01.000000000,2016-11-29 17:22:25.000000000,2016-11-29 17:22:25.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6928}, {'_account_id': 10267}]","[{'number': 1, 'created': '2016-11-28 09:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3972154caa815a0705dbfbd604ac5ea379254aed', 'message': 'Revert ""Set NeutronL3HA to false when deploying DVR""\n\nDVR+HA routers are officially supported, so this patch can be reverted.\n\nThis reverts commit ce39dbac56123354576d2c31674e1b18535b0111.\n\nChange-Id: Ifeceb0c3ba01e81403903401ebfe69b9e9d7d2f2\n'}, {'number': 2, 'created': '2016-11-28 09:19:24.000000000', 'files': ['environments/neutron-ovs-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a849dd03c271a86b0e7990ac3c893794f5361e4', 'message': 'Revert ""Set NeutronL3HA to false when deploying DVR""\n\nDVR+HA routers are officially supported, so this patch can be reverted.\n\nThis reverts commit ce39dbac56123354576d2c31674e1b18535b0111.\n\nConflicts:\n    environments/neutron-ovs-dvr.yaml\n\nChange-Id: Ifeceb0c3ba01e81403903401ebfe69b9e9d7d2f2\n'}]",0,403575,8a849dd03c271a86b0e7990ac3c893794f5361e4,12,7,2,12444,,,0,"Revert ""Set NeutronL3HA to false when deploying DVR""

DVR+HA routers are officially supported, so this patch can be reverted.

This reverts commit ce39dbac56123354576d2c31674e1b18535b0111.

Conflicts:
    environments/neutron-ovs-dvr.yaml

Change-Id: Ifeceb0c3ba01e81403903401ebfe69b9e9d7d2f2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/403575/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-ovs-dvr.yaml'],1,3972154caa815a0705dbfbd604ac5ea379254aed,disable-l3-ha-for-dvr,," # L3 HA isn't supported for DVR enabled routers. If upgrading from a system # where L3 HA is enabled and has neutron routers configured, it is # recommended setting this value to true until such time all routers can be # migrated to DVR routers. Once migration of the routers is complete, # NeutronL3HA can be returned to false. All new systems should be deployed # with NeutronL3HA set to false. NeutronL3HA: false",0,8
openstack%2Fopenstack-ansible-os_neutron~master~I00e4884f8810fad31f40f82e6489e4dc775fdcac,openstack/openstack-ansible-os_neutron,master,I00e4884f8810fad31f40f82e6489e4dc775fdcac,Add region awareness to the neutron ha tool,MERGED,2016-11-21 16:55:53.000000000,2016-11-29 17:21:27.000000000,2016-11-29 17:21:27.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 10881}]","[{'number': 1, 'created': '2016-11-21 16:55:53.000000000', 'files': ['templates/neutron-ha-tool.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/81e5aa6fac01f3018d1e17ab09f20fe5d53aea20', 'message': 'Add region awareness to the neutron ha tool\n\nThis change adds region awareness to the neutron l3ha tool which allows\nfor l3 failover in the event the l3ha is not enaabled.\n\nChange-Id: I00e4884f8810fad31f40f82e6489e4dc775fdcac\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",1,400341,81e5aa6fac01f3018d1e17ab09f20fe5d53aea20,8,4,1,7353,,,0,"Add region awareness to the neutron ha tool

This change adds region awareness to the neutron l3ha tool which allows
for l3 failover in the event the l3ha is not enaabled.

Change-Id: I00e4884f8810fad31f40f82e6489e4dc775fdcac
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/41/400341/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron-ha-tool.py.j2'],1,81e5aa6fac01f3018d1e17ab09f20fe5d53aea20,, # Set the region if one is defined if 'OS_REGION_NAME' in os.environ: kclient_kwargs['region_name'] = os.environ['OS_REGION_NAME'],,3,0
openstack%2Fopenstack-ansible-os_neutron~master~I5727e2cb87e650d6348e46d120310b825af6127a,openstack/openstack-ansible-os_neutron,master,I5727e2cb87e650d6348e46d120310b825af6127a,Use new ansible package module to install distro packages.,MERGED,2016-11-28 16:16:16.000000000,2016-11-29 17:18:24.000000000,2016-11-29 17:18:24.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-11-28 16:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e43153e9847d5f067086bd0f8a3f5e218d6b707a', 'message': ""Use new ansible package module to install distro packages.\n\nFrom Newton onwards we're able to take advantage of\nthe Ansible package module, instead of conditionally\nexecuting the apt or yum module.\n\nImplementing this is an optimisation which we can do\nin master and backport to stable/newton,\nreducing the execution time.\n\nReference: http://docs.ansible.com/ansible/package_module.html\n\nChange-Id: I5727e2cb87e650d6348e46d120310b825af6127a\nRelated-Bug: #1642654\n""}, {'number': 2, 'created': '2016-11-28 16:21:52.000000000', 'files': ['tasks/neutron_install-yum.yml', 'tasks/neutron_install-apt.yml', 'tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e327ccd124c1f993c7451f9ccf6472b95f0ad5ec', 'message': ""Use new ansible package module to install distro packages.\n\nFrom Newton onwards we're able to take advantage of\nthe Ansible package module, instead of conditionally\nexecuting the apt or yum module.\n\nImplementing this is an optimisation which we can do\nin master and backport to stable/newton,\nreducing the execution time.\n\nReference: http://docs.ansible.com/ansible/package_module.html\n\nChange-Id: I5727e2cb87e650d6348e46d120310b825af6127a\nRelated-Bug: #1642654\n""}]",0,403785,e327ccd124c1f993c7451f9ccf6472b95f0ad5ec,13,3,2,22981,,,0,"Use new ansible package module to install distro packages.

From Newton onwards we're able to take advantage of
the Ansible package module, instead of conditionally
executing the apt or yum module.

Implementing this is an optimisation which we can do
in master and backport to stable/newton,
reducing the execution time.

Reference: http://docs.ansible.com/ansible/package_module.html

Change-Id: I5727e2cb87e650d6348e46d120310b825af6127a
Related-Bug: #1642654
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/85/403785/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/neutron_install-yum.yml', 'tasks/neutron_install-apt.yml', 'tasks/neutron_install.yml']",3,e43153e9847d5f067086bd0f8a3f5e218d6b707a,bug/1642654,"- name: Ensure apt cache is up to date apt: update_cache: yes cache_valid_time: ""{{ cache_timeout }}"" when: - ansible_pkg_mgr == 'apt' - name: Add Ubuntu Cloud Archive key package package: name: ubuntu-cloud-keyring state: ""{{ neutron_package_state }}"" when: - neutron_uca_enable - ansible_pkg_mgr == 'apt' register: neutron_uca_add_keys tags: - add-apt-keys - name: Add Ubuntu Cloud Archive apt repository apt_repository: repo: ""{{ uca_repo }}"" state: present update_cache: yes register: neutron_uca_add_repo when: - neutron_uca_enable - ansible_pkg_mgr == 'apt' until: add_repo|success retries: 5 delay: 2 tags: - add-uca-repo - name: Install RDO package package: name: ""{{ rdo_package }}"" state: ""present"" register: install_cloud_rdo_package until: install_cloud_rdo_package | success retries: 5 delay: 2 when: - ansible_pkg_mgr == 'yum' - name: Install neutron distro packages package: name: ""{{ item }}"" state: ""{{ neutron_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ neutron_distro_packages }}"" - name: Install distro packages for LXB package: name: ""{{ item }}"" state: ""{{ neutron_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ neutron_lxb_distro_packages }}"" when: - neutron_services['neutron-linuxbridge-agent']['group'] in group_names - neutron_services['neutron-linuxbridge-agent'].service_en | bool - name: Install distro packages for OVS package: name: ""{{ item }}"" state: ""{{ neutron_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ neutron_ovs_distro_packages }}"" when: - neutron_services['neutron-openvswitch-agent']['group'] in group_names - neutron_services['neutron-openvswitch-agent'].service_en | bool - name: Install distro packages for LBaaS package: name: ""{{ item }}"" state: ""{{ neutron_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ neutron_lbaas_distro_packages }}"" when: - neutron_services['neutron-lbaasv2-agent']['group'] in group_names - neutron_lbaasv2 | bool - name: Install distro packages for VPNaaS package: name: ""{{ item }}"" state: ""{{ neutron_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ neutron_vpnaas_distro_packages }}"" when: - neutron_services['neutron-vpnaas-agent']['group'] in group_names - neutron_vpnaas | bool - name: Remove known problem packages distro: name: ""{{ item }}"" state: absent register: remove_packages until: remove_packages|success retries: 5 delay: 2 with_items: ""{{ neutron_remove_distro_packages }}""",- include: neutron_install-apt.yml when: ansible_pkg_mgr == 'apt' - include: neutron_install-yum.yml when: ansible_pkg_mgr == 'yum',114,204
openstack%2Fcharm-swift-proxy~master~If07720b261d7931e38b4cdb4f4b36dc3a6cc799b,openstack/charm-swift-proxy,master,If07720b261d7931e38b4cdb4f4b36dc3a6cc799b,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 18:11:18.000000000,2016-11-29 17:17:32.000000000,2016-11-29 17:17:32.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20797}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 18:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b1e367c7894092adc1d674dce7319121f891395e', 'message': 'Update amulet test definitions for xenial-newton\n\n- Sync charm helpers.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zappety-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if they exist.\n\nChange-Id: If07720b261d7931e38b4cdb4f4b36dc3a6cc799b\n'}, {'number': 2, 'created': '2016-11-23 18:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/bcfe996081a9e090f64f6a860643b30e78946a2f', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zappety-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if they exist.\n\nChange-Id: If07720b261d7931e38b4cdb4f4b36dc3a6cc799b\n'}, {'number': 3, 'created': '2016-11-23 18:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/ae773e9955be16a9aa7649f8512e25961dd05f0a', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if they exist.\n\nChange-Id: If07720b261d7931e38b4cdb4f4b36dc3a6cc799b\n'}, {'number': 4, 'created': '2016-11-23 20:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/bc8fe429f6590add3ed05f0927c3605d3ae1ab2e', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: If07720b261d7931e38b4cdb4f4b36dc3a6cc799b\n'}, {'number': 5, 'created': '2016-11-28 20:43:13.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-trusty-icehouse', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/147bbb18b4c189138fcb4d2ff81b899ec25699cf', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: If07720b261d7931e38b4cdb4f4b36dc3a6cc799b\n'}]",1,401371,147bbb18b4c189138fcb4d2ff81b899ec25699cf,17,4,5,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: If07720b261d7931e38b4cdb4f4b36dc3a6cc799b
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/71/401371/4 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'tests/gate-basic-trusty-kilo', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-trusty-icehouse', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-yakkety-newton']",22,b1e367c7894092adc1d674dce7319121f891395e,update-amulet-defs,#!/usr/bin/env python,#!/usr/bin/python,153,63
openstack%2Fvitrage~master~I23cd775f0b3aca477f85ff4851e416e8d042efdc,openstack/vitrage,master,I23cd775f0b3aca477f85ff4851e416e8d042efdc,change constants names,MERGED,2016-11-29 11:25:00.000000000,2016-11-29 17:16:29.000000000,2016-11-29 17:16:29.000000000,"[{'_account_id': 3}, {'_account_id': 18783}, {'_account_id': 19159}, {'_account_id': 19194}, {'_account_id': 20667}]","[{'number': 1, 'created': '2016-11-29 11:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/377b4a204486ed6719b98b44705492e5f22732fa', 'message': 'change constants names\n\nevent_action to graph_action\naction_type to datasource_action\n\nCloses-Bug: #1622966\n\nChange-Id: I23cd775f0b3aca477f85ff4851e416e8d042efdc\n'}, {'number': 2, 'created': '2016-11-29 12:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9b52ee24cf94cffd72c3c623e7836b316c9c2f91', 'message': 'change constants names\n\nevent_action to graph_action\naction_type to datasource_action\n\nCloses-Bug: #1622966\n\nChange-Id: I23cd775f0b3aca477f85ff4851e416e8d042efdc\n'}, {'number': 3, 'created': '2016-11-29 13:20:20.000000000', 'files': ['vitrage/common/constants.py', 'vitrage/tests/resources/mock_configurations/transformer/transformer_host_snapshot_static.json', 'vitrage/tests/resources/mock_configurations/driver/driver_stack_update_dynamic.json', 'vitrage/datasources/cinder/volume/driver.py', 'vitrage/datasources/static_physical/transformer.py', 'vitrage/datasources/neutron/port/transformer.py', 'vitrage/tests/resources/mock_configurations/driver/driver_zabbix_snapshot_dynamic.json', 'vitrage/tests/unit/datasources/nova/test_nova_host_transformer.py', 'vitrage/entity_graph/consistency/consistency_enforcer.py', 'vitrage/datasources/nova/instance/driver.py', 'vitrage/evaluator/actions/action_executor.py', 'vitrage/tests/resources/mock_configurations/driver/driver_zone_snapshot_dynamic.json', 'vitrage/tests/resources/mock_configurations/transformer/transformer_zone_snapshot_static.json', 'vitrage/evaluator/actions/evaluator_event_transformer.py', 'vitrage/datasources/nova/zone/driver.py', 'vitrage/datasources/static_physical/driver.py', 'vitrage/datasources/transformer_base.py', 'vitrage/datasources/cinder/volume/transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_zone_transformer.py', 'vitrage/datasources/heat/stack/driver.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_driver.py', 'vitrage/tests/unit/datasources/static_physical/test_static_physical_driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_volume_update_dynamic.json', 'vitrage/datasources/neutron/port/driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_inst_update_dynamic.json', 'vitrage_tempest_tests/tests/base_mock.py', 'vitrage/tests/functional/entity_graph/states/test_datasource_info_mapper.py', 'vitrage/tests/unit/entity_graph/processor/test_processor.py', 'vitrage/datasources/neutron/network/transformer.py', 'vitrage/entity_graph/processor/processor.py', 'vitrage/datasources/nova/instance/transformer.py', 'vitrage/tests/resources/mock_configurations/transformer/transformer_inst_snapshot_dynamic.json', 'vitrage/tests/functional/base.py', 'vitrage/datasources/heat/stack/transformer.py', 'vitrage/tests/resources/mock_configurations/driver/driver_host_snapshot_dynamic.json', 'vitrage/tests/unit/datasources/static/test_static_driver.py', 'vitrage/datasources/services.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_transformer.py', 'vitrage/datasources/zabbix/driver.py', 'vitrage/tests/unit/entity_graph/base.py', 'vitrage/tests/resources/mock_configurations/driver/driver_nagios_snapshot_dynamic.json', 'vitrage/tests/functional/evaluator/test_scenario_evaluator.py', 'vitrage/tests/resources/mock_configurations/driver/driver_stack_snapshot_dynamic.json', 'vitrage/datasources/static/driver.py', 'vitrage/tests/unit/evaluator/test_template_syntax_validator.py', 'vitrage/datasources/neutron/network/driver.py', 'vitrage/tests/unit/datasources/consistency/test_consistency_transformer.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_driver.py', 'vitrage/datasources/consistency/transformer.py', 'vitrage/tests/mocks/mock_driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_inst_snapshot_dynamic.json', 'vitrage/datasources/alarm_transformer_base.py', 'vitrage/tests/resources/mock_configurations/driver/driver_switch_snapshot_dynamic.json', 'vitrage/tests/functional/evaluator/test_action_executor.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_transformer.py', 'vitrage/datasources/nova/host/driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_volume_snapshot_dynamic.json', 'vitrage/datasources/alarm_driver_base.py', 'vitrage/datasources/driver_base.py', 'vitrage/tests/resources/mock_configurations/driver/driver_consistency_update_dynamic.json', 'vitrage/tests/unit/datasources/nova/test_nova_instance_transformer.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c7f2468981c43561938fbc725f57d761884a1c94', 'message': 'change constants names\n\nevent_action to graph_action\naction_type to datasource_action\n\nCloses-Bug: #1622966\n\nChange-Id: I23cd775f0b3aca477f85ff4851e416e8d042efdc\n'}]",22,404158,c7f2468981c43561938fbc725f57d761884a1c94,17,5,3,19122,,,0,"change constants names

event_action to graph_action
action_type to datasource_action

Closes-Bug: #1622966

Change-Id: I23cd775f0b3aca477f85ff4851e416e8d042efdc
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/58/404158/2 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/common/constants.py', 'vitrage/tests/resources/mock_configurations/transformer/transformer_host_snapshot_static.json', 'vitrage/tests/resources/mock_configurations/driver/driver_stack_update_dynamic.json', 'vitrage/datasources/cinder/volume/driver.py', 'vitrage/datasources/static_physical/transformer.py', 'vitrage/datasources/neutron/port/transformer.py', 'vitrage/tests/resources/mock_configurations/driver/driver_zabbix_snapshot_dynamic.json', 'vitrage/tests/unit/datasources/nova/test_nova_host_transformer.py', 'vitrage/entity_graph/consistency/consistency_enforcer.py', 'vitrage/datasources/nova/instance/driver.py', 'vitrage/evaluator/actions/action_executor.py', 'vitrage/tests/resources/mock_configurations/driver/driver_zone_snapshot_dynamic.json', 'vitrage/tests/resources/mock_configurations/transformer/transformer_zone_snapshot_static.json', 'vitrage/evaluator/actions/evaluator_event_transformer.py', 'vitrage/datasources/nova/zone/driver.py', 'vitrage/datasources/static_physical/driver.py', 'vitrage/datasources/transformer_base.py', 'vitrage/datasources/cinder/volume/transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_zone_transformer.py', 'vitrage/datasources/heat/stack/driver.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_driver.py', 'vitrage/tests/unit/datasources/static_physical/test_static_physical_driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_volume_update_dynamic.json', 'vitrage/datasources/neutron/port/driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_inst_update_dynamic.json', 'vitrage_tempest_tests/tests/base_mock.py', 'vitrage/tests/functional/entity_graph/states/test_datasource_info_mapper.py', 'vitrage/tests/unit/entity_graph/processor/test_processor.py', 'vitrage/datasources/neutron/network/transformer.py', 'vitrage/entity_graph/processor/processor.py', 'vitrage/datasources/nova/instance/transformer.py', 'vitrage/tests/resources/mock_configurations/transformer/transformer_inst_snapshot_dynamic.json', 'vitrage/tests/functional/base.py', 'vitrage/datasources/heat/stack/transformer.py', 'vitrage/tests/resources/mock_configurations/driver/driver_host_snapshot_dynamic.json', 'vitrage/tests/unit/datasources/static/test_static_driver.py', 'vitrage/datasources/services.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_transformer.py', 'vitrage/datasources/zabbix/driver.py', 'vitrage/tests/unit/entity_graph/base.py', 'vitrage/tests/resources/mock_configurations/driver/driver_nagios_snapshot_dynamic.json', 'vitrage/tests/functional/evaluator/test_scenario_evaluator.py', 'vitrage/tests/resources/mock_configurations/driver/driver_stack_snapshot_dynamic.json', 'vitrage/datasources/static/driver.py', 'vitrage/tests/unit/evaluator/test_template_syntax_validator.py', 'vitrage/datasources/neutron/network/driver.py', 'vitrage/tests/unit/datasources/consistency/test_consistency_transformer.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_driver.py', 'vitrage/datasources/consistency/transformer.py', 'vitrage/tests/mocks/mock_driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_inst_snapshot_dynamic.json', 'vitrage/datasources/alarm_transformer_base.py', 'vitrage/tests/resources/mock_configurations/driver/driver_switch_snapshot_dynamic.json', 'vitrage/tests/functional/evaluator/test_action_executor.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_transformer.py', 'vitrage/datasources/nova/host/driver.py', 'vitrage/tests/resources/mock_configurations/driver/driver_volume_snapshot_dynamic.json', 'vitrage/datasources/alarm_driver_base.py', 'vitrage/datasources/driver_base.py', 'vitrage/tests/resources/mock_configurations/driver/driver_consistency_update_dynamic.json', 'vitrage/tests/unit/datasources/nova/test_nova_instance_transformer.py']",61,377b4a204486ed6719b98b44705492e5f22732fa,heat,"from vitrage.common.constants import DatasourceActionfrom vitrage.common.constants import GraphAction datasource_action = event[DSProps.DATASOURCE_ACTION] if datasource_action == DatasourceAction.INIT_SNAPSHOT: self.assertEqual(GraphAction.CREATE_ENTITY, wrapper.action) elif datasource_action == DatasourceAction.SNAPSHOT: self.assertEqual(GraphAction.UPDATE_ENTITY, wrapper.action) self.assertEqual(GraphAction.DELETE_ENTITY, wrapper.action) elif event_type == 'compute.instance.create.start': self.assertEqual(GraphAction.CREATE_ENTITY, wrapper.action) else: self.assertEqual(GraphAction.UPDATE_ENTITY, wrapper.action)","from vitrage.common.constants import ActionTypefrom vitrage.common.constants import EventAction action_type = event[DSProps.ACTION_TYPE] if action_type == ActionType.INIT_SNAPSHOT: self.assertEqual(EventAction.CREATE_ENTITY, wrapper.action) elif action_type == ActionType.SNAPSHOT: self.assertEqual(EventAction.UPDATE_ENTITY, wrapper.action) self.assertEqual(EventAction.DELETE_ENTITY, wrapper.action) elif event_type == 'compute.instance.create.start': self.assertEqual(EventAction.CREATE_ENTITY, wrapper.action) else: self.assertEqual(EventAction.UPDATE_ENTITY, wrapper.action)",271,253
openstack%2Fopenstack-ansible-os_swift~master~Ic4ac593ec53fc6e7e420c0bd31975f1fa34fbb06,openstack/openstack-ansible-os_swift,master,Ic4ac593ec53fc6e7e420c0bd31975f1fa34fbb06,Use new ansible package module to install distro packages.,MERGED,2016-11-28 16:20:19.000000000,2016-11-29 17:16:23.000000000,2016-11-29 17:16:23.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-11-28 16:20:19.000000000', 'files': ['tasks/install-yum.yml', 'tasks/install-apt.yml', 'tasks/swift_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/7db10248f9901f6b47ad5abe24a69a3ae27693f4', 'message': ""Use new ansible package module to install distro packages.\n\nFrom Newton onwards we're able to take advantage of\nthe Ansible package module, instead of conditionally\nexecuting the apt or yum module.\n\nImplementing this is an optimisation which we can do\nin master and backport to stable/newton,\nreducing the execution time.\n\nReference: http://docs.ansible.com/ansible/package_module.html\n\nChange-Id: Ic4ac593ec53fc6e7e420c0bd31975f1fa34fbb06\nRelated-Bug: #1642654\n""}]",0,403786,7db10248f9901f6b47ad5abe24a69a3ae27693f4,7,3,1,22981,,,0,"Use new ansible package module to install distro packages.

From Newton onwards we're able to take advantage of
the Ansible package module, instead of conditionally
executing the apt or yum module.

Implementing this is an optimisation which we can do
in master and backport to stable/newton,
reducing the execution time.

Reference: http://docs.ansible.com/ansible/package_module.html

Change-Id: Ic4ac593ec53fc6e7e420c0bd31975f1fa34fbb06
Related-Bug: #1642654
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/86/403786/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install-yum.yml', 'tasks/install-apt.yml', 'tasks/swift_install.yml']",3,7db10248f9901f6b47ad5abe24a69a3ae27693f4,bug/1642654,"- name: Ensure apt cache is up to date apt: update_cache: yes cache_valid_time: ""{{ cache_timeout }}"" when: - ansible_pkg_mgr == 'apt' - name: Install RDO package package: name: ""{{ rdo_package }}"" state: ""present"" register: install_cloud_rdo_package until: install_cloud_rdo_package | success retries: 5 delay: 2 when: - ansible_pkg_mgr == 'yum' - name: Install distro packages package: name: ""{{ item }}"" state: ""{{ swift_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ swift_distro_packages }}""",- include: install-apt.yml static: no when: ansible_pkg_mgr == 'apt' - include: install-yum.yml static: no when: ansible_pkg_mgr == 'yum',26,65
openstack%2Fcharm-swift-storage~master~Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8,openstack/charm-swift-storage,master,Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8,"Update Amulet defs, series metadata and c-h sync",MERGED,2016-11-23 18:12:07.000000000,2016-11-29 17:16:17.000000000,2016-11-29 17:16:17.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-11-23 18:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/ad97c9f44678b6d1f6ad5f3773e330ead5ef6989', 'message': 'Update amulet test definitions for xenial-newton\n\n- Sync charm helpers.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zappety-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if they exist.\n\nChange-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8\n'}, {'number': 2, 'created': '2016-11-23 18:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/dac68264b539e791bd495030f35820ba7a8fd861', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zappety-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if they exist.\n\nChange-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8\n'}, {'number': 3, 'created': '2016-11-23 18:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/0d635924e8cab36a9289afbdcf23cd76e9dc38f6', 'message': 'Update Amulet defs and sync charmhelpers\n\n- Sync charm helpers.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Remove Precise-Icehouse Amulet test definitions if they exist.\n\nChange-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8\n'}, {'number': 4, 'created': '2016-11-23 20:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/2f961850ad7a9c9d49c22e39077ec97337e1d2cc', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8\n'}, {'number': 5, 'created': '2016-11-23 21:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/801f98fc6a72530383efddf3bd5874d96b2523c0', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8\n'}, {'number': 6, 'created': '2016-11-28 20:43:35.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-kilo', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-trusty-icehouse', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'tests/gate-basic-yakkety-newton', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/891064032221bd5193fc3fee1a8b75a077427508', 'message': 'Update Amulet defs, series metadata and c-h sync\n\n- Sync charm helpers if applicable.\n\n- Fix test executable hashbags for virtualenv prep.\n\n- Add Yakkety-Newton Amulet test definitions.\n\n- Prep Xenial-Ocata Amulet test definitions (not yet enabled).\n\n- Prep Zesty-Ocata Amulet test definitions (not yet enabled).\n\n- Add Zesty charm series metadata.\n\n- Remove Precise charm series metadata if present.\n\n- Remove Precise Amulet test definitions if present.\n\nChange-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8\n'}]",0,401372,891064032221bd5193fc3fee1a8b75a077427508,19,3,6,20635,,,0,"Update Amulet defs, series metadata and c-h sync

- Sync charm helpers if applicable.

- Fix test executable hashbags for virtualenv prep.

- Add Yakkety-Newton Amulet test definitions.

- Prep Xenial-Ocata Amulet test definitions (not yet enabled).

- Prep Zesty-Ocata Amulet test definitions (not yet enabled).

- Add Zesty charm series metadata.

- Remove Precise charm series metadata if present.

- Remove Precise Amulet test definitions if present.

Change-Id: Ibf3966e5c21549d467a27cc8f100a8bc5e04c4b8
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/72/401372/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-trusty-liberty', 'tests/gate-basic-xenial-ocata', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/core/hookenv.py', 'tests/gate-basic-trusty-mitaka', 'tests/gate-basic-xenial-newton', 'tests/gate-basic-trusty-kilo', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'tests/gate-basic-trusty-icehouse', 'tests/gate-basic-zesty-ocata', 'charmhelpers/core/host.py', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/gate-basic-yakkety-newton']",22,ad97c9f44678b6d1f6ad5f3773e330ead5ef6989,update-amulet-defs,#!/usr/bin/env python,#!/usr/bin/python,153,63
openstack%2Fkeystone~master~I22ad364cb4737df3ed086f78310f75f3099ab4c1,openstack/keystone,master,I22ad364cb4737df3ed086f78310f75f3099ab4c1,Don't invalidate all user tokens of roleless group,MERGED,2016-11-18 18:32:09.000000000,2016-11-29 17:15:40.000000000,2016-11-29 17:15:40.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 11022}, {'_account_id': 13478}, {'_account_id': 18338}, {'_account_id': 18464}]","[{'number': 1, 'created': '2016-11-18 18:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/47bf143ac8d154d46826918a878eab5bf28c0f83', 'message': ""Don't invalidate all user tokens of roleless group\n\nAs discussed in [1], deleting a group invalidates all user tokens\nwhich can flood the revocaiton event table if the deleted group\ncontained thousands of users in the group. This happens regardless\nof whether the group had any role assignment or not. This patch makes\nit so that only groups that had role assignments to a project or\ndomain can then invalidate user tokens, otherwise there is no need\nto revoke each user token because the group was not assigned any form\nof authorization to begin with.\n\n[1]: https://bugs.launchpad.net/keystone/+bug/1268751\n\nRelated Bug: #1268751\n\nChange-Id: I22ad364cb4737df3ed086f78310f75f3099ab4c1\n""}, {'number': 2, 'created': '2016-11-28 18:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/48a2bf8b83dcb294ed99fdbde63541e2d6a5d5ea', 'message': ""Don't invalidate all user tokens of roleless group\n\nAs discussed in [1], deleting a group invalidates all user tokens\nwhich can flood the revocation event table if the deleted group\ncontained thousands of users in the group. This happens regardless\nof whether the group had any role assignment or not. This patch makes\nit so that only groups that had role assignments to a project or\ndomain can then invalidate user tokens, otherwise there is no need\nto revoke each user token because the group was not assigned any form\nof authorization to begin with.\n\n[1]: https://bugs.launchpad.net/keystone/+bug/1268751\n\nRelated-Bug: #1268751\n\nChange-Id: I22ad364cb4737df3ed086f78310f75f3099ab4c1\n""}, {'number': 3, 'created': '2016-11-29 04:28:55.000000000', 'files': ['keystone/identity/core.py', 'keystone/tests/unit/test_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/df721d05bfa4c69f8540d6051912d2430ed06213', 'message': ""Don't invalidate all user tokens of roleless group\n\nAs discussed in [1], deleting a group invalidates all user tokens\nwhich can flood the revocation event table if the deleted group\ncontained thousands of users in the group. This happens regardless\nof whether the group had any role assignment or not. This patch makes\nit so that only groups that had role assignments to a project or\ndomain can then invalidate user tokens, otherwise there is no need\nto revoke each user token because the group was not assigned any form\nof authorization to begin with.\n\n[1]: https://bugs.launchpad.net/keystone/+bug/1268751\n\nRelated-Bug: #1268751\n\nChange-Id: I22ad364cb4737df3ed086f78310f75f3099ab4c1\n""}]",7,399728,df721d05bfa4c69f8540d6051912d2430ed06213,16,7,3,18464,,,0,"Don't invalidate all user tokens of roleless group

As discussed in [1], deleting a group invalidates all user tokens
which can flood the revocation event table if the deleted group
contained thousands of users in the group. This happens regardless
of whether the group had any role assignment or not. This patch makes
it so that only groups that had role assignments to a project or
domain can then invalidate user tokens, otherwise there is no need
to revoke each user token because the group was not assigned any form
of authorization to begin with.

[1]: https://bugs.launchpad.net/keystone/+bug/1268751

Related-Bug: #1268751

Change-Id: I22ad364cb4737df3ed086f78310f75f3099ab4c1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/399728/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/core.py'],1,47bf143ac8d154d46826918a878eab5bf28c0f83,bug/1268751, roles = self.assignment_api.list_role_assignments(group_id=group_id) # If the group has been created and has users but has no role # assignment for the group then we do not need to revoke all the users # tokens and can just delete the group. if roles: for uid in user_ids: self.emit_invalidate_user_token_persistence(uid), for uid in user_ids: self.emit_invalidate_user_token_persistence(uid),7,2
openstack%2Fnova~master~Idf0f20d711f015e9f1331d5f65397aca2d67951a,openstack/nova,master,Idf0f20d711f015e9f1331d5f65397aca2d67951a,libvirt: Call host connection callbacks asynchronously,MERGED,2016-11-04 17:08:28.000000000,2016-11-29 17:15:15.000000000,2016-11-24 19:36:48.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-11-04 17:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ab5c7f67a97297e97dc33177d65aca7a25f1192', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 2, 'created': '2016-11-07 10:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f60ebe708806a6adb5d02c84a2347d2e55761771', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 3, 'created': '2016-11-07 15:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31832c0c0cbbe14d66d1a68336c94aa2606e16be', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 4, 'created': '2016-11-08 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33b34b3cc0637b87e1386a633b379efe5e0ca342', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 5, 'created': '2016-11-08 16:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/640201131d709b60ef9b8587749eb68acf87871a', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 6, 'created': '2016-11-08 17:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/874c88f28dc9b9aa5834e4e5c466c3860734ddbd', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 7, 'created': '2016-11-09 15:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fab7fab4b0087fc1867b526a5db160a1926530bc', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the driver callback to enable/disable the compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}, {'number': 8, 'created': '2016-11-23 17:54:14.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14199b7e7083c36e081079cc4960542651bc4099', 'message': ""libvirt: Call host connection callbacks asynchronously\n\nHost.get_connection() does 2 types of job when initialising a new\nconnection:\n\n1. Register event handling callbacks on the connection itself.\n2. Call the _set_host_enabled in the driver to enable/disable the\n   compute service.\n\nThe first is essential to run before the connection is used for\nanything. The second needs only to run eventually once the connection\nis established.\n\nThis patch creates a new helper thread which runs connection up/down\ncallbacks asynchronously to the caller. This means that the caller of\nget_connection() returns as soon as the connection is usable, and the\ndriver callback happens concurrently. This is a minor improvement\ncurrently, but will be more useful when we add additional work to the\nconnection up/down event. It also means that the callback runs without\nholding _wrapped_conn_lock, which it doesn't need. This means the\ncallback itself can call get_connection() without deadlocking, and use\nthe connection which was just initialised.\n\nIn updating the callback logic, we also fix a minor bug: previously we\nwould not generate down/up events if we detected a failed connection\nand succeeded creating a new one on the first attempt. This is\ncurrently only of limited importance, as we are only marking the\nservice down or up for the scheduler, but could be more significant\nwhen we add additional work to the callback.\n\nChange-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a\n""}]",30,393869,14199b7e7083c36e081079cc4960542651bc4099,118,16,8,9555,,,0,"libvirt: Call host connection callbacks asynchronously

Host.get_connection() does 2 types of job when initialising a new
connection:

1. Register event handling callbacks on the connection itself.
2. Call the _set_host_enabled in the driver to enable/disable the
   compute service.

The first is essential to run before the connection is used for
anything. The second needs only to run eventually once the connection
is established.

This patch creates a new helper thread which runs connection up/down
callbacks asynchronously to the caller. This means that the caller of
get_connection() returns as soon as the connection is usable, and the
driver callback happens concurrently. This is a minor improvement
currently, but will be more useful when we add additional work to the
connection up/down event. It also means that the callback runs without
holding _wrapped_conn_lock, which it doesn't need. This means the
callback itself can call get_connection() without deadlocking, and use
the connection which was just initialised.

In updating the callback logic, we also fix a minor bug: previously we
would not generate down/up events if we detected a failed connection
and succeeded creating a new one on the first attempt. This is
currently only of limited importance, as we are only marking the
service down or up for the scheduler, but could be more significant
when we add additional work to the callback.

Change-Id: Idf0f20d711f015e9f1331d5f65397aca2d67951a
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/393869/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,2ab5c7f67a97297e97dc33177d65aca7a25f1192,bug/1421550, drvr._host._dispatch_conn_event(),,134,21
openstack%2Fpuppet-designate~master~I1011e890adeb36e6908af7c183f74161d442a777,openstack/puppet-designate,master,I1011e890adeb36e6908af7c183f74161d442a777,Deprecate host and port options,MERGED,2016-11-29 01:42:50.000000000,2016-11-29 17:14:23.000000000,2016-11-29 17:14:23.000000000,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 01:42:50.000000000', 'files': ['manifests/api.pp', 'spec/classes/designate_api_spec.rb', 'releasenotes/notes/deprecate_host_port_api_option-981d1234e56f2d98.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/9da7cb373dbef3c81ac5a1d75433e5eb1efceec5', 'message': 'Deprecate host and port options\n\nThe ""api_host"" and ""api_port"" options from group ""service:api"" have been deprecated\nin favor of the listen option setting.\n\nChange-Id: I1011e890adeb36e6908af7c183f74161d442a777\n'}]",0,403967,9da7cb373dbef3c81ac5a1d75433e5eb1efceec5,8,3,1,9414,,,0,"Deprecate host and port options

The ""api_host"" and ""api_port"" options from group ""service:api"" have been deprecated
in favor of the listen option setting.

Change-Id: I1011e890adeb36e6908af7c183f74161d442a777
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/67/403967/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/designate_api_spec.rb', 'releasenotes/notes/deprecate_host_port_api_option-981d1234e56f2d98.yaml']",3,9da7cb373dbef3c81ac5a1d75433e5eb1efceec5,deprecate_port_host_api,"--- features: - Add ""listen"" option from group ""service:api"". deprecations: - The ""api_host"" and ""api_port"" options from group ""service:api"" are deprecated, please use ""listen"" option from group ""service:api"" instead. ",,43,23
openstack%2Fopenstack-ansible-galera_client~master~Ib88458d7de3f1ef4e14921b01966a79d3919fd9d,openstack/openstack-ansible-galera_client,master,Ib88458d7de3f1ef4e14921b01966a79d3919fd9d,Allow jinja conditionals in package install tasks,MERGED,2016-11-20 17:34:20.000000000,2016-11-29 17:10:17.000000000,2016-11-29 17:10:17.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2016-11-20 17:34:20.000000000', 'files': ['tasks/galera_client_install_apt.yml', 'tasks/galera_client_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/4d0d568505dc1cf9faf93a15d033085e52df5952', 'message': 'Allow jinja conditionals in package install tasks\n\nWhen a jinja conditional like this is used to override the package\nlist:\ngalera_client_distro_packages:\n  - mariadb-client\n  - ""{{ \'libmariadbclient-dev\' if \'repo_all\' in group_names else None }}""\n\nNote: I also tried \'\' instead of None\n\nThe task fails because it cannot install a package named \'\'. It does\nnot skip the empty string. This makes it impossible to conditionally\ninstall a package with the OSA tasks, because the override cannot be\ndone using group_vars due to Ansible\'s variable precedence prioritizing\nrole vars above group vars.\n\nThis change simply allows the package install task to skip empty strings,\nenabling the above override.\n\nIf this pattern is accepted I intend to implement it across all of OSA\'s\npackage install tasks.\n\nChange-Id: Ib88458d7de3f1ef4e14921b01966a79d3919fd9d\n'}]",0,399984,4d0d568505dc1cf9faf93a15d033085e52df5952,10,4,1,17799,,,0,"Allow jinja conditionals in package install tasks

When a jinja conditional like this is used to override the package
list:
galera_client_distro_packages:
  - mariadb-client
  - ""{{ 'libmariadbclient-dev' if 'repo_all' in group_names else None }}""

Note: I also tried '' instead of None

The task fails because it cannot install a package named ''. It does
not skip the empty string. This makes it impossible to conditionally
install a package with the OSA tasks, because the override cannot be
done using group_vars due to Ansible's variable precedence prioritizing
role vars above group vars.

This change simply allows the package install task to skip empty strings,
enabling the above override.

If this pattern is accepted I intend to implement it across all of OSA's
package install tasks.

Change-Id: Ib88458d7de3f1ef4e14921b01966a79d3919fd9d
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/84/399984/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_client_install_apt.yml', 'tasks/galera_client_install_yum.yml']",2,4d0d568505dc1cf9faf93a15d033085e52df5952,skip-empty-package," when: ""{{ item | length > 0 }}""",,2,0
openstack%2Fcharm-ceph-osd~master~I0daa514958799cf5899375335e8e9e684df27704,openstack/charm-ceph-osd,master,I0daa514958799cf5899375335e8e9e684df27704,Add action to list unmounted disks,MERGED,2016-11-09 17:28:40.000000000,2016-11-29 17:08:13.000000000,2016-11-29 17:08:13.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2016-11-09 17:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b14a36ebf6fa191ef8e2bcd259d8b6e585833e59', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 2, 'created': '2016-11-09 18:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/7b308853d348b2bc54dd8367954fec0fc81baf44', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 3, 'created': '2016-11-15 16:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/f2da285612d8a69b585e37ed05d3b09e3eb73a8d', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nThis also includes a git-sync to pull in charms.ceph\nchanges.\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 4, 'created': '2016-11-15 16:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0097a4528db5e0013a2eb9c2b5c626eb293dffd6', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nThis also includes a git-sync to pull in charms.ceph\nchanges.\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 5, 'created': '2016-11-28 17:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/a12cba6e0025f00e836f7e5f9d8b71abedd5874d', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nThis also includes a git-sync to pull in charms.ceph\nchanges.\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 6, 'created': '2016-11-28 18:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/c582c5148f194757f42038a06fc092e835451899', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nThis also includes a git-sync to pull in charms.ceph\nchanges.\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 7, 'created': '2016-11-28 19:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4668f08ae392641acdf6ab67274dd990a2cf8b5a', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nThis also includes a git-sync to pull in charms.ceph\nchanges.\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\n'}, {'number': 8, 'created': '2016-11-28 21:53:20.000000000', 'files': ['lib/ceph/ceph_helpers.py', 'requirements.txt', 'actions/list_disks.py', 'lib/ceph/__init__.py', 'actions/list-disks', 'hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/2dfbb5fe4712055cf09bef5aaa310b516d613dd6', 'message': 'Add action to list unmounted disks\n\nThis action is fairly simple in that it returns\na list of unmounted disks\n\nThis also includes a git-sync to pull in charms.ceph\nchanges.\n\nChange-Id: I0daa514958799cf5899375335e8e9e684df27704\nCloses-Bug: 1645481\n'}]",2,395734,2dfbb5fe4712055cf09bef5aaa310b516d613dd6,38,6,8,20634,,,0,"Add action to list unmounted disks

This action is fairly simple in that it returns
a list of unmounted disks

This also includes a git-sync to pull in charms.ceph
changes.

Change-Id: I0daa514958799cf5899375335e8e9e684df27704
Closes-Bug: 1645481
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/34/395734/5 && git format-patch -1 --stdout FETCH_HEAD,"['actions/list_disks.py', 'actions/list-disks', 'hooks/install', 'actions.yaml']",4,b14a36ebf6fa191ef8e2bcd259d8b6e585833e59,bug/1645481,list-disks: description: List the unmounted disk on the specified unit, ,53,2
openstack%2Fcharm-ceph-mon~master~I87b68795c87135c879e0ac93ed3bfae3d01807fd,openstack/charm-ceph-mon,master,I87b68795c87135c879e0ac93ed3bfae3d01807fd,Install lockfile-progs when related to nagios,MERGED,2016-11-29 16:06:40.000000000,2016-11-29 17:07:31.000000000,2016-11-29 17:04:01.000000000,"[{'_account_id': 3}, {'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-11-29 16:06:40.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a86543bedfb222812fdda38fd872c8be5214e958', 'message': 'Install lockfile-progs when related to nagios\n\nThe nrpe ceph status script relies on lockfile-create, but\nlockfile-progs (package containing lockfile-create) was missing from\nthe install. Install it when related to nagios, and on upgrade-charm\nwhen related to nagios.\n\nChange-Id: I87b68795c87135c879e0ac93ed3bfae3d01807fd\nCloses-Bug: #1629104\n'}]",0,404301,a86543bedfb222812fdda38fd872c8be5214e958,8,3,1,20797,,,0,"Install lockfile-progs when related to nagios

The nrpe ceph status script relies on lockfile-create, but
lockfile-progs (package containing lockfile-create) was missing from
the install. Install it when related to nagios, and on upgrade-charm
when related to nagios.

Change-Id: I87b68795c87135c879e0ac93ed3bfae3d01807fd
Closes-Bug: #1629104
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/01/404301/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,a86543bedfb222812fdda38fd872c8be5214e958,bug/1629104,"from mock import patch, MagicMock, DEFAULT def test_nrpe_dependency_installed(self): with patch.multiple(ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT) as mocks: ceph_hooks.update_nrpe_config() mocks[""apt_install""].assert_called_once_with( [""python-dbus"", ""lockfile-progs""]) def test_upgrade_charm_with_nrpe_relation_installs_dependencies(self): with patch.multiple( ceph_hooks, apt_install=DEFAULT, rsync=DEFAULT, log=DEFAULT, write_file=DEFAULT, nrpe=DEFAULT, emit_cephconf=DEFAULT, upgrade_keys=DEFAULT, mon_relation_joined=DEFAULT, is_relation_made=DEFAULT) as mocks, patch( ""charmhelpers.contrib.hardening.harden.config""): mocks[""is_relation_made""].return_value = True ceph_hooks.upgrade_charm() mocks[""apt_install""].assert_called_with( [""python-dbus"", ""lockfile-progs""])","from mock import patch, MagicMock",34,2
openstack%2Ftripleo-ci~master~Ibc480c59d61a968938368c85fddd01f5a21793ba,openstack/tripleo-ci,master,Ibc480c59d61a968938368c85fddd01f5a21793ba,DONT REVIEW: Test timeout,ABANDONED,2016-11-03 17:03:13.000000000,2016-11-29 16:59:40.000000000,,"[{'_account_id': 3}, {'_account_id': 10969}]","[{'number': 1, 'created': '2016-11-03 17:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/86850f795bbbfde2160ea5a6778c5bd9641cf66e', 'message': 'DONT REVIEW: Test\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 2, 'created': '2016-11-03 17:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/767753cd12437ed3d6844a41e271acecf3539a45', 'message': 'DONT REVIEW: Test\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 3, 'created': '2016-11-17 19:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23b7e17aeea675331b1814586f8a9cc82f03784a', 'message': 'DONT REVIEW: Test\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 4, 'created': '2016-11-18 19:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e00fef64b7c77814dcb23f5cdb465c516d307159', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 5, 'created': '2016-11-18 23:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/006d0e042345a96bf8539fd46c5bd00481803a9b', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 6, 'created': '2016-11-19 03:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5848c83b24cfb3ca5f3e74bd2e433232e2b2dc63', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 7, 'created': '2016-11-19 10:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/69670c3231455a4622864955b0e1f6d7819febf5', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 8, 'created': '2016-11-19 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/22b7be71bb32d5a84a3bd46a9f28d7a98ae7b053', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 9, 'created': '2016-11-20 09:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/86f4bf717bd3a6ef336446785f1da01cf968de78', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\n'}, {'number': 10, 'created': '2016-11-21 17:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bcc94ba05988d2332c97c9da73366d27a83f1dd3', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\nDepends-On: I776cb8bc952c81b98cf0b1124eee9f28a92eb7b6\n'}, {'number': 11, 'created': '2016-11-21 18:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23ddf39ec373a7521e0463eb5ce834e3f512606d', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\nDepends-On: I776cb8bc952c81b98cf0b1124eee9f28a92eb7b6\n'}, {'number': 12, 'created': '2016-11-22 13:13:47.000000000', 'files': ['scripts/common_functions.sh', 'scripts/deploy.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c604837ea37d04c5073e6c6c640b468be5cb7413', 'message': 'DONT REVIEW: Test timeout\n\nChange-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba\nDepends-On: Ibf06dc83d697a7c5d6b8f3ae84334a53b7c49c7c\n'}]",0,393415,c604837ea37d04c5073e6c6c640b468be5cb7413,42,2,12,10969,,,0,"DONT REVIEW: Test timeout

Change-Id: Ibc480c59d61a968938368c85fddd01f5a21793ba
Depends-On: Ibf06dc83d697a7c5d6b8f3ae84334a53b7c49c7c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/393415/11 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/deploy.sh', 'toci_gate_test.sh']",2,86850f795bbbfde2160ea5a6778c5bd9641cf66e,timeouts,"echo ""DEVSTACK_GATE_TIMEOUT: $DEVSTACK_GATE_TIMEOUT"" ||: echo ""REMAINING_TIME: $REMAINING_TIME"" ||: TIMEOUT_SECS=$(($REMAINING_TIME*60 - 720)) || TIMEOUT_SECS=10200 echo ""TIMEOUT_SECS: $TIMEOUT_SECS""# timeout -s 15 -k $(($TIMEOUT_SECS + 2)) $TIMEOUT_SECS", TIMEOUT_SECS=$((DEVSTACK_GATE_TIMEOUT*60)),7,3
openstack%2Fopenstack-ansible-lxc_hosts~master~Ia538dc3baea78397b0b13ac4effb6ff1a40fc03c,openstack/openstack-ansible-lxc_hosts,master,Ia538dc3baea78397b0b13ac4effb6ff1a40fc03c,Remove unnecessary symlinks from container cache,MERGED,2016-11-29 13:41:42.000000000,2016-11-29 16:57:47.000000000,2016-11-29 16:57:47.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2016-11-29 13:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e436d1df7407027ddc0eac8dc51efa0a48c91feb', 'message': ""Remove unnecessary symlinks from container cache\n\nAs far as I can find these symlinks are unnecessary. They\nappear to have originally been sourced from the Archlinux\n'Linux Containers' wiki page, from where it's now been\nremoved with comments noted in [1].\n\nThe bits that are necessary are all included in the LXC\ntemplate on a per distribution basis and we now use the\ndownload template in which everything has been prepared.\n\n[1] https://github.com/lxc/lxc/pull/1011\n\nChange-Id: Ia538dc3baea78397b0b13ac4effb6ff1a40fc03c\n""}, {'number': 2, 'created': '2016-11-29 13:43:18.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu-14.04.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/684a88ae157dfce74c4c68368022d7d3dff84eae', 'message': ""Remove unnecessary symlinks from container cache\n\nAs far as I can find these symlinks are unnecessary. They\nappear to have originally been sourced from the Archlinux\n'Linux Containers' wiki page, from where it's now been\nremoved. There are some noteworthy comments in [1] which\nwas cited in the wiki page removal.\n\nThe bits that are necessary are all included in the LXC\ntemplate on a per distribution basis and we now use the\ndownload template in which everything has been prepared.\n\n[1] https://github.com/lxc/lxc/pull/1011\n\nChange-Id: Ia538dc3baea78397b0b13ac4effb6ff1a40fc03c\n""}]",0,404219,684a88ae157dfce74c4c68368022d7d3dff84eae,8,3,2,6816,,,0,"Remove unnecessary symlinks from container cache

As far as I can find these symlinks are unnecessary. They
appear to have originally been sourced from the Archlinux
'Linux Containers' wiki page, from where it's now been
removed. There are some noteworthy comments in [1] which
was cited in the wiki page removal.

The bits that are necessary are all included in the LXC
template on a per distribution basis and we now use the
download template in which everything has been prepared.

[1] https://github.com/lxc/lxc/pull/1011

Change-Id: Ia538dc3baea78397b0b13ac4effb6ff1a40fc03c
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/19/404219/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu-14.04.yml', 'vars/ubuntu-16.04.yml']",3,e436d1df7407027ddc0eac8dc51efa0a48c91feb,,," if [ -f ""/usr/lib/systemd/system/poweroff.target"" ];then ln -sf /usr/lib/systemd/system/poweroff.target /etc/systemd/system/sigpwr.target || true fi ln -s /dev/null /etc/systemd/system/systemd-udevd.service || true ln -s /dev/null /etc/systemd/system/systemd-udevd-control.socket || true ln -s /dev/null /etc/systemd/system/systemd-udevd-kernel.socket || true ln -s /dev/null /etc/systemd/system/proc-sys-fs-binfmt_misc.automount || true",0,21
openstack%2Ffreezer-api~master~Ifec0f1529941e013b6e5d86f0b64579e5fc5f05a,openstack/freezer-api,master,Ifec0f1529941e013b6e5d86f0b64579e5fc5f05a,Fix warn 'Unable to retrieve request id from context',MERGED,2016-11-24 16:35:51.000000000,2016-11-29 16:57:06.000000000,2016-11-29 16:57:06.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14509}, {'_account_id': 21224}, {'_account_id': 21644}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-11-24 16:35:51.000000000', 'files': ['freezer_api/api/common/middleware.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/877a2da9754db4f2d09b46bd06e222644b236d42', 'message': ""Fix warn 'Unable to retrieve request id from context'\n\n'response' object doesn't have 'request' attribute, 'req'\nshould be used instead [1]. This patch fixes this error.\n\n[1] https://github.com/openstack/freezer-api/blob/master/freezer_api/api/common/middleware.py#L69\n\nChange-Id: Ifec0f1529941e013b6e5d86f0b64579e5fc5f05a\nCloses-Bug: #1637937\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\n""}]",0,402141,877a2da9754db4f2d09b46bd06e222644b236d42,10,7,1,16768,,,0,"Fix warn 'Unable to retrieve request id from context'

'response' object doesn't have 'request' attribute, 'req'
should be used instead [1]. This patch fixes this error.

[1] https://github.com/openstack/freezer-api/blob/master/freezer_api/api/common/middleware.py#L69

Change-Id: Ifec0f1529941e013b6e5d86f0b64579e5fc5f05a
Closes-Bug: #1637937
Signed-off-by: Ruslan Aliev <raliev@mirantis.com>
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/41/402141/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/api/common/middleware.py'],1,877a2da9754db4f2d09b46bd06e222644b236d42,bug/1637937, request_id = response.req.context.request_id, request_id = response.request.context.request_id,1,1
openstack%2Ffuel-web~master~Ic1a2b23a7abcdd2686e5911778ea2c57118da501,openstack/fuel-web,master,Ic1a2b23a7abcdd2686e5911778ea2c57118da501,Fix 9.2 migration,MERGED,2016-11-28 12:08:43.000000000,2016-11-29 16:53:20.000000000,2016-11-29 16:50:55.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10488}, {'_account_id': 10959}, {'_account_id': 11898}, {'_account_id': 12559}, {'_account_id': 20656}, {'_account_id': 21013}]","[{'number': 1, 'created': '2016-11-28 12:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/76c387b08e1e28dce5c7b82b03ad80a6d535c752', 'message': 'Fix 9.2 migration\n\nChange-Id: Ic1a2b23a7abcdd2686e5911778ea2c57118da501\nImplements: blueprint role-decomposition\n'}, {'number': 2, 'created': '2016-11-28 15:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9dbe804da78dfcb872450698567d6336f8ed2608', 'message': 'Fix 9.2 migration\n\nChange-Id: Ic1a2b23a7abcdd2686e5911778ea2c57118da501\nImplements: blueprint role-decomposition\n'}, {'number': 3, 'created': '2016-11-28 22:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c4afc358598659f94f99f0904bb018ebd95c384a', 'message': 'Fix 9.2 migration\n\nChange-Id: Ic1a2b23a7abcdd2686e5911778ea2c57118da501\nImplements: blueprint role-decomposition\n'}, {'number': 4, 'created': '2016-11-29 07:55:51.000000000', 'files': ['nailgun/nailgun/test/unit/test_downgrade_fuel_9_2.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_9_2.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/56f8ecbb166294fa4df1505dde3396193dbac9ee', 'message': 'Fix 9.2 migration\n\nDowngrade field ""tags"" from roles_metadata\n\nChange-Id: Ic1a2b23a7abcdd2686e5911778ea2c57118da501\nImplements: blueprint role-decomposition\n'}]",5,403654,56f8ecbb166294fa4df1505dde3396193dbac9ee,103,11,4,21591,,,0,"Fix 9.2 migration

Downgrade field ""tags"" from roles_metadata

Change-Id: Ic1a2b23a7abcdd2686e5911778ea2c57118da501
Implements: blueprint role-decomposition
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/54/403654/3 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_downgrade_fuel_9_2.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_9_2.py']",2,76c387b08e1e28dce5c7b82b03ad80a6d535c752,bp/role-decomposition," downgrade_role_tags() tags_meta.pop(tag_name) def downgrade_role_tags(): connection = op.get_bind() q_get_role_meta = ""SELECT id, roles_metadata FROM {}"" q_update_role_tags_meta = ''' UPDATE {} SET roles_metadata = :roles_meta WHERE id = :obj_id ''' tables = [""releases"", ""clusters"", ""plugins""] for table in tables: for obj_id, roles_meta in connection.execute( sa.text(q_get_role_meta.format(table))): roles_meta = jsonutils.loads(roles_meta or '{}') for role, meta in six.iteritems(roles_meta): meta.pop(""tags"") connection.execute(sa.text(q_update_role_tags_meta.format(table)), roles_meta=jsonutils.dumps(roles_meta), obj_id=obj_id)", tags_meta.pop(tags_meta),67,4
openstack%2Fopenstack-ansible-os_heat~stable%2Fnewton~Iaf518ffc9ea750c2ec43edfe592bf7dc67bc30c6,openstack/openstack-ansible-os_heat,stable/newton,Iaf518ffc9ea750c2ec43edfe592bf7dc67bc30c6,Standardize tests inventory,MERGED,2016-11-22 07:30:43.000000000,2016-11-29 16:52:58.000000000,2016-11-29 16:52:58.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-11-22 07:30:43.000000000', 'files': ['tests/inventory', 'tests/test-install-heat.yml', 'tests/os_heat-overrides.yml', 'tests/group_vars/all_containers.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/6574c9696e922da8c381a48d46d5bc05e20992dd', 'message': 'Standardize tests inventory\n\nThe config for tests inventory is based on the keystone configuration.\n\nDepends-On: I24a6b34b4e308ae16347b6da7577b9f9891b49d2\nChange-Id: Iaf518ffc9ea750c2ec43edfe592bf7dc67bc30c6\n(cherry picked from commit 340290cf0b2cc1ecee4c1733dad21d5a561e1116)\n'}]",0,400554,6574c9696e922da8c381a48d46d5bc05e20992dd,10,3,1,6816,,,0,"Standardize tests inventory

The config for tests inventory is based on the keystone configuration.

Depends-On: I24a6b34b4e308ae16347b6da7577b9f9891b49d2
Change-Id: Iaf518ffc9ea750c2ec43edfe592bf7dc67bc30c6
(cherry picked from commit 340290cf0b2cc1ecee4c1733dad21d5a561e1116)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/54/400554/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', 'tests/test-install-heat.yml', 'tests/os_heat-overrides.yml', 'tests/group_vars/all_containers.yml', 'tests/test.yml']",5,6574c9696e922da8c381a48d46d5bc05e20992dd,std-tests-inventory,- include: common/test-install-heat.yml # Test Heat,- include: test-install-heat.yml ,6,88
openstack%2Fkolla~master~I5351b7a6ee480be78e26af42ca724b1b6b664b38,openstack/kolla,master,I5351b7a6ee480be78e26af42ca724b1b6b664b38,Use kolla-ansible deploy_aio in gate,MERGED,2016-11-24 07:30:54.000000000,2016-11-29 16:51:31.000000000,2016-11-29 16:51:31.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-11-24 07:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/28b05caf7d02d1933b49cc6d141dca5be6fc58dd', 'message': 'Use kolla-ansible deploy_aio in gate\n\nChange-Id: I5351b7a6ee480be78e26af42ca724b1b6b664b38\n'}, {'number': 2, 'created': '2016-11-24 07:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/738866eaaa41cb8958651b0532c548f6f4b5fc79', 'message': 'Use kolla-ansible deploy_aio in gate\n\nChange-Id: I5351b7a6ee480be78e26af42ca724b1b6b664b38\n'}, {'number': 3, 'created': '2016-11-24 12:28:48.000000000', 'files': ['tools/deploy_aio.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cc6d491c397efc50b96cdc33bebac1d2c2f07f00', 'message': 'Use kolla-ansible deploy_aio in gate\n\nChange-Id: I5351b7a6ee480be78e26af42ca724b1b6b664b38\n'}]",0,401891,cc6d491c397efc50b96cdc33bebac1d2c2f07f00,10,3,3,7488,,,0,"Use kolla-ansible deploy_aio in gate

Change-Id: I5351b7a6ee480be78e26af42ca724b1b6b664b38
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/401891/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deploy_aio.sh'],1,28b05caf7d02d1933b49cc6d141dca5be6fc58dd,,"cat > /tmp/clonemap <<EOF /usr/zuul-env/bin/zuul-cloner -m /tmp/clonemap --workspace ""$(pwd)"" \ --cache-dir /opt/git git://git.openstack.org \ openstack/kolla-ansible pip install ""${KOLLA_ANSIBLE_DIR}"" ""${KOLLA_ANSIBLE_DIR}/tools/deploy_aio.sh"" ""$KOLLA_BASE"" ""$KOLLA_TYPE""","export KEEPALIVED_VIRTUAL_ROUTER_ID=$(shuf -i 1-255 -n 1)function prepare_kolla_ansible { cat > /tmp/clonemap <<EOF /usr/zuul-env/bin/zuul-cloner -m /tmp/clonemap --workspace ""$(pwd)"" \ --cache-dir /opt/git git://git.openstack.org \ openstack/kolla-ansible pip install ${KOLLA_ANSIBLE_DIR} } function copy_logs { cp -rnL /var/lib/docker/volumes/kolla_logs/_data/* /tmp/logs/kolla/ cp -rnL /etc/kolla/* /tmp/logs/kolla_configs/ cp -rvnL /var/log/* /tmp/logs/system_logs/ if [[ -x ""$(command -v journalctl)"" ]]; then journalctl --no-pager -u docker.service > /tmp/logs/system_logs/docker.log else cp /var/log/upstart/docker.log /tmp/logs/system_logs/docker.log fi # NOTE(SamYaple): Fix permissions for log extraction in gate chmod -R 777 /tmp/logs/kolla /tmp/logs/kolla_configs /tmp/logs/system_logs ara generate /tmp/logs/playbook_reports/ } function sanity_check { # Wait for service ready sleep 15 . /etc/kolla/admin-openrc.sh # TODO(Jeffrey4l): Restart the memcached container to cleanup all cache. # Remove this after this bug is fixed # https://bugs.launchpad.net/oslo.cache/+bug/1590779 docker restart memcached nova --debug service-list neutron --debug agent-list ${KOLLA_ANSIBLE_DIR}/tools/init-runonce nova --debug boot --poll --image $(openstack image list | awk '/cirros/ {print $2}') --nic net-id=$(openstack network list | awk '/demo-net/ {print $2}') --flavor 1 kolla_boot_test nova --debug list # If the status is not ACTIVE, print info and exit 1 nova --debug show kolla_boot_test | awk '{buf=buf""\n""$0} $2==""status"" && $4!=""ACTIVE"" {failed=""yes""}; END {if (failed==""yes"") {print buf; exit 1}}' } function check_failure { # Command failures after this point can be expected set +o errexit docker images docker ps -a failed_containers=$(docker ps -a --format ""{{.Names}}"" --filter status=exited) for failed in ${failed_containers}; do docker logs --tail all ${failed} done copy_logs } function write_configs { mkdir -p /etc/kolla/config PRIVATE_ADDRESS=$(cat /etc/nodepool/node_private) PRIVATE_INTERFACE=$(ip -4 --oneline address | awk -v pattern=${PRIVATE_ADDRESS} '$0 ~ pattern {print $2}') cat << EOF > /etc/kolla/globals.yml --- kolla_base_distro: ""${KOLLA_BASE}"" kolla_install_type: ""${KOLLA_TYPE}"" kolla_internal_vip_address: ""169.254.169.10"" keepalived_virtual_router_id: ""${KEEPALIVED_VIRTUAL_ROUTER_ID}"" docker_restart_policy: ""never"" # NOTE(Jeffrey4l): use different a docker namespace name in case it pull image from hub.docker.io when deplying docker_namespace: ""lokolla"" network_interface: ""${PRIVATE_INTERFACE}"" neutron_external_interface: ""fake_interface"" openstack_release: ""4.0.0"" enable_horizon: ""no"" enable_heat: ""no"" openstack_logging_debug: ""True"" openstack_service_workers: ""1"" EOF mkdir /etc/kolla/config/nova cat << EOF > /etc/kolla/config/nova/nova-compute.conf [libvirt] virt_type=qemu EOF } trap check_failure EXIT prepare_kolla_ansible write_configs # Create dummy interface for neutron ip l a fake_interface type dummy # Actually do the deployment kolla-ansible -vvv prechecks # TODO(jeffrey4l): add pull action when we have a local registry # service in CI kolla-ansible -vvv deploy kolla-ansible -vvv post-deploy # Test OpenStack Environment sanity_check # TODO(jeffrey4l): make some configure file change and # trigger a real reconfigure kolla-ansible -vvv reconfigure # TODO(jeffrey4l): need run a real upgrade kolla-ansible -vvv upgrade",6,109
openstack%2Ffreezer-specs~master~I0323ef326e3a0a8c9b4db5e21aa16d7fa022a1df,openstack/freezer-specs,master,I0323ef326e3a0a8c9b4db5e21aa16d7fa022a1df,Create relevant files for Ocata,MERGED,2016-11-29 11:12:11.000000000,2016-11-29 16:47:42.000000000,2016-11-29 16:47:42.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21644}]","[{'number': 1, 'created': '2016-11-29 11:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/4c01f8392d0da7baa127d3698b703097cb6c26bc', 'message': 'Create relavant files for Ocata\n\nThis patch create priorities file and specs folder for Ocata release.\n\nChange-Id: I0323ef326e3a0a8c9b4db5e21aa16d7fa022a1df\n'}, {'number': 2, 'created': '2016-11-29 11:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/83aa1c48305bec4ba9bf7ec9beed26cf7225416f', 'message': 'Create relevant files for Ocata\n\nThis patch create priorities file and specs folder for Ocata release.\n\nChange-Id: I0323ef326e3a0a8c9b4db5e21aa16d7fa022a1df\n'}, {'number': 3, 'created': '2016-11-29 12:30:08.000000000', 'files': ['specs/backlog-template.rst', 'specs/ocata/redirects', 'priorities/ocata-priorities.rst', 'specs/ocata-template.rst'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/55557ec2ff36d9abe6476de3b614a9ed9ea548d4', 'message': 'Create relevant files for Ocata\n\nThis patch create priorities file and specs folder for Ocata release.\n\nChange-Id: I0323ef326e3a0a8c9b4db5e21aa16d7fa022a1df\n'}]",0,404154,55557ec2ff36d9abe6476de3b614a9ed9ea548d4,11,6,3,22405,,,0,"Create relevant files for Ocata

This patch create priorities file and specs folder for Ocata release.

Change-Id: I0323ef326e3a0a8c9b4db5e21aa16d7fa022a1df
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/54/404154/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ocata/redirects', 'priorities/ocata-priorities.rst']",2,4c01f8392d0da7baa127d3698b703097cb6c26bc,,.. _ocata-priorities: ========================= Ocata Project Priorities ========================= List of themes (in the form of use cases) the freezer development team will prioritize in Ocata. ,,9,0
openstack%2Fkolla~stable%2Fnewton~Id08e60c7132dd4e8723e588dc1dab20cfc541722,openstack/kolla,stable/newton,Id08e60c7132dd4e8723e588dc1dab20cfc541722,Add strongswan to neutron-vpn-agent source image,MERGED,2016-11-29 07:31:27.000000000,2016-11-29 16:47:35.000000000,2016-11-29 16:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-11-29 07:31:27.000000000', 'files': ['docker/neutron/neutron-vpnaas-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c82776c08f517ff3cea51c8a729079a2f17c3c8a', 'message': 'Add strongswan to neutron-vpn-agent source image\n\nAdd strongswan/openswan package to vpn-agent source image\nLacking of strongswan/openswan package make it impossible\nto use create vpn connections on images built from source.\nAdding strongswan/openswan package fixes this bug.\n\nCloses-Bug: #1644159\n\nChange-Id: Id08e60c7132dd4e8723e588dc1dab20cfc541722\n(cherry picked from commit 89dd91d7bb49e528d931ac0b0b70563eace94538)\n'}]",0,404061,c82776c08f517ff3cea51c8a729079a2f17c3c8a,7,3,1,19316,,,0,"Add strongswan to neutron-vpn-agent source image

Add strongswan/openswan package to vpn-agent source image
Lacking of strongswan/openswan package make it impossible
to use create vpn connections on images built from source.
Adding strongswan/openswan package fixes this bug.

Closes-Bug: #1644159

Change-Id: Id08e60c7132dd4e8723e588dc1dab20cfc541722
(cherry picked from commit 89dd91d7bb49e528d931ac0b0b70563eace94538)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/404061/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-vpnaas-agent/Dockerfile.j2'],1,c82776c08f517ff3cea51c8a729079a2f17c3c8a,bug/1644159," {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% set neutron_vpnaas_agent_packages = [ 'openswan' ] %} {% elif base_distro in ['ubuntu', 'debian'] %} {% set neutron_vpnaas_agent_packages = [ 'strongswan' ] %} {% endif %} {{ macros.install_packages(neutron_vpnaas_agent_packages | customizable(""packages"")) }} ",,12,0
openstack%2Fkolla~stable%2Fnewton~I5787943bb2bc11408ca8e8cdd6d1997cbc8919f1,openstack/kolla,stable/newton,I5787943bb2bc11408ca8e8cdd6d1997cbc8919f1,Update Percona repo to current release,MERGED,2016-11-22 17:35:17.000000000,2016-11-29 16:46:49.000000000,2016-11-29 16:46:49.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 11869}, {'_account_id': 16233}, {'_account_id': 22165}, {'_account_id': 23928}]","[{'number': 1, 'created': '2016-11-22 17:35:17.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d1f6ecfa374bdd2d70bf9a9cb4584b8e1f5a8a2a', 'message': 'Update Percona repo to current release\n\nThe Percona Repo was updated on the 14th November to version 0.1-4\nthis commit updates rpm based builds to reflect that change.\n\nCloses-Bug: #1643867\nChange-Id: I5787943bb2bc11408ca8e8cdd6d1997cbc8919f1\n(cherry picked from commit 673700618d1a131b17440c6a70a4f17351f2aba3)\n'}]",0,400889,d1f6ecfa374bdd2d70bf9a9cb4584b8e1f5a8a2a,10,6,1,7488,,,0,"Update Percona repo to current release

The Percona Repo was updated on the 14th November to version 0.1-4
this commit updates rpm based builds to reflect that change.

Closes-Bug: #1643867
Change-Id: I5787943bb2bc11408ca8e8cdd6d1997cbc8919f1
(cherry picked from commit 673700618d1a131b17440c6a70a4f17351f2aba3)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/400889/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,d1f6ecfa374bdd2d70bf9a9cb4584b8e1f5a8a2a,bug/1643867, 'http://repo.percona.com/release/7/RPMS/x86_64/percona-release-0.1-4.noarch.rpm', 'http://repo.percona.com/release/7/RPMS/x86_64/percona-release-0.1-3.noarch.rpm',1,1
openstack%2Fhorizon~master~I7c7a07cd79afb052941ae0004046f61a5b3eb608,openstack/horizon,master,I7c7a07cd79afb052941ae0004046f61a5b3eb608,Fixes detail view modals missing selected element name.,ABANDONED,2016-11-28 22:38:43.000000000,2016-11-29 16:40:57.000000000,,"[{'_account_id': 3}, {'_account_id': 9622}, {'_account_id': 12826}, {'_account_id': 20509}, {'_account_id': 23186}]","[{'number': 1, 'created': '2016-11-28 22:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ae35d25cc46771e9339ab09bfa4982604b5388f8', 'message': 'Fixes detail view modals missing selected element name.\n\nCurrently, detail views that lack dd elements do not populate\nconfirmation modals with the name of the selected element in\nthe modal confirmation message.\n\nFor example, (Project > Compute >\nInstances > Detail View) followed by selecting ""Delete Instance""\ndoes not add the name of the instance being deleted to the\nconfirmation message: ""You have selected: ."" is what appears.\n\nChange-Id: I7c7a07cd79afb052941ae0004046f61a5b3eb608\nCloses-Bug: #1645493\n'}, {'number': 2, 'created': '2016-11-29 03:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/505fee1234119b086354d5855ce2f478fc6840ab', 'message': 'Fixes detail view modals missing selected element name.\n\nCurrently, detail views that lack dd elements do not populate\nconfirmation modals with the name of the selected element in\nthe modal confirmation message.\n\nFor example, (Project > Compute >\nInstances > Detail View) followed by selecting ""Delete Instance""\ndoes not add the name of the instance being deleted to the\nconfirmation message: ""You have selected: ."" is what appears.\n\nChange-Id: I7c7a07cd79afb052941ae0004046f61a5b3eb608\nCloses-Bug: #1645493\n'}, {'number': 3, 'created': '2016-11-29 15:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d88875e67b637a5bb9793586b7f8d4326ee6cfed', 'message': 'Fixes detail view modals missing selected element name.\n\nCurrently, detail views that lack dd elements do not populate\nconfirmation modals with the name of the selected element in\nthe modal confirmation message.\n\nFor example, (Project > Compute >\nInstances > Detail View) followed by selecting ""Delete Instance""\ndoes not add the name of the instance being deleted to the\nconfirmation message: ""You have selected: ."" is what appears.\n\nChange-Id: I7c7a07cd79afb052941ae0004046f61a5b3eb608\nCloses-Bug: #1645493\n'}, {'number': 4, 'created': '2016-11-29 16:03:53.000000000', 'files': ['horizon/static/horizon/js/horizon.tables.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e9294bb4c0992b6ca81c3434cbd9b46a28d3469b', 'message': 'Fixes detail view modals missing selected element name.\n\nCurrently, detail views that lack dd elements do not populate\nconfirmation modals with the name of the selected element in\nthe modal confirmation message.\n\nFor example, (Project > Compute >\nInstances > Detail View) followed by selecting ""Delete Instance""\ndoes not add the name of the instance being deleted to the\nconfirmation message: ""You have selected: ."" is what appears.\n\nChange-Id: I7c7a07cd79afb052941ae0004046f61a5b3eb608\nCloses-Bug: #1645493\n'}]",2,403930,e9294bb4c0992b6ca81c3434cbd9b46a28d3469b,15,5,4,23186,,,0,"Fixes detail view modals missing selected element name.

Currently, detail views that lack dd elements do not populate
confirmation modals with the name of the selected element in
the modal confirmation message.

For example, (Project > Compute >
Instances > Detail View) followed by selecting ""Delete Instance""
does not add the name of the instance being deleted to the
confirmation message: ""You have selected: ."" is what appears.

Change-Id: I7c7a07cd79afb052941ae0004046f61a5b3eb608
Closes-Bug: #1645493
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/403930/3 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.tables.js'],1,ae35d25cc46771e9339ab09bfa4982604b5388f8,bug/1645493," } else { if ($data_display.length > 0) { } else { // The action is probably in a detail view, but doesn't have a dd // element. We can get the equivalent of the data-display from the h1. name_string = $action.closest("".row"").find('.h1').html().trim(); name_array = [name_string];", } else{ if($data_display.length > 0) {,7,2
openstack%2Ffreezer-dr~stable%2Fnewton~I7fdf27e8f9263625e1fd1e2a34c015eaf4251792,openstack/freezer-dr,stable/newton,I7fdf27e8f9263625e1fd1e2a34c015eaf4251792,Added py35 environement configuration to tox.ini,MERGED,2016-11-29 10:17:28.000000000,2016-11-29 16:38:49.000000000,2016-11-29 16:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21644}]","[{'number': 1, 'created': '2016-11-29 10:17:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/a8ba5850e8fe16d8244a1c314ebe074735352795', 'message': 'Added py35 environement configuration to tox.ini\n\nChange-Id: I7fdf27e8f9263625e1fd1e2a34c015eaf4251792\n(cherry picked from commit 783577fddc9009848b4991b4401e1ca1f38e1dfb)\n'}]",0,404126,a8ba5850e8fe16d8244a1c314ebe074735352795,10,7,1,22405,,,0,"Added py35 environement configuration to tox.ini

Change-Id: I7fdf27e8f9263625e1fd1e2a34c015eaf4251792
(cherry picked from commit 783577fddc9009848b4991b4401e1ca1f38e1dfb)
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/26/404126/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a8ba5850e8fe16d8244a1c314ebe074735352795,fix-tox,"[testenv:py35] basepython = python3.5 setenv = OS_TEST_PATH = ./tests/unit commands = find . -type f -name ""*.pyc"" -delete python setup.py testr --coverage --testr-args=""{posargs}"" # coverage report -m rm -f .coverage rm -rf .testrepository exclude = .venv,.tox,dist,doc,test,*egg,tests ","exclude = .venv,.tox,dist,doc,test,*egg,tests",12,1
openstack%2Fneutron-vpnaas~master~Ida1cad76b413292e4780a75ca71c9d16c17ad6db,openstack/neutron-vpnaas,master,Ida1cad76b413292e4780a75ca71c9d16c17ad6db,Remove PLURALS,MERGED,2016-11-26 06:30:09.000000000,2016-11-29 16:34:48.000000000,2016-11-29 16:34:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 16237}]","[{'number': 1, 'created': '2016-11-26 06:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/461d1ceba301fc1da2730c657a582563968c8659', 'message': 'Remove PLURALS\n\nPLURALS is being removed from neutron core.\nSee https://review.openstack.org/398489\n\nChange-Id: Ida1cad76b413292e4780a75ca71c9d16c17ad6db\n'}, {'number': 2, 'created': '2016-11-29 15:57:51.000000000', 'files': ['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/extensions/vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d93f293ca91516227e7e978512b75208034948bc', 'message': 'Remove PLURALS\n\nPLURALS is being removed from neutron core.\nSee https://review.openstack.org/398489\n\nChange-Id: Ida1cad76b413292e4780a75ca71c9d16c17ad6db\n'}]",0,403318,d93f293ca91516227e7e978512b75208034948bc,11,4,2,6524,,,0,"Remove PLURALS

PLURALS is being removed from neutron core.
See https://review.openstack.org/398489

Change-Id: Ida1cad76b413292e4780a75ca71c9d16c17ad6db
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/18/403318/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/extensions/vpnaas.py']",2,461d1ceba301fc1da2730c657a582563968c8659,use-db-field-sizes,, attr.PLURALS.update(plural_mappings),0,2
openstack%2Fkolla-ansible~master~I07f2df405574b55daa44fa381625e8be0c352607,openstack/kolla-ansible,master,I07f2df405574b55daa44fa381625e8be0c352607,Add solum ansible role,MERGED,2016-11-24 22:15:30.000000000,2016-11-29 16:32:53.000000000,2016-11-29 16:32:53.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-11-24 22:15:30.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/common/templates/cron-logrotate-solum.conf.j2', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/solum/tasks/config.yml', 'ansible/site.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/inventory/all-in-one', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/solum/tasks/precheck.yml', 'ansible/roles/solum/tasks/pull.yml', 'ansible/roles/solum/tasks/bootstrap_service.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/solum/tasks/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/solum/templates/solum-api.json.j2', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/solum/tasks/upgrade.yml', 'etc/kolla/passwords.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/solum/templates/solum-conductor.json.j2', 'ansible/roles/solum/tasks/start.yml', 'ansible/roles/solum/tasks/reconfigure.yml', 'ansible/roles/solum/templates/solum-worker.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/solum/meta/main.yml', 'ansible/roles/solum/templates/solum-deployer.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90f2b7cd0628bca832169ebd3f2f65dceb6beff4', 'message': 'Add solum ansible role\n\nChange-Id: I07f2df405574b55daa44fa381625e8be0c352607\nPartially-implements: bp solum-ansible-role\n'}]",0,402225,90f2b7cd0628bca832169ebd3f2f65dceb6beff4,11,3,1,20663,,,0,"Add solum ansible role

Change-Id: I07f2df405574b55daa44fa381625e8be0c352607
Partially-implements: bp solum-ansible-role
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/402225/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/common/templates/cron-logrotate-solum.conf.j2', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/solum/tasks/config.yml', 'ansible/site.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/inventory/all-in-one', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/solum/tasks/precheck.yml', 'ansible/roles/solum/tasks/pull.yml', 'ansible/roles/solum/tasks/bootstrap_service.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/solum/tasks/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/solum/templates/solum-api.json.j2', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/solum/tasks/upgrade.yml', 'etc/kolla/passwords.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/solum/templates/solum-conductor.json.j2', 'ansible/roles/solum/tasks/start.yml', 'ansible/roles/solum/tasks/reconfigure.yml', 'ansible/roles/solum/templates/solum-worker.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/solum/meta/main.yml', 'ansible/roles/solum/templates/solum-deployer.json.j2']",29,90f2b7cd0628bca832169ebd3f2f65dceb6beff4,bp/solum-ansible-role,"{ ""command"": ""solum-deployer --config-file /etc/solum/solum.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/solum.conf"", ""dest"": ""/etc/solum/solum.conf"", ""owner"": ""solum"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"": ""/var/log/kolla/solum"", ""owner"": ""solum:solum"", ""recurse"": true } ] } ",,654,0
openstack%2Ftripleo-quickstart-extras~master~Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3,openstack/tripleo-quickstart-extras,master,Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3,Update overcloud-scale post extra roles merging,MERGED,2016-11-22 22:20:57.000000000,2016-11-29 16:32:36.000000000,2016-11-29 16:32:36.000000000,"[{'_account_id': 3}, {'_account_id': 10969}, {'_account_id': 11589}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-11-22 22:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aefcf2f706a4b873e8c8f2d151c4c0c9fc5e14bb', 'message': ""Update overcloud-scale post extra roles merging\n\n- Remove scale_ceph.yml config, it isn't tested/verified and\n  shouldn't be supported\n- Clean up the scale_compute.yml config and remove unused or\n  redundant (overriding default with default) variables\n- Ensure the conditional tasks cast strings to bools to avoid\n  false positives\n\nChange-Id: Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3\n""}, {'number': 2, 'created': '2016-11-23 16:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33f850c2e74afd11bf663221bc9c651aefe01deb', 'message': ""Update overcloud-scale post extra roles merging\n\n- Remove scale_ceph.yml config, it isn't tested/verified and\n  shouldn't be supported\n- Clean up the scale_compute.yml config and remove unused or\n  redundant (overriding default with default) variables\n- Ensure the conditional tasks cast strings to bools to avoid\n  false positives\n\nChange-Id: Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3\n""}, {'number': 3, 'created': '2016-11-28 13:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e564adb0bd620b7933caed51cbe228ef9ca6f6bf', 'message': ""Update overcloud-scale post extra roles merging\n\n- Remove scale_ceph.yml config, it isn't tested/verified and\n  shouldn't be supported\n- Clean up the scale_compute.yml config and remove unused or\n  redundant (overriding default with default) variables\n- Ensure the conditional tasks cast strings to bools to avoid\n  false positives\n\nChange-Id: Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3\n""}, {'number': 4, 'created': '2016-11-29 14:27:58.000000000', 'files': ['config/general_config/scale_ceph.yml', 'roles/overcloud-scale/tasks/pre-scale.yml', 'config/general_config/scale_compute.yml', 'roles/overcloud-scale/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/522e9d7d46ab39b6675fe098884e54df35819e11', 'message': ""Update overcloud-scale post extra roles merging\n\n- Remove scale_ceph.yml config, it isn't tested/verified and\n  shouldn't be supported\n- Clean up the scale_compute.yml config and remove unused or\n  redundant (overriding default with default) variables\n- Ensure the conditional tasks cast strings to bools to avoid\n  false positives\n\nChange-Id: Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3\n""}]",2,400987,522e9d7d46ab39b6675fe098884e54df35819e11,20,5,4,11589,,,0,"Update overcloud-scale post extra roles merging

- Remove scale_ceph.yml config, it isn't tested/verified and
  shouldn't be supported
- Clean up the scale_compute.yml config and remove unused or
  redundant (overriding default with default) variables
- Ensure the conditional tasks cast strings to bools to avoid
  false positives

Change-Id: Ib80e5e492b3add4a7943bdeb24de0957b9b7bcb3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/87/400987/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/scale_ceph.yml', 'roles/overcloud-scale/tasks/pre-scale.yml', 'config/general_config/scale_compute.yml', 'roles/overcloud-scale/tasks/main.yml']",4,aefcf2f706a4b873e8c8f2d151c4c0c9fc5e14bb,update_scale_role_post_merge, when: artosn_scale_nodes|bool when: artosn_scale_nodes|bool when: artosn_delete_original_node|bool, when: artosn_scale_nodes when: artosn_scale_nodes when: artosn_delete_original_node,13,75
openstack%2Fceilometer-powervm~master~Ic0662a0eddddbaf525821e9d76f4f5fae34b1bfa,openstack/ceilometer-powervm,master,Ic0662a0eddddbaf525821e9d76f4f5fae34b1bfa,Show team and repo badges on README,MERGED,2016-11-25 11:53:26.000000000,2016-11-29 16:31:54.000000000,2016-11-29 16:31:54.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 13883}, {'_account_id': 14070}]","[{'number': 1, 'created': '2016-11-25 11:53:26.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/f767164b9e071d3d49ff9c8b374de7710d790200', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nb'https://gist.github.com/a25aca0b551e6e7060c15c4fefd2af38\\n'\n\nChange-Id: Ic0662a0eddddbaf525821e9d76f4f5fae34b1bfa\n""}]",0,402439,f767164b9e071d3d49ff9c8b374de7710d790200,6,4,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

b'https://gist.github.com/a25aca0b551e6e7060c15c4fefd2af38\n'

Change-Id: Ic0662a0eddddbaf525821e9d76f4f5fae34b1bfa
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/39/402439/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f767164b9e071d3d49ff9c8b374de7710d790200,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/ceilometer-powervm.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Ftripleo-quickstart-extras~master~I236231b402a1920196cf1c82fd21211b86cd6482,openstack/tripleo-quickstart-extras,master,I236231b402a1920196cf1c82fd21211b86cd6482,Modify playbook switch to match quickstart variable,MERGED,2016-11-29 14:28:53.000000000,2016-11-29 16:31:45.000000000,2016-11-29 15:03:43.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 11589}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-11-29 14:28:53.000000000', 'files': ['playbooks/baremetal-full-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a275cf77b2cb46bff1855b4d55f11471b023661', 'message': ""Modify playbook switch to match quickstart variable\n\nThis playbook is switching on undercloud_type.\nIn tripleo-quickstart, the value used is 'virtual'\nnot 'virt'.\n\nChange-Id: I236231b402a1920196cf1c82fd21211b86cd6482\n""}]",0,404238,7a275cf77b2cb46bff1855b4d55f11471b023661,9,6,1,9976,,,0,"Modify playbook switch to match quickstart variable

This playbook is switching on undercloud_type.
In tripleo-quickstart, the value used is 'virtual'
not 'virt'.

Change-Id: I236231b402a1920196cf1c82fd21211b86cd6482
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/404238/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/baremetal-full-deploy.yml'],1,7a275cf77b2cb46bff1855b4d55f11471b023661,baremetal-playbook-condition, when: undercloud_type == 'virtual' and environment_type is defined, when: undercloud_type == 'virt' and environment_type is defined,1,1
openstack%2Fpuppet-murano~master~I7d0b528ecc8380f16350abc9b4fbbe6db2bcaf36,openstack/puppet-murano,master,I7d0b528ecc8380f16350abc9b4fbbe6db2bcaf36,Switch puppet-murano to rspec-puppet-facts,MERGED,2016-11-28 15:50:51.000000000,2016-11-29 16:30:36.000000000,2016-11-29 16:30:36.000000000,"[{'_account_id': 3}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-28 15:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/f1eb51371249b9b2abbccd379934d48a94cac19a', 'message': 'Switch puppet-murano to rspec-puppet-facts\n\nChange-Id: I7d0b528ecc8380f16350abc9b4fbbe6db2bcaf36\n'}, {'number': 2, 'created': '2016-11-29 12:23:12.000000000', 'files': ['spec/classes/murano_db_spec.rb', 'spec/classes/murano_keystone_cfapi_auth_spec.rb', 'spec/classes/murano_db_mysql_spec.rb', 'spec/classes/murano_keystone_auth_spec.rb', 'spec/classes/murano_init_spec.rb', 'spec/classes/murano_api_spec.rb', 'spec/classes/murano_engine_spec.rb', 'spec/classes/murano_cfapi_spec.rb', 'spec/classes/murano_dashboard_spec.rb', 'spec/classes/murano_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/906d166f849febe178486a36bb5378873b1b49d6', 'message': 'Switch puppet-murano to rspec-puppet-facts\n\nChange-Id: I7d0b528ecc8380f16350abc9b4fbbe6db2bcaf36\n'}]",0,403774,906d166f849febe178486a36bb5378873b1b49d6,14,5,2,18795,,,0,"Switch puppet-murano to rspec-puppet-facts

Change-Id: I7d0b528ecc8380f16350abc9b4fbbe6db2bcaf36
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/74/403774/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/murano_db_spec.rb', 'spec/classes/murano_keystone_cfapi_auth_spec.rb', 'spec/classes/murano_db_mysql_spec.rb', 'spec/classes/murano_keystone_auth_spec.rb', 'spec/classes/murano_init_spec.rb', 'spec/classes/murano_api_spec.rb', 'spec/classes/murano_cfapi_spec.rb', 'spec/classes/murano_engine_spec.rb', 'spec/classes/murano_dashboard_spec.rb', 'spec/classes/murano_logging_spec.rb']",10,f1eb51371249b9b2abbccd379934d48a94cac19a,rspec-puppet-facts," on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'murano-logging' end", context 'on Debian platforms' do let :facts do @default_facts.merge({ :osfamily => 'Debian' }) end it_configures 'murano-logging' context 'on RedHat platforms' do let :facts do @default_facts.merge({ :osfamily => 'RedHat' }) end it_configures 'murano-logging' end,416,441
openstack%2Fnova~master~Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8,openstack/nova,master,Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8,doc: Add guidline about notification payload,MERGED,2016-04-20 15:08:57.000000000,2016-11-29 16:29:18.000000000,2016-11-24 10:49:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11803}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 20873}]","[{'number': 1, 'created': '2016-04-20 15:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd790294bdccd7cf7cbe56620d5679588db51ba0', 'message': 'doc: Add guidline about notification payload\n\nTo help adding new notification to nova we shall have a guideline\nwhat should and what should not be in the notification payload.\n\nChange-Id: Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8\n'}, {'number': 2, 'created': '2016-04-22 15:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26f6901316446faf65da8eabd151aa82094ff10a', 'message': 'doc: Add guidline about notification payload\n\nTo help adding new notification to nova we shall have a guideline\nwhat should and what should not be in the notification payload.\n\nChange-Id: Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8\n'}, {'number': 3, 'created': '2016-06-23 15:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/442c373f9def02b6f18e8ce569164d45ff8b19d1', 'message': 'doc: Add guidline about notification payload\n\nTo help adding new notification to nova we shall have a guideline\nwhat should and what should not be in the notification payload.\n\nChange-Id: Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8\n'}, {'number': 4, 'created': '2016-08-18 08:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29a7218a5a8f789a3145c9a2191560b87f58c7f9', 'message': 'doc: Add guidline about notification payload\n\nTo help adding new notification to nova we shall have a guideline\nwhat should and what should not be in the notification payload.\n\nChange-Id: Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8\n'}, {'number': 5, 'created': '2016-11-23 14:04:34.000000000', 'files': ['doc/source/notifications.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d39613e458be830f83b90c5e28e53a54c787232', 'message': 'doc: Add guidline about notification payload\n\nTo help adding new notification to nova we shall have a guideline\nwhat should and what should not be in the notification payload.\n\nChange-Id: Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8\n'}]",18,308393,3d39613e458be830f83b90c5e28e53a54c787232,61,21,5,9708,,,0,"doc: Add guidline about notification payload

To help adding new notification to nova we shall have a guideline
what should and what should not be in the notification payload.

Change-Id: Ic85d304974bbfa7e02999ec3d6c9bba1d1aed3c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/308393/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/notifications.rst'],1,dd790294bdccd7cf7cbe56620d5679588db51ba0,notification-payload-guideline,What shall be in the notification payload ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is just a guideline you shall always consider the actual use case that requires the notification. * Always include the identifier (e.g. uuid) of the entity that can be used to query the whole entity over the REST API so that the consumer can get more information about the entity. * You should consider including those fields that are related to the event you are sending the notification about. For example if a change of a field of the entity triggers an update notification then you should include the field to the payload. So that the notification payload is meaningful for the consumer. * You should not include those parts of the entity that is unchanged or static in relations with the change you are sending the notification about. So that you can limit the size of the payload and avoid unnecessary repetition. * You shall never include a nova internal object to the payload. Create a new object and use the SCHEMA field to map the internal object to the notification payload. This way the evolution of the internal object model can be decoupled from the evolution of the notification payload. ,,21,0
openstack%2Fnova~master~I1375b43280d29026d7d1c0d362740d6077c5061f,openstack/nova,master,I1375b43280d29026d7d1c0d362740d6077c5061f,Notification object version test depends on SCHEMA,MERGED,2016-07-19 15:45:20.000000000,2016-11-29 16:28:48.000000000,2016-11-24 10:50:29.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10385}, {'_account_id': 11803}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 20411}]","[{'number': 1, 'created': '2016-07-19 15:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b64e5d356112ee58523cbbcf9ba9b3166209e3c', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}, {'number': 2, 'created': '2016-08-18 08:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5da742e94a92ef316fb5064c69b852af00cb3480', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}, {'number': 3, 'created': '2016-08-22 08:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/307a1bedc42f77341b6c06b68ea48a01a13814c9', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}, {'number': 4, 'created': '2016-09-13 07:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65b50bd76253742bbb12b011d4d5f93f5d059ad0', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}, {'number': 5, 'created': '2016-10-18 16:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea3915a89dc0187343b884905ceba8c5acbecd74', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}, {'number': 6, 'created': '2016-10-27 10:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/586caf237c81d63a488e0d4f534403d192e79408', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}, {'number': 7, 'created': '2016-10-28 06:21:12.000000000', 'files': ['nova/tests/unit/notifications/objects/test_notification.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac7c988523f0112ec310deb4acd318cf6009bb8', 'message': 'Notification object version test depends on SCHEMA\n\nAs ObjectVersionChecker.test_hashes() supports extra_data_func parameter\nfrom ovo 2.6.0 this patch makes the notification object version test\naware of the SCHEMA changes of the notification objects.\n\nThe object hashes are updated without version bump as no real\nchanges was made on the objects just the hash calculation is changed.\n\nCloses-Bug: #1595575\nChange-Id: I1375b43280d29026d7d1c0d362740d6077c5061f\n'}]",0,344334,0ac7c988523f0112ec310deb4acd318cf6009bb8,69,15,7,9708,,,0,"Notification object version test depends on SCHEMA

As ObjectVersionChecker.test_hashes() supports extra_data_func parameter
from ovo 2.6.0 this patch makes the notification object version test
aware of the SCHEMA changes of the notification objects.

The object hashes are updated without version bump as no real
changes was made on the objects just the hash calculation is changed.

Closes-Bug: #1595575
Change-Id: I1375b43280d29026d7d1c0d362740d6077c5061f
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/344334/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/notifications/objects/test_notification.py'],1,6b64e5d356112ee58523cbbcf9ba9b3166209e3c,bug/1595575," 'AuditPeriodPayload': '1.0-2b429dd307b8374636703b843fa3f9cb', 'BandwidthPayload': '1.0-ee2616a7690ab78406842a2b68e34130', 'ExceptionPayload': '1.0-27db46ee34cd97e39f2643ed92ad0cc5', 'FlavorPayload': '1.0-e57a42899fc426afa4deae4e199abc1b', 'InstanceActionPayload': '1.0-3434845dbec4f1cb781333b0bc1c141d', 'InstancePayload': '1.0-98fb2c241c752159a2ab3bae0f2e0b65', 'InstanceStateUpdatePayload': '1.0-07e111c0fa0f6db0f79b0726d593e3da', 'InstanceUpdatePayload': '1.0-6980917ceac9ba7aac290c2bd92ca3df', 'IpPayload': '1.0-8ecf567a99e516d4af094439a7632d34', 'ServiceStatusPayload': '1.0-c43a812046139e875ff2dc5590cd8d02', expected, actual = checker.test_hashes(notification_object_data, extra_data_func=get_extra_data)"," 'AuditPeriodPayload': '1.0-28345f72ca9d805eeb61b2c2385805dd', 'BandwidthPayload': '1.0-49278639296f9939ff2c8947b2078a82', 'ExceptionPayload': '1.0-4516ae282a55fe2fd5c754967ee6248b', 'FlavorPayload': '1.0-8ad962ab0bafc7270f474c7dda0b7c20', 'InstanceActionPayload': '1.0-aa6a322cf1a3a19d090259fee65d1094', 'InstancePayload': '1.0-878bbc5a7a20bdeac7c6570f438a53aa', 'InstanceStateUpdatePayload': '1.0-a934d04e1b314318e42e8062647edd11', 'InstanceUpdatePayload': '1.0-c69e17e00400455bfe602e5573a61f0b', 'IpPayload': '1.0-26b40117c41ed95a61ae104f0fcb5fdc', 'ServiceStatusPayload': '1.0-a5e7b4fd6cc5581be45b31ff1f3a3f7f', expected, actual = checker.test_hashes(notification_object_data)",12,11
openstack%2Fkolla-ansible~master~I060e21ada928577e833de2782be5ea570be32730,openstack/kolla-ansible,master,I060e21ada928577e833de2782be5ea570be32730,Move glance precheck into its own role,MERGED,2016-11-18 03:09:07.000000000,2016-11-29 16:26:16.000000000,2016-11-29 16:26:16.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-11-18 03:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4dc97789461a2440eb1a7adc8ddf2020c03f2601', 'message': 'Move glance precheck into its own role\n\nChange-Id: I060e21ada928577e833de2782be5ea570be32730\nPartially-implements: blueprint condition-pre-check\n'}, {'number': 2, 'created': '2016-11-23 12:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1f53b1107062539f5714c7157cba8e11014cadc', 'message': 'Move glance precheck into its own role\n\nChange-Id: I060e21ada928577e833de2782be5ea570be32730\nPartially-implements: blueprint condition-pre-check\n'}, {'number': 3, 'created': '2016-11-23 13:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ef9c62a17db2566342bf0bf5d057ba2636c51e6', 'message': 'Move glance precheck into its own role\n\nDepends-On: I0773851b61d341117ab214382856a9036aca51bb\nChange-Id: I060e21ada928577e833de2782be5ea570be32730\nPartially-implements: blueprint condition-pre-check\n'}, {'number': 4, 'created': '2016-11-29 01:56:55.000000000', 'files': ['ansible/roles/glance/tasks/precheck.yml', 'ansible/library/kolla_container_facts.py', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb4313ca497b380229916f33f8ef54657188a288', 'message': 'Move glance precheck into its own role\n\nDepends-On: I0773851b61d341117ab214382856a9036aca51bb\nChange-Id: I060e21ada928577e833de2782be5ea570be32730\nPartially-implements: blueprint condition-pre-check\n'}]",3,399354,eb4313ca497b380229916f33f8ef54657188a288,16,4,4,7488,,,0,"Move glance precheck into its own role

Depends-On: I0773851b61d341117ab214382856a9036aca51bb
Change-Id: I060e21ada928577e833de2782be5ea570be32730
Partially-implements: blueprint condition-pre-check
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/399354/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/glance/tasks/precheck.yml', 'ansible/library/kolla_container_facts.py', 'docker/haproxy/Dockerfile.j2', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/haproxy/tasks/precheck.yml']",5,4dc97789461a2440eb1a7adc8ddf2020c03f2601,bp/condition-pre-check,"- name: Get container facts kolla_container_facts: name: haproxy register: container_facts - name: Getting haproxy stat shell: echo ""show stat"" | docker exec -i haproxy socat unix-connect:/var/lib/kolla/haproxy/haproxy.sock stdio register: haproxy_stat_shell changed_when: false failed_when: false when: container_facts['haproxy'] is defined - set_fact: haproxy_stat: ""{{ haproxy_stat_shell.stdout|default('') }}"" - name: Checking free port for Glance API HAProxy wait_for: host: ""{{ kolla_internal_vip_address }}"" port: ""{{ glance_api_port }}"" connect_timeout: 1 state: stopped when: - enable_glance | bool - inventory_hostname in groups['haproxy'] - ""{{ 'glance_api' not in haproxy_stat }}"" - name: Checking free port for Glance Registry HAProxy wait_for: host: ""{{ kolla_internal_vip_address }}"" port: ""{{ glance_registry_port }}"" connect_timeout: 1 state: stopped when: - enable_glance | bool - inventory_hostname in groups['haproxy'] - ""{{ 'glance_registry' not in haproxy_stat }}""",,144,41
openstack%2Ftripleo-ci~master~I8235fa0648a05c2420c536e388b05e9c2f8fecc1,openstack/tripleo-ci,master,I8235fa0648a05c2420c536e388b05e9c2f8fecc1,Consume TripleO CI scenarios envs from THT,MERGED,2016-11-24 16:28:18.000000000,2016-11-29 16:25:43.000000000,2016-11-29 16:25:43.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 10873}, {'_account_id': 12715}, {'_account_id': 20775}, {'_account_id': 21513}]","[{'number': 1, 'created': '2016-11-24 16:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9dec49a097aa6f9967e2dad14dd7bbb795b18bcb', 'message': 'Consume TripleO CI scenarios envs from THT\n\nUse TripleO CI scenarios environments from TripleO Heat Templates.\n\nNote: Newton jobs will fail once we merge this patch, and will pass\nagain once we merge and backport:\nhttps://review.openstack.org/#/c/402119/ into stable/newton.\n\nChange-Id: I8235fa0648a05c2420c536e388b05e9c2f8fecc1\nDepends-On: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}, {'number': 2, 'created': '2016-11-24 18:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/187bdec532d33283dc9f51ca9ba1a560b212ded8', 'message': 'Consume TripleO CI scenarios envs from THT\n\nUse TripleO CI scenarios environments from TripleO Heat Templates.\n\nNote: Newton jobs will fail once we merge this patch, and will pass\nagain once we merge and backport:\nhttps://review.openstack.org/#/c/402119/ into stable/newton.\n\nChange-Id: I8235fa0648a05c2420c536e388b05e9c2f8fecc1\nDepends-On: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}, {'number': 3, 'created': '2016-11-25 12:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4e969ee52f1eb9b2876830331a0cb8c0dbbd4bd', 'message': 'Consume TripleO CI scenarios envs from THT\n\nUse TripleO CI scenarios environments from TripleO Heat Templates.\n\nNote: Newton jobs will fail once we merge this patch, and will pass\nagain once we merge and backport:\nhttps://review.openstack.org/#/c/402119/ into stable/newton.\n\nChange-Id: I8235fa0648a05c2420c536e388b05e9c2f8fecc1\nDepends-On: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}, {'number': 4, 'created': '2016-11-25 15:27:49.000000000', 'files': ['templates/scenario001-multinode-pingtest.yaml', 'templates/scenario002-multinode-pingtest.yaml', 'templates/scenario003-multinode-pingtest.yaml', 'scripts/tripleo.sh', 'test-environments/scenario001-multinode.yaml', 'test-environments/scenario002-multinode.yaml', 'toci_gate_test.sh', 'test-environments/scenario003-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/213ec15d3e3c946687f6d8a42f7d1772dcdac0bc', 'message': 'Consume TripleO CI scenarios envs from THT\n\nUse TripleO CI scenarios environments from TripleO Heat Templates.\n\nNote: Newton jobs will fail once we merge this patch, and will pass\nagain once we merge and backport:\nhttps://review.openstack.org/#/c/402119/ into stable/newton.\n\nChange-Id: I8235fa0648a05c2420c536e388b05e9c2f8fecc1\nDepends-On: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}]",0,402131,213ec15d3e3c946687f6d8a42f7d1772dcdac0bc,35,8,4,3153,,,0,"Consume TripleO CI scenarios envs from THT

Use TripleO CI scenarios environments from TripleO Heat Templates.

Note: Newton jobs will fail once we merge this patch, and will pass
again once we merge and backport:
https://review.openstack.org/#/c/402119/ into stable/newton.

Change-Id: I8235fa0648a05c2420c536e388b05e9c2f8fecc1
Depends-On: I3527a64c0c8f56ca77115d32849fa23fe710112d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/31/402131/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/scenario001-multinode-pingtest.yaml', 'templates/scenario002-multinode-pingtest.yaml', 'templates/scenario003-multinode-pingtest.yaml', 'scripts/tripleo.sh', 'test-environments/scenario001-multinode.yaml', 'test-environments/scenario002-multinode.yaml', 'toci_gate_test.sh', 'test-environments/scenario003-multinode.yaml']",8,9dec49a097aa6f9967e2dad14dd7bbb795b18bcb,tripleo-ci/scenarios,Deprecated file. Will be removed once we merge https://review.openstack.org/#/c/402119/. We keep it so we can still trigger jobs with Zuul.,resource_registry: OS::TripleO::Controller::Net::SoftwareConfig: ../heat-templates/net-config-multinode.yaml OS::TripleO::Compute::Net::SoftwareConfig: ../heat-templates/net-config-multinode.yaml OS::TripleO::Services::SaharaApi: /usr/share/openstack-tripleo-heat-templates/puppet/services/sahara-api.yaml OS::TripleO::Services::SaharaEngine: /usr/share/openstack-tripleo-heat-templates/puppet/services/sahara-engine.yaml parameter_defaults: ControllerServices: - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GlanceRegistry - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatApiCloudwatch - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::MySQL - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronServer - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::RabbitMQ - OS::TripleO::Services::HAproxy - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Memcached - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::Ntp - OS::TripleO::Services::Snmp - OS::TripleO::Services::Timezone - OS::TripleO::Services::NovaCompute - OS::TripleO::Services::NovaLibvirt - OS::TripleO::Services::SaharaApi - OS::TripleO::Services::SaharaEngine ControllerExtraConfig: nova::compute::libvirt::services::libvirt_virt_type: qemu nova::compute::libvirt::libvirt_virt_type: qemu Debug: true # we don't deploy Swift so we switch to file backend. GlanceBackend: 'file',26,600
openstack%2Ftripleo-ci~master~I701c01dd18023c0c05aede9d06b6b1380b6f2386,openstack/tripleo-ci,master,I701c01dd18023c0c05aede9d06b6b1380b6f2386,Enable consuming packages for a feature branch,MERGED,2016-11-18 12:10:21.000000000,2016-11-29 16:25:14.000000000,2016-11-29 16:25:14.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 1955}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 10873}, {'_account_id': 12715}, {'_account_id': 13294}]","[{'number': 1, 'created': '2016-11-18 12:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c615281c5be8f1ea2bb1aa6c658c97443632feab', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\n'}, {'number': 2, 'created': '2016-11-18 12:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a87edbb8d27aca7162558e527ed18fdf5026fbd8', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\n'}, {'number': 3, 'created': '2016-11-18 14:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ba0d8866bf3145f93eab26af35b01d8934ce2a0', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\n'}, {'number': 4, 'created': '2016-11-19 09:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cea1bdca6c526361acfd4c48ea8dbfdbe9657c5e', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}, {'number': 5, 'created': '2016-11-21 11:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/393f8103443f6ff757c447b85f3c847673304b29', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}, {'number': 6, 'created': '2016-11-24 19:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0bb6094010cb096189416a8eadd945eaa0750b9a', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}, {'number': 7, 'created': '2016-11-24 19:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f9b1729eea6ae23c6340a72a54eea461282ff74', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nAlso update ELEMENTS_PATH properly to consune latest\nfeatures from diskimage-builder\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}, {'number': 8, 'created': '2016-11-24 20:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f3b2a10fc56865e836502b2706ef699009d56c70', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nAlso update ELEMENTS_PATH properly to consune latest\nfeatures from diskimage-builder\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}, {'number': 9, 'created': '2016-11-24 21:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20984d2daae3d58945694dc03a19da72080d46b0', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nAlso update ELEMENTS_PATH properly to consune latest\nfeatures from diskimage-builder\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}, {'number': 10, 'created': '2016-11-24 22:34:52.000000000', 'files': ['scripts/common_vars.bash', 'scripts/common_functions.sh', 'scripts/tripleo.sh', 'scripts/bootstrap-overcloud-full.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3deb01f1097cc6d2d7132830cd8a2e9c0d3c9c62', 'message': 'Enable consuming packages for a feature branch\n\nAn use case for TripleO CI can be to test changes on an\nspecific feature branch. In that case, the packages need to be\nconsumed for that specific branch, instead of master.\nThis change enables the detection of a feature branch in the\ncurrent change, and enables the related repositories (they will\ndefault to master if the feature branch for a repo does not exist)\n\nAlso update ELEMENTS_PATH properly to consune latest\nfeatures from diskimage-builder\n\nChange-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386\nNeeded-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c\n'}]",2,399562,3deb01f1097cc6d2d7132830cd8a2e9c0d3c9c62,42,8,10,6133,,,0,"Enable consuming packages for a feature branch

An use case for TripleO CI can be to test changes on an
specific feature branch. In that case, the packages need to be
consumed for that specific branch, instead of master.
This change enables the detection of a feature branch in the
current change, and enables the related repositories (they will
default to master if the feature branch for a repo does not exist)

Also update ELEMENTS_PATH properly to consune latest
features from diskimage-builder

Change-Id: I701c01dd18023c0c05aede9d06b6b1380b6f2386
Needed-By: I0ca6a4ae3a2684d473b44e5f332ee4225ee30f8c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/399562/8 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/common_vars.bash', 'scripts/tripleo.sh']",2,c615281c5be8f1ea2bb1aa6c658c97443632feab,tripleoci-feature-branch," if [ -n ""$STABLE_RELEASE"" ]; then # first check if we have a stable release elif [ -n ""$FEATURE_BRANCH"" ]; then # next, check if we are testing for a feature branch sed -i -e ""s%baseurl=.*%baseurl=https://trunk.rdoproject.org/centos7-$FEATURE_BRANCH%"" projects.ini sed -i -e ""s%distro=.*%distro=rpm-$FEATURE_BRANCH%"" projects.ini sed -i -e ""s%source=.*%source=stable/$FEATURE_BRANCH%"" projects.ini else sed -i -e ""s%baseurl=.*%baseurl=https://trunk.rdoproject.org/centos7%"" projects.ini sed -i -e ""s%distro=.*%distro=rpm-master%"" projects.ini sed -i -e ""s%source=.*%source=master%"" projects.ini"," if [ -z ""$STABLE_RELEASE"" ]; then sed -i -e ""s%baseurl=.*%baseurl=https://trunk.rdoproject.org/centos7%"" projects.ini sed -i -e ""s%distro=.*%distro=rpm-master%"" projects.ini sed -i -e ""s%source=.*%source=master%"" projects.ini else",18,5
openstack%2Ffuel-library~master~I5e45cb3b3cde1294a5a9207e5727bd9da9f79238,openstack/fuel-library,master,I5e45cb3b3cde1294a5a9207e5727bd9da9f79238,Remove explicit python-swift package declaration from glance,MERGED,2016-11-25 14:12:36.000000000,2016-11-29 16:23:54.000000000,2016-11-29 16:20:35.000000000,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 13344}, {'_account_id': 14200}, {'_account_id': 16518}, {'_account_id': 16771}, {'_account_id': 19158}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-25 14:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/13e47e9890f200f5c485d44da4a389be0c5404f5', 'message': ""Remove explicit python-swift package declaration from glance\n\nAs python-swift package already defined in glance::backend::swift\nclass, don't declaring it explicitly at glance task.\n\nChange-Id: I5e45cb3b3cde1294a5a9207e5727bd9da9f79238\nCloses-Bug: #1644844\n""}, {'number': 2, 'created': '2016-11-28 09:51:33.000000000', 'files': ['deployment/puppet/openstack_tasks/manifests/glance/glance.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a4984232b3a8634d836906694bceb34c690a1b06', 'message': ""Remove explicit python-swift package declaration from glance\n\nAs python-swift package already defined in glance::backend::swift\nclass, don't declaring it explicitly at glance task.\n\nChange-Id: I5e45cb3b3cde1294a5a9207e5727bd9da9f79238\nCloses-Bug: #1644844\n""}]",0,402647,a4984232b3a8634d836906694bceb34c690a1b06,57,12,2,11827,,,0,"Remove explicit python-swift package declaration from glance

As python-swift package already defined in glance::backend::swift
class, don't declaring it explicitly at glance task.

Change-Id: I5e45cb3b3cde1294a5a9207e5727bd9da9f79238
Closes-Bug: #1644844
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/47/402647/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack_tasks/manifests/glance/glance.pp'],1,13e47e9890f200f5c485d44da4a389be0c5404f5,bug/1644844,, # TODO (dmburmistrov): remove this workaround after LaunchPad # (https://bugs.launchpad.net/glance/+bug/1604397) is fixed # and released to UCA repos if $::os_package_type == 'ubuntu' { ensure_packages(['python-swiftclient']) Package['python-swiftclient'] -> Class['::glance::glare'] } ,0,8
openstack%2Fpython-tripleoclient~master~Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0,openstack/python-tripleoclient,master,Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0,Default the stack name to 'overcloud' in overcloud node delete,MERGED,2016-11-09 10:55:04.000000000,2016-11-29 16:23:07.000000000,2016-11-14 07:56:22.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4978}, {'_account_id': 9317}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 18575}]","[{'number': 1, 'created': '2016-11-09 10:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4a1bae9af1023ebbd58153f949e9f581439c6f4', 'message': ""Don't call the node delete workflow if the stack isn't provided\n\nThe stack needs to be passed as either a CLI arg with --stack or via the\nenvironment variable OVERCLOUD_STACK_NAME. At the moment if it isn't\nprovided either way the workflow is called with an empty string for the\nstack name. This will then fail.\n\nThis change verifies that the stack name has been provided before\ncalling the workflow. If it isn't it will exit early and display a\nmessage to the user.\n\nChange-Id: Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0\nCloses-Bug: #1640244\n""}, {'number': 2, 'created': '2016-11-10 12:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6600117c567362f38e22acf3797e8375e8c68396', 'message': ""Default the stack name to 'overcloud\n\nThe stack needs to be passed as either a CLI arg with --stack or via the\nenvironment variable OVERCLOUD_STACK_NAME. At the moment if it isn't\nprovided either way the workflow is called with an empty string for the\nstack name. This will then fail.\n\nThis change defaults the stack name to 'overcloud' which matches the\ndeploy command. One of the unit tests was updated so that it didn't pass\nthe default value to ensure that it can still be overwritten.\n\nChange-Id: Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0\nCloses-Bug: #1640244\nParial-Bug: #1640770\n""}, {'number': 3, 'created': '2016-11-10 12:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/96f9b1f0a7c6f9dcbe12e88c7cafa65ca9993ddc', 'message': ""Default the stack name to 'overcloud' in overcloud node delete\n\nThe stack needs to be passed as either a CLI arg with --stack or via the\nenvironment variable OVERCLOUD_STACK_NAME. At the moment if it isn't\nprovided either way the workflow is called with an empty string for the\nstack name. This will then fail.\n\nThis change defaults the stack name to 'overcloud' which matches the\ndeploy command. One of the unit tests was updated so that it didn't pass\nthe default value to ensure that it can still be overwritten.\n\nChange-Id: Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0\nCloses-Bug: #1640244\nParial-Bug: #1640770\n""}, {'number': 4, 'created': '2016-11-10 12:51:10.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0af664656d82ab5d658228cd078691f9abc3e789', 'message': ""Default the stack name to 'overcloud' in overcloud node delete\n\nThe stack needs to be passed as either a CLI arg with --stack or via the\nenvironment variable OVERCLOUD_STACK_NAME. At the moment if it isn't\nprovided either way the workflow is called with an empty string for the\nstack name. This will then fail.\n\nThis change defaults the stack name to 'overcloud' which matches the\ndeploy command. One of the unit tests was updated so that it didn't pass\nthe default value to ensure that it can still be overwritten.\n\nChange-Id: Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0\nCloses-Bug: #1640244\nPartial-Bug: #1640770\n""}]",3,395522,0af664656d82ab5d658228cd078691f9abc3e789,26,7,4,9712,,,0,"Default the stack name to 'overcloud' in overcloud node delete

The stack needs to be passed as either a CLI arg with --stack or via the
environment variable OVERCLOUD_STACK_NAME. At the moment if it isn't
provided either way the workflow is called with an empty string for the
stack name. This will then fail.

This change defaults the stack name to 'overcloud' which matches the
deploy command. One of the unit tests was updated so that it didn't pass
the default value to ensure that it can still be overwritten.

Change-Id: Ie44d5cba90e81ae1a35a4cabc6e20a202bfddef0
Closes-Bug: #1640244
Partial-Bug: #1640770
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/395522/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,b4a1bae9af1023ebbd58153f949e9f581439c6f4,tripleo/ocata-1," if not parsed_args.stack: print(""The Heat stack name must be passwed via the argument "" ""--stack or environment variable OVERCLOUD_STCK_NAME."") return ",,18,0
openstack%2Fpuppet-watcher~master~I342e8ffbe1bc7bab8e9ab4f93b008b2d278dd590,openstack/puppet-watcher,master,I342e8ffbe1bc7bab8e9ab4f93b008b2d278dd590,"Revert ""Fix centos7 ci""",MERGED,2016-11-17 15:58:21.000000000,2016-11-29 16:22:48.000000000,2016-11-29 16:22:48.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 15519}, {'_account_id': 20676}]","[{'number': 1, 'created': '2016-11-17 15:58:21.000000000', 'files': ['spec/acceptance/watcher_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/9a7d40ab47844eaa43428363c0b41317272775be', 'message': 'Revert ""Fix centos7 ci""\n\nOnce RDO promotion goes through with the correct dependencies\nthis patch should be merged as this fix was a temporary\nsolution.\n\nThis reverts commit 77595716f92fe63fcf9f1658ae329bd7ea02b6f8.\n\nChange-Id: I342e8ffbe1bc7bab8e9ab4f93b008b2d278dd590\n'}]",0,399108,9a7d40ab47844eaa43428363c0b41317272775be,14,5,1,14985,,,0,"Revert ""Fix centos7 ci""

Once RDO promotion goes through with the correct dependencies
this patch should be merged as this fix was a temporary
solution.

This reverts commit 77595716f92fe63fcf9f1658ae329bd7ea02b6f8.

Change-Id: I342e8ffbe1bc7bab8e9ab4f93b008b2d278dd590
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/08/399108/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/watcher_spec.rb'],1,9a7d40ab47844eaa43428363c0b41317272775be,fix_centos7-ci-broken,," # TODO(zhongshengping): a hack to get pass package { 'python2-oslo-versionedobjects': ensure => present, }",0,4
openstack%2Fironic~master~I685b2f464f9d7dbacf5a8f86a1872e269fb097e9,openstack/ironic,master,I685b2f464f9d7dbacf5a8f86a1872e269fb097e9,Remove file prefix parameter from lockutils methods,MERGED,2016-10-07 12:34:26.000000000,2016-11-29 16:20:53.000000000,2016-11-29 16:20:53.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 14943}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-10-07 12:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0108488459708fb18ca1628cb7178507a13831e', 'message': 'Remove file prefix parameter from lockutils methods\n\n""lock_file_prefix"" parameter is only needed for external locks\n(is not default), and external locks are not needed for ironic\ncurrently.\n\nChange-Id: I685b2f464f9d7dbacf5a8f86a1872e269fb097e9\n'}, {'number': 2, 'created': '2016-11-28 11:33:45.000000000', 'files': ['ironic/drivers/modules/image_cache.py', 'ironic/common/driver_factory.py', 'ironic/common/dhcp_factory.py', 'ironic/nova/compute/manager.py', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae73b8e83ef124dd0fa132e0f4a454102b66134f', 'message': 'Remove file prefix parameter from lockutils methods\n\n""lock_file_prefix"" parameter is only needed for external locks\n(is not default), and external locks are not needed for ironic\ncurrently.\n\nChange-Id: I685b2f464f9d7dbacf5a8f86a1872e269fb097e9\n'}]",0,383706,ae73b8e83ef124dd0fa132e0f4a454102b66134f,21,10,2,7711,,,0,"Remove file prefix parameter from lockutils methods

""lock_file_prefix"" parameter is only needed for external locks
(is not default), and external locks are not needed for ironic
currently.

Change-Id: I685b2f464f9d7dbacf5a8f86a1872e269fb097e9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/383706/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_cache.py', 'ironic/common/driver_factory.py', 'ironic/common/dhcp_factory.py', 'ironic/nova/compute/manager.py', 'ironic/common/policy.py']",5,c0108488459708fb18ca1628cb7178507a13831e,remove-lock-prefix,@lockutils.synchronized('policy_enforcer'),"@lockutils.synchronized('policy_enforcer', 'ironic-')",8,8
openstack%2Freleases~master~I84faf493e07547e31ebfb6241ce0c43204bc98a9,openstack/releases,master,I84faf493e07547e31ebfb6241ce0c43204bc98a9,Release bugfix for python-troveclient in newton,ABANDONED,2016-11-22 16:38:40.000000000,2016-11-29 16:19:44.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2016-11-22 16:38:40.000000000', 'files': ['deliverables/newton/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/babb10c9bc969626ecca6499e8bdd14a978800d6', 'message': 'Release bugfix for python-troveclient in newton\n\nChange-Id: I84faf493e07547e31ebfb6241ce0c43204bc98a9\n'}]",0,400863,babb10c9bc969626ecca6499e8bdd14a978800d6,4,2,1,9664,,,0,"Release bugfix for python-troveclient in newton

Change-Id: I84faf493e07547e31ebfb6241ce0c43204bc98a9
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/400863/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/python-troveclient.yaml'],1,babb10c9bc969626ecca6499e8bdd14a978800d6,newton-python-troveclient, - version: 2.5.1 projects: - repo: openstack/python-troveclient hash: 1cbaf62c8ca9bdb461e50e548b9eb9710ef9cdb9,,4,0
openstack%2Ftripleo-specs~master~Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c,openstack/tripleo-specs,master,Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c,Step by step validation Spec,MERGED,2016-09-19 09:25:10.000000000,2016-11-29 16:19:14.000000000,2016-11-29 16:19:14.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6645}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7699}, {'_account_id': 9592}, {'_account_id': 16339}]","[{'number': 1, 'created': '2016-09-19 09:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/2049ebf05038c628a55fc2d4ccdf36fffdee203c', 'message': 'Step by step validation Spec\n\nChange-Id: Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c\n'}, {'number': 2, 'created': '2016-10-13 16:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0decd13f3136078c91c01508f2b7169e3d72dd4c', 'message': 'Step by step validation Spec\n\nChange-Id: Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c\n'}, {'number': 3, 'created': '2016-11-18 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b31be5702bd04a5ae3ed229bbb208322257a2af0', 'message': 'Step by step validation Spec\n\nChange-Id: Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c\n'}, {'number': 4, 'created': '2016-11-18 11:54:03.000000000', 'files': ['specs/ocata/step-by-step-validation.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/45f99411f53e0bf5ce5842a8aded8ee4c75a1e5d', 'message': 'Step by step validation Spec\n\nChange-Id: Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c\n'}]",9,372336,45f99411f53e0bf5ce5842a8aded8ee4c75a1e5d,22,9,4,6645,,,0,"Step by step validation Spec

Change-Id: Ic2c9e95b50315371c63b374a2d6e1c2de16c6c1c
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/36/372336/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/ocata/step-by-step-validation.rst']",2,2049ebf05038c628a55fc2d4ccdf36fffdee203c,step-by-step,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= Step by step validation ======================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo/+spec/step-by-step-validation Validate each step during the installation to be able to stop fast in case of errors and provide feedback on which components are in error. Problem Description =================== During deployment, problems are often spotted at the end of the configuration and can accumulate on top of each other making it difficult to find the root cause. Deployers and developpers will benefit by having the installation process fails fast and spotting the lowest level possible components causing the problem. Proposed Change =============== Overview -------- Leverage the steps already defined in Tripleo to run a validation tool at the end of each step. During each step, collect assertions about what components are configured on each host then at the end of the step, run a validation tool consumming the assertions to report all the failed assertions. Alternatives ------------ We could use Puppet to add assertions in the code to validate what has been configured. The drawback of this approach is the difficulty to have a good reporting on what are the issues compared to a specialized tool that can be run outside of the installer if needed. Security Impact --------------- * some validations may require access to sensitive data like passwords or keys to access the components. Other End User Impact --------------------- This feature will be activated automatically in the installer. If needed, the deployer or developper will be able to launch the tool by hand to validate a set of assertions. Performance Impact ------------------ We expect the validations to take less than one minute by step. Other Deployer Impact --------------------- The objective is to have a fastest iterative process by failing fast. Developer Impact ---------------- Each configuration module will need to generate assertions to be consummed by the validation tool. Implementation ============== Assignee(s) ----------- To be defined Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- * generate assertions about the configured components on the server being configured in yaml files. * implement the validation tool leveraging the work that has already been done in ``tripleo-validations`` that will do the following steps: 1. collect yaml files from the servers on the undercloud. 2. run validations in parallel on each server from the undercloud. 3. report all issues and exit with 0 if no error or 1 if there is at least one error. Dependencies ============ To be added. Testing ======= The change will be used automatically in the CI so it will always be tested. Documentation Impact ==================== None except if we want to document the manual run of the tool. References ========== A similar approach was used in SpinalStack using serverspec. See https://github.com/redhat-cip/config-tools/blob/master/verify-servers.sh A collection of Ansible playbooks to detect and report potential issues during TripleO deployments: https://github.com/openstack/tripleo-validations ",,137,2
openstack%2Ffuel-library~stable%2Fmitaka~Ice7c8f964246f4abd3619906aa4404ea826a9606,openstack/fuel-library,stable/mitaka,Ice7c8f964246f4abd3619906aa4404ea826a9606,Change approach how to check whether directory is writable,MERGED,2016-11-14 14:32:45.000000000,2016-11-29 16:19:10.000000000,2016-11-29 16:15:32.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13344}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-14 14:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3567c79baaa88e85a1f77bcd50566b6fb22c6dac', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 2, 'created': '2016-11-21 11:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c2e7162092912383c5b96997e32f5d21caaabbf2', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 3, 'created': '2016-11-23 13:19:48.000000000', 'files': ['files/fuel-ha-utils/ocf/mysql-wss'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fcd091a3374db46d23d8910f28200bdef5242735', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}]",0,397213,fcd091a3374db46d23d8910f28200bdef5242735,104,7,3,13344,,,0,"Change approach how to check whether directory is writable

Change-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606
Closes-Bug: 1630561
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/13/397213/1 && git format-patch -1 --stdout FETCH_HEAD,['files/fuel-ha-utils/ocf/mysql-wss'],1,3567c79baaa88e85a1f77bcd50566b6fb22c6dac,bug/1630561," for dir in $pid_dir $socket_dir; do if ! /usr/bin/sudo -n -u $OCF_RESKEY_user ""/usr/bin/test -w $dir""; then ocf_log err ""${LH} Directory $dir is not writable by $OCF_RESKEY_user"" exit $OCF_ERR_PERM; fi done ",,7,0
openstack%2Freleases~master~I63108edf2167762e9b7d957945709c4b2889d217,openstack/releases,master,I63108edf2167762e9b7d957945709c4b2889d217,Release python-gnocchiclient 2.7.0,MERGED,2016-11-29 07:21:59.000000000,2016-11-29 16:18:40.000000000,2016-11-29 16:18:40.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6537}]","[{'number': 1, 'created': '2016-11-29 07:21:59.000000000', 'files': ['deliverables/_independent/python-gnocchiclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c5cd16d9b4a736cee883dc5b494aec610fef71b2', 'message': 'Release python-gnocchiclient 2.7.0\n\nChange-Id: I63108edf2167762e9b7d957945709c4b2889d217\n'}]",0,404057,c5cd16d9b4a736cee883dc5b494aec610fef71b2,7,3,1,2813,,,0,"Release python-gnocchiclient 2.7.0

Change-Id: I63108edf2167762e9b7d957945709c4b2889d217
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/404057/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-gnocchiclient.yaml'],1,c5cd16d9b4a736cee883dc5b494aec610fef71b2,, - version: 2.7.0 projects: - repo: openstack/python-gnocchiclient hash: 107b117a925252aa67a545e32468d2965f56af9f,,4,0
openstack%2Ftripleo-specs~master~I6ebbf56fe1066c9f3963c84bd874a48e38692b63,openstack/tripleo-specs,master,I6ebbf56fe1066c9f3963c84bd874a48e38692b63,GUI: Import/Export Deployment Plan,MERGED,2016-11-14 16:59:19.000000000,2016-11-29 16:16:38.000000000,2016-11-29 16:16:38.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 9317}, {'_account_id': 17888}]","[{'number': 1, 'created': '2016-11-14 16:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6019ad6b24678eae875246ab3b35323e1a55a0d1', 'message': 'GUI: Import/Export Deployment Plan\n\nChange-Id: I6ebbf56fe1066c9f3963c84bd874a48e38692b63\n'}, {'number': 2, 'created': '2016-11-22 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/04425ba9df074db83a4ace06e9747a1b22ad74fd', 'message': 'GUI: Import/Export Deployment Plan\n\nChange-Id: I6ebbf56fe1066c9f3963c84bd874a48e38692b63\n'}, {'number': 3, 'created': '2016-11-28 15:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6393689c4ff0107949060995395f192c43e4e49b', 'message': 'GUI: Import/Export Deployment Plan\n\nChange-Id: I6ebbf56fe1066c9f3963c84bd874a48e38692b63\n'}, {'number': 4, 'created': '2016-11-28 15:44:16.000000000', 'files': ['specs/ocata/gui-plan-import-export.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6954b41ba37215bac564fafa8c6bb8ea7de548f0', 'message': 'GUI: Import/Export Deployment Plan\n\nChange-Id: I6ebbf56fe1066c9f3963c84bd874a48e38692b63\n'}]",10,397296,6954b41ba37215bac564fafa8c6bb8ea7de548f0,22,5,4,9317,,,0,"GUI: Import/Export Deployment Plan

Change-Id: I6ebbf56fe1066c9f3963c84bd874a48e38692b63
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/96/397296/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/gui-plan-import-export.rst'],1,6019ad6b24678eae875246ab3b35323e1a55a0d1,gui_plan_import_export,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== GUI: Import/Export Deployment Plan ================================== Add two features to TripleO UI: * Import a deployment plan with a Mistral environment * Export a deployment plan with a Mistral environment Blueprint: https://blueprints.launchpad.net/tripleo/+spec/gui-plan-import-export Problem Description =================== Right now, the UI only supports simple plan creation. The user needs to upload the plan files, make the environment selection and set the parameters. We want to add a plan import feature which would allow the user to import the plan together with a complete Mistral environment. This way the selection of the environment and parameters would be stored and automatically imported, without any need for manual configuration. Conversely, we want to allow the user to export a plan together with a Mistral environment, using the UI. Proposed Change =============== Overview -------- In order to identify the Mistral environment when importing a plan, I propose we use a JSON formatted file and name it 'mistral-environment.json'. This file should be uploaded to the Swift container together with the rest of the deployment plan files. The convention of calling the file with a fixed name is enough for it to be detected. Once this file is detected by the tripleo-common workflow handling the plan import, the workflow then creates (or updates) the Mistral environment using the file's contents. In order to avoid possible future unintentional overwriting of environment, the workflow should delete this file once it has created (or updated) the Mistral environment with its contents. Exporting the plan should consist of downloading all the plan files from the swift container, adding the mistral-environment.json, and packing it all up in a tarball. Alternatives ------------ One alternative is what we have now, i.e. making the user perform all the environment configuration settings and parameter settings manually each time. This is obviously very tedious and the user experience suffers greatly as a result. The alternative to deleting the mistral-environment.json file upon its processing is to leave in the swift container and keep it in sync with all the updates that might happen thereafter. This can get very complicated and is entirely unnecessary, so deleting the file instead is a better choice. Security Impact --------------- None Other End User Impact --------------------- None Performance Impact ------------------ The import and export features will only be triggered on demand (user clicks on button, or similar), so they will have no performance impact on the rest of the application. Other Deployer Impact --------------------- None Developer Impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: akrivoka Other contributors: jtomasek d0ugal Work Items ---------- * tripleo-common: Enhance plan creation/update to consume mistral-environment.json blueprint: TBC * tripleo-common: Add plan export workflow blueprint: TBC * python-tripleoclient: Add plan import command blueprint: TBC * python-tripleoclient: Add plan export command blueprint: TBC * tripleo-ui: Integrate plan export into UI bluerpint: TBC Note: we don't need any additional UI for plan import - the existing UI elements for plan creation can be used for import as well. Dependencies ============ None Testing ======= The changes should be covered by unit tests in tripleo-ui, tripleo-common and python-tripleoclient. Both features (plan import and plan export) should also be covered by end-to-end integration tests. Documentation Impact ==================== User documentation should be enhanced by adding instructions on how these two features are to be used. References ========== None",,158,0
openstack%2Ffuel-library~stable%2Fnewton~Ice7c8f964246f4abd3619906aa4404ea826a9606,openstack/fuel-library,stable/newton,Ice7c8f964246f4abd3619906aa4404ea826a9606,Change approach how to check whether directory is writable,MERGED,2016-11-14 14:32:39.000000000,2016-11-29 16:16:04.000000000,2016-11-29 16:12:07.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13344}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-14 14:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2e8dfe2137a7dbde2e9d76476f126ed7d2b4d7d2', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 2, 'created': '2016-11-21 11:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a4857361e6e36690f6c46eb41b2be55caedca461', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 3, 'created': '2016-11-23 13:19:54.000000000', 'files': ['files/fuel-ha-utils/ocf/mysql-wss'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7508e060558430d1c9e17805b0868e9608fdf51e', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}]",0,397212,7508e060558430d1c9e17805b0868e9608fdf51e,75,7,3,13344,,,0,"Change approach how to check whether directory is writable

Change-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606
Closes-Bug: 1630561
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/12/397212/1 && git format-patch -1 --stdout FETCH_HEAD,['files/fuel-ha-utils/ocf/mysql-wss'],1,2e8dfe2137a7dbde2e9d76476f126ed7d2b4d7d2,bug/1630561," for dir in $pid_dir $socket_dir; do if ! /usr/bin/sudo -n -u $OCF_RESKEY_user ""/usr/bin/test -w $dir""; then ocf_log err ""${LH} Directory $dir is not writable by $OCF_RESKEY_user"" exit $OCF_ERR_PERM; fi done ",,7,0
openstack%2Fhorizon~master~I17d4887904771faee5b1fa87af0fdd09d5c055ba,openstack/horizon,master,I17d4887904771faee5b1fa87af0fdd09d5c055ba,Update spec code about controller and fix typo,ABANDONED,2016-11-27 15:59:56.000000000,2016-11-29 16:15:53.000000000,,"[{'_account_id': 3}, {'_account_id': 9622}]","[{'number': 1, 'created': '2016-11-27 15:59:56.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1251d5a83d5b8047547c8136ded0a8d199e0f5de', 'message': 'Update spec code about controller and fix typo\n\nUpdate count calls about watchCollection on tests and\nfix typo\n\nChange-Id: I17d4887904771faee5b1fa87af0fdd09d5c055ba\nCloses-Bug: #1644882\n'}]",1,403443,1251d5a83d5b8047547c8136ded0a8d199e0f5de,4,2,1,23600,,,0,"Update spec code about controller and fix typo

Update count calls about watchCollection on tests and
fix typo

Change-Id: I17d4887904771faee5b1fa87af0fdd09d5c055ba
Closes-Bug: #1644882
",git fetch https://review.opendev.org/openstack/horizon refs/changes/43/403443/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js']",2,1251d5a83d5b8047547c8136ded0a8d199e0f5de,bug/1644882, imageSnapshotsWatcher(); $scope.model.newInstanceSpec.source_type = {, $scope.model.newInstanceSpec.source_type = {,4,3
openstack%2Fbandit~master~Ie27fabe517259c3896ee2b302ab7e40aaacc71ab,openstack/bandit,master,Ie27fabe517259c3896ee2b302ab7e40aaacc71ab,Fix for pylint no-self-use error,MERGED,2016-11-28 20:38:38.000000000,2016-11-29 16:15:44.000000000,2016-11-29 16:15:44.000000000,"[{'_account_id': 3}, {'_account_id': 1528}, {'_account_id': 11029}, {'_account_id': 11716}, {'_account_id': 11861}, {'_account_id': 12000}, {'_account_id': 18462}, {'_account_id': 22781}]","[{'number': 1, 'created': '2016-11-28 20:38:38.000000000', 'files': ['pylintrc', 'bandit/core/config.py', 'bandit/core/test_set.py', 'bandit/core/tester.py', 'bandit/core/metrics.py'], 'web_link': 'https://opendev.org/openstack/bandit/commit/06681f0e985e5d99c87214353049f559348cf575', 'message': 'Fix for pylint no-self-use error\n\nPylint reports the following after re-enabling R0201.\n\n************* Module bandit.core.config\nR:174, 4: Method could be a function (no-self-use)\n************* Module bandit.core.metrics\nR: 84, 4: Method could be a function (no-self-use)\n************* Module bandit.core.test_set\nR: 41, 4: Method could be a function (no-self-use)\n************* Module bandit.core.tester\nR: 95, 4: Method could be a function (no-self-use)\n\nChange-Id: Ie27fabe517259c3896ee2b302ab7e40aaacc71ab\n'}]",0,403894,06681f0e985e5d99c87214353049f559348cf575,8,8,1,8119,,,0,"Fix for pylint no-self-use error

Pylint reports the following after re-enabling R0201.

************* Module bandit.core.config
R:174, 4: Method could be a function (no-self-use)
************* Module bandit.core.metrics
R: 84, 4: Method could be a function (no-self-use)
************* Module bandit.core.test_set
R: 41, 4: Method could be a function (no-self-use)
************* Module bandit.core.tester
R: 95, 4: Method could be a function (no-self-use)

Change-Id: Ie27fabe517259c3896ee2b302ab7e40aaacc71ab
",git fetch https://review.opendev.org/openstack/bandit refs/changes/94/403894/1 && git format-patch -1 --stdout FETCH_HEAD,"['pylintrc', 'bandit/core/config.py', 'bandit/core/test_set.py', 'bandit/core/tester.py', 'bandit/core/metrics.py']",5,06681f0e985e5d99c87214353049f559348cf575,, @staticmethod def _get_issue_counts(scores):," def _get_issue_counts(self, scores):",11,8
openstack%2Fbandit~master~I9147fb649a1eaf02a03dbfc746dd21480508669c,openstack/bandit,master,I9147fb649a1eaf02a03dbfc746dd21480508669c,"Replace 'assertFalse(a in b)' with 'assertNotIn(a, b)'",MERGED,2016-11-28 06:14:17.000000000,2016-11-29 16:14:05.000000000,2016-11-29 16:14:05.000000000,"[{'_account_id': 3}, {'_account_id': 8119}, {'_account_id': 12000}, {'_account_id': 22781}]","[{'number': 1, 'created': '2016-11-28 06:14:17.000000000', 'files': ['tests/unit/core/test_test_set.py'], 'web_link': 'https://opendev.org/openstack/bandit/commit/92e2d5530915a60e4fa4f256787301d156cfd05d', 'message': ""Replace 'assertFalse(a in b)' with 'assertNotIn(a, b)'\n\ntrivialfix\n\nChange-Id: I9147fb649a1eaf02a03dbfc746dd21480508669c\n""}]",0,403511,92e2d5530915a60e4fa4f256787301d156cfd05d,9,4,1,15905,,,0,"Replace 'assertFalse(a in b)' with 'assertNotIn(a, b)'

trivialfix

Change-Id: I9147fb649a1eaf02a03dbfc746dd21480508669c
",git fetch https://review.opendev.org/openstack/bandit refs/changes/11/403511/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/core/test_test_set.py'],1,92e2d5530915a60e4fa4f256787301d156cfd05d,assert_fixed," self.assertNotIn('Import', blacklist._config) self.assertNotIn('ImportFrom', blacklist._config)", self.assertFalse('Import' in blacklist._config) self.assertFalse('ImportFrom' in blacklist._config),2,2
openstack%2Ffuel-library~master~Ice7c8f964246f4abd3619906aa4404ea826a9606,openstack/fuel-library,master,Ice7c8f964246f4abd3619906aa4404ea826a9606,Change approach how to check whether directory is writable,MERGED,2016-11-14 14:16:31.000000000,2016-11-29 16:13:47.000000000,2016-11-29 16:10:26.000000000,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13344}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-14 14:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/201131b93f0c469ebe86c49b631a42bbcc3c61b1', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 2, 'created': '2016-11-15 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/42a353af03f20f77cedf2839c342b87bdbd5615c', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 3, 'created': '2016-11-21 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/65a516a9572c94c9b7500e446915038389bba8ed', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 4, 'created': '2016-11-22 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ec1534e38a5753d52cb8599a22e28e7278ac0a42', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 5, 'created': '2016-11-22 16:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/17fe565e3f076733db73782f88b4f5d55e68cfd9', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 6, 'created': '2016-11-23 08:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/798df8278c665ff9bf01b0e9d54d7b832602401e', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 7, 'created': '2016-11-23 13:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/018ce79cf9abcb1c67ffb98cf997e3242aea8373', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}, {'number': 8, 'created': '2016-11-24 14:44:26.000000000', 'files': ['files/fuel-ha-utils/ocf/mysql-wss'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/21cca3d9730a246ba2f4131288a1ead3e549d28e', 'message': 'Change approach how to check whether directory is writable\n\nChange-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606\nCloses-Bug: 1630561\n'}]",0,397207,21cca3d9730a246ba2f4131288a1ead3e549d28e,195,8,8,13344,,,0,"Change approach how to check whether directory is writable

Change-Id: Ice7c8f964246f4abd3619906aa4404ea826a9606
Closes-Bug: 1630561
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/07/397207/1 && git format-patch -1 --stdout FETCH_HEAD,['files/fuel-ha-utils/ocf/mysql-wss'],1,201131b93f0c469ebe86c49b631a42bbcc3c61b1,bug/1630561," for dir in $pid_dir $socket_dir; do if ! /usr/bin/sudo -n -u $OCF_RESKEY_user ""/usr/bin/test -w $dir""; then ocf_log err ""${LH} Directory $dir is not writable by $OCF_RESKEY_user"" exit $OCF_ERR_PERM; fi done ",,7,0
openstack%2Fpuppet-magnum~master~I935fcd75e41c9025939896f48b1904e56ae8614e,openstack/puppet-magnum,master,I935fcd75e41c9025939896f48b1904e56ae8614e,Fix a typo,MERGED,2016-11-29 00:34:13.000000000,2016-11-29 16:13:40.000000000,2016-11-29 16:13:40.000000000,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-11-29 00:34:13.000000000', 'files': ['spec/unit/type/magnum_api_paste_ini_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/312f3411f17f75cc80261fe4f9c9681771413b1f', 'message': 'Fix a typo\n\nTrivialFix\n\nChange-Id: I935fcd75e41c9025939896f48b1904e56ae8614e\n'}]",0,403957,312f3411f17f75cc80261fe4f9c9681771413b1f,8,4,1,21387,,,0,"Fix a typo

TrivialFix

Change-Id: I935fcd75e41c9025939896f48b1904e56ae8614e
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/57/403957/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/type/magnum_api_paste_ini_spec.rb'],1,312f3411f17f75cc80261fe4f9c9681771413b1f,fixtypo1,# to retrieve the parent provider,# to retrive the parent provider,1,1
openstack%2Freleases~master~Id44ebd65240646349eb38efed47f9b14363cf51f,openstack/releases,master,Id44ebd65240646349eb38efed47f9b14363cf51f,Kuryr-lib 0.2.0,MERGED,2016-11-29 10:13:51.000000000,2016-11-29 16:12:41.000000000,2016-11-29 16:12:41.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6133}, {'_account_id': 6598}, {'_account_id': 6786}, {'_account_id': 9820}, {'_account_id': 15967}, {'_account_id': 21273}]","[{'number': 1, 'created': '2016-11-29 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fbe7f444fdae9958b58ba05dcc0abb0b003d7048', 'message': 'Kuryr-lib second pre 1.0 release\n\nWe just merged the patch for vlan trunk support. This marks the last\nitem that the community agreed upon for the last pre 1.0 release, which\nwill need some refactor and dropping some old design.\n\nChange-Id: Id44ebd65240646349eb38efed47f9b14363cf51f\nSigned-off-by: Antoni S. Puimedon <asegurap@redhat.com>\n'}, {'number': 2, 'created': '2016-11-29 10:17:43.000000000', 'files': ['deliverables/_independent/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/35ec0518ba29ea4f3c4d9f7b8c69b919de123f4a', 'message': 'Kuryr-lib 0.2.0\n\nWe just merged the patch for vlan trunk support. This marks the last\nitem that the community agreed upon for the last pre 1.0 release, which\nwill need some refactor and dropping some old design.\n\nChange-Id: Id44ebd65240646349eb38efed47f9b14363cf51f\nSigned-off-by: Antoni S. Puimedon <asegurap@redhat.com>\n'}]",0,404124,35ec0518ba29ea4f3c4d9f7b8c69b919de123f4a,10,8,2,14352,,,0,"Kuryr-lib 0.2.0

We just merged the patch for vlan trunk support. This marks the last
item that the community agreed upon for the last pre 1.0 release, which
will need some refactor and dropping some old design.

Change-Id: Id44ebd65240646349eb38efed47f9b14363cf51f
Signed-off-by: Antoni S. Puimedon <asegurap@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/404124/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/kuryr.yaml'],1,fbe7f444fdae9958b58ba05dcc0abb0b003d7048,kuryr-lib-release, - version: 0.2.0 projects: - repo: openstack/kuryr hash: 051b7dcc53126193abb8e8c04c40c0a40f55f105 tarball-base: kuryr-lib,,5,0
openstack%2Fdevstack~master~I22580d31345dd356db2ebabbde231b24fd2fc0f6,openstack/devstack,master,I22580d31345dd356db2ebabbde231b24fd2fc0f6,tempest: Skip getting public net ID when using provider networking,ABANDONED,2016-11-29 15:55:13.000000000,2016-11-29 16:09:54.000000000,,[{'_account_id': 11929}],"[{'number': 1, 'created': '2016-11-29 15:55:13.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e624bbaf91bfc05223ed2b85874650eee187f07a', 'message': ""tempest: Skip getting public net ID when using provider networking\n\nWhen Q_USE_PROVIDER_NETWORKING is True, the public network isn't\ncreated. This patch skips retriving the public_network_id when\nprovider networking is used.\n\nChange-Id: I22580d31345dd356db2ebabbde231b24fd2fc0f6\n""}]",0,404294,e624bbaf91bfc05223ed2b85874650eee187f07a,4,1,1,11929,,,0,"tempest: Skip getting public net ID when using provider networking

When Q_USE_PROVIDER_NETWORKING is True, the public network isn't
created. This patch skips retriving the public_network_id when
provider networking is used.

Change-Id: I22580d31345dd356db2ebabbde231b24fd2fc0f6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/94/404294/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,e624bbaf91bfc05223ed2b85874650eee187f07a,skip-pub-net-check-on-provider-net, # if the extension is enabled and provider networking isn't being used if is_networking_extension_supported 'external-net' && ! is_provider_network; then, # if the extension is enabled. if is_networking_extension_supported 'external-net'; then,2,2
openstack%2Fneutron-lbaas~master~I045b170e2e05ac7b6a977148fb340036f4623da8,openstack/neutron-lbaas,master,I045b170e2e05ac7b6a977148fb340036f4623da8,Use ExtensionDescriptor from neutron-lib,MERGED,2016-11-25 21:14:49.000000000,2016-11-29 16:09:30.000000000,2016-11-29 16:09:30.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 12040}, {'_account_id': 17776}, {'_account_id': 21583}]","[{'number': 1, 'created': '2016-11-25 21:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/1f16cb7cd696a4c5b0a816b11eb3764789bc4135', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nChange-Id: I045b170e2e05ac7b6a977148fb340036f4623da8\n'}, {'number': 2, 'created': '2016-11-26 03:28:21.000000000', 'files': ['neutron_lbaas/extensions/healthmonitor_max_retries_down.py', 'neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/extensions/lb_graph.py', 'neutron_lbaas/extensions/lbaas_agentschedulerv2.py', 'neutron_lbaas/extensions/sharedpools.py', 'neutron_lbaas/extensions/lb_network_vip.py', 'neutron_lbaas/extensions/l7.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/bad6fd86f1102ec04dd2587579bba6d6d1c39f7a', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nDepends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5\n\nChange-Id: I045b170e2e05ac7b6a977148fb340036f4623da8\n'}]",0,403277,bad6fd86f1102ec04dd2587579bba6d6d1c39f7a,16,8,2,6524,,,0,"Use ExtensionDescriptor from neutron-lib

ExtensionDescriptor has been rehomed to neutron-lib and is being
removed from neutron core.

See https://review.openstack.org/398113

Depends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5

Change-Id: I045b170e2e05ac7b6a977148fb340036f4623da8
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/77/403277/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/extensions/healthmonitor_max_retries_down.py', 'neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/extensions/lb_graph.py', 'neutron_lbaas/extensions/lbaas_agentschedulerv2.py', 'neutron_lbaas/extensions/sharedpools.py', 'neutron_lbaas/extensions/lb_network_vip.py', 'neutron_lbaas/extensions/l7.py']",7,1f16cb7cd696a4c5b0a816b11eb3764789bc4135,ExtensionDescriptor,from neutron_lib.api import converters from neutron_lib.api import extensions as api_extensions from neutron_lib import constants as n_constants from neutron_lib import exceptions as nexceptionclass L7(api_extensions.ExtensionDescriptor):,from neutron_lib.api import converters from neutron_lib import constants as n_constants from neutron_lib import exceptions as nexceptionclass L7(extensions.ExtensionDescriptor):,17,14
openstack%2Fsearchlight~master~I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7,openstack/searchlight,master,I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7,Add tools/test-setup.sh script to setup test environment,MERGED,2016-11-17 18:02:37.000000000,2016-11-29 16:03:44.000000000,2016-11-29 16:03:44.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6547}, {'_account_id': 7665}, {'_account_id': 10063}, {'_account_id': 16150}]","[{'number': 1, 'created': '2016-11-17 18:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/5de60fb39a79f0dd58e13b4cafe19871337b40c9', 'message': 'Add tools/test-setup.sh script to setup test environment\n\nAdd simple script to setup the test environment as needed by unit-tests.\n\nThis script can be used by users to setup their test environment.\n\nIt will be run by OpenStack CI systems as specific setup\nbefore running unit tests.\n\nChange-Id: I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7\n'}, {'number': 2, 'created': '2016-11-29 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/7960a7990b80687a2b28b45c614f822bb514cb6a', 'message': 'Add tools/test-setup.sh script to setup test environment\n\nAdd simple script to setup the test environment as needed by unit-tests.\n\nThis script can be used by users to setup their test environment.\n\nIt will be run by OpenStack CI systems as specific setup\nbefore running unit tests.\n\nChange-Id: I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7\nDepends-On: Ie038e9c9a38727c12532bded48a76fe2cecb7fd8\n'}, {'number': 3, 'created': '2016-11-29 15:29:23.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/f44a90fe88de2330ffbe6a971768bdc95b5cce4e', 'message': 'Add tools/test-setup.sh script to setup test environment\n\nAdd simple script to setup the test environment as needed by unit-tests.\n\nThis script can be used by users to setup their test environment.\n\nIt will be run by OpenStack CI systems as specific setup\nbefore running unit tests.\n\nChange-Id: I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7\n\n'}]",0,399159,f44a90fe88de2330ffbe6a971768bdc95b5cce4e,14,6,3,6547,,,0,"Add tools/test-setup.sh script to setup test environment

Add simple script to setup the test environment as needed by unit-tests.

This script can be used by users to setup their test environment.

It will be run by OpenStack CI systems as specific setup
before running unit tests.

Change-Id: I56d8c5f21e5dc62e1bace93f79d8d017d6df07e7

",git fetch https://review.opendev.org/openstack/searchlight refs/changes/59/399159/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,5de60fb39a79f0dd58e13b4cafe19871337b40c9,test-setup,"#!/bin/bash -xe # This script will be run by OpenStack CI before unit tests are run, # it sets up the test system as needed. # Developer should setup their test systems in a similar way. # This setup needs to be run by a user that can run sudo. sudo apt-get update sudo apt-get install -y default-jre wget https://download.elastic.co/elasticsearch/release/org/elasticsearch/distribution/deb/elasticsearch/2.3.2/elasticsearch-2.3.2.deb sudo dpkg -i elasticsearch-2.3.2.deb # Make 'elasticsearch' binary callable from within functional tests sudo ln -s /usr/share/elasticsearch/bin/elasticsearch /usr/local/bin/elasticsearch ",,14,0
openstack%2Fopenstack-ansible~stable%2Fnewton~I72c1d344a4cc8df4d92ff296200704639771eb88,openstack/openstack-ansible,stable/newton,I72c1d344a4cc8df4d92ff296200704639771eb88,[DOCS] Adds a cookie cutter deploy guide for d.o.o,MERGED,2016-11-29 11:03:17.000000000,2016-11-29 16:00:51.000000000,2016-11-29 16:00:51.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-11-29 11:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93fdfd31e789b9a0399283a11fb8c02b00dccd21', 'message': '[DOCS] Adds a cookie cutter deploy guide for d.o.o\n\nAlso removes old install guide in favor of the commited deploy guide\n\nTODO: Link for the deploy guide to be commited\n\nChange-Id: I72c1d344a4cc8df4d92ff296200704639771eb88\n(cherry picked from commit ca1e4cccd922568d00ca8f2efa37778afac746a2)\n'}, {'number': 2, 'created': '2016-11-29 11:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a33ce8f54cf155a67979274d0bb032b4e80099d', 'message': '[DOCS] Adds a cookie cutter deploy guide for d.o.o\n\nAlso removes old install guide in favor of the commited deploy guide for\nnewton\n\nChange-Id: I72c1d344a4cc8df4d92ff296200704639771eb88\n(cherry picked from commit ca1e4cccd922568d00ca8f2efa37778afac746a2)\n'}, {'number': 3, 'created': '2016-11-29 11:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/548a1a795111a0106c6a7f00961f16c53596f84b', 'message': '[DOCS] Adds a cookie cutter deploy guide for d.o.o\n\nAlso removes old install guide in favor of the commited deploy guide for\nnewton\n\nChange-Id: I72c1d344a4cc8df4d92ff296200704639771eb88\n(cherry picked from commit ca1e4cccd922568d00ca8f2efa37778afac746a2)\n'}, {'number': 4, 'created': '2016-11-29 11:58:53.000000000', 'files': ['deploy-guide/source/figures/production-storage-cinder.svg/production-storage-cinder.svg', 'deploy-guide/source/app-advanced-config-options.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/figures/installation-workflow-overview.png', 'deploy-guide/source/run-playbooks.rst', 'deploy-guide/source/overview-storage-arch.rst', 'deploy-guide/source/figures/arch-layout-test.png', 'deploy-guide/source/figures/installation-workflow-targethosts.png', 'deploy-guide/source/overview.rst', 'deploy-guide/source/app-advanced-config-override.rst', 'deploy-guide/source/figures/networkarch-container-external-example.png', 'deploy-guide/source/figures/networking-neutronagents.png', 'doc/source/install-guide/figures/README.rst', 'deploy-guide/source/app-config-test.rst', 'deploy-guide/source/figures/networkarch-container-external.png', 'deploy-guide/source/figures/production-storage-cinder.png', 'deploy-guide/source/index.rst', 'deploy-guide/source/app-security.rst', 'deploy-guide/source/verify-operation.rst', 'deploy-guide/source/overview-osa.rst', 'deploy-guide/source/app-advanced-config-sslcertificates.rst', 'deploy-guide/source/figures/arch-layout-production.png', 'deploy-guide/source/overview-service-architecture.rst', 'deploy-guide/source/figures/production-storage-swift.png', 'deploy-guide/source/figures/production-storage-nova.png', 'deploy-guide/source/targethosts.rst', 'deploy-guide/source/figures/networkarch-bare-external-example.png', 'deploy-guide/source/figures/networking-compute.png', 'tox.ini', 'deploy-guide/source/overview-network-arch.rst', 'deploy-guide/source/configure.rst', '.gitignore', 'deploy-guide/source/app-custom-layouts.rst', 'deploy-guide/source/figures/arch-layout-test.svg', 'deploy-guide/source/figures/production-storage-cinder.svg/image3.wmf', 'deploy-guide/source/app-resources.rst', 'deploy-guide/source/figures/installation-workflow-run-playbooks.png', 'deploy-guide/source/figures/production-storage-swift.svg', 'deploy-guide/source/targethosts-networkconfig.rst', 'deploy-guide/source/app-config-prod.rst', 'deploy-guide/source/figures/production-storage-nova.svg/image3.wmf', 'deploy-guide/source/figures/production-storage.svg', 'deploy-guide/source/figures/networkcomponents.png', 'deploy-guide/source/figures/installation-workflow-verify-openstack.png', 'deploy-guide/source/figures/production-storage-nova.svg/production-storage-nova.svg', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/figures/production-storage.graffle/data.plist', 'deploy-guide/source/navigation.txt', 'deploy-guide/source/targethosts-prepare.rst', 'deploy-guide/source/app-advanced-role-docs.rst', 'deploy-guide/source/figures/arch-layout.graffle', 'deploy-guide/source/figures/production-storage-glance.svg/image3.wmf', 'deploy-guide/source/figures/production-storage.graffle/image3.wmf', 'deploy-guide/source/app-networking.rst', 'deploy-guide/source/figures/production-storage-glance.svg/production-storage-glance.svg', 'deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/figures/installation-workflow-deploymenthost.png', 'doc/source/index.rst', 'deploy-guide/source/app-advanced-config-security.rst', 'deploy-guide/source/figures/installation-workflow.graffle', 'deploy-guide/source/app-advanced-config-affinity.rst', 'deploy-guide/source/figures/installation-workflow-configure-deployment.png', 'deploy-guide/source/figures/arch-layout-production.svg', 'deploy-guide/source/figures/production-storage-glance.png', 'deploy-guide/source/figures/networkarch-bare-external.png'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6931e26475599ed7a191bba726e3d17a2574cb64', 'message': '[DOCS] Adds a cookie cutter deploy guide for d.o.o\n\nAlso removes old install guide in favor of the commited deploy guide for\nnewton\n\nDepends-On: I2febb523f7815571c06fca51ee198319c35b34c7\n\nChange-Id: I72c1d344a4cc8df4d92ff296200704639771eb88\n(cherry picked from commit ca1e4cccd922568d00ca8f2efa37778afac746a2)\n'}]",2,404150,6931e26475599ed7a191bba726e3d17a2574cb64,17,4,4,2799,,,0,"[DOCS] Adds a cookie cutter deploy guide for d.o.o

Also removes old install guide in favor of the commited deploy guide for
newton

Depends-On: I2febb523f7815571c06fca51ee198319c35b34c7

Change-Id: I72c1d344a4cc8df4d92ff296200704639771eb88
(cherry picked from commit ca1e4cccd922568d00ca8f2efa37778afac746a2)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/404150/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/figures/production-storage-cinder.svg/production-storage-cinder.svg', 'deploy-guide/source/app-advanced-config-options.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/figures/installation-workflow-overview.png', 'deploy-guide/source/run-playbooks.rst', 'deploy-guide/source/overview-storage-arch.rst', 'deploy-guide/source/figures/arch-layout-test.png', 'deploy-guide/source/figures/installation-workflow-targethosts.png', 'deploy-guide/source/overview.rst', 'deploy-guide/source/app-advanced-config-override.rst', 'deploy-guide/source/figures/networkarch-container-external-example.png', 'deploy-guide/source/figures/networking-neutronagents.png', 'doc/source/install-guide/figures/README.rst', 'deploy-guide/source/app-config-test.rst', 'deploy-guide/source/figures/networkarch-container-external.png', 'deploy-guide/source/figures/production-storage-cinder.png', 'deploy-guide/source/index.rst', 'deploy-guide/source/app-security.rst', 'deploy-guide/source/verify-operation.rst', 'deploy-guide/source/overview-osa.rst', 'deploy-guide/source/app-advanced-config-sslcertificates.rst', 'deploy-guide/source/figures/arch-layout-production.png', 'deploy-guide/source/overview-service-architecture.rst', 'deploy-guide/source/figures/production-storage-swift.png', 'deploy-guide/source/figures/production-storage-nova.png', 'deploy-guide/source/targethosts.rst', 'deploy-guide/source/figures/networkarch-bare-external-example.png', 'deploy-guide/source/figures/networking-compute.png', 'tox.ini', 'deploy-guide/source/overview-network-arch.rst', 'deploy-guide/source/configure.rst', '.gitignore', 'deploy-guide/source/app-custom-layouts.rst', 'deploy-guide/source/figures/arch-layout-test.svg', 'deploy-guide/source/figures/production-storage-cinder.svg/image3.wmf', 'deploy-guide/source/app-resources.rst', 'deploy-guide/source/figures/installation-workflow-run-playbooks.png', 'deploy-guide/source/figures/production-storage-swift.svg', 'deploy-guide/source/targethosts-networkconfig.rst', 'deploy-guide/source/app-config-prod.rst', 'deploy-guide/source/figures/production-storage-nova.svg/image3.wmf', 'deploy-guide/source/figures/production-storage.svg', 'deploy-guide/source/figures/networkcomponents.png', 'deploy-guide/source/figures/installation-workflow-verify-openstack.png', 'deploy-guide/source/figures/production-storage-nova.svg/production-storage-nova.svg', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/figures/production-storage.graffle/data.plist', 'deploy-guide/source/navigation.txt', 'deploy-guide/source/targethosts-prepare.rst', 'deploy-guide/source/app-advanced-role-docs.rst', 'deploy-guide/source/figures/arch-layout.graffle', 'deploy-guide/source/figures/production-storage-glance.svg/image3.wmf', 'deploy-guide/source/figures/production-storage.graffle/image3.wmf', 'deploy-guide/source/app-networking.rst', 'deploy-guide/source/figures/production-storage-glance.svg/production-storage-glance.svg', 'deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/figures/installation-workflow-deploymenthost.png', 'doc/source/index.rst', 'deploy-guide/source/app-advanced-config-security.rst', 'deploy-guide/source/figures/installation-workflow.graffle', 'deploy-guide/source/app-advanced-config-affinity.rst', 'deploy-guide/source/figures/installation-workflow-configure-deployment.png', 'deploy-guide/source/figures/arch-layout-production.svg', 'deploy-guide/source/figures/production-storage-glance.png', 'deploy-guide/source/figures/networkarch-bare-external.png']",66,93fdfd31e789b9a0399283a11fb8c02b00dccd21,,,,357,17
openstack%2Fsalt-formula-kubernetes~master~I8966e58718acab3a2c49567cb91b95b2326cf8ba,openstack/salt-formula-kubernetes,master,I8966e58718acab3a2c49567cb91b95b2326cf8ba,enhance kubernetes addons,MERGED,2016-11-29 11:51:10.000000000,2016-11-29 15:58:03.000000000,2016-11-29 15:58:03.000000000,"[{'_account_id': 3}, {'_account_id': 20194}]","[{'number': 1, 'created': '2016-11-29 11:51:10.000000000', 'files': ['kubernetes/files/kube-addons/kube-ui/kube-ui-address.yaml', 'kubernetes/files/kube-addons/dashboard/dashboard-controller.yaml', 'kubernetes/files/kube-addons/dns/skydns-rc.yaml', 'kubernetes/files/kube-addons/kube-ui/kube-ui-endpoint.yaml', 'kubernetes/files/kube-addons/kube-ui/kube-ui-rc.yaml', 'kubernetes/master/setup.sls', 'tests/pillar/master_cluster.sls', 'kubernetes/master/kube-addons.sls', 'kubernetes/master/init.sls', 'kubernetes/files/kube-addons/kube-ui/kube-ui-svc.yaml'], 'web_link': 'https://opendev.org/openstack/salt-formula-kubernetes/commit/7dd77f9c434b8dcdc8e7e9d49b579ffa709eaa8f', 'message': 'enhance kubernetes addons\n\nChange-Id: I8966e58718acab3a2c49567cb91b95b2326cf8ba\n'}]",0,404172,7dd77f9c434b8dcdc8e7e9d49b579ffa709eaa8f,6,2,1,20426,,,0,"enhance kubernetes addons

Change-Id: I8966e58718acab3a2c49567cb91b95b2326cf8ba
",git fetch https://review.opendev.org/openstack/salt-formula-kubernetes refs/changes/72/404172/1 && git format-patch -1 --stdout FETCH_HEAD,"['kubernetes/files/kube-addons/kube-ui/kube-ui-address.yaml', 'kubernetes/files/kube-addons/dashboard/dashboard-controller.yaml', 'kubernetes/files/kube-addons/dns/skydns-rc.yaml', 'kubernetes/files/kube-addons/kube-ui/kube-ui-endpoint.yaml', 'kubernetes/files/kube-addons/kube-ui/kube-ui-rc.yaml', 'kubernetes/master/setup.sls', 'tests/pillar/master_cluster.sls', 'kubernetes/master/kube-addons.sls', 'kubernetes/master/init.sls', 'kubernetes/files/kube-addons/kube-ui/kube-ui-svc.yaml']",10,7dd77f9c434b8dcdc8e7e9d49b579ffa709eaa8f,,,"apiVersion: v1 kind: Service metadata: name: kube-ui namespace: kube-system labels: k8s-app: kube-ui kubernetes.io/cluster-service: ""true"" kubernetes.io/name: ""KubeUI"" spec: ports: - port: 80 targetPort: 8080",88,185
openstack%2Fproject-config~master~Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04,openstack/project-config,master,Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04,Add fuel-plugin-rally project,MERGED,2016-08-23 09:51:48.000000000,2016-11-29 15:56:22.000000000,2016-11-29 15:56:22.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7069}, {'_account_id': 10068}, {'_account_id': 11809}, {'_account_id': 23248}]","[{'number': 1, 'created': '2016-08-23 09:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9acc0c61dd4320eb5a934abacfb633768c9399d4', 'message': 'Add fuel-plugin-rally project\n\nChange-Id: Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04\n'}, {'number': 2, 'created': '2016-08-23 11:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/684d9b8bb07e589e7f2f27978dcca1c15ad1301a', 'message': 'Add fuel-plugin-rally project\n\nChange-Id: Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04\n'}, {'number': 3, 'created': '2016-08-23 11:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8f3a69631b2ff8f8877fcfc6c96cd4e81c56734', 'message': 'Add fuel-plugin-rally project\n\nChange-Id: Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04\n'}, {'number': 4, 'created': '2016-08-23 12:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7dcd4e809151ed76a1e12be679012f29d76efb1b', 'message': 'Add fuel-plugin-rally project\n\nChange-Id: Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04\n'}, {'number': 5, 'created': '2016-08-24 13:54:44.000000000', 'files': ['gerrit/acls/openstack/fuel-plugin-rally.config', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a38dfddb91f35661e720626d0aa2a7325f209fa1', 'message': 'Add fuel-plugin-rally project\n\nChange-Id: Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04\n'}]",0,359076,a38dfddb91f35661e720626d0aa2a7325f209fa1,29,6,5,23248,,,0,"Add fuel-plugin-rally project

Change-Id: Ic7c024424ef4744cd250d8d788cb4a5f0aa2de04
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/359076/5 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/fuel-plugin-rally.config', 'gerrit/projects.yaml']",2,9acc0c61dd4320eb5a934abacfb633768c9399d4,new-project,- project: openstack/fuel-plugin-rally upstream: https://bitbucket.org/core_st/fuel-plugin-rally.git groups: - fuel-plugins - rally description: Fuel plugin to deploy Rally acl-config: /home/gerrit2/acls/openstack/fuel-plugin-rally.config docimpact-group: fuel-plugins,,24,0
openstack%2Fproject-config~master~I44fa11fd75941a9289e5310aad209600af417b3d,openstack/project-config,master,I44fa11fd75941a9289e5310aad209600af417b3d,Add publishing jobs to Almanach (docs),MERGED,2016-11-28 18:16:25.000000000,2016-11-29 15:55:50.000000000,2016-11-29 15:55:50.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 18063}]","[{'number': 1, 'created': '2016-11-28 18:16:25.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f7498be97e76585d55ca0e3d7706bb6200540133', 'message': 'Add publishing jobs to Almanach (docs)\n\nChange-Id: I44fa11fd75941a9289e5310aad209600af417b3d\n'}]",0,403840,f7498be97e76585d55ca0e3d7706bb6200540133,8,4,1,17784,,,0,"Add publishing jobs to Almanach (docs)

Change-Id: I44fa11fd75941a9289e5310aad209600af417b3d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/403840/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,f7498be97e76585d55ca0e3d7706bb6200540133,readthedocs, - name: docs-on-rtfd,,2,0
openstack%2Fproject-config~master~I3783554bc6d10c071d46d7df6b92028dc22d646f,openstack/project-config,master,I3783554bc6d10c071d46d7df6b92028dc22d646f,Add new project: fuel-ccp-rally,MERGED,2016-11-23 11:52:23.000000000,2016-11-29 15:54:33.000000000,2016-11-29 15:54:33.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 11809}, {'_account_id': 12039}, {'_account_id': 18652}, {'_account_id': 19542}]","[{'number': 1, 'created': '2016-11-23 11:52:23.000000000', 'files': ['gerrit/acls/openstack/fuel-ccp-rally.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/82b41cce3e7a240d9cc47c085b6118f5d4fbdaa4', 'message': 'Add new project: fuel-ccp-rally\n\nThis project will contain service definition and image definition\nfor rally deployment via fuel-ccp tool\n\nChange-Id: I3783554bc6d10c071d46d7df6b92028dc22d646f\n'}]",0,401220,82b41cce3e7a240d9cc47c085b6118f5d4fbdaa4,13,7,1,7710,,,0,"Add new project: fuel-ccp-rally

This project will contain service definition and image definition
for rally deployment via fuel-ccp tool

Change-Id: I3783554bc6d10c071d46d7df6b92028dc22d646f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/401220/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/fuel-ccp-rally.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,82b41cce3e7a240d9cc47c085b6118f5d4fbdaa4,, - name: openstack/fuel-ccp-rally template: - name: merge-check - name: fuel-ccp-component ,,31,0
openstack%2Fmanila~master~I9c52f99ebcb9491f205e72449c9929dc2fc1f408,openstack/manila,master,I9c52f99ebcb9491f205e72449c9929dc2fc1f408,[DNM] test 2,ABANDONED,2016-11-25 15:03:56.000000000,2016-11-29 15:53:37.000000000,,"[{'_account_id': 3}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 15942}, {'_account_id': 17565}, {'_account_id': 18752}, {'_account_id': 20695}, {'_account_id': 22248}, {'_account_id': 22450}]","[{'number': 1, 'created': '2016-11-25 15:03:56.000000000', 'files': ['contrib/ci/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/d556019f7458fda8deaf64db779ebf5a737ec5a7', 'message': '[DNM] test 2\n\nChange-Id: I9c52f99ebcb9491f205e72449c9929dc2fc1f408\n'}]",0,402738,d556019f7458fda8deaf64db779ebf5a737ec5a7,13,9,1,8851,,,0,"[DNM] test 2

Change-Id: I9c52f99ebcb9491f205e72449c9929dc2fc1f408
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/402738/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/pre_test_hook.sh'],1,d556019f7458fda8deaf64db779ebf5a737ec5a7,," cd $BASE/new/nova # Checkout nova for commit that was last in nova when # problem had not appeared yet. -> 16th of November, 2016 git checkout 5f137dfe70d82fa684860354406f285cd50f4e25 git status",,6,0
openstack%2Fproject-config~master~Ic3998501edb222a3307d76bf6693f5836f103dd1,openstack/project-config,master,Ic3998501edb222a3307d76bf6693f5836f103dd1,Move ironic-multinode non-voting job to check queue,MERGED,2016-11-29 07:46:09.000000000,2016-11-29 15:53:25.000000000,2016-11-29 15:53:25.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 10343}]","[{'number': 1, 'created': '2016-11-29 07:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/16a81a5d89bb314f277ea1390c4e392eb4752738', 'message': 'Add ironic-multinode non-voting job\n\nThis patch adds non voting ironic multinode job for Ironic\nproject.\n\nChange-Id: Ic3998501edb222a3307d76bf6693f5836f103dd1\nCloses-Bug: #1622653\nDepends-On: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 2, 'created': '2016-11-29 08:42:27.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/817ca77c3118a5d5368d43236496ac3f3a860044', 'message': 'Move ironic-multinode non-voting job to check queue\n\nThis patch moves ironic-multinode job from experimental to check queue.\nIt is passing tests now, so we can move it forward.\n\nChange-Id: Ic3998501edb222a3307d76bf6693f5836f103dd1\nCloses-Bug: #1622653\nDepends-On: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}]",0,404070,817ca77c3118a5d5368d43236496ac3f3a860044,13,5,2,14525,,,0,"Move ironic-multinode non-voting job to check queue

This patch moves ironic-multinode job from experimental to check queue.
It is passing tests now, so we can move it forward.

Change-Id: Ic3998501edb222a3307d76bf6693f5836f103dd1
Closes-Bug: #1622653
Depends-On: Ia08a8601494d82fdd82d568c154bbef89c3a7f40
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/404070/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,16a81a5d89bb314f277ea1390c4e392eb4752738,bug/1622653, - gate-tempest-dsvm-ironic-ipa-wholedisk-agent_ssh-tinyipa-multinode-nv, - gate-tempest-dsvm-ironic-ipa-wholedisk-agent_ssh-tinyipa-multinode-nv,1,1
openstack%2Fproject-config~master~I34aa1e5f8bb8953a0832a813f6485318c815fa58,openstack/project-config,master,I34aa1e5f8bb8953a0832a813f6485318c815fa58,TripleO: Test Barbican in scenario002,MERGED,2016-11-29 13:37:32.000000000,2016-11-29 15:53:04.000000000,2016-11-29 15:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-11-29 13:37:32.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ed5db26c0011ceb690fb5f786f47fdf441507c44', 'message': 'TripleO: Test Barbican in scenario002\n\nAs discussed in the mailing list [1], the scenario tests will be\nmoved to the tripleo-heat-templates which will allow us to have\nbranch-based tests. So now we can have Barbican again in scenario002\nas it was previously done.\n\nWe also aim to match the scenarios that are tested in the puppet CI,\nso getting Barbican to this scenario matches that as well.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html\n\nChange-Id: I34aa1e5f8bb8953a0832a813f6485318c815fa58\n'}]",0,404217,ed5db26c0011ceb690fb5f786f47fdf441507c44,8,4,1,10873,,,0,"TripleO: Test Barbican in scenario002

As discussed in the mailing list [1], the scenario tests will be
moved to the tripleo-heat-templates which will allow us to have
branch-based tests. So now we can have Barbican again in scenario002
as it was previously done.

We also aim to match the scenarios that are tested in the puppet CI,
so getting Barbican to this scenario matches that as well.

[1] http://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html

Change-Id: I34aa1e5f8bb8953a0832a813f6485318c815fa58
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/404217/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,ed5db26c0011ceb690fb5f786f47fdf441507c44,, - ^puppet/services/barbican.*$ - ^manifests/profile/base/barbican.*$," # Barbican is not available in releases older than Ocata, so this scenario # won't run on those. Same for Mistral and Zaqar.",2,2
openstack%2Fproject-config~master~I2febb523f7815571c06fca51ee198319c35b34c7,openstack/project-config,master,I2febb523f7815571c06fca51ee198319c35b34c7,Update deploy-guide gate jobs for newton inclusion,MERGED,2016-11-29 11:48:16.000000000,2016-11-29 15:52:52.000000000,2016-11-29 15:52:52.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-11-29 11:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2967dac1e070a4b70d3522bbd06964c8ef267cb0', 'message': 'Update deploy-guide gate jobs for newton inclusion\n\nChange-Id: I2febb523f7815571c06fca51ee198319c35b34c7\n'}, {'number': 2, 'created': '2016-11-29 11:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ce44eb353fd51a30dc6becbc3a7434acfd2827b2', 'message': 'Update deploy-guide gate jobs for newton inclusion\n\nChange-Id: I2febb523f7815571c06fca51ee198319c35b34c7\n'}, {'number': 3, 'created': '2016-11-29 12:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a7302090ce5101645309049083154d955bdfae32', 'message': 'Update deploy-guide gate jobs for newton inclusion\n\nChange-Id: I2febb523f7815571c06fca51ee198319c35b34c7\n'}, {'number': 4, 'created': '2016-11-29 12:06:57.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/02b8400c34c426e56ca138da2955f82f2657e00c', 'message': 'Update deploy-guide gate jobs for newton inclusion\n\nNeeded-By: I72c1d344a4cc8df4d92ff296200704639771eb88\n\nChange-Id: I2febb523f7815571c06fca51ee198319c35b34c7\n'}]",5,404170,02b8400c34c426e56ca138da2955f82f2657e00c,14,4,4,10607,,,0,"Update deploy-guide gate jobs for newton inclusion

Needed-By: I72c1d344a4cc8df4d92ff296200704639771eb88

Change-Id: I2febb523f7815571c06fca51ee198319c35b34c7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/404170/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,2967dac1e070a4b70d3522bbd06964c8ef267cb0,deploy-guide/edit, branch: ^(?!stable/(mitaka)).*$ branch: ^(?!stable/(mitaka)).*$ branch: ^(?!(liberty|stable/mitaka)).*$, branch: ^(?!stable/(mitaka|newton)).*$ branch: ^(?!stable/(mitaka|newton)).*$ branch: ^(?!(liberty|stable/(mitaka|newton))).*$,3,3
openstack%2Fopenstack-ansible-tests~master~I41362e55347cedd166feaf0cf17c4ee35e838edd,openstack/openstack-ansible-tests,master,I41362e55347cedd166feaf0cf17c4ee35e838edd,Do not rename .html log files to .txt,MERGED,2016-11-28 13:01:31.000000000,2016-11-29 15:48:43.000000000,2016-11-29 15:48:42.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2016-11-28 13:01:31.000000000', 'files': ['test-log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4dd8bb7dbf996fecb730994aa124b199f062a902', 'message': 'Do not rename .html log files to .txt\n\nKeep .html files as they are, and do not rename them to .txt. This way,\nwhen the logs are viewed in a browser, the browser parses the html file,\nrather than display the html code as text.\n\nChange-Id: I41362e55347cedd166feaf0cf17c4ee35e838edd\n'}]",0,403681,4dd8bb7dbf996fecb730994aa124b199f062a902,8,4,1,20229,,,0,"Do not rename .html log files to .txt

Keep .html files as they are, and do not rename them to .txt. This way,
when the logs are viewed in a browser, the browser parses the html file,
rather than display the html code as text.

Change-Id: I41362e55347cedd166feaf0cf17c4ee35e838edd
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/81/403681/1 && git format-patch -1 --stdout FETCH_HEAD,['test-log-collect.sh'],1,4dd8bb7dbf996fecb730994aa124b199f062a902,html-no-rename," find ""${WORKING_DIR}/logs/"" -type f ! -name '*.html' -exec mv {} {}.txt \;"," find ""${WORKING_DIR}/logs/"" -type f -exec mv {} {}.txt \;",1,1
openstack%2Fproject-config~master~I7719b1d51591cae27fbd63f5d100b68c1634d1df,openstack/project-config,master,I7719b1d51591cae27fbd63f5d100b68c1634d1df,Update charm job definitions,ABANDONED,2016-11-17 23:53:35.000000000,2016-11-29 15:47:27.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 20635}]","[{'number': 1, 'created': '2016-11-17 23:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/104dd2e6426252c2d4e49eb34f810e0df6760dd5', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest\nhave not py27 tox enviros, yet were subject to job templates\nwhich attempted to gate on py27.\n\nCreate new job definitions for projects which have no Python 2.7.\n\nAdd Python 3.5 job to charm layer projects.\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 2, 'created': '2016-11-18 21:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea532d6bd74226846f874505e277098278e09c18', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have no\npy27 tox enviros, yet were subject to job templates which attempted\nto gate on py27.  Only Python3 tests should be defined for these\ncharms.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 3, 'created': '2016-11-21 15:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/edd00284e2b0aa4fd6e33b4f8a3900564904250b', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have no\npy27 tox enviros, yet were subject to job templates which attempted\nto gate on py27.  Only Python3 tests should be defined for these\ncharms.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 4, 'created': '2016-11-21 18:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/27c168ccdc7a92a4f6b872f6ebe1b64bb184b867', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have no\npy27 tox enviros, yet were subject to job templates which attempted\nto gate on py27.  Only Python3 tests should be defined for these\ncharms.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 5, 'created': '2016-11-21 20:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6c91eabff9eb9dd6543fbbf342602aa6363050b', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have\nno py27 tox enviros. Only Python3 tests should be defined for\nthese charm projects.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\n* Ensure existing py3x jobs are voting.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 6, 'created': '2016-11-23 23:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e701955f50539b5bc8898b6cacf0f12783e26597', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have\nno py27 tox enviros. Only Python3 tests should be defined for\nthese charm projects.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\n* Ensure existing py3x jobs are voting.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 7, 'created': '2016-11-23 23:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d80f8e482475bf557e1db23379602bc18e494fdc', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have\nno py27 tox enviros. Only Python3 tests should be defined for\nthese charm projects.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\n* Ensure existing py3x jobs are voting.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}, {'number': 8, 'created': '2016-11-23 23:54:14.000000000', 'files': ['jenkins/jobs/charm-jobs.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3aa2eda545128cde284959a159fca1aec4069854', 'message': 'Update charm job definitions\n\nSource charms such as aodh, barbican, designate and tempest have\nno py27 tox enviros. Only Python3 tests should be defined for\nthese charm projects.\n\n* Create new job definitions for projects which are purely Python3.\n\n* Add Python3 job definitions to source/layer charm projects.\n\n* Remove py27 job definitions from source/layer charm projects.\n\n* Ensure existing py3x jobs are voting.\n\nCloses-Bug: #1642981\n\nChange-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df\n'}]",1,399299,3aa2eda545128cde284959a159fca1aec4069854,25,3,8,20635,,,0,"Update charm job definitions

Source charms such as aodh, barbican, designate and tempest have
no py27 tox enviros. Only Python3 tests should be defined for
these charm projects.

* Create new job definitions for projects which are purely Python3.

* Add Python3 job definitions to source/layer charm projects.

* Remove py27 job definitions from source/layer charm projects.

* Ensure existing py3x jobs are voting.

Closes-Bug: #1642981

Change-Id: I7719b1d51591cae27fbd63f5d100b68c1634d1df
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/399299/8 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/charm-jobs.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,104dd2e6426252c2d4e49eb34f810e0df6760dd5,bug/1642981, - name: python35-charm-jobs check: - 'gate-{name}-pep8-ubuntu-xenial' - 'gate-{name}-python35' gate: - 'gate-{name}-pep8-ubuntu-xenial' - 'gate-{name}-python35' post: - '{name}-branch-tarball' - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs - name: python35-charm-jobs, - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python35-jobs - name: python-charm-jobs - name: python35-jobs,40,49
openstack%2Fkeystone~master~Id574221f65d72a763b8205df0891b6e300856230,openstack/keystone,master,Id574221f65d72a763b8205df0891b6e300856230,Use sha512.hash() instead of .encrypt(),MERGED,2016-11-28 06:23:24.000000000,2016-11-29 15:47:24.000000000,2016-11-29 15:47:24.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 13478}]","[{'number': 1, 'created': '2016-11-28 06:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a61f586be80b653397e027d20d2511fd2dfcda79', 'message': 'Use sha512.hash() instead of .encrypt()\n\nNow that we have switched to passlib 1.7.0, remove the temporary\nworkaround and use the new function.\n\nChange-Id: Id574221f65d72a763b8205df0891b6e300856230\nDepends-On: I6525dc8cf305ae03b81a53ac7fd06bf63d4a6d48\nCloses-Bug: 1644263\n'}, {'number': 2, 'created': '2016-11-29 04:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/01b19b184040e4dc6e303c3d30dcd5259b40f156', 'message': 'Use sha512.hash() instead of .encrypt()\n\nNow that we have switched to passlib 1.7.0, remove the temporary\nworkaround and use the new function.\n\nChange-Id: Id574221f65d72a763b8205df0891b6e300856230\nDepends-On: I6525dc8cf305ae03b81a53ac7fd06bf63d4a6d48\nCloses-Bug: 1644263\n'}, {'number': 3, 'created': '2016-11-29 12:54:28.000000000', 'files': ['keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/71cde670d5b7f2e9e16d860545d0c36aee115dad', 'message': 'Use sha512.hash() instead of .encrypt()\n\nNow that we have switched to passlib 1.7.0, remove the temporary\nworkaround and use the new function.\n\nChange-Id: Id574221f65d72a763b8205df0891b6e300856230\nDepends-On: I6525dc8cf305ae03b81a53ac7fd06bf63d4a6d48\nCloses-Bug: 1644263\n'}]",0,403514,71cde670d5b7f2e9e16d860545d0c36aee115dad,18,4,3,6482,,,0,"Use sha512.hash() instead of .encrypt()

Now that we have switched to passlib 1.7.0, remove the temporary
workaround and use the new function.

Change-Id: Id574221f65d72a763b8205df0891b6e300856230
Depends-On: I6525dc8cf305ae03b81a53ac7fd06bf63d4a6d48
Closes-Bug: 1644263
",git fetch https://review.opendev.org/openstack/keystone refs/changes/14/403514/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/utils.py'],1,a61f586be80b653397e027d20d2511fd2dfcda79,bug/1644263," return passlib.hash.sha512_crypt.hash( password_utf8, rounds=CONF.crypt_strength)"," try: return passlib.hash.sha512_crypt.encrypt( password_utf8, rounds=CONF.crypt_strength) except DeprecationWarning: # TODO(stevemar): Remove this warning once we switch over to passlib # version 1.7.0 and replace encrypt() with hash() pass",2,7
openstack%2Ftripleo-ci~master~I573e5927823e6d81686267f28dbe57b1de212f04,openstack/tripleo-ci,master,I573e5927823e6d81686267f28dbe57b1de212f04,CI test - never merge,ABANDONED,2016-11-29 13:51:22.000000000,2016-11-29 15:46:37.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-29 13:51:22.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f0db90be559d5f2d81aa5a3a90a760ed04f80efd', 'message': 'CI test - never merge\n\nChange-Id: I573e5927823e6d81686267f28dbe57b1de212f04\n'}]",0,404225,f0db90be559d5f2d81aa5a3a90a760ed04f80efd,3,1,1,3153,,,0,"CI test - never merge

Change-Id: I573e5927823e6d81686267f28dbe57b1de212f04
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/25/404225/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,f0db90be559d5f2d81aa5a3a90a760ed04f80efd,ci-test,test ,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I3527a64c0c8f56ca77115d32849fa23fe710112d,openstack/tripleo-heat-templates,stable/newton,I3527a64c0c8f56ca77115d32849fa23fe710112d,Import TripleO CI environments from tripleo-ci,MERGED,2016-11-29 13:29:36.000000000,2016-11-29 15:46:25.000000000,2016-11-29 15:46:07.000000000,"[{'_account_id': 3}, {'_account_id': 12715}]","[{'number': 1, 'created': '2016-11-29 13:29:36.000000000', 'files': ['ci/common/net-config-multinode.yaml', 'ci/README.rst', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml', 'ci/pingtests/scenario003-multinode.yaml', 'ci/pingtests/scenario002-multinode.yaml', 'ci/pingtests/scenario001-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91dd21c803b46936d0b3e61d59cfdc657950f8b2', 'message': 'Import TripleO CI environments from tripleo-ci\n\nImport TripleO CI environments from tripleo-ci into THT for some\nreasons:\n\n1) THT is branched while tripleo-ci is not. Having them here would allow\n   to make scenarios able to evolve over the releases without adding\n   more scenarios.\n2) Help our developers to run TripleO CI scenarios themselves from THT\n   by exposing the templates here.\n\nThe whole discussion is here:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html\n\nChange-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d\n(cherry picked from commit 2819cb391b3935e244888bdbaeb3b9d7d4310c8e)\n'}]",0,404213,91dd21c803b46936d0b3e61d59cfdc657950f8b2,7,2,1,3153,,,0,"Import TripleO CI environments from tripleo-ci

Import TripleO CI environments from tripleo-ci into THT for some
reasons:

1) THT is branched while tripleo-ci is not. Having them here would allow
   to make scenarios able to evolve over the releases without adding
   more scenarios.
2) Help our developers to run TripleO CI scenarios themselves from THT
   by exposing the templates here.

The whole discussion is here:
http://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html

Change-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d
(cherry picked from commit 2819cb391b3935e244888bdbaeb3b9d7d4310c8e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/404213/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/common/net-config-multinode.yaml', 'ci/README.rst', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml', 'ci/pingtests/scenario003-multinode.yaml', 'ci/pingtests/scenario002-multinode.yaml', 'ci/pingtests/scenario001-multinode.yaml']",8,91dd21c803b46936d0b3e61d59cfdc657950f8b2,newton/scenarios,"heat_template_version: 2013-05-23 description: > HOT template to created resources deployed by scenario001. parameters: key_name: type: string description: Name of keypair to assign to servers default: 'pingtest_key' image: type: string description: Name of image to use for servers default: 'pingtest_image' public_net_name: type: string default: 'nova' description: > ID or name of public network for which floating IP addresses will be allocated private_net_name: type: string description: Name of private network to be created default: 'default-net' private_net_cidr: type: string description: Private network address (CIDR notation) default: '192.168.2.0/24' private_net_gateway: type: string description: Private network gateway address default: '192.168.2.1' private_net_pool_start: type: string description: Start of private network IP address allocation pool default: '192.168.2.100' private_net_pool_end: type: string default: '192.168.2.200' description: End of private network IP address allocation pool resources: key_pair: type: OS::Nova::KeyPair properties: save_private_key: true name: {get_param: key_name } private_net: type: OS::Neutron::Net properties: name: { get_param: private_net_name } private_subnet: type: OS::Neutron::Subnet properties: network_id: { get_resource: private_net } cidr: { get_param: private_net_cidr } gateway_ip: { get_param: private_net_gateway } allocation_pools: - start: { get_param: private_net_pool_start } end: { get_param: private_net_pool_end } router: type: OS::Neutron::Router properties: external_gateway_info: network: { get_param: public_net_name } router_interface: type: OS::Neutron::RouterInterface properties: router_id: { get_resource: router } subnet_id: { get_resource: private_subnet } server1: type: OS::Nova::Server properties: name: Server1 flavor: { get_resource: test_flavor } image: { get_param: image } key_name: { get_resource: key_pair } networks: - port: { get_resource: server1_port } server1_port: type: OS::Neutron::Port properties: network_id: { get_resource: private_net } fixed_ips: - subnet_id: { get_resource: private_subnet } security_groups: [{ get_resource: server_security_group }] server1_floating_ip: type: OS::Neutron::FloatingIP # TODO: investigate why we need this depends_on and if we could # replace it by router_id with get_resource: router_interface depends_on: router_interface properties: floating_network: { get_param: public_net_name } port_id: { get_resource: server1_port } server_security_group: type: OS::Neutron::SecurityGroup properties: description: Add security group rules for server name: pingtest-security-group rules: - remote_ip_prefix: 0.0.0.0/0 protocol: tcp port_range_min: 22 port_range_max: 22 - remote_ip_prefix: 0.0.0.0/0 protocol: icmp test_flavor: type: OS::Nova::Flavor properties: ram: 512 vcpus: 1 gnocchi_res_alarm: type: OS::Aodh::GnocchiResourcesAlarm properties: description: Do stuff with gnocchi metric: cpu_util aggregation_method: mean granularity: 60 evaluation_periods: 1 threshold: 50 alarm_actions: [] resource_type: instance resource_id: { get_resource: server1 } comparison_operator: gt asg: type: OS::Heat::AutoScalingGroup properties: max_size: 5 min_size: 1 resource: type: OS::Heat::RandomString scaleup_policy: type: OS::Heat::ScalingPolicy properties: adjustment_type: change_in_capacity auto_scaling_group_id: {get_resource: asg} cooldown: 0 scaling_adjustment: 1 alarm: type: OS::Aodh::Alarm properties: description: Scale-up if the average CPU > 50% for 1 minute meter_name: test_meter statistic: count comparison_operator: ge threshold: 1 period: 60 evaluation_periods: 1 alarm_actions: - {get_attr: [scaleup_policy, alarm_url]} matching_metadata: metadata.metering.stack_id: {get_param: ""OS::stack_id""} outputs: server1_private_ip: description: IP address of server1 in private network value: { get_attr: [ server1, first_address ] } server1_public_ip: description: Floating IP address of server1 in public network value: { get_attr: [ server1_floating_ip, floating_ip_address ] } asg_size: value: {get_attr: [asg, current_size]} ",,668,0
openstack%2Fmistral~master~I2783c50fb578dc2dbc044b523e8433ce3cfa96ad,openstack/mistral,master,I2783c50fb578dc2dbc044b523e8433ce3cfa96ad,Some spelling errors,MERGED,2016-11-28 04:38:15.000000000,2016-11-29 15:45:58.000000000,2016-11-29 15:45:58.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 18238}, {'_account_id': 18955}]","[{'number': 1, 'created': '2016-11-28 04:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f5b566327cd4d9141c07fa9fc4847fd9414fc7fa', 'message': 'Some spelling errors\n\nmistral/engine/rpc_backend/kombu/kombu_server.py:138: compability -> ""compatibility""\nmistral/tests/unit/engine/test_direct_workflow.py:223: doesnt -> ""doesn\'t""\nmistral/workflow/lookup_utils.py:18: withing -> ""within""\n\nChange-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad\n'}, {'number': 2, 'created': '2016-11-28 06:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7b69c7a463b17b0079a9c7b7658373f3cc3c3e39', 'message': 'Some spelling errors\n\nmistral/engine/rpc_backend/kombu/kombu_server.py:138: compability -> ""compatibility""\nmistral/workflow/lookup_utils.py:18: withing -> ""within""\n\nChange-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad\n'}, {'number': 3, 'created': '2016-11-28 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/de5f4859a418395ea13dfca1779b3ffe5102bf37', 'message': 'Some spelling errors\n\nmistral/workflow/lookup_utils.py:18: withing -> ""within""\n\nChange-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad\n'}, {'number': 4, 'created': '2016-11-28 12:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4b6a34f665fe33c17cecbb3906c86f720f050222', 'message': 'Some spelling errors\n\nmistral/engine/rpc_backend/kombu/kombu_server.py:138: compability -> ""compatibility""\nmistral/workflow/lookup_utils.py:18: withing -> ""within""\n\nChange-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad\n'}, {'number': 5, 'created': '2016-11-28 12:59:10.000000000', 'files': ['mistral/workflow/lookup_utils.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/eb812f39ff286eb51d0b5b7a975cc1d75e1ce4e2', 'message': 'Some spelling errors\n\nmistral/workflow/lookup_utils.py:18: withing -> ""within""\n\nChange-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad\n\nSome spelling errors\n\nmistral/workflow/lookup_utils.py:18: withing -> ""within""\n\nChange-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad\n'}]",0,403497,eb812f39ff286eb51d0b5b7a975cc1d75e1ce4e2,24,4,5,24086,,,0,"Some spelling errors

mistral/workflow/lookup_utils.py:18: withing -> ""within""

Change-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad

Some spelling errors

mistral/workflow/lookup_utils.py:18: withing -> ""within""

Change-Id: I2783c50fb578dc2dbc044b523e8433ce3cfa96ad
",git fetch https://review.opendev.org/openstack/mistral refs/changes/97/403497/5 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/workflow/lookup_utils.py', 'mistral/cmd/launch.py', 'mistral/engine/rpc_backend/kombu/kombu_server.py']",4,f5b566327cd4d9141c07fa9fc4847fd9414fc7fa,spellingerror, # Wrap exception into another exception for compatibility with oslo., # Wrap exception into another exception for compability with oslo.,6,6
openstack%2Fmagnum~master~Iaa86d230f06ae40094dd2904c022e7d86d2a48b3,openstack/magnum,master,Iaa86d230f06ae40094dd2904c022e7d86d2a48b3,Doc: update server type in userguide,MERGED,2016-11-29 09:05:29.000000000,2016-11-29 15:38:13.000000000,2016-11-29 15:38:13.000000000,"[{'_account_id': 3}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-11-29 09:05:29.000000000', 'files': ['doc/source/userguide.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/38c39d8e3ac48a77edd9c27602583e778bab8adf', 'message': ""Doc: update server type in userguide\n\nserver_type in cluster template can be 'vm' or 'bm' for now.\n\nChange-Id: Iaa86d230f06ae40094dd2904c022e7d86d2a48b3\n""}]",0,404097,38c39d8e3ac48a77edd9c27602583e778bab8adf,7,3,1,12175,,,0,"Doc: update server type in userguide

server_type in cluster template can be 'vm' or 'bm' for now.

Change-Id: Iaa86d230f06ae40094dd2904c022e7d86d2a48b3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/97/404097/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/userguide.rst'],1,38c39d8e3ac48a77edd9c27602583e778bab8adf,fix_doc_server_type," the type of server to create for the cluster. The default is 'vm'. Possible values are 'vm', 'bm'.", the type of server to create for the cluster. The default is 'vm' and currently this is the only supported server type.,2,2
openstack%2Ftempest~master~Ie05447f4a211fc4c8e1e241d557edc8bb7ac9fb7,openstack/tempest,master,Ie05447f4a211fc4c8e1e241d557edc8bb7ac9fb7,test_port_security_macspoofing_port: allow skip,ABANDONED,2015-12-02 13:25:52.000000000,2016-11-29 15:37:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7428}, {'_account_id': 7872}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12340}]","[{'number': 1, 'created': '2015-12-02 13:25:52.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a4f4af0e9996158e7c4219751ca0f557da353aa4', 'message': 'test_port_security_macspoofing_port: allow skip\n\nIt should be possible to skip this test if interface_attach parameter\nis set to False (as it is done for test_hotplug_nic).\n\nChange-Id: Ie05447f4a211fc4c8e1e241d557edc8bb7ac9fb7\nSigned-off-by: Francesco Santoro <francesco.santoro@6wind.com>\n'}]",0,252386,a4f4af0e9996158e7c4219751ca0f557da353aa4,10,12,1,17671,,,0,"test_port_security_macspoofing_port: allow skip

It should be possible to skip this test if interface_attach parameter
is set to False (as it is done for test_hotplug_nic).

Change-Id: Ie05447f4a211fc4c8e1e241d557edc8bb7ac9fb7
Signed-off-by: Francesco Santoro <francesco.santoro@6wind.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/252386/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_basic_ops.py'],1,a4f4af0e9996158e7c4219751ca0f557da353aa4,dev," @testtools.skipUnless(CONF.compute_feature_enabled.interface_attach, 'NIC hotplug not available')",,2,0
openstack%2Fpuppet-oslo~stable%2Fnewton~I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,openstack/puppet-oslo,stable/newton,I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,Switch ensure_packages to ensure_resources for python-memcache,MERGED,2016-11-29 13:25:37.000000000,2016-11-29 15:36:05.000000000,2016-11-29 15:36:05.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2016-11-29 13:25:37.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/f2c1f2c69e2fa07e03580f18666eead44e868615', 'message': 'Switch ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n(cherry picked from commit e0b9dd93e21803eae8e9b52f458c563fe028b58f)\n'}]",0,404210,f2c1f2c69e2fa07e03580f18666eead44e868615,8,4,1,11166,,,0,"Switch ensure_packages to ensure_resources for python-memcache

The ensure_packages resource forces ensure to present yielding
duplicate definition errors if we override default Package ensure
to latest. We should solve this by using ensure_resources which
does not enforce this.

Change-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f
Closes-Bug: #1644906
Resolves: rhbz#1392583
(cherry picked from commit e0b9dd93e21803eae8e9b52f458c563fe028b58f)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/10/404210/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",2,f2c1f2c69e2fa07e03580f18666eead44e868615,bug/1644906," ensure_resources('package', { 'python-memcache' => { }})"," ensure_packages('python-memcache', { ensure => present, })",2,4
openstack%2Foslo.privsep~master~Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2,openstack/oslo.privsep,master,Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2,Ignore timeout error when receiving message from sockect,MERGED,2016-09-14 02:40:01.000000000,2016-11-29 15:23:45.000000000,2016-09-22 04:02:07.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 9796}, {'_account_id': 11279}]","[{'number': 1, 'created': '2016-09-14 02:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/414c7f98fcb76f8ea1391c5a9940e9c3e4830a88', 'message': ""Ignore timeout error when receiving message from sockect\n\nWhen the clientchannel's receiver thread had crashed with\ntimeout error. the upside main procedure will contine with-\nout any notifications,it may get stocked when no thread can\nhandle the messages later on.\n\nthis change just fix this situation by ignore the timeout\nexception, maybe it's a arbitary decision and have a widely\neffect.\n\nI will abandon this change if better solution can provide\n\nChange-Id: Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2\nCloses-Bug: #1623286\n""}, {'number': 2, 'created': '2016-09-18 01:07:53.000000000', 'files': ['oslo_privsep/comm.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/3b536190176aa339e2751cf5b47b76a7ac6c5d67', 'message': ""Ignore timeout error when receiving message from sockect\n\nWhen the clientchannel's receiver thread had crashed with\ntimeout error. the upside main procedure will contine with-\nout any notifications,it may get stocked when no thread can\nhandle the messages later on.\n\nthis change just fix this situation by ignore the timeout\nexception, maybe it's a arbitary decision and have a widely\neffect.\n\nI will abandon this change if better solution can provide\n\nChange-Id: Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2\nCloses-Bug: #1623286\n""}]",8,369786,3b536190176aa339e2751cf5b47b76a7ac6c5d67,20,6,2,23083,,,0,"Ignore timeout error when receiving message from sockect

When the clientchannel's receiver thread had crashed with
timeout error. the upside main procedure will contine with-
out any notifications,it may get stocked when no thread can
handle the messages later on.

this change just fix this situation by ignore the timeout
exception, maybe it's a arbitary decision and have a widely
effect.

I will abandon this change if better solution can provide

Change-Id: Ie6058c9b9ffeac7c9af8b3ca9f40ea2b3c940ec2
Closes-Bug: #1623286
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/86/369786/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'oslo_privsep/comm.py']",2,414c7f98fcb76f8ea1391c5a9940e9c3e4830a88,bug/1623286, try: buf = self.readsock.recv(4096) if not buf: raise self.unpacker.feed(buf) except socket.timeout: pass, buf = self.readsock.recv(4096) if not buf: raise self.unpacker.feed(buf),8,4
openstack%2Fwatcher-specs~master~I469dfbc6068b8cb7b87137dabece44d9e2c2beb9,openstack/watcher-specs,master,I469dfbc6068b8cb7b87137dabece44d9e2c2beb9,Fix a grammar mistake,MERGED,2016-11-21 02:55:24.000000000,2016-11-29 15:20:11.000000000,2016-11-29 15:20:11.000000000,"[{'_account_id': 3}, {'_account_id': 11750}]","[{'number': 1, 'created': '2016-11-21 02:55:24.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/942aa0a12a82cbc4569f1cfa358d1347eb67c392', 'message': 'Fix a grammar mistake\n\ntrivial fix\n\nChange-Id: I469dfbc6068b8cb7b87137dabece44d9e2c2beb9\n'}]",0,400034,942aa0a12a82cbc4569f1cfa358d1347eb67c392,6,2,1,21387,,,0,"Fix a grammar mistake

trivial fix

Change-Id: I469dfbc6068b8cb7b87137dabece44d9e2c2beb9
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/34/400034/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,942aa0a12a82cbc4569f1cfa358d1347eb67c392,fixgrammar,Developers are then free to propose code reviews to implement their,The developer is then free to propose code reviews to implement their,1,1
openstack%2Fwatcher-specs~master~Ib78e04c547bdb3aef2b13aec9315dbe39d41a4bf,openstack/watcher-specs,master,Ib78e04c547bdb3aef2b13aec9315dbe39d41a4bf,Fix a spelling error,MERGED,2016-11-23 06:09:33.000000000,2016-11-29 15:17:42.000000000,2016-11-29 15:17:42.000000000,"[{'_account_id': 3}, {'_account_id': 11750}, {'_account_id': 12394}]","[{'number': 1, 'created': '2016-11-23 06:09:33.000000000', 'files': ['specs/ocata/approved/graph-based-cluster-model.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/f88c394f3173f91ef6d18875a824f7e2e0bbc4c2', 'message': 'Fix a spelling error\n\nexast->exist\n\nChange-Id: Ib78e04c547bdb3aef2b13aec9315dbe39d41a4bf\n'}]",0,401072,f88c394f3173f91ef6d18875a824f7e2e0bbc4c2,7,3,1,20566,,,0,"Fix a spelling error

exast->exist

Change-Id: Ib78e04c547bdb3aef2b13aec9315dbe39d41a4bf
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/72/401072/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/graph-based-cluster-model.rst'],1,f88c394f3173f91ef6d18875a824f7e2e0bbc4c2,bug_spell,exist type of nodes that will be offered is depended from the platfrom,exast type of nodes that will be offered is depended from the platfrom,1,1
openstack%2Fpython-openstackclient~master~Iea8bbe460061d67e36a4346b349e07612112c732,openstack/python-openstackclient,master,Iea8bbe460061d67e36a4346b349e07612112c732,Add network service provider list to OSC,MERGED,2016-10-03 23:40:29.000000000,2016-11-29 15:13:42.000000000,2016-11-29 15:13:42.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8276}, {'_account_id': 8410}, {'_account_id': 14615}, {'_account_id': 18332}, {'_account_id': 21514}, {'_account_id': 22218}]","[{'number': 1, 'created': '2016-10-03 23:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d01c1a269d4c53ca7d411d8035c6784077a1bc0f', 'message': '[WIP] add network service provider list to OSC\n\nAdd network service providers commands to OSC\n\nChange-Id: Iea8bbe460061d67e36a4346b349e07612112c732\nDepends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374\n'}, {'number': 2, 'created': '2016-10-04 21:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1b6e56998cfd311d69724acfca1af6400d4d8b80', 'message': 'Add network service provider list to OSC\n\nAdd network service providers commands to OSC\n\nChange-Id: Iea8bbe460061d67e36a4346b349e07612112c732\nDepends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374\n'}, {'number': 3, 'created': '2016-10-26 18:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f207bf0e2515f2699fd7d88f9206382768745b98', 'message': 'Add network service provider list to OSC\n\nAdd network service providers commands to OSC\n\nChange-Id: Iea8bbe460061d67e36a4346b349e07612112c732\nDepends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374\n'}, {'number': 4, 'created': '2016-10-27 18:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fbd8a626b544c8ef6bca4e3f58066b6d00316584', 'message': '[WIP] Add network service provider list to OSC\n\nAdd network service providers commands to OSC\n\nChange-Id: Iea8bbe460061d67e36a4346b349e07612112c732\nDepends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374\n'}, {'number': 5, 'created': '2016-11-01 15:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ce3cc40fdeab79abcb8816ad594e2883f9119b3b', 'message': 'Add network service provider list to OSC\n\nAdd network service providers commands to OSC\n\nChange-Id: Iea8bbe460061d67e36a4346b349e07612112c732\nDepends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374\n'}, {'number': 6, 'created': '2016-11-29 04:54:08.000000000', 'files': ['doc/source/commands.rst', 'releasenotes/notes/add-network-service-provider-c161a4a328a8a408.yaml', 'doc/source/command-objects/network-service-provider.rst', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_network_service_provider.py', 'setup.cfg', 'openstackclient/network/v2/network_service_provider.py', 'openstackclient/tests/functional/network/v2/test_network_service_provider.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ac7d27adc6ee9b035a57c21a0ed84596ae65a449', 'message': 'Add network service provider list to OSC\n\nAdd network service providers commands to OSC\n\nChange-Id: Iea8bbe460061d67e36a4346b349e07612112c732\nDepends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374\n'}]",36,381342,ac7d27adc6ee9b035a57c21a0ed84596ae65a449,41,10,6,18332,,,0,"Add network service provider list to OSC

Add network service providers commands to OSC

Change-Id: Iea8bbe460061d67e36a4346b349e07612112c732
Depends-On: Ie0be92e0717b8b13e31068276a12b5fbf784e374
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/42/381342/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/commands.rst', 'doc/source/command-objects/network-service-provider.rst', 'setup.cfg', 'openstackclient/network/v2/network_service_provider.py']",4,d01c1a269d4c53ca7d411d8035c6784077a1bc0f,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Metering Label Implementations"""""" from osc_lib.command import command from osc_lib import utils class ListNetworkServiceProvider(command.Lister): """"""List Service Providers"""""" def take_action(self, parsed_args): client = self.app.client_manager.network columns = ( 'service_type', 'name', 'default', ) column_headers = ( 'Service Type', 'Name', 'Default', ) data = client.service_providers() return(column_headers, (utils.get_item_properties( s, columns, ) for s in data)) ",,62,0
openstack%2Fneutron~master~I76d00c03c4ce51dbb84586ef9d8dcff336049d38,openstack/neutron,master,I76d00c03c4ce51dbb84586ef9d8dcff336049d38,Move wait_until_true to neutron-lib,ABANDONED,2016-11-16 09:09:17.000000000,2016-11-29 15:13:38.000000000,,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 20229}, {'_account_id': 21784}, {'_account_id': 23304}]","[{'number': 1, 'created': '2016-11-16 09:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16390068d7fdeb2f2d8d14f1b5d6fce134a22448', 'message': 'Move wait_until_true to neutron-lib\n\nIn an effort to move away from neutron.common, move\nneutorn.common.utils.wait_until_true to neutron_lib.utils.helpers.\n\nChange-Id: I76d00c03c4ce51dbb84586ef9d8dcff336049d38\nDepends-On: I7d1769392beb26c3c863c186b07f7417fd8aa9a3\nCloses-Bug: 1642167\n'}, {'number': 2, 'created': '2016-11-17 18:24:59.000000000', 'files': ['neutron/tests/functional/common/__init__.py', 'neutron/common/utils.py', 'neutron/tests/functional/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/850e3b83be0117354664a14d06d0b2c964672159', 'message': 'Move wait_until_true to neutron-lib\n\nIn an effort to move away from neutron.common, move\nneutron.common.utils.wait_until_true to neutron_lib.utils.helpers.\n\nChange-Id: I76d00c03c4ce51dbb84586ef9d8dcff336049d38\nDepends-On: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nCloses-Bug: 1642167\n'}]",3,398207,850e3b83be0117354664a14d06d0b2c964672159,28,12,2,20229,,,0,"Move wait_until_true to neutron-lib

In an effort to move away from neutron.common, move
neutron.common.utils.wait_until_true to neutron_lib.utils.helpers.

Change-Id: I76d00c03c4ce51dbb84586ef9d8dcff336049d38
Depends-On: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4
Closes-Bug: 1642167
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/398207/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/common/__init__.py', 'neutron/common/utils.py', 'neutron/tests/functional/common/test_utils.py']",3,16390068d7fdeb2f2d8d14f1b5d6fce134a22448,bug/1642167,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import eventlet import testtools from neutron.common import utils from neutron.tests import base class TestWaitUntilTrue(base.BaseTestCase): def test_wait_until_true_predicate_succeeds(self): utils.wait_until_true(lambda: True) def test_wait_until_true_predicate_fails(self): with testtools.ExpectedException(eventlet.timeout.Timeout): utils.wait_until_true(lambda: False, 2) ",5,40
openstack%2Foslo.utils~master~Ib9dc118bbb553c40c7e4683731dad27610221fde,openstack/oslo.utils,master,Ib9dc118bbb553c40c7e4683731dad27610221fde,Move wait_until_true to oslo.utils,ABANDONED,2016-11-23 08:46:37.000000000,2016-11-29 15:13:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 20229}]","[{'number': 1, 'created': '2016-11-23 08:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/cf2c90c8877ed22495b7e513e6eea826c03497c6', 'message': 'Move wait_until_true to oslo.utils\n\nIn an effort to move away from neutron.common, move and reimplement\nneutron.common.utils.wait_until_true in oslo_utils.timeutils.\n\nIn case eventlet monkey-patching is not used, this method is\nre-implemented using threading and not eventet.\n\nChange-Id: Ib9dc118bbb553c40c7e4683731dad27610221fde\n'}, {'number': 2, 'created': '2016-11-28 13:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/482c0c67b7b2355ee8b944d79367d18cc8fd4bb8', 'message': 'Move wait_until_true to oslo.utils\n\nIn an effort to move away from neutron.common, move and reimplement\nneutron.common.utils.wait_until_true in oslo_utils.timeutils.\n\nIn case eventlet monkey-patching is not used, this method is\nre-implemented using threading and not eventet.\n\nChange-Id: Ib9dc118bbb553c40c7e4683731dad27610221fde\n'}, {'number': 3, 'created': '2016-11-28 13:44:29.000000000', 'files': ['oslo_utils/timeutils.py', 'oslo_utils/tests/test_timeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3ef1a4b9cbe1c5d806020f05ef921b955aa18c44', 'message': 'Move wait_until_true to oslo.utils\n\nIn an effort to move away from neutron.common, move and reimplement\nneutron.common.utils.wait_until_true in oslo_utils.timeutils.\n\nIn case eventlet monkey-patching is not used, this method is\nre-implemented using threading and not eventet.\n\nChange-Id: Ib9dc118bbb553c40c7e4683731dad27610221fde\n'}]",0,401126,3ef1a4b9cbe1c5d806020f05ef921b955aa18c44,13,5,3,20229,,,0,"Move wait_until_true to oslo.utils

In an effort to move away from neutron.common, move and reimplement
neutron.common.utils.wait_until_true in oslo_utils.timeutils.

In case eventlet monkey-patching is not used, this method is
re-implemented using threading and not eventet.

Change-Id: Ib9dc118bbb553c40c7e4683731dad27610221fde
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/26/401126/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/timeutils.py', 'oslo_utils/tests/test_timeutils.py']",2,cf2c90c8877ed22495b7e513e6eea826c03497c6,wait_until_true,"import testtools class TestWaitUntilTrue(test_base.BaseTestCase): def test_wait_until_true_predicate_succeeds(self): timeutils.wait_until_true(lambda: True) def test_wait_until_true_predicate_succeeds_exception_not_called(self): mock_exception_class = mock.create_autospec(timeutils.Timeout) timeutils.wait_until_true(lambda: True, exception=mock_exception_class) mock_exception_class.assert_not_called() def test_wait_until_true_predicate_fails(self): with testtools.ExpectedException(timeutils.Timeout): timeutils.wait_until_true(lambda: False, 2) def test_wait_until_true_predicate_fails_long_sleep(self): predicate = mock.Mock(return_value=False) with testtools.ExpectedException(timeutils.Timeout): timeutils.wait_until_true(predicate, 7, 3) self.assertEqual(3, predicate.call_count) def test_wait_until_true_predicate_fails_custom_exception(self): class PrivateTimeoutException(Exception): pass with testtools.ExpectedException(PrivateTimeoutException): timeutils.wait_until_true(lambda: False, 2, exception=PrivateTimeoutException)",,77,0
openstack%2Fneutron-lib~master~Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4,openstack/neutron-lib,master,Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4,Reimplement wait_until_true in neutron-lib,ABANDONED,2016-11-16 15:05:56.000000000,2016-11-29 15:13:09.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 20229}]","[{'number': 1, 'created': '2016-11-16 15:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8c0fa102e323b1bd08962fd82701dd9a51608ea3', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutorn.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutorn-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}, {'number': 2, 'created': '2016-11-16 20:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3b899bebdd1487491e04fa3ab9533f8738bb2f71', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutorn.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutorn-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}, {'number': 3, 'created': '2016-11-17 11:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2ced128a4334df04633404115bf3394ff21db6ca', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutorn.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutorn-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}, {'number': 4, 'created': '2016-11-17 15:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2e7ab09e9980f09594aec369aca2c3527381d8a2', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutorn.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutorn-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}, {'number': 5, 'created': '2016-11-18 15:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6d4192715b1d1ca69c1b133fba0f06df0143e3dc', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutron.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutron-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}, {'number': 6, 'created': '2016-11-18 18:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7960ac729b0ad3f0132067e9be69cbb50d7aeb74', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutron.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutron-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}, {'number': 7, 'created': '2016-11-28 15:40:40.000000000', 'files': ['neutron_lib/tests/unit/utils/test_helpers.py', 'releasenotes/notes/reimplement-wait_until_true-c2b3c46e5c8660e6.yaml', 'neutron_lib/utils/helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7b2b4f2d2e45024c437d61a66a4135284c0a94bc', 'message': 'Reimplement wait_until_true in neutron-lib\n\nIn an effort to move away from neutron.common, reimplement\nneutron.common.utils.wait_until_true in neutron_lib.utils.helpers.\n\nThis is a reimplementation, and not a move, since eventlet is not\nallowed in neutron-lib.\n\nChange-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4\nPartial-Bug: 1642167\n'}]",19,398405,7b2b4f2d2e45024c437d61a66a4135284c0a94bc,49,10,7,20229,,,0,"Reimplement wait_until_true in neutron-lib

In an effort to move away from neutron.common, reimplement
neutron.common.utils.wait_until_true in neutron_lib.utils.helpers.

This is a reimplementation, and not a move, since eventlet is not
allowed in neutron-lib.

Change-Id: Id5a40019c301e117a67c39ceb1e86b1ad8b5edc4
Partial-Bug: 1642167
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/05/398405/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/utils/test_helpers.py', 'neutron_lib/utils/helpers.py']",2,8c0fa102e323b1bd08962fd82701dd9a51608ea3,bug/1642167,"import threading class Timeout(Exception): pass exception = exception or Timeout event = threading.Event() timer = threading.Timer(timeout, lambda: event.set()) timer.start() try: while not predicate(): if event.wait(sleep): raise exception() finally: timer.cancel()"," import eventlet with eventlet.timeout.Timeout(timeout, exception): while not predicate(): eventlet.sleep(sleep)",16,6
openstack%2Ftacker~master~I46414d846790a48765ce13993d72a7ac332569d9,openstack/tacker,master,I46414d846790a48765ce13993d72a7ac332569d9,Fix IndexError when creating a VNFFG,MERGED,2016-11-17 10:27:10.000000000,2016-11-29 15:12:13.000000000,2016-11-29 15:12:13.000000000,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 6348}, {'_account_id': 13380}, {'_account_id': 13485}, {'_account_id': 16511}, {'_account_id': 17280}, {'_account_id': 18955}, {'_account_id': 20560}, {'_account_id': 22061}]","[{'number': 1, 'created': '2016-11-17 10:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f40324475822a1628a83774eaaa14571b16f4ad9', 'message': 'Fix IndexError when creating a VNFFG\n\nWhen creating a VNFFG with referred VNF not creating,\nVnffgInvalidMappingException should be raised, but IndexError\nhappened for a bug.\n\nChange-Id: I46414d846790a48765ce13993d72a7ac332569d9\nCloses-Bug: #1642536\n'}, {'number': 2, 'created': '2016-11-24 23:47:59.000000000', 'files': ['tacker/db/nfvo/vnffg_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/65130ccc48d482653a54e186575aeeac6747672d', 'message': 'Fix IndexError when creating a VNFFG\n\nWhen creating a VNFFG with referred VNF not created,\nVnffgInvalidMappingException should be raised, but IndexError\nhappened for a bug.\n\nChange-Id: I46414d846790a48765ce13993d72a7ac332569d9\nCloses-Bug: #1642536\n'}]",4,398908,65130ccc48d482653a54e186575aeeac6747672d,19,10,2,6348,,,0,"Fix IndexError when creating a VNFFG

When creating a VNFFG with referred VNF not created,
VnffgInvalidMappingException should be raised, but IndexError
happened for a bug.

Change-Id: I46414d846790a48765ce13993d72a7ac332569d9
Closes-Bug: #1642536
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/398908/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/db/nfvo/vnffg_db.py'],1,f40324475822a1628a83774eaaa14571b16f4ad9,vnf_list, if len(vnf_list) == 0:, if vnf_list is None:,1,1
openstack%2Fsalt-formula-cinder~master~I44bd7e1aeb98e4f9d0cc2c86a61c83eebab21c72,openstack/salt-formula-cinder,master,I44bd7e1aeb98e4f9d0cc2c86a61c83eebab21c72,Do not create data cluster if cinder volume is disabled,MERGED,2016-11-29 14:34:42.000000000,2016-11-29 15:11:50.000000000,2016-11-29 15:11:50.000000000,"[{'_account_id': 3}, {'_account_id': 20195}]","[{'number': 1, 'created': '2016-11-29 14:34:42.000000000', 'files': ['cinder/meta/heka.yml'], 'web_link': 'https://opendev.org/openstack/salt-formula-cinder/commit/5173a328737041b795978fe484ec0864f69da7e5', 'message': 'Do not create data cluster if cinder volume is disabled\n\nChange-Id: I44bd7e1aeb98e4f9d0cc2c86a61c83eebab21c72\n'}]",0,404245,5173a328737041b795978fe484ec0864f69da7e5,6,2,1,19300,,,0,"Do not create data cluster if cinder volume is disabled

Change-Id: I44bd7e1aeb98e4f9d0cc2c86a61c83eebab21c72
",git fetch https://review.opendev.org/openstack/salt-formula-cinder refs/changes/45/404245/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/meta/heka.yml'],1,5173a328737041b795978fe484ec0864f69da7e5,fix-alarm, {%- if volume %} cinder_volume: policy: highest_severity alerting: enabled match: service: cinder-volume members: - cinder_volume dimension: service: cinder-data nagios_host: 01-service-clusters cinder_data: policy: highest_severity alerting: enabled_with_notification match: service: cinder-data members: - cinder_logs_volume - cinder_volume dimension: cluster_name: cinder-data nagios_host: 00-top-clusters {%- endif %} {%- if controller %} {%- endif %}, cinder_volume: policy: highest_severity alerting: enabled match: service: cinder-volume members: - cinder_volume dimension: service: cinder-data nagios_host: 01-service-clusters cinder_data: policy: highest_severity alerting: enabled_with_notification match: service: cinder-data members: - cinder_logs_volume - cinder_volume dimension: cluster_name: cinder-data nagios_host: 00-top-clusters,25,21
openstack%2Fsalt-formula-cinder~master~I7d9213c1a521d79e64e8e2bb60c53da9f191abdb,openstack/salt-formula-cinder,master,I7d9213c1a521d79e64e8e2bb60c53da9f191abdb,Use stronger tests in alarm definitions,MERGED,2016-11-29 12:37:22.000000000,2016-11-29 15:11:18.000000000,2016-11-29 15:11:18.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 20195}]","[{'number': 1, 'created': '2016-11-29 12:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/salt-formula-cinder/commit/5f01cd63003c6e90478b64e94b1289d11fb4e998', 'message': 'Use stronger tests in alarm definitions\n\nWe need to take in account the case where pillar.cinder.controller is\ndefined but it is actually disabled (with ""enabled"" set to False).\nLikewise for pillar.cinder.volume.\n\nChange-Id: I7d9213c1a521d79e64e8e2bb60c53da9f191abdb\n'}, {'number': 2, 'created': '2016-11-29 14:34:42.000000000', 'files': ['cinder/meta/heka.yml'], 'web_link': 'https://opendev.org/openstack/salt-formula-cinder/commit/9642f207f991d1287518d215f1a8a65af4aa088a', 'message': 'Use stronger tests in alarm definitions\n\nWe need to take in account the case where pillar.cinder.controller is\ndefined but it is actually disabled (with ""enabled"" set to False).\nLikewise for pillar.cinder.volume.\n\nChange-Id: I7d9213c1a521d79e64e8e2bb60c53da9f191abdb\n'}]",0,404195,9642f207f991d1287518d215f1a8a65af4aa088a,9,3,2,19300,,,0,"Use stronger tests in alarm definitions

We need to take in account the case where pillar.cinder.controller is
defined but it is actually disabled (with ""enabled"" set to False).
Likewise for pillar.cinder.volume.

Change-Id: I7d9213c1a521d79e64e8e2bb60c53da9f191abdb
",git fetch https://review.opendev.org/openstack/salt-formula-cinder refs/changes/95/404195/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/meta/heka.yml'],1,5f01cd63003c6e90478b64e94b1289d11fb4e998,fix-alarm,"{%- from ""cinder/map.jinja"" import controller as _controller with context %} {%- from ""cinder/map.jinja"" import volume as _volume with context %} {%- set controller = _controller.get('enabled', False) %} {%- set volume = _volume.get('enabled', False) %} {%- if controller %} {%- if controller %} {%- if volume %} {%- if controller %} {%- if volume %} {%- if controller %} {%- if volume %}", {%- if pillar.cinder.controller is defined %} {%- if pillar.cinder.controller is defined %} {%- if pillar.cinder.compute is defined %} {%- if pillar.cinder.controller is defined %} {%- if pillar.cinder.volume is defined %} {%- if pillar.cinder.controller is defined %} {%- if pillar.cinder.volume is defined %},11,7
openstack%2Fsalt-formula-cinder~master~I7001fa6d5c4923d455bff90a8863b1ff05851be2,openstack/salt-formula-cinder,master,I7001fa6d5c4923d455bff90a8863b1ff05851be2,Fix alarm definition for cinder-volume,MERGED,2016-11-29 12:37:22.000000000,2016-11-29 15:11:09.000000000,2016-11-29 15:11:09.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 20195}]","[{'number': 1, 'created': '2016-11-29 12:37:22.000000000', 'files': ['cinder/meta/heka.yml'], 'web_link': 'https://opendev.org/openstack/salt-formula-cinder/commit/1aedc42b7539d5e285e71167a99e16966e1f2f28', 'message': 'Fix alarm definition for cinder-volume\n\nThis commit fixes an alarm definition for cinder-volume where ""service""\nwas set to ""scheduler"" instead of ""volume"".\n\nWith this change the ""cinder-volume"" and ""cinder-data"" clusters are now\ncorrectly reported as UNKNOWN in Grafana and Nagios.\n\nChange-Id: I7001fa6d5c4923d455bff90a8863b1ff05851be2\n'}]",0,404194,1aedc42b7539d5e285e71167a99e16966e1f2f28,7,3,1,19300,,,0,"Fix alarm definition for cinder-volume

This commit fixes an alarm definition for cinder-volume where ""service""
was set to ""scheduler"" instead of ""volume"".

With this change the ""cinder-volume"" and ""cinder-data"" clusters are now
correctly reported as UNKNOWN in Grafana and Nagios.

Change-Id: I7001fa6d5c4923d455bff90a8863b1ff05851be2
",git fetch https://review.opendev.org/openstack/salt-formula-cinder refs/changes/94/404194/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/meta/heka.yml'],1,1aedc42b7539d5e285e71167a99e16966e1f2f28,fix-alarm, service: volume, service: scheduler,1,1
openstack%2Foslo.middleware~master~I136669a7dd0e6e0d293a9b9ea1b685de82404e2b,openstack/oslo.middleware,master,I136669a7dd0e6e0d293a9b9ea1b685de82404e2b,Document how to use detailed mode in healthcheck,MERGED,2016-11-28 17:54:11.000000000,2016-11-29 15:10:33.000000000,2016-11-29 15:10:33.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2016-11-28 17:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/d6664d0905e08742ad31fbdb3d43b86477bdb30f', 'message': 'Document how to use detailed mode in healthcheck\n\nThe detailed mode is referenced in the documenation but it is never\nexplained how to enable it. This exposes it in the docs.\n\nChange-Id: I136669a7dd0e6e0d293a9b9ea1b685de82404e2b\n'}, {'number': 2, 'created': '2016-11-28 17:54:41.000000000', 'files': ['oslo_middleware/healthcheck/disable_by_file.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/5f1941df4a521642c6cc2afeb9f1a5ad7c4187d8', 'message': 'Document how to use detailed mode in healthcheck\n\nThe detailed mode is referenced in the documenation but it is never\nexplained how to enable it. This exposes it in the docs.\n\nChange-Id: I136669a7dd0e6e0d293a9b9ea1b685de82404e2b\n'}]",0,403831,5f1941df4a521642c6cc2afeb9f1a5ad7c4187d8,8,3,2,9500,,,0,"Document how to use detailed mode in healthcheck

The detailed mode is referenced in the documenation but it is never
explained how to enable it. This exposes it in the docs.

Change-Id: I136669a7dd0e6e0d293a9b9ea1b685de82404e2b
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/31/403831/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_middleware/healthcheck/disable_by_file.py'],1,d6664d0905e08742ad31fbdb3d43b86477bdb30f,," # set to True to enable detailed output, False is the default detailed = False # set to True to enable detailed output, False is the default detailed = False",,4,0
openstack%2Ffuel-ui~stable%2Fmitaka~Ia77999e123343344902074a4c01d92a70ecf8750,openstack/fuel-ui,stable/mitaka,Ia77999e123343344902074a4c01d92a70ecf8750,Add sorters to deployment history table view,MERGED,2016-11-29 13:53:10.000000000,2016-11-29 15:09:14.000000000,2016-11-29 15:06:39.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-29 13:53:10.000000000', 'files': ['static/tests/functional/test_deployment_history.js', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/652084d03c561bdffcdc92dc7f7e0d046a13515a', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by names)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}]",0,404227,652084d03c561bdffcdc92dc7f7e0d046a13515a,17,4,1,8766,,,0,"Add sorters to deployment history table view

Added sorters of deployment task by:
* task name
* node (master node goes first, removed nodes go last,
  cluster nodes are sorted by names)
* task status
* task type
* time start
* time end

Closes-Bug: #1626916

Change-Id: Ia77999e123343344902074a4c01d92a70ecf8750
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/27/404227/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/tests/functional/test_deployment_history.js', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js']",7,652084d03c561bdffcdc92dc7f7e0d046a13515a,bug/1626916,"import {Sorter, Filter} from 'views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter';var sorterNs = 'cluster_page.nodes_tab.sorters.'; _.map(sort, _.partial(Sorter.fromObject, _, sorterNs, false)), _.map(sortByLabels, _.partial(Sorter.fromObject, _, sorterNs, true)) activeSorters = _.map(defaultSorting, _.partial(Sorter.fromObject, _, sorterNs, false)); (name) => new Sorter(name, 'asc', sorterNs, false) _.map(this.props.defaultSorting, _.partial(Sorter.fromObject, _, sorterNs, false)) return new Sorter(name, order === 'asc' ? 'desc' : 'asc', sorterNs, isLabel); labelSorters={screenNodesLabels.map((name) => new Sorter(name, 'asc', sorterNs, true))}"," class Sorter { constructor(name, order = 'asc', isLabel = false) { this.name = name; this.order = order; this.isLabel = isLabel; this.title = isLabel ? name : i18n('cluster_page.nodes_tab.sorters.' + name, {defaultValue: name}); return this; } static fromObject(sorterObject, isLabel = false) { var name = _.keys(sorterObject)[0]; return new Sorter(name, sorterObject[name], isLabel); } static toObject({name, order}) { return {[name]: order}; } } class Filter { constructor(name, values, isLabel = false) { this.name = name; this.values = values; this.isLabel = isLabel; this.title = isLabel ? name : i18n('cluster_page.nodes_tab.filters.' + name, {defaultValue: name}); this.isNumberRange = !isLabel && !_.contains(['roles', 'status', 'manufacturer', 'group_id', 'cluster'], name); return this; } static fromObject(filters, isLabel = false) { return _.map(filters, (values, name) => new Filter(name, values, isLabel)); } static toObject(filters) { return _.reduce(filters, (result, {name, values}) => { result[name] = values; return result; }, {}); } updateLimits(nodes, updateValues) { if (this.isNumberRange) { var limits = [0, 0]; if (nodes.length) { var resources = nodes.invoke('resource', this.name); limits = [_.min(resources), _.max(resources)]; if (this.name === 'hdd' || this.name === 'ram') { limits = [ Math.floor(limits[0] / Math.pow(1024, 3)), Math.ceil(limits[1] / Math.pow(1024, 3)) ]; } } this.limits = limits; if (updateValues) this.values = _.clone(limits); } } } _.map(sort, _.partial(Sorter.fromObject, _, false)), _.map(sortByLabels, _.partial(Sorter.fromObject, _, true)) activeSorters = _.map(defaultSorting, _.partial(Sorter.fromObject, _, false)); (name) => new Sorter(name, 'asc', false) _.map(this.props.defaultSorting, _.partial(Sorter.fromObject, _, false)) return new Sorter(name, order === 'asc' ? 'desc' : 'asc', isLabel); labelSorters={screenNodesLabels.map((name) => new Sorter(name, 'asc', true))}",454,125
openstack%2Fpython-cloudkittyclient~master~I06ab6611452cdc6e875b5534cd955a0a3092ed0d,openstack/python-cloudkittyclient,master,I06ab6611452cdc6e875b5534cd955a0a3092ed0d,Add module priority management,MERGED,2016-11-28 13:42:16.000000000,2016-11-29 15:08:04.000000000,2016-11-29 15:08:04.000000000,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 18898}, {'_account_id': 21797}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 23317}]","[{'number': 1, 'created': '2016-11-28 13:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e8d9f44a6809599a2d03ee70e3ddaffaaa529bb1', 'message': 'Add module priority management\n\nThis patch binds the python client to the module priority REST api.\nIt also adds a CLI setter command and updates the module list CLI\noutput to show current priority value.\n\nChange-Id: I06ab6611452cdc6e875b5534cd955a0a3092ed0d\nImplements: blueprint module-priority-cli-command\n'}, {'number': 2, 'created': '2016-11-29 10:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/c738f5a855a1e5bf8f07adb72103ca016ba7c078', 'message': 'Add module priority management\n\nThis patch binds the python client to the module priority REST api.\nIt also adds a CLI setter command and updates the module list CLI\noutput to show current priority value.\n\nChange-Id: I06ab6611452cdc6e875b5534cd955a0a3092ed0d\nImplements: blueprint module-priority-cli-command\n'}, {'number': 3, 'created': '2016-11-29 13:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/7bc486a254dd8a0fa7ba2a6d0685493366c9f2d9', 'message': 'Add module priority management\n\nThis patch binds the python client to the module priority REST api.\nIt also adds a CLI setter command and updates the module list CLI\noutput to show current priority value.\n\nChange-Id: I06ab6611452cdc6e875b5534cd955a0a3092ed0d\nImplements: blueprint module-priority-cli-command\n'}, {'number': 4, 'created': '2016-11-29 14:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/2b676276563b94fe78d10926cbbe5e2f00b1ed94', 'message': 'Add module priority management\n\nThis patch binds the python client to the module priority REST api.\nIt also adds a CLI setter command and updates the module list CLI\noutput to show current priority value.\n\nChange-Id: I06ab6611452cdc6e875b5534cd955a0a3092ed0d\nImplements: blueprint module-priority-cli-command\n'}, {'number': 5, 'created': '2016-11-29 14:59:35.000000000', 'files': ['cloudkittyclient/v1/core.py', 'cloudkittyclient/v1/shell.py', 'cloudkittyclient/tests/v1/test_core.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/b6f7a7831f982228d47f431804ffdf477fccd1fa', 'message': 'Add module priority management\n\nThis patch binds the python client to the module priority REST api.\nIt also adds a CLI setter command and updates the module list CLI\noutput to show current priority value.\n\nChange-Id: I06ab6611452cdc6e875b5534cd955a0a3092ed0d\nImplements: blueprint module-priority-cli-command\n'}]",3,403703,b6f7a7831f982228d47f431804ffdf477fccd1fa,26,7,5,23173,,,0,"Add module priority management

This patch binds the python client to the module priority REST api.
It also adds a CLI setter command and updates the module list CLI
output to show current priority value.

Change-Id: I06ab6611452cdc6e875b5534cd955a0a3092ed0d
Implements: blueprint module-priority-cli-command
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/03/403703/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v1/core.py', 'cloudkittyclient/v1/shell.py', 'cloudkittyclient/tests/v1/test_core.py']",3,e8d9f44a6809599a2d03ee70e3ddaffaaa529bb1,bp/module-priority-cli-command," 'priority': 1, 'priority': 1, 'priority': 1, 'priority': 1, 'priority': 1, 'priority': 1, 'enabled': True, 'priority': 1}, 'enabled': False, 'priority': 1}, ] self.http_client.assert_called(*expect) def test_set_priority(self): self.ck_module = self.mgr.get(module_id='hashmap') self.ck_module.set_priority(100) # PUT /v1/rating/modules/hashmap # body : {'priority': 100} expect = [ 'PUT', '/v1/rating/modules/hashmap', {'module_id': 'hashmap', 'enabled': True, 'priority': 100},"," 'enabled': True}, 'enabled': False},",49,4
openstack%2Fwatcher-specs~master~I60a3f29a3ec8621ea499b0726a4a9e69b171510a,openstack/watcher-specs,master,I60a3f29a3ec8621ea499b0726a4a9e69b171510a,automatic triggering of action plans for AUDIT,MERGED,2016-07-14 23:52:57.000000000,2016-11-29 15:07:31.000000000,2016-11-29 15:07:31.000000000,"[{'_account_id': 3}, {'_account_id': 6437}, {'_account_id': 7664}, {'_account_id': 8580}, {'_account_id': 9392}, {'_account_id': 11750}, {'_account_id': 16495}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19899}]","[{'number': 1, 'created': '2016-07-14 23:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/00269e4ff16cdeccf8a3243237482d490cdb8157', 'message': 'Added spec for automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nImplements: bp/automatic-triggering-audit\n'}, {'number': 2, 'created': '2016-07-15 00:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/ded9e8434a649dcf0a848d5dd7ba4f45aab6e751', 'message': 'Added spec for automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nImplements: bp/automatic-triggering-audit\n'}, {'number': 3, 'created': '2016-07-18 07:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/960459bc62eb45eefd246a01f258d63bc1e94f91', 'message': 'Added spec for automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 4, 'created': '2016-08-24 13:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/71e2a2410e3df4dda5c85fa6ac8fdd19880b22ee', 'message': 'automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 5, 'created': '2016-08-24 13:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/2f766cbb6701ebc2b1bcf7ab7f58d4989cf287d2', 'message': 'automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 6, 'created': '2016-08-24 13:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/adaceb3fde02a4f123920a43184c5139d81bb0b7', 'message': 'automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 7, 'created': '2016-09-06 00:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/4ab7c97a2620f0fd65f6e793da5851969bbd778d', 'message': 'automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 8, 'created': '2016-09-07 00:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/6c2415ab464929fcbf24f647c69a87b7c72857d0', 'message': 'automatic triggering audit\n\nThis specification is designed to implement auto_trigger\naction in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 9, 'created': '2016-09-20 00:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/251f23e10e744dd32e38f070b502830d0efe8f67', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 10, 'created': '2016-09-21 08:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/fd01ed3df1a00b282f2fcf4f86817fc78c39a273', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 11, 'created': '2016-09-21 13:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/33b11dc1bc9b5e0fff36a495aaa498a8c503872d', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 12, 'created': '2016-10-04 01:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/4e4e7e5835646edc40d4bc21a5d729fb476d420c', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 13, 'created': '2016-10-04 01:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/86c9840860c084d2b1818099a4127fc290acf77a', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 14, 'created': '2016-10-05 16:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/8eaf15b6da16cf268d1de1e1fa6d1557ffb30e7b', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 15, 'created': '2016-10-05 16:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/8a8e02934b12dccd419a5a202c1e0c62ad88f287', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 16, 'created': '2016-10-07 17:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/d3decd136d42ac975745fd60219ab7ef84b22810', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 17, 'created': '2016-10-10 12:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/2d8483b8cf8c644c1dfa39ae8b7134c6e0c0276e', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 18, 'created': '2016-10-10 16:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/0a18225020b65860b1b8ca77c2a17f3800f90208', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 19, 'created': '2016-10-19 16:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/37893d00c85522d9c9b21b2b6cfd299ec3e5e4d0', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 20, 'created': '2016-10-19 16:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/df66b068aa9cff15ac1ab7db42ea1d5f97a947c2', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 21, 'created': '2016-10-21 09:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/212b2569db57260c81162c2a718d945b12b0c5c7', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}, {'number': 22, 'created': '2016-11-15 10:16:21.000000000', 'files': ['specs/ocata/approved/automatic-triggering-audit.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/2789581d8b1dd694de3edc08a0d0cada99e6202a', 'message': 'automatic triggering of action plans for AUDIT\n\nThis specification is designed to implement\nauto_trigger_action_plan in watcher audit.\n\nChange-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a\nblueprint: automatic-triggering-audit\n'}]",109,342473,2789581d8b1dd694de3edc08a0d0cada99e6202a,73,10,22,8580,,,0,"automatic triggering of action plans for AUDIT

This specification is designed to implement
auto_trigger_action_plan in watcher audit.

Change-Id: I60a3f29a3ec8621ea499b0726a4a9e69b171510a
blueprint: automatic-triggering-audit
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/73/342473/17 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/automatic-triggering-audit.rst'],1,00269e4ff16cdeccf8a3243237482d490cdb8157,bp/automatic-triggering-audit,"============================================= Watcher automatic triggering audit ============================================= https://blueprints.launchpad.net/watcher/+spec/automatic-triggering-audit Problem description =================== This blueprint goes beyond the ""continuously-optimization"" blueprint [1] by applying automatically the Action Plans. Watcher needs to continuously optimize the OpenStack cloud for a specific strategies or goals. Watcher can periodically trigger some Audits which generates Action Plans. Unfortunately, in the current implementation the Administrator have to launch manually the recommended Action Plan in order to apply it on the real system. This specification relates to blueprint: https://blueprints.launchpad.net/watcher/+spec/automatic-triggering-audit Use Cases --------- As administrator, telling audit to trigger the action plan everytime is a a headache to the administator, so here we are implementing automatic traggering functionality in audit which triggers the action plans. Project Priority ---------------- Essential for Newton-2 Proposed change =============== Alternatives ------------ * To use a cronjob for audit which auomatically triggers the action. Data model impact ----------------- There must be new field in Audit model: bool 'auto_trigger'. REST API impact --------------- auto_trigger field has to be added as Audit attribute. Security impact --------------- None expected. Notifications impact -------------------- None expected. Other end user impact --------------------- Support for 'auto_triger' field must be added to the python-watcherclient and to the watcher-dashboard. Performance Impact ------------------ No specific performance impact is expected. Other deployer impact --------------------- No specific deployer impact is envisaged. Developer impact ---------------- This will not impact other developers working on OpenStack. Implementation ============== Assignee(s) ----------- Primary assignee: Digambar Patil <diga> Other contributors: Jean-Emile DARTOIS <jed56> Work Items ---------- Part 1 ^^^^^^ Part 2 ^^^^^^ Dependencies ============ There is a dependency with `watcher-notifications-ovo`_ blueprint. Testing ======= Appropriate unit tests will be adapted to new changes. Documentation Impact ==================== It will be necessary to add new content relating to this change. References ========== No references. History ======= No history. .. _APScheduler: https://github.com/agronholm/apscheduler .. _Strategies: https://factory.b-com.com/www/watcher/doc/watcher/glossary.html#strategy .. _Administrator: https://factory.b-com.com/www/watcher/doc/watcher/glossary.html#administrator .. _Audit: https://factory.b-com.com/www/watcher/doc/watcher/glossary.html#audit .. _Action Plan: https://factory.b-com.com/www/watcher/doc/watcher/glossary.html#action-plan .. _Cluster: https://factory.b-com.com/www/watcher/doc/watcher/glossary.html#cluster .. _BackgroundScheduler: https://github.com/agronholm/apscheduler/blob/master/examples/schedulers/background.py .. _API source file: https://github.com/openstack/watcher/blob/master/watcher/api/controllers/v1/audit.py .. _watcher-notifications-ovo: https://blueprints.launchpad.net/watcher/+spec/watcher-notifications-ovo ",,142,0
openstack%2Fpuppet-horizon~master~I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,openstack/puppet-horizon,master,I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,Switch ensure_packages to ensure_resources for python-memcache,MERGED,2016-11-25 19:39:12.000000000,2016-11-29 15:07:14.000000000,2016-11-29 14:04:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 15519}]","[{'number': 1, 'created': '2016-11-25 19:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d901324d3f404d860c56ef856b839224e3e31f99', 'message': 'Switch from ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n'}, {'number': 2, 'created': '2016-11-25 19:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/837f717c199042cac1625d9abe84ae5a4f84368f', 'message': 'Switch ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n'}, {'number': 3, 'created': '2016-11-28 14:31:52.000000000', 'files': ['manifests/init.pp', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/7cbcc78baa5ebe91d0dc990f5f1235a9ff2159e6', 'message': 'Switch ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n'}]",0,403262,7cbcc78baa5ebe91d0dc990f5f1235a9ff2159e6,27,4,3,11166,,,0,"Switch ensure_packages to ensure_resources for python-memcache

The ensure_packages resource forces ensure to present yielding
duplicate definition errors if we override default Package ensure
to latest. We should solve this by using ensure_resources which
does not enforce this.

Change-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f
Closes-Bug: #1644906
Resolves: rhbz#1392583
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/62/403262/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,d901324d3f404d860c56ef856b839224e3e31f99,bug/1644906," ensure_resources('package', { 'python-memcache' => tag => ['openstack']}})"," ensure_packages('python-memcache', tag => ['openstack']})",2,2
openstack%2Fcinder~master~I102409539c9a691c1816a342163dd049855f57da,openstack/cinder,master,I102409539c9a691c1816a342163dd049855f57da,HPE3PAR: handle conflict in iscsi host create,MERGED,2016-11-22 04:34:20.000000000,2016-11-29 15:06:43.000000000,2016-11-28 12:53:39.000000000,"[{'_account_id': 3}, {'_account_id': 1773}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 11600}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21406}, {'_account_id': 21407}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 22990}, {'_account_id': 23113}, {'_account_id': 23602}]","[{'number': 1, 'created': '2016-11-22 04:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a91315764b4d6a23a53d719dcc5846e2f2810def', 'message': 'HPE3PAR: handle conflict in iscsi host create\n\nOne of the step in creating iSCSI VLUN is to create a host on array.\nIf there are simultaneous requests comming on 3par array for creating\nsame host, hpe3parclient creates host for first request and returns\nHTTP 409 conflict error for others, with error code 73, message ""host\nWWN/iSCSI name already used by another host"". This was not handled by\n3PAR iscsi driver and the HTTP exception would propagate up to volume\nmanager where it would log it. This patch addresses issue by catching\nthis exception and reusing the same host.\n\nChange-Id: I102409539c9a691c1816a342163dd049855f57da\nCloses-Bug: #1642945\n'}, {'number': 2, 'created': '2016-11-25 10:01:36.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b0c5c4318d3c348ce185a3f4dd94f9e803bf264', 'message': 'HPE3PAR: handle conflict in iscsi host create\n\nOne of the step in creating iSCSI VLUN is to create a host on array.\nIf there are simultaneous requests comming on 3par array for creating\nsame host, hpe3parclient creates host for first request and returns\nHTTP 409 conflict error for others, with error code 73, message ""host\nWWN/iSCSI name already used by another host"". This was not handled by\n3PAR iscsi driver and the HTTP exception would propagate up to volume\nmanager where it would log it. This patch addresses issue by catching\nthis exception and reusing the same host.\n\nChange-Id: I102409539c9a691c1816a342163dd049855f57da\nCloses-Bug: #1642945\n'}]",12,400511,9b0c5c4318d3c348ce185a3f4dd94f9e803bf264,90,33,2,21406,,,0,"HPE3PAR: handle conflict in iscsi host create

One of the step in creating iSCSI VLUN is to create a host on array.
If there are simultaneous requests comming on 3par array for creating
same host, hpe3parclient creates host for first request and returns
HTTP 409 conflict error for others, with error code 73, message ""host
WWN/iSCSI name already used by another host"". This was not handled by
3PAR iscsi driver and the HTTP exception would propagate up to volume
manager where it would log it. This patch addresses issue by catching
this exception and reusing the same host.

Change-Id: I102409539c9a691c1816a342163dd049855f57da
Closes-Bug: #1642945
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/400511/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,a91315764b4d6a23a53d719dcc5846e2f2810def,bug/1642945," def test_create_host_concurrent(self): # tests concurrent requests of create host {'name': self.FAKE_HOST}] def test_create_host_concurrent(self): # tests concurrent requests of create host # setup_mock_client driver with default configuration # and return the mock HTTP 3PAR client mock_client = self.setup_driver() mock_client.getVolume.return_value = {'userCPG': HPE3PAR_CPG} mock_client.getCPG.return_value = {} mock_client.queryHost.side_effect = [ None, {'members': [{'name': self.FAKE_HOST}]}] mock_client.createHost.side_effect = [ hpeexceptions.HTTPConflict( {'code': EXISTENT_PATH, 'desc': 'host WWN/iSCSI name already used by another host'})] mock_client.getHost.side_effect = [ hpeexceptions.HTTPNotFound('fake'), {'name': self.FAKE_HOST}] with mock.patch.object(hpecommon.HPE3PARCommon, '_create_client') as mock_create_client: mock_create_client.return_value = mock_client common = self.driver._login() host, user, pwd = self.driver._create_host( common, self.volume, self.connector) expected = [ mock.call.getVolume('osv-0DM4qZEVSKON-DXN-NwVpw'), mock.call.getCPG(HPE3PAR_CPG), mock.call.getHost(self.FAKE_HOST), mock.call.queryHost(iqns=['iqn.1993-08.org.debian:01:222']), mock.call.createHost( self.FAKE_HOST, optional={'domain': None, 'persona': 2}, iscsiNames=['iqn.1993-08.org.debian:01:222']), mock.call.queryHost(iqns=['iqn.1993-08.org.debian:01:222']), mock.call.getHost(self.FAKE_HOST)] mock_client.assert_has_calls(expected) self.assertEqual(self.FAKE_HOST, host['name']) "," def test_concurrent_create_host(self): # tests concurrent requests to create host {'name': self.FAKE_HOST, 'FCPaths': [{'driverVersion': None, 'firmwareVersion': None, 'hostSpeed': 0, 'model': None, 'portPos': {'cardPort': 1, 'node': 1, 'slot': 2}, 'vendor': None, 'wwn': self.wwn[0]}, {'driverVersion': None, 'firmwareVersion': None, 'hostSpeed': 0, 'model': None, 'portPos': {'cardPort': 1, 'node': 0, 'slot': 2}, 'vendor': None, 'wwn': self.wwn[1]}]}]",80,24
openstack%2Fdevstack-plugin-amqp1~master~I8e52c58a3f7f9aa1bce55bd91bf9b71d504da813,openstack/devstack-plugin-amqp1,master,I8e52c58a3f7f9aa1bce55bd91bf9b71d504da813,Enable Dual Messaging System Backends,MERGED,2016-11-17 18:06:30.000000000,2016-11-29 15:00:19.000000000,2016-11-29 14:19:15.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2813}, {'_account_id': 8770}, {'_account_id': 13290}]","[{'number': 1, 'created': '2016-11-17 18:06:30.000000000', 'files': ['README.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/a9891fe7663bad03c5c5c165eb599d5f4ad789fa', 'message': 'Enable Dual Messaging System Backends\n\nThis patch enables the AMQP 1.0 plugin to deploy either a single\nbroker (RPC and Notifications) or a dual dispatch-router (RPC) and\nbroker (Notification) configuration.\n\nChange-Id: I8e52c58a3f7f9aa1bce55bd91bf9b71d504da813\n'}]",0,399166,a9891fe7663bad03c5c5c165eb599d5f4ad789fa,11,5,1,20523,,,0,"Enable Dual Messaging System Backends

This patch enables the AMQP 1.0 plugin to deploy either a single
broker (RPC and Notifications) or a dual dispatch-router (RPC) and
broker (Notification) configuration.

Change-Id: I8e52c58a3f7f9aa1bce55bd91bf9b71d504da813
",git fetch https://review.opendev.org/openstack/devstack-plugin-amqp1 refs/changes/66/399166/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'devstack/plugin.sh']",2,a9891fe7663bad03c5c5c165eb599d5f4ad789fa,om/backends,"# one of 'qpid' for broker backend or 'qpid-dual' for hybrid router-broker. local port=$1 echo ""amqp://$AMQP1_USERNAME:$AMQP1_PASSWORD@$AMQP1_HOST:$port/"" } echo ""acl-file=$qpid_acl_file"" | sudo tee $qpid_conf_file cat <<EOF | sudo tee --append $qpid_conf_file # assign router to amqps port port: amqps# install and configure the amqp1 backends # (qpidd broker and optionally dispatch-router for hybrid) function _install_amqp1_backend { if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then install_package qpid-dispatch-router fi if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then install_package qdrouterd fi exit_distro_not_supported ""amqp1 qpid installation"" if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then _configure_qdr} function _start_amqp1_backend { echo_summary ""Starting amqp1 backends"" # restart, since qpid* may already be running if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then restart_service qdrouterd fi } function _cleanup_amqp1_backend { if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then uninstall_package qpid-dispatch-router fi if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then uninstall_package qdrouterd fi exit_distro_not_supported ""amqp1 qpid installation"" local port=5672 if [ ""$AMQP1_SERVICE"" == ""qpid-dual"" ]; then iniset $file $section transport_url $(get_transport_url ""5671"") iniset $file oslo_messaging_notifications transport_url $(get_transport_url ""5672"") else iniset $file $section transport_url $(get_transport_url ""5672"") fi if [[ ""$AMQP1_SERVICE"" != ""qpid"" && ""$AMQP1_SERVICE"" != ""qpid-dual"" ]]; then die $LINENO ""AMQP 1.0 requires qpid or qpid-dual - $AMQP1_SERVICE not supported"" _install_amqp1_backend _start_amqp1_backend _cleanup_amqp1_backend","# one of 'qpid', ... echo ""amqp://$AMQP1_USERNAME:$AMQP1_PASSWORD@$AMQP1_HOST:5672/"" } sudo sed -i.bak '/^acl-file=/d' $qpid_conf_file echo ""acl-file=$qpid_acl_file"" | sudo tee --append $qpid_conf_file sudo sed -i '/^auth=/d' $qpid_conf_file if ! grep -q ""queue-patterns=exclusive"" $qpid_conf_file; then cat <<EOF | sudo tee --append $qpid_conf_file fi port: amqp# install and configure the qpidd broker function _install_qpid_backend { exit_distro_not_supported ""qpidd installation""} # install and configure the qpid-dispatch-router function _install_qdr_backend { if is_fedora; then # expects epel is already added to the yum repos install_package cyrus-sasl-lib install_package cyrus-sasl-plain install_package qpid-dispatch-router elif is_ubuntu; then install_package sasl2-bin # dispatch available via qpid PPA sudo add-apt-repository -y ppa:qpid/testing #sudo apt-get update REPOS_UPDATED=False update_package_repo install_package qdrouterd else exit_distro_not_supported ""qdrouterd installation"" _install_pyngus _configure_qdr } function _start_qpid_backend { echo_summary ""Starting qpidd broker"" # restart, since qpidd may already be running} function _start_qdr_backend { echo_summary ""Starting qdrouterd router"" # restart, since qdrouterd may already be running restart_service qdrouterd } function _cleanup_qpid_backend { exit_distro_not_supported ""qpid installation"" fi _remove_pyngus } function _cleanup_qdr_backend { if is_fedora; then uninstall_package qpid-dispatch-router # TODO(kgiusti) can we pull these, or will that break other # packages that depend on them? # install_package cyrus_sasl_lib # install_package cyrus_sasl_plain elif is_ubuntu; then uninstall_package qdrouterd # install_package sasl2-bin else exit_distro_not_supported ""qdrouterd installation"" if [[ ""$AMQP1_SERVICE"" != ""qdr"" && ""$AMQP1_SERVICE"" != ""qpid"" ]]; then die $LINENO ""AMQP 1.0 requires qpid or qdr - $AMQP1_SERVICE not supported"" _install_${AMQP1_SERVICE}_backend _start_${AMQP1_SERVICE}_backend _cleanup_${AMQP1_SERVICE}_backend",49,77
openstack%2Foslo.db~stable%2Fnewton~I484237c28a83783689bb8484152476de33f20e3a,openstack/oslo.db,stable/newton,I484237c28a83783689bb8484152476de33f20e3a,Support MariaDB error 1927,MERGED,2016-11-25 14:28:29.000000000,2016-11-29 14:58:17.000000000,2016-11-29 14:58:17.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 9107}, {'_account_id': 11816}, {'_account_id': 20936}]","[{'number': 1, 'created': '2016-11-25 14:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8efeddbd47ddfe672b0c7ce6e0b82a117e440c6d', 'message': 'Support MariaDB error 1927\n\nWe\'re observing a MariaDB-specific error code\n""1927 connection was killed"", which seems to indicate the condition\nwhere the client/server connectivity is still up but the mariadb\nserver has been restarted.  This error needs to be supported\nas one of the ""disconnect"" situations so that the ping handler\nknows to force a reconnect.\n\nChange-Id: I484237c28a83783689bb8484152476de33f20e3a\nReferences: https://bugs.launchpad.net/tripleo/+bug/1642944\n(cherry picked from commit 34f9a3ac7a56883f8a2cd2a9a93bc42e5194bc1e)\n'}, {'number': 2, 'created': '2016-11-25 20:34:35.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d94b7e3e3321f2dad7ab5861040b2d91f9036a5d', 'message': 'Support MariaDB error 1927\n\nWe\'re observing a MariaDB-specific error code\n""1927 connection was killed"", which seems to indicate the condition\nwhere the client/server connectivity is still up but the mariadb\nserver has been restarted.  This error needs to be supported\nas one of the ""disconnect"" situations so that the ping handler\nknows to force a reconnect.\n\nChange-Id: I484237c28a83783689bb8484152476de33f20e3a\nReferences: https://bugs.launchpad.net/tripleo/+bug/1642944\n(cherry picked from commit 34f9a3ac7a56883f8a2cd2a9a93bc42e5194bc1e)\n'}]",0,402669,d94b7e3e3321f2dad7ab5861040b2d91f9036a5d,11,5,2,20936,,,0,"Support MariaDB error 1927

We're observing a MariaDB-specific error code
""1927 connection was killed"", which seems to indicate the condition
where the client/server connectivity is still up but the mariadb
server has been restarted.  This error needs to be supported
as one of the ""disconnect"" situations so that the ping handler
knows to force a reconnect.

Change-Id: I484237c28a83783689bb8484152476de33f20e3a
References: https://bugs.launchpad.net/tripleo/+bug/1642944
(cherry picked from commit 34f9a3ac7a56883f8a2cd2a9a93bc42e5194bc1e)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/69/402669/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py']",2,8efeddbd47ddfe672b0c7ce6e0b82a117e440c6d,backport-mariadb-fix," def test_mariadb_error_1927(self): for code in [1927]: self._test_ping_listener_disconnected( ""mysql"", self.InternalError('%d Connection was killed' % code), is_disconnect=False ) ",,9,0
openstack%2Fi18n-specs~master~I2a67513ebf20abe0caf8ce1dc4f48568b08f1553,openstack/i18n-specs,master,I2a67513ebf20abe0caf8ce1dc4f48568b08f1553,Create skeleton using cookiecutter,MERGED,2016-11-14 10:11:05.000000000,2016-11-29 14:58:12.000000000,2016-11-29 14:58:12.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 14482}, {'_account_id': 17765}, {'_account_id': 20835}, {'_account_id': 23613}]","[{'number': 1, 'created': '2016-11-14 10:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n-specs/commit/b6fd359751e13b2b73f10b461b0651f7512d75a8', 'message': 'Create skeleton using cookiecutter\n\nThis repo skeleton was created using openstack-dev/specs-cookiecutter\nwith the following options:\n\n- module_name: i18n-specs\n- repo_group: openstack\n- repo_name: i18n-specs\n- project_short_description: OpenStack I18n Specifications\n- project_name (Launchpad): openstack-i18n\n\nChange-Id: I2a67513ebf20abe0caf8ce1dc4f48568b08f1553\n'}, {'number': 2, 'created': '2016-11-29 14:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n-specs/commit/a639eb9cb2c986c77bd60e280a602d6c6136dc62', 'message': 'Create skeleton using cookiecutter\n\nThis repo skeleton was created using openstack-dev/specs-cookiecutter\nwith the following options:\n\n- module_name: i18n-specs\n- repo_group: openstack\n- repo_name: i18n-specs\n- project_short_description: OpenStack I18n Specifications\n- project_name (Launchpad): openstack-i18n\n\n+ add py27 env\n\nChange-Id: I2a67513ebf20abe0caf8ce1dc4f48568b08f1553\n'}, {'number': 3, 'created': '2016-11-29 14:47:21.000000000', 'files': ['doc/source/contributing.rst', '.gitignore', 'test-requirements.txt', 'README.rst', 'setup.py', '.mailmap', 'doc/source/conf.py', 'MANIFEST.in', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'requirements.txt', '.testr.conf', 'doc/source/template.rst', 'doc/source/readme.rst', 'setup.cfg', 'LICENSE', 'specs/.gitignore', 'template.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/i18n-specs/commit/e095635500f43783b024eaa089542ed151404ca3', 'message': 'Create skeleton using cookiecutter\n\nThis repo skeleton was created using openstack-dev/specs-cookiecutter\nwith the following options:\n\n- module_name: i18n-specs\n- repo_group: openstack\n- repo_name: i18n-specs\n- project_short_description: OpenStack I18n Specifications\n- project_name (Launchpad): openstack-i18n\n\n+ add placeholder on testenv commands not to block py27 job\n\nChange-Id: I2a67513ebf20abe0caf8ce1dc4f48568b08f1553\n'}]",0,397098,e095635500f43783b024eaa089542ed151404ca3,19,6,3,14482,,,0,"Create skeleton using cookiecutter

This repo skeleton was created using openstack-dev/specs-cookiecutter
with the following options:

- module_name: i18n-specs
- repo_group: openstack
- repo_name: i18n-specs
- project_short_description: OpenStack I18n Specifications
- project_name (Launchpad): openstack-i18n

+ add placeholder on testenv commands not to block py27 job

Change-Id: I2a67513ebf20abe0caf8ce1dc4f48568b08f1553
",git fetch https://review.opendev.org/openstack/i18n-specs refs/changes/98/397098/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', '.gitignore', 'test-requirements.txt', 'README.rst', 'setup.py', '.mailmap', 'doc/source/conf.py', 'MANIFEST.in', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'requirements.txt', '.testr.conf', 'doc/source/template.rst', 'doc/source/readme.rst', 'setup.cfg', 'LICENSE', 'specs/.gitignore', 'template.rst', 'tox.ini']",19,b6fd359751e13b2b73f10b461b0651f7512d75a8,,[tox] minversion = 1.6 envlist = docs skipsdist = True [testenv] usedevelop = True install_command = pip install -U {opts} {packages} setenv = VIRTUAL_ENV={envdir} deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:venv] commands = {posargs} [testenv:docs] commands = python setup.py build_sphinx [testenv:spelling] deps = -r{toxinidir}/requirements.txt sphinxcontrib-spelling PyEnchant commands = sphinx-build -b spelling doc/source doc/build/spelling,,494,0
openstack%2Fdeb-python-neutron-lib~debian%2Fnewton~I925769f18419c68b18623d72b8061e5009e02c76,openstack/deb-python-neutron-lib,debian/newton,I925769f18419c68b18623d72b8061e5009e02c76,Team upload.,MERGED,2016-11-29 11:38:09.000000000,2016-11-29 14:53:28.000000000,2016-11-29 14:53:28.000000000,"[{'_account_id': 3}, {'_account_id': 16896}]","[{'number': 1, 'created': '2016-11-29 11:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/deb-python-neutron-lib/commit/b161ae9137ff8055ef0a68118dd54c53e56f97ec', 'message': 'Team upload.\n\n* Team upload.\n* Patch-out upper constraints of SQLAlchemy\n\nChange-Id: I925769f18419c68b18623d72b8061e5009e02c76\n'}, {'number': 2, 'created': '2016-11-29 12:52:20.000000000', 'files': ['debian/changelog', 'debian/patches/allow_newer_sqlalchemy.patch', 'debian/patches/series'], 'web_link': 'https://opendev.org/openstack/deb-python-neutron-lib/commit/927a6bc131782980bb6ffdffc4e596246a3eaf7d', 'message': 'Team upload.\n\n* Team upload.\n* Patch-out upper constraints of SQLAlchemy\n\nChange-Id: I925769f18419c68b18623d72b8061e5009e02c76\n'}]",1,404166,927a6bc131782980bb6ffdffc4e596246a3eaf7d,9,2,2,24406,,,0,"Team upload.

* Team upload.
* Patch-out upper constraints of SQLAlchemy

Change-Id: I925769f18419c68b18623d72b8061e5009e02c76
",git fetch https://review.opendev.org/openstack/deb-python-neutron-lib refs/changes/66/404166/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/changelog', 'debian/patches/allow_newer_sqlalchemy.patch', 'debian/patches/series']",3,b161ae9137ff8055ef0a68118dd54c53e56f97ec,,allow_newer_sqlalchemy.patch,,20,2
openstack%2Fnetworking-sfc~master~If917fad25e66cd61ca52860eb8b33a6f85d77300,openstack/networking-sfc,master,If917fad25e66cd61ca52860eb8b33a6f85d77300,Use ExtensionDescriptor from neutron-lib,MERGED,2016-11-26 00:46:58.000000000,2016-11-29 14:52:01.000000000,2016-11-29 14:52:01.000000000,"[{'_account_id': 3}, {'_account_id': 9656}, {'_account_id': 11313}, {'_account_id': 14605}, {'_account_id': 16237}, {'_account_id': 21798}]","[{'number': 1, 'created': '2016-11-26 00:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8d57f3ccdafd5f970b907f8bb7cd52abab9256a4', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nChange-Id: If917fad25e66cd61ca52860eb8b33a6f85d77300\n'}, {'number': 2, 'created': '2016-11-26 03:35:32.000000000', 'files': ['networking_sfc/extensions/flowclassifier.py', 'networking_sfc/extensions/sfc.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7cf0011da61fcade5c818f07e8a1db7fd8864809', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nDepends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5\n\nChange-Id: If917fad25e66cd61ca52860eb8b33a6f85d77300\n'}]",0,403296,7cf0011da61fcade5c818f07e8a1db7fd8864809,13,6,2,6524,,,0,"Use ExtensionDescriptor from neutron-lib

ExtensionDescriptor has been rehomed to neutron-lib and is being
removed from neutron core.

See https://review.openstack.org/398113

Depends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5

Change-Id: If917fad25e66cd61ca52860eb8b33a6f85d77300
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/96/403296/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/extensions/flowclassifier.py', 'networking_sfc/extensions/sfc.py']",2,8d57f3ccdafd5f970b907f8bb7cd52abab9256a4,ExtensionDescriptor,from neutron_lib.api import extensionsfrom networking_sfc import extensions as sfc_extensionsneutron_ext.append_api_extensions_path(sfc_extensions.__path__)class Sfc(extensions.ExtensionDescriptor):,from networking_sfc import extensionsneutron_ext.append_api_extensions_path(extensions.__path__)class Sfc(neutron_ext.ExtensionDescriptor):,8,6
openstack%2Fpython-novaclient~master~I57fb3444d54232f0718424c00c07a28b29473d19,openstack/python-novaclient,master,I57fb3444d54232f0718424c00c07a28b29473d19,Correct copy/paste errors in help,MERGED,2016-11-28 21:32:07.000000000,2016-11-29 14:50:02.000000000,2016-11-29 14:50:02.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9545}]","[{'number': 1, 'created': '2016-11-28 21:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e363dbc3ad2d8117efd573102c386b39f454eaf7', 'message': ""Correct copy/paste errors in help\n\nThe keypair, hypervisor, and flavor CLIs all incorrectly say that they\nsupport a special -1 case for the 'limit' parameter. I suspect this was\njust copied from the servers help text by mistake.\n\nChange-Id: I57fb3444d54232f0718424c00c07a28b29473d19\n""}, {'number': 2, 'created': '2016-11-28 22:14:32.000000000', 'files': ['novaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/83106a4442c2cb2f2617576e2e5539b409130ed3', 'message': ""Correct copy/paste errors in help\n\nThe keypair, hypervisor, and flavor CLIs all incorrectly say that they\nsupport a special -1 case for the 'limit' parameter. I suspect this was\njust copied from the servers help text by mistake.\n\nChange-Id: I57fb3444d54232f0718424c00c07a28b29473d19\nCloses-Bug: #1645489\n""}]",0,403913,83106a4442c2cb2f2617576e2e5539b409130ed3,10,3,2,16907,,,0,"Correct copy/paste errors in help

The keypair, hypervisor, and flavor CLIs all incorrectly say that they
support a special -1 case for the 'limit' parameter. I suspect this was
just copied from the servers help text by mistake.

Change-Id: I57fb3444d54232f0718424c00c07a28b29473d19
Closes-Bug: #1645489
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/13/403913/2 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/v2/shell.py'],1,e363dbc3ad2d8117efd573102c386b39f454eaf7,lies," help=_(""Maximum number of flavors to display. If limit is bigger than "" ""'osapi_max_limit' option of Nova API, limit 'osapi_max_limit' "" ""will be used instead."")) help=_(""Maximum number of keypairs to display. If limit is bigger than "" help=_(""Maximum number of hypervisors to display. If limit is bigger than """," help=_(""Maximum number of flavors to display. If limit == -1, all flavors "" ""will be displayed. If limit is bigger than 'osapi_max_limit' "" ""option of Nova API, limit 'osapi_max_limit' will be used "" ""instead."")) help=_(""Maximum number of keypairs to display. If limit == -1, all "" ""keypairs will be displayed. If limit is bigger than "" help=_(""Maximum number of hypervisors to display. If limit == -1, all "" ""hypervisors will be displayed. If limit is bigger than """,5,8
openstack%2Frally~master~Ia2d9c53c5a276b38251ae80e05efb05feecccf9e,openstack/rally,master,Ia2d9c53c5a276b38251ae80e05efb05feecccf9e,[Reports] Use uncompressed third-party libs,ABANDONED,2016-02-16 16:29:31.000000000,2016-11-29 14:48:11.000000000,,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 8491}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 12395}, {'_account_id': 14168}, {'_account_id': 14817}]","[{'number': 1, 'created': '2016-02-16 16:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8035d94899026ca8313a4d4b7e39d41089169e56', 'message': '[Reports] Use uncompressed third-party libs\n\nUncompressed JS and CSS libs are more preferrable\nbecause they can be relatively easily inspected.\n\nThis patch remplaces compressed JS and CSS libs\nwith their identical uncompressed versions:\n\n https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.css\n https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.js\n https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.js\n https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.js\n\nBut one exception:\n  angular.1.3.3.js has been changed - all embedded examples\n  that includes html tags (especially closing tag </script>)\n  are removed because they brokes resulting report HTML layout.\n\nChange-Id: Ia2d9c53c5a276b38251ae80e05efb05feecccf9e\n'}, {'number': 2, 'created': '2016-02-25 14:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/96650b863789a1d560297b4293f3ebb501e1af4f', 'message': '[Reports] Use uncompressed third-party libs\n\nUncompressed JS and CSS libs are more preferrable\nbecause they can be relatively easily inspected.\n\nThis patch remplaces compressed JS and CSS libs\nwith their identical uncompressed versions:\n\n https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.css\n https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.js\n https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.js\n https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.js\n\nBut one exception:\n  angular.1.3.3.js has been changed - all embedded examples\n  that includes html tags (especially closing tag </script>)\n  are removed because they brokes resulting report HTML layout.\n\nChange-Id: Ia2d9c53c5a276b38251ae80e05efb05feecccf9e\n'}, {'number': 3, 'created': '2016-03-10 13:14:24.000000000', 'files': ['rally/ui/templates/task/report.html', 'rally/ui/templates/libs/d3.3.4.13.min.js', 'tests/unit/cli/commands/test_task.py', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.css', 'rally/ui/templates/libs/d3.3.4.13.js', 'rally/ui/templates/libs/angular.1.3.3.js', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.js', 'rally/cli/commands/task.py', 'tests/functional/test_cli_task.py', 'rally/ui/templates/libs/angular.1.3.3.min.js', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.min.js', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.min.css'], 'web_link': 'https://opendev.org/openstack/rally/commit/ec45905ed6eb1d093df698c7a5acdb04b385ead9', 'message': '[Reports] Use uncompressed third-party libs\n\nUncompressed JS and CSS libs are more preferrable\nbecause they can be relatively easily inspected.\n\nThis patch remplaces compressed JS and CSS libs\nwith their identical uncompressed versions:\n\n https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.css\n https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.js\n https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.js\n https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.js\n\nBut one exception:\n  angular.1.3.3.js has been changed - all embedded examples\n  that includes html tags (especially closing tag </script>)\n  are removed because they brokes resulting report HTML layout.\n\nChange-Id: Ia2d9c53c5a276b38251ae80e05efb05feecccf9e\n'}]",0,280799,ec45905ed6eb1d093df698c7a5acdb04b385ead9,45,8,3,10475,,,0,"[Reports] Use uncompressed third-party libs

Uncompressed JS and CSS libs are more preferrable
because they can be relatively easily inspected.

This patch remplaces compressed JS and CSS libs
with their identical uncompressed versions:

 https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.css
 https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.js
 https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.js
 https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.js

But one exception:
  angular.1.3.3.js has been changed - all embedded examples
  that includes html tags (especially closing tag </script>)
  are removed because they brokes resulting report HTML layout.

Change-Id: Ia2d9c53c5a276b38251ae80e05efb05feecccf9e
",git fetch https://review.opendev.org/openstack/rally refs/changes/99/280799/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/ui/templates/task/report.html', 'rally/cli/commands/task.py', 'rally/ui/templates/libs/angular.1.3.3.min.js', 'rally/ui/templates/libs/d3.3.4.13.min.js', 'tests/unit/cli/commands/test_task.py', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.css', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.min.js', 'rally/ui/templates/libs/d3.3.4.13.js', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.min.css', 'rally/ui/templates/libs/angular.1.3.3.js', 'rally/ui/templates/libs/nv.d3.1.1.15-beta.js']",11,8035d94899026ca8313a4d4b7e39d41089169e56,use-uncompressed-third-party-libs,"(function(){ var nv = window.nv || {}; nv.version = '1.1.15b'; nv.dev = true //set false when in production window.nv = nv; nv.tooltip = nv.tooltip || {}; // For the tooltip system nv.utils = nv.utils || {}; // Utility subsystem nv.models = nv.models || {}; //stores all the possible models/components nv.charts = {}; //stores all the ready to use charts nv.graphs = []; //stores all the graphs currently on the page nv.logs = {}; //stores some statistics and potential error messages nv.dispatch = d3.dispatch('render_start', 'render_end'); // ************************************************************************* // Development render timers - disabled if dev = false if (nv.dev) { nv.dispatch.on('render_start', function(e) { nv.logs.startTime = +new Date(); }); nv.dispatch.on('render_end', function(e) { nv.logs.endTime = +new Date(); nv.logs.totalTime = nv.logs.endTime - nv.logs.startTime; nv.log('total', nv.logs.totalTime); // used for development, to keep track of graph generation times }); } // ******************************************** // Public Core NV functions // Logs all arguments, and returns the last so you can test things in place // Note: in IE8 console.log is an object not a function, and if modernizr is used // then calling Function.prototype.bind with with anything other than a function // causes a TypeError to be thrown. nv.log = function() { if (nv.dev && console.log && console.log.apply) console.log.apply(console, arguments) else if (nv.dev && typeof console.log == ""function"" && Function.prototype.bind) { var log = Function.prototype.bind.call(console.log, console); log.apply(console, arguments); } return arguments[arguments.length - 1]; }; nv.render = function render(step) { step = step || 1; // number of graphs to generate in each timeout loop nv.render.active = true; nv.dispatch.render_start(); setTimeout(function() { var chart, graph; for (var i = 0; i < step && (graph = nv.render.queue[i]); i++) { chart = graph.generate(); if (typeof graph.callback == typeof(Function)) graph.callback(chart); nv.graphs.push(chart); } nv.render.queue.splice(0, i); if (nv.render.queue.length) setTimeout(arguments.callee, 0); else { nv.dispatch.render_end(); nv.render.active = false; } }, 0); }; nv.render.active = false; nv.render.queue = []; nv.addGraph = function(obj) { if (typeof arguments[0] === typeof(Function)) obj = {generate: arguments[0], callback: arguments[1]}; nv.render.queue.push(obj); if (!nv.render.active) nv.render(); }; nv.identity = function(d) { return d; }; nv.strip = function(s) { return s.replace(/(\s|&)/g,''); }; function daysInMonth(month,year) { return (new Date(year, month+1, 0)).getDate(); } function d3_time_range(floor, step, number) { return function(t0, t1, dt) { var time = floor(t0), times = []; if (time < t0) step(time); if (dt > 1) { while (time < t1) { var date = new Date(+time); if ((number(date) % dt === 0)) times.push(date); step(time); } } else { while (time < t1) { times.push(new Date(+time)); step(time); } } return times; }; } d3.time.monthEnd = function(date) { return new Date(date.getFullYear(), date.getMonth(), 0); }; d3.time.monthEnds = d3_time_range(d3.time.monthEnd, function(date) { date.setUTCDate(date.getUTCDate() + 1); date.setDate(daysInMonth(date.getMonth() + 1, date.getFullYear())); }, function(date) { return date.getMonth(); } ); /* Utility class to handle creation of an interactive layer. This places a rectangle on top of the chart. When you mouse move over it, it sends a dispatch containing the X-coordinate. It can also render a vertical line where the mouse is located. dispatch.elementMousemove is the important event to latch onto. It is fired whenever the mouse moves over the rectangle. The dispatch is given one object which contains the mouseX/Y location. It also has 'pointXValue', which is the conversion of mouseX to the x-axis scale. */ nv.interactiveGuideline = function() { ""use strict""; var tooltip = nv.models.tooltip(); //Public settings var width = null , height = null //Please pass in the bounding chart's top and left margins //This is important for calculating the correct mouseX/Y positions. , margin = {left: 0, top: 0} , xScale = d3.scale.linear() , yScale = d3.scale.linear() , dispatch = d3.dispatch('elementMousemove', 'elementMouseout','elementDblclick') , showGuideLine = true , svgContainer = null //Must pass in the bounding chart's <svg> container. //The mousemove event is attached to this container. ; //Private variables var isMSIE = navigator.userAgent.indexOf(""MSIE"") !== -1 //Check user-agent for Microsoft Internet Explorer. ; function layer(selection) { selection.each(function(data) { var container = d3.select(this); var availableWidth = (width || 960), availableHeight = (height || 400); var wrap = container.selectAll(""g.nv-wrap.nv-interactiveLineLayer"").data([data]); var wrapEnter = wrap.enter() .append(""g"").attr(""class"", "" nv-wrap nv-interactiveLineLayer""); wrapEnter.append(""g"").attr(""class"",""nv-interactiveGuideLine""); if (!svgContainer) { return; } function mouseHandler() { var d3mouse = d3.mouse(this); var mouseX = d3mouse[0]; var mouseY = d3mouse[1]; var subtractMargin = true; var mouseOutAnyReason = false; if (isMSIE) { /* D3.js (or maybe SVG.getScreenCTM) has a nasty bug in Internet Explorer 10. d3.mouse() returns incorrect X,Y mouse coordinates when mouse moving over a rect in IE 10. However, d3.event.offsetX/Y also returns the mouse coordinates relative to the triggering <rect>. So we use offsetX/Y on IE. */ mouseX = d3.event.offsetX; mouseY = d3.event.offsetY; /* On IE, if you attach a mouse event listener to the <svg> container, it will actually trigger it for all the child elements (like <path>, <circle>, etc). When this happens on IE, the offsetX/Y is set to where ever the child element is located. As a result, we do NOT need to subtract margins to figure out the mouse X/Y position under this scenario. Removing the line below *will* cause the interactive layer to not work right on IE. */ if(d3.event.target.tagName !== ""svg"") subtractMargin = false; if (d3.event.target.className.baseVal.match(""nv-legend"")) mouseOutAnyReason = true; } if(subtractMargin) { mouseX -= margin.left; mouseY -= margin.top; } /* If mouseX/Y is outside of the chart's bounds, trigger a mouseOut event. */ if (mouseX < 0 || mouseY < 0 || mouseX > availableWidth || mouseY > availableHeight || (d3.event.relatedTarget && d3.event.relatedTarget.ownerSVGElement === undefined) || mouseOutAnyReason ) { if (isMSIE) { if (d3.event.relatedTarget && d3.event.relatedTarget.ownerSVGElement === undefined && d3.event.relatedTarget.className.match(tooltip.nvPointerEventsClass)) { return; } } dispatch.elementMouseout({ mouseX: mouseX, mouseY: mouseY }); layer.renderGuideLine(null); //hide the guideline return; } var pointXValue = xScale.invert(mouseX); dispatch.elementMousemove({ mouseX: mouseX, mouseY: mouseY, pointXValue: pointXValue }); //If user double clicks the layer, fire a elementDblclick dispatch. if (d3.event.type === ""dblclick"") { dispatch.elementDblclick({ mouseX: mouseX, mouseY: mouseY, pointXValue: pointXValue }); } } svgContainer .on(""mousemove"",mouseHandler, true) .on(""mouseout"" ,mouseHandler,true) .on(""dblclick"" ,mouseHandler) ; //Draws a vertical guideline at the given X postion. layer.renderGuideLine = function(x) { if (!showGuideLine) return; var line = wrap.select("".nv-interactiveGuideLine"") .selectAll(""line"") .data((x != null) ? [nv.utils.NaNtoZero(x)] : [], String); line.enter() .append(""line"") .attr(""class"", ""nv-guideline"") .attr(""x1"", function(d) { return d;}) .attr(""x2"", function(d) { return d;}) .attr(""y1"", availableHeight) .attr(""y2"",0) ; line.exit().remove(); } }); } layer.dispatch = dispatch; layer.tooltip = tooltip; layer.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return layer; }; layer.width = function(_) { if (!arguments.length) return width; width = _; return layer; }; layer.height = function(_) { if (!arguments.length) return height; height = _; return layer; }; layer.xScale = function(_) { if (!arguments.length) return xScale; xScale = _; return layer; }; layer.showGuideLine = function(_) { if (!arguments.length) return showGuideLine; showGuideLine = _; return layer; }; layer.svgContainer = function(_) { if (!arguments.length) return svgContainer; svgContainer = _; return layer; }; return layer; }; /* Utility class that uses d3.bisect to find the index in a given array, where a search value can be inserted. This is different from normal bisectLeft; this function finds the nearest index to insert the search value. For instance, lets say your array is [1,2,3,5,10,30], and you search for 28. Normal d3.bisectLeft will return 4, because 28 is inserted after the number 10. But interactiveBisect will return 5 because 28 is closer to 30 than 10. Unit tests can be found in: interactiveBisectTest.html Has the following known issues: * Will not work if the data points move backwards (ie, 10,9,8,7, etc) or if the data points are in random order. * Won't work if there are duplicate x coordinate values. */ nv.interactiveBisect = function (values, searchVal, xAccessor) { ""use strict""; if (! values instanceof Array) return null; if (typeof xAccessor !== 'function') xAccessor = function(d,i) { return d.x;} var bisect = d3.bisector(xAccessor).left; var index = d3.max([0, bisect(values,searchVal) - 1]); var currentValue = xAccessor(values[index], index); if (typeof currentValue === 'undefined') currentValue = index; if (currentValue === searchVal) return index; //found exact match var nextIndex = d3.min([index+1, values.length - 1]); var nextValue = xAccessor(values[nextIndex], nextIndex); if (typeof nextValue === 'undefined') nextValue = nextIndex; if (Math.abs(nextValue - searchVal) >= Math.abs(currentValue - searchVal)) return index; else return nextIndex }; /* Returns the index in the array ""values"" that is closest to searchVal. Only returns an index if searchVal is within some ""threshold"". Otherwise, returns null. */ nv.nearestValueIndex = function (values, searchVal, threshold) { ""use strict""; var yDistMax = Infinity, indexToHighlight = null; values.forEach(function(d,i) { var delta = Math.abs(searchVal - d); if ( delta <= yDistMax && delta < threshold) { yDistMax = delta; indexToHighlight = i; } }); return indexToHighlight; };/* Tooltip rendering model for nvd3 charts. window.nv.models.tooltip is the updated,new way to render tooltips. window.nv.tooltip.show is the old tooltip code. window.nv.tooltip.* also has various helper methods. */ (function() { ""use strict""; window.nv.tooltip = {}; /* Model which can be instantiated to handle tooltip rendering. Example usage: var tip = nv.models.tooltip().gravity('w').distance(23) .data(myDataObject); tip(); //just invoke the returned function to render tooltip. */ window.nv.models.tooltip = function() { var content = null //HTML contents of the tooltip. If null, the content is generated via the data variable. , data = null /* Tooltip data. If data is given in the proper format, a consistent tooltip is generated. Format of data: { key: ""Date"", value: ""August 2009"", series: [ { key: ""Series 1"", value: ""Value 1"", color: ""#000"" }, { key: ""Series 2"", value: ""Value 2"", color: ""#00f"" } ] } */ , gravity = 'w' //Can be 'n','s','e','w'. Determines how tooltip is positioned. , distance = 50 //Distance to offset tooltip from the mouse location. , snapDistance = 25 //Tolerance allowed before tooltip is moved from its current position (creates 'snapping' effect) , fixedTop = null //If not null, this fixes the top position of the tooltip. , classes = null //Attaches additional CSS classes to the tooltip DIV that is created. , chartContainer = null //Parent DIV, of the SVG Container that holds the chart. , tooltipElem = null //actual DOM element representing the tooltip. , position = {left: null, top: null} //Relative position of the tooltip inside chartContainer. , enabled = true //True -> tooltips are rendered. False -> don't render tooltips. //Generates a unique id when you create a new tooltip() object , id = ""nvtooltip-"" + Math.floor(Math.random() * 100000) ; //CSS class to specify whether element should not have mouse events. var nvPointerEventsClass = ""nv-pointer-events-none""; //Format function for the tooltip values column var valueFormatter = function(d,i) { return d; }; //Format function for the tooltip header value. var headerFormatter = function(d) { return d; }; //By default, the tooltip model renders a beautiful table inside a DIV. //You can override this function if a custom tooltip is desired. var contentGenerator = function(d) { if (content != null) return content; if (d == null) return ''; var table = d3.select(document.createElement(""table"")); var theadEnter = table.selectAll(""thead"") .data([d]) .enter().append(""thead""); theadEnter.append(""tr"") .append(""td"") .attr(""colspan"",3) .append(""strong"") .classed(""x-value"",true) .html(headerFormatter(d.value)); var tbodyEnter = table.selectAll(""tbody"") .data([d]) .enter().append(""tbody""); var trowEnter = tbodyEnter.selectAll(""tr"") .data(function(p) { return p.series}) .enter() .append(""tr"") .classed(""highlight"", function(p) { return p.highlight}) ; trowEnter.append(""td"") .classed(""legend-color-guide"",true) .append(""div"") .style(""background-color"", function(p) { return p.color}); trowEnter.append(""td"") .classed(""key"",true) .html(function(p) {return p.key}); trowEnter.append(""td"") .classed(""value"",true) .html(function(p,i) { return valueFormatter(p.value,i) }); trowEnter.selectAll(""td"").each(function(p) { if (p.highlight) { var opacityScale = d3.scale.linear().domain([0,1]).range([""#fff"",p.color]); var opacity = 0.6; d3.select(this) .style(""border-bottom-color"", opacityScale(opacity)) .style(""border-top-color"", opacityScale(opacity)) ; } }); var html = table.node().outerHTML; if (d.footer !== undefined) html += ""<div class='footer'>"" + d.footer + ""</div>""; return html; }; var dataSeriesExists = function(d) { if (d && d.series && d.series.length > 0) return true; return false; }; //In situations where the chart is in a 'viewBox', re-position the tooltip based on how far chart is zoomed. function convertViewBoxRatio() { if (chartContainer) { var svg = d3.select(chartContainer); if (svg.node().tagName !== ""svg"") { svg = svg.select(""svg""); } var viewBox = (svg.node()) ? svg.attr('viewBox') : null; if (viewBox) { viewBox = viewBox.split(' '); var ratio = parseInt(svg.style('width')) / viewBox[2]; position.left = position.left * ratio; position.top = position.top * ratio; } } } //Creates new tooltip container, or uses existing one on DOM. function getTooltipContainer(newContent) { var body; if (chartContainer) body = d3.select(chartContainer); else body = d3.select(""body""); var container = body.select("".nvtooltip""); if (container.node() === null) { //Create new tooltip div if it doesn't exist on DOM. container = body.append(""div"") .attr(""class"", ""nvtooltip "" + (classes? classes: ""xy-tooltip"")) .attr(""id"",id) ; } container.node().innerHTML = newContent; container.style(""top"",0).style(""left"",0).style(""opacity"",0); container.selectAll(""div, table, td, tr"").classed(nvPointerEventsClass,true) container.classed(nvPointerEventsClass,true); return container.node(); } //Draw the tooltip onto the DOM. function nvtooltip() { if (!enabled) return; if (!dataSeriesExists(data)) return; convertViewBoxRatio(); var left = position.left; var top = (fixedTop != null) ? fixedTop : position.top; var container = getTooltipContainer(contentGenerator(data)); tooltipElem = container; if (chartContainer) { var svgComp = chartContainer.getElementsByTagName(""svg"")[0]; var boundRect = (svgComp) ? svgComp.getBoundingClientRect() : chartContainer.getBoundingClientRect(); var svgOffset = {left:0,top:0}; if (svgComp) { var svgBound = svgComp.getBoundingClientRect(); var chartBound = chartContainer.getBoundingClientRect(); var svgBoundTop = svgBound.top; //Defensive code. Sometimes, svgBoundTop can be a really negative // number, like -134254. That's a bug. // If such a number is found, use zero instead. FireFox bug only if (svgBoundTop < 0) { var containerBound = chartContainer.getBoundingClientRect(); svgBoundTop = (Math.abs(svgBoundTop) > containerBound.height) ? 0 : svgBoundTop; } svgOffset.top = Math.abs(svgBoundTop - chartBound.top); svgOffset.left = Math.abs(svgBound.left - chartBound.left); } //If the parent container is an overflow <div> with scrollbars, subtract the scroll offsets. //You need to also add any offset between the <svg> element and its containing <div> //Finally, add any offset of the containing <div> on the whole page. left += chartContainer.offsetLeft + svgOffset.left - 2*chartContainer.scrollLeft; top += chartContainer.offsetTop + svgOffset.top - 2*chartContainer.scrollTop; } if (snapDistance && snapDistance > 0) { top = Math.floor(top/snapDistance) * snapDistance; } nv.tooltip.calcTooltipPosition([left,top], gravity, distance, container); return nvtooltip; }; nvtooltip.nvPointerEventsClass = nvPointerEventsClass; nvtooltip.content = function(_) { if (!arguments.length) return content; content = _; return nvtooltip; }; //Returns tooltipElem...not able to set it. nvtooltip.tooltipElem = function() { return tooltipElem; }; nvtooltip.contentGenerator = function(_) { if (!arguments.length) return contentGenerator; if (typeof _ === 'function') { contentGenerator = _; } return nvtooltip; }; nvtooltip.data = function(_) { if (!arguments.length) return data; data = _; return nvtooltip; }; nvtooltip.gravity = function(_) { if (!arguments.length) return gravity; gravity = _; return nvtooltip; }; nvtooltip.distance = function(_) { if (!arguments.length) return distance; distance = _; return nvtooltip; }; nvtooltip.snapDistance = function(_) { if (!arguments.length) return snapDistance; snapDistance = _; return nvtooltip; }; nvtooltip.classes = function(_) { if (!arguments.length) return classes; classes = _; return nvtooltip; }; nvtooltip.chartContainer = function(_) { if (!arguments.length) return chartContainer; chartContainer = _; return nvtooltip; }; nvtooltip.position = function(_) { if (!arguments.length) return position; position.left = (typeof _.left !== 'undefined') ? _.left : position.left; position.top = (typeof _.top !== 'undefined') ? _.top : position.top; return nvtooltip; }; nvtooltip.fixedTop = function(_) { if (!arguments.length) return fixedTop; fixedTop = _; return nvtooltip; }; nvtooltip.enabled = function(_) { if (!arguments.length) return enabled; enabled = _; return nvtooltip; }; nvtooltip.valueFormatter = function(_) { if (!arguments.length) return valueFormatter; if (typeof _ === 'function') { valueFormatter = _; } return nvtooltip; }; nvtooltip.headerFormatter = function(_) { if (!arguments.length) return headerFormatter; if (typeof _ === 'function') { headerFormatter = _; } return nvtooltip; }; //id() is a read-only function. You can't use it to set the id. nvtooltip.id = function() { return id; }; return nvtooltip; }; //Original tooltip.show function. Kept for backward compatibility. // pos = [left,top] nv.tooltip.show = function(pos, content, gravity, dist, parentContainer, classes) { //Create new tooltip div if it doesn't exist on DOM. var container = document.createElement('div'); container.className = 'nvtooltip ' + (classes ? classes : 'xy-tooltip'); var body = parentContainer; if ( !parentContainer || parentContainer.tagName.match(/g|svg/i)) { //If the parent element is an SVG element, place tooltip in the <body> element. body = document.getElementsByTagName('body')[0]; } container.style.left = 0; container.style.top = 0; container.style.opacity = 0; container.innerHTML = content; body.appendChild(container); //If the parent container is an overflow <div> with scrollbars, subtract the scroll offsets. if (parentContainer) { pos[0] = pos[0] - parentContainer.scrollLeft; pos[1] = pos[1] - parentContainer.scrollTop; } nv.tooltip.calcTooltipPosition(pos, gravity, dist, container); }; //Looks up the ancestry of a DOM element, and returns the first NON-svg node. nv.tooltip.findFirstNonSVGParent = function(Elem) { while(Elem.tagName.match(/^g|svg$/i) !== null) { Elem = Elem.parentNode; } return Elem; }; //Finds the total offsetTop of a given DOM element. //Looks up the entire ancestry of an element, up to the first relatively positioned element. nv.tooltip.findTotalOffsetTop = function ( Elem, initialTop ) { var offsetTop = initialTop; do { if( !isNaN( Elem.offsetTop ) ) { offsetTop += (Elem.offsetTop); } } while( Elem = Elem.offsetParent ); return offsetTop; }; //Finds the total offsetLeft of a given DOM element. //Looks up the entire ancestry of an element, up to the first relatively positioned element. nv.tooltip.findTotalOffsetLeft = function ( Elem, initialLeft) { var offsetLeft = initialLeft; do { if( !isNaN( Elem.offsetLeft ) ) { offsetLeft += (Elem.offsetLeft); } } while( Elem = Elem.offsetParent ); return offsetLeft; }; //Global utility function to render a tooltip on the DOM. //pos = [left,top] coordinates of where to place the tooltip, relative to the SVG chart container. //gravity = how to orient the tooltip //dist = how far away from the mouse to place tooltip //container = tooltip DIV nv.tooltip.calcTooltipPosition = function(pos, gravity, dist, container) { var height = parseInt(container.offsetHeight), width = parseInt(container.offsetWidth), windowWidth = nv.utils.windowSize().width, windowHeight = nv.utils.windowSize().height, scrollTop = window.pageYOffset, scrollLeft = window.pageXOffset, left, top; windowHeight = window.innerWidth >= document.body.scrollWidth ? windowHeight : windowHeight - 16; windowWidth = window.innerHeight >= document.body.scrollHeight ? windowWidth : windowWidth - 16; gravity = gravity || 's'; dist = dist || 20; var tooltipTop = function ( Elem ) { return nv.tooltip.findTotalOffsetTop(Elem, top); }; var tooltipLeft = function ( Elem ) { return nv.tooltip.findTotalOffsetLeft(Elem,left); }; switch (gravity) { case 'e': left = pos[0] - width - dist; top = pos[1] - (height / 2); var tLeft = tooltipLeft(container); var tTop = tooltipTop(container); if (tLeft < scrollLeft) left = pos[0] + dist > scrollLeft ? pos[0] + dist : scrollLeft - tLeft + left; if (tTop < scrollTop) top = scrollTop - tTop + top; if (tTop + height > scrollTop + windowHeight) top = scrollTop + windowHeight - tTop + top - height; break; case 'w': left = pos[0] + dist; top = pos[1] - (height / 2); var tLeft = tooltipLeft(container); var tTop = tooltipTop(container); if (tLeft + width > windowWidth) left = pos[0] - width - dist; if (tTop < scrollTop) top = scrollTop + 5; if (tTop + height > scrollTop + windowHeight) top = scrollTop + windowHeight - tTop + top - height; break; case 'n': left = pos[0] - (width / 2) - 5; top = pos[1] + dist; var tLeft = tooltipLeft(container); var tTop = tooltipTop(container); if (tLeft < scrollLeft) left = scrollLeft + 5; if (tLeft + width > windowWidth) left = left - width/2 + 5; if (tTop + height > scrollTop + windowHeight) top = scrollTop + windowHeight - tTop + top - height; break; case 's': left = pos[0] - (width / 2); top = pos[1] - height - dist; var tLeft = tooltipLeft(container); var tTop = tooltipTop(container); if (tLeft < scrollLeft) left = scrollLeft + 5; if (tLeft + width > windowWidth) left = left - width/2 + 5; if (scrollTop > tTop) top = scrollTop; break; case 'none': left = pos[0]; top = pos[1] - dist; var tLeft = tooltipLeft(container); var tTop = tooltipTop(container); break; } container.style.left = left+'px'; container.style.top = top+'px'; container.style.opacity = 1; container.style.position = 'absolute'; return container; }; //Global utility function to remove tooltips from the DOM. nv.tooltip.cleanup = function() { // Find the tooltips, mark them for removal by this class (so others cleanups won't find it) var tooltips = document.getElementsByClassName('nvtooltip'); var purging = []; while(tooltips.length) { purging.push(tooltips[0]); tooltips[0].style.transitionDelay = '0 !important'; tooltips[0].style.opacity = 0; tooltips[0].className = 'nvtooltip-pending-removal'; } setTimeout(function() { while (purging.length) { var removeMe = purging.pop(); removeMe.parentNode.removeChild(removeMe); } }, 500); }; })(); nv.utils.windowSize = function() { // Sane defaults var size = {width: 640, height: 480}; // Earlier IE uses Doc.body if (document.body && document.body.offsetWidth) { size.width = document.body.offsetWidth; size.height = document.body.offsetHeight; } // IE can use depending on mode it is in if (document.compatMode=='CSS1Compat' && document.documentElement && document.documentElement.offsetWidth ) { size.width = document.documentElement.offsetWidth; size.height = document.documentElement.offsetHeight; } // Most recent browsers use if (window.innerWidth && window.innerHeight) { size.width = window.innerWidth; size.height = window.innerHeight; } return (size); }; // Easy way to bind multiple functions to window.onresize // TODO: give a way to remove a function after its bound, other than removing all of them nv.utils.windowResize = function(fun){ if (fun === undefined) return; var oldresize = window.onresize; window.onresize = function(e) { if (typeof oldresize == 'function') oldresize(e); fun(e); } } // Backwards compatible way to implement more d3-like coloring of graphs. // If passed an array, wrap it in a function which implements the old default // behavior nv.utils.getColor = function(color) { if (!arguments.length) return nv.utils.defaultColor(); //if you pass in nothing, get default colors back if( Object.prototype.toString.call( color ) === '[object Array]' ) return function(d, i) { return d.color || color[i % color.length]; }; else return color; //can't really help it if someone passes rubbish as color } // Default color chooser uses the index of an object as before. nv.utils.defaultColor = function() { var colors = d3.scale.category20().range(); return function(d, i) { return d.color || colors[i % colors.length] }; } // Returns a color function that takes the result of 'getKey' for each series and // looks for a corresponding color from the dictionary, nv.utils.customTheme = function(dictionary, getKey, defaultColors) { getKey = getKey || function(series) { return series.key }; // use default series.key if getKey is undefined defaultColors = defaultColors || d3.scale.category20().range(); //default color function var defIndex = defaultColors.length; //current default color (going in reverse) return function(series, index) { var key = getKey(series); if (!defIndex) defIndex = defaultColors.length; //used all the default colors, start over if (typeof dictionary[key] !== ""undefined"") return (typeof dictionary[key] === ""function"") ? dictionary[key]() : dictionary[key]; else return defaultColors[--defIndex]; // no match in dictionary, use default color } } // From the PJAX example on d3js.org, while this is not really directly needed // it's a very cool method for doing pjax, I may expand upon it a little bit, // open to suggestions on anything that may be useful nv.utils.pjax = function(links, content) { d3.selectAll(links).on(""click"", function() { history.pushState(this.href, this.textContent, this.href); load(this.href); d3.event.preventDefault(); }); function load(href) { d3.html(href, function(fragment) { var target = d3.select(content).node(); target.parentNode.replaceChild(d3.select(fragment).select(content).node(), target); nv.utils.pjax(links, content); }); } d3.select(window).on(""popstate"", function() { if (d3.event.state) load(d3.event.state); }); } /* For situations where we want to approximate the width in pixels for an SVG:text element. Most common instance is when the element is in a display:none; container. Forumla is : text.length * font-size * constant_factor */ nv.utils.calcApproxTextWidth = function (svgTextElem) { if (typeof svgTextElem.style === 'function' && typeof svgTextElem.text === 'function') { var fontSize = parseInt(svgTextElem.style(""font-size"").replace(""px"","""")); var textLength = svgTextElem.text().length; return textLength * fontSize * 0.5; } return 0; }; /* Numbers that are undefined, null or NaN, convert them to zeros. */ nv.utils.NaNtoZero = function(n) { if (typeof n !== 'number' || isNaN(n) || n === null || n === Infinity) return 0; return n; }; /* Snippet of code you can insert into each nv.models.* to give you the ability to do things like: chart.options({ showXAxis: true, tooltips: true }); To enable in the chart: chart.options = nv.utils.optionsFunc.bind(chart); */ nv.utils.optionsFunc = function(args) { if (args) { d3.map(args).forEach((function(key,value) { if (typeof this[key] === ""function"") { this[key](value); } }).bind(this)); } return this; };nv.models.axis = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var axis = d3.svg.axis() ; var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 75 //only used for tickLabel currently , height = 60 //only used for tickLabel currently , scale = d3.scale.linear() , axisLabelText = null , showMaxMin = true //TODO: showMaxMin should be disabled on all ordinal scaled axes , highlightZero = true , rotateLabels = 0 , rotateYLabel = true , staggerLabels = false , isOrdinal = false , ticks = null , axisLabelDistance = 12 //The larger this number is, the closer the axis label is to the axis. ; axis .scale(scale) .orient('bottom') .tickFormat(function(d) { return d }) ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var scale0; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this); //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-axis').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-axis'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g') //------------------------------------------------------------ if (ticks !== null) axis.ticks(ticks); else if (axis.orient() == 'top' || axis.orient() == 'bottom') axis.ticks(Math.abs(scale.range()[1] - scale.range()[0]) / 100); //TODO: consider calculating width/height based on whether or not label is added, for reference in charts using this component g.transition().call(axis); scale0 = scale0 || axis.scale(); var fmt = axis.tickFormat(); if (fmt == null) { fmt = scale0.tickFormat(); } var axisLabel = g.selectAll('text.nv-axislabel') .data([axisLabelText || null]); axisLabel.exit().remove(); switch (axis.orient()) { case 'top': axisLabel.enter().append('text').attr('class', 'nv-axislabel'); var w = (scale.range().length==2) ? scale.range()[1] : (scale.range()[scale.range().length-1]+(scale.range()[1]-scale.range()[0])); axisLabel .attr('text-anchor', 'middle') .attr('y', 0) .attr('x', w/2); if (showMaxMin) { var axisMaxMin = wrap.selectAll('g.nv-axisMaxMin') .data(scale.domain()); axisMaxMin.enter().append('g').attr('class', 'nv-axisMaxMin').append('text'); axisMaxMin.exit().remove(); axisMaxMin .attr('transform', function(d,i) { return 'translate(' + scale(d) + ',0)' }) .select('text') .attr('dy', '-0.5em') .attr('y', -axis.tickPadding()) .attr('text-anchor', 'middle') .text(function(d,i) { var v = fmt(d); return ('' + v).match('NaN') ? '' : v; }); axisMaxMin.transition() .attr('transform', function(d,i) { return 'translate(' + scale.range()[i] + ',0)' }); } break; case 'bottom': var xLabelMargin = 36; var maxTextWidth = 30; var xTicks = g.selectAll('g').select(""text""); if (rotateLabels%360) { //Calculate the longest xTick width xTicks.each(function(d,i){ var width = this.getBBox().width; if(width > maxTextWidth) maxTextWidth = width; }); //Convert to radians before calculating sin. Add 30 to margin for healthy padding. var sin = Math.abs(Math.sin(rotateLabels*Math.PI/180)); var xLabelMargin = (sin ? sin*maxTextWidth : maxTextWidth)+30; //Rotate all xTicks xTicks .attr('transform', function(d,i,j) { return 'rotate(' + rotateLabels + ' 0,0)' }) .style('text-anchor', rotateLabels%360 > 0 ? 'start' : 'end'); } axisLabel.enter().append('text').attr('class', 'nv-axislabel'); var w = (scale.range().length==2) ? scale.range()[1] : (scale.range()[scale.range().length-1]+(scale.range()[1]-scale.range()[0])); axisLabel .attr('text-anchor', 'middle') .attr('y', xLabelMargin) .attr('x', w/2); if (showMaxMin) { //if (showMaxMin && !isOrdinal) { var axisMaxMin = wrap.selectAll('g.nv-axisMaxMin') //.data(scale.domain()) .data([scale.domain()[0], scale.domain()[scale.domain().length - 1]]); axisMaxMin.enter().append('g').attr('class', 'nv-axisMaxMin').append('text'); axisMaxMin.exit().remove(); axisMaxMin .attr('transform', function(d,i) { return 'translate(' + (scale(d) + (isOrdinal ? scale.rangeBand() / 2 : 0)) + ',0)' }) .select('text') .attr('dy', '.71em') .attr('y', axis.tickPadding()) .attr('transform', function(d,i,j) { return 'rotate(' + rotateLabels + ' 0,0)' }) .style('text-anchor', rotateLabels ? (rotateLabels%360 > 0 ? 'start' : 'end') : 'middle') .text(function(d,i) { var v = fmt(d); return ('' + v).match('NaN') ? '' : v; }); axisMaxMin.transition() .attr('transform', function(d,i) { //return 'translate(' + scale.range()[i] + ',0)' //return 'translate(' + scale(d) + ',0)' return 'translate(' + (scale(d) + (isOrdinal ? scale.rangeBand() / 2 : 0)) + ',0)' }); } if (staggerLabels) xTicks .attr('transform', function(d,i) { return 'translate(0,' + (i % 2 == 0 ? '0' : '12') + ')' }); break; case 'right': axisLabel.enter().append('text').attr('class', 'nv-axislabel'); axisLabel .style('text-anchor', rotateYLabel ? 'middle' : 'begin') .attr('transform', rotateYLabel ? 'rotate(90)' : '') .attr('y', rotateYLabel ? (-Math.max(margin.right,width) + 12) : -10) //TODO: consider calculating this based on largest tick width... OR at least expose this on chart .attr('x', rotateYLabel ? (scale.range()[0] / 2) : axis.tickPadding()); if (showMaxMin) { var axisMaxMin = wrap.selectAll('g.nv-axisMaxMin') .data(scale.domain()); axisMaxMin.enter().append('g').attr('class', 'nv-axisMaxMin').append('text') .style('opacity', 0); axisMaxMin.exit().remove(); axisMaxMin .attr('transform', function(d,i) { return 'translate(0,' + scale(d) + ')' }) .select('text') .attr('dy', '.32em') .attr('y', 0) .attr('x', axis.tickPadding()) .style('text-anchor', 'start') .text(function(d,i) { var v = fmt(d); return ('' + v).match('NaN') ? '' : v; }); axisMaxMin.transition() .attr('transform', function(d,i) { return 'translate(0,' + scale.range()[i] + ')' }) .select('text') .style('opacity', 1); } break; case 'left': /* //For dynamically placing the label. Can be used with dynamically-sized chart axis margins var yTicks = g.selectAll('g').select(""text""); yTicks.each(function(d,i){ var labelPadding = this.getBBox().width + axis.tickPadding() + 16; if(labelPadding > width) width = labelPadding; }); */ axisLabel.enter().append('text').attr('class', 'nv-axislabel'); axisLabel .style('text-anchor', rotateYLabel ? 'middle' : 'end') .attr('transform', rotateYLabel ? 'rotate(-90)' : '') .attr('y', rotateYLabel ? (-Math.max(margin.left,width) + axisLabelDistance) : -10) //TODO: consider calculating this based on largest tick width... OR at least expose this on chart .attr('x', rotateYLabel ? (-scale.range()[0] / 2) : -axis.tickPadding()); if (showMaxMin) { var axisMaxMin = wrap.selectAll('g.nv-axisMaxMin') .data(scale.domain()); axisMaxMin.enter().append('g').attr('class', 'nv-axisMaxMin').append('text') .style('opacity', 0); axisMaxMin.exit().remove(); axisMaxMin .attr('transform', function(d,i) { return 'translate(0,' + scale0(d) + ')' }) .select('text') .attr('dy', '.32em') .attr('y', 0) .attr('x', -axis.tickPadding()) .attr('text-anchor', 'end') .text(function(d,i) { var v = fmt(d); return ('' + v).match('NaN') ? '' : v; }); axisMaxMin.transition() .attr('transform', function(d,i) { return 'translate(0,' + scale.range()[i] + ')' }) .select('text') .style('opacity', 1); } break; } axisLabel .text(function(d) { return d }); if (showMaxMin && (axis.orient() === 'left' || axis.orient() === 'right')) { //check if max and min overlap other values, if so, hide the values that overlap g.selectAll('g') // the g's wrapping each tick .each(function(d,i) { d3.select(this).select('text').attr('opacity', 1); if (scale(d) < scale.range()[1] + 10 || scale(d) > scale.range()[0] - 10) { // 10 is assuming text height is 16... if d is 0, leave it! if (d > 1e-10 || d < -1e-10) // accounts for minor floating point errors... though could be problematic if the scale is EXTREMELY SMALL d3.select(this).attr('opacity', 0); d3.select(this).select('text').attr('opacity', 0); // Don't remove the ZERO line!! } }); //if Max and Min = 0 only show min, Issue #281 if (scale.domain()[0] == scale.domain()[1] && scale.domain()[0] == 0) wrap.selectAll('g.nv-axisMaxMin') .style('opacity', function(d,i) { return !i ? 1 : 0 }); } if (showMaxMin && (axis.orient() === 'top' || axis.orient() === 'bottom')) { var maxMinRange = []; wrap.selectAll('g.nv-axisMaxMin') .each(function(d,i) { try { if (i) // i== 1, max position maxMinRange.push(scale(d) - this.getBBox().width - 4) //assuming the max and min labels are as wide as the next tick (with an extra 4 pixels just in case) else // i==0, min position maxMinRange.push(scale(d) + this.getBBox().width + 4) }catch (err) { if (i) // i== 1, max position maxMinRange.push(scale(d) - 4) //assuming the max and min labels are as wide as the next tick (with an extra 4 pixels just in case) else // i==0, min position maxMinRange.push(scale(d) + 4) } }); g.selectAll('g') // the g's wrapping each tick .each(function(d,i) { if (scale(d) < maxMinRange[0] || scale(d) > maxMinRange[1]) { if (d > 1e-10 || d < -1e-10) // accounts for minor floating point errors... though could be problematic if the scale is EXTREMELY SMALL d3.select(this).remove(); else d3.select(this).select('text').remove(); // Don't remove the ZERO line!! } }); } //highlight zero line ... Maybe should not be an option and should just be in CSS? if (highlightZero) g.selectAll('.tick') .filter(function(d) { return !parseFloat(Math.round(d.__data__*100000)/1000000) && (d.__data__ !== undefined) }) //this is because sometimes the 0 tick is a very small fraction, TODO: think of cleaner technique .classed('zero', true); //store old scales for use in transitions on update scale0 = scale.copy(); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.axis = axis; d3.rebind(chart, axis, 'orient', 'tickValues', 'tickSubdivide', 'tickSize', 'tickPadding', 'tickFormat'); d3.rebind(chart, scale, 'domain', 'range', 'rangeBand', 'rangeBands'); //these are also accessible by chart.scale(), but added common ones directly for ease of use chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if(!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; } chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.ticks = function(_) { if (!arguments.length) return ticks; ticks = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.axisLabel = function(_) { if (!arguments.length) return axisLabelText; axisLabelText = _; return chart; } chart.showMaxMin = function(_) { if (!arguments.length) return showMaxMin; showMaxMin = _; return chart; } chart.highlightZero = function(_) { if (!arguments.length) return highlightZero; highlightZero = _; return chart; } chart.scale = function(_) { if (!arguments.length) return scale; scale = _; axis.scale(scale); isOrdinal = typeof scale.rangeBands === 'function'; d3.rebind(chart, scale, 'domain', 'range', 'rangeBand', 'rangeBands'); return chart; } chart.rotateYLabel = function(_) { if(!arguments.length) return rotateYLabel; rotateYLabel = _; return chart; } chart.rotateLabels = function(_) { if(!arguments.length) return rotateLabels; rotateLabels = _; return chart; } chart.staggerLabels = function(_) { if (!arguments.length) return staggerLabels; staggerLabels = _; return chart; }; chart.axisLabelDistance = function(_) { if (!arguments.length) return axisLabelDistance; axisLabelDistance = _; return chart; }; //============================================================ return chart; } //TODO: consider deprecating and using multibar with single series for this nv.models.historicalBar = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one , x = d3.scale.linear() , y = d3.scale.linear() , getX = function(d) { return d.x } , getY = function(d) { return d.y } , forceX = [] , forceY = [0] , padData = false , clipEdge = true , color = nv.utils.defaultColor() , xDomain , yDomain , xRange , yRange , dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout') , interactive = true ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //------------------------------------------------------------ // Setup Scales x .domain(xDomain || d3.extent(data[0].values.map(getX).concat(forceX) )) if (padData) x.range(xRange || [availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5) / data[0].values.length ]); else x.range(xRange || [0, availableWidth]); y .domain(yDomain || d3.extent(data[0].values.map(getY).concat(forceY) )) .range(yRange || [availableHeight, 0]); // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point if (x.domain()[0] === x.domain()[1]) x.domain()[0] ? x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01]) : x.domain([-1,1]); if (y.domain()[0] === y.domain()[1]) y.domain()[0] ? y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01]) : y.domain([-1,1]); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-historicalBar-' + id).data([data[0].values]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-historicalBar-' + id); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-bars'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ container .on('click', function(d,i) { dispatch.chartClick({ data: d, index: i, pos: d3.event, id: id }); }); defsEnter.append('clipPath') .attr('id', 'nv-chart-clip-path-' + id) .append('rect'); wrap.select('#nv-chart-clip-path-' + id + ' rect') .attr('width', availableWidth) .attr('height', availableHeight); g .attr('clip-path', clipEdge ? 'url(#nv-chart-clip-path-' + id + ')' : ''); var bars = wrap.select('.nv-bars').selectAll('.nv-bar') .data(function(d) { return d }, function(d,i) {return getX(d,i)}); bars.exit().remove(); var barsEnter = bars.enter().append('rect') //.attr('class', function(d,i,j) { return (getY(d,i) < 0 ? 'nv-bar negative' : 'nv-bar positive') + ' nv-bar-' + j + '-' + i }) .attr('x', 0 ) .attr('y', function(d,i) { return nv.utils.NaNtoZero(y(Math.max(0, getY(d,i)))) }) .attr('height', function(d,i) { return nv.utils.NaNtoZero(Math.abs(y(getY(d,i)) - y(0))) }) .attr('transform', function(d,i) { return 'translate(' + (x(getX(d,i)) - availableWidth / data[0].values.length * .45) + ',0)'; }) .on('mouseover', function(d,i) { if (!interactive) return; d3.select(this).classed('hover', true); dispatch.elementMouseover({ point: d, series: data[0], pos: [x(getX(d,i)), y(getY(d,i))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: 0, e: d3.event }); }) .on('mouseout', function(d,i) { if (!interactive) return; d3.select(this).classed('hover', false); dispatch.elementMouseout({ point: d, series: data[0], pointIndex: i, seriesIndex: 0, e: d3.event }); }) .on('click', function(d,i) { if (!interactive) return; dispatch.elementClick({ //label: d[label], value: getY(d,i), data: d, index: i, pos: [x(getX(d,i)), y(getY(d,i))], e: d3.event, id: id }); d3.event.stopPropagation(); }) .on('dblclick', function(d,i) { if (!interactive) return; dispatch.elementDblClick({ //label: d[label], value: getY(d,i), data: d, index: i, pos: [x(getX(d,i)), y(getY(d,i))], e: d3.event, id: id }); d3.event.stopPropagation(); }); bars .attr('fill', function(d,i) { return color(d, i); }) .attr('class', function(d,i,j) { return (getY(d,i) < 0 ? 'nv-bar negative' : 'nv-bar positive') + ' nv-bar-' + j + '-' + i }) .transition() .attr('transform', function(d,i) { return 'translate(' + (x(getX(d,i)) - availableWidth / data[0].values.length * .45) + ',0)'; }) //TODO: better width calculations that don't assume always uniform data spacing;w .attr('width', (availableWidth / data[0].values.length) * .9 ); bars.transition() .attr('y', function(d,i) { var rval = getY(d,i) < 0 ? y(0) : y(0) - y(getY(d,i)) < 1 ? y(0) - 1 : y(getY(d,i)); return nv.utils.NaNtoZero(rval); }) .attr('height', function(d,i) { return nv.utils.NaNtoZero(Math.max(Math.abs(y(getY(d,i)) - y(0)),1)) }); }); return chart; } //Create methods to allow outside functions to highlight a specific bar. chart.highlightPoint = function(pointIndex, isHoverOver) { d3.select("".nv-historicalBar-"" + id) .select("".nv-bars .nv-bar-0-"" + pointIndex) .classed(""hover"", isHoverOver) ; }; chart.clearHighlights = function() { d3.select("".nv-historicalBar-"" + id) .select("".nv-bars .nv-bar.hover"") .classed(""hover"", false) ; }; //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.forceX = function(_) { if (!arguments.length) return forceX; forceX = _; return chart; }; chart.forceY = function(_) { if (!arguments.length) return forceY; forceY = _; return chart; }; chart.padData = function(_) { if (!arguments.length) return padData; padData = _; return chart; }; chart.clipEdge = function(_) { if (!arguments.length) return clipEdge; clipEdge = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.interactive = function(_) { if(!arguments.length) return interactive; interactive = false; return chart; }; //============================================================ return chart; } // Chart design based on the recommendations of Stephen Few. Implementation // based on the work of Clint Ivy, Jamie Love, and Jason Davies. // http://projects.instantcognition.com/protovis/bulletchart/ nv.models.bullet = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , orient = 'left' // TODO top & bottom , reverse = false , ranges = function(d) { return d.ranges } , markers = function(d) { return d.markers } , measures = function(d) { return d.measures } , rangeLabels = function(d) { return d.rangeLabels ? d.rangeLabels : [] } , markerLabels = function(d) { return d.markerLabels ? d.markerLabels : [] } , measureLabels = function(d) { return d.measureLabels ? d.measureLabels : [] } , forceX = [0] // List of numbers to Force into the X scale (ie. 0, or a max / min, etc.) , width = 380 , height = 30 , tickFormat = null , color = nv.utils.getColor(['#1f77b4']) , dispatch = d3.dispatch('elementMouseover', 'elementMouseout') ; //============================================================ function chart(selection) { selection.each(function(d, i) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); var rangez = ranges.call(this, d, i).slice().sort(d3.descending), markerz = markers.call(this, d, i).slice().sort(d3.descending), measurez = measures.call(this, d, i).slice().sort(d3.descending), rangeLabelz = rangeLabels.call(this, d, i).slice(), markerLabelz = markerLabels.call(this, d, i).slice(), measureLabelz = measureLabels.call(this, d, i).slice(); //------------------------------------------------------------ // Setup Scales // Compute the new x-scale. var x1 = d3.scale.linear() .domain( d3.extent(d3.merge([forceX, rangez])) ) .range(reverse ? [availableWidth, 0] : [0, availableWidth]); // Retrieve the old x-scale, if this is an update. var x0 = this.__chart__ || d3.scale.linear() .domain([0, Infinity]) .range(x1.range()); // Stash the new scale. this.__chart__ = x1; var rangeMin = d3.min(rangez), //rangez[2] rangeMax = d3.max(rangez), //rangez[0] rangeAvg = rangez[1]; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-bullet').data([d]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-bullet'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('rect').attr('class', 'nv-range nv-rangeMax'); gEnter.append('rect').attr('class', 'nv-range nv-rangeAvg'); gEnter.append('rect').attr('class', 'nv-range nv-rangeMin'); gEnter.append('rect').attr('class', 'nv-measure'); gEnter.append('path').attr('class', 'nv-markerTriangle'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ var w0 = function(d) { return Math.abs(x0(d) - x0(0)) }, // TODO: could optimize by precalculating x0(0) and x1(0) w1 = function(d) { return Math.abs(x1(d) - x1(0)) }; var xp0 = function(d) { return d < 0 ? x0(d) : x0(0) }, xp1 = function(d) { return d < 0 ? x1(d) : x1(0) }; g.select('rect.nv-rangeMax') .attr('height', availableHeight) .attr('width', w1(rangeMax > 0 ? rangeMax : rangeMin)) .attr('x', xp1(rangeMax > 0 ? rangeMax : rangeMin)) .datum(rangeMax > 0 ? rangeMax : rangeMin) /* .attr('x', rangeMin < 0 ? rangeMax > 0 ? x1(rangeMin) : x1(rangeMax) : x1(0)) */ g.select('rect.nv-rangeAvg') .attr('height', availableHeight) .attr('width', w1(rangeAvg)) .attr('x', xp1(rangeAvg)) .datum(rangeAvg) /* .attr('width', rangeMax <= 0 ? x1(rangeMax) - x1(rangeAvg) : x1(rangeAvg) - x1(rangeMin)) .attr('x', rangeMax <= 0 ? x1(rangeAvg) : x1(rangeMin)) */ g.select('rect.nv-rangeMin') .attr('height', availableHeight) .attr('width', w1(rangeMax)) .attr('x', xp1(rangeMax)) .attr('width', w1(rangeMax > 0 ? rangeMin : rangeMax)) .attr('x', xp1(rangeMax > 0 ? rangeMin : rangeMax)) .datum(rangeMax > 0 ? rangeMin : rangeMax) /* .attr('width', rangeMax <= 0 ? x1(rangeAvg) - x1(rangeMin) : x1(rangeMax) - x1(rangeAvg)) .attr('x', rangeMax <= 0 ? x1(rangeMin) : x1(rangeAvg)) */ g.select('rect.nv-measure') .style('fill', color) .attr('height', availableHeight / 3) .attr('y', availableHeight / 3) .attr('width', measurez < 0 ? x1(0) - x1(measurez[0]) : x1(measurez[0]) - x1(0)) .attr('x', xp1(measurez)) .on('mouseover', function() { dispatch.elementMouseover({ value: measurez[0], label: measureLabelz[0] || 'Current', pos: [x1(measurez[0]), availableHeight/2] }) }) .on('mouseout', function() { dispatch.elementMouseout({ value: measurez[0], label: measureLabelz[0] || 'Current' }) }) var h3 = availableHeight / 6; if (markerz[0]) { g.selectAll('path.nv-markerTriangle') .attr('transform', function(d) { return 'translate(' + x1(markerz[0]) + ',' + (availableHeight / 2) + ')' }) .attr('d', 'M0,' + h3 + 'L' + h3 + ',' + (-h3) + ' ' + (-h3) + ',' + (-h3) + 'Z') .on('mouseover', function() { dispatch.elementMouseover({ value: markerz[0], label: markerLabelz[0] || 'Previous', pos: [x1(markerz[0]), availableHeight/2] }) }) .on('mouseout', function() { dispatch.elementMouseout({ value: markerz[0], label: markerLabelz[0] || 'Previous' }) }); } else { g.selectAll('path.nv-markerTriangle').remove(); } wrap.selectAll('.nv-range') .on('mouseover', function(d,i) { var label = rangeLabelz[i] || (!i ? ""Maximum"" : i == 1 ? ""Mean"" : ""Minimum""); dispatch.elementMouseover({ value: d, label: label, pos: [x1(d), availableHeight/2] }) }) .on('mouseout', function(d,i) { var label = rangeLabelz[i] || (!i ? ""Maximum"" : i == 1 ? ""Mean"" : ""Minimum""); dispatch.elementMouseout({ value: d, label: label }) }) /* // THIS IS THE PREVIOUS BULLET IMPLEMENTATION, WILL REMOVE SHORTLY // Update the range rects. var range = g.selectAll('rect.nv-range') .data(rangez); range.enter().append('rect') .attr('class', function(d, i) { return 'nv-range nv-s' + i; }) .attr('width', w0) .attr('height', availableHeight) .attr('x', reverse ? x0 : 0) .on('mouseover', function(d,i) { dispatch.elementMouseover({ value: d, label: (i <= 0) ? 'Maximum' : (i > 1) ? 'Minimum' : 'Mean', //TODO: make these labels a variable pos: [x1(d), availableHeight/2] }) }) .on('mouseout', function(d,i) { dispatch.elementMouseout({ value: d, label: (i <= 0) ? 'Minimum' : (i >=1) ? 'Maximum' : 'Mean' //TODO: make these labels a variable }) }) d3.transition(range) .attr('x', reverse ? x1 : 0) .attr('width', w1) .attr('height', availableHeight); // Update the measure rects. var measure = g.selectAll('rect.nv-measure') .data(measurez); measure.enter().append('rect') .attr('class', function(d, i) { return 'nv-measure nv-s' + i; }) .style('fill', function(d,i) { return color(d,i ) }) .attr('width', w0) .attr('height', availableHeight / 3) .attr('x', reverse ? x0 : 0) .attr('y', availableHeight / 3) .on('mouseover', function(d) { dispatch.elementMouseover({ value: d, label: 'Current', //TODO: make these labels a variable pos: [x1(d), availableHeight/2] }) }) .on('mouseout', function(d) { dispatch.elementMouseout({ value: d, label: 'Current' //TODO: make these labels a variable }) }) d3.transition(measure) .attr('width', w1) .attr('height', availableHeight / 3) .attr('x', reverse ? x1 : 0) .attr('y', availableHeight / 3); // Update the marker lines. var marker = g.selectAll('path.nv-markerTriangle') .data(markerz); var h3 = availableHeight / 6; marker.enter().append('path') .attr('class', 'nv-markerTriangle') .attr('transform', function(d) { return 'translate(' + x0(d) + ',' + (availableHeight / 2) + ')' }) .attr('d', 'M0,' + h3 + 'L' + h3 + ',' + (-h3) + ' ' + (-h3) + ',' + (-h3) + 'Z') .on('mouseover', function(d,i) { dispatch.elementMouseover({ value: d, label: 'Previous', pos: [x1(d), availableHeight/2] }) }) .on('mouseout', function(d,i) { dispatch.elementMouseout({ value: d, label: 'Previous' }) }); d3.transition(marker) .attr('transform', function(d) { return 'translate(' + (x1(d) - x1(0)) + ',' + (availableHeight / 2) + ')' }); marker.exit().remove(); */ }); // d3.timer.flush(); // Not needed? return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); // left, right, top, bottom chart.orient = function(_) { if (!arguments.length) return orient; orient = _; reverse = orient == 'right' || orient == 'bottom'; return chart; }; // ranges (bad, satisfactory, good) chart.ranges = function(_) { if (!arguments.length) return ranges; ranges = _; return chart; }; // markers (previous, goal) chart.markers = function(_) { if (!arguments.length) return markers; markers = _; return chart; }; // measures (actual, forecast) chart.measures = function(_) { if (!arguments.length) return measures; measures = _; return chart; }; chart.forceX = function(_) { if (!arguments.length) return forceX; forceX = _; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.tickFormat = function(_) { if (!arguments.length) return tickFormat; tickFormat = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; //============================================================ return chart; }; // Chart design based on the recommendations of Stephen Few. Implementation // based on the work of Clint Ivy, Jamie Love, and Jason Davies. // http://projects.instantcognition.com/protovis/bulletchart/ nv.models.bulletChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var bullet = nv.models.bullet() ; var orient = 'left' // TODO top & bottom , reverse = false , margin = {top: 5, right: 40, bottom: 20, left: 120} , ranges = function(d) { return d.ranges } , markers = function(d) { return d.markers } , measures = function(d) { return d.measures } , width = null , height = 55 , tickFormat = null , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + x + '</h3>' + '<p>' + y + '</p>' } , noData = 'No Data Available.' , dispatch = d3.dispatch('tooltipShow', 'tooltipHide') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ) + margin.left, top = e.pos[1] + ( offsetElement.offsetTop || 0) + margin.top, content = tooltip(e.key, e.label, e.value, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'e' : 'w', null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(d, i) { var container = d3.select(this); var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, that = this; chart.update = function() { chart(selection) }; chart.container = this; //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!d || !ranges.call(this, d, i)) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', 18 + margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ var rangez = ranges.call(this, d, i).slice().sort(d3.descending), markerz = markers.call(this, d, i).slice().sort(d3.descending), measurez = measures.call(this, d, i).slice().sort(d3.descending); //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-bulletChart').data([d]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-bulletChart'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-bulletWrap'); gEnter.append('g').attr('class', 'nv-titles'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ // Compute the new x-scale. var x1 = d3.scale.linear() .domain([0, Math.max(rangez[0], markerz[0], measurez[0])]) // TODO: need to allow forceX and forceY, and xDomain, yDomain .range(reverse ? [availableWidth, 0] : [0, availableWidth]); // Retrieve the old x-scale, if this is an update. var x0 = this.__chart__ || d3.scale.linear() .domain([0, Infinity]) .range(x1.range()); // Stash the new scale. this.__chart__ = x1; /* // Derive width-scales from the x-scales. var w0 = bulletWidth(x0), w1 = bulletWidth(x1); function bulletWidth(x) { var x0 = x(0); return function(d) { return Math.abs(x(d) - x(0)); }; } function bulletTranslate(x) { return function(d) { return 'translate(' + x(d) + ',0)'; }; } */ var w0 = function(d) { return Math.abs(x0(d) - x0(0)) }, // TODO: could optimize by precalculating x0(0) and x1(0) w1 = function(d) { return Math.abs(x1(d) - x1(0)) }; var title = gEnter.select('.nv-titles').append('g') .attr('text-anchor', 'end') .attr('transform', 'translate(-6,' + (height - margin.top - margin.bottom) / 2 + ')'); title.append('text') .attr('class', 'nv-title') .text(function(d) { return d.title; }); title.append('text') .attr('class', 'nv-subtitle') .attr('dy', '1em') .text(function(d) { return d.subtitle; }); bullet .width(availableWidth) .height(availableHeight) var bulletWrap = g.select('.nv-bulletWrap'); d3.transition(bulletWrap).call(bullet); // Compute the tick format. var format = tickFormat || x1.tickFormat( availableWidth / 100 ); // Update the tick groups. var tick = g.selectAll('g.nv-tick') .data(x1.ticks( availableWidth / 50 ), function(d) { return this.textContent || format(d); }); // Initialize the ticks with the old scale, x0. var tickEnter = tick.enter().append('g') .attr('class', 'nv-tick') .attr('transform', function(d) { return 'translate(' + x0(d) + ',0)' }) .style('opacity', 1e-6); tickEnter.append('line') .attr('y1', availableHeight) .attr('y2', availableHeight * 7 / 6); tickEnter.append('text') .attr('text-anchor', 'middle') .attr('dy', '1em') .attr('y', availableHeight * 7 / 6) .text(format); // Transition the updating ticks to the new scale, x1. var tickUpdate = d3.transition(tick) .attr('transform', function(d) { return 'translate(' + x1(d) + ',0)' }) .style('opacity', 1); tickUpdate.select('line') .attr('y1', availableHeight) .attr('y2', availableHeight * 7 / 6); tickUpdate.select('text') .attr('y', availableHeight * 7 / 6); // Transition the exiting ticks to the new scale, x1. d3.transition(tick.exit()) .attr('transform', function(d) { return 'translate(' + x1(d) + ',0)' }) .style('opacity', 1e-6) .remove(); //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ dispatch.on('tooltipShow', function(e) { e.key = d.title; if (tooltips) showTooltip(e, that.parentNode); }); //============================================================ }); d3.timer.flush(); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ bullet.dispatch.on('elementMouseover.tooltip', function(e) { dispatch.tooltipShow(e); }); bullet.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.bullet = bullet; d3.rebind(chart, bullet, 'color'); chart.options = nv.utils.optionsFunc.bind(chart); // left, right, top, bottom chart.orient = function(x) { if (!arguments.length) return orient; orient = x; reverse = orient == 'right' || orient == 'bottom'; return chart; }; // ranges (bad, satisfactory, good) chart.ranges = function(x) { if (!arguments.length) return ranges; ranges = x; return chart; }; // markers (previous, goal) chart.markers = function(x) { if (!arguments.length) return markers; markers = x; return chart; }; // measures (actual, forecast) chart.measures = function(x) { if (!arguments.length) return measures; measures = x; return chart; }; chart.width = function(x) { if (!arguments.length) return width; width = x; return chart; }; chart.height = function(x) { if (!arguments.length) return height; height = x; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.tickFormat = function(x) { if (!arguments.length) return tickFormat; tickFormat = x; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; //============================================================ return chart; }; nv.models.cumulativeLineChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var lines = nv.models.line() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() , controls = nv.models.legend() , interactiveLayer = nv.interactiveGuideline() ; var margin = {top: 30, right: 30, bottom: 50, left: 60} , color = nv.utils.defaultColor() , width = null , height = null , showLegend = true , showXAxis = true , showYAxis = true , rightAlignYAxis = false , tooltips = true , showControls = true , useInteractiveGuideline = false , rescaleY = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>' } , x //can be accessed via chart.xScale() , y //can be accessed via chart.yScale() , id = lines.id() , state = { index: 0, rescaleY: rescaleY } , defaultState = null , noData = 'No Data Available.' , average = function(d) { return d.average } , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , transitionDuration = 250 , noErrorCheck = false //if set to TRUE, will bypass an error check in the indexify function. ; xAxis .orient('bottom') .tickPadding(7) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') ; //============================================================ controls.updateState(false); //============================================================ // Private Variables //------------------------------------------------------------ var dx = d3.scale.linear() , index = {i: 0, x: 0} ; var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(lines.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(lines.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, null, null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this).classed('nv-chart-' + id, true), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart) }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } var indexDrag = d3.behavior.drag() .on('dragstart', dragStart) .on('drag', dragMove) .on('dragend', dragEnd); function dragStart(d,i) { d3.select(chart.container) .style('cursor', 'ew-resize'); } function dragMove(d,i) { index.x = d3.event.x; index.i = Math.round(dx.invert(index.x)); updateZero(); } function dragEnd(d,i) { d3.select(chart.container) .style('cursor', 'auto'); // update state and send stateChange with new index state.index = index.i; dispatch.stateChange(state); } //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = lines.xScale(); y = lines.yScale(); if (!rescaleY) { var seriesDomains = data .filter(function(series) { return !series.disabled }) .map(function(series,i) { var initialDomain = d3.extent(series.values, lines.y()); //account for series being disabled when losing 95% or more if (initialDomain[0] < -.95) initialDomain[0] = -.95; return [ (initialDomain[0] - initialDomain[1]) / (1 + initialDomain[1]), (initialDomain[1] - initialDomain[0]) / (1 + initialDomain[0]) ]; }); var completeDomain = [ d3.min(seriesDomains, function(d) { return d[0] }), d3.max(seriesDomains, function(d) { return d[1] }) ] lines.yDomain(completeDomain); } else { lines.yDomain(null); } dx .domain([0, data[0].values.length - 1]) //Assumes all series have same length .range([0, availableWidth]) .clamp(true); //------------------------------------------------------------ var data = indexify(index.i, data); //------------------------------------------------------------ // Setup containers and skeleton of chart var interactivePointerEvents = (useInteractiveGuideline) ? ""none"" : ""all""; var wrap = container.selectAll('g.nv-wrap.nv-cumulativeLine').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-cumulativeLine').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-interactive'); gEnter.append('g').attr('class', 'nv-x nv-axis').style(""pointer-events"",""none""); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-background'); gEnter.append('g').attr('class', 'nv-linesWrap').style(""pointer-events"",interactivePointerEvents); gEnter.append('g').attr('class', 'nv-avgLinesWrap').style(""pointer-events"",""none""); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-controlsWrap'); //------------------------------------------------------------ // Legend if (showLegend) { legend.width(availableWidth); g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.nv-legendWrap') .attr('transform', 'translate(0,' + (-margin.top) +')') } //------------------------------------------------------------ //------------------------------------------------------------ // Controls if (showControls) { var controlsData = [ { key: 'Re-scale y-axis', disabled: !rescaleY } ]; controls .width(140) .color(['#444', '#444', '#444']) .rightAlign(false) .margin({top: 5, right: 0, bottom: 5, left: 20}) ; g.select('.nv-controlsWrap') .datum(controlsData) .attr('transform', 'translate(0,' + (-margin.top) +')') .call(controls); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } // Show error if series goes below 100% var tempDisabled = data.filter(function(d) { return d.tempDisabled }); wrap.select('.tempDisabled').remove(); //clean-up and prevent duplicates if (tempDisabled.length) { wrap.append('text').attr('class', 'tempDisabled') .attr('x', availableWidth / 2) .attr('y', '-.71em') .style('text-anchor', 'end') .text(tempDisabled.map(function(d) { return d.key }).join(', ') + ' values cannot be calculated for this time period.'); } //------------------------------------------------------------ // Main Chart Component(s) //------------------------------------------------------------ //Set up interactive layer if (useInteractiveGuideline) { interactiveLayer .width(availableWidth) .height(availableHeight) .margin({left:margin.left,top:margin.top}) .svgContainer(container) .xScale(x); wrap.select("".nv-interactive"").call(interactiveLayer); } gEnter.select('.nv-background') .append('rect'); g.select('.nv-background rect') .attr('width', availableWidth) .attr('height', availableHeight); lines //.x(function(d) { return d.x }) .y(function(d) { return d.display.y }) .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && !data[i].tempDisabled; })); var linesWrap = g.select('.nv-linesWrap') .datum(data.filter(function(d) { return !d.disabled && !d.tempDisabled })); //d3.transition(linesWrap).call(lines); linesWrap.call(lines); /*Handle average lines [AN-612] ----------------------------*/ //Store a series index number in the data array. data.forEach(function(d,i) { d.seriesIndex = i; }); var avgLineData = data.filter(function(d) { return !d.disabled && !!average(d); }); var avgLines = g.select("".nv-avgLinesWrap"").selectAll(""line"") .data(avgLineData, function(d) { return d.key; }); var getAvgLineY = function(d) { //If average lines go off the svg element, clamp them to the svg bounds. var yVal = y(average(d)); if (yVal < 0) return 0; if (yVal > availableHeight) return availableHeight; return yVal; }; avgLines.enter() .append('line') .style('stroke-width',2) .style('stroke-dasharray','10,10') .style('stroke',function (d,i) { return lines.color()(d,d.seriesIndex); }) .attr('x1',0) .attr('x2',availableWidth) .attr('y1', getAvgLineY) .attr('y2', getAvgLineY); avgLines .style('stroke-opacity',function(d){ //If average lines go offscreen, make them transparent var yVal = y(average(d)); if (yVal < 0 || yVal > availableHeight) return 0; return 1; }) .attr('x1',0) .attr('x2',availableWidth) .attr('y1', getAvgLineY) .attr('y2', getAvgLineY); avgLines.exit().remove(); //Create index line ----------------------------------------- var indexLine = linesWrap.selectAll('.nv-indexLine') .data([index]); indexLine.enter().append('rect').attr('class', 'nv-indexLine') .attr('width', 3) .attr('x', -2) .attr('fill', 'red') .attr('fill-opacity', .5) .style(""pointer-events"",""all"") .call(indexDrag) indexLine .attr('transform', function(d) { return 'translate(' + dx(d.i) + ',0)' }) .attr('height', availableHeight) //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) //Suggest how many ticks based on the chart width and D3 should listen (70 is the optimal number for MM/DD/YY dates) .ticks( Math.min(data[0].values.length,availableWidth/70) ) .tickSize(-availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y.range()[0] + ')'); d3.transition(g.select('.nv-x.nv-axis')) .call(xAxis); } if (showYAxis) { yAxis .scale(y) .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); d3.transition(g.select('.nv-y.nv-axis')) .call(yAxis); } //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ function updateZero() { indexLine .data([index]); //When dragging the index line, turn off line transitions. // Then turn them back on when done dragging. var oldDuration = chart.transitionDuration(); chart.transitionDuration(0); chart.update(); chart.transitionDuration(oldDuration); } g.select('.nv-background rect') .on('click', function() { index.x = d3.mouse(this)[0]; index.i = Math.round(dx.invert(index.x)); // update state and send stateChange with new index state.index = index.i; dispatch.stateChange(state); updateZero(); }); lines.dispatch.on('elementClick', function(e) { index.i = e.pointIndex; index.x = dx(index.i); // update state and send stateChange with new index state.index = index.i; dispatch.stateChange(state); updateZero(); }); controls.dispatch.on('legendClick', function(d,i) { d.disabled = !d.disabled; rescaleY = !d.disabled; state.rescaleY = rescaleY; dispatch.stateChange(state); chart.update(); }); legend.dispatch.on('stateChange', function(newState) { state.disabled = newState.disabled; dispatch.stateChange(state); chart.update(); }); interactiveLayer.dispatch.on('elementMousemove', function(e) { lines.clearHighlights(); var singlePoint, pointIndex, pointXLocation, allData = []; data .filter(function(series, i) { series.seriesIndex = i; return !series.disabled; }) .forEach(function(series,i) { pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x()); lines.highlightPoint(i, pointIndex, true); var point = series.values[pointIndex]; if (typeof point === 'undefined') return; if (typeof singlePoint === 'undefined') singlePoint = point; if (typeof pointXLocation === 'undefined') pointXLocation = chart.xScale()(chart.x()(point,pointIndex)); allData.push({ key: series.key, value: chart.y()(point, pointIndex), color: color(series,series.seriesIndex) }); }); //Highlight the tooltip entry based on which point the mouse is closest to. if (allData.length > 2) { var yValue = chart.yScale().invert(e.mouseY); var domainExtent = Math.abs(chart.yScale().domain()[0] - chart.yScale().domain()[1]); var threshold = 0.03 * domainExtent; var indexToHighlight = nv.nearestValueIndex(allData.map(function(d){return d.value}),yValue,threshold); if (indexToHighlight !== null) allData[indexToHighlight].highlight = true; } var xValue = xAxis.tickFormat()(chart.x()(singlePoint,pointIndex), pointIndex); interactiveLayer.tooltip .position({left: pointXLocation + margin.left, top: e.mouseY + margin.top}) .chartContainer(that.parentNode) .enabled(tooltips) .valueFormatter(function(d,i) { return yAxis.tickFormat()(d); }) .data( { value: xValue, series: allData } )(); interactiveLayer.renderGuideLine(pointXLocation); }); interactiveLayer.dispatch.on(""elementMouseout"",function(e) { dispatch.tooltipHide(); lines.clearHighlights(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } if (typeof e.index !== 'undefined') { index.i = e.index; index.x = dx(index.i); state.index = e.index; indexLine .data([index]); } if (typeof e.rescaleY !== 'undefined') { rescaleY = e.rescaleY; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ lines.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.lines = lines; chart.legend = legend; chart.xAxis = xAxis; chart.yAxis = yAxis; chart.interactiveLayer = interactiveLayer; d3.rebind(chart, lines, 'defined', 'isArea', 'x', 'y', 'xScale','yScale', 'size', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi','useVoronoi', 'id'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.rescaleY = function(_) { if (!arguments.length) return rescaleY; rescaleY = _; return chart; }; chart.showControls = function(_) { if (!arguments.length) return showControls; showControls = _; return chart; }; chart.useInteractiveGuideline = function(_) { if(!arguments.length) return useInteractiveGuideline; useInteractiveGuideline = _; if (_ === true) { chart.interactive(false); chart.useVoronoi(false); } return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.average = function(_) { if(!arguments.length) return average; average = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; chart.noErrorCheck = function(_) { if (!arguments.length) return noErrorCheck; noErrorCheck = _; return chart; }; //============================================================ //============================================================ // Functions //------------------------------------------------------------ /* Normalize the data according to an index point. */ function indexify(idx, data) { return data.map(function(line, i) { if (!line.values) { return line; } var v = lines.y()(line.values[idx], idx); //TODO: implement check below, and disable series if series loses 100% or more cause divide by 0 issue if (v < -.95 && !noErrorCheck) { //if a series loses more than 100%, calculations fail.. anything close can cause major distortion (but is mathematically correct till it hits 100) line.tempDisabled = true; return line; } line.tempDisabled = false; line.values = line.values.map(function(point, pointIndex) { point.display = {'y': (lines.y()(point, pointIndex) - v) / (1 + v) }; return point; }) return line; }) } //============================================================ return chart; } //TODO: consider deprecating by adding necessary features to multiBar model nv.models.discreteBar = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one , x = d3.scale.ordinal() , y = d3.scale.linear() , getX = function(d) { return d.x } , getY = function(d) { return d.y } , forceY = [0] // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove , color = nv.utils.defaultColor() , showValues = false , valueFormat = d3.format(',.2f') , xDomain , yDomain , xRange , yRange , dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout') , rectClass = 'discreteBar' ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //add series index to each data point for reference data.forEach(function(series, i) { series.values.forEach(function(point) { point.series = i; }); }); //------------------------------------------------------------ // Setup Scales // remap and flatten the data for use in calculating the scales' domains var seriesData = (xDomain && yDomain) ? [] : // if we know xDomain and yDomain, no need to calculate data.map(function(d) { return d.values.map(function(d,i) { return { x: getX(d,i), y: getY(d,i), y0: d.y0 } }) }); x .domain(xDomain || d3.merge(seriesData).map(function(d) { return d.x })) .rangeBands(xRange || [0, availableWidth], .1); y .domain(yDomain || d3.extent(d3.merge(seriesData).map(function(d) { return d.y }).concat(forceY))); // If showValues, pad the Y axis range to account for label height if (showValues) y.range(yRange || [availableHeight - (y.domain()[0] < 0 ? 12 : 0), y.domain()[1] > 0 ? 12 : 0]); else y.range(yRange || [availableHeight, 0]); //store old scales if they exist x0 = x0 || x; y0 = y0 || y.copy().range([y(0),y(0)]); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-discretebar').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-discretebar'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-groups'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ //TODO: by definition, the discrete bar should not have multiple groups, will modify/remove later var groups = wrap.select('.nv-groups').selectAll('.nv-group') .data(function(d) { return d }, function(d) { return d.key }); groups.enter().append('g') .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6); groups.exit() .transition() .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6) .remove(); groups .attr('class', function(d,i) { return 'nv-group nv-series-' + i }) .classed('hover', function(d) { return d.hover }); groups .transition() .style('stroke-opacity', 1) .style('fill-opacity', .75); var bars = groups.selectAll('g.nv-bar') .data(function(d) { return d.values }); bars.exit().remove(); var barsEnter = bars.enter().append('g') .attr('transform', function(d,i,j) { return 'translate(' + (x(getX(d,i)) + x.rangeBand() * .05 ) + ', ' + y(0) + ')' }) .on('mouseover', function(d,i) { //TODO: figure out why j works above, but not here d3.select(this).classed('hover', true); dispatch.elementMouseover({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (d.series + .5) / data.length), y(getY(d,i))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); }) .on('mouseout', function(d,i) { d3.select(this).classed('hover', false); dispatch.elementMouseout({ value: getY(d,i), point: d, series: data[d.series], pointIndex: i, seriesIndex: d.series, e: d3.event }); }) .on('click', function(d,i) { dispatch.elementClick({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (d.series + .5) / data.length), y(getY(d,i))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); d3.event.stopPropagation(); }) .on('dblclick', function(d,i) { dispatch.elementDblClick({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (d.series + .5) / data.length), y(getY(d,i))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); d3.event.stopPropagation(); }); barsEnter.append('rect') .attr('height', 0) .attr('width', x.rangeBand() * .9 / data.length ) if (showValues) { barsEnter.append('text') .attr('text-anchor', 'middle') ; bars.select('text') .text(function(d,i) { return valueFormat(getY(d,i)) }) .transition() .attr('x', x.rangeBand() * .9 / 2) .attr('y', function(d,i) { return getY(d,i) < 0 ? y(getY(d,i)) - y(0) + 12 : -4 }) ; } else { bars.selectAll('text').remove(); } bars .attr('class', function(d,i) { return getY(d,i) < 0 ? 'nv-bar negative' : 'nv-bar positive' }) .style('fill', function(d,i) { return d.color || color(d,i) }) .style('stroke', function(d,i) { return d.color || color(d,i) }) .select('rect') .attr('class', rectClass) .transition() .attr('width', x.rangeBand() * .9 / data.length); bars.transition() //.delay(function(d,i) { return i * 1200 / data[0].values.length }) .attr('transform', function(d,i) { var left = x(getX(d,i)) + x.rangeBand() * .05, top = getY(d,i) < 0 ? y(0) : y(0) - y(getY(d,i)) < 1 ? y(0) - 1 : //make 1 px positive bars show up above y=0 y(getY(d,i)); return 'translate(' + left + ', ' + top + ')' }) .select('rect') .attr('height', function(d,i) { return Math.max(Math.abs(y(getY(d,i)) - y((yDomain && yDomain[0]) || 0)) || 1) }); //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.forceY = function(_) { if (!arguments.length) return forceY; forceY = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.showValues = function(_) { if (!arguments.length) return showValues; showValues = _; return chart; }; chart.valueFormat= function(_) { if (!arguments.length) return valueFormat; valueFormat = _; return chart; }; chart.rectClass= function(_) { if (!arguments.length) return rectClass; rectClass = _; return chart; }; //============================================================ return chart; } nv.models.discreteBarChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var discretebar = nv.models.discreteBar() , xAxis = nv.models.axis() , yAxis = nv.models.axis() ; var margin = {top: 15, right: 10, bottom: 50, left: 60} , width = null , height = null , color = nv.utils.getColor() , showXAxis = true , showYAxis = true , rightAlignYAxis = false , staggerLabels = false , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + x + '</h3>' + '<p>' + y + '</p>' } , x , y , noData = ""No Data Available."" , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'beforeUpdate') , transitionDuration = 250 ; xAxis .orient('bottom') .highlightZero(false) .showMaxMin(false) .tickFormat(function(d) { return d }) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') .tickFormat(d3.format(',.1f')) ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(discretebar.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(discretebar.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { dispatch.beforeUpdate(); container.transition().duration(transitionDuration).call(chart); }; chart.container = this; //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = discretebar.xScale(); y = discretebar.yScale().clamp(true); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-discreteBarWithAxes').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-discreteBarWithAxes').append('g'); var defsEnter = gEnter.append('defs'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis') .append('g').attr('class', 'nv-zeroLine') .append('line'); gEnter.append('g').attr('class', 'nv-barsWrap'); g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ //------------------------------------------------------------ // Main Chart Component(s) discretebar .width(availableWidth) .height(availableHeight); var barsWrap = g.select('.nv-barsWrap') .datum(data.filter(function(d) { return !d.disabled })) barsWrap.transition().call(discretebar); //------------------------------------------------------------ defsEnter.append('clipPath') .attr('id', 'nv-x-label-clip-' + discretebar.id()) .append('rect'); g.select('#nv-x-label-clip-' + discretebar.id() + ' rect') .attr('width', x.rangeBand() * (staggerLabels ? 2 : 1)) .attr('height', 16) .attr('x', -x.rangeBand() / (staggerLabels ? 1 : 2 )); //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize(-availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + (y.range()[0] + ((discretebar.showValues() && y.domain()[0] < 0) ? 16 : 0)) + ')'); //d3.transition(g.select('.nv-x.nv-axis')) g.select('.nv-x.nv-axis').transition() .call(xAxis); var xTicks = g.select('.nv-x.nv-axis').selectAll('g'); if (staggerLabels) { xTicks .selectAll('text') .attr('transform', function(d,i,j) { return 'translate(0,' + (j % 2 == 0 ? '5' : '17') + ')' }) } } if (showYAxis) { yAxis .scale(y) .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-y.nv-axis').transition() .call(yAxis); } // Zero line g.select("".nv-zeroLine line"") .attr(""x1"",0) .attr(""x2"",availableWidth) .attr(""y1"", y(0)) .attr(""y2"", y(0)) ; //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ discretebar.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); discretebar.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.discretebar = discretebar; chart.xAxis = xAxis; chart.yAxis = yAxis; d3.rebind(chart, discretebar, 'x', 'y', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'id', 'showValues', 'valueFormat'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); discretebar.color(color); return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.staggerLabels = function(_) { if (!arguments.length) return staggerLabels; staggerLabels = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.distribution = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 400 //technically width or height depending on x or y.... , size = 8 , axis = 'x' // 'x' or 'y'... horizontal or vertical , getData = function(d) { return d[axis] } // defaults d.x or d.y , color = nv.utils.defaultColor() , scale = d3.scale.linear() , domain ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var scale0; //============================================================ function chart(selection) { selection.each(function(data) { var availableLength = width - (axis === 'x' ? margin.left + margin.right : margin.top + margin.bottom), naxis = axis == 'x' ? 'y' : 'x', container = d3.select(this); //------------------------------------------------------------ // Setup Scales scale0 = scale0 || scale; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-distribution').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-distribution'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')') //------------------------------------------------------------ var distWrap = g.selectAll('g.nv-dist') .data(function(d) { return d }, function(d) { return d.key }); distWrap.enter().append('g'); distWrap .attr('class', function(d,i) { return 'nv-dist nv-series-' + i }) .style('stroke', function(d,i) { return color(d, i) }); var dist = distWrap.selectAll('line.nv-dist' + axis) .data(function(d) { return d.values }) dist.enter().append('line') .attr(axis + '1', function(d,i) { return scale0(getData(d,i)) }) .attr(axis + '2', function(d,i) { return scale0(getData(d,i)) }) distWrap.exit().selectAll('line.nv-dist' + axis) .transition() .attr(axis + '1', function(d,i) { return scale(getData(d,i)) }) .attr(axis + '2', function(d,i) { return scale(getData(d,i)) }) .style('stroke-opacity', 0) .remove(); dist .attr('class', function(d,i) { return 'nv-dist' + axis + ' nv-dist' + axis + '-' + i }) .attr(naxis + '1', 0) .attr(naxis + '2', size); dist .transition() .attr(axis + '1', function(d,i) { return scale(getData(d,i)) }) .attr(axis + '2', function(d,i) { return scale(getData(d,i)) }) scale0 = scale.copy(); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.axis = function(_) { if (!arguments.length) return axis; axis = _; return chart; }; chart.size = function(_) { if (!arguments.length) return size; size = _; return chart; }; chart.getData = function(_) { if (!arguments.length) return getData; getData = d3.functor(_); return chart; }; chart.scale = function(_) { if (!arguments.length) return scale; scale = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; //============================================================ return chart; } nv.models.historicalBarChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var bars = nv.models.historicalBar() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() ; var margin = {top: 30, right: 90, bottom: 50, left: 90} , color = nv.utils.defaultColor() , width = null , height = null , showLegend = false , showXAxis = true , showYAxis = true , rightAlignYAxis = false , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>' } , x , y , state = {} , defaultState = null , noData = 'No Data Available.' , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , transitionDuration = 250 ; xAxis .orient('bottom') .tickPadding(7) ; yAxis .orient( (rightAlignYAxis) ? 'right' : 'left') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { // New addition to calculate position if SVG is scaled with viewBox, may move TODO: consider implementing everywhere else if (offsetElement) { var svg = d3.select(offsetElement).select('svg'); var viewBox = (svg.node()) ? svg.attr('viewBox') : null; if (viewBox) { viewBox = viewBox.split(' '); var ratio = parseInt(svg.style('width')) / viewBox[2]; e.pos[0] = e.pos[0] * ratio; e.pos[1] = e.pos[1] * ratio; } } var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(bars.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(bars.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, null, null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart) }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display noData message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = bars.xScale(); y = bars.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-historicalBarChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-historicalBarChart').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-barsWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width(availableWidth); g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } wrap.select('.nv-legendWrap') .attr('transform', 'translate(0,' + (-margin.top) +')') } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ // Main Chart Component(s) bars .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); var barsWrap = g.select('.nv-barsWrap') .datum(data.filter(function(d) { return !d.disabled })) barsWrap.transition().call(bars); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .tickSize(-availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y.range()[0] + ')'); g.select('.nv-x.nv-axis') .transition() .call(xAxis); } if (showYAxis) { yAxis .scale(y) .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-y.nv-axis') .transition() .call(yAxis); } //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('legendClick', function(d,i) { d.disabled = !d.disabled; if (!data.filter(function(d) { return !d.disabled }).length) { data.map(function(d) { d.disabled = false; wrap.selectAll('.nv-series').classed('disabled', false); return d; }); } state.disabled = data.map(function(d) { return !!d.disabled }); dispatch.stateChange(state); selection.transition().call(chart); }); legend.dispatch.on('legendDblclick', function(d) { //Double clicking should always enable current series, and disabled all others. data.forEach(function(d) { d.disabled = true; }); d.disabled = false; state.disabled = data.map(function(d) { return !!d.disabled }); dispatch.stateChange(state); chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ bars.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); bars.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.bars = bars; chart.legend = legend; chart.xAxis = xAxis; chart.yAxis = yAxis; d3.rebind(chart, bars, 'defined', 'isArea', 'x', 'y', 'size', 'xScale', 'yScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi', 'id', 'interpolate','highlightPoint','clearHighlights', 'interactive'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.indentedTree = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} //TODO: implement, maybe as margin on the containing div , width = 960 , height = 500 , color = nv.utils.defaultColor() , id = Math.floor(Math.random() * 10000) , header = true , filterZero = false , noData = ""No Data Available."" , childIndent = 20 , columns = [{key:'key', label: 'Name', type:'text'}] //TODO: consider functions like chart.addColumn, chart.removeColumn, instead of a block like this , tableClass = null , iconOpen = 'images/grey-plus.png' //TODO: consider removing this and replacing with a '+' or '-' unless user defines images , iconClose = 'images/grey-minus.png' , dispatch = d3.dispatch('elementClick', 'elementDblclick', 'elementMouseover', 'elementMouseout') , getUrl = function(d) { return d.url } ; //============================================================ var idx = 0; function chart(selection) { selection.each(function(data) { var depth = 1, container = d3.select(this); var tree = d3.layout.tree() .children(function(d) { return d.values }) .size([height, childIndent]); //Not sure if this is needed now that the result is HTML chart.update = function() { container.transition().duration(600).call(chart) }; //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data[0]) data[0] = {key: noData}; //------------------------------------------------------------ var nodes = tree.nodes(data[0]); // nodes.map(function(d) { // d.id = i++; // }) //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = d3.select(this).selectAll('div').data([[nodes]]); var wrapEnter = wrap.enter().append('div').attr('class', 'nvd3 nv-wrap nv-indentedtree'); var tableEnter = wrapEnter.append('table'); var table = wrap.select('table').attr('width', '100%').attr('class', tableClass); //------------------------------------------------------------ if (header) { var thead = tableEnter.append('thead'); var theadRow1 = thead.append('tr'); columns.forEach(function(column) { theadRow1 .append('th') .attr('width', column.width ? column.width : '10%') .style('text-align', column.type == 'numeric' ? 'right' : 'left') .append('span') .text(column.label); }); } var tbody = table.selectAll('tbody') .data(function(d) { return d }); tbody.enter().append('tbody'); //compute max generations depth = d3.max(nodes, function(node) { return node.depth }); tree.size([height, depth * childIndent]); //TODO: see if this is necessary at all // Update the nodes var node = tbody.selectAll('tr') // .data(function(d) { return d; }, function(d) { return d.id || (d.id == ++i)}); .data(function(d) { return d.filter(function(d) { return (filterZero && !d.children) ? filterZero(d) : true; } )}, function(d,i) { return d.id || (d.id || ++idx)}); //.style('display', 'table-row'); //TODO: see if this does anything node.exit().remove(); node.select('img.nv-treeicon') .attr('src', icon) .classed('folded', folded); var nodeEnter = node.enter().append('tr'); columns.forEach(function(column, index) { var nodeName = nodeEnter.append('td') .style('padding-left', function(d) { return (index ? 0 : d.depth * childIndent + 12 + (icon(d) ? 0 : 16)) + 'px' }, 'important') //TODO: check why I did the ternary here .style('text-align', column.type == 'numeric' ? 'right' : 'left'); if (index == 0) { nodeName.append('img') .classed('nv-treeicon', true) .classed('nv-folded', folded) .attr('src', icon) .style('width', '14px') .style('height', '14px') .style('padding', '0 1px') .style('display', function(d) { return icon(d) ? 'inline-block' : 'none'; }) .on('click', click); } nodeName.each(function(d) { if (!index && getUrl(d)) d3.select(this) .append('a') .attr('href',getUrl) .attr('class', d3.functor(column.classes)) .append('span') else d3.select(this) .append('span') d3.select(this).select('span') .attr('class', d3.functor(column.classes) ) .text(function(d) { return column.format ? column.format(d) : (d[column.key] || '-') }); }); if (column.showCount) { nodeName.append('span') .attr('class', 'nv-childrenCount'); node.selectAll('span.nv-childrenCount').text(function(d) { return ((d.values && d.values.length) || (d._values && d._values.length)) ? //If this is a parent '(' + ((d.values && (d.values.filter(function(d) { return filterZero ? filterZero(d) : true; }).length)) //If children are in values check its children and filter || (d._values && d._values.filter(function(d) { return filterZero ? filterZero(d) : true; }).length) //Otherwise, do the same, but with the other name, _values... || 0) + ')' //This is the catch-all in case there are no children after a filter : '' //If this is not a parent, just give an empty string }); } // if (column.click) // nodeName.select('span').on('click', column.click); }); node .order() .on('click', function(d) { dispatch.elementClick({ row: this, //TODO: decide whether or not this should be consistent with scatter/line events or should be an html link (a href) data: d, pos: [d.x, d.y] }); }) .on('dblclick', function(d) { dispatch.elementDblclick({ row: this, data: d, pos: [d.x, d.y] }); }) .on('mouseover', function(d) { dispatch.elementMouseover({ row: this, data: d, pos: [d.x, d.y] }); }) .on('mouseout', function(d) { dispatch.elementMouseout({ row: this, data: d, pos: [d.x, d.y] }); }); // Toggle children on click. function click(d, _, unshift) { d3.event.stopPropagation(); if(d3.event.shiftKey && !unshift) { //If you shift-click, it'll toggle fold all the children, instead of itself d3.event.shiftKey = false; d.values && d.values.forEach(function(node){ if (node.values || node._values) { click(node, 0, true); } }); return true; } if(!hasChildren(d)) { //download file //window.location.href = d.url; return true; } if (d.values) { d._values = d.values; d.values = null; } else { d.values = d._values; d._values = null; } chart.update(); } function icon(d) { return (d._values && d._values.length) ? iconOpen : (d.values && d.values.length) ? iconClose : ''; } function folded(d) { return (d._values && d._values.length); } function hasChildren(d) { var values = d.values || d._values; return (values && values.length); } }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); scatter.color(color); return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.header = function(_) { if (!arguments.length) return header; header = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.filterZero = function(_) { if (!arguments.length) return filterZero; filterZero = _; return chart; }; chart.columns = function(_) { if (!arguments.length) return columns; columns = _; return chart; }; chart.tableClass = function(_) { if (!arguments.length) return tableClass; tableClass = _; return chart; }; chart.iconOpen = function(_){ if (!arguments.length) return iconOpen; iconOpen = _; return chart; } chart.iconClose = function(_){ if (!arguments.length) return iconClose; iconClose = _; return chart; } chart.getUrl = function(_){ if (!arguments.length) return getUrl; getUrl = _; return chart; } //============================================================ return chart; };nv.models.legend = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 5, right: 0, bottom: 5, left: 0} , width = 400 , height = 20 , getKey = function(d) { return d.key } , color = nv.utils.defaultColor() , align = true , rightAlign = true , updateState = true //If true, legend will update data.disabled and trigger a 'stateChange' dispatch. , radioButtonMode = false //If true, clicking legend items will cause it to behave like a radio button. (only one can be selected at a time) , dispatch = d3.dispatch('legendClick', 'legendDblclick', 'legendMouseover', 'legendMouseout', 'stateChange') ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, container = d3.select(this); //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-legend').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-legend').append('g'); var g = wrap.select('g'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ var series = g.selectAll('.nv-series') .data(function(d) { return d }); var seriesEnter = series.enter().append('g').attr('class', 'nv-series') .on('mouseover', function(d,i) { dispatch.legendMouseover(d,i); //TODO: Make consistent with other event objects }) .on('mouseout', function(d,i) { dispatch.legendMouseout(d,i); }) .on('click', function(d,i) { dispatch.legendClick(d,i); if (updateState) { if (radioButtonMode) { //Radio button mode: set every series to disabled, // and enable the clicked series. data.forEach(function(series) { series.disabled = true}); d.disabled = false; } else { d.disabled = !d.disabled; if (data.every(function(series) { return series.disabled})) { //the default behavior of NVD3 legends is, if every single series // is disabled, turn all series' back on. data.forEach(function(series) { series.disabled = false}); } } dispatch.stateChange({ disabled: data.map(function(d) { return !!d.disabled }) }); } }) .on('dblclick', function(d,i) { dispatch.legendDblclick(d,i); if (updateState) { //the default behavior of NVD3 legends, when double clicking one, // is to set all other series' to false, and make the double clicked series enabled. data.forEach(function(series) { series.disabled = true; }); d.disabled = false; dispatch.stateChange({ disabled: data.map(function(d) { return !!d.disabled }) }); } }); seriesEnter.append('circle') .style('stroke-width', 2) .attr('class','nv-legend-symbol') .attr('r', 5); seriesEnter.append('text') .attr('text-anchor', 'start') .attr('class','nv-legend-text') .attr('dy', '.32em') .attr('dx', '8'); series.classed('disabled', function(d) { return d.disabled }); series.exit().remove(); series.select('circle') .style('fill', function(d,i) { return d.color || color(d,i)}) .style('stroke', function(d,i) { return d.color || color(d, i) }); series.select('text').text(getKey); //TODO: implement fixed-width and max-width options (max-width is especially useful with the align option) // NEW ALIGNING CODE, TODO: clean up if (align) { var seriesWidths = []; series.each(function(d,i) { var legendText = d3.select(this).select('text'); var nodeTextLength; try { nodeTextLength = legendText.getComputedTextLength(); // If the legendText is display:none'd (nodeTextLength == 0), simulate an error so we approximate, instead if(nodeTextLength <= 0) throw Error(); } catch(e) { nodeTextLength = nv.utils.calcApproxTextWidth(legendText); } seriesWidths.push(nodeTextLength + 28); // 28 is ~ the width of the circle plus some padding }); var seriesPerRow = 0; var legendWidth = 0; var columnWidths = []; while ( legendWidth < availableWidth && seriesPerRow < seriesWidths.length) { columnWidths[seriesPerRow] = seriesWidths[seriesPerRow]; legendWidth += seriesWidths[seriesPerRow++]; } if (seriesPerRow === 0) seriesPerRow = 1; //minimum of one series per row while ( legendWidth > availableWidth && seriesPerRow > 1 ) { columnWidths = []; seriesPerRow--; for (var k = 0; k < seriesWidths.length; k++) { if (seriesWidths[k] > (columnWidths[k % seriesPerRow] || 0) ) columnWidths[k % seriesPerRow] = seriesWidths[k]; } legendWidth = columnWidths.reduce(function(prev, cur, index, array) { return prev + cur; }); } var xPositions = []; for (var i = 0, curX = 0; i < seriesPerRow; i++) { xPositions[i] = curX; curX += columnWidths[i]; } series .attr('transform', function(d, i) { return 'translate(' + xPositions[i % seriesPerRow] + ',' + (5 + Math.floor(i / seriesPerRow) * 20) + ')'; }); //position legend as far right as possible within the total width if (rightAlign) { g.attr('transform', 'translate(' + (width - margin.right - legendWidth) + ',' + margin.top + ')'); } else { g.attr('transform', 'translate(0' + ',' + margin.top + ')'); } height = margin.top + margin.bottom + (Math.ceil(seriesWidths.length / seriesPerRow) * 20); } else { var ypos = 5, newxpos = 5, maxwidth = 0, xpos; series .attr('transform', function(d, i) { var length = d3.select(this).select('text').node().getComputedTextLength() + 28; xpos = newxpos; if (width < margin.left + margin.right + xpos + length) { newxpos = xpos = 5; ypos += 20; } newxpos += length; if (newxpos > maxwidth) maxwidth = newxpos; return 'translate(' + xpos + ',' + ypos + ')'; }); //position legend as far right as possible within the total width g.attr('transform', 'translate(' + (width - margin.right - maxwidth) + ',' + margin.top + ')'); height = margin.top + margin.bottom + ypos + 15; } }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.key = function(_) { if (!arguments.length) return getKey; getKey = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.align = function(_) { if (!arguments.length) return align; align = _; return chart; }; chart.rightAlign = function(_) { if (!arguments.length) return rightAlign; rightAlign = _; return chart; }; chart.updateState = function(_) { if (!arguments.length) return updateState; updateState = _; return chart; }; chart.radioButtonMode = function(_) { if (!arguments.length) return radioButtonMode; radioButtonMode = _; return chart; }; //============================================================ return chart; } nv.models.line = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var scatter = nv.models.scatter() ; var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , color = nv.utils.defaultColor() // a function that returns a color , getX = function(d) { return d.x } // accessor to get the x value from a data point , getY = function(d) { return d.y } // accessor to get the y value from a data point , defined = function(d,i) { return !isNaN(getY(d,i)) && getY(d,i) !== null } // allows a line to be not continuous when it is not defined , isArea = function(d) { return d.area } // decides if a line is an area or just a line , clipEdge = false // if true, masks lines within x and y scale , x //can be accessed via chart.xScale() , y //can be accessed via chart.yScale() , interpolate = ""linear"" // controls the line interpolation ; scatter .size(16) // default size .sizeDomain([16,256]) //set to speed up calculation, needs to be unset if there is a custom size accessor ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0 //used to store previous scales ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //------------------------------------------------------------ // Setup Scales x = scatter.xScale(); y = scatter.yScale(); x0 = x0 || x; y0 = y0 || y; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-line').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-line'); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g') gEnter.append('g').attr('class', 'nv-groups'); gEnter.append('g').attr('class', 'nv-scatterWrap'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ scatter .width(availableWidth) .height(availableHeight) var scatterWrap = wrap.select('.nv-scatterWrap'); //.datum(data); // Data automatically trickles down from the wrap scatterWrap.transition().call(scatter); defsEnter.append('clipPath') .attr('id', 'nv-edge-clip-' + scatter.id()) .append('rect'); wrap.select('#nv-edge-clip-' + scatter.id() + ' rect') .attr('width', availableWidth) .attr('height', (availableHeight > 0) ? availableHeight : 0); g .attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + scatter.id() + ')' : ''); scatterWrap .attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + scatter.id() + ')' : ''); var groups = wrap.select('.nv-groups').selectAll('.nv-group') .data(function(d) { return d }, function(d) { return d.key }); groups.enter().append('g') .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6); groups.exit().remove(); groups .attr('class', function(d,i) { return 'nv-group nv-series-' + i }) .classed('hover', function(d) { return d.hover }) .style('fill', function(d,i){ return color(d, i) }) .style('stroke', function(d,i){ return color(d, i)}); groups .transition() .style('stroke-opacity', 1) .style('fill-opacity', .5); var areaPaths = groups.selectAll('path.nv-area') .data(function(d) { return isArea(d) ? [d] : [] }); // this is done differently than lines because I need to check if series is an area areaPaths.enter().append('path') .attr('class', 'nv-area') .attr('d', function(d) { return d3.svg.area() .interpolate(interpolate) .defined(defined) .x(function(d,i) { return nv.utils.NaNtoZero(x0(getX(d,i))) }) .y0(function(d,i) { return nv.utils.NaNtoZero(y0(getY(d,i))) }) .y1(function(d,i) { return y0( y.domain()[0] <= 0 ? y.domain()[1] >= 0 ? 0 : y.domain()[1] : y.domain()[0] ) }) //.y1(function(d,i) { return y0(0) }) //assuming 0 is within y domain.. may need to tweak this .apply(this, [d.values]) }); groups.exit().selectAll('path.nv-area') .remove(); areaPaths .transition() .attr('d', function(d) { return d3.svg.area() .interpolate(interpolate) .defined(defined) .x(function(d,i) { return nv.utils.NaNtoZero(x(getX(d,i))) }) .y0(function(d,i) { return nv.utils.NaNtoZero(y(getY(d,i))) }) .y1(function(d,i) { return y( y.domain()[0] <= 0 ? y.domain()[1] >= 0 ? 0 : y.domain()[1] : y.domain()[0] ) }) //.y1(function(d,i) { return y0(0) }) //assuming 0 is within y domain.. may need to tweak this .apply(this, [d.values]) }); var linePaths = groups.selectAll('path.nv-line') .data(function(d) { return [d.values] }); linePaths.enter().append('path') .attr('class', 'nv-line') .attr('d', d3.svg.line() .interpolate(interpolate) .defined(defined) .x(function(d,i) { return nv.utils.NaNtoZero(x0(getX(d,i))) }) .y(function(d,i) { return nv.utils.NaNtoZero(y0(getY(d,i))) }) ); linePaths .transition() .attr('d', d3.svg.line() .interpolate(interpolate) .defined(defined) .x(function(d,i) { return nv.utils.NaNtoZero(x(getX(d,i))) }) .y(function(d,i) { return nv.utils.NaNtoZero(y(getY(d,i))) }) ); //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = scatter.dispatch; chart.scatter = scatter; d3.rebind(chart, scatter, 'id', 'interactive', 'size', 'xScale', 'yScale', 'zScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'sizeDomain', 'forceX', 'forceY', 'forceSize', 'clipVoronoi', 'useVoronoi', 'clipRadius', 'padData','highlightPoint','clearHighlights'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.x = function(_) { if (!arguments.length) return getX; getX = _; scatter.x(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; scatter.y(_); return chart; }; chart.clipEdge = function(_) { if (!arguments.length) return clipEdge; clipEdge = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); scatter.color(color); return chart; }; chart.interpolate = function(_) { if (!arguments.length) return interpolate; interpolate = _; return chart; }; chart.defined = function(_) { if (!arguments.length) return defined; defined = _; return chart; }; chart.isArea = function(_) { if (!arguments.length) return isArea; isArea = d3.functor(_); return chart; }; //============================================================ return chart; } nv.models.lineChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var lines = nv.models.line() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() , interactiveLayer = nv.interactiveGuideline() ; var margin = {top: 30, right: 20, bottom: 50, left: 60} , color = nv.utils.defaultColor() , width = null , height = null , showLegend = true , showXAxis = true , showYAxis = true , rightAlignYAxis = false , useInteractiveGuideline = false , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>' } , x , y , state = {} , defaultState = null , noData = 'No Data Available.' , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , transitionDuration = 250 ; xAxis .orient('bottom') .tickPadding(7) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(lines.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(lines.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, null, null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart) }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display noData message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = lines.xScale(); y = lines.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-lineChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-lineChart').append('g'); var g = wrap.select('g'); gEnter.append(""rect"").style(""opacity"",0); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-linesWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-interactive'); g.select(""rect"") .attr(""width"",availableWidth) .attr(""height"",(availableHeight > 0) ? availableHeight : 0); //------------------------------------------------------------ // Legend if (showLegend) { legend.width(availableWidth); g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } wrap.select('.nv-legendWrap') .attr('transform', 'translate(0,' + (-margin.top) +')') } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ // Main Chart Component(s) //------------------------------------------------------------ //Set up interactive layer if (useInteractiveGuideline) { interactiveLayer .width(availableWidth) .height(availableHeight) .margin({left:margin.left, top:margin.top}) .svgContainer(container) .xScale(x); wrap.select("".nv-interactive"").call(interactiveLayer); } lines .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); var linesWrap = g.select('.nv-linesWrap') .datum(data.filter(function(d) { return !d.disabled })) linesWrap.transition().call(lines); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize(-availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y.range()[0] + ')'); g.select('.nv-x.nv-axis') .transition() .call(xAxis); } if (showYAxis) { yAxis .scale(y) .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-y.nv-axis') .transition() .call(yAxis); } //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { state = newState; dispatch.stateChange(state); chart.update(); }); interactiveLayer.dispatch.on('elementMousemove', function(e) { lines.clearHighlights(); var singlePoint, pointIndex, pointXLocation, allData = []; data .filter(function(series, i) { series.seriesIndex = i; return !series.disabled; }) .forEach(function(series,i) { pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x()); lines.highlightPoint(i, pointIndex, true); var point = series.values[pointIndex]; if (typeof point === 'undefined') return; if (typeof singlePoint === 'undefined') singlePoint = point; if (typeof pointXLocation === 'undefined') pointXLocation = chart.xScale()(chart.x()(point,pointIndex)); allData.push({ key: series.key, value: chart.y()(point, pointIndex), color: color(series,series.seriesIndex) }); }); //Highlight the tooltip entry based on which point the mouse is closest to. if (allData.length > 2) { var yValue = chart.yScale().invert(e.mouseY); var domainExtent = Math.abs(chart.yScale().domain()[0] - chart.yScale().domain()[1]); var threshold = 0.03 * domainExtent; var indexToHighlight = nv.nearestValueIndex(allData.map(function(d){return d.value}),yValue,threshold); if (indexToHighlight !== null) allData[indexToHighlight].highlight = true; } var xValue = xAxis.tickFormat()(chart.x()(singlePoint,pointIndex)); interactiveLayer.tooltip .position({left: pointXLocation + margin.left, top: e.mouseY + margin.top}) .chartContainer(that.parentNode) .enabled(tooltips) .valueFormatter(function(d,i) { return yAxis.tickFormat()(d); }) .data( { value: xValue, series: allData } )(); interactiveLayer.renderGuideLine(pointXLocation); }); interactiveLayer.dispatch.on(""elementMouseout"",function(e) { dispatch.tooltipHide(); lines.clearHighlights(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined' && data.length === e.disabled.length) { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ lines.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.lines = lines; chart.legend = legend; chart.xAxis = xAxis; chart.yAxis = yAxis; chart.interactiveLayer = interactiveLayer; d3.rebind(chart, lines, 'defined', 'isArea', 'x', 'y', 'size', 'xScale', 'yScale', 'xDomain', 'yDomain', 'xRange', 'yRange' , 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi', 'useVoronoi','id', 'interpolate'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.useInteractiveGuideline = function(_) { if(!arguments.length) return useInteractiveGuideline; useInteractiveGuideline = _; if (_ === true) { chart.interactive(false); chart.useVoronoi(false); } return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.linePlusBarChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var lines = nv.models.line() , bars = nv.models.historicalBar() , xAxis = nv.models.axis() , y1Axis = nv.models.axis() , y2Axis = nv.models.axis() , legend = nv.models.legend() ; var margin = {top: 30, right: 60, bottom: 50, left: 60} , width = null , height = null , getX = function(d) { return d.x } , getY = function(d) { return d.y } , color = nv.utils.defaultColor() , showLegend = true , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>'; } , x , y1 , y2 , state = {} , defaultState = null , noData = ""No Data Available."" , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') ; bars .padData(true) ; lines .clipEdge(false) .padData(true) ; xAxis .orient('bottom') .tickPadding(7) .highlightZero(false) ; y1Axis .orient('left') ; y2Axis .orient('right') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(lines.x()(e.point, e.pointIndex)), y = (e.series.bar ? y1Axis : y2Axis).tickFormat()(lines.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement); } ; //------------------------------------------------------------ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().call(chart); }; // chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales var dataBars = data.filter(function(d) { return !d.disabled && d.bar }); var dataLines = data.filter(function(d) { return !d.bar }); // removed the !d.disabled clause here to fix Issue #240 //x = xAxis.scale(); x = dataLines.filter(function(d) { return !d.disabled; }).length && dataLines.filter(function(d) { return !d.disabled; })[0].values.length ? lines.xScale() : bars.xScale(); //x = dataLines.filter(function(d) { return !d.disabled; }).length ? lines.xScale() : bars.xScale(); //old code before change above y1 = bars.yScale(); y2 = lines.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = d3.select(this).selectAll('g.nv-wrap.nv-linePlusBar').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-linePlusBar').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y1 nv-axis'); gEnter.append('g').attr('class', 'nv-y2 nv-axis'); gEnter.append('g').attr('class', 'nv-barsWrap'); gEnter.append('g').attr('class', 'nv-linesWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width( availableWidth / 2 ); g.select('.nv-legendWrap') .datum(data.map(function(series) { series.originalKey = series.originalKey === undefined ? series.key : series.originalKey; series.key = series.originalKey + (series.bar ? ' (left axis)' : ' (right axis)'); return series; })) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.nv-legendWrap') .attr('transform', 'translate(' + ( availableWidth / 2 ) + ',' + (-margin.top) +')'); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ // Main Chart Component(s) lines .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && !data[i].bar })) bars .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && data[i].bar })) var barsWrap = g.select('.nv-barsWrap') .datum(dataBars.length ? dataBars : [{values:[]}]) var linesWrap = g.select('.nv-linesWrap') .datum(dataLines[0] && !dataLines[0].disabled ? dataLines : [{values:[]}] ); //.datum(!dataLines[0].disabled ? dataLines : [{values:dataLines[0].values.map(function(d) { return [d[0], null] }) }] ); d3.transition(barsWrap).call(bars); d3.transition(linesWrap).call(lines); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize(-availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y1.range()[0] + ')'); d3.transition(g.select('.nv-x.nv-axis')) .call(xAxis); y1Axis .scale(y1) .ticks( availableHeight / 36 ) .tickSize(-availableWidth, 0); d3.transition(g.select('.nv-y1.nv-axis')) .style('opacity', dataBars.length ? 1 : 0) .call(y1Axis); y2Axis .scale(y2) .ticks( availableHeight / 36 ) .tickSize(dataBars.length ? 0 : -availableWidth, 0); // Show the y2 rules only if y1 has none g.select('.nv-y2.nv-axis') .style('opacity', dataLines.length ? 1 : 0) .attr('transform', 'translate(' + availableWidth + ',0)'); //.attr('transform', 'translate(' + x.range()[1] + ',0)'); d3.transition(g.select('.nv-y2.nv-axis')) .call(y2Axis); //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { state = newState; dispatch.stateChange(state); chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ lines.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); bars.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); bars.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.legend = legend; chart.lines = lines; chart.bars = bars; chart.xAxis = xAxis; chart.y1Axis = y1Axis; chart.y2Axis = y2Axis; d3.rebind(chart, lines, 'defined', 'size', 'clipVoronoi', 'interpolate'); //TODO: consider rebinding x, y and some other stuff, and simply do soemthign lile bars.x(lines.x()), etc. //d3.rebind(chart, lines, 'x', 'y', 'size', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi', 'id'); chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; lines.x(_); bars.x(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; lines.y(_); bars.y(_); return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; //============================================================ return chart; } nv.models.lineWithFocusChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var lines = nv.models.line() , lines2 = nv.models.line() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , x2Axis = nv.models.axis() , y2Axis = nv.models.axis() , legend = nv.models.legend() , brush = d3.svg.brush() ; var margin = {top: 30, right: 30, bottom: 30, left: 60} , margin2 = {top: 0, right: 30, bottom: 20, left: 60} , color = nv.utils.defaultColor() , width = null , height = null , height2 = 100 , x , y , x2 , y2 , showLegend = true , brushExtent = null , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>' } , noData = ""No Data Available."" , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'brush') , transitionDuration = 250 ; lines .clipEdge(true) ; lines2 .interactive(false) ; xAxis .orient('bottom') .tickPadding(5) ; yAxis .orient('left') ; x2Axis .orient('bottom') .tickPadding(5) ; y2Axis .orient('left') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(lines.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(lines.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, null, null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight1 = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom - height2, availableHeight2 = height2 - margin2.top - margin2.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart) }; chart.container = this; //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight1 / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = lines.xScale(); y = lines.yScale(); x2 = lines2.xScale(); y2 = lines2.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-lineWithFocusChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-lineWithFocusChart').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-legendWrap'); var focusEnter = gEnter.append('g').attr('class', 'nv-focus'); focusEnter.append('g').attr('class', 'nv-x nv-axis'); focusEnter.append('g').attr('class', 'nv-y nv-axis'); focusEnter.append('g').attr('class', 'nv-linesWrap'); var contextEnter = gEnter.append('g').attr('class', 'nv-context'); contextEnter.append('g').attr('class', 'nv-x nv-axis'); contextEnter.append('g').attr('class', 'nv-y nv-axis'); contextEnter.append('g').attr('class', 'nv-linesWrap'); contextEnter.append('g').attr('class', 'nv-brushBackground'); contextEnter.append('g').attr('class', 'nv-x nv-brush'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width(availableWidth); g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight1 = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom - height2; } g.select('.nv-legendWrap') .attr('transform', 'translate(0,' + (-margin.top) +')') } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ // Main Chart Component(s) lines .width(availableWidth) .height(availableHeight1) .color( data .map(function(d,i) { return d.color || color(d, i); }) .filter(function(d,i) { return !data[i].disabled; }) ); lines2 .defined(lines.defined()) .width(availableWidth) .height(availableHeight2) .color( data .map(function(d,i) { return d.color || color(d, i); }) .filter(function(d,i) { return !data[i].disabled; }) ); g.select('.nv-context') .attr('transform', 'translate(0,' + ( availableHeight1 + margin.bottom + margin2.top) + ')') var contextLinesWrap = g.select('.nv-context .nv-linesWrap') .datum(data.filter(function(d) { return !d.disabled })) d3.transition(contextLinesWrap).call(lines2); //------------------------------------------------------------ /* var focusLinesWrap = g.select('.nv-focus .nv-linesWrap') .datum(data.filter(function(d) { return !d.disabled })) d3.transition(focusLinesWrap).call(lines); */ //------------------------------------------------------------ // Setup Main (Focus) Axes xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize(-availableHeight1, 0); yAxis .scale(y) .ticks( availableHeight1 / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-focus .nv-x.nv-axis') .attr('transform', 'translate(0,' + availableHeight1 + ')'); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Brush brush .x(x2) .on('brush', function() { //When brushing, turn off transitions because chart needs to change immediately. var oldTransition = chart.transitionDuration(); chart.transitionDuration(0); onBrush(); chart.transitionDuration(oldTransition); }); if (brushExtent) brush.extent(brushExtent); var brushBG = g.select('.nv-brushBackground').selectAll('g') .data([brushExtent || brush.extent()]) var brushBGenter = brushBG.enter() .append('g'); brushBGenter.append('rect') .attr('class', 'left') .attr('x', 0) .attr('y', 0) .attr('height', availableHeight2); brushBGenter.append('rect') .attr('class', 'right') .attr('x', 0) .attr('y', 0) .attr('height', availableHeight2); var gBrush = g.select('.nv-x.nv-brush') .call(brush); gBrush.selectAll('rect') //.attr('y', -5) .attr('height', availableHeight2); gBrush.selectAll('.resize').append('path').attr('d', resizePath); onBrush(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Secondary (Context) Axes x2Axis .scale(x2) .ticks( availableWidth / 100 ) .tickSize(-availableHeight2, 0); g.select('.nv-context .nv-x.nv-axis') .attr('transform', 'translate(0,' + y2.range()[0] + ')'); d3.transition(g.select('.nv-context .nv-x.nv-axis')) .call(x2Axis); y2Axis .scale(y2) .ticks( availableHeight2 / 36 ) .tickSize( -availableWidth, 0); d3.transition(g.select('.nv-context .nv-y.nv-axis')) .call(y2Axis); g.select('.nv-context .nv-x.nv-axis') .attr('transform', 'translate(0,' + y2.range()[0] + ')'); //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); //============================================================ //============================================================ // Functions //------------------------------------------------------------ // Taken from crossfilter (http://square.github.com/crossfilter/) function resizePath(d) { var e = +(d == 'e'), x = e ? 1 : -1, y = availableHeight2 / 3; return 'M' + (.5 * x) + ',' + y + 'A6,6 0 0 ' + e + ' ' + (6.5 * x) + ',' + (y + 6) + 'V' + (2 * y - 6) + 'A6,6 0 0 ' + e + ' ' + (.5 * x) + ',' + (2 * y) + 'Z' + 'M' + (2.5 * x) + ',' + (y + 8) + 'V' + (2 * y - 8) + 'M' + (4.5 * x) + ',' + (y + 8) + 'V' + (2 * y - 8); } function updateBrushBG() { if (!brush.empty()) brush.extent(brushExtent); brushBG .data([brush.empty() ? x2.domain() : brushExtent]) .each(function(d,i) { var leftWidth = x2(d[0]) - x.range()[0], rightWidth = x.range()[1] - x2(d[1]); d3.select(this).select('.left') .attr('width', leftWidth < 0 ? 0 : leftWidth); d3.select(this).select('.right') .attr('x', x2(d[1])) .attr('width', rightWidth < 0 ? 0 : rightWidth); }); } function onBrush() { brushExtent = brush.empty() ? null : brush.extent(); var extent = brush.empty() ? x2.domain() : brush.extent(); //The brush extent cannot be less than one. If it is, don't update the line chart. if (Math.abs(extent[0] - extent[1]) <= 1) { return; } dispatch.brush({extent: extent, brush: brush}); updateBrushBG(); // Update Main (Focus) var focusLinesWrap = g.select('.nv-focus .nv-linesWrap') .datum( data .filter(function(d) { return !d.disabled }) .map(function(d,i) { return { key: d.key, values: d.values.filter(function(d,i) { return lines.x()(d,i) >= extent[0] && lines.x()(d,i) <= extent[1]; }) } }) ); focusLinesWrap.transition().duration(transitionDuration).call(lines); // Update Main (Focus) Axes g.select('.nv-focus .nv-x.nv-axis').transition().duration(transitionDuration) .call(xAxis); g.select('.nv-focus .nv-y.nv-axis').transition().duration(transitionDuration) .call(yAxis); } //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ lines.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.legend = legend; chart.lines = lines; chart.lines2 = lines2; chart.xAxis = xAxis; chart.yAxis = yAxis; chart.x2Axis = x2Axis; chart.y2Axis = y2Axis; d3.rebind(chart, lines, 'defined', 'isArea', 'size', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi', 'id'); chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return lines.x; lines.x(_); lines2.x(_); return chart; }; chart.y = function(_) { if (!arguments.length) return lines.y; lines.y(_); lines2.y(_); return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.margin2 = function(_) { if (!arguments.length) return margin2; margin2 = _; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.height2 = function(_) { if (!arguments.length) return height2; height2 = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color =nv.utils.getColor(_); legend.color(color); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.interpolate = function(_) { if (!arguments.length) return lines.interpolate(); lines.interpolate(_); lines2.interpolate(_); return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; // Chart has multiple similar Axes, to prevent code duplication, probably need to link all axis functions manually like below chart.xTickFormat = function(_) { if (!arguments.length) return xAxis.tickFormat(); xAxis.tickFormat(_); x2Axis.tickFormat(_); return chart; }; chart.yTickFormat = function(_) { if (!arguments.length) return yAxis.tickFormat(); yAxis.tickFormat(_); y2Axis.tickFormat(_); return chart; }; chart.brushExtent = function(_) { if (!arguments.length) return brushExtent; brushExtent = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.linePlusBarWithFocusChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var lines = nv.models.line() , lines2 = nv.models.line() , bars = nv.models.historicalBar() , bars2 = nv.models.historicalBar() , xAxis = nv.models.axis() , x2Axis = nv.models.axis() , y1Axis = nv.models.axis() , y2Axis = nv.models.axis() , y3Axis = nv.models.axis() , y4Axis = nv.models.axis() , legend = nv.models.legend() , brush = d3.svg.brush() ; var margin = {top: 30, right: 30, bottom: 30, left: 60} , margin2 = {top: 0, right: 30, bottom: 20, left: 60} , width = null , height = null , height2 = 100 , getX = function(d) { return d.x } , getY = function(d) { return d.y } , color = nv.utils.defaultColor() , showLegend = true , extent , brushExtent = null , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>'; } , x , x2 , y1 , y2 , y3 , y4 , noData = ""No Data Available."" , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'brush') , transitionDuration = 0 ; lines .clipEdge(true) ; lines2 .interactive(false) ; xAxis .orient('bottom') .tickPadding(5) ; y1Axis .orient('left') ; y2Axis .orient('right') ; x2Axis .orient('bottom') .tickPadding(5) ; y3Axis .orient('left') ; y4Axis .orient('right') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { if (extent) { e.pointIndex += Math.ceil(extent[0]); } var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(lines.x()(e.point, e.pointIndex)), y = (e.series.bar ? y1Axis : y2Axis).tickFormat()(lines.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement); }; //------------------------------------------------------------ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight1 = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom - height2, availableHeight2 = height2 - margin2.top - margin2.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart); }; chart.container = this; //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight1 / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales var dataBars = data.filter(function(d) { return !d.disabled && d.bar }); var dataLines = data.filter(function(d) { return !d.bar }); // removed the !d.disabled clause here to fix Issue #240 x = bars.xScale(); x2 = x2Axis.scale(); y1 = bars.yScale(); y2 = lines.yScale(); y3 = bars2.yScale(); y4 = lines2.yScale(); var series1 = data .filter(function(d) { return !d.disabled && d.bar }) .map(function(d) { return d.values.map(function(d,i) { return { x: getX(d,i), y: getY(d,i) } }) }); var series2 = data .filter(function(d) { return !d.disabled && !d.bar }) .map(function(d) { return d.values.map(function(d,i) { return { x: getX(d,i), y: getY(d,i) } }) }); x .range([0, availableWidth]); x2 .domain(d3.extent(d3.merge(series1.concat(series2)), function(d) { return d.x } )) .range([0, availableWidth]); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-linePlusBar').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-linePlusBar').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-legendWrap'); var focusEnter = gEnter.append('g').attr('class', 'nv-focus'); focusEnter.append('g').attr('class', 'nv-x nv-axis'); focusEnter.append('g').attr('class', 'nv-y1 nv-axis'); focusEnter.append('g').attr('class', 'nv-y2 nv-axis'); focusEnter.append('g').attr('class', 'nv-barsWrap'); focusEnter.append('g').attr('class', 'nv-linesWrap'); var contextEnter = gEnter.append('g').attr('class', 'nv-context'); contextEnter.append('g').attr('class', 'nv-x nv-axis'); contextEnter.append('g').attr('class', 'nv-y1 nv-axis'); contextEnter.append('g').attr('class', 'nv-y2 nv-axis'); contextEnter.append('g').attr('class', 'nv-barsWrap'); contextEnter.append('g').attr('class', 'nv-linesWrap'); contextEnter.append('g').attr('class', 'nv-brushBackground'); contextEnter.append('g').attr('class', 'nv-x nv-brush'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width( availableWidth / 2 ); g.select('.nv-legendWrap') .datum(data.map(function(series) { series.originalKey = series.originalKey === undefined ? series.key : series.originalKey; series.key = series.originalKey + (series.bar ? ' (left axis)' : ' (right axis)'); return series; })) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight1 = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom - height2; } g.select('.nv-legendWrap') .attr('transform', 'translate(' + ( availableWidth / 2 ) + ',' + (-margin.top) +')'); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ // Context Components bars2 .width(availableWidth) .height(availableHeight2) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && data[i].bar })); lines2 .width(availableWidth) .height(availableHeight2) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && !data[i].bar })); var bars2Wrap = g.select('.nv-context .nv-barsWrap') .datum(dataBars.length ? dataBars : [{values:[]}]); var lines2Wrap = g.select('.nv-context .nv-linesWrap') .datum(!dataLines[0].disabled ? dataLines : [{values:[]}]); g.select('.nv-context') .attr('transform', 'translate(0,' + ( availableHeight1 + margin.bottom + margin2.top) + ')') bars2Wrap.transition().call(bars2); lines2Wrap.transition().call(lines2); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Brush brush .x(x2) .on('brush', onBrush); if (brushExtent) brush.extent(brushExtent); var brushBG = g.select('.nv-brushBackground').selectAll('g') .data([brushExtent || brush.extent()]) var brushBGenter = brushBG.enter() .append('g'); brushBGenter.append('rect') .attr('class', 'left') .attr('x', 0) .attr('y', 0) .attr('height', availableHeight2); brushBGenter.append('rect') .attr('class', 'right') .attr('x', 0) .attr('y', 0) .attr('height', availableHeight2); var gBrush = g.select('.nv-x.nv-brush') .call(brush); gBrush.selectAll('rect') //.attr('y', -5) .attr('height', availableHeight2); gBrush.selectAll('.resize').append('path').attr('d', resizePath); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Secondary (Context) Axes x2Axis .ticks( availableWidth / 100 ) .tickSize(-availableHeight2, 0); g.select('.nv-context .nv-x.nv-axis') .attr('transform', 'translate(0,' + y3.range()[0] + ')'); g.select('.nv-context .nv-x.nv-axis').transition() .call(x2Axis); y3Axis .scale(y3) .ticks( availableHeight2 / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-context .nv-y1.nv-axis') .style('opacity', dataBars.length ? 1 : 0) .attr('transform', 'translate(0,' + x2.range()[0] + ')'); g.select('.nv-context .nv-y1.nv-axis').transition() .call(y3Axis); y4Axis .scale(y4) .ticks( availableHeight2 / 36 ) .tickSize(dataBars.length ? 0 : -availableWidth, 0); // Show the y2 rules only if y1 has none g.select('.nv-context .nv-y2.nv-axis') .style('opacity', dataLines.length ? 1 : 0) .attr('transform', 'translate(' + x2.range()[1] + ',0)'); g.select('.nv-context .nv-y2.nv-axis').transition() .call(y4Axis); //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); //============================================================ //============================================================ // Functions //------------------------------------------------------------ // Taken from crossfilter (http://square.github.com/crossfilter/) function resizePath(d) { var e = +(d == 'e'), x = e ? 1 : -1, y = availableHeight2 / 3; return 'M' + (.5 * x) + ',' + y + 'A6,6 0 0 ' + e + ' ' + (6.5 * x) + ',' + (y + 6) + 'V' + (2 * y - 6) + 'A6,6 0 0 ' + e + ' ' + (.5 * x) + ',' + (2 * y) + 'Z' + 'M' + (2.5 * x) + ',' + (y + 8) + 'V' + (2 * y - 8) + 'M' + (4.5 * x) + ',' + (y + 8) + 'V' + (2 * y - 8); } function updateBrushBG() { if (!brush.empty()) brush.extent(brushExtent); brushBG .data([brush.empty() ? x2.domain() : brushExtent]) .each(function(d,i) { var leftWidth = x2(d[0]) - x2.range()[0], rightWidth = x2.range()[1] - x2(d[1]); d3.select(this).select('.left') .attr('width', leftWidth < 0 ? 0 : leftWidth); d3.select(this).select('.right') .attr('x', x2(d[1])) .attr('width', rightWidth < 0 ? 0 : rightWidth); }); } function onBrush() { brushExtent = brush.empty() ? null : brush.extent(); extent = brush.empty() ? x2.domain() : brush.extent(); dispatch.brush({extent: extent, brush: brush}); updateBrushBG(); //------------------------------------------------------------ // Prepare Main (Focus) Bars and Lines bars .width(availableWidth) .height(availableHeight1) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && data[i].bar })); lines .width(availableWidth) .height(availableHeight1) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled && !data[i].bar })); var focusBarsWrap = g.select('.nv-focus .nv-barsWrap') .datum(!dataBars.length ? [{values:[]}] : dataBars .map(function(d,i) { return { key: d.key, values: d.values.filter(function(d,i) { return bars.x()(d,i) >= extent[0] && bars.x()(d,i) <= extent[1]; }) } }) ); var focusLinesWrap = g.select('.nv-focus .nv-linesWrap') .datum(dataLines[0].disabled ? [{values:[]}] : dataLines .map(function(d,i) { return { key: d.key, values: d.values.filter(function(d,i) { return lines.x()(d,i) >= extent[0] && lines.x()(d,i) <= extent[1]; }) } }) ); //------------------------------------------------------------ //------------------------------------------------------------ // Update Main (Focus) X Axis if (dataBars.length) { x = bars.xScale(); } else { x = lines.xScale(); } xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize(-availableHeight1, 0); xAxis.domain([Math.ceil(extent[0]), Math.floor(extent[1])]); g.select('.nv-x.nv-axis').transition().duration(transitionDuration) .call(xAxis); //------------------------------------------------------------ //------------------------------------------------------------ // Update Main (Focus) Bars and Lines focusBarsWrap.transition().duration(transitionDuration).call(bars); focusLinesWrap.transition().duration(transitionDuration).call(lines); //------------------------------------------------------------ //------------------------------------------------------------ // Setup and Update Main (Focus) Y Axes g.select('.nv-focus .nv-x.nv-axis') .attr('transform', 'translate(0,' + y1.range()[0] + ')'); y1Axis .scale(y1) .ticks( availableHeight1 / 36 ) .tickSize(-availableWidth, 0); g.select('.nv-focus .nv-y1.nv-axis') .style('opacity', dataBars.length ? 1 : 0); y2Axis .scale(y2) .ticks( availableHeight1 / 36 ) .tickSize(dataBars.length ? 0 : -availableWidth, 0); // Show the y2 rules only if y1 has none g.select('.nv-focus .nv-y2.nv-axis') .style('opacity', dataLines.length ? 1 : 0) .attr('transform', 'translate(' + x.range()[1] + ',0)'); g.select('.nv-focus .nv-y1.nv-axis').transition().duration(transitionDuration) .call(y1Axis); g.select('.nv-focus .nv-y2.nv-axis').transition().duration(transitionDuration) .call(y2Axis); } //============================================================ onBrush(); }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ lines.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); bars.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); bars.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.legend = legend; chart.lines = lines; chart.lines2 = lines2; chart.bars = bars; chart.bars2 = bars2; chart.xAxis = xAxis; chart.x2Axis = x2Axis; chart.y1Axis = y1Axis; chart.y2Axis = y2Axis; chart.y3Axis = y3Axis; chart.y4Axis = y4Axis; d3.rebind(chart, lines, 'defined', 'size', 'clipVoronoi', 'interpolate'); //TODO: consider rebinding x, y and some other stuff, and simply do soemthign lile bars.x(lines.x()), etc. //d3.rebind(chart, lines, 'x', 'y', 'size', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi', 'id'); chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; lines.x(_); bars.x(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; lines.y(_); bars.y(_); return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.brushExtent = function(_) { if (!arguments.length) return brushExtent; brushExtent = _; return chart; }; //============================================================ return chart; } nv.models.multiBar = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , x = d3.scale.ordinal() , y = d3.scale.linear() , id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one , getX = function(d) { return d.x } , getY = function(d) { return d.y } , forceY = [0] // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove , clipEdge = true , stacked = false , stackOffset = 'zero' // options include 'silhouette', 'wiggle', 'expand', 'zero', or a custom function , color = nv.utils.defaultColor() , hideable = false , barColor = null // adding the ability to set the color for each rather than the whole group , disabled // used in conjunction with barColor to communicate from multiBarHorizontalChart what series are disabled , delay = 1200 , xDomain , yDomain , xRange , yRange , groupSpacing = 0.1 , dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0 //used to store previous scales ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); if(hideable && data.length) hideable = [{ values: data[0].values.map(function(d) { return { x: d.x, y: 0, series: d.series, size: 0.01 };} )}]; if (stacked) data = d3.layout.stack() .offset(stackOffset) .values(function(d){ return d.values }) .y(getY) (!data.length && hideable ? hideable : data); //add series index to each data point for reference data.forEach(function(series, i) { series.values.forEach(function(point) { point.series = i; }); }); //------------------------------------------------------------ // HACK for negative value stacking if (stacked) data[0].values.map(function(d,i) { var posBase = 0, negBase = 0; data.map(function(d) { var f = d.values[i] f.size = Math.abs(f.y); if (f.y<0) { f.y1 = negBase; negBase = negBase - f.size; } else { f.y1 = f.size + posBase; posBase = posBase + f.size; } }); }); //------------------------------------------------------------ // Setup Scales // remap and flatten the data for use in calculating the scales' domains var seriesData = (xDomain && yDomain) ? [] : // if we know xDomain and yDomain, no need to calculate data.map(function(d) { return d.values.map(function(d,i) { return { x: getX(d,i), y: getY(d,i), y0: d.y0, y1: d.y1 } }) }); x .domain(xDomain || d3.merge(seriesData).map(function(d) { return d.x })) .rangeBands(xRange || [0, availableWidth], groupSpacing); //y .domain(yDomain || d3.extent(d3.merge(seriesData).map(function(d) { return d.y + (stacked ? d.y1 : 0) }).concat(forceY))) y .domain(yDomain || d3.extent(d3.merge(seriesData).map(function(d) { return stacked ? (d.y > 0 ? d.y1 : d.y1 + d.y ) : d.y }).concat(forceY))) .range(yRange || [availableHeight, 0]); // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point if (x.domain()[0] === x.domain()[1]) x.domain()[0] ? x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01]) : x.domain([-1,1]); if (y.domain()[0] === y.domain()[1]) y.domain()[0] ? y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01]) : y.domain([-1,1]); x0 = x0 || x; y0 = y0 || y; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-multibar').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multibar'); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g') gEnter.append('g').attr('class', 'nv-groups'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ defsEnter.append('clipPath') .attr('id', 'nv-edge-clip-' + id) .append('rect'); wrap.select('#nv-edge-clip-' + id + ' rect') .attr('width', availableWidth) .attr('height', availableHeight); g .attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : ''); var groups = wrap.select('.nv-groups').selectAll('.nv-group') .data(function(d) { return d }, function(d,i) { return i }); groups.enter().append('g') .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6); groups.exit() .transition() .selectAll('rect.nv-bar') .delay(function(d,i) { return i * delay/ data[0].values.length; }) .attr('y', function(d) { return stacked ? y0(d.y0) : y0(0) }) .attr('height', 0) .remove(); groups .attr('class', function(d,i) { return 'nv-group nv-series-' + i }) .classed('hover', function(d) { return d.hover }) .style('fill', function(d,i){ return color(d, i) }) .style('stroke', function(d,i){ return color(d, i) }); groups .transition() .style('stroke-opacity', 1) .style('fill-opacity', .75); var bars = groups.selectAll('rect.nv-bar') .data(function(d) { return (hideable && !data.length) ? hideable.values : d.values }); bars.exit().remove(); var barsEnter = bars.enter().append('rect') .attr('class', function(d,i) { return getY(d,i) < 0 ? 'nv-bar negative' : 'nv-bar positive'}) .attr('x', function(d,i,j) { return stacked ? 0 : (j * x.rangeBand() / data.length ) }) .attr('y', function(d) { return y0(stacked ? d.y0 : 0) }) .attr('height', 0) .attr('width', x.rangeBand() / (stacked ? 1 : data.length) ) .attr('transform', function(d,i) { return 'translate(' + x(getX(d,i)) + ',0)'; }) ; bars .style('fill', function(d,i,j){ return color(d, j, i); }) .style('stroke', function(d,i,j){ return color(d, j, i); }) .on('mouseover', function(d,i) { //TODO: figure out why j works above, but not here d3.select(this).classed('hover', true); dispatch.elementMouseover({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (stacked ? data.length / 2 : d.series + .5) / data.length), y(getY(d,i) + (stacked ? d.y0 : 0))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); }) .on('mouseout', function(d,i) { d3.select(this).classed('hover', false); dispatch.elementMouseout({ value: getY(d,i), point: d, series: data[d.series], pointIndex: i, seriesIndex: d.series, e: d3.event }); }) .on('click', function(d,i) { dispatch.elementClick({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (stacked ? data.length / 2 : d.series + .5) / data.length), y(getY(d,i) + (stacked ? d.y0 : 0))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); d3.event.stopPropagation(); }) .on('dblclick', function(d,i) { dispatch.elementDblClick({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (stacked ? data.length / 2 : d.series + .5) / data.length), y(getY(d,i) + (stacked ? d.y0 : 0))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); d3.event.stopPropagation(); }); bars .attr('class', function(d,i) { return getY(d,i) < 0 ? 'nv-bar negative' : 'nv-bar positive'}) .transition() .attr('transform', function(d,i) { return 'translate(' + x(getX(d,i)) + ',0)'; }) if (barColor) { if (!disabled) disabled = data.map(function() { return true }); bars .style('fill', function(d,i,j) { return d3.rgb(barColor(d,i)).darker( disabled.map(function(d,i) { return i }).filter(function(d,i){ return !disabled[i] })[j] ).toString(); }) .style('stroke', function(d,i,j) { return d3.rgb(barColor(d,i)).darker( disabled.map(function(d,i) { return i }).filter(function(d,i){ return !disabled[i] })[j] ).toString(); }); } if (stacked) bars.transition() .delay(function(d,i) { return i * delay / data[0].values.length; }) .attr('y', function(d,i) { return y((stacked ? d.y1 : 0)); }) .attr('height', function(d,i) { return Math.max(Math.abs(y(d.y + (stacked ? d.y0 : 0)) - y((stacked ? d.y0 : 0))),1); }) .attr('x', function(d,i) { return stacked ? 0 : (d.series * x.rangeBand() / data.length ) }) .attr('width', x.rangeBand() / (stacked ? 1 : data.length) ); else bars.transition() .delay(function(d,i) { return i * delay/ data[0].values.length; }) .attr('x', function(d,i) { return d.series * x.rangeBand() / data.length }) .attr('width', x.rangeBand() / data.length) .attr('y', function(d,i) { return getY(d,i) < 0 ? y(0) : y(0) - y(getY(d,i)) < 1 ? y(0) - 1 : y(getY(d,i)) || 0; }) .attr('height', function(d,i) { return Math.max(Math.abs(y(getY(d,i)) - y(0)),1) || 0; }); //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.forceY = function(_) { if (!arguments.length) return forceY; forceY = _; return chart; }; chart.stacked = function(_) { if (!arguments.length) return stacked; stacked = _; return chart; }; chart.stackOffset = function(_) { if (!arguments.length) return stackOffset; stackOffset = _; return chart; }; chart.clipEdge = function(_) { if (!arguments.length) return clipEdge; clipEdge = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.barColor = function(_) { if (!arguments.length) return barColor; barColor = nv.utils.getColor(_); return chart; }; chart.disabled = function(_) { if (!arguments.length) return disabled; disabled = _; return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.hideable = function(_) { if (!arguments.length) return hideable; hideable = _; return chart; }; chart.delay = function(_) { if (!arguments.length) return delay; delay = _; return chart; }; chart.groupSpacing = function(_) { if (!arguments.length) return groupSpacing; groupSpacing = _; return chart; }; //============================================================ return chart; } nv.models.multiBarChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var multibar = nv.models.multiBar() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() , controls = nv.models.legend() ; var margin = {top: 30, right: 20, bottom: 50, left: 60} , width = null , height = null , color = nv.utils.defaultColor() , showControls = true , showLegend = true , showXAxis = true , showYAxis = true , rightAlignYAxis = false , reduceXTicks = true // if false a tick will show for every data point , staggerLabels = false , rotateLabels = 0 , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' on ' + x + '</p>' } , x //can be accessed via chart.xScale() , y //can be accessed via chart.yScale() , state = { stacked: false } , defaultState = null , noData = ""No Data Available."" , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , controlWidth = function() { return showControls ? 180 : 0 } , transitionDuration = 250 ; multibar .stacked(false) ; xAxis .orient('bottom') .tickPadding(7) .highlightZero(true) .showMaxMin(false) .tickFormat(function(d) { return d }) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') .tickFormat(d3.format(',.1f')) ; controls.updateState(false); //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(multibar.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(multibar.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart) }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display noData message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = multibar.xScale(); y = multibar.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-multiBarWithLegend').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multiBarWithLegend').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-barsWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-controlsWrap'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width(availableWidth - controlWidth()); if (multibar.barColor()) data.forEach(function(series,i) { series.color = d3.rgb('#ccc').darker(i * 1.5).toString(); }) g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.nv-legendWrap') .attr('transform', 'translate(' + controlWidth() + ',' + (-margin.top) +')'); } //------------------------------------------------------------ //------------------------------------------------------------ // Controls if (showControls) { var controlsData = [ { key: 'Grouped', disabled: multibar.stacked() }, { key: 'Stacked', disabled: !multibar.stacked() } ]; controls.width(controlWidth()).color(['#444', '#444', '#444']); g.select('.nv-controlsWrap') .datum(controlsData) .attr('transform', 'translate(0,' + (-margin.top) +')') .call(controls); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ // Main Chart Component(s) multibar .disabled(data.map(function(series) { return series.disabled })) .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })) var barsWrap = g.select('.nv-barsWrap') .datum(data.filter(function(d) { return !d.disabled })) barsWrap.transition().call(multibar); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize(-availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y.range()[0] + ')'); g.select('.nv-x.nv-axis').transition() .call(xAxis); var xTicks = g.select('.nv-x.nv-axis > g').selectAll('g'); xTicks .selectAll('line, text') .style('opacity', 1) if (staggerLabels) { var getTranslate = function(x,y) { return ""translate("" + x + "","" + y + "")""; }; var staggerUp = 5, staggerDown = 17; //pixels to stagger by // Issue #140 xTicks .selectAll(""text"") .attr('transform', function(d,i,j) { return getTranslate(0, (j % 2 == 0 ? staggerUp : staggerDown)); }); var totalInBetweenTicks = d3.selectAll("".nv-x.nv-axis .nv-wrap g g text"")[0].length; g.selectAll("".nv-x.nv-axis .nv-axisMaxMin text"") .attr(""transform"", function(d,i) { return getTranslate(0, (i === 0 || totalInBetweenTicks % 2 !== 0) ? staggerDown : staggerUp); }); } if (reduceXTicks) xTicks .filter(function(d,i) { return i % Math.ceil(data[0].values.length / (availableWidth / 100)) !== 0; }) .selectAll('text, line') .style('opacity', 0); if(rotateLabels) xTicks .selectAll('.tick text') .attr('transform', 'rotate(' + rotateLabels + ' 0,0)') .style('text-anchor', rotateLabels > 0 ? 'start' : 'end'); g.select('.nv-x.nv-axis').selectAll('g.nv-axisMaxMin text') .style('opacity', 1); } if (showYAxis) { yAxis .scale(y) .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-y.nv-axis').transition() .call(yAxis); } //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { state = newState; dispatch.stateChange(state); chart.update(); }); controls.dispatch.on('legendClick', function(d,i) { if (!d.disabled) return; controlsData = controlsData.map(function(s) { s.disabled = true; return s; }); d.disabled = false; switch (d.key) { case 'Grouped': multibar.stacked(false); break; case 'Stacked': multibar.stacked(true); break; } state.stacked = multibar.stacked(); dispatch.stateChange(state); chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode) }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } if (typeof e.stacked !== 'undefined') { multibar.stacked(e.stacked); state.stacked = e.stacked; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ multibar.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); multibar.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.multibar = multibar; chart.legend = legend; chart.xAxis = xAxis; chart.yAxis = yAxis; d3.rebind(chart, multibar, 'x', 'y', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'clipEdge', 'id', 'stacked', 'stackOffset', 'delay', 'barColor','groupSpacing'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.showControls = function(_) { if (!arguments.length) return showControls; showControls = _; return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.reduceXTicks= function(_) { if (!arguments.length) return reduceXTicks; reduceXTicks = _; return chart; }; chart.rotateLabels = function(_) { if (!arguments.length) return rotateLabels; rotateLabels = _; return chart; } chart.staggerLabels = function(_) { if (!arguments.length) return staggerLabels; staggerLabels = _; return chart; }; chart.tooltip = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.multiBarHorizontal = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one , x = d3.scale.ordinal() , y = d3.scale.linear() , getX = function(d) { return d.x } , getY = function(d) { return d.y } , forceY = [0] // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove , color = nv.utils.defaultColor() , barColor = null // adding the ability to set the color for each rather than the whole group , disabled // used in conjunction with barColor to communicate from multiBarHorizontalChart what series are disabled , stacked = false , showValues = false , showBarLabels = false , valuePadding = 60 , valueFormat = d3.format(',.2f') , delay = 1200 , xDomain , yDomain , xRange , yRange , dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0 //used to store previous scales ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); if (stacked) data = d3.layout.stack() .offset('zero') .values(function(d){ return d.values }) .y(getY) (data); //add series index to each data point for reference data.forEach(function(series, i) { series.values.forEach(function(point) { point.series = i; }); }); //------------------------------------------------------------ // HACK for negative value stacking if (stacked) data[0].values.map(function(d,i) { var posBase = 0, negBase = 0; data.map(function(d) { var f = d.values[i] f.size = Math.abs(f.y); if (f.y<0) { f.y1 = negBase - f.size; negBase = negBase - f.size; } else { f.y1 = posBase; posBase = posBase + f.size; } }); }); //------------------------------------------------------------ // Setup Scales // remap and flatten the data for use in calculating the scales' domains var seriesData = (xDomain && yDomain) ? [] : // if we know xDomain and yDomain, no need to calculate data.map(function(d) { return d.values.map(function(d,i) { return { x: getX(d,i), y: getY(d,i), y0: d.y0, y1: d.y1 } }) }); x .domain(xDomain || d3.merge(seriesData).map(function(d) { return d.x })) .rangeBands(xRange || [0, availableHeight], .1); //y .domain(yDomain || d3.extent(d3.merge(seriesData).map(function(d) { return d.y + (stacked ? d.y0 : 0) }).concat(forceY))) y .domain(yDomain || d3.extent(d3.merge(seriesData).map(function(d) { return stacked ? (d.y > 0 ? d.y1 + d.y : d.y1 ) : d.y }).concat(forceY))) if (showValues && !stacked) y.range(yRange || [(y.domain()[0] < 0 ? valuePadding : 0), availableWidth - (y.domain()[1] > 0 ? valuePadding : 0) ]); else y.range(yRange || [0, availableWidth]); x0 = x0 || x; y0 = y0 || d3.scale.linear().domain(y.domain()).range([y(0),y(0)]); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = d3.select(this).selectAll('g.nv-wrap.nv-multibarHorizontal').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multibarHorizontal'); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-groups'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ var groups = wrap.select('.nv-groups').selectAll('.nv-group') .data(function(d) { return d }, function(d,i) { return i }); groups.enter().append('g') .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6); groups.exit().transition() .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6) .remove(); groups .attr('class', function(d,i) { return 'nv-group nv-series-' + i }) .classed('hover', function(d) { return d.hover }) .style('fill', function(d,i){ return color(d, i) }) .style('stroke', function(d,i){ return color(d, i) }); groups.transition() .style('stroke-opacity', 1) .style('fill-opacity', .75); var bars = groups.selectAll('g.nv-bar') .data(function(d) { return d.values }); bars.exit().remove(); var barsEnter = bars.enter().append('g') .attr('transform', function(d,i,j) { return 'translate(' + y0(stacked ? d.y0 : 0) + ',' + (stacked ? 0 : (j * x.rangeBand() / data.length ) + x(getX(d,i))) + ')' }); barsEnter.append('rect') .attr('width', 0) .attr('height', x.rangeBand() / (stacked ? 1 : data.length) ) bars .on('mouseover', function(d,i) { //TODO: figure out why j works above, but not here d3.select(this).classed('hover', true); dispatch.elementMouseover({ value: getY(d,i), point: d, series: data[d.series], pos: [ y(getY(d,i) + (stacked ? d.y0 : 0)), x(getX(d,i)) + (x.rangeBand() * (stacked ? data.length / 2 : d.series + .5) / data.length) ], pointIndex: i, seriesIndex: d.series, e: d3.event }); }) .on('mouseout', function(d,i) { d3.select(this).classed('hover', false); dispatch.elementMouseout({ value: getY(d,i), point: d, series: data[d.series], pointIndex: i, seriesIndex: d.series, e: d3.event }); }) .on('click', function(d,i) { dispatch.elementClick({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (stacked ? data.length / 2 : d.series + .5) / data.length), y(getY(d,i) + (stacked ? d.y0 : 0))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); d3.event.stopPropagation(); }) .on('dblclick', function(d,i) { dispatch.elementDblClick({ value: getY(d,i), point: d, series: data[d.series], pos: [x(getX(d,i)) + (x.rangeBand() * (stacked ? data.length / 2 : d.series + .5) / data.length), y(getY(d,i) + (stacked ? d.y0 : 0))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: d.series, e: d3.event }); d3.event.stopPropagation(); }); barsEnter.append('text'); if (showValues && !stacked) { bars.select('text') .attr('text-anchor', function(d,i) { return getY(d,i) < 0 ? 'end' : 'start' }) .attr('y', x.rangeBand() / (data.length * 2)) .attr('dy', '.32em') .text(function(d,i) { return valueFormat(getY(d,i)) }) bars.transition() .select('text') .attr('x', function(d,i) { return getY(d,i) < 0 ? -4 : y(getY(d,i)) - y(0) + 4 }) } else { bars.selectAll('text').text(''); } if (showBarLabels && !stacked) { barsEnter.append('text').classed('nv-bar-label',true); bars.select('text.nv-bar-label') .attr('text-anchor', function(d,i) { return getY(d,i) < 0 ? 'start' : 'end' }) .attr('y', x.rangeBand() / (data.length * 2)) .attr('dy', '.32em') .text(function(d,i) { return getX(d,i) }); bars.transition() .select('text.nv-bar-label') .attr('x', function(d,i) { return getY(d,i) < 0 ? y(0) - y(getY(d,i)) + 4 : -4 }); } else { bars.selectAll('text.nv-bar-label').text(''); } bars .attr('class', function(d,i) { return getY(d,i) < 0 ? 'nv-bar negative' : 'nv-bar positive'}) if (barColor) { if (!disabled) disabled = data.map(function() { return true }); bars .style('fill', function(d,i,j) { return d3.rgb(barColor(d,i)).darker( disabled.map(function(d,i) { return i }).filter(function(d,i){ return !disabled[i] })[j] ).toString(); }) .style('stroke', function(d,i,j) { return d3.rgb(barColor(d,i)).darker( disabled.map(function(d,i) { return i }).filter(function(d,i){ return !disabled[i] })[j] ).toString(); }); } if (stacked) bars.transition() .attr('transform', function(d,i) { return 'translate(' + y(d.y1) + ',' + x(getX(d,i)) + ')' }) .select('rect') .attr('width', function(d,i) { return Math.abs(y(getY(d,i) + d.y0) - y(d.y0)) }) .attr('height', x.rangeBand() ); else bars.transition() .attr('transform', function(d,i) { //TODO: stacked must be all positive or all negative, not both? return 'translate(' + (getY(d,i) < 0 ? y(getY(d,i)) : y(0)) + ',' + (d.series * x.rangeBand() / data.length + x(getX(d,i)) ) + ')' }) .select('rect') .attr('height', x.rangeBand() / data.length ) .attr('width', function(d,i) { return Math.max(Math.abs(y(getY(d,i)) - y(0)),1) }); //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.forceY = function(_) { if (!arguments.length) return forceY; forceY = _; return chart; }; chart.stacked = function(_) { if (!arguments.length) return stacked; stacked = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.barColor = function(_) { if (!arguments.length) return barColor; barColor = nv.utils.getColor(_); return chart; }; chart.disabled = function(_) { if (!arguments.length) return disabled; disabled = _; return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.delay = function(_) { if (!arguments.length) return delay; delay = _; return chart; }; chart.showValues = function(_) { if (!arguments.length) return showValues; showValues = _; return chart; }; chart.showBarLabels = function(_) { if (!arguments.length) return showBarLabels; showBarLabels = _; return chart; }; chart.valueFormat= function(_) { if (!arguments.length) return valueFormat; valueFormat = _; return chart; }; chart.valuePadding = function(_) { if (!arguments.length) return valuePadding; valuePadding = _; return chart; }; //============================================================ return chart; } nv.models.multiBarHorizontalChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var multibar = nv.models.multiBarHorizontal() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend().height(30) , controls = nv.models.legend().height(30) ; var margin = {top: 30, right: 20, bottom: 50, left: 60} , width = null , height = null , color = nv.utils.defaultColor() , showControls = true , showLegend = true , showXAxis = true , showYAxis = true , stacked = false , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + ' - ' + x + '</h3>' + '<p>' + y + '</p>' } , x //can be accessed via chart.xScale() , y //can be accessed via chart.yScale() , state = { stacked: stacked } , defaultState = null , noData = 'No Data Available.' , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , controlWidth = function() { return showControls ? 180 : 0 } , transitionDuration = 250 ; multibar .stacked(stacked) ; xAxis .orient('left') .tickPadding(5) .highlightZero(false) .showMaxMin(false) .tickFormat(function(d) { return d }) ; yAxis .orient('bottom') .tickFormat(d3.format(',.1f')) ; controls.updateState(false); //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(multibar.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(multibar.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'e' : 'w', null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart) }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = multibar.xScale(); y = multibar.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-multiBarHorizontalChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multiBarHorizontalChart').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis') .append('g').attr('class', 'nv-zeroLine') .append('line'); gEnter.append('g').attr('class', 'nv-barsWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-controlsWrap'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width(availableWidth - controlWidth()); if (multibar.barColor()) data.forEach(function(series,i) { series.color = d3.rgb('#ccc').darker(i * 1.5).toString(); }) g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.nv-legendWrap') .attr('transform', 'translate(' + controlWidth() + ',' + (-margin.top) +')'); } //------------------------------------------------------------ //------------------------------------------------------------ // Controls if (showControls) { var controlsData = [ { key: 'Grouped', disabled: multibar.stacked() }, { key: 'Stacked', disabled: !multibar.stacked() } ]; controls.width(controlWidth()).color(['#444', '#444', '#444']); g.select('.nv-controlsWrap') .datum(controlsData) .attr('transform', 'translate(0,' + (-margin.top) +')') .call(controls); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ // Main Chart Component(s) multibar .disabled(data.map(function(series) { return series.disabled })) .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })) var barsWrap = g.select('.nv-barsWrap') .datum(data.filter(function(d) { return !d.disabled })) barsWrap.transition().call(multibar); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( availableHeight / 24 ) .tickSize(-availableWidth, 0); g.select('.nv-x.nv-axis').transition() .call(xAxis); var xTicks = g.select('.nv-x.nv-axis').selectAll('g'); xTicks .selectAll('line, text'); } if (showYAxis) { yAxis .scale(y) .ticks( availableWidth / 100 ) .tickSize( -availableHeight, 0); g.select('.nv-y.nv-axis') .attr('transform', 'translate(0,' + availableHeight + ')'); g.select('.nv-y.nv-axis').transition() .call(yAxis); } // Zero line g.select("".nv-zeroLine line"") .attr(""x1"", y(0)) .attr(""x2"", y(0)) .attr(""y1"", 0) .attr(""y2"", -availableHeight) ; //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { state = newState; dispatch.stateChange(state); chart.update(); }); controls.dispatch.on('legendClick', function(d,i) { if (!d.disabled) return; controlsData = controlsData.map(function(s) { s.disabled = true; return s; }); d.disabled = false; switch (d.key) { case 'Grouped': multibar.stacked(false); break; case 'Stacked': multibar.stacked(true); break; } state.stacked = multibar.stacked(); dispatch.stateChange(state); chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } if (typeof e.stacked !== 'undefined') { multibar.stacked(e.stacked); state.stacked = e.stacked; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ multibar.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); multibar.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.multibar = multibar; chart.legend = legend; chart.xAxis = xAxis; chart.yAxis = yAxis; d3.rebind(chart, multibar, 'x', 'y', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'clipEdge', 'id', 'delay', 'showValues','showBarLabels', 'valueFormat', 'stacked', 'barColor'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); return chart; }; chart.showControls = function(_) { if (!arguments.length) return showControls; showControls = _; return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.tooltip = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.multiChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 30, right: 20, bottom: 50, left: 60}, color = d3.scale.category20().range(), width = null, height = null, showLegend = true, tooltips = true, tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' at ' + x + '</p>' }, x, y, yDomain1, yDomain2 ; //can be accessed via chart.lines.[x/y]Scale() //============================================================ // Private Variables //------------------------------------------------------------ var x = d3.scale.linear(), yScale1 = d3.scale.linear(), yScale2 = d3.scale.linear(), lines1 = nv.models.line().yScale(yScale1), lines2 = nv.models.line().yScale(yScale2), bars1 = nv.models.multiBar().stacked(false).yScale(yScale1), bars2 = nv.models.multiBar().stacked(false).yScale(yScale2), stack1 = nv.models.stackedArea().yScale(yScale1), stack2 = nv.models.stackedArea().yScale(yScale2), xAxis = nv.models.axis().scale(x).orient('bottom').tickPadding(5), yAxis1 = nv.models.axis().scale(yScale1).orient('left'), yAxis2 = nv.models.axis().scale(yScale2).orient('right'), legend = nv.models.legend().height(30), dispatch = d3.dispatch('tooltipShow', 'tooltipHide'); var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(lines1.x()(e.point, e.pointIndex)), y = ((e.series.yAxis == 2) ? yAxis2 : yAxis1).tickFormat()(lines1.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, undefined, undefined, offsetElement.offsetParent); }; function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; chart.update = function() { container.transition().call(chart); }; chart.container = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; var dataLines1 = data.filter(function(d) {return !d.disabled && d.type == 'line' && d.yAxis == 1}) var dataLines2 = data.filter(function(d) {return !d.disabled && d.type == 'line' && d.yAxis == 2}) var dataBars1 = data.filter(function(d) {return !d.disabled && d.type == 'bar' && d.yAxis == 1}) var dataBars2 = data.filter(function(d) {return !d.disabled && d.type == 'bar' && d.yAxis == 2}) var dataStack1 = data.filter(function(d) {return !d.disabled && d.type == 'area' && d.yAxis == 1}) var dataStack2 = data.filter(function(d) {return !d.disabled && d.type == 'area' && d.yAxis == 2}) var series1 = data.filter(function(d) {return !d.disabled && d.yAxis == 1}) .map(function(d) { return d.values.map(function(d,i) { return { x: d.x, y: d.y } }) }) var series2 = data.filter(function(d) {return !d.disabled && d.yAxis == 2}) .map(function(d) { return d.values.map(function(d,i) { return { x: d.x, y: d.y } }) }) x .domain(d3.extent(d3.merge(series1.concat(series2)), function(d) { return d.x } )) .range([0, availableWidth]); var wrap = container.selectAll('g.wrap.multiChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'wrap nvd3 multiChart').append('g'); gEnter.append('g').attr('class', 'x axis'); gEnter.append('g').attr('class', 'y1 axis'); gEnter.append('g').attr('class', 'y2 axis'); gEnter.append('g').attr('class', 'lines1Wrap'); gEnter.append('g').attr('class', 'lines2Wrap'); gEnter.append('g').attr('class', 'bars1Wrap'); gEnter.append('g').attr('class', 'bars2Wrap'); gEnter.append('g').attr('class', 'stack1Wrap'); gEnter.append('g').attr('class', 'stack2Wrap'); gEnter.append('g').attr('class', 'legendWrap'); var g = wrap.select('g'); if (showLegend) { legend.width( availableWidth / 2 ); g.select('.legendWrap') .datum(data.map(function(series) { series.originalKey = series.originalKey === undefined ? series.key : series.originalKey; series.key = series.originalKey + (series.yAxis == 1 ? '' : ' (right axis)'); return series; })) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.legendWrap') .attr('transform', 'translate(' + ( availableWidth / 2 ) + ',' + (-margin.top) +')'); } lines1 .width(availableWidth) .height(availableHeight) .interpolate(""monotone"") .color(data.map(function(d,i) { return d.color || color[i % color.length]; }).filter(function(d,i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'line'})); lines2 .width(availableWidth) .height(availableHeight) .interpolate(""monotone"") .color(data.map(function(d,i) { return d.color || color[i % color.length]; }).filter(function(d,i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'line'})); bars1 .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color[i % color.length]; }).filter(function(d,i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'bar'})); bars2 .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color[i % color.length]; }).filter(function(d,i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'bar'})); stack1 .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color[i % color.length]; }).filter(function(d,i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'area'})); stack2 .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color[i % color.length]; }).filter(function(d,i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'area'})); g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); var lines1Wrap = g.select('.lines1Wrap') .datum(dataLines1) var bars1Wrap = g.select('.bars1Wrap') .datum(dataBars1) var stack1Wrap = g.select('.stack1Wrap') .datum(dataStack1) var lines2Wrap = g.select('.lines2Wrap') .datum(dataLines2) var bars2Wrap = g.select('.bars2Wrap') .datum(dataBars2) var stack2Wrap = g.select('.stack2Wrap') .datum(dataStack2) var extraValue1 = dataStack1.length ? dataStack1.map(function(a){return a.values}).reduce(function(a,b){ return a.map(function(aVal,i){return {x: aVal.x, y: aVal.y + b[i].y}}) }).concat([{x:0, y:0}]) : [] var extraValue2 = dataStack2.length ? dataStack2.map(function(a){return a.values}).reduce(function(a,b){ return a.map(function(aVal,i){return {x: aVal.x, y: aVal.y + b[i].y}}) }).concat([{x:0, y:0}]) : [] yScale1 .domain(yDomain1 || d3.extent(d3.merge(series1).concat(extraValue1), function(d) { return d.y } )) .range([0, availableHeight]) yScale2 .domain(yDomain2 || d3.extent(d3.merge(series2).concat(extraValue2), function(d) { return d.y } )) .range([0, availableHeight]) lines1.yDomain(yScale1.domain()) bars1.yDomain(yScale1.domain()) stack1.yDomain(yScale1.domain()) lines2.yDomain(yScale2.domain()) bars2.yDomain(yScale2.domain()) stack2.yDomain(yScale2.domain()) if(dataStack1.length){d3.transition(stack1Wrap).call(stack1);} if(dataStack2.length){d3.transition(stack2Wrap).call(stack2);} if(dataBars1.length){d3.transition(bars1Wrap).call(bars1);} if(dataBars2.length){d3.transition(bars2Wrap).call(bars2);} if(dataLines1.length){d3.transition(lines1Wrap).call(lines1);} if(dataLines2.length){d3.transition(lines2Wrap).call(lines2);} xAxis .ticks( availableWidth / 100 ) .tickSize(-availableHeight, 0); g.select('.x.axis') .attr('transform', 'translate(0,' + availableHeight + ')'); d3.transition(g.select('.x.axis')) .call(xAxis); yAxis1 .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); d3.transition(g.select('.y1.axis')) .call(yAxis1); yAxis2 .ticks( availableHeight / 36 ) .tickSize( -availableWidth, 0); d3.transition(g.select('.y2.axis')) .call(yAxis2); g.select('.y2.axis') .style('opacity', series2.length ? 1 : 0) .attr('transform', 'translate(' + x.range()[1] + ',0)'); legend.dispatch.on('stateChange', function(newState) { chart.update(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ lines1.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines1.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); lines2.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines2.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); bars1.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); bars1.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); bars2.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); bars2.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); stack1.dispatch.on('tooltipShow', function(e) { //disable tooltips when value ~= 0 //// TODO: consider removing points from voronoi that have 0 value instead of this hack if (!Math.round(stack1.y()(e.point) * 100)) { // 100 will not be good for very small numbers... will have to think about making this valu dynamic, based on data range setTimeout(function() { d3.selectAll('.point.hover').classed('hover', false) }, 0); return false; } e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top], dispatch.tooltipShow(e); }); stack1.dispatch.on('tooltipHide', function(e) { dispatch.tooltipHide(e); }); stack2.dispatch.on('tooltipShow', function(e) { //disable tooltips when value ~= 0 //// TODO: consider removing points from voronoi that have 0 value instead of this hack if (!Math.round(stack2.y()(e.point) * 100)) { // 100 will not be good for very small numbers... will have to think about making this valu dynamic, based on data range setTimeout(function() { d3.selectAll('.point.hover').classed('hover', false) }, 0); return false; } e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top], dispatch.tooltipShow(e); }); stack2.dispatch.on('tooltipHide', function(e) { dispatch.tooltipHide(e); }); lines1.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines1.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); lines2.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); lines2.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ // Global getters and setters //------------------------------------------------------------ chart.dispatch = dispatch; chart.lines1 = lines1; chart.lines2 = lines2; chart.bars1 = bars1; chart.bars2 = bars2; chart.stack1 = stack1; chart.stack2 = stack2; chart.xAxis = xAxis; chart.yAxis1 = yAxis1; chart.yAxis2 = yAxis2; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; lines1.x(_); bars1.x(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; lines1.y(_); bars1.y(_); return chart; }; chart.yDomain1 = function(_) { if (!arguments.length) return yDomain1; yDomain1 = _; return chart; }; chart.yDomain2 = function(_) { if (!arguments.length) return yDomain2; yDomain2 = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin = _; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = _; legend.color(_); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; return chart; } nv.models.ohlcBar = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one , x = d3.scale.linear() , y = d3.scale.linear() , getX = function(d) { return d.x } , getY = function(d) { return d.y } , getOpen = function(d) { return d.open } , getClose = function(d) { return d.close } , getHigh = function(d) { return d.high } , getLow = function(d) { return d.low } , forceX = [] , forceY = [] , padData = false // If true, adds half a data points width to front and back, for lining up a line chart with a bar chart , clipEdge = true , color = nv.utils.defaultColor() , xDomain , yDomain , xRange , yRange , dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ //TODO: store old scales for transitions //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //------------------------------------------------------------ // Setup Scales x .domain(xDomain || d3.extent(data[0].values.map(getX).concat(forceX) )); if (padData) x.range(xRange || [availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5) / data[0].values.length ]); else x.range(xRange || [0, availableWidth]); y .domain(yDomain || [ d3.min(data[0].values.map(getLow).concat(forceY)), d3.max(data[0].values.map(getHigh).concat(forceY)) ]) .range(yRange || [availableHeight, 0]); // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point if (x.domain()[0] === x.domain()[1]) x.domain()[0] ? x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01]) : x.domain([-1,1]); if (y.domain()[0] === y.domain()[1]) y.domain()[0] ? y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01]) : y.domain([-1,1]); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = d3.select(this).selectAll('g.nv-wrap.nv-ohlcBar').data([data[0].values]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-ohlcBar'); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-ticks'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ container .on('click', function(d,i) { dispatch.chartClick({ data: d, index: i, pos: d3.event, id: id }); }); defsEnter.append('clipPath') .attr('id', 'nv-chart-clip-path-' + id) .append('rect'); wrap.select('#nv-chart-clip-path-' + id + ' rect') .attr('width', availableWidth) .attr('height', availableHeight); g .attr('clip-path', clipEdge ? 'url(#nv-chart-clip-path-' + id + ')' : ''); var ticks = wrap.select('.nv-ticks').selectAll('.nv-tick') .data(function(d) { return d }); ticks.exit().remove(); var ticksEnter = ticks.enter().append('path') .attr('class', function(d,i,j) { return (getOpen(d,i) > getClose(d,i) ? 'nv-tick negative' : 'nv-tick positive') + ' nv-tick-' + j + '-' + i }) .attr('d', function(d,i) { var w = (availableWidth / data[0].values.length) * .9; return 'm0,0l0,' + (y(getOpen(d,i)) - y(getHigh(d,i))) + 'l' + (-w/2) + ',0l' + (w/2) + ',0l0,' + (y(getLow(d,i)) - y(getOpen(d,i))) + 'l0,' + (y(getClose(d,i)) - y(getLow(d,i))) + 'l' + (w/2) + ',0l' + (-w/2) + ',0z'; }) .attr('transform', function(d,i) { return 'translate(' + x(getX(d,i)) + ',' + y(getHigh(d,i)) + ')'; }) //.attr('fill', function(d,i) { return color[0]; }) //.attr('stroke', function(d,i) { return color[0]; }) //.attr('x', 0 ) //.attr('y', function(d,i) { return y(Math.max(0, getY(d,i))) }) //.attr('height', function(d,i) { return Math.abs(y(getY(d,i)) - y(0)) }) .on('mouseover', function(d,i) { d3.select(this).classed('hover', true); dispatch.elementMouseover({ point: d, series: data[0], pos: [x(getX(d,i)), y(getY(d,i))], // TODO: Figure out why the value appears to be shifted pointIndex: i, seriesIndex: 0, e: d3.event }); }) .on('mouseout', function(d,i) { d3.select(this).classed('hover', false); dispatch.elementMouseout({ point: d, series: data[0], pointIndex: i, seriesIndex: 0, e: d3.event }); }) .on('click', function(d,i) { dispatch.elementClick({ //label: d[label], value: getY(d,i), data: d, index: i, pos: [x(getX(d,i)), y(getY(d,i))], e: d3.event, id: id }); d3.event.stopPropagation(); }) .on('dblclick', function(d,i) { dispatch.elementDblClick({ //label: d[label], value: getY(d,i), data: d, index: i, pos: [x(getX(d,i)), y(getY(d,i))], e: d3.event, id: id }); d3.event.stopPropagation(); }); ticks .attr('class', function(d,i,j) { return (getOpen(d,i) > getClose(d,i) ? 'nv-tick negative' : 'nv-tick positive') + ' nv-tick-' + j + '-' + i }) d3.transition(ticks) .attr('transform', function(d,i) { return 'translate(' + x(getX(d,i)) + ',' + y(getHigh(d,i)) + ')'; }) .attr('d', function(d,i) { var w = (availableWidth / data[0].values.length) * .9; return 'm0,0l0,' + (y(getOpen(d,i)) - y(getHigh(d,i))) + 'l' + (-w/2) + ',0l' + (w/2) + ',0l0,' + (y(getLow(d,i)) - y(getOpen(d,i))) + 'l0,' + (y(getClose(d,i)) - y(getLow(d,i))) + 'l' + (w/2) + ',0l' + (-w/2) + ',0z'; }) //.attr('width', (availableWidth / data[0].values.length) * .9 ) //d3.transition(ticks) //.attr('y', function(d,i) { return y(Math.max(0, getY(d,i))) }) //.attr('height', function(d,i) { return Math.abs(y(getY(d,i)) - y(0)) }); //.order(); // not sure if this makes any sense for this model }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = _; return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = _; return chart; }; chart.open = function(_) { if (!arguments.length) return getOpen; getOpen = _; return chart; }; chart.close = function(_) { if (!arguments.length) return getClose; getClose = _; return chart; }; chart.high = function(_) { if (!arguments.length) return getHigh; getHigh = _; return chart; }; chart.low = function(_) { if (!arguments.length) return getLow; getLow = _; return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.forceX = function(_) { if (!arguments.length) return forceX; forceX = _; return chart; }; chart.forceY = function(_) { if (!arguments.length) return forceY; forceY = _; return chart; }; chart.padData = function(_) { if (!arguments.length) return padData; padData = _; return chart; }; chart.clipEdge = function(_) { if (!arguments.length) return clipEdge; clipEdge = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; //============================================================ return chart; } nv.models.pie = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 500 , height = 500 , getX = function(d) { return d.x } , getY = function(d) { return d.y } , getDescription = function(d) { return d.description } , id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one , color = nv.utils.defaultColor() , valueFormat = d3.format(',.2f') , showLabels = true , pieLabelsOutside = true , donutLabelsOutside = false , labelType = ""key"" , labelThreshold = .02 //if slice percentage is under this, don't show label , donut = false , labelSunbeamLayout = false , startAngle = false , endAngle = false , donutRatio = 0.5 , dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout') ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, radius = Math.min(availableWidth, availableHeight) / 2, arcRadius = radius-(radius / 5), container = d3.select(this); //------------------------------------------------------------ // Setup containers and skeleton of chart //var wrap = container.selectAll('.nv-wrap.nv-pie').data([data]); var wrap = container.selectAll('.nv-wrap.nv-pie').data(data); var wrapEnter = wrap.enter().append('g').attr('class','nvd3 nv-wrap nv-pie nv-chart-' + id); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-pie'); gEnter.append('g').attr('class', 'nv-pieLabels'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); g.select('.nv-pie').attr('transform', 'translate(' + availableWidth / 2 + ',' + availableHeight / 2 + ')'); g.select('.nv-pieLabels').attr('transform', 'translate(' + availableWidth / 2 + ',' + availableHeight / 2 + ')'); //------------------------------------------------------------ container .on('click', function(d,i) { dispatch.chartClick({ data: d, index: i, pos: d3.event, id: id }); }); var arc = d3.svg.arc() .outerRadius(arcRadius); if (startAngle) arc.startAngle(startAngle) if (endAngle) arc.endAngle(endAngle); if (donut) arc.innerRadius(radius * donutRatio); // Setup the Pie chart and choose the data element var pie = d3.layout.pie() .sort(null) .value(function(d) { return d.disabled ? 0 : getY(d) }); var slices = wrap.select('.nv-pie').selectAll('.nv-slice') .data(pie); var pieLabels = wrap.select('.nv-pieLabels').selectAll('.nv-label') .data(pie); slices.exit().remove(); pieLabels.exit().remove(); var ae = slices.enter().append('g') .attr('class', 'nv-slice') .on('mouseover', function(d,i){ d3.select(this).classed('hover', true); dispatch.elementMouseover({ label: getX(d.data), value: getY(d.data), point: d.data, pointIndex: i, pos: [d3.event.pageX, d3.event.pageY], id: id }); }) .on('mouseout', function(d,i){ d3.select(this).classed('hover', false); dispatch.elementMouseout({ label: getX(d.data), value: getY(d.data), point: d.data, index: i, id: id }); }) .on('click', function(d,i) { dispatch.elementClick({ label: getX(d.data), value: getY(d.data), point: d.data, index: i, pos: d3.event, id: id }); d3.event.stopPropagation(); }) .on('dblclick', function(d,i) { dispatch.elementDblClick({ label: getX(d.data), value: getY(d.data), point: d.data, index: i, pos: d3.event, id: id }); d3.event.stopPropagation(); }); slices .attr('fill', function(d,i) { return color(d, i); }) .attr('stroke', function(d,i) { return color(d, i); }); var paths = ae.append('path') .each(function(d) { this._current = d; }); //.attr('d', arc); slices.select('path') .transition() .attr('d', arc) .attrTween('d', arcTween); if (showLabels) { // This does the normal label var labelsArc = d3.svg.arc().innerRadius(0); if (pieLabelsOutside){ labelsArc = arc; } if (donutLabelsOutside) { labelsArc = d3.svg.arc().outerRadius(arc.outerRadius()); } pieLabels.enter().append(""g"").classed(""nv-label"",true) .each(function(d,i) { var group = d3.select(this); group .attr('transform', function(d) { if (labelSunbeamLayout) { d.outerRadius = arcRadius + 10; // Set Outer Coordinate d.innerRadius = arcRadius + 15; // Set Inner Coordinate var rotateAngle = (d.startAngle + d.endAngle) / 2 * (180 / Math.PI); if ((d.startAngle+d.endAngle)/2 < Math.PI) { rotateAngle -= 90; } else { rotateAngle += 90; } return 'translate(' + labelsArc.centroid(d) + ') rotate(' + rotateAngle + ')'; } else { d.outerRadius = radius + 10; // Set Outer Coordinate d.innerRadius = radius + 15; // Set Inner Coordinate return 'translate(' + labelsArc.centroid(d) + ')' } }); group.append('rect') .style('stroke', '#fff') .style('fill', '#fff') .attr(""rx"", 3) .attr(""ry"", 3); group.append('text') .style('text-anchor', labelSunbeamLayout ? ((d.startAngle + d.endAngle) / 2 < Math.PI ? 'start' : 'end') : 'middle') //center the text on it's origin or begin/end if orthogonal aligned .style('fill', '#000') }); var labelLocationHash = {}; var avgHeight = 14; var avgWidth = 140; var createHashKey = function(coordinates) { return Math.floor(coordinates[0]/avgWidth) * avgWidth + ',' + Math.floor(coordinates[1]/avgHeight) * avgHeight; }; pieLabels.transition() .attr('transform', function(d) { if (labelSunbeamLayout) { d.outerRadius = arcRadius + 10; // Set Outer Coordinate d.innerRadius = arcRadius + 15; // Set Inner Coordinate var rotateAngle = (d.startAngle + d.endAngle) / 2 * (180 / Math.PI); if ((d.startAngle+d.endAngle)/2 < Math.PI) { rotateAngle -= 90; } else { rotateAngle += 90; } return 'translate(' + labelsArc.centroid(d) + ') rotate(' + rotateAngle + ')'; } else { d.outerRadius = radius + 10; // Set Outer Coordinate d.innerRadius = radius + 15; // Set Inner Coordinate /* Overlapping pie labels are not good. What this attempts to do is, prevent overlapping. Each label location is hashed, and if a hash collision occurs, we assume an overlap. Adjust the label's y-position to remove the overlap. */ var center = labelsArc.centroid(d); var hashKey = createHashKey(center); if (labelLocationHash[hashKey]) { center[1] -= avgHeight; } labelLocationHash[createHashKey(center)] = true; return 'translate(' + center + ')' } }); pieLabels.select("".nv-label text"") .style('text-anchor', labelSunbeamLayout ? ((d.startAngle + d.endAngle) / 2 < Math.PI ? 'start' : 'end') : 'middle') //center the text on it's origin or begin/end if orthogonal aligned .text(function(d, i) { var percent = (d.endAngle - d.startAngle) / (2 * Math.PI); var labelTypes = { ""key"" : getX(d.data), ""value"": getY(d.data), ""percent"": d3.format('%')(percent) }; return (d.value && percent > labelThreshold) ? labelTypes[labelType] : ''; }); } // Computes the angle of an arc, converting from radians to degrees. function angle(d) { var a = (d.startAngle + d.endAngle) * 90 / Math.PI - 90; return a > 90 ? a - 180 : a; } function arcTween(a) { a.endAngle = isNaN(a.endAngle) ? 0 : a.endAngle; a.startAngle = isNaN(a.startAngle) ? 0 : a.startAngle; if (!donut) a.innerRadius = 0; var i = d3.interpolate(this._current, a); this._current = i(0); return function(t) { return arc(i(t)); }; } function tweenPie(b) { b.innerRadius = 0; var i = d3.interpolate({startAngle: 0, endAngle: 0}, b); return function(t) { return arc(i(t)); }; } }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.values = function(_) { nv.log(""pie.values() is no longer supported.""); return chart; }; chart.x = function(_) { if (!arguments.length) return getX; getX = _; return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = d3.functor(_); return chart; }; chart.description = function(_) { if (!arguments.length) return getDescription; getDescription = _; return chart; }; chart.showLabels = function(_) { if (!arguments.length) return showLabels; showLabels = _; return chart; }; chart.labelSunbeamLayout = function(_) { if (!arguments.length) return labelSunbeamLayout; labelSunbeamLayout = _; return chart; }; chart.donutLabelsOutside = function(_) { if (!arguments.length) return donutLabelsOutside; donutLabelsOutside = _; return chart; }; chart.pieLabelsOutside = function(_) { if (!arguments.length) return pieLabelsOutside; pieLabelsOutside = _; return chart; }; chart.labelType = function(_) { if (!arguments.length) return labelType; labelType = _; labelType = labelType || ""key""; return chart; }; chart.donut = function(_) { if (!arguments.length) return donut; donut = _; return chart; }; chart.donutRatio = function(_) { if (!arguments.length) return donutRatio; donutRatio = _; return chart; }; chart.startAngle = function(_) { if (!arguments.length) return startAngle; startAngle = _; return chart; }; chart.endAngle = function(_) { if (!arguments.length) return endAngle; endAngle = _; return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.valueFormat = function(_) { if (!arguments.length) return valueFormat; valueFormat = _; return chart; }; chart.labelThreshold = function(_) { if (!arguments.length) return labelThreshold; labelThreshold = _; return chart; }; //============================================================ return chart; } nv.models.pieChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var pie = nv.models.pie() , legend = nv.models.legend() ; var margin = {top: 30, right: 20, bottom: 20, left: 20} , width = null , height = null , showLegend = true , color = nv.utils.defaultColor() , tooltips = true , tooltip = function(key, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + '</p>' } , state = {} , defaultState = null , noData = ""No Data Available."" , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var tooltipLabel = pie.description()(e.point) || pie.x()(e.point) var left = e.pos[0] + ( (offsetElement && offsetElement.offsetLeft) || 0 ), top = e.pos[1] + ( (offsetElement && offsetElement.offsetTop) || 0), y = pie.valueFormat()(pie.y()(e.point)), content = tooltip(tooltipLabel, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().call(chart); }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-pieChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-pieChart').append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-pieWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend .width( availableWidth ) .key(pie.x()); wrap.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } wrap.select('.nv-legendWrap') .attr('transform', 'translate(0,' + (-margin.top) +')'); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ // Main Chart Component(s) pie .width(availableWidth) .height(availableHeight); var pieWrap = g.select('.nv-pieWrap') .datum([data]); d3.transition(pieWrap).call(pie); //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ legend.dispatch.on('stateChange', function(newState) { state = newState; dispatch.stateChange(state); chart.update(); }); pie.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } chart.update(); }); //============================================================ }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ pie.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.legend = legend; chart.dispatch = dispatch; chart.pie = pie; d3.rebind(chart, pie, 'valueFormat', 'values', 'x', 'y', 'description', 'id', 'showLabels', 'donutLabelsOutside', 'pieLabelsOutside', 'labelType', 'donut', 'donutRatio', 'labelThreshold'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); pie.color(color); return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; //============================================================ return chart; } nv.models.scatter = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , color = nv.utils.defaultColor() // chooses color , id = Math.floor(Math.random() * 100000) //Create semi-unique ID incase user doesn't select one , x = d3.scale.linear() , y = d3.scale.linear() , z = d3.scale.linear() //linear because d3.svg.shape.size is treated as area , getX = function(d) { return d.x } // accessor to get the x value , getY = function(d) { return d.y } // accessor to get the y value , getSize = function(d) { return d.size || 1} // accessor to get the point size , getShape = function(d) { return d.shape || 'circle' } // accessor to get point shape , onlyCircles = true // Set to false to use shapes , forceX = [] // List of numbers to Force into the X scale (ie. 0, or a max / min, etc.) , forceY = [] // List of numbers to Force into the Y scale , forceSize = [] // List of numbers to Force into the Size scale , interactive = true // If true, plots a voronoi overlay for advanced point intersection , pointKey = null , pointActive = function(d) { return !d.notActive } // any points that return false will be filtered out , padData = false // If true, adds half a data points width to front and back, for lining up a line chart with a bar chart , padDataOuter = .1 //outerPadding to imitate ordinal scale outer padding , clipEdge = false // if true, masks points within x and y scale , clipVoronoi = true // if true, masks each point with a circle... can turn off to slightly increase performance , clipRadius = function() { return 25 } // function to get the radius for voronoi point clips , xDomain = null // Override x domain (skips the calculation from data) , yDomain = null // Override y domain , xRange = null // Override x range , yRange = null // Override y range , sizeDomain = null // Override point size domain , sizeRange = null , singlePoint = false , dispatch = d3.dispatch('elementClick', 'elementMouseover', 'elementMouseout') , useVoronoi = true ; //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0, z0 // used to store previous scales , timeoutID , needsUpdate = false // Flag for when the points are visually updating, but the interactive layer is behind, to disable tooltips ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //add series index to each data point for reference data.forEach(function(series, i) { series.values.forEach(function(point) { point.series = i; }); }); //------------------------------------------------------------ // Setup Scales // remap and flatten the data for use in calculating the scales' domains var seriesData = (xDomain && yDomain && sizeDomain) ? [] : // if we know xDomain and yDomain and sizeDomain, no need to calculate.... if Size is constant remember to set sizeDomain to speed up performance d3.merge( data.map(function(d) { return d.values.map(function(d,i) { return { x: getX(d,i), y: getY(d,i), size: getSize(d,i) } }) }) ); x .domain(xDomain || d3.extent(seriesData.map(function(d) { return d.x; }).concat(forceX))) if (padData && data[0]) x.range(xRange || [(availableWidth * padDataOuter + availableWidth) / (2 *data[0].values.length), availableWidth - availableWidth * (1 + padDataOuter) / (2 * data[0].values.length) ]); //x.range([availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5) / data[0].values.length ]); else x.range(xRange || [0, availableWidth]); y .domain(yDomain || d3.extent(seriesData.map(function(d) { return d.y }).concat(forceY))) .range(yRange || [availableHeight, 0]); z .domain(sizeDomain || d3.extent(seriesData.map(function(d) { return d.size }).concat(forceSize))) .range(sizeRange || [16, 256]); // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point if (x.domain()[0] === x.domain()[1] || y.domain()[0] === y.domain()[1]) singlePoint = true; if (x.domain()[0] === x.domain()[1]) x.domain()[0] ? x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01]) : x.domain([-1,1]); if (y.domain()[0] === y.domain()[1]) y.domain()[0] ? y.domain([y.domain()[0] - y.domain()[0] * 0.01, y.domain()[1] + y.domain()[1] * 0.01]) : y.domain([-1,1]); if ( isNaN(x.domain()[0])) { x.domain([-1,1]); } if ( isNaN(y.domain()[0])) { y.domain([-1,1]); } x0 = x0 || x; y0 = y0 || y; z0 = z0 || z; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-scatter').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-scatter nv-chart-' + id + (singlePoint ? ' nv-single-point' : '')); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-groups'); gEnter.append('g').attr('class', 'nv-point-paths'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ defsEnter.append('clipPath') .attr('id', 'nv-edge-clip-' + id) .append('rect'); wrap.select('#nv-edge-clip-' + id + ' rect') .attr('width', availableWidth) .attr('height', (availableHeight > 0) ? availableHeight : 0); g .attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : ''); function updateInteractiveLayer() { if (!interactive) return false; var eventElements; var vertices = d3.merge(data.map(function(group, groupIndex) { return group.values .map(function(point, pointIndex) { // *Adding noise to make duplicates very unlikely // *Injecting series and point index for reference /* *Adding a 'jitter' to the points, because there's an issue in d3.geom.voronoi. */ var pX = getX(point,pointIndex); var pY = getY(point,pointIndex); return [x(pX)+ Math.random() * 1e-7, y(pY)+ Math.random() * 1e-7, groupIndex, pointIndex, point]; //temp hack to add noise untill I think of a better way so there are no duplicates }) .filter(function(pointArray, pointIndex) { return pointActive(pointArray[4], pointIndex); // Issue #237.. move filter to after map, so pointIndex is correct! }) }) ); //inject series and point index for reference into voronoi if (useVoronoi === true) { if (clipVoronoi) { var pointClipsEnter = wrap.select('defs').selectAll('.nv-point-clips') .data([id]) .enter(); pointClipsEnter.append('clipPath') .attr('class', 'nv-point-clips') .attr('id', 'nv-points-clip-' + id); var pointClips = wrap.select('#nv-points-clip-' + id).selectAll('circle') .data(vertices); pointClips.enter().append('circle') .attr('r', clipRadius); pointClips.exit().remove(); pointClips .attr('cx', function(d) { return d[0] }) .attr('cy', function(d) { return d[1] }); wrap.select('.nv-point-paths') .attr('clip-path', 'url(#nv-points-clip-' + id + ')'); } if(vertices.length) { // Issue #283 - Adding 2 dummy points to the voronoi b/c voronoi requires min 3 points to work vertices.push([x.range()[0] - 20, y.range()[0] - 20, null, null]); vertices.push([x.range()[1] + 20, y.range()[1] + 20, null, null]); vertices.push([x.range()[0] - 20, y.range()[0] + 20, null, null]); vertices.push([x.range()[1] + 20, y.range()[1] - 20, null, null]); } var bounds = d3.geom.polygon([ [-10,-10], [-10,height + 10], [width + 10,height + 10], [width + 10,-10] ]); var voronoi = d3.geom.voronoi(vertices).map(function(d, i) { return { 'data': bounds.clip(d), 'series': vertices[i][2], 'point': vertices[i][3] } }); var pointPaths = wrap.select('.nv-point-paths').selectAll('path') .data(voronoi); pointPaths.enter().append('path') .attr('class', function(d,i) { return 'nv-path-'+i; }); pointPaths.exit().remove(); pointPaths .attr('d', function(d) { if (d.data.length === 0) return 'M 0 0' else return 'M' + d.data.join('L') + 'Z'; }); var mouseEventCallback = function(d,mDispatch) { if (needsUpdate) return 0; var series = data[d.series]; if (typeof series === 'undefined') return; var point = series.values[d.point]; mDispatch({ point: point, series: series, pos: [x(getX(point, d.point)) + margin.left, y(getY(point, d.point)) + margin.top], seriesIndex: d.series, pointIndex: d.point }); }; pointPaths .on('click', function(d) { mouseEventCallback(d, dispatch.elementClick); }) .on('mouseover', function(d) { mouseEventCallback(d, dispatch.elementMouseover); }) .on('mouseout', function(d, i) { mouseEventCallback(d, dispatch.elementMouseout); }); } else { /* // bring data in form needed for click handlers var dataWithPoints = vertices.map(function(d, i) { return { 'data': d, 'series': vertices[i][2], 'point': vertices[i][3] } }); */ // add event handlers to points instead voronoi paths wrap.select('.nv-groups').selectAll('.nv-group') .selectAll('.nv-point') //.data(dataWithPoints) //.style('pointer-events', 'auto') // recativate events, disabled by css .on('click', function(d,i) { //nv.log('test', d, i); if (needsUpdate || !data[d.series]) return 0; //check if this is a dummy point var series = data[d.series], point = series.values[i]; dispatch.elementClick({ point: point, series: series, pos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top], seriesIndex: d.series, pointIndex: i }); }) .on('mouseover', function(d,i) { if (needsUpdate || !data[d.series]) return 0; //check if this is a dummy point var series = data[d.series], point = series.values[i]; dispatch.elementMouseover({ point: point, series: series, pos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top], seriesIndex: d.series, pointIndex: i }); }) .on('mouseout', function(d,i) { if (needsUpdate || !data[d.series]) return 0; //check if this is a dummy point var series = data[d.series], point = series.values[i]; dispatch.elementMouseout({ point: point, series: series, seriesIndex: d.series, pointIndex: i }); }); } needsUpdate = false; } needsUpdate = true; var groups = wrap.select('.nv-groups').selectAll('.nv-group') .data(function(d) { return d }, function(d) { return d.key }); groups.enter().append('g') .style('stroke-opacity', 1e-6) .style('fill-opacity', 1e-6); groups.exit() .remove(); groups .attr('class', function(d,i) { return 'nv-group nv-series-' + i }) .classed('hover', function(d) { return d.hover }); groups .transition() .style('fill', function(d,i) { return color(d, i) }) .style('stroke', function(d,i) { return color(d, i) }) .style('stroke-opacity', 1) .style('fill-opacity', .5); if (onlyCircles) { var points = groups.selectAll('circle.nv-point') .data(function(d) { return d.values }, pointKey); points.enter().append('circle') .style('fill', function (d,i) { return d.color }) .style('stroke', function (d,i) { return d.color }) .attr('cx', function(d,i) { return nv.utils.NaNtoZero(x0(getX(d,i))) }) .attr('cy', function(d,i) { return nv.utils.NaNtoZero(y0(getY(d,i))) }) .attr('r', function(d,i) { return Math.sqrt(z(getSize(d,i))/Math.PI) }); points.exit().remove(); groups.exit().selectAll('path.nv-point').transition() .attr('cx', function(d,i) { return nv.utils.NaNtoZero(x(getX(d,i))) }) .attr('cy', function(d,i) { return nv.utils.NaNtoZero(y(getY(d,i))) }) .remove(); points.each(function(d,i) { d3.select(this) .classed('nv-point', true) .classed('nv-point-' + i, true) .classed('hover',false) ; }); points.transition() .attr('cx', function(d,i) { return nv.utils.NaNtoZero(x(getX(d,i))) }) .attr('cy', function(d,i) { return nv.utils.NaNtoZero(y(getY(d,i))) }) .attr('r', function(d,i) { return Math.sqrt(z(getSize(d,i))/Math.PI) }); } else { var points = groups.selectAll('path.nv-point') .data(function(d) { return d.values }); points.enter().append('path') .style('fill', function (d,i) { return d.color }) .style('stroke', function (d,i) { return d.color }) .attr('transform', function(d,i) { return 'translate(' + x0(getX(d,i)) + ',' + y0(getY(d,i)) + ')' }) .attr('d', d3.svg.symbol() .type(getShape) .size(function(d,i) { return z(getSize(d,i)) }) ); points.exit().remove(); groups.exit().selectAll('path.nv-point') .transition() .attr('transform', function(d,i) { return 'translate(' + x(getX(d,i)) + ',' + y(getY(d,i)) + ')' }) .remove(); points.each(function(d,i) { d3.select(this) .classed('nv-point', true) .classed('nv-point-' + i, true) .classed('hover',false) ; }); points.transition() .attr('transform', function(d,i) { //nv.log(d,i,getX(d,i), x(getX(d,i))); return 'translate(' + x(getX(d,i)) + ',' + y(getY(d,i)) + ')' }) .attr('d', d3.svg.symbol() .type(getShape) .size(function(d,i) { return z(getSize(d,i)) }) ); } // Delay updating the invisible interactive layer for smoother animation clearTimeout(timeoutID); // stop repeat calls to updateInteractiveLayer timeoutID = setTimeout(updateInteractiveLayer, 300); //updateInteractiveLayer(); //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); z0 = z.copy(); }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ chart.clearHighlights = function() { //Remove the 'hover' class from all highlighted points. d3.selectAll("".nv-chart-"" + id + "" .nv-point.hover"").classed(""hover"",false); }; chart.highlightPoint = function(seriesIndex,pointIndex,isHoverOver) { d3.select("".nv-chart-"" + id + "" .nv-series-"" + seriesIndex + "" .nv-point-"" + pointIndex) .classed(""hover"",isHoverOver); }; dispatch.on('elementMouseover.point', function(d) { if (interactive) chart.highlightPoint(d.seriesIndex,d.pointIndex,true); }); dispatch.on('elementMouseout.point', function(d) { if (interactive) chart.highlightPoint(d.seriesIndex,d.pointIndex,false); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.dispatch = dispatch; chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = d3.functor(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = d3.functor(_); return chart; }; chart.size = function(_) { if (!arguments.length) return getSize; getSize = d3.functor(_); return chart; }; chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.zScale = function(_) { if (!arguments.length) return z; z = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.sizeDomain = function(_) { if (!arguments.length) return sizeDomain; sizeDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.sizeRange = function(_) { if (!arguments.length) return sizeRange; sizeRange = _; return chart; }; chart.forceX = function(_) { if (!arguments.length) return forceX; forceX = _; return chart; }; chart.forceY = function(_) { if (!arguments.length) return forceY; forceY = _; return chart; }; chart.forceSize = function(_) { if (!arguments.length) return forceSize; forceSize = _; return chart; }; chart.interactive = function(_) { if (!arguments.length) return interactive; interactive = _; return chart; }; chart.pointKey = function(_) { if (!arguments.length) return pointKey; pointKey = _; return chart; }; chart.pointActive = function(_) { if (!arguments.length) return pointActive; pointActive = _; return chart; }; chart.padData = function(_) { if (!arguments.length) return padData; padData = _; return chart; }; chart.padDataOuter = function(_) { if (!arguments.length) return padDataOuter; padDataOuter = _; return chart; }; chart.clipEdge = function(_) { if (!arguments.length) return clipEdge; clipEdge = _; return chart; }; chart.clipVoronoi= function(_) { if (!arguments.length) return clipVoronoi; clipVoronoi = _; return chart; }; chart.useVoronoi= function(_) { if (!arguments.length) return useVoronoi; useVoronoi = _; if (useVoronoi === false) { clipVoronoi = false; } return chart; }; chart.clipRadius = function(_) { if (!arguments.length) return clipRadius; clipRadius = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.shape = function(_) { if (!arguments.length) return getShape; getShape = _; return chart; }; chart.onlyCircles = function(_) { if (!arguments.length) return onlyCircles; onlyCircles = _; return chart; }; chart.id = function(_) { if (!arguments.length) return id; id = _; return chart; }; chart.singlePoint = function(_) { if (!arguments.length) return singlePoint; singlePoint = _; return chart; }; //============================================================ return chart; } nv.models.scatterChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var scatter = nv.models.scatter() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() , controls = nv.models.legend() , distX = nv.models.distribution() , distY = nv.models.distribution() ; var margin = {top: 30, right: 20, bottom: 50, left: 75} , width = null , height = null , color = nv.utils.defaultColor() , x = d3.fisheye ? d3.fisheye.scale(d3.scale.linear).distortion(0) : scatter.xScale() , y = d3.fisheye ? d3.fisheye.scale(d3.scale.linear).distortion(0) : scatter.yScale() , xPadding = 0 , yPadding = 0 , showDistX = false , showDistY = false , showLegend = true , showXAxis = true , showYAxis = true , rightAlignYAxis = false , showControls = !!d3.fisheye , fisheye = 0 , pauseFisheye = false , tooltips = true , tooltipX = function(key, x, y) { return '<strong>' + x + '</strong>' } , tooltipY = function(key, x, y) { return '<strong>' + y + '</strong>' } , tooltip = null , state = {} , defaultState = null , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , noData = ""No Data Available."" , transitionDuration = 250 ; scatter .xScale(x) .yScale(y) ; xAxis .orient('bottom') .tickPadding(10) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') .tickPadding(10) ; distX .axis('x') ; distY .axis('y') ; controls.updateState(false); //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0; var showTooltip = function(e, offsetElement) { //TODO: make tooltip style an option between single or dual on axes (maybe on all charts with axes?) var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), leftX = e.pos[0] + ( offsetElement.offsetLeft || 0 ), topX = y.range()[0] + margin.top + ( offsetElement.offsetTop || 0), leftY = x.range()[0] + margin.left + ( offsetElement.offsetLeft || 0 ), topY = e.pos[1] + ( offsetElement.offsetTop || 0), xVal = xAxis.tickFormat()(scatter.x()(e.point, e.pointIndex)), yVal = yAxis.tickFormat()(scatter.y()(e.point, e.pointIndex)); if( tooltipX != null ) nv.tooltip.show([leftX, topX], tooltipX(e.series.key, xVal, yVal, e, chart), 'n', 1, offsetElement, 'x-nvtooltip'); if( tooltipY != null ) nv.tooltip.show([leftY, topY], tooltipY(e.series.key, xVal, yVal, e, chart), 'e', 1, offsetElement, 'y-nvtooltip'); if( tooltip != null ) nv.tooltip.show([left, top], tooltip(e.series.key, xVal, yVal, e, chart), e.value < 0 ? 'n' : 's', null, offsetElement); }; var controlsData = [ { key: 'Magnify', disabled: true } ]; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart); }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display noData message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x0 = x0 || x; y0 = y0 || y; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-scatterChart').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-scatterChart nv-chart-' + scatter.id()); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); // background for pointer events gEnter.append('rect').attr('class', 'nvd3 nv-background'); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-scatterWrap'); gEnter.append('g').attr('class', 'nv-distWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-controlsWrap'); //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { var legendWidth = (showControls) ? availableWidth / 2 : availableWidth; legend.width(legendWidth); wrap.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } wrap.select('.nv-legendWrap') .attr('transform', 'translate(' + (availableWidth - legendWidth) + ',' + (-margin.top) +')'); } //------------------------------------------------------------ //------------------------------------------------------------ // Controls if (showControls) { controls.width(180).color(['#444']); g.select('.nv-controlsWrap') .datum(controlsData) .attr('transform', 'translate(0,' + (-margin.top) +')') .call(controls); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ // Main Chart Component(s) scatter .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); if (xPadding !== 0) scatter.xDomain(null); if (yPadding !== 0) scatter.yDomain(null); wrap.select('.nv-scatterWrap') .datum(data.filter(function(d) { return !d.disabled })) .call(scatter); //Adjust for x and y padding if (xPadding !== 0) { var xRange = x.domain()[1] - x.domain()[0]; scatter.xDomain([x.domain()[0] - (xPadding * xRange), x.domain()[1] + (xPadding * xRange)]); } if (yPadding !== 0) { var yRange = y.domain()[1] - y.domain()[0]; scatter.yDomain([y.domain()[0] - (yPadding * yRange), y.domain()[1] + (yPadding * yRange)]); } //Only need to update the scatter again if x/yPadding changed the domain. if (yPadding !== 0 || xPadding !== 0) { wrap.select('.nv-scatterWrap') .datum(data.filter(function(d) { return !d.disabled })) .call(scatter); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( xAxis.ticks() && xAxis.ticks().length ? xAxis.ticks() : availableWidth / 100 ) .tickSize( -availableHeight , 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y.range()[0] + ')') .call(xAxis); } if (showYAxis) { yAxis .scale(y) .ticks( yAxis.ticks() && yAxis.ticks().length ? yAxis.ticks() : availableHeight / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-y.nv-axis') .call(yAxis); } if (showDistX) { distX .getData(scatter.x()) .scale(x) .width(availableWidth) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); gEnter.select('.nv-distWrap').append('g') .attr('class', 'nv-distributionX'); g.select('.nv-distributionX') .attr('transform', 'translate(0,' + y.range()[0] + ')') .datum(data.filter(function(d) { return !d.disabled })) .call(distX); } if (showDistY) { distY .getData(scatter.y()) .scale(y) .width(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); gEnter.select('.nv-distWrap').append('g') .attr('class', 'nv-distributionY'); g.select('.nv-distributionY') .attr('transform', 'translate(' + (rightAlignYAxis ? availableWidth : -distY.size() ) + ',0)') .datum(data.filter(function(d) { return !d.disabled })) .call(distY); } //------------------------------------------------------------ if (d3.fisheye) { g.select('.nv-background') .attr('width', availableWidth) .attr('height', availableHeight); g.select('.nv-background').on('mousemove', updateFisheye); g.select('.nv-background').on('click', function() { pauseFisheye = !pauseFisheye;}); scatter.dispatch.on('elementClick.freezeFisheye', function() { pauseFisheye = !pauseFisheye; }); } function updateFisheye() { if (pauseFisheye) { g.select('.nv-point-paths').style('pointer-events', 'all'); return false; } g.select('.nv-point-paths').style('pointer-events', 'none' ); var mouse = d3.mouse(this); x.distortion(fisheye).focus(mouse[0]); y.distortion(fisheye).focus(mouse[1]); g.select('.nv-scatterWrap') .call(scatter); if (showXAxis) g.select('.nv-x.nv-axis').call(xAxis); if (showYAxis) g.select('.nv-y.nv-axis').call(yAxis); g.select('.nv-distributionX') .datum(data.filter(function(d) { return !d.disabled })) .call(distX); g.select('.nv-distributionY') .datum(data.filter(function(d) { return !d.disabled })) .call(distY); } //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ controls.dispatch.on('legendClick', function(d,i) { d.disabled = !d.disabled; fisheye = d.disabled ? 0 : 2.5; g.select('.nv-background') .style('pointer-events', d.disabled ? 'none' : 'all'); g.select('.nv-point-paths').style('pointer-events', d.disabled ? 'all' : 'none' ); if (d.disabled) { x.distortion(fisheye).focus(0); y.distortion(fisheye).focus(0); g.select('.nv-scatterWrap').call(scatter); g.select('.nv-x.nv-axis').call(xAxis); g.select('.nv-y.nv-axis').call(yAxis); } else { pauseFisheye = false; } chart.update(); }); legend.dispatch.on('stateChange', function(newState) { state.disabled = newState.disabled; dispatch.stateChange(state); chart.update(); }); scatter.dispatch.on('elementMouseover.tooltip', function(e) { d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-distx-' + e.pointIndex) .attr('y1', function(d,i) { return e.pos[1] - availableHeight;}); d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-disty-' + e.pointIndex) .attr('x2', e.pos[0] + distX.size()); e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } chart.update(); }); //============================================================ //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ scatter.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-distx-' + e.pointIndex) .attr('y1', 0); d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-disty-' + e.pointIndex) .attr('x2', distY.size()); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.scatter = scatter; chart.legend = legend; chart.controls = controls; chart.xAxis = xAxis; chart.yAxis = yAxis; chart.distX = distX; chart.distY = distY; d3.rebind(chart, scatter, 'id', 'interactive', 'pointActive', 'x', 'y', 'shape', 'size', 'xScale', 'yScale', 'zScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'sizeDomain', 'sizeRange', 'forceX', 'forceY', 'forceSize', 'clipVoronoi', 'clipRadius', 'useVoronoi'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); distX.color(color); distY.color(color); return chart; }; chart.showDistX = function(_) { if (!arguments.length) return showDistX; showDistX = _; return chart; }; chart.showDistY = function(_) { if (!arguments.length) return showDistY; showDistY = _; return chart; }; chart.showControls = function(_) { if (!arguments.length) return showControls; showControls = _; return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.fisheye = function(_) { if (!arguments.length) return fisheye; fisheye = _; return chart; }; chart.xPadding = function(_) { if (!arguments.length) return xPadding; xPadding = _; return chart; }; chart.yPadding = function(_) { if (!arguments.length) return yPadding; yPadding = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.tooltipXContent = function(_) { if (!arguments.length) return tooltipX; tooltipX = _; return chart; }; chart.tooltipYContent = function(_) { if (!arguments.length) return tooltipY; tooltipY = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.scatterPlusLineChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var scatter = nv.models.scatter() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() , controls = nv.models.legend() , distX = nv.models.distribution() , distY = nv.models.distribution() ; var margin = {top: 30, right: 20, bottom: 50, left: 75} , width = null , height = null , color = nv.utils.defaultColor() , x = d3.fisheye ? d3.fisheye.scale(d3.scale.linear).distortion(0) : scatter.xScale() , y = d3.fisheye ? d3.fisheye.scale(d3.scale.linear).distortion(0) : scatter.yScale() , showDistX = false , showDistY = false , showLegend = true , showXAxis = true , showYAxis = true , rightAlignYAxis = false , showControls = !!d3.fisheye , fisheye = 0 , pauseFisheye = false , tooltips = true , tooltipX = function(key, x, y) { return '<strong>' + x + '</strong>' } , tooltipY = function(key, x, y) { return '<strong>' + y + '</strong>' } , tooltip = function(key, x, y, date) { return '<h3>' + key + '</h3>' + '<p>' + date + '</p>' } , state = {} , defaultState = null , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , noData = ""No Data Available."" , transitionDuration = 250 ; scatter .xScale(x) .yScale(y) ; xAxis .orient('bottom') .tickPadding(10) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') .tickPadding(10) ; distX .axis('x') ; distY .axis('y') ; controls.updateState(false); //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var x0, y0; var showTooltip = function(e, offsetElement) { //TODO: make tooltip style an option between single or dual on axes (maybe on all charts with axes?) var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), leftX = e.pos[0] + ( offsetElement.offsetLeft || 0 ), topX = y.range()[0] + margin.top + ( offsetElement.offsetTop || 0), leftY = x.range()[0] + margin.left + ( offsetElement.offsetLeft || 0 ), topY = e.pos[1] + ( offsetElement.offsetTop || 0), xVal = xAxis.tickFormat()(scatter.x()(e.point, e.pointIndex)), yVal = yAxis.tickFormat()(scatter.y()(e.point, e.pointIndex)); if( tooltipX != null ) nv.tooltip.show([leftX, topX], tooltipX(e.series.key, xVal, yVal, e, chart), 'n', 1, offsetElement, 'x-nvtooltip'); if( tooltipY != null ) nv.tooltip.show([leftY, topY], tooltipY(e.series.key, xVal, yVal, e, chart), 'e', 1, offsetElement, 'y-nvtooltip'); if( tooltip != null ) nv.tooltip.show([left, top], tooltip(e.series.key, xVal, yVal, e.point.tooltip, e, chart), e.value < 0 ? 'n' : 's', null, offsetElement); }; var controlsData = [ { key: 'Magnify', disabled: true } ]; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart); }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display noData message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = scatter.xScale(); y = scatter.yScale(); x0 = x0 || x; y0 = y0 || y; //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-scatterChart').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-scatterChart nv-chart-' + scatter.id()); var gEnter = wrapEnter.append('g'); var g = wrap.select('g') // background for pointer events gEnter.append('rect').attr('class', 'nvd3 nv-background').style(""pointer-events"",""none""); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-scatterWrap'); gEnter.append('g').attr('class', 'nv-regressionLinesWrap'); gEnter.append('g').attr('class', 'nv-distWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-controlsWrap'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ //------------------------------------------------------------ // Legend if (showLegend) { legend.width( availableWidth / 2 ); wrap.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } wrap.select('.nv-legendWrap') .attr('transform', 'translate(' + (availableWidth / 2) + ',' + (-margin.top) +')'); } //------------------------------------------------------------ //------------------------------------------------------------ // Controls if (showControls) { controls.width(180).color(['#444']); g.select('.nv-controlsWrap') .datum(controlsData) .attr('transform', 'translate(0,' + (-margin.top) +')') .call(controls); } //------------------------------------------------------------ //------------------------------------------------------------ // Main Chart Component(s) scatter .width(availableWidth) .height(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })) wrap.select('.nv-scatterWrap') .datum(data.filter(function(d) { return !d.disabled })) .call(scatter); wrap.select('.nv-regressionLinesWrap') .attr('clip-path', 'url(#nv-edge-clip-' + scatter.id() + ')'); var regWrap = wrap.select('.nv-regressionLinesWrap').selectAll('.nv-regLines') .data(function(d) {return d }); regWrap.enter().append('g').attr('class', 'nv-regLines'); var regLine = regWrap.selectAll('.nv-regLine').data(function(d){return [d]}); var regLineEnter = regLine.enter() .append('line').attr('class', 'nv-regLine') .style('stroke-opacity', 0); regLine .transition() .attr('x1', x.range()[0]) .attr('x2', x.range()[1]) .attr('y1', function(d,i) {return y(x.domain()[0] * d.slope + d.intercept) }) .attr('y2', function(d,i) { return y(x.domain()[1] * d.slope + d.intercept) }) .style('stroke', function(d,i,j) { return color(d,j) }) .style('stroke-opacity', function(d,i) { return (d.disabled || typeof d.slope === 'undefined' || typeof d.intercept === 'undefined') ? 0 : 1 }); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( xAxis.ticks() ? xAxis.ticks() : availableWidth / 100 ) .tickSize( -availableHeight , 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + y.range()[0] + ')') .call(xAxis); } if (showYAxis) { yAxis .scale(y) .ticks( yAxis.ticks() ? yAxis.ticks() : availableHeight / 36 ) .tickSize( -availableWidth, 0); g.select('.nv-y.nv-axis') .call(yAxis); } if (showDistX) { distX .getData(scatter.x()) .scale(x) .width(availableWidth) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); gEnter.select('.nv-distWrap').append('g') .attr('class', 'nv-distributionX'); g.select('.nv-distributionX') .attr('transform', 'translate(0,' + y.range()[0] + ')') .datum(data.filter(function(d) { return !d.disabled })) .call(distX); } if (showDistY) { distY .getData(scatter.y()) .scale(y) .width(availableHeight) .color(data.map(function(d,i) { return d.color || color(d, i); }).filter(function(d,i) { return !data[i].disabled })); gEnter.select('.nv-distWrap').append('g') .attr('class', 'nv-distributionY'); g.select('.nv-distributionY') .attr('transform', 'translate(' + (rightAlignYAxis ? availableWidth : -distY.size() ) + ',0)') .datum(data.filter(function(d) { return !d.disabled })) .call(distY); } //------------------------------------------------------------ if (d3.fisheye) { g.select('.nv-background') .attr('width', availableWidth) .attr('height', availableHeight) ; g.select('.nv-background').on('mousemove', updateFisheye); g.select('.nv-background').on('click', function() { pauseFisheye = !pauseFisheye;}); scatter.dispatch.on('elementClick.freezeFisheye', function() { pauseFisheye = !pauseFisheye; }); } function updateFisheye() { if (pauseFisheye) { g.select('.nv-point-paths').style('pointer-events', 'all'); return false; } g.select('.nv-point-paths').style('pointer-events', 'none' ); var mouse = d3.mouse(this); x.distortion(fisheye).focus(mouse[0]); y.distortion(fisheye).focus(mouse[1]); g.select('.nv-scatterWrap') .datum(data.filter(function(d) { return !d.disabled })) .call(scatter); if (showXAxis) g.select('.nv-x.nv-axis').call(xAxis); if (showYAxis) g.select('.nv-y.nv-axis').call(yAxis); g.select('.nv-distributionX') .datum(data.filter(function(d) { return !d.disabled })) .call(distX); g.select('.nv-distributionY') .datum(data.filter(function(d) { return !d.disabled })) .call(distY); } //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ controls.dispatch.on('legendClick', function(d,i) { d.disabled = !d.disabled; fisheye = d.disabled ? 0 : 2.5; g.select('.nv-background') .style('pointer-events', d.disabled ? 'none' : 'all'); g.select('.nv-point-paths').style('pointer-events', d.disabled ? 'all' : 'none' ); if (d.disabled) { x.distortion(fisheye).focus(0); y.distortion(fisheye).focus(0); g.select('.nv-scatterWrap').call(scatter); g.select('.nv-x.nv-axis').call(xAxis); g.select('.nv-y.nv-axis').call(yAxis); } else { pauseFisheye = false; } chart.update(); }); legend.dispatch.on('stateChange', function(newState) { state = newState; dispatch.stateChange(state); chart.update(); }); scatter.dispatch.on('elementMouseover.tooltip', function(e) { d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-distx-' + e.pointIndex) .attr('y1', e.pos[1] - availableHeight); d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-disty-' + e.pointIndex) .attr('x2', e.pos[0] + distX.size()); e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top]; dispatch.tooltipShow(e); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined') { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } chart.update(); }); //============================================================ //store old scales for use in transitions on update x0 = x.copy(); y0 = y.copy(); }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ scatter.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-distx-' + e.pointIndex) .attr('y1', 0); d3.select('.nv-chart-' + scatter.id() + ' .nv-series-' + e.seriesIndex + ' .nv-disty-' + e.pointIndex) .attr('x2', distY.size()); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.scatter = scatter; chart.legend = legend; chart.controls = controls; chart.xAxis = xAxis; chart.yAxis = yAxis; chart.distX = distX; chart.distY = distY; d3.rebind(chart, scatter, 'id', 'interactive', 'pointActive', 'x', 'y', 'shape', 'size', 'xScale', 'yScale', 'zScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'sizeDomain', 'sizeRange', 'forceX', 'forceY', 'forceSize', 'clipVoronoi', 'clipRadius', 'useVoronoi'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); distX.color(color); distY.color(color); return chart; }; chart.showDistX = function(_) { if (!arguments.length) return showDistX; showDistX = _; return chart; }; chart.showDistY = function(_) { if (!arguments.length) return showDistY; showDistY = _; return chart; }; chart.showControls = function(_) { if (!arguments.length) return showControls; showControls = _; return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.fisheye = function(_) { if (!arguments.length) return fisheye; fisheye = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.tooltipXContent = function(_) { if (!arguments.length) return tooltipX; tooltipX = _; return chart; }; chart.tooltipYContent = function(_) { if (!arguments.length) return tooltipY; tooltipY = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; //============================================================ return chart; } nv.models.sparkline = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 2, right: 0, bottom: 2, left: 0} , width = 400 , height = 32 , animate = true , x = d3.scale.linear() , y = d3.scale.linear() , getX = function(d) { return d.x } , getY = function(d) { return d.y } , color = nv.utils.getColor(['#000']) , xDomain , yDomain , xRange , yRange ; //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //------------------------------------------------------------ // Setup Scales x .domain(xDomain || d3.extent(data, getX )) .range(xRange || [0, availableWidth]); y .domain(yDomain || d3.extent(data, getY )) .range(yRange || [availableHeight, 0]); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-sparkline').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-sparkline'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')') //------------------------------------------------------------ var paths = wrap.selectAll('path') .data(function(d) { return [d] }); paths.enter().append('path'); paths.exit().remove(); paths .style('stroke', function(d,i) { return d.color || color(d, i) }) .attr('d', d3.svg.line() .x(function(d,i) { return x(getX(d,i)) }) .y(function(d,i) { return y(getY(d,i)) }) ); // TODO: Add CURRENT data point (Need Min, Mac, Current / Most recent) var points = wrap.selectAll('circle.nv-point') .data(function(data) { var yValues = data.map(function(d, i) { return getY(d,i); }); function pointIndex(index) { if (index != -1) { var result = data[index]; result.pointIndex = index; return result; } else { return null; } } var maxPoint = pointIndex(yValues.lastIndexOf(y.domain()[1])), minPoint = pointIndex(yValues.indexOf(y.domain()[0])), currentPoint = pointIndex(yValues.length - 1); return [minPoint, maxPoint, currentPoint].filter(function (d) {return d != null;}); }); points.enter().append('circle'); points.exit().remove(); points .attr('cx', function(d,i) { return x(getX(d,d.pointIndex)) }) .attr('cy', function(d,i) { return y(getY(d,d.pointIndex)) }) .attr('r', 2) .attr('class', function(d,i) { return getX(d, d.pointIndex) == x.domain()[1] ? 'nv-point nv-currentValue' : getY(d, d.pointIndex) == y.domain()[0] ? 'nv-point nv-minValue' : 'nv-point nv-maxValue' }); }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.x = function(_) { if (!arguments.length) return getX; getX = d3.functor(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = d3.functor(_); return chart; }; chart.xScale = function(_) { if (!arguments.length) return x; x = _; return chart; }; chart.yScale = function(_) { if (!arguments.length) return y; y = _; return chart; }; chart.xDomain = function(_) { if (!arguments.length) return xDomain; xDomain = _; return chart; }; chart.yDomain = function(_) { if (!arguments.length) return yDomain; yDomain = _; return chart; }; chart.xRange = function(_) { if (!arguments.length) return xRange; xRange = _; return chart; }; chart.yRange = function(_) { if (!arguments.length) return yRange; yRange = _; return chart; }; chart.animate = function(_) { if (!arguments.length) return animate; animate = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; //============================================================ return chart; } nv.models.sparklinePlus = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var sparkline = nv.models.sparkline(); var margin = {top: 15, right: 100, bottom: 10, left: 50} , width = null , height = null , x , y , index = [] , paused = false , xTickFormat = d3.format(',r') , yTickFormat = d3.format(',.2f') , showValue = true , alignValue = true , rightAlignValue = false , noData = ""No Data Available."" ; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this); var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { chart(selection) }; chart.container = this; //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } var currentValue = sparkline.y()(data[data.length-1], data.length-1); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = sparkline.xScale(); y = sparkline.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-sparklineplus').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-sparklineplus'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-sparklineWrap'); gEnter.append('g').attr('class', 'nv-valueWrap'); gEnter.append('g').attr('class', 'nv-hoverArea'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ //------------------------------------------------------------ // Main Chart Component(s) var sparklineWrap = g.select('.nv-sparklineWrap'); sparkline .width(availableWidth) .height(availableHeight); sparklineWrap .call(sparkline); //------------------------------------------------------------ var valueWrap = g.select('.nv-valueWrap'); var value = valueWrap.selectAll('.nv-currentValue') .data([currentValue]); value.enter().append('text').attr('class', 'nv-currentValue') .attr('dx', rightAlignValue ? -8 : 8) .attr('dy', '.9em') .style('text-anchor', rightAlignValue ? 'end' : 'start'); value .attr('x', availableWidth + (rightAlignValue ? margin.right : 0)) .attr('y', alignValue ? function(d) { return y(d) } : 0) .style('fill', sparkline.color()(data[data.length-1], data.length-1)) .text(yTickFormat(currentValue)); gEnter.select('.nv-hoverArea').append('rect') .on('mousemove', sparklineHover) .on('click', function() { paused = !paused }) .on('mouseout', function() { index = []; updateValueLine(); }); //.on('mouseout', function() { index = null; updateValueLine(); }); g.select('.nv-hoverArea rect') .attr('transform', function(d) { return 'translate(' + -margin.left + ',' + -margin.top + ')' }) .attr('width', availableWidth + margin.left + margin.right) .attr('height', availableHeight + margin.top); function updateValueLine() { //index is currently global (within the chart), may or may not keep it that way if (paused) return; var hoverValue = g.selectAll('.nv-hoverValue').data(index) var hoverEnter = hoverValue.enter() .append('g').attr('class', 'nv-hoverValue') .style('stroke-opacity', 0) .style('fill-opacity', 0); hoverValue.exit() .transition().duration(250) .style('stroke-opacity', 0) .style('fill-opacity', 0) .remove(); hoverValue .attr('transform', function(d) { return 'translate(' + x(sparkline.x()(data[d],d)) + ',0)' }) .transition().duration(250) .style('stroke-opacity', 1) .style('fill-opacity', 1); if (!index.length) return; hoverEnter.append('line') .attr('x1', 0) .attr('y1', -margin.top) .attr('x2', 0) .attr('y2', availableHeight); hoverEnter.append('text').attr('class', 'nv-xValue') .attr('x', -6) .attr('y', -margin.top) .attr('text-anchor', 'end') .attr('dy', '.9em') g.select('.nv-hoverValue .nv-xValue') .text(xTickFormat(sparkline.x()(data[index[0]], index[0]))); hoverEnter.append('text').attr('class', 'nv-yValue') .attr('x', 6) .attr('y', -margin.top) .attr('text-anchor', 'start') .attr('dy', '.9em') g.select('.nv-hoverValue .nv-yValue') .text(yTickFormat(sparkline.y()(data[index[0]], index[0]))); } function sparklineHover() { if (paused) return; var pos = d3.mouse(this)[0] - margin.left; function getClosestIndex(data, x) { var distance = Math.abs(sparkline.x()(data[0], 0) - x); var closestIndex = 0; for (var i = 0; i < data.length; i++){ if (Math.abs(sparkline.x()(data[i], i) - x) < distance) { distance = Math.abs(sparkline.x()(data[i], i) - x); closestIndex = i; } } return closestIndex; } index = [getClosestIndex(data, Math.round(x.invert(pos)))]; updateValueLine(); } }); return chart; } //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.sparkline = sparkline; d3.rebind(chart, sparkline, 'x', 'y', 'xScale', 'yScale', 'color'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.xTickFormat = function(_) { if (!arguments.length) return xTickFormat; xTickFormat = _; return chart; }; chart.yTickFormat = function(_) { if (!arguments.length) return yTickFormat; yTickFormat = _; return chart; }; chart.showValue = function(_) { if (!arguments.length) return showValue; showValue = _; return chart; }; chart.alignValue = function(_) { if (!arguments.length) return alignValue; alignValue = _; return chart; }; chart.rightAlignValue = function(_) { if (!arguments.length) return rightAlignValue; rightAlignValue = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; //============================================================ return chart; } nv.models.stackedArea = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var margin = {top: 0, right: 0, bottom: 0, left: 0} , width = 960 , height = 500 , color = nv.utils.defaultColor() // a function that computes the color , id = Math.floor(Math.random() * 100000) //Create semi-unique ID incase user doesn't selet one , getX = function(d) { return d.x } // accessor to get the x value from a data point , getY = function(d) { return d.y } // accessor to get the y value from a data point , style = 'stack' , offset = 'zero' , order = 'default' , interpolate = 'linear' // controls the line interpolation , clipEdge = false // if true, masks lines within x and y scale , x //can be accessed via chart.xScale() , y //can be accessed via chart.yScale() , scatter = nv.models.scatter() , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'areaClick', 'areaMouseover', 'areaMouseout') ; scatter .size(2.2) // default size .sizeDomain([2.2,2.2]) // all the same size by default ; /************************************ * offset: * 'wiggle' (stream) * 'zero' (stacked) * 'expand' (normalize to 100%) * 'silhouette' (simple centered) * * order: * 'inside-out' (stream) * 'default' (input order) ************************************/ //============================================================ function chart(selection) { selection.each(function(data) { var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, container = d3.select(this); //------------------------------------------------------------ // Setup Scales x = scatter.xScale(); y = scatter.yScale(); //------------------------------------------------------------ var dataRaw = data; // Injecting point index into each point because d3.layout.stack().out does not give index data.forEach(function(aseries, i) { aseries.seriesIndex = i; aseries.values = aseries.values.map(function(d, j) { d.index = j; d.seriesIndex = i; return d; }); }); var dataFiltered = data.filter(function(series) { return !series.disabled; }); data = d3.layout.stack() .order(order) .offset(offset) .values(function(d) { return d.values }) //TODO: make values customizeable in EVERY model in this fashion .x(getX) .y(getY) .out(function(d, y0, y) { var yHeight = (getY(d) === 0) ? 0 : y; d.display = { y: yHeight, y0: y0 }; }) (dataFiltered); //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-stackedarea').data([data]); var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-stackedarea'); var defsEnter = wrapEnter.append('defs'); var gEnter = wrapEnter.append('g'); var g = wrap.select('g'); gEnter.append('g').attr('class', 'nv-areaWrap'); gEnter.append('g').attr('class', 'nv-scatterWrap'); wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------ scatter .width(availableWidth) .height(availableHeight) .x(getX) .y(function(d) { return d.display.y + d.display.y0 }) .forceY([0]) .color(data.map(function(d,i) { return d.color || color(d, d.seriesIndex); })); var scatterWrap = g.select('.nv-scatterWrap') .datum(data); scatterWrap.call(scatter); defsEnter.append('clipPath') .attr('id', 'nv-edge-clip-' + id) .append('rect'); wrap.select('#nv-edge-clip-' + id + ' rect') .attr('width', availableWidth) .attr('height', availableHeight); g .attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : ''); var area = d3.svg.area() .x(function(d,i) { return x(getX(d,i)) }) .y0(function(d) { return y(d.display.y0) }) .y1(function(d) { return y(d.display.y + d.display.y0) }) .interpolate(interpolate); var zeroArea = d3.svg.area() .x(function(d,i) { return x(getX(d,i)) }) .y0(function(d) { return y(d.display.y0) }) .y1(function(d) { return y(d.display.y0) }); var path = g.select('.nv-areaWrap').selectAll('path.nv-area') .data(function(d) { return d }); path.enter().append('path').attr('class', function(d,i) { return 'nv-area nv-area-' + i }) .attr('d', function(d,i){ return zeroArea(d.values, d.seriesIndex); }) .on('mouseover', function(d,i) { d3.select(this).classed('hover', true); dispatch.areaMouseover({ point: d, series: d.key, pos: [d3.event.pageX, d3.event.pageY], seriesIndex: d.seriesIndex }); }) .on('mouseout', function(d,i) { d3.select(this).classed('hover', false); dispatch.areaMouseout({ point: d, series: d.key, pos: [d3.event.pageX, d3.event.pageY], seriesIndex: d.seriesIndex }); }) .on('click', function(d,i) { d3.select(this).classed('hover', false); dispatch.areaClick({ point: d, series: d.key, pos: [d3.event.pageX, d3.event.pageY], seriesIndex: d.seriesIndex }); }) path.exit().remove(); path .style('fill', function(d,i){ return d.color || color(d, d.seriesIndex) }) .style('stroke', function(d,i){ return d.color || color(d, d.seriesIndex) }); path.transition() .attr('d', function(d,i) { return area(d.values,i) }); //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ scatter.dispatch.on('elementMouseover.area', function(e) { g.select('.nv-chart-' + id + ' .nv-area-' + e.seriesIndex).classed('hover', true); }); scatter.dispatch.on('elementMouseout.area', function(e) { g.select('.nv-chart-' + id + ' .nv-area-' + e.seriesIndex).classed('hover', false); }); //============================================================ //Special offset functions chart.d3_stackedOffset_stackPercent = function(stackData) { var n = stackData.length, //How many series m = stackData[0].length, //how many points per series k = 1 / n, i, j, o, y0 = []; for (j = 0; j < m; ++j) { //Looping through all points for (i = 0, o = 0; i < dataRaw.length; i++) //looping through series' o += getY(dataRaw[i].values[j]) //total value of all points at a certian point in time. if (o) for (i = 0; i < n; i++) stackData[i][j][1] /= o; else for (i = 0; i < n; i++) stackData[i][j][1] = k; } for (j = 0; j < m; ++j) y0[j] = 0; return y0; }; }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ scatter.dispatch.on('elementClick.area', function(e) { dispatch.areaClick(e); }) scatter.dispatch.on('elementMouseover.tooltip', function(e) { e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top], dispatch.tooltipShow(e); }); scatter.dispatch.on('elementMouseout.tooltip', function(e) { dispatch.tooltipHide(e); }); //============================================================ //============================================================ // Global getters and setters //------------------------------------------------------------ chart.dispatch = dispatch; chart.scatter = scatter; d3.rebind(chart, scatter, 'interactive', 'size', 'xScale', 'yScale', 'zScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'sizeDomain', 'forceX', 'forceY', 'forceSize', 'clipVoronoi', 'useVoronoi','clipRadius','highlightPoint','clearHighlights'); chart.options = nv.utils.optionsFunc.bind(chart); chart.x = function(_) { if (!arguments.length) return getX; getX = d3.functor(_); return chart; }; chart.y = function(_) { if (!arguments.length) return getY; getY = d3.functor(_); return chart; } chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.clipEdge = function(_) { if (!arguments.length) return clipEdge; clipEdge = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); return chart; }; chart.offset = function(_) { if (!arguments.length) return offset; offset = _; return chart; }; chart.order = function(_) { if (!arguments.length) return order; order = _; return chart; }; //shortcut for offset + order chart.style = function(_) { if (!arguments.length) return style; style = _; switch (style) { case 'stack': chart.offset('zero'); chart.order('default'); break; case 'stream': chart.offset('wiggle'); chart.order('inside-out'); break; case 'stream-center': chart.offset('silhouette'); chart.order('inside-out'); break; case 'expand': chart.offset('expand'); chart.order('default'); break; case 'stack_percent': chart.offset(chart.d3_stackedOffset_stackPercent); chart.order('default'); break; } return chart; }; chart.interpolate = function(_) { if (!arguments.length) return interpolate; interpolate = _; return chart; }; //============================================================ return chart; } nv.models.stackedAreaChart = function() { ""use strict""; //============================================================ // Public Variables with Default Settings //------------------------------------------------------------ var stacked = nv.models.stackedArea() , xAxis = nv.models.axis() , yAxis = nv.models.axis() , legend = nv.models.legend() , controls = nv.models.legend() , interactiveLayer = nv.interactiveGuideline() ; var margin = {top: 30, right: 25, bottom: 50, left: 60} , width = null , height = null , color = nv.utils.defaultColor() // a function that takes in d, i and returns color , showControls = true , showLegend = true , showXAxis = true , showYAxis = true , rightAlignYAxis = false , useInteractiveGuideline = false , tooltips = true , tooltip = function(key, x, y, e, graph) { return '<h3>' + key + '</h3>' + '<p>' + y + ' on ' + x + '</p>' } , x //can be accessed via chart.xScale() , y //can be accessed via chart.yScale() , yAxisTickFormat = d3.format(',.2f') , state = { style: stacked.style() } , defaultState = null , noData = 'No Data Available.' , dispatch = d3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState') , controlWidth = 250 , cData = ['Stacked','Stream','Expanded'] , controlLabels = {} , transitionDuration = 250 ; xAxis .orient('bottom') .tickPadding(7) ; yAxis .orient((rightAlignYAxis) ? 'right' : 'left') ; controls.updateState(false); //============================================================ //============================================================ // Private Variables //------------------------------------------------------------ var showTooltip = function(e, offsetElement) { var left = e.pos[0] + ( offsetElement.offsetLeft || 0 ), top = e.pos[1] + ( offsetElement.offsetTop || 0), x = xAxis.tickFormat()(stacked.x()(e.point, e.pointIndex)), y = yAxis.tickFormat()(stacked.y()(e.point, e.pointIndex)), content = tooltip(e.series.key, x, y, e, chart); nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement); }; //============================================================ function chart(selection) { selection.each(function(data) { var container = d3.select(this), that = this; var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right, availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; chart.update = function() { container.transition().duration(transitionDuration).call(chart); }; chart.container = this; //set state.disabled state.disabled = data.map(function(d) { return !!d.disabled }); if (!defaultState) { var key; defaultState = {}; for (key in state) { if (state[key] instanceof Array) defaultState[key] = state[key].slice(0); else defaultState[key] = state[key]; } } //------------------------------------------------------------ // Display No Data message if there's nothing to show. if (!data || !data.length || !data.filter(function(d) { return d.values.length }).length) { var noDataText = container.selectAll('.nv-noData').data([noData]); noDataText.enter().append('text') .attr('class', 'nvd3 nv-noData') .attr('dy', '-.7em') .style('text-anchor', 'middle'); noDataText .attr('x', margin.left + availableWidth / 2) .attr('y', margin.top + availableHeight / 2) .text(function(d) { return d }); return chart; } else { container.selectAll('.nv-noData').remove(); } //------------------------------------------------------------ //------------------------------------------------------------ // Setup Scales x = stacked.xScale(); y = stacked.yScale(); //------------------------------------------------------------ //------------------------------------------------------------ // Setup containers and skeleton of chart var wrap = container.selectAll('g.nv-wrap.nv-stackedAreaChart').data([data]); var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-stackedAreaChart').append('g'); var g = wrap.select('g'); gEnter.append(""rect"").style(""opacity"",0); gEnter.append('g').attr('class', 'nv-x nv-axis'); gEnter.append('g').attr('class', 'nv-y nv-axis'); gEnter.append('g').attr('class', 'nv-stackedWrap'); gEnter.append('g').attr('class', 'nv-legendWrap'); gEnter.append('g').attr('class', 'nv-controlsWrap'); gEnter.append('g').attr('class', 'nv-interactive'); g.select(""rect"").attr(""width"",availableWidth).attr(""height"",availableHeight); //------------------------------------------------------------ // Legend if (showLegend) { var legendWidth = (showControls) ? availableWidth - controlWidth : availableWidth; legend .width(legendWidth); g.select('.nv-legendWrap') .datum(data) .call(legend); if ( margin.top != legend.height()) { margin.top = legend.height(); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.nv-legendWrap') .attr('transform', 'translate(' + (availableWidth-legendWidth) + ',' + (-margin.top) +')'); } //------------------------------------------------------------ //------------------------------------------------------------ // Controls if (showControls) { var controlsData = [ { key: controlLabels.stacked || 'Stacked', metaKey: 'Stacked', disabled: stacked.style() != 'stack', style: 'stack' }, { key: controlLabels.stream || 'Stream', metaKey: 'Stream', disabled: stacked.style() != 'stream', style: 'stream' }, { key: controlLabels.expanded || 'Expanded', metaKey: 'Expanded', disabled: stacked.style() != 'expand', style: 'expand' }, { key: controlLabels.stack_percent || 'Stack %', metaKey: 'Stack_Percent', disabled: stacked.style() != 'stack_percent', style: 'stack_percent' } ]; controlWidth = (cData.length/3) * 260; controlsData = controlsData.filter(function(d) { return cData.indexOf(d.metaKey) !== -1; }) controls .width( controlWidth ) .color(['#444', '#444', '#444']); g.select('.nv-controlsWrap') .datum(controlsData) .call(controls); if ( margin.top != Math.max(controls.height(), legend.height()) ) { margin.top = Math.max(controls.height(), legend.height()); availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom; } g.select('.nv-controlsWrap') .attr('transform', 'translate(0,' + (-margin.top) +')'); } //------------------------------------------------------------ wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); if (rightAlignYAxis) { g.select("".nv-y.nv-axis"") .attr(""transform"", ""translate("" + availableWidth + "",0)""); } //------------------------------------------------------------ // Main Chart Component(s) //------------------------------------------------------------ //Set up interactive layer if (useInteractiveGuideline) { interactiveLayer .width(availableWidth) .height(availableHeight) .margin({left: margin.left, top: margin.top}) .svgContainer(container) .xScale(x); wrap.select("".nv-interactive"").call(interactiveLayer); } stacked .width(availableWidth) .height(availableHeight) var stackedWrap = g.select('.nv-stackedWrap') .datum(data); stackedWrap.transition().call(stacked); //------------------------------------------------------------ //------------------------------------------------------------ // Setup Axes if (showXAxis) { xAxis .scale(x) .ticks( availableWidth / 100 ) .tickSize( -availableHeight, 0); g.select('.nv-x.nv-axis') .attr('transform', 'translate(0,' + availableHeight + ')'); g.select('.nv-x.nv-axis') .transition().duration(0) .call(xAxis); } if (showYAxis) { yAxis .scale(y) .ticks(stacked.offset() == 'wiggle' ? 0 : availableHeight / 36) .tickSize(-availableWidth, 0) .setTickFormat( (stacked.style() == 'expand' || stacked.style() == 'stack_percent') ? d3.format('%') : yAxisTickFormat); g.select('.nv-y.nv-axis') .transition().duration(0) .call(yAxis); } //------------------------------------------------------------ //============================================================ // Event Handling/Dispatching (in chart's scope) //------------------------------------------------------------ stacked.dispatch.on('areaClick.toggle', function(e) { if (data.filter(function(d) { return !d.disabled }).length === 1) data.forEach(function(d) { d.disabled = false; }); else data.forEach(function(d,i) { d.disabled = (i != e.seriesIndex); }); state.disabled = data.map(function(d) { return !!d.disabled }); dispatch.stateChange(state); chart.update(); }); legend.dispatch.on('stateChange', function(newState) { state.disabled = newState.disabled; dispatch.stateChange(state); chart.update(); }); controls.dispatch.on('legendClick', function(d,i) { if (!d.disabled) return; controlsData = controlsData.map(function(s) { s.disabled = true; return s; }); d.disabled = false; stacked.style(d.style); state.style = stacked.style(); dispatch.stateChange(state); chart.update(); }); interactiveLayer.dispatch.on('elementMousemove', function(e) { stacked.clearHighlights(); var singlePoint, pointIndex, pointXLocation, allData = []; data .filter(function(series, i) { series.seriesIndex = i; return !series.disabled; }) .forEach(function(series,i) { pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x()); stacked.highlightPoint(i, pointIndex, true); var point = series.values[pointIndex]; if (typeof point === 'undefined') return; if (typeof singlePoint === 'undefined') singlePoint = point; if (typeof pointXLocation === 'undefined') pointXLocation = chart.xScale()(chart.x()(point,pointIndex)); //If we are in 'expand' mode, use the stacked percent value instead of raw value. var tooltipValue = (stacked.style() == 'expand') ? point.display.y : chart.y()(point,pointIndex); allData.push({ key: series.key, value: tooltipValue, color: color(series,series.seriesIndex), stackedValue: point.display }); }); allData.reverse(); //Highlight the tooltip entry based on which stack the mouse is closest to. if (allData.length > 2) { var yValue = chart.yScale().invert(e.mouseY); var yDistMax = Infinity, indexToHighlight = null; allData.forEach(function(series,i) { //To handle situation where the stacked area chart is negative, we need to use absolute values //when checking if the mouse Y value is within the stack area. yValue = Math.abs(yValue); var stackedY0 = Math.abs(series.stackedValue.y0); var stackedY = Math.abs(series.stackedValue.y); if ( yValue >= stackedY0 && yValue <= (stackedY + stackedY0)) { indexToHighlight = i; return; } }); if (indexToHighlight != null) allData[indexToHighlight].highlight = true; } var xValue = xAxis.tickFormat()(chart.x()(singlePoint,pointIndex)); //If we are in 'expand' mode, force the format to be a percentage. var valueFormatter = (stacked.style() == 'expand') ? function(d,i) {return d3.format("".1%"")(d);} : function(d,i) {return yAxis.tickFormat()(d); }; interactiveLayer.tooltip .position({left: pointXLocation + margin.left, top: e.mouseY + margin.top}) .chartContainer(that.parentNode) .enabled(tooltips) .valueFormatter(valueFormatter) .data( { value: xValue, series: allData } )(); interactiveLayer.renderGuideLine(pointXLocation); }); interactiveLayer.dispatch.on(""elementMouseout"",function(e) { dispatch.tooltipHide(); stacked.clearHighlights(); }); dispatch.on('tooltipShow', function(e) { if (tooltips) showTooltip(e, that.parentNode); }); // Update chart from a state object passed to event handler dispatch.on('changeState', function(e) { if (typeof e.disabled !== 'undefined' && data.length === e.disabled.length) { data.forEach(function(series,i) { series.disabled = e.disabled[i]; }); state.disabled = e.disabled; } if (typeof e.style !== 'undefined') { stacked.style(e.style); } chart.update(); }); }); return chart; } //============================================================ // Event Handling/Dispatching (out of chart's scope) //------------------------------------------------------------ stacked.dispatch.on('tooltipShow', function(e) { //disable tooltips when value ~= 0 //// TODO: consider removing points from voronoi that have 0 value instead of this hack /* if (!Math.round(stacked.y()(e.point) * 100)) { // 100 will not be good for very small numbers... will have to think about making this valu dynamic, based on data range setTimeout(function() { d3.selectAll('.point.hover').classed('hover', false) }, 0); return false; } */ e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top], dispatch.tooltipShow(e); }); stacked.dispatch.on('tooltipHide', function(e) { dispatch.tooltipHide(e); }); dispatch.on('tooltipHide', function() { if (tooltips) nv.tooltip.cleanup(); }); //============================================================ //============================================================ // Expose Public Variables //------------------------------------------------------------ // expose chart's sub-components chart.dispatch = dispatch; chart.stacked = stacked; chart.legend = legend; chart.controls = controls; chart.xAxis = xAxis; chart.yAxis = yAxis; chart.interactiveLayer = interactiveLayer; d3.rebind(chart, stacked, 'x', 'y', 'size', 'xScale', 'yScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'sizeDomain', 'interactive', 'useVoronoi', 'offset', 'order', 'style', 'clipEdge', 'forceX', 'forceY', 'forceSize', 'interpolate'); chart.options = nv.utils.optionsFunc.bind(chart); chart.margin = function(_) { if (!arguments.length) return margin; margin.top = typeof _.top != 'undefined' ? _.top : margin.top; margin.right = typeof _.right != 'undefined' ? _.right : margin.right; margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom; margin.left = typeof _.left != 'undefined' ? _.left : margin.left; return chart; }; chart.width = function(_) { if (!arguments.length) return width; width = _; return chart; }; chart.height = function(_) { if (!arguments.length) return height; height = _; return chart; }; chart.color = function(_) { if (!arguments.length) return color; color = nv.utils.getColor(_); legend.color(color); stacked.color(color); return chart; }; chart.showControls = function(_) { if (!arguments.length) return showControls; showControls = _; return chart; }; chart.showLegend = function(_) { if (!arguments.length) return showLegend; showLegend = _; return chart; }; chart.showXAxis = function(_) { if (!arguments.length) return showXAxis; showXAxis = _; return chart; }; chart.showYAxis = function(_) { if (!arguments.length) return showYAxis; showYAxis = _; return chart; }; chart.rightAlignYAxis = function(_) { if(!arguments.length) return rightAlignYAxis; rightAlignYAxis = _; yAxis.orient( (_) ? 'right' : 'left'); return chart; }; chart.useInteractiveGuideline = function(_) { if(!arguments.length) return useInteractiveGuideline; useInteractiveGuideline = _; if (_ === true) { chart.interactive(false); chart.useVoronoi(false); } return chart; }; chart.tooltip = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.tooltips = function(_) { if (!arguments.length) return tooltips; tooltips = _; return chart; }; chart.tooltipContent = function(_) { if (!arguments.length) return tooltip; tooltip = _; return chart; }; chart.state = function(_) { if (!arguments.length) return state; state = _; return chart; }; chart.defaultState = function(_) { if (!arguments.length) return defaultState; defaultState = _; return chart; }; chart.noData = function(_) { if (!arguments.length) return noData; noData = _; return chart; }; chart.transitionDuration = function(_) { if (!arguments.length) return transitionDuration; transitionDuration = _; return chart; }; chart.controlsData = function(_) { if (!arguments.length) return cData; cData = _; return chart; }; chart.controlLabels = function(_) { if (!arguments.length) return controlLabels; if (typeof _ !== 'object') return controlLabels; controlLabels = _; return chart; }; yAxis.setTickFormat = yAxis.tickFormat; yAxis.tickFormat = function(_) { if (!arguments.length) return yAxisTickFormat; yAxisTickFormat = _; return yAxis; }; //============================================================ return chart; } })();",,48462,308
openstack%2Fneutron-vpnaas~master~I3dcf650d6cc21caff4c3f524da237d666849ec0c,openstack/neutron-vpnaas,master,I3dcf650d6cc21caff4c3f524da237d666849ec0c,Use ExtensionDescriptor from neutron-lib,MERGED,2016-11-25 21:20:19.000000000,2016-11-29 14:48:00.000000000,2016-11-29 14:48:00.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9656}]","[{'number': 1, 'created': '2016-11-25 21:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ea12335bea9d4b65e8b353311ccfe5982dc9f393', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nChange-Id: I3dcf650d6cc21caff4c3f524da237d666849ec0c\n'}, {'number': 2, 'created': '2016-11-26 03:31:08.000000000', 'files': ['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/extensions/vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/cc4f6de4d8527827644600ab42ab5e2555e148f4', 'message': 'Use ExtensionDescriptor from neutron-lib\n\nExtensionDescriptor has been rehomed to neutron-lib and is being\nremoved from neutron core.\n\nSee https://review.openstack.org/398113\n\nDepends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5\n\nChange-Id: I3dcf650d6cc21caff4c3f524da237d666849ec0c\n'}]",0,403279,cc4f6de4d8527827644600ab42ab5e2555e148f4,10,4,2,6524,,,0,"Use ExtensionDescriptor from neutron-lib

ExtensionDescriptor has been rehomed to neutron-lib and is being
removed from neutron core.

See https://review.openstack.org/398113

Depends-On: I5a111e0033e518e39b3042f047ee9eebba77a0d5

Change-Id: I3dcf650d6cc21caff4c3f524da237d666849ec0c
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/79/403279/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/extensions/vpnaas.py']",2,ea12335bea9d4b65e8b353311ccfe5982dc9f393,ExtensionDescriptor,from neutron_lib.api import converters from neutron_lib.api import extensions from neutron_lib.api import validators as validators from neutron_lib import exceptions as nexception,from neutron.api import extensionsfrom neutron_lib.api import converters from neutron_lib.api import validators as validators from neutron_lib import exceptions as nexception,5,5
openstack%2Fkeystone~master~Ib9c059d30c12e982a6b0b5b7fcbca6da650650ba,openstack/keystone,master,Ib9c059d30c12e982a6b0b5b7fcbca6da650650ba,SAML federation docs refer to old WSGIScriptAlias,MERGED,2016-11-29 00:06:25.000000000,2016-11-29 14:47:02.000000000,2016-11-29 14:47:02.000000000,"[{'_account_id': 3}, {'_account_id': 3211}, {'_account_id': 6482}, {'_account_id': 7725}, {'_account_id': 18464}]","[{'number': 1, 'created': '2016-11-29 00:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/26b1998f8bce142b1552c289642ba0b9df8ecd65', 'message': ""SAML federation docs refer to old WSGIScriptAlias\n\nSome time ago, the default WSGIScriptAlias was changed from\n/var/www/keystone/main to /usr/local/bin/keystone-wsgi-public\nand /usr/local/bin/keystone-wsgi-admin.\n\nThe federation docs still referred to /var/www/keystone/main which\nwon't work in default configuration of keystone within apache.\n\nChange-Id: Ib9c059d30c12e982a6b0b5b7fcbca6da650650ba\n""}, {'number': 2, 'created': '2016-11-29 00:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e570857a18b02a6348ad1c94f2c1b0cd11ec4fc', 'message': ""SAML federation docs refer to old WSGIScriptAlias\n\nSome time ago, the default WSGIScriptAlias was changed from\n/var/www/keystone/main to /usr/local/bin/keystone-wsgi-public\nand /usr/local/bin/keystone-wsgi-admin.\n\nThe federation docs still referred to /var/www/keystone/main which\nwon't work in default configuration of keystone within apache.\n\nChange-Id: Ib9c059d30c12e982a6b0b5b7fcbca6da650650ba\n""}, {'number': 3, 'created': '2016-11-29 01:26:11.000000000', 'files': ['doc/source/federation/shibboleth.rst', 'doc/source/federation/mellon.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e120ac341af96aba4bd3a8bd6d4ba9c9d56ee2d3', 'message': ""SAML federation docs refer to old WSGIScriptAlias\n\nSome time ago, the default WSGIScriptAlias was changed from\n/var/www/keystone/main to /usr/local/bin/keystone-wsgi-public\nand /usr/local/bin/keystone-wsgi-admin.\n\nThe federation docs still referred to /var/www/keystone/main which\nwon't work in default configuration of keystone within apache.\n\nChange-Id: Ib9c059d30c12e982a6b0b5b7fcbca6da650650ba\n""}]",0,403944,e120ac341af96aba4bd3a8bd6d4ba9c9d56ee2d3,13,5,3,8119,,,0,"SAML federation docs refer to old WSGIScriptAlias

Some time ago, the default WSGIScriptAlias was changed from
/var/www/keystone/main to /usr/local/bin/keystone-wsgi-public
and /usr/local/bin/keystone-wsgi-admin.

The federation docs still referred to /var/www/keystone/main which
won't work in default configuration of keystone within apache.

Change-Id: Ib9c059d30c12e982a6b0b5b7fcbca6da650650ba
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/403944/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/federation/shibboleth.rst', 'doc/source/federation/mellon.rst']",2,26b1998f8bce142b1552c289642ba0b9df8ecd65,mellon,Add this *WSGIScriptAlias* directive to your public vhost configuration:: WSGIScriptAliasMatch ^(/v3/OS-FEDERATION/identity_providers/.*?/protocols/.*?/auth)$ /usr/local/bin/keystone-wsgi-public/$1 And add this *WSGIScriptAlias* directive to your admin vhost configuration:: WSGIScriptAliasMatch ^(/v3/OS-FEDERATION/identity_providers/.*?/protocols/.*?/auth)$ /usr/local/bin/keystone-wsgi-admin/$1,Add *WSGIScriptAlias* directive to your vhost configuration:: WSGIScriptAliasMatch ^(/v3/OS-FEDERATION/identity_providers/.*?/protocols/.*?/auth)$ /var/www/keystone/main/$1,12,4
openstack%2Fheat~master~I9edf0558ed54820842193560e323df6501411d1d,openstack/heat,master,I9edf0558ed54820842193560e323df6501411d1d,"Refactor purge_deleted, operate on batches of stacks",MERGED,2016-08-27 07:23:35.000000000,2016-11-29 14:45:57.000000000,2016-11-29 14:45:57.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 13564}]","[{'number': 1, 'created': '2016-08-27 07:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e65bebfa0fecb3ffc6a7f8aa776e09f078ae0cf7', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 2, 'created': '2016-08-29 23:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/335e46cdc125ba8ef7fa93c17b0cd690d16a1382', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 3, 'created': '2016-09-06 22:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7a1f590aedecede72a09032e9a2b5cceea755b14', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 4, 'created': '2016-09-13 00:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15cbcb33a61faf65b531612151e86720893e2375', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 5, 'created': '2016-09-30 18:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8ef76d8e7d2ffe98852a0d572dcc7ef5423ce88e', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 6, 'created': '2016-10-07 18:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c9b5465e3c29a2b35a7d8d5e3ec6b9f6b38e9ab', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 7, 'created': '2016-10-17 21:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bcd462549a2430d5595bca3bb6bc58911b13de15', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 8, 'created': '2016-10-21 03:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5dffe2a483953152a6fbce1963dbcda68bc5c99c', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 9, 'created': '2016-11-04 18:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/161ed3a617bb8772445af956fa919b672ee5e949', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 10, 'created': '2016-11-04 19:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cfd594d2a1e0e04dcd29ebafcfe47044e806a2f6', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nRather deleting all stacks and all associated rows (e.g. 1000 events\nper stack) in one transaction, delete batch_size (default=20) stacks\nat a time.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 11, 'created': '2016-11-10 21:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dd1af6952f8f8b88839b46cea0a11a7789da943f', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nAvoid large sql ""in"" clauses by operating on smaller batches of stacks\nat a time.\n\nPerform all deletions related to a batch of stacks witin a single\ntransaction (previously, deletes were autocommitted).\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 12, 'created': '2016-11-15 20:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8b410b74b2480cb6e76fa454c2ce568805184654', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nAvoid large sql ""in"" clauses by operating on smaller batches of stacks\nat a time.\n\nPerform all deletions related to a batch of stacks witin a single\ntransaction (previously, deletes were autocommitted).\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 13, 'created': '2016-11-16 22:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f1a4089d9819e6d7742bc0803f9c5bac77eba620', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nAvoid large sql ""in"" clauses by operating on smaller batches of stacks\nat a time.\n\nTo avoid transaction overhead and contention on the resource table,\nthe first deletions occur outside of a transaction (are\nautocommitted). This is OK because the purge is re-rentrant -- we\nwon\'t lose any stack_id\'s to delete if something goes wrong in the\nfirst engine.begin() block. That is, we will not orphan any rows if\nthe purge is run multiple times where an error occurs.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}, {'number': 14, 'created': '2016-11-29 04:14:39.000000000', 'files': ['heat/db/utils.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py', 'heat/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/882a640f18c74e1e81ac03743898ae397fd337de', 'message': 'Refactor purge_deleted, operate on batches of stacks\n\nAvoid large sql ""in"" clauses by operating on smaller batches of stacks\nat a time.\n\nTo avoid transaction overhead and contention on the resource table,\nthe first deletions occur outside of a transaction (are\nautocommitted). This is OK because the purge is re-rentrant -- we\nwon\'t lose any stack_id\'s to delete if something goes wrong before the\nconn.begin() block. That is, we will not orphan any rows if the purge\nis run multiple times where an error occurs.\n\nChange-Id: I9edf0558ed54820842193560e323df6501411d1d\n'}]",21,361570,882a640f18c74e1e81ac03743898ae397fd337de,74,6,14,13564,,,0,"Refactor purge_deleted, operate on batches of stacks

Avoid large sql ""in"" clauses by operating on smaller batches of stacks
at a time.

To avoid transaction overhead and contention on the resource table,
the first deletions occur outside of a transaction (are
autocommitted). This is OK because the purge is re-rentrant -- we
won't lose any stack_id's to delete if something goes wrong before the
conn.begin() block. That is, we will not orphan any rows if the purge
is run multiple times where an error occurs.

Change-Id: I9edf0558ed54820842193560e323df6501411d1d
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/361570/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/utils.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py', 'heat/cmd/manage.py']",4,e65bebfa0fecb3ffc6a7f8aa776e09f078ae0cf7,rpd-chunked," CONF.command.project_id, CONF.command.batch_size) # optional parameter, can be skipped. defualt='20' parser.add_argument( '-b', '--batch_size', default='20', help=_('Number of stacks to delete at a time (per transaction). ' 'Note that a single stack may have many db rows ' '(events, etc.) associated with it.')) ", CONF.command.project_id),165,109
openstack%2Fdevstack~master~Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269,openstack/devstack,master,Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269,Changed the order of steps in the devstack install document,MERGED,2016-10-03 06:44:34.000000000,2016-11-29 14:41:34.000000000,2016-11-29 14:41:34.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4656}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12071}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 20863}]","[{'number': 1, 'created': '2016-10-03 06:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/913ca7263834c38a07a9a508e7a18a5a13dea63e', 'message': 'Changed the order of steps in the devstack install document\n\nThe order of the steps were a bit confusing for the first timers\nin the devstack document. So, changed the order of installation\nsteps to make it clear.\n\nChange-Id: Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269\nCloses-Bug: #1627939\n'}, {'number': 2, 'created': '2016-10-04 14:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d933dd6158b2607250bffe9428ccbcad4f1dd662', 'message': 'Changed the order of steps in the devstack install document\n\nThe order of the steps were a bit confusing for the first timers\nin the devstack document. So, changed the order of installation\nsteps to make it clear.\n\nChange-Id: Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269\nCloses-Bug: #1627939\n'}, {'number': 3, 'created': '2016-11-28 16:33:51.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/89a855f784644f2c4d88331a0d29f85e5fcd741c', 'message': 'Changed the order of steps in the devstack install document\n\nThe order of the steps were a bit confusing for the first timers\nin the devstack document. So, changed the order of installation\nsteps to make it clear.\n\nChange-Id: Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269\nCloses-Bug: #1627939\n'}]",2,380944,89a855f784644f2c4d88331a0d29f85e5fcd741c,24,9,3,20863,,,0,"Changed the order of steps in the devstack install document

The order of the steps were a bit confusing for the first timers
in the devstack document. So, changed the order of installation
steps to make it clear.

Change-Id: Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269
Closes-Bug: #1627939
",git fetch https://review.opendev.org/openstack/devstack refs/changes/44/380944/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,913ca7263834c38a07a9a508e7a18a5a13dea63e,bug/1627939,"Add Stack User -------------- Devstack should be run as a non-root user with sudo enabled (standard logins to cloud images such as ""ubuntu"" or ""cloud-user"" are usually fine). You can quickly create a separate `stack` user to run DevStack with :: devstack/tools/create-stack-user.sh; su stack ","Add Stack User -------------- Devstack should be run as a non-root user with sudo enabled (standard logins to cloud images such as ""ubuntu"" or ""cloud-user"" are usually fine). You can quickly create a separate `stack` user to run DevStack with :: devstack/tools/create-stack-user.sh; su stack ",13,13
openstack%2Fpuppet-vitrage~master~If866265c44ee582ab3d253e05ff7351b4211a2a0,openstack/puppet-vitrage,master,If866265c44ee582ab3d253e05ff7351b4211a2a0,vitrage puppet installation,ABANDONED,2016-05-15 13:13:10.000000000,2016-11-29 14:39:09.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 19134}]","[{'number': 1, 'created': '2016-05-15 13:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/6af8b9396cbe9776b861545b8e428d9186475baf', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}, {'number': 2, 'created': '2016-05-15 13:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/e2e5faae8e54ef36fc263e1070b546228bed33bf', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}, {'number': 3, 'created': '2016-05-15 13:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/5f88429c95e4d3784a403e2d266eb2c955ae8461', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}, {'number': 4, 'created': '2016-05-15 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/adf054bdd99e3b4048140c94fc4a440db442abe6', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}, {'number': 5, 'created': '2016-05-15 14:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/4e3b87481cce020593c36a862cef1076f69feb17', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}, {'number': 6, 'created': '2016-05-16 13:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/11dcd1a61c48920b4980e60db9311ab87ad34815', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}, {'number': 7, 'created': '2016-05-16 14:03:44.000000000', 'files': ['spec/classes/aodh_api_spec.rb', 'spec/unit/provider/vitrage_api_paste_ini/ini_setting_spec.rb', 'manifests/api.pp', 'spec/classes/vitrage_config_spec.rb', 'spec/classes/vitrage_client_spec.rb', 'spec/classes/vitrage_auth_spec.rb', 'spec/classes/vitrage_notifier_spec.rb', 'spec/classes/vitrage_keystone_auth_spec.rb', 'manifests/graph.pp', 'manifests/params.pp', 'manifests/logging.pp', 'lib/puppet/provider/vitrage_api_paste_ini/ini_setting.rb', 'manifests/init.pp', 'manifests/auth.pp', 'lib/puppet/type/vitrage_api_paste_ini.rb', 'spec/classes/vitrage_wsgi_apache_spec.rb', 'manifests/config.pp', 'spec/classes/vitrage_graph_spec.rb', 'spec/unit/type/vitrage_api_paste_init.spec.rb', 'manifests/wsgi/apache.pp', 'manifests/notifier.pp', 'manifests/client.pp', 'examples/vitrage.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/be2a8e3ffcb187f3b5ef5130f9fe68c5d88d543f', 'message': 'vitrage puppet installation\n\nChange-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0\n'}]",0,316441,be2a8e3ffcb187f3b5ef5130f9fe68c5d88d543f,27,4,7,19134,,,0,"vitrage puppet installation

Change-Id: If866265c44ee582ab3d253e05ff7351b4211a2a0
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/41/316441/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'manifests/wsgi/apache.pp', 'lib/puppet/provider/vitrage_api_paste_ini/ini_setting.rb', 'manifests/api.pp', 'manifests/params.pp', 'lib/puppet/type/vitrage_api_paste_ini.rb', 'manifests/client.pp', 'manifests/config.pp', 'examples/vitrage.pp', 'manifests/keystone/auth.pp']",10,6af8b9396cbe9776b861545b8e428d9186475baf,eyalb/vitrage,"# Type of service. Defaults to 'key-manager'.# (optional) The endpoint's public url. (Defaults to 'http://127.0.0.1:8999')# (optional) The endpoint's admin url. (Defaults to 'http://127.0.0.1:8999')# (optional) The endpoint's internal url. (Defaults to 'http://127.0.0.1:8999') # This url should *not* contain any trailing '/'. $service_type = 'rca', $public_url = 'http://127.0.0.1:8999', $internal_url = 'http://127.0.0.1:8999', $admin_url = 'http://127.0.0.1:8999', service_description => 'Root Cause Analysis Service',","# Type of service. Defaults to 'root_cause_analysis_engine'.# (optional) The endpoint's public url. (Defaults to 'http://127.0.0.1:8999/v1')# (optional) The endpoint's admin url. (Defaults to 'http://127.0.0.1:8999/v1')# (optional) The endpoint's internal url. (Defaults to 'http://127.0.0.1:8999/v1') $service_type = 'root_cause_analysis_engine', $public_url = 'http://127.0.0.1:8999/v1', $admin_url = 'http://127.0.0.1:8999/v1', $internal_url = 'http://127.0.0.1:8999/v1', if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Service <| name == 'vitrage-server' |> } Keystone_endpoint[""${region}/${real_service_name}::${service_type}""] ~> Service <| name == 'vitrage-server' |> service_description => 'vitrage Root Cause Analysis engine Service',",518,115
openstack%2Frenderspec~master~I5990fa4883b381147cefda88d58d40a6e8fe508a,openstack/renderspec,master,I5990fa4883b381147cefda88d58d40a6e8fe508a,Add new context functions for version handling,MERGED,2016-10-10 16:18:29.000000000,2016-11-29 14:37:26.000000000,2016-11-29 14:37:26.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 10384}, {'_account_id': 13294}]","[{'number': 1, 'created': '2016-10-10 16:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/ea2bf1d02dcab9941561a5605917d4026ad3b4da', 'message': 'Add new context function ""py2version""\n\nWhen packaging pre-releases (alpha, beta, RC), the version from the\nPython sdist tarball needs to be converted into something usable in the\nRPM world.\n""py2version"" can be used for that.\n\nChange-Id: I5990fa4883b381147cefda88d58d40a6e8fe508a\n'}, {'number': 2, 'created': '2016-10-11 13:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/6f741ee68a60df96707d7c4615e49ff4c2767d24', 'message': 'Add new context functions for version handling\n\nWhen packaging pre-releases (alpha, beta, RC), the version from the\nPython sdist tarball needs to be converted into something usable in the\nRPM world.\n""py2rpmversion"" and ""py2rpmrelease"" can be used for that.\n\nChange-Id: I5990fa4883b381147cefda88d58d40a6e8fe508a\n'}, {'number': 3, 'created': '2016-11-23 13:37:06.000000000', 'files': ['renderspec/__init__.py', 'tests.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/e6577b3f292a8753efda6ca8e22b321be42d8d8d', 'message': 'Add new context functions for version handling\n\nWhen packaging pre-releases (alpha, beta, RC), the version from the\nPython sdist tarball needs to be converted into something usable in the\nRPM world.\n""py2rpmversion"" and ""py2rpmrelease"" can be used for that.\n\nChange-Id: I5990fa4883b381147cefda88d58d40a6e8fe508a\n'}]",15,384622,e6577b3f292a8753efda6ca8e22b321be42d8d8d,20,7,3,7102,,,0,"Add new context functions for version handling

When packaging pre-releases (alpha, beta, RC), the version from the
Python sdist tarball needs to be converted into something usable in the
RPM world.
""py2rpmversion"" and ""py2rpmrelease"" can be used for that.

Change-Id: I5990fa4883b381147cefda88d58d40a6e8fe508a
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/22/384622/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/__init__.py', 'tests.py', 'doc/source/usage.rst']",3,ea2bf1d02dcab9941561a5605917d4026ad3b4da,384622,"context function `py2version` ***************************** Python has a semantic version schema (see `PEP0440`_) and converting Python versions to RPM compatible versions is needed in some cases. For example, in the Python world the version ""1.1.0a3"" is lower than ""1.1.0"" but for RPM the version is higher. To transform a Python version to a RPM compatible version, use:: Version: {{ py2version('1.1.0a3') }} With the `suse` spec-style it will be translated to:: Version: 1.1.0xalpha3 You may ask yourself why ""xalpha3"" instead of just ""~a3"". The reason here is that in the Python world, ""1.1.0a3.dev4"" is higher than ""1.1.0.dev4"" but converting that to RPM, ""1.1.0a3.dev4"" is lower than ""1.1.0.dev4"". So we add a ""x"" in front of the prerelease tag to make the order for RPM correct. .. _PEP0440: https://www.python.org/dev/peps/pep-0440/",,66,0
openstack%2Fhorizon~master~Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1,openstack/horizon,master,Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1,Remove network name from create subnet error message,MERGED,2016-10-17 21:42:19.000000000,2016-11-29 14:36:41.000000000,2016-11-27 23:54:24.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 9155}, {'_account_id': 12071}, {'_account_id': 12281}, {'_account_id': 14151}, {'_account_id': 20198}]","[{'number': 1, 'created': '2016-10-17 21:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c718cb7d2b3c765acfeee7ad31742af8718bd8a3', 'message': 'Remove network name from create subnet error message\n\nChange-Id: Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1\nCloses-bug: #1634272\n'}, {'number': 2, 'created': '2016-10-17 21:44:59.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/51410e5505cacccf18761722f997d4fd88fb4f32', 'message': 'Remove network name from create subnet error message\n\nChange-Id: Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1\nCloses-bug: #1634272\n'}]",0,387692,51410e5505cacccf18761722f997d4fd88fb4f32,13,7,2,11885,,,0,"Remove network name from create subnet error message

Change-Id: Ie2fb7a7b48422acadbc21386f9eabc0490bb74b1
Closes-bug: #1634272
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/387692/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,c718cb7d2b3c765acfeee7ad31742af8718bd8a3,bug/1634272," if network_name: msg = _('Failed to create subnet ""%(sub)s"" for network ""%(net)s"": ' ' %(reason)s') else: msg = _('Failed to create subnet ""%(sub)s"": %(reason)s')"," msg = _('Failed to create subnet ""%(sub)s"" for network ""%(net)s"": ' ' %(reason)s')",5,2
openstack%2Ffuel-web~stable%2Fnewton~Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e,openstack/fuel-web,stable/newton,Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e,Skip empty cpu pinning and hugepages,MERGED,2016-11-29 10:30:07.000000000,2016-11-29 14:36:10.000000000,2016-11-29 14:33:54.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10488}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-29 10:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c33779121c4d8a876e46a0d10396842e9222a975', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n(cherry picked from commit a6434023f18a57947be17933b29cd659ad3ddf66)\n""}, {'number': 2, 'created': '2016-11-29 11:39:57.000000000', 'files': ['nailgun/nailgun/test/unit/test_node_attributes.py', 'nailgun/nailgun/test/unit/test_node_attributes_validator.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_task_deploy.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/api/v1/validators/node.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_90.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d04c1108b2b19e5d681a07fd3492b93d133c4617', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n(cherry picked from commit a6434023f18a57947be17933b29cd659ad3ddf66)\n""}]",0,404133,d04c1108b2b19e5d681a07fd3492b93d133c4617,31,5,2,21013,,,0,"Skip empty cpu pinning and hugepages

If there is no specified hugepages or CPU pinning
distributors shouldn't be called. Also changed
initialization of custom_hugepages type.

Change-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e
Closes-Bug: #1594443
(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)
(cherry picked from commit a6434023f18a57947be17933b29cd659ad3ddf66)
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/33/404133/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_node_attributes.py', 'nailgun/nailgun/test/unit/test_node_attributes_validator.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_task_deploy.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/api/v1/validators/node.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_90.py']",7,c33779121c4d8a876e46a0d10396842e9222a975,bug/1594443," self.assertNotIn('cpu_pinning', serialized_node.get('nova', {}))"," self.assertNotIn('cpu_pinning', serialized_node['nova'])",111,32
openstack%2Fgnocchi~master~If6dadcc595034003cd97d41feae73a19b5ea7424,openstack/gnocchi,master,If6dadcc595034003cd97d41feae73a19b5ea7424,doc: remove unused links,MERGED,2016-11-24 14:22:25.000000000,2016-11-29 14:35:42.000000000,2016-11-29 14:35:42.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2016-11-24 14:22:25.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/0b970f09c404300878284877f5d44837f8c644be', 'message': 'doc: remove unused links\n\nChange-Id: If6dadcc595034003cd97d41feae73a19b5ea7424\n'}]",0,402067,0b970f09c404300878284877f5d44837f8c644be,7,3,1,1669,,,0,"doc: remove unused links

Change-Id: If6dadcc595034003cd97d41feae73a19b5ea7424
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/67/402067/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,0b970f09c404300878284877f5d44837f8c644be,jd/resource-id-unique-per-user-project,,.. _`CORS`: https://en.wikipedia.org/wiki/Cross-origin_resource_sharing .. _`Grafana`: http://grafana.org/,0,2
openstack%2Fgnocchi~master~I5519996031087c8a0e8ae4e0bca5a661dfc95a0d,openstack/gnocchi,master,I5519996031087c8a0e8ae4e0bca5a661dfc95a0d,utils: do not retry on any exception,MERGED,2016-11-10 14:01:48.000000000,2016-11-29 14:35:33.000000000,2016-11-29 14:35:33.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 19594}]","[{'number': 1, 'created': '2016-11-10 14:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4951d50f97743ace311550704e0037d52babfb1d', 'message': 'utils: do not retry on any exception\n\nWe only want to retry when asking for it, not on any exception as it is\nby default.\n\nChange-Id: I5519996031087c8a0e8ae4e0bca5a661dfc95a0d\n'}, {'number': 2, 'created': '2016-11-10 15:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/223eca1887676d5a41346488ae560be5bc864197', 'message': 'utils: do not retry on any exception\n\nWe only want to retry when asking for it, not on any exception as it is\nby default.\n\nChange-Id: I5519996031087c8a0e8ae4e0bca5a661dfc95a0d\n'}, {'number': 3, 'created': '2016-11-14 15:56:55.000000000', 'files': ['gnocchi/utils.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/ff53ff89929acc57ec81b24d40ef047261b8bcc3', 'message': 'utils: do not retry on any exception\n\nWe only want to retry when asking for it, not on any exception as it is\nby default.\n\nChange-Id: I5519996031087c8a0e8ae4e0bca5a661dfc95a0d\n'}]",4,396213,ff53ff89929acc57ec81b24d40ef047261b8bcc3,15,4,3,1669,,,0,"utils: do not retry on any exception

We only want to retry when asking for it, not on any exception as it is
by default.

Change-Id: I5519996031087c8a0e8ae4e0bca5a661dfc95a0d
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/13/396213/3 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/utils.py'],1,4951d50f97743ace311550704e0037d52babfb1d,jd/retry-forever-nope," retry=tenacity.retry.retry_never,",,1,0
openstack%2Fironic-inspector~stable%2Fnewton~I95943826f8d702466ab50a3f5c16bc147313ad41,openstack/ironic-inspector,stable/newton,I95943826f8d702466ab50a3f5c16bc147313ad41,Switch func3 environment to Python 3.5,MERGED,2016-11-29 08:19:27.000000000,2016-11-29 14:34:19.000000000,2016-11-29 14:34:19.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}]","[{'number': 1, 'created': '2016-11-29 08:19:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/95851a88cbc363e685483f9257c8d1b1306ba206', 'message': 'Switch func3 environment to Python 3.5\n\nChange-Id: I95943826f8d702466ab50a3f5c16bc147313ad41\n(cherry picked from commit cb8db157e4d261e8075cc388d8841a4e2e5f2f4a)\n'}]",0,404072,95851a88cbc363e685483f9257c8d1b1306ba206,7,3,1,10239,,,0,"Switch func3 environment to Python 3.5

Change-Id: I95943826f8d702466ab50a3f5c16bc147313ad41
(cherry picked from commit cb8db157e4d261e8075cc388d8841a4e2e5f2f4a)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/72/404072/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,95851a88cbc363e685483f9257c8d1b1306ba206,func3,basepython = python3.5,basepython = python3.4,1,1
openstack%2Fsahara~master~Ibe505c8008fe74dda8e632745127c4bfeb126352,openstack/sahara,master,Ibe505c8008fe74dda8e632745127c4bfeb126352,Updating list of plugins in config sample,MERGED,2016-11-17 09:31:18.000000000,2016-11-29 14:30:30.000000000,2016-11-29 14:30:30.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8932}, {'_account_id': 12038}, {'_account_id': 13998}, {'_account_id': 24061}]","[{'number': 1, 'created': '2016-11-17 09:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d716e80145b37aace00156d819824c5625e2e721', 'message': 'The type Hdp easy to mislead users,there is no plugin of Hdp\n\nChange-Id: Ibe505c8008fe74dda8e632745127c4bfeb126352\n'}, {'number': 2, 'created': '2016-11-28 15:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4e19d6f107856b397bf2de14a91abb0c746f1713', 'message': 'Updating list of plugins in config sample\n\nThe list of plugins in config sample was updated to use value\nby default.\n\nChange-Id: Ibe505c8008fe74dda8e632745127c4bfeb126352\n'}, {'number': 3, 'created': '2016-11-29 12:22:26.000000000', 'files': ['etc/sahara/sahara.conf.sample-basic'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ac0413aa8cea3ce90d40f87b5825287df9e49147', 'message': 'Updating list of plugins in config sample\n\nThe list of plugins in config sample was updated to use value\nby default.\n\nChange-Id: Ibe505c8008fe74dda8e632745127c4bfeb126352\n'}]",1,398879,ac0413aa8cea3ce90d40f87b5825287df9e49147,22,6,3,24061,,,0,"Updating list of plugins in config sample

The list of plugins in config sample was updated to use value
by default.

Change-Id: Ibe505c8008fe74dda8e632745127c4bfeb126352
",git fetch https://review.opendev.org/openstack/sahara refs/changes/79/398879/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/sahara/sahara.conf.sample-basic'],1,d716e80145b37aace00156d819824c5625e2e721,config,"#plugins=vanilla,spark,cdh,ambari,storm,mapr","#plugins=vanilla,hdp,spark,cdh",1,1
openstack%2Fnova-powervm~master~Ie874bbe112f5998960faf9cd6928a63577092d25,openstack/nova-powervm,master,Ie874bbe112f5998960faf9cd6928a63577092d25,Change arch to fields.Architecture,MERGED,2016-11-28 22:52:13.000000000,2016-11-29 14:29:27.000000000,2016-11-29 14:29:27.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 13883}, {'_account_id': 14070}]","[{'number': 1, 'created': '2016-11-28 22:52:13.000000000', 'files': ['nova_powervm/virt/powervm/host.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1d7b6a1907383b4f92a0a73e7e57696f21719760', 'message': 'Change arch to fields.Architecture\n\narch was moved to fields.Architecture in the following change\n\nhttps://review.openstack.org/#/c/356067/\n\nThis updates the import to use the new location.\n\nChange-Id: Ie874bbe112f5998960faf9cd6928a63577092d25\n'}]",0,403934,1d7b6a1907383b4f92a0a73e7e57696f21719760,9,4,1,16710,,,0,"Change arch to fields.Architecture

arch was moved to fields.Architecture in the following change

https://review.openstack.org/#/c/356067/

This updates the import to use the new location.

Change-Id: Ie874bbe112f5998960faf9cd6928a63577092d25
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/34/403934/1 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/host.py'],1,1d7b6a1907383b4f92a0a73e7e57696f21719760,update_arch_import," (fields.Architecture.PPC64, hv_type.PHYP, vm_mode.HVM), (fields.Architecture.PPC64LE, hv_type.PHYP, vm_mode.HVM),","from nova.compute import arch (arch.PPC64, hv_type.PHYP, vm_mode.HVM), (arch.PPC64LE, hv_type.PHYP, vm_mode.HVM),",2,3
openstack%2Fproject-config~master~Iabd54fedc8c12bcd3a0fd76b9fc48a93c941bad5,openstack/project-config,master,Iabd54fedc8c12bcd3a0fd76b9fc48a93c941bad5,Add zookeeper-servers to nodepool.yaml,MERGED,2016-11-29 02:55:08.000000000,2016-11-29 14:27:19.000000000,2016-11-29 14:27:19.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2016-11-29 02:55:08.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3886468eb9e72ec98ebf5b27538654d230d3ffa', 'message': 'Add zookeeper-servers to nodepool.yaml\n\nThis is needed as part of our zuulv3 effort. Specifically, nb01.o.o\nwill use them.  This will be a noop for zuulv2.\n\nChange-Id: Iabd54fedc8c12bcd3a0fd76b9fc48a93c941bad5\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,403990,d3886468eb9e72ec98ebf5b27538654d230d3ffa,8,4,1,4162,,,0,"Add zookeeper-servers to nodepool.yaml

This is needed as part of our zuulv3 effort. Specifically, nb01.o.o
will use them.  This will be a noop for zuulv2.

Change-Id: Iabd54fedc8c12bcd3a0fd76b9fc48a93c941bad5
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/403990/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,d3886468eb9e72ec98ebf5b27538654d230d3ffa,zuulv3-builder,zookeeper-servers: - host: nodepool.openstack.org port: 2181 ,,4,0
openstack%2Fdevstack-gate~master~Ieeab15967692b04934c7a722b55c40fec743a22e,openstack/devstack-gate,master,Ieeab15967692b04934c7a722b55c40fec743a22e,Add setup_tempest_user Ansible role/playbook,ABANDONED,2016-11-03 11:52:52.000000000,2016-11-29 14:20:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 9061}]","[{'number': 1, 'created': '2016-11-03 11:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a1b0fd1d16a4de698bb1021aaaf66973257f687c', 'message': 'Add setup_tempest_user Ansible role\n\nChange-Id: Ieeab15967692b04934c7a722b55c40fec743a22e\n'}, {'number': 2, 'created': '2016-11-28 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/53dc2e89857beb7eb7d08d6f50b6081c9c4f6fdd', 'message': 'Add setup_tempest_user Ansible role/playbook\n\nChange-Id: Ieeab15967692b04934c7a722b55c40fec743a22e\n'}, {'number': 3, 'created': '2016-11-28 14:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/98f28c2f8c7e8433f14b09e8628ef3256c79f834', 'message': 'Add setup_tempest_user Ansible role/playbook\n\nChange-Id: Ieeab15967692b04934c7a722b55c40fec743a22e\n'}, {'number': 4, 'created': '2016-11-28 15:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/55156c24060557b1193f5dfacddb503aff388200', 'message': 'Add setup_tempest_user Ansible role/playbook\n\nChange-Id: Ieeab15967692b04934c7a722b55c40fec743a22e\n'}, {'number': 5, 'created': '2016-11-28 20:20:16.000000000', 'files': ['playbooks/setup_tempest_user.yaml', 'playbooks/roles/setup_tempest_user/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/eda447c19db5c424620ee6c6d3e042d6d5d83d5f', 'message': 'Add setup_tempest_user Ansible role/playbook\n\nChange-Id: Ieeab15967692b04934c7a722b55c40fec743a22e\n'}]",2,393261,eda447c19db5c424620ee6c6d3e042d6d5d83d5f,15,3,5,1106,,,0,"Add setup_tempest_user Ansible role/playbook

Change-Id: Ieeab15967692b04934c7a722b55c40fec743a22e
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/61/393261/5 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/setup_tempest_user/tasks/main.yaml'],1,a1b0fd1d16a4de698bb1021aaaf66973257f687c,setup_tempest_user,--- - user: name=tempest shell=/bin/bash group=tempest - copy: src=51_tempest_sh dest=/etc/sudoers.d owner=root group=root mode=0440 ,,3,0
openstack%2Fdevstack-plugin-amqp1~master~Id8b0eb735733135e9584db93aaf3d1b96dd42c74,openstack/devstack-plugin-amqp1,master,Id8b0eb735733135e9584db93aaf3d1b96dd42c74,Generate full content for sasl configuration files,MERGED,2016-11-16 14:35:54.000000000,2016-11-29 14:18:36.000000000,2016-11-29 14:18:36.000000000,"[{'_account_id': 3}, {'_account_id': 8770}]","[{'number': 1, 'created': '2016-11-16 14:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/f867a65249c04bf06f4963d8a96dea5d2aaef78c', 'message': 'Generate full content for sasl configuration files\n\nChange-Id: Id8b0eb735733135e9584db93aaf3d1b96dd42c74\n'}, {'number': 2, 'created': '2016-11-16 16:20:39.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/590aef9fbecc6405827365093a658bb7fc3c0d62', 'message': 'Generate full content for sasl configuration files\n\nChange-Id: Id8b0eb735733135e9584db93aaf3d1b96dd42c74\n'}]",0,398383,590aef9fbecc6405827365093a658bb7fc3c0d62,10,2,2,20523,,,0,"Generate full content for sasl configuration files

Change-Id: Id8b0eb735733135e9584db93aaf3d1b96dd42c74
",git fetch https://review.opendev.org/openstack/devstack-plugin-amqp1 refs/changes/83/398383/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,f867a65249c04bf06f4963d8a96dea5d2aaef78c,amqp1/sasl, cat <<EOF | sudo tee $sasl_conf_file pwcheck_method: auxprop auxprop_plugin: sasldb sasldb_path: /var/lib/qpidd/qpidd.sasldb mech_list: PLAIN EOF authenticatePeer: yes cat <<EOF | sudo tee $sasl_conf_file pwcheck_method: auxprop auxprop_plugin: sasldb sasldb_path: /var/lib/qdrouterd/qdrouterd.sasldb mech_list: PLAIN EOF, sudo sed -i.bak '/PLAIN/!s/mech_list: /mech_list: PLAIN /' $sasl_conf_file authenticatePeer: yes sudo sed -i.bak '/PLAIN/!s/mech_list: /mech_list: PLAIN /' $sasl_conf_file,13,3
openstack%2Ffuel-ui~master~I079746d7c44aa867640503c54b7c6c5e91ebc0fe,openstack/fuel-ui,master,I079746d7c44aa867640503c54b7c6c5e91ebc0fe,Fix complexity warnings,ABANDONED,2016-09-21 14:17:59.000000000,2016-11-29 14:18:21.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-09-21 14:17:59.000000000', 'files': ['static/views/controls.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js', 'static/views/cluster_page_tabs/nodes_tab_screens/edit_node_interfaces_screen.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/a7786b6c4e65861f0c544d4c6159b7b46adc588b', 'message': 'Fix complexity warnings\n\nFix part of ""complexity"" Eslint warnings.\n\nPartial-Bug: #1626118\n\nChange-Id: I079746d7c44aa867640503c54b7c6c5e91ebc0fe\n'}]",0,374185,a7786b6c4e65861f0c544d4c6159b7b46adc588b,9,3,1,8766,,,0,"Fix complexity warnings

Fix part of ""complexity"" Eslint warnings.

Partial-Bug: #1626118

Change-Id: I079746d7c44aa867640503c54b7c6c5e91ebc0fe
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/85/374185/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/views/controls.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js', 'static/views/cluster_page_tabs/nodes_tab_screens/edit_node_interfaces_screen.js']",3,a7786b6c4e65861f0c544d4c6159b7b46adc588b,bug/1626118," var { cluster, nodes, locked, availableBondingTypes, interfaceSpeeds, interfaceNames, errors } = this.props; var propertiesErrors = (errors || {}).interface_properties || {}; !_.isEmpty(propertiesErrors) && isCompact && i18n(ns + 'interface_properties_errors') <div className={utils.classNames( 'ifc-connection-status', ifc.get('state') === 'down' ? 'ifc-offline' : 'ifc-online' )} /> nodes.length === 1 && errors={propertiesErrors} isMassConfiguration={!!nodes.length} <div className='clearfix' />"," var {cluster, locked, availableBondingTypes, interfaceSpeeds, interfaceNames, errors} = this.props; var connectionStatusClasses = (ifc) => { var isInterfaceDown = ifc.get('state') === 'down'; return { 'ifc-connection-status': true, 'ifc-online': !isInterfaceDown, 'ifc-offline': isInterfaceDown }; }; var hasPropertiesErrors = !_.isEmpty((errors || {}).interface_properties); hasPropertiesErrors && isCompact && i18n(ns + 'interface_properties_errors') <div className={utils.classNames( connectionStatusClasses(renderedInterface) )}></div> this.props.nodes.length === 1 && errors={(this.props.errors || {}).interface_properties || {}} isMassConfiguration={!!this.props.nodes.length} <div className='clearfix'></div>",58,81
openstack%2Ftripleo-heat-templates~master~I3527a64c0c8f56ca77115d32849fa23fe710112d,openstack/tripleo-heat-templates,master,I3527a64c0c8f56ca77115d32849fa23fe710112d,Import TripleO CI environments from tripleo-ci,MERGED,2016-11-24 16:03:18.000000000,2016-11-29 14:18:11.000000000,2016-11-29 14:18:11.000000000,"[{'_account_id': 3}, {'_account_id': 6681}, {'_account_id': 6924}, {'_account_id': 10873}, {'_account_id': 12715}, {'_account_id': 20775}]","[{'number': 1, 'created': '2016-11-24 16:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4166f588fcb0e611db4b00d7cbf87e3305f46dc', 'message': 'Import TripleO CI environments from tripleo-ci\n\nImport TripleO CI environments from tripleo-ci into THT for some\nreasons:\n\n1) THT is branched while tripleo-ci is not. Having them here would allow\n   to make scenarios able to evolve over the releases without adding\n   more scenarios.\n2) Help our developers to run TripleO CI scenarios themselves from THT\n   by exposing the templates here.\n\nThe whole discussion is here:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html\n\nChange-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}, {'number': 2, 'created': '2016-11-24 16:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cf57415364fbce06b1c6e912283544f0bf96bf2', 'message': 'Import TripleO CI environments from tripleo-ci\n\nImport TripleO CI environments from tripleo-ci into THT for some\nreasons:\n\n1) THT is branched while tripleo-ci is not. Having them here would allow\n   to make scenarios able to evolve over the releases without adding\n   more scenarios.\n2) Help our developers to run TripleO CI scenarios themselves from THT\n   by exposing the templates here.\n\nThe whole discussion is here:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html\n\nChange-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}, {'number': 3, 'created': '2016-11-25 12:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/332572e9e20236db33dd8dc9de27a0c17032c740', 'message': 'Import TripleO CI environments from tripleo-ci\n\nImport TripleO CI environments from tripleo-ci into THT for some\nreasons:\n\n1) THT is branched while tripleo-ci is not. Having them here would allow\n   to make scenarios able to evolve over the releases without adding\n   more scenarios.\n2) Help our developers to run TripleO CI scenarios themselves from THT\n   by exposing the templates here.\n\nThe whole discussion is here:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html\n\nChange-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}, {'number': 4, 'created': '2016-11-25 12:54:46.000000000', 'files': ['ci/common/net-config-multinode.yaml', 'ci/README.rst', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml', 'ci/pingtests/scenario003-multinode.yaml', 'ci/pingtests/scenario002-multinode.yaml', 'ci/pingtests/scenario001-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2819cb391b3935e244888bdbaeb3b9d7d4310c8e', 'message': 'Import TripleO CI environments from tripleo-ci\n\nImport TripleO CI environments from tripleo-ci into THT for some\nreasons:\n\n1) THT is branched while tripleo-ci is not. Having them here would allow\n   to make scenarios able to evolve over the releases without adding\n   more scenarios.\n2) Help our developers to run TripleO CI scenarios themselves from THT\n   by exposing the templates here.\n\nThe whole discussion is here:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html\n\nChange-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d\n'}]",6,402119,2819cb391b3935e244888bdbaeb3b9d7d4310c8e,19,6,4,3153,,,0,"Import TripleO CI environments from tripleo-ci

Import TripleO CI environments from tripleo-ci into THT for some
reasons:

1) THT is branched while tripleo-ci is not. Having them here would allow
   to make scenarios able to evolve over the releases without adding
   more scenarios.
2) Help our developers to run TripleO CI scenarios themselves from THT
   by exposing the templates here.

The whole discussion is here:
http://lists.openstack.org/pipermail/openstack-dev/2016-November/107816.html

Change-Id: I3527a64c0c8f56ca77115d32849fa23fe710112d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/402119/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ci/scenario001/environment.yaml', 'environments/ci/scenario002/pingtest.yaml', 'environments/ci/scenario002/environment.yaml', 'environments/ci/scenario003/environment.yaml', 'environments/ci/README.rst', 'environments/ci/scenario001/pingtest.yaml', 'environments/ci/common/net-config-multinode.yaml', 'environments/ci/scenario003/pingtest.yaml']",8,b4166f588fcb0e611db4b00d7cbf87e3305f46dc,tripleo-ci/scenarios,"heat_template_version: 2013-05-23 description: > HOT template to created resources deployed by scenario003. parameters: key_name: type: string description: Name of keypair to assign to servers default: 'pingtest_key' image: type: string description: Name of image to use for servers default: 'pingtest_image' public_net_name: type: string default: 'nova' description: > ID or name of public network for which floating IP addresses will be allocated private_net_name: type: string description: Name of private network to be created default: 'default-net' private_net_cidr: type: string description: Private network address (CIDR notation) default: '192.168.2.0/24' private_net_gateway: type: string description: Private network gateway address default: '192.168.2.1' private_net_pool_start: type: string description: Start of private network IP address allocation pool default: '192.168.2.100' private_net_pool_end: type: string default: '192.168.2.200' description: End of private network IP address allocation pool resources: key_pair: type: OS::Nova::KeyPair properties: save_private_key: true name: {get_param: key_name } private_net: type: OS::Neutron::Net properties: name: { get_param: private_net_name } private_subnet: type: OS::Neutron::Subnet properties: network_id: { get_resource: private_net } cidr: { get_param: private_net_cidr } gateway_ip: { get_param: private_net_gateway } allocation_pools: - start: { get_param: private_net_pool_start } end: { get_param: private_net_pool_end } router: type: OS::Neutron::Router properties: external_gateway_info: network: { get_param: public_net_name } router_interface: type: OS::Neutron::RouterInterface properties: router_id: { get_resource: router } subnet_id: { get_resource: private_subnet } server1: type: OS::Nova::Server properties: name: Server1 flavor: { get_resource: test_flavor } image: { get_param: image } key_name: { get_resource: key_pair } networks: - port: { get_resource: server1_port } server1_port: type: OS::Neutron::Port properties: network_id: { get_resource: private_net } fixed_ips: - subnet_id: { get_resource: private_subnet } security_groups: [{ get_resource: server_security_group }] server1_floating_ip: type: OS::Neutron::FloatingIP # TODO: investigate why we need this depends_on and if we could # replace it by router_id with get_resource: router_interface depends_on: router_interface properties: floating_network: { get_param: public_net_name } port_id: { get_resource: server1_port } server_security_group: type: OS::Neutron::SecurityGroup properties: description: Add security group rules for server name: pingtest-security-group rules: - remote_ip_prefix: 0.0.0.0/0 protocol: tcp port_range_min: 22 port_range_max: 22 - remote_ip_prefix: 0.0.0.0/0 protocol: icmp test_flavor: type: OS::Nova::Flavor properties: ram: 512 vcpus: 1 sahara-image: type: OS::Sahara::ImageRegistry properties: image: { get_param: image } username: cirros tags: - tripleo outputs: server1_private_ip: description: IP address of server1 in private network value: { get_attr: [ server1, first_address ] } server1_public_ip: description: Floating IP address of server1 in public network value: { get_attr: [ server1_floating_ip, floating_ip_address ] } ",,668,0
openstack%2Fdevstack-gate~master~Ieccd780d3ab1284e61bed73625f3a9942ec829b2,openstack/devstack-gate,master,Ieccd780d3ab1284e61bed73625f3a9942ec829b2,Add setup_stack_user playbook/role,ABANDONED,2016-10-07 11:47:16.000000000,2016-11-29 14:17:28.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 7069}]","[{'number': 1, 'created': '2016-10-07 11:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9f46dcb9777b4b2927eafad19a425647122f684a', 'message': 'Add setup_stack_user role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 2, 'created': '2016-10-28 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/689a1dece8cb1a6c9030de61290c878a5d4f8f95', 'message': 'Add setup_stack_user role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 3, 'created': '2016-11-03 11:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d75277089ea6dd54aa28e3f892e17da556440854', 'message': 'Add setup_stack_user role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 4, 'created': '2016-11-03 11:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/12f71daf647c3fb78a6a3ed4a574782d78d9dae1', 'message': 'Add setup_stack_user role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 5, 'created': '2016-11-28 12:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/b724d0012a7661e63cde9870fcdd5510000a3b07', 'message': 'Add setup_stack_user playbook/role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 6, 'created': '2016-11-28 14:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/952148bc056bdd84d3dbc6df2eb49a70fab27f5d', 'message': 'Add setup_stack_user playbook/role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 7, 'created': '2016-11-28 19:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/979c7703c799b001d1fd1af2df0c47c0545e94b9', 'message': 'Add setup_stack_user playbook/role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 8, 'created': '2016-11-28 21:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/42bd7a18f3b9fc0ef4452756cbf6b49a64c4bc7c', 'message': 'Add setup_stack_user playbook/role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}, {'number': 9, 'created': '2016-11-28 22:40:35.000000000', 'files': ['playbooks/roles/setup_stack_user/defaults/main.yaml', 'playbooks/setup_stack_user.yaml', 'playbooks/roles/setup_stack_user/files/50_stack_sh', 'playbooks/roles/setup_stack_user/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d7861a8926c6c031b90f83d28833b9f89e3162a1', 'message': 'Add setup_stack_user playbook/role\n\nChange-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2\n'}]",0,383685,d7861a8926c6c031b90f83d28833b9f89e3162a1,28,3,9,1106,,,0,"Add setup_stack_user playbook/role

Change-Id: Ieccd780d3ab1284e61bed73625f3a9942ec829b2
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/85/383685/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/setup_stack_user/tasks/main.yaml', 'playbooks/setup_stack_user/50_stack_sh', 'playbooks/setup_stack_user/defaults/main.yaml']",3,9f46dcb9777b4b2927eafad19a425647122f684a,setup_stack_user_role,--- BASE: /opt/stack ,,8,0
openstack%2Fdevstack-gate~master~I250214a0c71f909dc500a39109c48107c483f7f7,openstack/devstack-gate,master,I250214a0c71f909dc500a39109c48107c483f7f7,Add copy_mirror_config playbook/role,ABANDONED,2016-10-07 10:28:30.000000000,2016-11-29 14:17:07.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}]","[{'number': 1, 'created': '2016-10-07 10:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f4199312ac57ffbcf947b01af9b40fccb241616a', 'message': 'Add copy_mirror_config role\n\nChange-Id: I250214a0c71f909dc500a39109c48107c483f7f7\n'}, {'number': 2, 'created': '2016-11-28 14:24:42.000000000', 'files': ['playbooks/copy_mirror_config.yaml', 'playbooks/roles/copy_mirror_config/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/60758f77ca531707bc5958beaf50ed0b634d7d3a', 'message': 'Add copy_mirror_config playbook/role\n\nChange-Id: I250214a0c71f909dc500a39109c48107c483f7f7\n'}]",0,383629,60758f77ca531707bc5958beaf50ed0b634d7d3a,10,2,2,1106,,,0,"Add copy_mirror_config playbook/role

Change-Id: I250214a0c71f909dc500a39109c48107c483f7f7
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/29/383629/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/copy_mirror_config/tasks/main.yaml'],1,f4199312ac57ffbcf947b01af9b40fccb241616a,zuulv3,- name: Get status of pydistutils.cfg file stat: path=.pydistutils.cfg register: st - block: - command: install -D -m0644 -o root -g root ~/.pydistutils.cfg ~root/.pydistutils.cfg - command: install -D -m0644 -o stack -g stack ~/.pydistutils.cfg ~stack/.pydistutils.cfg - command: install -D -m0644 -o tempest -g tempest ~/.pydistutils.cfg ~tempest/.pydistutils.cfg when: st.stat.exists become: yes ,,9,0
openstack%2Fopenstack-ansible-os_cinder~master~Ic6c005bc55018898830bfc937829c6fade72e670,openstack/openstack-ansible-os_cinder,master,Ic6c005bc55018898830bfc937829c6fade72e670,Fix virtualenv-tools issue,MERGED,2016-11-28 13:29:47.000000000,2016-11-29 14:14:02.000000000,2016-11-29 14:14:01.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2016-11-28 13:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/8d935d00168314da316ac5a2e3ca54bd2604f91f', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: Ic6c005bc55018898830bfc937829c6fade72e670\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 2, 'created': '2016-11-28 14:35:54.000000000', 'files': ['tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/679b89f307c8af9412c5ed122a75bd9ebdb63a3a', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: Ic6c005bc55018898830bfc937829c6fade72e670\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}]",1,403696,679b89f307c8af9412c5ed122a75bd9ebdb63a3a,21,4,2,13095,,,0,"Fix virtualenv-tools issue

please see https://github.com/fireteam/virtualenv-tools/issues/5

This make installation of the virtualenv impossible on CentOS7 since
you endup with python > python2.7 and python2.7 > python

lrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python

Change-Id: Ic6c005bc55018898830bfc937829c6fade72e670
Related-Bug: #1637509
Partial-Bug: #1644629
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/96/403696/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_install.yml'],1,8d935d00168314da316ac5a2e3ca54bd2604f91f,bug/1637509,"- name: CentOS remote python from path first file: path: ""{{ cinder_bin | dirname }}/bin/python2.7"" state: ""absent"" when: - ansible_pkg_mgr == 'yum' - not cinder_developer_mode | bool - cinder_get_venv | changed or cinder_venv_dir | changed ",,9,0
openstack%2Fopenstack-manuals~master~I4997bc0d83248bb825cf960a4d617ec705137af1,openstack/openstack-manuals,master,I4997bc0d83248bb825cf960a4d617ec705137af1,Draft documents are for next release,MERGED,2016-11-29 10:47:36.000000000,2016-11-29 14:10:38.000000000,2016-11-29 14:10:38.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 14947}, {'_account_id': 19779}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-11-29 10:47:36.000000000', 'files': ['www/draft/draft-index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/578a740d015e7402f0ca33771d9cb9e68b851e9b', 'message': 'Draft documents are for next release\n\nUpdate the title to state this is documentation for Ocata, the upcoming\nrelease.\n\nChange-Id: I4997bc0d83248bb825cf960a4d617ec705137af1\n'}]",0,404143,578a740d015e7402f0ca33771d9cb9e68b851e9b,9,5,1,6547,,,0,"Draft documents are for next release

Update the title to state this is documentation for Ocata, the upcoming
release.

Change-Id: I4997bc0d83248bb825cf960a4d617ec705137af1
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/43/404143/1 && git format-patch -1 --stdout FETCH_HEAD,['www/draft/draft-index.html'],1,578a740d015e7402f0ca33771d9cb9e68b851e9b,draft-is-ocata, <h2>Documentation preview for Ocata (February 2017)</h2>, <h2>Documentation preview for Newton (October 2016)</h2>,1,1
openstack%2Fkeystonemiddleware~master~I9886df7fc8cfe3d35795f475ddc20f4006521694,openstack/keystonemiddleware,master,I9886df7fc8cfe3d35795f475ddc20f4006521694,Drop MANIFEST.in - it's not needed by pbr,MERGED,2016-11-29 02:52:43.000000000,2016-11-29 14:10:28.000000000,2016-11-29 14:10:28.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 7725}, {'_account_id': 8119}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-11-29 02:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0b44f7a48f1c0739bba3aa9b4da1bea480bdee64', 'message': ""Keystonemiddleware already uses PBR:-\nsetuptools.setup(\n setup_requires=['pbr>=1.8'],\n pbr=True)\n\nThis patch removes `MANIFEST.in` file as pbr generates a\nsensible manifest from git files and some standard files\nand it removes the need for an explicit `MANIFEST.in` file.\n\nChange-Id: I9886df7fc8cfe3d35795f475ddc20f4006521694\nCloses-Bug: #1608980\n""}, {'number': 2, 'created': '2016-11-29 03:34:26.000000000', 'files': ['MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/77a7828fc1c07b121c1e24bc087c9f7789900446', 'message': ""Drop MANIFEST.in - it's not needed by pbr\n\nKeystonemiddleware already uses PBR:-\nsetuptools.setup(\n setup_requires=['pbr>=1.8'],\n pbr=True)\n\nThis patch removes `MANIFEST.in` file as pbr generates a\nsensible manifest from git files and some standard files\nand it removes the need for an explicit `MANIFEST.in` file.\n\nChange-Id: I9886df7fc8cfe3d35795f475ddc20f4006521694\nCloses-Bug: #1608980\n""}]",0,403987,77a7828fc1c07b121c1e24bc087c9f7789900446,10,5,2,22056,,,0,"Drop MANIFEST.in - it's not needed by pbr

Keystonemiddleware already uses PBR:-
setuptools.setup(
 setup_requires=['pbr>=1.8'],
 pbr=True)

This patch removes `MANIFEST.in` file as pbr generates a
sensible manifest from git files and some standard files
and it removes the need for an explicit `MANIFEST.in` file.

Change-Id: I9886df7fc8cfe3d35795f475ddc20f4006521694
Closes-Bug: #1608980
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/87/403987/2 && git format-patch -1 --stdout FETCH_HEAD,['MANIFEST.in'],1,0b44f7a48f1c0739bba3aa9b4da1bea480bdee64,bug/1608980,,include README.rst include AUTHORS HACKING LICENSE include ChangeLog include run_tests.sh tox.ini recursive-include doc * recursive-include tests * recursive-include tools * ,0,7
openstack%2Fpython-cloudkittyclient~master~Ife248e87e1126d101be5e4550b933e66eccadbb9,openstack/python-cloudkittyclient,master,Ife248e87e1126d101be5e4550b933e66eccadbb9,Use os_project name in get_client,MERGED,2016-11-28 15:32:49.000000000,2016-11-29 14:10:12.000000000,2016-11-29 14:10:12.000000000,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 18898}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-11-28 15:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/51ceb6e1f9e368671e9ce3084d7b239c2bf21a9b', 'message': ""Use os_project name in get_client\n\nThe cloudkitty Client object cannot authenticate into keystone\nif 'os_project_name' is passed as parameter instead of 'os_tenant_name'.\n\nChange-Id: Ife248e87e1126d101be5e4550b933e66eccadbb9\n""}, {'number': 2, 'created': '2016-11-29 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/0b50db6935e76901d3dbfbbe8f37844dcab2c320', 'message': ""Use os_project name in get_client\n\nThe cloudkitty Client object cannot authenticate into keystone\nif 'os_project_name' is passed as parameter instead of 'os_tenant_name'.\n\nChange-Id: Ife248e87e1126d101be5e4550b933e66eccadbb9\n""}, {'number': 3, 'created': '2016-11-29 13:50:52.000000000', 'files': ['cloudkittyclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/8fa848fb5162ae53a416b65d0b31e5678d81a965', 'message': ""Use os_project name in get_client\n\nThe cloudkitty Client object cannot authenticate into keystone\nif 'os_project_name' is passed as parameter instead of 'os_tenant_name'.\nIt is the same if 'os_project_id' is passed instead of 'os_tenant_id'.\n\nThis patch fixes both of these issues.\n\nChange-Id: Ife248e87e1126d101be5e4550b933e66eccadbb9\n""}]",2,403763,8fa848fb5162ae53a416b65d0b31e5678d81a965,15,4,3,23060,,,0,"Use os_project name in get_client

The cloudkitty Client object cannot authenticate into keystone
if 'os_project_name' is passed as parameter instead of 'os_tenant_name'.
It is the same if 'os_project_id' is passed instead of 'os_tenant_id'.

This patch fixes both of these issues.

Change-Id: Ife248e87e1126d101be5e4550b933e66eccadbb9
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/63/403763/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/client.py'],1,51ceb6e1f9e368671e9ce3084d7b239c2bf21a9b,tenant-project-name," 'tenant_name': (kwargs.get('os_tenant_name') or kwargs.get('os_project_name')), tenant_name=kwargs.get('tenant_name') or kwargs.get('project_name'),"," 'tenant_name': kwargs.get('os_tenant_name'), tenant_name=kwargs.get('tenant_name'),",3,2
openstack%2Fopenstack-ansible-os_glance~master~I2377dc89e7220e653c0b9a3aab7e882cf2324f2e,openstack/openstack-ansible-os_glance,master,I2377dc89e7220e653c0b9a3aab7e882cf2324f2e,Fix virtualenv-tools issue,MERGED,2016-11-28 13:38:41.000000000,2016-11-29 14:09:10.000000000,2016-11-29 14:09:10.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2016-11-28 13:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/3031efc8fdaf9324b4c83d338d17d9af731b7566', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I2377dc89e7220e653c0b9a3aab7e882cf2324f2e\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 2, 'created': '2016-11-28 14:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/0f382c1f92099017d789308481425057d753dbbb', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I2377dc89e7220e653c0b9a3aab7e882cf2324f2e\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 3, 'created': '2016-11-28 16:14:04.000000000', 'files': ['tasks/glance_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/a06e5244f30436675c597294c72b891cd6f8d1e1', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I2377dc89e7220e653c0b9a3aab7e882cf2324f2e\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}]",1,403701,a06e5244f30436675c597294c72b891cd6f8d1e1,21,5,3,13095,,,0,"Fix virtualenv-tools issue

please see https://github.com/fireteam/virtualenv-tools/issues/5

This make installation of the virtualenv impossible on CentOS7 since
you endup with python > python2.7 and python2.7 > python

lrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python

Change-Id: I2377dc89e7220e653c0b9a3aab7e882cf2324f2e
Related-Bug: #1637509
Partial-Bug: #1644629
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/01/403701/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_install.yml'],1,3031efc8fdaf9324b4c83d338d17d9af731b7566,bug/1637509,"- name: CentOS remote python from path first file: path: ""{{ glance_bin | dirname }}/bin/python2.7"" state: ""absent"" when: - ansible_pkg_mgr == 'yum' - not glance_developer_mode | bool - glance_get_venv | changed or glance_venv_dir | changed ",,9,0
openstack%2Fcompute-hyperv~master~I0a58e3ea36c8de54caede5dc227109915d505d76,openstack/compute-hyperv,master,I0a58e3ea36c8de54caede5dc227109915d505d76,Change compute-hyperv driver to use fields object,MERGED,2016-11-29 10:07:32.000000000,2016-11-29 14:04:37.000000000,2016-11-29 14:04:37.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 12604}]","[{'number': 1, 'created': '2016-11-29 10:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/7051705842c090bd6917b510b0c72ee5b0b33a94', 'message': 'Change compute-hyperv driver to use fields object\n\nNova continues to transition to using objects. Arch module was\nmoved into a object by change: I372266b158667683cad973f20976619c34538491\n\nThis patch modifies compute-hyperv appropriately.\n\nChange-Id: I0a58e3ea36c8de54caede5dc227109915d505d76\n'}, {'number': 2, 'created': '2016-11-29 10:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/dff8f925ee6b5a6c59e0a7f7089a3ffcfcb3b78c', 'message': 'Change compute-hyperv driver to use fields object\n\nNova continues to transition to using objects. Arch module was\nmoved into a object by change: I372266b158667683cad973f20976619c34538491\n\nThis patch modifies compute-hyperv appropriately.\n\nChange-Id: I0a58e3ea36c8de54caede5dc227109915d505d76\n'}, {'number': 3, 'created': '2016-11-29 11:47:18.000000000', 'files': ['hyperv/nova/hostops.py', 'hyperv/nova/constants.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/497b8aced5ca497a6cb9e72a533bf066d4111b03', 'message': 'Change compute-hyperv driver to use fields object\n\nNova continues to transition to using objects. Arch module was\nmoved into a object by change: Ib27a52f603f557e99940ec88839b77860812fdd3\n\nThis patch modifies compute-hyperv appropriately.\n\nChange-Id: I0a58e3ea36c8de54caede5dc227109915d505d76\n'}]",0,404123,497b8aced5ca497a6cb9e72a533bf066d4111b03,16,4,3,12604,,,0,"Change compute-hyperv driver to use fields object

Nova continues to transition to using objects. Arch module was
moved into a object by change: Ib27a52f603f557e99940ec88839b77860812fdd3

This patch modifies compute-hyperv appropriately.

Change-Id: I0a58e3ea36c8de54caede5dc227109915d505d76
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/23/404123/3 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/hostops.py', 'hyperv/nova/constants.py']",2,7051705842c090bd6917b510b0c72ee5b0b33a94,fixes_arch,"from nova.objects import fields as obj_fields constants.ARCH_I686: obj_fields.Architecture.I686, constants.ARCH_MIPS: obj_fields.Architecture.MIPS, constants.ARCH_ALPHA: obj_fields.Architecture.ALPHA, constants.ARCH_PPC: obj_fields.Architecture.PPC, constants.ARCH_ARMV7: obj_fields.Architecture.ARMV7, constants.ARCH_IA64: obj_fields.Architecture.IA64, constants.ARCH_X86_64: obj_fields.Architecture.X86_64,","from nova.compute import arch constants.ARCH_I686: arch.I686, constants.ARCH_MIPS: arch.MIPS, constants.ARCH_ALPHA: arch.ALPHA, constants.ARCH_PPC: arch.PPC, constants.ARCH_ARMV7: arch.ARMV7, constants.ARCH_IA64: arch.IA64, constants.ARCH_X86_64: arch.X86_64,",11,11
openstack%2Fkarbor~master~I24540e28983011cd658f8287dffe8eddfb3ca8bf,openstack/karbor,master,I24540e28983011cd658f8287dffe8eddfb3ca8bf,Replace six.iteritems() with .items(),ABANDONED,2016-11-29 10:26:03.000000000,2016-11-29 14:04:32.000000000,,"[{'_account_id': 3}, {'_account_id': 17130}, {'_account_id': 20883}]","[{'number': 1, 'created': '2016-11-29 10:26:03.000000000', 'files': ['karbor/services/operationengine/engine/triggers/trigger_manager.py', 'karbor/services/operationengine/engine/executors/scheduled_operation_executor.py', 'karbor/utils.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py', 'karbor/services/operationengine/operation_manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/60c027e14f08f7bf1e33e9f989f32ecd237709be', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve iterators.\nWe can use dict.items instead, as it will return iterators in PY3 as well.\nAnd dict.items/keys will more readable. 2.In py2, the performance about\nlist should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I24540e28983011cd658f8287dffe8eddfb3ca8bf\n'}]",0,404131,60c027e14f08f7bf1e33e9f989f32ecd237709be,6,3,1,17130,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve iterators.
We can use dict.items instead, as it will return iterators in PY3 as well.
And dict.items/keys will more readable. 2.In py2, the performance about
list should be negligible, see the link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I24540e28983011cd658f8287dffe8eddfb3ca8bf
",git fetch https://review.opendev.org/openstack/karbor refs/changes/31/404131/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/operationengine/engine/triggers/trigger_manager.py', 'karbor/services/operationengine/engine/executors/scheduled_operation_executor.py', 'karbor/utils.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py', 'karbor/services/operationengine/operation_manager.py']",5,60c027e14f08f7bf1e33e9f989f32ecd237709be,six-iteritems," for t, cls in self._operation_cls_map.items():","import six for t, cls in six.iteritems(self._operation_cls_map):",5,13
openstack%2Ffuel-nailgun-extension-cluster-upgrade~stable%2Fmitaka~I896636fd78502318cdbbf92dd312b87fc23a3c41,openstack/fuel-nailgun-extension-cluster-upgrade,stable/mitaka,I896636fd78502318cdbbf92dd312b87fc23a3c41,Return a list of nodes on reprovision=false,MERGED,2016-11-28 21:23:06.000000000,2016-11-29 14:03:32.000000000,2016-11-29 14:02:06.000000000,"[{'_account_id': 3}, {'_account_id': 1464}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-28 21:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-nailgun-extension-cluster-upgrade/commit/f896b573fdd606dcdf5dda491cf33245e8a1fc22', 'message': ""Return a list of nodes on reprovision=false\n\nUnfortunetely, a type of response depends on inputs and that's what we\nhave right now. By spending more time we can split this handle on two\nhandlers to have more clear API for clients. But right now this patch\nfixes the problem with the response in NodeReassignHandler.\n\nChange-Id: I896636fd78502318cdbbf92dd312b87fc23a3c41\n""}, {'number': 2, 'created': '2016-11-29 13:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-nailgun-extension-cluster-upgrade/commit/ebe53c5e4979253c9e0c10c13bf953e814b12167', 'message': ""Return a list of nodes on reprovision=false\n\nUnfortunetely, a type of response depends on inputs and that's what we\nhave right now. By spending more time we can split this handle on two\nhandlers to have more clear API for clients. But right now this patch\nfixes the problem with the response in NodeReassignHandler.\n\nPartial-bug: #1612297\n\nChange-Id: I896636fd78502318cdbbf92dd312b87fc23a3c41\n""}, {'number': 3, 'created': '2016-11-29 13:43:15.000000000', 'files': ['cluster_upgrade/handlers.py', 'cluster_upgrade/tests/test_handlers.py'], 'web_link': 'https://opendev.org/openstack/fuel-nailgun-extension-cluster-upgrade/commit/5b8392298aba043c6192c12ab0de5fa38836cf64', 'message': ""Return a list of nodes on reprovision=false\n\nUnfortunetely, a type of response depends on inputs and that's what we\nhave right now. By spending more time we can split this handle on two\nhandlers to have more clear API for clients. But right now this patch\nfixes the problem with the response in NodeReassignHandler.\n\nPartial-bug: #1624920\n\nChange-Id: I896636fd78502318cdbbf92dd312b87fc23a3c41\n""}]",0,403909,5b8392298aba043c6192c12ab0de5fa38836cf64,20,3,3,1531,,,0,"Return a list of nodes on reprovision=false

Unfortunetely, a type of response depends on inputs and that's what we
have right now. By spending more time we can split this handle on two
handlers to have more clear API for clients. But right now this patch
fixes the problem with the response in NodeReassignHandler.

Partial-bug: #1624920

Change-Id: I896636fd78502318cdbbf92dd312b87fc23a3c41
",git fetch https://review.opendev.org/openstack/fuel-nailgun-extension-cluster-upgrade refs/changes/09/403909/3 && git format-patch -1 --stdout FETCH_HEAD,"['cluster_upgrade/handlers.py', 'cluster_upgrade/tests/test_handlers.py']",2,f896b573fdd606dcdf5dda491cf33245e8a1fc22,bug/1624920," new_roles = ['compute'] nodes_ids = [node.id for node in cluster.nodes] data = {'nodes_ids': nodes_ids, 'roles': new_roles} for node in resp.json_body: self.assertEqual(node[""cluster""], seed_cluster.id) self.assertEqual(node[""roles""], new_roles) self.assertIn(node[""id""], nodes_ids)"," node = cluster.nodes[0] data = {'nodes_ids': [node.id], 'roles': ['compute']}",17,7
openstack%2Ffuel-ui~stable%2Fnewton~Ia77999e123343344902074a4c01d92a70ecf8750,openstack/fuel-ui,stable/newton,Ia77999e123343344902074a4c01d92a70ecf8750,Add sorters to deployment history table view,MERGED,2016-11-29 13:31:07.000000000,2016-11-29 13:59:52.000000000,2016-11-29 13:57:13.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-29 13:31:07.000000000', 'files': ['static/tests/functional/test_deployment_history.js', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/5b66f907e628ba16d03a3fd3f259099b727a5fa2', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by names)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n(cherry picked from commit 66fa719534a7f70ccca608e87b0ec69b80b98a4d)\n'}]",0,404214,5b66f907e628ba16d03a3fd3f259099b727a5fa2,12,4,1,8766,,,0,"Add sorters to deployment history table view

Added sorters of deployment task by:
* task name
* node (master node goes first, removed nodes go last,
  cluster nodes are sorted by names)
* task status
* task type
* time start
* time end

Closes-Bug: #1626916

Change-Id: Ia77999e123343344902074a4c01d92a70ecf8750
(cherry picked from commit 66fa719534a7f70ccca608e87b0ec69b80b98a4d)
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/14/404214/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/tests/functional/test_deployment_history.js', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js']",7,5b66f907e628ba16d03a3fd3f259099b727a5fa2,bug/1626916,"import {Sorter, Filter} from 'views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter';var sorterNs = 'cluster_page.nodes_tab.sorters.'; _.map(sort, _.partial(Sorter.fromObject, _, sorterNs, false)), _.map(sortByLabels, _.partial(Sorter.fromObject, _, sorterNs, true)) activeSorters = _.map(defaultSorting, _.partial(Sorter.fromObject, _, sorterNs, false)); (name) => new Sorter(name, 'asc', sorterNs, false) _.map(this.props.defaultSorting, _.partial(Sorter.fromObject, _, sorterNs, false)) return new Sorter(name, order === 'asc' ? 'desc' : 'asc', sorterNs, isLabel); labelSorters={screenNodesLabels.map((name) => new Sorter(name, 'asc', sorterNs, true))}"," class Sorter { constructor(name, order = 'asc', isLabel = false) { this.name = name; this.order = order; this.isLabel = isLabel; this.title = isLabel ? name : i18n('cluster_page.nodes_tab.sorters.' + name, {defaultValue: name}); return this; } static fromObject(sorterObject, isLabel = false) { var name = _.keys(sorterObject)[0]; return new Sorter(name, sorterObject[name], isLabel); } static toObject({name, order}) { return {[name]: order}; } } class Filter { constructor(name, values, isLabel = false) { this.name = name; this.values = values; this.isLabel = isLabel; this.title = isLabel ? name : i18n('cluster_page.nodes_tab.filters.' + name, {defaultValue: name}); this.isNumberRange = !isLabel && !_.includes(['roles', 'status', 'manufacturer', 'group_id', 'cluster'], name); return this; } static fromObject(filters, isLabel = false) { return _.map(filters, (values, name) => new Filter(name, values, isLabel)); } static toObject(filters) { return _.reduce(filters, (result, {name, values}) => { result[name] = values; return result; }, {}); } updateLimits(nodes, updateValues) { if (this.isNumberRange) { var limits = [0, 0]; if (nodes.length) { var resources = nodes.invokeMap('resource', this.name); limits = [_.min(resources), _.max(resources)]; if (this.name === 'hdd' || this.name === 'ram') { limits = [ Math.floor(limits[0] / Math.pow(1024, 3)), Math.ceil(limits[1] / Math.pow(1024, 3)) ]; } } this.limits = limits; if (updateValues) this.values = _.clone(limits); } } } _.map(sort, _.partial(Sorter.fromObject, _, false)), _.map(sortByLabels, _.partial(Sorter.fromObject, _, true)) activeSorters = _.map(defaultSorting, _.partial(Sorter.fromObject, _, false)); (name) => new Sorter(name, 'asc', false) _.map(this.props.defaultSorting, _.partial(Sorter.fromObject, _, false)) return new Sorter(name, order === 'asc' ? 'desc' : 'asc', isLabel); labelSorters={screenNodesLabels.map((name) => new Sorter(name, 'asc', true))}",454,125
openstack%2Fopenstack-ansible-plugins~master~Icebec389807aa8782f97a95f63687eb5606f7b22,openstack/openstack-ansible-plugins,master,Icebec389807aa8782f97a95f63687eb5606f7b22,Add ability to execute against a remote chroot,MERGED,2016-11-21 16:53:36.000000000,2016-11-29 13:57:18.000000000,2016-11-29 13:57:18.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2016-11-21 16:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/767c1b6e9979c0c4cb70af841dc9813eaae535fa', 'message': '[WIP] Add ability to execute against a remote chroot\n\nIn some situations it may be useful to execute a role or\nset of tasks against a remote chroot.\n\nThis patch aims to add that capability.\n\nChange-Id: Icebec389807aa8782f97a95f63687eb5606f7b22\n'}, {'number': 2, 'created': '2016-11-21 16:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7539cf8b4a5ab02d8ede3b6667dfb2eaf6e68e48', 'message': '[WIP] Add ability to execute against a remote chroot\n\nIn some situations it may be useful to execute a role or\nset of tasks against a remote chroot.\n\nThis patch aims to add that capability.\n\nChange-Id: Icebec389807aa8782f97a95f63687eb5606f7b22\n'}, {'number': 3, 'created': '2016-11-21 16:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0bcc0cfd2c6ed8c95bb7b97f3e761d09bb6f6da5', 'message': '[WIP] Add ability to execute against a remote chroot\n\nIn some situations it may be useful to execute a role or\nset of tasks against a remote chroot.\n\nThis patch aims to add that capability.\n\nChange-Id: Icebec389807aa8782f97a95f63687eb5606f7b22\n'}, {'number': 4, 'created': '2016-11-21 17:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/6882d727a4246f857fd0b292310d82008d6bafc4', 'message': '[WIP] Add ability to execute against a remote chroot\n\nIn some situations it may be useful to execute a role or\nset of tasks against a remote chroot.\n\nThis patch aims to add that capability.\n\nChange-Id: Icebec389807aa8782f97a95f63687eb5606f7b22\n'}, {'number': 5, 'created': '2016-11-21 17:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9808b8c2067c830749a61848e0ebb5ec6da23807', 'message': 'Add ability to execute against a remote chroot\n\nIn some situations it may be useful to execute a role or\nset of tasks against a remote chroot.\n\nThis patch aims to add that capability.\n\nChange-Id: Icebec389807aa8782f97a95f63687eb5606f7b22\n'}, {'number': 6, 'created': '2016-11-22 12:28:42.000000000', 'files': ['strategy/linear.py', 'connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5af635977ef7f1164a0aa5784ff1bf0992a9d7b2', 'message': 'Add ability to execute against a remote chroot\n\nIn some situations it may be useful to execute a role or\nset of tasks against a remote chroot.\n\nThis patch aims to add that capability.\n\nChange-Id: Icebec389807aa8782f97a95f63687eb5606f7b22\n'}]",1,400338,5af635977ef7f1164a0aa5784ff1bf0992a9d7b2,18,4,6,6816,,,0,"Add ability to execute against a remote chroot

In some situations it may be useful to execute a role or
set of tasks against a remote chroot.

This patch aims to add that capability.

Change-Id: Icebec389807aa8782f97a95f63687eb5606f7b22
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/38/400338/5 && git format-patch -1 --stdout FETCH_HEAD,"['strategy/linear.py', 'connection/ssh.py']",2,767c1b6e9979c0c4cb70af841dc9813eaae535fa,lxc-cache-create," self.chroot_path = self.vars.get('chroot_path') if self._container_check() or self.chroot_check(): if self._chroot_check(): chroot_command = 'chroot %s' % self.chroot_path cmd = '%s %s' % (chroot_command, cmd) def _chroot_check(self): if self.chroot_path: SSH.display.vvv(u'chroot_path: ""%s""' % self.chroot_path) if self.physical_hostname: SSH.display.vvv( u'physical_hostname: ""%s""' % self.physical_hostname ) SSH.display.vvv(u'chroot confirmed') return True return False ", if self._container_check():,20,2
openstack%2Fnova~master~I31e3170e0953cefbf49bfc84b29edab514c90cb5,openstack/nova,master,I31e3170e0953cefbf49bfc84b29edab514c90cb5,Use pick_context_manager throughout DB APIs,MERGED,2016-11-18 17:31:45.000000000,2016-11-29 13:56:32.000000000,2016-11-24 08:09:56.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 5441}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-11-18 17:31:45.000000000', 'files': ['nova/objects/instance_group.py', 'nova/objects/flavor.py', 'nova/objects/instance.py', 'nova/objects/keypair.py', 'nova/objects/aggregate.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ffa622b6ff062379e489809c0ed5a1b61881916', 'message': ""Use pick_context_manager throughout DB APIs\n\nThe pick_context_manager method will use a connection to a cell\ndatabase if one is present in the RequestContext, else it falls\nback on the global main_context_manager in the DB API.\n\nCurrently, there are several places in our DB API code where\npick_context_manager isn't used because in a real scenario, each\ncell is in a separate process where main_context_manager points\nto its local database. This causes problems for testing though,\nbecause we are unable to patch the DB API to simulate switching\nbetween multiple 'main' databases in our functional tests because\nof the global nature of main_context_manager.\n\nThis replaces all uses of main_context_manager with\npick_context_manager to:\n\n  1. Make switching between multiple databases able to work in\n     functional tests\n  2. Fix any possible cases where pick_context_manager is not\n     used for a DB API method that could be called from the\n     API using target_cell\n\nChange-Id: I31e3170e0953cefbf49bfc84b29edab514c90cb5\n""}]",0,399709,9ffa622b6ff062379e489809c0ed5a1b61881916,32,8,1,4690,,,0,"Use pick_context_manager throughout DB APIs

The pick_context_manager method will use a connection to a cell
database if one is present in the RequestContext, else it falls
back on the global main_context_manager in the DB API.

Currently, there are several places in our DB API code where
pick_context_manager isn't used because in a real scenario, each
cell is in a separate process where main_context_manager points
to its local database. This causes problems for testing though,
because we are unable to patch the DB API to simulate switching
between multiple 'main' databases in our functional tests because
of the global nature of main_context_manager.

This replaces all uses of main_context_manager with
pick_context_manager to:

  1. Make switching between multiple databases able to work in
     functional tests
  2. Fix any possible cases where pick_context_manager is not
     used for a DB API method that could be called from the
     API using target_cell

Change-Id: I31e3170e0953cefbf49bfc84b29edab514c90cb5
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/399709/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_group.py', 'nova/objects/flavor.py', 'nova/objects/instance.py', 'nova/objects/keypair.py', 'nova/objects/aggregate.py', 'nova/db/sqlalchemy/api.py']",6,9ffa622b6ff062379e489809c0ed5a1b61881916,cell-databases-fixture, ctxt_mgr = get_context_manager(context) reader_mode = get_context_manager(context).async else: reader_mode = get_context_manager(context).reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader with get_context_manager(context).writer.savepoint.using(context):@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer with get_context_manager(context).writer.savepoint.using(context):@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer with get_context_manager(context).writer.independent.using(context):@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer with get_context_manager(context).writer.savepoint.using( context): with get_context_manager(context).writer.savepoint.using( context):@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader@pick_context_manager_writer@pick_context_manager_writer@pick_context_manager_reader@pick_context_manager_reader, ctxt_mgr = _context_manager_from_context(context) or main_context_manager reader_mode = main_context_manager.async else: reader_mode = main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader with main_context_manager.writer.savepoint.using(context):@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer with main_context_manager.writer.savepoint.using(context):@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer with main_context_manager.writer.independent.using(context):@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer with main_context_manager.writer.savepoint.using(context): with main_context_manager.writer.savepoint.using(context):@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.reader@main_context_manager.reader,185,183
openstack%2Fnova-specs~master~I6c7a32109dca11a89320949edfb880dccb8bcb99,openstack/nova-specs,master,I6c7a32109dca11a89320949edfb880dccb8bcb99,Spec for continued vendordata work in Ocata.,MERGED,2016-11-10 05:40:48.000000000,2016-11-29 13:56:07.000000000,2016-11-29 13:56:07.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7662}, {'_account_id': 9452}, {'_account_id': 11564}]","[{'number': 1, 'created': '2016-11-10 05:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bcb0f1d83d0e59d02a28bd82df96d8056cc37d26', 'message': 'Spec for continued vendordata work in Ocata.\n\nAs discussed at the summit in:\n  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2\n\nChange-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99\n'}, {'number': 2, 'created': '2016-11-14 09:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/95012c7f7df928b95517b0ee35b81160cc8e2e97', 'message': 'Spec for continued vendordata work in Ocata.\n\nAs discussed at the summit in:\n  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2\n\nChange-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99\n'}, {'number': 3, 'created': '2016-11-14 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/51f25780277ab940b3bc32bbfa382e0f41ff0e16', 'message': 'Spec for continued vendordata work in Ocata.\n\nAs discussed at the summit in:\n  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2\n\nChange-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99\n'}, {'number': 4, 'created': '2016-11-24 19:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3021e4c7452309463d94104ba457d1d8dd9afa7a', 'message': 'Spec for continued vendordata work in Ocata.\n\nAs discussed at the summit in:\n  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2\n\nChange-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99\n'}, {'number': 5, 'created': '2016-11-28 05:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b51341a1e12532510ba7361c6d08e667b30b9f01', 'message': 'Spec for continued vendordata work in Ocata.\n\nAs discussed at the summit in:\n  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2\n\nChange-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99\n'}, {'number': 6, 'created': '2016-11-28 15:56:17.000000000', 'files': ['specs/ocata/approved/vendordata-reboot-ocata.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b1313ce224e5c8100ba62595615917b5f3e03cb2', 'message': 'Spec for continued vendordata work in Ocata.\n\nAs discussed at the summit in:\n  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2\n\nChange-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99\n'}]",13,395959,b1313ce224e5c8100ba62595615917b5f3e03cb2,27,9,6,2271,,,0,"Spec for continued vendordata work in Ocata.

As discussed at the summit in:
  https://etherpad.openstack.org/p/ocata-nova-summit-vendoradatav2

Change-Id: I6c7a32109dca11a89320949edfb880dccb8bcb99
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/59/395959/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/vendordata-reboot-ocata.rst'],1,bcb0f1d83d0e59d02a28bd82df96d8056cc37d26,bp/vendordata-reboot-ocata,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== vendordata reboot, remaining work in Ocata ========================================== https://blueprints.launchpad.net/nova/+spec/vendordata-reboot-ocata In Newton, the Nova team implemented a new way for deployers to provide vendordata to instances via configdrive and metadata server. There were a few smaller items that didn't land in Newton, which we need to finalize. You can read the spec from Newton for more detail about vendordata. It is at: http://specs.openstack.org/openstack/nova-specs/specs/newton/implemented/vendordata-reboot.html Problem description =================== Please see the Newton specification for a complete description of the work that was proposed for Newton. In general terms, the following was implemented: * the initial implementation of vendordata v2 * functional testing * support for SSL certificate verification The items below will be implemented in Ocata, in this order of priority: Keystone token changes ---------------------- There are some concerns about how the keystone verification between the Nova metadata service and the vendordata HTTP servers was implemented. As implemented in Newton, the requesting user's keystone token is passed through to the external vendordata server if available, otherwise no token is passed. Why would the token sometimes not be available? Many metadata operations are initiated by the instance without a user being associated with them -- for example cloud-init calling the metadata server on first boot to determine configuration information. In these cases no keystone token is provided to the metadata service. This implementation is flawed because of how the keystone middleware works. If no token is passed and the keystone middleware is enabled, then the request will be rejected before the external vendordata server has a chance to process the request at all. Additionally, we're authenticating the wrong thing. What we should be ensuring is that its the Nova metadata service which is calling the external vendordata server. To do this we should use a Nova service account. To resolve these issues we will move to passing a Nova service token to the external vendordata server. This will be a new service token created specifically for this purpose. This change is considered a bug fix and will be backported to Newton to ensure a consistent interface for implementators of external vendordata servers. Role information from the user's token -------------------------------------- The only place where we need to user's token is for role information. So that this is available later (and doesn't change if the user's roles change), we will cache this information from the boot request in the Nova database as system metadata, and then pass that through to the external vendordata service with each request. This is not a bug fix and will not be backported. Hard failure mode ----------------- Operators at the summit also requested that they'd like a mode where if an external vendordata server fails to return a valid response to a request the instance should be placed into an error state. This is for use cases where the instance requires configuration information from an external service to be able to operate correctly. This is not a bug fix and will not be backported. Caching ------- The original specification envisaged caching of responses from the external vendordata service, but this was not implemented. If time allows in the Ocata release, we willa dd this support. This is not a bug fix and will not be backported. Implementation ============== Assignee(s) ----------- Primary assignee: mikalstill Work Items ---------- See proposed changes above. Dependencies ============ None. Testing ======= Unit test Documentation Impact ==================== These changes are of most interest to deployers, so we should make sure they are documented in the admin guide. ",,128,0
openstack%2Fcloudkitty-dashboard~master~I59d9761313f2b6f4577d87838a1b049dc008380f,openstack/cloudkitty-dashboard,master,I59d9761313f2b6f4577d87838a1b049dc008380f,Fix miss import _,MERGED,2016-10-24 04:08:54.000000000,2016-11-29 13:53:26.000000000,2016-11-29 13:53:26.000000000,"[{'_account_id': 3}, {'_account_id': 18898}, {'_account_id': 21797}, {'_account_id': 23173}]","[{'number': 1, 'created': '2016-10-24 04:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/8a030362d12b74cb49b8eda333acf8e582ceaa74', 'message': ""Fix miss import _\n\nNameError: global name '_' is not defined\n\nChange-Id: I59d9761313f2b6f4577d87838a1b049dc008380f\n""}, {'number': 2, 'created': '2016-10-24 04:13:00.000000000', 'files': ['cloudkittydashboard/dashboards/project/rating/views.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/131d1a8b365760724231dda12bb1dc7f24c776e2', 'message': ""Fix miss import _\n\nNameError: global name '_' is not defined\n\nChange-Id: I59d9761313f2b6f4577d87838a1b049dc008380f\nCloses-Bug: #1636057\n""}]",0,390155,131d1a8b365760724231dda12bb1dc7f24c776e2,10,4,2,8358,,,0,"Fix miss import _

NameError: global name '_' is not defined

Change-Id: I59d9761313f2b6f4577d87838a1b049dc008380f
Closes-Bug: #1636057
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/55/390155/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/dashboards/project/rating/views.py'],1,8a030362d12b74cb49b8eda333acf8e582ceaa74,bug/1636057,from django.utils.translation import ugettext_lazy as _,,1,0
openstack%2Fpython-openstackclient~master~I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1,openstack/python-openstackclient,master,I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1,Trivial:modify one parameter,MERGED,2016-11-28 09:06:56.000000000,2016-11-29 13:51:29.000000000,2016-11-29 13:51:29.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 10058}, {'_account_id': 16237}, {'_account_id': 17776}, {'_account_id': 21514}, {'_account_id': 24081}]","[{'number': 1, 'created': '2016-11-28 09:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/efeea7fc2340c7fc613585e9b359561a55c3a994', 'message': 'Trivial:modify two parameters\n\nChange-Id: I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1\n'}, {'number': 2, 'created': '2016-11-28 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4fdadbb98976b4709de1b09424f6d6a8aaa19c81', 'message': 'Trivial:modify two parameters\n\nThis patch modifies two wrong parameters to make the metava\nconsistent with the optional arguments.\nChange-Id: I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1\n'}, {'number': 3, 'created': '2016-11-29 09:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/caabc7606c4be6d663849c9562dbbec9a5287793', 'message': 'Trivial:modify one parameter\n\nThis patch modifies a wrong parameter to make the metavar\nconsistent with the optional argument.\nChange-Id: I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1\n'}, {'number': 4, 'created': '2016-11-29 10:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/170f883fb53432f3029a0eeb50a04b93c363a246', 'message': 'Trivial:modify one parameters\n\nThis patch modifies a wrong parameter to make the metavar\nconsistent with the optional argument.\nChange-Id: I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1\n'}, {'number': 5, 'created': '2016-11-29 10:38:15.000000000', 'files': ['openstackclient/volume/v2/volume_type.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fca81526ffd6b7ad74d6f414545c531b3e9f75ad', 'message': 'Trivial:modify one parameter\n\nThis patch modifies a wrong parameter to make the metavar\nconsistent with the optional argument.\nChange-Id: I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1\n'}]",1,403570,fca81526ffd6b7ad74d6f414545c531b3e9f75ad,22,7,5,24081,,,0,"Trivial:modify one parameter

This patch modifies a wrong parameter to make the metavar
consistent with the optional argument.
Change-Id: I27ed30fdbc3adbc19d2f5662d6952cfe15dc52b1
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/403570/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/v2/volume_type.py'],1,efeea7fc2340c7fc613585e9b359561a55c3a994,volume_type_1," metavar='<description>', metavar='<key=value>',"," metavar='<name>', metavar='<key>',",2,2
openstack%2Ftripleo-ci~master~I2feddcc7d88591ef3537082e6e43aea8172aa049,openstack/tripleo-ci,master,I2feddcc7d88591ef3537082e6e43aea8172aa049,Use encrypted volume in scenario004,ABANDONED,2016-11-16 09:29:05.000000000,2016-11-29 13:48:43.000000000,,"[{'_account_id': 3}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-11-16 09:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6705b5cfdb6428ec21d1c64cd3b0f353a5f4921f', 'message': 'Use encrypted volume in scenario004\n\nChange-Id: I2feddcc7d88591ef3537082e6e43aea8172aa049\nDepends-On: Id13811cf8e090706c590ffff46c237ff8131efd9\n'}, {'number': 2, 'created': '2016-11-17 06:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f0b9810f20bce6840480aa9ecd7482f6e6a5ae08', 'message': 'Use encrypted volume in scenario004\n\nChange-Id: I2feddcc7d88591ef3537082e6e43aea8172aa049\nDepends-On: Id13811cf8e090706c590ffff46c237ff8131efd9\n'}, {'number': 3, 'created': '2016-11-21 06:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e5d7d3252f669854cf4c182af21d2311a0916aef', 'message': 'Use encrypted volume in scenario004\n\nChange-Id: I2feddcc7d88591ef3537082e6e43aea8172aa049\nDepends-On: Id13811cf8e090706c590ffff46c237ff8131efd9\n'}, {'number': 4, 'created': '2016-11-21 08:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6648e52555846e357b3df01828cb827be4ba441f', 'message': 'Use encrypted volume in scenario004\n\nChange-Id: I2feddcc7d88591ef3537082e6e43aea8172aa049\nDepends-On: Id13811cf8e090706c590ffff46c237ff8131efd9\n'}, {'number': 5, 'created': '2016-11-21 12:40:53.000000000', 'files': ['templates/scenario004-multinode-pingtest.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c47e7318570156efa54e291f93f1cda6aa42a85c', 'message': 'Use encrypted volume in scenario004\n\nChange-Id: I2feddcc7d88591ef3537082e6e43aea8172aa049\nDepends-On: Id13811cf8e090706c590ffff46c237ff8131efd9\n'}]",0,398221,c47e7318570156efa54e291f93f1cda6aa42a85c,27,2,5,10873,,,0,"Use encrypted volume in scenario004

Change-Id: I2feddcc7d88591ef3537082e6e43aea8172aa049
Depends-On: Id13811cf8e090706c590ffff46c237ff8131efd9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/398221/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/scenario004-multinode-pingtest.yaml'],1,6705b5cfdb6428ec21d1c64cd3b0f353a5f4921f,fix-scenario004, luks_volume_type: type: OS::Cinder::VolumeType properties: name: LUKS encrypted_volume_type: type: OS::Cinder::EncryptedVolumeType properties: volume_type: {get_resource: luks_volume_type} provider: nova.volume.encryptors.luks.LuksEncryptor cipher: aes-xts-plain64 control_location: front-end key_size: 512 volume_type: {get_resource: luks_volume_type},,15,0
openstack%2Ftripleo-quickstart~master~Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533,openstack/tripleo-quickstart,master,Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533,"Configuring vcpus for undercloud, controller and compute nodes",MERGED,2016-11-11 11:17:10.000000000,2016-11-29 13:47:29.000000000,2016-11-29 13:47:29.000000000,"[{'_account_id': 3}, {'_account_id': 8367}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 11491}, {'_account_id': 11589}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-11-11 11:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fa4ec8bfd3d8358c0f853b5be017cb50a5001f80', 'message': 'Configuring vcpus for undercloud, controller and compute nodes\n\nBy default, overcloud is created with 8 vcpus, while compute and\ncontroller are created only with one. This make the controller\nstruggle with requests from tempest that runs on overcloud, and\nhave the concurrency set to vcpus/2, which means 4 threads doing\na lot of requests to controller and this one have only one vcpu\nto handle these requests, plus all the services running on the vm.\nIn my tests, 2 vcpus were enough to make a full tempest run pass\nwithout bottlenecks.\n\nChange-Id: Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533\n'}, {'number': 2, 'created': '2016-11-11 16:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/18ae553893c5e9f25d7ac73617e96ad627b84a54', 'message': 'Configuring vcpus for undercloud, controller and compute nodes\n\nBy default, undercloud is created with 8 vcpus, while compute and\ncontroller are created only with one. This make the controller\nstruggle with requests from tempest that runs on undercloud, and\nhave the concurrency set to vcpus/2, which means 4 threads doing\na lot of requests to controller and this one have only one vcpu\nto handle these requests, plus all the services running on the vm.\nIn my tests, 2 vcpus were enough to make a full tempest run pass\nwithout bottlenecks.\n\nChange-Id: Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533\n'}, {'number': 3, 'created': '2016-11-18 11:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9a9741bfa211cfdc5fbe10675222c44bf81af331', 'message': ""Configuring vcpus for undercloud, controller and compute nodes\n\nBy default, undercloud is created with 8 vcpus, while compute and\ncontroller are created only with one. This make the controller\nstruggle with requests from tempest that runs on undercloud, and\nhave the concurrency set to vcpus/2, which means 4 threads doing\na lot of requests to controller and this one have only one vcpu\nto handle these requests, plus all the services running on the vm.\nIn my tests, 2 vcpus were enough to make a full tempest run pass\nwithout bottlenecks.\nAlso keeping the same configuration for HA, since in this case\nthe workload is spread, so there's no need to change the actual\nsetup for now\n\nChange-Id: Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533\n""}, {'number': 4, 'created': '2016-11-22 15:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb0ff9ca2455ffdfaeaf8c40cd2bf28114cb9390', 'message': ""Configuring vcpus for undercloud, controller and compute nodes\n\nBy default, undercloud is created with 8 vcpus, while compute and\ncontroller are created only with one. This make the controller\nstruggle with requests from tempest that runs on undercloud, and\nhave the concurrency set to vcpus/2, which means 4 threads doing\na lot of requests to controller and this one have only one vcpu\nto handle these requests, plus all the services running on the vm.\nIn my tests, 2 vcpus were enough to make a full tempest run pass\nwithout bottlenecks.\nAlso keeping the same configuration for HA, since in this case\nthe workload is spread, so there's no need to change the actual\nsetup for now\n\nChange-Id: Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533\n""}, {'number': 5, 'created': '2016-11-25 09:17:09.000000000', 'files': ['roles/common/defaults/main.yml', 'config/general_config/ha_big.yml', 'config/general_config/ha.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/809d97e095d1b4818d2678876e72cc03fb1f07cf', 'message': ""Configuring vcpus for undercloud, controller and compute nodes\n\nBy default, undercloud is created with 8 vcpus, while compute and\ncontroller are created only with one. This make the controller\nstruggle with requests from tempest that runs on undercloud, and\nhave the concurrency set to vcpus/2, which means 4 threads doing\na lot of requests to controller and this one have only one vcpu\nto handle these requests, plus all the services running on the vm.\nIn my tests, 2 vcpus were enough to make a full tempest run pass\nwithout bottlenecks.\nAlso keeping the same configuration for HA, since in this case\nthe workload is spread, so there's no need to change the actual\nsetup for now\n\nChange-Id: Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533\n""}]",10,396593,809d97e095d1b4818d2678876e72cc03fb1f07cf,44,9,5,8367,,,0,"Configuring vcpus for undercloud, controller and compute nodes

By default, undercloud is created with 8 vcpus, while compute and
controller are created only with one. This make the controller
struggle with requests from tempest that runs on undercloud, and
have the concurrency set to vcpus/2, which means 4 threads doing
a lot of requests to controller and this one have only one vcpu
to handle these requests, plus all the services running on the vm.
In my tests, 2 vcpus were enough to make a full tempest run pass
without bottlenecks.
Also keeping the same configuration for HA, since in this case
the workload is spread, so there's no need to change the actual
setup for now

Change-Id: Idbdff31e77b239a4c5ec5e7bf918b89a0a6cf533
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/93/396593/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/minimal_pacemaker.yml'],1,fa4ec8bfd3d8358c0f853b5be017cb50a5001f80,vcpus,control_vcpu: 2 compute_vcpu: 2 undercloud_vcpu: 2,,3,0
openstack%2Fpython-cloudkittyclient~master~I242ee04783c5c8b2699ef3efe70f8e397eb794b8,openstack/python-cloudkittyclient,master,I242ee04783c5c8b2699ef3efe70f8e397eb794b8,Catches the right exceptions shell.py files,MERGED,2016-11-29 11:33:15.000000000,2016-11-29 13:46:24.000000000,2016-11-29 13:46:24.000000000,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 21797}, {'_account_id': 23173}]","[{'number': 1, 'created': '2016-11-29 11:33:15.000000000', 'files': ['cloudkittyclient/v1/shell.py', 'cloudkittyclient/v1/rating/hashmap/shell.py', 'cloudkittyclient/v1/rating/pyscripts/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/ddf93becc1d2676c71bc00b555c45523097f7a8f', 'message': ""Catches the right exceptions shell.py files\n\nThis is a fix for the bug #1645380. The right exceptions are caught and\n'counter_name' is not used for the Exception messages anymore.\n\nChange-Id: I242ee04783c5c8b2699ef3efe70f8e397eb794b8\nCloses-Bug: 1645380\n""}]",0,404164,ddf93becc1d2676c71bc00b555c45523097f7a8f,8,4,1,23060,,,0,"Catches the right exceptions shell.py files

This is a fix for the bug #1645380. The right exceptions are caught and
'counter_name' is not used for the Exception messages anymore.

Change-Id: I242ee04783c5c8b2699ef3efe70f8e397eb794b8
Closes-Bug: 1645380
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/64/404164/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v1/shell.py', 'cloudkittyclient/v1/rating/hashmap/shell.py', 'cloudkittyclient/v1/rating/pyscripts/shell.py']",3,ddf93becc1d2676c71bc00b555c45523097f7a8f,bug/1645380,from cloudkittyclient.apiclient import exceptions except exceptions.NotFound: except exceptions.NotFound: except exceptions.NotFound: raise exc.CommandError('Script not found: %s' % args.script_id) except exceptions.NotFound:, except exc.HTTPNotFound: except exc.HTTPNotFound: except exc.HTTPNotFound: raise exc.CommandError('Script not found: %s' % args.counter_name) except exc.HTTPNotFound:,39,34
openstack%2Fcongress~master~I760d5b88fa82edb3766d8e2feb6c1cb7de3f4a9c,openstack/congress,master,I760d5b88fa82edb3766d8e2feb6c1cb7de3f4a9c,Magnum_driver for congress,ABANDONED,2016-11-29 12:01:16.000000000,2016-11-29 13:46:09.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-29 12:01:16.000000000', 'files': ['congress/datasources/magnum_driver.py', 'congress/tests/datasources/test_magnum_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/ec5b0b482987db9e7f98be809f2c551d6f5b8331', 'message': 'Magnum_driver for congress\n\nChange-Id: I760d5b88fa82edb3766d8e2feb6c1cb7de3f4a9c\n'}]",0,404176,ec5b0b482987db9e7f98be809f2c551d6f5b8331,3,1,1,24179,,,0,"Magnum_driver for congress

Change-Id: I760d5b88fa82edb3766d8e2feb6c1cb7de3f4a9c
",git fetch https://review.opendev.org/openstack/congress refs/changes/76/404176/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress/datasources/magnum_driver.py', 'congress/tests/datasources/test_magnum_driver.py']",2,ec5b0b482987db9e7f98be809f2c551d6f5b8331,magnum_driver_branch, u'links': [{u'uuid': u'8d25a1ed-faa6-4305' + u'links': [{u'uuid': u'1634beb9-25de-4cdd' +, u'cluster_templates_links': [{u'uuid': u'8d25a1ed-faa6-4305' + u'clusters_links': [{u'uuid': u'1634beb9-25de-4cdd' +,13,9
openstack%2Foctavia~master~Id7f126b46f018042012183901d3d162cf0daf2ed,openstack/octavia,master,Id7f126b46f018042012183901d3d162cf0daf2ed,Use get_hostname from neutron_lib,ABANDONED,2016-11-28 13:42:15.000000000,2016-11-29 13:43:51.000000000,,"[{'_account_id': 3}, {'_account_id': 11628}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-11-28 13:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28f4faf13d1a393cbcccba8fbcb5df9c9fafcc0c', 'message': 'Use get_hostname from neutron_lib\n\nStart to use common neutron_lib methods.\n\nNeutronLibImpact\n\nChange-Id: Id7f126b46f018042012183901d3d162cf0daf2ed\n'}, {'number': 2, 'created': '2016-11-28 15:17:29.000000000', 'files': ['octavia/common/utils.py', 'octavia/common/config.py', 'requirements.txt', 'octavia/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ca1833118fad0105fab85464bc1a6c7af9eb9a50', 'message': 'Use get_hostname from neutron_lib\n\nStart to use common neutron_lib methods.\n\nNeutronLibImpact\n\nChange-Id: Id7f126b46f018042012183901d3d162cf0daf2ed\n'}]",0,403702,ca1833118fad0105fab85464bc1a6c7af9eb9a50,9,3,2,1653,,,0,"Use get_hostname from neutron_lib

Start to use common neutron_lib methods.

NeutronLibImpact

Change-Id: Id7f126b46f018042012183901d3d162cf0daf2ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/403702/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/common/config.py', 'requirements.txt', 'octavia/tests/unit/common/test_utils.py']",4,28f4faf13d1a393cbcccba8fbcb5df9c9fafcc0c,l2,,"# Copyright 2014, Doug Wiegley, A10 Networks. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import octavia.common.utils as utils import octavia.tests.unit.base as base class TestConfig(base.TestCase): def test_get_hostname(self): self.assertNotEqual(utils.get_hostname(), '') ",3,27
openstack%2Fneutron-lib~master~If2539f94b5479f0d6afa64c973082cbe8c5309ac,openstack/neutron-lib,master,If2539f94b5479f0d6afa64c973082cbe8c5309ac,Make the get_random_mac more versatile,MERGED,2016-11-21 21:16:39.000000000,2016-11-29 13:43:41.000000000,2016-11-29 13:43:41.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 9656}, {'_account_id': 16934}, {'_account_id': 17776}, {'_account_id': 20363}]","[{'number': 1, 'created': '2016-11-21 21:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/034cb4c12ab0bfe900cb22ff916877eac6e112be', 'message': 'Make the get_random_mac more versatile\n\nThe past version was not well documented and could use\na little dusting.  This new version offers a custom OUI size.\n\nThis is a random code enhancement.\n\nChange-Id: If2539f94b5479f0d6afa64c973082cbe8c5309ac\n'}, {'number': 2, 'created': '2016-11-24 16:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/03da8c02ee001dd1bb1368c636c0fc7c70c2c0f1', 'message': 'Make the get_random_mac more versatile\n\nThe past version was not well documented and could use\na little dusting.  This new version offers a custom OUI size.\n\nThis is a random code enhancement.\n\nChange-Id: If2539f94b5479f0d6afa64c973082cbe8c5309ac\n'}, {'number': 3, 'created': '2016-11-24 18:25:49.000000000', 'files': ['neutron_lib/utils/net.py', 'neutron_lib/tests/unit/utils/test_net.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4a78c722aa4c6cbf6fafb5c1c5773531710ab013', 'message': 'Make the get_random_mac more versatile\n\nThe past version was not well documented and could use\na little dusting.  This new version offers a custom OUI size.\n\nThis is a random code enhancement.\n\nChange-Id: If2539f94b5479f0d6afa64c973082cbe8c5309ac\n'}]",0,400408,4a78c722aa4c6cbf6fafb5c1c5773531710ab013,18,7,3,16934,,,0,"Make the get_random_mac more versatile

The past version was not well documented and could use
a little dusting.  This new version offers a custom OUI size.

This is a random code enhancement.

Change-Id: If2539f94b5479f0d6afa64c973082cbe8c5309ac
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/08/400408/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/utils/net.py', 'neutron_lib/tests/unit/utils/test_net.py']",2,034cb4c12ab0bfe900cb22ff916877eac6e112be,enchanced_get_random_mac,"import random def test_full_prefix_does_nothing(self): mac = net.get_random_mac(['aa', 'bb', 'cc', 'dd', 'ee', 'ff']) self.assertEqual('aa:bb:cc:dd:ee:ff', mac) @mock.patch.object(random, 'randint', side_effect=[0x11]) def test_5_octets_prefix_replaces_1_part(self, mock_rnd): mac = net.get_random_mac(['aa', 'bb', 'cc', 'dd', 'ee', '00']) self.assertEqual('aa:bb:cc:dd:ee:11', mac) mock_rnd.assert_called_with(0x00, 0xff) @mock.patch.object(random, 'randint', side_effect=[0x01, 0x02, 0x03, 0x04, 0x05]) def test_1_octets_prefix_replaces_5_parts(self, mock_rnd): mac = net.get_random_mac(['aa', '00', '00', '00', '00', '00']) self.assertEqual('aa:01:02:03:04:05', mac) mock_rnd.assert_called_with(0x00, 0xff) @mock.patch.object(random, 'randint', return_value=0xa2) def test_no_prefix_replaces_all_parts(self, mock_rnd): mac = net.get_random_mac(['00', '00', '00', '00', '00', '00']) self.assertEqual('a2:a2:a2:a2:a2:a2', mac) mock_rnd.assert_called_with(0x00, 0xff)"," def _test_get_random_mac(self, base_mac, startswith_len): random_mac = net.get_random_mac(base_mac.split(':')) self.assertEqual(base_mac[:startswith_len], random_mac[:startswith_len]) self.assertEqual(len(base_mac), len(random_mac)) for i in random_mac.split(':'): int(i, 16) def test_get_random_mac_with_three_octets(self): base_mac = 'fa:16:3e:00:00:00' self._test_get_random_mac(base_mac, 9) def test_get_random_mac_with_four_octets(self): base_mac = 'fa:16:3e:fe:00:00' self._test_get_random_mac(base_mac, 12)",36,20
openstack%2Ftripleo-heat-templates~master~I1c18decf950a11a5af39269752d195c6de5205ea,openstack/tripleo-heat-templates,master,I1c18decf950a11a5af39269752d195c6de5205ea,Test scenarios in THT,ABANDONED,2016-11-25 17:09:23.000000000,2016-11-29 13:31:50.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}]","[{'number': 1, 'created': '2016-11-25 17:09:23.000000000', 'files': ['ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b18cb6dc095642c4671540e88ee0d5b4bf5e3616', 'message': 'Test scenarios in THT\n\nChange-Id: I1c18decf950a11a5af39269752d195c6de5205ea\nDepends-On: I8235fa0648a05c2420c536e388b05e9c2f8fecc1\n'}]",0,403122,b18cb6dc095642c4671540e88ee0d5b4bf5e3616,6,3,1,3153,,,0,"Test scenarios in THT

Change-Id: I1c18decf950a11a5af39269752d195c6de5205ea
Depends-On: I8235fa0648a05c2420c536e388b05e9c2f8fecc1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/403122/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml']",3,b18cb6dc095642c4671540e88ee0d5b4bf5e3616,test/scenarios,# test,,3,0
openstack%2Ffuel-ui~master~Ia77999e123343344902074a4c01d92a70ecf8750,openstack/fuel-ui,master,Ia77999e123343344902074a4c01d92a70ecf8750,Add sorters to deployment history table view,MERGED,2016-08-19 11:46:51.000000000,2016-11-29 13:31:08.000000000,2016-11-29 12:48:46.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8970}, {'_account_id': 8971}, {'_account_id': 9730}, {'_account_id': 14342}, {'_account_id': 14396}, {'_account_id': 14643}, {'_account_id': 14947}, {'_account_id': 14962}, {'_account_id': 15315}, {'_account_id': 17626}, {'_account_id': 18769}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-19 11:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/f7e560b5eee57dbeddd6f76b9229f68ebb56bb07', 'message': 'Add sorters for deployment history table\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}, {'number': 2, 'created': '2016-08-23 10:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/d2360ffe374df2908f55f4cfa00630a038695d7f', 'message': 'Add sorters for deployment history table\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}, {'number': 3, 'created': '2016-09-23 08:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/93eaaf5cba74714248964fc41dcdfe0a5ce0963f', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by IDs)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}, {'number': 4, 'created': '2016-09-23 10:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/6f1e0b02575f349e23607435b3a18eb66a0b1bbf', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by names)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}, {'number': 5, 'created': '2016-09-23 11:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/b73e5fe8f40d76ce0e87ad12d09e04d94dad8228', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by names)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}, {'number': 6, 'created': '2016-11-08 09:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/1b9afaa8a4963804ea719021558c2a22812125d9', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by names)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}, {'number': 7, 'created': '2016-11-29 12:13:58.000000000', 'files': ['static/tests/functional/test_deployment_history.js', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/cluster_page_tabs/nodes_tab_screens/sorter_and_filter.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/66fa719534a7f70ccca608e87b0ec69b80b98a4d', 'message': 'Add sorters to deployment history table view\n\nAdded sorters of deployment task by:\n* task name\n* node (master node goes first, removed nodes go last,\n  cluster nodes are sorted by names)\n* task status\n* task type\n* time start\n* time end\n\nCloses-Bug: #1626916\n\nChange-Id: Ia77999e123343344902074a4c01d92a70ecf8750\n'}]",0,357796,66fa719534a7f70ccca608e87b0ec69b80b98a4d,66,15,7,8766,,,0,"Add sorters to deployment history table view

Added sorters of deployment task by:
* task name
* node (master node goes first, removed nodes go last,
  cluster nodes are sorted by names)
* task status
* task type
* time start
* time end

Closes-Bug: #1626916

Change-Id: Ia77999e123343344902074a4c01d92a70ecf8750
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/96/357796/2 && git format-patch -1 --stdout FETCH_HEAD,"['static/translations/core.json', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js']",3,f7e560b5eee57dbeddd6f76b9229f68ebb56bb07,bug/1626916,," comparator(task1, task2) { var node1 = task1.get('node_id'); var node2 = task2.get('node_id'); if (node1 === node2) return utils.compare(task1, task2, {attr: 'time_start'}); // master node tasks should go first if (node1 === 'master') return -1; if (node2 === 'master') return 1; return node1 - node2; },",202,34
openstack%2Fnova~master~I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd,openstack/nova,master,I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd,Check deleted flag in Instance.create(),MERGED,2016-11-28 15:20:02.000000000,2016-11-29 13:26:02.000000000,2016-11-28 23:44:05.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-28 15:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a752f8c7fe6f722255133a95b283e72d8de84733', 'message': ""Honor deleted flag in instance_create()\n\nAn attempt to create an instance with the deleted flag set will\nnot work as intended, especially from instance.create(), which will\nincorrectly pass a boolean for that flag. Since we need to know\nthe id in order to properly set that field, we should fix it in the\nlower layers.\n\nThis patch makes instance_create() trigger oslo.db's soft_delete()\nhelper if the flag is set, giving the intended behavior if someone\ntries to create such an instance.\n\nChange-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nCloses-Bug: #1644513\n""}, {'number': 2, 'created': '2016-11-28 16:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b81ea561eeb95a42c31ff3456f73ebba14c2590e', 'message': ""Honor deleted flag in instance_create()\n\nAn attempt to create an instance with the deleted flag set will\nnot work as intended, especially from instance.create(), which will\nincorrectly pass a boolean for that flag. Since we need to know\nthe id in order to properly set that field, we should fix it in the\nlower layers.\n\nThis patch makes instance_create() trigger oslo.db's soft_delete()\nhelper if the flag is set, giving the intended behavior if someone\ntries to create such an instance.\n\nChange-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nCloses-Bug: #1644513\n""}, {'number': 3, 'created': '2016-11-28 18:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e460d42b29ce612bd5c2d8ff1e22d8263471f1ef', 'message': ""Check deleted flag in Instance.create()\n\nAn attempt to create an instance with the deleted flag set will\nnot work as intended, especially from instance.create(), which\ncan't properly pass the yet-to-be-determined deleted=id protocol.\n\nThis makes Instance.create() throw an error like the one for\nbeing already created, and fixes the one test where we depend\non this working.\n\nChange-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nCloses-Bug: #1644513\n""}, {'number': 4, 'created': '2016-11-28 18:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc62105fac0c393efe5196cfa12f5719cca57cfe', 'message': ""Check deleted flag in Instance.create()\n\nAn attempt to create an instance with the deleted flag set will\nnot work as intended, especially from instance.create(), which\ncan't properly pass the yet-to-be-determined deleted=id protocol.\n\nThis makes Instance.create() throw an error like the one for\nbeing already created, and fixes the one test where we depend\non this working.\n\nChange-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nCloses-Bug: #1644513\n""}, {'number': 5, 'created': '2016-11-28 18:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5575100a4f3dd25b1118a4c9ff3be01faf691731', 'message': ""Check deleted flag in Instance.create()\n\nAn attempt to create an instance with the deleted flag set will\nnot work as intended, especially from instance.create(), which\ncan't properly pass the yet-to-be-determined deleted=id protocol.\n\nThis makes Instance.create() throw an error like the one for\nbeing already created, and fixes the one test where we depend\non this working.\n\nChange-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nCloses-Bug: #1644513\n""}, {'number': 6, 'created': '2016-11-28 19:01:14.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3a280959a0237fc3b0f3eeaaa3154566f8620c0', 'message': ""Check deleted flag in Instance.create()\n\nAn attempt to create an instance with the deleted flag set will\nnot work as intended, especially from instance.create(), which\ncan't properly pass the yet-to-be-determined deleted=id protocol.\n\nThis makes Instance.create() throw an error like the one for\nbeing already created, and fixes the one test where we depend\non this working.\n\nChange-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd\nCloses-Bug: #1644513\n""}]",5,403756,f3a280959a0237fc3b0f3eeaaa3154566f8620c0,37,11,6,4393,,,0,"Check deleted flag in Instance.create()

An attempt to create an instance with the deleted flag set will
not work as intended, especially from instance.create(), which
can't properly pass the yet-to-be-determined deleted=id protocol.

This makes Instance.create() throw an error like the one for
being already created, and fixes the one test where we depend
on this working.

Change-Id: I60d18ca694a2eb7f333c0cf2a898cf8f17eb83dd
Closes-Bug: #1644513
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/403756/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,a752f8c7fe6f722255133a95b283e72d8de84733,bug/1644513," deleted = values.pop('deleted', None) if deleted: instance_ref.soft_delete(context.session) ",,11,0
openstack%2Fpuppet-oslo~master~I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,openstack/puppet-oslo,master,I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f,Switch ensure_packages to ensure_resources for python-memcache,MERGED,2016-11-25 19:43:35.000000000,2016-11-29 13:25:38.000000000,2016-11-28 19:04:18.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2016-11-25 19:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/09ce84c06c687f0496ba5ce40ec0a641e3a8f4e3', 'message': 'Switch ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n'}, {'number': 2, 'created': '2016-11-28 15:46:06.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/e0b9dd93e21803eae8e9b52f458c563fe028b58f', 'message': 'Switch ensure_packages to ensure_resources for python-memcache\n\nThe ensure_packages resource forces ensure to present yielding\nduplicate definition errors if we override default Package ensure\nto latest. We should solve this by using ensure_resources which\ndoes not enforce this.\n\nChange-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f\nCloses-Bug: #1644906\nResolves: rhbz#1392583\n'}]",0,403263,e0b9dd93e21803eae8e9b52f458c563fe028b58f,15,4,2,11166,,,0,"Switch ensure_packages to ensure_resources for python-memcache

The ensure_packages resource forces ensure to present yielding
duplicate definition errors if we override default Package ensure
to latest. We should solve this by using ensure_resources which
does not enforce this.

Change-Id: I1e2ba2b4a8ab31c925bf31ac1838999fc37b268f
Closes-Bug: #1644906
Resolves: rhbz#1392583
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/63/403263/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cache.pp'],1,09ce84c06c687f0496ba5ce40ec0a641e3a8f4e3,bug/1644906," ensure_resources('package', { 'python-memcache' => { }})"," ensure_packages('python-memcache', { ensure => present, })",2,3
openstack%2Ftripleo-common~master~I4dc95a0e1f84570b184f8b75f51a2c1456909fb9,openstack/tripleo-common,master,I4dc95a0e1f84570b184f8b75f51a2c1456909fb9,Remove the underscore from the base action client methods,MERGED,2016-06-30 10:33:00.000000000,2016-11-29 13:18:03.000000000,2016-11-29 13:18:03.000000000,"[{'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 8532}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 11105}]","[{'number': 1, 'created': '2016-06-30 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f6c397b4853d11348250c3788ab44421af5d78b2', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are indented to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}, {'number': 2, 'created': '2016-06-30 10:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d22ab799ffeec161d185971a693df3fc7f974b7', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are intended to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}, {'number': 3, 'created': '2016-07-13 08:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dde55ed52ee04f5fcd87bf2799fda43b2f94843d', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are intended to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}, {'number': 4, 'created': '2016-07-14 08:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49cebce8da7a847161ca4d20e796a222e8f3f22c', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are intended to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}, {'number': 5, 'created': '2016-08-16 11:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2a934b00e97dea850dcf8e786b10fb4ddb41ca0', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are intended to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}, {'number': 6, 'created': '2016-08-22 11:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48739d3b68c62151fb013b3d9d22f5ae748c9b32', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are intended to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}, {'number': 7, 'created': '2016-11-28 13:12:52.000000000', 'files': ['tripleo_common/tests/actions/test_base.py', 'tripleo_common/actions/deployment.py', 'tripleo_common/tests/actions/test_heat_capabilities.py', 'tripleo_common/actions/base.py', 'tripleo_common/tests/actions/test_plan.py', 'tripleo_common/actions/templates.py', 'tripleo_common/actions/parameters.py', 'tripleo_common/tests/actions/test_validations.py', 'tripleo_common/tests/actions/test_templates.py', 'tripleo_common/actions/baremetal.py', 'tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/heat_capabilities.py', 'tripleo_common/tests/actions/test_scale.py', 'tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/scale.py', 'tripleo_common/actions/plan.py', 'tripleo_common/tests/actions/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d3d03436a80ccfd5cbd86b0eb644f62ad80ff2e', 'message': 'Remove the underscore from the base action client methods\n\nThe underscore typically designates these methods as private, but\nthey are intended to be used by any/all of the subclasses. This\nchange clarifies the API.\n\nChange-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9\n'}]",6,335920,9d3d03436a80ccfd5cbd86b0eb644f62ad80ff2e,33,6,7,9712,,,0,"Remove the underscore from the base action client methods

The underscore typically designates these methods as private, but
they are intended to be used by any/all of the subclasses. This
change clarifies the API.

Change-Id: I4dc95a0e1f84570b184f8b75f51a2c1456909fb9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/335920/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal.py', 'tripleo_common/actions/heat_capabilities.py', 'tripleo_common/tests/actions/test_heat_capabilities.py', 'tripleo_common/actions/base.py', 'tripleo_common/tests/actions/test_plan.py', 'tripleo_common/actions/templates.py', 'tripleo_common/actions/plan.py', 'tripleo_common/tests/actions/test_templates.py']",8,f6c397b4853d11348250c3788ab44421af5d78b2,cleanup," @mock.patch('tripleo_common.actions.base.TripleOAction.get_object_client') def test_run(self, mock_create_tar, mock_extract_tar, mockget_swift, mockget_swift.return_value, 'test', 'tar-container')"," @mock.patch('tripleo_common.actions.base.TripleOAction._get_object_client') def test_run(self, mock_create_tar, mock_extract_tar, mock_get_swift, mock_get_swift.return_value, 'test', 'tar-container')",29,29
openstack%2Fmurano~master~I789147df313bad9f28b78c774a0d5d1c493524bd,openstack/murano,master,I789147df313bad9f28b78c774a0d5d1c493524bd,Fix a typo,MERGED,2016-11-21 04:27:14.000000000,2016-11-29 13:14:09.000000000,2016-11-29 13:14:09.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 21649}]","[{'number': 1, 'created': '2016-11-21 04:27:14.000000000', 'files': ['murano/db/services/environment_templates.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/bf4d27c1dadf7ff391980f05cbd1e8c57d359113', 'message': 'Fix a typo\n\nChange-Id: I789147df313bad9f28b78c774a0d5d1c493524bd\n'}]",0,400043,bf4d27c1dadf7ff391980f05cbd1e8c57d359113,20,5,1,24269,,,0,"Fix a typo

Change-Id: I789147df313bad9f28b78c774a0d5d1c493524bd
",git fetch https://review.opendev.org/openstack/murano refs/changes/43/400043/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/db/services/environment_templates.py'],1,bf4d27c1dadf7ff391980f05cbd1e8c57d359113,bugFix0001," raise ValueError(""The environment template does not exist"")"," raise ValueError(""The environment template does not exists"")",1,1
openstack%2Fnova~master~Ica4f248f55fbc6e53fc27763883e88e872630609,openstack/nova,master,Ica4f248f55fbc6e53fc27763883e88e872630609,Remove deprecated config option info,ABANDONED,2016-11-18 03:51:18.000000000,2016-11-29 13:10:52.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 21479}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-11-18 03:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df04a7e09f109a34e116b417e75deb7a8b398fd2', 'message': 'Remove deprecated config option info\n\ncompute_api_class config option has been removed\nfor quite a long time.\n\nChange-Id: Ica4f248f55fbc6e53fc27763883e88e872630609\n'}, {'number': 2, 'created': '2016-11-24 03:10:50.000000000', 'files': ['nova/conf/cells.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a14af8dbc925032e1324c99dd2a10400827446c8', 'message': 'Remove deprecated config option info\n\ncompute_api_class config option has been removed\nfor quite a long time.\n\nChange-Id: Ica4f248f55fbc6e53fc27763883e88e872630609\n'}]",0,399366,a14af8dbc925032e1324c99dd2a10400827446c8,28,14,2,15888,,,0,"Remove deprecated config option info

compute_api_class config option has been removed
for quite a long time.

Change-Id: Ica4f248f55fbc6e53fc27763883e88e872630609
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/399366/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/cells.py'],1,df04a7e09f109a34e116b417e75deb7a8b398fd2,trival_remove_cell_config,,* compute_api_class: This option must be set to cells api driver for the top-level cell (nova.compute.cells_api.ComputeCellsAPI),0,2
openstack%2Fpython-muranoclient~master~I61a3cb7191000bf9c72c6add798bf7aaf7b21a4f,openstack/python-muranoclient,master,I61a3cb7191000bf9c72c6add798bf7aaf7b21a4f,Show team and repo badges on README,MERGED,2016-11-25 14:54:28.000000000,2016-11-29 13:06:53.000000000,2016-11-29 13:06:53.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7821}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-11-25 14:54:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/c79802f218761d470e180f61d22cd7ba9409b48b', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nhttps://gist.github.com/e7e5f839d72f7192480f607e55be4cfa\n\nChange-Id: I61a3cb7191000bf9c72c6add798bf7aaf7b21a4f\n""}]",0,402712,c79802f218761d470e180f61d22cd7ba9409b48b,21,4,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

https://gist.github.com/e7e5f839d72f7192480f607e55be4cfa

Change-Id: I61a3cb7191000bf9c72c6add798bf7aaf7b21a4f
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/12/402712/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c79802f218761d470e180f61d22cd7ba9409b48b,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/python-muranoclient.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Fkolla-ansible~master~I010cfb6396045c4eebbfea35f95f818156987a82,openstack/kolla-ansible,master,I010cfb6396045c4eebbfea35f95f818156987a82,Update the default value for Heat,ABANDONED,2016-11-16 05:31:17.000000000,2016-11-29 12:53:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 23717}]","[{'number': 1, 'created': '2016-11-16 05:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d969d9ac7eddb7d5f76fb90535303aaab8e47a1', 'message': 'Update the default value for Heat\n\nTrivialFix\n\nChange-Id: I010cfb6396045c4eebbfea35f95f818156987a82\n'}, {'number': 2, 'created': '2016-11-16 07:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e54cd30a83ea0bee8c22cff49d57e39c7fc1be4', 'message': 'Update the default value for Heat\n\nTrivialFix\n\nChange-Id: I010cfb6396045c4eebbfea35f95f818156987a82\n'}, {'number': 3, 'created': '2016-11-16 07:58:20.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/115f81a8c3fa338bcc1ea049ab31651bd3092e21', 'message': 'Update the default value for Heat\n\nTrivialFix\n\nChange-Id: I010cfb6396045c4eebbfea35f95f818156987a82\n'}]",0,398107,115f81a8c3fa338bcc1ea049ab31651bd3092e21,20,6,3,22165,,,0,"Update the default value for Heat

TrivialFix

Change-Id: I010cfb6396045c4eebbfea35f95f818156987a82
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/398107/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgade-heat-t6d1168aecfb5da6.yaml', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",3,5d969d9ac7eddb7d5f76fb90535303aaab8e47a1,,"#enable_heat: ""no""","#enable_heat: ""yes""",5,2
openstack%2Fdragonflow~master~Iafe306116d6ad738a75cae2a640135411169ac2a,openstack/dragonflow,master,Iafe306116d6ad738a75cae2a640135411169ac2a,Implement db consistency logic in df local controller,MERGED,2016-07-01 06:26:38.000000000,2016-11-29 12:47:15.000000000,2016-11-29 04:08:55.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 9044}, {'_account_id': 11159}, {'_account_id': 11343}, {'_account_id': 18903}, {'_account_id': 20229}, {'_account_id': 20287}, {'_account_id': 20297}, {'_account_id': 20405}, {'_account_id': 21239}]","[{'number': 1, 'created': '2016-07-01 06:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/e458d3fd86988ae6346a58fa82c2fa14c1c09eba', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 2, 'created': '2016-07-01 06:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/94fe05534e541a680cee1d55450a33f12f905338', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 3, 'created': '2016-07-01 09:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b40d8190819a357fb166bc129c2d480cace774a0', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 4, 'created': '2016-07-04 03:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/8c6f547487a66fb84035ac9886583488f43c275a', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 5, 'created': '2016-07-04 06:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/66afb45344494515042daa27280fd5845badb4f2', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 6, 'created': '2016-07-04 07:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/15143b9db5956ed491ee123f1619e347a2d9e8e2', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 7, 'created': '2016-07-04 08:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/757c16c14ed0689ff70b78a7c45bc08a2ae1b8dd', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 8, 'created': '2016-07-04 08:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ceaf979b7347a2952346fe99b55fd8cec1b383e5', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 9, 'created': '2016-07-04 12:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/e27d113379580d73cc22e669d5280393ca4cd2e8', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 10, 'created': '2016-07-05 02:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/5f02d11f858e5a594e61539555d9b670c46d68ad', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 11, 'created': '2016-07-05 07:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ea2c7aec1b345fe25f3a9a3398ccfd64554dd3ec', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 12, 'created': '2016-07-05 09:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ccc3cd3b651ab271491de69af993cc730cf3e69b', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 13, 'created': '2016-07-13 06:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6ed7bc02c7c40c1714e6b9c52f898c24bae623af', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 14, 'created': '2016-07-13 07:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d8f0dbeb53effad68607e833af9368970747812e', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 15, 'created': '2016-07-14 03:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d57cd670dff72aec3d3c02f0858379e57f32d5e3', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 16, 'created': '2016-07-14 12:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2519d56955307a554908f3ad92bb0c24ed473a09', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 17, 'created': '2016-07-19 03:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/208ed27bcb9c79085722a40115a9b1976efb82c0', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 18, 'created': '2016-07-21 12:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/80da660b05a9c4cb7642c831b46b6c1ea9d6aff1', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 19, 'created': '2016-07-21 13:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/7aa01da1dc68ad41e568cb9bb848ea6efbb3e8aa', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 20, 'created': '2016-08-15 01:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/1a22b752e4f10280a14b44e08f6b69e155faddd2', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 21, 'created': '2016-10-18 10:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d7cc22edfa3b12e258b2705da64cdf97cacb967b', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 22, 'created': '2016-10-19 07:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/cce42f1b92574d17d6ca9da434ff5880a12e961b', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 23, 'created': '2016-10-19 08:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/821d12f8e84f37b7de25e561bcf96f26afa339dc', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 24, 'created': '2016-10-19 09:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ad737a1669f971f4d3a540327beade25757c38a3', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 25, 'created': '2016-10-20 02:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2b1a30e6083bdba4f94d24c17971626b29a9df93', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 26, 'created': '2016-10-20 03:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d68e4c568cb73e58002286bb1aa8cbed3c38618d', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 27, 'created': '2016-10-20 06:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6ee779672493f5c4a1aee349964ce2d01bb52cd1', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 28, 'created': '2016-10-21 02:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/3150cb3eab75816fe733231f725677d554b14203', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 29, 'created': '2016-10-21 04:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/3b8b65e0ff8bb8fa87cdcfa70e243adc62ed7dd4', 'message': '[WIP]Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 30, 'created': '2016-10-21 06:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a1c028f13635d5adf2b6417187d0429856de1642', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 31, 'created': '2016-10-23 13:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/54b39359a0a5815b1fbebcd68b548018ef3389cc', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 32, 'created': '2016-10-23 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/762058485cc8ff9e4b40fddcdc5f7670ef3ecb90', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 33, 'created': '2016-10-23 16:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/72724976ccdfc905455fb2a7153948632af5eba0', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 34, 'created': '2016-10-24 01:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6531bddeffa3e87f91adf1958ca9e567fe2222f3', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 35, 'created': '2016-10-24 06:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c6ab7e7beddf695bc1d3af53ea8757afefa31df0', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 36, 'created': '2016-10-25 03:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/f501ef9e7b0284fc81ded4dbb118f021cb0d75b0', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 37, 'created': '2016-10-25 11:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/9e68a11a3f334dca61a48645350a3dfb47c0d628', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 38, 'created': '2016-10-25 11:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/590458ccbeac509c34b16c17a2be92844d083d72', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 39, 'created': '2016-10-25 14:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/9925296e61796297a7ecbbc80ec95c6781719f6a', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 40, 'created': '2016-10-26 14:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b247d8c73033dc539292aca2a7ad0d9292867201', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 41, 'created': '2016-10-26 14:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/55df27fdac6dd2f43d772df2546e7665294bac72', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 42, 'created': '2016-11-01 08:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d0f593066be2b8166146d304fd0519f79659e6ce', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 43, 'created': '2016-11-01 09:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/5f46fffe83e07a6313d302225d85cdc9a578e2b0', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 44, 'created': '2016-11-01 11:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6423ab0437bea216ca0a8e0e04c357416a62a5ef', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 45, 'created': '2016-11-07 02:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/06cfe4660902bfaf9fbe2a16b843691b12a311e6', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nImplements: blueprint keep-db-consistency\n'}, {'number': 46, 'created': '2016-11-07 08:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a73a634964ff5f48a5f13838881a4ccdb8726622', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 47, 'created': '2016-11-10 09:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/64304478b7459ac13128c3c9784b7a2c9035c6a9', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 48, 'created': '2016-11-10 11:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ec905a6b90d05083a3939077503137eb3366c593', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 49, 'created': '2016-11-17 02:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/46bffa2cce4a074e3bbb59717eb15569ae5a5f3c', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 50, 'created': '2016-11-23 07:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/bc1498ecc63d3e5a3a42e74a6bbe9fc3d99f61e9', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 51, 'created': '2016-11-23 08:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/756eb20622826fe29641d67b42b0ed601960963f', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 52, 'created': '2016-11-24 01:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/e16233b03bc6439689f32bb4d7a523a17c93d092', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 53, 'created': '2016-11-24 12:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/1e8f6c23a7581029cc83c71674c9f3f35561b1d1', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 54, 'created': '2016-11-25 11:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/26c05a5e868149b06cb4abe921cf90a308ceb25c', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 55, 'created': '2016-11-26 07:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b6fbfaffeccc78aab5794bf4dffbefc9dc175199', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}, {'number': 56, 'created': '2016-11-26 09:42:08.000000000', 'files': ['dragonflow/db/db_consistent.py', 'dragonflow/tests/unit/test_topology.py', 'dragonflow/controller/topology.py', 'dragonflow/tests/unit/test_db_consistent.py', 'dragonflow/db/models.py', 'dragonflow/tests/fullstack/test_db_consistent.py', 'dragonflow/common/common_params.py', 'dragonflow/controller/df_local_controller.py', 'dragonflow/db/api_nb.py', 'dragonflow/db/db_store.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/611e23c2833c6b9747ff99656ce79648d9426aa8', 'message': 'Implement db consistency logic in df local controller\n\nChange-Id: Iafe306116d6ad738a75cae2a640135411169ac2a\nCloses-bug: #1596455\nPartially-implements: blueprint keep-db-consistency\n'}]",176,336377,611e23c2833c6b9747ff99656ce79648d9426aa8,161,11,56,20287,,,0,"Implement db consistency logic in df local controller

Change-Id: Iafe306116d6ad738a75cae2a640135411169ac2a
Closes-bug: #1596455
Partially-implements: blueprint keep-db-consistency
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/77/336377/26 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/db/db_consistent.py', 'dragonflow/common/common_params.py', 'dragonflow/controller/df_local_controller.py', 'dragonflow/db/api_nb.py', 'dragonflow/db/db_store.py']",5,e458d3fd86988ae6346a58fa82c2fa14c1c09eba,bug/1596455," def get_publishers(self, topic=None): return self.values('publishers', topic) ",,355,0
openstack%2Fnetworking-ovn~master~I1d3e666a3a167177284e2d4f12679d9e066207d8,openstack/networking-ovn,master,I1d3e666a3a167177284e2d4f12679d9e066207d8,Fix file permissions,MERGED,2016-11-24 02:14:29.000000000,2016-11-29 12:44:06.000000000,2016-11-29 12:44:06.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 8410}]","[{'number': 1, 'created': '2016-11-24 02:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b49cecf21f02bba0d645cca54a389d1090b527d8', 'message': 'Fix file permissions\n\nUpdate file permissions\nTrivialFix\n\nChange-Id: I1d3e666a3a167177284e2d4f12679d9e066207d8\n'}, {'number': 2, 'created': '2016-11-29 02:11:03.000000000', 'files': ['doc/source/conf.py', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/00ce5dbbc8829b47abab5bce502843116e649f2e', 'message': 'Fix file permissions\n\nUpdate file permissions\nTrivialFix\n\nChange-Id: I1d3e666a3a167177284e2d4f12679d9e066207d8\n'}]",0,401826,00ce5dbbc8829b47abab5bce502843116e649f2e,11,3,2,21550,,,0,"Fix file permissions

Update file permissions
TrivialFix

Change-Id: I1d3e666a3a167177284e2d4f12679d9e066207d8
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/401826/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/source/testing.rst']",2,b49cecf21f02bba0d645cca54a389d1090b527d8,fix,,,0,0
openstack%2Fneutron~master~Ic373a0ab62c610fae1cbdaf489ba27e9cf02ba5b,openstack/neutron,master,Ic373a0ab62c610fae1cbdaf489ba27e9cf02ba5b,"Revert ""Deprecate SR-IOV 'physical_device_mappings' config option""",MERGED,2016-11-28 13:09:14.000000000,2016-11-29 12:43:33.000000000,2016-11-29 07:28:58.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17130}]","[{'number': 1, 'created': '2016-11-28 13:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55c8008007a0d0a08886732e77ba41192417a981', 'message': 'Revert ""Deprecate SR-IOV \'physical_device_mappings\' config option""\n\nThere are still valid use case to keep using physical_device_mappings\nconfig option. We still want to allow neutron user to restict physnets.\n\nThis reverts commit 03b84bc920b5499e1fef23c646268fffa1d859d7.\n\nChange-Id: Ic373a0ab62c610fae1cbdaf489ba27e9cf02ba5b\n'}, {'number': 2, 'created': '2016-11-28 13:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/598d4504810e04d12806a91233a416214f5d5b69', 'message': 'Revert ""Deprecate SR-IOV \'physical_device_mappings\' config option""\n\nThere are still valid use cases to keep using physical_device_mappings\nconfig option. We still want to allow neutron user to restict physnets\nfor example: routed networks use case.\n\n\nThis reverts commit 03b84bc920b5499e1fef23c646268fffa1d859d7.\n\nChange-Id: Ic373a0ab62c610fae1cbdaf489ba27e9cf02ba5b\n'}, {'number': 3, 'created': '2016-11-28 13:25:10.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_sriov/agent/common/config.py', 'releasenotes/notes/deprecate-SRIOV-physical_deivce_mappings-67dd3317181eb513.yaml', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b25e29ca241c93cd2ab22cd8068faff3879a323d', 'message': 'Revert ""Deprecate SR-IOV \'physical_device_mappings\' config option""\n\nThere are still valid use cases to keep using physical_device_mappings\nconfig option. We still want to allow neutron user to restrict physnets,\nfor example, if API user does not enforce compatible segments chosen for\na SR-IOV port.\n\nThis reverts commit 03b84bc920b5499e1fef23c646268fffa1d859d7.\n\nChange-Id: Ic373a0ab62c610fae1cbdaf489ba27e9cf02ba5b\n'}]",3,403686,b25e29ca241c93cd2ab22cd8068faff3879a323d,28,9,3,12171,,,0,"Revert ""Deprecate SR-IOV 'physical_device_mappings' config option""

There are still valid use cases to keep using physical_device_mappings
config option. We still want to allow neutron user to restrict physnets,
for example, if API user does not enforce compatible segments chosen for
a SR-IOV port.

This reverts commit 03b84bc920b5499e1fef23c646268fffa1d859d7.

Change-Id: Ic373a0ab62c610fae1cbdaf489ba27e9cf02ba5b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/403686/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mech_sriov/agent/common/config.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'releasenotes/notes/deprecate-SRIOV-physical_deivce_mappings-67dd3317181eb513.yaml', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py']",4,55c8008007a0d0a08886732e77ba41192417a981,,, # Note(edan): setup_eswitch_mgr method will be removed # with 'physical_device_mappings' config option,1,17
openstack%2Fsalt-formula-opencontrail~master~I4b380080f61c7671e004ae1d1d8e6c2c1bcba8f9,openstack/salt-formula-opencontrail,master,I4b380080f61c7671e004ae1d1d8e6c2c1bcba8f9,Add annotations to Cassandra and Contrail dashboards,MERGED,2016-11-29 08:34:20.000000000,2016-11-29 12:33:08.000000000,2016-11-29 12:33:08.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 19300}]","[{'number': 1, 'created': '2016-11-29 08:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/salt-formula-opencontrail/commit/95d2346870a8e3b29f9403697784462902ea1906', 'message': 'Add alarms in Cassandra and Contrail dashboards\n\nChange-Id: I4b380080f61c7671e004ae1d1d8e6c2c1bcba8f9\n'}, {'number': 2, 'created': '2016-11-29 12:12:24.000000000', 'files': ['opencontrail/files/grafana_dashboards/cassandra_influxdb.json', 'opencontrail/files/grafana_dashboards/contrail_influxdb.json'], 'web_link': 'https://opendev.org/openstack/salt-formula-opencontrail/commit/83a24bb10c9c3e224635005b46890cda77a306e4', 'message': 'Add annotations to Cassandra and Contrail dashboards\n\nChange-Id: I4b380080f61c7671e004ae1d1d8e6c2c1bcba8f9\n'}]",0,404081,83a24bb10c9c3e224635005b46890cda77a306e4,9,3,2,19578,,,0,"Add annotations to Cassandra and Contrail dashboards

Change-Id: I4b380080f61c7671e004ae1d1d8e6c2c1bcba8f9
",git fetch https://review.opendev.org/openstack/salt-formula-opencontrail refs/changes/81/404081/2 && git format-patch -1 --stdout FETCH_HEAD,"['opencontrail/files/grafana_dashboards/cassandra_influxdb.json', 'opencontrail/files/grafana_dashboards/contrail_influxdb.json']",2,95d2346870a8e3b29f9403697784462902ea1906,contrail-dash," ""enable"": true, ""list"": [ { ""datasource"": ""lma"", ""enable"": true, ""iconColor"": ""#C0C6BE"", ""iconSize"": 13, ""lineColor"": ""rgba(255, 96, 96, 0.592157)"", ""name"": ""Status"", ""query"": ""select title,tags,text from annotations where $timeFilter and cluster =~ /^contrail/"", ""showLine"": true, ""tagsColumn"": ""tags"", ""textColumn"": ""text"", ""titleColumn"": ""title"" } ] ""version"": 17"," ""list"": [] ""version"": 16",34,4
openstack%2Fsalt-formula-opencontrail~master~I15bf52f3ffc3a3f25d356eee660823380edde8eb,openstack/salt-formula-opencontrail,master,I15bf52f3ffc3a3f25d356eee660823380edde8eb,Add host selector in Cassandra dashboard,MERGED,2016-11-29 08:34:20.000000000,2016-11-29 12:32:51.000000000,2016-11-29 12:32:51.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 19300}]","[{'number': 1, 'created': '2016-11-29 08:34:20.000000000', 'files': ['opencontrail/files/grafana_dashboards/cassandra_influxdb.json'], 'web_link': 'https://opendev.org/openstack/salt-formula-opencontrail/commit/f7fbe9e7011729db878bce1d3ffa43ec00693d4a', 'message': 'Add host selector in Cassandra dashboard\n\nChange-Id: I15bf52f3ffc3a3f25d356eee660823380edde8eb\n'}]",0,404080,f7fbe9e7011729db878bce1d3ffa43ec00693d4a,7,3,1,19578,,,0,"Add host selector in Cassandra dashboard

Change-Id: I15bf52f3ffc3a3f25d356eee660823380edde8eb
",git fetch https://review.opendev.org/openstack/salt-formula-opencontrail refs/changes/80/404080/1 && git format-patch -1 --stdout FETCH_HEAD,['opencontrail/files/grafana_dashboards/cassandra_influxdb.json'],1,f7fbe9e7011729db878bce1d3ffa43ec00693d4a,contrail-dash," }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""condition"": ""AND"", ""key"": ""hostname"", ""operator"": ""=~"", ""value"": ""/$server/"" }, { ""allFormat"": ""regex values"", ""current"": {}, ""datasource"": ""lma"", ""hide"": 0, ""includeAll"": true, ""name"": ""server"", ""options"": [], ""query"": ""show tag values from GenericJMX_cassandra_memory with key = hostname where environment_label =~ /^$environment$/ "", ""refresh"": 1, ""refresh_on_load"": true, ""regex"": """", ""type"": ""query"" ""version"": 11"," ""version"": 10",111,1
openstack%2Fsalt-formula-opencontrail~master~I81c6f42b784724c81f7f0e799fc45d1e9676ed57,openstack/salt-formula-opencontrail,master,I81c6f42b784724c81f7f0e799fc45d1e9676ed57,Remove useless items and add fixes in contrail dashboard,MERGED,2016-11-28 15:16:33.000000000,2016-11-29 12:32:45.000000000,2016-11-29 12:32:45.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 19300}]","[{'number': 1, 'created': '2016-11-28 15:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/salt-formula-opencontrail/commit/a85c34942da9ae8c7c2b4c74433432696ed528b1', 'message': 'Remove useless items and add fixes in contrail dashboard\n\nChange-Id: I81c6f42b784724c81f7f0e799fc45d1e9676ed57\n'}, {'number': 2, 'created': '2016-11-29 08:34:20.000000000', 'files': ['opencontrail/files/grafana_dashboards/contrail_influxdb.json'], 'web_link': 'https://opendev.org/openstack/salt-formula-opencontrail/commit/d84cdc022fc947ace11141b9c213746daff6573a', 'message': 'Remove useless items and add fixes in contrail dashboard\n\nChange-Id: I81c6f42b784724c81f7f0e799fc45d1e9676ed57\n'}]",0,403753,d84cdc022fc947ace11141b9c213746daff6573a,9,3,2,19578,,,0,"Remove useless items and add fixes in contrail dashboard

Change-Id: I81c6f42b784724c81f7f0e799fc45d1e9676ed57
",git fetch https://review.opendev.org/openstack/salt-formula-opencontrail refs/changes/53/403753/2 && git format-patch -1 --stdout FETCH_HEAD,['opencontrail/files/grafana_dashboards/contrail_influxdb.json'],1,a85c34942da9ae8c7c2b4c74433432696ed528b1,contrail-dash," ""show"": false, ""alias"": ""#vrouter-agents"", ""value"": ""contrail_discovery"" }, { ""condition"": ""AND"", ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" ""show"": false, ""alias"": ""#neutron-subnets"", ""alias"": ""($tag_state)"", ""show"": false, ""title"": ""Contrail Processes"", ""lines"": true, ""title"": ""IFMap: Number of Elements"", ""version"": 16"," ""show"": true, ""value"": ""contrail-discovery"" ""show"": true, ""show"": true, ""bars"": true, ""datasource"": null, ""editable"": true, ""error"": false, ""fill"": 1, ""grid"": { ""threshold1"": null, ""threshold1Color"": ""rgba(216, 200, 27, 0.27)"", ""threshold2"": null, ""threshold2Color"": ""rgba(234, 112, 112, 0.22)"" }, ""id"": 7, ""interval"": ""> 90s"", ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": true, ""total"": false, ""values"": false }, ""lines"": false, ""linewidth"": 1, ""links"": [], ""nullPointMode"": ""null"", ""percentage"": false, ""pointradius"": 1, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 12, ""stack"": true, ""steppedLine"": false, ""targets"": [ { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""hide"": false, ""measurement"": ""check-api-contrail-5997"", ""policy"": ""default"", ""query"": ""SELECT mean(\""value\"") FROM \""check-api-contrail-5997\"" WHERE $timeFilter GROUP BY time($interval) fill(null)"", ""rawQuery"": false, ""refId"": ""A"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-8080"", ""policy"": ""default"", ""refId"": ""B"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-8083"", ""policy"": ""default"", ""refId"": ""C"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-8084"", ""policy"": ""default"", ""refId"": ""D"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-8089"", ""policy"": ""default"", ""refId"": ""E"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-8090"", ""policy"": ""default"", ""refId"": ""F"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-8143"", ""policy"": ""default"", ""refId"": ""G"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-9081"", ""policy"": ""default"", ""refId"": ""H"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-9100"", ""policy"": ""default"", ""refId"": ""I"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] }, { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""check-api-contrail-9110"", ""policy"": ""default"", ""refId"": ""J"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Contrail APIs Reply Time"", ""tooltip"": { ""msResolution"": true, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""show"": true }, ""yaxes"": [ { ""format"": ""short"", ""label"": ""(ms)"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] } ], ""title"": ""New row"" }, { ""collapse"": false, ""editable"": true, ""height"": ""250px"", ""panels"": [ { ""aliasColors"": { ""check-api-contrail-5997.mean"": ""#052B51"", ""check-api-contrail-9100.mean"": ""#0A437C"" }, ""title"": ""Contrail Process"", }, { ""aliasColors"": { ""check-api-contrail-5997.mean"": ""#052B51"", ""check-api-contrail-9100.mean"": ""#0A437C"" }, ""bars"": false, ""datasource"": null, ""editable"": true, ""error"": false, ""fill"": 1, ""grid"": { ""threshold1"": null, ""threshold1Color"": ""rgba(216, 200, 27, 0.27)"", ""threshold2"": null, ""threshold2Color"": ""rgba(234, 112, 112, 0.22)"" }, ""id"": 33, ""interval"": ""> 90s"", ""isNew"": true, ""legend"": { ""alignAsTable"": true, ""avg"": true, ""current"": true, ""max"": true, ""min"": true, ""show"": true, ""total"": false, ""values"": true }, ""lines"": true, ""linewidth"": 1, ""links"": [], ""nullPointMode"": ""null"", ""percentage"": false, ""pointradius"": 1, ""points"": true, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 12, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""alias"": ""ntp-drift-time ($tag_hostname)"", ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""auto"" ], ""type"": ""time"" }, { ""params"": [ ""hostname"" ], ""type"": ""tag"" }, { ""params"": [ ""previous"" ], ""type"": ""fill"" } ], ""measurement"": ""ntp-time-drift"", ""policy"": ""default"", ""query"": ""SELECT count(\""value\"") FROM \""lma_components_processes\"" WHERE \""environment_label\"" =~ /^$environment$/ AND \""service\"" = 'contrail-analytics-api' AND $timeFilter GROUP BY time($interval) fill(null)"", ""rawQuery"": false, ""refId"": ""F"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""last"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""NTP Drift Time"", ""tooltip"": { ""msResolution"": true, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""show"": true }, ""yaxes"": [ { ""format"": ""short"", ""label"": ""(ms)"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] ""lines"": false, ""title"": ""IFMap: Number of Emenets"", }, { ""aliasColors"": { ""vrouter-flows-composite-invalid-interface.mean {hostname: node-6}"": ""#0A437C"", ""vrouter-flows-created.mean {hostname: node-6}"": ""#CCA300"", ""vrouter-flows-discard.mean {hostname: node-6}"": ""#806EB7"", ""vrouter-flows-drop.mean {hostname: node-6}"": ""#EA6460"", ""vrouter-flows-flow-table-full.mean {hostname: node-6}"": ""#D683CE"", ""vrouter-flows-frag-err.mean {hostname: node-6}"": ""#614D93"", ""vrouter-flows-invalid-label.mean {hostname: node-6}"": ""#F9BA8F"", ""vrouter-flows-invalid-nh.mean {hostname: node-6}"": ""#962D82"", ""vrouter-openedsockets.mean {hostname: node-6}"": ""#F4D598"" }, ""bars"": false, ""datasource"": null, ""editable"": true, ""error"": false, ""fill"": 1, ""grid"": { ""threshold1"": null, ""threshold1Color"": ""rgba(216, 200, 27, 0.27)"", ""threshold2"": null, ""threshold2Color"": ""rgba(234, 112, 112, 0.22)"" }, ""id"": 22, ""interval"": ""> 90s"", ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": true, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 1, ""points"": true, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 12, ""stack"": true, ""steppedLine"": false, ""targets"": [ { ""dsType"": ""influxdb"", ""groupBy"": [ { ""params"": [ ""$interval"" ], ""type"": ""time"" }, { ""params"": [ ""hostname"" ], ""type"": ""tag"" }, { ""params"": [ ""null"" ], ""type"": ""fill"" } ], ""measurement"": ""vrouter-openedsockets"", ""policy"": ""default"", ""refId"": ""A"", ""resultFormat"": ""time_series"", ""select"": [ [ { ""params"": [ ""value"" ], ""type"": ""field"" }, { ""params"": [], ""type"": ""mean"" } ] ], ""tags"": [ { ""key"": ""environment_label"", ""operator"": ""=~"", ""value"": ""/^$environment$/"" } ] } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""vRouter: OpenedSockets"", ""tooltip"": { ""msResolution"": true, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""show"": true }, ""yaxes"": [ { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": 0, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": 0, ""show"": true } ] ""version"": 15",17,768
openstack%2Fkolla~master~I35f080f118864be4b09f692b9f90c7635b46a75c,openstack/kolla,master,I35f080f118864be4b09f692b9f90c7635b46a75c,shared mount added for /var/lib/nova/mnt to QSG,MERGED,2016-11-24 18:49:47.000000000,2016-11-29 12:26:51.000000000,2016-11-29 12:26:51.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7488}]","[{'number': 1, 'created': '2016-11-24 18:49:47.000000000', 'files': ['doc/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/67935c4ea406dfd04a08c0bc85f3fe59a0b05540', 'message': 'shared mount added for /var/lib/nova/mnt to QSG\n\nCloses-bug: #1644602\n\nChange-Id: I35f080f118864be4b09f692b9f90c7635b46a75c\n'}]",0,402191,67935c4ea406dfd04a08c0bc85f3fe59a0b05540,7,3,1,20858,,,0,"shared mount added for /var/lib/nova/mnt to QSG

Closes-bug: #1644602

Change-Id: I35f080f118864be4b09f692b9f90c7635b46a75c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/402191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/quickstart.rst'],1,67935c4ea406dfd04a08c0bc85f3fe59a0b05540,," mount --make-shared /var/lib/nova/mnt If ``/var/lib/nova/mnt`` is not partition, can do below work around :: mkdir -p /var/lib/nova/mnt /var/lib/nova/mnt1 mount --bind /var/lib/nova/mnt1 /var/lib/nova/mnt mount --make-shared /var/lib/nova/mnt For mounting ``/run`` and ``/var/lib/nova/mnt`` as shared upon startup, add below commands to ``/etc/rc.local`` mount --make-shared /var/lib/nova/mnt"," For mounting ``/run`` as shared upon startup, add that command to ``/etc/rc.local``",11,2
openstack%2Fkolla~master~I20f2e158ba487622208d89b48eea0250257f5e76,openstack/kolla,master,I20f2e158ba487622208d89b48eea0250257f5e76,Word choice for back end,MERGED,2016-10-26 09:11:49.000000000,2016-11-29 12:25:02.000000000,2016-11-29 12:25:02.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 10068}, {'_account_id': 19316}, {'_account_id': 21797}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 22932}]","[{'number': 1, 'created': '2016-10-26 09:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c878ed636b6099314e61f7883af19e65c03b870b', 'message': 'back end typo\n\nAccording to the word choice convention in\nhttp://docs.openstack.org/contributor-guide/writing-style/word-choice.html\nModified ""back-end"" and ""backend"" to ""back end""\n\nChange-Id: I20f2e158ba487622208d89b48eea0250257f5e76\n'}, {'number': 2, 'created': '2016-11-14 10:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/48fbe6c4718b941c31fd663937d0f99827acb8fc', 'message': 'Word choice for back end\n\nThis patch changes the use of back end in kolla according to the\nword choice convention [1].\n\n[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html\n\nChange-Id: I20f2e158ba487622208d89b48eea0250257f5e76\n'}, {'number': 3, 'created': '2016-11-15 01:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/319a145ef2604012c3c9f50c64c9be29decbdbee', 'message': 'Word choice for back end\n\nThis patch changes the use of back end in kolla according to the\nword choice convention [1].\n\n[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html\n\nChange-Id: I20f2e158ba487622208d89b48eea0250257f5e76\n'}, {'number': 4, 'created': '2016-11-15 07:48:20.000000000', 'files': ['doc/quickstart.rst', 'doc/external-ceph-guide.rst', 'specs/high-availability.rst', 'doc/cinder-guide.rst', 'README.rst', 'doc/manila-guide.rst', 'docker/ceilometer/ceilometer-api/extend_start.sh', 'etc/kolla/globals.yml', 'doc/image-building.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ebd95c3f4f92872ae66a8a7ebfd8708c28a2079', 'message': 'Word choice for back end\n\nThis patch changes the use of back end in kolla according to the\nword choice convention [1].\n\n[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html\n\nChange-Id: I20f2e158ba487622208d89b48eea0250257f5e76\n'}]",10,390788,1ebd95c3f4f92872ae66a8a7ebfd8708c28a2079,25,10,4,22932,,,0,"Word choice for back end

This patch changes the use of back end in kolla according to the
word choice convention [1].

[1] http://docs.openstack.org/contributor-guide/writing-style/word-choice.html

Change-Id: I20f2e158ba487622208d89b48eea0250257f5e76
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/390788/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/quickstart.rst', 'doc/external-ceph-guide.rst', 'specs/high-availability.rst', 'doc/cinder-guide.rst', 'README.rst', 'doc/manila-guide.rst', 'docker/ceilometer/ceilometer-api/extend_start.sh', 'etc/kolla/globals.yml', 'doc/image-building.rst']",9,c878ed636b6099314e61f7883af19e65c03b870b,word-choice, configure Docker with BTRFS back end <https://docs.docker.com/engine/userguide/storagedriver/btrfs-driver/#prerequisites>`_., configure Docker with BTRFS backend <https://docs.docker.com/engine/userguide/storagedriver/btrfs-driver/#prerequisites>`_.,22,22
openstack%2Fmurano~master~I1544fe8d0b4548e6c078310b08fc83af2c10b211,openstack/murano,master,I1544fe8d0b4548e6c078310b08fc83af2c10b211,Reduce the amount of smoke tests from 61 to 40,MERGED,2016-11-25 19:10:51.000000000,2016-11-29 12:24:21.000000000,2016-11-29 12:24:21.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7821}, {'_account_id': 8127}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 23317}]","[{'number': 1, 'created': '2016-11-25 19:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/20706177619762816b42d01d84470a3513f4931c', 'message': ""Reduce tu amount of smoke tests from 61 to 40\n\nSmoke testing is designed around a compromise in testing quality in\norder to have results in a way that consumes less resources and time.\n\nWe want to be able to have a reasonable confidence that the service\nworks fairly well without having to run too many tests.\n\nAs such, let's keep what still amounts to a fairly good testing of\neach component tagged as smoke.\nMore in-depth testing can still be achieved with the right pattern\nmatching but smoke testing will not be as lengthy and resource\nconsuming now.\n\nChange-Id: I1544fe8d0b4548e6c078310b08fc83af2c10b211\n""}, {'number': 2, 'created': '2016-11-25 19:11:54.000000000', 'files': ['murano_tempest_tests/tests/api/application_catalog/test_environments.py', 'murano_tempest_tests/tests/api/application_catalog/test_env_templates.py', 'murano_tempest_tests/tests/api/application_catalog/test_categories.py', 'murano_tempest_tests/tests/api/application_catalog/test_services.py', 'murano_tempest_tests/tests/api/application_catalog/test_repository.py', 'murano_tempest_tests/tests/api/application_catalog/test_sessions.py', 'murano_tempest_tests/tests/api/application_catalog/test_static_actions.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/f0bc9476beae5658c4039846ac9fb5c63dfc2360', 'message': ""Reduce the amount of smoke tests from 61 to 40\n\nSmoke testing is designed around a compromise in testing quality in\norder to have results in a way that consumes less resources and time.\n\nWe want to be able to have a reasonable confidence that the service\nworks fairly well without having to run too many tests.\n\nAs such, let's keep what still amounts to a fairly good testing of\neach component tagged as smoke.\nMore in-depth testing can still be achieved with the right pattern\nmatching but smoke testing will not be as lengthy and resource\nconsuming now.\n\nChange-Id: I1544fe8d0b4548e6c078310b08fc83af2c10b211\n""}]",0,403257,f0bc9476beae5658c4039846ac9fb5c63dfc2360,12,7,2,9061,,,0,"Reduce the amount of smoke tests from 61 to 40

Smoke testing is designed around a compromise in testing quality in
order to have results in a way that consumes less resources and time.

We want to be able to have a reasonable confidence that the service
works fairly well without having to run too many tests.

As such, let's keep what still amounts to a fairly good testing of
each component tagged as smoke.
More in-depth testing can still be achieved with the right pattern
matching but smoke testing will not be as lengthy and resource
consuming now.

Change-Id: I1544fe8d0b4548e6c078310b08fc83af2c10b211
",git fetch https://review.opendev.org/openstack/murano refs/changes/57/403257/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano_tempest_tests/tests/api/application_catalog/test_environments.py', 'murano_tempest_tests/tests/api/application_catalog/test_env_templates.py', 'murano_tempest_tests/tests/api/application_catalog/test_categories.py', 'murano_tempest_tests/tests/api/application_catalog/test_services.py', 'murano_tempest_tests/tests/api/application_catalog/test_repository.py', 'murano_tempest_tests/tests/api/application_catalog/test_sessions.py', 'murano_tempest_tests/tests/api/application_catalog/test_static_actions.py']",7,20706177619762816b42d01d84470a3513f4931c,test-count,, @testtools.testcase.attr('smoke'),0,21
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I835d1e82480edb0b6d082a7496d7ceebb1781728,openstack/tripleo-heat-templates,stable/newton,I835d1e82480edb0b6d082a7496d7ceebb1781728,Use correct type for SensuRedactVariables parameter,MERGED,2016-11-28 18:40:23.000000000,2016-11-29 12:23:18.000000000,2016-11-29 12:23:18.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 7144}]","[{'number': 1, 'created': '2016-11-28 18:40:23.000000000', 'files': ['puppet/services/monitoring/sensu-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63c26034b10a1a89af983e32acc8429c06855677', 'message': 'Use correct type for SensuRedactVariables parameter\n\nThe parameter type is invalid making it impossible to enable monitoring-environment.\n\nChange-Id: I835d1e82480edb0b6d082a7496d7ceebb1781728\nCloses-Bug: #1641080\nCloses-Bug: rhbz#1392473\n(cherry picked from commit d1deaae25f8583603c9a8d9394a81c12d5d1742c)\n'}]",0,403849,63c26034b10a1a89af983e32acc8429c06855677,8,7,1,5241,,,0,"Use correct type for SensuRedactVariables parameter

The parameter type is invalid making it impossible to enable monitoring-environment.

Change-Id: I835d1e82480edb0b6d082a7496d7ceebb1781728
Closes-Bug: #1641080
Closes-Bug: rhbz#1392473
(cherry picked from commit d1deaae25f8583603c9a8d9394a81c12d5d1742c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/403849/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/monitoring/sensu-base.yaml'],1,63c26034b10a1a89af983e32acc8429c06855677,bug/1641080, type: comma_delimited_list, type: array,1,1
openstack%2Fkarbor~master~Ia49d41f20653346efe3b9bcea146efa7e3ea4361,openstack/karbor,master,Ia49d41f20653346efe3b9bcea146efa7e3ea4361,Replace six.iteritems with dict.items(),MERGED,2016-11-22 10:11:11.000000000,2016-11-29 12:19:19.000000000,2016-11-29 12:19:19.000000000,"[{'_account_id': 3}, {'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 20883}]","[{'number': 1, 'created': '2016-11-22 10:11:11.000000000', 'files': ['karbor/services/operationengine/engine/triggers/trigger_manager.py', 'karbor/services/operationengine/engine/executors/scheduled_operation_executor.py', 'karbor/utils.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py', 'karbor/services/operationengine/operation_manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/eb1078cce91bfbd1a6c4c44b1b2d83cf718e3e3e', 'message': 'Replace six.iteritems with dict.items()\n\n1.As mentioned in [1], we should avoid using six.iteritems\nto achieve iterators. We can use dict.items instead, as it will\nreturn iterators in PY3 as well. And dict.items/keys will more\nreadable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ia49d41f20653346efe3b9bcea146efa7e3ea4361\n'}]",0,400663,eb1078cce91bfbd1a6c4c44b1b2d83cf718e3e3e,12,4,1,20566,,,0,"Replace six.iteritems with dict.items()

1.As mentioned in [1], we should avoid using six.iteritems
to achieve iterators. We can use dict.items instead, as it will
return iterators in PY3 as well. And dict.items/keys will more
readable.
2.In py2, the performance about list should be negligible,
see the link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: Ia49d41f20653346efe3b9bcea146efa7e3ea4361
",git fetch https://review.opendev.org/openstack/karbor refs/changes/63/400663/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/operationengine/engine/triggers/trigger_manager.py', 'karbor/services/operationengine/engine/executors/scheduled_operation_executor.py', 'karbor/utils.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py', 'karbor/services/operationengine/operation_manager.py']",5,eb1078cce91bfbd1a6c4c44b1b2d83cf718e3e3e,bugfix," for t, cls in self._operation_cls_map.items():","import six for t, cls in six.iteritems(self._operation_cls_map):",5,12
openstack%2Fcongress~master~Ida02fc1086a79c1c91c52979b2567d8d07653d27,openstack/congress,master,Ida02fc1086a79c1c91c52979b2567d8d07653d27,Magnum_driver and test_magnum_driver for congress,ABANDONED,2016-11-25 22:53:40.000000000,2016-11-29 12:02:22.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-25 22:53:40.000000000', 'files': ['requirements.txt', 'congress/datasources/magnum_driver.py', 'congress/tests/datasources/test_magnum_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/5b274867eb624842fbbc0e9ede780cbcfbc10970', 'message': 'Magnum_driver and test_magnum_driver for congress\n\nChange-Id: Ida02fc1086a79c1c91c52979b2567d8d07653d27\n'}]",0,403290,5b274867eb624842fbbc0e9ede780cbcfbc10970,3,1,1,24179,,,0,"Magnum_driver and test_magnum_driver for congress

Change-Id: Ida02fc1086a79c1c91c52979b2567d8d07653d27
",git fetch https://review.opendev.org/openstack/congress refs/changes/90/403290/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'congress/datasources/magnum_driver.py', 'congress/tests/datasources/test_magnum_driver.py']",3,5b274867eb624842fbbc0e9ede780cbcfbc10970,magnum_driver_branch,"# Copyright (c) 2013 VMware, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import mock from congress.datasources import magnum_driver from congress.tests import base from congress.tests import helper class TestMagnumDriver(base.TestCase): def setUp(self): super(TestMagnumDriver, self).setUp() self.keystone_client_p = mock.patch( ""keystoneclient.v2_0.client.Client"") self.keystone_client_p.start() self.magnum_client_p = mock.patch(""magnumclient.client.Client"") self.magnum_client_p.start() args = helper.datasource_openstack_args() args['poll_time'] = 0 args['client'] = mock.MagicMock() self.driver = magnum_driver.MagnumDriver(args=args) self.mock_cluster_templates = {'cluster_templates': [ {u'insecure_registry': u'-', u'http_proxy': u'-', u'updated_at': u'-', u'floating_ip_enabled': True, u'fixed_subnet': u'-', u'master_flavor_id': u'my', u'uuid': u'8d25a1ed-faa6-4305-a6a1-6559708c805b', u'no_proxy': u'-', u'https_proxy': u'-', u'tls_disabled': False, u'keypair_id': u'testkey', u'public': False, u'labels': {}, u'docker_volume_size': u'7', u'server_type': u'vm', u'external_network_id': u'public', u'cluster_distro': u'fedora-atomic', u'image_id': u'fedora-atomic-latest', u'volume_driver': u'-', u'registry_enabled': False, u'docker_storage_driver': u'devicemapper', u'apiserver_port': u'-', u'name': u'k8s-cluster-template', u'created_at': u'2016-11-11T11:38:25Z', u'network_driver': u'flannel', u'fixed_network': u'-', u'coe': u'kubernetes', u'flavor_id': u'm1.tiny', u'master_lb_enabled': False, u'dns_nameserver': u'193.205.160.3', u'cluster_templates_links': [{u'uuid': u'8d25a1ed-faa6-4305' + u'-a6a1-6559708c805b', u'href': u'http://10.0.2.15:9511' + '/v1/clustertemplates/', u'rel': u'self'}]}]} # I'm not able to create a cluster. So I've 'CREATE FAILED' self.mock_clusters = {'clusters': [ {u'status': u'CREATE_FAILED', u'cluster_template_id': u'8d25a1ed-faa6-4305-a6a1-6559708c805b', u'uuid': u'1634beb9-25de-4cdd-bafa-67537069f0cc', u'stack_id': u'17f1248d-286a-4fd4-9639-af5773670f03', u'keypair': u'testkey', u'master_count': 1, u'node_count': 1, u'create_timeout': 60, u'name': u'k8s-cluster', u'clusters_links': [{u'uuid': u'1634beb9-25de-4cdd' + u'-bafa-67537069f0cc', u'href': u'http://10.0.2.15:9511/v1/' + u'clusters/', u'rel': u'self'}]}]} def test_update_from_datasource(self): with mock.patch.object(self.driver.magnum.cluster_templates, ""list"") as cluster_templates_list: with mock.patch.object(self.driver.magnum.clusters, ""list"") as clusters_list: to_return = self.mock_cluster_templates['cluster_templates'] cluster_templates_list.return_value = to_return clusters_list.return_value = self.mock_clusters['clusters'] self.driver.update_from_datasource() expected = { 'cluster_templates': set([ (u'-', u'-', u'-', u'True', u'-', u'my', u'8d25a1ed-faa6-4305-a6a1-6559708c805b', u'-', u'-', u'False', u'testkey', u'False', u'd751713988987e9331980363e24189ce', u'7', u'vm', u'public', u'fedora-atomic', u'fedora-atomic-latest', u'-', u'False', u'devicemapper', u'-', u'k8s-cluster-template', u'2016-11-11T11:38:25Z', u'flannel', u'-', u'kubernetes', u'm1.tiny', u'False', u'193.205.160.3')]), 'cluster_templates_links': set([ (u'8d25a1ed-faa6-4305-a6a1-6559708c805b', u'http://10.0.2.15:9511/v1/clustertemplates/', u'self')]), 'clusters': set([ (u'CREATE_FAILED', u'8d25a1ed-faa6-4305-a6a1-6559708c805b', u'1634beb9-25de-4cdd-bafa-67537069f0cc', u'17f1248d-286a-4fd4-9639-af5773670f03', u'testkey', 1, 1, 60, u'k8s-cluster')]), 'clusters_links': set([ (u'1634beb9-25de-4cdd-bafa-67537069f0cc', u'http://10.0.2.15:9511/v1/clusters/', u'self')]), 'labels': set([])} self.assertEqual(expected, self.driver.state) ",,339,9
openstack%2Fneutron-specs~master~I513744a7614591254aed9acfe429d91bb962e774,openstack/neutron-specs,master,I513744a7614591254aed9acfe429d91bb962e774,Fixed Spelling mistakes,ABANDONED,2016-11-09 09:42:29.000000000,2016-11-29 12:02:11.000000000,,"[{'_account_id': 3}, {'_account_id': 14605}]","[{'number': 1, 'created': '2016-11-09 09:42:29.000000000', 'files': ['specs/kilo/mtu-selection-and-advertisement.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/71faf14e9d373fa3c3d9e3503834562a37d4a8e8', 'message': 'Fixed Spelling mistakes\n\nChange-Id: I513744a7614591254aed9acfe429d91bb962e774\nCloses-bug: 1628038\n'}]",0,395485,71faf14e9d373fa3c3d9e3503834562a37d4a8e8,4,2,1,24021,,,0,"Fixed Spelling mistakes

Change-Id: I513744a7614591254aed9acfe429d91bb962e774
Closes-bug: 1628038
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/85/395485/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/mtu-selection-and-advertisement.rst'],1,71faf14e9d373fa3c3d9e3503834562a37d4a8e8,bug/1628038,"corner case behavior.the sender expects to send) or at the destination (if the destination'sleads to inconsistent behavior with different transfer types:size to use. Some tunneling protocols allow fragmentation of packets advertising an MTU, so this possibility must be accounted for of MTU advertisement, they can ask for a specific - typically 1500 - interface core while supporting plugins that do not recognize it.tunneling protocols such as GRE - traditionally, VLAN tags are notall destinations. It is its task to ensure that the MTU is small with routers and this can result in unexpected behavior. It doescould have their MTU explicitly configured to be that of the virtualread-only attribute. NULL is treated as unset.validate it against the plugin-provided max-MTU value and reject anybehavior should rectify this, particularly if network plugins preferbehavior.behavior.Confirm that, using the above drivers, ML2 correctly calculates the MTUEnsure appropriate application of MTU to all elements when and received across a network between VMs that recognize theThe changed behavior of DHCP and RA should be documented.","corner case behaviour.the sender expects to send) or at the desination (if the desination'sleads to inconsistent behaviour with different transfer types:size to use. Some tunnelling protocols allow fragmentation of packets avertising an MTU, so this possibility must be accounted for of MTU advertisement, they can ask for a specifc - typically 1500 - interface core while supporting plugins that do not recognise it.tunnelling protocols such as GRE - traditionally, VLAN tags are notall desinations. It is its task to ensure that the MTU is small with routers and this can result in unexpected behaviour. It doescould have their MTU explcitly configured to be that of the virtualreadonly attribute. NULL is treated as unset.validate it aginst the plugin-provided max-MTU value and reject anybehaviour should rectify this, particularly if network plugins preferbehaviour.behaviour.Confirm that, using the above drivers, ML2 correcly calculates the MTUEnsure appropriate application of MTU to all elemtns when and received across a network between VMs that recognise theThe changed behaviour of DHCP and RA should be documented.",20,20
openstack%2Fmurano-dashboard~master~I92398e03fda0fb1cd150415dec8138cd16f061b1,openstack/murano-dashboard,master,I92398e03fda0fb1cd150415dec8138cd16f061b1,Imported Translations from Zanata,MERGED,2016-11-29 06:32:36.000000000,2016-11-29 11:59:14.000000000,2016-11-29 11:59:14.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-11-29 06:32:36.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8e2e10611082caea40aa4cbb0ddcf2fbcf0e0fa8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I92398e03fda0fb1cd150415dec8138cd16f061b1\n'}]",0,404032,8e2e10611082caea40aa4cbb0ddcf2fbcf0e0fa8,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I92398e03fda0fb1cd150415dec8138cd16f061b1
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/32/404032/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/de/LC_MESSAGES/django.po']",2,8e2e10611082caea40aa4cbb0ddcf2fbcf0e0fa8,zanata/translations,"""Project-Id-Version: murano-dashboard 3.0.0.0rc2.dev154\n""""POT-Creation-Date: 2016-11-26 09:03+0000\n""""PO-Revision-Date: 2016-11-28 09:16+0000\n"" ""Last-Translator: Eugen Block <eblock@nde.ag>\n""#, python-format msgid """" ""Go to <b><a href=%(pkg_def_url)s>Packages</a></b>, click 'Import Package' "" ""and select <i>Repository</i> as <i>Package Source</i>."" msgstr """" ""Gehen Sie auf <b><a href=%(pkg_def_url)s>Pakete</a></b>, kklicken Sie "" ""'Importiere Pakete' whlen Sie <i>Repository</i> als <i>Paketquelle</i>."" ","""Project-Id-Version: murano-dashboard 3.0.0.0rc2.dev145\n""""POT-Creation-Date: 2016-11-24 15:30+0000\n""""PO-Revision-Date: 2016-11-22 09:12+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""",16,8
openstack%2Fapi-site~master~I5edb72913539371825043faf83c1a3684087c786,openstack/api-site,master,I5edb72913539371825043faf83c1a3684087c786,Updated from openstack-manuals,MERGED,2016-11-29 11:10:45.000000000,2016-11-29 11:57:24.000000000,2016-11-29 11:57:24.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2016-11-29 11:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/a6f694a657da4806bbdbf91cb0f2b40c73d110ba', 'message': 'Updated from openstack-manuals\n\nChange-Id: I5edb72913539371825043faf83c1a3684087c786\n'}, {'number': 2, 'created': '2016-11-29 11:15:23.000000000', 'files': ['common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/api-site/commit/dac1c5ad68722baa08b138e87cc4276684f96413', 'message': 'Updated from openstack-manuals\n\nChange-Id: I5edb72913539371825043faf83c1a3684087c786\n'}]",0,404152,dac1c5ad68722baa08b138e87cc4276684f96413,8,2,2,11131,,,0,"Updated from openstack-manuals

Change-Id: I5edb72913539371825043faf83c1a3684087c786
",git fetch https://review.opendev.org/openstack/api-site refs/changes/52/404152/1 && git format-patch -1 --stdout FETCH_HEAD,['common/app-support.rst'],1,a6f694a657da4806bbdbf91cb0f2b40c73d110ba,openstack/openstack-manuals,* `Installation Tutorial for Debian with Debconf* `Installation Tutorial for Debian,* `Installation Tutorial For Debian With Debconf* `Installation Tutorial For Debian,2,2
openstack%2Fsecurity-doc~master~I7f41b66b07dda00736f9ca956343fd38ed1c1112,openstack/security-doc,master,I7f41b66b07dda00736f9ca956343fd38ed1c1112,Updated from openstack-manuals,MERGED,2016-11-29 11:10:49.000000000,2016-11-29 11:56:59.000000000,2016-11-29 11:56:59.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2016-11-29 11:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/3ed4c8c12d5180fb2a7d0e80dbb46666f3225b40', 'message': 'Updated from openstack-manuals\n\nChange-Id: I7f41b66b07dda00736f9ca956343fd38ed1c1112\n'}, {'number': 2, 'created': '2016-11-29 11:15:27.000000000', 'files': ['common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/6b4f2efed5ebfe77f1faa301828ecd41a65e391e', 'message': 'Updated from openstack-manuals\n\nChange-Id: I7f41b66b07dda00736f9ca956343fd38ed1c1112\n'}]",0,404153,6b4f2efed5ebfe77f1faa301828ecd41a65e391e,8,2,2,11131,,,0,"Updated from openstack-manuals

Change-Id: I7f41b66b07dda00736f9ca956343fd38ed1c1112
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/53/404153/1 && git format-patch -1 --stdout FETCH_HEAD,['common/app-support.rst'],1,3ed4c8c12d5180fb2a7d0e80dbb46666f3225b40,openstack/openstack-manuals,* `Installation Tutorial for Debian with Debconf* `Installation Tutorial for Debian,* `Installation Tutorial For Debian With Debconf* `Installation Tutorial For Debian,2,2
openstack%2Fkolla-ansible~master~Ib1bbf1e5cb1536a41ab8c3082026ba90811f8df7,openstack/kolla-ansible,master,Ib1bbf1e5cb1536a41ab8c3082026ba90811f8df7,Enable ironic ui when enable_ironic is yes,MERGED,2016-11-27 16:31:08.000000000,2016-11-29 11:54:57.000000000,2016-11-29 11:54:57.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-11-27 16:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a4f16e3a931e56d9e02a0fa6ac67254c3fd4f5a', 'message': 'Add ENABLE_IRONIC environment in horizon\n\nDepends-On: Ie094b92b9a8e20696cee84698013d09306dd6e7f\nChange-Id: Ib1bbf1e5cb1536a41ab8c3082026ba90811f8df7\nCloses-Bug: #1645104\n'}, {'number': 2, 'created': '2016-11-29 02:07:20.000000000', 'files': ['ansible/roles/horizon/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2bdd0299b81010679c9bf81aa7874c7a5bbbb33f', 'message': 'Enable ironic ui when enable_ironic is yes\n\nDepends-On: Ie094b92b9a8e20696cee84698013d09306dd6e7f\nChange-Id: Ib1bbf1e5cb1536a41ab8c3082026ba90811f8df7\nCloses-Bug: #1645104\n'}]",0,403446,2bdd0299b81010679c9bf81aa7874c7a5bbbb33f,9,3,2,7488,,,0,"Enable ironic ui when enable_ironic is yes

Depends-On: Ie094b92b9a8e20696cee84698013d09306dd6e7f
Change-Id: Ib1bbf1e5cb1536a41ab8c3082026ba90811f8df7
Closes-Bug: #1645104
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/403446/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/tasks/start.yml'],1,3a4f16e3a931e56d9e02a0fa6ac67254c3fd4f5a,bug/1645104," ENABLE_IRONIC: ""{{ 'yes' if enable_ironic | bool else 'no' }}""",,1,0
openstack%2Fkuryr-libnetwork~master~I521962daca113202b52221cb53d93c0cad8f2d6f,openstack/kuryr-libnetwork,master,I521962daca113202b52221cb53d93c0cad8f2d6f,Build docker busybox image locally,MERGED,2016-11-20 13:31:02.000000000,2016-11-29 11:42:07.000000000,2016-11-29 11:42:07.000000000,"[{'_account_id': 3}, {'_account_id': 1923}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 12069}, {'_account_id': 12860}, {'_account_id': 14352}, {'_account_id': 15967}]","[{'number': 1, 'created': '2016-11-20 13:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b4c177eb0953c0463a1f24afc30207f391cd5a3d', 'message': 'Build docker busybox image locally\n\nChange-Id: I521962daca113202b52221cb53d93c0cad8f2d6f\nCloses-bug: #1633435\n'}, {'number': 2, 'created': '2016-11-20 13:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/1be34954c740cea81c6968e2ac1095083501bcec', 'message': 'Build docker busybox image locally\n\nChange-Id: I521962daca113202b52221cb53d93c0cad8f2d6f\nCloses-bug: #1633435\n'}, {'number': 3, 'created': '2016-11-24 16:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/df922a52efcd0ed10d4ff0c6a86ce54205dadc9c', 'message': 'Build docker busybox image locally\n\nChange-Id: I521962daca113202b52221cb53d93c0cad8f2d6f\nCloses-bug: #1633435\n'}, {'number': 4, 'created': '2016-11-27 13:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/86271b58f6b7f93a7a121ac79fa9e8e85674d008', 'message': 'Build docker busybox image locally\n\nChange-Id: I521962daca113202b52221cb53d93c0cad8f2d6f\nCloses-bug: #1633435\n'}, {'number': 5, 'created': '2016-11-27 14:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/c7254d9dc8de2d7d711e6ed42b11380864b2482e', 'message': 'Build docker busybox image locally\n\nChange-Id: I521962daca113202b52221cb53d93c0cad8f2d6f\nCloses-bug: #1633435\n'}, {'number': 6, 'created': '2016-11-27 14:50:33.000000000', 'files': ['contrib/busybox/build_image.sh', 'devstack/plugin.sh', 'rally-jobs/plugins/scenarios/utils.py', 'contrib/busybox/busybox.tar.xz', 'contrib/busybox/Dockerfile', 'rally-jobs/plugins/context/docker_networks.py', 'kuryr_libnetwork/tests/fullstack/test_container.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b7f8f23440c72c5072b0e1c60b223163cc8b0704', 'message': 'Build docker busybox image locally\n\nChange-Id: I521962daca113202b52221cb53d93c0cad8f2d6f\nCloses-bug: #1633435\n'}]",3,399958,b7f8f23440c72c5072b0e1c60b223163cc8b0704,24,9,6,9820,,,0,"Build docker busybox image locally

Change-Id: I521962daca113202b52221cb53d93c0cad8f2d6f
Closes-bug: #1633435
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/58/399958/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'rally-jobs/plugins/scenarios/utils.py', 'rally-jobs/plugins/context/docker_networks.py', 'kuryr_libnetwork/tests/fullstack/test_container.py']",4,b4c177eb0953c0463a1f24afc30207f391cd5a3d,bug/1633435," image='kuryr/busybox',"," self.docker_client.pull(repository='busybox', tag='1') image='busybox:1',",13,5
openstack%2Ftempest~master~I3a24d89405b83567a7314c66795acf9e2c1752f1,openstack/tempest,master,I3a24d89405b83567a7314c66795acf9e2c1752f1,Add 'Negative' to negative test class names,MERGED,2016-11-29 06:05:49.000000000,2016-11-29 11:33:45.000000000,2016-11-29 11:33:45.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 19262}]","[{'number': 1, 'created': '2016-11-29 06:05:49.000000000', 'files': ['tempest/api/compute/images/test_image_metadata_negative.py', 'tempest/api/volume/test_volumes_clone_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8d1d6d4d6b60c3bbc48ca1e5a9a82c650148585', 'message': ""Add 'Negative' to negative test class names\n\nThis commit adds 'Negative' to negative test class names. Most of the\nnegative test classes have 'Negative' in their class name. And the\nexplicit name should be better in general. And this commit also changes\n'VolumesCloneTest' to 'VolumesV2CloneNegativeTest'(adding 'V2').\nBecause the test is for the V2 api.\n\nChange-Id: I3a24d89405b83567a7314c66795acf9e2c1752f1\n""}]",0,404027,e8d1d6d4d6b60c3bbc48ca1e5a9a82c650148585,12,4,1,5689,,,0,"Add 'Negative' to negative test class names

This commit adds 'Negative' to negative test class names. Most of the
negative test classes have 'Negative' in their class name. And the
explicit name should be better in general. And this commit also changes
'VolumesCloneTest' to 'VolumesV2CloneNegativeTest'(adding 'V2').
Because the test is for the V2 api.

Change-Id: I3a24d89405b83567a7314c66795acf9e2c1752f1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/27/404027/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/images/test_image_metadata_negative.py', 'tempest/api/volume/test_volumes_clone_negative.py']",2,e8d1d6d4d6b60c3bbc48ca1e5a9a82c650148585,add-negative-to-negative-testing-class,"class VolumesV2CloneNegativeTest(base.BaseVolumeTest): super(VolumesV2CloneNegativeTest, cls).skip_checks()class VolumesV1CloneNegativeTest(VolumesV2CloneNegativeTest):","class VolumesCloneTest(base.BaseVolumeTest): super(VolumesCloneTest, cls).skip_checks()class VolumesV1CloneTest(VolumesCloneTest):",5,5
openstack%2Foslo.middleware~master~I9645917f8f6d1a586d66ad1a6dddda20f949aeb6,openstack/oslo.middleware,master,I9645917f8f6d1a586d66ad1a6dddda20f949aeb6,Remove self-referential link in docs,MERGED,2016-11-28 17:48:27.000000000,2016-11-29 11:31:27.000000000,2016-11-29 11:31:26.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-11-28 17:48:27.000000000', 'files': ['oslo_middleware/healthcheck/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/18cc2206ac576ea35a8cefb416b941068bddfd16', 'message': 'Remove self-referential link in docs\n\nThe link in this file points to the same page that hosts the content.\nYou can see this here:\nhttp://docs.openstack.org/developer/oslo.middleware/healthcheck_plugins.html\n\nChange-Id: I9645917f8f6d1a586d66ad1a6dddda20f949aeb6\n'}]",0,403825,18cc2206ac576ea35a8cefb416b941068bddfd16,7,3,1,9500,,,0,"Remove self-referential link in docs

The link in this file points to the same page that hosts the content.
You can see this here:
http://docs.openstack.org/developer/oslo.middleware/healthcheck_plugins.html

Change-Id: I9645917f8f6d1a586d66ad1a6dddda20f949aeb6
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/25/403825/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_middleware/healthcheck/__init__.py'],1,18cc2206ac576ea35a8cefb416b941068bddfd16,,, More details on available backends and their configuration can be found on this page: :doc:`healthcheck_plugins`.,0,3
openstack%2Ftripleo-image-elements~master~Idd762c45ed9dc8d14b6f06fa29b89657101e828a,openstack/tripleo-image-elements,master,Idd762c45ed9dc8d14b6f06fa29b89657101e828a,Replace deprecated service with svc-map,ABANDONED,2016-11-25 17:21:34.000000000,2016-11-29 11:31:27.000000000,,"[{'_account_id': 3}, {'_account_id': 6133}]","[{'number': 1, 'created': '2016-11-25 17:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6bc1756376af58f77e2ba78795573fe4090dfc0e', 'message': 'Replace deprecated service with svc-map\n\nThese elements were relying on a deprecated functionality on\ndiskimage-builder. Start using newest svc-map service, and also\nfix problems with incorrect package definitions that stops\nthe build.\n\nChange-Id: Idd762c45ed9dc8d14b6f06fa29b89657101e828a\n'}, {'number': 2, 'created': '2016-11-26 11:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f525ea27d63c051d141aa39fc168473db5d064f8', 'message': 'Replace deprecated service with svc-map\n\nThese elements were relying on a deprecated functionality on\ndiskimage-builder. Start using newest svc-map service, and also\nfix problems with incorrect dependencies.\n\nChange-Id: Idd762c45ed9dc8d14b6f06fa29b89657101e828a\n'}, {'number': 3, 'created': '2016-11-26 12:11:55.000000000', 'files': ['elements/os-svc-install/bin/os-svc-enable'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/64a31d8136cb68e5a5c304c8bf75844a57076aab', 'message': 'Replace deprecated service with svc-map\n\nThese elements were relying on a deprecated functionality on\ndiskimage-builder. Start using newest svc-map service, and also\nfix problems with incorrect dependencies.\n\nChange-Id: Idd762c45ed9dc8d14b6f06fa29b89657101e828a\n'}]",0,403138,64a31d8136cb68e5a5c304c8bf75844a57076aab,14,2,3,6133,,,0,"Replace deprecated service with svc-map

These elements were relying on a deprecated functionality on
diskimage-builder. Start using newest svc-map service, and also
fix problems with incorrect dependencies.

Change-Id: Idd762c45ed9dc8d14b6f06fa29b89657101e828a
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/38/403138/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-collect-config/pkg-map', 'elements/os-svc-install/bin/os-svc-enable']",2,6bc1756376af58f77e2ba78795573fe4090dfc0e,,MAPPING_COMMAND=svc-map," echo "" -a Use alternate svc-map instead of map-services""MAPPING_COMMAND=map-services a) MAPPING_COMMAND=svc-map;;",3,5
openstack%2Fnova~master~Ifc234da617c31f1f22674b306fdd6e398041973a,openstack/nova,master,Ifc234da617c31f1f22674b306fdd6e398041973a,api-ref: add missing os-server-groups parameters,MERGED,2016-11-22 16:29:08.000000000,2016-11-29 11:30:54.000000000,2016-11-29 11:30:53.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-22 16:29:08.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/os-server-groups.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/dba04d511cb8b2083970d8fa2f222d05de457786', 'message': ""api-ref: add missing os-server-groups parameters\n\nThe os-server-groups endpoint has supported paging using optional\n'limit' & 'offset' query parameters for years now, but they aren't\ndocumented in the api-ref. This patch adds those query parameters to the\nnova api documentation.\n\nChange-Id: Ifc234da617c31f1f22674b306fdd6e398041973a\n""}]",0,400851,dba04d511cb8b2083970d8fa2f222d05de457786,19,5,1,16907,,,0,"api-ref: add missing os-server-groups parameters

The os-server-groups endpoint has supported paging using optional
'limit' & 'offset' query parameters for years now, but they aren't
documented in the api-ref. This patch adds those query parameters to the
nova api documentation.

Change-Id: Ifc234da617c31f1f22674b306fdd6e398041973a
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/400851/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/os-server-groups.inc']",2,dba04d511cb8b2083970d8fa2f222d05de457786,server-groups-paging, - limit: limit_simple - offset: offset_simple,,18,0
openstack%2Fnova~master~I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88,openstack/nova,master,I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88,api-ref: body verification for abort live migration,MERGED,2016-11-14 23:22:32.000000000,2016-11-29 11:30:19.000000000,2016-11-29 11:30:19.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15293}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-14 23:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc090e23d45ba864abe19d23eaebeea91342ede8', 'message': 'api-ref: body verification for abort live migration\n\nThis completes the DELETE method body verification\nfor server migrations.\n\nThis was only supported in microversion >= 2.24 and only\non the libvirt driver so there are notes about it being\nconditional.\n\nCloses-Bug: #1641713\n\nPart of blueprint api-ref-in-rst-ocata\n\nChange-Id: I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88\n'}, {'number': 2, 'created': '2016-11-15 16:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f019f30ced0da42fa3c4be0bb5a2d688f64367d3', 'message': 'api-ref: body verification for abort live migration\n\nThis completes the DELETE method body verification\nfor server migrations.\n\nThis was only supported in microversion >= 2.24 and only\non the libvirt driver so there are notes about it being\nconditional.\n\nCloses-Bug: #1641713\n\nPart of blueprint api-ref-in-rst-ocata\n\nChange-Id: I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88\n'}, {'number': 3, 'created': '2016-11-15 16:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e65ed29864e2f3ad0a45845d993e8645e863d9ac', 'message': 'api-ref: body verification for abort live migration\n\nThis completes the DELETE method body verification\nfor server migrations.\n\nThis was only supported in microversion >= 2.24 and only\non the libvirt driver so there are notes about it being\nconditional.\n\nCloses-Bug: #1641713\n\nPart of blueprint api-ref-in-rst-ocata\n\nChange-Id: I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88\n'}, {'number': 4, 'created': '2016-11-16 14:48:33.000000000', 'files': ['api-ref/source/server-migrations.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/e975603b881d357853bb4c5288d30fcfce7ad751', 'message': 'api-ref: body verification for abort live migration\n\nThis completes the DELETE method body verification\nfor server migrations.\n\nThis was only supported in microversion >= 2.24 and only\non the libvirt driver so there are notes about it being\nconditional.\n\nCloses-Bug: #1641713\n\nPart of blueprint api-ref-in-rst-ocata\n\nChange-Id: I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88\n'}]",18,397407,e975603b881d357853bb4c5288d30fcfce7ad751,59,16,4,6873,,,0,"api-ref: body verification for abort live migration

This completes the DELETE method body verification
for server migrations.

This was only supported in microversion >= 2.24 and only
on the libvirt driver so there are notes about it being
conditional.

Closes-Bug: #1641713

Part of blueprint api-ref-in-rst-ocata

Change-Id: I3bc2cb70f8ad12124098376ef01eb7df2f6b2f88
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/397407/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/server-migrations.inc'],1,dc090e23d45ba864abe19d23eaebeea91342ede8,bug/1641713,"Abort an in-progress live migration. .. note:: Microversion 2.24 or greater is required for this API. .. note:: Not all compute back ends support aborting an in-progress live migration. Policy defaults enable only users with the administrative role to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. **Preconditions** The server OS-EXT-STS:task_state value must be ``migrating``. If the server is locked, you must have administrator privileges to force the completion of the server migration. The migration status must be ``running``. **Asynchronous Postconditions** After you make this request, you typically must keep polling the server status to determine whether the request succeeded. **Troubleshooting** If the server task_state remains ``migrating`` for an inordinate amount of time, the request may have failed. Ensure you meet the preconditions and run the request again. If the request fails again, investigate the compute back end. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) ",.. needs:body_verification,36,1
openstack%2Ftempest~master~I8c1933b6b5c266538a1f53efd8802efcf4c653db,openstack/tempest,master,I8c1933b6b5c266538a1f53efd8802efcf4c653db,Add test create volume from bootable volume,MERGED,2016-11-28 14:50:51.000000000,2016-11-29 11:26:02.000000000,2016-11-29 11:26:02.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9152}, {'_account_id': 23184}]","[{'number': 1, 'created': '2016-11-28 14:50:51.000000000', 'files': ['tempest/api/volume/test_volumes_clone.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/faf08d37bb01a516d4503381133d5550376394d4', 'message': 'Add test create volume from bootable volume\n\nThe test verifies cloning operation from bootable volume.\n\nChange-Id: I8c1933b6b5c266538a1f53efd8802efcf4c653db\n'}]",0,403743,faf08d37bb01a516d4503381133d5550376394d4,10,5,1,19262,,,0,"Add test create volume from bootable volume

The test verifies cloning operation from bootable volume.

Change-Id: I8c1933b6b5c266538a1f53efd8802efcf4c653db
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/403743/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_clone.py'],1,faf08d37bb01a516d4503381133d5550376394d4,cloned_volume," @test.idempotent_id('cbbcd7c6-5a6c-481a-97ac-ca55ab715d16') def test_create_from_bootable_volume(self): # Create volume from image img_uuid = CONF.compute.image_ref src_vol = self.create_volume(imageRef=img_uuid) # Create a volume from the bootable volume cloned_vol = self.create_volume(source_volid=src_vol['id']) cloned_vol_details = self.volumes_client.show_volume( cloned_vol['id'])['volume'] # Verify cloned volume creation as expected self.assertEqual('true', cloned_vol_details['bootable']) self.assertEqual(src_vol['id'], cloned_vol_details['source_volid']) self.assertEqual(src_vol['size'], cloned_vol_details['size']) ",,16,0
openstack%2Ffuel-web~master~Iea1184078c959c493d29cf109019c68b87afa091,openstack/fuel-web,master,Iea1184078c959c493d29cf109019c68b87afa091,Queues count serialize for ovs in dpdk deployment,ABANDONED,2016-11-25 07:11:21.000000000,2016-11-29 11:24:54.000000000,,"[{'_account_id': 3}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10443}, {'_account_id': 10488}, {'_account_id': 10959}, {'_account_id': 11898}, {'_account_id': 16771}, {'_account_id': 20656}, {'_account_id': 21013}, {'_account_id': 21696}]","[{'number': 1, 'created': '2016-11-25 07:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a5d7420108e78ee1ce6b3dbf079468bcedb83a1f', 'message': 'Queues count serialize for ovs in dpdk deployment\n\nChange-Id: Iea1184078c959c493d29cf109019c68b87afa091\nPartial-Bug: #1643920\n'}, {'number': 2, 'created': '2016-11-25 07:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0e390d06bd40e7a4473eae06b2a361aa7aaf0993', 'message': 'Queues count serialize for ovs in dpdk deployment\n\nChange-Id: Iea1184078c959c493d29cf109019c68b87afa091\nPartial-Bug: #1643920\n'}, {'number': 3, 'created': '2016-11-25 08:28:16.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_90.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/087d0692ed46870163116ec09f96e8696abc2143', 'message': 'Queues count serialize for ovs in dpdk deployment\n\nthis attribute is needed for enable multi-queue in ovs\n\nChange-Id: Iea1184078c959c493d29cf109019c68b87afa091\nPartial-Bug: #1643920\n'}]",8,402322,087d0692ed46870163116ec09f96e8696abc2143,62,11,3,21696,,,0,"Queues count serialize for ovs in dpdk deployment

this attribute is needed for enable multi-queue in ovs

Change-Id: Iea1184078c959c493d29cf109019c68b87afa091
Partial-Bug: #1643920
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/22/402322/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_90.py']",3,a5d7420108e78ee1ce6b3dbf079468bcedb83a1f,bug/1643920," def test_dpdk_multiqueue(self): cpu_count = 3 meta = { 'cpu': { 'total': cpu_count } } self.env.create_node( cluster_id=self.cluster_db.id, roles=['compute'], meta=meta) objects.Cluster.prepare_for_deployment(self.cluster_db) serialized_for_astute = self.serializer.serialize( self.cluster_db, self.cluster_db.nodes) serialized_node = serialized_for_astute['nodes'][0] self.assertEquals( cpu_count, serialized_node['dpdk']['ovs_queues_count']) ",,37,0
openstack%2Foslo.config~master~I703794243d14bd4815da0f62ddc8f81f83283c93,openstack/oslo.config,master,I703794243d14bd4815da0f62ddc8f81f83283c93,Fix filename in comment,MERGED,2016-11-29 07:17:01.000000000,2016-11-29 11:03:57.000000000,2016-11-29 11:03:57.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-11-29 07:17:01.000000000', 'files': ['oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/36ee449a7a61e167373d358dc8597690bf0cc14f', 'message': 'Fix filename in comment\n\n${prog.conf} => ${prog}.conf\n\nChange-Id: I703794243d14bd4815da0f62ddc8f81f83283c93\n'}]",0,404055,36ee449a7a61e167373d358dc8597690bf0cc14f,7,3,1,17207,,,0,"Fix filename in comment

${prog.conf} => ${prog}.conf

Change-Id: I703794243d14bd4815da0f62ddc8f81f83283c93
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/55/404055/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfg.py'],1,36ee449a7a61e167373d358dc8597690bf0cc14f,fix_filename_in_comment," If no project name is supplied, we only look for ${prog}.conf."," If no project name is supplied, we only look for ${prog.conf}.",1,1
openstack%2Fnova~master~I40a196a63a293dc18282ae80d2b263b05f5ddd1c,openstack/nova,master,I40a196a63a293dc18282ae80d2b263b05f5ddd1c,Remove the description of compute_api_class option,MERGED,2016-11-18 06:29:07.000000000,2016-11-29 11:01:29.000000000,2016-11-24 10:51:13.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-11-18 06:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddd031bbc73da1416ced6369e0d0d72262d6222c', 'message': 'Remove the description of compuge_api_class option\n\nSince this config option has been removed long ago.\n\nChange-Id: I40a196a63a293dc18282ae80d2b263b05f5ddd1c\n'}, {'number': 2, 'created': '2016-11-21 05:20:11.000000000', 'files': ['nova/conf/cells.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97d13c62193acd2c80ceb1aeb42de18ea69d53df', 'message': 'Remove the description of compute_api_class option\n\nSince this config option has been removed long ago.\n\nChange-Id: I40a196a63a293dc18282ae80d2b263b05f5ddd1c\n'}]",1,399386,97d13c62193acd2c80ceb1aeb42de18ea69d53df,46,16,2,8290,,,0,"Remove the description of compute_api_class option

Since this config option has been removed long ago.

Change-Id: I40a196a63a293dc18282ae80d2b263b05f5ddd1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/399386/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/cells.py'],1,ddd031bbc73da1416ced6369e0d0d72262d6222c,rm-compute-api-class,Related option: ,Related options: * compute_api_class: This option must be set to cells api driver for the top-level cell (nova.compute.cells_api.ComputeCellsAPI),1,3
openstack%2Fneutron~master~I02e268a413bfa7fe9f36fcece16886840a6fb0c6,openstack/neutron,master,I02e268a413bfa7fe9f36fcece16886840a6fb0c6,Reuse plugin's update method for changing trunk status,MERGED,2016-10-29 16:50:07.000000000,2016-11-29 11:00:21.000000000,2016-11-29 06:51:45.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14611}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 20363}, {'_account_id': 23304}]","[{'number': 1, 'created': '2016-10-29 16:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/064432085d57ae68062a880b73cf3ee54bc1e49f', 'message': ""Reuse plugin's update method for changing trunk status\n\nThis has the effect of triggering notifications,\nwhich may turn out to be useful to some drivers.\n\nChange-Id: I02e268a413bfa7fe9f36fcece16886840a6fb0c6\n""}, {'number': 2, 'created': '2016-10-31 22:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cab197c3b103f22017ff2e9f4788e2e928b32603', 'message': ""Reuse plugin's update method for changing trunk status\n\nThis has the effect of triggering notifications,\nwhich may turn out to be useful to some drivers.\n\nChange-Id: I02e268a413bfa7fe9f36fcece16886840a6fb0c6\n""}, {'number': 3, 'created': '2016-11-29 01:23:31.000000000', 'files': ['neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/services/trunk/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e36e9beb8408a5e4fb52b9c735cdfff8624a2e7', 'message': ""Reuse plugin's update method for changing trunk status\n\nThis has the effect of triggering notifications,\nwhich may turn out to be useful to some drivers.\n\nChange-Id: I02e268a413bfa7fe9f36fcece16886840a6fb0c6\n""}]",0,391620,1e36e9beb8408a5e4fb52b9c735cdfff8624a2e7,30,13,3,748,,,0,"Reuse plugin's update method for changing trunk status

This has the effect of triggering notifications,
which may turn out to be useful to some drivers.

Change-Id: I02e268a413bfa7fe9f36fcece16886840a6fb0c6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/391620/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/services/trunk/plugin.py']",2,064432085d57ae68062a880b73cf3ee54bc1e49f,add-notifications," trunk_id = trunk_details['trunk_id'] self.update_trunk(context, trunk_id, {'trunk': {'status': constants.DOWN_STATUS}})"," trunk = self._get_trunk(context, trunk_details['trunk_id']) trunk.update(status=constants.DOWN_STATUS)",19,10
openstack%2Fironic~master~Ia08a8601494d82fdd82d568c154bbef89c3a7f40,openstack/ironic,master,Ia08a8601494d82fdd82d568c154bbef89c3a7f40,Update iptables rules and services IPs for multinode,MERGED,2016-09-12 08:51:18.000000000,2016-11-29 11:00:10.000000000,2016-11-29 10:06:40.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 8125}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14525}, {'_account_id': 14614}, {'_account_id': 14760}, {'_account_id': 14943}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 23330}]","[{'number': 1, 'created': '2016-09-12 08:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0212d39ce22ff44416ffaca22f36042e87009a6e', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs.\n\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 2, 'created': '2016-09-12 11:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/86c4c29ce17426d3cb8892c575f0e1383aed2563', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs.\n\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 3, 'created': '2016-09-12 12:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a956fcbd04038fdd9c1532de7f4e12c55a19db25', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\nAdd IRONIC_API_HOST variable. This variable defines IP adress of Ironic\nAPI service that is used by clients to send heartbeat (api_url) option.\nIRONIC_API_HOST is set to HOST_IP by default, when multinode topology\nis used IRONIC_API_HOST=$SERVICE_HOST\n\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 4, 'created': '2016-09-12 13:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de5c8bffb177048a801c10b574a014c417726fc8', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\nAdd IRONIC_API_HOST variable. This variable defines IP adress of Ironic\nAPI service that is used by clients to send heartbeat (api_url) option.\nIRONIC_API_HOST is set to HOST_IP by default, when multinode topology\nis used IRONIC_API_HOST=$SERVICE_HOST\n\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 5, 'created': '2016-09-13 06:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/618e6b1cc5082e4fcaeee598fc8aa22306328e58', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 6, 'created': '2016-09-28 21:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9af30fab85d627cc07d0f4652effbc7d67cec2fe', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 7, 'created': '2016-10-01 05:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de04c690b61aeb24cc8ce0c0416d1d56147307cd', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 8, 'created': '2016-10-02 00:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6eff10501c3bcdb0e1051a309aac85dcc794b35', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 9, 'created': '2016-10-05 16:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f068c0349284ee9531347dd0008c6e532fa58935', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 10, 'created': '2016-10-05 22:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e45a0075b40b5595085957fb6bcd04533fed07a', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 11, 'created': '2016-10-07 06:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e551ec2035e8aaaa42b028cb2fc2db6d304c67b', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 12, 'created': '2016-10-17 07:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c95195c4e70cbdf79e0d9bdd99e6e4e401fec1c', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 13, 'created': '2016-11-03 14:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8acb6fd2e273a2ad2f7c4e4357d4baf80a2b6bf', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 14, 'created': '2016-11-09 15:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9635488180f88d5b962b39cf9fe175668c713f2c', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 15, 'created': '2016-11-10 07:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6b6422631cf9686831b3a8ec663fc2da50f20a6', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 16, 'created': '2016-11-11 09:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6090353b4cea0bdb8b97287133dcae18f8cd2c6e', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 17, 'created': '2016-11-14 14:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2df9d049822685663eae865e8db1868108767a2a', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}, {'number': 18, 'created': '2016-11-17 07:19:55.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1aaf219162929d4ed0131b258eeec2c9c33c24cf', 'message': 'Update iptables rules and services IPs for multinode\n\nUpdate IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address\nfrom provisioning network. Update firewall rules to accept connections\non those IPs. Configure missing glance_host and glance_port options.\n\nDepends-On: I0812e16583dfd678c8f349724a159b412f4efb55\n\nRelated-Bug: #1622653\nChange-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40\n'}]",0,368648,1aaf219162929d4ed0131b258eeec2c9c33c24cf,109,18,18,14525,,,0,"Update iptables rules and services IPs for multinode

Update IRONIC_TFTPSERVER_IP and IRONIC_HTTP_SERVER IPs to IP address
from provisioning network. Update firewall rules to accept connections
on those IPs. Configure missing glance_host and glance_port options.

Depends-On: I0812e16583dfd678c8f349724a159b412f4efb55

Related-Bug: #1622653
Change-Id: Ia08a8601494d82fdd82d568c154bbef89c3a7f40
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/368648/10 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,0212d39ce22ff44416ffaca22f36042e87009a6e,bug/1622653,"if [[ ""$MULTI_HOST_ROLE"" == 'primary' ]]; then IRONIC_TFTPSERVER_IP=$IRONIC_PROVISION_SUBNET_GATEWAY IRONIC_HTTP_SERVER=$IRONIC_PROVISION_SUBNET_GATEWAY fi if [[ ""$MULTI_HOST_ROLE"" == 'subnode' ]]; then IRONIC_TFTPSERVER_IP=$IRONIC_PROVISION_SUBNET_SUBNODE_IP IRONIC_HTTP_SERVER=$IRONIC_PROVISION_SUBNET_SUBNODE_IP fi IRONIC_HTTP_SERVER=${IRONIC_HTTP_SERVER:-$IRONIC_TFTPSERVER_IP} iniset $IRONIC_CONF_FILE conductor api_url $IRONIC_SERVICE_PROTOCOL://$SERVICE_HOST:$IRONIC_SERVICE_PORT iniset $IRONIC_CONF_FILE glance swift_endpoint_url http://$SERVICE_HOST:${SWIFT_DEFAULT_BIND_PORT:-8080} sudo iptables -I INPUT -d $IRONIC_TFTPSERVER_IP -p udp --dport 69 -j ACCEPT || true sudo iptables -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport $IRONIC_HTTP_PORT -j ACCEPT || true",IRONIC_HTTP_SERVER=${IRONIC_HTTP_SERVER:-$IRONIC_TFTPSERVER_IP} iniset $IRONIC_CONF_FILE conductor api_url $IRONIC_SERVICE_PROTOCOL://$HOST_IP:$IRONIC_SERVICE_PORT iniset $IRONIC_CONF_FILE glance swift_endpoint_url http://${HOST_IP}:${SWIFT_DEFAULT_BIND_PORT:-8080} sudo iptables -I INPUT -d $HOST_IP -p udp --dport 69 -j ACCEPT || true sudo iptables -I INPUT -d $HOST_IP -p tcp --dport $IRONIC_HTTP_PORT -j ACCEPT || true,15,5
openstack%2Fnova~master~I159186eddd8703fa6c8b933e58421e4faa1ae9f6,openstack/nova,master,I159186eddd8703fa6c8b933e58421e4faa1ae9f6,Files with no code must be left completely empty,ABANDONED,2016-10-20 02:42:25.000000000,2016-11-29 10:59:36.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18602}, {'_account_id': 23825}]","[{'number': 1, 'created': '2016-10-20 02:42:25.000000000', 'files': ['nova/cells/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30a56b74b55d3c7ade05f4e496573a19d48afbfd', 'message': ""Files with no code must be left completely empty\n\nAs per OpenStack licensing guide lines [1]:\n[H104] Files with no code shouldn't contain any license header nor\ncomments, and must be left completely empty.\n\n[1] http://docs.openstack.org/developer/hacking/#openstack-licensing\n\nChange-Id: I159186eddd8703fa6c8b933e58421e4faa1ae9f6\n""}]",0,388969,30a56b74b55d3c7ade05f4e496573a19d48afbfd,32,15,1,23825,,,0,"Files with no code must be left completely empty

As per OpenStack licensing guide lines [1]:
[H104] Files with no code shouldn't contain any license header nor
comments, and must be left completely empty.

[1] http://docs.openstack.org/developer/hacking/#openstack-licensing

Change-Id: I159186eddd8703fa6c8b933e58421e4faa1ae9f6
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/388969/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cells/__init__.py'],1,30a56b74b55d3c7ade05f4e496573a19d48afbfd,nova_chenyingnan,,"# Copyright (c) 2012 Rackspace Hosting # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Cells """""" ",0,17
openstack%2Fopenstack-ansible-os_neutron~master~I911f2a4de5b38d54bd7082fd2e8f2d66c2aa348a,openstack/openstack-ansible-os_neutron,master,I911f2a4de5b38d54bd7082fd2e8f2d66c2aa348a,Fix virtualenv-tools issue,MERGED,2016-11-28 13:11:19.000000000,2016-11-29 10:56:38.000000000,2016-11-29 10:56:38.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-11-28 13:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/fcc4f86fda2febfb2760ce8d64342cbdee922ad1', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I911f2a4de5b38d54bd7082fd2e8f2d66c2aa348a\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 2, 'created': '2016-11-28 14:30:01.000000000', 'files': ['tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9bd5175055d30ff138ea103297471e7f4290f052', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I911f2a4de5b38d54bd7082fd2e8f2d66c2aa348a\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}]",1,403688,9bd5175055d30ff138ea103297471e7f4290f052,17,3,2,13095,,,0,"Fix virtualenv-tools issue

please see https://github.com/fireteam/virtualenv-tools/issues/5

This make installation of the virtualenv impossible on CentOS7 since
you endup with python > python2.7 and python2.7 > python

lrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python

Change-Id: I911f2a4de5b38d54bd7082fd2e8f2d66c2aa348a
Related-Bug: #1637509
Partial-Bug: #1644629
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/88/403688/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_install.yml'],1,fcc4f86fda2febfb2760ce8d64342cbdee922ad1,bug/1637509,"- name: CentOS remote python from path first file: path: ""{{ neutron_bin | dirname }}/bin/python2.7"" state: ""absent"" when: - ansible_pkg_mgr == 'yum' - not neutron_developer_mode | bool - neutron_get_venv | changed or neutron_venv_dir | changed ",,9,0
openstack%2Ffuel-octane~stable%2Fmitaka~I72e0c868eb249fd69bc65dc77b77a7e7f6d6941e,openstack/fuel-octane,stable/mitaka,I72e0c868eb249fd69bc65dc77b77a7e7f6d6941e,Add converted-serializers extention to dependency list,MERGED,2016-11-29 09:14:30.000000000,2016-11-29 10:52:42.000000000,2016-11-29 10:50:55.000000000,"[{'_account_id': 3}, {'_account_id': 1464}, {'_account_id': 1531}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-29 09:14:30.000000000', 'files': ['specs/octane.spec'], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/8222bf5ebaa5d7fcfefdc6147fe9666a5ee81544', 'message': 'Add converted-serializers extention to dependency list\n\nWe have built rpm package with the extention - now its time to\nadd it to octane.\n\nChange-Id: I72e0c868eb249fd69bc65dc77b77a7e7f6d6941e\n'}]",0,404102,8222bf5ebaa5d7fcfefdc6147fe9666a5ee81544,11,4,1,15984,,,0,"Add converted-serializers extention to dependency list

We have built rpm package with the extention - now its time to
add it to octane.

Change-Id: I72e0c868eb249fd69bc65dc77b77a7e7f6d6941e
",git fetch https://review.opendev.org/openstack/fuel-octane refs/changes/02/404102/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/octane.spec'],1,8222bf5ebaa5d7fcfefdc6147fe9666a5ee81544,,Requires: fuel-nailgun-extension-converted-serializers,,1,0
openstack%2Fnetworking-bgpvpn~stable%2Fmitaka~I820e4cc5fd15d82affb4e5019bf1e2018e4cc95a,openstack/networking-bgpvpn,stable/mitaka,I820e4cc5fd15d82affb4e5019bf1e2018e4cc95a,Remove custom OVS compilation trigger for Openstack CI,ABANDONED,2016-11-09 16:08:23.000000000,2016-11-29 10:52:29.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2888}, {'_account_id': 12021}]","[{'number': 1, 'created': '2016-11-09 16:08:23.000000000', 'files': ['devstack/devstack-gate-bagpipe-rc'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/70c5d20beca5c7c51317aa5cb068b58dbc91f90f', 'message': 'Remove custom OVS compilation trigger for Openstack CI\n\nCompiling a fresh upstream OVS is not required anymore now\nthat our tempest job is configured to use xenial.\n\n(Note that the devstack-gate-bagpipe-rc script is only used by the\nOpenstack CI gate scripts so removing the OVS compilation trigger\ndoes not impact non-gate use of the devstack plugin)\n\n(cherry picked from commit 8b06a30753ecd1fc044eed8e86c01d711c919eef)\n\nChange-Id: I820e4cc5fd15d82affb4e5019bf1e2018e4cc95a\n'}]",0,395690,70c5d20beca5c7c51317aa5cb068b58dbc91f90f,9,4,1,2888,,,0,"Remove custom OVS compilation trigger for Openstack CI

Compiling a fresh upstream OVS is not required anymore now
that our tempest job is configured to use xenial.

(Note that the devstack-gate-bagpipe-rc script is only used by the
Openstack CI gate scripts so removing the OVS compilation trigger
does not impact non-gate use of the devstack plugin)

(cherry picked from commit 8b06a30753ecd1fc044eed8e86c01d711c919eef)

Change-Id: I820e4cc5fd15d82affb4e5019bf1e2018e4cc95a
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/90/395690/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstack-gate-bagpipe-rc'],1,70c5d20beca5c7c51317aa5cb068b58dbc91f90f,dsvm_xenial,"# at least some DB setup things (e.g. for functional tests) require # helpers from neutron devstack plugin export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron git://git.openstack.org/openstack/neutron"" ",# compiling a fresh OVS is done in gate_hook.sh export COMPILE_OVS=True,5,2
openstack%2Fopenstack-manuals~master~I5e96bfdd1aaa7ef51e3f7b9ffda3072c618ea6e9,openstack/openstack-manuals,master,I5e96bfdd1aaa7ef51e3f7b9ffda3072c618ea6e9,[common] mention IRC channel in Community support,MERGED,2016-11-29 10:29:15.000000000,2016-11-29 10:52:11.000000000,2016-11-29 10:52:11.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-11-29 10:29:15.000000000', 'files': ['doc/common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2f2893f442aabf1352ffd1dae52e14914a1bef0b', 'message': '[common] mention IRC channel in Community support\n\nChange-Id: I5e96bfdd1aaa7ef51e3f7b9ffda3072c618ea6e9\n'}]",0,404132,2f2893f442aabf1352ffd1dae52e14914a1bef0b,7,3,1,167,,,0,"[common] mention IRC channel in Community support

Change-Id: I5e96bfdd1aaa7ef51e3f7b9ffda3072c618ea6e9
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/32/404132/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/app-support.rst'],1,2f2893f442aabf1352ffd1dae52e14914a1bef0b,common-support-irc,"join our IRC channel ``#openstack-doc`` on the freenode IRC network,",,1,0
openstack%2Fopenstack-manuals~master~I3bb6a5778a4c941b32eb53ffb37d50952a53c4ce,openstack/openstack-manuals,master,I3bb6a5778a4c941b32eb53ffb37d50952a53c4ce,[common] fix typos in the titles of the Debian install tutorials,MERGED,2016-11-29 10:31:31.000000000,2016-11-29 10:52:05.000000000,2016-11-29 10:52:05.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2016-11-29 10:31:31.000000000', 'files': ['doc/common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1a210c294a81188cc5854ae51ab858aac9ce5f0c', 'message': '[common] fix typos in the titles of the Debian install tutorials\n\nChange-Id: I3bb6a5778a4c941b32eb53ffb37d50952a53c4ce\n'}]",0,404134,1a210c294a81188cc5854ae51ab858aac9ce5f0c,6,2,1,167,,,0,"[common] fix typos in the titles of the Debian install tutorials

Change-Id: I3bb6a5778a4c941b32eb53ffb37d50952a53c4ce
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/34/404134/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/app-support.rst'],1,1a210c294a81188cc5854ae51ab858aac9ce5f0c,common-install-typos,* `Installation Tutorial for Debian with Debconf* `Installation Tutorial for Debian,* `Installation Tutorial For Debian With Debconf* `Installation Tutorial For Debian,2,2
openstack%2Fopenstack-manuals~master~I10ea4919efb3c856a2f9ae6c0b26660563294825,openstack/openstack-manuals,master,I10ea4919efb3c856a2f9ae6c0b26660563294825,"Update the ""glance"" command to ""openstack""",MERGED,2016-11-29 02:34:14.000000000,2016-11-29 10:51:59.000000000,2016-11-29 10:51:59.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 10607}, {'_account_id': 17130}, {'_account_id': 19779}]","[{'number': 1, 'created': '2016-11-29 02:34:14.000000000', 'files': ['doc/user-guide/source/cli-cheat-sheet.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d2152330c41e46ab65e5a5d2f22123c4e5531f8e', 'message': 'Update the ""glance"" command to ""openstack""\n\nChange-Id: I10ea4919efb3c856a2f9ae6c0b26660563294825\nImplements: blueprint use-openstack-command\n'}]",0,403981,d2152330c41e46ab65e5a5d2f22123c4e5531f8e,9,5,1,22165,,,0,"Update the ""glance"" command to ""openstack""

Change-Id: I10ea4919efb3c856a2f9ae6c0b26660563294825
Implements: blueprint use-openstack-command
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/81/403981/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/user-guide/source/cli-cheat-sheet.rst'],1,d2152330c41e46ab65e5a5d2f22123c4e5531f8e,bp/use-openstack-command," $ openstack image list $ openstack image delete IMAGE $ openstack image show IMAGE $ openstack image set IMAGE $ openstack image create ""cirros-threepart-kernel"" \ --disk-format aki --container-format aki --public \ $ openstack image create ""cirros-threepart-ramdisk"" \ --disk-format ari --container-format ari --public \ $ openstack image create ""cirros-threepart"" --disk-format ami \ --container-format ami --public \ $ openstack image create ""cirros-raw"" --disk-format raw \ --container-format bare --public \"," $ glance image-list $ glance image-delete IMAGE $ glance image-show IMAGE $ glance image-update IMAGE $ glance image-create --name ""cirros-threepart-kernel"" \ --disk-format aki --container-format aki --is-public False \ $ glance image-create --name ""cirros-threepart-ramdisk"" \ --disk-format ari --container-format ari --is-public False \ $ glance image-create --name ""cirros-threepart"" --disk-format ami \ --container-format ami --is-public False \ $ glance image-create --name ""cirros-raw"" --disk-format raw \ --container-format bare --is-public False \",12,12
openstack%2Fopenstack-manuals~master~I31c53165e806b0be0b2957afc2dc5cbce28e58f6,openstack/openstack-manuals,master,I31c53165e806b0be0b2957afc2dc5cbce28e58f6,[common] remove duplicate nova-cert entry,MERGED,2016-11-29 10:24:47.000000000,2016-11-29 10:51:54.000000000,2016-11-29 10:51:54.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-11-29 10:24:47.000000000', 'files': ['doc/common/get-started-compute.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/eea4c88a23017cb5f210dc8f855ca09e74a3ea86', 'message': '[common] remove duplicate nova-cert entry\n\nChange-Id: I31c53165e806b0be0b2957afc2dc5cbce28e58f6\n'}]",1,404130,eea4c88a23017cb5f210dc8f855ca09e74a3ea86,8,3,1,167,,,0,"[common] remove duplicate nova-cert entry

Change-Id: I31c53165e806b0be0b2957afc2dc5cbce28e58f6
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/30/404130/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/get-started-compute.rst'],1,eea4c88a23017cb5f210dc8f855ca09e74a3ea86,nova-cert,,``nova-cert`` daemon x509 certificates. ,0,3
openstack%2Fopenstack-manuals~master~I05b59e1cbd96df56a41cbe51335bc528cb601679,openstack/openstack-manuals,master,I05b59e1cbd96df56a41cbe51335bc528cb601679,"[common] change ""nova-network worker"" to ""nova-network""",MERGED,2016-11-29 10:23:01.000000000,2016-11-29 10:51:43.000000000,2016-11-29 10:51:43.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-11-29 10:23:01.000000000', 'files': ['doc/common/get-started-compute.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e4f22ab4918a6ac391f78cd88d7a1e5d3e2d8308', 'message': '[common] change ""nova-network worker"" to ""nova-network""\n\nChange-Id: I05b59e1cbd96df56a41cbe51335bc528cb601679\n'}]",0,404129,e4f22ab4918a6ac391f78cd88d7a1e5d3e2d8308,7,3,1,167,,,0,"[common] change ""nova-network worker"" to ""nova-network""

Change-Id: I05b59e1cbd96df56a41cbe51335bc528cb601679
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/29/404129/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/get-started-compute.rst'],1,e4f22ab4918a6ac391f78cd88d7a1e5d3e2d8308,nova-network-worker,``nova-network`` daemon,``nova-network worker`` daemon,1,1
openstack%2Fnova~master~I306867800fabbdf0b6516e2459c0d9d00d627c7b,openstack/nova,master,I306867800fabbdf0b6516e2459c0d9d00d627c7b,Fix a typo in nova/api/openstack/compute/volumes.py,MERGED,2016-11-22 06:26:14.000000000,2016-11-29 10:49:17.000000000,2016-11-24 03:21:56.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-11-22 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53a212f3e112a8af20b2e7c9634b03bc07ea2647', 'message': 'Fix a typo in nova/api/openstack/compute/volumes.py\n\nhe -> the\n\nTrivialFix\nChange-Id: I306867800fabbdf0b6516e2459c0d9d00d627c7b\n'}, {'number': 2, 'created': '2016-11-23 22:18:56.000000000', 'files': ['nova/api/openstack/compute/volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce0be98e25f8572818386199dc36539ac7ae742b', 'message': 'Fix a typo in nova/api/openstack/compute/volumes.py\n\nhe -> the\n\nTrivialFix\nChange-Id: I306867800fabbdf0b6516e2459c0d9d00d627c7b\n'}]",0,400533,ce0be98e25f8572818386199dc36539ac7ae742b,33,14,2,7634,,,0,"Fix a typo in nova/api/openstack/compute/volumes.py

he -> the

TrivialFix
Change-Id: I306867800fabbdf0b6516e2459c0d9d00d627c7b
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/400533/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/volumes.py'],1,53a212f3e112a8af20b2e7c9634b03bc07ea2647,fix_typo, # NOTE(justinsb): We use the volume id as the id of the attachment object, # NOTE(justinsb): We use the volume id as he id of the attachment object,1,1
openstack%2Fcinder~master~I10c576602dd0e65947d1a1af5d04b8ada54f4625,openstack/cinder,master,I10c576602dd0e65947d1a1af5d04b8ada54f4625,Remove GlusterFS volume driver,MERGED,2016-09-26 18:52:54.000000000,2016-11-29 10:41:41.000000000,2016-11-01 17:13:05.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 8056}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21193}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}]","[{'number': 1, 'created': '2016-09-26 18:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/883cce88361a2b5f2fb33332c183a4292a493884', 'message': 'Remove GlusterFS volume driver\n\nThis was flagged as deprecated during Newton.\n\nChange-Id: I10c576602dd0e65947d1a1af5d04b8ada54f4625\n'}, {'number': 2, 'created': '2016-09-27 13:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbd908aa34537f67fcfa9bda6fd2b522951335ec', 'message': 'Remove GlusterFS volume driver\n\nThis was flagged as deprecated during Newton.\n\nChange-Id: I10c576602dd0e65947d1a1af5d04b8ada54f4625\n'}, {'number': 3, 'created': '2016-10-11 19:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dbd7d510d2ccd439bbbe0592af7f400254e721f', 'message': 'Remove GlusterFS volume driver\n\nThis was flagged as deprecated during Newton.\n\nChange-Id: I10c576602dd0e65947d1a1af5d04b8ada54f4625\n'}, {'number': 4, 'created': '2016-10-19 15:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/965694e12ab042e0ef6e84e660398c30ecc0243f', 'message': 'Remove GlusterFS volume driver\n\nThis was flagged as deprecated during Newton.\n\nChange-Id: I10c576602dd0e65947d1a1af5d04b8ada54f4625\n'}, {'number': 5, 'created': '2016-11-01 15:07:15.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_glusterfs.py', 'cinder/opts.py', 'releasenotes/notes/remove_glusterfs_volume_driver-d8fd2cf5f38e754b.yaml', 'cinder/volume/drivers/glusterfs.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/16e93ccd4f3a6d62ed9d277f03b64bccc63ae060', 'message': 'Remove GlusterFS volume driver\n\nThis was flagged as deprecated during Newton.\n\nChange-Id: I10c576602dd0e65947d1a1af5d04b8ada54f4625\n'}]",0,377028,16e93ccd4f3a6d62ed9d277f03b64bccc63ae060,216,56,5,4523,,,0,"Remove GlusterFS volume driver

This was flagged as deprecated during Newton.

Change-Id: I10c576602dd0e65947d1a1af5d04b8ada54f4625
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/377028/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_glusterfs.py', 'cinder/volume/drivers/glusterfs.py']",3,883cce88361a2b5f2fb33332c183a4292a493884,remove_glusterfs_vol_driver,,"# Copyright (c) 2013 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import errno import os import stat from os_brick.remotefs import remotefs as remotefs_brick from oslo_concurrency import processutils from oslo_config import cfg from oslo_log import log as logging from oslo_utils import fileutils from oslo_utils import units from cinder import coordination from cinder import exception from cinder.i18n import _, _LE, _LI, _LW from cinder.image import image_utils from cinder import interface from cinder import utils from cinder.volume import driver from cinder.volume.drivers import remotefs as remotefs_drv LOG = logging.getLogger(__name__) volume_opts = [ cfg.StrOpt('glusterfs_shares_config', default='/etc/cinder/glusterfs_shares', help='File with the list of available gluster shares'), cfg.StrOpt('glusterfs_mount_point_base', default='$state_path/mnt', help='Base dir containing mount points for gluster shares.'), ] CONF = cfg.CONF CONF.register_opts(volume_opts) @interface.volumedriver class GlusterfsDriver(remotefs_drv.RemoteFSSnapDriverDistributed, driver.ExtendVD): """"""Gluster based cinder driver. Creates file on Gluster share for using it as block device on hypervisor. Operations such as create/delete/extend volume/snapshot use locking on a per-process basis to prevent multiple threads from modifying qcow2 chains or the snapshot .info file simultaneously. """""" driver_volume_type = 'glusterfs' driver_prefix = 'glusterfs' volume_backend_name = 'GlusterFS' VERSION = '1.3.0' # ThirdPartySystems wiki page CI_WIKI_NAME = ""Cinder_Jenkins"" def __init__(self, execute=processutils.execute, *args, **kwargs): self._remotefsclient = None super(GlusterfsDriver, self).__init__(*args, **kwargs) self.configuration.append_config_values(volume_opts) root_helper = utils.get_root_helper() self.base = getattr(self.configuration, 'glusterfs_mount_point_base', CONF.glusterfs_mount_point_base) self._remotefsclient = remotefs_brick.RemoteFsClient( 'glusterfs', root_helper, execute, glusterfs_mount_point_base=self.base) def do_setup(self, context): """"""Any initialization the volume driver does while starting."""""" super(GlusterfsDriver, self).do_setup(context) LOG.warning(_LW(""The GlusterFS volume driver is deprecated and "" ""will be removed during the Ocata cycle."")) config = self.configuration.glusterfs_shares_config if not config: msg = (_(""There's no Gluster config file configured (%s)"") % 'glusterfs_shares_config') LOG.warning(msg) raise exception.GlusterfsException(msg) if not os.path.exists(config): msg = (_(""Gluster config file at %(config)s doesn't exist"") % {'config': config}) LOG.warning(msg) raise exception.GlusterfsException(msg) self.shares = {} try: self._execute('mount.glusterfs', check_exit_code=False) except OSError as exc: if exc.errno == errno.ENOENT: raise exception.GlusterfsException( _('mount.glusterfs is not installed')) else: raise self._refresh_mounts() def _unmount_shares(self): self._load_shares_config(self.configuration.glusterfs_shares_config) for share in self.shares.keys(): try: self._do_umount(True, share) except Exception as exc: LOG.warning(_LW('Exception during unmounting %s'), exc) def _do_umount(self, ignore_not_mounted, share): mount_path = self._get_mount_point_for_share(share) command = ['umount', mount_path] try: self._execute(*command, run_as_root=True) except processutils.ProcessExecutionError as exc: if ignore_not_mounted and 'not mounted' in exc.stderr: LOG.info(_LI(""%s is already umounted""), share) else: LOG.error(_LE(""Failed to umount %(share)s, reason=%(stderr)s""), {'share': share, 'stderr': exc.stderr}) raise def _refresh_mounts(self): try: self._unmount_shares() except processutils.ProcessExecutionError as exc: if 'target is busy' in exc.stderr: LOG.warning(_LW(""Failed to refresh mounts, reason=%s""), exc.stderr) else: raise self._ensure_shares_mounted() def _qemu_img_info(self, path, volume_name): return super(GlusterfsDriver, self)._qemu_img_info_base( path, volume_name, self.configuration.glusterfs_mount_point_base) def check_for_setup_error(self): """"""Just to override parent behavior."""""" pass def _local_volume_dir(self, volume): hashed = self._get_hash_str(volume.provider_location) path = '%s/%s' % (self.configuration.glusterfs_mount_point_base, hashed) return path def _active_volume_path(self, volume): volume_dir = self._local_volume_dir(volume) path = os.path.join(volume_dir, self.get_active_image_from_info(volume)) return path def _update_volume_stats(self): """"""Retrieve stats info from volume group."""""" super(GlusterfsDriver, self)._update_volume_stats() data = self._stats global_capacity = data['total_capacity_gb'] global_free = data['free_capacity_gb'] thin_enabled = self.configuration.nas_volume_prov_type == 'thin' if thin_enabled: provisioned_capacity = self._get_provisioned_capacity() else: provisioned_capacity = round(global_capacity - global_free, 2) data['provisioned_capacity_gb'] = provisioned_capacity data['max_over_subscription_ratio'] = ( self.configuration.max_over_subscription_ratio) data['thin_provisioning_support'] = thin_enabled data['thick_provisioning_support'] = not thin_enabled self._stats = data @coordination.synchronized('{self.driver_prefix}-{volume[id]}') def create_volume(self, volume): """"""Creates a volume."""""" self._ensure_shares_mounted() volume.provider_location = self._find_share(volume.size) LOG.info(_LI('casted to %s'), volume.provider_location) self._do_create_volume(volume) return {'provider_location': volume.provider_location} def _copy_volume_from_snapshot(self, snapshot, volume, volume_size): """"""Copy data from snapshot to destination volume. This is done with a qemu-img convert to raw/qcow2 from the snapshot qcow2. """""" LOG.debug(""snapshot: %(snap)s, volume: %(vol)s, "" ""volume_size: %(size)s"", {'snap': snapshot.id, 'vol': volume.id, 'size': volume_size}) info_path = self._local_path_volume_info(snapshot.volume) snap_info = self._read_info_file(info_path) vol_path = self._local_volume_dir(snapshot.volume) forward_file = snap_info[snapshot.id] forward_path = os.path.join(vol_path, forward_file) # Find the file which backs this file, which represents the point # when this snapshot was created. img_info = self._qemu_img_info(forward_path, snapshot.volume.name) path_to_snap_img = os.path.join(vol_path, img_info.backing_file) path_to_new_vol = self._local_path_volume(volume) LOG.debug(""will copy from snapshot at %s"", path_to_snap_img) if self.configuration.nas_volume_prov_type == 'thin': out_format = 'qcow2' else: out_format = 'raw' image_utils.convert_image(path_to_snap_img, path_to_new_vol, out_format) self._set_rw_permissions_for_all(path_to_new_vol) @coordination.synchronized('{self.driver_prefix}-{volume[id]}') def delete_volume(self, volume): """"""Deletes a logical volume."""""" if not volume.provider_location: LOG.warning(_LW('Volume %s does not have ' 'provider_location specified, ' 'skipping'), volume.name) return self._ensure_share_mounted(volume.provider_location) mounted_path = self._active_volume_path(volume) self._execute('rm', '-f', mounted_path, run_as_root=True) # If an exception (e.g. timeout) occurred during delete_snapshot, the # base volume may linger around, so just delete it if it exists base_volume_path = self._local_path_volume(volume) fileutils.delete_if_exists(base_volume_path) info_path = self._local_path_volume_info(volume) fileutils.delete_if_exists(info_path) def _get_matching_backing_file(self, backing_chain, snapshot_file): return next(f for f in backing_chain if f.get('backing-filename', '') == snapshot_file) def ensure_export(self, ctx, volume): """"""Synchronously recreates an export for a logical volume."""""" self._ensure_share_mounted(volume.provider_location) def create_export(self, ctx, volume, connector): """"""Exports the volume."""""" pass def remove_export(self, ctx, volume): """"""Removes an export for a logical volume."""""" pass def validate_connector(self, connector): pass @coordination.synchronized('{self.driver_prefix}-{volume[id]}') def initialize_connection(self, volume, connector): """"""Allow connection to connector and return connection info."""""" # Find active qcow2 file active_file = self.get_active_image_from_info(volume) path = '%s/%s/%s' % (self.configuration.glusterfs_mount_point_base, self._get_hash_str(volume.provider_location), active_file) data = {'export': volume.provider_location, 'name': active_file} if volume.provider_location in self.shares: data['options'] = self.shares[volume.provider_location] # Test file for raw vs. qcow2 format info = self._qemu_img_info(path, volume.name) data['format'] = info.file_format if data['format'] not in ['raw', 'qcow2']: msg = _('%s must be a valid raw or qcow2 image.') % path raise exception.InvalidVolume(msg) return { 'driver_volume_type': 'glusterfs', 'data': data, 'mount_point_base': self._get_mount_point_base() } def terminate_connection(self, volume, connector, **kwargs): """"""Disallow connection from connector."""""" pass @coordination.synchronized('{self.driver_prefix}-{volume[id]}') def extend_volume(self, volume, size_gb): volume_path = self._active_volume_path(volume) info = self._qemu_img_info(volume_path, volume.name) backing_fmt = info.file_format if backing_fmt not in ['raw', 'qcow2']: msg = _('Unrecognized backing format: %s') raise exception.InvalidVolume(msg % backing_fmt) # qemu-img can resize both raw and qcow2 files image_utils.resize_image(volume_path, size_gb) def _do_create_volume(self, volume): """"""Create a volume on given glusterfs_share. :param volume: volume reference """""" volume_path = self.local_path(volume) volume_size = volume.size LOG.debug(""creating new volume at %s"", volume_path) if os.path.exists(volume_path): msg = _('file already exists at %s') % volume_path LOG.error(msg) raise exception.InvalidVolume(reason=msg) if self.configuration.nas_volume_prov_type == 'thin': self._create_qcow2_file(volume_path, volume_size) else: try: self._fallocate(volume_path, volume_size) except processutils.ProcessExecutionError as exc: if 'Operation not supported' in exc.stderr: LOG.warning(_LW('Fallocate not supported by current ' 'version of glusterfs. So falling ' 'back to dd.')) self._create_regular_file(volume_path, volume_size) else: fileutils.delete_if_exists(volume_path) raise self._set_rw_permissions_for_all(volume_path) def _ensure_shares_mounted(self): """"""Mount all configured GlusterFS shares."""""" self._mounted_shares = [] self._load_shares_config(self.configuration.glusterfs_shares_config) for share in self.shares.keys(): try: self._ensure_share_mounted(share) self._mounted_shares.append(share) except Exception as exc: LOG.error(_LE('Exception during mounting %s'), exc) LOG.debug('Available shares: %s', self._mounted_shares) def _ensure_share_mounted(self, glusterfs_share): """"""Mount GlusterFS share. :param glusterfs_share: string """""" mount_path = self._get_mount_point_for_share(glusterfs_share) self._mount_glusterfs(glusterfs_share) # Ensure we can write to this share group_id = os.getegid() current_group_id = utils.get_file_gid(mount_path) current_mode = utils.get_file_mode(mount_path) if group_id != current_group_id: cmd = ['chgrp', group_id, mount_path] self._execute(*cmd, run_as_root=True) if not (current_mode & stat.S_IWGRP): cmd = ['chmod', 'g+w', mount_path] self._execute(*cmd, run_as_root=True) self._ensure_share_writable(mount_path) def _find_share(self, volume_size_for): """"""Choose GlusterFS share among available ones for given volume size. Current implementation looks for greatest capacity. :param volume_size_for: int size in GB """""" if not self._mounted_shares: raise exception.GlusterfsNoSharesMounted() greatest_size = 0 greatest_share = None for glusterfs_share in self._mounted_shares: capacity = self._get_available_capacity(glusterfs_share)[0] if capacity > greatest_size: greatest_share = glusterfs_share greatest_size = capacity if volume_size_for * units.Gi > greatest_size: raise exception.GlusterfsNoSuitableShareFound( volume_size=volume_size_for) return greatest_share def _mount_glusterfs(self, glusterfs_share): """"""Mount GlusterFS share to mount path."""""" mnt_flags = [] if self.shares.get(glusterfs_share) is not None: mnt_flags = self.shares[glusterfs_share].split() try: self._remotefsclient.mount(glusterfs_share, mnt_flags) except processutils.ProcessExecutionError: LOG.error(_LE(""Mount failure for %(share)s.""), {'share': glusterfs_share}) raise def backup_volume(self, context, backup, backup_service): """"""Create a new backup from an existing volume. Allow a backup to occur only if no snapshots exist. Check both Cinder and the file on-disk. The latter is only a safety mechanism to prevent further damage if the snapshot information is already inconsistent. """""" snapshots = self.db.snapshot_get_all_for_volume(context, backup['volume_id']) snap_error_msg = _('Backup is not supported for GlusterFS ' 'volumes with snapshots.') if len(snapshots) > 0: raise exception.InvalidVolume(snap_error_msg) volume = self.db.volume_get(context, backup['volume_id']) active_file_path = self._active_volume_path(volume) info = self._qemu_img_info(active_file_path, volume.name) if info.backing_file is not None: LOG.error(_LE('No snapshots found in database, but %(path)s has ' 'backing file %(backing_file)s!'), {'path': active_file_path, 'backing_file': info.backing_file}) raise exception.InvalidVolume(snap_error_msg) if info.file_format != 'raw': msg = _('Backup is only supported for raw-formatted ' 'GlusterFS volumes.') raise exception.InvalidVolume(msg) return super(GlusterfsDriver, self).backup_volume( context, backup, backup_service) ",0,2247
openstack%2Frpm-packaging~master~I048a4b322ea0ca69129af97ea10910db77fb9dd6,openstack/rpm-packaging,master,I048a4b322ea0ca69129af97ea10910db77fb9dd6,Initial template for python-glareclient,MERGED,2016-11-24 05:10:08.000000000,2016-11-29 10:40:37.000000000,2016-11-29 10:35:07.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-11-24 05:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cebaaaee145c15c7e42f49054122686906033da9', 'message': 'Initial template for python-glareclient\n\nPlease help me review,first write this,not sure build and install\nis correct.Modeled after glanceclient.\n\nChange-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6\n'}, {'number': 2, 'created': '2016-11-24 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c04e23ffe9d4aa9bfb26123afbb28bc47d06cf5e', 'message': 'Initial template for python-glareclient\n\nPlease help me review,first write this,not sure build and install\nis correct.Modeled after glanceclient.\n\nChange-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6\n'}, {'number': 3, 'created': '2016-11-24 15:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2cb2e2417f5bbb3beef02e5e3b885edfff47ec55', 'message': 'Initial template for python-glareclient\n\nPlease help me review,first write this,not sure build and install\nis correct.Modeled after glanceclient.\n\nChange-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6\n'}, {'number': 4, 'created': '2016-11-24 16:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e48db73cb77a76aa40a20c70b1a363038a5c5576', 'message': 'Initial template for python-glareclient\n\nPlease help me review,first write this,not sure build and install\nis correct.Modeled after glanceclient.\n\nChange-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6\n'}, {'number': 5, 'created': '2016-11-26 07:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d933e951ce3df051d1f97080c38fdfc6aecfb64b', 'message': 'Initial template for python-glareclient\n\nPlease help me review,first write this,not sure build and install\nis correct.Modeled after glanceclient.\n\nChange-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6\n'}, {'number': 6, 'created': '2016-11-28 10:49:52.000000000', 'files': ['openstack/python-glareclient/python-glareclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9fc1d153f798a108f807c8699779a91775bc857a', 'message': 'Initial template for python-glareclient\n\n\n\nChange-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6\n'}]",5,401854,9fc1d153f798a108f807c8699779a91775bc857a,53,7,6,22694,,,0,"Initial template for python-glareclient



Change-Id: I048a4b322ea0ca69129af97ea10910db77fb9dd6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/401854/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-glareclient/python-glareclient.spec.j2'],1,cebaaaee145c15c7e42f49054122686906033da9,glareclient,"%global sname python-glareclient Name: {{ py2name('python-glareclient') }} Epoch: {{ epoch('python-glareclient') }} Version: 0.2.0 Release: 0 Summary: Python API and CLI for OpenStack Glare License: {{ license('Apache-2.0') }} Group: Development/Languages/Python Url: https://launchpad.net/%{sname} Source0: https://pypi.io/packages/source/p/%{sname}/%{sname}-%{version}.tar.gz BuildRequires: openstack-macros BuildRequires: {{ py2pkg('coverage') }} BuildRequires: python-devel BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('ordereddict') }} BuildRequires: {{ py2pkg('os-client-config') }} BuildRequires: {{ py2pkg('oslosphinx') }} BuildRequires: {{ py2pkg('reno') }} BuildRequires: {{ py2pkg('sphinx') }} BuildRequires: {{ py2pkg('testrepository') }} BuildRequires: {{ py2pkg('testtools') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('requests-mock') }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('oslo.log') }} BuildArch: noarch %description Python bindings to the Glare Artifact Repository %package doc Summary: Documentation for OpenStack Glare API Client Group: Documentation BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc Python bindings to the Glare Artifact Repository This package contains auto-generated documentation. %prep %autosetup -n %{sname}-%{version} %py_req_cleanup %build %py2_build # generate html docs %{__python2} setup.py build_sphinx # remove the sphinx-build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %install %py2_install %check %{__python2} setup.py testr %files %license LICENSE %doc README.rst ChangeLog %{_bindir}/glare %{python2_sitelib}/glareclient %{python2_sitelib}/*.egg-info %files doc %license LICENSE %doc doc/build/html %changelog ",,79,0
openstack%2Fhorizon~stable%2Fnewton~I9bf85adb5aa2c85d8c0f0f22ac9efe5cac3646c0,openstack/horizon,stable/newton,I9bf85adb5aa2c85d8c0f0f22ac9efe5cac3646c0,Add constraints support to run_tests.sh,MERGED,2016-11-28 17:05:54.000000000,2016-11-29 10:38:24.000000000,2016-11-29 10:38:24.000000000,"[{'_account_id': 3}, {'_account_id': 12071}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-28 17:05:54.000000000', 'files': ['run_tests.sh', 'tools/install_venv_common.py', 'tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/18b637bb40fa938aed6645b3681410979b58e4a1', 'message': ""Add constraints support to run_tests.sh\n\nCurrently developers need to manually build a constratined venv if they\nwant to  match the versions that are tested in the gate.  This change\nadds logic to run_tests.sh and install_venv*.py to default to the same\nconstraints file used in the gate.\n\nWith constraints enabled the 'churn' in the environment should be\nminimised so remove the developer optimisation for detecting when\npackaged versions change and always just install/update.  This has the\ndown side of making the script preamble slightly longer but we always\nprint_help() so I don't think it'll be terribly inconvenient.\n\nChange-Id: I9bf85adb5aa2c85d8c0f0f22ac9efe5cac3646c0\nCloses-Bug: 1644697\n(cherry picked from commit a909ed26c2aa6daf2c5fc59a2f575a66cdddbfb5)\n""}]",0,403813,18b637bb40fa938aed6645b3681410979b58e4a1,7,3,1,12826,,,0,"Add constraints support to run_tests.sh

Currently developers need to manually build a constratined venv if they
want to  match the versions that are tested in the gate.  This change
adds logic to run_tests.sh and install_venv*.py to default to the same
constraints file used in the gate.

With constraints enabled the 'churn' in the environment should be
minimised so remove the developer optimisation for detecting when
packaged versions change and always just install/update.  This has the
down side of making the script preamble slightly longer but we always
print_help() so I don't think it'll be terribly inconvenient.

Change-Id: I9bf85adb5aa2c85d8c0f0f22ac9efe5cac3646c0
Closes-Bug: 1644697
(cherry picked from commit a909ed26c2aa6daf2c5fc59a2f575a66cdddbfb5)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/403813/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tools/install_venv_common.py', 'tools/install_venv.py']",3,18b637bb40fa938aed6645b3681410979b58e4a1,bug/1644697," constraints = os.environ.get('UPPER_CONSTRAINTS_FILE') py_version, project, constraints=constraints)"," py_version, project)",21,43
openstack%2Fdevstack-gate~master~I442c8fa6b4fe6f40da6b6b52954d71ee502e1350,openstack/devstack-gate,master,I442c8fa6b4fe6f40da6b6b52954d71ee502e1350,Add start_fresh_logging playbook/role,ABANDONED,2016-11-24 15:36:04.000000000,2016-11-29 10:37:38.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}]","[{'number': 1, 'created': '2016-11-24 15:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/42a727ef0248340156ef2a9390da32324b8b21f4', 'message': 'Add start_fresh_logging playbook/role\n\nChange-Id: I442c8fa6b4fe6f40da6b6b52954d71ee502e1350\n'}, {'number': 2, 'created': '2016-11-24 15:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/bb203d1f1fa2bbfc6ba24b9c270e6a637f89ea95', 'message': 'Add start_fresh_logging playbook/role\n\nChange-Id: I442c8fa6b4fe6f40da6b6b52954d71ee502e1350\n'}, {'number': 3, 'created': '2016-11-25 09:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/fc6270d0f158a02d55cbefa7acb10a9b9055b034', 'message': 'Add start_fresh_logging playbook/role\n\nChange-Id: I442c8fa6b4fe6f40da6b6b52954d71ee502e1350\n'}, {'number': 4, 'created': '2016-11-28 12:00:41.000000000', 'files': ['playbooks/roles/start_fresh_logging/tasks/main.yaml', 'playbooks/start_fresh_logging.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/860b3080821b0237a1cd668e11425d7100748680', 'message': 'Add start_fresh_logging playbook/role\n\nChange-Id: I442c8fa6b4fe6f40da6b6b52954d71ee502e1350\n'}]",0,402103,860b3080821b0237a1cd668e11425d7100748680,11,2,4,1106,,,0,"Add start_fresh_logging playbook/role

Change-Id: I442c8fa6b4fe6f40da6b6b52954d71ee502e1350
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/03/402103/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/start_fresh_logging/tasks/main.yaml', 'playbooks/start_fresh_logging.yaml']",2,42a727ef0248340156ef2a9390da32324b8b21f4,zuulv3,- hosts: all gather_facts: yes roles: - start_fresh_logging ,,29,0
openstack%2Fnova~master~I358f1d67bf697c0385f6762e313b73517712ed09,openstack/nova,master,I358f1d67bf697c0385f6762e313b73517712ed09,Fixed multiple issues with server_concepts page,ABANDONED,2016-03-17 21:04:43.000000000,2016-11-29 10:37:38.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6802}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 20066}, {'_account_id': 20444}]","[{'number': 1, 'created': '2016-03-17 21:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00d6b82abbbd52ab723dd961466fb084426082ef', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 2, 'created': '2016-03-21 15:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/352f71c86623dfda35d30c4ea530cb040074507e', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 3, 'created': '2016-03-22 14:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b793ba83e85c839d6ea28d0e24b7dcf332085ee7', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 4, 'created': '2016-03-22 17:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b48b45c3a641e6bb34e26ed804f928e14fa5f8', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 5, 'created': '2016-04-14 16:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f24a2425590b412801851b5cb54799dd93473dd5', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 6, 'created': '2016-04-20 19:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8102a81e5740dd285f0fccb2374e637810c02007', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 7, 'created': '2016-05-03 15:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbb8634b61bfff1bc67acdd68d219ad8b491c83f', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 8, 'created': '2016-05-06 19:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c75a8f450c303e443a33cbe8e2959940301b250', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 9, 'created': '2016-05-06 19:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f932fc955e52a09ed57d6d3796926d7cb8d7b88', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}, {'number': 10, 'created': '2016-07-20 16:29:39.000000000', 'files': ['api-guide/source/server_concepts.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c6dc7919075ef8e51bbb621ee6e6a986e50d550', 'message': 'Fixed multiple issues with server_concepts page\n\nIn the api-guide, the server_concepts page had a bunch of issues,\nranging from minor indention issues to code blocks that were\nbeing hidden.\n\nWent through the list of issues on the bug report and fixed\nthem as needed.  Also changed the formatting of the code\nwithin the code blocks for better readability.\n\n- Corrected code blocks not correctly indented under bullet points\n- Brought ""Example..."" text out of the previous code blocks\n- Brought continuous texts outside of their respective code blocks\n- Fixed the last two code blocks being rendered orange\n- Fixed unintentional quote on ""Resource Optimization""\n- Added JSON to code blocks for clarity\n\nChange-Id: I358f1d67bf697c0385f6762e313b73517712ed09\nCloses-Bug: #1558459\n'}]",12,294284,2c6dc7919075ef8e51bbb621ee6e6a986e50d550,93,14,10,20444,,,0,"Fixed multiple issues with server_concepts page

In the api-guide, the server_concepts page had a bunch of issues,
ranging from minor indention issues to code blocks that were
being hidden.

Went through the list of issues on the bug report and fixed
them as needed.  Also changed the formatting of the code
within the code blocks for better readability.

- Corrected code blocks not correctly indented under bullet points
- Brought ""Example..."" text out of the previous code blocks
- Brought continuous texts outside of their respective code blocks
- Fixed the last two code blocks being rendered orange
- Fixed unintentional quote on ""Resource Optimization""
- Added JSON to code blocks for clarity

Change-Id: I358f1d67bf697c0385f6762e313b73517712ed09
Closes-Bug: #1558459
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/294284/10 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/server_concepts.rst'],1,00d6b82abbbd52ab723dd961466fb084426082ef,bug1558459," Precondition: There are 2 servers existing in cloud with the following info: .. code:: JSON ""servers"": [ { ""name"": ""t1"", ""locked"": ""true"", ... }, { ""name"":""t2"", ""locked"": ""false"", ... } ] Request with non-administrator context: GET /servers/detail?locked=1 Note that 'locked' is not returned through the API layer .. code:: JSON Response: { ""servers"": [ { ""name"": ""t1"", ... }, { ""name"":""t2"", ... } ] } Request with administrator context: GET /servers/detail?locked=1 .. code:: JSON Response: { ""servers"": [ { ""name"": ""t1"", ... } ] } Precondition: Request with administrator context: GET /servers/detail .. code:: JSON Response: { ""servers"": [ { ""name"": ""t1"", ""OS-EXT-SRV-ATTR:host"": ""devstack"", ... }, { ""name"": ""t2"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"", ... } ] } GET /servers/detail?host=devstack .. code:: JSON Response: { ""servers"": [ { ""name"": ""t1"", ""OS-EXT-SRV-ATTR:host"": ""devstack"", ... } ] } Request with administrator context: GET /servers/detail .. code:: JSON Response: { ""servers"": [ { ""name"": ""test11"", ... }, { ""name"": ""test21"", ... }, { ""name"": ""t1"", ... }, { ""name"": ""t14"", ... } ] } GET /servers/detail?name=t1 .. code:: JSON Response: { ""servers"": [ { ""name"": ""test11"", ... }, { ""name"": ""t1"", ... }, { ""name"": ""t14"", ... } ] } **Example: User query server using exact matching on host and regex matching on name** GET /servers/detail .. code:: JSON Response: { ""servers"": [ { ""name"": ""test1"", ""OS-EXT-SRV-ATTR:host"": ""devstack"", ... }, { ""name"": ""t2"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"", ... }, { ""name"": ""test3"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"", ... } ] } Request with administrator context: GET /servers/detail?host=devstack1&name=test .. code:: JSON Response: { ""servers"": [ { ""name"": ""test3"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"", ... } ] } - **Special keys are used to tweek the query** Precondition: GET /servers/detail .. code:: Response: { ""servers"":[ { ""name"": ""t1"", ""updated"": ""2015-12-15T15:55:52Z"", ... }, { ""name"": ""t2"", ""updated"": ""2015-12-17T15:55:52Z"", ... } } .. code:: JSON Response: { { ""name"": ""t2"", ""updated"": ""2015-12-17T15:55:52Z"", ... } }- **Resize (including Confirm resize and Revert resize)**.. code:: JSON Request: { ""server"": {.. code:: JSON Request: { ""server"": {- **Resource Optimization**",".. code:: Precondition: there are 2 servers existing in cloud with following info: ""servers"":[ { ""name"": ""t1"", ""locked"": ""true"", ... } { ""name"":""t2"", ""locked"": ""false"", ... }.. code:: Request with non-administrator context: GET /servers/detail?locked=1 Note that 'locked' is not returned through API layer Response: { ""servers"":[ { ""name"": ""t1"", ... } { ""name"":""t2"", ... } ] }.. code:: Request with administrator context: GET /servers/detail?locked=1 Response: { ""servers"":[ { ""name"": ""t1"", ... } ] }.. code:: Precondition: Request with administrator context: GET /servers/detail Response: { ""servers"":[ { ""name"": ""t1"", ""OS-EXT-SRV-ATTR:host"": ""devstack"" ... } { ""name"": ""t2"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"" ... } ] } GET /servers/detail?host=devstack Response: { ""servers"":[ { ""name"": ""t1"", ""OS-EXT-SRV-ATTR:host"": ""devstack"" ... } ] }.. code:: Precondition: Request with administrator context: GET /servers/detail Response: { ""servers"":[ { ""name"": ""test11"", ... } { ""name"": ""test21"", ... } { ""name"": ""t1"", ... } { ""name"": ""t14"", ... } ] } GET /servers/detail?name=t1 Response: { ""servers"":[ { ""name"": ""test11"", ... } { ""name"": ""t1"", ... } { ""name"": ""t14"", ... } ] } **Example: User query server using exact matching on host and regex matching on name** .. code:: Precondition: Request with administrator context: GET /servers/detail Response: { ""servers"":[ { ""name"": ""test1"", ""OS-EXT-SRV-ATTR:host"": ""devstack"" ... } { ""name"": ""t2"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"" ... } { ""name"": ""test3"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"" ... } ] } GET /servers/detail?host=devstack1&name=test Response: { ""servers"":[ { ""name"": ""test3"", ""OS-EXT-SRV-ATTR:host"": ""devstack1"" ... } ] } - **Speical keys are used to tweek the query**.. code:: Precondition: GET /servers/detail Response: { ""servers"":[ { ""name"": ""t1"" ""updated"": ""2015-12-15T15:55:52Z"" ... } { ""name"": ""t2"", ""updated"": ""2015-12-17T15:55:52Z"" ... } } Response: { { ""name"": ""t2"", ""updated"": ""2015-12-17T15:55:52Z"" ... } }- **Resize** (including **Confirm resize**, **Revert resize**).. code:: { ""server"":{.. code:: { ""server"":{- **Resource Optimization**",182,184
openstack%2Fopenstack-ansible-os_keystone~master~I8a27bb268ea2e145ed113c652ab7846f6adc3f82,openstack/openstack-ansible-os_keystone,master,I8a27bb268ea2e145ed113c652ab7846f6adc3f82,Fix virtualenv-tools issue,MERGED,2016-11-24 20:51:33.000000000,2016-11-29 10:36:48.000000000,2016-11-29 10:36:48.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 18784}]","[{'number': 1, 'created': '2016-11-24 20:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5a56d86e3dcfadcf4d09b4cc7d63272fb1f3b82d', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 2, 'created': '2016-11-25 13:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/73dec00cd64c33a588096f47a264d055867a2878', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 3, 'created': '2016-11-25 13:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/47f5a4e98f11a9f018905531f6854dcb20211b27', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 4, 'created': '2016-11-28 07:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b77282ad2aba90c57b7102b046d25ebeb252a493', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 5, 'created': '2016-11-28 14:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/596d3752e95ee677b4d188415b5d636175edab0f', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}, {'number': 6, 'created': '2016-11-28 19:04:41.000000000', 'files': ['tasks/keystone_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/dbf5a35102acf4926a921177f282df0c86c3d2fa', 'message': 'Fix virtualenv-tools issue\n\nplease see https://github.com/fireteam/virtualenv-tools/issues/5\n\nThis make installation of the virtualenv impossible on CentOS7 since\nyou endup with python > python2.7 and python2.7 > python\n\nlrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python\nlrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python\n\nChange-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82\nRelated-Bug: #1637509\nPartial-Bug: #1644629\n'}]",1,402212,dbf5a35102acf4926a921177f282df0c86c3d2fa,25,5,6,13095,,,0,"Fix virtualenv-tools issue

please see https://github.com/fireteam/virtualenv-tools/issues/5

This make installation of the virtualenv impossible on CentOS7 since
you endup with python > python2.7 and python2.7 > python

lrwxrwxrwx. 1 root root       9 Nov 24 20:49 python -> python2.7
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2 -> python
lrwxrwxrwx. 1 root root       6 Nov 14 20:03 python2.7 -> python

Change-Id: I8a27bb268ea2e145ed113c652ab7846f6adc3f82
Related-Bug: #1637509
Partial-Bug: #1644629
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/12/402212/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_install.yml'],1,5a56d86e3dcfadcf4d09b4cc7d63272fb1f3b82d,bug/1637509,"- name: CentOS remote pyhon from path first file: path: ""{{ keystone_bin | dirname }}/bin/{{ item }}"" state: ""absent"" with_items: - python - python2 - python2.7 when: - ansible_pkg_mgr == 'yum' - not keystone_developer_mode | bool - keystone_get_venv | changed or keystone_venv_dir | changed ",,13,0
openstack%2Fpuppet-murano~stable%2Fmitaka~Ib57998280762f9d6a9cf615bd0d5b3f558a39258,openstack/puppet-murano,stable/mitaka,Ib57998280762f9d6a9cf615bd0d5b3f558a39258,Fix default murano client package name error for RedHat platforms,MERGED,2016-11-29 03:30:59.000000000,2016-11-29 10:36:40.000000000,2016-11-29 10:32:08.000000000,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8971}]","[{'number': 1, 'created': '2016-11-29 03:30:59.000000000', 'files': ['spec/classes/murano_client_spec.rb', 'manifests/params.pp', 'releasenotes/notes/fix_client_package_name-897d4c0a7c9a7cbf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/d71fe3798ab3b95b9ea33e566b661251441efdcb', 'message': 'Fix default murano client package name error for RedHat platforms\n\nwhen install murano client package in RedHat platforms, the default\nmurano client package name: openstack-python-muranoclient is not found.\nso the client package name should be changed to python-muranoclient.\n\nChange-Id: Ib57998280762f9d6a9cf615bd0d5b3f558a39258\nCloses-Bug: #1644699\n(cherry picked from commit 122498f1bf11d907dbceb475a2dc9dac011b8c9b)\n'}]",0,404002,d71fe3798ab3b95b9ea33e566b661251441efdcb,10,4,1,24237,,,0,"Fix default murano client package name error for RedHat platforms

when install murano client package in RedHat platforms, the default
murano client package name: openstack-python-muranoclient is not found.
so the client package name should be changed to python-muranoclient.

Change-Id: Ib57998280762f9d6a9cf615bd0d5b3f558a39258
Closes-Bug: #1644699
(cherry picked from commit 122498f1bf11d907dbceb475a2dc9dac011b8c9b)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/02/404002/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/murano_client_spec.rb', 'manifests/params.pp', 'releasenotes/notes/fix_client_package_name-897d4c0a7c9a7cbf.yaml']",3,d71fe3798ab3b95b9ea33e566b661251441efdcb,bug/1644699,--- fixes: - Fixes `bug 1644699 <https://bugs.launchpad.net/puppet-murano/+bug/1644699>`__ so we're able to correctly install murano client package in RedHat platforms. ,,16,9
openstack%2Fpython-mistralclient~stable%2Fnewton~I41a08e1e57d43684713e57b29c98696b9c3ab7b1,openstack/python-mistralclient,stable/newton,I41a08e1e57d43684713e57b29c98696b9c3ab7b1,Remove clashes of openstackclient command in mistral,MERGED,2016-11-29 08:49:14.000000000,2016-11-29 10:30:29.000000000,2016-11-29 10:30:29.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 20761}]","[{'number': 1, 'created': '2016-11-29 08:49:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/1dcfc2c096a4610d63611bfd7d98687f3e5e2da4', 'message': 'Remove clashes of openstackclient command in mistral\n\nCloses-bug: 1626054\n\nChange-Id: I41a08e1e57d43684713e57b29c98696b9c3ab7b1\n(cherry picked from commit 69a6c2d5370207267774e7e8924d73837f86d204)\n'}]",0,404087,1dcfc2c096a4610d63611bfd7d98687f3e5e2da4,8,4,1,9712,,,0,"Remove clashes of openstackclient command in mistral

Closes-bug: 1626054

Change-Id: I41a08e1e57d43684713e57b29c98696b9c3ab7b1
(cherry picked from commit 69a6c2d5370207267774e7e8924d73837f86d204)
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/87/404087/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1dcfc2c096a4610d63611bfd7d98687f3e5e2da4,bug/1626054, workbook_definition_show = mistralclient.commands.v2.workbooks:GetDefinition workflow_definition_show = mistralclient.commands.v2.workflows:GetDefinition action_execution_input_show = mistralclient.commands.v2.action_executions:GetInput action_execution_output_show = mistralclient.commands.v2.action_executions:GetOutput workflow_execution_input_show = mistralclient.commands.v2.executions:GetInput workflow_execution_output_show = mistralclient.commands.v2.executions:GetOutput task_execution_published_show = mistralclient.commands.v2.tasks:GetPublished task_execution_result_show = mistralclient.commands.v2.tasks:GetResult action_definition_definition_show = mistralclient.commands.v2.actions:GetDefinition, workbook_show_definition = mistralclient.commands.v2.workbooks:GetDefinition workflow_show_definition = mistralclient.commands.v2.workflows:GetDefinition action_execution_show_input = mistralclient.commands.v2.action_executions:GetInput action_execution_show_output = mistralclient.commands.v2.action_executions:GetOutput workflow_execution_show_input = mistralclient.commands.v2.executions:GetInput workflow_execution_show_output = mistralclient.commands.v2.executions:GetOutput task_execution_show_published = mistralclient.commands.v2.tasks:GetPublished task_execution_show_result = mistralclient.commands.v2.tasks:GetResult action_definition_show_definition = mistralclient.commands.v2.actions:GetDefinition,9,9
openstack%2Fopenstack-ansible-os_glance~master~Ib9da0d1f94ea1cd46aa91a1fce0e97070f402693,openstack/openstack-ansible-os_glance,master,Ib9da0d1f94ea1cd46aa91a1fce0e97070f402693,Detach glance swift_store_auth_insecure from Keystone,MERGED,2016-11-25 10:09:23.000000000,2016-11-29 10:27:36.000000000,2016-11-29 10:27:36.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 18784}]","[{'number': 1, 'created': '2016-11-25 10:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ca1950d912a0464e716f85ff71407b11c17243b0', 'message': ""Detach glance swift_store_auth_insecure from Keystone\n\nWhen not using local swift, backed by local keystone, we need the option\nto set the swift_storage_auth_insecure to be different to the\nkeystone_internaluri_auth_insecure value.\n\nThis patch sets up it's own glance_swift_store_auth_insecure variable\nwhich defaults to keystone_internaluri_auth_insecure, but can be\nchanged.\n\nChange-Id: Ib9da0d1f94ea1cd46aa91a1fce0e97070f402693\n""}, {'number': 2, 'created': '2016-11-28 14:51:01.000000000', 'files': ['releasenotes/notes/glance-swift-store-auth-insecure-1b69e1e3e9ba0b30.yaml', 'templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/847aa1134124485c4a08c44c620fe4661aab10b1', 'message': ""Detach glance swift_store_auth_insecure from Keystone\n\nWhen not using local swift, backed by local keystone, we need the option\nto set the swift_storage_auth_insecure to be different to the\nkeystone_internaluri_auth_insecure value.\n\nThis patch sets up it's own glance_swift_store_auth_insecure variable\nwhich defaults to keystone_internaluri_auth_insecure, but can be\nchanged.\n\nChange-Id: Ib9da0d1f94ea1cd46aa91a1fce0e97070f402693\n""}]",0,402393,847aa1134124485c4a08c44c620fe4661aab10b1,20,4,2,2799,,,0,"Detach glance swift_store_auth_insecure from Keystone

When not using local swift, backed by local keystone, we need the option
to set the swift_storage_auth_insecure to be different to the
keystone_internaluri_auth_insecure value.

This patch sets up it's own glance_swift_store_auth_insecure variable
which defaults to keystone_internaluri_auth_insecure, but can be
changed.

Change-Id: Ib9da0d1f94ea1cd46aa91a1fce0e97070f402693
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/93/402393/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/glance-swift-store-auth-insecure-1b69e1e3e9ba0b30.yaml', 'templates/glance-api.conf.j2', 'defaults/main.yml']",3,ca1950d912a0464e716f85ff71407b11c17243b0,swift_store,"glance_swift_store_auth_insecure: ""{{ keystone_service_internaluri_insecure }}""",,9,1
openstack%2Fpuppet-murano~stable%2Fnewton~Ib57998280762f9d6a9cf615bd0d5b3f558a39258,openstack/puppet-murano,stable/newton,Ib57998280762f9d6a9cf615bd0d5b3f558a39258,Fix default murano client package name error for RedHat platforms,MERGED,2016-11-29 03:22:51.000000000,2016-11-29 10:26:31.000000000,2016-11-29 10:26:31.000000000,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 7745}]","[{'number': 1, 'created': '2016-11-29 03:22:51.000000000', 'files': ['spec/classes/murano_client_spec.rb', 'manifests/params.pp', 'releasenotes/notes/fix_client_package_name-897d4c0a7c9a7cbf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/11c2ebc3b8d8eae7916f8ee22e3b032bab606433', 'message': 'Fix default murano client package name error for RedHat platforms\n\nwhen install murano client package in RedHat platforms, the default\nmurano client package name: openstack-python-muranoclient is not found.\nso the client package name should be changed to python-muranoclient.\n\nChange-Id: Ib57998280762f9d6a9cf615bd0d5b3f558a39258\nCloses-Bug: #1644699\n(cherry picked from commit 122498f1bf11d907dbceb475a2dc9dac011b8c9b)\n'}]",0,403999,11c2ebc3b8d8eae7916f8ee22e3b032bab606433,8,3,1,24237,,,0,"Fix default murano client package name error for RedHat platforms

when install murano client package in RedHat platforms, the default
murano client package name: openstack-python-muranoclient is not found.
so the client package name should be changed to python-muranoclient.

Change-Id: Ib57998280762f9d6a9cf615bd0d5b3f558a39258
Closes-Bug: #1644699
(cherry picked from commit 122498f1bf11d907dbceb475a2dc9dac011b8c9b)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/99/403999/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/murano_client_spec.rb', 'manifests/params.pp', 'releasenotes/notes/fix_client_package_name-897d4c0a7c9a7cbf.yaml']",3,11c2ebc3b8d8eae7916f8ee22e3b032bab606433,bug/1644699,--- fixes: - Fixes `bug 1644699 <https://bugs.launchpad.net/puppet-murano/+bug/1644699>`__ so we're able to correctly install murano client package in RedHat platforms. ,,16,9
openstack%2Ffuel-web~master~Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e,openstack/fuel-web,master,Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e,Skip empty cpu pinning and hugepages,MERGED,2016-08-15 21:30:30.000000000,2016-11-29 10:24:51.000000000,2016-11-29 10:22:30.000000000,"[{'_account_id': 3}, {'_account_id': 1531}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10488}, {'_account_id': 10959}, {'_account_id': 11898}, {'_account_id': 17737}, {'_account_id': 18205}, {'_account_id': 19158}, {'_account_id': 20384}, {'_account_id': 20656}, {'_account_id': 21013}]","[{'number': 1, 'created': '2016-08-15 21:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/627f368e925a952cc2862055c2a0059b83ea3a89', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 2, 'created': '2016-08-16 11:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ae170368f283f15c285e64d022699cabe7cdc4ff', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 3, 'created': '2016-08-22 22:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d7986a757eb346568051f77cb01f84d8e50f6485', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 4, 'created': '2016-09-06 23:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dfdaedf5f2a60bf1da31eb8c7989bcdbab26e3c1', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 5, 'created': '2016-11-28 08:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dd0769eb96c2faa7fe25d37eb092932b1f2fdfa3', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 6, 'created': '2016-11-28 09:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5ae760ed9f56ab60a60235c175aa51b4d9b0b14e', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 7, 'created': '2016-11-28 09:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f30a1ab3f5bcdacd6e6cbff24e41dbc4cbc3c027', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}, {'number': 8, 'created': '2016-11-29 06:37:12.000000000', 'files': ['nailgun/nailgun/test/unit/test_node_attributes.py', 'nailgun/nailgun/test/unit/test_node_attributes_validator.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_task_deploy.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/api/v1/validators/node.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_90.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a6434023f18a57947be17933b29cd659ad3ddf66', 'message': ""Skip empty cpu pinning and hugepages\n\nIf there is no specified hugepages or CPU pinning\ndistributors shouldn't be called. Also changed\ninitialization of custom_hugepages type.\n\nChange-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e\nCloses-Bug: #1594443\n(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)\n""}]",0,355649,a6434023f18a57947be17933b29cd659ad3ddf66,179,14,8,1531,,,0,"Skip empty cpu pinning and hugepages

If there is no specified hugepages or CPU pinning
distributors shouldn't be called. Also changed
initialization of custom_hugepages type.

Change-Id: Iedb819b1da7dcb3877a6a94b9e7cfb93aa949a9e
Closes-Bug: #1594443
(cherry picked from commit 661ce479a6f191b3286ab2a45027f67a038b7a8d)
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/49/355649/6 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_node_attributes.py', 'nailgun/nailgun/test/unit/test_node_attributes_validator.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_task_deploy.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/api/v1/validators/node.py']",6,627f368e925a952cc2862055c2a0059b83ea3a89,349866," if not objects.NodeAttributes.is_cpu_pinning_enabled( node, attributes=attrs): return if not objects.NodeAttributes.is_hugepages_enabled( node, attributes=attrs): return hugepage_sizes = set( objects.NodeAttributes.total_hugepages(node, attributes=attrs) ) supported_hugepages = set( str(page) for page in node.meta['numa_topology']['supported_hugepages'] ) if not hugepage_sizes.issubset(supported_hugepages): raise errors.InvalidData( ""Node {0} doesn't support {1} Huge Page(s), supported Huge"" "" Page(s): {2}."".format( node.id, "", "".join(hugepage_sizes - supported_hugepages), "", "".join(supported_hugepages) ) ) ",,111,32
openstack%2Fkuryr-libnetwork~master~Iaa903a1286803e73037dbc444c417082840d7071,openstack/kuryr-libnetwork,master,Iaa903a1286803e73037dbc444c417082840d7071,Updated from global requirements,MERGED,2016-08-06 03:11:43.000000000,2016-11-29 10:23:26.000000000,2016-11-29 10:23:26.000000000,"[{'_account_id': 3}, {'_account_id': 1923}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 12069}, {'_account_id': 12860}, {'_account_id': 14352}, {'_account_id': 15967}, {'_account_id': 16237}, {'_account_id': 20566}]","[{'number': 1, 'created': '2016-08-06 03:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/a9ca9eaf126f55b541118c7bc5eb8da76fe7efc2', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 2, 'created': '2016-08-08 09:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e4c044e024bab4dc90f717bb642c14ed5c0c7bad', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 3, 'created': '2016-08-11 17:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/a9bd5ede5421d5fbd9aef4fed7d56487cc56da83', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 4, 'created': '2016-08-15 17:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/5910d46a9e1ec59f6637683c827550cb0367af3c', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 5, 'created': '2016-08-18 05:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/c8bfa3162db6bad38e43049d78538bb92d760dba', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 6, 'created': '2016-08-18 09:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/13efb3ba6bc5219a04b4a9a3e3430f25651c649a', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 7, 'created': '2016-08-18 17:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/89320e373c64aa0639394a5946f785655a51a791', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 8, 'created': '2016-08-19 08:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/26ee2e6f8ce564860d319c155808924708cecf55', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 9, 'created': '2016-08-19 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/f1a68a47f3ec4b6b52aed137e65171148aa55c3d', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 10, 'created': '2016-08-24 13:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d066af1cd4efec27894c3f83bc084538de6d7f44', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 11, 'created': '2016-08-25 09:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/4600f11f40377e0d8c913c45383dc0627cf56c64', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 12, 'created': '2016-08-26 22:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/dbb4c30ff884525888d3384833945be9f7570b7c', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 13, 'created': '2016-08-29 05:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/a3450248027d10392d25651995ace5fd26d82600', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 14, 'created': '2016-08-30 03:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/f7cc52d8e3925227fa2d0fcf491ab47bce2d938a', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 15, 'created': '2016-08-30 14:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/aa20f5b028456c70804c235e7b9dc2efb674c389', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 16, 'created': '2016-08-31 03:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/6ba9e520c1775ba0eeb6394c96a18f9e1a4ab449', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 17, 'created': '2016-08-31 09:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/94e357d8cb2edb2bc1b8141c12e4589cee4f0b18', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 18, 'created': '2016-08-31 15:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/f34aa7bda85715b993314a122278ed9ae776997c', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 19, 'created': '2016-09-01 10:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/cf91714ad4107b24e08bb42d41fa9d67a16af43f', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 20, 'created': '2016-09-01 18:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/f6706f32aa2add69969c7cff723a4cf805022e9b', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 21, 'created': '2016-09-01 19:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/fb90e487ab6b89db271fd46cd03555734bbe838d', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 22, 'created': '2016-09-06 09:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e9f4d248674aa7a12644e09a1377b927cd010475', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 23, 'created': '2016-09-06 17:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/9cd8613d8179f2e0f0f6cae2e1bbd607b05312ed', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 24, 'created': '2016-09-08 17:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/3075e6dcb7e3bbe1cd0975f5ac2ec5303e07fedf', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 25, 'created': '2016-09-15 20:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/62d557cba9de501cbde0667e6c458bac17dc6ee7', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 26, 'created': '2016-09-20 00:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/c4a98561249f8f2a4c8c595b5713489e9910403f', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 27, 'created': '2016-09-21 05:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/c95120a1095fdfa7b9bdb0e9ead7028b477f4494', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 28, 'created': '2016-09-21 06:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/76eca2d46d6fb82227418de788501d6e5df9d040', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 29, 'created': '2016-09-21 07:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e8cca5c1db752b9a6646ce033e20f35432ce39b0', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 30, 'created': '2016-09-21 07:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/6d299e7a3cba5a84296e2835a1b68d0a35c840b8', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 31, 'created': '2016-09-21 11:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/00299ae88ab2a2832ef96ee8ca3bd32ed27e226a', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 32, 'created': '2016-09-23 15:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/1907b319ee7867b70f1e3a6725f86b1678a6319e', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 33, 'created': '2016-09-27 10:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8e149ae1cfd1eb3e7d352cc73f8e5a14412fb275', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 34, 'created': '2016-09-27 16:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/163113cdee913147538e93dff1043ffc00b12320', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 35, 'created': '2016-09-28 16:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/594050cebadbc508a76148f5da5f4bf714680a40', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 36, 'created': '2016-09-29 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b27002f0816a4acdbc5b3cd331e745944d668405', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 37, 'created': '2016-09-29 22:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/3fe6421cbf6bdc4a57a30b3d7e9797842d0da12b', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 38, 'created': '2016-10-02 20:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/0d84465547a45063dd1ee38a7d412ea3284261a6', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 39, 'created': '2016-10-03 14:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/14d6c3ee6947b8a05e7e3033da8896acac8141c8', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 40, 'created': '2016-10-05 04:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d43923f3701701a4aae17a089db78a3fcae8905b', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 41, 'created': '2016-10-12 22:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/1d05ebc289410dbdef63e2e0ec4723855a4d5e81', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 42, 'created': '2016-10-19 11:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/6b198f240c4bf910651cbcffc62f3eec6a0b77fb', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 43, 'created': '2016-10-19 17:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/430f1ab883faa4e7c299ce610593128074e7e710', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 44, 'created': '2016-10-21 00:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/5897ca66bd92f4800280c98ba9f4b3effa6e4bd2', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 45, 'created': '2016-10-22 01:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/879b27f2cc57e215aa0ceaf53f91ce210667cf43', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 46, 'created': '2016-10-27 12:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/301c2639e4a56ba5db92ab03cfc272cd40e1f8d2', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 47, 'created': '2016-11-02 15:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e9901a4603925b62a01f7a79d844767c60b9ac04', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 48, 'created': '2016-11-04 05:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/915a9084fd6d1235f56ca4d7ef0501116414b274', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 49, 'created': '2016-11-04 09:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b8ea6d97a5c7ebab5a76bdcbe229e0d8219f2b33', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 50, 'created': '2016-11-05 00:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/59803b1db7fa76698599c4dabd022c65ddec85e7', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 51, 'created': '2016-11-06 02:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/72a174334ff88bd1c4463860d43bdd699ace7c68', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 52, 'created': '2016-11-07 18:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/04489e1a8a9902cac4b2d8ad7f04407ebbb1dcdb', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 53, 'created': '2016-11-09 04:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/99b16e67a6bfd893fa10ee34058968b4b540305e', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 54, 'created': '2016-11-09 22:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d86d6d191431a5b47fecc83bd0230c0f4f269416', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 55, 'created': '2016-11-17 15:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d76ca3732d50adf8dd3b44e165caea2682415796', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 56, 'created': '2016-11-18 21:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/bfd0860a5e09bfbaf7c7666112c23898599c9cf7', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 57, 'created': '2016-11-22 13:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/0fc0d889ee964e3eb2e83c4dfbd33baab7accacb', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 58, 'created': '2016-11-23 10:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8c934a4bdb24e575898957d683f8905d80cb513c', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}, {'number': 59, 'created': '2016-11-29 01:44:00.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/1ff8688ecb51197b033678b08cd2953cfb67ed70', 'message': 'Updated from global requirements\n\nChange-Id: Iaa903a1286803e73037dbc444c417082840d7071\n'}]",0,351976,1ff8688ecb51197b033678b08cd2953cfb67ed70,142,11,59,11131,,,0,"Updated from global requirements

Change-Id: Iaa903a1286803e73037dbc444c417082840d7071
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/76/351976/15 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a9ca9eaf126f55b541118c7bc5eb8da76fe7efc2,openstack/requirements,"oslo.utils>=3.16.0 # Apache-2.0os-client-config!=1.19.0,>=1.13.1 # Apache-2.0 neutron-lib>=0.3.0 # Apache-2.0",oslo.utils>=3.11.0 # Apache-2.0os-client-config>=1.13.1 # Apache-2.0 neutron-lib>=0.2.0 # Apache-2.0,3,3
openstack%2Ftraining-guides~master~I66e88a6f69fe0c4270417ab3178dcdd09ecae66e,openstack/training-guides,master,I66e88a6f69fe0c4270417ab3178dcdd09ecae66e,Update README.rst,MERGED,2016-11-29 08:45:39.000000000,2016-11-29 10:20:16.000000000,2016-11-29 10:20:16.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 14482}]","[{'number': 1, 'created': '2016-11-29 08:45:39.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/29e99104bd289d06421f51eeccfe541351bf3443', 'message': 'Update README.rst\n\nChange-Id: I66e88a6f69fe0c4270417ab3178dcdd09ecae66e\n'}]",0,404084,29e99104bd289d06421f51eeccfe541351bf3443,7,3,1,11889,,,0,"Update README.rst

Change-Id: I66e88a6f69fe0c4270417ab3178dcdd09ecae66e
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/84/404084/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,29e99104bd289d06421f51eeccfe541351bf3443,readme,"This repository contains open source training material that can be used to learn about using and different ways of contributing to OpenStack (Upstream training).It includes: * Upstream training * Training guides (draft) Both guides include a set of slides used in the training events. Various manuals are in subdirectories of the ``doc/`` directory. Guides ------ All guides are in the RST format. You can use ``tox`` to prepare virtual environment and build all guides:: $ tox You can find the root of the generated HTML documentation at:: doc/upstream-training/build/slides/index.html doc/training-guides/build/slides/index.html Install the Python tox package and run ``tox`` from the top-level * ``tox -e checkbuild`` - to actually build all guides * ``tox -e upstream-slides`` - build the Upstream training * ``tox -e training-slides`` - build the Training guides<https://www.openstack.org/join>`_.the `OpenStack wiki <https://wiki.openstack.org>`_, blogs, or on IRC at`OpenStack Documentation Contributor Guide <http://docs.openstack.org/contributor-guide/>`_.Published guides ================ Guides are published at: * http://docs.openstack.org/upstream-training/ * http://docs.openstack.org/draft/training-guides/","This repository contains open source training manuals that can be used to learn about the OpenStack project.It includes these guides: * Associate Guide * Operator Guide * Developer Guide Prerequisites ============= `Apache Maven <http://maven.apache.org/>`_ must be installed to build the documentation. To install Maven 3 for Ubuntu 12.04 and later, and Debian wheezy and later:: apt-get install maven On Fedora 20 and later:: yum install mavenThe different guides are in subdirectories of the ``doc/`` directory. To build the guides, look for a ``pom.xml`` file within a subdirectory, then run the ``mvn`` command in that directory. For example:: cd doc/training-guides/ mvn clean generate-sources The generated PDF documentation file is:: doc/training-guides/target/docbkx/webhelp/training-guides/training-guides.pdf The root of the generated HTML documentation is:: doc/training-guides/target/docbkx/webhelp/training-guides/content/index.htmlInstall the python tox package and run ``tox`` from the top-level * ``tox -e checkniceness`` - to run the niceness tests * ``tox -e checksyntax`` - to run syntax checks * ``tox -e checkdeletions`` - to check that no deleted files are referenced * ``tox -e checkbuild`` - to actually build the manual tox will use the openstack-doc-tools package for execution of these tests. <http://www.openstack.org/join>`_.the `OpenStack wiki <http://wiki.openstack.org>`_, blogs, or on IRC at`Documentation HowTo <https://wiki.openstack.org/wiki/Documentation/HowTo>`_. Installing ========== Refer to http://docs.openstack.org to see where these documents are published and to learn more about the OpenStack project. ",32,46
openstack%2Ffreezer-dr~master~I7fdf27e8f9263625e1fd1e2a34c015eaf4251792,openstack/freezer-dr,master,I7fdf27e8f9263625e1fd1e2a34c015eaf4251792,Added py35 environement configuration to tox.ini,MERGED,2016-11-17 14:17:30.000000000,2016-11-29 10:17:28.000000000,2016-11-17 14:35:17.000000000,"[{'_account_id': 3}, {'_account_id': 14101}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21644}]","[{'number': 1, 'created': '2016-11-17 14:17:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/783577fddc9009848b4991b4401e1ca1f38e1dfb', 'message': 'Added py35 environement configuration to tox.ini\n\nChange-Id: I7fdf27e8f9263625e1fd1e2a34c015eaf4251792\n'}]",0,399029,783577fddc9009848b4991b4401e1ca1f38e1dfb,10,5,1,13940,,,0,"Added py35 environement configuration to tox.ini

Change-Id: I7fdf27e8f9263625e1fd1e2a34c015eaf4251792
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/29/399029/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,783577fddc9009848b4991b4401e1ca1f38e1dfb,fix-tox,"[testenv:py35] basepython = python3.5 setenv = OS_TEST_PATH = ./tests/unit commands = find . -type f -name ""*.pyc"" -delete python setup.py testr --coverage --testr-args=""{posargs}"" # coverage report -m rm -f .coverage rm -rf .testrepository exclude = .venv,.tox,dist,doc,test,*egg,tests ","exclude = .venv,.tox,dist,doc,test,*egg,tests",12,1
openstack%2Ffuel-specs~master~I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9,openstack/fuel-specs,master,I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9,Split Fuel puppet module 10.0 specification,ABANDONED,2016-03-30 20:24:31.000000000,2016-11-29 10:14:39.000000000,,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 6677}, {'_account_id': 7732}, {'_account_id': 8749}, {'_account_id': 11827}]","[{'number': 1, 'created': '2016-03-30 20:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/3ed5d08338037b92547ea1680ddb776a75b0300d', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 2, 'created': '2016-03-30 20:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/3b3ae6fff6494eb11930b1670c46751f4c260251', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 3, 'created': '2016-03-30 20:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1cffa34240d745b94f583557fba6cdf9586fb418', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 4, 'created': '2016-04-04 10:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/a62573201290f374ee71346db52e6c496c4b9acb', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 5, 'created': '2016-04-04 12:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0fd27dc0ce2e195a3b382f7180a2e058c2409444', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 6, 'created': '2016-04-05 07:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/c1da275b710d4b780ea1281668b5ce273ed3bb9a', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 7, 'created': '2016-04-05 07:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6fdbf72229c7a382465a895063d576adc8171f15', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}, {'number': 8, 'created': '2016-04-05 07:53:21.000000000', 'files': ['specs/10.0/split-fuel-puppet-module.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/12aa446203aaebdae39fdcb85617d88a7811ff25', 'message': 'Split Fuel puppet module 10.0 specification\n\nChange-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9\nImplements: blueprint split-fuel-puppet-module\n'}]",13,299611,12aa446203aaebdae39fdcb85617d88a7811ff25,23,6,8,3009,,,0,"Split Fuel puppet module 10.0 specification

Change-Id: I0c1dc0c5ec2ea3910adf68673d3dc7c07ade77d9
Implements: blueprint split-fuel-puppet-module
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/11/299611/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/10.0/split-fuel-puppet-module.rst'],1,3ed5d08338037b92547ea1680ddb776a75b0300d,bp/split-fuel-puppet-module,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== https://blueprints.launchpad.net/fuel/+spec/split-fuel-puppet-module -------------------- Problem description -------------------- Common puppet practices assume different services are deployed by different puppet modules. Fuel itself is not just a single service but a set of services and we need to split Fuel puppet module [1]_ into a set of modules. ---------------- Proposed changes ---------------- Currently Fuel puppet module is set of independent puppet manifests. We deploy Fuel services one by one in a series using `deploy.sh` script [2]_. So, it is not so hard to split this module into a set of modules. The new set of Fuel modules should be written following upstream common practices, so it is possible to move these modules to openstack/puppet-* projects. Fuel deploy script should be moved to fuel-setup package [3]_. Web UI ====== None Nailgun ======= None Data model ---------- None REST API -------- None Orchestration ============= Nonw RPC Protocol ------------ None Fuel Client =========== None Plugins ======= None Fuel Library ============ Fuel puppet module will be split into multiple puppet modules and these modules will then be moved to upstream. ------------ Alternatives ------------ None -------------- Upgrade impact -------------- New set of puppet modules will be available as RPM package(s), so the upgrade procedure should not be affected. --------------- Security impact --------------- None -------------------- Notifications impact -------------------- None --------------- End user impact --------------- None ------------------ Performance impact ------------------ None ----------------- Deployment impact ----------------- Fuel deployment procedure is going to change slightly. It will be more modular and fuel deployment expefience will become the same as for any other openstack services. For example, it will be possible to deploy Fuel over multiple node environment. ---------------- Developer impact ---------------- None --------------------- Infrastructure impact --------------------- None -------------------- Documentation impact -------------------- Fuel deployment should be described in details. -------------- Implementation -------------- Assignee(s) =========== Primary assignee: Vladimir Kozhukalov <vkozhukalov@mirantis.com> Mandatory design review: Sergii Golovatiuk <sgolovatiuk@mirantis.com> Work Items ========== * Split Fuel puppet module into a set of independent modules. One module per Fuel service. * Move Fuel modules to upstream. Dependencies ============ None ------------ Testing, QA ------------ Current Fuel deployment tests deploy Fuel master node, so it partly covers the feature. Besides, we need to add necessary tests to public puppet-openstack CI. Acceptance criteria =================== * Fuel puppet module should be splited into a set of independent modules. * Fuel puppet modules should be moved in a set of openstack/puppet-* repositories. * It should be possible to deploy Fuel services independently on a single node or over multiple nodes env. ---------- References ---------- .. [1] `Fuel puppet module <https://github.com/openstack/fuel-library/tree/master/deployment/puppet/fuel>`_ .. [2] `Fuel deploy script <https://github.com/openstack/fuel-library/blob/master/deployment/puppet/fuel/examples/deploy.sh>`_ .. [3] `Fuel-setup package <https://github.com/openstack/fuel-main/specs/fuel.spec>`_ ",,192,0
openstack%2Ffuel-qa~master~Ied5d518155812847459afdaa31468a37c197322d,openstack/fuel-qa,master,Ied5d518155812847459afdaa31468a37c197322d,[WIP] Use package from repo for astute gate test,ABANDONED,2016-09-01 10:50:51.000000000,2016-11-29 10:14:12.000000000,,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8971}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15984}, {'_account_id': 16106}, {'_account_id': 16414}]","[{'number': 1, 'created': '2016-09-01 10:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/c3f320beed8ff2810725dd0d9cedcdda5f7b1ec2', 'message': '[WIP] Use package from repo for astute gate test\n\nChange-Id: Ied5d518155812847459afdaa31468a37c197322d\n'}, {'number': 2, 'created': '2016-09-01 10:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/f0d3aa184b79509a0fa99e2686f5243bba5ba7bb', 'message': '[WIP] Use package from repo for astute gate test\n\nChange-Id: Ied5d518155812847459afdaa31468a37c197322d\n'}, {'number': 3, 'created': '2016-09-08 09:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/7f276309a08d31018eb2870323fd102d9f227c5d', 'message': '[WIP] Use package from repo for astute gate test\n\nChange-Id: Ied5d518155812847459afdaa31468a37c197322d\n'}, {'number': 4, 'created': '2016-09-08 11:58:21.000000000', 'files': ['gates_tests/tests/test_review_in_astute.py', 'fuelweb_test/helpers/fuel_release_hacks.py', 'fuelweb_test/tests/base_test_case.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/dd181e48dad31dbc5456d1ebad36820784ff02af', 'message': '[WIP] Use package from repo for astute gate test\n\nChange-Id: Ied5d518155812847459afdaa31468a37c197322d\n'}]",0,364232,dd181e48dad31dbc5456d1ebad36820784ff02af,20,8,4,3009,,,0,"[WIP] Use package from repo for astute gate test

Change-Id: Ied5d518155812847459afdaa31468a37c197322d
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/32/364232/3 && git format-patch -1 --stdout FETCH_HEAD,"['gates_tests/tests/test_review_in_astute.py', 'fuelweb_test/helpers/fuel_release_hacks.py', 'fuelweb_test/tests/base_test_case.py']",3,c3f320beed8ff2810725dd0d9cedcdda5f7b1ec2,,from fuelweb_test.helpers import fuel_release_hacks fuel_release_hacks.install_fuel_release_package() fuel_release_hacks.add_master_node_centos_repos_from_yaml_if_defined() fuel_release_hacks.put_deb_repos_yaml_if_defined() fuel_release_hacks.install_fuel_setup_package(),from fuelweb_test.helpers.fuel_release_hacks import install_mos_repos install_mos_repos(),72,60
openstack%2Ffuel-web~stable%2Fmitaka~I542b601fc1cc154eccaa6fba1a0442a19b7b3353,openstack/fuel-web,stable/mitaka,I542b601fc1cc154eccaa6fba1a0442a19b7b3353,Use dict_merge instead of update,MERGED,2016-11-25 11:37:36.000000000,2016-11-29 10:13:43.000000000,2016-11-29 10:11:03.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 18205}, {'_account_id': 20120}, {'_account_id': 20656}, {'_account_id': 21013}]","[{'number': 1, 'created': '2016-11-25 11:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9dae5f912f117f0ed0f339968a22fccf5154b3ba', 'message': 'Use dict_merge instead of update\n\nDuring fetching NIC and Bonds attributes\nattributes have been rewritten insted of\nextending.\n\nChange-Id: I542b601fc1cc154eccaa6fba1a0442a19b7b3353\nCloses-Bug: #1644563\n'}, {'number': 2, 'created': '2016-11-28 09:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6369d1c7962c793fb966c83002285e16ee95c74b', 'message': 'Use dict_merge instead of update\n\nDuring fetching NIC and Bonds attributes\nattributes have been rewritten insted of\nextending.\n\nChange-Id: I542b601fc1cc154eccaa6fba1a0442a19b7b3353\nCloses-Bug: #1644563\n'}, {'number': 3, 'created': '2016-11-28 12:12:23.000000000', 'files': ['nailgun/nailgun/test/unit/test_object_plugin.py', 'nailgun/nailgun/test/integration/test_node_nic_handler.py', 'nailgun/nailgun/test/integration/test_node_nic_handlers_w_bonding.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/plugins/manager.py', 'nailgun/nailgun/objects/plugin.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1ba0ccaa21897edc98a9c8fd1acee9737b672470', 'message': 'Use dict_merge instead of update\n\nDuring fetching NIC and Bonds attributes\nattributes have been rewritten insted of\nextending.\n\nChange-Id: I542b601fc1cc154eccaa6fba1a0442a19b7b3353\nCloses-Bug: #1644563\n'}]",0,402416,1ba0ccaa21897edc98a9c8fd1acee9737b672470,56,10,3,14167,,,0,"Use dict_merge instead of update

During fetching NIC and Bonds attributes
attributes have been rewritten insted of
extending.

Change-Id: I542b601fc1cc154eccaa6fba1a0442a19b7b3353
Closes-Bug: #1644563
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/16/402416/3 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/objects/plugin.py'],1,9dae5f912f117f0ed0f339968a22fccf5154b3ba,bug/1644563,"from nailgun import utils as nailgun_utils nic_attributes[name] = nailgun_utils.dict_merge( nic_attributes[name], attributes ) bond_attributes[name] = nailgun_utils.dict_merge( bond_attributes[name], attributes )", nic_attributes[name].update(attributes) bond_attributes[name].update(attributes),9,2
openstack%2Fdevstack-gate~master~Id481c277d8689ebd03e7ea070107ded408d50156,openstack/devstack-gate,master,Id481c277d8689ebd03e7ea070107ded408d50156,Add playbook to create BASE folder,ABANDONED,2016-11-24 14:42:26.000000000,2016-11-29 10:10:53.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-24 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9715942b4ca0869b049abb7fd8d6f38c4acc7b20', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}, {'number': 2, 'created': '2016-11-24 15:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ba2bcdc8469f9e469504ae664b43cf669aaebbf2', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}, {'number': 3, 'created': '2016-11-24 22:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4053e9bc73d8d8a26d19e5a41dd5ec54ae8c673f', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}, {'number': 4, 'created': '2016-11-28 11:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7c2df5b9529fddb157b3171f5e6aa1441606786d', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}, {'number': 5, 'created': '2016-11-28 14:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/798c32c64aa5dcc7bc2c021957332842da2055df', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}, {'number': 6, 'created': '2016-11-28 20:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/e23ceb1aa602d787f1a9977d1ad390a65415541f', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}, {'number': 7, 'created': '2016-11-28 21:48:52.000000000', 'files': ['playbooks/create_base_folder.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/05fa499a4fb9db08a632af8855cf550b403c2d64', 'message': 'Add playbook to create BASE folder\n\nChange-Id: Id481c277d8689ebd03e7ea070107ded408d50156\n'}]",0,402078,05fa499a4fb9db08a632af8855cf550b403c2d64,18,1,7,1106,,,0,"Add playbook to create BASE folder

Change-Id: Id481c277d8689ebd03e7ea070107ded408d50156
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/78/402078/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/create_base_folder.yaml'],1,9715942b4ca0869b049abb7fd8d6f38c4acc7b20,zuulv3,- hosts: all gather_facts: no tasks: - file: path={{ ansible_env.BASE }} state=directory ,,4,0
openstack%2Fgovernance~master~Iab46efca872ae462e1abb206d17538e1058fdcb2,openstack/governance,master,Iab46efca872ae462e1abb206d17538e1058fdcb2,Acknowledge remove-incubated-oslo-code for cloudkitty,MERGED,2016-11-22 00:45:06.000000000,2016-11-29 10:03:43.000000000,2016-11-29 10:03:43.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6482}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-11-22 00:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/72c17a9f838b5a55adc6eed75e88e65617d2804d', 'message': 'Acknowledge remove-incubated-oslo-code for cloudkitty\n\nChange-Id: Iab46efca872ae462e1abb206d17538e1058fdcb2\n'}, {'number': 2, 'created': '2016-11-25 08:23:38.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/a297bb0e74c8102247327eb7d72f6d9ebf57d188', 'message': 'Acknowledge remove-incubated-oslo-code for cloudkitty\n\nChange-Id: Iab46efca872ae462e1abb206d17538e1058fdcb2\n'}]",3,400454,a297bb0e74c8102247327eb7d72f6d9ebf57d188,17,6,2,2376,,,0,"Acknowledge remove-incubated-oslo-code for cloudkitty

Change-Id: Iab46efca872ae462e1abb206d17538e1058fdcb2
",git fetch https://review.opendev.org/openstack/governance refs/changes/54/400454/2 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/remove-incubated-oslo-code.rst'],1,72c17a9f838b5a55adc6eed75e88e65617d2804d,goal-remove-incubated-oslo-code,coudkitty: NA python-cloudkittyclient: https://review.openstack.org/#/c/391885,,2,0
openstack%2Fneutron~stable%2Fnewton~If834ca1ee52d538cae4a5d164e0e0343c7019546,openstack/neutron,stable/newton,If834ca1ee52d538cae4a5d164e0e0343c7019546,callbacks: Make the value of FLOATING_IP match with api resource,MERGED,2016-11-18 18:14:36.000000000,2016-11-29 10:03:37.000000000,2016-11-29 02:14:27.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-11-18 18:14:36.000000000', 'files': ['neutron/callbacks/resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1529c039a0043884492a25321c9fbc25c0ef9847', 'message': 'callbacks: Make the value of FLOATING_IP match with api resource\n\nNote: BEFORE_RESPONSE code assumes they match.  Nova notifier uses\nFLOATING_IP/BEFORE_RESPONSE.\n\nCloses-Bug: #1642918\n\n(cherry picked from commit eef348f74a13f42780713aa9dfca9cc617fa52c8)\nChange-Id: If834ca1ee52d538cae4a5d164e0e0343c7019546\n'}]",0,399724,1529c039a0043884492a25321c9fbc25c0ef9847,29,8,1,748,,,0,"callbacks: Make the value of FLOATING_IP match with api resource

Note: BEFORE_RESPONSE code assumes they match.  Nova notifier uses
FLOATING_IP/BEFORE_RESPONSE.

Closes-Bug: #1642918

(cherry picked from commit eef348f74a13f42780713aa9dfca9cc617fa52c8)
Change-Id: If834ca1ee52d538cae4a5d164e0e0343c7019546
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/399724/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/callbacks/resources.py'],1,1529c039a0043884492a25321c9fbc25c0ef9847,bug/1642918,FLOATING_IP = 'floatingip',FLOATING_IP = 'floating_ip',1,1
openstack%2Fgovernance~master~Ib44438aa1ecf090fe44442d65d6421cdc53bef5a,openstack/governance,master,Ib44438aa1ecf090fe44442d65d6421cdc53bef5a,Acknowledging Ocata community goals for Stable Branch Maintenance,MERGED,2016-11-21 23:32:03.000000000,2016-11-29 10:02:53.000000000,2016-11-29 10:02:53.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6482}, {'_account_id': 7069}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-21 23:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/020ae912ae34e8d1b1dcf443736cdbccb754e628', 'message': 'Acknowledging Ocata community goals for Stable Branch Maintenance\n\nThe stable team doesn\'t have any code repositories and therefore has nothing to\ndo.  It could be argued that the stable team is responsible for the stable\nbranches of all projects but this is an Ocata goal and the nature of the\nstable projects precludes that option.\n\nRather than have an entry that says ""nothing to see here move along"" I thought\nit\'d be better to remove stable from the list of projects with work to do.\n\nChange-Id: Ib44438aa1ecf090fe44442d65d6421cdc53bef5a\n'}, {'number': 2, 'created': '2016-11-23 00:38:50.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/29a38bcc0ce124e923a33a1d65accad97ee8f2bd', 'message': 'Acknowledging Ocata community goals for Stable Branch Maintenance\n\nChange-Id: Ib44438aa1ecf090fe44442d65d6421cdc53bef5a\n'}]",0,400443,29a38bcc0ce124e923a33a1d65accad97ee8f2bd,17,7,2,12898,,,0,"Acknowledging Ocata community goals for Stable Branch Maintenance

Change-Id: Ib44438aa1ecf090fe44442d65d6421cdc53bef5a
",git fetch https://review.opendev.org/openstack/governance refs/changes/43/400443/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/remove-incubated-oslo-code.rst'],1,020ae912ae34e8d1b1dcf443736cdbccb754e628,goal-remove-incubated-oslo-code,,Stable branch maintenance ------------------------- Planning Artifacts: Completion Artifacts: ,0,7
openstack%2Fgovernance~master~Ib39aadc364f723e5f898e77a2c0a9a9fec394650,openstack/governance,master,Ib39aadc364f723e5f898e77a2c0a9a9fec394650,[rally] link of oslo-incubator end,MERGED,2016-11-21 22:51:27.000000000,2016-11-29 10:02:47.000000000,2016-11-29 10:02:47.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6482}, {'_account_id': 18462}]","[{'number': 1, 'created': '2016-11-21 22:51:27.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/9fd1c02682166e97eb2c91419039e127df63d19f', 'message': '[rally] link of oslo-incubator end\n\nRally team removed usage of oslo-incubator code ~2 years ago.\n\nThis patch adds a link to that change.\n\nChange-Id: Ib39aadc364f723e5f898e77a2c0a9a9fec394650\n'}]",0,400434,9fd1c02682166e97eb2c91419039e127df63d19f,12,6,1,9545,,,0,"[rally] link of oslo-incubator end

Rally team removed usage of oslo-incubator code ~2 years ago.

This patch adds a link to that change.

Change-Id: Ib39aadc364f723e5f898e77a2c0a9a9fec394650
",git fetch https://review.opendev.org/openstack/governance refs/changes/34/400434/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/remove-incubated-oslo-code.rst'],1,9fd1c02682166e97eb2c91419039e127df63d19f,goal-remove-incubated-oslo-code,None `Rally Completion <https://review.openstack.org/#/c/152847/>`_ ,,4,0
openstack%2Fnova~master~Ica46a5479dec06b035f8b43d6738e9d124f6ae37,openstack/nova,master,Ica46a5479dec06b035f8b43d6738e9d124f6ae37,Placement api: Add informative message to 404 response.,MERGED,2016-11-01 21:53:09.000000000,2016-11-29 10:02:46.000000000,2016-11-25 21:12:55.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-01 21:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45ea2348884471e7966274d51e649fa8519491d7', 'message': 'Placement api: Add informative message to 404 response.\n\nAdd informative messages to the 404 error response from\ninventor.py and usage.py\n\nThis change also includes adding/altering existing Gabbi tests\nfor 404 response and add resonse_strings validation checks for\nthat.\n\nThis is follow up patch to\nhttps://review.openstack.org/#/c/387674/\n\nChange-Id: Ica46a5479dec06b035f8b43d6738e9d124f6ae37\n'}, {'number': 2, 'created': '2016-11-09 21:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9194b447d396d4f4998659fc513885d882ce4166', 'message': 'Placement api: Add informative message to 404 response.\n\nAdd informative messages to the 404 error response from\ninventory.py and usage.py\n\nThis change also includes adding/altering existing Gabbi tests\nfor 404 response and add resonse_strings validation checks for\nthat.\n\nChange-Id: Ica46a5479dec06b035f8b43d6738e9d124f6ae37\nRelated-Bug: #1634115\n'}, {'number': 3, 'created': '2016-11-11 19:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afb74f4a1702eac033dc620bdb33739a2c1a2187', 'message': 'Placement api: Add informative message to 404 response.\n\nAdd informative messages to the 404 error response from\ninventory.py and usage.py\n\nThis change also includes adding/altering existing Gabbi tests\nfor 404 response and add resonse_strings validation checks for\nthat.\n\nChange-Id: Ica46a5479dec06b035f8b43d6738e9d124f6ae37\nRelated-Bug: #1634115\n'}, {'number': 4, 'created': '2016-11-23 22:51:13.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/handlers/usage.py', 'nova/tests/functional/api/openstack/placement/gabbits/usage.yaml', 'nova/api/openstack/placement/handlers/inventory.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a422d23e7330ae51a37f899adc9c73596f0dca0', 'message': 'Placement api: Add informative message to 404 response.\n\nAdd informative messages to the 404 error response from\ninventory.py and usage.py\n\nThis change also includes adding/altering existing Gabbi tests\nfor 404 response and add resonse_strings validation checks for\nthat.\n\nChange-Id: Ica46a5479dec06b035f8b43d6738e9d124f6ae37\nRelated-Bug: #1634115\n'}]",13,392321,6a422d23e7330ae51a37f899adc9c73596f0dca0,72,15,4,18335,,,0,"Placement api: Add informative message to 404 response.

Add informative messages to the 404 error response from
inventory.py and usage.py

This change also includes adding/altering existing Gabbi tests
for 404 response and add resonse_strings validation checks for
that.

Change-Id: Ica46a5479dec06b035f8b43d6738e9d124f6ae37
Related-Bug: #1634115
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/392321/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/handlers/usage.py', 'nova/tests/functional/api/openstack/placement/gabbits/usage.yaml', 'nova/api/openstack/placement/handlers/inventory.py']",4,45ea2348884471e7966274d51e649fa8519491d7,bugs/placement-inverntory-logging," except exception.NotFound as exc: raise webob.exc.HTTPNotFound( _('No inventory of class %s found for delete') % resource_class) try: resource_provider = objects.ResourceProvider.get_by_uuid( context, uuid) inventories = objects.InventoryList.get_all_by_resource_provider_uuid( except exception.NotFound: raise webob.exc.HTTPNotFound( _(""No resource provider with uuid %s found"") % uuid) "," resource_provider = objects.ResourceProvider.get_by_uuid( context, uuid) inventories = objects.InventoryList.get_all_by_resource_provider_uuid(",32,7
openstack%2Fgovernance~master~I98527153e621066527de3828f544b388b44b7f72,openstack/governance,master,I98527153e621066527de3828f544b388b44b7f72,Add remove-incubator-oslo-code ack for oslo (and history),MERGED,2016-11-21 22:21:24.000000000,2016-11-29 10:02:41.000000000,2016-11-29 10:02:41.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-11-21 22:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3dea867e9e7d6c0bffc13f3d47ba1975b6a5349d', 'message': 'Add remove-incubator-oslo-code ack for oslo (and history)\n\nChange-Id: I98527153e621066527de3828f544b388b44b7f72\n'}, {'number': 2, 'created': '2016-11-21 22:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/89f2ac8f49f8b86c4dc98209f6ba6942e7e0c36c', 'message': 'Add remove-incubator-oslo-code ack for oslo (and history)\n\nAdd a few docs explaining the history of the incubator and\nits farewell reviews and actions.\n\nChange-Id: I98527153e621066527de3828f544b388b44b7f72\n'}, {'number': 3, 'created': '2016-11-21 22:32:54.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/1553f3d0df09878370fb0d19c49406c29b796a66', 'message': 'Add remove-incubator-oslo-code ack for oslo (and history)\n\nAdd a few docs explaining the history of the incubator and\nits farewell reviews and actions.\n\nChange-Id: I98527153e621066527de3828f544b388b44b7f72\n'}]",0,400427,1553f3d0df09878370fb0d19c49406c29b796a66,14,5,3,1297,,,0,"Add remove-incubator-oslo-code ack for oslo (and history)

Add a few docs explaining the history of the incubator and
its farewell reviews and actions.

Change-Id: I98527153e621066527de3828f544b388b44b7f72
",git fetch https://review.opendev.org/openstack/governance refs/changes/27/400427/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/remove-incubated-oslo-code.rst'],1,3dea867e9e7d6c0bffc13f3d47ba1975b6a5349d,goal-remove-incubated-oslo-code,"* https://github.com/openstack/oslo-specs/blob/master/specs/policy/\ incubator.rst * https://github.com/openstack/oslo-specs/blob/master/specs/policy/\ incubator.rst#revision-history (delete graduating modules immediately after the library is released) * http://lists.openstack.org/pipermail/openstack-dev/2016-June/097228.html (the closing/shutdown of the oslo-incubator, what's leftover is now just a set of tools for PTL or other community folks in oslo.tools) * https://review.openstack.org/#/c/323706/ and https://review.openstack.org/#/c/320680/ (farewell reviews) ",,12,0
openstack%2Fpuppet-barbican~master~If0175f5719ec72871febcec04785d63f56fd3d2b,openstack/puppet-barbican,master,If0175f5719ec72871febcec04785d63f56fd3d2b,Add hooks for external install & svc management,MERGED,2016-11-25 06:52:58.000000000,2016-11-29 10:02:31.000000000,2016-11-29 10:02:31.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-25 06:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/4ac23e6e6cccf8359235b3882c40f2a97c768ffe', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: If0175f5719ec72871febcec04785d63f56fd3d2b\n'}, {'number': 2, 'created': '2016-11-25 09:45:27.000000000', 'files': ['manifests/api/logging.pp', 'manifests/plugins/p11_crypto.pp', 'spec/classes/barbican_api_spec.rb', 'manifests/keystone/notification.pp', 'manifests/plugins/kmip.pp', 'manifests/db/sync.pp', 'manifests/api.pp', 'manifests/db/postgresql.pp', 'manifests/db.pp', 'manifests/quota.pp', 'spec/classes/barbican_wsgi_apache_spec.rb', 'manifests/db/mysql.pp', 'manifests/plugins/simple_crypto.pp', 'manifests/config.pp', 'manifests/plugins/dogtag.pp', 'manifests/wsgi/apache.pp', 'releasenotes/notes/external_install_mgmt_hook-8715781a2fe9134f.yaml', 'manifests/client.pp', 'manifests/deps.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/e12dfaefd7266703579550e9be90ecc5b7cacdfc', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: If0175f5719ec72871febcec04785d63f56fd3d2b\n'}]",1,402317,e12dfaefd7266703579550e9be90ecc5b7cacdfc,11,5,2,9414,,,0,"Add hooks for external install & svc management

This adds defined anchor points for external modules to hook into the
software install, config and service dependency chain.  This allows
external modules to manage software installation (virtualenv,
containers, etc) and service management (pacemaker) without needing rely
on resources that may change or be renamed.

Change-Id: If0175f5719ec72871febcec04785d63f56fd3d2b
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/17/402317/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api/logging.pp', 'manifests/plugins/p11_crypto.pp', 'spec/classes/barbican_api_spec.rb', 'manifests/keystone/notification.pp', 'manifests/plugins/kmip.pp', 'manifests/db/sync.pp', 'manifests/api.pp', 'manifests/db/postgresql.pp', 'manifests/db.pp', 'manifests/quota.pp', 'spec/classes/barbican_wsgi_apache_spec.rb', 'manifests/db/mysql.pp', 'manifests/plugins/simple_crypto.pp', 'manifests/config.pp', 'manifests/plugins/dogtag.pp', 'manifests/wsgi/apache.pp', 'releasenotes/notes/external_install_mgmt_hook-8715781a2fe9134f.yaml', 'manifests/client.pp', 'manifests/deps.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp', 'manifests/keystone/auth.pp']",22,4ac23e6e6cccf8359235b3882c40f2a97c768ffe,deps," include ::barbican::deps if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Anchor['barbican::service::end'] } Keystone_endpoint[""${region}/${service_name}::${service_type}""] ~> Anchor['barbican::service::end']"," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Service <| name == 'barbican-api' |> } Keystone_endpoint[""${region}/${service_name}::${service_type}""] ~> Service <| name == 'barbican-api' |>",104,22
openstack%2Fgovernance~master~Ia71aea62a7c19779e6141098e438cb2b636853e0,openstack/governance,master,Ia71aea62a7c19779e6141098e438cb2b636853e0,Security noop for oslo incubated goal,MERGED,2016-11-20 16:32:08.000000000,2016-11-29 10:02:25.000000000,2016-11-29 10:02:25.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6159}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-11-20 16:32:08.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/4c27daab6584f5df7ef2671eff8ee35cf67db0a0', 'message': 'Security noop for oslo incubated goal\n\nChange-Id: Ia71aea62a7c19779e6141098e438cb2b636853e0\n'}]",0,399981,4c27daab6584f5df7ef2671eff8ee35cf67db0a0,12,6,1,7063,,,0,"Security noop for oslo incubated goal

Change-Id: Ia71aea62a7c19779e6141098e438cb2b636853e0
",git fetch https://review.opendev.org/openstack/governance refs/changes/81/399981/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/remove-incubated-oslo-code.rst'],1,4c27daab6584f5df7ef2671eff8ee35cf67db0a0,goal-remove-incubated-oslo-code,* Anchor: No incubated oslo code * Bandit: No incubated oslo code * Syntribos: No incubated oslo code ,,4,0
openstack%2Fdocs-specs~master~Ia09b6d6df15f25590e8205af876da960e72758ed,openstack/docs-specs,master,Ia09b6d6df15f25590e8205af876da960e72758ed,[ops-guide] Link to project upgrade notes,MERGED,2016-11-07 05:16:01.000000000,2016-11-29 10:02:15.000000000,2016-11-28 22:09:59.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 330}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 6589}, {'_account_id': 7237}, {'_account_id': 8434}, {'_account_id': 9162}, {'_account_id': 9382}, {'_account_id': 9656}, {'_account_id': 10497}, {'_account_id': 10607}, {'_account_id': 10705}, {'_account_id': 11600}, {'_account_id': 11804}, {'_account_id': 11904}, {'_account_id': 12110}, {'_account_id': 20156}, {'_account_id': 22448}]","[{'number': 1, 'created': '2016-11-07 05:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/762decdcbf20b1e55bb5e473ee0d315cf7a9e8cf', 'message': '[ops-guide] Add project upgrade notes\n\nAdd keystone, nova, neutron, swift, and glance upgrade notes\nto the Operations Guide\n\nChange-Id: Ia09b6d6df15f25590e8205af876da960e72758ed\nImplements: blueprint ops-guide-upgrades\n'}, {'number': 2, 'created': '2016-11-08 00:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/f28d220f1a505ffeec498bfbace503460f067336', 'message': '[ops-guide] Add project upgrade notes\n\nAdd keystone, nova, neutron, swift, and glance upgrade notes\nto the Operations Guide\n\nChange-Id: Ia09b6d6df15f25590e8205af876da960e72758ed\nImplements: blueprint ops-guide-upgrades\n'}, {'number': 3, 'created': '2016-11-23 06:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/cf98720208d5614d1dd7c32bcb430beba4a4520c', 'message': '[ops-guide] Link to project upgrade notes\n\nAdd links to keystone, nova, neutron, swift, and glance upgrade notes\nin the Operations Guide\n\nChange-Id: Ia09b6d6df15f25590e8205af876da960e72758ed\nImplements: blueprint ops-guide-upgrades\n'}, {'number': 4, 'created': '2016-11-23 06:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/0fa5596e13521998e0136c6e01d7cf268eb67cac', 'message': '[ops-guide] Link to project upgrade notes\n\nAdd links to keystone, nova, neutron, swift, and glance upgrade notes\nin the Operations Guide\n\nChange-Id: Ia09b6d6df15f25590e8205af876da960e72758ed\nImplements: blueprint ops-guide-upgrades\n'}, {'number': 5, 'created': '2016-11-24 21:35:05.000000000', 'files': ['specs/ocata/ops-guide-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/9f6cf2f1937a81f9554e384749e4520dc6cae396', 'message': '[ops-guide] Link to project upgrade notes\n\nAdd links to keystone, nova, neutron, swift, and glance upgrade notes\nin the Operations Guide\n\nChange-Id: Ia09b6d6df15f25590e8205af876da960e72758ed\nImplements: blueprint ops-guide-upgrades\n'}]",20,394261,9f6cf2f1937a81f9554e384749e4520dc6cae396,40,22,5,10705,,,0,"[ops-guide] Link to project upgrade notes

Add links to keystone, nova, neutron, swift, and glance upgrade notes
in the Operations Guide

Change-Id: Ia09b6d6df15f25590e8205af876da960e72758ed
Implements: blueprint ops-guide-upgrades
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/61/394261/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/ops-guide-upgrades.rst'],1,762decdcbf20b1e55bb5e473ee0d315cf7a9e8cf,bp/ops-guide-upgrades,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. _ops-guide-upgrades: =========================================== Operations Guide: Add project upgrade notes =========================================== https://blueprints.launchpad.net/openstack-manuals/+spec/ops-guide-upgrades Problem description =================== The Operations Guide requires additional information about upgrading individual OpenStack services. Proposed change =============== The nova, neutron, and keystone project teams have produced upgrade notes in the developer documentation that are beneficial to operators. The proposal is to include this information in the Operations Guide, along with swift and glance upgrade notes when they become available. The proposed structure for the Upgrades chapter in the Operations Guide would be as follows: - Pre-upgrade considerations - Upgrade planning - Pre-upgrade testing environment - Upgrade levels - General upgrade process - Prerequisites - Perform a backup - Manage repositories - Upgrade packages on each node - Update services - Final steps - Upgrade a service - Upgrade the Networking service - Upgrade the Identity service - Upgrade the Compute service - Upgrade the Block Storage service - Upgrade the Object Storage service - Roll back a failed upgrade - Roll back an OpenStack environment - Roll back the Identity service - Roll back the Compute service - Roll back the Block Storage service - Roll back the Object Storage service Alternatives ------------ * Leave as is. * Provide links to the developer documentation in the Operations Guide. Implementation ============== Assignee(s) ----------- Primary assignee: * dazzachan Other contributors: * shilla-saebi * alexandra-settle Work items ---------- * Add `keystone <http://docs.openstack.org/developer/keystone/upgrading.html>`_ `nova <http://docs.openstack.org/developer/nova/upgrade.html>`_ , and `neutron <http://docs.openstack.org/developer/neutron/devref/upgrade.html>`_ upgrade notes. * Add swift and glance upgrade notes when they become available. * Update or remove outdated information in the Upgrades chapter. * Liaise with SMEs to review content. Dependencies ============ * Swift and glance project teams providing upgrade notes during the Ocata development cycle. Testing ======= Testing will follow the standard documentation review process. References ========== * Discussion can occur using any official medium including IRC in #openstack-doc, the openstack-docs mailing list with [ops-guide] in the subject, monthly Ops Guide `specialty team meeting`_, biweekly `documentation team meeting`_. .. _`specialty team meeting`: https://wiki.openstack.org/wiki/Documentation/OpsGuide .. _`documentation team meeting`: https://wiki.openstack.org/wiki/Meetings/DocTeamMeeting ",,117,0
openstack%2Fgovernance~master~I99ff5c72c108b98cb46e88fc3085596961983c9c,openstack/governance,master,I99ff5c72c108b98cb46e88fc3085596961983c9c,Revise networking-calico status wrt neutron,MERGED,2016-11-18 01:20:46.000000000,2016-11-29 10:01:13.000000000,2016-11-29 10:01:13.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6482}, {'_account_id': 6854}]","[{'number': 1, 'created': '2016-11-18 01:20:46.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/fe75b8019134f1412a42b94e7b7795ff514dbc97', 'message': 'Revise networking-calico status wrt neutron\n\nThe calico team needs some time to address the gaps identified\nduring the Ocata timeframe. This patch takes networking-calico\nout of the neutron governance list for the Ocata release.\n\nChange-Id: I99ff5c72c108b98cb46e88fc3085596961983c9c\n'}]",0,399320,fe75b8019134f1412a42b94e7b7795ff514dbc97,11,6,1,748,,,0,"Revise networking-calico status wrt neutron

The calico team needs some time to address the gaps identified
during the Ocata timeframe. This patch takes networking-calico
out of the neutron governance list for the Ocata release.

Change-Id: I99ff5c72c108b98cb46e88fc3085596961983c9c
",git fetch https://review.opendev.org/openstack/governance refs/changes/20/399320/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,fe75b8019134f1412a42b94e7b7795ff514dbc97,calico,, networking-calico: repos: - openstack/networking-calico,4,3
openstack%2Fopenstack-ansible-os_cloudkitty~master~I72b791bdad0ffb7c928eb4c627094968d179173d,openstack/openstack-ansible-os_cloudkitty,master,I72b791bdad0ffb7c928eb4c627094968d179173d,Clean up unused vars,MERGED,2016-11-23 20:11:09.000000000,2016-11-29 10:00:57.000000000,2016-11-29 10:00:57.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2016-11-23 20:11:09.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e3bfd2848f6adfeb4325326a7e953cafbd45e76d', 'message': 'Clean up unused vars\n\nChange-Id: I72b791bdad0ffb7c928eb4c627094968d179173d\n'}]",0,401405,e3bfd2848f6adfeb4325326a7e953cafbd45e76d,7,3,1,24177,,,0,"Clean up unused vars

Change-Id: I72b791bdad0ffb7c928eb4c627094968d179173d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/05/401405/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e3bfd2848f6adfeb4325326a7e953cafbd45e76d,remove-unused-vars,,cloudkitty_project_name: admin cloudkitty_project_domain_name: Defaultcloudkitty_keystone_trustee_auth_plugin: v2passwordcloudkitty_service_type: rating,0,4
openstack%2Fgovernance~master~I4a9381ab9a11b49fb4a8c227a39a5971a0c5cccb,openstack/governance,master,I4a9381ab9a11b49fb4a8c227a39a5971a0c5cccb,Get rid of the trove-image-builder repository,MERGED,2016-11-17 01:55:44.000000000,2016-11-29 10:00:44.000000000,2016-11-29 10:00:44.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 6159}]","[{'number': 1, 'created': '2016-11-17 01:55:44.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bff20dd76ef6e1de09104aafb0355b2bb6dbd481', 'message': ""Get rid of the trove-image-builder repository\n\nThe project was to store image elements for Trove. These elements are\nnow in the trove repository and therefore branched with the project,\nused in the CI, and so on. In short, we don't need this independent\nrepository any longer.\n\nChange-Id: I4a9381ab9a11b49fb4a8c227a39a5971a0c5cccb\nRelated: I4186340ef13cdbaa2df0a752b68e2e4bd6968494\n""}]",0,398692,bff20dd76ef6e1de09104aafb0355b2bb6dbd481,11,4,1,9664,,,0,"Get rid of the trove-image-builder repository

The project was to store image elements for Trove. These elements are
now in the trove repository and therefore branched with the project,
used in the CI, and so on. In short, we don't need this independent
repository any longer.

Change-Id: I4a9381ab9a11b49fb4a8c227a39a5971a0c5cccb
Related: I4186340ef13cdbaa2df0a752b68e2e4bd6968494
",git fetch https://review.opendev.org/openstack/governance refs/changes/92/398692/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,bff20dd76ef6e1de09104aafb0355b2bb6dbd481,remove-image-builder,, trove-image-builder: repos: - openstack/trove-image-builder tags: - stable:follows-policy - assert:follows-standard-deprecation,0,6
openstack%2Fnetworking-odl~master~I210f6db8ad3637bafceacc27970b3afc82dee11c,openstack/networking-odl,master,I210f6db8ad3637bafceacc27970b3afc82dee11c,Disable test_security_group_update for V2 driver,ABANDONED,2016-11-28 16:36:26.000000000,2016-11-29 10:00:39.000000000,,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2016-11-28 16:36:26.000000000', 'files': ['networking_odl/tests/functional/test_ml2_drivers.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c21b4008eb779280e8a81a0af196a936a475203d', 'message': 'Disable test_security_group_update for V2 driver\n\nThis test fails due to a bug in ODL side [1], so disabled for now until\nthe bug is fixed.\n\n[1] https://bugs.opendaylight.org/show_bug.cgi?id=7256\n\nChange-Id: I210f6db8ad3637bafceacc27970b3afc82dee11c\n'}]",1,403797,c21b4008eb779280e8a81a0af196a936a475203d,5,2,1,7921,,,0,"Disable test_security_group_update for V2 driver

This test fails due to a bug in ODL side [1], so disabled for now until
the bug is fixed.

[1] https://bugs.opendaylight.org/show_bug.cgi?id=7256

Change-Id: I210f6db8ad3637bafceacc27970b3afc82dee11c
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/97/403797/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/functional/test_ml2_drivers.py'],1,c21b4008eb779280e8a81a0af196a936a475203d,fix_functional_ci, # TODO(mkolesni): Remove this once the following bug has been fixed: # https://bugs.opendaylight.org/show_bug.cgi?id=7256 def test_security_group_update(self): pass,,5,0
openstack%2Fnova~master~I98243b679ba8101663d459cb9a76f7015078aff7,openstack/nova,master,I98243b679ba8101663d459cb9a76f7015078aff7,[placement] increase gabbi coverage of handlers.allocation,MERGED,2016-11-10 19:04:14.000000000,2016-11-29 09:56:02.000000000,2016-11-23 23:08:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 19298}]","[{'number': 1, 'created': '2016-11-10 19:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/356a1626b65e783dd8a85f3ab27c16b065dbc8c8', 'message': ""[placement] increase gabbi coverage of handlers.allocation\n\nA case where a non-existent resource provider in an allocation PUT\nrequest could raise a 400 was not covered. Now it is.\n\nThis still leave a ConcurrentUpdateDetected exception (which can\nlead to 409) not covered. There's no simple way to cause such a\nthing from a gabbi test.\n\nChange-Id: I98243b679ba8101663d459cb9a76f7015078aff7\n""}, {'number': 2, 'created': '2016-11-22 15:48:07.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/efb0df646512c5a58c14b49bea6dd4b4e97b0e81', 'message': ""[placement] increase gabbi coverage of handlers.allocation\n\nA case where a non-existent resource provider in an allocation PUT\nrequest could raise a 400 was not covered. Now it is.\n\nThis still leave a ConcurrentUpdateDetected exception (which can\nlead to 409) not covered. There's no simple way to cause such a\nthing from a gabbi test.\n\nChange-Id: I98243b679ba8101663d459cb9a76f7015078aff7\n""}]",2,396363,efb0df646512c5a58c14b49bea6dd4b4e97b0e81,35,12,2,11564,,,0,"[placement] increase gabbi coverage of handlers.allocation

A case where a non-existent resource provider in an allocation PUT
request could raise a 400 was not covered. Now it is.

This still leave a ConcurrentUpdateDetected exception (which can
lead to 409) not covered. There's no simple way to cause such a
thing from a gabbi test.

Change-Id: I98243b679ba8101663d459cb9a76f7015078aff7
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/396363/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml'],1,356a1626b65e783dd8a85f3ab27c16b065dbc8c8,cd/placement-coverage, - name: put an allocation for a not existing resource provider PUT: /allocations/75d0f5f7-75d9-458c-b204-f90ac91604ec request_headers: content-type: application/json data: allocations: - resource_provider: uuid: be8b9cba-e7db-4a12-a386-99b4242167fe resources: DISK_GB: 5 VCPU: 4 status: 400 response_strings: - Allocation for resource provider 'be8b9cba-e7db-4a12-a386-99b4242167fe' that does not exist,,15,0
openstack%2Fcharm-keystone~master~I4e0b141eaa88dbd350d932708e4aee4d03f82b76,openstack/charm-keystone,master,I4e0b141eaa88dbd350d932708e4aee4d03f82b76,Fix broken admin user on v3 API HA deployments,ABANDONED,2016-11-03 02:50:54.000000000,2016-11-29 09:51:49.000000000,,"[{'_account_id': 3}, {'_account_id': 6737}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 24278}]","[{'number': 1, 'created': '2016-11-03 02:50:54.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/ec9c58c65d3c3823b0c8054f8a3072f84a934c61', 'message': 'Fix broken admin user on v3 API HA deployments\n\nThe domain_id UUID for the admin_domain is referenced in the policy.json\nfile to give admin rights to the cloud admin user.  The domain_id was\npreviously stored in a file on the leader node which meant it was not\navailable to render into policy.json on the non-leader nodes and\nrendered the default string admin_domain_id instead.\n\nThis caused the admin user to generally not work at all as only\nauthentication requests reaching the leader unit would succeed.\n\nStore and retrieve the values using leadership settings instead so that\nit is available on all units.\n\nChange-Id: I4e0b141eaa88dbd350d932708e4aee4d03f82b76\nCloses-Bug: 1637453\n'}]",3,393056,ec9c58c65d3c3823b0c8054f8a3072f84a934c61,18,7,1,21107,,,0,"Fix broken admin user on v3 API HA deployments

The domain_id UUID for the admin_domain is referenced in the policy.json
file to give admin rights to the cloud admin user.  The domain_id was
previously stored in a file on the leader node which meant it was not
available to render into policy.json on the non-leader nodes and
rendered the default string admin_domain_id instead.

This caused the admin user to generally not work at all as only
authentication requests reaching the leader unit would succeed.

Store and retrieve the values using leadership settings instead so that
it is available on all units.

Change-Id: I4e0b141eaa88dbd350d932708e4aee4d03f82b76
Closes-Bug: 1637453
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/56/393056/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'hooks/keystone_context.py']",4,ec9c58c65d3c3823b0c8054f8a3072f84a934c61,bug/1637453," get_stored_domain_id, ADMIN_DOMAIN, DEFAULT_DOMAIN, get_stored_domain_id(ADMIN_DOMAIN) or 'admin_domain_id') get_stored_domain_id(DEFAULT_DOMAIN) or 'default')"," get_admin_domain_id, get_default_domain_id get_admin_domain_id() or 'admin_domain_id') get_default_domain_id() or 'default')",75,58
openstack%2Fnova~master~Id07c8dbc334aff94fd079de867f8db6256bc6973,openstack/nova,master,Id07c8dbc334aff94fd079de867f8db6256bc6973,[placement] increase gabbi coverage of handlers.resource_provider,MERGED,2016-11-10 19:04:14.000000000,2016-11-29 09:51:20.000000000,2016-11-23 23:12:08.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 19298}]","[{'number': 1, 'created': '2016-11-10 19:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6566c55f773325ccefc6b213b42aa2556db42236', 'message': '[placement] increase gabbi coverage of handlers.resource_provider\n\nCover a 409 that should happen when trying to delete a resource\nprovider for which there are allocations.\n\nChange-Id: Id07c8dbc334aff94fd079de867f8db6256bc6973\n'}, {'number': 2, 'created': '2016-11-22 15:48:07.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/with-allocations.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a94189130b7e12ad957aa77355b61732e8eb343a', 'message': '[placement] increase gabbi coverage of handlers.resource_provider\n\nCover a 409 that should happen when trying to delete a resource\nprovider for which there are allocations.\n\nChange-Id: Id07c8dbc334aff94fd079de867f8db6256bc6973\n'}]",0,396365,a94189130b7e12ad957aa77355b61732e8eb343a,31,11,2,11564,,,0,"[placement] increase gabbi coverage of handlers.resource_provider

Cover a 409 that should happen when trying to delete a resource
provider for which there are allocations.

Change-Id: Id07c8dbc334aff94fd079de867f8db6256bc6973
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/396365/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/with-allocations.yaml'],1,6566c55f773325ccefc6b213b42aa2556db42236,cd/placement-coverage," - name: fail to delete resource provider DELETE: /resource_providers/$ENVIRON['RP_UUID'] status: 409 response_strings: - ""Unable to delete resource provider $ENVIRON['RP_UUID']: Resource provider has allocations.""",,6,0
openstack%2Fpuppet-aodh~master~Ibc184a50cf16b7048e0f7249f8894d8661bb76fe,openstack/puppet-aodh,master,Ibc184a50cf16b7048e0f7249f8894d8661bb76fe,Add hooks for external install & svc management,MERGED,2016-11-25 02:15:28.000000000,2016-11-29 09:48:53.000000000,2016-11-29 09:48:53.000000000,"[{'_account_id': 3}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 14007}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2016-11-25 02:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/223ef2325848717442c05dc53e7a76c095a116b4', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}, {'number': 2, 'created': '2016-11-25 02:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/bdee065f9dd806caa88f67e326f394da4a91cbdc', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}, {'number': 3, 'created': '2016-11-25 03:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2fd78991f4ed732843cd407d91211d86232f8334', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}, {'number': 4, 'created': '2016-11-25 04:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c22900fe4f9bf55f9c8492462cf254fb101afb9f', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}, {'number': 5, 'created': '2016-11-25 06:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f6d4672c1c3a2207fdc0674525292fc1394d2737', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}, {'number': 6, 'created': '2016-11-25 06:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c4c854f7e88222c9ce846730ffbf1744d6d30f89', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}, {'number': 7, 'created': '2016-11-28 05:13:24.000000000', 'files': ['spec/classes/aodh_api_spec.rb', 'manifests/db/sync.pp', 'manifests/api.pp', 'manifests/db.pp', 'manifests/db/mysql.pp', 'manifests/deps.pp', 'manifests/evaluator.pp', 'manifests/logging.pp', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'spec/classes/aodh_wsgi_apache_spec.rb', 'manifests/auth.pp', 'manifests/config.pp', 'spec/classes/aodh_client_spec.rb', 'spec/classes/aodh_db_sync_spec.rb', 'manifests/wsgi/apache.pp', 'manifests/notifier.pp', 'releasenotes/notes/external_install_mgmt_hook-891a29ef391d1921.yaml', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'manifests/listener.pp', 'spec/classes/aodh_init_spec.rb', 'manifests/policy.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/cb865e6e5bcad322dcbb832a710d3b113df53b83', 'message': 'Add hooks for external install & svc management\n\nThis adds defined anchor points for external modules to hook into the\nsoftware install, config and service dependency chain.  This allows\nexternal modules to manage software installation (virtualenv,\ncontainers, etc) and service management (pacemaker) without needing rely\non resources that may change or be renamed.\n\nChange-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe\n'}]",1,402259,cb865e6e5bcad322dcbb832a710d3b113df53b83,28,6,7,9414,,,0,"Add hooks for external install & svc management

This adds defined anchor points for external modules to hook into the
software install, config and service dependency chain.  This allows
external modules to manage software installation (virtualenv,
containers, etc) and service management (pacemaker) without needing rely
on resources that may change or be renamed.

Change-Id: Ibc184a50cf16b7048e0f7249f8894d8661bb76fe
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/59/402259/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_api_spec.rb', 'spec/classes/aodh_auth_spec.rb', 'manifests/db/sync.pp', 'spec/classes/aodh_keystone_auth_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'spec/classes/aodh_db_mysql_spec.rb', 'manifests/db/mysql.pp', 'spec/classes/aodh_listener_spec.rb', 'spec/classes/aodh_db_postgresql_spec.rb', 'spec/classes/aodh_policy_spec.rb', 'manifests/deps.pp', 'spec/classes/aodh_evaluator_spec.rb', 'manifests/evaluator.pp', 'manifests/logging.pp', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'spec/classes/aodh_wsgi_apache_spec.rb', 'manifests/auth.pp', 'manifests/config.pp', 'spec/classes/aodh_client_spec.rb', 'spec/classes/aodh_db_spec.rb', 'spec/classes/aodh_db_sync_spec.rb', 'manifests/wsgi/apache.pp', 'manifests/notifier.pp', 'spec/classes/aodh_keystone_authtoken_spec.rb', 'releasenotes/notes/external_install_mgmt_hook-891a29ef391d1921.yaml', 'spec/classes/aodh_config_spec.rb', 'spec/classes/aodh_logging_spec.rb', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'manifests/listener.pp', 'spec/classes/aodh_init_spec.rb', 'manifests/policy.pp', 'spec/classes/aodh_notifier_spec.rb', 'manifests/keystone/auth.pp']",36,223ef2325848717442c05dc53e7a76c095a116b4,deps, include ::aodh::deps ,,128,27
openstack%2Fproject-config~master~I490c4b888ddf3205be983010b4deb0fe4fa9f97f,openstack/project-config,master,I490c4b888ddf3205be983010b4deb0fe4fa9f97f,add py27 test job to the releases repo,MERGED,2016-11-28 16:02:33.000000000,2016-11-29 09:47:38.000000000,2016-11-29 09:47:38.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-28 16:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/10138cdc9015f49cd0757366b98b4ef085dd4356', 'message': ""add py27 test job to the releases repo\n\nWe're adding unit tests to the release validation code, and would like\nto gate on those new tests.\n\nChange-Id: I490c4b888ddf3205be983010b4deb0fe4fa9f97f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2016-11-28 16:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f15017c78f4b3723ee026f3a0f667a81156861b', 'message': ""add py27 test job to the releases repo\n\nWe're adding unit tests to the release validation code, and would like\nto gate on those new tests.\n\nChange-Id: I490c4b888ddf3205be983010b4deb0fe4fa9f97f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2016-11-28 16:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4349f8117bd4635faf2dc83740ff2df02af2abf6', 'message': ""add py27 test job to the releases repo\n\nWe're adding unit tests to the release validation code, and would like\nto gate on those new tests.\n\nChange-Id: I490c4b888ddf3205be983010b4deb0fe4fa9f97f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 4, 'created': '2016-11-28 18:10:03.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/747509cb2681998a70e4032b3a337dbc7429ff78', 'message': ""add py27 test job to the releases repo\n\nWe're adding unit tests to the release validation code, and would like\nto gate on those new tests.\n\nChange-Id: I490c4b888ddf3205be983010b4deb0fe4fa9f97f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,403779,747509cb2681998a70e4032b3a337dbc7429ff78,14,6,4,2472,,,0,"add py27 test job to the releases repo

We're adding unit tests to the release validation code, and would like
to gate on those new tests.

Change-Id: I490c4b888ddf3205be983010b4deb0fe4fa9f97f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/403779/4 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,10138cdc9015f49cd0757366b98b4ef085dd4356,branch-automation, - 'gate-{name}-python27-ubuntu-trusty' - 'gate-{name}-python27-ubuntu-trusty',,3,8
openstack%2Fproject-config~master~I9bb644e674dad6b69a81623a41a487550917e629,openstack/project-config,master,I9bb644e674dad6b69a81623a41a487550917e629,remove unused branching script,MERGED,2016-11-28 20:32:39.000000000,2016-11-29 09:47:13.000000000,2016-11-29 09:47:13.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-28 20:32:39.000000000', 'files': ['jenkins/scripts/release-tools/make_stable_branch.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e4a50cceacb6acd63b5ef40211f74f0045bc22a', 'message': 'remove unused branching script\n\nThe previous commit added a new script for creating branches\nautomatically. This script that was being used by hand is no longer\nneeded.\n\nChange-Id: I9bb644e674dad6b69a81623a41a487550917e629\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,403893,0e4a50cceacb6acd63b5ef40211f74f0045bc22a,8,4,1,2472,,,0,"remove unused branching script

The previous commit added a new script for creating branches
automatically. This script that was being used by hand is no longer
needed.

Change-Id: I9bb644e674dad6b69a81623a41a487550917e629
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/403893/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/release-tools/make_stable_branch.sh'],1,0e4a50cceacb6acd63b5ef40211f74f0045bc22a,branch-automation,,"#!/bin/bash # # Script to cut stable/foo release branch of a project # # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -e if [[ $# -lt 3 ]]; then echo ""Usage: $0 series repo_name version"" echo echo ""Example: $0 kilo openstack/oslo.config 1.9.2"" exit 2 fi TOOLSDIR=""$( cd ""$( dirname ""${BASH_SOURCE[0]}"" )"" && pwd )"" source $TOOLSDIR/functions SERIES=$1 REPO=$2 VERSION=$3 LPROJECT=""$PROJECT"" PROJECT=$(basename $REPO) NEW_BRANCH=""stable/$SERIES"" setup_temp_space stable-branch-$PROJECT-$SERIES clone_repo $REPO cd $REPO LANG=C git review -s if $(git branch -r | grep $NEW_BRANCH > /dev/null); then echo ""A $NEW_BRANCH branch already exists !"" cd ../.. rm -rf $MYTMPDIR exit 0 fi echo ""Creating $NEW_BRANCH from $VERSION"" git branch $NEW_BRANCH $VERSION REALSHA=`git show-ref -s $NEW_BRANCH` git push gerrit $NEW_BRANCH update_gitreview ""$NEW_BRANCH"" update_upper_constraints ""$NEW_BRANCH"" if [[ -d releasenotes/source ]]; then # Also update the reno settings, in master echo ""Updating reno"" git checkout master $TOOLSDIR/add_release_note_page.sh $SERIES . else echo ""$REPO does not use reno, no update needed"" fi ",0,66
openstack%2Fproject-config~master~I7c481784e8c8137acbd522c654d0fa21e3fe4e0e,openstack/project-config,master,I7c481784e8c8137acbd522c654d0fa21e3fe4e0e,add branch automation to the tag-releases job,MERGED,2016-11-28 20:25:34.000000000,2016-11-29 09:47:07.000000000,2016-11-29 09:47:07.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-11-28 20:25:34.000000000', 'files': ['jenkins/scripts/release-tools/list_deliverable_branches.py', 'jenkins/scripts/release-tools/make_branch.sh', 'jenkins/scripts/release-tools/branch_from_yaml.sh', 'jenkins/jobs/release-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f1ea5cd8808c5bde97333cdc92caef699febc3d', 'message': 'add branch automation to the tag-releases job\n\nRather than creating a new job and then forcing it to run after the\ntag-releases job, go ahead and use the existing job and just add the new\nstep.\n\nChange-Id: I7c481784e8c8137acbd522c654d0fa21e3fe4e0e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,403892,2f1ea5cd8808c5bde97333cdc92caef699febc3d,10,4,1,2472,,,0,"add branch automation to the tag-releases job

Rather than creating a new job and then forcing it to run after the
tag-releases job, go ahead and use the existing job and just add the new
step.

Change-Id: I7c481784e8c8137acbd522c654d0fa21e3fe4e0e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/403892/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/scripts/release-tools/list_deliverable_branches.py', 'jenkins/scripts/release-tools/make_branch.sh', 'jenkins/scripts/release-tools/branch_from_yaml.sh', 'jenkins/jobs/release-jobs.yaml']",4,2f1ea5cd8808c5bde97333cdc92caef699febc3d,branch-automation," description: Apply tags to repositories based on changes in deliverables files, then create requested branches. # After we have tagged, create any new branches. /usr/local/jenkins/slave_scripts/release-tools/branch_from_yaml.sh $(pwd) ", description: Apply tags to repositories based on changes in deliverables files.,202,14
openstack%2Fmanila~master~Ifa2c8bdf23ea014e5fb8384d8edcd5d589e72201,openstack/manila,master,Ifa2c8bdf23ea014e5fb8384d8edcd5d589e72201,Change 'writeable' to 'writable',ABANDONED,2016-10-17 15:25:43.000000000,2016-11-29 09:46:04.000000000,,"[{'_account_id': 3}, {'_account_id': 7872}, {'_account_id': 9003}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15942}, {'_account_id': 16203}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18128}, {'_account_id': 20695}, {'_account_id': 21884}, {'_account_id': 22248}]","[{'number': 1, 'created': '2016-10-17 15:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/801a290cb907a7aefbdcc6ad3b1b5e5b8b057efd', 'message': 'Fix typos in rootwrap.conf & share.filters\n\nTrivialFix\n\nChange-Id: Ifa2c8bdf23ea014e5fb8384d8edcd5d589e72201\n'}, {'number': 2, 'created': '2016-10-27 05:43:42.000000000', 'files': ['etc/manila/rootwrap.conf', 'etc/manila/rootwrap.d/share.filters'], 'web_link': 'https://opendev.org/openstack/manila/commit/46dad64fbec76ed5f2ebdbd18bb627c07bdf7b48', 'message': ""Change 'writeable' to 'writable'\n\n'writable' is more common than 'writeable' in the commit message.\n http://wikidiff.com/writable/writeable\n\nChange-Id: Ifa2c8bdf23ea014e5fb8384d8edcd5d589e72201\n""}]",0,387530,46dad64fbec76ed5f2ebdbd18bb627c07bdf7b48,29,18,2,17130,,,0,"Change 'writeable' to 'writable'

'writable' is more common than 'writeable' in the commit message.
 http://wikidiff.com/writable/writeable

Change-Id: Ifa2c8bdf23ea014e5fb8384d8edcd5d589e72201
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/387530/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/manila/rootwrap.conf', 'etc/manila/rootwrap.d/share.filters']",2,801a290cb907a7aefbdcc6ad3b1b5e5b8b057efd,fix-typo,# This file should be owned by (and only-writable by) the root user,# This file should be owned by (and only-writeable by) the root user,4,4
openstack%2Fdevstack-gate~master~I1eb35ae93e70895e6e5596742f5bc2005882720f,openstack/devstack-gate,master,I1eb35ae93e70895e6e5596742f5bc2005882720f,Add role for fix_etc_hosts,ABANDONED,2016-10-06 15:52:10.000000000,2016-11-29 09:46:00.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}]","[{'number': 1, 'created': '2016-10-06 15:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/b1dbd2edd979130f72a1498372475e68d962a541', 'message': 'Add role for fix_etc_hosts\n\nChange-Id: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 2, 'created': '2016-11-23 12:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1ca275ef6e834d819a09bf61b00cc537bb841140', 'message': 'Add role for fix_etc_hosts\n\nChange-Id: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 3, 'created': '2016-11-23 21:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/dc55dabf5762e2589b1c1524d173490839320b8c', 'message': 'Add role for fix_etc_hosts\n\nChange-Id: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}, {'number': 4, 'created': '2016-11-28 11:37:50.000000000', 'files': ['playbooks/roles/fix_etc_hosts/tasks/main.yaml', 'playbooks/fix_etc_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2af43ebc2f742cfb00f8348a9976b81b9ca4445d', 'message': 'Add role for fix_etc_hosts\n\nChange-Id: I1eb35ae93e70895e6e5596742f5bc2005882720f\n'}]",0,383052,2af43ebc2f742cfb00f8348a9976b81b9ca4445d,14,2,4,1106,,,0,"Add role for fix_etc_hosts

Change-Id: I1eb35ae93e70895e6e5596742f5bc2005882720f
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/52/383052/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/fix_etc_hosts/tasks/main.yaml'],1,b1dbd2edd979130f72a1498372475e68d962a541,zuulv3,--- - lineinfile: dest=/etc/hosts regexp={{ ansible_hostname }} line='127.0.1.1 {{ ansible_hostname }}' ,,2,0
openstack%2Fdevstack-gate~master~I0ff97660479379f769ba9a32c17126f8abcc5bfd,openstack/devstack-gate,master,I0ff97660479379f769ba9a32c17126f8abcc5bfd,Add gather_host_info playbook and role,ABANDONED,2016-11-23 21:47:19.000000000,2016-11-29 09:45:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}]","[{'number': 1, 'created': '2016-11-23 21:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3fbffcec96194a430673838d3ed824e8df2d2099', 'message': 'Add gather_host_info playbook and role\n\nChange-Id: I0ff97660479379f769ba9a32c17126f8abcc5bfd\n'}, {'number': 2, 'created': '2016-11-23 23:24:19.000000000', 'files': ['playbooks/roles/gather_host_info/tasks/main.yaml', 'playbooks/gather_host_info.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/b593db155262e7af6f05cc433cae47e744a79d5b', 'message': 'Add gather_host_info playbook and role\n\nChange-Id: I0ff97660479379f769ba9a32c17126f8abcc5bfd\n'}]",0,401454,b593db155262e7af6f05cc433cae47e744a79d5b,7,2,2,1106,,,0,"Add gather_host_info playbook and role

Change-Id: I0ff97660479379f769ba9a32c17126f8abcc5bfd
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/54/401454/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/gather_host_info/tasks/main.yaml', 'playbooks/gather_host_info.yaml']",2,3fbffcec96194a430673838d3ed824e8df2d2099,zuulv3,- hosts: all gather_facts: yes roles: - gather_host_info ,,10,0
openstack%2Fproject-config~master~Ic501a0852df1320685c577359fc66bb2e72775a2,openstack/project-config,master,Ic501a0852df1320685c577359fc66bb2e72775a2,Graph runtimes for jobs that actually run on rh1,MERGED,2016-11-28 22:11:58.000000000,2016-11-29 09:45:22.000000000,2016-11-29 09:45:22.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-11-28 22:11:58.000000000', 'files': ['grafana/nodepool-tripleo-test-cloud.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e72beffbf8009fd715ca73b4533930ed2eed56fd', 'message': ""Graph runtimes for jobs that actually run on rh1\n\nThe existing graphs include only jobs that don't ever run on rh1.\nThis changes those graphs to be the ha and nonha ovb jobs that do.\n\nChange-Id: Ic501a0852df1320685c577359fc66bb2e72775a2\n""}]",0,403926,e72beffbf8009fd715ca73b4533930ed2eed56fd,7,3,1,6928,,,0,"Graph runtimes for jobs that actually run on rh1

The existing graphs include only jobs that don't ever run on rh1.
This changes those graphs to be the ha and nonha ovb jobs that do.

Change-Id: Ic501a0852df1320685c577359fc66bb2e72775a2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/403926/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/nodepool-tripleo-test-cloud.yaml'],1,e72beffbf8009fd715ca73b4533930ed2eed56fd,graph-rh1-jobs," - title: gate-tripleo-ci-centos-7-ovb-ha - target: alias(scale(stats.timers.nodepool.job.gate-tripleo-ci-centos-7-ovb-ha.master.centos-7.tripleo-test-cloud-rh1.runtime.mean, '0.001'), 'RH1') - title: gate-tripleo-ci-centos-7-ovb-nonha - target: alias(scale(stats.timers.nodepool.job.gate-tripleo-ci-centos-7-ovb-nonha.master.centos-7.tripleo-test-cloud-rh1.runtime.mean, '0.001'), 'RH1')"," - title: gate-tempest-dsvm-full - target: alias(scale(stats.timers.nodepool.job.gate-tempest-dsvm-full-ubuntu-xenial.master.ubuntu-xenial.tripleo-test-cloud-rh1.runtime.mean, '0.001'), 'RH1') - title: gate-tempest-dsvm-neutron-full - target: alias(scale(stats.timers.nodepool.job.gate-tempest-dsvm-neutron-full-ubuntu-xenial.master.ubuntu-xenial.tripleo-test-cloud-rh1.runtime.mean, '0.001'), 'RH1')",4,4
openstack%2Fproject-config~master~Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373,openstack/project-config,master,Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373,Add os_monasca-ui & os_octavia to OpenStack-Ansible,MERGED,2016-11-17 17:25:49.000000000,2016-11-29 09:44:53.000000000,2016-11-29 09:44:53.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-11-17 17:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/268d22c0879586b21dc1435060aaf69c23fd0de5', 'message': 'Add os_monasca-ui & os_octavia to OpenStack-Ansible\n\nThis patch adds new blank git repositories to OpenStack-Ansible for\ndeploying Monasca-UI and Octavia.\n\nThese projects will have their own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nNeeded-By: I9f52140eeac33460a02a5ad13a450620b6c4a5aa\nChange-Id: Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373\n'}, {'number': 2, 'created': '2016-11-28 14:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d47cb2bd6bd81471ad719ab650946bb669dc0a03', 'message': 'Add os_monasca-ui & os_octavia to OpenStack-Ansible\n\nThis patch adds new blank git repositories to OpenStack-Ansible for\ndeploying Monasca-UI and Octavia.\n\nThese projects will have their own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nNeeded-By: I9f52140eeac33460a02a5ad13a450620b6c4a5aa\nChange-Id: Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373\n'}, {'number': 3, 'created': '2016-11-28 20:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6753ee42cc3f9ac9d141817f28222a83045f142d', 'message': 'Add os_monasca-ui & os_octavia to OpenStack-Ansible\n\nThis patch adds new blank git repositories to OpenStack-Ansible for\ndeploying Monasca-UI and Octavia.\n\nThese projects will have their own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nChange-Id: Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373\n'}, {'number': 4, 'created': '2016-11-28 22:47:16.000000000', 'files': ['gerrit/acls/openstack/openstack-ansible-os_octavia.config', 'gerritbot/channels.yaml', 'gerrit/acls/openstack/openstack-ansible-os_monasca-ui.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea11e19808432e825a5c9c9aca8f7fa67772aed7', 'message': 'Add os_monasca-ui & os_octavia to OpenStack-Ansible\n\nThis patch adds new blank git repositories to OpenStack-Ansible for\ndeploying Monasca-UI and Octavia.\n\nThese projects will have their own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nNeeded-By: I9f52140eeac33460a02a5ad13a450620b6c4a5aa\nChange-Id: Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373'}]",1,399148,ea11e19808432e825a5c9c9aca8f7fa67772aed7,20,4,4,2799,,,0,"Add os_monasca-ui & os_octavia to OpenStack-Ansible

This patch adds new blank git repositories to OpenStack-Ansible for
deploying Monasca-UI and Octavia.

These projects will have their own core team with the general
openstack-ansible core team included, with the appropriate rights to
ensure that they can act as a back-stop in case of any issues.

Needed-By: I9f52140eeac33460a02a5ad13a450620b6c4a5aa
Change-Id: Ifbcbcd3ec3b8941aa64baa7cf6c5922ee4e4b373",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/399148/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-ansible-os_octavia.config', 'gerritbot/channels.yaml', 'gerrit/acls/openstack/openstack-ansible-os_monasca-ui.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",6,268d22c0879586b21dc1435060aaf69c23fd0de5,oct_mon-ui, - name: openstack/openstack-ansible-os_monasca-ui template: - name: merge-check - name: check-requirements - name: ansible-role-jobs - name: openstack-server-publish-jobs - name: release-notes-jobs - name: ansible-role-functional-jobs-xenial - name: openstack/openstack-ansible-os_octavia template: - name: merge-check - name: check-requirements - name: ansible-role-jobs - name: openstack-server-publish-jobs - name: release-notes-jobs - name: ansible-role-functional-jobs-xenial ,,86,0
openstack%2Fopenstack-ansible~master~Ia908ce1d4acc07cca1ea8b392de481be2a69bb33,openstack/openstack-ansible,master,Ia908ce1d4acc07cca1ea8b392de481be2a69bb33,Test new Xenial gate rules for master,ABANDONED,2016-11-24 16:32:01.000000000,2016-11-29 09:40:39.000000000,,[{'_account_id': 6816}],"[{'number': 1, 'created': '2016-11-24 16:32:01.000000000', 'files': ['playbooks/roles/system_crontab_coordination/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f4e247357488736acb0c62d3e2e3c7163db9a4d9', 'message': ""Test new Xenial gate rules for master\n\nTest gate rules, don't merge\n\nChange-Id: Ia908ce1d4acc07cca1ea8b392de481be2a69bb33\n""}]",0,402135,f4e247357488736acb0c62d3e2e3c7163db9a4d9,6,1,1,2799,,,0,"Test new Xenial gate rules for master

Test gate rules, don't merge

Change-Id: Ia908ce1d4acc07cca1ea8b392de481be2a69bb33
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/402135/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/system_crontab_coordination/tasks/main.yml'],1,f4e247357488736acb0c62d3e2e3c7163db9a4d9,,- name: Create crontab _,- name: Create crontab,1,1
openstack%2Fopenstack-ansible~stable%2Fnewton~Iaca6dc42448058e6773e485c7e51219bc8c03cef,openstack/openstack-ansible,stable/newton,Iaca6dc42448058e6773e485c7e51219bc8c03cef,Test gate rules,ABANDONED,2016-11-24 16:34:41.000000000,2016-11-29 09:40:28.000000000,,[{'_account_id': 6816}],"[{'number': 1, 'created': '2016-11-24 16:34:41.000000000', 'files': ['playbooks/roles/system_crontab_coordination/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d130e8a9cdee8e2ce9a084b92c97cd417221e0f4', 'message': 'Test gate rules\n\nNew gate rules were added, testing before attempting to remove trusty\nsupport from Master.\n\nChange-Id: Iaca6dc42448058e6773e485c7e51219bc8c03cef\n'}]",0,402139,d130e8a9cdee8e2ce9a084b92c97cd417221e0f4,5,1,1,2799,,,0,"Test gate rules

New gate rules were added, testing before attempting to remove trusty
support from Master.

Change-Id: Iaca6dc42448058e6773e485c7e51219bc8c03cef
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/402139/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/system_crontab_coordination/tasks/main.yml'],1,d130e8a9cdee8e2ce9a084b92c97cd417221e0f4,,- name: Create crontab _,- name: Create crontab,1,1
openstack%2Fproject-config~master~I26e29386da6661516bd61622590bdcd46d5b8102,openstack/project-config,master,I26e29386da6661516bd61622590bdcd46d5b8102,Add os_searchlight to OpenStack-Ansible,MERGED,2016-11-28 15:26:27.000000000,2016-11-29 09:39:24.000000000,2016-11-29 09:39:24.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-11-28 15:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/457a1819b76a7ad2714f7abedf6de1ab9b323b2e', 'message': 'Add os_searchlight to OpenStack-Ansible\n\nThis patch adds new cookiecutter git repository to OpenStack-Ansible\ndeploying Searchlight.\n\nThis project will have its own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nChange-Id: I26e29386da6661516bd61622590bdcd46d5b8102\n'}, {'number': 2, 'created': '2016-11-28 20:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfe811c48609318d970e7e49ccb090567017fc79', 'message': 'Add os_searchlight to OpenStack-Ansible\n\nThis patch adds new blank git repository to OpenStack-Ansible for\ndeploying Searchlight.\n\nThis project will have its own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nChange-Id: I26e29386da6661516bd61622590bdcd46d5b8102\n'}, {'number': 3, 'created': '2016-11-28 22:50:38.000000000', 'files': ['gerrit/acls/openstack/openstack-ansible-os_searchlight.config', 'gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e06e478b3014d2abd81baf0ba24ba5b37ff9d76c', 'message': 'Add os_searchlight to OpenStack-Ansible\n\nThis patch adds new blank git repository to OpenStack-Ansible for\ndeploying Searchlight.\n\nThis project will have its own core team with the general\nopenstack-ansible core team included, with the appropriate rights to\nensure that they can act as a back-stop in case of any issues.\n\nNeeded-By: I2e5e4e7dfd12d45fe40b9dd57af56c875f2fd0d7\nChange-Id: I26e29386da6661516bd61622590bdcd46d5b8102\n'}]",1,403757,e06e478b3014d2abd81baf0ba24ba5b37ff9d76c,14,3,3,2799,,,0,"Add os_searchlight to OpenStack-Ansible

This patch adds new blank git repository to OpenStack-Ansible for
deploying Searchlight.

This project will have its own core team with the general
openstack-ansible core team included, with the appropriate rights to
ensure that they can act as a back-stop in case of any issues.

Needed-By: I2e5e4e7dfd12d45fe40b9dd57af56c875f2fd0d7
Change-Id: I26e29386da6661516bd61622590bdcd46d5b8102
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/403757/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-ansible-os_searchlight.config', 'gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",5,457a1819b76a7ad2714f7abedf6de1ab9b323b2e,osa_searchlight, - name: openstack/openstack-ansible-os_searchlight template: - name: merge-check - name: check-requirements - name: ansible-role-jobs - name: openstack-server-publish-jobs - name: release-notes-jobs - name: ansible-role-functional-jobs-xenial ,,44,0
openstack%2Fproject-config~master~I10edb1a2d2a3d3d7f143f82076a673de8bc685d0,openstack/project-config,master,I10edb1a2d2a3d3d7f143f82076a673de8bc685d0,Update jobs in Tricircle project,MERGED,2016-11-22 03:49:23.000000000,2016-11-29 09:39:18.000000000,2016-11-29 09:39:17.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 11819}]","[{'number': 1, 'created': '2016-11-22 03:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a4963d50d933f849e37f20685bc100e64308746', 'message': 'Update jobs in Tricircle project\n\nTricircle was accepted as one of OpenStack big-tent projects:\nhttps://review.openstack.org/#/c/338796/.\n\nAdd jobs for py35, ubuntu-xenial, and documentation publish\nto docs.openstack.org. Py35 and ubuntu-xenial jobs are\nnon-voting jobs at first.\n\nChange-Id: I10edb1a2d2a3d3d7f143f82076a673de8bc685d0\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 2, 'created': '2016-11-28 06:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/46954418acc4a76520e84516cf29b22e71b8c913', 'message': 'Update jobs in Tricircle project\n\nTricircle was accepted as one of OpenStack big-tent projects:\nhttps://review.openstack.org/#/c/338796/.\n\nAdd jobs for function test on ubuntu-xenial(non-voting), and\ndocumentation publish to docs.openstack.org. Function test on\nubuntu-xenial job is non-voting job at first.\n\nChange-Id: I10edb1a2d2a3d3d7f143f82076a673de8bc685d0\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 3, 'created': '2016-11-28 07:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b1add9a6d8249637043e4ff4b23cfde2b23eba5', 'message': 'Update jobs in Tricircle project\n\nTricircle was accepted as one of OpenStack big-tent projects:\nhttps://review.openstack.org/#/c/338796/.\n\nAdd jobs for function test on ubuntu-xenial(non-voting), and\ndocumentation publish to docs.openstack.org. Function test on\nubuntu-xenial job is non-voting job at first.\n\nChange-Id: I10edb1a2d2a3d3d7f143f82076a673de8bc685d0\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 4, 'created': '2016-11-28 08:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4239ce43bc3b678bc0beb31c2d15f3f9dace4f40', 'message': 'Update jobs in Tricircle project\n\nTricircle was accepted as one of OpenStack big-tent projects:\nhttps://review.openstack.org/#/c/338796/.\n\nAdd jobs for function test on ubuntu-xenial(non-voting), and\ndocumentation publish to docs.openstack.org. Function test on\nubuntu-xenial job is non-voting job at first.\n\nChange-Id: I10edb1a2d2a3d3d7f143f82076a673de8bc685d0\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 5, 'created': '2016-11-29 00:49:53.000000000', 'files': ['jenkins/jobs/projects.yaml', 'jenkins/jobs/tricircle.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b6fef8fa70701e8998286b93575fa5e188ef79bd', 'message': 'Update jobs in Tricircle project\n\nTricircle was accepted as one of OpenStack big-tent projects:\nhttps://review.openstack.org/#/c/338796/.\n\nAdd jobs for function test on ubuntu-xenial(non-voting), and\ndocumentation publish to docs.openstack.org. Function test on\nubuntu-xenial job is non-voting job at first.\n\nChange-Id: I10edb1a2d2a3d3d7f143f82076a673de8bc685d0\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}]",4,400493,b6fef8fa70701e8998286b93575fa5e188ef79bd,20,4,5,11819,,,0,"Update jobs in Tricircle project

Tricircle was accepted as one of OpenStack big-tent projects:
https://review.openstack.org/#/c/338796/.

Add jobs for function test on ubuntu-xenial(non-voting), and
documentation publish to docs.openstack.org. Function test on
ubuntu-xenial job is non-voting job at first.

Change-Id: I10edb1a2d2a3d3d7f143f82076a673de8bc685d0
Signed-off-by: joehuang <joehuang@huawei.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/400493/5 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/projects.yaml'],1,7a4963d50d933f849e37f20685bc100e64308746,add_tricircle_job, doc-publisher-site: docs.openstack.org - 'gate-{name}-python35{suffix}': suffix: '-nv' - '{pipeline}-tricircle-dsvm-functional{job-suffix}': pipeline: gate node: ubuntu-xenial job-suffix: '-nv' branch-override: default,,8,0
openstack%2Fproject-config~master~I0a6268fc329759d34fc1aecdbae7db38a93f83f4,openstack/project-config,master,I0a6268fc329759d34fc1aecdbae7db38a93f83f4,Make neutron-fwaas v2 tempest jobs voting,MERGED,2016-11-29 01:58:23.000000000,2016-11-29 09:39:11.000000000,2016-11-29 09:39:11.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-11-29 01:58:23.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3dc6986e0164c02e32c223ac353bd66a853e39e', 'message': 'Make neutron-fwaas v2 tempest jobs voting\n\nThe tempest jobs to test FWaaS v2 in the neutron-fwaas repository are\nfinally stable.  Make them voting.\n\nChange-Id: I0a6268fc329759d34fc1aecdbae7db38a93f83f4\n'}]",0,403970,d3dc6986e0164c02e32c223ac353bd66a853e39e,7,3,1,13995,,,0,"Make neutron-fwaas v2 tempest jobs voting

The tempest jobs to test FWaaS v2 in the neutron-fwaas repository are
finally stable.  Make them voting.

Change-Id: I0a6268fc329759d34fc1aecdbae7db38a93f83f4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/403970/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,d3dc6986e0164c02e32c223ac353bd66a853e39e,, - name: ^gate-neutron-fwaas-v2-dsvm-tempest$ - gate-neutron-fwaas-v2-dsvm-tempest - gate-neutron-fwaas-v2-dsvm-tempest, - name: ^gate-neutron-fwaas-v2-dsvm-tempest-nv$ - gate-neutron-fwaas-v2-dsvm-tempest-nv,4,3
openstack%2Fopenstack-ansible-galera_server~master~I9534a02d4ce827a2f0fdf415a11e37808be941e5,openstack/openstack-ansible-galera_server,master,I9534a02d4ce827a2f0fdf415a11e37808be941e5,Don't install client packages via the galera_client role,MERGED,2016-11-28 20:13:46.000000000,2016-11-29 09:36:53.000000000,2016-11-29 09:36:53.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-11-28 20:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c71fa89813a1db35a3b399c64ae85633fceb9c98', 'message': ""Don't install client packages via the galera_client role\n\nThe galera_server and galera_client roles both configure the apt or\nyum repository for galera and percona. This can cause a conflict if\nthe version of the client and server differ.\n\nThis patch sets the galera_client dependency to deploy the /root/.my.cnf\nfile rather than installing all the client packages as well. The client\npackage is already deployed as part of the galera_server role\ndeployment.\n\nChange-Id: I9534a02d4ce827a2f0fdf415a11e37808be941e5\nDepends-On: I00d662a8afc7ddd4778787d31dc394a0ea3b1401\n""}, {'number': 2, 'created': '2016-11-28 20:44:23.000000000', 'files': ['tasks/galera_install.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/17e28956f008af63598999883e10e2894e5454c5', 'message': ""Don't install client packages via the galera_client role\n\nThe galera_server and galera_client roles both configure the apt or\nyum repository for galera and percona. This can cause a conflict if\nthe version of the client and server differ.\n\nThis patch sets the galera_client dependency to deploy the /root/.my.cnf\nfile rather than installing all the client packages as well. The client\npackage is already deployed as part of the galera_server role\ndeployment.\n\nChange-Id: I9534a02d4ce827a2f0fdf415a11e37808be941e5\nDepends-On: I00d662a8afc7ddd4778787d31dc394a0ea3b1401\n""}]",0,403881,17e28956f008af63598999883e10e2894e5454c5,14,5,2,2799,,,0,"Don't install client packages via the galera_client role

The galera_server and galera_client roles both configure the apt or
yum repository for galera and percona. This can cause a conflict if
the version of the client and server differ.

This patch sets the galera_client dependency to deploy the /root/.my.cnf
file rather than installing all the client packages as well. The client
package is already deployed as part of the galera_server role
deployment.

Change-Id: I9534a02d4ce827a2f0fdf415a11e37808be941e5
Depends-On: I00d662a8afc7ddd4778787d31dc394a0ea3b1401
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/81/403881/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,c71fa89813a1db35a3b399c64ae85633fceb9c98,, galera_client_package_install: false,,1,0
openstack%2Fneutron~master~I28323eddcf34fd12002cc706f4a9bcbb3f976ceb,openstack/neutron,master,I28323eddcf34fd12002cc706f4a9bcbb3f976ceb,Get post-subnet actions out of transaction,MERGED,2016-11-07 21:54:45.000000000,2016-11-29 09:36:11.000000000,2016-11-23 15:42:29.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5170}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10237}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-11-07 21:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/815b5deed16c83aa52736d99a16fab720f2c54cb', 'message': 'Get post-subnet actions out of transaction\n\nML2 was enclosing the call to super().create_subnet in a\ntransaction in order to call its own extension processing\nlogic and mechanism driver precommit logic in the same transaction.\n\nThis had the side effect of putting things in a transaction that\nthe DB base plugin expected to call after the subnet was created.\nThese are update_port calls and router gateway update calls.\n\nTo get the correct transaction semantics and address a standing\nTODO in the codebase, this adds a _create_subnet_precommit method\ncalled by the base plugin layer that is called inside of the subnet\ncreation transaction. This allows the ML2 plugin to place its\ninner transaction logic inside of this new method so it can avoid\nenclosing the call to the parent create_subnet method in a transaction.\n\nThis comes at the cost of an extra DB read (get_network) because the\nmechanism context is constructed twice. However, this should be an\nacceptable tradeoff to get us the correct transactional safety with\nML2 backends. This will also unblock some work for the new engine facade\nas well as for push notifications.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I28323eddcf34fd12002cc706f4a9bcbb3f976ceb\n'}, {'number': 2, 'created': '2016-11-07 22:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb24778c0739be5d61e1c9f9e8f4be8742a38a25', 'message': 'Get post-subnet actions out of transaction\n\nML2 was enclosing the call to super().create_subnet in a\ntransaction in order to call its own extension processing\nlogic and mechanism driver precommit logic in the same transaction.\n\nThis had the side effect of putting things in a transaction that\nthe DB base plugin expected to call after the subnet was created.\nThese are update_port calls and router gateway update calls.\n\nTo get the correct transaction semantics and address a standing\nTODO in the codebase, this adds a _create_subnet_precommit method\ncalled by the base plugin layer that is called inside of the subnet\ncreation transaction. This allows the ML2 plugin to place its\ninner transaction logic inside of this new method so it can avoid\nenclosing the call to the parent create_subnet method in a transaction.\n\nThis comes at the cost of an extra DB read (get_network) because the\nmechanism context is constructed twice. However, this should be an\nacceptable tradeoff to get us the correct transactional safety with\nML2 backends. This will also unblock some work for the new engine facade\nas well as for push notifications.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I28323eddcf34fd12002cc706f4a9bcbb3f976ceb\n'}, {'number': 3, 'created': '2016-11-15 00:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91cf3c60839b6f2b11462cd988013877728a98a7', 'message': 'Get post-subnet actions out of transaction\n\nML2 was enclosing the call to super().create_subnet in a\ntransaction in order to call its own extension processing\nlogic and mechanism driver precommit logic in the same transaction.\nThis had the side effect of putting things in a transaction that\nthe DB base plugin expected to call after the subnet was created.\nThese are update_port calls and router gateway update calls.\n\nTo get the correct transaction semantics and address a standing\nTODO in the codebase, this adds _create_subnet_precommit and\n_create_subnet_postcommit methods to allow the core plugin inheriting\nfrom db_base_plugin_v2 to control the timing of the calls to the\npostcommit actions.\n\nThis will also unblock some work for the new engine facade work and\nthe push notifications work.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I28323eddcf34fd12002cc706f4a9bcbb3f976ceb\n'}, {'number': 4, 'created': '2016-11-17 07:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8337a6b01fd9605240313212358534d7582c428', 'message': 'Get post-subnet actions out of transaction\n\nML2 was enclosing the call to super().create_subnet in a\ntransaction in order to call its own extension processing\nlogic and mechanism driver precommit logic in the same transaction.\nThis had the side effect of putting things in a transaction that\nthe DB base plugin expected to call after the subnet was created.\nThese are update_port calls and router gateway update calls.\n\nTo get the correct transaction semantics and address a standing\nTODO in the codebase, this adds _create_subnet_precommit and\n_create_subnet_postcommit methods to allow the core plugin inheriting\nfrom db_base_plugin_v2 to control the timing of the calls to the\npostcommit actions.\n\nThis will also unblock some work for the new engine facade work and\nthe push notifications work.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I28323eddcf34fd12002cc706f4a9bcbb3f976ceb\n'}, {'number': 5, 'created': '2016-11-20 13:51:55.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/132e2205a24f208d3b3b9c855cb0ee645cf4f07d', 'message': 'Get post-subnet actions out of transaction\n\nML2 was enclosing the call to super().create_subnet in a\ntransaction in order to call its own extension processing\nlogic and mechanism driver precommit logic in the same transaction.\nThis had the side effect of putting things in a transaction that\nthe DB base plugin expected to call after the subnet was created.\nThese are update_port calls and router gateway update calls.\n\nTo get the correct transaction semantics and address a standing\nTODO in the codebase, this adds _create_subnet_precommit and\n_create_subnet_postcommit methods to allow the core plugin inheriting\nfrom db_base_plugin_v2 to control the timing of the calls to the\npostcommit actions.\n\nThis will also unblock some work for the new engine facade work and\nthe push notifications work.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I28323eddcf34fd12002cc706f4a9bcbb3f976ceb\n'}]",1,394652,132e2205a24f208d3b3b9c855cb0ee645cf4f07d,79,16,5,7787,,,0,"Get post-subnet actions out of transaction

ML2 was enclosing the call to super().create_subnet in a
transaction in order to call its own extension processing
logic and mechanism driver precommit logic in the same transaction.
This had the side effect of putting things in a transaction that
the DB base plugin expected to call after the subnet was created.
These are update_port calls and router gateway update calls.

To get the correct transaction semantics and address a standing
TODO in the codebase, this adds _create_subnet_precommit and
_create_subnet_postcommit methods to allow the core plugin inheriting
from db_base_plugin_v2 to control the timing of the calls to the
postcommit actions.

This will also unblock some work for the new engine facade work and
the push notifications work.

Partially-Implements: blueprint push-notifications
Change-Id: I28323eddcf34fd12002cc706f4a9bcbb3f976ceb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/394652/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",2,815b5deed16c83aa52736d99a16fab720f2c54cb,bp/push-notifications," def _create_subnet_precommit(self, context, body, result, subnet): self.extension_manager.process_create_subnet(context, body, result) network = self.get_network(context, result['network_id']) mech_context = driver_context.SubnetContext(self, context, result, network) self.mechanism_manager.create_subnet_precommit(mech_context) result = super(Ml2Plugin, self).create_subnet(context, subnet) network = self.get_network(context, result['network_id']) mech_context = driver_context.SubnetContext(self, context, result, network)"," def _create_subnet_db(self, context, subnet): session = context.session # FIXME(kevinbenton): this is a mess because create_subnet ends up # calling _update_router_gw_ports which ends up calling update_port # on a router port inside this transaction. Need to find a way to # separate router updates from the subnet update operation. setattr(context, 'GUARD_TRANSACTION', False) with session.begin(subtransactions=True): result = super(Ml2Plugin, self).create_subnet(context, subnet) self.extension_manager.process_create_subnet( context, subnet[attributes.SUBNET], result) network = self.get_network(context, result['network_id']) mech_context = driver_context.SubnetContext(self, context, result, network) self.mechanism_manager.create_subnet_precommit(mech_context) return result, mech_context result, mech_context = self._create_subnet_db(context, subnet)",22,19
openstack%2Fproject-config~master~I67491f2f80bb04d89ce1f0e4e464d47291bf3b98,openstack/project-config,master,I67491f2f80bb04d89ce1f0e4e464d47291bf3b98,Add designate charms to gerritbot channels,MERGED,2016-11-29 00:24:44.000000000,2016-11-29 09:36:10.000000000,2016-11-29 09:36:10.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-11-29 00:24:44.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/89e50db6dfb3e709f26acecfe291e954cbf1bd40', 'message': 'Add designate charms to gerritbot channels\n\nChange-Id: I67491f2f80bb04d89ce1f0e4e464d47291bf3b98\n'}]",0,403955,89e50db6dfb3e709f26acecfe291e954cbf1bd40,8,4,1,20635,,,0,"Add designate charms to gerritbot channels

Change-Id: I67491f2f80bb04d89ce1f0e4e464d47291bf3b98
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/403955/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,89e50db6dfb3e709f26acecfe291e954cbf1bd40,update-gerritbot-channels, - openstack/charm-designate - openstack/charm-designate-bind,,2,0
openstack%2Fproject-config~master~Idea274792b6f38f4a43737910c6a0372834e8846,openstack/project-config,master,Idea274792b6f38f4a43737910c6a0372834e8846,Switch neutronclient functional jobs to xenial,MERGED,2016-11-23 23:29:42.000000000,2016-11-29 09:33:08.000000000,2016-11-29 09:33:08.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 9656}]","[{'number': 1, 'created': '2016-11-23 23:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b657d6d947b3b90d2e22a24f8d939e93ae66bb9c', 'message': 'Switch neutronclient functional jobs to xenial\n\nChange-Id: Idea274792b6f38f4a43737910c6a0372834e8846\n'}, {'number': 2, 'created': '2016-11-29 01:28:41.000000000', 'files': ['jenkins/jobs/projects.yaml', 'jenkins/jobs/neutron.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/66999961dec64f8a0020c75f5dee1950fce3f840', 'message': 'Switch neutronclient functional jobs to xenial\n\nLet the default branch regex apply for the jobs. Also, go\nstraight to xenial bypassing the non-voting purgatory as\nthere is nothing specific about the jobs that is affected\nby the node switch.\n\nChange-Id: Idea274792b6f38f4a43737910c6a0372834e8846\n'}]",9,401791,66999961dec64f8a0020c75f5dee1950fce3f840,17,5,2,748,,,0,"Switch neutronclient functional jobs to xenial

Let the default branch regex apply for the jobs. Also, go
straight to xenial bypassing the non-voting purgatory as
there is nothing specific about the jobs that is affected
by the node switch.

Change-Id: Idea274792b6f38f4a43737910c6a0372834e8846
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/401791/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'jenkins/jobs/neutron.yaml', 'zuul/layout.yaml']",3,b657d6d947b3b90d2e22a24f8d939e93ae66bb9c,neutronclient-xenial, - name: ^gate-(python-neutronclient-(python27|python3[45](-nv)?|pypy)|neutronclient-test-dsvm-functional(-ubuntu-.*)?|neutronclient-test-dsvm-functional-adv-svcs(-ubuntu-.*)?|tempest-dsvm-neutron-src-python-neutronclient)$ - name: ^gate-neutronclient-test-dsvm-functional-adv-svcs(-ubuntu-.*)?$ - gate-neutronclient-test-dsvm-functional-ubuntu-trusty - gate-neutronclient-test-dsvm-functional-ubuntu-xenial - gate-neutronclient-test-dsvm-functional-adv-svcs-ubuntu-trusty - gate-neutronclient-test-dsvm-functional-adv-svcs-ubuntu-xenial gate: - gate-neutronclient-test-dsvm-functional-ubuntu-trusty - gate-neutronclient-test-dsvm-functional-ubuntu-xenial - gate-neutronclient-test-dsvm-functional-adv-svcs-ubuntu-trusty - gate-neutronclient-test-dsvm-functional-adv-svcs-ubuntu-xenial - gate-neutronclient-test-dsvm-functional-ubuntu-trusty-mitaka-nv, - name: ^gate-(python-neutronclient-(python27|python3[45](-nv)?|pypy)|neutronclient-test-dsvm-functional|neutronclient-test-dsvm-functional-adv-svcs|tempest-dsvm-neutron-src-python-neutronclient)$ - name: ^gate-neutronclient-test-dsvm-functional-adv-svcs$ - gate-neutronclient-test-dsvm-functional - gate-neutronclient-test-dsvm-functional-adv-svcs gate: - gate-neutronclient-test-dsvm-functional - gate-neutronclient-test-dsvm-functional-adv-svcs - gate-neutronclient-test-dsvm-functional-mitaka-nv,27,11
openstack%2Fproject-config~master~I9ceb84f86f8e8d0efe365f9316406e9a5a7f4a58,openstack/project-config,master,I9ceb84f86f8e8d0efe365f9316406e9a5a7f4a58,Fix misconfiguration in Tacker,MERGED,2016-11-29 05:50:20.000000000,2016-11-29 09:32:29.000000000,2016-11-29 09:32:29.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 13380}, {'_account_id': 13485}]","[{'number': 1, 'created': '2016-11-29 05:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/abf825c96eb09d03205d092b8ddd852f8dc18e4e', 'message': 'Fix misconfiguration in Tacker\n\nA patch was already created to fix dsvm failure on xenial node.\nBut it is misconfiguration, therefore this patch will correct it.\n\nChange-Id: I9ceb84f86f8e8d0efe365f9316406e9a5a7f4a58\n'}, {'number': 2, 'created': '2016-11-29 06:08:53.000000000', 'files': ['jenkins/jobs/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aa970bb1f05bea68ebf802668a91c2f95a21aa78', 'message': 'Fix misconfiguration in Tacker\n\nA patch was already created to fix dsvm failure on xenial node.\nBut it is misconfiguration, therefore this patch will correct it.\n\nChange-Id: I9ceb84f86f8e8d0efe365f9316406e9a5a7f4a58\n'}]",0,404025,aa970bb1f05bea68ebf802668a91c2f95a21aa78,11,5,2,20560,,,0,"Fix misconfiguration in Tacker

A patch was already created to fix dsvm failure on xenial node.
But it is misconfiguration, therefore this patch will correct it.

Change-Id: I9ceb84f86f8e8d0efe365f9316406e9a5a7f4a58
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/404025/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/tacker.yaml'],1,abf825c96eb09d03205d092b8ddd852f8dc18e4e,," export DEVSTACK_LOCAL_CONFIG=""SFC_UPDATE_OVS=False""", export SFC_UPDATE_OVS=False,1,1
openstack%2Fironic-inspector~stable%2Fnewton~I4d94a5d03f4bbdec021d328928afd7c3fda49155,openstack/ironic-inspector,stable/newton,I4d94a5d03f4bbdec021d328928afd7c3fda49155,Don't recreate db during grenade upgrade,MERGED,2016-11-26 12:17:51.000000000,2016-11-29 09:28:05.000000000,2016-11-29 09:28:05.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2016-11-26 12:17:51.000000000', 'files': ['devstack/upgrade/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0e99daf53c716a82b064118376535926501fa3ff', 'message': ""Don't recreate db during grenade upgrade\n\nRecreating db means skip testing migration of created resources,\nwhich was created during introspection.\n\nChange-Id: I4d94a5d03f4bbdec021d328928afd7c3fda49155\nCloses-Bug: 1644204\n(cherry picked from commit 253fd3704baf2b94b287f0566f46ff8a859cba15)\n""}]",0,403377,0e99daf53c716a82b064118376535926501fa3ff,13,5,1,10239,,,0,"Don't recreate db during grenade upgrade

Recreating db means skip testing migration of created resources,
which was created during introspection.

Change-Id: I4d94a5d03f4bbdec021d328928afd7c3fda49155
Closes-Bug: 1644204
(cherry picked from commit 253fd3704baf2b94b287f0566f46ff8a859cba15)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/77/403377/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/upgrade.sh'],1,0e99daf53c716a82b064118376535926501fa3ff,bug/1644204,$IRONIC_INSPECTOR_DBSYNC_BIN_FILE --config-file $IRONIC_INSPECTOR_CONF_FILE upgrade,sync_inspector_database,1,1
openstack%2Ftempest~master~Ibdfa66399391e284939b39d550a9dbbe2bffa561,openstack/tempest,master,Ibdfa66399391e284939b39d550a9dbbe2bffa561,Add a generic method for backup creation,MERGED,2016-08-17 10:06:02.000000000,2016-11-29 09:27:57.000000000,2016-11-29 09:27:57.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 9152}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 14510}, {'_account_id': 16437}, {'_account_id': 19262}, {'_account_id': 21187}, {'_account_id': 22692}, {'_account_id': 22696}]","[{'number': 1, 'created': '2016-08-17 10:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8fc38eb5a61e1cd8141f45674e22a0e580dbcb4f', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 2, 'created': '2016-08-22 07:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30836506394a6b91b38f7888685b7cb897a73d9b', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 3, 'created': '2016-08-25 09:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/863bff13bd12f327105cd7bd148320043c453870', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 4, 'created': '2016-08-26 10:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/428afe6a312325194de00bfeee98168ee8dfde01', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 5, 'created': '2016-08-30 07:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba6ca8efa8ec54cff5fc849b7d65f0fbdedb369d', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 6, 'created': '2016-08-30 08:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b1316ebb31fff5ada279b3d68323b86d59f71c9', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 7, 'created': '2016-08-30 13:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/194ecfac17b439285f0cb29ad0368f37b67ef4e0', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 8, 'created': '2016-08-30 18:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6dce8b265ff0bc08f9a815b48761f86ff780e268', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand sycnchronize with resource_cleanup method.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 9, 'created': '2016-08-31 12:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcb5d8fb9e3f8fe4e1d11b9c6d38df12d36c83d8', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand delete it in the end fo the test case.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 10, 'created': '2016-09-05 11:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db150f49a6453d3f33e203aa7b3e902479b9f8d4', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand delete it in the end fo the test case.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 11, 'created': '2016-10-05 06:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba20676e6fd8593100af41a8426ed9e56a9f2a64', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand delete it in the end fo the test case.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}, {'number': 12, 'created': '2016-10-09 04:57:19.000000000', 'files': ['tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/admin/test_volumes_backup.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a2beb4967f8a46350e636daad22e678a7ac0437b', 'message': 'Add a generic method for backup creation\n\nThe purpose of this method is to create a volume backup, wait for completion\nand delete it in the end of the test case.\nUsing this method can eliminate a duplicated code.\n\nChange-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561\n'}]",17,356350,a2beb4967f8a46350e636daad22e678a7ac0437b,88,17,12,19262,,,0,"Add a generic method for backup creation

The purpose of this method is to create a volume backup, wait for completion
and delete it in the end of the test case.
Using this method can eliminate a duplicated code.

Change-Id: Ibdfa66399391e284939b39d550a9dbbe2bffa561
",git fetch https://review.opendev.org/openstack/tempest refs/changes/50/356350/7 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/base.py']",2,8fc38eb5a61e1cd8141f45674e22a0e580dbcb4f,backup_wrapper," cls.backups = [] cls.clear_backups() @classmethod def create_backup(cls, volume_id, **kwargs): """"""Wrapper utility that returns a test backup."""""" backup = cls.backups_client.create_backup( volume_id=volume_id, **kwargs)['backup'] cls.backups.append(backup) cls.backups_client.wait_for_backup_status(backup['id'], 'available') return backup def clear_backups(cls): for backup in cls.backups: try: cls.backups_client.delete_backup(backup['id']) except Exception: pass for backup in cls.backups: try: cls.backups_client.wait_for_resource_deletion(backup['id']) except Exception: pass @classmethod",,30,16
openstack%2Fpython-blazarclient~master~Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b,openstack/python-blazarclient,master,Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b,use oslotest,MERGED,2016-11-11 03:51:32.000000000,2016-11-29 09:22:53.000000000,2016-11-29 09:22:53.000000000,"[{'_account_id': 3}, {'_account_id': 1894}, {'_account_id': 3012}, {'_account_id': 7075}, {'_account_id': 7166}, {'_account_id': 7535}, {'_account_id': 8878}, {'_account_id': 9331}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 23840}]","[{'number': 1, 'created': '2016-11-11 03:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/a80aa43248a1b1ab119a8c63328b15c7a6a03a19', 'message': 'use oslotest\n\nChange-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b\n'}, {'number': 2, 'created': '2016-11-11 03:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/4c5fde7d5b4a794988d024a10323e4e4cd9d0cb7', 'message': 'use oslotest\n\nMove over to the fancy new oslo testing library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nAlso removed all openstack/common refernces throughout codebase.\n\nChange-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b\n'}, {'number': 3, 'created': '2016-11-11 03:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/4c2256e8443e7867c5740bca66010c78d0b0c308', 'message': 'use oslotest\n\nMove over to the fancy new oslo testing library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nAlso removed all openstack/common refernces throughout codebase.\n\nChange-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b\n'}, {'number': 4, 'created': '2016-11-11 21:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/4e0793ccb400b49d6283c8708f12c562dda51ebc', 'message': 'use oslotest\n\nMove over to the fancy new oslo testing library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nAlso removed all openstack/common references throughout codebase.\n\nChange-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b\n'}, {'number': 5, 'created': '2016-11-12 00:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/b47fd2493a0bbe30a62ba32978c82fc6251e9761', 'message': 'use oslotest\n\nMove over to the fancy new oslo testing library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nAlso removed all openstack/common references throughout codebase.\n\nChange-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b\n'}, {'number': 6, 'created': '2016-11-12 17:43:04.000000000', 'files': ['climateclient/tests/__init__.py', 'climateclient/openstack/__init__.py', 'climateclient/openstack/common/test.py', 'test-requirements.txt', 'openstack-common.conf', 'climateclient/openstack/common/__init__.py', 'climateclient/openstack/common/fixture/config.py', 'tox.ini', 'climateclient/openstack/common/fixture/__init__.py', 'climateclient/openstack/common/fixture/mockpatch.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/7726cc6297a3a268a793c3b9a4144bdac4c595f2', 'message': 'use oslotest\n\nMove over to the fancy new oslo testing library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nAlso removed all openstack/common references throughout codebase.\n\nChange-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b\n'}]",1,396488,7726cc6297a3a268a793c3b9a4144bdac4c595f2,20,11,6,6482,,,0,"use oslotest

Move over to the fancy new oslo testing library.

Removing openstack/common from all OpenStack code in favor of the
Oslo libraries is a project wide goal for the Ocata release.

Also removed all openstack/common references throughout codebase.

Change-Id: Ib5c8a1f7a00eae883308fe77ca379dd1e0ea9b6b
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/88/396488/1 && git format-patch -1 --stdout FETCH_HEAD,"['climateclient/tests/__init__.py', 'climateclient/openstack/__init__.py', 'climateclient/openstack/common/test.py', 'test-requirements.txt', 'openstack-common.conf', 'climateclient/openstack/common/__init__.py', 'climateclient/openstack/common/fixture/config.py', 'tox.ini', 'climateclient/openstack/common/fixture/__init__.py', 'climateclient/openstack/common/fixture/mockpatch.py']",10,a80aa43248a1b1ab119a8c63328b15c7a6a03a19,goal-remove-incubated-oslo-code,,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # Copyright 2013 Hewlett-Packard Development Company, L.P. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock class PatchObject(fixtures.Fixture): """"""Deal with code around mock."""""" def __init__(self, obj, attr, new=mock.DEFAULT, **kwargs): self.obj = obj self.attr = attr self.kwargs = kwargs self.new = new def setUp(self): super(PatchObject, self).setUp() _p = mock.patch.object(self.obj, self.attr, self.new, **self.kwargs) self.mock = _p.start() self.addCleanup(_p.stop) class Patch(fixtures.Fixture): """"""Deal with code around mock.patch."""""" def __init__(self, obj, new=mock.DEFAULT, **kwargs): self.obj = obj self.kwargs = kwargs self.new = new def setUp(self): super(Patch, self).setUp() _p = mock.patch(self.obj, self.new, **self.kwargs) self.mock = _p.start() self.addCleanup(_p.stop) ",5,246
openstack%2Fnova~master~If3d5e39bd745c0df74316a90159fffb3221864cc,openstack/nova,master,If3d5e39bd745c0df74316a90159fffb3221864cc,Remove sata bus for virtuozzo hypervisor,MERGED,2016-02-19 15:51:33.000000000,2016-11-29 09:22:38.000000000,2016-11-28 14:55:11.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15847}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 21284}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-02-19 15:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14976c467dfe81e07062709b090710147de26916', 'message': ""libvirt: remove sata bus for parallels hypervisor\n\nNow parallels hypervisor doesn't support sata bus.\nOnly ide or scsi.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 2, 'created': '2016-02-20 08:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81eb65a6519b23c5447b596996c8420d6e33b2ac', 'message': ""DO NOT MERGE: libvirt: remove sata bus for virtuozzo hypervisor\n\nPlease, do not merge this patch. It's a workaround.\nVirtuozzo7 supports only ide and scsi buses.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 3, 'created': '2016-04-12 07:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36d392a5adf34cc7b73291891df63e2c9ddf4442', 'message': ""DO NOT MERGE: libvirt: remove sata bus for virtuozzo hypervisor\n\nPlease, do not merge this patch. It's a workaround.\nVirtuozzo7 supports only ide and scsi buses.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 4, 'created': '2016-09-08 15:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19db4c0ffb46d215752c17bf0e3eea311ed7d49e', 'message': 'Check hypervisor version while getting bus type\n\nVirtuozzo 6 supports only ide and sata buses.\nBut virtuozzo 7 supports ide and scsi instead of sata bus.\nIt means that ""sd*"" is equal to sata for vz6 and scsi for vz7.\nSo we should check hypervisor version to get correct bus type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n'}, {'number': 5, 'created': '2016-09-09 08:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b435c082d06c7f084725ff7dc4af736f3f01f3d', 'message': 'Check hypervisor version while getting bus type\n\nVirtuozzo 6 supports only ide and sata buses.\nBut virtuozzo 7 supports ide and scsi instead of sata bus.\nIt means that ""sd*"" is equal to sata for vz6 and scsi for vz7.\nSo we should check hypervisor version to get correct bus type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n'}, {'number': 6, 'created': '2016-09-09 11:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1072013e7fdbbdd5732795018f18abbabd82b40c', 'message': 'Check hypervisor version while getting bus type\n\nVirtuozzo 6 supports only ide and sata buses.\nBut virtuozzo 7 supports ide and scsi instead of sata bus.\nIt means that ""sd*"" is equal to sata for vz6 and scsi for vz7.\nSo we should check hypervisor version to get correct bus type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n'}, {'number': 7, 'created': '2016-09-13 09:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a780c50bc3f691e47b695cc7dbb0b2edb5c270d', 'message': 'Check hypervisor version while getting bus type\n\nVirtuozzo 6 supports only ide and sata buses.\nBut virtuozzo 7 supports ide and scsi instead of sata bus.\nIt means that ""sd*"" is equal to sata for vz6 and scsi for vz7.\nSo we should check hypervisor version to get correct bus type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n'}, {'number': 8, 'created': '2016-09-14 07:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5b0463898c8dacd28ec5bdd9fa6d2e0bb4e17d8', 'message': 'Check hypervisor version while getting bus type\n\nVirtuozzo 6 supports only ide and sata buses.\nBut virtuozzo 7 supports ide and scsi instead of sata bus.\nIt means that ""sd*"" is equal to sata for vz6 and scsi for vz7.\nSo we should check hypervisor version to get correct bus type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n'}, {'number': 9, 'created': '2016-09-15 10:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f51a9d1876c6ff5a6bc9881a437833fe8df9bd65', 'message': 'Check hypervisor version while getting bus type\n\nVirtuozzo 6 supports only ide and sata buses.\nBut virtuozzo 7 supports ide and scsi instead of sata bus.\nIt means that ""sd*"" is equal to sata for vz6 and scsi for vz7.\nSo we should check hypervisor version to get correct bus type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n'}, {'number': 10, 'created': '2016-10-03 15:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77921bd88e9b964925a1c96a39e26fa6966a6a32', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nIt would be nice to see this patch in upstream.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 11, 'created': '2016-10-04 08:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29a01c7c431e4919f1d6b58115c425ceb94e33ae', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nIt would be nice to see this patch in upstream.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 12, 'created': '2016-10-12 12:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2144c1d90ed375c7610370af17783db3e8f0449', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 13, 'created': '2016-10-12 13:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d051ee57fa88655457b7c875979e0d55e99ae180', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nAlso in this patch we have changed tests for hypervisor version.\nWe don't need to check libvirt version in case of Virtuozzo hypervisor.\nBecause Virtuozzo 7 always has libvirt with\nsupport of 'parallels' virt type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 14, 'created': '2016-10-13 07:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/702e37289b38924871149ee08ea13623e5a8209c', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nAlso in this patch we have changed tests for hypervisor version.\nWe don't need to check libvirt version in case of Virtuozzo hypervisor.\nBecause Virtuozzo 7 always has libvirt with\nsupport of 'parallels' virt type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 15, 'created': '2016-10-19 11:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/907cc5ef2cbf4b6906e6e1960e47ee0bfb4109bd', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nAlso in this patch we have changed tests for hypervisor version.\nWe don't need to check libvirt version in case of Virtuozzo hypervisor.\nBecause Virtuozzo 7 always has libvirt with\nsupport of 'parallels' virt type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 16, 'created': '2016-10-21 13:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7259e5ed3291220fdd428863c02f2027b6a8a064', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nAlso in this patch we have changed tests for hypervisor version.\nWe don't need to check libvirt version in case of Virtuozzo hypervisor.\nBecause Virtuozzo 7 always has libvirt with\nsupport of 'parallels' virt type.\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 17, 'created': '2016-11-22 15:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b262dfa7eb0bbefbedda1c557cba558b488fc7f', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nAlso in this patch we have changed tests for hypervisor version.\nWe don't need to check libvirt version in case of Virtuozzo hypervisor.\nBecause Virtuozzo 7 always has libvirt with\nsupport of 'parallels' virt type.\n\nDocImpact\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}, {'number': 18, 'created': '2016-11-23 22:38:21.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'releasenotes/notes/supported-virtuozzo-version-569db9259a7ee579.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/646151ff1b8d481b70884d201a1b395d904e35b0', 'message': ""Remove sata bus for virtuozzo hypervisor\n\nIn virtuozzo 7 we have changed disk bus from sata to scsi.\nSata is not supported in virtuozzo 7.\nWe don't need to support sata bus for virtuozzo in nova.\nVirtuozzo 6 may work with python 2.6 only and\nit's not possible to run upstream nova on virtuozzo 6.\nWe always use this patch in our internal infrastructure\nto run openstack on virtuozzo 7.\nAlso in this patch we have changed tests for hypervisor version.\nWe don't need to check libvirt version in case of Virtuozzo hypervisor.\nBecause Virtuozzo 7 always has libvirt with\nsupport of 'parallels' virt type.\n\nDocs have already been updated:\n\nIf3d2f402bb1b21bec360693a6c1e9d73e998d167\n\nChange-Id: If3d5e39bd745c0df74316a90159fffb3221864cc\n""}]",17,282398,646151ff1b8d481b70884d201a1b395d904e35b0,249,23,18,15847,,,0,"Remove sata bus for virtuozzo hypervisor

In virtuozzo 7 we have changed disk bus from sata to scsi.
Sata is not supported in virtuozzo 7.
We don't need to support sata bus for virtuozzo in nova.
Virtuozzo 6 may work with python 2.6 only and
it's not possible to run upstream nova on virtuozzo 6.
We always use this patch in our internal infrastructure
to run openstack on virtuozzo 7.
Also in this patch we have changed tests for hypervisor version.
We don't need to check libvirt version in case of Virtuozzo hypervisor.
Because Virtuozzo 7 always has libvirt with
support of 'parallels' virt type.

Docs have already been updated:

If3d2f402bb1b21bec360693a6c1e9d73e998d167

Change-Id: If3d5e39bd745c0df74316a90159fffb3221864cc
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/282398/18 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/blockinfo.py'],1,14976c467dfe81e07062709b090710147de26916,vz_bus_type," 'parallels': ['ide', 'scsi'] return ""ide"""," 'parallels': ['ide', 'scsi', 'sata'] return ""sata"" elif virt_type == ""parallels"": return ""sata""",2,4
openstack%2Fpython-blazarclient~master~I6ec6252b01f04f211602369a6ce6a86bf75e77ad,openstack/python-blazarclient,master,I6ec6252b01f04f211602369a6ce6a86bf75e77ad,use oslo.i18n,MERGED,2016-11-11 03:51:32.000000000,2016-11-29 09:22:01.000000000,2016-11-29 09:22:01.000000000,"[{'_account_id': 3}, {'_account_id': 1894}, {'_account_id': 3012}, {'_account_id': 7075}, {'_account_id': 7166}, {'_account_id': 7535}, {'_account_id': 8878}, {'_account_id': 9331}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 23840}]","[{'number': 1, 'created': '2016-11-11 03:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/c0a3f1a030a88fee4e394e20101b6e21c02aded5', 'message': 'use oslo.i18n\n\nChange-Id: I6ec6252b01f04f211602369a6ce6a86bf75e77ad\n'}, {'number': 2, 'created': '2016-11-11 03:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/90993bf3e7df3512aca577b7646688bad12d1c90', 'message': 'use oslo.i18n\n\nMove over to the fancy new oslo i18n library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\n\nChange-Id: I6ec6252b01f04f211602369a6ce6a86bf75e77ad\n'}, {'number': 3, 'created': '2016-11-11 03:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/8d4250651aae94737ed75a81557564e0003a997e', 'message': 'use oslo.i18n\n\nMove over to the fancy new oslo i18n library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\n\nChange-Id: I6ec6252b01f04f211602369a6ce6a86bf75e77ad\n'}, {'number': 4, 'created': '2016-11-12 00:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/6f6dc70a273f8d7789e1c268412f1bb0a4a1434c', 'message': 'use oslo.i18n\n\nMove over to the fancy new oslo i18n library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\n\nChange-Id: I6ec6252b01f04f211602369a6ce6a86bf75e77ad\n'}, {'number': 5, 'created': '2016-11-12 17:42:47.000000000', 'files': ['requirements.txt', 'climateclient/openstack/common/gettextutils.py', 'climateclient/exception.py', 'climateclient/utils.py', 'climateclient/i18n.py', 'climateclient/client.py', 'climateclient/base.py', 'tox.ini', 'climateclient/v1/hosts.py', 'climateclient/v1/leases.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/1c401cb265435a549f50c8ad4c616a77852d3387', 'message': 'use oslo.i18n\n\nMove over to the fancy new oslo i18n library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\n\nChange-Id: I6ec6252b01f04f211602369a6ce6a86bf75e77ad\n'}]",0,396487,1c401cb265435a549f50c8ad4c616a77852d3387,16,11,5,6482,,,0,"use oslo.i18n

Move over to the fancy new oslo i18n library.

Removing openstack/common from all OpenStack code in favor of the
Oslo libraries is a project wide goal for the Ocata release.


Change-Id: I6ec6252b01f04f211602369a6ce6a86bf75e77ad
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/87/396487/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'climateclient/openstack/common/gettextutils.py', 'climateclient/exception.py', 'climateclient/utils.py', 'climateclient/i18n.py', 'climateclient/client.py', 'climateclient/base.py', 'tox.ini', 'climateclient/v1/hosts.py', 'climateclient/v1/leases.py']",10,c0a3f1a030a88fee4e394e20101b6e21c02aded5,goal-remove-incubated-oslo-code,from climateclient.i18n import _,from climateclient.openstack.common.gettextutils import _ # noqa,47,418
openstack%2Fgovernance~master~I34c64a715e76ef0c5250070ef6856c477a7fb918,openstack/governance,master,I34c64a715e76ef0c5250070ef6856c477a7fb918,Acknowledge remove-incubated-oslo-code for Congress,MERGED,2016-11-18 16:39:47.000000000,2016-11-29 09:21:47.000000000,2016-11-29 09:21:47.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6159}, {'_account_id': 6482}, {'_account_id': 18591}]","[{'number': 1, 'created': '2016-11-18 16:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0e6e791d68bef3a4a001dbceaf3beb0a78cf0b68', 'message': 'Acknowledge remove-incubated-oslo-code for Congress\n\nChange-Id: I34c64a715e76ef0c5250070ef6856c477a7fb918\n'}, {'number': 2, 'created': '2016-11-18 16:49:31.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/8590d3ab078d516be96254ded2c2a10d1f49deec', 'message': 'Acknowledge remove-incubated-oslo-code for Congress\n\nChange-Id: I34c64a715e76ef0c5250070ef6856c477a7fb918\n'}]",1,399682,8590d3ab078d516be96254ded2c2a10d1f49deec,16,8,2,18591,,,0,"Acknowledge remove-incubated-oslo-code for Congress

Change-Id: I34c64a715e76ef0c5250070ef6856c477a7fb918
",git fetch https://review.opendev.org/openstack/governance refs/changes/82/399682/2 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/remove-incubated-oslo-code.rst'],1,0e6e791d68bef3a4a001dbceaf3beb0a78cf0b68,goal-remove-incubated-oslo-code,* https://bugs.launchpad.net/congress/+bug/1618145 ,,2,0
openstack%2Fpython-blazarclient~master~I4e588a6cac86d954a5bb2c10e825de88cf06a777,openstack/python-blazarclient,master,I4e588a6cac86d954a5bb2c10e825de88cf06a777,use oslo.utils,MERGED,2016-11-11 03:49:51.000000000,2016-11-29 09:21:32.000000000,2016-11-29 09:21:32.000000000,"[{'_account_id': 3}, {'_account_id': 1894}, {'_account_id': 3012}, {'_account_id': 6482}, {'_account_id': 7075}, {'_account_id': 7166}, {'_account_id': 7535}, {'_account_id': 8878}, {'_account_id': 9331}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 23840}]","[{'number': 1, 'created': '2016-11-11 03:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/81a7e38cf1a99fb1b595857ca3472f30b4a5e5cb', 'message': 'use oslo.utils\n\nChange-Id: I4e588a6cac86d954a5bb2c10e825de88cf06a777\n'}, {'number': 2, 'created': '2016-11-11 03:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/d9b1bd6d259783ce698b27db61f16b7312b5dc80', 'message': 'use oslo.utils\n\nMove over to the fancy new oslo utils library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nDeleted files that were no longer used.\n\nRemoved refernce to lockutils in tox.ini.\n\nChange-Id: I4e588a6cac86d954a5bb2c10e825de88cf06a777\n'}, {'number': 3, 'created': '2016-11-12 00:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/5f9282bdaad42e5ebc31a8138f1fd20d1a0c07b3', 'message': 'use oslo.utils\n\nMove over to the fancy new oslo utils library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nDeleted files that were no longer used.\n\nRemoved refernce to lockutils in tox.ini.\n\nChange-Id: I4e588a6cac86d954a5bb2c10e825de88cf06a777\n'}, {'number': 4, 'created': '2016-11-12 17:42:31.000000000', 'files': ['climateclient/openstack/common/lockutils.py', 'climateclient/openstack/common/fixture/moxstubout.py', 'climateclient/utils.py', 'climateclient/openstack/common/fileutils.py', 'climateclient/openstack/common/importutils.py', 'climateclient/client.py', 'climateclient/tests/test_client.py', 'requirements.txt', 'climateclient/openstack/common/jsonutils.py', 'climateclient/shell.py', 'climateclient/openstack/common/timeutils.py', 'climateclient/openstack/common/excutils.py', 'climateclient/openstack/common/fixture/lockutils.py', 'tox.ini', 'climateclient/openstack/common/strutils.py', 'climateclient/v1/leases.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/c62ef54c349c0f63aa4404feadb09c2c6aca025d', 'message': 'use oslo.utils\n\nMove over to the fancy new oslo utils library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nDeleted files that were no longer used.\n\nRemoved reference to lockutils in tox.ini.\n\nChange-Id: I4e588a6cac86d954a5bb2c10e825de88cf06a777\n'}]",5,396486,c62ef54c349c0f63aa4404feadb09c2c6aca025d,21,12,4,6482,,,0,"use oslo.utils

Move over to the fancy new oslo utils library.

Removing openstack/common from all OpenStack code in favor of the
Oslo libraries is a project wide goal for the Ocata release.

Deleted files that were no longer used.

Removed reference to lockutils in tox.ini.

Change-Id: I4e588a6cac86d954a5bb2c10e825de88cf06a777
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/86/396486/1 && git format-patch -1 --stdout FETCH_HEAD,"['climateclient/openstack/common/lockutils.py', 'climateclient/openstack/common/fixture/moxstubout.py', 'climateclient/utils.py', 'climateclient/openstack/common/fileutils.py', 'climateclient/openstack/common/importutils.py', 'climateclient/client.py', 'climateclient/tests/test_client.py', 'requirements.txt', 'climateclient/openstack/common/jsonutils.py', 'climateclient/shell.py', 'climateclient/openstack/common/timeutils.py', 'climateclient/openstack/common/excutils.py', 'climateclient/openstack/common/fixture/lockutils.py', 'tox.ini', 'climateclient/openstack/common/strutils.py', 'climateclient/v1/leases.py']",16,81a7e38cf1a99fb1b595857ca3472f30b4a5e5cb,goal-remove-incubated-oslo-code,from oslo_utils import timeutils ,from climateclient.openstack.common import timeutils,12,1307
openstack%2Fpython-vitrageclient~master~I39239acbffa3aea8146d0d3d8f47ed4814d4a1bb,openstack/python-vitrageclient,master,I39239acbffa3aea8146d0d3d8f47ed4814d4a1bb,support osc,MERGED,2016-11-29 09:13:46.000000000,2016-11-29 09:21:16.000000000,2016-11-29 09:21:16.000000000,"[{'_account_id': 3}, {'_account_id': 19134}]","[{'number': 1, 'created': '2016-11-29 09:13:46.000000000', 'files': ['vitrageclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/748b18d6b39b2ffdabaf8901f16c75deaeab8344', 'message': 'support osc\n\nChange-Id: I39239acbffa3aea8146d0d3d8f47ed4814d4a1bb\n'}]",0,404100,748b18d6b39b2ffdabaf8901f16c75deaeab8344,6,2,1,19134,,,0,"support osc

Change-Id: I39239acbffa3aea8146d0d3d8f47ed4814d4a1bb
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/00/404100/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrageclient/common/utils.py'],1,748b18d6b39b2ffdabaf8901f16c75deaeab8344,eyalb/osc, return obj.app.client_manager.rca, return obj.app.client_manager.metric,1,1
openstack%2Fnova~master~I603558c08d540aa53918252a0a9a050701456f5a,openstack/nova,master,I603558c08d540aa53918252a0a9a050701456f5a,[placement] increase gabbi coverage of handlers.inventory,MERGED,2016-11-10 19:04:14.000000000,2016-11-29 09:19:36.000000000,2016-11-23 23:11:17.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 18335}, {'_account_id': 19298}]","[{'number': 1, 'created': '2016-11-10 19:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26fbe17da7ebb5a2cb79d1304485f526e7a6a3d6', 'message': '[placement] increase gabbi coverage of handlers.inventory\n\nTest for correctly formed but invalid data when creating an Inventory.\nThis increases the coverage of the inventory handler from gabbi.\n\nRace condition and ConcurrentUpdateDetected scenarios are not\ncovered as those are hard to cause from a gabbi test.\n\nChange-Id: I603558c08d540aa53918252a0a9a050701456f5a\n'}, {'number': 2, 'created': '2016-11-22 15:48:07.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d00d1e8c9d80e6b9f7c41342edb2d5359c616d', 'message': '[placement] increase gabbi coverage of handlers.inventory\n\nTest for correctly formed but invalid data when creating an Inventory.\nThis increases the coverage of the inventory handler from gabbi.\n\nRace condition and ConcurrentUpdateDetected scenarios are not\ncovered as those are hard to cause from a gabbi test.\n\nChange-Id: I603558c08d540aa53918252a0a9a050701456f5a\n'}]",0,396364,d8d00d1e8c9d80e6b9f7c41342edb2d5359c616d,33,12,2,11564,,,0,"[placement] increase gabbi coverage of handlers.inventory

Test for correctly formed but invalid data when creating an Inventory.
This increases the coverage of the inventory handler from gabbi.

Race condition and ConcurrentUpdateDetected scenarios are not
covered as those are hard to cause from a gabbi test.

Change-Id: I603558c08d540aa53918252a0a9a050701456f5a
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/396364/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml'],1,26fbe17da7ebb5a2cb79d1304485f526e7a6a3d6,cd/placement-coverage,- name: post an invalid inventory POST: /resource_providers/$ENVIRON['RP_UUID']/inventories request_headers: content-type: application/json data: resource_class: DISK_GB total: -1 status: 400 response_strings: - Bad inventory DISK_GB for resource provider $ENVIRON['RP_UUID'] ,,11,0
openstack%2Fsenlin~master~If1e154c2610c94dc7694454ee371155314785f64,openstack/senlin,master,If1e154c2610c94dc7694454ee371155314785f64,[DNM]Test for gate,ABANDONED,2016-11-07 02:11:49.000000000,2016-11-29 09:18:07.000000000,,"[{'_account_id': 3}, {'_account_id': 11034}]","[{'number': 1, 'created': '2016-11-07 02:11:49.000000000', 'files': ['senlin/__init__.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/5f460937f04ee5d1662b203ac3106d7d35108c0e', 'message': ""[DNM]Test for gate\n\nIntegration test failed. This is a patch for test. Please\ndon't merge it.\n\nChange-Id: If1e154c2610c94dc7694454ee371155314785f64\n""}]",0,394229,5f460937f04ee5d1662b203ac3106d7d35108c0e,11,2,1,11034,,,0,"[DNM]Test for gate

Integration test failed. This is a patch for test. Please
don't merge it.

Change-Id: If1e154c2610c94dc7694454ee371155314785f64
",git fetch https://review.opendev.org/openstack/senlin refs/changes/29/394229/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/__init__.py'],1,5f460937f04ee5d1662b203ac3106d7d35108c0e,test-gate, # For test,,2,0
openstack%2Fproject-config~master~Ia0716bdfb5dcefa92ff4d06df8e96f19ea47c4b6,openstack/project-config,master,Ia0716bdfb5dcefa92ff4d06df8e96f19ea47c4b6,Adjust filters for OpenStack-Ansible trusty/xenial jobs,MERGED,2016-11-28 12:58:31.000000000,2016-11-29 09:17:37.000000000,2016-11-29 09:17:36.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 2799}, {'_account_id': 6547}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-11-28 12:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/87c540af39e9b7236df390bd711319d5735ba9c4', 'message': 'Adjust filters for OpenStack-Ansible trusty/xenial jobs\n\nCurrently the filters are not working as expected. For the\nopenstack-ansible repository both the xenial voting and\nnon-voting jobs are running for master, but only the voting\none should be. For stable/newton the trusty and both xenial\nvoting and non-voting jobs are running, whereas it should\nonly be trusty and xenian-nv for the branch.\n\nThis patch re-orders the filters so that the inclusions come\nfirst, then the skips afterwards. The inclusion of the\nxenial-nv job is very specifically applied to the repository\nand branch combination.\n\nIn additionl to this a skip is added for the other repositories\nto ensure that no trusty jobs execute for them for branches\nnewer than newton.\n\nChange-Id: Ia0716bdfb5dcefa92ff4d06df8e96f19ea47c4b6\n'}, {'number': 2, 'created': '2016-11-28 13:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/750625a1261f9c56512eb207732d2979098379e1', 'message': 'Adjust filters for OpenStack-Ansible trusty/xenial jobs\n\nCurrently the filters are not working as expected. For the\nopenstack-ansible repository both the xenial voting and\nnon-voting jobs are running for master, but only the voting\none should be. For stable/newton the trusty and both xenial\nvoting and non-voting jobs are running, whereas it should\nonly be trusty and xenian-nv for the branch.\n\nThis patch re-orders the filters so that the inclusions come\nfirst, then the skips afterwards. The inclusion of the\nxenial-nv job is very specifically applied to the repository\nand branch combination.\n\nChange-Id: Ia0716bdfb5dcefa92ff4d06df8e96f19ea47c4b6\n'}, {'number': 3, 'created': '2016-11-28 14:18:53.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/52a6f50f4f0c34ebd741a03d2d994c7049e98591', 'message': 'Adjust filters for OpenStack-Ansible trusty/xenial jobs\n\nCurrently the filters are not working as expected. For the\nopenstack-ansible repository both the xenial voting and\nnon-voting jobs are running for master, but only the voting\none should be. For stable/newton the trusty and both xenial\nvoting and non-voting jobs are running, whereas it should\nonly be trusty and xenian-nv for the branch.\n\nThis patch re-orders the filters so that the inclusions come\nfirst, then the skips afterwards. The inclusion of the\nxenial-nv job is very specifically applied to the repository\nand branch combination.\n\nChange-Id: Ia0716bdfb5dcefa92ff4d06df8e96f19ea47c4b6\n'}]",1,403676,52a6f50f4f0c34ebd741a03d2d994c7049e98591,15,5,3,6816,,,0,"Adjust filters for OpenStack-Ansible trusty/xenial jobs

Currently the filters are not working as expected. For the
openstack-ansible repository both the xenial voting and
non-voting jobs are running for master, but only the voting
one should be. For stable/newton the trusty and both xenial
voting and non-voting jobs are running, whereas it should
only be trusty and xenian-nv for the branch.

This patch re-orders the filters so that the inclusions come
first, then the skips afterwards. The inclusion of the
xenial-nv job is very specifically applied to the repository
and branch combination.

Change-Id: Ia0716bdfb5dcefa92ff4d06df8e96f19ea47c4b6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/403676/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,87c540af39e9b7236df390bd711319d5735ba9c4,openstack-ansible, # Run the OpenStack-Ansible non-voting aio scenario job on xenial for the # openstack-ansible repository if the branch is stable/newton. - name: ^gate-openstack-ansible-openstack-ansible-aio-ubuntu-xenial-nv$ branch: ^stable/newton$ # Skip the OpenStack-Ansible voting aio scenario job on xenial for the # openstack-ansible repository if the branch is anything before ocata. # Skip any OpenStack-Ansible jobs running on trusty for all repositories # if the branch is anything after newton. - name: ^gate-openstack-ansible-.*-ansible-.*-ubuntu-trusty.*$ branch: ^(?!(liberty|stable/(mitaka|newton))).*$ ," # For OpenStack-Ansible, skip the xenial voting job on all branches before # Ocata. Specifically for the AIO on the integrated build. # For OpenStack-Ansible, skip the xenial non-voting job on all branches # after Ocata. Specifically for the AIO on the integrated build. - name: ^gate-openstack-ansible-openstack-ansible-aio-ubuntu-xenial-nv$ branch: ^(liberty|stable/(mitaka|newton))$ ",12,7
openstack%2Fmistral~master~I942a4f1b4a65a4a607b284dd44be547ae41642ce,openstack/mistral,master,I942a4f1b4a65a4a607b284dd44be547ae41642ce,Initial commit for mistral-i18n support,MERGED,2016-11-28 11:45:43.000000000,2016-11-29 09:15:56.000000000,2016-11-29 09:15:56.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 18955}]","[{'number': 1, 'created': '2016-11-28 11:45:43.000000000', 'files': ['requirements.txt', 'mistral/_i18n.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/bdece6e60879ae82c79205281fdd24a938170f2f', 'message': 'Initial commit for mistral-i18n support\n\nAdding the _i18n.py file to use oslo.i18n libraries in mistral.\nAlso updating the requirements to support i18n.\n\nChange-Id: I942a4f1b4a65a4a607b284dd44be547ae41642ce\nPartial-Implements: blueprint mistral-i18n\n'}]",0,403639,bdece6e60879ae82c79205281fdd24a938170f2f,9,5,1,20863,,,0,"Initial commit for mistral-i18n support

Adding the _i18n.py file to use oslo.i18n libraries in mistral.
Also updating the requirements to support i18n.

Change-Id: I942a4f1b4a65a4a607b284dd44be547ae41642ce
Partial-Implements: blueprint mistral-i18n
",git fetch https://review.opendev.org/openstack/mistral refs/changes/39/403639/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'mistral/_i18n.py', 'tox.ini']",3,bdece6e60879ae82c79205281fdd24a938170f2f,bp/mistral-i18n,import_exceptions = mistral._i18n,,38,0
openstack%2Fmistral~master~I805b2d8c00470906960d554e8a4417cdad88e0d1,openstack/mistral,master,I805b2d8c00470906960d554e8a4417cdad88e0d1,Show team and repo badges on README,MERGED,2016-11-25 16:33:03.000000000,2016-11-29 09:15:50.000000000,2016-11-29 09:15:50.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 16237}, {'_account_id': 18955}]","[{'number': 1, 'created': '2016-11-25 16:33:03.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/ab5fe567608d6641d67d527069d0f90828560ca4', 'message': ""Show team and repo badges on README\n\nThis patch adds the team's and repository's badges to the README file.\nThe motivation behind this is to communicate the project status and\nfeatures at first glance.\n\nFor more information about this effort, please read this email thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html\n\nTo see an example of how this would look like check:\n\nhttps://gist.github.com/3c85e839149519888b6fc1b019030fd5\n\nChange-Id: I805b2d8c00470906960d554e8a4417cdad88e0d1\n""}]",0,403008,ab5fe567608d6641d67d527069d0f90828560ca4,10,6,1,6159,,,0,"Show team and repo badges on README

This patch adds the team's and repository's badges to the README file.
The motivation behind this is to communicate the project status and
features at first glance.

For more information about this effort, please read this email thread:

http://lists.openstack.org/pipermail/openstack-dev/2016-October/105562.html

To see an example of how this would look like check:

https://gist.github.com/3c85e839149519888b6fc1b019030fd5

Change-Id: I805b2d8c00470906960d554e8a4417cdad88e0d1
",git fetch https://review.opendev.org/openstack/mistral refs/changes/08/403008/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ab5fe567608d6641d67d527069d0f90828560ca4,project-badges,======================== Team and repository tags ======================== .. image:: http://governance.openstack.org/badges/mistral.svg :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ,,9,0
openstack%2Ffuel-nailgun-extension-iac~stable%2Fmitaka~Ie40441ba8be0c8177bb14b09598e099f55f1e141,openstack/fuel-nailgun-extension-iac,stable/mitaka,Ie40441ba8be0c8177bb14b09598e099f55f1e141,Adjusted README file,MERGED,2016-11-29 09:03:39.000000000,2016-11-29 09:14:57.000000000,2016-11-29 09:13:43.000000000,"[{'_account_id': 3}, {'_account_id': 7185}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-11-29 09:03:39.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/fuel-nailgun-extension-iac/commit/99d1bc311046d69733a5629859a573ae139f4ef6', 'message': 'Adjusted README file\n\nDocumented new git repository structure\n\nChange-Id: Ie40441ba8be0c8177bb14b09598e099f55f1e141\n'}]",0,404095,99d1bc311046d69733a5629859a573ae139f4ef6,10,3,1,7185,,,0,"Adjusted README file

Documented new git repository structure

Change-Id: Ie40441ba8be0c8177bb14b09598e099f55f1e141
",git fetch https://review.opendev.org/openstack/fuel-nailgun-extension-iac refs/changes/95/404095/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,99d1bc311046d69733a5629859a573ae139f4ef6,,"|-- cluster.yaml |-- nodes | `-- node-1.domain.local.yaml `-- roles |-- compute.yaml |-- controller.yaml `-- primary-controller.yamlThere are three levels of configuration: Cluster, Role, Node. Each level has higher priority in terms* Cluster - configuration parameters from all configs from this level will be applied to all nodesFor example we have following contents of the files# cat cluster.yaml configuration: nova_config: 'DEFAULT/nova_test': value: cluster_param 'DEFAULT/another_param': value: another_param_value # cat roles/primary-controller.yaml configuration: nova_config: 'DEFAULT/nova_test': value: controller_paramResulting configuration Hash will be:configuration: nova_config: 'DEFAULT/nova_test': value: controller_param 'DEFAULT/another_param': value: another_param_value","|-- controller_configs | `-- glance-api.conf |-- node_1_configs | `-- nova.conf |-- nova.conf |-- overrides.yaml `-- tools `-- show-config-for.pyThere are three levels of configuration: Global, Role, Node. Each level has higher priority in terms* Global - configuration parameters from all configs from this level will be applied to all nodesFor example we have ```nova.conf``` file with ```debug = True``` in Global level and ```nova.conf``` with ```debug = False``` in Role level. Resulting configuration will be:[DEFAULT] debug = FalseConfiguration files for Global level should be placed in repo root. Role and Node levels should be described in overrides.yaml placed in repo root directory using following formatnodes: '<node_id>': '<directory_name>' roles: '<role_name>': '<directory_name>'Example overrides.yaml ``` nodes: '1': node_1_configs '2': node_2_configs roles: 'cinder': 'cinder_configs' 'compute': 'compute_configs' 'controller': 'controller_configs' 'primary-controller': 'controller_configs' ``` Configuration files for Role and Node levels should be placed in corresponding directory described in overrides.yaml",30,33
openstack%2Fopenstack-manuals~master~I25c45fe6ce70ef90bed0c37ab64643b8dfe74a6e,openstack/openstack-manuals,master,I25c45fe6ce70ef90bed0c37ab64643b8dfe74a6e,Support type parameter of sphinx-build in builder scripts,ABANDONED,2016-11-28 11:58:55.000000000,2016-11-29 09:13:55.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 24184}]","[{'number': 1, 'created': '2016-11-28 11:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f3bf18205202fd8fc83b715c2429c6ef6ab8a15f', 'message': 'Support type parameter of sphinx-build in builder scripts\n\nTo build documents of type XY use the new --type parameter:\n\ntox -e docs -- --type xy\n\nGenerated documents can be found in the build/xy directories.\n\nTo build LaTeX documents use the new environment build-latex:\n\ntox -e build-latex\n\nChange-Id: I25c45fe6ce70ef90bed0c37ab64643b8dfe74a6e\n'}, {'number': 2, 'created': '2016-11-28 12:06:34.000000000', 'files': ['tools/build-install-guides-rst.sh', 'tools/build-rst.sh', 'README.rst', 'tools/build-all-rst.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b45d70994cb13beba5154692be7cf713f580a24a', 'message': 'Support type parameter of sphinx-build in builder scripts\n\nTo build documents of type XY use the new --type parameter:\n\ntox -e docs -- --type xy\n\nGenerated documents can be found in the build/xy directories.\n\nTo build LaTeX documents use the new environment build-latex:\n\ntox -e build-latex\n\nChange-Id: I25c45fe6ce70ef90bed0c37ab64643b8dfe74a6e\n'}]",8,403650,b45d70994cb13beba5154692be7cf713f580a24a,11,5,2,167,,,0,"Support type parameter of sphinx-build in builder scripts

To build documents of type XY use the new --type parameter:

tox -e docs -- --type xy

Generated documents can be found in the build/xy directories.

To build LaTeX documents use the new environment build-latex:

tox -e build-latex

Change-Id: I25c45fe6ce70ef90bed0c37ab64643b8dfe74a6e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/50/403650/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/build-install-guides-rst.sh', 'tools/build-rst.sh', 'README.rst', 'tools/build-all-rst.sh', 'tox.ini']",5,f3bf18205202fd8fc83b715c2429c6ef6ab8a15f,latex, {toxinidir}/tools/build-all-rst.sh {posargs} {toxinidir}/tools/build-install-guides-rst.sh {posargs} {toxinidir}/tools/build-install-guides-rst.sh debconf {posargs} {toxinidir}/tools/build-install-guides-rst.sh debian {posargs} {toxinidir}/tools/build-install-guides-rst.sh obs {posargs} {toxinidir}/tools/build-install-guides-rst.sh rdo {posargs} {toxinidir}/tools/build-install-guides-rst.sh ubuntu {posargs} --target [testenv:build-latex] commands = {toxinidir}/tools/build-rst.sh \ doc/{posargs} \ --build build \ --type latex \ --target, {toxinidir}/tools/build-all-rst.sh {toxinidir}/tools/build-install-guides-rst.sh {toxinidir}/tools/build-install-guides-rst.sh debconf {toxinidir}/tools/build-install-guides-rst.sh debian {toxinidir}/tools/build-install-guides-rst.sh obs {toxinidir}/tools/build-install-guides-rst.sh rdo {toxinidir}/tools/build-install-guides-rst.sh ubuntu --target {posargs},74,26
openstack%2Fopenstack-ansible-galera_client~master~I00d662a8afc7ddd4778787d31dc394a0ea3b1401,openstack/openstack-ansible-galera_client,master,I00d662a8afc7ddd4778787d31dc394a0ea3b1401,Allow galera_client role to skip package installs,MERGED,2016-11-28 20:13:37.000000000,2016-11-29 09:10:35.000000000,2016-11-29 09:10:35.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 10881}, {'_account_id': 14805}]","[{'number': 1, 'created': '2016-11-28 20:13:37.000000000', 'files': ['tasks/galera_client_install.yml', 'releasenotes/notes/galera-client-package-install-fd34423e293f5d8b.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/c13983adce55a1eaeb11b75d0187fac806c14f65', 'message': ""Allow galera_client role to skip package installs\n\nThis patch adds the galera_client_package_install option which allows\nthe deployer to skip the installation of the galera_client packages, and\nsimply set up the /root/.my.cnf configuration file.\n\nThis is useful for deploying the client on hosts that already have\ngalera client configured, but still want the client configuration setup.\nFor example the galera_server role which can have a conflict when the\nclient and server repository version don't match.\n\nChange-Id: I00d662a8afc7ddd4778787d31dc394a0ea3b1401\n""}]",0,403880,c13983adce55a1eaeb11b75d0187fac806c14f65,8,4,1,2799,,,0,"Allow galera_client role to skip package installs

This patch adds the galera_client_package_install option which allows
the deployer to skip the installation of the galera_client packages, and
simply set up the /root/.my.cnf configuration file.

This is useful for deploying the client on hosts that already have
galera client configured, but still want the client configuration setup.
For example the galera_server role which can have a conflict when the
client and server repository version don't match.

Change-Id: I00d662a8afc7ddd4778787d31dc394a0ea3b1401
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/80/403880/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_client_install.yml', 'releasenotes/notes/galera-client-package-install-fd34423e293f5d8b.yaml', 'defaults/main.yml']",3,c13983adce55a1eaeb11b75d0187fac806c14f65,,galera_client_package_install: true,,14,0
openstack%2Ffuel-nailgun-extension-iac~master~Ie40441ba8be0c8177bb14b09598e099f55f1e141,openstack/fuel-nailgun-extension-iac,master,Ie40441ba8be0c8177bb14b09598e099f55f1e141,Adjusted README file,MERGED,2016-11-28 13:06:54.000000000,2016-11-29 09:09:43.000000000,2016-11-29 09:08:22.000000000,"[{'_account_id': 3}, {'_account_id': 7185}, {'_account_id': 20656}, {'_account_id': 20835}]","[{'number': 1, 'created': '2016-11-28 13:06:54.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/fuel-nailgun-extension-iac/commit/bbf94e349198f3af1cd50e5fbe9900ee2d4c4d36', 'message': 'Adjusted README file\n\nDocumented new git repository structure\n\nChange-Id: Ie40441ba8be0c8177bb14b09598e099f55f1e141\n'}]",0,403685,bbf94e349198f3af1cd50e5fbe9900ee2d4c4d36,12,4,1,7185,,,0,"Adjusted README file

Documented new git repository structure

Change-Id: Ie40441ba8be0c8177bb14b09598e099f55f1e141
",git fetch https://review.opendev.org/openstack/fuel-nailgun-extension-iac refs/changes/85/403685/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,bbf94e349198f3af1cd50e5fbe9900ee2d4c4d36,,"|-- cluster.yaml |-- nodes | `-- node-1.domain.local.yaml `-- roles |-- compute.yaml |-- controller.yaml `-- primary-controller.yamlThere are three levels of configuration: Cluster, Role, Node. Each level has higher priority in terms* Cluster - configuration parameters from all configs from this level will be applied to all nodesFor example we have following contents of the files# cat cluster.yaml configuration: nova_config: 'DEFAULT/nova_test': value: cluster_param 'DEFAULT/another_param': value: another_param_value # cat roles/primary-controller.yaml configuration: nova_config: 'DEFAULT/nova_test': value: controller_paramResulting configuration Hash will be:configuration: nova_config: 'DEFAULT/nova_test': value: controller_param 'DEFAULT/another_param': value: another_param_value","|-- controller_configs | `-- glance-api.conf |-- node_1_configs | `-- nova.conf |-- nova.conf |-- overrides.yaml `-- tools `-- show-config-for.pyThere are three levels of configuration: Global, Role, Node. Each level has higher priority in terms* Global - configuration parameters from all configs from this level will be applied to all nodesFor example we have ```nova.conf``` file with ```debug = True``` in Global level and ```nova.conf``` with ```debug = False``` in Role level. Resulting configuration will be:[DEFAULT] debug = FalseConfiguration files for Global level should be placed in repo root. Role and Node levels should be described in overrides.yaml placed in repo root directory using following formatnodes: '<node_id>': '<directory_name>' roles: '<role_name>': '<directory_name>'Example overrides.yaml ``` nodes: '1': node_1_configs '2': node_2_configs roles: 'cinder': 'cinder_configs' 'compute': 'compute_configs' 'controller': 'controller_configs' 'primary-controller': 'controller_configs' ``` Configuration files for Role and Node levels should be placed in corresponding directory described in overrides.yaml",30,33
openstack%2Foslo.vmware~master~I156e2b4fb9a8355848947ec9dbb6abf014588fdf,openstack/oslo.vmware,master,I156e2b4fb9a8355848947ec9dbb6abf014588fdf,Add 'uncommitted' field to the 'Datastore' class,MERGED,2016-11-25 13:42:24.000000000,2016-11-29 09:09:25.000000000,2016-11-28 14:47:39.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5638}, {'_account_id': 9008}]","[{'number': 1, 'created': '2016-11-25 13:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/c1244d09c195a19dbb6e645a4001e69e6cb0902d', 'message': ""Add 'uncommitted' field to the 'Datastore' class\n\nThe 'uncommitted' field is in official API, but not in our Datastore\nclass, we need it to compute the amount of provisioned space:\n\nprovisionedSpace = Capacity - freeSpace - uncommitted\n\nSo a `uncommitted` keyword argument has to be added to the Datastore\nclass.\n\nChange-Id: I156e2b4fb9a8355848947ec9dbb6abf014588fdf\nCloses-Bug: #1643569\n""}, {'number': 2, 'created': '2016-11-25 13:54:08.000000000', 'files': ['oslo_vmware/objects/datastore.py', 'oslo_vmware/tests/objects/test_datastore.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/2c2956ed3306561055f07f1af386511bb852705e', 'message': ""Add 'uncommitted' field to the 'Datastore' class\n\nThe 'uncommitted' field is in official API, but currently not in our\nDatastore class, we need it to compute the amount of provisioned space:\n\nprovisionedSpace = Capacity - freeSpace - uncommitted\n\nSo a `uncommitted` keyword argument has to be added to the Datastore\nclass.\n\nChange-Id: I156e2b4fb9a8355848947ec9dbb6abf014588fdf\nCloses-Bug: #1643569\n""}]",0,402601,2c2956ed3306561055f07f1af386511bb852705e,10,4,2,21479,,,0,"Add 'uncommitted' field to the 'Datastore' class

The 'uncommitted' field is in official API, but currently not in our
Datastore class, we need it to compute the amount of provisioned space:

provisionedSpace = Capacity - freeSpace - uncommitted

So a `uncommitted` keyword argument has to be added to the Datastore
class.

Change-Id: I156e2b4fb9a8355848947ec9dbb6abf014588fdf
Closes-Bug: #1643569
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/01/402601/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_vmware/objects/datastore.py', 'oslo_vmware/tests/objects/test_datastore.py']",2,c1244d09c195a19dbb6e645a4001e69e6cb0902d,bug/1643569," ""fake_ref"", ""ds_name"", 2 * units.Gi, 1 * units.Gi, 1 * units.Gi) self.assertEqual(1 * units.Gi, ds.uncommitted)"," ""fake_ref"", ""ds_name"", 2 * units.Gi, 1 * units.Gi)",10,3
openstack%2Fnova~master~I7241f93c9a23b0db2e095361c33d00a398055636,openstack/nova,master,I7241f93c9a23b0db2e095361c33d00a398055636,Block updating o.vo fields only DB related,ABANDONED,2016-11-28 13:25:46.000000000,2016-11-29 09:08:12.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-28 13:25:46.000000000', 'files': ['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62ad4516b1704b7dbf41bf0fe3b018d655070891', 'message': 'Block updating o.vo fields only DB related\n\nSome NovaPersistentObject fields are only needed for knowing the status from\nthe DB, but they should not be updated by modifying the NovaObject which would\ncreate some problems. For example, the deleted field in NovaPersistentObject\nshould only be modified by an oslo.db method call, and should never be updated\nby modifying the field and then saving the object.\n\nChange-Id: I7241f93c9a23b0db2e095361c33d00a398055636\nRelated-Bug: #1644513\n'}]",0,403694,62ad4516b1704b7dbf41bf0fe3b018d655070891,15,13,1,7166,,,0,"Block updating o.vo fields only DB related

Some NovaPersistentObject fields are only needed for knowing the status from
the DB, but they should not be updated by modifying the NovaObject which would
create some problems. For example, the deleted field in NovaPersistentObject
should only be modified by an oslo.db method call, and should never be updated
by modifying the field and then saving the object.

Change-Id: I7241f93c9a23b0db2e095361c33d00a398055636
Related-Bug: #1644513
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/403694/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py']",2,62ad4516b1704b7dbf41bf0fe3b018d655070891,bug/1644513," def test_readonly_NovaPersistentObject(self): obj = MyOwnedObject() self.assertIsInstance(obj, base.NovaPersistentObject) for field in ['deleted', 'created_at', 'deleted_at']: self.assertTrue(obj.fields[field].read_only) ",,9,3
openstack%2Fnova~master~If420fd3d44923f337a5bc383ff13c4a60d73ff84,openstack/nova,master,If420fd3d44923f337a5bc383ff13c4a60d73ff84,Fix instance creation problem with postgre,ABANDONED,2016-11-25 16:39:48.000000000,2016-11-29 09:07:36.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-25 16:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b500cb5c02f176422f48709067a71af0fab1072', 'message': 'Fix instance creation problem with postgre\n\nWe recently merged I60abcd4f27dc877c4e420071be77c9fdb697ad99 which was setting\nall the instance-related fields from the BuildRequest and then was persisting it.\n\nUnfortunately, instance.deleted is treated as special case because the object\nfacade is providing a boolean type (because the user really wants to know whether\nthe instance is deleted or not, and not a stupid ID) so we need to consider\nnot persisting it.\n\nChange-Id: If420fd3d44923f337a5bc383ff13c4a60d73ff84\nCloses-Bug: #1644513\n'}, {'number': 2, 'created': '2016-11-25 18:09:35.000000000', 'files': ['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/70ded9917123464eef5031c9eecabd7f3419530e', 'message': 'Fix instance creation problem with postgre\n\nWe recently merged I60abcd4f27dc877c4e420071be77c9fdb697ad99 which was setting\nall the instance-related fields from the BuildRequest and then was persisting it.\n\nUnfortunately, instance.deleted is treated as special case because the object\nfacade is providing a boolean type (because the user really wants to know whether\nthe instance is deleted or not, and not a stupid ID) so we need to consider\nnot persisting it.\n\nChange-Id: If420fd3d44923f337a5bc383ff13c4a60d73ff84\nCloses-Bug: #1644513\n'}]",6,403035,70ded9917123464eef5031c9eecabd7f3419530e,30,16,2,7166,,,0,"Fix instance creation problem with postgre

We recently merged I60abcd4f27dc877c4e420071be77c9fdb697ad99 which was setting
all the instance-related fields from the BuildRequest and then was persisting it.

Unfortunately, instance.deleted is treated as special case because the object
facade is providing a boolean type (because the user really wants to know whether
the instance is deleted or not, and not a stupid ID) so we need to consider
not persisting it.

Change-Id: If420fd3d44923f337a5bc383ff13c4a60d73ff84
Closes-Bug: #1644513
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/403035/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py']",2,7b500cb5c02f176422f48709067a71af0fab1072,bug/1644513," if field == 'deleted': # Deleted is not persisted continue self.assertIn(field, instance.obj_what_changed())"," self.assertIn(field, instance.obj_what_changed())",8,1
openstack%2Fmistral~master~Ib0ede7a119bb57108141e50722928d53dd904d5f,openstack/mistral,master,Ib0ede7a119bb57108141e50722928d53dd904d5f,Updated the retries_remain statement,MERGED,2016-10-07 09:54:39.000000000,2016-11-29 09:07:34.000000000,2016-11-29 09:07:34.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 19206}, {'_account_id': 20863}]","[{'number': 1, 'created': '2016-10-07 09:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6fcfaa98b5e3517c25a93bb96b65e83c725c5e12', 'message': 'Updated the retries_remain statement\n\nIf the task is specified with number of retries as 1, then it is\nnot retried on error. So, this patch changes the statement of\nretries_remain to consider 1 as a value for retry.\n\nChange-Id: Ib0ede7a119bb57108141e50722928d53dd904d5f\nCloses-Bug: #1631140\n'}, {'number': 2, 'created': '2016-11-21 11:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/229083c0ed0e9fcd3bb1ed4410c6a8167924defd', 'message': 'Updated the retries_remain statement\n\nIf the task is specified with number of retries as 1, then it is\nnot retried on error. So, this patch changes the statement of\nretries_remain to consider 1 as a value for retry.\n\nChange-Id: Ib0ede7a119bb57108141e50722928d53dd904d5f\nCloses-Bug: #1631140\n'}, {'number': 3, 'created': '2016-11-22 12:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c7d3d14f5f4adaee1a690b5107300cc226885a87', 'message': 'Updated the retries_remain statement\n\nIf the task is specified with number of retries as 1, then it is\nnot retried on error. So, this patch changes the statement of\nretries_remain to consider 1 as a value for retry.\n\nChange-Id: Ib0ede7a119bb57108141e50722928d53dd904d5f\nCloses-Bug: #1631140\n'}, {'number': 4, 'created': '2016-11-22 14:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/98b0049888e6f1d13bf34b2080dea751fb7e5f62', 'message': 'Updated the retries_remain statement\n\nIf the task is specified with number of retries as 1, then it is\nnot retried on error. So, this patch changes the statement of\nretries_remain to consider 1 as a value for retry.\n\nChange-Id: Ib0ede7a119bb57108141e50722928d53dd904d5f\nCloses-Bug: #1631140\n'}, {'number': 5, 'created': '2016-11-23 11:21:30.000000000', 'files': ['mistral/tests/unit/engine/test_policies.py', 'mistral/engine/policies.py', 'mistral/tests/unit/engine/test_with_items.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2842415f09c3a6e64fc1a3ef63885f9622b1bdf1', 'message': 'Updated the retries_remain statement\n\nIf the task is specified with number of retries as 1, then it is\nnot retried on error. So, this patch changes the statement of\nretries_remain to consider 1 as a value for retry.\n\nChange-Id: Ib0ede7a119bb57108141e50722928d53dd904d5f\nCloses-Bug: #1631140\n'}]",7,383617,2842415f09c3a6e64fc1a3ef63885f9622b1bdf1,38,7,5,20863,,,0,"Updated the retries_remain statement

If the task is specified with number of retries as 1, then it is
not retried on error. So, this patch changes the statement of
retries_remain to consider 1 as a value for retry.

Change-Id: Ib0ede7a119bb57108141e50722928d53dd904d5f
Closes-Bug: #1631140
",git fetch https://review.opendev.org/openstack/mistral refs/changes/17/383617/5 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/policies.py'],1,6fcfaa98b5e3517c25a93bb96b65e83c725c5e12,bug/1631140, retries_remain = retry_no + 1 <= self.count, retries_remain = retry_no + 1 < self.count,1,1
openstack%2Ftooz~master~Ibe8665e60b2709eb4cc1f85ad4f6c04908182fc2,openstack/tooz,master,Ibe8665e60b2709eb4cc1f85ad4f6c04908182fc2,"Replace 'assertTrue(a in b)' with 'assertIn(a, b)' and 'assertFalse(a in b)' with 'assertNotIn(a, b)'",MERGED,2016-11-18 08:27:54.000000000,2016-11-29 08:54:29.000000000,2016-11-29 08:54:29.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2813}]","[{'number': 1, 'created': '2016-11-18 08:27:54.000000000', 'files': ['tooz/tests/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/20527f6c2dcfb9332a93afc734faeb1acbeacdf1', 'message': ""Replace 'assertTrue(a in b)' with 'assertIn(a, b)' and 'assertFalse(a in\nb)' with 'assertNotIn(a, b)'\n\n1. Replace 'assertTrue(a in b)' with 'assertIn(a, b)'.\n2. Replace 'assertTrue(a not in b)' with 'assertNotIn(a, b)'.\n3. Replace 'assertFalse(a in b)' with 'assertNotIn(a, b)'.\n\nTrivial fix.\n\nChange-Id: Ibe8665e60b2709eb4cc1f85ad4f6c04908182fc2\n""}]",0,399432,20527f6c2dcfb9332a93afc734faeb1acbeacdf1,7,3,1,23303,,,0,"Replace 'assertTrue(a in b)' with 'assertIn(a, b)' and 'assertFalse(a in
b)' with 'assertNotIn(a, b)'

1. Replace 'assertTrue(a in b)' with 'assertIn(a, b)'.
2. Replace 'assertTrue(a not in b)' with 'assertNotIn(a, b)'.
3. Replace 'assertFalse(a in b)' with 'assertNotIn(a, b)'.

Trivial fix.

Change-Id: Ibe8665e60b2709eb4cc1f85ad4f6c04908182fc2
",git fetch https://review.opendev.org/openstack/tooz refs/changes/32/399432/1 && git format-patch -1 --stdout FETCH_HEAD,['tooz/tests/test_coordination.py'],1,20527f6c2dcfb9332a93afc734faeb1acbeacdf1,assert_fix," self.assertIn(self.group_id, all_group_ids) self.assertIn(self.group_id, all_group_ids) self.assertNotIn(self.group_id, all_group_ids) self.assertIn(self.member_id, member_list) self.assertIn(self.group_id, all_group_ids) self.assertIn(self.member_id, member_list) self.assertIn(self.member_id, member_ids) self.assertNotIn(self.member_id, new_member_list) self.assertNotIn(self.group_id, all_group_ids) self.assertIn(self.group_id, all_group_ids) self.assertIn(self.member_id, members_ids) self.assertIn(member_id_test2, members_ids) self.assertIn(self.member_id, members_ids) self.assertIn(member_id_test2, members_ids) self.assertIn(self.member_id, members_ids) self.assertNotIn(member_id_test2, members_ids) self.assertIn(self.member_id, members_ids) self.assertIn(member_id_test2, members_ids) self.assertIn(self.member_id, members_ids) self.assertNotIn(member_id_test2, members_ids) self.assertIn(member_id_test2, members_ids)", self.assertTrue(self.group_id in all_group_ids) self.assertTrue(self.group_id in all_group_ids) self.assertFalse(self.group_id in all_group_ids) self.assertTrue(self.member_id in member_list) self.assertTrue(self.group_id in all_group_ids) self.assertTrue(self.member_id in member_list) self.assertTrue(self.member_id in member_ids) self.assertTrue(self.member_id not in new_member_list) self.assertTrue(self.group_id not in all_group_ids) self.assertTrue(self.group_id in all_group_ids) self.assertTrue(self.member_id in members_ids) self.assertTrue(member_id_test2 in members_ids) self.assertTrue(self.member_id in members_ids) self.assertTrue(member_id_test2 in members_ids) self.assertTrue(self.member_id in members_ids) self.assertTrue(member_id_test2 not in members_ids) self.assertTrue(self.member_id in members_ids) self.assertTrue(member_id_test2 in members_ids) self.assertTrue(self.member_id in members_ids) self.assertTrue(member_id_test2 not in members_ids) self.assertTrue(member_id_test2 in members_ids),21,21
openstack%2Ftooz~master~Ie69847e220f54f4e7afea859a66880056a0e8d9b,openstack/tooz,master,Ie69847e220f54f4e7afea859a66880056a0e8d9b,Add CONTRIBUTING.rst,MERGED,2016-11-18 08:46:30.000000000,2016-11-29 08:54:20.000000000,2016-11-29 08:54:19.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2813}]","[{'number': 1, 'created': '2016-11-18 08:46:30.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/tooz/commit/894c6a93cb0030e4c2d39e3a9b8b71db1eb3dce0', 'message': 'Add CONTRIBUTING.rst\n\nThis module has no CONTRIBUTING.rst file, so add it!\n\nChange-Id: Ie69847e220f54f4e7afea859a66880056a0e8d9b\n'}]",0,399443,894c6a93cb0030e4c2d39e3a9b8b71db1eb3dce0,7,3,1,23303,,,0,"Add CONTRIBUTING.rst

This module has no CONTRIBUTING.rst file, so add it!

Change-Id: Ie69847e220f54f4e7afea859a66880056a0e8d9b
",git fetch https://review.opendev.org/openstack/tooz refs/changes/43/399443/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,894c6a93cb0030e4c2d39e3a9b8b71db1eb3dce0,add_contribute_file,"If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/python-tooz/ ",,17,0
